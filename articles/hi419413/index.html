<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЦкя╕П тЬЛ ЁЯСА рдЫреЗрдиреА - (рдХрд╛рдлреА рдирд╣реАрдВ) рдбрд┐рдЬрд┐рдЯрд▓ рддрд░реНрдХ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдг ЁЯМ╖ ЁЯФп ЁЯжЕ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдорд╛рдЗрдХреНрд░реЛрдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╕рд╛рде, рдЖрд░рдЯреАрдПрд▓ рдбрд┐рдЬрд╛рдЗрди рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛ рдЧрдП рд╣реИрдВред рд╡реЗрд░рд┐рд▓реЙрдЧ рдХреЛрдб рдХреА рдкреБрди: рдкреНрд░рдпреЛрдЬреНрдп рдмрд╣реБрдд рд╕рд╛рд░реА рдЕрд╕реБрд╡рд┐рдзрд╛ рд╣реИ, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЙрддреНрдкрдиреНрди, рдореИ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЫреЗрдиреА - (рдХрд╛рдлреА рдирд╣реАрдВ) рдбрд┐рдЬрд┐рдЯрд▓ рддрд░реНрдХ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдг</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419413/"><p><img src="https://habrastorage.org/webt/ka/wc/b5/kawcb52amqtfs9chlivqku8sj-a.jpeg"></p><br><p>  рдорд╛рдЗрдХреНрд░реЛрдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╕рд╛рде, рдЖрд░рдЯреАрдПрд▓ рдбрд┐рдЬрд╛рдЗрди рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛ рдЧрдП рд╣реИрдВред  рд╡реЗрд░рд┐рд▓реЙрдЧ рдХреЛрдб рдХреА рдкреБрди: рдкреНрд░рдпреЛрдЬреНрдп рдмрд╣реБрдд рд╕рд╛рд░реА рдЕрд╕реБрд╡рд┐рдзрд╛ рд╣реИ, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЙрддреНрдкрдиреНрди, рдореИрдХреНрд░реЛрдЬрд╝ рдФрд░ рд╕рд┐рд╕реНрдЯрдо рд╡реЗрд░рд┐рд▓реЙрдЧ рдЪрд┐рдкреНрд╕ рдХреЗ рд╕рд╛рде рднреАред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЫреЗрдиреА, rtl рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдСрдмреНрдЬреЗрдХреНрдЯ рдФрд░ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХреА рдкреВрд░реА рд╢рдХреНрддрд┐ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рд╕рдВрднрд╡ рдмрдирд╛рддрд╛ рд╣реИ, рдЬреЛ рдПрдХ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдкреНрд░рддреАрдХреНрд╖рд┐рдд рдХрджрдо рд╣реИ рдЬреЛ рдПрдПрд╕рдЖрдИрд╕реА рдФрд░ рдПрдлрдкреАрдЬреАрдП рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рдлреЗрдлрдбрд╝реЛрдВ рдХреЛ рддрд╛рдЬреА рд╣рд╡рд╛ рд╕реЗ рднрд░ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдпрд╣ рд▓реЗрдЦ рдореБрдЦреНрдп рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╡рд┐рд╡рд░рдг рджреЗрдЧрд╛ рдФрд░ рдЙрдкрдпреЛрдЧ рдХреЗ рдХреБрдЫ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдорд╛рдорд▓реЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдЧрд╛, рд╣рдо рдЗрд╕ рднрд╛рд╖рд╛ рдХреА рдХрдорд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдмрд╛рдд рдХрд░реЗрдВрдЧреЗред  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рдпрджрд┐ рд╡рд┐рд╖рдп рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ, рддреЛ рд╣рдо рд▓реЗрдЦ рдХреЛ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рдЬрд╛рд░реА рд░рдЦрддреЗ рд╣реИрдВред </p><a name="habracut"></a><br><h3 id="sistemnye-trebovaniya">  рд╕рд┐рд╕реНрдЯрдо рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ </h3><br><ul><li>  рд╕реНрдХреЗрд▓рд╛ рдмреЗрд╕ рд▓реЗрд╡рд▓ </li><li>  verilog рдФрд░ рдбрд┐рдЬрд┐рдЯрд▓ рдбрд┐рдЬрд╛рдЗрди рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рдореВрд▓ рд╕рд┐рджреНрдзрд╛рдВрддред </li><li>  рдЫреЗрдиреА рдкреНрд░рд▓реЗрдЦрди рд░рдЦреЗрдВ </li></ul><br><p>  рдореИрдВ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЫреЗрдиреА рдХреА рдореВрд▓ рдмрд╛рддреЗрдВ рд╕рдордЭрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдХреБрдЫ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╕реНрдХреИрд▓рд╛ рдХреЗ рд▓рд┐рдП, рдпрд╣ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдзреЛрдЦрд╛ рд╢реАрдЯ</a> рдПрдХ рддреНрд╡рд░рд┐рдд рдЧреЛрддрд╛ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддреА рд╣реИред </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЫреЗрдиреА рдХреЗ рд▓рд┐рдП рдПрдХ</a> рд╕рдорд╛рди рд╣реИред </p><br><p>  рдкреВрд░реНрдг рд▓реЗрдЦ рдХреЛрдб (scala sbt рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ рдкрд╛рдпрд╛</a> рдЬрд╛ рд╕рдХрддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред </p><br><h3 id="prostoy-schetchik">  рд╕рд░рд▓ рдХрд╛рдЙрдВрдЯрд░ </h3><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдирд╛рдо рд╕реЗ рд╣реА рд╕реНрдкрд╖реНрдЯ рд╣реИ, In рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд┐рдВрдЧ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЗрди рдП рд╕реНрдХрд╛рд▓рд╛ рдПрдВрдмреЗрдбреЗрдб рд▓реИрдВрдЧреНрд╡реЗрдЬ тАЩрдЫреЗрдиреА рдПрдХ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрд╢рди рд▓реИрдВрдЧреНрд╡реЗрдЬ рд╣реИ рдЬреЛ рд╕реНрдХреИрд▓рд╛ рдХреЗ рдКрдкрд░ рдирд┐рд░реНрдорд┐рдд рд╣реЛрддреА рд╣реИред </p><br><p>  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рд╕рдм рдХреБрдЫ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ: рдЫреЗрдиреА рдкрд░ rtl рд╡рд┐рд╡рд░рдг рд╕реЗ рдПрдХ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЧреНрд░рд╛рдл рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ рдмрджрд▓реЗ рдореЗрдВ, firrtl рднрд╛рд╖рд╛ рдореЗрдВ рдПрдХ рдордзреНрдпрд╡рд░реНрддреА рд╡рд┐рд╡рд░рдг рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдмреИрдХрдПрдВрдб рдХреЗ рдмрд╛рдж fttl verilog рд╕реЗ рджреБрднрд╛рд╖рд┐рдпрд╛ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИред </p><br><p>  рдЖрдЗрдП рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдХрд╛рдЙрдВрдЯрд░ рдХреЗ рджреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рджреЗрдЦреЗрдВред </p><br><p>  Verilog: </p><br><pre><code class="plaintext hljs">module SimpleCounter #( parameter WIDTH = 8 )( input clk, input reset, input wire enable, output wire [WIDTH-1:0] out ); reg [WIDTH-1:0] counter; assign out = counter; always @(posedge clk) if (reset) begin counter &lt;= {(WIDTH){1'b0}}; end else if (enable) begin counter &lt;= counter + 1; end endmodule</code> </pre> <br><p>  рдЫреЗрдиреА: </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCounter</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">width: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Bundle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> enable = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> out = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(width.<span class="hljs-type"><span class="hljs-type">W</span></span>)) }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> counter = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>(width.<span class="hljs-type"><span class="hljs-type">W</span></span>)) io.out &lt;&gt; counter when(io.enable) { counter := counter + <span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span> } }</code> </pre> <br><p>  рдЫреЗрдиреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рд╕рд╛: </p><br><ul><li>  <code>Module</code> - рдЖрд░рдЯреАрдПрд▓ рдореЙрдбреНрдпреВрд▓ рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП рдХрдВрдЯреЗрдирд░ </li><li>  <code>Bundle</code> рдЫреЗрдиреА рдореЗрдВ рдПрдХ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  <code>io</code> - рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдХреЗ рдирд┐рд░реНрдзрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдкрд░рд┐рд╡рд░реНрддрдирд╢реАрд▓ </li><li>  <code>Bool</code> - рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░, рд╕рд░рд▓ рдПрдХрд▓-рдмрд┐рдЯ рд╕рдВрдХреЗрдд </li><li>  <code>UInt(width: Width)</code> - рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдкреВрд░реНрдгрд╛рдВрдХ, рдирд┐рд░реНрдорд╛рдгрдХрд░реНрддрд╛ рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдХреЗрдд рдХреА рдереЛрдбрд╝реА рдЧрд╣рд░рд╛рдИ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред </li><li>  <code>RegInit[T &lt;: Data](init: T)</code> рдПрдХ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рд╣реИ, рдпрд╣ рдЗрдирдкреБрдЯ рдкрд░ рд░реАрд╕реЗрдЯ рдорд╛рди рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХрд╛ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рд╕рдорд╛рди рд╣реЛрддрд╛ рд╣реИред </li><li>  <code>&lt;&gt;</code> - рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рд╕рд┐рдЧреНрдирд▓ рдХрдиреЗрдХреНрд╢рди рдСрдкрд░реЗрдЯрд░ </li><li>  <code>when(cond: =&gt; Bool) { /*...*/ }</code> - <code>if</code> <code>when(cond: =&gt; Bool) { /*...*/ }</code> рдореЗрдВ рдПрдирд╛рд▓реЙрдЧ </li></ul><br><p>  рд╣рдо рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдХреМрди рд╕рд╛ рдмрд░рд╛рдорджрд╛ рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рдж рдЫреЗрдиреА рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИред  рдЕрдм рдЬрд░рд╛ рдЗрди рджреЛрдиреЛрдВ рдбрд┐рдЬрд╛рдЗрдиреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВред  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЫреЗрдиреА рдореЗрдВ <code>clk</code> рдФрд░ <code>reset</code> рд╕рдВрдХреЗрддреЛрдВ рдХрд╛ рдХреЛрдИ рдЙрд▓реНрд▓реЗрдЦ рдирд╣реАрдВ рд╣реИред  рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рдЫреЗрдиреА рдЗрди рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рдЬреЛрдбрд╝рддрд╛ рд╣реИред  <code>counter</code> рд░рдЬрд┐рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рд░реАрд╕реЗрдЯ рдорд╛рди <code>RegInit</code> рд░реАрд╕реЗрдЯ рдХреЗ рд╕рд╛рде рд░рдЬрд┐рд╕реНрдЯрд░ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдХреЛ рдкрд╛рд╕ рдХрд┐рдпрд╛ <code>RegInit</code> рд╣реИред  рдЫреЗрдиреА рдореЗрдВ рдХрдИ рдШрдбрд╝реА рд╕рдВрдХреЗрддреЛрдВ рдХреЗ рд╕рд╛рде рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рджред </p><br><h3 id="schetchik-chut-poslozhnee">  рдХрд╛рдЙрдВрдЯрд░ рдереЛрдбрд╝рд╛ рдФрд░ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ </h3><br><p>  рдЪрд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВ рдФрд░ рдХрд╛рд░реНрдп рдХреЛ рдереЛрдбрд╝рд╛ рдЬрдЯрд┐рд▓ рдХрд░рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП - рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рдЪреИрдирд▓ рдХреЗ рд▓рд┐рдП рдмрд┐рдЯреНрд╕ рдХреЗ рдЕрдиреБрдХреНрд░рдо рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдЗрдирдкреБрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд╕рд╛рде рдПрдХ рдорд▓реНрдЯреА-рдЪреИрдирд▓ рдХрд╛рдЙрдВрдЯрд░ рдмрдирд╛рддреЗ рд╣реИрдВред </p><br><p>  рдЪрд▓реЛ рдЕрдм рдЫреЗрдиреА рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MultiChannelCounter</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">width: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Seq</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params">] = </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Seq</span></span></span></span><span class="hljs-class"><span class="hljs-params">(32, 16, 8, 4</span></span></span><span class="hljs-class">)) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Bundle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> enable = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Vec</span></span>(width.length, <span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> out = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(width.sum.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getOut</span></span></span></span>(i: <span class="hljs-type"><span class="hljs-type">Int</span></span>): <span class="hljs-type"><span class="hljs-type">UInt</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> right = width.dropRight(width.length - i).sum <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.out(right + width(i) - <span class="hljs-number"><span class="hljs-number">1</span></span>, right) } }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> counters: <span class="hljs-type"><span class="hljs-type">Seq</span></span>[<span class="hljs-type"><span class="hljs-type">SimpleCounter</span></span>] = width.map(x =&gt; <span class="hljs-type"><span class="hljs-type">Module</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">SimpleCounter</span></span>(x)) ) io.out &lt;&gt; util.<span class="hljs-type"><span class="hljs-type">Cat</span></span>(counters.map(_.io.out)) width.indices.foreach { i =&gt; counters(i).io.enable &lt;&gt; io.enable(i) } }</code> </pre> <br><p>  рд╕реНрдХрд╛рд▓рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рд╕рд╛: </p><br><ul><li>  <code>width: Seq[Int]</code> - <code>MultiChannelCounter</code> рдХреЗ рдирд┐рд░реНрдорд╛рддрд╛ рдХреЗ рд▓рд┐рдП рдЗрдирдкреБрдЯ рдкреИрд░рд╛рдореАрдЯрд░, <code>Seq[Int]</code> рдкреНрд░рдХрд╛рд░ рд╣реИ - рдкреВрд░реНрдгрд╛рдВрдХ рддрддреНрд╡реЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЕрдиреБрдХреНрд░рдоред </li><li>  <code>Seq</code> рддрддреНрд╡реЛрдВ рдХреЗ рдПрдХ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЕрдиреБрдХреНрд░рдо рдХреЗ рд╕рд╛рде рд╕реНрдХрд╛рд▓рд╛ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣ рдХреЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИред </li><li>  <code>.map</code> рд╣рд░ рдХрд┐рд╕реА рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд░рд┐рдЪрд┐рдд рдХрд╛рд░реНрдп рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рддрддреНрд╡ рдкрд░ рдПрдХ рд╣реА рдСрдкрд░реЗрд╢рди рдХреЗ рдХрд╛рд░рдг рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдХреЛ рджреВрд╕рд░реЗ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИ, рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдкреВрд░реНрдгрд╛рдВрдХ рдореВрд▓реНрдпреЛрдВ рдХрд╛ рдПрдХ рдХреНрд░рдо рдЗрд╕реА рдмрд┐рдЯ рдЧрд╣рд░рд╛рдИ рдХреЗ рд╕рд╛рде <code>SimpleCounter</code> рдЕрдиреБрдХреНрд░рдо рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br><p>  рдЫреЗрдиреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рд╕рд╛: </p><br><ul><li>  <code>Vec[T &lt;: Data](gen: T, n: Int): Vec[T]</code> - рдЫреЗрдиреА рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░, рд╕рд░рдгреА рдХрд╛ рдПрдХ рдПрдирд╛рд▓реЙрдЧ рд╣реИред </li><li>  <code>Module[T &lt;: BaseModule](bc: =&gt; T): T</code> рддрд╛рддреНрдХрд╛рд▓рд┐рдХ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдЖрд╡рд░рдг рд╡рд┐рдзрд┐ рд╣реИред </li><li>  <code>util.Cat[T &lt;: Bits](r: Seq[T]): UInt</code> - <code>util.Cat[T &lt;: Bits](r: Seq[T]): UInt</code> рдХрд╛рд░реНрдп, рдПрдирд╛рд▓реЙрдЧ <code>{1'b1, 2'b01, 4'h0}</code> verilog рдореЗрдВ </li></ul><br><p>  рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ: <br>  <code>enable</code> - <code>Vec[Bool]</code> * рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рддреИрдирд╛рдд, рдореЛрдЯреЗ рддреМрд░ рдкрд░ рдПрдХ-рдмрд┐рдЯ рд╕рдВрдХреЗрддреЛрдВ рдХреА рдПрдХ рд╕рд░рдгреА рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рдЪреИрдирд▓ рдХреЗ рд▓рд┐рдП рдПрдХ, рдпрд╣ <code>UInt(width.length.W)</code> рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╡ рдерд╛ред <br>  <code>out</code> - рд╣рдорд╛рд░реЗ рд╕рднреА рдЪреИрдирд▓реЛрдВ рдХреА рдЪреМрдбрд╝рд╛рдИ рдХреЗ рдпреЛрдЧ рддрдХред </p><br><p>  рдЪрд░ <code>counters</code> рд╣рдорд╛рд░реЗ рдХрд╛рдЙрдВрдЯрд░реЛрдВ рдХреА рдПрдХ рд╕рд░рдгреА рд╣реИред  рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рдЙрдВрдЯрд░ рдХреЗ <code>enable</code> рд╕рд┐рдЧреНрдирд▓ рдХреЛ рд╕рдВрдмрдВрдзрд┐рдд рдЗрдирдкреБрдЯ рдкреЛрд░реНрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рд╕рднреА рдЙрдкрдпреЛрдЧ рдХрд┐рдП <code>out</code> рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдПрдХ рд╕рд╛рде <code>util.Cat</code> рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдЙрдкрдпреЛрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рд╣рдо <code>getOut(i: Int)</code> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рднреА рдиреЛрдЯ рдХрд░рддреЗ рд╣реИрдВ - рдпрд╣ рдлрд╝рдВрдХреНрд╢рди <code>getOut(i: Int)</code> рдЪреИрдирд▓ рдХреЗ рд▓рд┐рдП <code>out</code> рд╕рд┐рдЧреНрдирд▓ рдореЗрдВ рдмрд┐рдЯреНрд╕ рдХреА рд╕реАрдорд╛ рдХреА рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рдХрд╛рдЙрдВрдЯрд░ рдХреЗ рд╕рд╛рде рдЖрдЧреЗ рдХреЗ рдХрд╛рдо рдореЗрдВ рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реЛрдЧрд╛ред  рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдЪрд▓реЗрдЧрд╛ </p><br><p>  * <code>Vec</code> рдХреЛ <code>Vector</code> рд╕рд╛рде рднреНрд░рдорд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдкрд╣рд▓рд╛ рдЫреЗрдиреА рдореЗрдВ рдбреЗрдЯрд╛ рдХреА рдПрдХ рд╕рд░рдгреА рд╣реИ, рджреВрд╕рд░рд╛ рд╕реНрдХреИрд▓рд╛ рдореЗрдВ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рд╣реИред </p><br><p>  рдЖрдЗрдП рдЕрдм рдЗрд╕ рдореЙрдбреНрдпреВрд▓ рдХреЛ рд╡реЗрд░рд┐рд▓реЙрдЧ рдкрд░ рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ, рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╕рд┐рд╕реНрдЯрдорд╡рд┐рд░рд▓реЙрдЧ рдкрд░ рднреАред </p><br><p>  рд╕реЛрдЪрдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВ рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдкрд░ рдЖрдпрд╛ (рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдпрд╣ рдПрдХрдорд╛рддреНрд░ рд╕рд╣реА рдФрд░ рд╕рдмрд╕реЗ рдЗрд╖реНрдЯрддрдо рдПрдХ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рд╣рдореЗрд╢рд╛ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рдЕрдкрдиреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗ рд╕рдХрддреЗ рд╣реИрдВ)ред </p><br><div class="spoiler">  <b class="spoiler_title">Verilog</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">module MultiChannelCounter #( parameter TOTAL = 4, parameter integer WIDTH_SEQ [TOTAL] = {32, 16, 8, 4} )(clk, reset, enable, out); localparam OUT_WIDTH = get_sum(TOTAL, WIDTH_SEQ); input clk; input reset; input wire [TOTAL - 1 : 0] enable; output wire [OUT_WIDTH - 1 :0] out; genvar j; generate for(j = 0; j &lt; TOTAL; j = j + 1) begin : counter_generation localparam OUT_INDEX = get_sum(j, WIDTH_SEQ); SimpleCounter #( WIDTH_SEQ[j] ) SimpleCounter_unit ( .clk(clk), .reset(reset), .enable(enable[j]), .out(out[OUT_INDEX + WIDTH_SEQ[j] - 1: OUT_INDEX]) ); end endgenerate function automatic integer get_sum; input integer array_width; input integer array [TOTAL]; integer counter = 0; integer i; begin for(i = 0; i &lt; array_width; i = i + 1) counter = counter + array[i]; get_sum = counter; end endfunction endmodule</code> </pre> </div></div><br><p>  рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмрд╣реБрдд рдЕрдзрд┐рдХ рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рд▓рдЧ рд░рд╣рд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рд╣реЛрдЧрд╛, рд╣рдо рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВ рдФрд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдПрдХреНрд╕реЗрд╕ рдХреЗ рд╕рд╛рде рд▓реЛрдХрдкреНрд░рд┐рдп рд╡рд┐рд╢рдмреЛрди рдЗрдВрдЯрд░рдлреЗрд╕ рдкрд░ рдкреЗрдВрдЪ рдлрдВрд╕рд╛рддреЗ рд╣реИрдВред </p><br><h3 id="bundle-interfeysy">  рдмрдВрдбрд▓ рдЗрдВрдЯрд░рдлреЗрд╕ </h3><br><p>  рд╡рд┐рд╢рдмреЛрди рдПрдПрдордмреАрдП рдПрдкреАрдмреА рдХреЗ рд╕рдорд╛рди рдПрдХ рдЫреЛрдЯреА рдмрд╕ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдУрдкрди рд╕реЛрд░реНрд╕ рдЖрдИрдкреА рдХреЛрд░ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рд╡рд┐рдХреА рдкрд░ рдЕрдзрд┐рдХ рд╡рд┐рд╡рд░рдг: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://ru.wikipedia.org/wiki/Wishbone</a> </p><br><p>  рдХреНрдпреЛрдВрдХрд┐  рдЫреЗрдиреА рд╣рдореЗрдВ <code>Bundle</code> рдкреНрд░рдХрд╛рд░ рдХреЗ рдбреЗрдЯрд╛ рдХрдВрдЯреЗрдирд░ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдпрд╣ рдмрд╕ рдХреЛ рдПрдХ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд▓рдкреЗрдЯрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдмрд╛рдж рдореЗрдВ рдХрд┐рд╕реА рднреА рдЫреЗрдиреА рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneMasterSignals</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"> addrWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, dataWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, gotTag: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Boolean</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = false</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> adr = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(addrWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> dat_master = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(dataWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> dat_slave = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(dataWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> stb = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> we = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> cyc = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> sel = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>((dataWidth / <span class="hljs-number"><span class="hljs-number">8</span></span>).<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> ack_master = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> ack_slave = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> tag_master: <span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">UInt</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(gotTag) <span class="hljs-type"><span class="hljs-type">Some</span></span>(<span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-type"><span class="hljs-type">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> tag_slave: <span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">UInt</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(gotTag) <span class="hljs-type"><span class="hljs-type">Some</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-type"><span class="hljs-type">None</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wbTransaction</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Bool</span></span> = cyc &amp;&amp; stb <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wbWrite</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Bool</span></span> = wbTransaction &amp;&amp; we <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wbRead</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Bool</span></span> = wbTransaction &amp;&amp; !we <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cloneType</span></span></span></span>: wishboneMasterSignals.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMasterSignals(addrWidth, dataWidth, gotTag).asInstanceOf[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] }</code> </pre> <br><p>  рд╕реНрдХрд╛рд▓рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рд╕рд╛: </p><br><ul><li>  <code>Option</code> - рд╕реНрдХреИрд▓рд╛ рдореЗрдВ рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рдбреЗрдЯрд╛ рдЖрд╡рд░рдг рдЬреЛ рдпрд╛ рддреЛ рдПрдХ рддрддреНрд╡ рдпрд╛ <code>None</code> , <code>Option[UInt]</code> рдпрд╛ рддреЛ <code>Some(UInt(/*...*/))</code> рдпрд╛ <code>None</code> , рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдкреИрд░рд╛рдореАрдЯрд░ рдХрд░рддреЗ рд╕рдордп рдЙрдкрдпреЛрдЧреАред </li></ul><br><p>  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдХреБрдЫ рднреА рдЕрд╕рд╛рдорд╛рдиреНрдп рдирд╣реАрдВ рд╣реИред  рд╡рд┐рдЬрд╝рд╛рд░реНрдб рджреНрд╡рд╛рд░рд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рд╡рд░реНрдгрди, рдХреБрдЫ рд╕рдВрдХреЗрддреЛрдВ рдФрд░ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рдЕрдкрд╡рд╛рдж рдХреЗ рд╕рд╛рде: </p><br><p>  <code>tag_master</code> рдФрд░ <code>tag_slave</code> , рд╡рд┐рд╢рдмреЛрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдореЗрдВ рд╡реИрдХрд▓реНрдкрд┐рдХ рд╕рд╛рдорд╛рдиреНрдп-рдЙрджреНрджреЗрд╢реНрдп рд╕рдВрдХреЗрдд рд╣реИрдВ, рд╣рдо рдЙрдиреНрд╣реЗрдВ рджреЗрдЦреЗрдВрдЧреЗ рдпрджрд┐ <code>gotTag</code> рдкреИрд░рд╛рдореАрдЯрд░ <code>true</code> ред </p><br><p>  <code>wbTransaction</code> , <code>wbWrite</code> , <code>wbRead</code> - рдмрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХреЛ рдЖрд╕рд╛рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред </p><br><p>  <code>cloneType</code> - рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ <code>cloneType</code> <code>[T &lt;: Bundle]</code> рд╡рд░реНрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдкреНрд░рдХрд╛рд░ рдХреА рдХреНрд▓реЛрдирд┐рдВрдЧ рд╡рд┐рдзрд┐ </p><br><p>  рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдПрдХ рджрд╛рд╕ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреА рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдЗрд╕реЗ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneSlave</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"> addrWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, dataWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, tagWidht: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 0</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb = <span class="hljs-type"><span class="hljs-type">Flipped</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMasterSignals(addrWidth , dataWidth, tagWidht)) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cloneType</span></span></span></span>: wishboneSlave.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneSlave(addrWidth, dataWidth, tagWidht).asInstanceOf[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] }</code> </pre> <br><p>  <code>Flipped</code> рд╡рд┐рдзрд┐, рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдирд╛рдо рд╕реЗ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рдлрд╝реНрд▓рд┐рдк рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЕрдм рд╣рдорд╛рд░рд╛ рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рджрд╛рд╕ рдореЗрдВ рдмрджрд▓ рдЧрдпрд╛ рд╣реИ, рд╣рдо рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рд╡рд░реНрдЧ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneMaster</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"> addrWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, dataWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, tagWidht: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 0</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMasterSignals(addrWidth , dataWidth, tagWidht) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cloneType</span></span></span></span>: wishboneMaster.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMaster(addrWidth, dataWidth, tagWidht).asInstanceOf[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] }</code> </pre> <br><p>  рдЦреИрд░, рдпрд╣ рд╣реИ, рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рддреИрдпрд╛рд░ рд╣реИред  рд▓реЗрдХрд┐рди рдПрдХ рд╣реИрдВрдбрд▓рд░ рд▓рд┐рдЦрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рд╣рдо рдЗрди рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЕрдЧрд░ рд╣рдореЗрдВ рдПрдХ рд╕реНрд╡рд┐рдЪ рдпрд╛ рдХреБрдЫ рдФрд░ рд╡рд┐рд╢рдмреЛрди рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдмрдбрд╝реЗ рд╕реЗрдЯ рдХреЗ рд╕рд╛рде рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WishboneCrossbarIo</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">n: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params">, addrWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params">, dataWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> slaves = <span class="hljs-type"><span class="hljs-type">Vec</span></span>(n, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneSlave(addrWidth, dataWidth, <span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> master = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMaster(addrWidth, dataWidth, <span class="hljs-number"><span class="hljs-number">0</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WBCrossBar</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">WishboneCrossbarIo</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>)) io.master &lt;&gt; io.slaves(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  рдпрд╣ рд╕реНрд╡рд┐рдЪ рдХреЗ рд▓рд┐рдП рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рдЦрд╛рд▓реА рд╣реИред  рдкреНрд░рдХрд╛рд░ <code>Vec[wishboneSlave]</code> рдХрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдШреЛрд╖рд┐рдд рдХрд░рдирд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ, рдФрд░ рдЖрдк рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЛ рдЙрд╕реА <code>&lt;&gt;</code> рдСрдкрд░реЗрдЯрд░ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрдкрдпреЛрдЧреА рдЫреЗрдиреА рдЪрд┐рдкреНрд╕ рдЬрдм рд╕рдВрдХреЗрддреЛрдВ рдХреЗ рдПрдХ рдмрдбрд╝реЗ рд╕реЗрдЯ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдмрд╛рдд рдЖрддреА рд╣реИред </p><br><h3 id="universalnyy-kontroller-shiny">  рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдмрд╕ рдирд┐рдпрдВрддреНрд░рдХ </h3><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдФрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХреА рд╢рдХреНрддрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд╣рдо рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВрдЧреЗред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рд╣рдо <code>trait</code> рдХреЗ рд░реВрдк рдореЗрдВ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╡рд┐рд╢рдмреЛрди рдмрд╕ рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗ, рдпрд╣ рд╡рд┐рд╢рдмреЛрдирд╕реНрд▓реЗрд╡ рдмрд╕ рдХреЗ рд╕рд╛рде рдХрд┐рд╕реА рднреА рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ рдорд┐рдХреНрд╕рд┐рди рд╣реЛрдЧрд╛, рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдмрд╕ рдПрдХ рдореЗрдореЛрд░реА рдХрд╛рд░реНрдб рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдФрд░ рдкреАрдврд╝реА рдХреЗ рджреМрд░рд╛рди рдЗрд╕рдХреЗ рд▓рд┐рдП рдирд┐рдпрдВрддреНрд░рдХ рдирд┐рдпрдВрддреНрд░рдХ рдорд┐рд╢реНрд░рдг рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><h4 id="realizaciya">  рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди </h4><br><div class="spoiler">  <b class="spoiler_title">рдЙрдирдХреЗ рд▓рд┐рдП рдЬреЛ рдЕрднреА рднреА рдЙрддреНрд╕рд╛рд╣реА рд╣реИрдВ</b> <div class="spoiler_text"><p>  рдЪрд▓реЛ рд╣реИрдВрдбрд▓рд░ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред  рдпрд╣ рд╕рд░рд▓ рдФрд░ рддреБрд░рдВрдд рдПрдХрд▓ рд▓реЗрдирджреЗрди рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдЧрд╛, рдкрддреЗ рдХреЗ рдкреВрд▓ рд╕реЗ рдмрд╛рд╣рд░ рдЧрд┐рд░рдиреЗ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╢реВрдиреНрдп рдкрд░ рд▓реМрдЯреЗрдВред </p><br><p>  рдЖрдЗрдП рднрд╛рдЧреЛрдВ рдореЗрдВ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ: </p><br><ul><li><p>  рдкреНрд░рддреНрдпреЗрдХ рд▓реЗрдирджреЗрди рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХреЗ рд╕рд╛рде рдЬрд╡рд╛рдм рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io : wishboneSlave = <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb_ack = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) when(io.wb.wbTransaction) { wb_ack := <span class="hljs-literal"><span class="hljs-literal">true</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span> }.otherwise { wb_ack := <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span> } wb_ack &lt;&gt; io.wb.ack_slave</code> </pre> <br></li><li>  рд╣рдо рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдкрдврд╝рдиреЗ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрддреЗ рд╣реИрдВ <br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb_dat = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>(io.wb.dat_slave.getWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// getWidth   when(io.wb.wbRead) { wb_dat := MuxCase(default = 0.U, Seq( (io.wb.addr === ADDR_1) -&gt; data_1, (io.wb.addr === ADDR_3) -&gt; data_2, (io.wb.addr === ADDR_3) -&gt; data_2 )) } wb_dat &lt;&gt; io.wb.dat_slave</span></span></code> </pre> <br><ul><li>  <code>MuxCase[T &lt;: Data] (default: T, mapping: Seq[(Bool, T)]): T</code> verilog рдореЗрдВ <code>case</code> рдкреНрд░рдХрд╛рд░ рдХреА рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рд╕рдордиреНрд╡рдп рдпреЛрдЬрдирд╛ рд╣реИред </li></ul></li></ul><br><p>  рдпрд╣ рдХреИрд╕рд╛ рджрд┐рдЦ рд░рд╣рд╛ рд╣реИ verilog рдореЗрдВ: </p><br><pre> <code class="plaintext hljs"> always @(posedge clock) if(reset) wb_dat_o &lt;= 0; else if(wb_read) case (wb_adr_i) `ADDR_1 : wb_dat_o &lt;= data_1; `ADDR_2 : wb_dat_o &lt;= data_2; `ADDR_3 : wb_dat_o &lt;= data_3; default : wb_dat_o &lt;= 0; endcase }</code> </pre> <br><p>  * рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдорд╛рдирдХреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдЫреЛрдЯреА рд╕реА рд╣реИрдХ рд╣реИ, рдЫреЗрдиреА рдореЗрдВ рдПрдХ рдорд╛рдирдХ рдбрд┐рдЬрд╝рд╛рдЗрди рд╣реИ рдЬреЛ рдХрд┐ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреЗрд╣рддрд░ рд╣реИ рдЕрдЧрд░, рдХреБрдЫ рд╕рд░рд▓ рд▓рд┐рдЦреЗрдВред </p><br><pre> <code class="scala hljs">switch(x) { is(value1) { <span class="hljs-comment"><span class="hljs-comment">// ... } is(value2) { // ... } }</span></span></code> </pre> <br><p>  рдЦреИрд░, рд░рд┐рдХреЙрд░реНрдб </p><br><pre> <code class="scala hljs"> when(io.wb.wbWrite) { data_4 := <span class="hljs-type"><span class="hljs-type">Mux</span></span>(io.wb.addr === <span class="hljs-type"><span class="hljs-type">ADDR_4</span></span>, io.wb.dat_master, data_4) }</code> </pre> <br><ul><li>  <code>Mux[T &lt;: Data](cond: Bool, con: T, alt: T): T</code> - рдирд┐рдпрдорд┐рдд рдорд▓реНрдЯреАрдкреНрд▓реЗрдХреНрд╕рд░ </li></ul><br><p>  рд╣рдо рдЕрдкрдиреЗ рдорд▓реНрдЯреАрдЪреИрдирд▓ рдХрд╛рдЙрдВрдЯрд░ рдХреЗ рд╕рдорд╛рди рдХреБрдЫ рдПрдореНрдмреЗрдб рдХрд░рддреЗ рд╣реИрдВ, рдЪреИрдирд▓ рдкреНрд░рдмрдВрдзрди рдФрд░ рдПрдХ рдЯреЛрдкреА рдХреЗ рд▓рд┐рдП рд░рдЬрд┐рд╕реНрдЯрд░ рд▓рдЯрдХрд╛рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рдпрд╣ рдпреВрдирд┐рд╡рд░реНрд╕рд▓ WB рдмрд╕ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рдкрд╛рд╕ рд╣реИ, рдЬрд┐рд╕ рдкрд░ рд╣рдо рдЗрд╕ рддрд░рд╣ рдХрд╛ рдореЗрдореЛрд░реА рдХрд╛рд░реНрдб рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХрд░реЗрдВрдЧреЗ: </p><br><pre> <code class="scala hljs"> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">ADDR_1</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_1</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_2</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_2</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> writeMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">ADDR_1</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_1</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_2</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_2</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> )</code> </pre> <br><p>  рдЗрд╕ рддрд░рд╣ рдХреЗ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП, <code>trait</code> рд╣рдорд╛рд░реА рдорджрдж рдХрд░реЗрдЧреА - рд╕рд╛рд▓рд╛ рдореЗрдВ рдорд┐рд╢реНрд░рдг рдЬреИрд╕реЗ рдХреБрдЫред  рдореБрдЦреНрдп рдХрд╛рд░реНрдп <code>readMemMap: [Int, Data]</code> рдХрд░рдирд╛ <code>readMemMap: [Int, Data]</code> <code>Seq( -&gt; )</code> рдЬреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдЕрдЪреНрдЫрд╛ рднреА рд╣реЛрдЧрд╛ рдпрджрд┐ рдЖрдк рдореЗрдореЛрд░реА рдХрд╛рд░реНрдб рдХреЗ рдЕрдВрджрд░ рдЖрдзрд╛рд░ рдкрддрд╛ рдФрд░ рдбреЗрдЯрд╛ рдРрд░реЗ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </p><br><pre> <code class="scala hljs"> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_2</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_2</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> )</code> </pre> <br><p>  рдХреНрдпрд╛ рдХреБрдЫ рдЗрд╕реА рддрд░рд╣ рд╕реЗ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд╣рд╛рдВ WB_DAT_WIDTH рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рдбреЗрдЯрд╛ рдХреА рдЪреМрдбрд╝рд╛рдИ рд╣реИ </p><br><pre> <code class="scala hljs"> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span> * (<span class="hljs-type"><span class="hljs-type">WB_DAT_WIDHT</span></span>)-&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ_0</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> * (<span class="hljs-type"><span class="hljs-type">WB_DAT_WIDHT</span></span>)-&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ_1</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> * (<span class="hljs-type"><span class="hljs-type">WB_DAT_WIDHT</span></span>)-&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ_2</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span> * (<span class="hljs-type"><span class="hljs-type">WB_DAT_WIDHT</span></span>)-&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ_3</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> <span class="hljs-type"><span class="hljs-type">ADDR_2</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_2</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> )</code> </pre> <br><p>  рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо <code>Map[Int, Any]</code> рд╕реЗ <code>Seq[(Bool, UInt)]</code> рд╕реЗ рдПрдХ рдХрдиреНрд╡рд░реНрдЯрд░ рдлрдВрдХреНрд╢рди рд▓рд┐рдЦрддреЗ рд╣реИрдВред  рдЖрдкрдХреЛ рд╕реНрдХреЗрд▓рд╛ рдкреИрдЯрд░реНрди рдЧрдгрд┐рдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </p><br><pre> <code class="scala hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseMemMap</span></span></span></span>(memMap: <span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Any</span></span>]): <span class="hljs-type"><span class="hljs-type">Seq</span></span>[(<span class="hljs-type"><span class="hljs-type">Bool</span></span>, <span class="hljs-type"><span class="hljs-type">UInt</span></span>)] = memMap.flatMap { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>(addr, data) =&gt; data <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> a: <span class="hljs-type"><span class="hljs-type">UInt</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">Seq</span></span>((io.wb.adr === addr.<span class="hljs-type"><span class="hljs-type">U</span></span>) -&gt; a) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> a: <span class="hljs-type"><span class="hljs-type">Seq</span></span>[<span class="hljs-type"><span class="hljs-type">UInt</span></span>] =&gt; a.map(x =&gt; (io.wb.adr === (addr + io.wb.dat_slave.getWidth / <span class="hljs-number"><span class="hljs-number">8</span></span>).<span class="hljs-type"><span class="hljs-type">U</span></span>) -&gt; x) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> _ =&gt; <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">"WRONG MEM MAP!!!"</span></span>) } }.toSeq</code> </pre> <br><p>  рдЕрдВрдд рдореЗрдВ, рд╣рдорд╛рд░рд╛ рд▓рдХреНрд╖рдг рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛: </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneSlaveDriver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io : wishboneSlave <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap: <span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Any</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> writeMemMap: <span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Any</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> parsedReadMap: <span class="hljs-type"><span class="hljs-type">Seq</span></span>[(<span class="hljs-type"><span class="hljs-type">Bool</span></span>, <span class="hljs-type"><span class="hljs-type">UInt</span></span>)] = parseMemMap(readMemMap) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> parsedWriteMap: <span class="hljs-type"><span class="hljs-type">Seq</span></span>[(<span class="hljs-type"><span class="hljs-type">Bool</span></span>, <span class="hljs-type"><span class="hljs-type">UInt</span></span>)] = parseMemMap(writeMemMap) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb_ack = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb_dat = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>(io.wb.dat_slave.getWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) when(io.wb.wbTransaction) { wb_ack := <span class="hljs-literal"><span class="hljs-literal">true</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span> }.otherwise { wb_ack := <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span> } when(io.wb.wbRead) { wb_dat := <span class="hljs-type"><span class="hljs-type">MuxCase</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">default</span></span> = <span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>, parsedReadMap) } when(io.wb.wbWrite) { parsedWriteMap.foreach { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>(addrMatched, data) =&gt; data := <span class="hljs-type"><span class="hljs-type">Mux</span></span>(addrMatched, io.wb.dat_master, data) } } wb_dat &lt;&gt; io.wb.dat_slave wb_ack &lt;&gt; io.wb.ack_slave <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseMemMap</span></span></span></span>(memMap: <span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Any</span></span>]): <span class="hljs-type"><span class="hljs-type">Seq</span></span>[(<span class="hljs-type"><span class="hljs-type">Bool</span></span>, <span class="hljs-type"><span class="hljs-type">UInt</span></span>)] = { <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span>} }</code> </pre> <br><p>  рд╕реНрдХрд╛рд▓рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рд╕рд╛: </p><br><ul><li>  <code>io , readMemMap, writeMemMap</code> рд╣рдорд╛рд░реЗ <code>trait</code> рдХреЗ рд╕рд╛рд░ рдХреНрд╖реЗрддреНрд░ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рдЙрд╕ рд╡рд░реНрдЧ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрд┐рд╕рдореЗрдВ рд╣рдо рдЗрд╕реЗ <code>io , readMemMap, writeMemMap</code> ред </li></ul></div></div><br><h4 id="kak-im-polzovatsya">  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ </h4><br><p>  рдореЙрдбреНрдпреВрд▓ рдХреЗ рд╕рд╛рде рд╣рдорд╛рд░реА <code>trait</code> рдХреЛ рдорд┐рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдХрдИ рд╢рд░реНрддреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: </p><br><ul><li>  <code>io</code> рдХреЛ <code>wishboneSlave</code> рд╡рд░реНрдЧ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рдирд╛ рдЪрд╛рд╣рд┐рдП </li><li>  рджреЛ рдореЗрдореЛрд░реА рдХрд╛рд░реНрдб <code>readMemMap</code> рдФрд░ <code>writeMemMap</code> рдШреЛрд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </li></ul><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WishboneMultiChannelCounter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> <span class="hljs-type"><span class="hljs-type">BASE</span></span> = <span class="hljs-number"><span class="hljs-number">0x11A00000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> <span class="hljs-type"><span class="hljs-type">OUT</span></span> = <span class="hljs-number"><span class="hljs-number">0x00000100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> <span class="hljs-type"><span class="hljs-type">S_EN</span></span> = <span class="hljs-number"><span class="hljs-number">0x00000200</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> <span class="hljs-type"><span class="hljs-type">H_EN</span></span> = <span class="hljs-number"><span class="hljs-number">0x00000300</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wbAddrWidth = <span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wbDataWidth = <span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wbTagWidth = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> width = <span class="hljs-type"><span class="hljs-type">Seq</span></span>(<span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneSlave(wbAddrWidth, wbDataWidth, wbTagWidth) { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> hardwareEnable: <span class="hljs-type"><span class="hljs-type">Vec</span></span>[<span class="hljs-type"><span class="hljs-type">Bool</span></span>] = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Vec</span></span>(width.length, <span class="hljs-type"><span class="hljs-type">Bool</span></span>())) }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> counter = <span class="hljs-type"><span class="hljs-type">Module</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MultiChannelCounter</span></span>(width)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> softwareEnable = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>(width.length.<span class="hljs-type"><span class="hljs-type">W</span></span>)) width.indices.foreach(i =&gt; counter.io.enable(i) := io.hardwareEnable(i) &amp;&amp; softwareEnable(i)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">BASE</span></span> + <span class="hljs-type"><span class="hljs-type">OUT</span></span> -&gt; width.indices.map(counter.io.getOut), <span class="hljs-type"><span class="hljs-type">BASE</span></span> + <span class="hljs-type"><span class="hljs-type">S_EN</span></span> -&gt; softwareEnable, <span class="hljs-type"><span class="hljs-type">BASE</span></span> + <span class="hljs-type"><span class="hljs-type">H_EN</span></span> -&gt; io.hardwareEnable.asUInt ) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> writeMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">BASE</span></span> + <span class="hljs-type"><span class="hljs-type">S_EN</span></span> -&gt; softwareEnable ) }</code> </pre> <br><p>  рд╣рдо <code>softwareEnable</code> рд░рдЬрд┐рд╕реНрдЯрд░ рдмрдирд╛рддреЗ рд╣реИрдВ, рдпрд╣ <code>hardwareEnable</code> рдЗрдирдкреБрдЯ рд╕рд┐рдЧреНрдирд▓ рджреНрд╡рд╛рд░рд╛ 'рдФрд░' рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ <code>counter[MultiChannelCounter]</code> рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рд╣рдо рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рдореЗрдореЛрд░реА рдХрд╛рд░реНрдб рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддреЗ рд╣реИрдВ: <code>readMemMap</code> <code>writeMemMap</code> , рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдКрдкрд░ рджрд┐рдП рдЧрдП рдЕрдзреНрдпрд╛рдп рдХреЛ рджреЗрдЦреЗрдВред <br>  рд░реАрдбрд┐рдВрдЧ рдореЗрдореЛрд░реА рдХрд╛рд░реНрдб рдореЗрдВ, рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рдЪреИрдирд▓ *, <code>softwareEnable</code> рдФрд░ <code>hardwareEnable</code> рдХреЗ рдХрд╛рдЙрдВрдЯрд░ рдореВрд▓реНрдп рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдФрд░ рд░рд┐рдХреЙрд░реНрдб рдХреЗ рд▓рд┐рдП рд╣рдо рдХреЗрд╡рд▓ <code>softwareEnable</code> рд░рдЬрд┐рд╕реНрдЯрд░ рджреЗрддреЗ рд╣реИрдВред </p><br><p>  * <code>width.indices.map(counter.io.getOut)</code> - рдПрдХ рдЕрдЬреАрдм рдбрд┐рдЬрд╛рдЗрди, рд╣рдо рдЗрд╕реЗ рднрд╛рдЧреЛрдВ рдореЗрдВ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВрдЧреЗред </p><br><ul><li>  <code>width.indices</code> - рддрддреНрд╡ рд╕реВрдЪрдХрд╛рдВрдХреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд░рдгреА рд▓реМрдЯрд╛рдПрдЧрд╛, рдЕрд░реНрдерд╛рддред  рдЕрдЧрд░ <code>width.length == 4</code> рддреЛ <code>width.indices = {0, 1, 2, 3}</code> </li><li>  <code>{0, 1, 2, 3}.map(counter.io.getOut)</code> - рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджреЗрддрд╛ рд╣реИ: <br> <code>{ counter.io.getOut(0), counter.io.getOut(1), /*...*/ }</code> </li> </ul><br><p>  рдЕрдм рдЫреЗрдиреА рдкрд░ рдХрд┐рд╕реА рднреА рдореЙрдбреНрдпреВрд▓ рдХреЗ рд╕рд╛рде рд╣рдо рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдореЗрдореЛрд░реА рдХрд╛рд░реНрдб рдХреА рдШреЛрд╖рдгрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдмрд╕ рдХреБрдЫ рдкреИрджрд╛ рдХрд░рддреЗ рд╕рдордп рд╣рдорд╛рд░реЗ рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рд╡рд┐рд╢рдмреЛрди рдмрд╕ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishbone_multicahnnel_counter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WishboneMultiChannelCounter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">with</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneSlaveDriver</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">countersDriver</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-type"><span class="hljs-type">Driver</span></span>.execute(<span class="hljs-type"><span class="hljs-type">Array</span></span>(<span class="hljs-string"><span class="hljs-string">"-td"</span></span>, <span class="hljs-string"><span class="hljs-string">"./src/generated"</span></span>), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishbone_multicahnnel_counter ) }</code> </pre> <br><p>  <code>wishboneSlaveDriver</code> - рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЯреНрд░рд┐рдЯ рдорд┐рдХреНрд╕ рд╣реИ рдЬрд┐рд╕реЗ рд╣рдордиреЗ рд╕реНрдкреЙрдЗрд▓рд░ рдХреЗ рддрд╣рдд рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рд╣реИред </p><br><p>  рдмреЗрд╢рдХ, рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдирд┐рдпрдВрддреНрд░рдХ рдХрд╛ рдпрд╣ рд╕рдВрд╕реНрдХрд░рдг рдЕрдВрддрд┐рдо рд╕реЗ рдмрд╣реБрдд рджреВрд░ рд╣реИ, рдмрд▓реНрдХрд┐ рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд рд╣реИред  рдЗрд╕рдХрд╛ рдореБрдЦреНрдп рд▓рдХреНрд╖реНрдп рдЫреЗрдиреА рдкрд░ рдЖрд░рдЯреАрдПрд▓ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд╕рдВрднрд╛рд╡рд┐рдд рддрд░реАрдХреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рд╣реИред  рд╕реНрдХрд╛рд▓рд╛ рдХреА рд╕рднреА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЗ рд╕рд╛рде, рдРрд╕реЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдмрд╣реБрдд рдмрдбрд╝реЗ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рдбреЗрд╡рд▓рдкрд░ рдХреЗ рдкрд╛рд╕ рд░рдЪрдирд╛рддреНрдордХрддрд╛ рдХреЗ рд▓рд┐рдП рдЕрдкрдирд╛ рдХреНрд╖реЗрддреНрд░ рд╣реИред  рд╕рдЪ рд╣реИ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдХреЛ рдЫреЛрдбрд╝рдХрд░ рдХрд╣реАрдВ рд╕реЗ рднреА рдкреНрд░реЗрд░рд┐рдд рдирд╣реАрдВ рд╣реИ: </p><br><ul><li>  рджреЗрд╢реА рдЫреЗрдиреА рдмрд░реНрддрди рдкреБрд╕реНрддрдХрд╛рд▓рдп, рдЬрд┐рд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рдЖрдЧреЗ, рд╡рд╣рд╛рдБ рдЖрдк рдореЙрдбреНрдпреВрд▓ рдФрд░ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреА рд╡рд┐рд░рд╛рд╕рдд рдХреЛ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/freechipsproject/rocket-chip</a> - risc-v рдкреВрд░реЗ рдХрд░реНрдиреЗрд▓ рдХреЛ рдЫреЗрдиреА рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдмрд╢рд░реНрддреЗ рдХрд┐ рдЖрдк рд╕реНрдХреИрд▓рд╛ рдХреЛ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдЬрд╛рдирддреЗ рд╣реЛрдВ, рд╢реБрд░реБрдЖрддреА рдЖрдзреЗ рд▓реАрдЯрд░ рдХреЗ рдмрд┐рдирд╛, рдЬреИрд╕рд╛ рдХрд┐ рд╡реЗ рдХрд╣рддреЗ рд╣реИрдВ, рдЖрдкрдХреЛ рд╕рдордЭрдиреЗ рдореЗрдВ рдмрд╣реБрдд рд▓рдВрдмрд╛ рд╕рдордп рд▓рдЧреЗрдЧрд╛ред  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреА рдЖрдВрддрд░рд┐рдХ рд╕рдВрд░рдЪрдирд╛ рдкрд░ рдХреЛрдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рдирд╣реАрдВ рд╣реИред </li></ul><br><h3 id="multiclockdomain">  MultiClockDomain </h3><br><p>  рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдЕрдЧрд░ рд╣рдо рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдШрдбрд╝реА рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдФрд░ рдЫреЗрдиреА рдореЗрдВ рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░реЗрдВред  рд╣рд╛рд▓ рддрдХ, рдпрд╣ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрд╛, рд▓реЗрдХрд┐рди рдирд╡реАрдирддрдо рд░рд┐рд▓реАрдЬрд╝ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рд╕рд╛рде, рд╕рдорд░реНрдерди <code>withClock {}</code> , <code>withReset {}</code> рдФрд░ <code>withClockAndReset {}</code> ред  рдЖрдЗрдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВ: </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DoubleClockModule</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Bundle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clockB = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> in = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> out = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outB = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> regClock = <span class="hljs-type"><span class="hljs-type">RegNext</span></span>(io.in, <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) regClock &lt;&gt; io.out <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> regClockB = withClock(io.clockB) { <span class="hljs-type"><span class="hljs-type">RegNext</span></span>(io.in, <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) } regClockB &lt;&gt; io.outB }</code> </pre> <br><ul><li>  <code>regClock</code> - рдПрдХ рд░рдЬрд┐рд╕реНрдЯрд░ рдЬреЛ рдорд╛рдирдХ <code>clock</code> рд╕рдВрдХреЗрдд рджреНрд╡рд╛рд░рд╛ рджреЗрдЦрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдорд╛рдирдХ <code>reset</code> рджреНрд╡рд╛рд░рд╛ рд░реАрд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </li><li>  <code>regClockB</code> - рдПрдХ рд╣реА рд░рдЬрд┐рд╕реНрдЯрд░ рджреЗрдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЖрдкрдиреЗ рдпрд╣ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдпрд╛, <code>io.clockB</code> рд╕рд┐рдЧреНрдирд▓ рджреНрд╡рд╛рд░рд╛, рд▓реЗрдХрд┐рди рдорд╛рдирдХ рд░реАрд╕реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </li></ul><br><p>  рдпрджрд┐ рд╣рдо рдорд╛рдирдХ <code>clock</code> рдХреЛ рд╣рдЯрд╛рдирд╛ рдЪрд╛рд╣рддреЗ <code>clock</code> рдФрд░ рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ <code>reset</code> рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдкреНрд░рд╛рдпреЛрдЧрд┐рдХ рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - <code>RawModule</code> (рдорд╛рдирдХ рдШрдбрд╝реА рдФрд░ рд░реАрд╕реЗрдЯ рд╕рдВрдХреЗрддреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдореЙрдбреНрдпреВрд▓, рд╕рднреА рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛)ред  рдПрдХ рдЙрджрд╛рд╣рд░рдг: </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MultiClockModule</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RawModule</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Bundle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clockA = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clockB = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> resetA = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> resetB = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> in = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outA = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outB = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> regClockA = withClockAndReset(io.clockA, io.resetA) { <span class="hljs-type"><span class="hljs-type">RegNext</span></span>(io.in, <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) } regClockA &lt;&gt; io.outA <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> regClockB = withClockAndReset (io.clockB, io.resetB) { <span class="hljs-type"><span class="hljs-type">RegNext</span></span>(io.in, <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) } regClockB &lt;&gt; io.outB }</code> </pre> <br><h3 id="utils-biblioteka">  рд▓рд╛рдпрдмреНрд░реЗрд░реА </h3><br><p>  рдЫреЗрдиреА рдХрд╛ рд╕реБрдЦрдж рдмреЛрдирд╕ рд╡рд╣рд╛рдБ рдЦрддреНрдо рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рд░рдЪрдирд╛рдХрд╛рд░реЛрдВ рдиреЗ рдХрдбрд╝реА рдореЗрд╣рдирдд рдХреА рдФрд░ рдЫреЛрдЯреЗ, рдЗрдВрдЯрд░рдлреЗрд╕, рдореЙрдбреНрдпреВрд▓, рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХреА рдПрдХ рдЫреЛрдЯреА рд▓реЗрдХрд┐рди рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓рд┐рдЦреАред  рдЕрдЬреАрдм рддрд░рд╣ рд╕реЗ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ, рд╡рд┐рдХрд┐ рдкрд░ рдХреЛрдИ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╡рд┐рд╡рд░рдг рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рдзреЛрдЦрд╛ рд╢реАрдЯ рд▓рд┐рдВрдХ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рдмрд╣реБрдд рд╢реБрд░реБрдЖрдд рдореЗрдВ (рджреЛ рдЕрдВрддрд┐рдо рдЦрдВрдб рд╣реИрдВ) </p><br><p>  рдЗрдВрдЯрд░рдлреЗрд╕: </p><br><ul><li>  <code>DecoupledIO</code> рдЖрдорддреМрд░ рдкрд░ рддреИрдпрд╛рд░ / рдорд╛рдиреНрдп рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br>  <code>DecoupledIO(UInt(32.W))</code> - рдЗрд╕рдореЗрдВ рд╕рд┐рдЧреНрдирд▓ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗ: <br> <code>val ready = Input(Bool())</code> <br> <code>val valid = Output(Bool())</code> <br> <code>val data = Output(UInt(32.W))</code> </li> <li>  <code>ValidIO</code> - рдХреЗрд╡рд▓ рдмрд┐рдирд╛ <code>ready</code> рдХрд┐рдП <code>ValidIO</code> рд░реВрдк рдореЗрдВ </li></ul><br><p>  рдореЙрдбреНрдпреВрд▓: </p><br><ul><li>  <code>Queue</code> - рддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдлреАрдлреЛ рдореЙрдбреНрдпреВрд▓ рдПрдХ рдмрд╣реБрдд рд╣реА рдЙрдкрдпреЛрдЧреА рдЪреАрдЬ рд╣реИред рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЬреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ <br>  <code>val enq: DecoupledIO[T]</code> - рдЙрд▓реНрдЯрд╛ <code>DecoupledIO</code> <br>  <code>val deq: DecoupledIO[T]</code> - рдирд┐рдпрдорд┐рдд <code>DecoupledIO</code> <br>  <code>val count: UInt</code> - рдХрддрд╛рд░ рдореЗрдВ рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ </li><li>  <code>Pipe</code> - рджреЗрд░реА рдореЙрдбреНрдпреВрд▓, рд░рдЬрд┐рд╕реНрдЯрд░ рд╕реНрд▓рд╛рдЗрд╕ рдХреА nth рд╕рдВрдЦреНрдпрд╛ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рддрд╛ рд╣реИ </li><li>  <code>Arbiter</code> - <code>DecoupledIO</code> рдЗрдВрдЯрд░рдлреЗрд╕ рдкрд░ <code>Arbiter</code> , рдордзреНрдпрд╕реНрдерддрд╛ рдХреЗ рдкреНрд░рдХрд╛рд░ рдореЗрдВ рдХрдИ рдЙрдк-рдкреНрд░рдЬрд╛рддрд┐рдпрд╛рдБ рд╣реИрдВ <br>  <code>val in: Vec[DecoupledIO[T]]</code> - рдЗрдирдкреБрдЯ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреА рд╕рд░рдгреА <br> <code>val out: DecoupledIO[T]</code> <br>  <code>val chosen: UInt</code> - рдЪрдпрдирд┐рдд рдЪреИрдирд▓ рджрд┐рдЦрд╛рддрд╛ рд╣реИ </li></ul><br><p>  рдЬрд╣рд╛рдБ рддрдХ рдЖрдк рдЧрд┐рддреБрдм рдкрд░ рдЪрд░реНрдЪрд╛ рд╕реЗ рд╕рдордЭ рд╕рдХрддреЗ рд╣реИрдВ - рд╡реИрд╢реНрд╡рд┐рдХ рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдореЙрдбреНрдпреВрд▓ рдХреА рдЗрд╕ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд┐рд╕реНрддрд╛рд░ рд╣реИ: рдЬреИрд╕реЗ рдХрд┐ рдПрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рдлреАрдлреЛ, рдПрд▓рдПрд╕рдПрдлрдПрд╕рдЖрд░, рдЖрд╡реГрддреНрддрд┐ рдбрд┐рд╡рд╛рдЗрдбрд░, рдПрдлрдкреАрдЬреАрдП рдХреЗ рд▓рд┐рдП рдкреАрдПрд▓рдПрд▓ рдЯреЗрдореНрдкрд▓реЗрдЯ;  рд╡рд┐рднрд┐рдиреНрди рдЗрдВрдЯрд░рдлреЗрд╕;  рдЙрдирдХреЗ рд▓рд┐рдП рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдФрд░ рднреА рдмрд╣реБрдд рдХреБрдЫред </p><br><h3 id="chisel-io-teseters">  рдЫреЗрдиреА io-teseters </h3><br><p>  рдЫреЗрдиреА рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдлрд┐рд▓рд╣рд╛рд▓ рдЗрд╕рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХреЗ рджреЛ рддрд░реАрдХреЗ рд╣реИрдВ: </p><br><ul><li>  <code>peekPokeTesters</code> - рд╡рд┐рд╢реБрджреНрдз рд░реВрдк рд╕реЗ рд╕рд┐рдореБрд▓реЗрд╢рди рдкрд░реАрдХреНрд╖рдг рдЬреЛ рдЖрдкрдХреЗ рдбрд┐рдЬрд╛рдЗрди рдХреЗ рддрд░реНрдХ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рддреЗ рд╣реИрдВ </li><li><p>  <code>hardwareIOTeseters</code> рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ  рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЛ рдПрдХ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд╕рд╛рде рдЬреЗрдирд░реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдЯреЗрд╕реНрд╕реЗрдЯ рдмреЗрдВрдЪ рдорд┐рд▓реЗрдЧрд╛ рдЬреЛ рдЖрдкрдиреЗ рдЫреЗрдиреА рдкрд░ рд▓рд┐рдЦрд╛ рдерд╛, рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рд╣реИ, рддреЛ рднреА рдЖрдкрдХреЛ рдПрдХ рд╕рдордпрд░реЗрдЦрд╛ рдорд┐рд▓ рдЬрд╛рдПрдЧреАред </p><br><p>  рд▓реЗрдХрд┐рди рдЕрднреА рддрдХ, рдкрд░реАрдХреНрд╖рдг рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рдЕрдВрддрд┐рдо рд░реВрдк рдирд╣реАрдВ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдЪрд░реНрдЪрд╛ рдЕрднреА рднреА рдЬрд╛рд░реА рд╣реИред  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рдПрдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдЙрдкрдХрд░рдг рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛, рдкрд░реАрдХреНрд╖рдг рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдЫреЗрдиреА рдкрд░ рд▓рд┐рдЦрдирд╛ рднреА рд╕рдВрднрд╡ рд╣реЛрдЧрд╛ред  рд▓реЗрдХрд┐рди рдЕрднреА рдХреЗ рд▓рд┐рдП, рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреНрдпрд╛ рд╣реИ рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ</a> рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рдПред </p><br></li></ul><br><h3 id="nedostatki-chisel">  рдЫреЗрдиреА рдХрд╛ рдиреБрдХрд╕рд╛рди </h3><br><p>  рдпрд╣ рдХрд╣рдирд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЫреЗрдиреА рдПрдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдЙрдкрдХрд░рдг рд╣реИ, рдФрд░ рдпрд╣ рдХрд┐ рд╕рднреА рдХреЛ рдЗрд╕реЗ рд╕реНрд╡рд┐рдЪ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╡рд╣, рдЬреИрд╕реЗ, рд╢рд╛рдпрдж, рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╕реНрддрд░ рдкрд░, рдЗрд╕рдХреА рдХрдорд┐рдпрд╛рдВ рд╣реИрдВ, рдЬреЛ рдкреВрд░реНрдгрддрд╛ рдХреЗ рд▓рд┐рдП рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИрдВред </p><br><p>  рдкрд╣рд▓рд╛ рдФрд░ рд╢рд╛рдпрдж рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рджреЛрд╖ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдлреНрд▓рд╢ рдХреА рдХрдореА рд╣реИред  рд╡рдЬрдирджрд╛рд░ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдХрдИ рддрд░реАрдХреЛрдВ рд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ рдмрд░рд╛рдорджреЗ рдХреЗ рдКрдкрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ, рдЬреЛ рд╕рд┐рдВрдХреНрд░реЛрдирд╕ рд░реАрд╕реЗрдЯ рдХреЛ рдПрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рдореЗрдВ рдмрджрд▓ рджреЗрддрд╛ рд╣реИред  рдРрд╕рд╛ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ  <code>always</code> рд╕рд╛рде рдЙрддреНрдкрдиреНрди verilog рдореЗрдВ рд╕рднреА рдирд┐рд░реНрдорд╛рдг рдмрд╣реБрдд рд╕рдорд╛рди рд╣реИрдВред </p><br><p>  рджреВрд╕рд░рд╛ рджреЛрд╖, рдХрдИ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЙрддреНрдкрдиреНрди verilog рдХреА рдЕрдкрдардиреАрдпрддрд╛ рд╣реИ рдФрд░, рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреА рдЬрдЯрд┐рд▓рддрд╛ред  рд▓реЗрдХрд┐рди рдЖрдЗрдП рдПрдХ рд╕рд░рд▓ рдХрд╛рдЙрдВрдЯрд░ рдХреЗ рд╕рд╛рде рдЙрджрд╛рд╣рд░рдг рд╕реЗ рдЙрддреНрдкрдиреНрди рдХреЛрдб рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ </p><br><div class="spoiler">  <b class="spoiler_title">рд╡рд░реНрд┐рд▓реЛрдЧ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">`ifdef RANDOMIZE_GARBAGE_ASSIGN `define RANDOMIZE `endif `ifdef RANDOMIZE_INVALID_ASSIGN `define RANDOMIZE `endif `ifdef RANDOMIZE_REG_INIT `define RANDOMIZE `endif `ifdef RANDOMIZE_MEM_INIT `define RANDOMIZE `endif module SimpleCounter( input clock, input reset, input io_enable, output [7:0] io_out ); reg [7:0] counter; reg [31:0] _RAND_0; wire [8:0] _T_7; wire [7:0] _T_8; wire [7:0] _GEN_0; assign _T_7 = counter + 8'h1; assign _T_8 = _T_7[7:0]; assign _GEN_0 = io_enable ? _T_8 : counter; assign io_out = counter; `ifdef RANDOMIZE integer initvar; initial begin `ifndef verilator #0.002 begin end `endif `ifdef RANDOMIZE_REG_INIT _RAND_0 = {1{$random}}; counter = _RAND_0[7:0]; `endif // RANDOMIZE_REG_INIT end `endif // RANDOMIZE always @(posedge clock) begin if (reset) begin counter &lt;= 8'h0; end else begin if (io_enable) begin counter &lt;= _T_8; end end end endmodule</code> </pre> </div></div><br><p>  рдкрд╣рд▓реА рдирдЬрд╝рд░ рдореЗрдВ, рдЙрддреНрдкрдиреНрди рд╡реЗрд░рд┐рд▓реЙрдЧ рджреВрд░, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдПрдХ рдордзреНрдпрдо рдЖрдХрд╛рд░ рдХреЗ рдбрд┐рдЬрд╛рдЗрди рдореЗрдВ рднреА рдзрдХреНрдХрд╛ рджреЗ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдЗрдП рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВред </p><br><ul><li>  RANDOMIZE рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ - (рдЫреЗрдиреА-рдкрд░реАрдХреНрд╖рдХ рдХреЗ рд╕рд╛рде рдкрд░реАрдХреНрд╖рдг рдХрд░рддреЗ рд╕рдордп рдХрд╛рдо рдЖ рд╕рдХрддрд╛ рд╣реИ) - рдЖрдо рддреМрд░ рдкрд░ рдмреЗрдХрд╛рд░ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡реЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ </li><li>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдЕрдкрдиреЗ рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдХрд╛ рдирд╛рдо рджреЗрдЦрддреЗ рд╣реИрдВ, рдФрд░ рд░рдЬрд┐рд╕реНрдЯрд░ рд╕рдВрд░рдХреНрд╖рд┐рдд рд╣реИ </li><li>  _GEN_0 рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдПрдХ рдмреЗрдХрд╛рд░ рдЪрд░ рд╣реИ, рд▓реЗрдХрд┐рди рджреБрднрд╛рд╖рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рд╡реЗрд░рд┐рд▓ рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВред  рд╣рдо рднреА рдЗрд╕ рдкрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджреЗрддреЗ рд╣реИрдВред </li><li>  _T_7 рдФрд░ _T_8 рдмрдиреЗ рд░рд╣реЗрдВ, рдЬрдирд░реЗрдЯ рдХрд┐рдП рдЧрдП рд╡реЗрд░рд┐рд▓реЙрдЧ рдореЗрдВ рд╕рднреА рд╕рдВрдпреЛрдЬрди рддрд░реНрдХ рдХреЛ рдЪрд░ _T рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд░рдг рджрд░ рдЪрд░рдг рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </li></ul><br><p>  рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд, рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдкреЛрд░реНрдЯ, рд░рдЬрд┐рд╕реНрдЯрд░, рддрд╛рд░ рдЕрдкрдиреЗ рдирд╛рдо рдХреЛ рдЫреЗрдиреА рд╕реЗ рд░рдЦрддреЗ рд╣реИрдВред  рдФрд░ рдЕрдЧрд░ рдЖрдк рдХреЗрд╡рд▓ рд╡реЗрд░рд┐рд▓реЛрдЧ рдкрд░ рд╣реА рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдЫреЗрдиреА рдореЗрдВ рднреА рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдЬрд▓реНрдж рд╣реА рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрджреНрдз рд╡рд░реНрдореЛрдЧ рдХреЗ рд╕рд╛рде рдЖрд╕рд╛рди рд╣реЛ рдЬрд╛рдПрдЧреАред </p><br><h3 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h3><br><p>  рдЖрдзреБрдирд┐рдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛рдУрдВ рдореЗрдВ, рдЖрд░рдЯреАрдПрд▓ рдХрд╛ рд╡рд┐рдХрд╛рд╕, рдЪрд╛рд╣реЗ рд╡рд╣ рдЕрдХрд╛рджрдорд┐рдХ рд╡рд╛рддрд╛рд╡рд░рдг рд╕реЗ рдмрд╛рд╣рд░ рд╣реЛ рдпрд╛ рдПрдлрдкреАрдЬреА, рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдХреЗрд╡рд▓ рд╢реБрджреНрдз рд╣рд╕реНрддрд▓рд┐рдЦрд┐рдд рд╡реЗрд░рд┐рд▓реЙрдЧ рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкрд░ рдЪрд▓рд╛ рдЧрдпрд╛ рд╣реИ, рдпрд╣ рдПрдХ рдЫреЛрдЯреА рд╕реА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдпрд╛ рд╕рдВрдкреВрд░реНрдг рдИрдЯреАрдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рд╣реИред </p><br><p>  рдбрд┐рдЬрд┐рдЯрд▓ рддрд░реНрдХ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП, рдЪрд┐рд╕реЗрд▓, рдмрджрд▓реЗ рдореЗрдВ, рднрд╛рд╖рд╛рдУрдВ рдХрд╛ рддрд╛рд░реНрдХрд┐рдХ рд╡рд┐рдХрд╛рд╕ рд╣реИред  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рдЗрд╕ рд╕реНрддрд░ рдкрд░ рд╡рд╣ рдкрд░рд┐рдкреВрд░реНрдг рд╕реЗ рдмрд╣реБрдд рджреВрд░ рд╣реИ, рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдРрд╕реЗ рдЕрд╡рд╕рд░ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдЖрдк рдЙрд╕рдХреА рдХрдорд┐рдпреЛрдВ рдХреЛ рджреВрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред      ,                   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi419413/">https://habr.com/ru/post/hi419413/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi419401/index.html">рдЬрд╛рд╡рд╛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдЗрдВрдЯрд░рдлреЗрд╕: рдкрд┐рдХреЛрдХрд▓реА</a></li>
<li><a href="../hi419405/index.html">IPv6 рдХреЗ рд╕рд╛рде рдЪреАрдЬреЗрдВ рдХреИрд╕реА рд╣реИрдВ, рдпрд╛ рдХреНрдпрд╛ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдПрдХ рдирдП рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рд╕рдВрдХреНрд░рдордг рдореЗрдВ рдмрд╛рдзрд╛ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ - рд╕реНрдерд┐рддрд┐ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВ</a></li>
<li><a href="../hi419407/index.html">5x5 рдкреНрд░рд╛рд░реВрдк рдореЗрдВ OpenAI рдФрд░ рд▓реЛрдЧреЛрдВ рдХреЗ рдмреАрдЪ Dota 2 рдореИрдЪ рдХрд╛ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╢реНрд▓реЗрд╖рдгред рд▓реЛрдЧ рд╣рд╛рд░ рдЧрдП</a></li>
<li><a href="../hi419409/index.html">рдирдИ рдЗрдВрдЯреЗрд▓ NUCs рдХреЙрдлреА рд▓реЗрдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ</a></li>
<li><a href="../hi419411/index.html">рдПрдХ рдЧрдЧрдирдЪреБрдВрдмреА рдЗрдорд╛рд░рдд рдореЗрдВ рдЖрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВред рд╕рд┐рдиреЗрдорд╛ рдФрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛</a></li>
<li><a href="../hi419415/index.html">рдореИрдЯрд░реЗрд╕реНрдЯ рдФрд░ рдкреЙрд╡рд░реНрд╕рд╣реЗрд▓ - рдШрд░ рдореЗрдВ рдмрдбрд╝реА рд╢рдХреНрддрд┐, рдпрд╛ рдЫреЛрдЯрд╛ рд╕реНрд╡рдЪрд╛рд▓рди</a></li>
<li><a href="../hi419417/index.html">рдЬреАрдбреАрдкреАрдЖрд░: рдбреЗрдЯрд╛ рдореИрдкрд┐рдВрдЧ рдпрд╛ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЛ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рднреВрд▓ рдЧрдП рд▓реИрдкрдЯреЙрдк рдХреИрд╕реЗ рдорд┐рд▓рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi419419/index.html">рдпреВрдЖрдИ рдСрдЯреЛ-рдкрд░реАрдХреНрд╖рдг: рдпрд╣ рдХреИрд╕реЗ рдХрд░рдирд╛ рд╣реИ рдЗрд╕рдХреЗ рд▓рд╛рдпрдХ рдирд╣реАрдВ рд╣реИ</a></li>
<li><a href="../hi419423/index.html">рд╣рдореЗрдВ рдлреНрд░рд┐рдЬрд╝ рдФрд░ рдЯреНрд╡рд┐рдЪ рдХреЗ рдмрд┐рдирд╛ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдХреЗ рд╡реАрдбрд┐рдпреЛ рдХрд╛ рд╡рд╛рджрд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ</a></li>
<li><a href="../hi419425/index.html">рд╕реБрд░рдХреНрд╖рд╛ рд╕рдкреНрддрд╛рд╣ 29. рд╣реИрдХрд┐рдВрдЧ рд░реЗрдбрд┐рдЯ, рдХреНрд░рд┐рдкреНрдЯреЛрдХреНрдпреВрд░реЗрдВрд╕реА рдФрд░ рдорд┐рдХреНрд░реЛрдЯрд┐рдХ рд░рд╛рдЙрдЯрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реЙрд▓реЗрдЯ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>