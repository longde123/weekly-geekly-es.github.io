<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥘 🚈 🧒🏿 亚马逊伐木场：灵魂的呐喊 ☺️ 📚 🏂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="游戏是最受欢迎的软件产品之一。 这是一个巨大的行业，其中新的游戏引擎-Amazon Lumberyard。 该项目仍处于测试阶段，它有时间修复错误并提高代码质量。 引擎的开发人员在不久的将来要做很多工作，以免使数百万游戏玩家和游戏开发人员失望。 

 引言 
 Amazon Lumberyard是由...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>亚马逊伐木场：灵魂的呐喊</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/416565/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/94c/9b7/4f0/94c9b74f00eae5bc8d344548dd744585.png"></div><br> 游戏是最受欢迎的软件产品之一。 这是一个巨大的行业，其中新的游戏引擎-Amazon Lumberyard。 该项目仍处于测试阶段，它有时间修复错误并提高代码质量。 引擎的开发人员在不久的将来要做很多工作，以免使数百万游戏玩家和游戏开发人员失望。 <br><a name="habracut"></a><br><h2> 引言 </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Amazon Lumberyard</a>是由Amazon开发的免费AAA跨平台游戏引擎，基于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CryEngine</a>引擎架构，该架构于2015年获得Crytek的许可。 顺便说一句，我在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2016</a>年<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">8月</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2017</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">年</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">4月</a>已经对CryEngine进行了两次分析。 同时，我必须指出，一年之后，代码只会变得更糟。 前几天，我决定看看亚马逊基于该游戏引擎做了什么。 他们在环境方面做得很好。 开发人员和用于部署工作环境的软件的文档非常酷，而且层次很高。 但是麻烦又出在代码上！ 我希望亚马逊有更多的资源来处理该项目，并且他们仍然关注代码的质量。 通过这次回顾，我希望引起开发人员对代码质量的关注，并推动在此游戏引擎的开发中寻求新方法。 代码的当前状态处于令人沮丧的状态，以至于当我查看带有分析结果的报告时，我多次更改了文章标题并重新绘制了标题图片。 图片的第一版不那么令人激动： <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e6d/fa3/c02/e6dfa3c02fad5fb4eadd6ca01cd68b62.png"></div><br><br> 我们分析了最新可用版本1.14.0.1的Amazon Lumberyard的来源。 源代码来自<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Github</a>上的存储库。  Lumberyard引擎上最早的游戏之一应该是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Star Citizen</a> 。 等待她的潜在玩家，我也邀请您看看游戏的“幕后花絮”。 <br><br><h2> 与PVS-Studio集成 </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PVS-Studio被</a>用作静态代码分析器。 它可用于Windows，Linux和macOS。 即 对于跨平台项目的分析，甚至还可以选择一些更舒适的工作。 除了C和C ++，还支持使用C＃语言进行项目分析。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Java计划</a> 。 世界上绝大多数代码都是用列出的语言编写的（当然，并非没有错误），因此在您的项目上尝试使用PVS-Studio分析仪，您将学到很多有趣的东西；-)。 <br><br> 作为Lumberyard装配系统，使用了WAF，该系统也在CryEngine中使用。 分析仪没有与该装配系统集成的特殊方法。 我决定在Windows上处理一个项目，并选择了这种开始分析的方法： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">编译监视系统</a> 。  Visual Studio的项目文件是自动生成的。 它可用于构建项目和查看分析器报告。 <br><br> 用于分析的命令列表如下所示： <br><br><pre><code class="cpp hljs">cd /path/to/lumberyard/dev lmbr_waf.bat ... CLMonitor.exe monitor MSBuild.exe ... LumberyardSDK_vs15.sln ... CLMonitor.exe analyze --<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> /path/to/report.plog</code> </pre> <br> 正如我所说，该报告可以在Visual Studio中查看。 <br><br><h2> 关于伊戈尔和高通 </h2><br>  Amazon Lumberyard将自己定位为跨平台游戏引擎。 利用这种功能向大众推广项目很容易，但是维护起来却很困难。  PVS-Studio发出的警告之一是在代码片段上发出的，程序员Igor与Qualcomm编译器进行了对抗。 也许他解决了他的问题，但是留下了一个非常可疑的代码。 我决定用图片来画。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V523'then</a> '语句等效于'else'语句。  toglsloperand.c 700 <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/933/cc0/610/933cc0610c9968b8c0d1455ffcd4f245.png"></p><br> 在此，无论计算出的条件如何，均执行相同的代码。 在留下评论的背景下，这样的决定显得可疑。 <br><br> 通常，项目不是唯一需要简化条件以使其清晰或纠正实际错误的地方。 这是这些地方的列表： <br><br><ul><li>  V523'then'语句等效于'else'语句。 第1385章 </li><li>  V523'then'语句等效于'else'语句。  tometalinstruction.c 4201 </li><li>  V523'then'语句等效于'else'语句。 脚本表cpp 905 </li><li>  V523'then'语句等效于'else'语句。 预算系统.cpp 701 </li><li>  V523'then'语句等效于'else'语句。  editorframeworkapplication.cpp 562 </li><li>  V523'then'语句等效于'else'语句。 粒子项目cpp 130 </li><li>  V523'then'语句等效于'else'语句。  trackviewnodes.cpp 1223 </li><li>  V523'then'语句等效于'else'语句。  propertyoarchive.cpp 447 </li></ul><br><h2>  Python ++ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/000/30b/8bd/00030b8bd5aa006af7df8c98db5ef66f.png"></div><br><br> 分析器发现了这样一个有趣的代码： <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V709</a> CWE-682发现可疑比较：“ a == b == c”。 请记住，“ a == b == c”不等于“ a == b &amp;&amp; b == c”。 第564章 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CallBinaryOp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> src1SwizCount = GetNumSwizzleElements(....); <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> src0SwizCount = GetNumSwizzleElements(....); <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> dstSwizCount = GetNumSwizzleElements(....); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (src1SwizCount == src0SwizCount == dstSwizCount) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { .... } .... }</span></span></code> </pre> <br> 不幸的是，在C ++中，这样的代码可以成功编译，但看起来却根本无法执行。  C ++中的表达式按优先级求值，并在必要时执行隐式种姓。 <br><br> 例如，在Python语言中，这种检查是正确的。 但是在这种情况下，开发人员“陷入困境”。 <br><br> 另外3张控制照： <br><br><ul><li>  V709 CWE-682发现可疑比较：“ a == b == c”。 请记住，“ a == b == c”不等于“ a == b &amp;&amp; b == c”。 第654章 </li><li>  V709 CWE-682发现可疑比较：“ a == b == c”。 请记住，“ a == b == c”不等于“ a == b &amp;&amp; b == c”。 第469章 </li><li>  V709 CWE-682发现可疑比较：“ a == b == c”。 请记住，“ a == b == c”不等于“ a == b &amp;&amp; b == c”。 金属指令c 539 </li></ul><br><h2> 最好的诊断方法之一 </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e9/03c/f55/9e903cf5512521593ce3a8f226105025.png"></div><br><br> 这将与警告<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V501</a>有关<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-PVS</a> -Studio中的第一个通用诊断。 仅凭此诊断发现的错误就足以写一篇文章。  Amazon Lumberyard项目很好地证明了这一点。 <br><br> 不幸的是，长时间查看相同类型的错误很无聊，因此在本节中，我将仅评论几个代码片段，其余警告将被列出。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V501</a>在'||'的左侧和右侧有相同的子表达式 运算符：hotX &lt;0 ||  hotX &lt;0编辑器utils.cpp 166 <br><br><pre> <code class="cpp hljs">QCursor CMFCUtils::LoadCursor(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!pm.isNull() &amp;&amp; (hotX &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> || hotX &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)) { <span class="hljs-function"><span class="hljs-function">QFile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(path)</span></span></span></span>; f.open(QFile::ReadOnly); <span class="hljs-function"><span class="hljs-function">QDataStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;f)</span></span></span></span>; stream.setByteOrder(QDataStream::LittleEndian); f.read(<span class="hljs-number"><span class="hljs-number">10</span></span>); quint16 x; stream &gt;&gt; x; hotX = x; stream &gt;&gt; x; hotY = x; } .... }</code> </pre> <br> 条件缺少变量<b><i>hotY。</i></b> 经典错字。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V501</a>在'&amp;&amp;'运算符的左侧和右侧有相同的子表达式'sp.m_pTexture == m_pTexture'。  shadercomponents.h 487 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V501</a>在'&amp;&amp;'运算符的左侧和右侧有相同的子表达式'sp.m_eCGTextureType == m_eCGTextureType'。  shadercomponents.h 487 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> != (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SCGTexture&amp; sp) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sp.m_RegisterOffset == m_RegisterOffset &amp;&amp; sp.m_Name == m_Name &amp;&amp; sp.m_pTexture == m_pTexture &amp;&amp; <span class="hljs-comment"><span class="hljs-comment">// &lt;= 1 sp.m_RegisterCount == m_RegisterCount &amp;&amp; sp.m_eCGTextureType == m_eCGTextureType &amp;&amp; // &lt;= 2 sp.m_BindingSlot == m_BindingSlot &amp;&amp; sp.m_Flags == m_Flags &amp;&amp; sp.m_pAnimInfo == m_pAnimInfo &amp;&amp; sp.m_pTexture == m_pTexture &amp;&amp; // &lt;= 1 sp.m_eCGTextureType == m_eCGTextureType &amp;&amp; // &lt;= 2 sp.m_bSRGBLookup == m_bSRGBLookup &amp;&amp; sp.m_bGlobal == m_bGlobal) { return false; } return true; }</span></span></code> </pre> <br> 一次在此片段中发现了两个复制粘贴。 为了清楚起见，我画了箭头。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V501</a>在'=='运算符的左侧和右侧有相同的子表达式：pSrc.GetLen（）== pSrc.GetLen（）fbxpropertytypes.h 978 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FbxTypeCopy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FbxBlob&amp; pDst, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> FbxString&amp; pSrc)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> lCastable = pSrc.GetLen() == pSrc.GetLen(); FBX_ASSERT( lCastable ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( lCastable ) pDst.Assign(pSrc.Buffer(), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)pSrc.GetLen()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> lCastable; }</code> </pre> <br> 在这里，我想向<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AUTODESK</a>的开发人员问好。 此错误来自其<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FBX SDK</a>库。 混淆变量<i>pSrc</i>和<i>pDst</i> 。 我认为，除了Lumberyard之外，还有许多其他用户的项目依赖于此错误的代码。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V501</a> '&amp;&amp;'运算符的左侧和右侧都有相同的子表达式：pTS-&gt; pRT_ALD_1 &amp;&amp; pTS-&gt; pRT_ALD_1 d3d_svo.cpp 857 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CSvoRenderer::ConeTracePass(SSvoTargetsSet* pTS) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pTS-&gt;pRT_ALD_1 &amp;&amp; pTS-&gt;pRT_ALD_1) { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nPrevWidth = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { pTS-&gt;pRT_ALD_1-&gt;Apply(<span class="hljs-number"><span class="hljs-number">10</span></span>, m_nTexStateLinear); pTS-&gt;pRT_RGB_1-&gt;Apply(<span class="hljs-number"><span class="hljs-number">11</span></span>, m_nTexStateLinear); } } .... }</code> </pre> <br> 返回Lumberyard代码。 在这种情况下，检查相同的指针<i>pTS-&gt; pRT_ALD_1</i> 。 其中之一应该是<i>pTS-&gt; pRT_RGB_1</i> 。 也许即使在解释之后，也无法立即看到差异，但有一个差异：差异在于短子串<i>ALD</i>和<i>RGB</i> 。 如果系统提示您手动进行代码审查就足够了，请显示此示例。 <br><br> 如果这个例子还不够，那么还有5个类似的例子。 <br><ul><li>  V501在'||'的左侧和右侧有相同的子表达式 运算符：！pTS-&gt; pRT_ALD_0 ||！pTS-&gt; pRT_ALD_0 d3d_svo.cpp 1041 </li><li>  V501'&amp;&amp;'运算符的左侧和右侧有相同的子表达式：m_pRT_AIR_MIN &amp;&amp; m_pRT_AIR_MIN d3d_svo.cpp 1808 </li><li>  V501'&amp;&amp;'运算符的左侧和右侧有相同的子表达式：m_pRT_AIR_MAX &amp;&amp; m_pRT_AIR_MAX d3d_svo.cpp 1819 </li><li>  V501'&amp;&amp;'运算符的左侧和右侧有相同的子表达式：m_pRT_AIR_SHAD &amp;&amp; m_pRT_AIR_SHAD d3d_svo.cpp 1830 </li><li>  V501'&amp;&amp;'运算符的左侧和右侧有相同的子表达式：s_pPropertiesPanel &amp;&amp; s_pPropertiesPanelentityobject.cpp 1700 </li></ul><br> 正如我所承诺的，这是其余<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V501</a>警告的列表，没有代码示例： <div class="spoiler">  <b class="spoiler_title">展开清单</b> <div class="spoiler_text"><ul><li>  V501在“ ||”的左侧和右侧有相同的子表达式“ MaxX &lt;0” 操作员。  czbufferculler.h 128 </li><li>  V501有相同的子表达式'm_joints [op [1]]。在'-'运算符的左侧和右侧限制[1] [i]'。 第795章 </li><li>  V501在'-'运算符的左侧和右侧有相同的子表达式'm_joints [i] .limits [1] [j]'。 第2044章 </li><li>  V501在'|'的左侧和右侧有相同的子表达式'irect [0] .x +1-irect [1] .x &gt;&gt; 31' 操作员。  trimesh.cpp 4029 </li><li>  V501在“ ||”的左侧和右侧有相同的子表达式“ b-&gt; mlen &lt;= 0” 操作员。  bstrlib.c 1779 </li><li>  V501在“ ||”的左侧和右侧有相同的子表达式“ b-&gt; mlen &lt;= 0” 操作员。  bstrlib.c 1827 </li><li>  V501在“ ||”的左侧和右侧有相同的子表达式“ b-&gt; mlen &lt;= 0” 操作员。  bstrlib.c 1865 </li><li>  V501在“ ||”的左侧和右侧有相同的子表达式“ b-&gt; mlen &lt;= 0” 操作员。  bstrlib.c 1779 </li><li>  V501在“ ||”的左侧和右侧有相同的子表达式“ b-&gt; mlen &lt;= 0” 操作员。  bstrlib.c 1827 </li><li>  V501在“ ||”的左侧和右侧有相同的子表达式“ b-&gt; mlen &lt;= 0” 操作员。  bstrlib.c 1865 </li><li>  V501'-'运算符的左侧和右侧有相同的子表达式：dd-dd finalizingspline.h 669 </li><li>  V501在'^'运算符的左侧和右侧有相同的子表达式'pVerts [2]-pVerts [3]'。  roadrendernode.cpp 307 </li><li>  V501在“ ||”的左侧和右侧有相同的子表达式“！PGroup-&gt; GetStatObj（）”。 操作员。  terrain_node.cpp 594 </li><li>  V501在'||'的左侧和右侧有相同的子表达式 运算符：val == 0 ||  val ==-0 xmlcpb_attrwriter.cpp 367 </li><li>  V501在“ |”的左侧和右侧有相同的子表达式“ geom_colltype_solid” 操作员。 附件管理器.cpp 1058 </li><li>  V501在“ |”的左侧和右侧有相同的子表达式“（TriMiddle-RMWPosition）” 操作员。  modelmesh.cpp 174 </li><li>  V501在'|'的左边和右边有相同的子表达式'（goal-pAbsPose [b3] .t）'。 操作员。  posemodifierhelper.cpp 115 </li><li>  V501在'|'的左侧和右侧有相同的子表达式'（goal-pAbsPose [b4] .t）'。 操作员。  posemodifierhelper.cpp 242 </li><li>  V501在“ ||”的左侧和右侧有相同的子表达式“（m_eTFSrc == eTF_BC6UH）”。 操作员。 第983章 </li><li>  V501'-'运算符左右两侧有相同的子表达式：q2.vz-q2.vz azentitynode.cpp 102 </li><li>  V501'-'运算符的左侧和右侧有相同的子表达式：q2.vz-q2.vz entitynode.cpp 107 </li><li>  V501在'||'的左侧和右侧有相同的子表达式'm_listRect.contains（event-&gt; pos（））'。 操作员。  aidebuggerview.cpp 463 </li><li>  V501'&amp;&amp;'运算符的左侧和右侧有相同的子表达式：pObj-&gt; GetParent（）&amp;&amp; pObj-&gt; GetParent（）designerpanel.cpp 253 </li></ul></div></div><br><h2> 关于相机在游戏中的位置 </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/564/587/079/5645870792e812044ad7bd3df6fdd2f0.png"></div><br><br>  PVS-Studio- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V502中的</a>诊断速度第二快。 该诊断比某些新的编程语言要早，在新的编程语言中，不再会出现这种错误。 对于C ++，此错误可能是相关的，也许总是如此。 <br><br> 让我们从一个简单的例子开始。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V502</a>也许'？：'运算符的工作方式与预期的不同。  '？：'运算符的优先级低于'+'运算符。  zipencryptor.cpp 217 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> ZipEncryptor::ParseKey(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> pos = i * <span class="hljs-number"><span class="hljs-number">2</span></span> + (v1 == <span class="hljs-number"><span class="hljs-number">0xff</span></span>) ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">2</span></span>; RCLogError(<span class="hljs-string"><span class="hljs-string">"...."</span></span>, pos); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; .... }</code> </pre> <br> 加法运算的优先级高于三元运算符。 因此，该表达式的计算逻辑与作者假设的完全不同。 <br><br> 您可以通过以下方式解决错误： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> pos = i * <span class="hljs-number"><span class="hljs-number">2</span></span> + (v1 == <span class="hljs-number"><span class="hljs-number">0xff</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V502</a>也许'？：'运算符的工作方式与预期的不同。  '？：'运算符的优先级低于'-'运算符。  3dengine.cpp 1898 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> C3DEngine::GetDistanceToSectorWithWater() { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (bCameraInTerrainBounds &amp;&amp; (m_pTerrain &amp;&amp; m_pTerrain-&gt;GetDistanceToSectorWithWater() &gt; <span class="hljs-number"><span class="hljs-number">0.1f</span></span>)) ? m_pTerrain-&gt;GetDistanceToSectorWithWater() : max(camPostion.z - OceanToggle::IsActive() ? OceanRequest::GetOceanLevel() : GetWaterLevel(), <span class="hljs-number"><span class="hljs-number">0.1f</span></span>); }</code> </pre> <br> 这是一个示例代码，它们可用于相机位置。 一个例子很难用眼睛察觉，并且有一个错误。 为了发布，代码的格式已更改，但是在源文件中，此代码甚至更不可读。 <br><br> 该子字符串中存在错误： <br><br><pre> <code class="cpp hljs">camPostion.z - OceanToggle::IsActive() ? .... : ....</code> </pre> <br> 如果游戏中的摄像头突然开始出现异常行为，那么您应该知道开发人员保存了静态代码分析：D。 <br><br> 带有类似警告的其他示例： <br><br><ul><li>  V502也许'？：'运算符的工作方式与预期的不同。  '？：'运算符的优先级低于'-'运算符。  scriptbind_ai.cpp 5203 </li><li>  V502也许'？：'运算符的工作方式与预期的不同。  '？：'运算符的优先级低于'+'运算符。 第136章 </li><li>  V502也许'？：'运算符的工作方式与预期的不同。  '？：'运算符的优先级低于'&amp;&amp;'运算符。  shapetool.h 98 </li></ul><br><h2>  CryEngine旧版 </h2><br>  Amazon Lumberyard基于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CryEngine</a>代码。 而不是最佳版本。 通过查看分析仪报告，我得出了这样的结论。 在我的两次代码审查中，发现的一些错误已在最新版本的CryEngine中修复，但仍然存在于Lumberyard代码中。 另外，在过去的一年中，分析器得到了显着改进，并且有可能发现两个游戏引擎中现在存在的其他错误。 但是有了Lumberyard，情况变得更糟。 亚马逊基本上继承了CryEngine的所有技术债务。 但是，他自己的技术职责当然会在每个公司中自己出现：)。 <br><br> 在本节中，我将为您提供一些在最新版本的CryEngine中修复的错误，现在仅是Lumberyard项目的问题。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V519'BlendFactor</a> [2]'变量连续两次被赋值。 也许这是一个错误。 检查行：1283，1284。ccrydxgldevicecontext.cpp 1284 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/659/fb5/4bb/659fb54bb651df9abf4568dec3b76bf4.png"></div><br><br> 当Lumberyard开发人员发现此错误仅存在于他们身上时，大约会遇到这种情绪。 <br><br> 顺便说一句，还有两个： <br><br><ul><li>  V519连续两次给'm_auBlendFactor [2]'变量赋值两次。 也许这是一个错误。 检查行：919、920。ccrydxgldevicecontext.cpp 920 </li><li>  V519连续两次给'm_auBlendFactor [2]'变量赋值两次。 也许这是一个错误。 检查行：926、927。ccrydxgldevicecontext.cpp 927 </li></ul><br> 出现这样的错误： <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V546</a>类的成员由其自身初始化：'eConfigMax（eConfigMax.VeryHigh）'。  1837年 <br><br><pre> <code class="cpp hljs">ParticleParams() : .... fSphericalApproximation(<span class="hljs-number"><span class="hljs-number">1.f</span></span>), fVolumeThickness(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>), fSoundFXParam(<span class="hljs-number"><span class="hljs-number">1.f</span></span>), eConfigMax(eConfigMax.VeryHigh), <span class="hljs-comment"><span class="hljs-comment">// &lt;= fFadeAtViewCosAngle(0.f) {}</span></span></code> </pre> <br> 在CryEngine中，通常重写了该类，但此处仍然存在初始化错误。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V521</a>使用'，'运算符的此类表达式很危险。 确保表达式“！SWords [iWord] .empty（），iWord ++”正确。  tacticalpointsystem.cpp 3376 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> CTacticalPointSystem::Parse(....) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-function"><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sInput</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sSpec)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> MAXWORDS = <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sWords[MAXWORDS]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> iC = <span class="hljs-number"><span class="hljs-number">0</span></span>, iWord = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; iWord &lt; MAXWORDS; !sWords[iWord].empty(), iWord++) { sWords[iWord] = sInput.Tokenize(<span class="hljs-string"><span class="hljs-string">"_"</span></span>, iC); } .... }</code> </pre> <br>  CryEngine也已经重写了可疑循环。 <br><br><h2> 错误的寿命比您想象的更长 </h2><br> 对于第一次开始使用PVS-Studio的用户，情况大致相同：他们发现一个错误，发现它是几个月前添加的，并且很高兴地意识到他们奇迹般地避免了用户中问题的出现。 经历了这样的故事之后，我们的许多客户开始定期使用PVS-Studio。 <br><br> 有时，为了启动代码质量控制流程，公司必须多次访问这种情况。 这是有关CryEngine和Lumberyard的示例： <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V557</a> CWE-119阵列可能超限。  'id'索引指向数组边界之外。  gameobjectsystem.cpp 113 <br><br><pre> <code class="cpp hljs">uint32 CGameObjectSystem::GetExtensionSerializationPriority(....) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (id &gt; m_extensionInfo.size()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0xffffffff</span></span>; <span class="hljs-comment"><span class="hljs-comment">// minimum possible priority } else { return m_extensionInfo[id].serializationPriority; } }</span></span></code> </pre> <br> 如您所知，Amazon Lumberyard不是基于最新版本的CryEngine。 但是，借助PVS-Studio分析仪，有可能发现两个游戏引擎中当前存在的错误。 有必要使用运算符'&gt; ='检查索引... <br><br> 索引错误很严重。 而且，有<b>六个</b>这样的地方<b>！</b> 这是另一个示例： <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V557</a> CWE-119阵列可能超限。  “索引”索引指向数组边界之外。  carseatgroup.cpp 73 <br><br><pre> <code class="cpp hljs">CVehicleSeat* CVehicleSeatGroup::GetSeatByIndex(<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> index) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (index &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; index &lt;= m_seats.size()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m_seats[index]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; }</code> </pre> <br> 有人犯了相同类型的错误，而这些错误并没有得到解决，因为它们一次也没有被包括在CryEngine Bug评论中。 <br><br> 剩余警告： <br><br><ul><li>  V557 CWE-119阵列可能超限。  'id'索引指向数组边界之外。  gameobjectsystem.cpp 195 </li><li>  V557 CWE-119阵列可能超限。  'id'索引指向数组边界之外。  gameobjectsystem.cpp 290 </li><li>  V557 CWE-119阵列可能超限。  'stateId'索引指向数组边界之外。 车辆动画cpp 311 </li><li>  V557 CWE-119阵列可能超限。  'stateId'索引指向数组边界之外。 车辆动画cpp 354 </li></ul><br> 代码中长期存在的错误只能通过相应级别的项目测试来解释。 据信，静态分析只能在未使用的代码中发现错误。 因此，事实并非如此。 开发人员忘记了，大多数用户静默地遭受程序中不明显的错误，而这些非常罕见的错误的出现通常会对整个公司的工作，声誉及其销售（如果有）产生不利影响。 <br><br><h2> 复制粘贴编程的不同阴影 </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7b/18c/0d2/b7b18c0d2641836736a2bde2d19ba5ba.png"></div><br><br> 当您到达本文的这一部分时，您可能会注意到复制粘贴编程是造成许多问题的原因。 在PVS-Studio中，通过各种诊断来实现对此类错误的搜索。 本节将提供<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V561附带</a>的复制粘贴<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">示例</a> 。 <br><br> 这是在重叠范围中声明具有相同名称的变量时的可疑代码示例。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V561</a> CWE-563将值分配给'pLibrary'变量可能比重新声明它更好。 先前的声明：entityobject.cpp，第4703行。Entityobject.cpp4706 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CEntityObject::OnMenuConvertToPrefab() { .... IDataBaseLibrary* pLibrary = GetIEditor()-&gt;Get....; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pLibrary == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { IDataBaseLibrary* pLibrary = GetIEditor()-&gt;Get....; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pLibrary == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { QString sError = tr(....); CryMessageBox(....); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } .... }</code> </pre> <br>  pLibrary指针不会按预期覆盖。 该指针的初始化在条件和类型声明的情况下被完全复制。 <br><br> 我将列出所有类似的地方： <br><br><ul><li>  V561 CWE-563将值分配给'eType'变量可能比重新声明它更好。 先前的声明：toglsloperand.c，第838行。toglsloperand.c 1224 </li><li>  V561 CWE-563将值分配给'eType'变量可能比重新声明它更好。 先前的声明：toglsloperand.c，第838行。toglsloperand.c 1305 </li><li>  V561 CWE-563最好给'rSkelPose'变量赋值，而不是重新声明它。 先前的声明：attachmentmanager.cpp，第409行。attachmentmanager.cpp458 </li><li>  V561 CWE-563将值分配给'nThreadID'变量可能比重新声明它更好。 先前的声明：d3dmeshbaker.cpp，第797行。d3dmeshbaker.cpp 867 </li><li>  V561 CWE-563将值分配给'directoryNameList'变量可能比重新声明它更好。 先前的声明：assetimportermanager.cpp，第720行。assetimportermanager.cpp 728 </li><li>  V561 CWE-563将值分配给'pNode'变量可能比重新声明它更好。 先前的声明：breakpointsctrl.cpp，第340行。breakpointsctrl.cpp 349 </li><li>  V561 CWE-563将值分配给'pLibrary'变量可能比重新声明它更好。 先前的声明：prefabobject.cpp，行1443。prefabobject.cpp 1446 </li><li>  V561 CWE-563将值分配给'pLibrary'变量可能比重新声明它更好。 先前的声明：prefabobject.cpp，第1470行。prefabobject.cpp 1473 </li><li>  V561 CWE-563最好给'cmdLine'变量赋值而不是重新声明。 先前的声明：fileutil.cpp，第110行。fileutil.cpp 130 </li><li>  V561 CWE-563将值赋给'sfunctionArgs'变量可能比重新声明它更好。 先前的声明：attributeitemlogiccallbacks.cpp，第291行。attributeitemlogiccallbacks.cpp 303 </li><li>  V561 CWE-563将值赋给'curveName'变量可能比重新声明它更好。 先前的声明：qgradientselectorwidget.cpp，第475行。qgradientselectorwidget.cpp 488 </li></ul><br> 一长串...列出的一些地方甚至是所描述示例的完整副本。 <br><br><h2> 特征值初始化 </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54a/3e3/bff/54a3e3bff4ffeeeb75087c52d644eaa6.png"></div><br><br> 在游戏引擎的代码中，发现了很多将变量分配给自身的地方。 这些代码留给了调试的地方，代码只是经过精心设计的地方（它通常也是错误的来源），因此，我将为您提供一段对我来说最可疑的代码。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V570</a>将'behaviorParams.ignoreOnVehicleDestroyed'变量分配给它自己。  vehiclecomponent.cpp 168 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> CVehicleComponent::Init(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!damageBehaviorTable.getAttr(....) { behaviorParams.ignoreOnVehicleDestroyed = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { behaviorParams.ignoreOnVehicleDestroyed = <span class="hljs-comment"><span class="hljs-comment">// &lt;= behaviorParams.ignoreOnVehicleDestroyed; // &lt;= } .... }</span></span></code> </pre> <br> 在当前视图中，根本不需要<i>else</i>分支。 但是也许这段代码包含一个错误：他们想为变量赋相反的值： <br><br><pre> <code class="cpp hljs">bValue = !bValue</code> </pre> <br> 但是，开发人员最好熟悉此诊断的结果。 <br><br><h2> 问题处理 </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/4fe/a30/cef4fea30182004f3debd9467c1e8d16.png"></div><br><br> 本节将提供许多示例，说明在错误处理期间出现问题时。 <br><br>  <b>例子1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V606无</a>主令牌'nullptr'。  dx12rootsignature.cpp 599 <br><br><pre> <code class="cpp hljs">RootSignature* RootSignatureCache::AcquireRootSignature(....) { .... RootSignature* result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RootSignature(m_pDevice); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!result-&gt;Init(params)) { DX12_ERROR(<span class="hljs-string"><span class="hljs-string">"Could not create root signature!"</span></span>); <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; } m_RootSignatureMap[hash] = result; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } }</code> </pre> <br> 忘记写<i>返回nullptr;</i>  。 现在， <i>结果</i>变量的无效值将在代码的其他地方使用。 <br><br> 完全相同的代码被复制到另一个地方： <br><br><ul><li>  V606无主令牌'nullptr'。  dx12rootsignature.cpp 621 </li></ul><br>  <b>例子2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V606无</a>主令牌'false'。  fillspacetool.cpp 191 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> FillSpaceTool::FillHoleBasedOnSelectedElements() { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validEdgeList.size() == <span class="hljs-number"><span class="hljs-number">2</span></span>) { .... } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validEdgeList.empty()) { .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, iVertexSize(....); i &lt; iVertexSize; ++i) { validEdgeList.push_back(....); } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validEdgeList.empty()) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { false; // &lt;= fail } std::vector&lt;BrushEdge3D&gt; linkedEdgeList; std::set&lt;int&gt; usedEdgeSet; linkedEdgeList.push_back(validEdgeList[0]); // &lt;= fail .... }</span></span></code> </pre> <br> 缺少<i>return语句</i>的错误的非常有趣的例子。 现在可以访问一个空容器来访问索引了。 <br><br>  <b>例子3</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V564</a> CWE-480'＆'运算符应用于布尔类型值。 您可能忘记了括号或打算使用'&amp;&amp;'运算符。  2914年 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetDataTypes</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-comment"><span class="hljs-comment">// Check assumption that both the values which MOVC might pick // have the same basic data type. if(!psContext-&gt;flags &amp; HLSLCC_FLAG_AVOID_TEMP_REGISTER_ALIASING) { ASSERT(GetOperandDataType(psContext, &amp;psInst-&gt;asOperands[2]) == GetOperandDataType(psContext, &amp;psInst-&gt;asOperands[3])); } .... }</span></span></code> </pre> <br> 错误地检查了标志中是否存在位。 否定运算符应用于标志值，而不是整个表达式。 正确地这样写： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!(psContext-&gt;flags &amp; ....))</code> </pre> <br> 更多类似的警告： <br><br><ul><li>  V564 CWE-480'|' 运算符应用于布尔类型值。 您可能忘记了括号或打算使用'||' 操作员。  d3dhwshader.cpp 1832 </li><li>  V564 CWE-480'＆'运算符应用于布尔类型值。 您可能忘记了括号或打算使用'&amp;&amp;'运算符。  trackviewdialog.cpp 2112 </li><li>  V564 CWE-480'|' 运算符应用于布尔类型值。 您可能忘记了括号或打算使用'||' 操作员。  imagecompiler.cpp 1039 </li></ul><br>  <b>例子4</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V596</a> CWE-390已创建对象，但未使用该对象。 可能没有'throw'关键字：throw runtime_error（FOO）;  prefabobject.cpp 1491 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; PyGetPrefabLibrarys() { CPrefabManager* pPrefabManager = GetIEditor()-&gt;GetPrefabMa....; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!pPrefabManager) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::runtime_error(<span class="hljs-string"><span class="hljs-string">"Invalid Prefab Manager."</span></span>); } .... }</code> </pre> <br> 引发异常时出错。 有必要这样写： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::runtime_error(<span class="hljs-string"><span class="hljs-string">"Invalid Prefab Manager."</span></span>);</code> </pre> <br> 此类错误的完整列表： <br><br><ul><li>  V596 CWE-390已创建对象，但未使用该对象。 可能没有'throw'关键字：throw runtime_error（FOO）;  prefabobject.cpp 1515 </li><li>  V596 CWE-390已创建对象，但未使用该对象。 可能没有'throw'关键字：throw runtime_error（FOO）;  prefabobject.cpp 1521 </li><li>  V596 CWE-390已创建对象，但未使用该对象。 可能没有'throw'关键字：throw runtime_error（FOO）;  prefabobject.cpp 1543 </li><li>  V596 CWE-390已创建对象，但未使用该对象。 可能没有'throw'关键字：throw runtime_error（FOO）;  prefabobject.cpp 1549 </li><li>  V596 CWE-390已创建对象，但未使用该对象。 可能没有'throw'关键字：throw runtime_error（FOO）;  prefabobject.cpp 1603 </li><li>  V596 CWE-390已创建对象，但未使用该对象。 可能没有'throw'关键字：throw runtime_error（FOO）;  prefabobject.cpp 1619 </li><li>  V596 CWE-390已创建对象，但未使用该对象。 可能没有'throw'关键字：throw runtime_error（FOO）;  prefabobject.cpp 1644 </li></ul><br><br><h2> 使用内存时的几个问题 </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/521/55f/307/52155f307f3824842c324aa99902796e.png"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V549</a> CWE- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">688'memcmp</a> '函数的第一个参数等于第二个参数。  meshutils.h 894 <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VertexLess</span></span></span><span class="hljs-class"> {</span></span> .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m.m_links[a].links.size() != m.m_links[b].links.size()) { res = (m.m_links[a].links.size() &lt; m.m_links[b].links.size()) ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : +<span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { res = <span class="hljs-built_in"><span class="hljs-built_in">memcmp</span></span>(&amp;m.m_links[a].links[<span class="hljs-number"><span class="hljs-number">0</span></span>], &amp;m.m_links[a].links[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(m.m_links[a].links[<span class="hljs-number"><span class="hljs-number">0</span></span>]) * m.m_links[a].links.size()); } .... } .... };</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该条件比较两个向量的大小。</font><font style="vertical-align: inherit;">如果它们相等，那么在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分支中，</font><font style="vertical-align: inherit;">使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcmp（）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数比较向量的第一元素</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">但是此函数的第一个和第二个参数相同！</font><font style="vertical-align: inherit;">访问数组元素相当麻烦。</font><font style="vertical-align: inherit;">有索引</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">他们中最有可能出现错字。</font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V611</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-762使用“ new T []”运算符分配了内存，但使用“ delete”运算符释放了内存。</font><font style="vertical-align: inherit;">考虑检查此代码。</font><font style="vertical-align: inherit;">最好使用'delete [] data;'。</font><font style="vertical-align: inherit;">向量n.h 102</font></font><br><br><pre> <code class="cpp hljs">~vectorn_tpl() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(flags &amp; mtx_foreign_data)) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>[] data; } } vectorn_tpl&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vectorn_tpl&lt;ftype&gt;&amp; src) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (src.len != len &amp;&amp; !(flags &amp; mtx_foreign_data)) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> data; <span class="hljs-comment"><span class="hljs-comment">// &lt;= data = new ftype[src.len]; } .... }</span></span></code> </pre> <br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指针</font><i><font style="vertical-align: inherit;">存储器正在</font></i><font style="vertical-align: inherit;">使用无效的语句释放。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delete []</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符必须在</font><i><font style="vertical-align: inherit;">所有地方</font></i><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">。</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 无法访问的代码 </font></font></h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V779</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-561检测</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">不到</font></a><font style="vertical-align: inherit;">代码。</font><font style="vertical-align: inherit;">可能存在错误。</font><font style="vertical-align: inherit;">fbxskinimporter.cpp 67</font></font><br><br><pre> <code class="cpp hljs">Events::ProcessingResult FbxSkinImporter::ImportSkin(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (BuildSceneMeshFromFbxMesh(....) { context.m_createdData.push_back(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(createdData)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Events::ProcessingResult::Success; <span class="hljs-comment"><span class="hljs-comment">// &lt;= } else { return Events::ProcessingResult::Failure; // &lt;= } context.m_createdData.push_back(); // &lt;= fail return Events::ProcessingResult::Success; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件语句的所有分支以函数的退出结束。</font><font style="vertical-align: inherit;">但是，某些代码未执行。</font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V779</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-561检测</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">不到</font></a><font style="vertical-align: inherit;">代码。</font><font style="vertical-align: inherit;">可能存在错误。</font><font style="vertical-align: inherit;">第153章</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> DockableLibraryTreeView::Init(IDataBaseLibrary* lib) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m_treeView &amp;&amp; m_titleBar &amp;&amp; m_defaultView) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m_treeView-&gt;topLevelItemCount() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { ShowTreeView(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ShowDefaultView(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">// &lt;= } else { return false; // &lt;= } emit SignalFocused(this); // &lt;= fail }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这段代码中很容易发现错误。</font><font style="vertical-align: inherit;">但是，如果您长时间编写代码，则注意力会急剧下降，并且此类错误很容易落入项目中。</font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V622</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-478考虑检查“ switch”语句。</font><font style="vertical-align: inherit;">第一个“ case”运算符可能会丢失。</font><font style="vertical-align: inherit;">datum.cpp 872</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">AZ_INLINE </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsDataGreaterEqual</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (type.GetType()) { AZ_Error(<span class="hljs-string"><span class="hljs-string">"ScriptCanvas"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"...."</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Data::eType::Number: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IsDataGreaterEqual&lt;Data::NumberType&gt;(lhs, rhs); .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Data::eType::AABB: AZ_Error(<span class="hljs-string"><span class="hljs-string">"ScriptCanvas"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"...."</span></span>, Data::Traits&lt;Data::AABBType&gt;::GetName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Data::eType::OBB: AZ_Error(<span class="hljs-string"><span class="hljs-string">"ScriptCanvas"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"...."</span></span>, Data::Traits&lt;Data::OBBType&gt;::GetName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; .... }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开关</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">case / default语句</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之外的代码</font><font style="vertical-align: inherit;">，则永远不会执行它。</font></font><br><br><h2> 结论 </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本文包括</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">95个</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析器警告，其中25个带有代码示例。整个分析仪报告中有多少材料？我迅速滚动</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了高级警报</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font><b><font style="vertical-align: inherit;">三分之一</font></b><font style="vertical-align: inherit;">。还有“中”和“低”，一组用于搜索优化的诊断程序以及分析仪的其他尚未开发的机会-这些是数百个更明显的错误和数千个未开发的警告。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后，读者需要问自己一个问题：“这种方法是否可以发布一个好的游戏引擎？”没有代码质量控制。具有旧错误的CryEngine代码被作为基础，添加了新错误。只有在下一次检查代码之后，CryEngine本身才能最终确定。亚马逊拥有一切机会利用其资源朝着代码质量的方向努力，并发布最酷的游戏引擎！</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要很沮丧。在PVS-Studio客户中，还有三十多家参与游戏的公司。</font><font style="vertical-align: inherit;">通过选择过滤器“游戏开发”，</font><font style="vertical-align: inherit;">您可以在我们的网站“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ” </font><font style="vertical-align: inherit;">页面上了解他们及其产品</font><font style="vertical-align: inherit;">。因此，我们正在逐步改善世界。也许我们可以改善Amazon Lumberyard :)。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一位同事最近写了一篇有关游戏软件质量的文章，建议您阅读：“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视频游戏行业的静态分析：十大软件错误”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接下载</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析仪</font><font style="vertical-align: inherit;">，没有它怎么办;-)</font></font><br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您想与说英语的读者分享这篇文章，请使用以下链接：Svyatoslav Razmyslov。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">亚马逊伐木场：痛苦的尖叫</font></font></a> <br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您阅读文章并有疑问吗？</font></font></b> <div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常我们的文章会被问同样的问题。</font><font style="vertical-align: inherit;">我们在这里收集了</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">答案</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">读者对有关PVS-Studio版本2015的文章</font></a><font style="vertical-align: inherit;">的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">回答</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参阅清单。</font></font></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN416565/">https://habr.com/ru/post/zh-CN416565/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN416551/index.html">幸福理论。 西瓜皮的规律和异常的正常性</a></li>
<li><a href="../zh-CN416553/index.html">交易所交易终端开发方式如何变化：2018年的4个趋势</a></li>
<li><a href="../zh-CN416555/index.html">新闻提要：我们为什么这样做做错了？</a></li>
<li><a href="../zh-CN416557/index.html">GitLab 11.0：Auto DevOps和许可证管理发布</a></li>
<li><a href="../zh-CN416561/index.html">打印机住了，打印机住了，打印机会住了！ 佳能MG7140处理</a></li>
<li><a href="../zh-CN416569/index.html">像Prius，但仅在Linux上：考虑混合办公室</a></li>
<li><a href="../zh-CN416573/index.html">从任何地址发送电子邮件</a></li>
<li><a href="../zh-CN416575/index.html">CERN大型强子对撞机磁体的超导破坏分析</a></li>
<li><a href="../zh-CN416577/index.html">摘要MBLT DEV-适用于iOS开发人员的全新内容</a></li>
<li><a href="../zh-CN416579/index.html">我们使用Web Bluetooth API和Arduino控制LED</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>