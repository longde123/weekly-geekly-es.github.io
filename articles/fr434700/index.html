<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë´ üëë üÜó Avantages de suivre les guides de style lors du d√©veloppement d'applications angulaires üí° üÜí ü§≥üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fin 2018, le Panda-Meetup # 9 Frontend a eu lieu √† Samara. Lors de cet √©v√©nement, je me suis essay√© dans un nouveau r√¥le et j'ai fait une pr√©sentation...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Avantages de suivre les guides de style lors du d√©veloppement d'applications angulaires</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/psb/blog/434700/">  Fin 2018, le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Panda-Meetup # 9 Frontend a</a> eu lieu √† Samara.  Lors de cet √©v√©nement, je me suis essay√© dans un nouveau r√¥le et j'ai fait une pr√©sentation.  Je m'appelle Evgeny Kholmov.  J'ai commenc√© √† programmer il y a plus de 10 ans, en tant qu'√©tudiant.  Depuis 5 ans, je d√©veloppe des syst√®mes de services √† distance dans de grandes banques russes, dont deux ans en tant que manager.  Pendant ce temps, j'ai particip√© √† la cr√©ation de plusieurs applications d'entreprise russes de premier plan, passant par les √©pines de solutions architecturales, d'int√©gration et de processus lourdes.  Sur la base de mon exp√©rience dans le d√©veloppement de plusieurs grandes banques Internet, j'ai expliqu√© aux invit√©s de la mitap quels avantages ce serait de suivre les r√®gles d'un bon style de d√©veloppement.  Les chiffres exprim√©s ont impressionn√© le public.  Les participants √† la r√©union m'ont litt√©ralement submerg√© de questions.  Il est possible que parmi les lecteurs de Habr√© ce sujet trouve une r√©ponse vivante. <br><br><img src="https://habrastorage.org/webt/dg/oy/ou/dgoyou_yhvh6nzo65shrybtvlgw.jpeg"><br><a name="habracut"></a><br>  Vous pouvez regarder la vid√©o de ma pr√©sentation sur Youtube. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0WHW37Wif54" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Et pour les citoyens de Khabrovsk, j'ai pr√©par√© une version texte de mon rapport. <br><br>  En √©tudiant les probl√®mes de lisibilit√© du code, je suis tomb√© sur StackOverflow sur un sujet curieux.  Il a discut√© de l'importance du code lisible par l'entreprise et s'il est plus important que les performances et l'exactitude.  En cons√©quence, selon les membres de la communaut√©, le crit√®re le plus important √©tait la lisibilit√© du code. <br><br>  A cette √©poque, je n'√©tais pas int√©ress√© par les probl√®mes de lisibilit√© du code - je d√©veloppais la prochaine banque Internet.  Le frontend utilisait HTML5, AngularJS, LESS.  Le projet a √©t√© d√©velopp√© pour l'une des plus grandes banques de Russie.  Je suis pass√© √† ce projet depuis Promsvyazbank, o√π j'ai d√©velopp√© une banque Internet tr√®s similaire: le m√™me segment de clients, le m√™me nombre d'utilisateurs, presque la m√™me pile technologique (HTML5, AngularJS, SCSS).  Mais, malgr√© la forte similitude des projets, la transition a √©t√© tr√®s difficile pour moi.  C'est une question de style.  Le code de ces projets √©tait remarquablement diff√©rent dans la conception et la lisibilit√© g√©n√©rale.  Si √† Promsvyazbank les d√©veloppeurs ont strictement suivi les directives, alors dans le nouveau projet il n'y avait pas de r√®gles de style claires. <br><br>  C'est alors que j'ai pu comprendre (et m√™me calculer) les avantages qu'un grand projet apporte √† des guides de style stricts.  Apr√®s avoir analys√© les co√ªts de d√©veloppement de mon nouveau projet, je suis arriv√© √† la m√™me conclusion que les lecteurs StackOverflow: la lisibilit√© est le crit√®re le plus important. <br><br><img src="https://habrastorage.org/webt/1u/o1/t3/1uo1t3d4w8n2qhm-61tyob1cn0c.png"><br><br><h3>  Bonnes r√®gles de style </h3><br>  Pour AngularJS et Angular 2+, un expert bien connu dans le monde du d√©veloppement frontal, John Papa, a cr√©√© des guides de style qui d√©crivent les r√®gles de bon style lors du d√©veloppement d'applications angulaires.  En travaillant √† Promsvyazbank, j'ai d√©couvert ces guides de style.  L'√©quipe les a clairement suivis sur tous les projets.  Mais sur le nouveau projet, le code provenait d'entrepreneurs qui ne pensaient pas si s√©rieusement au style de programmation.  Avec ma nouvelle √©quipe, je suis tomb√© sur des t√¢ches quotidiennes que j'avais d√©j√† r√©solues auparavant.  Cependant, cela ne m'a donn√© aucun avantage, mais seulement de la douleur et de la souffrance. <br><br>
<h3>  Une histoire de temps perdu ou pourquoi avons-nous besoin de toutes ces r√®gles </h3><br>  Le guide de style de John Papa √©num√®re un grand nombre de r√®gles.  Les √©num√©rer √† plusieurs reprises n'a aucun sens, ils sont parfaitement pr√©sent√©s dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">source d'origine</a> .  Je me limiterai √† quelques exemples qui d√©montrent de mani√®re color√©e les avantages des recommandations d'experts. <br><br><h3>  Commen√ßons par un simple </h3><br>  Etude de cas.  Les utilisateurs de la banque Internet ont affich√© des taux de change non pertinents.  On m'a confi√© la t√¢che de charger les cours en cours au moment de l'op√©ration.  Je m'attendais √† voir le code responsable du chargement des taux de change dans les services et les composants.  Mais, bien s√ªr, il n'√©tait pas l√† (sinon je n'aurais rien √† √©crire).  Il s'est av√©r√© que les taux de change √©taient extraits et filtr√©s au niveau du d√©marrage de l'application, dans le fichier app.run, apr√®s quoi ils √©taient plac√©s dans le stockage de session.  Ce n'est clairement pas la meilleure approche.  De plus, de toute fa√ßon, pour r√©soudre le probl√®me, le code devait √™tre retir√© de l√†.  Il a fallu une journ√©e enti√®re pour accomplir une t√¢che simple. <br><br>  Maintenant, regardez la r√®gle Bootstrapping (Style 02-05) du guide de style. <br><br>  Placez le code qui sert au lancement de l'application dans un fichier s√©par√© et ne placez pas la logique d'application dans ce fichier.  La logique doit √™tre plac√©e dans les services et les composants. <br><br><h3>  Million d'exemple </h3><br>  Comme vous pouvez le voir ci-dessus, n√©gliger une seule r√®gle peut causer des probl√®mes.  Mais nous aurons des cons√©quences vraiment graves si nous n'√©coutons pas plusieurs recommandations √† la fois. <br><br>  Etude de cas.  Notre √©quipe a re√ßu la t√¢che: pour le paiement du logement et des services communaux, ajouter la possibilit√© d'inclure des montants d'assurance volontaire dans le paiement.  Sur le front-end, cela se r√©sumait √† une t√¢che simple: placer une case √† cocher sur le formulaire, dont l'inclusion ajouterait des frais d'assurance au montant du paiement.  Chez Promsvyazbank, nous avons trait√© une t√¢che similaire tr√®s rapidement.  Mais sur le nouveau projet, tout s'est mal pass√©. <br><br>  √âtant donn√© que le code du module de paiement a √©t√© extr√™mement mal organis√©, la d√©cision a dur√© des mois.  √Ä la recherche de l'option la plus appropri√©e, nous avons report√© cette t√¢che plusieurs fois et l'avons reprise.  Et la banque, quant √† elle, a eu des difficult√©s de paiement en faveur du logement et des services communaux.  En fin de compte, nous avons bien s√ªr r√©gl√© le probl√®me.  Mais je me demandais combien de mauvais code peut co√ªter √† une organisation par l'exemple d'une t√¢che aussi simple.  J'ai calcul√© le temps pass√© par tous les sp√©cialistes impliqu√©s dans la r√©solution du probl√®me.  Arm√© de statistiques sur les salaires moyens.  J'ai calcul√© et arrondi les pertes associ√©es.  En cons√©quence, je suis arriv√© √† la conclusion que si nous avions un bon code au d√©part dans le module de paiement, nous √©conomiserions au moins 5 millions de roubles. <br><br>  En v√©rifiant le guide de style de John Papa, j'ai vu que notre module violait plusieurs r√®gles de bon code √† la fois.  Ayant estim√© le degr√© d'influence de chacune de ces r√®gles, j'en ai identifi√© trois, dont la violation a surtout ralenti notre travail: <br><br><ul><li>  R√®gle d'un - J'ai annul√© 25% du temps perdu pour avoir enfreint cette r√®gle; </li><li>  Responsabilit√© unique - la d√©rogation √† ce principe a contribu√© √† la perte globale de 35%; </li><li>  LIFT - violation de ce groupe d'approches, je pense que 40% d'entre nous sont ceux qui ont le plus ralenti. </li></ul><br><img src="https://habrastorage.org/webt/pg/_t/fs/pg_tfsk-jr0igllmipxnj-3ss5o.png"><br><br><h3>  R√®gle d'un </h3><br>  Notre banque en ligne a pris en charge de nombreux paiements, dont certains dans leur mod√®le √©taient compl√®tement diff√©rents les uns des autres.  N√©anmoins, les programmeurs ont essay√© de cr√©er un formulaire de paiement ¬´universel¬ª pouvant fonctionner avec toutes les options de paiement. <br>  Sur le formulaire lui-m√™me, de nombreux blocs diff√©rents ont √©t√© constitu√©s, qui ont √©t√© montr√©s dans certaines conditions et jamais montr√©s dans d'autres.  En m√™me temps, ils √©taient servis par une logique commune, ce qui a consid√©rablement gonfl√© ViewModel'i. <br><br>  En cons√©quence, tout cela a conduit au fait que si quelque chose √©tait ajout√© √† un endroit, il tombait in√©vitablement √† un autre.  Au d√©but, il s'est av√©r√© que le choix de la case √† cocher n'a pas chang√© le montant.  Nous avons essay√© de corriger le champ du montant.  Mais il est devenu non modifiable sur tous les autres types de paiements.  Nous avons essay√© de remplacer le champ de montant par un nouveau.  Mais la logique g√©n√©rale de validation est tomb√©e: la case √† cocher fonctionne, mais le bouton de paiement n'est pas disponible.  Vous √™tes dans une situation similaire? <br><br>  Voyons maintenant ce que dit la r√®gle de la r√®gle d'un. <br><br>  Chaque √©l√©ment individuel, tel qu'un composant ou un service, doit √™tre plac√© dans un fichier distinct.  Vous devez vous assurer que le fichier ne se d√©veloppe pas.  Si le nombre de lignes de code d√©passe un nombre magique de 400, c'est un signe certain que le composant m√©rite d'√™tre rompu. <br><br><h3>  Responsabilit√© unique </h3><br>  Lorsque nous avons termin√© avec le formulaire lui-m√™me, il s'est av√©r√© que les fonctions situ√©es √† l'ext√©rieur du formulaire ont cess√© de fonctionner.  Par exemple, le travail avec les projets de paiement a √©t√© endommag√©.  Des erreurs sont apparues dans l'historique des op√©rations.  Et cela s'est produit parce que d'autres composants que le formulaire de paiement lui-m√™me √©taient li√©s au mod√®le et au contr√¥leur de paiement du formulaire.  Pire encore, le fait qu'une tentative de r√©paration de cette fonctionnalit√© nous ait renvoy√© √† un formulaire de paiement cass√©. <br>  Il s'agissait du cas classique de violation de la responsabilit√© unique.  Ce principe est depuis longtemps inclus dans l'ensemble des programmeurs exp√©riment√©s.  Et son guide de style recommande explicitement de l'utiliser lors du d√©veloppement d'applications angulaires. <br><br>  Appliquer le principe de responsabilit√© unique (PRS). <br><br><h3>  LIFT </h3><br>  La chose la plus g√™nante √† laquelle j'ai d√ª faire face a √©t√© de naviguer dans le projet lui-m√™me.  La logique √©tait dispers√©e dans plusieurs fichiers, combin√©s en une hi√©rarchie incompr√©hensible d'h√©ritage et de d√©l√©gation.  D'apr√®s les noms de ces fichiers, leur objectif ne suit pas du tout.  Les fichiers se trouvent dans diff√©rents dossiers.  Dans certains dossiers, par exemple, les contr√¥leurs, parmi des dizaines d'autres fichiers, tout le temps j'ai d√ª chercher ceux qui sont n√©cessaires en ce moment.  Le nombre d'onglets ouverts dans l'environnement de d√©veloppement ne correspondait pas √† l'√©cran de l'ordinateur et dans ma t√™te.  Pendant le d√©bogage, atteignant le Ni√®me composant du compte, j'ai d√©j√† oubli√© quel chemin et pourquoi je suis venu ici.  De temps en temps, il √©tait n√©cessaire d'effectuer une r√©tro-ing√©nierie compl√®te avec le d√©bogueur activ√© pour trouver dans quel dossier de projet le fichier avec une fonctionnalit√© sp√©cifique √©tait situ√©.  Le sentiment de haine accumul√© pour le code brouilla ses yeux et le distraya du travail. <br><br>  Le guide de style sage conna√Æt √©galement ce probl√®me.  Pour le r√©soudre, un groupe de r√®gles LIFT a √©t√© cr√©√©.  LIFT signifie Locate, Identify, Flat et Try to be DRY.  Selon les principes de LIFT, il est n√©cessaire d'organiser la structure du projet de mani√®re √†: <br><br><ul><li>  il √©tait clair o√π placer les nouveaux composants et o√π chercher les composants existants (Localiser); </li><li>  le but du composant √©tait clair par le nom du fichier (Identify); </li><li>  il √©tait facile de naviguer dans les dossiers, d'utiliser la structure la plus plate pour eux (plat); </li><li>  Essayez de ne pas r√©p√©ter votre code, mais pas au d√©triment d'autres r√®gles (essayez d'√™tre SEC). </li></ul><br><h3>  L'approche LIFT est compl√©t√©e par deux autres r√®gles. </h3><br>  Les directives structurelles g√©n√©rales proposent de cr√©er un dossier pour chaque composant individuel et de regrouper tous les fichiers li√©s √† ce composant.  Par exemple, il est plus pratique lorsque le fichier payment-form.controller.js ne se trouve pas dans le dossier Contr√¥leurs, mais dans le dossier payment-form avec payment-form.html et payment-form.css. <br><br>  La structure Dossiers par fonctionnalit√© recommande de cr√©er des dossiers s√©par√©s avec les noms correspondants pour les fonctionnalit√©s et les domaines du projet.  Selon cette r√®gle, le dossier du formulaire de paiement mentionn√© ci-dessus doit se trouver dans le dossier des paiements avec les autres composants requis pour travailler avec les paiements. <br><br>  Par cons√©quent, si les auteurs du code suivaient les r√®gles LIFT, la structure du projet ressemblerait √† ceci: <br><br><img src="https://habrastorage.org/webt/s5/ls/mr/s5lsmrcnizyozt0c2t15o2i5pby.png"><br><br>  D'accord, cette option pour organiser le code est beaucoup plus pratique pour le lecteur.  Et il ferait gagner beaucoup de temps √† toute notre √©quipe. <br><br><h3>  Les bons programmeurs vont au bar </h3><br>  J'esp√®re que les exemples ci-dessus semblaient suffisamment convaincants pour que le lecteur, qui n'avait pas pens√© au style de programmation plus t√¥t, ait envie de se pencher sur la directive.  En g√©n√©ral, un code bien lu et maintenu profite non seulement au budget du projet, mais aussi au programmeur lui-m√™me.  Le code lisible est plus facile √† consulter.  Si vous avez besoin de l'aide de vos coll√®gues, ils comprendront rapidement le code lisible.  Si vous n'√™tes qu'un sp√©cialiste novice, la lisibilit√© du code est la premi√®re chose √† laquelle vous devez travailler.  M√™me si vous √©crivez du code super correct et parfaitement optimis√©, mais absolument illisible et non pris en charge, vous serez certainement respect√© dans l'√©quipe, mais vous ne serez pas invit√© √† la barre apr√®s le travail. <br><br>  Si ce texte vous a fait penser √† quelque chose ou vous a rappel√© quelque chose de douloureusement familier, je serai heureux de le voir dans les commentaires du post. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr434700/">https://habr.com/ru/post/fr434700/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr434690/index.html">Syst√®me d'exploitation Haiku: portage d'applications et cr√©ation de packages</a></li>
<li><a href="../fr434692/index.html">Les 25 startups am√©ricaines les plus ch√®res √† mourir en 2018</a></li>
<li><a href="../fr434694/index.html">Pr√©sentation de NeurIPS-2018 (ex. NIPS)</a></li>
<li><a href="../fr434696/index.html">Les employ√©s des g√©ants de l'informatique ont compris comment influencer les politiques de leurs entreprises</a></li>
<li><a href="../fr434698/index.html">Pessimisme √† propos du multithreading</a></li>
<li><a href="../fr434702/index.html">Pourquoi le SSD moderne me plante</a></li>
<li><a href="../fr434704/index.html">Raisons de la baisse du co√ªt du trafic mobile en Russie et pr√©visions pour 2019</a></li>
<li><a href="../fr434706/index.html">UDB. Qu'est-ce que c'est? Partie 3. FIFAP Datapath</a></li>
<li><a href="../fr434708/index.html">HL 2018. R√©sum√© du rapport ¬´Rendez les mots de passe g√©niaux √† nouveau! Comment vaincre la force brute et ne rien laisser aux pirates ¬ª</a></li>
<li><a href="../fr434710/index.html">Blog RUVDS sur Habr: trois ans</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>