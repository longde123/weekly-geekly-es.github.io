<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üàÇÔ∏è üîå üñêüèæ Configure el control IR del aire acondicionado desde dispositivos o "Prepare el carrito en verano" üòò üê± ü§≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En los sistemas modernos de automatizaci√≥n del hogar, el control clim√°tico con mayor frecuencia en la lista de tareas a resolver ocupa el segundo luga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Configure el control IR del aire acondicionado desde dispositivos o "Prepare el carrito en verano"</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/iridiummobile/blog/389049/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En los sistemas modernos de automatizaci√≥n del hogar, el control clim√°tico con mayor frecuencia en la lista de tareas a resolver ocupa el segundo lugar despu√©s de trabajar con dispositivos de iluminaci√≥n. La gama de equipos utilizados en este escenario es muy amplia. Las l√≠neas superiores est√°n ocupadas por dispositivos profesionales para HVAC (calefacci√≥n, ventilaci√≥n y aire acondicionado - calefacci√≥n, ventilaci√≥n y aire acondicionado), que incluyen calefacci√≥n por suelo radiante, sistemas de recirculaci√≥n de aire y techos fr√≠os. En el segmento accesible, vemos aires acondicionados dom√©sticos tradicionales y numerosos calentadores el√©ctricos y calderas de gas, y las tareas de ventilaci√≥n a menudo se resuelven mediante el m√©todo "manual" de abrir ventanas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La forma m√°s conveniente de controlar el aire acondicionado es conectarse a √©l a trav√©s de una interfaz especializada que proporciona no solo el env√≠o de comandos, sino tambi√©n la supervisi√≥n del estado, as√≠ como la informaci√≥n sobre el estado y los posibles fallos de funcionamiento. Sin embargo, esta opci√≥n est√° disponible solo en ciertos modelos, puede requerir la compra de unidades adicionales y dif√≠cilmente se puede llamar asequible. Sin embargo, hoy, con la proliferaci√≥n de est√°ndares como AllJoyn, HomeKit y SmartThings, modelos similares </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√°n comenzando a aparecer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el segmento m√°s masivo.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afortunadamente, hay otra forma de controlar el aire acondicionado: usar el canal IR. </font><font style="vertical-align: inherit;">Las ventajas de este enfoque incluyen versatilidad (un transmisor IR puede servir simult√°neamente varios equipos en la sala) y bajo costo. </font><font style="vertical-align: inherit;">La desventaja es la falta total de comentarios del dispositivo administrado. </font><font style="vertical-align: inherit;">Adem√°s, esta soluci√≥n ni siquiera garantiza la entrega de comandos. </font><font style="vertical-align: inherit;">Qu√© tan adecuado es este m√©todo para que usted decida, sin embargo, en nuestra opini√≥n, la disponibilidad de tal opci√≥n es mejor que una falta total de control.</font></font><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elige equipamiento</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos qu√© opciones hay para enviar comandos IR. </font><font style="vertical-align: inherit;">Uno de los m√°s populares y universales hoy en d√≠a puede llamarse dispositivos fabricados por Global Cache. </font><font style="vertical-align: inherit;">La l√≠nea de productos incluye una docena y media de modelos que proporcionan monitoreo y control a trav√©s de IR, RS-232 y contactos secos. </font><font style="vertical-align: inherit;">Recomendamos estas soluciones confiables para esta tarea como parte de una instalaci√≥n profesional, de la cual tendr√° que asumir la responsabilidad.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a93/ea6/8ea/a93ea68ea44142e7890d4f375676697c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para trabajar con todos los transmisores, se utiliza una interfaz de red (cableada o inal√°mbrica) y un protocolo basado en TCP / IP. </font><font style="vertical-align: inherit;">La disponibilidad de documentaci√≥n detallada facilita la integraci√≥n de estas soluciones en su sistema de automatizaci√≥n. </font><font style="vertical-align: inherit;">Tenga en cuenta que el paquete de software iRidium tiene una base de datos de configuraci√≥n integrada para el equipo de Global Cache, lo que simplifica a√∫n m√°s el trabajo con ellos.</font></font><br>
<br>
<img src="https://habrastorage.org/files/7a8/b50/257/7a8b50257c194044b1f6bd25ce85b094.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La desventaja de los dispositivos de este fabricante es su costo bastante alto. Como una alternativa m√°s econ√≥mica, especialmente para aquellos a quienes les gusta hacer todo con sus propias manos, podemos llamar a la fabricaci√≥n de un transmisor basado en un microcontrolador. La conocida plataforma Arduino es muy adecuada para el entrenamiento y el ensamblaje de la placa de pruebas. Necesitar√° cualquier placa (los requisitos para las entradas y salidas en este proyecto son m√≠nimos), una interfaz de red o m√≥dulo apropiado para proporcionar acceso remoto, un LED infrarrojo y solo un par de detalles adicionales. Los ejemplos de tales dispositivos en la red se pueden encontrar y adaptar f√°cilmente para sus tareas (consulte, por ejemplo, una opci√≥n de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SparkFun</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<img src="https://habrastorage.org/files/71f/96f/1f0/71f96f1f0d484f9e9553cb522e82daa2.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n es recomendable comprar un m√≥dulo receptor IR, que es necesario para estudiar el protocolo de su aire acondicionado. </font><font style="vertical-align: inherit;">Tenga en cuenta que uno de los par√°metros principales del protocolo IR f√≠sico es la frecuencia de modulaci√≥n (los valores m√°s comunes son 38 y 36 kHz). </font><font style="vertical-align: inherit;">Es posible "ense√±ar" a un dispositivo a transmitir datos a diferentes frecuencias, pero los receptores est√°n sintonizados a un valor fijo, por lo que puede tomar varios.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estudiamos el protocolo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El siguiente paso es descifrar el protocolo de control de su aire acondicionado. El control remoto generalmente tiene un conjunto b√°sico de botones: aumente y disminuya la temperatura, seleccione un modo, controle el ventilador, seleccione la direcci√≥n de la salida de aire, apague. </font></font><br>
<br>
<img src="https://habrastorage.org/files/998/d12/511/998d125112464cdeb5b5163c8d278461.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A diferencia del equipo de audio y video, el control remoto del aire acondicionado en cada comando enviado utiliza un conjunto completo de todos los par√°metros. Por lo tanto, la opci√≥n tradicional de "presionar botones, grabar todos los comandos, reproducir grabaciones", que generalmente no requiere el conocimiento de los detalles del protocolo, no es adecuada aqu√≠.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestro caso, primero debemos hacer registros en los que solo cambie un par√°metro, por ejemplo, la temperatura. Luego corr√≠jalo e intente cambiar otro par√°metro escribiendo datos en el segundo grupo. Tenga en cuenta que si usa Arduino, lo m√°s probable es que necesite arreglar los archivos de la biblioteca est√°ndar para aumentar la duraci√≥n m√°xima del comando grabado en modo RAW. </font></font><br>
<br>
<img src="https://habrastorage.org/files/53b/e26/989/53be2698903e4fac8f74161e3c298d67.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin entrar en detalles, mostramos algunos ejemplos. El resultado de Global Cache en la utilidad propietaria de iLearn podr√≠a verse as√≠:</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sendir, 1: 1,24,37914,1,1,116,115,116,168,22,62,21,20,22,62,21,20,22,20,21,62,22,20,21,62,21,20, 21.63,21.62,21,21,21,20,21,21,21,62,21,62,21,20,22,20,21,62,22,62,21,20,22, 20,21,62,21,21,21,20,22,20,21,21,21,62,21,21,21,62,21,62,21,21,21,20,21,21, 21,21,21,20,21,63,21,62,21,20,21,21,21,62,21,63,21,20,21,21,21,21,21,20,21, 21,21,20,21,21,21,21,21,62,21,21,21,20,21,21,21,20,21,21,21,21,21,20,21,21, 21,21,21,20,21,21,21,20,21,21,21,21,21,20,21,63,21,62,21,62,21,63,22,20,21, 21,21,3700</font></font></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la biblioteca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IRremote</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en Arduino, el formato de salida es diferente:</font></font><br>
<br>
<pre>Raw (150): 4316 3050 -3000 3050 -4350 600 -1600 550 -550 550 -1600 600 -500 550 -550 550 -1600 600 -500 600 -1550 550 -550 650 -1500 600 -500 650 -450 550 -550 600 -1550 550 -1600 600 -500 650 -450 650 -450 600 -1550 650 -450 600 -500 600 -500 600 -450 650 -450 600 -500 600 -450 650 -1550 550 -550 600 -1550 550 -550 600 -500 600 -450 650 -450 650 -450 600 -500 600 -500 600 -1550 600 -1550 600 -500 650 -450 600 -500 600 -500 550 -500 600 -500 600 -500 600 -500 600 -450 650 -450 600 -450 650 -450 650 -1550 600 -500 600 -500 600 -450 650 -450 600 -450 650 -450 600 -500 600 -500 600 -500 550 -500 650 -450 650 -450 600 -450 650 -450 600 -1600 600 -500 500 -1650 600 -1550 650 -1550 600 -1550 650 -1550 600</pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mediante simples manipulaciones de los datos de las l√≠neas registradas (por ejemplo, los materiales de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sitio </font><font style="vertical-align: inherit;">pueden ayudar aqu√≠ </font><font style="vertical-align: inherit;">), obtenemos c√≥digos binarios, que, en nuestro caso, tienen un tama√±o de nueve bytes. </font><font style="vertical-align: inherit;">Despu√©s de investigar todos los par√°metros, fue posible descubrir la codificaci√≥n utilizada por nuestro aire acondicionado, producido por los campos de la marca no m√°s famosa:</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10100101 tttt011p dd100000 00101000 00001100 ff000000 mmm00000 00000000 ssssssss</font></font><font></font>
                                                              <font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tttt: temperatura preestablecida -16 (ajuste - de 16 a 30 grados)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
p: 0 - habilitar, 1 - deshabilitar </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dd: swing (00 - auto, 01 - arriba, 10 - abajo, 11 - movimiento)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ff: ventilador (00 - autom√°tico, 11 - primera velocidad, 10 - segunda velocidad, 01 - tercera velocidad)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mmm: modo (000 - autom√°tico, 001 - enfriamiento, 010 - drenaje, 011 - calefacci√≥n, 100 - ventilador)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ssssssss: suma de comprobaci√≥n (la suma de los primeros ocho bytes m√≥dulo 256)</font></font><font></font>
</pre><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestionamos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En base a estos datos, ya es f√°cil escribir un programa para crear los c√≥digos binarios requeridos para el control del aire acondicionado para Global Cache y Arduino. </font><font style="vertical-align: inherit;">En este caso, es deseable utilizar un controlador o panel con soporte de programaci√≥n, que le permitir√° generar los comandos necesarios "sobre la marcha", registrando todos los par√°metros en ellos, como lo hace el control remoto original. </font><font style="vertical-align: inherit;">En particular, en iRidium Mobile para este prop√≥sito puede usar la capacidad de programar en JavaScript, y para enviar al dispositivo ejecutivo a trav√©s de una red local, necesita el controlador AV y sistemas personalizados.</font></font><br>
<br>
<img src="https://habrastorage.org/files/44b/72a/eaa/44b72aeaa1c74802882b514099aecf1c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que aqu√≠ tambi√©n puede implementar y mostrar el modo actual del aire acondicionado. Sin embargo, se debe tener en cuenta que la informaci√≥n se tomar√° de las variables internas del panel de control, y no directamente del aire acondicionado, ya que el control IR es en este caso unilateral. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el caso de usar varios acondicionadores de aire en la misma habitaci√≥n, as√≠ como para una entrega m√°s confiable de los comandos IR, puede ser necesario instalar LED IR directamente en las ventanas de los receptores de cada dispositivo. </font></font><br>
<br>
<img src="https://habrastorage.org/files/0a4/849/138/0a48491389b8421d9cc79639dc34cb41.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si solo hay un aire acondicionado en la habitaci√≥n, un transmisor IR instalado correctamente puede ser suficiente, lo que tambi√©n es √∫til para controlar otros equipos, como un ventilador o un centro de m√∫sica.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si es necesario, el sistema de control se puede complementar con sensores de temperatura reales, un sensor de consumo de aire acondicionado (para controlar su inclusi√≥n), un sensor de ventana para bloquear el funcionamiento, modos de control autom√°tico, teniendo en cuenta la din√°mica de la temperatura de la calle, un horario y otras caracter√≠sticas.</font></font><br>
</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es389049/">https://habr.com/ru/post/es389049/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es389035/index.html">Esc√°ner de libros de bricolaje</a></li>
<li><a href="../es389039/index.html">Controlador de tarjeta gr√°fica: ¬øDe qui√©n es el error?</a></li>
<li><a href="../es389041/index.html">Everykey: la clave universal para tus gadgets</a></li>
<li><a href="../es389043/index.html">Storage Media Evolution Parte 4: Unidades de estado s√≥lido</a></li>
<li><a href="../es389045/index.html">Elon Musk no teme al autom√≥vil el√©ctrico de Apple: la rivalidad ser√° √∫til para la industria</a></li>
<li><a href="../es389051/index.html">CNET Smart Home: campo de prueba de gadgets</a></li>
<li><a href="../es389053/index.html">Casa inteligente. Cerebros</a></li>
<li><a href="../es389057/index.html">CES 2016: anuncios de LG y Samsung para el hogar inteligente</a></li>
<li><a href="../es389063/index.html">C√≥mo los coches cuadrados de los 80 se racionalizaron en los 90</a></li>
<li><a href="../es389065/index.html">La sonda Dawn envi√≥ im√°genes detalladas de los cr√°teres de Ceres</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>