<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍✈️ 👒 🏇 Console de jeux et jeux de bricolage. Little Game Engine + ESPboy 🕌 👨🏿‍🌾 🐑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Little Game Engine (LGE) est une console de jeu virtuelle d'une configuration fictive, avec un processeur fictif et un web-SDK en ligne , composé d'un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Console de jeux et jeux de bricolage. Little Game Engine + ESPboy</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472114/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Little Game Engine (LGE)</a> est une console de jeu virtuelle d'une configuration fictive, avec un processeur fictif et un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">web-SDK en ligne</a> , composé d'un compilateur de code de type C en assembleur et d'une recompilation supplémentaire en code machine avec la possibilité d'exécuter ce code au même endroit, en ligne dans émulateur. <br><br><img src="https://habrastorage.org/webt/jk/fg/1p/jkfg1pu85zm6nkvmwskhqsgkn_i.png"><br><br>  Comme son nom l'indique, l'ensemble est affiné pour la création rapide de jeux rétro 2D.  Plus de 20 jeux sont prêts, plusieurs en développement. <br><br><img src="https://habrastorage.org/webt/lh/04/tn/lh04tnqsuq5pnin4mhqg3b-jqr0.png"><br><br>  Pour jouer en ligne, suivez le lien du jeu ci-dessous, sélectionnez «compiler» puis «exécuter». <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TankCity</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1916</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FourInaRow</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BlackJack</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ZombieDefence</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MicroRace</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DwarfClicker</a> , Galaxies, Memories, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NinjaEscape</a> , Mines, Breakout, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TowerDefence</a> , FlappyBird, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WormBlast</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ESProgue</a> , Snake, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FishLife</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Columns</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MarsAttack</a> , CityRunner, Astero, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Astero</a> <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/d3/dq/tx/d3dqtxqxokgjk8mwf11jz43uz5e.png"><br><br>  Un autre avantage est que l'émulateur de machine virtuelle LGE, en plus de la version en ligne, est écrit pour le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gadget ESPboy</a> , qui a une périphérie similaire à la VM LGE incorporée dans le matériel et à propos de laquelle j'ai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">déjà écrit</a> . <br><br><ul><li>  Écran couleur 128x128, </li><li>  8 boutons </li><li>  son simple bit </li><li>  LED RGB </li><li>  Microcontrôleur ESP8266 adapté à la vitesse d'émulation </li><li>  mémoire flash intégrée avec le système de fichiers SPIFFS </li></ul><br><iframe width="560" height="315" src="https://www.youtube.com/embed/sHrSPXpTcYI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  De cette façon, vous pouvez télécharger des jeux compilés dans le SDK LGE en ligne dans un ESPboy portable, l'emporter avec vous et passer des minutes gratuites avec intérêt. <br><br><img src="https://habrastorage.org/webt/nl/sc/na/nlscna7ajvve5hd4guh1xigvvcq.png"><br><br>  Vous pouvez télécharger des jeux à la fois par fil (voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">téléchargement de fichiers sur spiffs</a> ) et via WiFi.  En maintenant le bouton «B» enfoncé lors du démarrage d'ESPboy, nous transformons le gadget en point d'accès, et en nous connectant à son réseau WiFi avec le nom «ESPboy» via un navigateur, nous arrivons à l'interface Web du système de fichiers, où vous pouvez supprimer des fichiers ou en télécharger de nouveaux. <br><br><img src="https://habrastorage.org/webt/fg/qv/qf/fgqvqfaqedymufw-xfr0re4jaea.png"><br><br>  Il ne reste plus qu'à assembler le gadget, pour lequel il existe des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">schémas</a> , des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">instructions</a> et un kit kit à assembler, qui sera prochainement disponible sur tindie.com. <br>  Ayant suffisamment joué dans les jeux existants, vous pouvez commencer à écrire le vôtre assez rapidement. <br><br><img src="https://habrastorage.org/webt/rn/na/e9/rnnae9e1puqwjvrea4xwfb9bulc.png"><br><br>  Brève spécification de la machine virtuelle LGE: <br><br><ul><li>  Un ensemble de 108 instructions est inspiré de CHIP8 / SCHIP et du microprocesseur MOS6502. </li><li>  16 registres de 16 bits, le registre zéro est un pointeur vers la pile. </li><li>  Chaque instruction est codée sur deux octets, certaines instructions contiennent deux octets de données </li><li>  Mémoire adressable 20Kb. </li><li>  En plus des instructions arithmétiques habituelles et des instructions pour déplacer des données, il existe des instructions distinctes pour travailler avec les images-objets, l'écran et le son. </li><li>  La taille de l'écran est de 128x128 pixels, 16 couleurs par point, ce qui prend 8 Ko de mémoire, la même quantité de tampon pour dessiner les sprites et les particules. </li><li>  Rafraîchissement de l'écran à environ 20 images par seconde. </li><li>  Vous pouvez dessiner des tuiles et 32 ​​sprites jusqu'à 128x128 pixels avec la possibilité de rotation et de mise en miroir. </li><li>  Le travail avec des particules est pris en charge. </li><li>  Pour économiser de la mémoire, vous pouvez utiliser des images mono-bit ou la compression RLE. </li><li>  Il y a la physique simplifiée: détection des collisions de sprites avec des sprites et des tuiles, résolution des collisions, gravité. </li><li>  L'écran est mis à jour ligne par ligne uniquement si une ligne a changé de pixels. </li><li>  La vitesse de la machine virtuelle, en fonction du nombre de lignes tracées dans le cadre, varie de 100 000 à 900 000 opérations par seconde. </li><li>  Vous pouvez utiliser différents écrans couleur, il y a un étirement d'image du logiciel. </li></ul><br>  Afin de ne pas écrire directement dans les opcodes, le compilateur auto-écrit «LGE C» est inclus dans le SDK, qui est un langage figuratif de haut niveau «C».  Pour le moment, ce compilateur est loin d'être entièrement compatible avec les normes du langage C, et lors de la compilation, vous pouvez facilement rencontrer une erreur incompréhensible dans un endroit incompréhensible.  Mais il est rapide, car il prend moins de 2000 lignes de code source et évolue également en permanence. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Environnement de développement en ligne LGE avec compilateur et émulateur</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Description de la machine virtuelle LGE</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide du langage figuratif «C» du compilateur LGE</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Code source des jeux LGE sur LGE C</a> <br><br>  Pas mal de jeux ont déjà été créés sur le SDK LGE, et vous pouvez continuer d'en créer de nouveaux en ce moment, mais ils sont loin d'être parfaits.  Si quelqu'un veut participer à la création de nouveaux jouets sur LGE ou à l'amélioration du SDK LGE lui-même, ou si quelqu'un est intéressé à construire ESPboy, bienvenue sur le forum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.espboy.com</a> . <br>  Nous essaierons de répondre à toutes les questions et d'aider à la mise en œuvre des idées. <br><br>  Pour ceux qui sont persistants et intéressés, voici un petit exemple de jeu sur le SDK LGE.  Il prend moins d'une centaine de lignes et pas plus de 1 Ko sous forme compilée.  Pour l'exécuter, vous devez vous rendre sur le SDK LGE en ligne, copier le code dans la case «source», sélectionner «compiler» puis «exécuter». <br><br><div class="spoiler">  <b class="spoiler_title">Un exemple de jeu simple sur LGE C</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> stickCount; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> key,previouseKey,takenSticks; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">redraw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-comment"><span class="hljs-comment">//   setcolor(2); //   for(i = 0; i &lt; stickCount; i++) line(22 + i * 6, 74, 22 + i * 6, 84); //   setcolor(11); //  for(i = stickCount; i &lt; 15; i++) line(22 + i * 6, 74, 22 + i * 6, 84); //     setcolor(1); //   delayredraw(); } void playersMove(){ //    ,     .  while(key == previouseKey){ key = getkey(); } while(key != KEY_LEFT &amp;&amp; key != KEY_DOWN &amp;&amp; key != KEY_RIGHT){ key = getkey(); } if(key &amp; KEY_LEFT){ takenSticks = 1; }else if(key &amp; KEY_DOWN){ takenSticks = 2; }else{ takenSticks = 3; } printf("%d, ", takenSticks); stickCount -= takenSticks; previouseKey = key; } void computersMove(){ if(stickCount % 4){ //   ,    takenSticks = stickCount % 4; }else{ //      takenSticks = 1 + random(1); } stickCount -= takenSticks; printf("%d, ", takenSticks); } void game(){ // stickCount = 15; clearscreen(); //       gotoxy(8,0); puts(""); gotoxy(2,1); puts(" 1,2  3 .  ,   . :\n"); // 27,25  26   printf(" %c 1 %c 2 %c 3", 27, 25, 26); gotoxy(0,12); redraw(); while(1){ playersMove(); if(stickCount &lt;= 0){ gotoxy(3,8); puts(" "); return; } redraw(); computersMove(); redraw(); if(stickCount &lt;= 0){ gotoxy(3,8); puts(" "); return; } } } void main(){ while(1){ game(); //  settimer(1,1000); while(gettimer(1)){} while(getkey() == 0){} previouseKey = key; } }</span></span></code> </pre> <br></div></div><br>  Tout bon et succès en créativité. <br><br>  Respectueusement, <br>  Un roman </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr472114/">https://habr.com/ru/post/fr472114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr472100/index.html">Shchyry Ukrainian Dunno ou Comment Kiev n'a pas deviné</a></li>
<li><a href="../fr472104/index.html">Habr Weekly # 23 / Voler dans l'espace et l'esprit, Microsoft enterre Windows Phone, Matrix legacy, jeux de papier</a></li>
<li><a href="../fr472106/index.html">Mise en marche du MacBook Pro 2018 T2 avec ArchLinux (double démarrage)</a></li>
<li><a href="../fr472110/index.html">Nous relevons le défi RegexPlay 100%</a></li>
<li><a href="../fr472112/index.html">Chatbot pas cher</a></li>
<li><a href="../fr472118/index.html">Comment le zoom américain en Chine est bloqué</a></li>
<li><a href="../fr472120/index.html">Concept de navigation adaptative sur le terrain</a></li>
<li><a href="../fr472122/index.html">Des scientifiques russes ont reconstruit des images de pensées humaines à partir de l'activité électrique du cerveau</a></li>
<li><a href="../fr472126/index.html">5 façons de créer un serveur Python sur un Raspberry Pi Partie 1</a></li>
<li><a href="../fr472128/index.html">Pourquoi j'aime PHP?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>