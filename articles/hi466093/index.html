<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì§ üï¥üèæ üôáüèª ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à kubectl? üçæ üë©‚Äçüç≥ üéüÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‡§≤‡§ó‡§≠‡§ó‡•§ ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡•§ : ‡§≤‡•á‡§ñ ‡§ï‡•á ‡§≤‡•á‡§ñ‡§ï - ‡§è‡§∞‡§ï‡§æ‡§® ‡§è‡§∞‡•ã‡§≤, ‡§è‡§∏‡§è‡§™‡•Ä ‡§ï‡•á ‡§è‡§ï ‡§á‡§Ç‡§ú‡•Ä‡§®‡§ø‡§Ø‡§∞ - kubectl exec ‡§ü‡•Ä‡§Æ ‡§ï‡•á ‡§ï‡§æ‡§Æ‡§ï‡§æ‡§ú ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§ï‡•á ‡§Ö‡§™‡§®‡•á ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§ï‡•ã ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§á‡§∏‡§≤‡§ø‡§è ‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏ ‡§ï‡•á...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à kubectl?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/466093/"> <i><b>‡§≤‡§ó‡§≠‡§ó‡•§</b></i>  <i><b>‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡•§</b></i>  <i>: ‡§≤‡•á‡§ñ ‡§ï‡•á ‡§≤‡•á‡§ñ‡§ï - ‡§è‡§∞‡§ï‡§æ‡§® ‡§è‡§∞‡•ã‡§≤, ‡§è‡§∏‡§è‡§™‡•Ä ‡§ï‡•á ‡§è‡§ï ‡§á‡§Ç‡§ú‡•Ä‡§®‡§ø‡§Ø‡§∞ - <code>kubectl exec</code> ‡§ü‡•Ä‡§Æ ‡§ï‡•á ‡§ï‡§æ‡§Æ‡§ï‡§æ‡§ú ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§ï‡•á ‡§Ö‡§™‡§®‡•á ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§ï‡•ã ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§á‡§∏‡§≤‡§ø‡§è ‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§∏‡§≠‡•Ä ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§∏‡•á ‡§™‡§∞‡§ø‡§ö‡§ø‡§§ ‡§π‡•à‡§Ç‡•§</i>  <i>‡§µ‡§π ‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏ ‡§∏‡•ç‡§∞‡•ã‡§§ ‡§ï‡•ã‡§° (‡§î‡§∞ ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ì‡§Ç) ‡§ï‡•Ä ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§∏‡§æ‡§• ‡§™‡•Ç‡§∞‡•á ‡§è‡§≤‡•ç‡§ó‡•ã‡§∞‡§ø‡§•‡•ç‡§Æ ‡§ï‡§æ ‡§∏‡§æ‡§• ‡§¶‡•á‡§§‡§æ ‡§π‡•à, ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•ã ‡§µ‡§ø‡§∑‡§Ø ‡§ï‡•ã ‡§ú‡§ø‡§§‡§®‡§æ ‡§∏‡§Ç‡§≠‡§µ ‡§π‡•ã ‡§â‡§§‡§®‡§æ ‡§ó‡§π‡§∞‡§æ ‡§∏‡§Æ‡§ù‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§</i> <br><br><img src="https://habrastorage.org/webt/z7/je/ja/z7jejaxnf5kisqkvemay56t6_pe.png"><br><br>  ‡§è‡§ï ‡§∂‡•Å‡§ï‡•ç‡§∞‡§µ‡§æ‡§∞, ‡§è‡§ï ‡§∏‡§π‡§ï‡§∞‡•ç‡§Æ‡•Ä ‡§Æ‡•á‡§∞‡•á ‡§™‡§æ‡§∏ ‡§Ü‡§Ø‡§æ ‡§î‡§∞ ‡§™‡•Ç‡§õ‡§æ ‡§ï‡§ø <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§ï‡•ç‡§≤‡§æ‡§á‡§Ç‡§ü-‡§ó‡•ã</a> ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§™‡•â‡§° ‡§Æ‡•á‡§Ç ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•à‡§∏‡•á ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§  ‡§Æ‡•à‡§Ç ‡§â‡§∏‡•á ‡§ú‡§µ‡§æ‡§¨ ‡§®‡§π‡•Ä‡§Ç ‡§¶‡•á ‡§∏‡§ï‡§æ ‡§î‡§∞ ‡§Ö‡§ö‡§æ‡§®‡§ï ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§ø‡§Ø‡§æ ‡§ï‡§ø ‡§Æ‡•Å‡§ù‡•á <code>kubectl exec</code> ‡§ï‡•á ‡§ï‡§æ‡§Æ ‡§ï‡•á ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§™‡§§‡§æ ‡§π‡•à‡•§  ‡§π‡§æ‡§Ç, ‡§Æ‡•Å‡§ù‡•á ‡§á‡§∏‡§ï‡•á ‡§°‡§ø‡§µ‡§æ‡§á‡§∏ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§õ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§•‡•á, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Æ‡•à‡§Ç ‡§â‡§®‡§ï‡•Ä ‡§∂‡•Å‡§¶‡•ç‡§ß‡§§‡§æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç 100% ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§•‡§æ ‡§î‡§∞ ‡§á‡§∏‡§≤‡§ø‡§è ‡§á‡§∏ ‡§Æ‡•Å‡§¶‡•ç‡§¶‡•á ‡§∏‡•á ‡§®‡§ø‡§™‡§ü‡§®‡•á ‡§ï‡§æ ‡§´‡•à‡§∏‡§≤‡§æ ‡§ï‡§ø‡§Ø‡§æ‡•§  ‡§¨‡•ç‡§≤‡•â‡§ó, ‡§™‡•ç‡§∞‡§≤‡•á‡§ñ‡§® ‡§î‡§∞ ‡§∏‡•ç‡§∞‡•ã‡§§ ‡§ï‡•ã‡§° ‡§ï‡§æ ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶, ‡§Æ‡•à‡§Ç‡§®‡•á ‡§¨‡§π‡•Å‡§§ ‡§∏‡•Ä ‡§®‡§à ‡§ö‡•Ä‡§ú‡•á‡§Ç ‡§∏‡•Ä‡§ñ‡•Ä‡§Ç, ‡§î‡§∞ ‡§á‡§∏ ‡§≤‡•á‡§ñ ‡§Æ‡•á‡§Ç ‡§Æ‡•à‡§Ç ‡§Ö‡§™‡§®‡•Ä ‡§ñ‡•ã‡§ú‡•ã‡§Ç ‡§î‡§∞ ‡§∏‡§Æ‡§ù ‡§ï‡•ã ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§  ‡§Ö‡§ó‡§∞ ‡§ï‡•Å‡§õ ‡§ó‡§≤‡§§ ‡§π‡•à, ‡§§‡•ã ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡•Å‡§ù‡•á <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§ü‡•ç‡§µ‡§ø‡§ü‡§∞</a> ‡§™‡§∞ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§ <a name="habracut"></a><br><br><h2>  ‡§ü‡•ç‡§∞‡•á‡§®‡§ø‡§Ç‡§ó </h2><br>  ‡§Æ‡•à‡§ï‡§¨‡•Å‡§ï ‡§™‡§∞ ‡§è‡§ï ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Æ‡•à‡§Ç‡§®‡•á <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">ecomm-‡§è‡§ï‡•Ä‡§ï‡§∞‡§£-‡§¨‡•à‡§≤‡•á‡§∞‡•Ä‡§®‡§æ / ‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏-‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ï‡•ã ‡§ï‡•ç‡§≤‡•ã‡§® ‡§ï‡§ø‡§Ø‡§æ</a> ‡•§  ‡§´‡§ø‡§∞ ‡§â‡§®‡•ç‡§π‡•ã‡§Ç‡§®‡•á ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§ï‡•â‡§®‡•ç‡§´‡§ø‡§ó ‡§Æ‡•á‡§Ç ‡§®‡•ã‡§°‡•ç‡§∏ ‡§ï‡•á ‡§Ü‡§à‡§™‡•Ä ‡§™‡§§‡•á ‡§ï‡•ã ‡§∏‡§π‡•Ä ‡§ï‡§ø‡§Ø‡§æ, ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§°‡§ø‡§´‡•â‡§≤‡•ç‡§ü ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏ ‡§®‡•á <code>kubectl exec</code> ‡§ï‡•ã <code>kubectl exec</code> ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§®‡§π‡•Ä‡§Ç ‡§¶‡•Ä ‡§•‡•Ä‡•§  ‡§á‡§∏‡§ï‡•á ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡§æ‡§∞‡§£ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§Ü‡§™ ‡§Ø‡§π‡§æ‡§Å ‡§™‡§¢‡§º ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ <br><br><ul><li>  ‡§ï‡•ã‡§à ‡§≠‡•Ä ‡§ï‡§æ‡§∞ = ‡§Æ‡•á‡§∞‡•Ä ‡§Æ‡•à‡§ï‡§¨‡•Å‡§ï </li><li>  ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§Ü‡§à‡§™‡•Ä = 192.168.205.10 </li><li>  ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡§∞‡•ç‡§§‡§æ ‡§Æ‡•á‡§ú‡§¨‡§æ‡§® ‡§Ü‡§à‡§™‡•Ä = 192.168.205.11 </li><li>  ‡§è‡§™‡•Ä‡§Ü‡§à ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§™‡•ã‡§∞‡•ç‡§ü = 6443 </li></ul><br><h2>  ‡§ò‡§ü‡§ï‡•ã‡§Ç </h2><br><img src="https://habrastorage.org/webt/of/q5/dv/ofq5dvsbuqvr8bp6gryhxsficfk.png"><br><br><ul><li>  <b>kubectl ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§® ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ</b> : ‡§ú‡§¨ ‡§π‡§Æ "kubectl ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ..." ‡§ï‡•ã ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§  ‡§Ü‡§™ K8s API ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§Æ‡§∂‡•Ä‡§® ‡§™‡§∞ ‡§ê‡§∏‡§æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§  <i>‡§≤‡§ó‡§≠‡§ó‡•§</i>  <i>‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡•§: ‡§Ü‡§ó‡•á ‡§ï‡§Ç‡§∏‡•ã‡§≤ ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç, ‡§≤‡•á‡§ñ‡§ï ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡•Ä "‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§Æ‡§∂‡•Ä‡§®" ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§Ö‡§∞‡•ç‡§• ‡§π‡•à ‡§ï‡§ø ‡§¨‡§æ‡§¶ ‡§ï‡•á ‡§Ü‡§¶‡•á‡§∂‡•ã‡§Ç ‡§ï‡•ã ‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏ ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ê‡§∏‡•Ä ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§Æ‡§∂‡•Ä‡§® ‡§™‡§∞ ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§</i> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><b>‡§è‡§™‡•Ä‡§Ü‡§à ‡§∏‡§∞‡•ç‡§µ‡§∞</b></a> : ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§™‡§∞ ‡§è‡§ï ‡§ò‡§ü‡§ï ‡§ú‡•ã ‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏ ‡§è‡§™‡•Ä‡§Ü‡§à ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§  ‡§Ø‡§π ‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§µ‡§ø‡§Æ‡§æ‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡•É‡§∂‡•ç‡§Ø‡§™‡§ü‡§≤ ‡§π‡•à‡•§ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><b>‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü</b></a> : ‡§è‡§ï ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ú‡•ã ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§®‡•ã‡§° ‡§™‡§∞ ‡§ö‡§≤‡§§‡§æ ‡§π‡•à‡•§  ‡§Ø‡§π ‡§´‡§≤‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><b>‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ</b></a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><b>‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ</b></a> ): ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§ï‡•á ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§∏‡•â‡§´‡§º‡•ç‡§ü‡§µ‡•á‡§Ø‡§∞‡•§  ‡§â‡§¶‡§æ‡§π‡§∞‡§£: ‡§°‡•â‡§ï‡§∞, CRI-O, ‡§ï‡§Ç‡§ü‡•á‡§®‡§° ... </li><li>  <b>‡§ï‡§∞‡•ç‡§®‡•á‡§≤</b> : ‡§ì‡§è‡§∏ ‡§ï‡§∞‡•ç‡§®‡•á‡§≤ ‡§ï‡§æ‡§Æ ‡§®‡•ã‡§° ‡§™‡§∞;  ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞‡•§ </li><li>  <b>‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø</b> <b>‡§ï‡§Ç‡§ü‡•á‡§®‡§∞</b> : ‡§è‡§ï ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§ú‡•ã ‡§è‡§ï ‡§´‡§≤‡•Ä ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§è‡§ï ‡§ï‡§æ‡§Æ ‡§®‡•ã‡§° ‡§™‡§∞ ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ </li></ul><br><h2>  ‡§Æ‡•à‡§Ç‡§®‡•á ‡§ï‡•ç‡§Ø‡§æ ‡§ñ‡•ã‡§ú‡§æ </h2><br><h3>  1. ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§™‡§ï‡•ç‡§∑ ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø </h3><br>  <code>default</code> ‡§®‡§æ‡§Æ ‡§∏‡•ç‡§•‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§™‡•â‡§° ‡§¨‡§®‡§æ‡§è‡§Ç: <br><br><pre> <code class="bash hljs">// any machine $ kubectl run <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>-test-nginx --image=nginx</code> </pre> <br>  ‡§´‡§ø‡§∞ ‡§π‡§Æ ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§® ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§Ü‡§ó‡•á ‡§ï‡•Ä ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è 5000 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§§‡§ï ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç: <br><br><pre> <code class="bash hljs">// any machine $ kubectl <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> -it <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>-test-nginx-6558988d5-fgxgg -- sh <span class="hljs-comment"><span class="hljs-comment"># sleep 5000</span></span></code> </pre> <br>  ‡§ï‡•Å‡§¨‡•ç‡§ú‡•á‡§≤ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§™‡•ç‡§∞‡§ï‡§ü ‡§π‡•ã‡§§‡•Ä ‡§π‡•à (‡§π‡§Æ‡§æ‡§∞‡•á ‡§Æ‡§æ‡§Æ‡§≤‡•á ‡§Æ‡•á‡§Ç pid = 8507 ‡§ï‡•á ‡§∏‡§æ‡§•): <br><br><pre> <code class="bash hljs">// any machine $ ps -ef |grep kubectl 501 8507 8409 0 7:19PM ttys000 0:00.13 kubectl <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> -it <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>-test-nginx-6558988d5-fgxgg -- sh</code> </pre> <br>  ‡§Ø‡§¶‡§ø ‡§π‡§Æ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•Ä ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§π‡§Æ ‡§™‡§æ‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§è‡§™‡•Ä-‡§∏‡§∞‡•ç‡§µ‡§∞ (192.168.205.10.6443) ‡§ï‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§π‡•à‡§Ç: <br><br><pre> <code class="bash hljs">// any machine $ netstat -atnv |grep 8507 tcp4 0 0 192.168.205.1.51673 192.168.205.10.6443 ESTABLISHED 131072 131768 8507 0 0x0102 0x00000020 tcp4 0 0 192.168.205.1.51672 192.168.205.10.6443 ESTABLISHED 131072 131768 8507 0 0x0102 0x00000028</code> </pre> <br>  ‡§ï‡•ã‡§° ‡§ï‡•ã ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç‡•§  Kubectl ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ï ‡§∏‡§¨-‡§∏‡•ã‡§∞‡•ç‡§∏ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§è‡§ï POST ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§¨‡§®‡§æ‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§è‡§ï REST ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§≠‡•á‡§ú‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"> req := restClient.Post(). Resource(<span class="hljs-string"><span class="hljs-string">"pods"</span></span>). Name(pod.Name). Namespace(pod.Namespace). SubResource(<span class="hljs-string"><span class="hljs-string">"exec"</span></span>) req.VersionedParams(&amp;corev1.PodExecOptions{ Container: containerName, Command: p.Command, Stdin: p.Stdin, Stdout: p.Out != <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, Stderr: p.ErrOut != <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, TTY: t.Raw, }, scheme.ParameterCodec) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> p.Executor.Execute(<span class="hljs-string"><span class="hljs-string">"POST"</span></span>, req.URL(), p.Config, p.In, p.Out, p.ErrOut, t.Raw, sizeQueue)</code> </pre> <br>  <i>( <a href="">kubectl / pkg / cmd / ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ / ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</a> )</i> <br><br><img src="https://habrastorage.org/webt/og/nn/cg/ognncgumyrwb7cr6l8wq5alo2je.png"><br><h3>  2. ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§®‡•ã‡§° ‡§ï‡•á ‡§ï‡§ø‡§®‡§æ‡§∞‡•á ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø </h3><br>  ‡§π‡§Æ ‡§è‡§™‡•Ä‡§Ü‡§à-‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§∏‡§æ‡§á‡§° ‡§™‡§∞ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§ï‡§æ ‡§≠‡•Ä ‡§®‡§ø‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç: <br><br><pre> <code class="bash hljs">handler.go:143] kube-apiserver: POST <span class="hljs-string"><span class="hljs-string">"/api/v1/namespaces/default/pods/exec-test-nginx-6558988d5-fgxgg/exec"</span></span> satisfied by gorestful with webservice /api/v1 upgradeaware.go:261] Connecting to backend proxy (intercepting redirects) https://192.168.205.11:10250/<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>/default/<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>-test-nginx-6558988d5-fgxgg/<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>-test-nginx?<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>=sh&amp;input=1&amp;output=1&amp;tty=1 Headers: map[Connection:[Upgrade] Content-Length:[0] Upgrade:[SPDY/3.1] User-Agent:[kubectl/v1.12.10 (darwin/amd64) kubernetes/e3c1340] X-Forwarded-For:[192.168.205.1] X-Stream-Protocol-Version:[v4.channel.k8s.io v3.channel.k8s.io v2.channel.k8s.io channel.k8s.io]]</code> </pre> <br>  <i>‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§Ç ‡§ï‡§ø HTTP ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§™‡•ç‡§∞‡•ã‡§ü‡•ã‡§ï‡•â‡§≤ ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à‡•§</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">SPDY</a> ‡§Ü‡§™‡§ï‡•ã ‡§è‡§ï‡§≤ ‡§ü‡•Ä‡§∏‡•Ä‡§™‡•Ä ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§∏‡•ç‡§ü‡§° / stdout / stderr / spdy-error ‡§ß‡§æ‡§∞‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§Æ‡§≤‡•ç‡§ü‡•Ä‡§™‡•ç‡§≤‡•á‡§ï‡•ç‡§∏ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§</i> <br><br>  API ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§á‡§∏‡•á <code>PodExecOptions</code> ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// PodExecOptions is the query options to a Pod's remote exec call type PodExecOptions struct { metav1.TypeMeta // Stdin if true indicates that stdin is to be redirected for the exec call Stdin bool // Stdout if true indicates that stdout is to be redirected for the exec call Stdout bool // Stderr if true indicates that stderr is to be redirected for the exec call Stderr bool // TTY if true indicates that a tty will be allocated for the exec call TTY bool // Container in which to execute the command. Container string // Command is the remote command to execute; argv array; not executed within a shell. Command []string }</span></span></code> </pre> <br>  <i>( <a href="">pkg / ‡§è‡§™‡§ø‡§∏ / ‡§ï‡•ã‡§∞ / type.go</a> )</i> <br><br>  ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§ï‡§æ‡§∞‡•ç‡§∞‡§µ‡§æ‡§à ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§è‡§™‡•Ä‡§Ü‡§à-‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•ã ‡§Ø‡§π ‡§™‡§§‡§æ ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è ‡§ï‡§ø ‡§â‡§∏‡•á ‡§ï‡§ø‡§∏ ‡§™‡•â‡§° ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡§®‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// ExecLocation returns the exec URL for a pod container. If opts.Container is blank // and only one container is present in the pod, that container is used. func ExecLocation( getter ResourceGetter, connInfo client.ConnectionInfoGetter, ctx context.Context, name string, opts *api.PodExecOptions, ) (*url.URL, http.RoundTripper, error) { return streamLocation(getter, connInfo, ctx, name, opts, opts.Container, "exec") }</span></span></code> </pre> <br>  <i>( <a href="">pkg / ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä / ‡§ï‡•ã‡§∞ / ‡§™‡•â‡§° / strategy.go</a> )</i> <br><br>  ‡§¨‡•á‡§∂‡§ï, ‡§∏‡§Æ‡§æ‡§™‡§® ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§°‡•á‡§ü‡§æ ‡§π‡•ã‡§∏‡•ç‡§ü ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•á ‡§≤‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"> nodeName := types.NodeName(pod.Spec.NodeName) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-built_in"><span class="hljs-built_in">len</span></span>(nodeName) == <span class="hljs-number"><span class="hljs-number">0</span></span> { <span class="hljs-comment"><span class="hljs-comment">// If pod has not been assigned a host, return an empty location return nil, nil, errors.NewBadRequest(fmt.Sprintf("pod %s does not have a host assigned", name)) } nodeInfo, err := connInfo.GetConnectionInfo(ctx, nodeName)</span></span></code> </pre> <br>  <i>( <a href="">pkg / ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä / ‡§ï‡•ã‡§∞ / ‡§™‡•â‡§° / strategy.go</a> )</i> <br><br>  ‡§π‡•Å‡§∞‡•ç‡§∞‡•á!  ‡§Ö‡§¨ ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§™‡•ã‡§∞‡•ç‡§ü ( <code>node.Status.DaemonEndpoints.KubeletEndpoint.Port</code> ) ‡§π‡•à, ‡§ú‡§ø‡§∏‡§∏‡•á API ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// GetConnectionInfo retrieves connection info from the status of a Node API object. func (k *NodeConnectionInfoGetter) GetConnectionInfo(ctx context.Context, nodeName types.NodeName) (*ConnectionInfo, error) { node, err := k.nodes.Get(ctx, string(nodeName), metav1.GetOptions{}) if err != nil { return nil, err } // Find a kubelet-reported address, using preferred address type host, err := nodeutil.GetPreferredNodeAddress(node, k.preferredAddressTypes) if err != nil { return nil, err } // Use the kubelet-reported port, if present port := int(node.Status.DaemonEndpoints.KubeletEndpoint.Port) if port &lt;= 0 { port = k.defaultPort } return &amp;ConnectionInfo{ Scheme: k.scheme, Hostname: host, Port: strconv.Itoa(port), Transport: k.transport, }, nil }</span></span></code> </pre> <br>  <i>( <a href="">pkg / kubelet / ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï / kubelet_client.go</a> )</i> <br><br><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞-‡§®‡•ã‡§° ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ï‡•á‡§∂‡§®</a> ‡§ï‡•á ‡§¶‡§∏‡•ç‡§§‡§æ‡§µ‡•á‡§ú‡§º ‡§∏‡•á <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">&gt; ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§∏‡•á ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞&gt; ‡§è‡§™‡•ç‡§∏‡•á‡§µ‡§∞ ‡§∏‡•á ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü</a> : <br><br>  ‡§Ø‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§ï‡•á HTTPS ‡§∏‡§Æ‡§æ‡§™‡§® ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§™‡§∞ ‡§¨‡§Ç‡§¶ ‡§π‡•à‡§Ç‡•§  ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§∞‡•Ç‡§™ ‡§∏‡•á, ‡§è‡§™‡§ø‡§∏‡•ç‡§µ‡§∞, ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§ï‡•á ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞ ‡§ï‡•ã ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§ú‡•ã ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ï‡•ã "‡§Æ‡§ß‡•ç‡§Ø‡§∏‡•ç‡§• ‡§π‡§Æ‡§≤‡•ã‡§Ç" (MITMs) ‡§ï‡•á ‡§≤‡§ø‡§è <i><b>‡§Ö‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§</b></i> ‡§¨‡§®‡§æ‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§Ö‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§î‡§∞ / ‡§Ø‡§æ ‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§™‡§∞ ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è <i><b>‡§Ö‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§</b></i> ‡§π‡•à‡•§ </blockquote><br>  ‡§Ö‡§¨ API ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§è‡§Ç‡§°‡§™‡•â‡§á‡§Ç‡§ü ‡§ï‡•ã ‡§ú‡§æ‡§®‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§è‡§ï ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// Connect returns a handler for the pod exec proxy func (r *ExecREST) Connect(ctx context.Context, name string, opts runtime.Object, responder rest.Responder) (http.Handler, error) { execOpts, ok := opts.(*api.PodExecOptions) if !ok { return nil, fmt.Errorf("invalid options object: %#v", opts) } location, transport, err := pod.ExecLocation(r.Store, r.KubeletConn, ctx, name, execOpts) if err != nil { return nil, err } return newThrottledUpgradeAwareProxyHandler(location, transport, false, true, true, responder), nil }</span></span></code> </pre> <br>  <i>( <a href="">pkg / ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä / ‡§ï‡•ã‡§∞ / ‡§™‡•â‡§° / ‡§∞‡•á‡§∏‡•ç‡§ü / ‡§∏‡§¨-‡§∏‡•ã‡§∞‡•ç‡§∏.go</a> )</i> <br><br>  ‡§Ü‡§á‡§è ‡§¶‡•á‡§ñ‡•á‡§Ç ‡§ï‡§ø ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§®‡•ã‡§° ‡§™‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ <br><br>  ‡§∏‡§¨‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§π‡§Æ ‡§ï‡§æ‡§Æ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§®‡•ã‡§° ‡§ï‡§æ ‡§Ü‡§à‡§™‡•Ä ‡§™‡§§‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§  ‡§π‡§Æ‡§æ‡§∞‡•á ‡§Æ‡§æ‡§Æ‡§≤‡•á ‡§Æ‡•á‡§Ç, ‡§Ø‡§π 192.168.205.11 ‡§π‡•à: <br><br><pre> <code class="bash hljs">// any machine $ kubectl get nodes k8s-node-1 -o wide NAME STATUS ROLES AGE VERSION INTERNAL-IP EXTERNAL-IP OS-IMAGE KERNEL-VERSION CONTAINER-RUNTIME k8s-node-1 Ready &lt;none&gt; 9h v1.15.3 192.168.205.11 &lt;none&gt; Ubuntu 16.04.6 LTS 4.4.0-159-generic docker://17.3.3</code> </pre> <br>  ‡§´‡§ø‡§∞ ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§™‡•ã‡§∞‡•ç‡§ü ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç (‡§π‡§Æ‡§æ‡§∞‡•á ‡§Æ‡§æ‡§Æ‡§≤‡•á ‡§Æ‡•á‡§Ç 10250): <br><br><pre> <code class="bash hljs">// any machine $ kubectl get nodes k8s-node-1 -o jsonpath=<span class="hljs-string"><span class="hljs-string">'{.status.daemonEndpoints.kubeletEndpoint}'</span></span> map[Port:10250]</code> </pre> <br>  ‡§Ö‡§¨ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø ‡§Ü ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§  ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§®‡•ã‡§° (192.168.205.11) ‡§∏‡•á ‡§ï‡•ã‡§à ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§π‡•à?  ‡§Ø‡§π ‡§µ‡§π‡§æ‡§Å ‡§π‡•à!  ‡§Ø‡§¶‡§ø ‡§Ü‡§™ <code>exec</code> ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§Æ‡§æ‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§Ø‡§π ‡§ó‡§æ‡§Ø‡§¨ ‡§π‡•ã ‡§ú‡§æ‡§è‡§ó‡§æ, ‡§á‡§∏‡§≤‡§ø‡§è ‡§Æ‡•Å‡§ù‡•á ‡§™‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§è‡§™‡•Ä‡§Ü‡§à-‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§® ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•á ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™ ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§•‡§æ‡•§ <br><br><pre> <code class="bash hljs">// master node $ netstat -atn |grep 192.168.205.11 tcp 0 0 192.168.205.10:37870 192.168.205.11:10250 ESTABLISHED ‚Ä¶</code> </pre> <br><img src="https://habrastorage.org/webt/mp/-l/ql/mp-lqlocn8io490w9r9xenbawwg.png"><br><br>  Kubectl ‡§î‡§∞ ‡§è‡§™‡•Ä‡§Ü‡§à ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä ‡§ñ‡•Å‡§≤‡§æ ‡§π‡•à‡•§  ‡§á‡§∏‡§ï‡•á ‡§Ö‡§≤‡§æ‡§µ‡§æ, ‡§è‡§™‡•Ä‡§Ü‡§à-‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§î‡§∞ ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§è‡§ï ‡§î‡§∞ ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§π‡•à‡•§ <br><br><h3>  3. ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§®‡•ã‡§° ‡§™‡§∞ ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø </h3><br>  ‡§Ö‡§¨ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡§∞‡•ç‡§§‡§æ ‡§®‡•ã‡§° ‡§∏‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç ‡§ï‡§ø ‡§á‡§∏ ‡§™‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ <br><br>  ‡§∏‡§¨‡§∏‡•á ‡§™‡§π‡§≤‡•á, ‡§π‡§Æ ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§á‡§∏‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§≠‡•Ä ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§π‡•à (‡§¶‡•Ç‡§∏‡§∞‡•Ä ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø);  192.168.205.10 ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§®‡•ã‡§° ‡§ï‡§æ ‡§Ü‡§à‡§™‡•Ä ‡§π‡•à: <br><br><pre> <code class="bash hljs"> // worker node $ netstat -atn |grep 10250 tcp6 0 0 :::10250 :::* LISTEN tcp6 0 0 192.168.205.11:10250 192.168.205.10:37870 ESTABLISHED</code> </pre> <br>  ‡§π‡§Æ‡§æ‡§∞‡•Ä <code>sleep</code> ‡§ü‡•Ä‡§Æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ?  ‡§π‡•Å‡§∞‡•ç‡§∞‡•á, ‡§µ‡§π ‡§≠‡•Ä ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§π‡•à! <br><br><pre> <code class="bash hljs"> // worker node $ ps -afx ... 31463 ? Sl 0:00 \_ docker-containerd-shim 7d974065bbb3107074ce31c51f5ef40aea8dcd535ae11a7b8f2dd180b8ed583a /var/run/docker/libcontainerd/7d974065bbb3107074ce31c51 31478 pts/0 Ss 0:00 \_ sh 31485 pts/0 S+ 0:00 \_ sleep 5000 ‚Ä¶</code> </pre> <br>  ‡§≤‡•á‡§ï‡§ø‡§® ‡§∞‡•Å‡§ï‡§ø‡§è: ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§®‡•á ‡§á‡§∏‡•á ‡§ï‡•à‡§∏‡•á ‡§ï‡•ç‡§∞‡•à‡§Ç‡§ï ‡§ï‡§ø‡§Ø‡§æ?  ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§°‡•á‡§Æ‡•â‡§® ‡§π‡•à ‡§ú‡•ã ‡§è‡§™‡•Ä‡§Ü‡§à-‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§è‡§™‡•Ä‡§Ü‡§à ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// Server is the library interface to serve the stream requests. type Server interface { http.Handler // Get the serving URL for the requests. // Requests must not be nil. Responses may be nil iff an error is returned. GetExec(*runtimeapi.ExecRequest) (*runtimeapi.ExecResponse, error) GetAttach(req *runtimeapi.AttachRequest) (*runtimeapi.AttachResponse, error) GetPortForward(*runtimeapi.PortForwardRequest) (*runtimeapi.PortForwardResponse, error) // Start the server. // addr is the address to serve on (address:port) stayUp indicates whether the server should // listen until Stop() is called, or automatically stop after all expected connections are // closed. Calling Get{Exec,Attach,PortForward} increments the expected connection count. // Function does not return until the server is stopped. Start(stayUp bool) error // Stop the server, and terminate any open connections. Stop() error }</span></span></code> </pre> <br>  <i>( <a href="">pkg / kubelet / ‡§∏‡§∞‡•ç‡§µ‡§∞ / ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ç‡§ó / server.go</a> )</i> <br><br>  Kubelet ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§® ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∏‡§Æ‡§æ‡§™‡§® ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s *server)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetExec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(req *runtimeapi.ExecRequest)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*runtimeapi.ExecResponse, error)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err := validateExecRequest(req); err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, err } token, err := s.cache.Insert(req) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, err } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &amp;runtimeapi.ExecResponse{ Url: s.buildURL(<span class="hljs-string"><span class="hljs-string">"exec"</span></span>, token), }, <span class="hljs-literal"><span class="hljs-literal">nil</span></span> }</code> </pre> <br>  <i>( <a href="">pkg / kubelet / ‡§∏‡§∞‡•ç‡§µ‡§∞ / ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ç‡§ó / server.go</a> )</i> <br><br>  ‡§≠‡•ç‡§∞‡§Æ‡§ø‡§§ ‡§Æ‡§§ ‡§ï‡§∞‡•ã‡•§  ‡§Ø‡§π ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡§æ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§¶‡•á‡§§‡§æ ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§∏‡§Ç‡§ö‡§æ‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§Æ‡§æ‡§™‡§® ‡§¨‡§ø‡§Ç‡§¶‡•Å: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> ExecResponse <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Fully qualified URL of the exec streaming server. Url string `protobuf:"bytes,1,opt,name=url,proto3" json:"url,omitempty"` XXX_NoUnkeyedLiteral struct{} `json:"-"` XXX_sizecache int32 `json:"-"` }</span></span></code> </pre> <br>  <i>( <a href="">cri-api / pkg / apis / runtime / v1alpha2 / api.pb.go</a> )</i> <br><br>  ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü <code>RuntimeServiceClient</code> ‡§á‡§Ç‡§ü‡§∞‡§´‡§º‡•á‡§∏ ‡§ï‡•ã ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§ú‡•ã ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ ‡§á‡§Ç‡§ü‡§∞‡§´‡§º‡•á‡§∏ ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§π‡•à <i>(‡§π‡§Æ‡§®‡•á ‡§á‡§∏‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§Ö‡§ß‡§ø‡§ï ‡§≤‡§ø‡§ñ‡§æ ‡§π‡•à, ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§Ø‡§π‡§æ‡§Ç</a> - ‡§≤‡§ó‡§≠‡§ó‡•§ ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶‡•§)</i> : <br><br><div class="spoiler">  <b class="spoiler_title">Cri-api ‡§∏‡•á kubernetes / kubernetes ‡§§‡§ï ‡§≤‡§Ç‡§¨‡•Ä ‡§∏‡•Ç‡§ö‡•Ä</b> <div class="spoiler_text"><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// For semantics around ctx use and closing/ending streaming RPCs, please refer to https://godoc.org/google.golang.org/grpc#ClientConn.NewStream. type RuntimeServiceClient interface { // Version returns the runtime name, runtime version, and runtime API version. Version(ctx context.Context, in *VersionRequest, opts ...grpc.CallOption) (*VersionResponse, error) // RunPodSandbox creates and starts a pod-level sandbox. Runtimes must ensure // the sandbox is in the ready state on success. RunPodSandbox(ctx context.Context, in *RunPodSandboxRequest, opts ...grpc.CallOption) (*RunPodSandboxResponse, error) // StopPodSandbox stops any running process that is part of the sandbox and // reclaims network resources (eg, IP addresses) allocated to the sandbox. // If there are any running containers in the sandbox, they must be forcibly // terminated. // This call is idempotent, and must not return an error if all relevant // resources have already been reclaimed. kubelet will call StopPodSandbox // at least once before calling RemovePodSandbox. It will also attempt to // reclaim resources eagerly, as soon as a sandbox is not needed. Hence, // multiple StopPodSandbox calls are expected. StopPodSandbox(ctx context.Context, in *StopPodSandboxRequest, opts ...grpc.CallOption) (*StopPodSandboxResponse, error) // RemovePodSandbox removes the sandbox. If there are any running containers // in the sandbox, they must be forcibly terminated and removed. // This call is idempotent, and must not return an error if the sandbox has // already been removed. RemovePodSandbox(ctx context.Context, in *RemovePodSandboxRequest, opts ...grpc.CallOption) (*RemovePodSandboxResponse, error) // PodSandboxStatus returns the status of the PodSandbox. If the PodSandbox is not // present, returns an error. PodSandboxStatus(ctx context.Context, in *PodSandboxStatusRequest, opts ...grpc.CallOption) (*PodSandboxStatusResponse, error) // ListPodSandbox returns a list of PodSandboxes. ListPodSandbox(ctx context.Context, in *ListPodSandboxRequest, opts ...grpc.CallOption) (*ListPodSandboxResponse, error) // CreateContainer creates a new container in specified PodSandbox CreateContainer(ctx context.Context, in *CreateContainerRequest, opts ...grpc.CallOption) (*CreateContainerResponse, error) // StartContainer starts the container. StartContainer(ctx context.Context, in *StartContainerRequest, opts ...grpc.CallOption) (*StartContainerResponse, error) // StopContainer stops a running container with a grace period (ie, timeout). // This call is idempotent, and must not return an error if the container has // already been stopped. // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> what must the runtime do after the grace period is reached? StopContainer(ctx context.Context, in *StopContainerRequest, opts ...grpc.CallOption) (*StopContainerResponse, error) // RemoveContainer removes the container. If the container is running, the // container must be forcibly removed. // This call is idempotent, and must not return an error if the container has // already been removed. RemoveContainer(ctx context.Context, in *RemoveContainerRequest, opts ...grpc.CallOption) (*RemoveContainerResponse, error) // ListContainers lists all containers by filters. ListContainers(ctx context.Context, in *ListContainersRequest, opts ...grpc.CallOption) (*ListContainersResponse, error) // ContainerStatus returns status of the container. If the container is not // present, returns an error. ContainerStatus(ctx context.Context, in *ContainerStatusRequest, opts ...grpc.CallOption) (*ContainerStatusResponse, error) // UpdateContainerResources updates ContainerConfig of the container. UpdateContainerResources(ctx context.Context, in *UpdateContainerResourcesRequest, opts ...grpc.CallOption) (*UpdateContainerResourcesResponse, error) // ReopenContainerLog asks runtime to reopen the stdout/stderr log file // for the container. This is often called after the log file has been // rotated. If the container is not running, container runtime can choose // to either create a new log file and return nil, or return an error. // Once it returns error, new container log file MUST NOT be created. ReopenContainerLog(ctx context.Context, in *ReopenContainerLogRequest, opts ...grpc.CallOption) (*ReopenContainerLogResponse, error) // ExecSync runs a command in a container synchronously. ExecSync(ctx context.Context, in *ExecSyncRequest, opts ...grpc.CallOption) (*ExecSyncResponse, error) // Exec prepares a streaming endpoint to execute a command in the container. Exec(ctx context.Context, in *ExecRequest, opts ...grpc.CallOption) (*ExecResponse, error) // Attach prepares a streaming endpoint to attach to a running container. Attach(ctx context.Context, in *AttachRequest, opts ...grpc.CallOption) (*AttachResponse, error) // PortForward prepares a streaming endpoint to forward ports from a PodSandbox. PortForward(ctx context.Context, in *PortForwardRequest, opts ...grpc.CallOption) (*PortForwardResponse, error) // ContainerStats returns stats of the container. If the container does not // exist, the call returns an error. ContainerStats(ctx context.Context, in *ContainerStatsRequest, opts ...grpc.CallOption) (*ContainerStatsResponse, error) // ListContainerStats returns stats of all running containers. ListContainerStats(ctx context.Context, in *ListContainerStatsRequest, opts ...grpc.CallOption) (*ListContainerStatsResponse, error) // UpdateRuntimeConfig updates the runtime configuration based on the given request. UpdateRuntimeConfig(ctx context.Context, in *UpdateRuntimeConfigRequest, opts ...grpc.CallOption) (*UpdateRuntimeConfigResponse, error) // Status returns the status of the runtime. Status(ctx context.Context, in *StatusRequest, opts ...grpc.CallOption) (*StatusResponse, error) }</span></span></code> </pre> <br>  <i>( <a href="">cri-api / pkg / apis / runtime / v1alpha2 / api.pb.go</a> )</i> </div></div><br>  ‡§Ø‡§π ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ ‡§á‡§Ç‡§ü‡§∞‡§´‡§º‡•á‡§∏ ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§è‡§ï ‡§µ‡§ø‡§ß‡§ø ‡§ï‡•ã ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è gRPC ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> runtimeServiceClient <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { cc *grpc.ClientConn }</code> </pre> <br>  <i>( <a href="">cri-api / pkg / apis / runtime / v1alpha2 / api.pb.go</a> )</i> <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(c *runtimeServiceClient)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Exec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ctx context.Context, in *ExecRequest, opts ...grpc.CallOption)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*ExecResponse, error)</span></span></span></span> { out := <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(ExecResponse) err := c.cc.Invoke(ctx, <span class="hljs-string"><span class="hljs-string">"/runtime.v1alpha2.RuntimeService/Exec"</span></span>, in, out, opts...) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, err } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> out, <span class="hljs-literal"><span class="hljs-literal">nil</span></span> }</code> </pre> <br>  <i>( <a href="">cri-api / pkg / apis / runtime / v1alpha2 / api.pb.go</a> )</i> <br><br>  ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ <code>RuntimeServiceServer</code> ‡§ï‡•ã ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§π‡•à: <br><br><div class="spoiler">  <b class="spoiler_title">Cri-api ‡§∏‡•á kubernetes / kubernetes ‡§§‡§ï ‡§≤‡§Ç‡§¨‡•Ä ‡§∏‡•Ç‡§ö‡•Ä</b> <div class="spoiler_text"><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// RuntimeServiceServer is the server API for RuntimeService service. type RuntimeServiceServer interface { // Version returns the runtime name, runtime version, and runtime API version. Version(context.Context, *VersionRequest) (*VersionResponse, error) // RunPodSandbox creates and starts a pod-level sandbox. Runtimes must ensure // the sandbox is in the ready state on success. RunPodSandbox(context.Context, *RunPodSandboxRequest) (*RunPodSandboxResponse, error) // StopPodSandbox stops any running process that is part of the sandbox and // reclaims network resources (eg, IP addresses) allocated to the sandbox. // If there are any running containers in the sandbox, they must be forcibly // terminated. // This call is idempotent, and must not return an error if all relevant // resources have already been reclaimed. kubelet will call StopPodSandbox // at least once before calling RemovePodSandbox. It will also attempt to // reclaim resources eagerly, as soon as a sandbox is not needed. Hence, // multiple StopPodSandbox calls are expected. StopPodSandbox(context.Context, *StopPodSandboxRequest) (*StopPodSandboxResponse, error) // RemovePodSandbox removes the sandbox. If there are any running containers // in the sandbox, they must be forcibly terminated and removed. // This call is idempotent, and must not return an error if the sandbox has // already been removed. RemovePodSandbox(context.Context, *RemovePodSandboxRequest) (*RemovePodSandboxResponse, error) // PodSandboxStatus returns the status of the PodSandbox. If the PodSandbox is not // present, returns an error. PodSandboxStatus(context.Context, *PodSandboxStatusRequest) (*PodSandboxStatusResponse, error) // ListPodSandbox returns a list of PodSandboxes. ListPodSandbox(context.Context, *ListPodSandboxRequest) (*ListPodSandboxResponse, error) // CreateContainer creates a new container in specified PodSandbox CreateContainer(context.Context, *CreateContainerRequest) (*CreateContainerResponse, error) // StartContainer starts the container. StartContainer(context.Context, *StartContainerRequest) (*StartContainerResponse, error) // StopContainer stops a running container with a grace period (ie, timeout). // This call is idempotent, and must not return an error if the container has // already been stopped. // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> what must the runtime do after the grace period is reached? StopContainer(context.Context, *StopContainerRequest) (*StopContainerResponse, error) // RemoveContainer removes the container. If the container is running, the // container must be forcibly removed. // This call is idempotent, and must not return an error if the container has // already been removed. RemoveContainer(context.Context, *RemoveContainerRequest) (*RemoveContainerResponse, error) // ListContainers lists all containers by filters. ListContainers(context.Context, *ListContainersRequest) (*ListContainersResponse, error) // ContainerStatus returns status of the container. If the container is not // present, returns an error. ContainerStatus(context.Context, *ContainerStatusRequest) (*ContainerStatusResponse, error) // UpdateContainerResources updates ContainerConfig of the container. UpdateContainerResources(context.Context, *UpdateContainerResourcesRequest) (*UpdateContainerResourcesResponse, error) // ReopenContainerLog asks runtime to reopen the stdout/stderr log file // for the container. This is often called after the log file has been // rotated. If the container is not running, container runtime can choose // to either create a new log file and return nil, or return an error. // Once it returns error, new container log file MUST NOT be created. ReopenContainerLog(context.Context, *ReopenContainerLogRequest) (*ReopenContainerLogResponse, error) // ExecSync runs a command in a container synchronously. ExecSync(context.Context, *ExecSyncRequest) (*ExecSyncResponse, error) // Exec prepares a streaming endpoint to execute a command in the container. Exec(context.Context, *ExecRequest) (*ExecResponse, error) // Attach prepares a streaming endpoint to attach to a running container. Attach(context.Context, *AttachRequest) (*AttachResponse, error) // PortForward prepares a streaming endpoint to forward ports from a PodSandbox. PortForward(context.Context, *PortForwardRequest) (*PortForwardResponse, error) // ContainerStats returns stats of the container. If the container does not // exist, the call returns an error. ContainerStats(context.Context, *ContainerStatsRequest) (*ContainerStatsResponse, error) // ListContainerStats returns stats of all running containers. ListContainerStats(context.Context, *ListContainerStatsRequest) (*ListContainerStatsResponse, error) // UpdateRuntimeConfig updates the runtime configuration based on the given request. UpdateRuntimeConfig(context.Context, *UpdateRuntimeConfigRequest) (*UpdateRuntimeConfigResponse, error) // Status returns the status of the runtime. Status(context.Context, *StatusRequest) (*StatusResponse, error) }</span></span></code> </pre> <br>  <i>( <a href="">cri-api / pkg / apis / runtime / v1alpha2 / api.pb.go</a> )</i> </div></div><br><img src="https://habrastorage.org/webt/ud/wx/mb/udwxmbczx1kgrhy_etiwnmkhlha.png"><br><br>  ‡§Ø‡§¶‡§ø ‡§π‡§æ‡§Ç, ‡§§‡•ã ‡§π‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§î‡§∞ ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§¶‡•á‡§ñ‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è, ‡§π‡•à ‡§®‡§æ?  ‡§Ü‡§á‡§è ‡§á‡§∏‡•á ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§ <br><br>  ‡§á‡§∏ ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•ã ‡§è‡§ó‡•ç‡§ú‡•Ä‡§ï‡•ç‡§Ø‡•Ç‡§ü ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§î‡§∞ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§ö‡§≤‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§Ö‡§Ç‡§§‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§  ‡§Æ‡•á‡§∞‡•á ‡§Æ‡§æ‡§Æ‡§≤‡•á ‡§Æ‡•á‡§Ç, ‡§Ø‡§π ‡§Ö‡§Ç‡§§‡§∞ ‡§π‡•à: <br><br><pre> <code class="bash hljs">// worker node $ ss -a -p |grep kubelet ... u_str ESTAB 0 0 * 157937 * 157387 users:((<span class="hljs-string"><span class="hljs-string">"kubelet"</span></span>,pid=5714,fd=33)) ...</code> </pre> <br>  ‡§π‡§Æ‡•ç‡§Æ ... ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü (‡§™‡•Ä‡§Ü‡§à‡§°‡•Ä ‚Äã‚Äã= 5714) ‡§î‡§∞ ‡§ï‡•Å‡§õ ‡§Ö‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§Ø‡•Ç‡§®‡§ø‡§ï‡•ç‡§∏ ‡§∏‡•â‡§ï‡•á‡§ü‡•ç‡§∏ ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§è‡§ï ‡§®‡§Ø‡§æ ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§®‡•§  ‡§Ø‡§π ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à?  ‡§Ø‡§π ‡§∏‡§π‡•Ä ‡§π‡•à, ‡§Ø‡§π ‡§°‡•â‡§ï‡§∞ (‡§™‡•É‡§∑‡•ç‡§† 1186) ‡§π‡•à! <br><br><pre> <code class="bash hljs">// worker node $ ss -a -p |grep 157387 ... u_str ESTAB 0 0 * 157937 * 157387 users:((<span class="hljs-string"><span class="hljs-string">"kubelet"</span></span>,pid=5714,fd=33)) u_str ESTAB 0 0 /var/run/docker.sock 157387 * 157937 users:((<span class="hljs-string"><span class="hljs-string">"dockerd"</span></span>,pid=1186,fd=14)) ...</code> </pre> <br>  ‡§ú‡•à‡§∏‡§æ ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§Ø‡§æ‡§¶ ‡§π‡•à, ‡§Ø‡§π ‡§è‡§ï ‡§°‡•â‡§ï ‡§°‡•á‡§Æ‡•â‡§® ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§π‡•à (pid = 1186) ‡§ú‡•ã ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§Ü‡§ú‡•ç‡§û‡§æ ‡§ï‡§æ ‡§™‡§æ‡§≤‡§® ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à: <br><br><pre> <code class="bash hljs">// worker node $ ps -afx ... 1186 ? Ssl 0:55 /usr/bin/dockerd -H fd:// 17784 ? Sl 0:00 \_ docker-containerd-shim 53a0a08547b2f95986402d7f3b3e78702516244df049ba6c5aa012e81264aa3c /var/run/docker/libcontainerd/53a0a08547b2f95986402d7f3 17801 pts/2 Ss 0:00 \_ sh 17827 pts/2 S+ 0:00 \_ sleep 5000 ...</code> </pre> <br><h3>  4. ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ ‡§Æ‡•á‡§Ç ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø </h3><br>  ‡§Ü‡§á‡§è CRI-O ‡§ï‡•á ‡§∏‡•ã‡§∞‡•ç‡§∏ ‡§ï‡•ã‡§° ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à‡•§  ‡§°‡•â‡§ï‡§∞ ‡§Æ‡•á‡§Ç, ‡§§‡§∞‡•ç‡§ï ‡§∏‡§Æ‡§æ‡§® ‡§π‡•à‡•§ <br><br>  <code>RuntimeServiceServer</code> ‡§ï‡•ã ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§è‡§ï ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§π‡•à: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// Server implements the RuntimeService and ImageService type Server struct { config libconfig.Config seccompProfile *seccomp.Seccomp stream StreamService netPlugin ocicni.CNIPlugin hostportManager hostport.HostPortManager appArmorProfile string hostIP string bindAddress string *lib.ContainerServer monitorsChan chan struct{} defaultIDMappings *idtools.IDMappings systemContext *types.SystemContext // Never nil updateLock sync.RWMutex seccompEnabled bool appArmorEnabled bool }</span></span></code> </pre> <br>  <i>( <a href="">cri-o / server / server.go</a> )</i> <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// Exec prepares a streaming endpoint to execute a command in the container. func (s *Server) Exec(ctx context.Context, req *pb.ExecRequest) (resp *pb.ExecResponse, err error) { const operation = "exec" defer func() { recordOperation(operation, time.Now()) recordError(operation, err) }() resp, err = s.getExec(req) if err != nil { return nil, fmt.Errorf("unable to prepare exec endpoint: %v", err) } return resp, nil }</span></span></code> </pre> <br>  <i>( <a href="">cri-o / erver / container_exec.go</a> )</i> <br><br>  ‡§∂‡•ç‡§∞‡•É‡§Ç‡§ñ‡§≤‡§æ ‡§ï‡•á ‡§Ö‡§Ç‡§§ ‡§Æ‡•á‡§Ç, ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§®‡•ã‡§° ‡§™‡§∞ ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ö‡§≤‡§æ‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// ExecContainer prepares a streaming endpoint to execute a command in the container. func (r *runtimeOCI) ExecContainer(c *Container, cmd []string, stdin io.Reader, stdout, stderr io.WriteCloser, tty bool, resize &lt;-chan remotecommand.TerminalSize) error { processFile, err := prepareProcessExec(c, cmd, tty) if err != nil { return err } defer os.RemoveAll(processFile.Name()) args := []string{rootFlag, r.root, "exec"} args = append(args, "--process", processFile.Name(), c.ID()) execCmd := exec.Command(r.path, args...) if v, found := os.LookupEnv("XDG_RUNTIME_DIR"); found { execCmd.Env = append(execCmd.Env, fmt.Sprintf("XDG_RUNTIME_DIR=%s", v)) } var cmdErr, copyError error if tty { cmdErr = ttyCmd(execCmd, stdin, stdout, resize) } else { if stdin != nil { // Use an os.Pipe here as it returns true *os.File objects. // This way, if you run 'kubectl exec &lt;pod&gt; -i bash' (no tty) and type 'exit', // the call below to execCmd.Run() can unblock because its Stdin is the read half // of the pipe. r, w, err := os.Pipe() if err != nil { return err } go func() { _, copyError = pools.Copy(w, stdin) }() execCmd.Stdin = r } if stdout != nil { execCmd.Stdout = stdout } if stderr != nil { execCmd.Stderr = stderr } cmdErr = execCmd.Run() } if copyError != nil { return copyError } if exitErr, ok := cmdErr.(*exec.ExitError); ok { return &amp;utilexec.ExitErrorWrapper{ExitError: exitErr} } return cmdErr }</span></span></code> </pre> <br>  <i>( <a href="">cri-o / internal / oci / runtime_oci.go</a> )</i> <br><br><img src="https://habrastorage.org/webt/hm/dt/jk/hmdtjkw28fyrng0zsjghbw7tq5g.png"><br><br>  ‡§Ö‡§Ç‡§§ ‡§Æ‡•á‡§Ç, ‡§ï‡§∞‡•ç‡§®‡•á‡§≤ ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à: <br><br><img src="https://habrastorage.org/webt/f2/7n/jk/f27njkgk1lqwo0ik-9vkj-kocic.png"><br><br><h2>  ‡§Ö‡§®‡•Å‡§∏‡•ç‡§Æ‡§æ‡§∞‡§ï </h2><br><ul><li>  ‡§è‡§™‡•Ä‡§Ü‡§à ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§≠‡•Ä ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§∏‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§ </li><li>  ‡§á‡§Ç‡§ü‡§∞‡•à‡§ï‡•ç‡§ü‡§ø‡§µ ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§® ‡§∏‡§§‡•ç‡§∞ ‡§ï‡•á ‡§Ö‡§Ç‡§§ ‡§§‡§ï ‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡•á ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç: <ul><li>  kubectl ‡§î‡§∞ api-server ‡§ï‡•á ‡§¨‡•Ä‡§ö; </li><li>  ‡§è‡§™‡§ø-‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§î‡§∞ ‡§ï‡•Å‡§¨‡•á‡§ü‡•á‡§≤ ‡§ï‡•á ‡§¨‡•Ä‡§ö; </li><li>  ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§î‡§∞ ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ ‡§ï‡•á ‡§¨‡•Ä‡§ö‡•§ </li></ul></li><li>  Kubectl ‡§Ø‡§æ ‡§è‡§™‡•Ä‡§Ü‡§à ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§®‡•ã‡§°‡•ç‡§∏ ‡§™‡§∞ ‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§ö‡§≤‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§  ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§≤‡•á‡§ü ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§á‡§® ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§≠‡•Ä ‡§¨‡§æ‡§§‡§ö‡•Ä‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ </li></ul><br><h2>  ‡§∏‡§æ‡§ß‡§® </h2><br><ul><li>  ‡§ö‡§∞‡•ç‡§ö‡§æ " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§ï‡•à‡§∏‡•á" kubectl ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ "‡§ï‡§æ‡§Æ</a> " kubernetes-dev ‡§Æ‡•á‡§Ç; </li><li>  ‡§≤‡•á‡§ñ " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§µ‡•à‡§ó‡•ç‡§∞‡§Ç‡§ü ‡§Æ‡§∂‡•Ä‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§¨‡•á‡§¶‡§Æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ñ‡•á‡§≤‡§®‡§æ, ‡§≠‡§æ‡§ó 2</a> "; </li><li>  ‡§ö‡§∞‡•ç‡§ö‡§æ " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§Ø‡•Ç‡§®‡§ø‡§ï‡•ç‡§∏ ‡§∏‡•â‡§ï‡•á‡§ü ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ï‡•á ‡§¶‡•Ç‡§∏‡§∞‡•á ‡§õ‡•ã‡§∞ ‡§ï‡•ã ‡§ï‡•à‡§∏‡•á ‡§¢‡•Ç‡§Ç‡§¢‡•á‡§Ç?</a>  "‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§¶‡•ã‡§∑ ‡§™‡§∞‡•§ </li></ul><br><h2>  ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶‡§ï ‡§∏‡•á ‡§™‡•Ä.‡§è‡§∏. </h2><br>  ‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡•ç‡§≤‡•â‡§ó ‡§Æ‡•á‡§Ç ‡§≠‡•Ä ‡§™‡§¢‡§º‡•á‡§Ç: <br><br><ul><li>  "‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§ú‡§¨ ‡§ï‡•Å‡§¨‡•á‡§ü‡•á‡§≤ ‡§∞‡§® ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§§‡§æ ‡§π‡•à?"  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§≠‡§æ‡§ó 1</a> ‡§î‡§∞ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§≠‡§æ‡§ó 2</a> ; </li><li>  ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§§‡•ã ‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§´‡§≤‡•Ä ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?</a>  "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§ï‡•Å‡§¨‡•á‡§∞‡§®‡•á‡§ü‡•ç‡§∏ ‡§Ö‡§®‡•Å‡§∏‡•Ç‡§ö‡§ï ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡•á‡§Ç ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?"</a>  "; </li><li> ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">     Kubernetes</a> ¬ª. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi466093/">https://habr.com/ru/post/hi466093/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi466071/index.html">10.3 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§™‡•ç‡§∞‡§§‡§ø ‡§π‡•à‡§∂: ‡§Ö‡§™‡•ã‡§≤‡•ã ‡§Ö‡§Ç‡§§‡§∞‡§ø‡§ï‡•ç‡§∑ ‡§Ø‡§æ‡§® ‡§™‡§∞ ‡§¨‡•ã‡§∞‡•ç‡§° ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§™‡§∞ ‡§ñ‡§®‡§®</a></li>
<li><a href="../hi466075/index.html">‡§Æ‡•à‡§Ç‡§®‡•á ‡§è‡§ï ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü‡§Ö‡§™ ‡§Æ‡•á‡§Ç ‡§¨‡•á‡§∏‡§ø‡§ï ‡§∏‡§æ‡§á‡§Ç‡§∏ ‡§ï‡•ã ‡§ï‡•à‡§∏‡•á ‡§õ‡•ã‡§°‡§º‡§æ</a></li>
<li><a href="../hi466077/index.html">‡§∏‡•á‡§Ç‡§ü ‡§™‡•Ä‡§ü‡§∞‡•ç‡§∏‡§¨‡§∞‡•ç‡§ó ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§∏‡§æ‡§∞‡§£ ‡§ü‡•á‡§ï‡§°‡§ø‡§Ø‡§∞ ‡§¶‡§ø‡§µ‡§∏</a></li>
<li><a href="../hi466081/index.html">3 ‡§∏‡§ø‡§§‡§Ç‡§¨‡§∞</a></li>
<li><a href="../hi466089/index.html">‡§∏‡•ã‡§ö ‡§î‡§∞ ‡§ö‡•á‡§§‡§®‡§æ ‡§ï‡§æ ‡§è‡§≤‡•ç‡§ó‡•ã‡§∞‡§ø‡§•‡§Æ, ‡§≠‡§æ‡§ó 2</a></li>
<li><a href="../hi466097/index.html">.NET ‡§Ö‡§®‡•Å‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§ï‡•Ä ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä</a></li>
<li><a href="../hi466099/index.html">‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡•á‡§¨ ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® ‡§ï‡•á ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡•Ä ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ‡§è‡§Ç</a></li>
<li><a href="../hi466103/index.html">‡§ï‡•ç‡§≤‡§æ‡§â‡§° ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä</a></li>
<li><a href="../hi466105/index.html">RoadRunner ‡§ï‡•á ‡§∏‡§æ‡§• Magento Rest API ‡§ï‡•ã ‡§ì‡§µ‡§∞‡§ï‡•ç‡§≤‡•â‡§ï ‡§ï‡§∞‡§®‡§æ</a></li>
<li><a href="../hi466107/index.html">‡§°‡•Ç-‡§á‡§ü-‡§ñ‡•Å‡§¶ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§π‡•ã‡§Æ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>