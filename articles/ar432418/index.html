<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฒ ๐ก ๐ฝ ุชุญููู ุชุนุจูุฑุงุช lambda ูู Java ๐ง ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุฃุญุฏ ุงููุชุฑุฌููู: ุฑุจูุง ุชููู LambdaMetafactory ูุงุญุฏุฉ ูู ุฃูุซุฑ ุขููุงุช Java 8. ุงูุชู ุชู ุงูุงุณุชุฎูุงู ุจูุง ุ ููุฏ ุงูุชุดููุงูุง ูุคุฎุฑูุง ุ ููููุง ููุฏุฑ ูุฏุฑุงุชูุง ุจุงููุนู. ูุน...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุญููู ุชุนุจูุฑุงุช lambda ูู Java</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/432418/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/nh/bc/r2/nhbcr2a_t-abgnja2uip1sl-uki.jpeg" alt="ุงูุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  <em>ูู ุฃุญุฏ ุงููุชุฑุฌููู: ุฑุจูุง ุชููู LambdaMetafactory ูุงุญุฏุฉ ูู ุฃูุซุฑ ุขููุงุช Java 8. ุงูุชู ุชู ุงูุงุณุชุฎูุงู ุจูุง ุ ููุฏ ุงูุชุดููุงูุง ูุคุฎุฑูุง ุ ููููุง ููุฏุฑ ูุฏุฑุงุชูุง ุจุงููุนู.</em>  <em>ูุนูู ุงูุฅุตุฏุงุฑ 7.0 ูู ุฅุทุงุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CUBA ุนูู</a> ุชุญุณูู ุงูุฃุฏุงุก ุนู ุทุฑูู ุชุฌูุจ ุงูููุงููุงุช ุงูุนุงูุณุฉ ูุตุงูุญ ุฅูุดุงุก ุชุนุจูุฑุงุช lambda.</em>  <em>ุฃุญุฏ ุชุทุจููุงุช ูุฐู ุงูุขููุฉ ูู ุฅุทุงุฑ ุนูููุง ูู ุฑุจุท ูุนุงูุฌุงุช ุฃุญุฏุงุซ ุงูุชุทุจูู ุจุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ุ ููู ูููุฉ ุดุงุฆุนุฉ ุ ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ุชูุงุธุฑ EventListener</a> ูู Spring.</em>  <em>ูุนุชูุฏ ุฃู ุงููุนุฑูุฉ ุจูุจุงุฏุฆ LambdaFactory ูููู ุฃู ุชููู ูููุฏุฉ ูู ุงูุนุฏูุฏ ูู ุชุทุจููุงุช Java ุ ููุณุฑุน ูู ูุดุงุฑูุฉ ูุฐู ุงูุชุฑุฌูุฉ ูุนู.</em> </p><br><p style=";text-align:right;direction:rtl"> ูู ูุฐู ุงูููุงูุฉ ุ ุณูุนุฑุถ ุจุนุถ ุงูุญูู ุบูุฑ ุงููุนุฑููุฉ ุนูุฏ ุงุณุชุฎุฏุงู ุชุนุจูุฑุงุช lambda ูู Java 8 ูุญุฏูุฏ ูุฐู ุงูุชุนุจูุฑุงุช.  ุงูุฌูููุฑ ุงููุณุชูุฏู ููููุงู ูู ูุจุงุฑ ูุทูุฑู ุฌุงูุง ูุงูุจุงุญุซูู ููุทูุฑู ูุฌููุนุฉ ุงูุฃุฏูุงุช.  ุณูุชู ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Java ุงูุนุงูุฉ ููุท ุฏูู <code>com.sun.*</code> ูุงููุฆุงุช ุงูุฏุงุฎููุฉ ุงูุฃุฎุฑู ุ ูุจุงูุชุงูู ูุฅู ุงูููุฏ ูุญููู ุจูู ุชุทุจููุงุช JVM ุงููุฎุชููุฉ. </p><a name="habracut"></a><br><h3 id="korotkoe-predislovie" style=";text-align:right;direction:rtl">  ููุฏูุฉ ูุตูุฑุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุธูุฑุช ุชุนุจูุฑุงุช Lambda ูู Java 8 ููุณููุฉ ูุชุทุจูู ุฃุณุงููุจ ูุฌูููุฉ ู <br>  ูู ุจุนุถ ุงูุญุงูุงุช ุ ูุจุฏูู ูููุตูู ุงููุฌูููุฉ.  ุนูู ูุณุชูู bytecode ุ ูุชู ุงุณุชุจุฏุงู ุชุนุจูุฑ lambda <code>invokedynamic</code> .  ูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฅุฑุดุงุฏุงุช ูุฅูุดุงุก ุชุทุจูู ูุงุฌูุฉ ูุธูููุฉ ูุทุฑููุฉ ููุท ุชูููุถ ุงุณุชุฏุนุงุก ุงูุฃุณููุจ ุงููุนูู ุ ุงูุฐู ูุญุชูู ุนูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุนุฑูุฉ ูู ูุต ุงูุชุนุจูุฑ lambda. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏููุง ุงูููุฏ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printElements</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;String&gt; strings)</span></span></span></span>{ strings.forEach(item -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Item = %s"</span></span>, item)); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุชู ุชุญููู ูุฐุง ุงูุฑูุฒ ุจูุงุณุทุฉ ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู Java ุฅูู ุดูุก ูุดุงุจู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lambda_forEach</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String item)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Java  System.out.println("Item = %s", item); } private static CallSite bootstrapLambda(Lookup lookup, String name, MethodType type) { // //lookup =  VM //name = "lambda_forEach",  VM //type = String -&gt; void MethodHandle lambdaImplementation = lookup.findStatic(lookup.lookupClass(), name, type); return LambdaMetafactory.metafactory(lookup, "accept", MethodType.methodType(Consumer.class), //  - MethodType.methodType(void.class, Object.class), //  Consumer.accept    lambdaImplementation, //     - type); } void printElements(List&lt;String&gt; strings) { Consumer&lt;String&gt; lambda = invokedynamic# bootstrapLambda, #lambda_forEach strings.forEach(lambda); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู <code>invokedynamic</code> ุงูุชุนูููุฉ <code>invokedynamic</code> ุชูุฑูุจูุง ุนูู ุฃููุง ููุฏ Java: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> CallSite cs; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printElements</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;String&gt; strings)</span></span></span><span class="hljs-function"> </span></span>{ Consumer&lt;String&gt; lambda; <span class="hljs-comment"><span class="hljs-comment">//begin invokedynamic if (cs == null) cs = bootstrapLambda(MethodHandles.lookup(), "lambda_forEach", MethodType.methodType(void.class, String.class)); lambda = (Consumer&lt;String&gt;)cs.getTarget().invokeExact(); //end invokedynamic strings.forEach(lambda); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ูุชู ุงุณุชุฎุฏุงู <code>LambdaMetafactory</code> ูุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CallSite</a> ูููุฑ ุทุฑููุฉ ูุตูุน ุชููู ุจุฅุฑุฌุงุน ูุนุงูุฌ ููุฃุณููุจ ุงููุฏู.  ูุฐู ุงูุทุฑููุฉ ุชููู ุจุฅุฑุฌุงุน ุชุทุจูู ุงููุงุฌูุฉ ุงููุธูููุฉ ุจุงุณุชุฎุฏุงู <code>invokeExact</code> .  ุฅุฐุง ูุงูุช ููุงู ูุชุบูุฑุงุช ุชู ุงูุชูุงุทูุง ูู ุชุนุจูุฑ lambda ุ ูุฅู <code>invokeExact</code> ููุจู ูุฐู ุงููุชุบูุฑุงุช ููุนููุงุช ูุนููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู Oracle JRE 8 ุ ูููุฏ metafactory ุฏููุงูููููุง ูุฆุฉ Java ุจุงุณุชุฎุฏุงู ObjectWeb Asm ุ ูุงูุฐู ููุดุฆ ูุฆุฉ ุชููุฐ ูุงุฌูุฉ ูุธูููุฉ.  ูููู ุฅุถุงูุฉ ุญููู ุฅุถุงููุฉ ุฅูู ุงููุฆุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุฅุฐุง ูุงู ุงูุชุนุจูุฑ lambda ููุชูุท ุงููุชุบูุฑุงุช ุงูุฎุงุฑุฌูุฉ.  ูุดุจู ูุฐุง ุฃุญุฏ ูุฆุงุช Java ุงููุฌูููุฉ ุ ูููู ููุงู ุงูุงุฎุชูุงูุงุช ุงูุชุงููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุฅูุดุงุก ูุฆุฉ ูุฌูููุฉ ุจูุงุณุทุฉ ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู Java. </li><li style=";text-align:right;direction:rtl">  ูุชู ุฅูุดุงุก ูุฆุฉ ูุชุทุจูู ุชุนุจูุฑ lambda ุจูุงุณุทุฉ JVM ูู ููุช ุงูุชุดุบูู. </li></ul><br><hr><br><p style=";text-align:right;direction:rtl">  <strong>ูุนุชูุฏ ุชุทุจูู Metafactory ุนูู ุจุงุฆุน JVM ูุฅุตุฏุงุฑู</strong> </p><br><hr><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ูุง ูุชู ุงุณุชุฎุฏุงู <code>invokedynamic</code> ููุท ูุชุนุจูุฑุงุช lambda ูู Java.  ูุณุชุฎุฏู ุจุดูู ุฑุฆูุณู ุนูุฏ ุชุดุบูู ุงููุบุงุช ุงูุฏููุงููููุฉ ูู ุจูุฆุฉ JVM.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชููุฏ ูุญุฑู Nashorn</a> JavaScript ุ ุงููุฏูุฌ ูู Java ุ ูู ูุฐู ุงูุชุนูููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณูู ูุฑูุฒ ุนูู ูุฆุฉ <code>LambdaMetafactory</code> ููุฏุฑุงุชูุง.  ุงูุชุงูู <br>  ููุชุฑุถ ูุณู ูุฐู ุงูููุงูุฉ ุฃูู ุชููู ุฌูุฏูุง ููู ุชุนูู ุทุฑู <code>MethodHandle</code> ููุง <code>MethodHandle</code> </p><br><h2 id="tryuki-s-lyambda-vyrazheniyami" style=";text-align:right;direction:rtl">  ุงูุญูู ูุน ุชุนุจูุฑุงุช ุงูุฏุง </h2><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงููุณู ุ ุณูุนุฑุถ ููููุฉ ุจูุงุก ูุงูุจุฏุง ุฏููุงููููุฉ ูุงุณุชุฎุฏุงููุง ูู ุงูููุงู ุงูููููุฉ. </p><br><h3 id="proveryaemye-isklyucheniya-i-lyambdy" style=";text-align:right;direction:rtl">  ุงุณุชุซูุงุกุงุช ูุญุต ู lambdas </h3><br><p style=";text-align:right;direction:rtl">  ููุณ ุณุฑุงู ุฃู ุฌููุน ุงููุงุฌูุงุช ุงููุธูููุฉ ุงูููุฌูุฏุฉ ูู Java ูุง ุชุฏุนู ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ.  ูุฒุงูุง ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ ุนูู ุงูุงุณุชุซูุงุกุงุช ุงูุนุงุฏูุฉ ูู ููุงุด ุทููู ุฌุฏูุง (ููุง ุฒุงู ุณุงุฎููุง). </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุงุฐุง ูู ููุช ุจุญุงุฌุฉ ุฅูู ุงุณุชุฎุฏุงู ุงูููุฏ ูุน ุงุณุชุซูุงุกุงุช ูุญุฏุฏุฉ ุฏุงุฎู ุชุนุจูุฑุงุช lambda ุจุงูุงูุชุฑุงู ูุน Java Streamsุ  ุนูู ุณุจูู ุงููุซุงู ุ ุชุญุชุงุฌ ุฅูู ุชุญููู ูุงุฆูุฉ ุณูุงุณู ุฅูู ูุงุฆูุฉ ุนูุงููู URL ูุซู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Arrays.asList(<span class="hljs-string"><span class="hljs-string">"http://localhost/"</span></span>, <span class="hljs-string"><span class="hljs-string">"https://github.com"</span></span>).stream() .map(URL::<span class="hljs-keyword"><span class="hljs-keyword">new</span></span>) .collect(Collectors.toList())</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุงูุฅุนูุงู ุนู ุงุณุชุซูุงุก ูุงุจู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฐู</a> ูู ูููุดุฆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนููุงู URL (ุณูุณูุฉ)</a> ุ ูุฐูู ูุง ูููู ุงุณุชุฎุฏุงูู ูุจุงุดุฑุฉ ููุฑุฌุน ุทุฑููุฉ ูู ูุฆุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Functiion</a> . </p><br><p style=";text-align:right;direction:rtl">  ุณุชููู: "ูุง ุ ุฑุจูุง ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุฐู ุงูุฎุฏุนุฉ ููุง": </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;T&gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uncheckCall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Callable&lt;T&gt; callable)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> callable.call(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sneakyThrow(e); } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;E extends Throwable, T&gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sneakyThrow0</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Throwable t)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> E </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> (E)t; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;T&gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sneakyThrow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Throwable e)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Util.&lt;RuntimeException, T&gt;sneakyThrow0(e); } <span class="hljs-comment"><span class="hljs-comment">//   //return s.filter(a -&gt; uncheckCall(a::isActive)) // .map(Account::getNumber) // .collect(toSet());</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุงูุงุฎุชุฑุงู ุงููุฐุฑ.  ูููุง ุงูุณุจุจ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฎุฏุงู ูุชูุฉ ูุญุงููุฉ ุงูุตูุฏ. </li><li style=";text-align:right;direction:rtl">  ูุชู ุทุฑุญ ุงูุงุณุชุซูุงุก ูุฑุฉ ุฃุฎุฑู. </li><li style=";text-align:right;direction:rtl">  ุงูุงุณุชุฎุฏุงู ุงููุฐุฑ ูููุน ุงููุญู ูู ุฌุงูุง. </li></ul><br><p style=";text-align:right;direction:rtl">  ูููู ุญู ุงููุดููุฉ ุจุทุฑููุฉ ุฃูุซุฑ "ูุงููููุฉ" ุ ูุฐูู ุจุงุณุชุฎุฏุงู ูุนุฑูุฉ ุงูุญูุงุฆู ุงูุชุงููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุงูุชุนุฑู ุนูู ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ ููุท ุนูู ูุณุชูู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ูู Java. </li><li style=";text-align:right;direction:rtl">  ูุณู <code>throws</code> ูู ูุฌุฑุฏ ุจูุงูุงุช ูุตููุฉ ูุทุฑููุฉ ุจุฏูู ูููุฉ ุฏูุงููุฉ ุนูู ูุณุชูู JVM. </li><li style=";text-align:right;direction:rtl">  ูุง ูููู ุชูููุฒ ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ ูุงููุนุชุงุฏุฉ ุนูู ูุณุชูู ุงูููุฏ ูู JVM. </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุญู ูู ุงูุชูุงู ุงูุฃุณููุจ <code>Callable.call</code> ุจุฃุณููุจ ุจุฏูู ูุณู <code>throws</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;V&gt; <span class="hljs-function"><span class="hljs-function">V </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">callUnchecked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Callable&lt;V&gt; callable)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> callable.call(); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ูุชู ุชุฑุฌูุฉ ูุฐุง ุงูุฑูุฒ ูุฃู ุฃุณููุจ <code>Callable.call</code> ุฃุนูู ุงุณุชุซูุงุกุงุช ูุญุฏุฏุฉ ูู ูุณู <code>throws</code> .  ูููู ูููููุง ุฅุฒุงูุฉ ูุฐุง ุงููุณู ุจุงุณุชุฎุฏุงู ุชุนุจูุฑ lambda ูุจูู ุฏููุงูููููุง. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ูุญุชุงุฌ ุฅูู ุฅุนูุงู ูุงุฌูุฉ ูุธูููุฉ ูุง ุชุญุชูู ุนูู ูุณู <code>throws</code> . <br>  ูููู ูู ุณูููู ูุงุฏุฑูุง ุนูู ุชูููุถ ุงูููุงููุฉ ุฅูู <code>Callable.call</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@FunctionalInterface</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SilentInvoker</span></span></span><span class="hljs-class"> </span></span>{ MethodType SIGNATURE = MethodType.methodType(Object.class, Callable.class);<span class="hljs-comment"><span class="hljs-comment">//  INVOKE &lt;V&gt; V invoke(final Callable&lt;V&gt; callable); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุชูุซู ุงูุฎุทูุฉ ุงูุซุงููุฉ ูู ุฅูุดุงุก ุชุทุจูู ููุฐู ุงููุงุฌูุฉ ุจุงุณุชุฎุฏุงู <code>LambdaMetafactory</code> ูุชูููุถ ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>SilentInvoker.invoke</code> ุฅูู ุงูุฃุณููุจ <code>Callable.call</code> .  ููุง ุฐูุฑูุง ุณุงุจููุง ุ ูุชู ุชุฌุงูู ูุณู <code>throws</code> ุนูู ูุณุชูู ุงูููุฏ ุ ูุฐุง ูููู ูุทุฑููุฉ <code>SilentInvoker.invoke</code> ุงุณุชุฏุนุงุก ุทุฑููุฉ <code>Callable.call</code> ุฏูู ุงูุชุตุฑูุญ ุนู ุงูุงุณุชุซูุงุกุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> SilentInvoker SILENT_INVOKER; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MethodHandles.Lookup lookup = MethodHandles.lookup(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> CallSite site = LambdaMetafactory.metafactory(lookup, <span class="hljs-string"><span class="hljs-string">"invoke"</span></span>, MethodType.methodType(SilentInvoker.class), SilentInvoker.SIGNATURE, lookup.findVirtual(Callable.class, <span class="hljs-string"><span class="hljs-string">"call"</span></span>, MethodType.methodType(Object.class)), SilentInvoker.SIGNATURE); SILENT_INVOKER = (SilentInvoker) site.getTarget().invokeExact();</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุซุงูุซูุง ุ ููุชุจ ุทุฑููุฉ ูุณุงุนุฏุฉ ุชุณุชุฏุนู <code>Callable.call</code> ุฏูู ุงูุชุตุฑูุญ ุจุงูุงุณุชุซูุงุกุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;V&gt; <span class="hljs-function"><span class="hljs-function">V </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">callUnchecked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Callable&lt;V&gt; callable)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">/*no throws*/</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SILENT_INVOKER.invoke(callable); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ุงูุขู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงูุฏูู ุฏูู ุฃู ูุดุงูู ูุน ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Arrays.asList(<span class="hljs-string"><span class="hljs-string">"http://localhost/"</span></span>, <span class="hljs-string"><span class="hljs-string">"https://dzone.com"</span></span>).stream() .map(url -&gt; callUnchecked(() -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(url))) .collect(Collectors.toList());</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุชุฑุฌูุฉ ูุฐุง ุงูุฑูุฒ ุฏูู ูุดุงูู ูุฃู <code>callUnchecked</code> ูุง ุชุนูู ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ูููู ุงุณุชุฏุนุงุก ูุฐู ุงูุทุฑููุฉ ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุถููุฉ</a> ูู ุงูุดูู ุ ูุฃููุง ูุฆุฉ ูุงุญุฏุฉ ููุท ูู JVM ุจุฃููููุง ุชููุฐ ูุงุฌูุฉ <code>SilentOnvoker</code> </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุชุทุจูู <code>Callable.call</code> ูููู ุงุณุชุซูุงุกู ูู ููุช ุงูุชุดุบูู ุ ูุณูุชู <code>Callable.call</code> ุจูุงุณุทุฉ ูุธููุฉ ุงูุงุณุชุฏุนุงุก ุฏูู ุฃู ูุดุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ callUnchecked(() -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"Invalid URL"</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Exception e){ System.out.println(e); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฅููุงูุงุช ูุฐู ุงูุทุฑููุฉ ุ ูุฌุจ ุฃู ุชุชุฐูุฑ ุฏุงุฆููุง ุงูุชูุตูุฉ ุงูุชุงููุฉ: </p><br><hr><br><p style=";text-align:right;direction:rtl">  <strong>ุฅุฎูุงุก ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ ูุน callUnchecked ููุท ุฅุฐุง ููุช ูุชุฃูุฏูุง ูู ุฃู ุงูุฑูุฒ ุงููุฏุนูู ูู ูููู ุฃู ุงุณุชุซูุงุกุงุช</strong> </p><br><hr><br><p style=";text-align:right;direction:rtl">  ููุถุญ ุงููุซุงู ุงูุชุงูู ูุซุงูุงู ุนูู ูุฐุง ุงูุฃุณููุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">callUnchecked(() -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"https://dzone.com"</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// URL        MalformedURLException</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุชูููุฐ ุงููุงูู ููุฐู ุงูุทุฑููุฉ ููุฌูุฏ <a href="">ููุง</a> ุ ููู ุฌุฒุก ูู ูุดุฑูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SNAMP</a> ููุชูุญ ุงููุตุฏุฑ. </p><br><h3 id="rabotaem-s-getters-i-setters" style=";text-align:right;direction:rtl">  ุงูุนูู ูุน Getters ู Setters </h3><br><p style=";text-align:right;direction:rtl">  ุณูููู ูุฐุง ุงููุณู ูููุฏูุง ูุฃููุฆู ุงูุฐูู ููุชุจูู ุงูุชุณูุณู / ุฅูุบุงุก ุงูุชุณูุณู ููุฎุชูู ุชูุณููุงุช ุงูุจูุงูุงุช ูุซู JSON ู Thrift ููุง ุฅูู ุฐูู.  ุนูุงูุฉ ุนูู ุฐูู ุ ูููู ุฃู ูููู ูููุฏูุง ููุบุงูุฉ ุฅุฐุง ูุงูุช ุงูุดูุฑุฉ ุชุนุชูุฏ ุงุนุชูุงุฏูุง ูุจูุฑูุง ุนูู ุงูุนูุงุณ Getters and Setters ูู JavaBeans. </p><br><p style=";text-align:right;direction:rtl">  ุฅู getter ุงููุตุฑุญ ุจู ูู JavaBean ูู ุทุฑููุฉ ุชุณูู <code>getXXX</code> ุจุฏูู ุฃู ูุนููุงุช ูููุน ุจูุงูุงุช ุฅุฑุฌุงุน ุบูุฑ <code>void</code> .  ูุนุฏ setter ุงูุฐู ุชู ุชุนุฑููู ูู JavaBean ุทุฑููุฉ ุชุณูู <code>setXXX</code> ุ ูุน ูุนููุฉ ูุงุญุฏุฉ ูุฅุฑุฌุงุน <code>void</code> .  ูููู ุชูุซูู ูุฐูู ุงูุชุฑููุฒูู ููุงุฌูุงุช ูุธูููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุชูุซูู Getter ุจูุงุณุทุฉ ูุฆุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฏุงูุฉ</a> ุ ุญูุซ ุชููู ุงููุณูุทุฉ ูู ูููุฉ <code>this</code> . </li><li style=";text-align:right;direction:rtl">  ูููู ุชูุซูู Setter ุจูุงุณุทุฉ ูุฆุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BiConsumer</a> ุ ุญูุซ ุชููู ุงููุณูุทุฉ ุงูุฃููู ูู <code>this</code> ุ ูุงูุซุงูู ูู ุงููููุฉ ุงูุชู ูุชู ุชูุฑูุฑูุง ุฅูู Setter. </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุณูููู ุจุฅูุดุงุก ุทุฑููุชูู ููููููุง ุชุญููู ุฃู getter ุฃู setter ุฅูู ูุฐู <br>  ูุงุฌูุงุช ูุธูููุฉ.  ูููุณ ูู ุงูููู ุฃู ุชููู ููุชุง ุงููุงุฌูุชูู ูู ุงูุฃุฏููุฉ ุงูุนุงูุฉ.  ุจุนุฏ ูุญู ุงูุฃููุงุน <br>  ุณูููู ููุน ุงูุจูุงูุงุช ุงูุญูููู ูู <code>Object</code> .  ูููู ุฅุฌุฑุงุก ุงูุตุจ ุงูุชููุงุฆู ูููุน ุงูุฅุฑุฌุงุน ูุงูุญุฌุฌ ุจุงุณุชุฎุฏุงู <code>LambdaMetafactory</code> .  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณุชุณุงุนุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจุฉ Guava ูู</a> ุชุฎุฒูู ุชุนุจูุฑุงุช lambda ููุชุฎุฒูู ุงููุคูุช ูููุณ ุงูุญุฑูู ูุงููุณุชูุทููู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุฃููู: ุฅูุดุงุก ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ููุฃููุงุญ ูุงูุฃุฏูุงุช.  ุชูุซู ูุฆุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุทุฑููุฉ</a> ููุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช Reflection API ุฃู ุฃุฏุงุฉ ุถุจุท ุญููููุฉ ูุชุณุชุฎุฏู ูููุชุงุญ. <br>  ูููุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ูุงุฌูุฉ ูุธูููุฉ ุชู ุฅูุดุงุคูุง ุฏููุงูููููุง ูุฌูุงุฒ ูุญุฏุฏ ุฃู ูุญุฏุฏ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Cache&lt;Method, Function&gt; GETTERS = CacheBuilder.newBuilder().weakValues().build(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Cache&lt;Method, BiConsumer&gt; SETTERS = CacheBuilder.newBuilder().weakValues().build();</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุซุงููุงู ุ ุณูููู ุจุฅูุดุงุก ุฃุณุงููุจ ุงููุตูุน ุงูุชู ุชูุดุฆ ูุซูููุง ูููุงุฌูุฉ ุงููุธูููุฉ ุงุณุชูุงุฏูุง ุฅูู ุงููุฑุงุฌุน ุฅูู getter ุฃู setter. </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createGetter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MethodHandles.Lookup lookup, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MethodHandle getter)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> CallSite site = LambdaMetafactory.metafactory(lookup, <span class="hljs-string"><span class="hljs-string">"apply"</span></span>, MethodType.methodType(Function.class), MethodType.methodType(Object.class, Object.class), <span class="hljs-comment"><span class="hljs-comment">//signature of method Function.apply after type erasure getter, getter.type()); //actual signature of getter try { return (Function) site.getTarget().invokeExact(); } catch (final Exception e) { throw e; } catch (final Throwable e) { throw new Error(e); } } private static BiConsumer createSetter(final MethodHandles.Lookup lookup, final MethodHandle setter) throws Exception { final CallSite site = LambdaMetafactory.metafactory(lookup, "accept", MethodType.methodType(BiConsumer.class), MethodType.methodType(void.class, Object.class, Object.class), //signature of method BiConsumer.accept after type erasure setter, setter.type()); //actual signature of setter try { return (BiConsumer) site.getTarget().invokeExact(); } catch (final Exception e) { throw e; } catch (final Throwable e) { throw new Error(e); } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุชุญููู ุงูุชุญููู ุงูุชููุงุฆู ููููุน ุจูู ูุณูุทุงุช ุงูููุน <code>Object</code> ูู ุงููุงุฌูุงุช ุงููุธูููุฉ (ุจุนุฏ ูุญู ุงูููุน) ูุงูุฃููุงุน ุงูุญููููุฉ <code>samMethodType</code> ููููุฉ ุงูุฅุฑุฌุงุน ุจุงุณุชุฎุฏุงู ุงููุฑู ุจูู <code>samMethodType</code> ู <code>instantiatedMethodType</code> ( <code>samMethodType</code> ุงูุซุงูุซุฉ ูุงูุฎุงูุณุฉ ูุทุฑููุฉ metafactory ุ ุนูู ุงูุชูุงูู).  ููุน ุงููุซูู ุงูุฐู ุชู ุฅูุดุงุคู ููุทุฑููุฉ - ููุฐุง ูู ุชุฎุตุต ุงูุทุฑููุฉ ุงูุชู ุชููุฑ ุชูููุฐ ุชุนุจูุฑ lambda. </p><br><p style=";text-align:right;direction:rtl">  ุซุงูุซูุง ุ ุณููุดุฆ ูุงุฌูุฉ ููุฐู ุงููุตุงูุน ูุน ุฏุนู ููุชุฎุฒูู ุงููุคูุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reflectGetter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MethodHandles.Lookup lookup, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Method getter)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> ReflectiveOperationException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GETTERS.get(getter, () -&gt; createGetter(lookup, lookup.unreflect(getter))); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ExecutionException e) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReflectiveOperationException(e.getCause()); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> BiConsumer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reflectSetter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MethodHandles.Lookup lookup, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Method setter)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> ReflectiveOperationException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SETTERS.get(setter, () -&gt; createSetter(lookup, lookup.unreflect(setter))); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ExecutionException e) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReflectiveOperationException(e.getCause()); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุจุณูููุฉ ุชุญููู ูุนูููุงุช ุงูุทุฑููุฉ ุงูุชู ุชู ุงูุญุตูู ุนูููุง ูู ูุซูู ููุฆุฉ <code>Method</code> ุจุงุณุชุฎุฏุงู Java Reflection API ุฅูู <code>MethodHandle</code> .  ุถุน ูู ุงุนุชุจุงุฑู ุฃู ุฃุณุงููุจ ูุซูู ุงููุฆุฉ ุชุญุชูู ุฏุงุฆููุง ุนูู ูุณูุทุฉ ูุฎููุฉ ุฃูููุฉ ุชุณุชุฎุฏู ูุชูุฑูุฑ <code>this</code> ุฅูู ูุฐู ุงูุทุฑููุฉ.  ุงูุฃุณุงููุจ ุงูุซุงุจุชุฉ ูุง ุชููู ูุซู ูุฐู ุงููุนููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุจุฏู ุงูุชูููุน ุงููุนูู <code>Integer.intValue()</code> ูุซู <code>int intValue(Integer this)</code> .  ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงูุฎุฏุนุฉ ูู ุชูููุฐ ูุบููุงุช ุงููุธูููุฉ ููุฃุญุฒุงู ูุงููุณุชูุทููู. </p><br><p style=";text-align:right;direction:rtl">  ูุงูุขู ุญุงู ุงูููุช ูุงุฎุชุจุงุฑ ุงูุฑูุฒ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Date d = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Date(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> BiConsumer&lt;Date, Long&gt; timeSetter = reflectSetter(MethodHandles.lookup(), Date.class.getDeclaredMethod(<span class="hljs-string"><span class="hljs-string">"setTime"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>.class)); timeSetter.accept(d, <span class="hljs-number"><span class="hljs-number">42L</span></span>); <span class="hljs-comment"><span class="hljs-comment">//the same as d.setTime(42L); final Function&lt;Date, Long&gt; timeGetter = reflectGetter(MethodHandles.lookup(), Date.class.getDeclaredMethod("getTime")); System.out.println(timeGetter.apply(d)); //the same as d.getTime() //output is 42</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฃุณููุจ ูุน getters ุงููุฎุฒูุฉ ูุคูุชุงู ู setters ุจุดูู ูุนุงู ูู ููุชุจุงุช ุงูุชุณูุณู / ุฅูุบุงุก ุงูุชุณูุณู (ูุซู Jackson) ุงูุชู ุชุณุชุฎุฏู getters ู setters ุฃุซูุงุก ุงูุชุณูุณู ู ุฅูุบุงุก ุงูุชุณูุณู. </p><br><hr><br><p style=";text-align:right;direction:rtl">  <strong>ุงุณุชุฏุนุงุก ูุงุฌูุงุช ูุธูููุฉ ูุน ุชุทุจููุงุช ุชู ุฅูุดุงุคูุง ุฏููุงูููููุง ุจุงุณุชุฎุฏุงู <code>LambdaMetaFactory</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุณุฑุน</a> ุจูุซูุฑ ูู ุงูุงุชุตุงู ูู ุฎูุงู Java Reflection API</strong> </p><br><hr><br><p style=";text-align:right;direction:rtl">  ูููู ุงูุนุซูุฑ ุนูู ุงููุณุฎุฉ ุงููุงููุฉ ูู ุงูููุฏ <a href="">ููุง</a> ุ ููู ุฌุฒุก ูู ููุชุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SNAMP</a> . </p><br><h2 id="ogranicheniya-i-bagi" style=";text-align:right;direction:rtl">  ุงููููุฏ ูุงูุจู </h2><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงููุณู ุ ุณููุธุฑ ูู ุจุนุถ ุงูุฃุฎุทุงุก ูุงููููุฏ ุงููุฑุชุจุทุฉ ุจุชุนุจูุฑุงุช lambda ูู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ูู Java ู JVM.  ูู ูุฐู ุงููููุฏ ูููู ุงุณุชูุณุงุฎูุง ูู OpenJDK ู Oracle JDK ูุน <code>javac</code> ุงูุฅุตุฏุงุฑ 1.8.0_131 ููุธุงูู Windows ู Linux. </p><br><h3 id="sozdanie-lyambda-vyrazheniy-iz-obrabotchikov-metodov" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุชุนุจูุฑุงุช lambda ูู ูุนุงูุฌุงุช ุงูุทุฑููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ููุง ุชุนูููู ุ ูููู ุฅูุดุงุก ุชุนุจูุฑ lambda ุฏููุงูููููุง ุจุงุณุชุฎุฏุงู <code>LambdaMetaFactory</code> .  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฅูู ุชุนุฑูู ูุนุงูุฌ - ูุฆุฉ <code>MethodHandle</code> ุ ูุงูุฐู ูุดูุฑ ุฅูู ุชูููุฐ ุงูุทุฑููุฉ ุงููุญูุฏุฉ ุงูุชู ุชู ุชุนุฑูููุง ูู ุงููุงุฌูุฉ ุงููุธูููุฉ.  ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ูุฐุง ุงููุซุงู ุงูุจุณูุท: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestClass</span></span></span><span class="hljs-class"> </span></span>{ String value = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value = value; } } <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TestClass obj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TestClass(); obj.setValue(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MethodHandles.Lookup lookup = MethodHandles.lookup(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> CallSite site = LambdaMetafactory.metafactory(lookup, <span class="hljs-string"><span class="hljs-string">"get"</span></span>, MethodType.methodType(Supplier.class, TestClass.class), MethodType.methodType(Object.class), lookup.findVirtual(TestClass.class, <span class="hljs-string"><span class="hljs-string">"getValue"</span></span>, MethodType.methodType(String.class)), MethodType.methodType(String.class)); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Supplier&lt;String&gt; getter = (Supplier&lt;String&gt;) site.getTarget().invokeExact(obj); System.out.println(getter.get());</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงูุฑูุฒ ูุนุงุฏู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TestClass obj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TestClass(); obj.setValue(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Supplier&lt;String&gt; elementGetter = () -&gt; obj.getValue(); System.out.println(elementGetter.get());</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ูุงุฐุง ูู ุงุณุชุจุฏููุง ูุนุงูุฌ ุงูุฃุณููุจ ุงูุฐู ูุดูุฑ ุฅูู <code>getValue</code> ุงูุฐู ุชูุซูู ุญููู getter: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> CallSite site = LambdaMetafactory.metafactory(lookup, <span class="hljs-string"><span class="hljs-string">"get"</span></span>, MethodType.methodType(Supplier.class, TestClass.class), MethodType.methodType(Object.class), lookup.findGetter(TestClass.class, <span class="hljs-string"><span class="hljs-string">"value"</span></span>, String.class), <span class="hljs-comment"><span class="hljs-comment">//field getter instead of method handle to getValue MethodType.methodType(String.class));</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุนูู ูุฐุง ุงูุฑูุฒ ุ ููุง ูู ูุชููุน ุ ูุฃู <code>findGetter</code> ุจุฅุฑุฌุงุน ูุนุงูุฌ ูุดูุฑ ุฅูู ุญููู getter ููุฏูู ุงูุชูููุน ุงูุตุญูุญ.  ูููู ุฅุฐุง ููุช ุจุชุดุบูู ูุฐุง ุงูุฑูุฒ ุ ูุณุชุฑู ุงูุงุณุชุซูุงุก ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">java.lang.invoke.LambdaConversionException: Unsupported MethodHandle kind: getField</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููู ุงููุซูุฑ ููุงูุชูุงู ุ ุฃู getter ููุฐุง ุงูุญูู ูุนูู ุจุดูู ุฌูุฏ ุฅุฐุง ุงุณุชุฎุฏููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">MethodHandleProxies</a> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Supplier&lt;String&gt; getter = MethodHandleProxies .asInterfaceInstance(Supplier.class, lookup.findGetter(TestClass.class, <span class="hljs-string"><span class="hljs-string">"value"</span></span>, String.class) .bindTo(obj));</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู <code>MethodHandleProxies</code> ููุณุช ุทุฑููุฉ ุฌูุฏุฉ ูุฅูุดุงุก ุชุนุจูุฑุงุช lambda ุจุดูู ุญููู ุ ูุฃู ูุฐู ุงููุฆุฉ ุจุจุณุงุทุฉ ุงูุชูุงู <code>MethodHandle</code> ูู ูุฆุฉ ูููู ูุชูููุถ invocationHandler.invoke ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">MethodHandle.invokeWithArguments</a> .  ูุณุชุฎุฏู ูุฐุง ุงูููุฌ Java Reflection ููู ุจุทูุก ุฌุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุง ูู ููุถุญ ุณุงุจููุง ุ ูุง ูููู ุงุณุชุฎุฏุงู ูู ูุนุงูุฌุงุช ุงูุทุฑููุฉ ูุฅูุดุงุก ุชุนุจูุฑุงุช lambda ูู ููุช ุงูุชุดุบูู. </p><br><hr><br><p style=";text-align:right;direction:rtl">  <strong>ูููู ุงุณุชุฎุฏุงู ุฃููุงุน ููููุฉ ููุท ูู ูุนุงูุฌุงุช ุงูุทุฑููุฉ ูุฅูุดุงุก ุชุนุจูุฑุงุช lambda ุฏููุงูููููุง.</strong> </p><br><hr><br><p style=";text-align:right;direction:rtl">  ูุง ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">REF_invokeInterface:</a> ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Lookup.findVirtual</a> ูุฃุณุงููุจ ุงููุงุฌูุฉ </li><li style=";text-align:right;direction:rtl">  REF_invokeVirtual: ูููู ุฅูุดุงุก ุจุงุณุชุฎุฏุงู Lookup.findVirtual ููุฃุณุงููุจ ุงูุงูุชุฑุงุถูุฉ ูููุฆุฉ </li><li style=";text-align:right;direction:rtl">  REF_invokeStatic: ุชู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Lookup.findStatic</a> ููุฃุณุงููุจ ุงูุซุงุจุชุฉ </li><li style=";text-align:right;direction:rtl">  ูููู ุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">REF_newInvokeSpecial:</a> ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Lookup.findConstructor ูุจูุงุฉ</a> </li><li style=";text-align:right;direction:rtl">  ูููู ุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">REF_invokeSpecial:</a> ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Lookup.findSpecial</a> <br>  ููุฃุณุงููุจ ุงูุฎุงุตุฉ ูุฑุจุท ูุจูุฑ ูุน ุฃุณุงููุจ ุงูุทุจูุฉ ุงูุงูุชุฑุงุถูุฉ </li></ul><br><p style=";text-align:right;direction:rtl">  ุณูู ุฃููุงุน ุฃุฎุฑู ูู ูุนุงูุฌุงุช <code>LambdaConversionException</code> ุฎุทุฃ <code>LambdaConversionException</code> . </p><br><h3 id="generic-isklyucheniya" style=";text-align:right;direction:rtl">  ุงุณุชุซูุงุกุงุช ุนุงูุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุฑุชุจุท ูุฐุง ุงูุฎุทุฃ ุจูุชุฑุฌู Java ูุงููุฏุฑุฉ ุนูู ุฅุนูุงู ุงุณุชุซูุงุกุงุช ุนุงูุฉ ูู ูุณู <code>throws</code> .  ููุถุญ ุงููุซุงู ุงูุชุงูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุฐุง ุงูุณููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExtendedCallable</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">V</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Exception</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Callable</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">V</span></span></span><span class="hljs-class">&gt;</span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-function">V </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">call</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> E</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ExtendedCallable&lt;URL, MalformedURLException&gt; urlFactory = () -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://localhost"</span></span>); urlFactory.call();</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุชุฑุฌูุฉ ูุฐุง ุงูุฑูุฒ ูุฃู ูููุดุฆ ูุฆุฉ <code>URL</code> ูุทุฑุญ <code>MalformedURLException</code> .  ููููุง ูุง ุชุฌูุน.  ูุชู ุนุฑุถ ุฑุณุงูุฉ ุงูุฎุทุฃ ุงูุชุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Error:(46, 73) java: call() in &lt;anonymous Test$CODEgt; cannot implement call() in ExtendedCallable overridden method does not throw java.lang.Exception</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุ ุฅุฐุง ุงุณุชุจุฏููุง ุชุนุจูุฑ lambda ุจูุตู ูุฌููู ุ ูุณุชุฌูุน ุงูุดูุฑุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ExtendedCallable&lt;URL, MalformedURLException&gt; urlFactory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ExtendedCallable&lt;URL, MalformedURLException&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> URL </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">call</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> MalformedURLException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://localhost"</span></span>); } }; urlFactory.call();</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชุจุน ูู ูุฐุง: </p><br><hr><br><p style=";text-align:right;direction:rtl">  <strong>ูุง ูุนูู ุงูุงุณุชูุชุงุฌ ุงูููุนู ููุงุณุชุซูุงุกุงุช ุงูุนุงูุฉ ุจุดูู ุตุญูุญ ูุน ุชุนุจูุฑุงุช lambda</strong> </p><br><hr><br><h3 id="ogranicheniya-tipov-parametrizacii" style=";text-align:right;direction:rtl">  ูููุฏ ููุน ุงููุนููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ููููู ุฅูุดุงุก ูุงุฆู ุนุงู ูุน ุงูุนุฏูุฏ ูู ูููุฏ ุงููุชุงุจุฉ ุจุงุณุชุฎุฏุงู ุนูุงูุฉ <code>&amp;</code> : <code>&lt;T extends A &amp; B &amp; C &amp; ... Z&gt;</code> . <br>  ูุงุฏุฑูุง ูุง ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงูุทุฑููุฉ ูุชุญุฏูุฏ ุงููุนููุงุช ุงูุนุงูุฉ ุ ูููู ุจุทุฑููุฉ ูุง ุชุคุซุฑ ุนูู ุชุนุจูุฑุงุช lambda ูู Java ุจุณุจุจ ุจุนุถ ุงููููุฏ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูููู ูู ููุน ููุฏ ุ ุจุงุณุชุซูุงุก ุงูุฃูู ุ ูุงุฌูุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฃุฎุฐ ุฅุตุฏุงุฑ ุฎุงูุต ูู ูุฆุฉ ูุน ูุฐุง ุงูููุน ุงูุนุงู ูู ุงูุงุนุชุจุงุฑ ููุท ููุฏ ุงูููุน ุงูุฃูู ูู ุงููุงุฆูุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุคุฏู ุงูููุฏ ุงูุซุงูู ุฅูู ุณููููุงุช ูุฎุชููุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ููุช ุงูุชุญููู ุงูุจุฑูุฌู ููู ููุช ุงูุชุดุบูู ุ ุนูุฏูุง ูุญุฏุซ ุงูุฑุจุท ุจุชุนุจูุฑ lambda.  ูููู ุชูุถูุญ ูุฐุง ุงูุงุฎุชูุงู ุจุงุณุชุฎุฏุงู ุงูููุฏ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MutableInteger</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IntSupplier</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IntConsumer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//mutable container of int value private int value; public MutableInteger(final int v) { value = v; } @Override public int intValue() { return value; } @Override public long longValue() { return value; } @Override public float floatValue() { return value; } @Override public double doubleValue() { return value; } @Override public int getAsInt() { return intValue(); } @Override public void accept(final int value) { this.value = value; } } static &lt;T extends Number &amp; IntSupplier&gt; OptionalInt findMinValue(final Collection &lt;T&gt; values) { return values.stream().mapToInt(IntSupplier::getAsInt).min(); } final List &lt;MutableInteger&gt; values = Arrays.asList(new MutableInteger(10), new MutableInteger(20)); final int mv = findMinValue(values).orElse(Integer.MIN_VALUE); System.out.println(mv);</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงูุฑูุฒ ูู ุงูุตุญูุญ ุชูุงูุง ููุฌูุน ุจูุฌุงุญ.  <code>MutableInteger</code> ูุฆุฉ <code>MutableInteger</code> ูููุฏ ุงูููุน ุงูุนุงู T: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>MutableInteger</code> ูู <code>Number</code> . </li><li style=";text-align:right;direction:rtl">  <code>MutableInteger</code> ุชููุฐ <code>IntSupplier</code> . </li></ul><br><p style=";text-align:right;direction:rtl">  ููู ุงูููุฏ ุณูู ูุชูู ูุน ุงุณุชุซูุงุก ูู ููุช ุงูุชุดุบูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">java.lang.BootstrapMethodError: call site initialization exception at java.lang.invoke.CallSite.makeSite(CallSite.java:<span class="hljs-number"><span class="hljs-number">341</span></span>) at java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:<span class="hljs-number"><span class="hljs-number">307</span></span>) at java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:<span class="hljs-number"><span class="hljs-number">297</span></span>) at Test.minValue(Test.java:<span class="hljs-number"><span class="hljs-number">77</span></span>) Caused by: java.lang.invoke.LambdaConversionException: Invalid receiver type <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lang</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span></span>; not a subtype of implementation type <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">util</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">function</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IntSupplier</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">at</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lang</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">invoke</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractValidatingLambdaMetafactory</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">validateMetafactoryArgs</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractValidatingLambdaMetafactory</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">:233) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">at</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lang</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">invoke</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LambdaMetafactory</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">metafactory</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LambdaMetafactory</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">:303) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">at</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lang</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">invoke</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CallSite</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">makeSite</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CallSite</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">:302)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญุฏุซ ูุฐุง ูุฃู ุฎุท ุฃูุงุจูุจ JavaStream ูุง ููุชูุท ุฅูุง ููุนูุง ุฎุงูุตูุง ุ ููู ูู ุญุงูุชูุง ูุฆุฉ ุงููุฆุฉ ููุง ูุทุจู ูุงุฌูุฉ <code>IntSupplier</code> .  ูููู ุญู ูุฐู ุงููุดููุฉ ุนู ุทุฑูู ุงูุฅุนูุงู ุตุฑุงุญุฉ ุนู ููุน ุงููุนููุฉ ูู ุทุฑููุฉ ูููุตูุฉ ุ ูุชู ุงุณุชุฎุฏุงููุง ููุฑุฌุน ููุทุฑููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> IntSupplier i)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i.getAsInt(); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;T extends Number &amp; IntSupplier&gt; <span class="hljs-function"><span class="hljs-function">OptionalInt </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findMinValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Collection&lt;T&gt; values)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> values.stream().mapToInt(UtilsTest::getInt).min(); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุถุญ ูุฐุง ุงููุซุงู ุงุณุชูุชุงุฌ ุงูููุน ุบูุฑ ุงูุตุญูุญ ูู ุงููุญูู ุงูุจุฑูุฌู ูููุช ุงูุชุดุบูู. </p><br><hr><br><p style=";text-align:right;direction:rtl">  <strong>ูุนุงูุฌุฉ ูููุฏ ููุน ุงููุนููุฉ ุงูุนุงูุฉ ูุชุนุฏุฏุฉ ุจุงูุงูุชุฑุงู ูุน ุงุณุชุฎุฏุงู ุชุนุจูุฑุงุช lambda ูู ููุช ุงูุชุฑุฌูุฉ ููู ููุช ุงูุชุดุบูู ุบูุฑ ุซุงุจุช</strong> </p><br><hr></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar432418/">https://habr.com/ru/post/ar432418/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar432408/index.html">ููุฎุต Fintech: ุงูุชุญุถูุฑ ููุตู ุงูุจููู ุงูุตุบูุฑุฉ ุนู Visa ู Mastercard ุ ุขูุฉ ุญุงุณุจุฉ ูููุนุงุดุงุช ุงูุชูุงุนุฏูุฉ ูููุณ ููุท</a></li>
<li><a href="../ar432410/index.html">ููุงูุงุช ููุท DDD ูุน Entity Framework Core</a></li>
<li><a href="../ar432412/index.html">Highload ++: ููููุฉ ูุณุงุนุฏุฉ ูุธุงู ERP ุนูู ุงูุชุนุงูู ูุน 500000 ุทูุจ ูู ุงูุซุงููุฉ</a></li>
<li><a href="../ar432414/index.html">ุฃุณุฑุงุฑ ูุฏููุฉ ูุชุตุญูุญ ุณุฑูุน: ููุญูุฉ ุดูุฑุฉ ุงููุตุฏุฑ</a></li>
<li><a href="../ar432416/index.html">ุฃููุงุน ุงูุชุจุนูุฉ - ูุณุชูุจู ูุบุงุช ุงูุจุฑูุฌุฉ</a></li>
<li><a href="../ar432420/index.html">ููุฏูุฉ ุฅูู Git Merge ู Git Rebase: ููุงุฐุง ููุชู ูุชู ุงุณุชุฎุฏุงููู</a></li>
<li><a href="../ar432422/index.html">ูุถุน ุนุฏู ุงูุงุชุตุงู ุนูู iOS ูููุฒุงุช ุชูููุฐู ุนูู ุนุงูู</a></li>
<li><a href="../ar432424/index.html">ุจููุฉ ุชุญุชูุฉ ูุนุชูุฏุฉ ูู HyperFlex ูู SAP HANA</a></li>
<li><a href="../ar432426/index.html">ุชุตุญูุญ ุงูุฃุฎุทุงุก ุงูุชู ูุง ุชูุนุจ</a></li>
<li><a href="../ar432428/index.html">ุงูุญุงููุฉ ุงููุฑูุฒูุฉ ููุงุจู ุดุจูุฉ ุงูุฎุฏูุฉ: ููููุฉ ุชุญููู mitap ุฅูู ูุนุฑูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>