<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛢️ 👏🏻 👗 Meningkatkan kinerja sistem pengawasan video dan mencegah crash 🤔 ⛩️ ⤴️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jelas, lebih baik mencegah penyakit daripada mengobatinya nanti. 

 Dengan konstruksi sistem video, semuanya persis sama. Daripada mencari alasan dan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Meningkatkan kinerja sistem pengawasan video dan mencegah crash</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/macroscop/blog/412791/"> Jelas, lebih baik mencegah penyakit daripada mengobatinya nanti. <br><br>  Dengan konstruksi sistem video, semuanya persis sama.  Daripada mencari alasan dan menyelesaikan masalah dengan tampilan / rekaman / pengarsipan saat digunakan, lebih baik untuk berpikir sedikit lebih lama dan hati-hati pada tahap desain untuk menghindari masalah di masa depan. <br><br>  Dukungan teknis kami aktif, sangat aktif.  Dia menyarankan, membantu mengatur dan, tentu saja, memecahkan masalah dalam sistem video.  Seringkali masalah ini terlihat di lingkungan perangkat lunak, tetapi tidak terkait dengan Macroscop.  Sistem video adalah multi-komponen, jika ada yang rusak atau tidak berfungsi dengan baik, pengguna tidak akan melihat bahwa beberapa bagian telah memburuk.  Dia akan melihat bahwa brengsek muncul di video realtime, dan "lubang" muncul di arsip.  Apakah ini berarti masalahnya ada pada perangkat lunak?  Seringkali alasannya sangat berbeda. <br><br><img src="https://habrastorage.org/webt/4p/2l/d-/4p2ld-taaiydceuzg-kdpov88bm.jpeg"><br><a name="habracut"></a><br>  Karena kenyataan bahwa panggilan dukungan teknis Macroscop (seperti yang akan dijelaskan nanti) di 40% kasus tidak terkait dengan kinerja perangkat lunak, kami memutuskan untuk melakukan program pendidikan kecil tentang perencanaan dan pembuatan sistem video.  Dan untuk mengatakan mengapa penting untuk tidak menghemat waktu dan uang pada tahap-tahap ini, dan apa yang akan terjadi jika Anda tidak melakukannya.  Kami juga akan berbicara tentang yang sudah jelas.  Tetapi pengalaman menunjukkan bahwa <b>memahami dan melakukan adalah dua hal yang berbeda</b> . <br><br>  Mari kita mulai dengan bagaimana masalah itu terlihat.  Secara visual, sinyal bahwa ada sesuatu yang salah dalam sistem dapat berupa: <br><br><ol><li>  Kurangnya koneksi ke kamera.  Anda hanya tidak melihat video dari kamera secara real time dan tidak menerima arsip darinya. </li><li>  Tampilan video yang halus (menyentak / akselerasi / penundaan). </li><li>  Tempat kosong ("lubang") di arsip.  Rekaman itu, tampaknya, sedang berlangsung, tetapi tidak ada video dalam arsip. </li><li>  Artefak.  Pada video muncul apa yang sebenarnya bukan (asalkan kekuatan dunia lain tidak berkontribusi untuk ini). </li></ol><br><img src="https://habrastorage.org/webt/-k/ho/n_/-khon_enrwhilupsa4ctfsjrqyo.jpeg"><br><br>  Apa yang bisa menyebabkan pelanggaran? <br><br><h2>  <i>Jaringan</i> </h2><br>  Jika video tidak datang dari kamera ke server, dari server itu tidak pergi ke klien atau ke penyimpanan, saluran komunikasi yang paling sering disalahkan.  Ini mungkin tidak cukup lebar, tidak cukup stabil, tidak terbaca (tidak tahu bagaimana memprioritaskan dengan benar ketika ada banyak informasi yang beragam di dalamnya). <br><br>  Karena itu, hal pertama yang perlu Anda perhatikan sejak awal adalah lebar saluran komunikasi di masa depan.  <b>Ini dihitung secara</b> sederhana - kami mengambil semua kamera dari sistem masa depan, menentukan berapa banyak Mbit informasi yang masing-masing akan kirim setiap detik (untuk ini kami perlu memahami kualitas rekaman apa yang diperlukan - resolusi, frekuensi, format), kami mempertimbangkan apakah video akan ditampilkan (dari berapa banyak kamera dan berapa banyak monitor), kami membuat peningkatan lalu lintas teknis 10-15% dan memahami di mana dan berapa bandwidth yang akan dibutuhkan. <br><br>  Cara terbaik untuk <b>menggambar diagram</b> sistem masa depan.  Hal ini dapat dilakukan, antara lain, dengan bantuan program khusus (Graphical Network Simulator 3, misalnya), mereka akan membantu dengan perhitungan dan mengidentifikasi "kemacetan" yang perlu perhatian khusus.  Ini adalah alat yang sederhana dan jelas, tetapi dalam praktiknya, hanya sedikit orang yang menggunakannya.  Terutama di kalangan installer pemula. <br><br>  <b>Pisahkan</b> jaringan pengawasan video dari jaringan telepon, Internet, dan sistem lainnya.  Agar sistem video yang menghilangkan pelanggaran tidak kalah dalam memperjuangkan lalu lintas dengan YouTube, yang pada saat itu 10 karyawan perusahaan Anda memutuskan untuk menonton, Anda perlu mengalokasikan saluran terpisah untuk itu. <br><br>  Jaringan dapat dibagi secara fisik dan logis.  Dalam kasus pertama, Anda memasang peralatan terpisah dan meletakkan kabel terpisah, di yang kedua, Anda memilih sakelar dengan dukungan VLAN.  Dalam praktiknya, dari sudut pandang pengaturan, lebih mudah untuk memisahkan secara fisik jika ada peluang untuk mengeluarkan biaya tambahan. <br><br>  Penting untuk menghitung <b>daya saat memilih peralatan jaringan</b> .  Pabrikan dapat mengklaim bandwidth lebih besar dari port switch, tetapi ini tidak menjamin bahwa prosesor perangkat jaringan akan menahan semua volume data ini. <br><br>  Jaringan tidak hanya harus dipikirkan dengan baik, tetapi juga <b>dirakit secara efisien</b> .  Muncul ke dangkal: pengguna memiliki kabel patch yang terkompresi dengan buruk, dan ini menyebabkan hilangnya koneksi atau kerusakan pada arsip.  Adalah tidak mungkin untuk menemukan masalah seperti itu tidak begitu cepat, karena, sebagai suatu peraturan, hal terakhir untuk memeriksa kinerja dari hal-hal sepele seperti kabel patch atau soket router. <br><br><h2>  <i>Sistem penyimpanan data</i> </h2><br>  Penting untuk tidak lupa menghitung <b>lebar saluran yang</b> diperlukan antara server dan penyimpanan yang terpasang jaringan.  Itu sering diabaikan. <br><br>  Agar sistem penyimpanan dapat mengatasi perekaman jumlah informasi yang masuk dari sistem video, perlu untuk menghitung <b>jumlah memori yang</b> diperlukan, serta mengevaluasi <b>IOPS</b> (parameter yang bertanggung jawab atas jumlah operasi I / O yang dilakukan oleh sistem penyimpanan per detik).  Ini dapat dilakukan dengan menggunakan program khusus (Iometer, IOzone, FIO, CrystalDiskMark). <br><br>  Jika sistem ini multi-server, kami sarankan bahwa alih-alih satu penyimpanan yang lebih luas, pilih volume yang sedikit lebih kecil untuk menghindari beban berlebihan. <br><br><h2>  <i>Antivirus dan firewall</i> </h2><br>  Sebagai aturan, firewall dan perangkat lunak antivirus memengaruhi operasi sistem video, karena mengganggu lalu lintas jaringan.  Bisa juga Windows Defender, Windows Firewall, Hardware firewall, dll. <br><br>  Anda dapat menonaktifkan perangkat lunak antivirus, tetapi cukup mengecualikan firewall tanpa mengubah konfigurasi umum sistem ketika sudah dibangun (terutama ketika datang ke sistem yang besar dan kompleks).  Kami harus membangun kembali seluruh jaringan.  Oleh karena itu, sebelumnya harus dilakukan <b>penonaktifan atau pengecualian</b> dari sistem pengawasan video semua perangkat lunak dan perangkat yang dapat membatasi penerimaan atau pengiriman data.  Seringkali, bahkan pengaturan "pengecualian" tidak sepenuhnya membatasi akses solusi tersebut untuk lalu lintas video. <br><br><h2>  <i>Peralatan</i> </h2><br>  Selain yang jelas (kamera, server, penyimpanan harus bekerja) ada beberapa poin dalam pengaturan perangkat keras, yang juga diinginkan untuk dipertimbangkan.  Pastikan untuk memeriksa bahwa komputer Anda <b>tidak masuk ke mode hemat daya</b> .  Jika tidak, sistem akan berfungsi, tetapi jaringan akan berada dalam prioritas rendah, sehingga beberapa data dari kamera mungkin tidak datang.  Selain itu, akan sangat sulit untuk menemukan penyebabnya, karena begitu Anda mulai mencari, semuanya akan berjalan secara ajaib. <br><br>  Saat memilih kamera IP dalam suatu proyek, perhatikan protokol transfer data yang bekerja dengan mereka.  Untuk meminimalkan kerugian, pilih koneksi <b>TCP</b> (bagus, itu jauh lebih umum daripada yang lain).  Kemudian, jika terjadi kesalahan jaringan, permintaan berulang untuk informasi dari kamera akan terjadi, dan dengan probabilitas tinggi akan ditarik dengan sedikit penundaan, tidak terlihat oleh pengguna. <br><br>  Terkadang masalah muncul karena pengguna meminta <b>beberapa aliran</b> dari kamera pada satu waktu, dan kamera tidak mengatasinya.  Produsen jarang memberikan rekomendasi mereka mengenai jumlah aliran, jadi di sini Anda harus memverifikasinya secara empiris. <br>  Kamera yang diinstal sendiri mungkin tidak berfungsi dengan benar dan mengirim video dengan artefak ke server.  Untuk memeriksa apakah masalahnya ada di kamera, dan bukan di perangkat lunak sistem video, Anda dapat, misalnya, menggunakan pemutar VLC: jika artefak diamati di pemutar, alasannya harus dicari di kamera itu sendiri.  Hanya pertama-tama Anda perlu memastikan bahwa sistem video dan pemutar video ditransmisikan menggunakan protokol yang sama. <br><br>  Jika Anda tidak dapat menyediakan saluran komunikasi yang cukup lebar, Anda dapat <b>mengurangi bitrate</b> pada kamera.  Untuk melakukan ini, dalam pengaturan, kurangi kecepatan frame atau kualitas perekaman, gunakan kamera dengan format kompresi modern (h.264 +, h.265 +), teknologi zipstream.  Juga, sebagian besar memiliki kesempatan untuk menggunakan bitrate variabel: ketika tidak ada gerakan dalam bingkai, lebih sedikit informasi yang ditransmisikan, ketika gerakan dimulai, kualitas perekaman dan jumlah data akan meningkat. <br><br><h2>  <i>Bagaimana cara menemukan masalah?</i> </h2><br>  Namun, jika masalah muncul, langkah-langkah berikut mungkin menjadi prioritas untuk mendiagnosis penyebabnya: <br><br><ol><li>  Pergi ke task manager dan periksa keseluruhan beban sistem. </li><li>  Periksa kondisi fisik peralatan (jika daya dimatikan, jika seseorang merusak kabel, jika kamera berfungsi, dll.). </li><li>  Periksa apakah antivirus dimatikan. </li><li>  Manfaatkan fitur <b>diagnostik mandiri</b> Macroscop.  Diagnosis diri menampilkan pesan kesalahan dan memberikan rekomendasi tentang cara menyelesaikannya sendiri. </li></ol><br>  Semua ini dapat dilakukan oleh administrator sistem tanpa keterlibatan spesialis eksternal. <br><br>  Jika alasannya tidak ditemukan dan Anda tidak dapat menyelesaikan masalah sendiri, Anda perlu menghubungi dukungan teknis.  Hal pertama yang kami periksa ketika berhadapan dengan masalah keterlambatan, artefak atau kehilangan koneksi adalah jaringan antara kamera dan server.  Untuk melakukan ini, kami menggunakan program khusus (Iperf), serta tes ping.  Kami hanya melakukan ping paket data yang besar, karena video 99% lebih dari volume data maksimum yang diijinkan dari paket standar (MTU). <br><br>  <i>Contoh</i> : ping -l 5000 -t (ping tak terbatas dengan paket 5000 byte). <br><br>  Kami mengirim paket data, mendapatkannya kembali dan memperkirakan kehilangannya.  Dan mereka umumnya tidak dapat diterima.  Bahkan 1% dari frame yang hilang menyebabkan berbagai efek negatif - dari artefak, kehilangan dalam arsip, tersentak waktu-nyata hingga pemutusan total dari kamera. <br>  Demikian pula, masalah saluran komunikasi antara server dan komputer klien dapat didiagnosis. <br><br>  Macroscop juga mencatat pengoperasian sistem, dan log banyak membantu mempersempit area pencarian masalah untuk spesialis kami.  Berkat fungsi diagnostik, perangkat lunak mengidentifikasi masalah dengan pelanggaran urutan paket yang dikirim oleh kamera ke server, akses ke server, subsistem penguraian kode, otorisasi, layanan peluncuran dan perekaman. <br><br>  Ini hanya beberapa opsi untuk memeriksa status dan menemukan sumber masalah, tetapi dalam kebanyakan kasus alat ini cukup untuk mendiagnosis penyebabnya.  Jika tidak, sebuah studi individu dimulai dan pemeriksaan yang teliti. <br><br><h2>  <i>Pikirkan terlebih dahulu</i> </h2><br>  Seperti dalam banyak hal lain, dalam hal sistem video, sejumlah masalah dapat dihindari hanya dengan menjadi aman pada tahap desain.  Hitung parameter jaringan terlebih dahulu, pilih peralatan sedikit lebih produktif daripada perhitungan yang diperlukan, beli bahan habis pakai berkualitas tinggi dan perhatikan pemasangannya, dengarkan rekomendasi dari produsen peralatan dan pengembang perangkat lunak yang Anda pilih, hubungi dukungan teknis atau insinyur presale jika Anda menginginkannya. pertanyaan atau keraguan. <br><br>  Secara umum, semakin Anda memperhatikan sistem video di awal, semakin sedikit yang dibutuhkan untuk penggunaan selama bertahun-tahun. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id412791/">https://habr.com/ru/post/id412791/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id412781/index.html">Penggemar NES telah memungkinkan untuk meluncurkan game SNES di konsol</a></li>
<li><a href="../id412783/index.html">Menginstal proksi MTProto Telegram dari sumber pada Centos 7</a></li>
<li><a href="../id412785/index.html">Magister Manajemen dan Freelancer. Kisahnya dalam tiga bagian</a></li>
<li><a href="../id412787/index.html">Menanamkan Git dalam Sistem Pengembangan Perusahaan</a></li>
<li><a href="../id412789/index.html">"Bantuan dalam pekerjaan": cara membuat bot obrolan lebih pintar</a></li>
<li><a href="../id412793/index.html">MassTransit, Saga, dan RabbitMQ untuk menerapkan manajer proses</a></li>
<li><a href="../id412795/index.html">Dan mari kita menarik kesimpulan dari diskusi artikel "Apa yang salah dengan kembalinya Geektimes ke Habr"</a></li>
<li><a href="../id412797/index.html">Tentang bahaya CDN, layanan, dan font dari Google</a></li>
<li><a href="../id412799/index.html">Selalu berkomunikasi: Mango Talker - messenger dan softphone</a></li>
<li><a href="../id412801/index.html">Studi: peretas mencuri jutaan dolar karena keamanan pertukaran mata uang kripto yang rendah</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>