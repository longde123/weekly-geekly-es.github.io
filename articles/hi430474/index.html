<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯИ╕ тА╝я╕П ЁЯСиЁЯП╝тАНЁЯдЭтАНЁЯСиЁЯП╗ рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕ рдмрдирд╛рдо рдЧреНрд▓рд╕реНрдЯрд░ рдПрдлрдПрд╕ тЩея╕П ЁЯСйЁЯП╜тАНЁЯдЭтАНЁЯСиЁЯП╛ ЁЯОж</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХреНрд▓рд╛рдЙрдб рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдЯреАрдо рдореЗрдВ рдПрдХ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХреЗ рд░реВрдк рдореЗрдВ, рдореБрдЭреЗ рдХрдИ рд╡рд┐рддрд░рд┐рдд рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдорд┐рд▓рд╛, рдЬрд┐рдирдореЗрдВ рд╣реЗрдбрд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕ рдмрдирд╛рдо рдЧреНрд▓рд╕реНрдЯрд░ рдПрдлрдПрд╕</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/croccloudteam/blog/430474/"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреНрд▓рд╛рдЙрдб рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо</a> рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдЯреАрдо рдореЗрдВ рдПрдХ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХреЗ рд░реВрдк рдореЗрдВ, рдореБрдЭреЗ рдХрдИ рд╡рд┐рддрд░рд┐рдд рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдорд┐рд▓рд╛, рдЬрд┐рдирдореЗрдВ рд╣реЗрдбрд░ рдореЗрдВ рд╕рдВрдХреЗрдд рджрд┐рдП рдЧрдП рд╣реИрдВред  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЙрдирдХреА рддрд╛рдХрдд рдФрд░ рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХреА рд╕рдордЭ рд╣реИ, рдФрд░ рдореИрдВ рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рдЕрдкрдиреЗ рд╡рд┐рдЪрд╛рд░ рдЖрдкрдХреЗ рд╕рд╛рде рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реВрдВрдЧрд╛ред  рддреЛ рдмреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдХрд┐рд╕рдХреЗ рдкрд╛рд╕ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рд▓рдВрдмрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/fb/qn/vj/fbqnvjedf1ujf2hknyuxqbv82qy.png"></p><a name="habracut"></a><br><p>  рдбрд┐рд╕реНрдХреНрд▓реЗрдорд░: рдкрд╣рд▓реЗ рдЗрд╕ рдмреНрд▓реЙрдЧ рдореЗрдВ рдЖрдк GlusterFS рдХреЗ рд▓реЗрдЦ рджреЗрдЦ рд╕рдХрддреЗ рдереЗред  рдореЗрд░рд╛ рдЗрди рд▓реЗрдЦреЛрдВ рд╕реЗ рдХреЛрдИ рд▓реЗрдирд╛-рджреЗрдирд╛ рдирд╣реАрдВ рд╣реИред  рдпрд╣ рд╣рдорд╛рд░реЗ рдХреНрд▓рд╛рдЙрдб рдХреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЯреАрдо рдХреЗ рд▓реЗрдЦрдХ рдХрд╛ рдмреНрд▓реЙрдЧ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд╕рджрд╕реНрдп рдЕрдкрдиреА рдХрд╣рд╛рдиреА рдмрддрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрди рд▓реЗрдЦреЛрдВ рдХреЗ рд▓реЗрдЦрдХ рд╣рдорд╛рд░реЗ рдСрдкрд░реЗрд╢рди рд╕рдореВрд╣ рдХреЗ рдЗрдВрдЬреАрдирд┐рдпрд░ рд╣реИрдВ рдФрд░ рдЙрдирдХреЗ рдЕрдкрдиреЗ рдХрд╛рд░реНрдп рдФрд░ рдЕрдкрдиреЗ рдЕрдиреБрднрд╡ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рдЙрдиреНрд╣реЛрдВрдиреЗ рд╕рд╛рдЭрд╛ рдХрд┐рдпрд╛ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЛ рдЕрдЪрд╛рдирдХ рдХреЛрдИ рдЕрдВрддрд░ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ рддреЛ рдХреГрдкрдпрд╛ рдЗрд╕реЗ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦреЗрдВред  рдореИрдВ рдЗрд╕ рдЕрд╡рд╕рд░ рдкрд░ рдЙрди рд▓реЗрдЦреЛрдВ рдХреЗ рд▓реЗрдЦрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рддрд╛ рд╣реВрдВ! </p><br><h2 id="o-chem-poydet-rech">  рдХреНрдпрд╛ рдЪрд░реНрдЪрд╛ рд╣реЛрдЧреА </h2><br><p> рдЖрдЗрдП рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдЧреНрд▓рд╕реНрдЯрд░рдПрдлрдПрд╕ рдФрд░ рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╣рдо рдЗрди рджреЛрдиреЛрдВ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗ, рдЙрдиреНрд╣реЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХреЛрдгреЛрдВ рд╕реЗ рджреЗрдЦреЗрдВрдЧреЗ, рдФрд░ рдЕрдВрдд рдореЗрдВ рдореИрдВ рдХреЛрдИ рднреА рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓рдиреЗ рдХрд╛ рдЬреЛрдЦрд┐рдо рднреА рдЙрдард╛рдКрдВрдЧрд╛ред  рдЕрдиреНрдп рд╕реЗрдл рдлреАрдЪрд░реНрд╕, рдЬреИрд╕реЗ рдЖрд░рдмреАрдбреА рдФрд░ рдЖрд░рдЬреАрдбрдмреНрд▓реНрдпреВ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рд╣реЛрдВрдЧреЗред </p><br><h2 id="terminologiya">  рд╢рдмреНрджрд╛рд╡рд▓реА </h2><br><p>  рд▓реЗрдЦ рдХреЛ рдкреВрд░реНрдг рдФрд░ рд╕рднреА рдХреЗ рд▓рд┐рдП рд╕рдордЭрдиреЗ рдпреЛрдЧреНрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдЗрдП рджреЛрдиреЛрдВ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреА рдореВрд▓ рд╢рдмреНрджрд╛рд╡рд▓реА рдХреЛ рджреЗрдЦреЗрдВ: </p><br><p>  рд╕рд┐рдл рд╢рдмреНрджрд╛рд╡рд▓реА: </p><br><p>  <strong>RADOS</strong> (рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╕реНрд╡рд╛рдпрддреНрдд рд╡рд┐рддрд░рд┐рдд рд╡рд╕реНрддреБ рднрдВрдбрд╛рд░) рдПрдХ рд╕реНрд╡-рдирд┐рд╣рд┐рдд рд╡рд╕реНрддреБ рднрдВрдбрд╛рд░рдг рд╣реИ, рдЬреЛ рдХрд┐ рд╕реЗрдл рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд╛ рдЖрдзрд╛рд░ рд╣реИред <br>  <strong>рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕</strong> , <strong>рдЖрд░рдмреАрдбреА</strong> ( <strong>рдЖрд░рдбреАрдУрдПрд╕</strong> рдмреНрд▓реЙрдХ рдбрд┐рд╡рд╛рдЗрд╕), <strong>рдЖрд░рдЬреАрдбрдмреНрд▓реНрдпреВ</strong> (рдЖрд░рдПрдбрдмреНрд▓реВ рдЧреЗрдЯрд╡реЗ) - <strong>рдЖрд░рдПрдбрдУрдПрд╕ рдХреЗ рд▓рд┐рдП</strong> рдЙрдЪреНрдЪ-рд╕реНрддрд░реАрдп рдЧреИрдЬреЗрдЯ, рдЬреЛ рдХрд┐ рд░рд╛рдбреЛрд╕ рдХреЛ рд╡рд┐рднрд┐рдиреНрди рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд╕рд╛рде рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред <br>  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, CephFS рдПрдХ POSIX-compliant рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕реЗрдлреЛрд╕ рдбреЗрдЯрд╛ рдХреЛ RADOS рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br>  <strong>OSD</strong> (рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрдЯреЛрд░реЗрдЬ рдбреЗрдореЙрди) рдПрдХ RADOS рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдПрдХ рдЕрд▓рдЧ рдбрд┐рд╕реНрдХ / рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрдЯреЛрд░реЗрдЬ рдХреЛ рдкрд░реЛрд╕рдиреЗ рд╡рд╛рд▓реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИред <br>  <strong>RADOS рдкреВрд▓</strong> (рдкреВрд▓) - рдХрдИ <strong>рдУрдПрд╕рдбреА</strong> рдирд┐рдпрдореЛрдВ рдХреЗ рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╕реЗрдЯ рд╕реЗ рдПрдХрдЬреБрдЯ рд╣реЛрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рдиреАрддрд┐ред  рдбреЗрдЯрд╛ рдкрджрд╛рдиреБрдХреНрд░рдо рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, рдПрдХ рдкреВрд▓ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдпрд╛ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ (рдлреНрд▓реИрдЯ, рдХреЛрдИ рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛) рдирд╛рдо рд╕реНрдерд╛рди рд╣реИред <br>  <strong>рдкреАрдЬреА</strong> (рдкреНрд▓реЗрд╕рдореЗрдВрдЯ рдЧреНрд░реБрдк) - рдмреЗрд╣рддрд░ рд╕рдордЭ рдХреЗ рд▓рд┐рдП рдореИрдВ рд╕рдВрджрд░реНрдн рдореЗрдВ рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рдж рдкреАрдЬреА рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЛ рдкреЗрд╢ рдХрд░реВрдВрдЧрд╛ред </p><br><p>  рдЪреВрдВрдХрд┐ RADOS рд╡рд╣ рдиреАрдВрд╡ рд╣реИ рдЬрд┐рд╕ рдкрд░ CephFS рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдЕрдХреНрд╕рд░ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ рдФрд░ рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ CephFS рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрдЧрд╛ред </p><br><p>  GlusterFS рд╢рдмреНрджрд╛рд╡рд▓реА (рдЗрд╕рдХреЗ рдмрд╛рдж gl): </p><br><p>  <strong>рдИрдВрдЯ</strong> рдПрдХрд▓ рдбрд┐рд╕реНрдХ рдХреА рд╕реЗрд╡рд╛ рдХрд░рдиреЗ рд╡рд╛рд▓реА рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИ, RADOS рд╢рдмреНрджрд╛рд╡рд▓реА рдореЗрдВ OSD рдХрд╛ рдПрдХ рдПрдирд╛рд▓реЙрдЧ рд╣реИред <br>  <strong>рд╡реЙрд▓реНрдпреВрдо</strong> - рдорд╛рддреНрд░рд╛ рдЬрд┐рд╕рдореЗрдВ рдИрдВрдЯ рдПрдХрдЬреБрдЯ рд╣реИрдВред  рдЯреЙрдо RADOS рдореЗрдВ рдПрдХ рдкреВрд▓ рдПрдирд╛рд▓реЙрдЧ рд╣реИ, рдЗрд╕рдореЗрдВ рдИрдВрдЯреЛрдВ рдХреЗ рдмреАрдЪ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░рддрд┐рдХреГрддрд┐ рдЯреЛрдкреЛрд▓реЙрдЬреА рднреА рд╣реИред </p><br><h2 id="raspredelenie-dannyh">  рдбреЗрдЯрд╛ рд╡рд┐рддрд░рдг </h2><br><p>  рдЗрд╕реЗ рд╕реНрдкрд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ рдЬрд┐рд╕реЗ рджреЛрдиреЛрдВ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рд╕реЗрдЯрдЕрдк: </p><br><ul><li>  2 рд╕рд░реНрд╡рд░ (S1, S2) рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ рд╕рдорд╛рди рдЖрдпрддрди (sda, sdb, sdc) рдХреЗ 3 рдбрд┐рд╕реНрдХ рдХреЗ рд╕рд╛рде; </li><li>  2 рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рд╕рд╛рде рдорд╛рддреНрд░рд╛ / рдкреВрд▓ред </li></ul><br><p>  рджреЛрдиреЛрдВ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЛ рд╕рд╛рдорд╛рдиреНрдп рдСрдкрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо 3 рд╕рд░реНрд╡рд░реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рд▓реЗрдХрд┐рди рд╣рдо рдЗрд╕ рдкрд░ рдЖрдВрдЦреЗрдВ рдореВрдВрдж рд▓реЗрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдПрдХ рд▓реЗрдЦ рдХреЗ рд▓рд┐рдП рд╕рд┐рд░реНрдл рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИред </p><br><p>  Gl рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ 3 рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣реЛрдВ рд╕реЗ рдпреБрдХреНрдд рдПрдХ <strong>рд╡рд┐рддрд░рд┐рдд-рдкреНрд░рддрд┐рдХреГрддрд┐</strong> рдорд╛рддреНрд░рд╛ рд╣реЛрдЧреА: </p><br><p><img src="https://habrastorage.org/webt/ai/k_/pg/aik_pgd6mwqy1wlfyhjx-mdsf6u.png"></p><br><p>  рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣ рд╡рд┐рднрд┐рдиреНрди рд╕рд░реНрд╡рд░реЛрдВ рдкрд░ рджреЛ рдИрдВрдЯреЗрдВ рд╣реИрдВред <br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣ рддреАрди RAID -1 рдХреЛ рдЬреЛрдбрд╝рдиреЗ рд╡рд╛рд▓реЗ рдЖрдпрддрди рдХреЛ рдмрджрд▓ рджреЗрддрд╛ рд╣реИред <br>  рдЬрдм рдЖрдк рдЗрд╕реЗ рдорд╛рдЙрдВрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╡рд╛рдВрдЫрд┐рдд рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдлрд╛рдЗрд▓ рд▓рд┐рдЦрдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ, рдЖрдк рдкрд╛рдПрдВрдЧреЗ рдХрд┐ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦреА рдЧрдИ рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд╛рдЗрд▓ рдЗрди рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЧрд┐рд░рддреА рд╣реИред <br>  рдЗрди рд╡рд┐рддрд░рд┐рдд рд╕рдореВрд╣реЛрдВ рдХреЗ рдмреАрдЪ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рд╡рд┐рддрд░рдг <strong>DHT</strong> (рдбрд┐рд╕реНрдЯреНрд░реАрдмреНрдпреВрдЯреЗрдб рд╣реИрд╢ рдЯреЗрдмрд▓реНрд╕) рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдПрдХ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рд╣реИ (рд╣рдо рдЗрд╕реЗ рдмрд╛рдж рдореЗрдВ рд╡рд╛рдкрд╕ рдЖрдПрдВрдЧреЗ)ред </p><br><p>  "рдЖрд░реЗрдЦ" рдкрд░ рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛: </p><br><p><img src="https://habrastorage.org/webt/d1/-8/uk/d1-8ukcptl3owiyuqw11v0plxqw.png"></p><br><p>  рдорд╛рдиреЛ рдкрд╣рд▓реЗ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░рд▓ рдлреАрдЪрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкреНрд░рдХрдЯ рдереЗ: </p><br><ul><li>  рд╕рдореВрд╣реЛрдВ рдореЗрдВ рдЬрдЧрд╣ рдХрд╛ рдЕрд╕рдорд╛рди рд░реВрдк рд╕реЗ рдирд┐рдкрдЯрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╣ рдлрд╝рд╛рдЗрд▓ рдЖрдХрд╛рд░реЛрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ; </li><li>  рдПрдХ рдлрд╝рд╛рдЗрд▓ рд▓рд┐рдЦрддреЗ рд╕рдордп, IO рдХреЗрд╡рд▓ рдПрдХ рд╕рдореВрд╣ рдореЗрдВ рдЬрд╛рддрд╛ рд╣реИ, рдмрд╛рдХреА рдмреЗрдХрд╛рд░ рд╣реЛрддреЗ рд╣реИрдВ; </li><li>  рдЖрдкрдХреЛ рдПрдХ рдлрд╝рд╛рдЗрд▓ рд▓рд┐рдЦрддреЗ рд╕рдордп рдкреВрд░реЗ рд╡реЙрд▓реНрдпреВрдо рдХрд╛ IO рдирд╣реАрдВ рдорд┐рд▓ рд╕рдХрддрд╛ рд╣реИ; </li><li>  рдпрджрд┐ рдлрд╝рд╛рдЗрд▓ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдореВрд╣ рдореЗрдВ рдкрд░реНрдпрд╛рдкреНрдд рдЬрдЧрд╣ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдПрдХ рддреНрд░реБрдЯрд┐ рдорд┐рд▓реЗрдЧреА, рдлрд╝рд╛рдЗрд▓ рдирд╣реАрдВ рд▓рд┐рдЦреА рдЬрд╛рдПрдЧреА рдФрд░ рджреВрд╕рд░реЗ рд╕рдореВрд╣ рдореЗрдВ рдкреБрдирд░реНрд╡рд┐рддрд░рд┐рдд рдирд╣реАрдВ рд╣реЛрдЧреАред </li></ul><br><p>  рдпрджрд┐ рдЖрдк рдЕрдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдбрд┐рд╕реНрдЯреНрд░реАрдмреНрдпреВрдЯреЗрдб-рд╕реНрдЯреНрд░рд╛рдЗрдкреНрдб-рд░реЗрдкреНрд▓рд┐рдХреЗрдЯреЗрдб рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдбрд┐рд╕реНрдкреНрд░реЛрдиреНрдб (рдЗрд░реЗрдЬрд╝рд░ рдХреЛрдбрд┐рдВрдЧ), рддреЛ рдХреЗрд╡рд▓ рдПрдХ рд╕рдореВрд╣ рдХреЗ рднреАрддрд░ рдбреЗрдЯрд╛ рд╡рд┐рддрд░рдг рдХреЗ рдпрд╛рдВрддреНрд░рд┐рдХреА рдореВрд▓рднреВрдд рд░реВрдк рд╕реЗ рдмрджрд▓ рдЬрд╛рдПрдВрдЧреЗред  DHT рднреА рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЗрди рд╕рдореВрд╣реЛрдВ рдореЗрдВ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╡рд┐рдШрдЯрд┐рдд рдХрд░реЗрдЧрд╛, рдФрд░ рдЕрдВрдд рдореЗрдВ рд╣рдореЗрдВ рд╕рднреА рд╕рдорд╛рди рд╕рдорд╕реНрдпрд╛рдПрдВ рдорд┐рд▓реЗрдВрдЧреАред  рд╣рд╛рдВ, рдпрджрд┐ рд╡реЙрд▓реНрдпреВрдо рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рд╕рдореВрд╣ рд╣реЛрдЧрд╛, рдпрд╛ рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рд▓рдЧрднрдЧ рдПрдХ рд╣реА рдЖрдХрд╛рд░ рдХреА рд╕рднреА рдлрд╛рдЗрд▓реЗрдВ рд╣реИрдВ, рддреЛ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реЛрдЧреАред  рд▓реЗрдХрд┐рди рд╣рдо рд╕рд╛рдорд╛рдиреНрдп рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рд╡рд┐рднрд┐рдиреНрди рдЖрдХрд╛рд░реЛрдВ рдХреА рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕рд╣рд┐рдд рдбреЗрдЯрд╛ рдХреЗ рд╕реИрдХрдбрд╝реЛрдВ рдЯреЗрд░рд╛рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рддрд╣рдд, рдЗрд╕рд▓рд┐рдП рд╣рдо рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рд╣реИред </p><br><p>  рдЕрдм рдЖрдЗрдП рд╕рд┐рдлреНрдлрд╝ рдХреЛ рджреЗрдЦреЗрдВред  рдКрдкрд░ рд╡рд░реНрдгрд┐рдд RADOS рджреГрд╢реНрдп рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рддрд╛ рд╣реИред  RADOS рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рдбрд┐рд╕реНрдХ рдХреЛ рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ - OSD рджреНрд╡рд╛рд░рд╛ рдкрд░реЛрд╕рд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рд╕реЗрдЯрдЕрдк рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рд╣рдореЗрдВ рдЙрдирдореЗрдВ рд╕реЗ рдХреЗрд╡рд▓ 6, рдкреНрд░рддреНрдпреЗрдХ рд╕рд░реНрд╡рд░ рдкрд░ 3 рдорд┐рд▓рддреЗ рд╣реИрдВред  рдЕрдЧрд▓рд╛, рд╣рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреВрд▓ рдмрдирд╛рдиреЗ рдФрд░ рдЗрд╕ рдкреВрд▓ рдореЗрдВ рдкреАрдЬреА рдФрд░ рдбреЗрдЯрд╛ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХрд╛рд░рдХ рдХреА рд╕рдВрдЦреНрдпрд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ - рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ 2ред <br>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╣рдордиреЗ 8 рдкреАрдЬреА рдХреЗ рд╕рд╛рде рдПрдХ рдкреВрд▓ рдмрдирд╛рдпрд╛ рд╣реИред  рдЗрди PGs рдХреЛ рд▓рдЧрднрдЧ OSD рдореЗрдВ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛: </p><br><p><img src="https://habrastorage.org/webt/cn/ea/hs/cneahsczaws7dzuqtu1syubb4cy.png"></p><br><p>  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИ рдХрд┐ рдкреАрдЬреА рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рд╕рдореВрд╣ рд╣реИ рдЬреЛ рдХрдИ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЬреЛрдбрд╝рддрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рд╣рдо рдкреНрд░рддрд┐рдХреГрддрд┐ рддрдереНрдп 2 рдХреЛ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рдкреАрдЬреА рдореЗрдВ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕рд░реНрд╡рд░ рдкрд░ рдХреБрдЫ рдЕрдиреНрдп рдУрдПрд╕рдбреА рдкрд░ рдПрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╣реИ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ)ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкреАрдЬреА 1, рдЬреЛ рд╕рд░реНрд╡рд░ рдПрд╕ 1 рдкрд░ рдУрдПрд╕рдбреА -1 рдкрд░ рд╣реИ, рдУрдПрд╕рдбреА -6 рдкрд░ рдПрд╕ 2 рдкрд░ рдПрдХ рдЬреБрдбрд╝рд╡рд╛рдВ рд╣реИред  рдкреАрдЬреА (рдпрд╛ рдЯреНрд░рд┐рдкрд▓, рдпрджрд┐ рдкреНрд░рддрд┐рдХреГрддрд┐ 3) рдХреА рдкреНрд░рддреНрдпреЗрдХ рдЬреЛрдбрд╝реА рдореЗрдВ рдкреНрд░рд╛рдердорд┐рдХ рдкреАрдЬреА рд╣реИ, рдЬрд┐рд╕реЗ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, PG4 рдХреЗ рд▓рд┐рдП PRIMARY S1 рдкрд░ рд╣реИ, рд▓реЗрдХрд┐рди PG3 рдХреЗ рд▓рд┐рдП PRIMARY S2 рдкрд░ рд╣реИред </p><br><p>  рдЕрдм рдЬрдм рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ RADOS рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд╣рдо рдЕрдкрдиреЗ рдмреНрд░рд╛рдВрдб рдХреЗ рдирдП рдкреВрд▓ рдореЗрдВ рдлрд╛рдЗрд▓ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐ RADOS рдПрдХ рдкреВрд░реНрдг-рд╕рдВрдЧреНрд░рд╣рдг рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдЙрдВрдЯ рдХрд░рдирд╛ рдпрд╛ рдмреНрд▓реЙрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИред  рдЗрд╕реЗ рд╕реАрдзреЗ рдбреЗрдЯрд╛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдпрд╛ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рд╣рдо рдЙрдкрд░реЛрдХреНрдд рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рд╣реА рддреАрди рдлрд╛рдЗрд▓реЗрдВ рд▓рд┐рдЦрддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/ut/0z/zd/ut0zzd20fmocwke70q9rj-0snog.png"></p><br><p>  RADOS рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╕рдм рдХреБрдЫ рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реЛ рдЧрдпрд╛ рд╣реИ, рд╕рд╣рдордд рд╣реИрдВред </p><br><p>  рддрдм CRUSH (рдирд┐рдпрдВрддреНрд░рд┐рдд рд╕реНрдХреЗрд▓реЗрдмрд▓ рд╣реИрд╢рд┐рдВрдЧ рдХреЗ рддрд╣рдд рдирд┐рдпрдВрддреНрд░рд┐рдд рдкреНрд░рддрд┐рдХреГрддрд┐) рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ред  CRUSH рд╡рд╣ рдПрд▓реНрдЧреЛрд░рд┐рдердо рд╣реИ рдЬрд┐рд╕ рдкрд░ RADOS рдЯрд┐рдХреА рд╣реБрдИ рд╣реИ (рд╣рдо рдмрд╛рдж рдореЗрдВ рдЗрд╕ рдкрд░ рд╡рд╛рдкрд╕ рдЖрдПрдВрдЧреЗ)ред  рдЗрд╕ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдХрд┐рд╕ рдкреАрдЬреА рдХреЛ рд▓рд┐рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣рд╛рдБ CRUSH, DHT рдХреЗ рд╕рдорд╛рди рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред  рдкреАрдЬреА рдкрд░ рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рдЗрд╕ рдЫрджреНрдо рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╡рд┐рддрд░рдг рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╣рдореЗрдВ рд╕рднреА рд╕рдорд╕реНрдпрд╛рдПрдВ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдорд┐рд▓реАрдВ, рдХреЗрд╡рд▓ рдПрдХ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдпреЛрдЬрдирд╛ рдкрд░ред </p><br><p>  рд▓реЗрдХрд┐рди рдореИрдВ рдЬрд╛рдирдмреВрдЭрдХрд░ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪреБрдк рд░рд╣рд╛ред  рд▓рдЧрднрдЧ рдХреЛрдИ рднреА рдЕрдкрдиреЗ рд╢реБрджреНрдз рд░реВрдк рдореЗрдВ RADOS рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред  RADOS рдХреЗ рд╕рд╛рде рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдХрд╛рдо рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрд░рддреЛрдВ рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛: рдЖрд░рдмреАрдбреА, рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕, рдЖрд░рдЬреАрдбрдмреНрд▓реНрдпреВ, рдЬрд┐рд╕рдХрд╛ рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдерд╛ред </p><br><p>  рдпреЗ рд╕рднреА рдЕрдиреБрд╡рд╛рджрдХ (RADOS рдХреНрд▓рд╛рдЗрдВрдЯ) рдПрдХ рдЕрд▓рдЧ рдХреНрд▓рд╛рдЗрдВрдЯ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡реЗ RADOS рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ рдХрд╛рдо рдореЗрдВ рд╕рдорд╛рди рд╣реИрдВред  рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдорд╛рдирддрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдЙрдирдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЧреБрдЬрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рдбреЗрдЯрд╛ рдХреЛ рдЯреБрдХрдбрд╝реЛрдВ рдореЗрдВ рдХрд╛рдЯ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЕрд▓рдЧ-рдЕрд▓рдЧ RADOS рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ RADOS рдореЗрдВ рдбрд╛рд▓ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдиреЗ рдЗрдирдкреБрдЯ рд╕реНрдЯреНрд░реАрдо рдХреЛ 4 рдПрдордмреА рдХреЗ рдЯреБрдХрдбрд╝реЛрдВ рдореЗрдВ рдХрд╛рдЯ рджрд┐рдпрд╛ред  RBD рдХреЗ рд▓рд┐рдП, рд╡реЙрд▓реНрдпреВрдо рдмрдирд╛рддреЗ рд╕рдордп рд╕реНрдЯреНрд░рд╛рдЗрдк рдХрд╛ рдЖрдХрд╛рд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдлрд╝рд╛рдЗрд▓ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛ (xattr) рд╣реИ рдФрд░ рдЗрд╕реЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕реНрддрд░ рдкрд░ рдпрд╛ рд╕рднреА рдХреИрдЯрд▓реЙрдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЦреИрд░, RGW рдХрд╛ рднреА рдПрдХ рд╕рдВрдЧрдд рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИред </p><br><p>  рдЕрдм рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╣рдордиреЗ RADOS рдкреВрд▓ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ CephFS рдХреЛ рдвреЗрд░ рдХрд░ рджрд┐рдпрд╛ рд╣реИ рдЬреЛ рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдЪрд┐рддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдЕрдм рд╡рд┐рдЪрд╛рд░рд╛рдзреАрди рд╕рд┐рд╕реНрдЯрдо рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдПрдХ рд╕рдорд╛рди рдкрд╛рдпрджрд╛рди рдкрд░ рд╣реИрдВ рдФрд░ рдПрдХ рд╕рдорд╛рди рдлрд╝рд╛рдЗрд▓ рдПрдХреНрд╕реЗрд╕ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдпрджрд┐ рд╣рдо рдЕрдкрдиреА рдкрд░реАрдХреНрд╖рдг рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдПрдХрджрдо рдирдП рд╕рд┐рдлреНрдлрд╝реНрд╕ рдореЗрдВ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдУрдПрд╕рдбреА рдкрд░ рдбреЗрдЯрд╛ рдХрд╛ рдПрдХ рдмрд┐рд▓реНрдХреБрд▓ рдЕрд▓рдЧ, рд▓рдЧрднрдЧ рд╕рдорд╛рди рд╡рд┐рддрд░рдг рдкрд╛рдПрдВрдЧреЗред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 2GB рдЖрдХрд╛рд░ рдХреА рдлрд╛рдЗрд▓ 2 рдХреЛ 512 рдЯреБрдХрдбрд╝реЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕реЗ рд╡рд┐рднрд┐рдиреНрди рдкреАрдЬреА рдореЗрдВ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░, рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдЕрд▓рдЧ-рдЕрд▓рдЧ рдУрдПрд╕рдбреА рдореЗрдВ рд▓рдЧрднрдЧ рд╕рдорд╛рди рд░реВрдк рд╕реЗ, рдФрд░ рдпрд╣ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рдбреЗрдЯрд╛ рд╡рд┐рддрд░рдг рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдХреЗрд╡рд▓ 8 рдкреАрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдПрдХ рдУрдПрд╕рдбреА рдкрд░ ~ 100 рдкреАрдЬреА рдХрд░рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред  рдФрд░ рдЖрдкрдХреЛ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реАрдлрдПрдЪрдПрд╕ рдХреЗ рд▓рд┐рдП 2 рдкреВрд▓реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рд╕рд┐рджреНрдзрд╛рдВрдд рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ RADOS рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╕рд░реНрд╡рд┐рд╕ рдбреЗрдореЛрдВрд╕ рдХреА рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдРрд╕рд╛ рдордд рд╕реЛрдЪреЛ рдХрд┐ рд╕рдм рдХреБрдЫ рдЗрддрдирд╛ рд╕рд░рд▓ рд╣реИ, рдореИрдВ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдмрд╣реБрдд рдХреБрдЫ рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реВрдВ, рддрд╛рдХрд┐ рд╕рд╛рд░ рд╕реЗ рд╡рд┐рджрд╛ рди рд╣реЛред </p><br><p>  рддреЛ рдЕрдм рд╕реЗрдлрд╣рдл рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рд▓рдЧрддрд╛ рд╣реИ, рд╣реИ рдирд╛?  рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рдПрдХ рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдирд╣реАрдВ рдХрд┐рдпрд╛, рдЗрд╕ рдмрд╛рд░ gl рдХреЗ рдмрд╛рд░реЗ рдореЗрдВред  Gl рдореЗрдВ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдХрд╛рдЯрдиреЗ рдФрд░ DHT рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрди рд╡рд┐рдЦрдВрдбреВ рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рддрдВрддреНрд░ рд╣реИред  рддрдерд╛рдХрдерд┐рдд <strong>рд╢рд╛рд░реНрдХрд┐рдВрдЧ</strong> ( <strong>рд╢реЗрдпрд░рд┐рдВрдЧ</strong> )ред </p><br><p>  рдкрд╛рдВрдЪ рдорд┐рдирдЯ рдХрд╛ рдЗрддрд┐рд╣рд╛рд╕ </p><br><blockquote>  21 рдЕрдкреНрд░реИрд▓, 2016 рдХреЛ, рд╕рд┐рдл рд╡рд┐рдХрд╛рд╕ рдЯреАрдо рдиреЗ "рдЧрд╣рдирд╛" рдЬрд╛рд░реА рдХрд┐рдпрд╛, рдкрд╣рд▓рд╛ рд╕рд┐рдл рд░рд┐рд▓реАрдЬ рдЬрд┐рд╕рдореЗрдВ рд╕реЗрдлрд╣реНрд╕ рдХреЛ рд╕реНрдерд┐рд░ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред </blockquote><p>  рдпрд╣ рдЕрдм рд╕рднреА рдмрд╛рдПрдВ рдФрд░ рджрд╛рдПрдВ рдЪрд┐рд▓реНрд▓рд╛ рд░рд╣рд╛ рд╣реИ рдХрд┐ рд╕реЗрдлрдлреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рд▓реНрд▓рд╛ рд░рд╣рд╛ рд╣реИ!  рдФрд░ 3-4 рд╕рд╛рд▓ рдкрд╣рд▓реЗ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо рдПрдХ рд╕рдВрджрд┐рдЧреНрдз рдирд┐рд░реНрдгрдп рд╣реЛрдЧрд╛ред  рд╣рдордиреЗ рдЕрдиреНрдп рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреА рддрд▓рд╛рд╢ рдХреА, рдФрд░ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рд╕рд╛рде gl рдХреЛрдИ рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рдерд╛ред  рд▓реЗрдХрд┐рди рд╣рдо рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЗрд╕рдореЗрдВ рдЕрдзрд┐рдХ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХрд░рддреЗ рдереЗ, рдФрд░ рддреЗрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд░рд╣реЗ рдереЗ, рдЬреЛ рд░рд┐рд▓реАрдЬ рдХреА рддреИрдпрд╛рд░реА рдХрд░ рд░рд╣рд╛ рдерд╛ред </p><br><p>  рдФрд░ рдпрд╣рд╛рдБ рдпрд╣ X рджрд┐рди рд╣реИ: </p><br><blockquote>  4 рдЬреВрди, 2015 - рдЧреНрд▓рд╕реНрдЯрд░ рдХрдореНрдпреБрдирд┐рдЯреА рдиреЗ рдЖрдЬ рдЧреНрд▓рд╕реНрдЯрд░рдПрдлрдПрд╕ 3.7 рдУрдкрди рд╕реЙрдлреНрдЯрд╡реЗрдпрд░-рдбрд┐рдлреЙрд▓реНрдЯ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдХреА рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреА рдШреЛрд╖рдгрд╛ рдХреАред </blockquote><p>  3.7 - gl рдХрд╛ рдкрд╣рд▓рд╛ рд╕рдВрд╕реНрдХрд░рдг, рдЬрд┐рд╕рдореЗрдВ рд╢рд╛рд░реНрдХрд┐рдВрдЧ рдХреЛ рдПрдХ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рдЕрд╡рд╕рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдордВрдЪ рдкрд░ рдкреИрд░ рдЬрдорд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реАрдПрдлрдПрдлрдПрд╕ рдХреА рд╕реНрдерд┐рд░ рд░рд┐рд▓реАрдЬ рд╕реЗ рдкрд╣рд▓реЗ рд╡реЗ рд▓рдЧрднрдЧ рдПрдХ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рдереЗ ... </p><br><p>  рддреЛ рд╢рд╛рд░реНрджрд┐рдВрдЧ рдХрд╛ рдорддрд▓рдм рд╣реИред  Gl рдореЗрдВ рд╕рдм рдХреБрдЫ рдХреА рддрд░рд╣, рдпрд╣ рдПрдХ рдЕрд▓рдЧ рдЕрдиреБрд╡рд╛рджрдХ рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рд╕реНрдЯреИрдХ рдкрд░ DHT (рднреА рдЕрдиреБрд╡рд╛рджрдХ) рдХреЗ рдКрдкрд░ рдЦрдбрд╝рд╛ рдерд╛ред  рдЪреВрдБрдХрд┐ рдпрд╣ DHT рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ, DHT рдЗрдирдкреБрдЯ рдкрд░ рд░реЗрдбреА-рдореЗрдб рд╢рд╛рд░реНрдкреНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣реЛрдВ рдХреЗ рдмреАрдЪ рдирд┐рдпрдорд┐рдд рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд┐рддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред  рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╡реЙрд▓реНрдпреВрдо рд╕реНрддрд░ рдкрд░ рд╕рд╛рдЭрд╛рдХрд░рдг рд╕рдХреНрд╖рдо рд╣реИред  рд╢рд░реНрдб рдХрд╛ рдЖрдХрд╛рд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ - 4 рдПрдордмреА, рдЬреИрд╕реЗ рдХрд┐ рд╕рд┐рдл рд▓реЛрд╢рдиред </p><br><p>  рдЬрдм рдореИрдВрдиреЗ рдкрд╣рд▓рд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рддреЛ рдореБрдЭреЗ рдЦреБрд╢реА рд╣реБрдИ!  рдореИрдВрдиреЗ рд╕рднреА рдХреЛ рдмрддрд╛рдпрд╛ рдХрд┐ gl рдЕрдм рд╢реАрд░реНрд╖ рдЪреАрдЬ рд╣реИ рдФрд░ рдЕрдм рд╣рдо рдЬреАрд╡рд┐рдд рд░рд╣реЗрдВрдЧреЗ!  рд╢рд╛рд░реНрдкрд┐рдВрдЧ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдХреЗ рд╕рд╛рде, рдПрдХ рдлрд╛рдЗрд▓ рдХреА рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣реЛрдВ рдХреЗ рд╕рдорд╛рдирд╛рдВрддрд░ рдЬрд╛рддреА рд╣реИред  "рдСрди-рд░рд╛рдЗрдЯ" рд╕рдВрдкреАрдбрд╝рди рдХреЗ рдмрд╛рдж рдЕрдкрдШрдЯрди рддреЗрдЬ рд╕реНрддрд░ рдкрд░ рд╡реГрджреНрдзрд┐рд╢реАрд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣рд╛рдВ рдХреИрд╢-рд╢реВрдЯрд┐рдВрдЧ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдореЗрдВ рднреА, рд╕рдм рдХреБрдЫ рдЕрдЪреНрдЫрд╛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╢рд╛рд░реНрдХ рдХреЛ рдХреИрд╢ рдореЗрдВ рд▓реЗ рдЬрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рди рдХрд┐ рдкреВрд░реА рдлрд╛рдЗрд▓реЗрдВред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдореИрдВ рдЖрдирдиреНрджрд┐рдд рдерд╛, рдХреНрдпреЛрдВрдХрд┐  рдРрд╕рд╛ рд▓рдЧ рд░рд╣рд╛ рдерд╛ рдХрд┐ рдЙрд╕рдиреЗ рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рдореЗрдВ рдПрдХ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдЙрдкрдХрд░рдг рд▓рд┐рдпрд╛ рд╣реИред </p><br><p>  рдпрд╣ рдкрд╣рд▓реЗ рдмрдЧрдлрд┐рдХреНрд╕ рдФрд░ "рдЙрддреНрдкрд╛рджрди рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░" рдХреА рд╕реНрдерд┐рддрд┐ рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд░рд╣рд╛ред  рд▓реЗрдХрд┐рди рд╕рдм рдХреБрдЫ рдЗрддрдирд╛ рд░реЛрдмреАрд▓рд╛ рдирд╣реАрдВ рдирд┐рдХрд▓рд╛ ... рд▓реЗрдЦ рдХреЛ рддреЗрдЬ рдХрд░рдиреЗ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрдЧреЛрдВ рдХреА рд╕реВрдЪреА рдХреЗ рд╕рд╛рде рдирд╣реАрдВ рдЦреАрдВрдЪрд╛ рдЧрдпрд╛, рдЕрдм рдФрд░ рдлрд┐рд░ рдЕрдЧрд▓реЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдЙрдардиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВ рдХреЗрд╡рд▓ рдпрд╣ рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ рдХрд┐ рдЕрдВрддрд┐рдо "рдкреНрд░рдореБрдЦ рдореБрджреНрджрд╛" рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рд╡рд░рдг рдХреЗ рд╕рд╛рде: </p><br><blockquote>  рдПрдХ рдЪрдордХ рдХреА рдорд╛рддреНрд░рд╛ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдЬреЛ рддреЗрдЬ рд╣реИ, рдлрд╝рд╛рдЗрд▓ рднреНрд░рд╖реНрдЯрд╛рдЪрд╛рд░ рдХрд╛ рдХрд╛рд░рдг рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдорддреМрд░ рдкрд░ VM рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд╛рдЭрд╛ рд╡реЙрд▓реНрдпреВрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЕрдЧрд░ рдРрд╕реЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдпрд╛ рд╕рдВрднрд╡рддрдГ рдЕрдиреБрдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдпрд╛рдиреА рдИрдВрдЯреЛрдВ рдФрд░ рд░рд┐рдмреИрд▓реЗрдВрд╕ рдХреЛ рдЬреЛрдбрд╝реЗрдВ / рд╣рдЯрд╛рдПрдВ) VM рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рджреВрд╖рд┐рдд рд╣реЛрдиреЗ рдХреА рд░рд┐рдкреЛрд░реНрдЯреЗрдВ рд╣реИрдВред </blockquote><p>  рд░рд┐рд▓реАрдЬрд╝ 3.13.2, 20 рдЬрдирд╡рд░реА, 2018 рдХреЛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ ... рд╢рд╛рдпрдж рдпрд╣ рдЖрдЦрд┐рд░реА рдирд╣реАрдВ рд╣реИ? </p><br><p>  рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рд╣рдорд╛рд░реЗ рдПрдХ рд▓реЗрдЦ рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯрд┐рдкреНрдкрдгреА</a> , рдЗрд╕рд▓рд┐рдП рдкрд╣рд▓реЗ рд╕реЗ рдмреЛрд▓рдирд╛ рд╣реИред </p><br><p>  RedHat рд╡рд░реНрддрдорд╛рди RedHat Gluster Storage 3.4 рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдиреЛрдЯ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреЗрд╡рд▓ рдПрдХ рд╣реА рд╢рд╛рд░реНрдбрд┐рдВрдЧ рдХреЗрд╕ рдЬреЛ рд╡реЗ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ рд╡рд╣ VM рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рднрдВрдбрд╛рд░рдг рд╣реИред </p><br><blockquote>  рд╕рд╛рдЭрд╛рдХрд░рдг рдХрд╛ рдПрдХ рд╕рдорд░реНрдерд┐рдд рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓рд╛ рд╣реИ: Red Hat Enterprise рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░реЗрдЬ рдбреЛрдореЗрди рдХреЗ рд░реВрдк рдореЗрдВ Red Hat Gluster Storage рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ, рд▓рд╛рдЗрд╡ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рднрдВрдбрд╛рд░рдг рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕ рдЙрдкрдпреЛрдЧ рдХреЗ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рд╢рд╛рд░реНрдбрд┐рдВрдЧ рднреА рдПрдХ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдкрд┐рдЫрд▓реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреНрд░рджрд░реНрд╢рди рд╕реБрдзрд╛рд░ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред </blockquote><p>  рдореБрдЭреЗ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдкреНрд░рддрд┐рдмрдВрдз рдХреНрдпреЛрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдорд╛рдирдирд╛ тАЛтАЛрд╣реЛрдЧрд╛ рдХрд┐ рдпрд╣ рдЪрд┐рдВрддрд╛рдЬрдирдХ рд╣реИред </p><br><h2 id="seychas-ya-tebe-tut-vse-zaheshiruyu">  рдЕрдм рдореЗрд░реЗ рдкрд╛рд╕ рддреБрдореНрд╣рд╛рд░реЗ рд▓рд┐рдП рдпрд╣рд╛рдБ рд╕рдм рдХреБрдЫ рд╣реИ </h2><br><p>  рджреЛрдиреЛрдВ рд╕рд┐рд╕реНрдЯрдо рдбрд┐рд╕реНрдХ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рдЫрджреНрдо рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╡рд┐рддрд░рдг рдХреЗ рд▓рд┐рдП рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  RADOS рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre><code class="plaintext hljs">PG = pool_id + "." + jenkins_hash(object_name) % pg_coun # eg pool id=5 =&gt; pg = 5.1f OSD = crush_hash_based_on_jenkins(PG) # eg pg=5.1f =&gt; OSD = 12</code> </pre> <br><p>  Gl рддрдерд╛рдХрдерд┐рдд <strong>рд╕реБрд╕рдВрдЧрдд рд╣реИрд╢рд┐рдВрдЧ</strong> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдИрдВрдЯ рдХреЛ "32-рдмрд┐рдЯ рд╣реИрд╢ рд╕реНрдкреЗрд╕ рдХреЗ рднреАрддрд░ рд╕реАрдорд╛" рдорд┐рд▓рддреА рд╣реИред  рдпрд╣реА рд╣реИ, рд╕рднреА рдИрдВрдЯреЗрдВ рдкреВрд░реЗ рд░реЗрдЦреАрдп рдкрддрд╛ рд╣реИрд╢ рд╕реНрдерд╛рди рдХреЛ рд╕реАрдорд╛ рдпрд╛ рдЫреЗрдж рдХреЗ рдмрд┐рдирд╛ рд╕рд╛рдЭрд╛ рдХрд░рддреА рд╣реИрдВред  рдХреНрд▓рд╛рдЗрдВрдЯ рдлрд╝рд╛рдЗрд▓ рдирд╛рдо рдХреЛ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд▓рд╛рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рд╛рдкреНрдд рд╣реИрд╢ рдХрд┐рд╕ рд░реЗрдВрдЬ рдореЗрдВ рд╣реИрд╢ рдореЗрдВ рдЖрддрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдИрдВрдЯ рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣ рдореЗрдВ рдХрдИ рдИрдВрдЯреЗрдВ рд╣реИрдВ, рддреЛ рдЙрди рд╕рднреА рдореЗрдВ рд╕рдорд╛рди рд╣реИрд╢ рд░реЗрдВрдЬ рд╣реИред  рдХреБрдЫ рдЗрд╕ рддрд░рд╣: </p><br><p><img src="https://habrastorage.org/webt/o_/y5/ye/o_y5yeby9vn5enx7r-5xa3zfwuq.png"></p><br><p>  рдпрджрд┐ рд╣рдо рджреЛ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рдХрд╛рдо рдХреЛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рддрд╛рд░реНрдХрд┐рдХ рд░реВрдк рдореЗрдВ рд▓рд╛рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓реЗрдЧреА: </p><br><pre> <code class="plaintext hljs">file -&gt; HASH -&gt; placement_unit</code> </pre> <br><p>  рдЬрд╣рд╛рдВ RADOS рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдкреНрд▓реЗрд╕рдореЗрдВрдЯ_ рдпреВрдирд╛рдЗрдЯ рдкреАрдЬреА рд╣реИ, рдФрд░ gl рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ рдХрдИ рдИрдВрдЯреЛрдВ рдХрд╛ рдПрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣ рд╣реИред </p><br><p>  рддреЛ, рдПрдХ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди, рдлрд┐рд░ рдпрд╣ рдПрдХ рд╡рд┐рддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╡рд┐рддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЕрдЪрд╛рдирдХ рдпрд╣ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдкреНрд▓реЗрд╕рдореЗрдВрдЯ_ рдпреВрдиреАрдЯ рджреВрд╕рд░реЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рд╣реИрд╢ рд╡рд┐рддрд░рдг рдкреНрд░рдгрд╛рд▓реА рдХреА рдореВрд▓рднреВрдд рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИред  рдФрд░ рд╣рдо рдбреЗрдЯрд╛ рдХреЛ рдЕрд╕рдВрддреБрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░реНрдп рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  Gl рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИ, рд▓реЗрдХрд┐рди рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд╣реИрд╢ рдкрд░реНрд╡рддрдорд╛рд▓рд╛ рдХреЗ рд╕рд╛рде рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рдХрд╛рд░рдг, рдЖрдк рдЬрд┐рддрдирд╛ рдЪрд╛рд╣реЗрдВ рдЙрддрдирд╛ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХреЛрдИ рд╣реИрд╢ рд░реЗрдВрдЬ (рдФрд░, рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдбреЗрдЯрд╛) рд╣рд┐рд▓рддрд╛ рдирд╣реАрдВ рд░рд╣реЗрдЧрд╛ред  рд╣реИрд╢ рд░реЗрдВрдЬ рдХреЗ рдкреБрдирд░реНрд╡рд┐рддрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХрдорд╛рддреНрд░ рдорд╛рдирджрдВрдб рдХреНрд╖рдорддрд╛ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд╣реИред  рдФрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рд╡рд┐рдХрд▓реНрдк рдмрдЪрд╛ рд╣реИ - рдИрдВрдЯреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдПред  рдФрд░ рдЕрдЧрд░ рд╣рдо рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рд╕рд╛рде рдПрдХ рд╡реЙрд▓реНрдпреВрдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдПрдХ рдкреВрд░реЗ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛, рдЕрд░реНрдерд╛рддреН рд╣рдорд╛рд░реЗ рд╕реЗрдЯрдЕрдк рдореЗрдВ рджреЛ рдирдИ рдИрдВрдЯреЗрдВред  рд╡реЙрд▓реНрдпреВрдо рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - рд╣реИрд╢ рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдХреЛ рдирдП рд╕рдореВрд╣ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рдкреБрдирд░реНрд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдбреЗрдЯрд╛ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдЬрдм рдПрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣реИрд╢ рдкрд░реНрд╡рддрдорд╛рд▓рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрд╡рдВрдЯрд┐рдд рдХреА рдЬрд╛рддреА рд╣реИрдВред </p><br><p>  RADOS рдореЗрдВ рд╕рдВрднрд╛рд╡рдирд╛рдУрдВ рдХреА рдПрдХ рдкреВрд░реА рдХрд╛рд░ рд╣реИред  рдПрдХ рд╕рд┐рдл <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ рдореЗрдВ</a> , рдореИрдВрдиреЗ рдкреАрдЬреА рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╣реБрдд рд╢рд┐рдХрд╛рдпрдд рдХреА, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ, gl, рдмреЗрд╢рдХ, RADOS рдХреЗ рд╕рд╛рде рдШреЛрдбрд╝реЗ рдХреА рдкреАрда рдкрд░ рддреБрд▓рдирд╛ рдХреАред  рдкреНрд░рддреНрдпреЗрдХ рдУрдПрд╕рдбреА рдХрд╛ рдЕрдкрдирд╛ рд╡рдЬрди рд╣реЛрддрд╛ рд╣реИ, рдЖрдорддреМрд░ рдкрд░ рдпрд╣ рдбрд┐рд╕реНрдХ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддрд╛ рд╣реИред  рдмрджрд▓реЗ рдореЗрдВ, рдмрд╛рдж рдХреЗ рд╡рдЬрди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдУрдПрд╕рдбреА рджреНрд╡рд╛рд░рд╛ рдкреАрдЬреА рд╡рд┐рддрд░рд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рд╕рдм рдХреБрдЫ, рдлрд┐рд░ рд╣рдо рдУрдПрд╕рдбреА рдХреЗ рд╡рдЬрди рдХреЛ рдКрдкрд░ рдпрд╛ рдиреАрдЪреЗ рдмрджрд▓рддреЗ рд╣реИрдВ рдФрд░ рдкреАрдЬреА (рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде) рдЕрдиреНрдп рдУрдПрд╕рдбреА рдореЗрдВ рдЬрд╛рдиреЗ рд▓рдЧрддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдкреНрд░рддреНрдпреЗрдХ рдУрдПрд╕рдбреА рдореЗрдВ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рдорд╛рдпреЛрдЬрди рд╡рдЬрди рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдПрдХ рд╕рд░реНрд╡рд░ рдХреЗ рдбрд┐рд╕реНрдХ рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрддреБрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдпрд╣ рд╕рдм CRUSH рдореЗрдВ рдирд┐рд╣рд┐рдд рд╣реИред  рдореБрдЦреНрдп рд▓рд╛рдн рдпрд╣ рд╣реИ рдХрд┐ рдбреЗрдЯрд╛ рдХреЛ рдмреЗрд╣рддрд░ рдврдВрдЧ рд╕реЗ рдЕрд╕рдВрддреБрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреВрд▓ рдХреА рдХреНрд╖рдорддрд╛ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИред  рдФрд░ рд╕рдореВрд╣реЛрдВ рдореЗрдВ рдбрд┐рд╕реНрдХ рдЬреЛрдбрд╝рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИ, рдЖрдк рдХреЗрд╡рд▓ рдПрдХ рдУрдПрд╕рдбреА рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкреАрдЬреА рдХрд╛ рдПрдХ рд╣рд┐рд╕реНрд╕рд╛ рдЗрд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  рд╣рд╛рдВ, рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдПрдХ рдкреВрд▓ рдмрдирд╛рддреЗ рд╕рдордп рдЙрдиреНрд╣реЛрдВрдиреЗ рдкрд░реНрдпрд╛рдкреНрдд рдкреАрдЬреА рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдерд╛ рдФрд░ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдкреАрдЬреА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдХрд╛рдлреА рдмрдбрд╝рд╛ рд╣реИ, рдФрд░ рдЬрд╣рд╛рдВ рднреА рд╡реЗ рдЪрд▓рддреЗ рд╣реИрдВ, рдЕрд╕рдВрддреБрд▓рди рдмрдирд╛ рд░рд╣реЗрдЧрд╛ред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдк рдкреАрдЬреА рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрдврд╝рд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рд╡реЗ рдЫреЛрдЯреЗ рд▓реЛрдЧреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред  рд╣рд╛рдВ, рдпрджрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдбреЗрдЯрд╛ рд╕реЗ рднрд░рд╛ рд╣реИ, рддреЛ рдпрд╣ рджрд░реНрдж рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реА рддреБрд▓рдирд╛ рдореЗрдВ рдореБрдЦреНрдп рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдРрд╕рд╛ рдЕрд╡рд╕рд░ рд╣реИред  рдЕрдм рдХреЗрд╡рд▓ рдкреАрдЬреА рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде рдЖрдкрдХреЛ рдЕрдзрд┐рдХ рд╕рд╛рд╡рдзрд╛рди рд░рд╣рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕реАрдПрдлрдПрдЪ - рдиреМрдЯрд┐рд▓рд╕ рдХреЗ рдЕрдЧрд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдкреАрдЬреА рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рд╣реЛрдЧрд╛ (рдкреАрдЬреА рд╡рд┐рд▓рдп)ред </p><br><h2 id="replikaciya-dannyh">  рдбреЗрдЯрд╛ рдкреНрд░рддрд┐рдХреГрддрд┐ </h2><br><p>  рд╣рдорд╛рд░реЗ рдкрд░реАрдХреНрд╖рдг рдкреВрд▓ рдФрд░ рд╡реЙрд▓реНрдпреВрдо рдореЗрдВ 2. рдХрд╛ рдПрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХрд╛рд░рдХ рд╣реЛрддрд╛ рд╣реИред рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕ рд╕рдВрдЦреНрдпрд╛ рдХреА рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдкреНрд░рд╢реНрди рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  RADOS рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдпреЛрдЬрдирд╛ рдХреБрдЫ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/lx/vb/q-/lxvbq-niuingzw76ad7aqanp2pg.png"></p><br><p>  рдХреНрд▓рд╛рдЗрдВрдЯ рдкреВрд░реЗ рдХреНрд▓рд╕реНрдЯрд░ рдХреА рдЯреЛрдкреЛрд▓реЙрдЬреА рдЬрд╛рдирддрд╛ рд╣реИ, рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреАрдЬреА рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП CRUSH (рдЪрд░рдг 0) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, OSD-0 (рдЪрд░рдг 1) рдкрд░ рдкреНрд░рд╛рдердорд┐рдХ рдкреАрдЬреА рдХреЛ рд▓рд┐рдЦрддрд╛ рд╣реИ, рдлрд┐рд░ OSD-0 рд╕рд┐рдВрдХреНрд░реЛрдирд╛рдЗрдЬрд╝реЗрд╢рди рдбреЗрдЯрд╛ рдХреЛ SECERTARY PG (рдЪрд░рдг 2) рдХреЗ рд▓рд┐рдП, рдФрд░ рдХреЗрд╡рд▓ рдЙрд╕рдХреЗ рдмрд╛рдж рдмрддрд╛рддрд╛ рд╣реИ рд╕рдлрд▓ / рдЕрд╕рдлрд▓ рдЪрд░рдг 2, OSD рдХреНрд▓рд╛рдЗрдВрдЯ (рдЪрд░рдг 3) рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреА рдкреБрд╖реНрдЯрд┐ рдирд╣реАрдВ рдХрд░рддрд╛ / рдХрд░рддреА рд╣реИред  рджреЛ OSD рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдкрд╛рд░рджрд░реНрд╢реА рд╣реИред  рдУрдПрд╕рдбреА рдЖрдорддреМрд░ рдкрд░ рдбреЗрдЯрд╛ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ "рдХреНрд▓рд╕реНрдЯрд░", рддреЗрдЬ рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдпрджрд┐ рдЯреНрд░рд┐рдкрд▓ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рдкреНрд░рд╛рдердорд┐рдХ OSD рд╕реЗ рджреЛ SECONDARY рддрдХ, рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдкрд╛рд░рджрд░реНрд╢реА ... рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ, рдХреЗрд╡рд▓ рдЙрд╕ рд▓реЗрдЯреЗрдВрд╕реА рдХреЗ рдЙрдЪреНрдЪрддрд░ рд╣реЛрдиреЗ рдкрд░ рднреА рдЪрд▓рддрд╛ рд╣реИред </p><br><p>  Gl рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/ll/zz/q-/llzzq-m2jhfaf83-dtk_fokavw0.png"></p><br><p>  рдХреНрд▓рд╛рдЗрдВрдЯ рд╡реЙрд▓реНрдпреВрдо рдХреА рдЯреЛрдкреЛрд▓реЙрдЬреА рдЬрд╛рдирддрд╛ рд╣реИ, рд╡рд╛рдВрдЫрд┐рдд рдИрдВрдЯ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП DHT (рдЪрд░рдг 0) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдлрд┐рд░ рдЙрд╕реЗ рд▓рд┐рдЦрддрд╛ рд╣реИ (рдЪрд░рдг 1)ред  рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рдФрд░ рд╕реНрдкрд╖реНрдЯ рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдБ рд╣рдо рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣ рдХреА рд╕рднреА рдИрдВрдЯреЛрдВ рдХреА рд░реЗрдВрдЬ рд╕рдорд╛рди рд╣реИрд╢ рд╣реИред  рдФрд░ рдпрд╣ рдорд╛рдореВрд▓реА рд╡рд┐рд╢реЗрд╖рддрд╛ рдкреВрд░реА рдЫреБрдЯреНрдЯреА рдмрдирд╛рддреА рд╣реИред  рдХреНрд▓рд╛рдЗрдВрдЯ рдЙрди рд╕рднреА рдИрдВрдЯреЛрдВ рдХреЗ рд╕рдорд╛рдирд╛рдВрддрд░ рд▓рд┐рдЦрддрд╛ рд╣реИ рдЬрд┐рдирдореЗрдВ рдПрдХ рдЙрдкрдпреБрдХреНрдд рд╣реИрд╢ рд░реЗрдВрдЬ рд╣реЛрддреА рд╣реИред </p><br><p>  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рджреЛрд╣рд░реЗ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рд╕рд╛рде, рдЧреНрд░рд╛рд╣рдХ рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдИрдВрдЯреЛрдВ рдкрд░ рд╕рдорд╛рдирд╛рдВрддрд░ рдореЗрдВ рджреЛрд╣рд░реА рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХрд░рддрд╛ рд╣реИред  рдЯреНрд░рд┐рдкрд▓ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рджреМрд░рд╛рди, рдЯреНрд░рд┐рдкрд▓ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХреНрд░рдорд╢рдГ рдХреА рдЬрд╛рдПрдЧреА, рдФрд░ 1MB рдбреЗрдЯрд╛ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ 3MB рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдореЗрдВ gl- рд╕рд░реНрд╡рд░ рдХреА рддрд░рдл рд▓рдЧрднрдЧ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛ред  рд╕рд╣рдордд рд╣реИрдВ, рд╕рд┐рд╕реНрдЯрдо рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛рдПрдВ рд▓рдВрдмрд╡рдд рд╣реИрдВред </p><br><p>  рдЗрд╕ рддрд░рд╣ рдХреА рдпреЛрдЬрдирд╛ рдореЗрдВ, рдЧреНрд▓реЙ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдЕрдзрд┐рдХ рдХрд╛рдо рд╕реМрдВрдкрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдЙрд╕реЗ рдЕрдзрд┐рдХ рд╕реАрдкреАрдпреВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдареАрдХ рд╣реИ, рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд╣рд╛ рдерд╛ред </p><br><p>  рдПрдПрдлрдкреА рдЕрдиреБрд╡рд╛рджрдХ (рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдлрд╝рд╛рдЗрд▓ рдкреНрд░рддрд┐рдХреГрддрд┐) рджреНрд╡рд╛рд░рд╛ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдПрдХ рдХреНрд▓рд╛рдЗрдВрдЯ-рд╕рд╛рдЗрдб рдПрдХреНрд╕рд▓реЗрдЯрд░ рдЬреЛ рддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХрд░рддрд╛ рд╣реИред  рдкреНрд░рддрд┐рдХреГрддрд┐ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреА рд╕рднреА рдИрдВрдЯреЛрдВ рдХреЛ рд▓рд┐рдЦрддрд╛ рд╣реИ тЖТ рдПрдХ рд▓реЗрдирджреЗрди рдореЙрдбрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рд╕рдореВрд╣ рдореЗрдВ рдореМрдЬреВрдж рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ (рд╣реАрд▓рд┐рдВрдЧ) рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░реЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдИрдВрдЯ рдХреА рдЕрд╕реНрдерд╛рдпреА рдЕрдиреБрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рдмрд╛рдж, рдЧреНрд▓реИ рдбреЗрдореЙрди рд╕реНрд╡рдпрдВ рдирд┐рд░реНрдорд┐рдд рдПрдПрдлрдкреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рд▓рд┐рдП рдкрд╛рд░рджрд░реНрд╢реА рдФрд░ рдЙрдирдХреА рднрд╛рдЧреАрджрд╛рд░реА рдХреЗ рдмрд┐рдирд╛ рдРрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рдХрд┐ рдпрджрд┐ рдЖрдк рдореВрд▓ gl рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдПрдирдПрдлрдПрд╕ рд╕рд░реНрд╡рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ gl рдореЗрдВ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ RADOS рдХреЗ рд╕рдорд╛рди рд╡реНрдпрд╡рд╣рд╛рд░ рдорд┐рд▓реЗрдЧрд╛ред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЧреНрд░рд╛рд╣рдХ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХреЗ рдмрд┐рдирд╛ рдбреЗрдЯрд╛ рдХреЛ рджреЛрд╣рд░рд╛рдиреЗ рдХреЗ рд▓рд┐рдП AFP рдХрд╛ рдЙрдкрдпреЛрдЧ gl рдбреЗрдореЙрди рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд▓реЗрдХрд┐рди рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдПрдирдПрдлрдПрд╕ рдЧреНрд▓ рд╡реА 4 рдореЗрдВ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИ, рдФрд░ рдпрджрд┐ рдЖрдк рдЗрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдПрдирдПрдлрдПрд╕-рдЧрдгреЗрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред </p><br><p>  рд╡реИрд╕реЗ, рдПрдирдПрдлрдПрд╕ рдФрд░ рджреЗрд╢реА рдЧреНрд░рд╛рд╣рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдЗрддрдиреЗ рдЕрд▓рдЧ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЗ рдХрд╛рд░рдг, рдЖрдк рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рдкреНрд░рджрд░реНрд╢рди рд╕рдВрдХреЗрддрдХ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h2 id="a-u-vas-est-takoy-zhe-klaster-tolko-na-kolenke">  рдХреНрдпрд╛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рд╣реА рдХреНрд▓рд╕реНрдЯрд░ рд╣реИ, рдХреЗрд╡рд▓ "рдШреБрдЯрдиреЗ рдкрд░"? </h2><br><p>  рдореИрдВ рдЕрдХреНрд╕рд░ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ kneecap рд╕реЗрдЯрдЕрдкреЛрдВ рдХреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдЪрд░реНрдЪрд╛рдУрдВ рдкрд░ рджреЗрдЦрддрд╛ рд╣реВрдВ, рдЬрд╣рд╛рдВ рдПрдХ рдбреЗрдЯрд╛ рдХреНрд▓рд╕реНрдЯрд░ рд╣рд╛рде рд╕реЗ рдХреНрдпрд╛ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, RADOS- рдЖрдзрд╛рд░рд┐рдд рд╕рдорд╛рдзрд╛рди рдЖрдкрдХреЛ рдЕрдкрдиреА рдбреНрд░рд╛рдЗрд╡ рдЪреБрдирддреЗ рд╕рдордп рдЕрдзрд┐рдХ рд╕реНрд╡рддрдВрддреНрд░рддрд╛ рджреЗ рд╕рдХрддрд╛ рд╣реИред  RADOS рдореЗрдВ, рдЖрдк рд▓рдЧрднрдЧ рдХрд┐рд╕реА рднреА рдЖрдХрд╛рд░ рдХреА рдбреНрд░рд╛рдЗрд╡ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рдкреНрд░рддреНрдпреЗрдХ рдбрд┐рд╕реНрдХ рдХрд╛ рд╡рдЬрди рдЙрд╕рдХреЗ рдЖрдХрд╛рд░ (рдЖрдорддреМрд░ рдкрд░) рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛрдЧрд╛, рдФрд░ рдбреЗрдЯрд╛ рд▓рдЧрднрдЧ рдкреВрд░реЗ рдЕрдиреБрдкрд╛рдд рдореЗрдВ рдбрд┐рд╕реНрдХ рдкрд░ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  Gl рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдкреНрд░рддрд┐рдХреГрддрд┐ рд╡рд╛рд▓реЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ "рдЕрд▓рдЧ рдбрд┐рд╕реНрдХ" рдХреА рдХреЛрдИ рдЕрд╡рдзрд╛рд░рдгрд╛ рдирд╣реАрдВ рд╣реИред  рдЯреНрд░рд┐рдкрд▓ рдореЗрдВ рдбрдмрд▓ рдкреНрд░рддрд┐рдХреГрддрд┐ рдпрд╛ рдЯреНрд░рд┐рдкрд▓ рдореЗрдВ рдЬреЛрдбрд╝реЗ рдЬреЛрдбрд╝реЗ рдЬрд╛рддреЗ рд╣реИрдВред  рдпрджрд┐ рдПрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣ рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдЖрдХрд╛рд░реЛрдВ рдХреЗ рдбрд┐рд╕реНрдХ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рдореВрд╣ рдореЗрдВ рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдбрд┐рд╕реНрдХ рдкрд░ рдПрдХ рдЬрдЧрд╣ рдкрд░ рдЪрд▓реЗрдВрдЧреЗ рдФрд░ рдмрдбрд╝реЗ рдбрд┐рд╕реНрдХ рдХреА рдХреНрд╖рдорддрд╛ рдХреЛ рдХрдо рдХрд░ рджреЗрдВрдЧреЗред  рдРрд╕реА рдпреЛрдЬрдирд╛ рдореЗрдВ, gl рдпрд╣ рдорд╛рди рд▓реЗрдЧрд╛ рдХрд┐ рдПрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣ рдХреА рдХреНрд╖рдорддрд╛ рд╕рдореВрд╣ рдХреА рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдбрд┐рд╕реНрдХ рдХреА рдХреНрд╖рдорддрд╛ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ, рдЬреЛ рддрд╛рд░реНрдХрд┐рдХ рд╣реИред  рдЗрд╕реА рд╕рдордп, рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣реЛрдВ рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЖрдХрд╛рд░реЛрдВ рдХреЗ рдбрд┐рд╕реНрдХ рд╕реЗ рдорд┐рд▓рдХрд░ рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИ - рд╡рд┐рднрд┐рдиреНрди рдЖрдХрд╛рд░реЛрдВ рдХреЗ рд╕рдореВрд╣ред  рдмрдбрд╝реЗ рд╕рдореВрд╣ рдЕрдиреНрдп рд╕рдореВрд╣реЛрдВ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдПрдХ рдмрдбрд╝реА рд╣реИрд╢ рд░реЗрдВрдЬ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдЕрдзрд┐рдХ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рд╣рдо рдкрд╛рдВрдЪрд╡реЗрдВ рд╕рд╛рд▓ рд╕реЗ рд╕рд┐рдл рдХреЗ рд╕рд╛рде рд░рд╣ рд░рд╣реЗ рд╣реИрдВред  рд╣рдордиреЗ рдПрдХ рд╣реА рд╡реЙрд▓реНрдпреВрдо рдХреЗ рдбрд┐рд╕реНрдХ рдХреЗ рд╕рд╛рде рд╢реБрд░реБрдЖрдд рдХреА, рдЕрдм рд╣рдо рдЕрдзрд┐рдХ рдХреИрдкреЗрд╕рд┐рдЯрд┐рд╡ рдХрд╛ рдкрд░рд┐рдЪрдп рджреЗрддреЗ рд╣реИрдВред  рд╕реЗрдл рдХреЗ рд╕рд╛рде, рдЖрдк рдбрд┐рд╕реНрдХ рдХреЛ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╡рд╛рд╕реНрддреБ рд╕рдВрдмрдВрдзреА рдХрдард┐рдирд╛рдЗрдпреЛрдВ рдХреЗ рдПрдХ рдФрд░ рдмрдбрд╝реЗ рдпрд╛ рдереЛрдбрд╝реЗ рдЫреЛрдЯреЗ рд╕реЗ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред  Gl рдХреЗ рд╕рд╛рде, рд╕рдм рдХреБрдЫ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ - рдПрдХ 2 рдЯреАрдмреА рдбрд┐рд╕реНрдХ рдирд┐рдХрд╛рд▓ рд▓рд┐рдпрд╛ - рдПрдХ рд╣реА рдбрд╛рд▓ рджреАрдЬрд┐рдП, рдХреГрдкрдпрд╛ред  рдЦреИрд░, рдпрд╛ рдкреВрд░реЗ рд╕рдореВрд╣ рдХреЛ рдПрдХ рдкреВрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд╛рдкрд╕ рд▓реЗ рд▓реЗрдВ, рдЬреЛ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИ, рд╕рд╣рдордд рд╣реИрдВред </p><br><h2 id="obrabotka-otkazov">  рдЙрдЫрд╛рд▓ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг </h2><br><p>  рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рджреЛ рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рд╕реЗ рдереЛрдбрд╝рд╛ рдкрд░рд┐рдЪрд┐рдд рд╣реЛ рдЧрдП рдФрд░ рдЕрдм рд╣рдо рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЗрд╕рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рд░рд╣рдирд╛ рд╣реИ рдФрд░ рд╕рд░реНрд╡рд┐рд╕рд┐рдВрдЧ рдХрд░рддреЗ рд╕рдордп рдХреНрдпрд╛ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рд╣реИрдВред </p><br><p>  рдорд╛рди рд▓реАрдЬрд┐рдП рд╣рдордиреЗ s1 рдкрд░ sda рдордирд╛ рдХрд░ рджрд┐рдпрд╛ рд╣реИ - рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдмрд╛рддред </p><br><p>  Gl рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ: </p><br><ul><li>  рд╕рдореВрд╣ рдореЗрдВ рд╢реЗрд╖ рд▓рд╛рдЗрд╡ рдбрд┐рд╕реНрдХ рдкрд░ рдбреЗрдЯрд╛ рдХреА рдПрдХ рдкреНрд░рддрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЕрдиреНрдп рд╕рдореВрд╣реЛрдВ рдХреЗ рд▓рд┐рдП рдкреБрдирд░реНрд╡рд┐рддрд░рд┐рдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ; </li><li>  рдЬрдм рддрдХ рдбрд┐рд╕реНрдХ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддрдм рддрдХ рдбреЗрдЯрд╛ рдХреА рдХреЗрд╡рд▓ рдПрдХ рдкреНрд░рддрд┐ рдмрдиреА рд░рд╣рддреА рд╣реИ; </li><li>  рдЬрдм рдПрдХ рдирдП рдХреЗ рд╕рд╛рде рдПрдХ рдЕрд╕рдлрд▓ рдбрд┐рд╕реНрдХ рдХреА рдЬрдЧрд╣, рдкреНрд░рддрд┐рдХреГрддрд┐ рдПрдХ рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реА рдбрд┐рд╕реНрдХ рд╕реЗ рдПрдХ рдирдпрд╛ (1 рдкрд░ 1) рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br><p>  рдпрд╣ рдХрдИ RAID-1s рдХреЗ рд╕рд╛рде рдПрдХ рд╢реЗрд▓реНрдл рдкрд░реЛрд╕рдиреЗ рдЬреИрд╕рд╛ рд╣реИред  рд╣рд╛рдВ, рдЯреНрд░рд┐рдкрд▓ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рд╕рд╛рде, рдпрджрд┐ рдХреЛрдИ рдбреНрд░рд╛рдЗрд╡ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ рдПрдХ рдкреНрд░рддрд┐ рдирд╣реАрдВ рд░рд╣рддреА рд╣реИ, рд▓реЗрдХрд┐рди рджреЛ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдореЗрдВ рдЧрдВрднреАрд░ рдХрдорд┐рдпрд╛рдВ рд╣реИрдВ, рдФрд░ рдореИрдВ рдЙрдиреНрд╣реЗрдВ RADOS рдХреЗ рд╕рд╛рде рдПрдХ рдЕрдЪреНрдЫрд╛ рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рдКрдВрдЧрд╛ред </p><br><p>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╣рдордиреЗ S1 (OSD-0) рдкрд░ sda рд╡рд┐рдлрд▓ рдХрд░ рджрд┐рдпрд╛ рд╣реИ - рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдмрд╛рдд: </p><br><ul><li>  OSD-0 рдкрд░ рдЖрдиреЗ рд╡рд╛рд▓реЗ PG рдХреЛ 10 рдорд┐рдирдЯ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ) рдХреЗ рдмрд╛рдж рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЕрдиреНрдп OSDs рдореЗрдВ рднреЗрдЬ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдУрдПрд╕рдбреА 1 рдФрд░ 2 рдкрд░ред рдпрджрд┐ рдЕрдзрд┐рдХ рд╕рд░реНрд╡рд░ рдереЗ, рддреЛ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдУрдПрд╕рдбреА рдкрд░ред </li><li>  рдкреАрдЬреА рдЬреЛ рдбреЗрдЯрд╛ рдХреА рджреВрд╕рд░реА рдЬреАрд╡рд┐рдд рдкреНрд░рддрд┐ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреЗ рд╣реИрдВ, рд╡реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрди рдУрдПрд╕рдбреА рдХреЛ рджреЛрд╣рд░рд╛рдПрдВрдЧреЗ рдЬрд╣рд╛рдВ рдмрд╣рд╛рд▓ рдХрд┐рдП рдЧрдП рдкреАрдЬреА рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдХрдИ-рд╕реЗ-рдХрдИ рдкреНрд░рддрд┐рдХреГрддрд┐ рдирд┐рдХрд▓рддрд╛ рд╣реИ, рди рдХрд┐ рдЧреНрд▓реЛрдм рдХреА рддрд░рд╣ рдПрдХ-рд╕реЗ-рдПрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ред </li><li>  рдЬрдм рдПрдХ рдирдпрд╛ рдбрд┐рд╕реНрдХ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдПрдХ рдЯреВрдЯреЗ рд╣реБрдП рдХреЗ рдмрдЬрд╛рдп, рдХреБрдЫ рдУрдПрд╕ рдирдП рдУрдПрд╕рдбреА рдореЗрдВ рдЕрдкрдиреЗ рд╡рдЬрди рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЬрдорд╛ рд╣реЛ рдЬрд╛рдПрдВрдЧреЗ рдФрд░ рдЕрдиреНрдп рдУрдПрд╕рдбреА рд╕реЗ рдбреЗрдЯрд╛ рдХреЛ рдкреБрдирд░реНрд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </li></ul><br><p>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ RADOS рдХреЗ рд╡рд╛рд╕реНрддреБ рд▓рд╛рднреЛрдВ рдХреЛ рд╕рдордЭрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдорддрд▓рдм рдирд╣реАрдВ рд╣реИред  рдЬрдм рдЖрдк рдПрдХ рдкрддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдпрд╣ рдирд╣реАрдВ рдХрд╣ рд╕рдХрддреЗ рдХрд┐ рдбреНрд░рд╛рдЗрд╡ рд╡рд┐рдлрд▓ рд╣реЛ рдЧрдпрд╛ред  рдФрд░ рдЬрдм рдЖрдк рд╕реБрдмрд╣ рдХрд╛рдо рдкрд░ рдЖрддреЗ рд╣реИрдВ, рддреЛ рдкрд╛рддреЗ рд╣реИрдВ рдХрд┐ рд╕рднреА рдЧрд╛рдпрдм рдкреНрд░рддрд┐рдпрд╛рдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рджрд░реНрдЬрдиреЛрдВ рдЕрдиреНрдп рдУрдПрд╕рдбреА рдпрд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдмрд╣рд╛рд▓ рд╣реЛ рдЪреБрдХреА рд╣реИрдВред  рдмрдбрд╝реЗ рдХреНрд▓рд╕реНрдЯрд░ рдкрд░, рдЬрд╣рд╛рдВ рд╕реИрдХрдбрд╝реЛрдВ рдкреАрдЬреА рдбрд┐рд╕реНрдХ рдХреЗ рдПрдХ рд╕рдореВрд╣ рдореЗрдВ рдлреИрд▓реЗ рд╣реБрдП рд╣реИрдВ, рдПрдХ рдУрдПрд╕рдбреА рдХреА рдбреЗрдЯрд╛ рд░рд┐рдХрд╡рд░реА рдПрдХ рдбрд┐рд╕реНрдХ рдХреА рдЧрддрд┐ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЧрддрд┐ рд╕реЗ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдХрд┐ рджрд░реНрдЬрдиреЛрдВ рдУрдПрд╕рдбреА рд╢рд╛рдорд┐рд▓ рд╣реИрдВ (рдкрдврд╝реЗрдВ рдФрд░ рд▓рд┐рдЦреЗрдВ)ред  рдареАрдХ рд╣реИ, рдЖрдкрдХреЛ рд▓реЛрдб рд╕рдВрддреБрд▓рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдирд╣реАрдВ рднреВрд▓рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><h2 id="masshtabirovanie">  рд╕реНрдХреЗрд▓рд┐рдВрдЧ </h2><br><p>  рдЗрд╕ рд╕рдВрджрд░реНрдн рдореЗрдВ, рдореИрдВ рд╕рдВрднрд╡рддрдГ рдкреЗрдбрд╕реНрдЯрд▓ рдХреЛ рдЪрдордХ рджреВрдВрдЧрд╛ред  рд╕реЗрдл рдкрд░ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ</a> рдореЗрдВ, рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкреАрдЬреА рдЕрд╡рдзрд╛рд░рдгрд╛ рд╕реЗ рдЬреБрдбрд╝реЗ RADOS рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреА рдХреБрдЫ рдЬрдЯрд┐рд▓рддрд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд▓рд┐рдЦрд╛ рдерд╛ред  рдпрджрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдХреА рд╡реГрджреНрдзрд┐ рдХреЗ рд╕рд╛рде рдкреАрдЬреА рдореЗрдВ рд╡реГрджреНрдзрд┐ рдЕрднреА рднреА рдЕрдиреБрднрд╡ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ, рддреЛ рд╕реЗрдл рдПрдордбреАрдПрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИред  CephFS RADOS рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдЪрд▓рддрд╛ рд╣реИ рдФрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдФрд░ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдкреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, ceph рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╕рд░реНрд╡рд░ (MDS), рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреА рд╕рд░реНрд╡рд┐рд╕рд┐рдВрдЧ рдФрд░ FS рдХреЗ рд╕рд╛рде рд╕рднреА рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рдордиреНрд╡рдп рдХреЗ рд▓рд┐рдПред  рдореИрдВ рдпрд╣ рдирд╣реАрдВ рдХрд╣ рд░рд╣рд╛ рд╣реВрдВ рдХрд┐ рдПрдордбреАрдПрд╕ рдореЗрдВ рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕ рдХреА рд╕реНрдХреЗрд▓реЗрдмрд┐рд▓рд┐рдЯреА рдЦрддреНрдо рд╣реЛ рдЬрд╛рддреА рд╣реИ, рдирд╣реАрдВ, рдЦрд╛рд╕рдХрд░ рдЬрдм рд╕реЗ рдЖрдк рд╕рдХреНрд░рд┐рдп-рд╕рдХреНрд░рд┐рдп рдореЛрдб рдореЗрдВ рдХрдИ рдПрдордбреАрдПрд╕ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдореИрдВ рд╕рд┐рд░реНрдл рдпрд╣ рдиреЛрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ gl рдпрд╣ рд╕рдм рд╡рд╛рд╕реНрддреБ рд╕реЗ рд░рд╣рд┐рдд рд╣реИред  рдЗрд╕рдХрд╛ рдХреЛрдИ PG рд╕рдордХрдХреНрд╖ рдирд╣реАрдВ рд╣реИ, MDS рдЬреИрд╕рд╛ рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реИред  Gl рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд▓рдЧрднрдЧ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣реЛрдВ рдХреЛ рдЬреЛрдбрд╝рдХрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдорд╛рдкрддрд╛ рд╣реИред </p><br><p>  рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕ рд╕реЗ рдкрд╣рд▓реЗ рдХреЗ рджрд┐рдиреЛрдВ рдореЗрдВ, рд╣рдордиреЗ рдбреЗрдЯрд╛ рдкреЗрдЯрд╛рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рдзрд╛рди рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдФрд░ рдЧреНрд▓ рдХреЛ рджреЗрдЦрд╛ред  рддрдм рд╣рдореЗрдВ gl рдХреА рдорд╛рдкрдиреАрдпрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдВрджреЗрд╣ рдерд╛ рдФрд░ рд╣рдореЗрдВ рдореЗрд▓рд┐рдВрдЧ рд╕реВрдЪреА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрддрд╛ рдЪрд▓рд╛ред  рдпрд╣рд╛рдБ рдПрдХ рдЙрддреНрддрд░ рд╣реИ (рдкреНрд░рд╢реНрди: рдореЗрд░рд╛ рдкреНрд░рд╢реНрди): </p><br><blockquote>  рдореИрдВ 60 рд╕рд░реНрд╡рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реВрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ 26x8TB рдбрд┐рд╕реНрдХ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдХреБрд▓ 1560 рдбрд┐рд╕реНрдХ 16 + 4 EC рд╡реЙрд▓реНрдпреВрдо рдХреЗ рд╕рд╛рде 9PB рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╕реНрдерд╛рди рд╣реИред <br><br>  рдкреНрд░рд╢реНрди: рдХреНрдпрд╛ рдЖрдк рдЧреНрд░рд╛рд╣рдХ рдкрдХреНрд╖ рдкрд░ libgfapi рдпрд╛ FUSE рдпрд╛ NFS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ? <br><br>  рдореИрдВ FUSE рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рдореЗрд░реЗ рдкрд╛рд╕ рд▓рдЧрднрдЧ 1000 рдЧреНрд░рд╛рд╣рдХ рд╣реИрдВред <br><br>  рдкреНрд░рд╢реНрди: рдЖрдкрдХреЗ рд╡реЙрд▓реНрдпреВрдо рдореЗрдВ рдХрд┐рддрдиреА рдлрд╛рдЗрд▓реЗрдВ рд╣реИрдВ? <br>  рдкреНрд░рд╢реНрди: рдлрд╛рдЗрд▓реЗрдВ рдЬреНрдпрд╛рджрд╛ рдмрдбрд╝реА рдпрд╛ рдЫреЛрдЯреА рд╣реЛрддреА рд╣реИрдВ? <br><br>  рдореЗрд░реЗ рдкрд╛рд╕ 1M рд╕реЗ рдЕрдзрд┐рдХ рдлрд╛рдЗрд▓реЗрдВ рд╣реИрдВ рдФрд░ рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛% 13 рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдФрд╕рдд рдлрд╝рд╛рдЗрд▓ рдЖрдХрд╛рд░ 1GB рдмрдирд╛рддрд╛ рд╣реИред <br>  рдиреНрдпреВрдирддрдо / рдЕрдзрд┐рдХрддрдо рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЖрдХрд╛рд░ 100 рдПрдордмреА / 2 рдЬреАрдмреА рд╣реИред  рд╣рд░ рджрд┐рди 10-20TB рдирдпрд╛ рдбреЗрдЯрд╛ рд╡реЙрд▓реНрдпреВрдо рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рддрд╛ рд╣реИред <br><br>  рдХреНрдпреВ: рдХрд┐рддрдиреА рддреЗрдЬреА рд╕реЗ "рдПрд▓рдПрд╕" рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ)? <br><br>  рдЖрдкрдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╕рдВрдЪрд╛рд▓рди рдзреАрдорд╛ рд╣реИред  рдореИрдВ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ 2-3K рд╕реЗ рдЕрдзрд┐рдХ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдирд╣реАрдВ рд░рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реВрдВред  рдореЗрд░рд╛ рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓рд╛ рдмреИрдХрдЕрдк / рд╕рдВрдЧреНрд░рд╣ рдХреЗ рд▓рд┐рдП рд╣реИ рдЗрд╕рд▓рд┐рдП рдореИрдВ рд╢рд╛рдпрдж рд╣реА рдХрднреА рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдСрдкрд░реЗрд╢рди рдХрд░рддрд╛ рд╣реВрдВред </blockquote><br><h2 id="pereimenovanie-faylov">  рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдирд╛рдо рдмрджрд▓реЗрдВ </h2><br><p>  рд╡рд╛рдкрд╕ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХреЗ рд▓рд┐рдПред  рд╣рдордиреЗ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдХрд┐ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢рд┐рд╖реНрдЯ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдХреИрд╕реЗ рд░реВрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЕрдм рд╕рд╡рд╛рд▓ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдирд╛рдо рдмрджрд▓рдиреЗ рдкрд░ рдХреНрдпрд╛ рд╣реЛрдЧрд╛? </p><br><p>  рдЖрдЦрд┐рд░рдХрд╛рд░, рдпрджрд┐ рд╣рдо рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдирд╛рдо рдмрджрд▓рддреЗ рд╣реИрдВ, рддреЛ рдЙрд╕рдХреА рдУрд░ рд╕реЗ рд╣реИрд╢ рднреА рдмрджрд▓ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЗрд╕ рдлрд╛рдЗрд▓ рдХрд╛ рд╕реНрдерд╛рди рдХрд┐рд╕реА рдЕрдиреНрдп рдбрд┐рд╕реНрдХ рдкрд░ (рдПрдХ рдЕрд▓рдЧ рд╣реИрд╢ рд░реЗрдВрдЬ рдореЗрдВ) рдпрд╛ RADOS рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдХрд┐рд╕реА рдЕрдиреНрдп PG / OSD рдкрд░ред  рд╣рд╛рдВ, рд╣рдо рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рд╕реЛрдЪрддреЗ рд╣реИрдВ, рдФрд░ рдпрд╣рд╛рдВ рджреЛ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдореЗрдВ рд╕рдм рдХреБрдЫ рдлрд┐рд░ рд╕реЗ рд▓рдВрдмрд╡рдд рд╣реИред </p><br><p>  Gl рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЬрдм рдХрд┐рд╕реА рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдирд╛рдо рдмрджрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдирдпрд╛ рдирд╛рдо рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдПрдХ рдирдИ рдИрдВрдЯ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЙрд╕ рдкрд░ рдПрдХ рд╡рд┐рд╢реЗрд╖ рд▓рд┐рдВрдХ рдкреБрд░рд╛рдиреА рдИрдВрдЯ рд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд╣рд╛рдБ рдлрд╝рд╛рдЗрд▓ рдкрд╣рд▓реЗ рдХреА рддрд░рд╣ рдмрдиреА рд░рд╣рддреА рд╣реИред  рдЯреЛрдкреЛрд╡рдХрд╛, рд╕рд╣реА?  рдбреЗрдЯрд╛ рдХреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдПрдХ рдирдП рд╕реНрдерд╛рди рдкрд░ рд▓реЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдиреЗ рд▓рд┐рдВрдХ рдХреЛ рдЕрдирд╛рд╡рд╢реНрдпрдХ рд░реВрдк рд╕реЗ рдХреНрд▓рд┐рдХ рдирд╣реАрдВ рдХрд┐рдпрд╛, рдЖрдкрдХреЛ рдПрдХ рд╡рд┐рджреНрд░реЛрд╣ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рд▓реЗрдХрд┐рди RADOS рдореЗрдВ рдЖрдорддреМрд░ рдкрд░ рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдирд╛рдо рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рдзрд┐ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЙрдирдХреЗ рдмрд╛рдж рдХреЗ рдЖрдВрджреЛрд▓рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдирд╛рдо рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд╖реНрдкрдХреНрд╖ рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рд╣реИ, рдЬреЛ рд╡рд╕реНрддреБ рдХреЗ рддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдЖрдВрджреЛрд▓рди рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИред  рдФрд░ рд╕реАрдПрдлрдПрдЪрдПрдлрдПрд╕, рдЬреЛ рдХрд┐ рд░рд╛рдбреЛрд╕ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдЪрд▓рддрд╛ рд╣реИ, рдореЗрдВ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдФрд░ рдПрдордбреАрдПрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рдкреВрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдкрдиреА рдЖрд╕реНрддреАрди рдКрдкрд░ рдЯреНрд░рдореНрдк рдХрд╛рд░реНрдб рд╣реИред  рдлрд╝рд╛рдЗрд▓ рдирд╛рдо рдмрджрд▓рдиреЗ рд╕реЗ рдбреЗрдЯрд╛ рдкреВрд▓ рдореЗрдВ рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред </p><br><h2 id="replikaciya-25">  рдкреНрд░рддрд┐рдХреГрддрд┐ 2.5 </h2><br><p>  Gl рдореЗрдВ рдПрдХ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рд╕реБрд╡рд┐рдзрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдореИрдВ рдЕрд▓рдЧ рд╕реЗ рдЙрд▓реНрд▓реЗрдЦ рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред  рд╣рд░ рдХреЛрдИ рд╕рдордЭрддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рддрд┐рдХреГрддрд┐ 2 рдПрдХ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдпрд╣ рд╕рдордп-рд╕рдордп рдкрд░ рдХрд╛рдлреА рдЙрдЪрд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рддрд░рд╣ рдХреА рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдорд╕реНрддрд┐рд╖реНрдХ рдХреА рд░рдХреНрд╖рд╛ рдХрд░рдиреЗ рдФрд░ рдбреЗрдЯрд╛ рд╕реНрдерд┐рд░рддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, gl рдЖрдкрдХреЛ рдкреНрд░рддрд┐рдХреГрддрд┐ 2 рдФрд░ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдЖрд░реНрдмрд┐рдЯрд░ рдХреЗ рд╕рд╛рде рд╡реЙрд▓реНрдпреВрдо рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдордзреНрдпрд╕реНрде 3 рдпрд╛ рдЕрдзрд┐рдХ рдХреА рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред  рдпрд╣ рд╕рдореВрд╣ рдореЗрдВ рдЕрдиреНрдп рджреЛ рдХреЗ рд╕рдорд╛рди рдИрдВрдЯ рд╣реИ, рдХреЗрд╡рд▓ рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдлрд╛рдЗрд▓реЛрдВ рдФрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рдлрд╝рд╛рдЗрд▓ рд╕рдВрд░рдЪрдирд╛ рдмрдирд╛рддрд╛ рд╣реИред  рдРрд╕реА рдИрдВрдЯ рдкрд░ рдлрд╛рдЗрд▓реЗрдВ рд╢реВрдиреНрдп рдЖрдХрд╛рд░ рдХреА рд╣реЛрддреА рд╣реИрдВ, рд▓реЗрдХрд┐рди рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо (рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ) рдХреА рдЙрдирдХреА рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдПрдХ рд╣реА рдкреНрд░рддрд┐рдХреГрддрд┐ рдореЗрдВ рдкреВрд░реНрдг рдЖрдХрд╛рд░ рдХреА рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рдЪрд╛рд░ рд╕реНрдкрд╖реНрдЯ рд╣реИред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдПрдХ рдЕрдЪреНрдЫрд╛ рдЕрд╡рд╕рд░ рд╣реИред </p><br><p>  рдПрдХрдорд╛рддреНрд░ рдХреНрд╖рдг ... рдкреНрд░рддрд┐рдХреГрддрд┐ рд╕рдореВрд╣ рдореЗрдВ рдЬрдЧрд╣ рдХрд╛ рдЖрдХрд╛рд░ рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдИрдВрдЯ рдХреЗ рдЖрдХрд╛рд░ рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдордзреНрдпрд╕реНрде рдХреЛ рд╕рдореВрд╣ рдореЗрдВ рдЕрдиреНрдп рд▓реЛрдЧреЛрдВ рдХреА рддрд░рд╣ рдХрдо рд╕реЗ рдХрдо рдЙрд╕реА рдЖрдХрд╛рд░ рдХреА рдПрдХ рдбрд┐рд╕реНрдХ рдХреЛ рдЦрд┐рд╕рдХрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкрддрд▓реА (рдкрддрд▓реА) рдПрд▓рд╡реА рдХрд╛рд▓реНрдкрдирд┐рдХ, рдмрдбрд╝реЗ рдЖрдХрд╛рд░ рдмрдирд╛рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ, рддрд╛рдХрд┐ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдбрд┐рд╕реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВред </p><br><h2 id="a-che-po-klientam">  рдФрд░ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛? </h2><br><p>  рджреЛ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рдореВрд▓ рдПрдкреАрдЖрдИ рдХреЛ libgfapi (gl) рдФрд░ libcephfs (CephFS) рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд▓реЛрдХрдкреНрд░рд┐рдп рднрд╛рд╖рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рднреА рдЙрдкрд▓рдмреНрдз рд╣реИрдВред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рд╕рд╛рде, рд╕рдм рдХреБрдЫ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реЛрддрд╛ рд╣реИред  рд╕рд░реНрд╡рд╡реНрдпрд╛рдкреА рдПрдирдПрдлрдПрд╕-рдЧрдгреЗрд╢ рджреЛрдиреЛрдВ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЛ рдПрдлрдПрд╕рдПрдПрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдЖрджрд░реНрд╢ рднреА рд╣реИред  Qemu libgfapi рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдореВрд▓ gl API рдХрд╛ рднреА рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред </p><br><p>  рд▓реЗрдХрд┐рди рдлрд┐рдпреЛ (рд▓рдЪреАрд▓реЗ I / O рдкрд░реАрдХреНрд╖рдХ) рдиреЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдФрд░ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ libgfapi рдХрд╛ рд╕рдорд░реНрдерди рдХрд┐рдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ libcephfs рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдПрдХ рдкреНрд▓рд╕ gl рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  Fio рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕реАрдзреЗ gl рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫрд╛ рд╣реИред  рдХреЗрд╡рд▓ libpfapi рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдпреВрдЬрд░рд╕реНрдкреЗрд╕ рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдкрд░ рдЖрдкрдХреЛ gl рд╕реЗ рд╕рдм рдХреБрдЫ рдкреНрд░рд╛рдкреНрдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╣рдо POSIX рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдХреИрд╕реЗ рдорд╛рдЙрдВрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ gl рдХреЗрд╡рд▓ FUSE рдХреНрд▓рд╛рдЗрдВрдЯ, рдФрд░ рдЕрдкрд╕реНрдЯреНрд░реАрдо рдХрд░реНрдиреЗрд▓ рдореЗрдВ CephFS рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рдкреЗрд╢рдХрд╢ рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдХрд░реНрдиреЗрд▓ рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рдЖрдк рдРрд╕реА рдЪрд╛рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ FUSE рдмреЗрд╣рддрд░ рдкреНрд░рджрд░реНрд╢рди рджрд┐рдЦрд╛рдПрдЧрд╛ред  рд▓реЗрдХрд┐рди рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ, FUSE рд╣рдореЗрд╢рд╛ рд╕рдВрджрд░реНрдн рд╕реНрд╡рд┐рдЪрд┐рдВрдЧ рдкрд░ рдПрдХ рдЙрдкрд░рд┐ рд╣реИред  рдореИрдВрдиреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рджреЗрдЦрд╛ рд╣реИ рдХрд┐ рдХреИрд╕реЗ FUSE рдиреЗ рдЕрдХреЗрд▓реЗ рд╕реАрдПрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рджреЛрд╣рд░реЗ рд╕реЙрдХреЗрдЯ рд╕рд░реНрд╡рд░ рдХреЛ рдЭреБрдХрд╛ рджрд┐рдпрд╛ред <br>  рдХрд┐рд╕реА рддрд░рд╣ рд▓рд┐рдирд╕ рдиреЗ рдХрд╣рд╛: </p><br><blockquote>  Userspace рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо?  рд╕рдорд╕реНрдпрд╛ рд╡рд╣реАрдВ рдХреА рд╡рд╣реАрдВ рд╣реИред  рд╣рдореЗрд╢рд╛ рд╕реЗ рд░рд╣рд╛ рд╣реИред  рдЬреЛ рд▓реЛрдЧ рд╕реЛрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рд╕реНрдкреЗрд╕ рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреБрдЫ рднреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрдерд╛рд░реНрдерд╡рд╛рджреА рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЦрд┐рд▓реМрдиреЗ рд╕рд┐рд░реНрдл рдЧреБрдорд░рд╛рд╣ рд╣реИрдВред </blockquote><p>  Gl рдбреЗрд╡рд▓рдкрд░реНрд╕, рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд, рд╕реЛрдЪрддреЗ рд╣реИрдВ рдХрд┐ FUSE рд╢рд╛рдВрдд рд╣реИред  рдпрд╣ рдХрд░реНрдиреЗрд▓ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рд╕реЗ рдЕрдзрд┐рдХ рд▓рдЪреАрд▓рд╛рдкрди рдФрд░ рдбрд┐рдЯреИрдЪ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдореЗрд░реЗ рд▓рд┐рдП, рд╡реЗ FUSE рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ gl рдЧрддрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рд╣реИред  рдХрд┐рд╕реА рддрд░рд╣ рдпрд╣ рд▓рд┐рдЦрд╛ рд╣реИ - рдареАрдХ рд╣реИ, рдпрд╣ рд╕рд╛рдорд╛рдиреНрдп рд╣реИ, рдФрд░ рдХрд░реНрдиреЗрд▓ рдореЗрдВ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд╕рд╛рде рдкрд░реЗрд╢рд╛рди рдХрд░рдирд╛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЕрдЬреАрдм рд╣реИред </p><br><h2 id="proizvoditelnost">  рдЙрддреНрдкрд╛рджрдХрддрд╛ </h2><br><p>  рдХреЛрдИ рддреБрд▓рдирд╛ рдирд╣) рдВ рд╣реЛрдЧреАред </p><br><p>  рдпрд╣ рдмрд╣реБрдд рдЬрдЯрд┐рд▓ рд╣реИред  рд╕рдорд░реВрдк рд╕реЗрдЯрдЕрдк рдкрд░ рднреА рд╡рд╕реНрддреБрдирд┐рд╖реНрда рдкрд░реАрдХреНрд╖рдг рдХрд░рдирд╛ рдмрд╣реБрдд рдХрдард┐рди рд╣реИред  рд╡реИрд╕реЗ рднреА, рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рдХреЛрдИ рд╣реЛрдЧрд╛ рдЬреЛ 100500 рдкреИрд░рд╛рдореАрдЯрд░ рджреЗрдЧрд╛ рдЬреЛ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕реЗ рдПрдХ рдХреЛ "рдЧрддрд┐" рджреЗрдЧрд╛ рдФрд░ рдХрд╣реЗрдЧрд╛ рдХрд┐ рдкрд░реАрдХреНрд╖рдг рдмрдХрд╡рд╛рд╕ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рд░реБрдЪрд┐ рд╣реЛ, рддреЛ рд╕реНрд╡рдпрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ, рдХреГрдкрдпрд╛ред </p><br><h2 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h2><br><p>  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, RADOS рдФрд░ CephFS, рд╕рдордЭрдиреЗ рдореЗрдВ, рд╕реЗрдЯрд┐рдВрдЧ рдореЗрдВ рдФрд░ рд░рдЦрд░рдЦрд╛рд╡ рдореЗрдВ рджреЛрдиреЛрдВ рдПрдХ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╕рдорд╛рдзрд╛рди рд╣реИрдВред </p><br><p>  рд▓реЗрдХрд┐рди рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ, рдореИрдВ RADOS рдХреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЛ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рдЧреНрд▓рд╕реНрдЯрд░рдПрдлрдПрд╕ рд╕реЗ рдЕрдзрд┐рдХ рд╕реАрдПрдлрдПрдлрдПрд╕ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реВрдВред  рдЕрдзрд┐рдХ рд╣реИрдВрдбрд▓ (PG, OSD рд╡рдЬрди, CRUSH рдкрджрд╛рдиреБрдХреНрд░рдо, рдЖрджрд┐), CephFS рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдЬрдЯрд┐рд▓рддрд╛ рдмрдврд╝рд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдзрд┐рдХ рд▓рдЪреАрд▓рд╛рдкрди рджреЗрддрд╛ рд╣реИ рдФрд░ рдЗрд╕ рд╕рдорд╛рдзрд╛рди рдХреЛ рдореЗрд░реА рд░рд╛рдп рдореЗрдВ рдЕрдзрд┐рдХ рдкреНрд░рднрд╛рд╡реА рдмрдирд╛рддрд╛ рд╣реИред </p><br><p>  рд╕реАрдПрдлрдПрдЪ рд╡рд░реНрддрдорд╛рди рдПрд╕рдбреАрдПрд╕ рдорд╛рдирджрдВрдбреЛрдВ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдмреЗрд╣рддрд░ рд╣реИ рдФрд░ рдореБрдЭреЗ рдЕрдзрд┐рдХ рдЖрд╢рд╛рдЬрдирдХ рд▓рдЧрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣ рдореЗрд░реА рд░рд╛рдп рд╣реИ, рдЖрдкрдХреЛ рдХреНрдпрд╛ рд▓рдЧрддрд╛ рд╣реИ? </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi430474/">https://habr.com/ru/post/hi430474/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi430462/index.html">рд░реВрд╕ рдореЗрдВ, рд╕реЛрд╢рд▓ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рдЕрд╕реАрдорд┐рдд рд▓реЛрдЧреЛрдВ рдХреЗ рдбреЗрдЯрд╛ рдХреЗ рдкреНрд░рд╛рд╡рдзрд╛рди рдкрд░ рдПрдХ рдмрд┐рд▓ рд╕рд╛рдордиреЗ рдЖрдпрд╛ рд╣реИред рдХреЗ рдЦрд┐рд▓рд╛рдл рд╕рд╛рдорд╛рдЬрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ</a></li>
<li><a href="../hi430466/index.html">рдорд┐рдиреА рдПрдЖрдИ рдХрдк # 3: рдЯреЙрдк рдмреЙрдЯ рд▓рд┐рдЦрдирд╛</a></li>
<li><a href="../hi430468/index.html">рдирд╛рдЧрд░рд┐рдХреЛрдВ рдХреА рдЬрд╛рдЧрд░реВрдХрддрд╛ рдмрдврд╝рд╛рдирд╛</a></li>
<li><a href="../hi430470/index.html">рдЧреНрд░рд╛рд╣рдХ рдЦрд╛рддреЗ рдкрд░ рд╕рдВрджрд░реНрдн рдХреНрдпреЛрдВ рдмрдирд╛рдП рд░рдЦреЗрдВ - рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ рдФрд░ рд▓рд╛рднрдкреНрд░рдж рд░реВрдк рд╕реЗ</a></li>
<li><a href="../hi430472/index.html">DIY рдирд┐рд░реНрдмрд╛рдз DECT рдиреЗрдЯрд╡рд░реНрдХ</a></li>
<li><a href="../hi430476/index.html">NCBI рдЬреАрдиреЛрдо рдХрд╛рд░реНрдпрдХреНрд╖реЗрддреНрд░: рд▓реБрдкреНрддрдкреНрд░рд╛рдп рдЕрдиреБрд╕рдВрдзрд╛рди</a></li>
<li><a href="../hi430478/index.html">рдХреНрд░рд┐рдкреНрдЯреЛрдХреНрдпреВрд░реЗрдВрд╕реА рдмрд╛рдЬрд╛рд░ рдХреЗ рд▓рд┐рдП рдЯреНрд░реЗрдбрд┐рдВрдЧ рдмреЙрдЯред рдХрд╣рд╛рдБ рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ?</a></li>
<li><a href="../hi430480/index.html">рдЬреИрд╕рд╛ рдХрд┐ рд╣рдордиреЗ рдирд╛рд╕рд╛ рд╕реНрдкреЗрд╕ рдРрдк рдЪреИрд▓реЗрдВрдЬ рд╣реИрдХрд╛рдереЙрди рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓рд┐рдЦрд╛ рдерд╛</a></li>
<li><a href="../hi430482/index.html">рдкреВрд░реНрд╡ рдФрд░ рдкрд╢реНрдЪрд┐рдо рдХреА рд╕рдВрд╕реНрдХреГрддрд┐ рдореЗрдВ рдХрд╡рдЪ рдкреНрд▓реЗрдЯреЛрдВ рдХрд╛ рд╡рд┐рд╖рдп</a></li>
<li><a href="../hi430484/index.html">рд╡рд┐рд╢рд┐рд╖реНрдЯ NGFW рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрд░рд┐рджреГрд╢реНрдп</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>