<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔷 😙 🌪️ Dynamisch aspektorientiert 🚵🏿 📫 🚌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eine Geschichte über ein bestimmtes Themenmodell, bei der viele gültige Feldwerte von den Werten anderer abhängen. 

 Herausforderung 
 Die Demontage ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dynamisch aspektorientiert</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472598/">  Eine Geschichte über ein bestimmtes Themenmodell, bei der viele gültige Feldwerte von den Werten anderer abhängen. <br><br><h3>  Herausforderung </h3><br>  Die Demontage ist anhand eines bestimmten Beispiels einfacher: Es ist erforderlich, Sensoren mit vielen Parametern zu konfigurieren, die Parameter hängen jedoch voneinander ab.  Beispielsweise hängt die Ansprechschwelle von der Art des Sensors, dem Modell und der Empfindlichkeit ab, und mögliche Modelle hängen von der Art des Sensors usw. ab. <br><a name="habracut"></a><br>  In unserem Beispiel nehmen wir nur den Sensortyp und seinen Wert (den Schwellenwert, bei dem er ausgelöst werden soll). <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Sensor</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Voltage, Temperature public SensorType Type { get; internal set; } //-400..400 for Voltage, 200..600 for Temperature public decimal Value { get; internal set; } }</span></span></code> </pre> <br>  Stellen Sie sicher, dass die Werte für Spannungs- und Temperatursensoren nur in den Bereichen -400..400 bzw. 200..600 liegen können.  Alle Änderungen können verfolgt und protokolliert werden. <br><br><h3>  Die "einfache" Lösung </h3><br>  Die einfachste Implementierung zur Aufrechterhaltung der Datenkonsistenz besteht darin, Einschränkungen und Abhängigkeiten in Setzern und Gettern manuell festzulegen: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Sensor</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SensorType _type; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> _value; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SensorType Type { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _type; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _type = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == SensorType.Temperature) Value = <span class="hljs-number"><span class="hljs-number">273</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == SensorType.Voltage) Value = <span class="hljs-number"><span class="hljs-number">0</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> Value { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _value; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Type == SensorType.Temperature &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &gt;= <span class="hljs-number"><span class="hljs-number">200</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &lt;= <span class="hljs-number"><span class="hljs-number">600</span></span> || Type == SensorType.Voltage &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &gt;= <span class="hljs-number"><span class="hljs-number">-400</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &lt;= <span class="hljs-number"><span class="hljs-number">400</span></span>) _value = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } }</code> </pre><br>  Eine Abhängigkeit generiert eine große Menge an Code, der schwer zu lesen ist.  Das Ändern von Bedingungen oder das Hinzufügen neuer Abhängigkeiten ist schwierig. <br><br><img src="https://habrastorage.org/webt/0u/sw/ba/0uswba-hojjbqtr9nes1dnfu6rw.png" alt="Bild"><br><br>  In einem realen Projekt hatten wir für solche Objekte mehr als 30 abhängige Felder und jeweils mehr als 200 Regeln.  Die beschriebene Lösung würde, obwohl sie funktioniert, große Kopfschmerzen bei der Entwicklung und Unterstützung eines solchen Systems verursachen. <br><br><h3>  "Ideal" aber unwirklich </h3><br>  Regeln lassen sich leicht in Kurzformen beschreiben und können neben den Feldern platziert werden, auf die sie sich beziehen.  Idealerweise: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Sensor</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SensorType Type { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Number(Type = SensorType.Temperature, Min = <span class="hljs-number"><span class="hljs-number">200</span></span>, Max = <span class="hljs-number"><span class="hljs-number">600</span></span>, Force = <span class="hljs-number"><span class="hljs-number">273</span></span>)] [Number(Type = SensorType.Voltage, Min = <span class="hljs-number"><span class="hljs-number">-400</span></span>, Max = <span class="hljs-number"><span class="hljs-number">400</span></span>, Force = <span class="hljs-number"><span class="hljs-number">0</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> Value { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br>  Force ist der Wert, der festgelegt werden soll, wenn sich die Bedingung ändert. <br><br>  Nur die C # -Syntax erlaubt das Schreiben in Attribute nicht, da die Liste der Felder, von denen die Zieleigenschaft abhängt, nicht vordefiniert ist. <br><br><h3>  Arbeitsansatz </h3><br>  Wir werden die Regeln wie folgt schreiben: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Sensor</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SensorType Type { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Number(<span class="hljs-string"><span class="hljs-string">"Type=Temperature"</span></span>, <span class="hljs-string"><span class="hljs-string">"200..600"</span></span>, Force = <span class="hljs-string"><span class="hljs-string">"273"</span></span>)] [Number(<span class="hljs-string"><span class="hljs-string">"Type=Voltage"</span></span>, <span class="hljs-string"><span class="hljs-string">"-400..400"</span></span>, Force = <span class="hljs-string"><span class="hljs-string">"0"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> Value { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br>  Es bleibt, damit es funktioniert.  Eine solche Klasse ist einfach nutzlos. <br><br><h3>  Dispatcher </h3><br>  Die Idee ist einfach: Schließen Sie die Setter und ändern Sie die Feldwerte über einen bestimmten Dispatcher, der alle Regeln versteht, deren Ausführung überwacht, über Feldänderungen benachrichtigt und alle Änderungen protokolliert. <br><br><img src="https://habrastorage.org/webt/db/gn/ac/dbgnac0xng2kq2gb0-tih_hhcqi.png" alt="Bild"><br><br>  Die Option funktioniert, aber der Code wird schrecklich aussehen: <br><br><pre> <code class="cs hljs">someDispatcher.Set(mySensor, <span class="hljs-string"><span class="hljs-string">"Type"</span></span>, SensorType.Voltage);</code> </pre><br>  Sie können den Dispatcher natürlich zu einem integralen Bestandteil von Objekten mit Abhängigkeiten machen: <br><br><pre> <code class="cs hljs">mySensor.Set(<span class="hljs-string"><span class="hljs-string">"Type"</span></span>, SensorType.Voltage)</code> </pre><br>  Aber meine Objekte werden von anderen Entwicklern verwendet und manchmal ist ihnen nicht ganz klar <s>,</s> warum das Schreiben so notwendig ist.  Immerhin möchte ich einfach schreiben: <br><br><pre> <code class="cs hljs">mySensor.Type=SensorType.Voltage;</code> </pre><br><h3>  Vererbung </h3><br>  Insbesondere haben wir in unserem Modell den Lebenszyklus von Objekten mit Abhängigkeiten selbst verwaltet - wir haben sie nur im Modell selbst erstellt und äußerlich nur ihre Bearbeitung bereitgestellt.  Daher werden wir alle Felder virtuell machen, die externe Schnittstelle des Modells unverändert lassen, aber es wird bereits mit Klassen von "Wrappern" funktionieren, die die Logik der Prüfungen implementieren. <br><br><img src="https://habrastorage.org/webt/p9/dq/an/p9dqanmzswgdce8vaz9emp1eqgc.png" alt="Bild"><br><br>  Dies ist eine ideale Option für einen externen Benutzer, der mit einem solchen Objekt auf die übliche Weise arbeitet <br><br><pre> <code class="cs hljs">mySensor.Type=SensorType.Voltage</code> </pre><br>  Es bleibt zu lernen, wie solche Wrapper erstellt werden <br><br><h3>  Klassengenerierung </h3><br>  Es gibt tatsächlich zwei Möglichkeiten zu generieren: <br><br><ul><li>  Generieren Sie vollständigen Attribut-basierten Code </li><li>  Generieren Sie vollständigen Code, der die Attributprüfung aufruft </li></ul><br>  Das Generieren von Code basierend auf Attributen ist definitiv cool und funktioniert schnell.  Aber wie viel wird es Kraft erfordern.  Und vor allem, wenn Sie neue Einschränkungen / Regeln hinzufügen müssen, wie viele Änderungen sind erforderlich und wie komplex? <br><br>  Wir generieren Standardcode für jeden Setter, der Methoden aufruft, die die Attribute analysieren und Überprüfungen durchführen. <br><br>  Wir werden Getter unverändert lassen: <br><br><pre> <code class="cs hljs">MethodBuilder getPropMthdBldr = typeBuilder.DefineMethod(<span class="hljs-string"><span class="hljs-string">"get_"</span></span> + property.Name, MethodAttributes.Public | MethodAttributes.SpecialName | MethodAttributes.HideBySig | MethodAttributes.Virtual, property.PropertyType, Type.EmptyTypes); ILGenerator getIl = getPropMthdBldr.GetILGenerator(); getIl.Emit(OpCodes.Ldarg_0); getIl.Emit(OpCodes.Call, property.GetMethod); getIl.Emit(OpCodes.Ret);</code> </pre><br>  Hier wird der erste Parameter, der zu unserer Methode kam, auf den Stapel verschoben. Dies ist eine Referenz auf das Objekt (this).  Dann wird der Getter der Basisklasse aufgerufen und das Ergebnis zurückgegeben, das oben auf dem Stapel abgelegt wird.  Das heißt,  Unser Getter leitet den Anruf einfach an die Basisklasse weiter. <br><br>  Setter ist etwas kniffliger.  Für die Analyse erstellen wir eine statische Methode, mit der die Analyse auf ungefähr folgende Weise erstellt wird: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StrongValidate(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, property, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = SoftValidate(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, property, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (oldValue != <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) { &lt;    <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>&gt;; ForceValidate(baseModel, property); Log(baseModel, property, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, oldValue); } }</code> </pre><br>  StrongValidate - verwirft Werte, die nicht in Werte konvertiert werden können, die den Regeln entsprechen.  Beispielsweise dürfen nur "y" und "n" in das Textfeld geschrieben werden.  Wenn Sie versuchen, "u" zu schreiben, müssen Sie nur die Änderungen ablehnen, damit das Modell nicht zerstört wird. <br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">String(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">""</span></span></span><span class="hljs-meta">, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"y, n"</span></span></span><span class="hljs-meta">)</span></span>]</code> </pre><br>  SoftValidate - konvertiert Werte von unangemessen in gültig.  Beispielsweise kann ein int-Feld nur Zahlen akzeptieren.  Wenn Sie versuchen, 111 zu schreiben, können Sie den Wert in den nächstgelegenen geeigneten Wert umwandeln - "9". <br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">Number(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">""</span></span></span><span class="hljs-meta">, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"0..9"</span></span></span><span class="hljs-meta">)</span></span>]</code> </pre><br>  &lt;Basis-Setter mit Wert aufrufen&gt; - Nachdem wir einen gültigen Wert erhalten haben, müssen Sie den Setter der Basisklasse aufrufen, um den Wert des Felds zu ändern. <br><br>  ForceValidate - Nach der Änderung können wir in den Feldern, die von unserem Feld abhängen, ein ungültiges Modell erhalten.  Wenn Sie beispielsweise den Typ ändern, ändert sich der Wert. <br><br>  Protokoll ist nur Benachrichtigung und Protokollierung. <br><br>  Um eine solche Methode aufzurufen, benötigen wir das Objekt selbst, seinen neuen und alten Wert und das Feld, das sich ändert.  Der Code für einen solchen Setter sieht folgendermaßen aus: <br><br><pre> <code class="cs hljs">MethodBuilder setPropMthdBldr = typeBuilder.DefineMethod(<span class="hljs-string"><span class="hljs-string">"set_"</span></span> + property.Name, MethodAttributes.Public | MethodAttributes.SpecialName | MethodAttributes.HideBySig | MethodAttributes.Virtual, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span>[] { property.PropertyType }); <span class="hljs-comment"><span class="hljs-comment">//  ,    var setter = typeof(DinamicWrapper).GetMethod("Setter", BindingFlags.Static | BindingFlags.Public); ILGenerator setIl = setPropMthdBldr.GetILGenerator(); setIl.Emit(OpCodes.Ldarg_0);//     - this setIl.Emit(OpCodes.Ldarg_1);//     -  setter    (value) if (property.PropertyType.IsValueType) //  Boxing,    Value,         object { setIl.Emit(OpCodes.Box, property.PropertyType); } setIl.Emit(OpCodes.Ldstr, property.Name); //     setIl.Emit(OpCodes.Call, setter); setIl.Emit(OpCodes.Ret);</span></span></code> </pre><br>  Wir benötigen eine andere Methode, die den Wert der Basisklasse direkt ändert.  Der Code ähnelt einem einfachen Getter, nur gibt es zwei Parameter - diesen und den Wert: <br><br><pre> <code class="cs hljs">MethodBuilder setPureMthdBldr = typeBuilder.DefineMethod(<span class="hljs-string"><span class="hljs-string">"set_Pure_"</span></span> + property.Name, MethodAttributes.Public, CallingConventions.Standard, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span>[] { property.PropertyType }); ILGenerator setPureIl = setPureMthdBldr.GetILGenerator(); setPureIl.Emit(OpCodes.Ldarg_0); setPureIl.Emit(OpCodes.Ldarg_1); setPureIl.Emit(OpCodes.Call, property.GetSetMethod()); setPureIl.Emit(OpCodes.Ret);</code> </pre><br>  Alle Codes mit kleinen Tests finden Sie hier: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com/wolf-off/DinamicAspect</a> <br><br><h3>  Validierungen </h3><br>  Die Codes der Validierungen selbst sind einfach - sie suchen nur nach dem aktuell aktiven Attribut nach dem Prinzip der längsten Bedingung und fragen ihn, ob der neue Wert gültig ist.  Sie müssen bei der Auswahl von Regeln nur zwei Dinge berücksichtigen (sie analysieren und die entsprechenden berechnen): <br><br><ul><li>  Zwischenspeichern Sie das Ergebnis von GetCustomAttributes.  Eine Funktion, die Attribute aus Feldern entnimmt, arbeitet langsam, da sie jedes Mal erstellt werden.  Zwischenspeichern Sie das Ergebnis.  Ich habe in der Basisklasse BaseModel implementiert </li><li>  Bei der Berechnung der entsprechenden Regeln müssen Sie sich mit Feldtypen befassen.  Wenn alle Werte auf Zeichenfolgen reduziert und verglichen werden, funktioniert dies langsam.  Besonders enum.  Implementiert in der DependencyAttribute-Basisattributklasse </li></ul><br><h3>  Fazit </h3><br>  Was ist der Vorteil dieses Ansatzes? <br><br>  Und das nach dem Erstellen des Objekts: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> target = DinamicWrapper.Create&lt;Sensor&gt;();</code> </pre><br>  Es kann wie gewohnt verwendet werden, verhält sich jedoch wie folgt: <br><br><pre> <code class="cs hljs">target.Type = SensorType.Temperature; target.Value=<span class="hljs-number"><span class="hljs-number">300</span></span>; Assert.AreEqual(target.Value, <span class="hljs-number"><span class="hljs-number">300</span></span>); <span class="hljs-comment"><span class="hljs-comment">// true target.Value=3; Assert.AreEqual(target.Value, 200); // true - minimum target.Value=3000; Assert.AreEqual(target.Value, 600); // true - maximum target.Type = SensorType.Voltage; Assert.AreEqual(target.Value, 0); // true - minimum target.Value= 3000; Assert.AreEqual(target.Value, 400); // true - maximum</span></span></code> </pre></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de472598/">https://habr.com/ru/post/de472598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de472582/index.html">Internet-Geschichte: Computer als Kommunikationsgerät</a></li>
<li><a href="../de472586/index.html">Lautsprecheranalyse: Was ist drin und wie funktioniert es?</a></li>
<li><a href="../de472588/index.html">Alles, was Sie über das Rückwärtspendel wissen wollten</a></li>
<li><a href="../de472590/index.html">Auswahl eines mobilen Entwicklers in 5 Schritten: Look des IT-Unternehmens</a></li>
<li><a href="../de472596/index.html">Wie erstelle ich Videos für Spiele? Praktische Tipps und hilfreiche Richtlinien</a></li>
<li><a href="../de472600/index.html">Einführung in Git</a></li>
<li><a href="../de472602/index.html">Wie man die Meetings nicht blamiert oder der Entwickler den Entwicklern das Sprechen beibringt. Interview mit Alexander Shushunov</a></li>
<li><a href="../de472604/index.html">Offenes Webinar „Fließende Validierung als Datenvalidierungswerkzeug“</a></li>
<li><a href="../de472606/index.html">Wir verpacken den gesamten Betriebssystemverkehr in Tor</a></li>
<li><a href="../de472610/index.html">Welche HTML-Elemente sind gefragter: Analyse von 8 Millionen Seiten aus SEO-Sicht</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>