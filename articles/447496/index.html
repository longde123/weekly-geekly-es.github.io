<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçæ üë©üèΩ‚Äçüî¨ üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø Gesti√≥n de frambuesa a trav√©s de websockets üë®üèª‚Äç‚úàÔ∏è „Ä∞Ô∏è üßï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La Raspberry Pi ha ganado una inmensa popularidad en todo el mundo. Sin embargo, muchos de los desarrolladores aficionados se enfrentan al problema de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gesti√≥n de frambuesa a trav√©s de websockets</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447496/">  La Raspberry Pi ha ganado una inmensa popularidad en todo el mundo.  Sin embargo, muchos de los desarrolladores aficionados se enfrentan al problema de acceder al dispositivo desde Internet.  Como regla general, debe conjurar con DDNS o comprar una direcci√≥n IP est√°tica.  Ambas opciones implican configurar un enrutador, que no es para todos y no siempre est√° disponible.  Adem√°s, la apertura del acceso directo al dispositivo desde Internet conlleva ciertos riesgos de seguridad. <br><br>  Una forma extremadamente com√∫n de resolver este problema es utilizar un servidor intermedio a trav√©s del cual el servidor y el cliente se conectan entre s√≠. <br>  El esquema es extremadamente utilizado en varios paquetes de acceso remoto: VNCViewer, AmmyyAdmin, etc. <br><br>  <i>Opci√≥n 1-DDNS</i> <br><br><img src="https://habrastorage.org/webt/cv/ju/qr/cvjuqrf0_4bxj0um-amarub3aug.png" alt="imagen"><br><br>  <i>Opci√≥n 2 - Direcci√≥n IP est√°tica</i> <br><br><img src="https://habrastorage.org/webt/b5/rj/eh/b5rjehu2wfyerallt_sxzzavjo4.png" alt="imagen"><br><br>  <i>Opci√≥n 3: usar un servidor intermedio</i> <br><br><img src="https://habrastorage.org/webt/zf/hu/rg/zfhurg4_uqo82vfkyr1akj03q9k.png" alt="imagen"><br><br>  Este esquema de conexi√≥n se puede implementar a trav√©s del protocolo MQTT sobre Websockets, pero fue interesante para m√≠ implementar algo mucho m√°s simple, orientado a JSON, extensible, sin restricciones de protocolo en el tama√±o del mensaje y con un modelo de seguridad m√°s obvio. <br><a name="habracut"></a><br>  La elecci√≥n del protocolo fue obvia.  WebSocket ha sido respaldado por los navegadores y la mayor√≠a de las plataformas y lenguajes de programaci√≥n. <br><br>  El modelo de bus de datos es trivial: <br><br>  WebSocket Server admite una cantidad ilimitada de canales.  Cada canal puede estar abierto o protegido con contrase√±a.  Un canal existe solo mientras tiene al menos un cliente conectado.  No hay datos almacenados fundamentalmente en el servidor.  La contrase√±a la establece el primer cliente que se conecta al canal.  Los clientes sin contrase√±a / con una contrase√±a incorrecta no podr√°n ingresar al canal. <br><br>  Un canal es un contenedor de mensajes.  Los mensajes son de tres tipos: mensajes de direcci√≥n (comandos), que est√°n destinados a uno o varios destinatarios, mensajes de respuesta y mensajes de difusi√≥n que ser√°n recibidos por todos los clientes conectados al canal. <br><br><img src="https://habrastorage.org/webt/oz/4h/ez/oz4hez8fjzbpgbl-rc4_6l4ea5w.png" alt="imagen"><br><br>  Tal esquema permite el uso de centros comunes para muchos consumidores de manera relativamente segura ya que  no hay necesidad de configuraciones, generaci√≥n de usuarios en el servidor (como en MQTT), generaci√≥n de claves de acceso, etc. <br><br>  Los mensajes no se guardan en ninguna parte, no se registran y transmiten a trav√©s del protocolo seguro wss. <br>  Los mensajes son objetos JSON escritos a m√°quina.  La informaci√≥n binaria se transmite como una cadena codificada en Base64. <br><br>  El c√≥digo del proyecto est√° disponible en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> y el centro actual que puede encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br>  El proyecto consiste en un servidor WebSocket en .net, una aplicaci√≥n de cliente web que se conecta al servidor y una aplicaci√≥n python para raspberry pi. <br><br>  Una aplicaci√≥n web est√° lejos de ser la √∫nica forma posible de interactuar con un servidor websocket.  Por ejemplo, puede escribir f√°cilmente un cliente en la nube que "escuchar√°" los eventos de la c√°mara web y guardar√° im√°genes en alg√∫n tipo de almacenamiento en la nube. <br><br>  La arquitectura le permite conectar un n√∫mero ilimitado de raspberry pi y clientes por canal. <br>  Por ejemplo, si desea construir alg√∫n tipo de sistema de seguridad / control clim√°tico / hogar inteligente, puede poner toda la frambuesa en un canal y enviar comandos a todas o algunas instancias a la vez. <br><br>  Los eventos de transmisi√≥n "transmisi√≥n" recibir√°n a todos los participantes de la red. <br><br><h3>  Algunas palabras sobre las caracter√≠sticas de la aplicaci√≥n. </h3><br><ol><li>  Acceso remoto al sistema de archivos.  Puede ver, descargar y cargar im√°genes, archivos de sonido y otros archivos.  Es bastante conveniente no llevar todo su archivo de fotos de varios terabytes en su tel√©fono.  Bueno, o si necesitas buscar algo en los archivos. </li><li>  PiCamera le permite recibir una imagen bajo demanda y en modo c√°mara web.  Junto con la recepci√≥n de sonido de un micr√≥fono, se puede usar como una soluci√≥n de seguridad barata.  Requiere una c√°mara pi conectada. </li><li>  Env√≠e grabaciones de sonido a frambuesa o reciba grabaciones de un micr√≥fono.  Se puede usar tanto para algunas tareas de seguridad como para la interacci√≥n de voz con gatos o ni√±os.  Requiere conexi√≥n a un televisor / altavoz y micr√≥fono, respectivamente. </li><li>  Enciende / apaga / consigue el foco del televisor.  El protocolo CEC le permite controlar su televisor mediante un cable HDMI.  Debe instalar cec-client en frambuesa. </li><li>  Muestra informaci√≥n de audio y texto en el televisor.  Esta funci√≥n incluye encender y recibir el foco en el televisor y mostrar un mensaje de texto, acompa√±ado de una se√±al de sonido.  Es conveniente si necesita forzar de forma remota a los ni√±os a hacer la tarea. </li><li>  Visualizaci√≥n remota de im√°genes.  Si desea sorprender a su familia y mostrar de repente una foto de sus aventuras en un televisor familiar, entonces esta funci√≥n es solo para eso.  Seleccione cualquier imagen de su PC o tel√©fono y env√≠ela a raspberry. </li><li>  Obtenci√≥n de datos sobre humedad, temperatura.  Raspberry env√≠a un mensaje de difusi√≥n con una periodicidad especificada.  Adem√°s de la humedad y la temperatura, el mensaje contiene informaci√≥n sobre la temperatura y la carga del procesador, el disco y la carga de memoria.  Juntos, el control remoto del puerto de E / S se puede usar como control remoto del clima interior.  Se requiere un sensor de temperatura DHT11 ($ 1) para medir la temperatura. </li><li>  Administrar puertos de E / S  Permite leer informaci√≥n de los puertos GPIO seleccionados y enviarles una se√±al.  Puede obtener el estado de los interruptores, bombillas, timbres y, a trav√©s del control del rel√©, algunos dispositivos m√°s serios. </li><li>  El inicio remoto de comandos permite ejecutar cualquier comando de shell en frambuesa.  Por ejemplo, comience a ver un √°lbum de fotos o una pel√≠cula.  Si tal oportunidad le parece insegura, esta funci√≥n se puede deshabilitar. </li></ol><br><br><img src="https://habrastorage.org/webt/zx/ir/hu/zxirhu07adcsei6kqxly7fkwuzs.gif" alt="imagen"><br>  Continuar√° ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/447496/">https://habr.com/ru/post/447496/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../447480/index.html">D√≠a de la Cosmon√°utica 2019: eventos por ciudad</a></li>
<li><a href="../447482/index.html">Escuela de derecho cibern√©tico. Ley digital intensiva de 5 d√≠as</a></li>
<li><a href="../447488/index.html">Romper una grieta simple con Ghidra - Parte 2</a></li>
<li><a href="../447490/index.html">C√≥mo mejorar tu estilo de escritura en ingl√©s: 5 consejos</a></li>
<li><a href="../447494/index.html">Sostenibilidad GAN Learning (Profundizando m√°s)</a></li>
<li><a href="../447498/index.html">Reportaje fotogr√°fico de JPoint 2019 + anuncio de Joker 2019 en San Petersburgo</a></li>
<li><a href="../447500/index.html">Por qu√© los operadores se asustaron con eSIM</a></li>
<li><a href="../447502/index.html">C√≥mo crear un curr√≠culum para empresas extranjeras</a></li>
<li><a href="../447508/index.html">Sergey Zonov: "Hice el primer Spectrum porque estaba interesado"</a></li>
<li><a href="../447510/index.html">GeekUniversity abre la inscripci√≥n en el departamento de dise√±o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>