<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¼ğŸ» ğŸ—ï¸ ğŸ¤¸ğŸ¿ åœ¨JetBrainså®ä¹ ï¼Œä»¥åŠæˆ‘å‡ ä¹å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ¤¸ â˜®ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åƒè®¸å¤šå¹´è½»çš„å¼€å‘äººå‘˜ä¸€æ ·ï¼Œå½“å¸Œæœ›æ‰¾åˆ°å·¥ä½œ/å®ä¹ æ—¶ï¼Œæˆ‘æœç€å‡‰çˆ½çš„ITå…¬å¸å‘å±•ã€‚ 

 æœ€è¿‘ï¼Œæˆ‘è¯•å›¾åŠ å…¥JetBrainsçš„è¡Œåˆ—ï¼Œåœ¨å‰Šå‡é¢„ç®—çš„æƒ…å†µä¸‹ï¼Œæˆ‘å‡†å¤‡åˆ†äº«æˆ‘çš„ç»éªŒã€‚ 

 ä¸ºä»€ä¹ˆâ€œå‡ ä¹â€æˆåŠŸï¼Ÿ 
 å½“ç„¶ï¼Œæ‚¨ç«‹å³ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ã€‚ 

 æˆ‘è®¤ä¸ºï¼Œæˆ‘çš„ç®€å†ä¸é”™ï¼Œå¹¶å–å¾—äº†å¾ˆå¤šæˆå°±å’ŒæŠ€èƒ½ï¼Œè¿‡å»å…«åˆ°ä¹å¹´é—´æˆ‘...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åœ¨JetBrainså®ä¹ ï¼Œä»¥åŠæˆ‘å‡ ä¹å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454354/"><img src="https://habrastorage.org/getpro/habr/post_images/d42/5b8/da4/d425b8da4aec5f7359e39503e9f1d700.jpg" alt="å›¾ç‰‡"><br><br> åƒè®¸å¤šå¹´è½»çš„å¼€å‘äººå‘˜ä¸€æ ·ï¼Œå½“å¸Œæœ›æ‰¾åˆ°å·¥ä½œ/å®ä¹ æ—¶ï¼Œæˆ‘æœç€å‡‰çˆ½çš„ITå…¬å¸å‘å±•ã€‚ <br><br> æœ€è¿‘ï¼Œæˆ‘è¯•å›¾åŠ å…¥JetBrainsçš„è¡Œåˆ—ï¼Œåœ¨å‰Šå‡é¢„ç®—çš„æƒ…å†µä¸‹ï¼Œæˆ‘å‡†å¤‡åˆ†äº«æˆ‘çš„ç»éªŒã€‚ <br><a name="habracut"></a><br><h3> ä¸ºä»€ä¹ˆâ€œå‡ ä¹â€æˆåŠŸï¼Ÿ </h3><br> å½“ç„¶ï¼Œæ‚¨ç«‹å³ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ã€‚ <br><br> æˆ‘è®¤ä¸ºï¼Œæˆ‘çš„ç®€å†ä¸é”™ï¼Œå¹¶å–å¾—äº†å¾ˆå¤šæˆå°±å’ŒæŠ€èƒ½ï¼Œè¿‡å»å…«åˆ°ä¹å¹´é—´æˆ‘ä¸€ç›´åœ¨ä¸æ–­æé«˜è‡ªå·±çš„æ°´å¹³ã€‚ <br><br> æˆ‘å®Œæˆäº†æµ‹è¯•ä»»åŠ¡ï¼ˆå¯¹æˆ‘æ¥è¯´ä¼¼ä¹å¾ˆå¥½ï¼‰ï¼Œä¹‹å‰è®¿é—®äº†ä½äºæˆ‘å¸‚çš„JBåŠå…¬å®¤ï¼Œä¸HHå’Œå…¬å¸çš„ä¸€äº›å¼€å‘å•†è¿›è¡Œäº†äº¤è°ˆï¼Œç»“æœè¢«æ‹’ç»äº†å®ä¹ è€ŒæœªåŠ ä»»ä½•è¯„è®ºã€‚ <br><br> åŸå› å¾ˆå¯èƒ½æ˜¯å› ä¸ºJetBrainsä¸“é—¨é€‰æ‹©å­¦ç”Ÿè¿›è¡Œå®ä¹ ï¼Œè€Œç°åœ¨æˆ‘åˆšåˆšä»11å¹´çº§æ¯•ä¸šï¼Œå¹¶ä¸”ä¸€æ¬¡åˆä¸€æ¬¡åœ°é€šè¿‡äº†è€ƒè¯•ã€‚ <br><br> å¥½å§ï¼Œè¿™æ˜¯æ•´æ•´ä¸€å¹´è®©è‡ªå·±æŒ¯ä½œèµ·æ¥å¹¶ç”³è¯·ä¸‹ä¸€å¹´çš„æœºä¼šã€‚ <br><br><h3> æµ‹è¯•ä»»åŠ¡åˆ†æ </h3><br> æäº¤å®ä¹ ç”³è¯·å’Œæµ‹è¯•æµ‹è¯•ä½œä¸šçš„æˆªæ­¢æ—¥æœŸå·²ç»ç»“æŸï¼Œè¿™æ„å‘³ç€åŒ…æ‹¬æˆ‘åœ¨å†…çš„æ‰€æœ‰è§£å†³æ–¹æ¡ˆçš„äººéƒ½å¯ä»¥å‘å¸ƒå¯¹è¿™äº›ä½œä¸šçš„åˆ†æï¼Œä»¥ä¾¿æ˜å¹´ä»»ä½•æ„Ÿå…´è¶£çš„å­¦ç”Ÿéƒ½å¯ä»¥åœ¨å¼€å§‹å®ä¹ ä¹‹å‰äº†è§£å¤§è‡´çš„ä½œä¸šæ°´å¹³ã€‚ä»–å°†ä¸å¾—ä¸é¢å¯¹çš„é—®é¢˜ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»–çš„çŸ¥è¯†å°†å¾—ä»¥å‘å±•ã€‚ <br><br> æˆ‘å‘Corotinè°ƒè¯•å™¨å¼€å‘å›¢é˜Ÿç”³è¯·äº†Kotlinçš„å®ä¹ æœºä¼šã€‚ <br><br> è¿™ä¸ªå›¢é˜Ÿçš„å®ä¹ æœŸæ˜¯åœ¨ä»Šå¹´å®ä¹ çš„è¿™ä¸ªå›¢é˜Ÿä¸­ï¼Œæœ€ç»ˆç¡®å®šè°ƒè¯•å™¨çš„è¿™ä¸€éƒ¨åˆ†åŠå…¶ä¸IDEçš„é›†æˆã€‚ <br><br> è¿™é¡¹ä»»åŠ¡æœ‰äº›ä»¤äººæœŸå¾…-ä¸ºå°å‹PLç¼–å†™è°ƒè¯•å™¨ã€‚ <br><br> æˆ‘ä¸ä¼šè¯´è¿™å¾ˆå¤æ‚ï¼Œç›¸åã€‚ å®ƒä¸éœ€è¦ä»»ä½•æœ‰å…³æ„å»ºç¿»è¯‘å™¨ç†è®ºçš„çŸ¥è¯†å’Œå¾ˆé…·çš„æŠ€èƒ½ã€‚ ä½†æ˜¯ï¼Œå°½ç®¡å¦‚æ­¤ï¼Œé‚£äº›åœ¨è¿™æ–¹é¢ç”³è¯·å®ä¹ çš„äººè‡³å°‘åº”è¯¥å…·å¤‡è¿™äº›åŸºæœ¬çŸ¥è¯†ï¼Œå¹¶ä¸”å¯ä»¥æ¯«æ— å›°éš¾åœ°åº”å¯¹è¿™é¡¹ä»»åŠ¡ã€‚ å½“æˆ‘å†³å®šåœ¨githubä¸Šæœç´¢æˆ‘çš„â€œç«äº‰å¯¹æ‰‹â€è§£å†³æ–¹æ¡ˆçš„å…³é”®å­—æ—¶ï¼Œæˆ‘æ„Ÿåˆ°æƒŠè®¶ï¼Œå¹¶åœ¨å¤§çº¦6-7ä¸ªç©ºå­˜å‚¨åº“æˆ–å‡ æ®µä»£ç ä¸­å‘ç°äº†1-2ç§æˆ–å¤šæˆ–å°‘æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œä¹‹åäººä»¬æ”¾å¼ƒäº†ã€‚ ä¹Ÿè®¸æˆ‘çœ‹ä¸Šå»å¾ˆç³Ÿï¼Œä½†æ˜¯ç»“æœä»ç„¶ä¸ä»¤äººæ»¡æ„ã€‚ å¦‚æœæ”¾å¼ƒæ­¤ä»»åŠ¡çš„äººå¯ä»¥é˜…è¯»è¿™ç¯‡æ–‡ç« -ä»¥åå°±ä¸éœ€è¦è¿™æ ·åšã€‚ åœ¨ä¸€ä¸ªæç«¯çš„æƒ…å†µä¸‹ï¼Œåœ¨ä»»åŠ¡ä¸Šåä¸Šå‡ å¤©å°±è¶³å¤Ÿäº†ï¼Œæˆ‘ç›¸ä¿¡æ‚¨ä¼šå¤„ç†çš„ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ä»»åŠ¡æœ¬èº«çš„æ–‡å­—</b> <div class="spoiler_text"> ç›®æ ‡ï¼šä¸ºæ™®é€šç¼–ç¨‹è¯­è¨€Guuå®æ–½åˆ†æ­¥ä»£ç æ‰§è¡Œã€‚ <br><br> æ³¨æ„ï¼šåœ¨ä»¥ä¸‹æè¿°ä¸­ï¼Œæœ‰æ„çœç•¥äº†ä¸€äº›è¦ç‚¹ã€‚ é€šå¸¸ï¼Œå®ƒä»¬ç”±æ‚¨è‡ªè¡Œå†³å®šã€‚ å¦‚æœå®Œå…¨æ— æ³•ç†è§£ï¼Œè¯·å†™ä¿¡ç»™ï¼ˆè¿™æ˜¯æˆ‘å†³å®šåˆ é™¤çš„é‚®ä»¶ï¼‰ã€‚ <br><br>  Guuç¨‹åºç”±ä¸€ç»„è¿‡ç¨‹ç»„æˆã€‚ æ¯ä¸ªè¿‡ç¨‹éƒ½ä»¥å­è¡Œï¼ˆå­åï¼‰å¼€å¤´ï¼Œå¹¶ä»¥å¦ä¸€ä¸ªè¿‡ç¨‹çš„å£°æ˜ç»“å°¾ï¼ˆå¦‚æœæ–‡ä»¶ä¸­çš„è¿‡ç¨‹æ˜¯æœ€åä¸€ä¸ªï¼Œåˆ™ä»¥æ–‡ä»¶ç»“å°¾ï¼‰ã€‚ æ‰§è¡Œä»sub mainå¼€å§‹ã€‚ <br><br> è¿‡ç¨‹çš„ä¸»ä½“æ˜¯ä¸€ç»„æŒ‡ä»¤ï¼Œæ¯æ¡æŒ‡ä»¤ä½äºå•ç‹¬çš„è¡Œä¸Šã€‚ åœ¨è¡Œçš„å¼€å¤´å¯èƒ½ä¼šå‡ºç°æ— å…³ç´§è¦çš„åˆ¶è¡¨ç¬¦æˆ–ç©ºæ ¼ã€‚ ç©ºè¡Œå°†è¢«å¿½ç•¥ã€‚ æ²¡æœ‰å…³äºGuuçš„è¯„è®ºã€‚ <br><br>  Guuåªæœ‰ä¸‰ä¸ªè¿ç®—ç¬¦ï¼š-è®¾ç½®ï¼ˆå˜é‡åï¼‰ï¼ˆæ–°å€¼ï¼‰-ä¸ºå˜é‡è®¾ç½®æ–°çš„æ•´æ•°å€¼ã€‚  -è°ƒç”¨ï¼ˆå­åç§°ï¼‰-è°ƒç”¨è¿‡ç¨‹ã€‚ è°ƒç”¨å¯ä»¥æ˜¯é€’å½’çš„ã€‚  -æ‰“å°ï¼ˆå˜é‡åï¼‰-åœ¨å±å¹•ä¸Šæ‰“å°å˜é‡çš„å€¼ã€‚ <br><br>  Guuä¸­çš„å˜é‡å…·æœ‰å…¨å±€èŒƒå›´ã€‚ ä¸‹é¢çš„ç¨‹åºå°†æ˜¾ç¤ºa = 2è¡Œã€‚ <br><br> æ¬¡ä¸» <br> è®¾ç½®1 <br> å«foo <br> æ‰“å°ä¸€ä¸ª <br><br> å­å¯Œ <br> è®¾ç½®ä¸€ä¸ª2 <br><br> è¿™æ˜¯å…·æœ‰æ— é™é€’å½’çš„æœ€ç®€å•çš„ç¨‹åºï¼š <br><br> æ¬¡ä¸» <br> è‡´ç”µä¸»è¦ <br><br> æ‚¨éœ€è¦ä¸ºGuuç¼–å†™é€æ­¥çš„è§£é‡Šå™¨ã€‚ å¯åŠ¨æ—¶ï¼Œè°ƒè¯•å™¨åº”åœ¨sub mainä¸­çš„ç¬¬ä¸€æ¡æŒ‡ä»¤æ‰€åœ¨çš„è¡Œä¸Šåœæ­¢ï¼Œå¹¶ç­‰å¾…ç”¨æˆ·çš„å‘½ä»¤ã€‚ æ‰€éœ€çš„æœ€å°‘è°ƒè¯•å™¨å‘½ä»¤é›†ï¼š <br><br> æˆ‘-è¿›å…¥è°ƒè¯•å™¨ï¼Œè¿›å…¥å†…éƒ¨è°ƒç”¨ï¼ˆå­åç§°ï¼‰ã€‚ <br>  o-å•æ­¥æ‰§è¡Œï¼Œè°ƒè¯•å™¨ä¸ä¼šè¿›å…¥è°ƒç”¨å†…éƒ¨ã€‚ <br>  trace-ä»ä¸»è¡Œå¼€å§‹ä»¥è¡Œå·æ‰“å°å †æ ˆè·Ÿè¸ªæ‰§è¡Œ... <br>  var-æ˜¾ç¤ºæ‰€æœ‰å·²å£°æ˜å˜é‡çš„å€¼ã€‚ <br><br> ç”¨æˆ·ä¸è°ƒè¯•å™¨çš„é€šä¿¡æ ¼å¼ç”±ä¸Šè¿°è‡ªç”±å†³å®šã€‚ æ‚¨å¯ä»¥é€‰æ‹©ç®€çº¦çš„ç±»ä¼¼GDBçš„ç•Œé¢ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ§åˆ¶å°æˆ–å›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚ å¦‚æœéœ€è¦ï¼Œå¯ä»¥æ›´æ”¹è°ƒè¯•å™¨å‘½ä»¤çš„åç§°ã€‚ <br><br> è¦è§£å†³æ­¤é—®é¢˜ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨TIOBE TOP 50ä¸­çš„ä»»ä½•ç¼–ç¨‹è¯­è¨€å’Œå¼€æ”¾æºä»£ç ç¼–è¯‘å™¨/è§£é‡Šå™¨ã€‚ <br><br> åœ¨è¯„ä¼°å·¥ä½œæ—¶å°†è¢«è¯„ä¼°ï¼š <br><br> æ–¹æ¡ˆçš„æ•´ä½“è¡¨ç°ï¼› <br> æºä»£ç çš„è´¨é‡å’Œæµ‹è¯•çš„å¯ç”¨æ€§ï¼› <br> æ˜“äºæ‰©å±•çš„åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œæ”¯æŒæ–°çš„è¯­è¨€è¯­å¥æˆ–è°ƒè¯•å™¨æŒ‡ä»¤ï¼‰ã€‚ <br> å¸¦æœ‰æ„å»ºè¯´æ˜çš„è§£å†³æ–¹æ¡ˆå¿…é¡»å‘å¸ƒåˆ°Gitå­˜å‚¨åº“ä¸­ï¼ˆä¾‹å¦‚ï¼Œåœ¨GitHubæˆ–BitBucketä¸Šï¼‰ã€‚ åœ¨å“åº”ä¸­ï¼Œæ‚¨éœ€è¦æŒ‡å®šåˆ°å­˜å‚¨åº“çš„é“¾æ¥ã€‚ æŒ‡å‘ç§æœ‰GitHubå­˜å‚¨åº“çš„é“¾æ¥ä¹Ÿæ˜¯åˆé€‚çš„ï¼Œåªæœ‰æ‚¨éœ€è¦å°†æˆ‘æ·»åŠ åˆ°å…¶ä¸­ã€‚ <br></div></div><br> æˆ‘ç”¨C ++ï¼ŒJavaå’Œå¯¹è±¡Pascalç¼–å†™ã€‚ <br><br> æœ€åˆï¼Œæˆ‘æœ‰æƒ³æ³•å°†æ‰€æœ‰å†…å®¹éƒ½å†™åœ¨åŒä¸€MPSä¸­ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºæ£€æŸ¥JBå‘˜å·¥å¹¶ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œå› æ­¤æˆ‘åœ¨æäº¤ç»“æŸå‰ä¸¤å¤©æäº¤äº†ç”³è¯·ï¼ˆæ‰€æœ‰è€ƒè¯•å‡ç›¸åŒ...ï¼‰ï¼Œå¹¶ä¸”çª—å¤–å·²ç»æ˜¯å‚æ™šäº†-æˆ‘å†³å®šç”¨æ›´çŸ¥åçš„è¯­è¨€å¿«é€Ÿç¼–å†™æ‰€æœ‰å†…å®¹ã€‚ <br><br> åœ¨æˆ‘çœ‹æ¥ï¼Œè‡³å°‘ç”±äºæœ€æ–¹ä¾¿çš„å­—ç¬¦ä¸²å®ç°ï¼ŒPascalæœ€é€‚åˆè§£å†³é—®é¢˜ã€‚ <br><br> è‡³å°‘å¯¹æˆ‘æ¥è¯´ã€‚ å¦å¤–ï¼Œå®ƒåœ¨TIOBE TOP 50ä¸­ï¼Œæ‰€ä»¥æˆ‘å¤§èƒ†åœ°å¯åŠ¨äº†IDEï¼Œå³Lazarusï¼Œå› ä¸º ä»–ä¸æ˜¯å•†ä¸šäººå£«:)å¹¶ç€æ‰‹è§£å†³é—®é¢˜ã€‚ <br><br> å°½ç®¡ä»–ä»¬ç»™äº†JBå¤šè¾¾7å¤©çš„æ—¶é—´ï¼Œä½†æˆ‘è¿˜æ˜¯èŠ±äº†ä¸€ä¸ªå°æ—¶æ‰èƒ½å®Œæˆè¯¥é¡¹ç›®ï¼Œç»“æœè¯¥é¡¹ç›®å¤§çº¦éœ€è¦500è¡Œä»£ç ã€‚ <br><br><h3> ä»å“ªé‡Œå¼€å§‹ï¼Ÿ </h3><br> é¦–å…ˆï¼Œæ‚¨éœ€è¦æƒ³è±¡æœ€åå¦‚ä½•è¿›è¡Œä»£ç è°ƒè¯•ã€‚ <br><br> æˆ‘ä»¬éœ€è¦å®ç°åˆ†æ­¥æ‰§è¡Œä»£ç -è¿™æ„å‘³ç€æ¯æ¡æŒ‡ä»¤åº”ä»¥ç»“æ„/ç±»çš„å½¢å¼å‘ˆç°ï¼Œå¹¶ä¸”ä¸€èˆ¬è€Œè¨€ï¼Œè¿™äº›æŒ‡ä»¤åº”çœ‹èµ·æ¥åƒè¿™äº›ç±»çš„åˆ—è¡¨ï¼Œæˆ–è€…åœ¨æˆ‘çš„å®ç°ä¸­ï¼Œå½¼æ­¤å‚ç…§å½¢æˆä¸€ä¸ªåºåˆ—ï¼ˆæˆ‘ä¼šè®°ä¸‹ä»¥åä¸ºä»€ä¹ˆè¦åšï¼‰ã€‚ <br><br> è¦è·å¾—æ­¤åºåˆ—ï¼Œæˆ‘ä»¬çš„è°ƒè¯•å™¨éœ€è¦ä½¿ç”¨å»ºè®®çš„è¯­è¨€å¤„ç†ä»£ç ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬è¿˜éœ€è¦å®ç°ä¸€ä¸ªå°çš„è§£æå™¨ä»¥åŠä»£ç çš„è¯­æ³•å’Œè¯­ä¹‰åˆ†æã€‚ <br><br> è®©æˆ‘ä»¬ä»è§£æå™¨çš„å®ç°å¼€å§‹ã€‚ å› ä¸º ç”±äºGuuè¯­è¨€ç”±ä¸€ç»„ç”±ç©ºæ ¼åˆ†éš”çš„æ ‡è®°ç»„æˆï¼Œå› æ­¤é¦–å…ˆç¼–å†™ä¸€ä¸ªå°å‹ä¸”ç®€å•çš„æ ‡è®°å™¨æ˜¯åˆä¹é€»è¾‘çš„ï¼š <br><br><pre><code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetToken</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">; tokenNum: word)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> p: word; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> s := Trim(s); s := StringReplace(s, <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>, [rfReplaceAll]); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> tokenNum &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> p := Pos(<span class="hljs-string"><span class="hljs-string">' '</span></span>, s); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> p &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> Delete(s, <span class="hljs-number"><span class="hljs-number">1</span></span>, p) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> s := <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; dec(tokenNum); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; p := Pos(<span class="hljs-string"><span class="hljs-string">' '</span></span>, s); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> p &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> Delete(s, p, Length(s)); Result := s; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br> æ¥ä¸‹æ¥ï¼Œä»ä»¤ç‰Œå£°æ˜æšä¸¾ï¼š <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> TGuuToken = (opSub, opSet, opCall, opPrint, opUnknown); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> GuuToken: <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>[opSub..opPrint] <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> = ( <span class="hljs-string"><span class="hljs-string">'sub'</span></span>, <span class="hljs-string"><span class="hljs-string">'set'</span></span>, <span class="hljs-string"><span class="hljs-string">'call'</span></span>, <span class="hljs-string"><span class="hljs-string">'print'</span></span> );</code> </pre><br> è¿˜æœ‰æŒ‡ä»¤ç±»æœ¬èº«ï¼Œæˆ‘ä»¬å°†åœ¨å…¶ä¸­è§£æä»£ç è¡Œï¼š <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> TGuuOp = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> OpType : TGuuToken; OpArgs : TStringList; OpLine : Cardinal; OpUnChangedLine: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>; NextOp : TGuuOp; OpReg : Pointer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(StepInto: boolean; CallBacks: TList; Trace: TStringList)</span></span></span><span class="hljs-function">:</span></span> TGuuOp; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LineNum: Cardinal; Line:</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">destructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Destroy</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre><br> åœ¨OpTypeä¸­ï¼ŒæŒ‡ä»¤å°†å­˜å‚¨åœ¨OpArgsä¸­-å…¶ä½™ç»“æ„ã€‚ <br>  OpLineï¼ŒOpUnChangedLine-è°ƒè¯•å™¨çš„ä¿¡æ¯ã€‚ <br><br>  NextOpæ˜¯æŒ‡å‘ä¸‹ä¸€æ¡è¯­å¥çš„æŒ‡é’ˆã€‚ å¦‚æœå®ƒç­‰äºnilï¼ˆåœ¨Pascalä¸­ä¸ºnullï¼‰ï¼Œåˆ™æ²¡æœ‰è¿›ä¸€æ­¥çš„è¯´æ˜ï¼Œæ‚¨éœ€è¦å®Œæˆä»£ç æˆ–é€šè¿‡å›è°ƒå †æ ˆè¿”å›ã€‚ <br><br>  OpRegæ˜¯ä¸€ä¸ªå°å‹æŒ‡é’ˆå¯„å­˜å™¨ï¼Œç¨åå°†ç”¨äºä»£ç æ‰§è¡Œçš„å°å‹ä¼˜åŒ–ã€‚ <br><br> ç¼–å†™å®Œç±»å£°æ˜åï¼Œæˆ‘å†³å®šæœ€ç´§å‡‘ï¼Œæœ€æ¼‚äº®çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨å…¶æ„é€ å‡½æ•°ä¸­æ·»åŠ è§£æå™¨å¹¶è¿›è¡Œä¸€ç‚¹è§£æï¼Œæ¥ä¸‹æ¥æˆ‘è¦åšçš„æ˜¯ï¼š <br><br><pre> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TGuuOp</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LineNum: Cardinal; Line:</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-comment"><span class="hljs-comment">(* * That method parse code line. *)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> s: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>; w: word; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inherited</span></span> Create; OpArgs := TStringList.Create; OpLine := LineNum; OpUnChangedLine := Line; NextOp := <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span>; OpReg := <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span>; s := GetToken(Line, <span class="hljs-number"><span class="hljs-number">1</span></span>); OpType := TGuuToken(AnsiIndexStr(s, GuuToken)); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OpType <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> opSub : <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-comment"><span class="hljs-comment">// sub &lt;name&gt; s := GetToken(Line, 2); if Length(s) &gt; 0 then OpArgs.Add(s) else begin writeln('[Syntax error]: Invalid construction "sub" at line ', OpLine, '.'); halt; end; if Length(GetToken(Line, 3)) &gt; 0 then begin writeln('[Syntax error]: Invalid construction "', Line, '" at line ', OpLine, '.'); halt; end; end; opSet : begin // set &lt;var&gt; &lt;value&gt; OpArgs.Add(GetToken(Line, 2)); OpArgs.Add(GetToken(Line, 3)); w := 1; while w &lt; Length(OpArgs[1]) + 1 do begin if not (OpArgs[1][w] in ['0'..'9']) then begin writeln('[Syntax error]: Invalid variable assigment "', Line, '" at line ', OpLine, '.'); halt; end; inc(w); end; if (Length(OpArgs[0]) = 0) or (Length(OpArgs[1]) = 0) or (Length(GetToken(Line, 4)) &gt; 0) then begin writeln('[Syntax error]: Invalid construction "', Line, '" at line ', OpLine, '.'); halt; end end; opCall : begin // call &lt;name&gt; s := GetToken(Line, 2); if Length(s) &gt; 0 then OpArgs.Add(s) else begin writeln('[Syntax error]: Invalid construction "call" at line ', OpLine, '.'); halt; end; if Length(GetToken(Line, 3)) &gt; 0 then begin writeln('[Syntax error]: Invalid construction "', Line, '" at line ', OpLine, '.'); halt; end; end; opPrint: begin // print &lt;var&gt; s := GetToken(Line, 2); if Length(s) &gt; 0 then OpArgs.Add(s) else begin writeln('[Syntax error]: Invalid construction "print" at line ', OpLine, '.'); halt; end; if Length(GetToken(Line, 3)) &gt; 0 then begin writeln('[Syntax error]: Invalid construction "', Line, '" at line ', OpLine, '.'); halt; end; end; else begin writeln('[Syntax error]: Invalid token "', s, '" at line ', OpLine, '.'); halt; end; end; end; destructor TGuuOp.Destroy; begin FreeAndNil(OpArgs); inherited; end;</span></span></code> </pre><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æœ¬è´¨ä¸Šæ£€æŸ¥äº†æ„é€ çš„å¼€å¤´ï¼ˆå³ç¬¬ä¸€ä¸ªå•è¯ï¼‰ï¼Œç„¶åæŸ¥çœ‹äº†å‰©ä½™çš„æ ‡è®°åŠå…¶ç¼–å·ã€‚ å¦‚æœä»£ç æ˜æ˜¾æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºé”™è¯¯ã€‚ <br><br> åœ¨ä¸»è¦ä»£ç æ®µä¸­ï¼Œæˆ‘ä»¬ä»…ä»æ–‡ä»¶ä¸­è¯»å–TStringListä¸­çš„ä»£ç ï¼Œé€è¡Œè°ƒç”¨TGuuOpæ„é€ å‡½æ•°ï¼Œç„¶åå°†æŒ‡å‘ç±»å®ä¾‹çš„æŒ‡é’ˆå­˜å‚¨åœ¨GuuOpsï¼šTListä¸­ã€‚ <br><br> å…¬å‘Šï¼š <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> LabelNames: TStringList; GuuOps, GuuVars: TList; SubMain: TGuuOp = <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span>;</code> </pre><br> ç»“åˆä»£ç è§£æï¼Œæœ€å¥½å†æ‰§è¡Œå‡ ä¸ªæ“ä½œï¼š <br><br><pre> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParseNext</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LineNum: Cardinal; Line: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-comment"><span class="hljs-comment">(* * Parsing code lines and define variables and labels. *)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Op: TGuuOp; GV: TGuuVar; c: cardinal; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Trim(Line) &lt;&gt; <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> Op := TGuuOp.Create(LineNum, Line); GuuOps.Add(Op); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Op.OpType <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> opSet: <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-comment"><span class="hljs-comment">// define variable and/or optimisation var calling GV := nil; c := 0; while c &lt; GuuVars.Count do begin if TGuuVar(GuuVars[c]).gvName = Op.OpArgs[0] then begin GV := TGuuVar(GuuVars[c]); break; end; inc(c); end; if GV = nil then begin GV := TGuuVar.Create(Op.OpArgs[0]); GuuVars.Add(GV); end; Op.OpReg := GV; end; opSub: begin // Check for label dublicade declaration if Op.OpArgs[0] = 'main' then SubMain := Op; if LabelNames.IndexOf(Op.OpArgs[0]) &lt;&gt; -1 then begin writeln('[Error]: Dublicate sub "', Op.OpArgs[0], '" declaration at line ', Op.OpLine, '.'); halt; end else LabelNames.Add(Op.OpArgs[0]); end; end; end; end;</span></span></code> </pre><br> åœ¨æ­¤é˜¶æ®µï¼Œæ‚¨å¯ä»¥åœ¨é‡æ–°å®šä¹‰æ—¶æ£€æŸ¥å…¥å£ç‚¹ï¼Œå¹¶æƒ³åˆ°OpReg-æˆ‘ç”¨å®ƒæ¥å­˜å‚¨æŒ‡å‘Guuå˜é‡çš„æŒ‡é’ˆã€‚ <br><br> è¯´åˆ°å˜é‡ï¼Œæˆ‘å°†è¿™å°æ®µä»£ç æ”¾å…¥äº†ä¸€ä¸ªå•ç‹¬çš„å•å…ƒä¸­ï¼š <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">unit</span></span> uVars; <span class="hljs-meta"><span class="hljs-meta">{$mode objfpc}</span></span><span class="hljs-meta"><span class="hljs-meta">{$H+}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uses</span></span> Classes, SysUtils; <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> TGuuVar = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> gvName: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>; gvVal: variant; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(VarName: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">implementation</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TGuuVar</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(VarName: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inherited</span></span> Create; gvName := VarName; gvVal := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre><br> ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»è§£æäº†è¯­æ³•æ­£ç¡®çš„ä»£ç ã€‚ å®ƒä»ç„¶éœ€è¦åˆ†æï¼Œæ‚¨å¯ä»¥å¼€å§‹æ‰§è¡Œæœ€é‡è¦çš„äº‹æƒ…-è°ƒè¯•ã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦è¿›è¡Œä¸€äº›è¯­ä¹‰åˆ†æï¼Œå¹¶åŒæ—¶ä¸ºä»£ç æ‰§è¡Œå’Œè°ƒè¯•åšå¥½ä¸€åˆ‡å‡†å¤‡ï¼š <br><br><pre> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckSemantic</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-comment"><span class="hljs-comment">(* * Semantic analyse and calls optimisation. *)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> c, x: cardinal; op: TGuuOp; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> GuuOps.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> TGuuOp(GuuOps[<span class="hljs-number"><span class="hljs-number">0</span></span>]).OpType &lt;&gt; opSub <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> writeln(<span class="hljs-string"><span class="hljs-string">'[Error]: Operation outside sub at line '</span></span>, TGuuOp(GuuOps[<span class="hljs-number"><span class="hljs-number">0</span></span>]).OpLine, <span class="hljs-string"><span class="hljs-string">'.'</span></span>); halt; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; c := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> c &lt; GuuOps.Count <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> TGuuOp(GuuOps[c]).OpType <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> opSub:; opCall: <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> TGuuOp(GuuOps[c - <span class="hljs-number"><span class="hljs-number">1</span></span>]).NextOp := TGuuOp(GuuOps[c]); x := <span class="hljs-number"><span class="hljs-number">0</span></span>; op := <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> x &lt; GuuOps.Count <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> TGuuOp(GuuOps[x]).OpType = opSub <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> TGuuOp(GuuOps[x]).OpArgs[<span class="hljs-number"><span class="hljs-number">0</span></span>] = TGuuOp(GuuOps[c]).OpArgs[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> op := TGuuOp(GuuOps[x]); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; inc(x); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> op &lt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> TGuuOp(GuuOps[c]).OpReg := op <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> writeln(<span class="hljs-string"><span class="hljs-string">'[Error]: Calling to not exist sub "'</span></span>, TGuuOp(GuuOps[c]).OpArgs[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">'" at line '</span></span>, TGuuOp(GuuOps[c]).OpLine, <span class="hljs-string"><span class="hljs-string">'.'</span></span>); halt; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; opPrint: <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> TGuuOp(GuuOps[c - <span class="hljs-number"><span class="hljs-number">1</span></span>]).NextOp := TGuuOp(GuuOps[c]); x := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> x &lt; GuuVars.Count <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> TGuuVar(GuuVars[x]).gvName = TGuuOp(GuuOps[c]).OpArgs[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> TGuuOp(GuuOps[c]).OpReg := TGuuVar(GuuVars[x]); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; inc(x); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> TGuuOp(GuuOps[c]).OpReg = <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> writeln(<span class="hljs-string"><span class="hljs-string">'[Error]: Variable "'</span></span>, TGuuOp(GuuOps[c]).OpArgs[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">'" for print doesn''t exist at line '</span></span>, TGuuOp(GuuOps[c]).OpLine, <span class="hljs-string"><span class="hljs-string">'.'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> TGuuOp(GuuOps[c - <span class="hljs-number"><span class="hljs-number">1</span></span>]).NextOp := TGuuOp(GuuOps[c]); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; inc(c); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre><br> åœ¨æ¯ä¸ªä»¤ç‰Œçš„TGuuOp.NextOpä¸­ï¼Œç¼–å†™æŒ‡å‘ä¸‹ä¸€ä¸ªä»¤ç‰Œçš„æŒ‡é’ˆã€‚ <br> å¯¹äºè°ƒç”¨æ“ä½œç ï¼Œæˆ‘ä»¬è¦åšåˆ°è¿™ä¸€ç‚¹æ—¢ç®€å•åˆæ£˜æ‰‹-åœ¨NextOpä¸­ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªæŒ‡å‘è¢«è°ƒç”¨å…¥å£ç‚¹çš„æŒ‡é’ˆã€‚ <br><br> æˆ‘ä»¬è¿˜é€šè¿‡printè¯­å¥æ£€æŸ¥è¾“å‡ºå˜é‡... <br><br> ä¹Ÿè®¸ä»–ä»¬æ²¡æœ‰åœ¨ç»“è®ºä¹‹å‰å®£å¸ƒï¼Ÿ <br><br> ç°åœ¨æ‚¨éœ€è¦å®ç°ä»£ç æ‰§è¡Œã€‚ è¿”å›TGuuOpç±»å¹¶å®ç°Stepæ–¹æ³•ï¼š <br><br><pre> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TGuuOp</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(StepInto: boolean; CallBacks: TList; Trace: TStringList)</span></span></span><span class="hljs-function">:</span></span> TGuuOp; <span class="hljs-comment"><span class="hljs-comment">(* * That method execute instruction. *)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Op: TGuuOp; CBSize: Cardinal; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OpType <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> opSub: <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> Trace.Add(<span class="hljs-string"><span class="hljs-string">'-&gt; Sub "'</span></span> + OpArgs[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-string"><span class="hljs-string">'"'</span></span>); Result := NextOp; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; opCall: <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> StepInto <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> NextOp &lt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> CallBacks.Add(NextOp); Result := TGuuOp(OpReg); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> Op := TGuuOp(OpReg); CBSize := CallBacks.Count; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((Op &lt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (CallBacks.Count &gt; CBSize)) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> (Trace.Count &lt; STACK_SIZE) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Op = <span class="hljs-keyword"><span class="hljs-keyword">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> Op := TGuuOp(CallBacks[CallBacks.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>]); CallBacks.Delete(CallBacks.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>); Trace.Delete(Trace.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; Op := Op.Step(StepInto, CallBacks, Trace); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; Result := NextOp; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; opPrint: <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> writeln(TGuuVar(OpReg).gvName, <span class="hljs-string"><span class="hljs-string">' = '</span></span>, TGuuVar(OpReg).gvVal); Result := NextOp; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; opSet: <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> TGuuVar(OpReg).gvVal := OpArgs[<span class="hljs-number"><span class="hljs-number">1</span></span>]; Result := NextOp; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre><br> ä¸ºäº†é¿å…åœ¨å‘ç”Ÿå¾ªç¯æ—¶å‘ç”Ÿè®¿é—®å†²çª-æœ€å¥½é™åˆ¶å †æ ˆï¼Œæˆ‘è¿™æ ·åšäº†ã€‚ <br> ä¸Šé¢å£°æ˜çš„å¸¸é‡STACK_SIZE = 2048å°±æ˜¯è¿™ä¸ªåŸå› ã€‚ <br><br> ç°åœ¨ç»ˆäºå¯ä»¥ç¼–å†™è°ƒè¯•å™¨çš„ä¸»è¦ä»£ç äº†ï¼š <br><br><pre> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> code: TStringList; c: Cardinal; cmd: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>; CallBacks: TList; Trace: TStringList; DebugMode: boolean = true; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ParamCount &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-comment"><span class="hljs-comment">// Initialisation if not FileExists(ParamStr(1)) then begin writeln('[Error]: Can''t open file "', ParamStr(1), '".'); halt; end; if ParamCount &gt; 1 then if LowerCase(ParamStr(2)) = '/run' then DebugMode := false; code := TStringList.Create; code.LoadFromFile(ParamStr(1)); GuuOps := TList.Create; GuuVars := TList.Create; // Parsing and preparing LabelNames := TStringList.Create; c := 0; while c &lt; code.Count do begin ParseNext(c + 1, Trim(code[c])); inc(c); end; FreeAndNil(LabelNames); CheckSemantic; if SubMain = nil then begin writeln('[Error]: Sub "main" doesn''t exist!'); halt; end; // Start code execution CurrentOp := SubMain; CallBacks := TList.Create; Trace := TStringList.Create; if DebugMode then begin //Out code and features ClrScr; writeln('Code for debugging:'); writeln('.....'); c := 0; while c &lt; code.Count do begin writeln(FillSpaces(IntToStr(c + 1), 4), '| ', code[c]); inc(c); end; writeln('"""""'); FreeAndNil(code); writeln(sLineBreak, 'Features:', sLineBreak, '* i - step into.', sLineBreak, '* o - step over.', sLineBreak, '* trace - print stack trace.', sLineBreak, '* var - print variables list.', sLineBreak, '* x - exit.', sLineBreak); // Execution loop while ((CurrentOp &lt;&gt; nil) or (CallBacks.Count &gt; 0)) and (Trace.Count &lt; STACK_SIZE) do begin write('Line ', CurrentOp.OpLine, ' ~&gt; '); readln(cmd); // Execute commands if cmd = 'i' then CurrentOp := CurrentOp.Step(true, CallBacks, Trace) else if cmd = 'o' then CurrentOp := CurrentOp.Step(false, CallBacks, Trace) else if cmd = 'trace' then begin writeln('| Trace:'); c := 0; while c &lt; Trace.Count do begin writeln('| ', Trace[c]); inc(c); end; writeln('| -&gt; Line ', CurrentOp.OpLine, ': "', CurrentOp.OpUnChangedLine, '".') end else if cmd = 'var' then begin writeln('| Variables list:'); c := 0; while c &lt; GuuVars.Count do begin writeln('| ', TGuuVar(GuuVars[c]).gvName, ' = ', TGuuVar(GuuVars[c]).gvVal); inc(c); end; end else if cmd = 'x' then halt; // Check for method end &amp; make callback if (CurrentOp = nil) and (CallBacks.Count &gt; 0) then begin CurrentOp := TGuuOp(CallBacks[CallBacks.Count - 1]); CallBacks.Delete(CallBacks.Count - 1); Trace.Delete(Trace.Count - 1); end; end; end else begin // Only run mode (/run) FreeAndNil(code); while ((CurrentOp &lt;&gt; nil) or (CallBacks.Count &gt; 0)) and (Trace.Count &lt; STACK_SIZE) do begin CurrentOp := CurrentOp.Step(false, CallBacks, Trace); if (CurrentOp = nil) and (CallBacks.Count &gt; 0) then begin CurrentOp := TGuuOp(CallBacks[CallBacks.Count - 1]); CallBacks.Delete(CallBacks.Count - 1); Trace.Delete(Trace.Count - 1); end; end; end; if Trace.Count &gt;= STACK_SIZE then writeln('[Runtime error]: Stack overflow!'); FreeAndNil(CallBacks); FreeAndNil(Trace); end else writeln( 'Guu debugger v1.0.', sLineBreak, 'Author: Pavel Shiryaev (@RoPi0n).', sLineBreak, 'Run: svmc guu_debugger.vmc &lt;guu source file&gt; [arg]', sLineBreak, 'Args:', sLineBreak, ' /run - Run Guu code.' ); end.</span></span></code> </pre><br> æ ¹æ®å·¥ä½œæ¡ä»¶ï¼Œå¯ä»¥æ ¹æ®éœ€è¦å®ç°è¯¥æ¥å£ã€‚ <br><br> å¯ä»¥å®ç°ä¸€ä¸ªå®Œæ•´çš„UIï¼Œå°†SynEditå›ºå®šåˆ°è¯¥é¡¹ç›®ä¸­ï¼Œä½†æ˜¯åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ˜¯ä¸€é¡¹ç©ºæ´çš„å·¥ä½œï¼Œæ— æ³•åæ˜ å…¶æŠ€èƒ½ï¼Œæ­¤å¤–ï¼Œå®ƒä¸ä¼šä»˜ç»™æ‚¨:) <br><br> å› æ­¤ï¼Œæˆ‘å°†è‡ªå·±å±€é™äºå°å‹æ§åˆ¶å°UIã€‚ <br><br> ä¸Šé¢çš„ä»£ç å¹¶ä¸å¤æ‚ï¼Œå› æ­¤æ‚¨å¯ä»¥ä¸åŠ æ³¨é‡Šã€‚ åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨ç°æˆçš„TGuuOpï¼Œå¹¶å°†å…¶ç§°ä¸ºStepã€‚ <br><br> å·²è§£å†³é—®é¢˜çš„å±å¹•æˆªå›¾ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/33e/ad0/efa/33ead0efa3a07d77d1a6c07010847035.jpg" alt="å›¾ç‰‡"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e1/7eb/41e/3e17eb41e99abece612f09b146464f67.jpg" alt="å›¾ç‰‡"><br><br> é”™è¯¯ä¿¡æ¯è¾“å‡ºï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/659/1c5/ea4/6591c5ea44e67f5068bd7fb0e9c2341e.jpg" alt="å›¾ç‰‡"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/2a0/3f0/733/2a03f07336c5af1333f259d43e4a1396.jpg" alt="å›¾ç‰‡"><br><br> é“¾æ¥åˆ°æˆ‘çš„è§£å†³æ–¹æ¡ˆçš„å­˜å‚¨åº“ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å•å‡»</a> <br><br><h3> æ€»ç»“ </h3><br> æ²¡æœ‰ç‰¹åˆ«çš„ç»“æœã€‚ æˆ‘å¿…é¡»å°†æ•´ä¸ªæš‘å‡éƒ½èŠ±åœ¨å¿™ç¢Œçš„å‡æœŸå’Œå¯»æ‰¾ä¸€æ‰€å¤§å­¦ä¸Šï¼ˆå½“ç„¶ï¼Œå¦‚æœæˆ‘é¡ºåˆ©é€šè¿‡è€ƒè¯•ï¼‰ï¼Œè€Œä¸æ˜¯åœ¨JetBrainså›¢é˜Ÿä¸­å·¥ä½œå’Œè®­ç»ƒä¸¤ä¸ªæœˆã€‚ <br><br> ä¹Ÿè®¸æ˜å¹´ï¼Œä¸€æ¡æ–°æ–‡ç« å°†å‡ºç°åœ¨å“ˆå¸ƒé›·ï¼ˆHabrÃ©ï¼‰ä¸Šï¼Œå·²ç»æè¿°äº†åœ¨JBæˆ–æˆ‘æ„Ÿå…´è¶£çš„å¦ä¸€å®¶å…¬å¸çš„å®ä¹ è¿‡ç¨‹ï¼šï¼‰ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN454354/">https://habr.com/ru/post/zh-CN454354/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN454336/index.html">å®¢æˆ·ï¼š-ä¸€ä»½Facebookå‰¯æœ¬è¦å¤šå°‘é’±ï¼Ÿ</a></li>
<li><a href="../zh-CN454340/index.html">ï¼…tutnazvanievuï¼…æ˜¯ä¸–ç•Œä¸Šç¬¬ä¸€å®¶æ­£å¼å¼€å‘å–·æ°”èƒŒåŒ…çš„å¤§å­¦</a></li>
<li><a href="../zh-CN454346/index.html">æ•ˆç‡ç®—æ³•ï¼šNobelic 2019ç›‘æ§æ‘„åƒå¤´è¯„è®º</a></li>
<li><a href="../zh-CN454348/index.html">ä½¿ç”¨React Hooksç®¡ç†çŠ¶æ€-æ— éœ€Reduxå’ŒContext API</a></li>
<li><a href="../zh-CN454352/index.html">Pythonä¸­çš„æ•°å­¦ä¸ç¡®å®šæ€§</a></li>
<li><a href="../zh-CN454356/index.html">ã€Šå“ˆä¼¯å‘¨åˆŠã€‹ç¬¬3æœŸ/ Runetä¸ç”µè§†ï¼ŒARMä¸è‹±ç‰¹å°”ï¼Œç»Ÿä¸€çŠ¶æ€æ•°æ®ï¼Œ2019å¹´æ²¡æœ‰æ™ºèƒ½æ‰‹æœºï¼Œè‹è”å¯¹æœªæ¥çš„æ¢¦æƒ³</a></li>
<li><a href="../zh-CN454366/index.html">PHDays 9çš„èƒœåˆ©ã€‚æˆ‘ä»¬åˆ†ä¸‰éƒ¨åˆ†åˆ†äº«ç”Ÿæ´»æŠ€å·§ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN454368/index.html">TeamCityæ’ä»¶å¼€å‘è€…ç«èµ›</a></li>
<li><a href="../zh-CN454372/index.html">æ¯å‘¨æ–°é—»ï¼šåä¸ºä»ç„¶æœ‰é—®é¢˜ï¼Œä¿„ç½—æ–¯çš„â€œé‡å­ç”µè¯â€ï¼ŒARMæ‹¥æœ‰æ–°çš„å¤„ç†å™¨</a></li>
<li><a href="../zh-CN454374/index.html">å®¶ç”¨è§†é¢‘æŠ•å½±ä»ªçš„ç…§ç‰‡èšåˆç‰©3Dæ‰“å°æœºå¯åˆ›å»ºæ— å±‚ç‰©ä½“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>