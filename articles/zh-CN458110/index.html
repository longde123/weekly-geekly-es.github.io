<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔂 🙅🏿 🍣 现实世界中的动态编程：接缝切割 📕 👌 🕗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="动态编程以您在大学学习的方法而著称，然后仅在面试时记得。 但实际上，该方法适用于许多情况。 实际上，这是一种有效解决问题的技术，可以将其分为许多高度重复的子任务 。 

 在本文中，我将展示动态编程的一个有趣的实际应用-接缝雕刻任务。 该任务和方法在Avidan和Shamir的工作中作了详细描述， ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>现实世界中的动态编程：接缝切割</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458110/"> 动态编程以您在大学学习的方法而著称，然后仅在面试时记得。 但实际上，该方法适用于许多情况。 实际上，这是一种<b>有效解决问题</b>的<b>技术，可以将其分为许多高度重复的子任务</b> 。 <br><br> 在本文中，我将展示动态编程的一个有趣的实际应用-接缝雕刻任务。 该任务和方法在Avidan和Shamir的工作中作了详细描述， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“为根据内容调整图像大小的接缝”</a> （公共领域的文章）。 <br><br> 这是有关动态编程的系列文章之一。 如果您想重温方法，请参见<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">图示的动态编程简介</a> 。 <br><a name="habracut"></a><br><h1> 根据内容调整图像大小 </h1><br> 为了使用动态编程解决实际问题，您需要正确地制定公式。 本节介绍了所选任务的必要预设。 <br><br> 原始文章的作者描述了面向内容的图像大小调整，即基于内容更改图像的宽度或高度。 有关详细信息，请参见原始工作。我将进行简要概述。 假设您要调整冲浪者照片的大小： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/979/931/22d/97993122dc9a852c8b299974fc643aa8.jpg"><br>  <i><font color="gray">冲浪者的顶视图在风平浪静中间的，有在右边的动荡波浪的。</font></i>  <i><font color="gray">照片： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">基里尔·多布雷夫·</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Pixabay</a>上的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">免费</a>照片</font></i> <br><br> 如文章中详细描述的，有几种减小图像宽度的方法：这些是标准的裁剪和缩放，具有其固有的缺点，并且从中间去除了像素列。 可以想象，这在照片中留下了可见的接缝，而左右图像不匹配。 这样，您只能删除数量有限的图像。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e2e/e83/7bc/e2ee837bc6950dd52349e3010f7c9c32.jpg"><br>  <i><font color="gray">尝试通过修整左侧并从中间切出块来减小宽度。</font></i>  <i><font color="gray">后者留下可见的接缝。</font></i> <br><br> 文章中的Avidan和Shamir描述了“接缝雕刻”的新技术。 它首先识别不太重要的“低能耗”区域，然后计算穿过图片的低能耗“接缝”。 在减小图像的宽度的情况下，确定从图像的顶部到底部的垂直接缝，其在每一行上向左或向右移动不超过一个像素。 <br><br> 在冲浪者的照片中，能量最低的接缝贯穿图像的中间，那里的水最安静。 这符合我们的直觉。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41b/8aa/6d9/41b8aa6d9d587e1ede3c02a2e515d5a0.jpg"><br>  <i><font color="gray">在冲浪者图像中发现的最低能量接缝显示为可见度为5个像素宽的红线，尽管实际上接缝仅为1个像素宽。</font></i> <br><br> 确定了能量最少的接缝，然后将其移除，我们将图像宽度减小了一个像素。 一遍又一遍地重复此过程会大大减小整个照片的宽度。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/00b/ce5/31e/00bce531ebd56e33728f12d0d3103da9.jpg"><br>  <i><font color="gray">宽度减少1024像素后的冲浪者图像</font></i> <br><br> 再次，该算法从逻辑上去除了中间以及照片左侧的静止水。 但是与耕种不同，左侧的水的质地得以保留，并且没有急剧的过渡。 确实，您可以在中心找到一些不完美的过渡，但是基本上结果看起来很自然。 <br><br><h3> 图像能量定义 </h3><br> 魔术是找到最低能量的接缝。 为此，我们首先将能量分配给图像中的每个像素。 然后，我们使用动态程序设计以最小的能量找到穿过图像的路径-该算法将在下一部分中详细讨论。 首先，让我们看一下如何分配像素能量值。 <br><br> 该科学文章讨论了几种能量函数及其差异。 我们不要使其复杂化，而要使用一个函数来简单捕获每个像素周围的颜色变化量。 为了使图片更完整，如果您想自己实现它，我将更详细地描述能量函数，但这只是后续动态编程计算的预设。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bee/58c/9a3/bee58c9a39f57d4d548b020ae7e046e0.png"><br>  <i><font color="gray">左侧是从暗到亮的三个像素。</font></i>  <i><font color="gray">第一个和最后一个之间的差异很大。</font></i>  <i><font color="gray">右侧的三个暗像素，颜色强度略有不同</font></i> <br><br> 要计算特定像素的能量，请查看其左侧和右侧的像素。 在分量方面，我们计算它们之间的距离的平方，即红色，绿色和蓝色分量之间的差异的平方，然后将它们相加。 我们对中心上方和下方的像素执行相同的操作。 最后，将水平和垂直距离相加。 <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mrow" id="MJXp-Span-2"><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-4">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">x</span><span class="MJXp-msubsup" id="MJXp-Span-11"><span class="MJXp-mrow" id="MJXp-Span-12" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-13" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-14" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-15" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-16"><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-18">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">a</span><span class="MJXp-msubsup" id="MJXp-Span-24"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-26" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-27"><span class="MJXp-mrow" id="MJXp-Span-28" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-29" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-30" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-31" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-32"><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-34">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">a</span><span class="MJXp-msubsup" id="MJXp-Span-40"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41" style="margin-right: 0.05em;">g</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-42" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-43"><span class="MJXp-mrow" id="MJXp-Span-44" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-46" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-48"><span class="MJXp-mo" id="MJXp-Span-49" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-50">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">a</span><span class="MJXp-msubsup" id="MJXp-Span-56"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-58" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-59"><span class="MJXp-mrow" id="MJXp-Span-60" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-61" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-62" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="59.263ex" height="3.142ex" viewBox="0 -1039.5 25515.9 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="1357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="1823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="2122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="2483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="3013" y="0"></use><g transform="translate(3585,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-3D" x="4595" y="0"></use><g transform="translate(5651,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="6731" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="7560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="8026" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="8325" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="8686" y="0"></use><g transform="translate(9216,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="638" y="-213"></use></g><g transform="translate(10172,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="1173" y="640"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2B" x="11678" y="0"></use><g transform="translate(12679,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="13759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="14588" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="15054" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="15353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="15714" y="0"></use><g transform="translate(16244,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="675" y="-213"></use></g><g transform="translate(17226,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="1173" y="640"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2B" x="18732" y="0"></use><g transform="translate(19733,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="20813" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="21641" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="22108" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="22406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="22768" y="0"></use><g transform="translate(23297,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="607" y="-213"></use></g><g transform="translate(24232,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="1173" y="640"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> | \ Delta x | ^ 2 =（\ Delta r_x）^ 2 +（\ Delta g_x）^ 2 +（\ Delta b_x）^ 2 </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-63"><span class="MJXp-mrow" id="MJXp-Span-64"><span class="MJXp-mo" id="MJXp-Span-65" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-66">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">y</span><span class="MJXp-msubsup" id="MJXp-Span-73"><span class="MJXp-mrow" id="MJXp-Span-74" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-75" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-76" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-77" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-78"><span class="MJXp-mo" id="MJXp-Span-79" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-80">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">a</span><span class="MJXp-msubsup" id="MJXp-Span-86"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-88" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-msubsup" id="MJXp-Span-89"><span class="MJXp-mrow" id="MJXp-Span-90" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-91" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-92" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-94"><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-96">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">a</span><span class="MJXp-msubsup" id="MJXp-Span-102"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103" style="margin-right: 0.05em;">g</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-104" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-msubsup" id="MJXp-Span-105"><span class="MJXp-mrow" id="MJXp-Span-106" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-107" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-108" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-109" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-110"><span class="MJXp-mo" id="MJXp-Span-111" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-112">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">a</span><span class="MJXp-msubsup" id="MJXp-Span-118"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-120" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-msubsup" id="MJXp-Span-121"><span class="MJXp-mrow" id="MJXp-Span-122" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-124" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="58.719ex" height="3.262ex" viewBox="0 -1039.5 25281.8 1404.6" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="1357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="1823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="2122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="2483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="3013" y="0"></use><g transform="translate(3510,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-3D" x="4520" y="0"></use><g transform="translate(5576,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="6656" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="7485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="7951" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="8250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="8611" y="0"></use><g transform="translate(9141,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="638" y="-213"></use></g><g transform="translate(10044,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="1173" y="640"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2B" x="11550" y="0"></use><g transform="translate(12551,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="13631" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="14460" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="14926" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="15225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="15586" y="0"></use><g transform="translate(16116,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="675" y="-213"></use></g><g transform="translate(17045,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="1173" y="640"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2B" x="18551" y="0"></use><g transform="translate(19552,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="20632" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="21460" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="21927" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="22225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="22587" y="0"></use><g transform="translate(23116,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="607" y="-213"></use></g><g transform="translate(23997,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="1173" y="640"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> | \ Delta y | ^ 2 =（\ Delta r_y）^ 2 +（\ Delta g_y）^ 2 +（\ Delta b_y）^ 2 </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-125"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">e</span><span class="MJXp-mrow" id="MJXp-Span-127"><span class="MJXp-mo" id="MJXp-Span-128" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">x</span><span class="MJXp-mrow" id="MJXp-Span-130"><span class="MJXp-mo" id="MJXp-Span-131" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">y</span><span class="MJXp-mrow" id="MJXp-Span-133"><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-135" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-136"><span class="MJXp-mo" id="MJXp-Span-137" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-138">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">x</span><span class="MJXp-msubsup" id="MJXp-Span-145"><span class="MJXp-mrow" id="MJXp-Span-146" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-147" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-148" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-149" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-150"><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-152">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">y</span><span class="MJXp-msubsup" id="MJXp-Span-159"><span class="MJXp-mrow" id="MJXp-Span-160" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-161" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-162" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.174ex" height="3.142ex" viewBox="0 -1039.5 15144.3 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1296" y="0"></use><g transform="translate(1868,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="2698" y="0"></use><g transform="translate(3196,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-3D" x="4304" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-7C" x="5360" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="5889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="6717" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="7184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="7482" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="7844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="8373" y="0"></use><g transform="translate(8946,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2B" x="9900" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-7C" x="10901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-44" x="11429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="12258" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="12724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-74" x="13023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="13384" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="13914" y="0"></use><g transform="translate(14411,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="393" y="675"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> e（x，y）= | \ Delta x | ^ 2 + | \ Delta y | ^ 2 </script></p><br> 唯一需要注意的是-如果像素在左侧边缘，则左侧没有相邻像素。 在这种情况下，我们仅与正确的像素进行比较。 对上边缘，右边缘和下边缘的像素执行类似的检查。 <br><br> 如果相邻像素的颜色差异很大，则能量函数很大；如果相邻像素的颜色相似，则能量函数很小。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/62a/270/c37/62a270c374afe98c9951449496a75041.jpg"><br>  <i><font color="gray">冲浪者照片中每个像素的能量：较亮-越高。</font></i>  <i><font color="gray">不出所料，冲浪者在右侧的中波和湍流中具有最高的能量</font></i> <br><br> 能量功能在冲浪者照片上效果很好。 但是，它需要非常广泛的值。 因此，在渲染时，似乎在大多数照片中像素的能量为零。 实际上，与具有最高能量的区域相比，仅存在非常低的值。 为了简化可视化，我放大了冲浪者并突出显示了该区域。 <br><br><h1> 通过动态编程搜索低能耗接缝 </h1><br> 通过计算每个像素的能量，我们可以找到从图像顶部到底部能量最低的接缝。 相同的分析适用于水平接缝以减小原始图像的高度。 但是，我们将专注于垂直领域。 <br><br> 让我们从定义开始： <br><br><ul><li> 接缝是一系列像素，每行一个像素。 要求是连续两行之间的坐标 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-163"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> x </script> 变化不超过一个像素。 这样可以保留接缝顺序。 <br></li><li> 具有最低能量的接缝是其接缝中所有像素上的总能量最小化的接缝。 </li></ul><br> 重要的是要注意，能量最低的关节不一定会穿过能量最低的所有像素。 考虑了全部而不是单个像素的总能量。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3eb/f9d/cd8/3ebf9dcd8be067ac7f5adabfb1bea8e8.png"><br>  <i><font color="gray">贪婪的方法行不通。</font></i>  <i><font color="gray">在早期选择低能量像素，我们会陷入图像的高能量区域（右侧的红色路径）</font></i> <br><br> 如您所见，您不能只选择下一行中能量最低的像素。 <br><br><h3> 我们将问题分解为子任务 </h3><br> 贪婪方法的问题在于，在决定下一步时，我们没有考虑到其余的缝隙。 我们不能展望未来，但我们能够考虑到目前已经知道的一切。 <br><br> 让我们将任务颠倒过来。  <i>与其在几个像素之间进行选择以继续一个接缝，我们不如在几个接缝之间进行选择以转到一个像素</i> 。 我们需要做的是获取每个像素，然后在上一行的像素之间进行选择，接缝可以从该像素中得出。 如果上面一行中的每个像素都编码了到达此点的路径，那么我们实质上是在查看到此点的完整历史记录。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/efe/39e/c83/efe39ec83477a2a410e7b4214bef9377.png"><br>  <i><font color="gray">对于每个像素，我们在上面的行中研究三个像素。</font></i>  <i><font color="gray">基本选择-哪些接缝可以继续？</font></i> <br><br> 假定图像中每个像素都有一个子任务。 子任务应该找到通往特定像素的最佳路径，因此，最好将每个像素的低能量接缝的能量与该像素相关联。 <br><br> 与贪婪方法不同，上述方法本质上尝试通过图像的所有可能路径。 只是当检查所有可能的路径时，一次又一次地解决了相同的子任务，这使该方法成为动态编程的理想选择。 <br><br><h3> 递归关系的定义 </h3><br> 像往常一样，现在我们需要以递归关系形式将想法正式化。 原始图像中的每个像素都有一个子任务，因此我们递归关系的输入可以只是坐标 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-165"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> x </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-167"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.817ex" viewBox="0 -520.7 497.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> y </script> 这个像素 这提供了整数输入，使组织子任务变得容易，并且能够将先前计算的值存储在二维数组中。 <br><br> 定义功能 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-169"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">M</span><span class="MJXp-mrow" id="MJXp-Span-171"><span class="MJXp-mo" id="MJXp-Span-172" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">x</span><span class="MJXp-mrow" id="MJXp-Span-174"><span class="MJXp-mo" id="MJXp-Span-175" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">y</span><span class="MJXp-mrow" id="MJXp-Span-177"><span class="MJXp-mo" id="MJXp-Span-178" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.711ex" height="2.419ex" viewBox="0 -780.1 4611.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1051,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1881" y="0"></use><g transform="translate(2453,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="3283" y="0"></use><g transform="translate(3781,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-7"> M（x，y）</script>  ，代表能量最小的垂直煤层的能量。 它从图像的顶部开始，以像素为结尾 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-179"><span class="MJXp-mrow" id="MJXp-Span-180"><span class="MJXp-mo" id="MJXp-Span-181" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">x</span><span class="MJXp-mrow" id="MJXp-Span-183"><span class="MJXp-mo" id="MJXp-Span-184" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">y</span><span class="MJXp-mrow" id="MJXp-Span-186"><span class="MJXp-mo" id="MJXp-Span-187" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.268ex" height="2.419ex" viewBox="0 -780.1 3560 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="829" y="0"></use><g transform="translate(1402,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="2232" y="0"></use><g transform="translate(2729,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-8">（x，y）</script>  。 职称 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-188"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">M</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.442ex" height="2.057ex" viewBox="0 -780.1 1051.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> M </script> 如原始科学文章中所选择。 <br><br> 首先，您需要一个基本版本。 在最上面一行结束的所有接缝的长度只有一个像素。 因此，具有最小能量的接缝只是具有最小能量的像素： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">M</span><span class="MJXp-mrow" id="MJXp-Span-192"><span class="MJXp-mo" id="MJXp-Span-193" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">x</span><span class="MJXp-mrow" id="MJXp-Span-195"><span class="MJXp-mo" id="MJXp-Span-196" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mn" id="MJXp-Span-197">0</span><span class="MJXp-mrow" id="MJXp-Span-198"><span class="MJXp-mo" id="MJXp-Span-199" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-200" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">e</span><span class="MJXp-mrow" id="MJXp-Span-202"><span class="MJXp-mo" id="MJXp-Span-203" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">x</span><span class="MJXp-mrow" id="MJXp-Span-205"><span class="MJXp-mo" id="MJXp-Span-206" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mn" id="MJXp-Span-207">0</span><span class="MJXp-mrow" id="MJXp-Span-208"><span class="MJXp-mo" id="MJXp-Span-209" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.175ex" height="2.298ex" viewBox="0 -780.1 9978 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1051,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1881" y="0"></use><g transform="translate(2453,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-30" x="3283" y="0"></use><g transform="translate(3784,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-3D" x="4892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="5948" y="0"></use><g transform="translate(6415,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="7244" y="0"></use><g transform="translate(7817,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-30" x="8647" y="0"></use><g transform="translate(9147,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> M（x，0）= e（x，0）</script></p><br> 对于其余行中的像素，请查看顶部的像素。 由于接缝应该是连续的，因此我们只考虑位于左上，右上和右上的三个像素。 从它们中，我们选择能量最低的接缝，该接缝以这些像素之一结尾，然后加上当前像素的能量： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-210"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">M</span><span class="MJXp-mrow" id="MJXp-Span-212"><span class="MJXp-mo" id="MJXp-Span-213" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">x</span><span class="MJXp-mrow" id="MJXp-Span-215"><span class="MJXp-mo" id="MJXp-Span-216" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">y</span><span class="MJXp-mrow" id="MJXp-Span-218"><span class="MJXp-mo" id="MJXp-Span-219" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">e</span><span class="MJXp-mrow" id="MJXp-Span-222"><span class="MJXp-mo" id="MJXp-Span-223" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">x</span><span class="MJXp-mrow" id="MJXp-Span-225"><span class="MJXp-mo" id="MJXp-Span-226" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">y</span><span class="MJXp-mrow" id="MJXp-Span-228"><span class="MJXp-mo" id="MJXp-Span-229" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-230" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-231">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">n</span><span class="MJXp-mtext" id="MJXp-Span-235">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">n</span><span class="MJXp-mrow" id="MJXp-Span-241"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">s</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">M</span><span class="MJXp-mrow" id="MJXp-Span-248"><span class="MJXp-mo" id="MJXp-Span-249" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">x</span><span class="MJXp-mo" id="MJXp-Span-251" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-252">1</span><span class="MJXp-mrow" id="MJXp-Span-253"><span class="MJXp-mo" id="MJXp-Span-254" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">y</span><span class="MJXp-mo" id="MJXp-Span-256" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-257">1</span><span class="MJXp-mrow" id="MJXp-Span-258"><span class="MJXp-mo" id="MJXp-Span-259" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mspace" id="MJXp-Span-260" style="width: 0em; height: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">M</span><span class="MJXp-mrow" id="MJXp-Span-262"><span class="MJXp-mo" id="MJXp-Span-263" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">x</span><span class="MJXp-mrow" id="MJXp-Span-265"><span class="MJXp-mo" id="MJXp-Span-266" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">y</span><span class="MJXp-mo" id="MJXp-Span-268" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-269">1</span><span class="MJXp-mrow" id="MJXp-Span-270"><span class="MJXp-mo" id="MJXp-Span-271" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mspace" id="MJXp-Span-272" style="width: 0em; height: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">M</span><span class="MJXp-mrow" id="MJXp-Span-274"><span class="MJXp-mo" id="MJXp-Span-275" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">x</span><span class="MJXp-mo" id="MJXp-Span-277" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-278">1</span><span class="MJXp-mrow" id="MJXp-Span-279"><span class="MJXp-mo" id="MJXp-Span-280" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">y</span><span class="MJXp-mo" id="MJXp-Span-282" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-283">1</span><span class="MJXp-mrow" id="MJXp-Span-284"><span class="MJXp-mo" id="MJXp-Span-285" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mtext" id="MJXp-Span-286" style="color: red;">\结</span><span class="MJXp-mrow" id="MJXp-Span-287"><span class="MJXp-mo" id="MJXp-Span-288" style="margin-left: 0.278em; margin-right: 0.278em;">尾</span></span><span class="MJXp-mrow" id="MJXp-Span-289"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-290">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">s</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="8.925ex" viewBox="0 -780.1 33095.6 3842.7" role="img" focusable="false" style="vertical-align: -7.113ex; max-width: 638px;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(3413,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1051,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1881" y="0"></use><g transform="translate(2453,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="3283" y="0"></use><g transform="translate(3781,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-3D" x="4889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="5945" y="0"></use><g transform="translate(6412,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="7241" y="0"></use><g transform="translate(7814,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="8644" y="0"></use><g transform="translate(9141,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2B" x="10194" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6D" x="11444" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-69" x="12323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6E" x="12668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-62" x="13519" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="13948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-67" x="14415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-69" x="14895" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6E" x="15241" y="0"></use><g transform="translate(15841,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-73" x="963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-73" x="1899" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="18210" y="0"></use><g transform="translate(19261,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="20091" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2212" x="20886" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="21887" y="0"></use><g transform="translate(22387,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="23217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2212" x="23937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="24938" y="0"></use><g transform="translate(25438,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g><g transform="translate(13380,-1363)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1051,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1881" y="0"></use><g transform="translate(2453,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="3283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2212" x="4003" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="5004" y="0"></use><g transform="translate(5504,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g><g transform="translate(10254,-2751)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1051,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2B" x="2676" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="3676" y="0"></use><g transform="translate(4177,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="5007" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2212" x="5727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="6727" y="0"></use><g transform="translate(7228,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g fill="red" stroke="red" transform="translate(8058,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">结</text></g></g><g transform="translate(9388,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">尾</text></g><g transform="translate(10218,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-61" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-73" x="963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-73" x="1899" y="0"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> M（x，y）= e（x，y）+ \ min \ begin {cases} M（x-1，y-1）\\ M（x，y-1）\\ M（x + 1， y-1）\结尾{cases} </script></p><br> 作为边界情况，请考虑当前像素位于图像的左边缘或右边缘的情况。 在这些情况下，我们省略 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-295"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">M</span><span class="MJXp-mrow" id="MJXp-Span-297"><span class="MJXp-mo" id="MJXp-Span-298" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">x</span><span class="MJXp-mo" id="MJXp-Span-300" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-301">1</span><span class="MJXp-mrow" id="MJXp-Span-302"><span class="MJXp-mo" id="MJXp-Span-303" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">y</span><span class="MJXp-mo" id="MJXp-Span-305" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-306">1</span><span class="MJXp-mrow" id="MJXp-Span-307"><span class="MJXp-mo" id="MJXp-Span-308" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.716ex" height="2.419ex" viewBox="0 -780.1 8058.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1051,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2212" x="2676" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="3676" y="0"></use><g transform="translate(4177,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="5007" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2212" x="5727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="6727" y="0"></use><g transform="translate(7228,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-12"> M（x-1，y-1）</script> 用于左边缘的像素或 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-309"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">M</span><span class="MJXp-mrow" id="MJXp-Span-311"><span class="MJXp-mo" id="MJXp-Span-312" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">x</span><span class="MJXp-mo" id="MJXp-Span-314" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-315">1</span><span class="MJXp-mrow" id="MJXp-Span-316"><span class="MJXp-mo" id="MJXp-Span-317" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">y</span><span class="MJXp-mo" id="MJXp-Span-319" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-320">1</span><span class="MJXp-mrow" id="MJXp-Span-321"><span class="MJXp-mo" id="MJXp-Span-322" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.716ex" height="2.419ex" viewBox="0 -780.1 8058.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1051,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2B" x="2676" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="3676" y="0"></use><g transform="translate(4177,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="5007" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2212" x="5727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="6727" y="0"></use><g transform="translate(7228,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-13"> M（x + 1，y-1）</script> 在右边。 <br><br> 最后，您需要提取低能量接缝的能量，该能量覆盖图像的整个高度。 这意味着我们查看图像的底线并选择以这些像素之一结尾的最低能量的接缝。 对于宽幅照片 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-323"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">W</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-57" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> W </script> 又高 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-325"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-48" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> H </script> 像素： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-327"><span class="MJXp-mtext" id="MJXp-Span-328">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">i</span><span class="MJXp-msubsup" id="MJXp-Span-331"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-333" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-334">0</span><span class="MJXp-mtext" id="MJXp-Span-335">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">x</span><span class="MJXp-mo" id="MJXp-Span-339">&lt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">W</span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">M</span><span class="MJXp-mrow" id="MJXp-Span-342"><span class="MJXp-mo" id="MJXp-Span-343" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344">x</span><span class="MJXp-mrow" id="MJXp-Span-345"><span class="MJXp-mo" id="MJXp-Span-346" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347">H</span><span class="MJXp-mo" id="MJXp-Span-348" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-349">1</span><span class="MJXp-mrow" id="MJXp-Span-350"><span class="MJXp-mo" id="MJXp-Span-351" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.272ex" height="2.419ex" viewBox="0 -780.1 11741.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-69" x="1128" y="0"></use><g transform="translate(1474,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6E" x="0" y="0"></use><g transform="translate(600,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-30" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-6C" x="854" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-65" x="1152" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1619" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-3C" x="2191" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-57" x="2970" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="5016" y="0"></use><g transform="translate(6067,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="6897" y="0"></use><g transform="translate(7470,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-48" x="8300" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2212" x="9410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="10411" y="0"></use><g transform="translate(10911,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-16"> \ min_ {0 \ le x <W} M（x，H-1）</script></p><br> 因此，我们获得了具有所有必要属性的递归关系： <br><br><ul><li> 递归关系具有整数输入。 <br></li><li> 最终答案很容易从关系中提取。 <br></li><li> 比例取决于自己。 </li></ul><br><h3> 验证DAG子任务（面向非循环图） </h3><br> 由于每个子任务 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-352"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">M</span><span class="MJXp-mrow" id="MJXp-Span-354"><span class="MJXp-mo" id="MJXp-Span-355" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">x</span><span class="MJXp-mrow" id="MJXp-Span-357"><span class="MJXp-mo" id="MJXp-Span-358" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">y</span><span class="MJXp-mrow" id="MJXp-Span-360"><span class="MJXp-mo" id="MJXp-Span-361" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.711ex" height="2.419ex" viewBox="0 -780.1 4611.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1051,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="1881" y="0"></use><g transform="translate(2453,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="3283" y="0"></use><g transform="translate(3781,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-17"> M（x，y）</script> 对应于原始图像的一个像素，相关性图非常容易可视化。 只需将它们放置在二维网格上即可，就像原始图像一样！ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/24f/2a7/9cf/24f2a79cffa7d5c6f1f84bc4ff79d5bc.png"><br>  <i><font color="gray">子任务位于二维网格中，就像原始图像中的像素一样</font></i> <br><br> 从循环关系的基本方案中可以看出，可以使用各个像素的能量值来初始化子任务的顶行。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/323/ddd/ee2/323dddee252bd76daec13922fd2de43e.png"><br>  <i><font color="gray">第一行独立于其他子任务。</font></i>  <i><font color="gray">请注意没有从顶部的单元格的箭头</font></i> <br><br> 第二行开始显示依赖关系。 首先，在第二行最左边的单元格中，我们面临着边界局势。 由于左侧没有单元格，因此该单元格 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-362"><span class="MJXp-mrow" id="MJXp-Span-363"><span class="MJXp-mo" id="MJXp-Span-364" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-365">1</span><span class="MJXp-mo" id="MJXp-Span-366" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-367">0</span><span class="MJXp-mrow" id="MJXp-Span-368"><span class="MJXp-mo" id="MJXp-Span-369" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.214ex" height="2.419ex" viewBox="0 -780.1 3106.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-31" x="829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2C" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-30" x="1775" y="0"></use><g transform="translate(2276,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-18">（1,0）</script> 仅取决于位于其正上方和右上方的单元格。 稍后第三行中最左边的单元格也会发生相同的情况。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/946/1fa/21c/9461fa21ce25095b1d960f3a4e8ccbf6.png"><br>  <i><font color="gray">左侧边缘上的子任务仅取决于它们上方的两个子任务</font></i> <br><br> 在第二行（1,1）的第二个单元格中，我们看到了递归关系的最典型表现。 此单元格取决于三个单元格：左上方，上方上方和右上方。 此依存关系结构适用于第二行和后续行中的所有“中间”单元格。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/648/1f8/cbd/6481f8cbdaf08c304aab457ea42b520d.png"><br>  <i><font color="gray">左右边缘之间的子任务取决于顶部的三个子任务</font></i> <br><br> 最后，右边的单元格代表第二个边界情况。 由于右侧没有更多的单元格，因此仅取决于直接位于顶部和左侧的单元格。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a8/38e/551/4a838e551dbe3859974e6fd5c13204d0.png"><br>  <i><font color="gray">右侧的子任务仅取决于顶部的两个单元</font></i> <br><br> 对所有后续行重复此过程。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe2/42d/350/fe242d35089994e199c1028fb38554f0.gif"><br>  <i><font color="gray">由于依赖性图中有许多箭头，因此此动画依次显示了每个子任务的依赖性</font></i> <br><br> 完整的依存关系图会让您感到迷惑，但同时查看一次箭头有助于建立明确的模式。 <br><br><h3> 自下而上的实施 </h3><br> 进行分析后，我们得到了加工订单： <br><br><ul><li> 从图像的顶部到底部。 <br></li><li> 每行可以按任何顺序执行。 自然的选择是从左到右。 </li></ul><br> 由于每一行仅依赖于前一行，因此您只需要保存两行数据：一行用于上一行，一行用于当前行。 从左向右移动，我们甚至可以丢弃使用前一行中的各个元素。 但是，这使算法复杂化，因为它必须找出可以丢弃前一行的哪些部分。 <br><br> 在下面的Python代码中，输入是行列表，其中每行包含一个数字列表，这些数字表示该行中的各个像素能量。 输入称为<code>pixel_energies</code> ， <code>pixel_energies[y][x]</code>表示坐标中的像素能量 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-370"><span class="MJXp-mrow" id="MJXp-Span-371"><span class="MJXp-mo" id="MJXp-Span-372" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">x</span><span class="MJXp-mrow" id="MJXp-Span-374"><span class="MJXp-mo" id="MJXp-Span-375" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">y</span><span class="MJXp-mrow" id="MJXp-Span-377"><span class="MJXp-mo" id="MJXp-Span-378" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.268ex" height="2.419ex" viewBox="0 -780.1 3560 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-78" x="829" y="0"></use><g transform="translate(1402,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-79" x="2232" y="0"></use><g transform="translate(2729,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-19">（x，y）</script>  。 <br><br> 让我们开始计算上一行接缝的能量，只需复制上一行的各个像素能量即可： <br><br><pre> <code class="python hljs">previous_seam_energies_row = list(pixel_energies[<span class="hljs-number"><span class="hljs-number">0</span></span>])</code> </pre> <br> 然后，我们循环遍历其余输入线，计算每条线的接缝能量。 最“困难”的部分是确定要引用上一行的哪些元素，因为左边缘左侧或右边缘右侧没有像素。 <br><br> 在每次迭代中，将为当前线创建一个新的缝线能量列表。 在迭代结束时，我们将前一行的数据替换为下一次迭代的当前行的数据。 这是我们丢弃前一行的方式： <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Skip the first row in the following loop. for y in range(1, len(pixel_energies)): pixel_energies_row = pixel_energies[y] seam_energies_row = [] for x, pixel_energy in enumerate(pixel_energies_row): # Determine the range of x values to iterate over in the previous # row. The range depends on if the current pixel is in the middle of # the image, or on one of the edges. x_left = max(x - 1, 0) x_right = min(x + 1, len(pixel_energies_row) - 1) x_range = range(x_left, x_right + 1) min_seam_energy = pixel_energy + \ min(previous_seam_energies_row[x_i] for x_i in x_range) seam_energies_row.append(min_seam_energy) previous_seam_energies_row = seam_energies_row</span></span></code> </pre> <br> 结果， <code>previous_seam_energies_row</code>包含底线的接缝能量。 我们在此列表中找到最小值-这就是答案！ <br><br><pre> <code class="python hljs">min(seam_energy <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> seam_energy <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> previous_seam_energies_row)</code> </pre> <br> 您可以通过将代码包装在一个函数中，然后用您构建的二维数组调用它来测试此实现。 选择以下输入以使贪婪方法失败，并且接缝明显且能量最低： <br><br><pre> <code class="python hljs">ENERGIES = [ [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], ] print(min_seam_energy(ENERGIES))</code> </pre> <br><h3> 时空复杂度 </h3><br> 原始图像中的每个像素对应一个子任务。 对于每个子任务，不超过三个依赖项，因此解决每个子任务都需要进行大量的工作。 最后一行保持两次。 因此对于整个图像 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-379"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">W</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-57" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-20"> W </script> 又高 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-381"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-48" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-21"> H </script> 像素时间复杂度为 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-383"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">O</span><span class="MJXp-mrow" id="MJXp-Span-385"><span class="MJXp-mo" id="MJXp-Span-386" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mrow" id="MJXp-Span-387"><span class="MJXp-mo" id="MJXp-Span-388" style="margin-left: 0.278em; margin-right: 0.278em;">宽</span></span><span class="MJXp-mo" id="MJXp-Span-389" style="margin-left: 0.267em; margin-right: 0.267em;">×</span><span class="MJXp-mrow" id="MJXp-Span-390"><span class="MJXp-mo" id="MJXp-Span-391" style="margin-left: 0.278em; margin-right: 0.278em;">高</span></span><span class="MJXp-mo" id="MJXp-Span-392" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-393"><span class="MJXp-mo" id="MJXp-Span-394" style="margin-left: 0.278em; margin-right: 0.278em;">宽</span></span><span class="MJXp-mrow" id="MJXp-Span-395"><span class="MJXp-mo" id="MJXp-Span-396" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.093ex" height="2.298ex" viewBox="0 -780.1 7359.3 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(1593,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">宽</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-D7" x="2645" y="0"></use><g transform="translate(3646,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">高</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-2B" x="4698" y="0"></use><g transform="translate(5699,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">宽</text></g><g transform="translate(6529,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-22"> O（宽×高+宽）</script>  。 <br><br> 在每个时间点，我们都有两个列表：一个用于上一行，一个用于当前。 在第一 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-397"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">W</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-57" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-23"> W </script> 元素，第二个逐渐增加到 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-399"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">W</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-57" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-24"> W </script>  。 因此，空间复杂度等于 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-401"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">O</span><span class="MJXp-mrow" id="MJXp-Span-403"><span class="MJXp-mo" id="MJXp-Span-404" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-405">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">W</span><span class="MJXp-mrow" id="MJXp-Span-407"><span class="MJXp-mo" id="MJXp-Span-408" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.226ex" height="2.298ex" viewBox="0 -780.1 3972.5 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMAIN-32" x="1593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-57" x="2093" y="0"></use><g transform="translate(3142,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-25"> O（2W）</script> 那只是 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-409"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-410">O</span><span class="MJXp-mrow" id="MJXp-Span-411"><span class="MJXp-mo" id="MJXp-Span-412" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">w</span><span class="MJXp-mrow" id="MJXp-Span-414"><span class="MJXp-mo" id="MJXp-Span-415" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.293ex" height="2.298ex" viewBox="0 -780.1 3140 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-77" x="1593" y="0"></use><g transform="translate(2309,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-26"> O（w）</script>  。 <br><br> 请注意，如果实际上丢弃了前一行的数据元素，则将以与当前行的列表增长相同的速度缩短前一行的元素列表。 因此，空间复杂度将保持 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-416"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">O</span><span class="MJXp-mrow" id="MJXp-Span-418"><span class="MJXp-mo" id="MJXp-Span-419" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">w</span><span class="MJXp-mrow" id="MJXp-Span-421"><span class="MJXp-mo" id="MJXp-Span-422" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.293ex" height="2.298ex" viewBox="0 -780.1 3140 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhgYSw_gUlFWUoYV4-BNqtuzTTysZQ#MJMATHI-77" x="1593" y="0"></use><g transform="translate(2309,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-27"> O（w）</script>  。 尽管宽度可能有所不同，但这通常并不那么重要。 <br><br><h1> 低能耗向后指针 </h1><br> 因此，我们找到了低能耗煤层的含义，但是如何处理这些信息？ 毕竟，实际上，我们不是在关注能源的重要性，而是在接缝本身！ 问题在于，无法从最后一个像素返回到接缝的其余部分。 <br><br> 这是我在前几篇文章中遗漏的，但是对于许多动态编程问题也是如此。 例如，如果您还记得<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">抢劫房屋</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">任务</a> ，我们发现了抢劫金额的最大值，但没有找到需要抢劫特定房屋的金额。 <br><br><h3> 反向指针的表示 </h3><br> 一般回答：存放<i>指针</i> 。 在切割接缝的任务中，我们不仅需要每个像素处的接缝能量值。 您还需要知道前一行中的哪些像素导致了这种能量。 通过存储此信息，我们可以沿反向指针一直到顶行，以最少的能量获取组成关节的所有像素的坐标。 <br><br> 首先，创建一个用于存储能量和后向指针的类。 能量将用于计算子任务。 由于后向指针确定了前一行中的哪个像素提供了当前能量，因此我们可以简单地将其想象为x坐标。 <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SeamEnergyWithBackPointer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, energy, x_coordinate_in_previous_row=None)</span></span></span><span class="hljs-function">:</span></span> self.energy = energy self.x_coordinate_in_previous_row = x_coordinate_in_previous_row</code> </pre> <br> 每个子任务的计算结果不仅是数字，而且是此类的一个实例。 <br><br><h3> 向后指针存储 </h3><br> 最后，您需要沿着图像的整个高度返回，并按照相反的符号以最少的能量恢复接缝。 不幸的是，这意味着您需要存储图像中所有像素的指针，而不仅仅是前一行。 <br><br> 为此，我们只是保存所有子任务的全部结果，尽管在技术上可以拒绝前几行接缝的数值能量。 结果存储在二维数组中，该数组看起来与输入数组相同。 <br><br> 让我们从第一行开始，该行仅包含单个像素能量。 由于没有前一行，因此所有的后向指针都丢失了，但是为了保持一致，我们仍将存储<code>SeamEnergyWithBackPointers</code>实例： <br><br><pre> <code class="python hljs">seam_energies = [] <span class="hljs-comment"><span class="hljs-comment"># Initialize the top row of seam energies by copying over the top row of # the pixel energies. There are no back pointers in the top row. seam_energies.append([ SeamEnergyWithBackPointer(pixel_energy) for pixel_energy in pixel_energies[0] ])</span></span></code> </pre> <br> 主循环的工作原理与以前的实现基本相同，但有以下区别： <br><br><ul><li> 前一行的数据包含<code>SeamEnergyWithBackPointer</code>实例，因此在计算重复率的值时，应在这些对象内寻找接缝的能量。 <br></li><li> 保存当前像素的数据，您需要构建<code>SeamEnergyWithBackPointer</code>的新实例。 在这里，我们将存储当前像素的接缝能量以及上一行的x坐标，用于计算当前接缝能量。 <br></li><li> 在每行的末尾，我们不会丢弃前一行的数据，而只是将当前行的数据添加到<code>seam_energies</code> 。 </li></ul><br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Skip the first row in the following loop. for y in range(1, len(pixel_energies)): pixel_energies_row = pixel_energies[y] seam_energies_row = [] for x, pixel_energy in enumerate(pixel_energies_row): # Determine the range of x values to iterate over in the previous # row. The range depends on if the current pixel is in the middle of # the image, or on one of the edges. x_left = max(x - 1, 0) x_right = min(x + 1, len(pixel_energies_row) - 1) x_range = range(x_left, x_right + 1) min_parent_x = min( x_range, key=lambda x_i: seam_energies[y - 1][x_i].energy ) min_seam_energy = SeamEnergyWithBackPointer( pixel_energy + seam_energies[y - 1][min_parent_x].energy, min_parent_x ) seam_energies_row.append(min_seam_energy) seam_energies.append(seam_energies_row)</span></span></code> </pre> <br><h3> 跟随标志 </h3><br> 现在，整个子任务表已填满，我们可以用最少的精力恢复接缝。 我们从在底线中寻找x坐标开始，该坐标对应于能量最小的关节： <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Find the x coordinate with minimal seam energy in the bottom row. min_seam_end_x = min( range(len(seam_energies[-1])), key=lambda x: seam_energies[-1][x].energy )</span></span></code> </pre> <br> 现在，从图像的底部转到顶部， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-423"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> y </script> 从<code>len(seam_energies) - 1</code>到零。 在每次迭代中，添加当前对 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-425"><span class="MJXp-mrow" id="MJXp-Span-426"><span class="MJXp-mo" id="MJXp-Span-427" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">x</span><span class="MJXp-mrow" id="MJXp-Span-429"><span class="MJXp-mo" id="MJXp-Span-430" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">y</span><span class="MJXp-mrow" id="MJXp-Span-432"><span class="MJXp-mo" id="MJXp-Span-433" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29">（x，y）</script> 到代表我们接缝的列表中，然后设置值 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-434"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> x </script>  <code>SeamEnergyWithBackPointer</code>指向的对象在当前行中。 <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Follow the back pointers to form a list of coordinates that form the # lowest-energy seam. seam = [] seam_point_x = min_seam_end_x for y in range(len(seam_energies) - 1, -1, -1): seam.append((seam_point_x, y)) seam_point_x = \ seam_energies[y][seam_point_x].x_coordinate_in_previous_row seam.reverse()</span></span></code> </pre> <br> 因此，接缝是向上构建的，如果需要从上到下的坐标，则可以以相反的顺序读取列表。 <br><br><h3> 时空复杂度 </h3><br> 时间复杂度与上一个相似，因为我们仍然需要处理每个像素一次。 在查看了最后一行并找到能量最少的关节之后，然后我们沿着图像的整个高度上升以恢复关节。 所以对于图像 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">W</span><span class="MJXp-mo" id="MJXp-Span-438" style="margin-left: 0.267em; margin-right: 0.267em;">×</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> W×H </script> 时间复杂度等于 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-440"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">O</span><span class="MJXp-mrow" id="MJXp-Span-442"><span class="MJXp-mo" id="MJXp-Span-443" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mrow" id="MJXp-Span-444"><span class="MJXp-mo" id="MJXp-Span-445" style="margin-left: 0.278em; margin-right: 0.278em;">宽</span></span><span class="MJXp-mo" id="MJXp-Span-446" style="margin-left: 0.267em; margin-right: 0.267em;">×</span><span class="MJXp-mrow" id="MJXp-Span-447"><span class="MJXp-mo" id="MJXp-Span-448" style="margin-left: 0.278em; margin-right: 0.278em;">高</span></span><span class="MJXp-mo" id="MJXp-Span-449" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-450"><span class="MJXp-mo" id="MJXp-Span-451" style="margin-left: 0.278em; margin-right: 0.278em;">宽</span></span><span class="MJXp-mo" id="MJXp-Span-452" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-453"><span class="MJXp-mo" id="MJXp-Span-454" style="margin-left: 0.278em; margin-right: 0.278em;">高</span></span><span class="MJXp-mrow" id="MJXp-Span-455"><span class="MJXp-mo" id="MJXp-Span-456" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> O（宽×高+宽+高）</script>  。 <br><br> 至于数量，我们仍然为每个子任务保留恒定数量的数据，但是现在我们不丢弃任何数据。 所以我们用音量 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-457"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">O</span><span class="MJXp-mrow" id="MJXp-Span-459"><span class="MJXp-mo" id="MJXp-Span-460" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mrow" id="MJXp-Span-461"><span class="MJXp-mo" id="MJXp-Span-462" style="margin-left: 0.278em; margin-right: 0.278em;">宽</span></span><span class="MJXp-mo" id="MJXp-Span-463" style="margin-left: 0.267em; margin-right: 0.267em;">×</span><span class="MJXp-mrow" id="MJXp-Span-464"><span class="MJXp-mo" id="MJXp-Span-465" style="margin-left: 0.278em; margin-right: 0.278em;">高</span></span><span class="MJXp-mrow" id="MJXp-Span-466"><span class="MJXp-mo" id="MJXp-Span-467" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> O（宽×高）</script>  。 <br><br><h1> 低能耗接缝去除 </h1><br> 一旦找到能量最低的垂直关节，我们就可以简单地将像素从原始图像复制到新图像。 新图像的每一行都包含原始图像相应行中的所有像素，但接缝中具有最低能量的像素除外。 由于我们从图像开始每行删除一个像素 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-468"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">W</span><span class="MJXp-mo" id="MJXp-Span-470" style="margin-left: 0.267em; margin-right: 0.267em;">×</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> W×H </script> 然后我们得到图像 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-472"><span class="MJXp-mrow" id="MJXp-Span-473"><span class="MJXp-mo" id="MJXp-Span-474" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475">W</span><span class="MJXp-mo" id="MJXp-Span-476" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-477">1</span><span class="MJXp-mrow" id="MJXp-Span-478"><span class="MJXp-mo" id="MJXp-Span-479" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-480" style="margin-left: 0.267em; margin-right: 0.267em;">×</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35">（W − 1）×H </script>  。 <br><br> 我们可以通过重新计算新图像中的能量函数并在其上找到最低能量的接缝来重复此过程。 似乎很想在原始图像中找到多个低能耗接缝，然后立即将其全部删除。 问题是两个接缝可以相交。 删除第一个像素后，第二个像素将无效，因为它缺少一个或多个像素。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/B9HPREBePI4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><font color="gray">去除接缝过程的动画。</font></i>  <i><font color="gray">最好全屏观看，以使接缝更清晰</font></i> <br><br> 视频的每一帧都是每次迭代时的图像，具有最小能量的接缝叠加可视化。 <br><br><h1> 另一个例子 </h1><br> 这篇文章有很多详细的解释，所以让我们以一系列美丽的照片作为结尾！ 下图显示了拱门国家公园的岩层： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ee/947/449/7ee947449ba6b1204b6a3c17b844658b.jpg"><br>  <i><font color="gray">与一个孔的岩层在拱门国家公园。</font></i>  <i><font color="gray">照片： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Flickr上的</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Mike Goad</a></font></i> <br><br> 此图像的能量函数： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9b2/aa4/e8f/9b2aa4e8f4f4c736276a1b0c50ee949b.jpg"><br>  <i><font color="gray">照片中每个像素的能量：越亮-越高。</font></i>  <i><font color="gray">注意孔边缘周围的高能量。</font></i> <br><br> 作为计算的结果，获得了具有最低能量的这种接缝。 请注意，它穿过右侧的岩石，直接进入岩石层，岩石顶部的照明部分与天空的颜色匹配。 也许您应该选择更好的能量功能！ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a3b/90a/943/a3b90a94356a10044acb45950af7d8de.jpg"><br>  <i><font color="gray">图像中发现的最低能量接缝以5像素宽的红线显示，以提高可见度，尽管实际上接缝只有1像素宽。</font></i> <br><br> 最后，调整大小后的拱门图像： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/833/166/796/8331667968e36e0bfc80d2d214772379.jpg"><br>  <i><font color="gray">1024像素压缩后的拱</font></i> <br><br> 结果肯定不是完美的：原始图像上的山峰许多边缘都变形了。 改进之一可能是实现科学文章中列出的其他能源功能之一。 <br><br><hr><br> 尽管通常在理论上讨论动态编程，但它是解决复杂问题的有用实用方法。 在本文中，我们研究了动态编程的一种应用：通过切割接缝来调整图像大小以适合内容。 <br><br> 我们应用了相同的原理，将问题分为较小的子任务，分析了这些子任务之间的依赖关系，然后以最小化算法的空间和时间复杂度的顺序解决了子任务。 此外，我们研究了使用反向指针不仅找到最佳接缝的能量值，而且还确定组成该值的每个像素的坐标。 然后，我们将这些部分应用于一个实际问题，该问题需要进行一些预处理才能真正有效地使用动态编程算法。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN458110/">https://habr.com/ru/post/zh-CN458110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN458100/index.html">Visual Studio Code中的Python-2019年6月发行</a></li>
<li><a href="../zh-CN458102/index.html">有效的Web开发工作流程：融合，Airtable等</a></li>
<li><a href="../zh-CN458104/index.html">华为在数据中心内部实施RDMA</a></li>
<li><a href="../zh-CN458106/index.html">在Jetpack Compose中潜水</a></li>
<li><a href="../zh-CN458108/index.html">重定向：301、302、307 | 301操作指南</a></li>
<li><a href="../zh-CN458112/index.html">索尼Xperia 10评估</a></li>
<li><a href="../zh-CN458114/index.html">建立全球开源法律网络</a></li>
<li><a href="../zh-CN458116/index.html">SwiftUI和自动续订订阅</a></li>
<li><a href="../zh-CN458118/index.html">适用于初学者Android开发人员的React Native指南（带有示例应用程序）</a></li>
<li><a href="../zh-CN458120/index.html">《哈勃周刊》第7期/神经网络剥夺了人们的注意力，豪华的Airbnb，在考试中将被允许谷歌，在Google Play上有很多假货</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>