<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ï¸ ğŸ†“ â—»ï¸ Arduinoä¸Šçš„è®¡æ—¶å™¨å’Œå¤šä»»åŠ¡ ğŸ§šğŸ½ ğŸ¤¶ğŸ¾ ğŸˆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä»Šå¤©ï¼Œæˆ‘ä»¬å°†è®¨è®ºä¸Arduinoä¸Šçš„è®¡æ—¶å™¨å’Œå¤šä»»åŠ¡ç›¸å…³çš„è¯é¢˜ã€‚ æ’°å†™æœ¬æ–‡çš„åŸå› æ˜¯Oleg Artamonov @olartamonov åœ¨ä¸‰æ˜Ÿç‰©è”ç½‘å­¦é™¢çš„æ¡†æ¶ä¸­ä¸ºMIREAå­¦ç”Ÿæä¾›çš„è®²åº§ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´ï¼Œæ˜¯Olegçš„å£°æ˜ï¼Œå¼•ç”¨ï¼ˆç¬¬2è®²ï¼Œ1ï¼š13ï¼š08ï¼‰ï¼š 
 â€œä¾‹å¦‚ï¼Œæœ‰äº›arduinoé©¾é©¶å‘˜ï¼ˆå°¤å…¶æ˜¯...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arduinoä¸Šçš„è®¡æ—¶å™¨å’Œå¤šä»»åŠ¡</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413779/"><img src="https://habrastorage.org/webt/sg/r-/td/sgr-tdkcfdciv5g3fmtr7xz9jtk.jpeg" alt="å›¾ç‰‡"><br><br> ä»Šå¤©ï¼Œæˆ‘ä»¬å°†è®¨è®ºä¸Arduinoä¸Šçš„è®¡æ—¶å™¨å’Œå¤šä»»åŠ¡ç›¸å…³çš„è¯é¢˜ã€‚ æ’°å†™æœ¬æ–‡çš„åŸå› æ˜¯<b>Oleg Artamonov</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">@olartamonov</a> <b>åœ¨ä¸‰æ˜Ÿç‰©è”ç½‘å­¦é™¢</b>çš„æ¡†æ¶<b>ä¸­</b>ä¸º<b>MIREA</b>å­¦ç”Ÿæä¾›çš„è®²åº§ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´ï¼Œæ˜¯Olegçš„å£°æ˜ï¼Œå¼•ç”¨ï¼ˆç¬¬2è®²ï¼Œ1ï¼š13ï¼š08ï¼‰ï¼š <br><blockquote>  <em>â€œä¾‹å¦‚ï¼Œæœ‰äº›arduinoé©¾é©¶å‘˜ï¼ˆå°¤å…¶æ˜¯åˆå­¦è€…ï¼‰å¯èƒ½ä¼šè¢«æ‰“ç ´ï¼Œè¦æ±‚ä»–ä»¬ä½¿ç”¨å…·æœ‰ä¸åŒé¢‘ç‡å’Œå‘¨æœŸçš„äº”ä¸ªä¸åŒçš„LEDé—ªçƒï¼Œä»¥ä¾¿æ¯ä¸ªLEDå¯ä»¥å•ç‹¬æ›´æ”¹å¦ä¸€ä¸ªå‘¨æœŸ...â€</em> </blockquote><br> ä»å¥¥åˆ—æ ¼ï¼ˆOlegï¼‰çš„é™ˆè¿°æ¥çœ‹ï¼Œä»–å¯¹Arduinoå°¤å…¶æ˜¯å¯¹â€œ arduinoâ€æœ‰ä¸€ä¸ªéå¸¸è¯¯è§£ã€‚ ä»¥ArduinoæŒ‡ç¤ºçš„æ¨¡å¼ä»¥äº”ä¸ªLEDé—ªçƒæ˜¯ç»å¯¹å¾®ä¸è¶³é“çš„ä»»åŠ¡ï¼Œå¯¹äº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Arduino Mega Server</a>æ¥è¯´è¿™æ ¹æœ¬ä¸æ˜¯ä¸€é¡¹ä»»åŠ¡ï¼Œè€Œæ˜¯ä¸€ä¸ªçœŸæ­£çš„è¯¯è§£-å¤šä»»åŠ¡æ˜¯é€šè¿‡å…¶å¸¸è§„æ–¹å¼ç»„ç»‡çš„ï¼Œå®ƒå¯ä»¥è½»æ¾æ§åˆ¶æ•°ç™¾ä¸ªä¸åŒçš„å®ä½“ï¼ˆLEDï¼Œä¼ºæœå™¨ï¼Œæ­¥è¿›ç”µæœºç­‰ï¼‰ã€‚ dã€‚ï¼‰å®æ—¶ã€‚ <br><br> è®©æˆ‘ä»¬å¼„æ¸…æ¥šå¦‚ä½•åœ¨Arduinoä¸Šä¸€èµ·ç»„ç»‡å¤šä»»åŠ¡ï¼ŒåŒæ—¶å¸®åŠ©<b>MIREA</b>å­¦ç”Ÿæ‘†è„±å¯¹ä»–ä»¬ä¸å½“ä»Šæ—¶ä»£ç§°ä¸º<b>Arduino</b>çš„ç¤¾ä¼šæ–‡åŒ–å’ŒæŠ€æœ¯ç°è±¡æœ‰å…³çš„åˆ»æ¿å°è±¡ã€‚ <br><a name="habracut"></a><br><h2>  Oleg Artamonovçš„æ¼”è®² </h2><br> æˆ‘ä»¬å¿…é¡»è‡´æ•¬ï¼ŒOlegçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¼”è®²</a>æœ¬èº«å¾ˆå¥½-å®ƒä»¬æä¾›äº†è®¸å¤šæœ‰å…³å¾®æ§åˆ¶å™¨çš„æœ‰ç”¨ä¸”ç»“æ„è‰¯å¥½çš„ä¿¡æ¯ï¼Œæˆ‘å»ºè®®å¯¹è¿™ä¸ªé—®é¢˜æ„Ÿå…´è¶£çš„æ¯ä¸ªäººéƒ½ç†Ÿæ‚‰å®ƒä»¬ã€‚ åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™äº›è®²åº§çš„å”¯ä¸€ç¼ºç‚¹ä¼¼ä¹æ˜¯å…³äºArduinoçš„å…¬å¼€æŠ€æœ¯å¹å˜˜ï¼Œå®ƒåœ¨Arduinoä¸­å……å½“â€œé­æ‰“ç”·å­©â€çš„è§’è‰²ã€‚ <br><br> ç‰¹åˆ«æ˜¯ï¼Œåœ¨æ‰€æœ‰è®²åº§ä¸­ï¼ŒOlegéƒ½å¼ºè¡Œå£°æ˜äº†Arduinoä¸é€‚åˆæ„å»ºå¤æ‚çš„å¤šä»»åŠ¡ç³»ç»Ÿï¼Œè¿™ä¸äº‹å®å’Œå®é™…åšæ³•ç›¸çŸ›ç›¾ã€‚ <br><br> åœ¨Arduinoä¸Šï¼Œæ‚¨å¯ä»¥åˆ›å»ºä»¤äººæƒŠå¹çš„å¤šä»»åŠ¡ç³»ç»Ÿï¼Œå…¶ä¸­æ•°åä¸ªå®ä½“ï¼ˆLEDï¼Œä¼ æ„Ÿå™¨ï¼Œæ‰§è¡Œå™¨ï¼Œä¼ºæœå™¨ï¼Œæ­¥è¿›ç”µæœºï¼Œæ— çº¿å’Œæœ‰çº¿æ¥å£ç­‰ï¼‰åœ¨ï¼ˆä¼ªè‡ªç„¶ï¼‰å¤šä»»åŠ¡æ¨¡å¼ä¸‹åŒæ—¶å·¥ä½œã€‚ <br><br> æˆ‘ä»¬ä¸ä¼šèµ°å¾ˆå¤šä¾‹å­ã€‚ è¿™æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å†¬å­£èŠ±å›­</a> ï¼ˆâ€œæ™ºèƒ½æ¸©å®¤â€ï¼‰çš„é¡¹ç›®ï¼Œå…¶ä¸­ä»¥ä¸‹å®ä½“ä»¥å¤šä»»åŠ¡æ¨¡å¼å®æ—¶å·¥ä½œï¼š <br><br><img src="https://habrastorage.org/webt/e5/yx/ns/e5yxnsflc4qstojjeq_hpjgh1kk.png" alt="å›¾ç‰‡"><br><br>  <i>å…·æœ‰å¤§é‡è¿æ¥çš„å®æ—¶è®¾å¤‡çš„åˆ†å¸ƒå¼nRF24æ§åˆ¶å™¨çš„æ‹“æ‰‘ã€‚</i>  <i>ç”¨æˆ·åªå¤„ç†â€œåŸºç¡€â€ï¼ŒnRF24åˆä½œä¼™ä¼´çš„å·¥ä½œå¯¹ä»–æ˜¯å®Œå…¨é€æ˜çš„ã€‚</i>  <i>è€Œä¸”ï¼Œæ˜¯çš„ï¼Œè¿™æ˜¯Arduinoã€‚</i> <br><br> åœ¨â€œåŸºåœ°â€ï¼š <br><br>  -7ä¸ªä¼ºæœå™¨ <br>  -9ä¸ªæ­¥è¿›ç”µæœº <br>  -6ä¸ªç»§ç”µå™¨ <br>  -3ä¸ªåœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨ <br>  -2ä¸ªå…‰ä¼ æ„Ÿå™¨ <br>  -æ°´ä½ä¼ æ„Ÿå™¨ <br>  -æ¹¿åº¦å’Œç©ºæ°”æ¸©åº¦ä¼ æ„Ÿå™¨ <br><br> åœ¨è¿œç¨‹éƒ¨åˆ†çš„nRF24ä¸Šï¼š <br><br>  -12ä¸ªåœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨ <br>  -12ä¸ªç»§ç”µå™¨ <br>  -3ä¸ªæ­¥è¿›ç”µæœº <br>  -2ä¸ªå…‰ä¼ æ„Ÿå™¨ <br>  -æ°´ä½ä¼ æ„Ÿå™¨ <br><br> æ­¤å¤–ï¼ŒnRF24æœ¬èº«å¯ä»¥å®æ—¶åœ¨ç³»ç»Ÿçš„ä¸¤ä¸ªåˆ†å¸ƒå¼éƒ¨åˆ†ä¹‹é—´è¿è¡Œï¼Œå¹¶åœ¨æœåŠ¡å™¨å’ŒæœåŠ¡å™¨å¼•æ“çš„ä»¥å¤ªç½‘æ¥å£ä¹‹é—´è¿è¡Œï¼Œä»è€Œæä¾›ç³»ç»Ÿçš„Webç”¨æˆ·ç•Œé¢ã€‚ <br><br> æ€»ä½“ä¸Šï¼Œåœ¨å¤šä»»åŠ¡å¤„ç†æ¨¡å¼ä¸‹ï¼Œå®æ—¶è‡³å°‘æœ‰60ä¸ªå®ä½“åœ¨8ä½Megaä¸Šè¿è¡Œï¼ˆè¿™è¿˜ä¸åŒ…æ‹¬AMSæ“ä½œç³»ç»Ÿæœ¬èº«çš„è®¸å¤šæœåŠ¡ï¼Œå®ä½“çš„æ•°é‡å°†æ¥è¿‘100ï¼‰ã€‚ è¿™æ˜¾ç„¶ä¸â€œåœ¨Arduinoä¸Šæ— æ³•å®ç°çœŸæ­£â€‹â€‹çš„å¤šä»»åŠ¡å¤„ç†ï¼Œå³ä½¿ä¸Šé¢æœ‰äº”ä¸ªLEDæŒ‡ç¤ºç¯é—ªçƒä¹Ÿå­˜åœ¨é—®é¢˜â€çš„è¯´æ³•ä¸ç¬¦ã€‚ <br><br><h2> æå«Arduinoçš„å‡ å¥è¯ </h2><br>  ï¼ˆå°½ç®¡å¾ˆæ˜æ˜¾ï¼ŒArduinoæ˜¯ä¸€ç§ç¤¾ä¼šæ–‡åŒ–å’ŒæŠ€æœ¯ç°è±¡ï¼Œæ‹¥æœ‰æ•°ç™¾ä¸‡ç²‰ä¸å’Œæ•°ä»¥åƒè®¡çš„æƒŠäººé¡¹ç›®ï¼Œä½†å¹¶ä¸éœ€è¦ä¿æŠ¤ã€‚ï¼‰ <br><br> æˆ‘å·²ç»è¯´è¿‡å¾ˆå¤šéäº†ï¼Œå¹¶ä¸”ä¼šå†æ¬¡é‡ç”³ï¼Œäº‹å®ä¸Šï¼ŒArduinoåœ¨å…¶è½¯ä»¶ç»„ä»¶ä¸­åªæ˜¯å…·æœ‰è‡ªèº«ä¼˜ç¼ºç‚¹çš„å¯èƒ½æŠ½è±¡çº§åˆ«ä¹‹ä¸€ï¼ˆå°±åƒå…¶ä»–ä»»ä½•æŠ½è±¡çº§åˆ«ä¸€æ ·ï¼‰ã€‚ è€Œä¸”ï¼Œå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œåœ¨ä»–çš„å°ç‰‡ç¡…ç‰‡ä¸­â€œæ—‹è½¬â€ä»€ä¹ˆæ˜¯ç»å¯¹æ²¡æœ‰åŒºåˆ«çš„-çº¯ç²¹çš„Arduinoï¼ŒRTOSï¼ŒRIOT OSï¼ŒAMSæˆ–æ§åˆ¶å™¨é“èµ„æºçš„è¡¨ç¤ºå’Œç®¡ç†çš„å…¶ä»–ä¸€äº›æ•°å­¦æŠ½è±¡ã€‚ <br><br> å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œè§£å†³ä»–çš„é—®é¢˜å¾ˆé‡è¦-å¯¹äºæ§åˆ¶å™¨ç»™æ¤ç‰©æµ‡æ°´ï¼Œå¼€ç¯ï¼Œæ§åˆ¶çª—å¸˜ç­‰ã€‚ä¸»è¦é—®é¢˜ä¸åœ¨äºå¼€å‘ä¸­ä½¿ç”¨çš„å·¥å…·ï¼Œè€Œåœ¨äºä½¿ç”¨å®ƒä»¬çš„èƒ½åŠ›ä»¥åŠå¼€å‘äººå‘˜æœ¬äººçš„æƒ³è±¡åŠ›å’Œå·¥ç¨‹è§†é‡ã€‚ <br><br><h2> å¦‚ä½•è¿ä½œï¼Ÿ </h2><br> å°±å…¶æœ¬èº«è€Œè¨€ï¼Œå¾®æ§åˆ¶å™¨ä¸Šçš„å¤šä»»åŠ¡å¯ä»¥ä»¥ä¸åŒçš„æ–¹å¼ç»„ç»‡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†è®¨è®ºæœ€ç®€å•çš„ä¸€ç§-è¿›ç¨‹è½®æµè¿›è¡Œæ§åˆ¶ï¼Œå¹¶åœ¨ä½¿ç”¨å…¶æ—¶é—´ç‰‡åè‡ªæ„¿æ”¾å¼ƒã€‚ å½“ç„¶ï¼Œè¿™ç§æ–¹æ³•å¹¶éæ²¡æœ‰æ˜æ˜¾çš„ç¼ºç‚¹ï¼Œä½†æ˜¯ï¼Œæ­£å¦‚ä»–ä»¬æ‰€è¯´ï¼Œå®è·µæ˜¯ä¸€ç§çœŸç†çš„æ ‡å‡†ï¼Œå¹¶ä¸”å·²ç»åœ¨çœŸå®æ¡ä»¶ä¸‹è¯æ˜äº†è‡ªå·±ï¼šåœ¨æ ‡å‡†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Arduino Mega Server</a>å‘è¡Œç‰ˆå’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AMS Proçš„</a>è®¸å¤šé¡¹ç›®ä¸­éƒ½ä½¿ç”¨äº†è¿™ç§æ–¹æ³•ã€‚ è¿™äº›ç³»ç»Ÿå¯ä»¥24/7å…¨å¤©å€™å·¥ä½œï¼Œå¹¶ä¸”å·²ç»åœ¨è®¸å¤šä¸ªæœˆçš„æ— æ•…éšœè¿è¡Œä¸­ç¡®è®¤äº†æ­£å¸¸è¿è¡Œæ—¶é—´ã€‚ <br><br><img src="https://habrastorage.org/webt/ah/tv/7o/ahtv7ojyq8wvvxj09tg2k0o26s4.png" alt="å›¾ç‰‡"><br><br>  <i>è¿™è¡¨æ˜åˆ†å¸ƒå¼nRF24ç³»ç»Ÿçš„å¤§çº¦ä¸€ç™¾ä¸ªå®ä½“æ˜¯å®æ—¶ç‹¬ç«‹ç®¡ç†çš„ã€‚</i>  <i>è¯·æ³¨æ„æœ€åä¸¤ä¸ªCPUæŒ‡ç¤ºå™¨-å³ä½¿åœ¨8ä½Megaä¸Šï¼Œå¤„ç†å™¨è´Ÿè½½ä¹Ÿä¸ºé›¶ï¼ˆå³ç³»ç»Ÿå®Œå…¨ç©ºé—²ï¼‰ã€‚</i> <br><br><h2> å…³äºè®¡æ—¶å™¨çš„ä¸€äº›çŸ¥è¯† </h2><br> ä¸ºäº†ç»„ç»‡å¤æ‚ç³»ç»Ÿçš„æ§åˆ¶ï¼Œä»…åœ¨è¿‡ç¨‹ä¹‹é—´ä¾æ¬¡è½¬ç§»æ§åˆ¶æ˜¯ä¸å¤Ÿçš„ï¼Œå¹¶ä¸”éšç€è‡ªåŠ¨æ§åˆ¶è½¬ç§»åˆ°AMSï¼Œä½¿ç”¨äº†å„ç§ç±»å‹çš„è®¡æ—¶å™¨ï¼šå¾ªç¯ï¼Œå…·æœ‰ç»™å®šé‡å¤æ¬¡æ•°ï¼ˆæ‰¹å¤„ç†ï¼‰çš„å¾ªç¯ï¼Œå•ä¸ªï¼Œéšæœºï¼Œæ··åˆç­‰ã€‚æ‰€æœ‰è¿™äº›éƒ½æ˜¯æœ‰ç»„ç»‡çš„Arduinoçš„æœ¬æœºæ–¹å¼ï¼Œä¸ä½¿ç”¨ä¸­æ–­æˆ–ç›´æ¥å¯¹å¾®æ§åˆ¶å™¨è®¡æ—¶å™¨è¿›è¡Œç¼–ç¨‹ï¼ˆä½†æ˜¯ï¼Œä¸­æ–­æ˜¯ç³»ç»Ÿâ€œå‡ºäºå…¶é¢„æœŸç›®çš„â€ä½¿ç”¨çš„ï¼‰ã€‚ <br><br> è¿™åˆç›´æ¥ä¸ä»¥ä¸‹è¯´æ³•èƒŒé“è€Œé©°ï¼šâ€œå°†æœ‰è¶³å¤Ÿçš„ç†¨æ–—è®¡æ—¶å™¨æ¥å®¹çº³3ä¸ªLEDï¼Œä»é‚£æ—¶èµ·ï¼Œå»ºç­‘å­¦å®¶å°†é‡åˆ°é—®é¢˜ã€‚â€ ä¸è¦å¼€å§‹ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•æ•°é‡çš„ä»»ä½•ç±»å‹çš„è®¡æ—¶å™¨ã€‚ è€Œä¸”ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿è‡ªå·±å˜å¾—æ›´åŠ æ–°é¢–å’Œéšæ„ã€‚ <br><br><h2> ä¸»è¦æƒ…å†µ </h2><br> è¿™ç§å¤šä»»åŠ¡ç»„ç»‡çš„ä¸»è¦æƒ…å†µæ˜¯åˆ›å»ºæ‰€è°“çš„â€œéé˜»å¡â€ä»£ç ï¼Œå³ä¸ä½¿ç”¨delayï¼ˆï¼‰å‡½æ•°çš„ä»£ç ï¼Œè¯¥å‡½æ•°åªæ˜¯å°†ç¨‹åºæš‚åœç»™å®šæ—¶é—´ã€‚ <br><br><h2> å®æ—¶æ€§ </h2><br> å¯ä»¥å°†æ‰€æè¿°çš„ç”¨äºå®ç°å¤šä»»åŠ¡çš„æ–¹æ³•æè¿°ä¸ºâ€œè½¯å®æ—¶â€ï¼Œç³»ç»Ÿä¸­çš„å…¸å‹å»¶è¿Ÿæ—¶é—´ä¸º10æ¯«ç§’ï¼ˆä½†å³°å€¼å»¶è¿Ÿå¯èƒ½æ›´é•¿ï¼Œå¹¶ä¸”æ²¡æœ‰æ ‡å‡†åŒ–ï¼‰ã€‚ è¿™å¯¹è¯¥è§£å†³æ–¹æ¡ˆçš„åº”ç”¨èŒƒå›´æ–½åŠ äº†ä¼—æ‰€å‘¨çŸ¥çš„é™åˆ¶ï¼Œä½†æ˜¯å¯¹äºå¤§å¤šæ•°â€œå®¶åº­â€ä»»åŠ¡ï¼ˆä¸ä»…æ˜¯ï¼‰ï¼Œå®ƒéå¸¸é€‚åˆï¼Œè¯·å‚è§ä¸Šé¢çš„ç¤ºä¾‹ã€‚ <br><br> å¦‚æœæ‚¨éœ€è¦æ›´ä¸¥æ ¼çš„å®æ—¶æ§åˆ¶ï¼Œåˆ™éœ€è¦å¯¹ç‰¹å®šä»»åŠ¡çš„ä»£ç è¿›è¡Œç‰¹æ®Šä¼˜åŒ–ï¼Œé‡æ–°æ¶æ„ï¼Œæˆ–è€…åœ¨æç«¯æƒ…å†µä¸‹ä¸ºç‰¹å®šåŠŸèƒ½åˆ†é…å•ç‹¬çš„æ§åˆ¶å™¨ã€‚ ä¾‹å¦‚ï¼Œçªå‡ºæ˜¾ç¤ºç”¨äºæ™ºèƒ½LEDç¯æ¡çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å•ç‹¬çš„</a>æ•ˆæœ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ§åˆ¶å™¨</a> ã€‚ <br><br> è¿™æ˜¯å¯¹Arduinoå°¤å…¶æ˜¯AMSä¸­å¤šä»»åŠ¡å·¥ä½œçš„ä¸€èˆ¬ç†è®ºæè¿°ï¼Œç°åœ¨æˆ‘ä»¬è½¬å‘è€ƒè™‘å®é™…ç¤ºä¾‹ã€‚ <br><br><h2> å¾ªç¯è®¡æ—¶å™¨ </h2><br><br><img src="https://habrastorage.org/webt/0k/h2/bq/0kh2bq_ef3l-7n-o61_lwpd4bky.jpeg" alt="å›¾ç‰‡"><br><br> è€ƒè™‘æœ€ç®€å•çš„å¾ªç¯è®¡æ—¶å™¨çš„å®ç°ã€‚ è¿™äº›æ˜¯è®¡æ—¶å™¨ï¼ˆåœ¨AMSâ€œå‘¨æœŸâ€çš„æœ¯è¯­ä¸­ï¼‰ï¼Œå®ƒä»¬ä»¥æŸäº›é¢„å®šä¹‰çš„æ—¶é—´é—´éš”æ¿€æ´»ï¼Œå¹¶ç”¨äºæ¿€æ´»å¾ªç¯è¿‡ç¨‹ã€‚ <br><br> é€šå¸¸ï¼Œæœ€å¥½ä»¥ç¼–ç¨‹æ–¹å¼å°†è®¡æ—¶å™¨è®¾è®¡ä¸ºå¯¹è±¡ï¼Œä½†æ˜¯åœ¨Arduino Mega Serverçš„æ ‡å‡†äº¤ä»˜ä¸­ï¼Œè¿™äº›è®¡æ—¶å™¨è¢«å®ç°ä¸ºåŠŸèƒ½ï¼Œå› æ­¤ï¼Œå¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ç§å‡è®¾ä¸­è€ƒè™‘å®ƒä»¬ã€‚ <br><br> ä½¿ç”¨å¾ªç¯è®¡æ—¶å™¨éå¸¸ç®€å•ï¼šåªéœ€å°†éœ€è¦å®šæœŸæ‰§è¡Œçš„ä»£ç æ”¾åœ¨ifè¯­å¥çš„æ‹¬å·ä¹‹é—´ã€‚ å¦‚æœéœ€è¦ä½¿ç”¨å…¶ä»–è§¦å‘é—´éš”ï¼Œåˆ™åªéœ€ä½¿ç”¨æ‰€éœ€çš„å˜é‡è€Œä¸æ˜¯cycle1sã€‚ æ‚¨å¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®ä»»æ„å¤šä¸ªå‘¨æœŸ-å³ä½¿åœ¨8ä½Megaä¸Šï¼Œç³»ç»Ÿä¹Ÿå¯ä»¥è½»æ¾åœ°å¤„ç†æ•°ç™¾ä¸ªæ­¤ç±»è®¡æ—¶å™¨ï¼ˆå½“ç„¶ï¼Œåªæœ‰æ‚¨éœ€è¦è®°ä½è¢«è°ƒç”¨çš„ä»£ç æ²¡æœ‰é˜»å¡ï¼‰ã€‚ <br><br><pre><code class="java">  if (cycle1s) {
    // ,   , ,  
  }
</code></pre><br>
   .      :<br>
<br>
<pre><code class="java">// Cycles
bool cycle1s  = false;
bool cycle5s  = false;
bool cycle20s = false;
bool cycle30s = false;
bool cycle1m  = false;
bool cycle3m  = false;
bool cycle5m  = false;
</code></pre><br>
              .<br>
<br>
 Â«TimersÂ»:<br>
<br>
<pre><code class="java">/*
  Module Timers
  part of Arduino Mega Server project
*/

// Cycles
unsigned long timeSec;
unsigned long timer1s;
unsigned long timer5s;
unsigned long timer20s;
unsigned long timer30s;
unsigned long timer1m;
unsigned long timer3m;
unsigned long timer5m;

void timersInit() {
  unsigned long uptimeSec = millis() / 1000;
  timeSec  = uptimeSec;
  timer1s  = uptimeSec;  
  timer5s  = uptimeSec; 
  timer20s = uptimeSec;
  timer30s = uptimeSec;
  timer1m  = uptimeSec;
  timer3m  = uptimeSec;
  timer5m  = uptimeSec;
}

void timersWorks() {
  timeSec = millis() / 1000;
    if (timeSec - timer1s  &gt;=  1)  {
                                    timer1s  = timeSec; cycle1s  = true;
    if (timeSec - timer5s  &gt;=  5)  {timer5s  = timeSec; cycle5s  = true;}
    if (timeSec - timer20s &gt;= 20)  {timer20s = timeSec; cycle20s = true;}
    if (timeSec - timer30s &gt;= 30)  {timer30s = timeSec; cycle30s = true;}
    if (timeSec - timer1m  &gt;= 60)  {timer1m  = timeSec; cycle1m  = true;}
    if (timeSec - timer3m  &gt;= 180) {timer3m  = timeSec; cycle3m  = true;}
    if (timeSec - timer5m  &gt;= 300) {timer5m  = timeSec; cycle5m  = true;}
  }
}

void eraseCycles() {
  cycle1s  = false;
  cycle5s  = false;
  cycle20s = false;
  cycle30s = false;
  cycle1m  = false;
  cycle3m  = false;
  cycle5m  = false;
}
</code></pre><br>
        .         -  ,        .         ,   ,           .<br>
<br>
<pre><code class="java">void loop() {
  timersWorks();

  //   

  eraseCycles();
}
</code></pre><br>
<h2>     </h2><br>
     ,      ,    .   myCycle.<br>
<br>
      ,     :<br>
<br>
<pre><code class="java">/*
  myCycle Library
  part of Arduino Mega Server project
*/

#ifndef _MYCYCLE_H
#define _MYCYCLE_H

#define MS_500       500
#define MS_01S      1000
#define MS_02S      2000
#define MS_05S      5000
#define MS_10S     10000
#define MS_13S     13000
#define MS_17S     17000
#define MS_20S     20000
#define MS_30S     30000
#define MS_01M     60000
#define MS_03M    180000
#define MS_05M    300000
#define MS_01H   3600000
#define MS_06H  21600000
#define MS_12H  43200000
#define MS_01D  86400000

class myCycle {
  private:
    bool          _go;
    bool          _active;
    unsigned long _start;
    unsigned long _period;
  
  public:
    myCycle(unsigned long per, bool act);
    void reInit(unsigned long per, bool act);
    void reStart();
    bool check();
    bool go();
    void clear();
    
    // active
    bool active();
    void setActive(bool act);
    // period
    unsigned long period();
    void setPeriod(unsigned long per);
}; // class myCycle

#endif // _MYCYCLE_H
</code></pre><br>
       :<br>
<br>
<pre><code class="java">/*
  myCycle Library
  part of Arduino Mega Server project
*/

#include "myCycle.h"
#include &lt;Arduino.h&gt;

myCycle::myCycle(unsigned long per, bool act) {
  _go     = false;
  _active = act;
  _period = per;
  _start  = millis();
}

// Methods

void myCycle::reInit(unsigned long per, bool act) {
  _go     = false;
  _active = act;
  _period = per;
  _start  = millis();
}

void myCycle::reStart() {
  _start = millis();
}

bool myCycle::check() {
  if (millis() - _start &gt;= _period) {
    _start = millis();
    if (_active) {
      _go = true;
    }
  }
  return _go;
}

bool myCycle::go() {
  return _go;
}

void myCycle::clear() {
  _go = false;
}

// Active

bool myCycle::active() {
  return _active;
}

void myCycle::setActive(bool act) {
  _active = act;
}

// Period

unsigned long myCycle::period() {
  return _period;
}

void myCycle::setPeriod(unsigned long per) {
  _period = per;
}
</code></pre><br>
          Â«Â» :                 Â«  Â».<br>
<br>
  :<br>
<br>
 :<br>
<br>
<pre><code class="java">#include "myCycle.h"
</code></pre><br>
 :<br>
<br>
<pre><code class="java">// Cycles
myCycle cycle500(MS_500, true);
myCycle cycle2s(MS_02S, true);
myCycle cycle5s(MS_05S, true);
</code></pre><br>
    :<br>
<br>
<pre><code class="java">void timersWorks() {
  cycle500.check();
  cycle2s.check();
  cycle5s.check();
}

void eraseCycles() {
  cycle500.clear();
  cycle2s.clear();
  cycle5s.clear();
}
</code></pre><br>
          :<br>
<br>
<pre><code class="java">void loop() {
  timersWorks();

  //   

  if (cycle5s.go()) {
    Serial.println(F("cycle5s!"));
  }

  eraseCycles();
}
</code></pre><br>
     ,  ,    . ,    / ,     ,    ,          .<br>
<br>
<h2>    Arduino</h2><br>
<br>
<img src="https://habrastorage.org/webt/cf/wq/ub/cfwqubjggo0hgwdvwwvz7ewacsq.jpeg" alt="image"><br>
<br>
   ,              â€”         .     ,        .       ,    AMS      .<br>
<br>
<h2>     ()</h2><br>
 ,      . ,    3       nRF24.    3         .<br>
<br>
       /        .&nbsp;.<br>
<br>
<h2></h2><br>
     Â«Â»,  -           - .<br>
<br>
<h2></h2><br>
      - ,         ,        .<br>
<br>
,      ,        .        ,     , ,   20 ,            Â«Â»,     Â«Â»     ,       .       ,   Â«Â»            .<br>
<br>
      ,     .        â€”   Arduino Mega Server    .<br>
<br>
<h2></h2><br>
   ,        ,            /  ,    Â« Â»  .&nbsp;.<br>
<br>
          â€”    ,   8- .<br>
<br>
<h2> </h2><br>
 , ,          Arduino   -  â€”         â€”                ,       .<br>
<br>
        ,       Arduino Mega Server           .<br>
<br>
<h2></h2><br>
 ,  ,   Arduino     ,         ,  , Arduino       ()     .<br>
<br>
        ,     ,        .<br>
<br>
<b>P.S.</b><br>
  , <b>0.17</b>  Arduino Mega Server  Arduino Mega, Due, 101  M0,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>.  ,    ,    .</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN413779/">https://habr.com/ru/post/zh-CN413779/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN413769/index.html">æ©¡æ ‘å²­å›½å®¶å®éªŒå®¤å¯åŠ¨äº†Summitä¸–ç•Œä¸Šæœ€å¿«çš„è¶…çº§è®¡ç®—æœº</a></li>
<li><a href="../zh-CN413771/index.html">ä»£ç†å•†/ç”Ÿäº§æœºæ„åœ¨ç»„ç»‡è‡ªå·±çš„ä¼šå‘˜è®¡åˆ’æ—¶éœ€è¦äº†è§£ä»€ä¹ˆ</a></li>
<li><a href="../zh-CN413773/index.html">åœ¨åŒä¸€æ¡æ²³ä¸­ä¸¤æ¬¡æˆ–å…³äºèŒä¸šå€¦æ€ çš„é—®é¢˜ä¸æ˜¯å¾ˆå¤š</a></li>
<li><a href="../zh-CN413775/index.html">Machines Can See 2018çš„å¯¹æŠ—æ”»å‡»</a></li>
<li><a href="../zh-CN413777/index.html">å‘¨æœ«é˜…è¯»ï¼šIaaSå…¥é—¨èµ„æ–™ï¼Œä¿¡æ¯å®‰å…¨å’ŒITç›‘ç®¡æ´»åŠ¨</a></li>
<li><a href="../zh-CN413781/index.html">å¹¿å‘ŠçŒçŠ¬å¦‚ä½•åœ¨äº’è”ç½‘ä¸Šæ­¥å±¥ç»´è‰°</a></li>
<li><a href="../zh-CN413783/index.html">æœ€å¤§è´¨é‡çš„æ’æ˜Ÿå¦‚ä½•æ­»äº¡ï¼šè¶…æ–°æ˜Ÿï¼Œè¶…æ–°æ˜Ÿæˆ–ç›´æ¥åç¼©ï¼Ÿ</a></li>
<li><a href="../zh-CN413787/index.html">è§’åº¦ï¼šngx-translateã€‚ ä½¿ç”¨Webpackæ”¹å–„åŸºç¡€æ¶æ„</a></li>
<li><a href="../zh-CN413789/index.html">åœ¨ä½›ç½—é‡Œè¾¾å·ï¼Œç”±äºå¿˜è®°äº†å¯†ç ï¼Œä»–ä»¬ä¸€å¹´æ²¡æœ‰åœ¨FBIåŸºåœ°æ£€æŸ¥æ­¦å™¨è´­ä¹°è€…</a></li>
<li><a href="../zh-CN413791/index.html">JSä¸­çš„è®¡ç®—é‡å­åŠ›å­¦</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>