<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤• ğŸŒ‡ ğŸ‘†ğŸ½ Erlangçš„å•å­ ğŸ’® ğŸŒ² ğŸ¤¹ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨å“ˆå¸ƒé›·ï¼ˆHabrÃ©ï¼‰ä¸Šï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°è®¸å¤šå‡ºç‰ˆç‰©ï¼Œè¿™äº›å‡ºç‰ˆç‰©æ­ç¤ºäº†Monadçš„ç†è®ºåŠå…¶åº”ç”¨å®è·µã€‚ è¿™äº›æ–‡ç« å¤§å¤šæ•°éƒ½æ˜¯å…³äºHaskellçš„ã€‚ æˆ‘ä¸ä¼šç¬¬næ¬¡é‡è¿°è¯¥ç†è®ºã€‚ ä»Šå¤©ï¼Œæˆ‘ä»¬å°†è®¨è®ºä¸€äº›Erlangé—®é¢˜ï¼Œä½¿ç”¨monadè§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œéƒ¨åˆ†ä½¿ç”¨åŠŸèƒ½ä»¥åŠæ¥è‡ªerlandoçš„è¯­æ³•ç³–ï¼ˆæ¥è‡ªRabbitMQå›¢é˜Ÿ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erlangçš„å•å­</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466697/"><p><img src="https://habrastorage.org/webt/uu/-w/xm/uu-wxmn1samfdcrveqdv27zpvvm.jpeg"></p><br><p> åœ¨å“ˆå¸ƒé›·ï¼ˆHabrÃ©ï¼‰ä¸Šï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°è®¸å¤šå‡ºç‰ˆç‰©ï¼Œè¿™äº›å‡ºç‰ˆç‰©æ­ç¤ºäº†Monadçš„ç†è®ºåŠå…¶åº”ç”¨å®è·µã€‚ è¿™äº›æ–‡ç« å¤§å¤šæ•°éƒ½æ˜¯å…³äºHaskellçš„ã€‚ æˆ‘ä¸ä¼šç¬¬næ¬¡é‡è¿°è¯¥ç†è®ºã€‚ ä»Šå¤©ï¼Œæˆ‘ä»¬å°†è®¨è®ºä¸€äº›Erlangé—®é¢˜ï¼Œä½¿ç”¨monadè§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œéƒ¨åˆ†ä½¿ç”¨åŠŸèƒ½ä»¥åŠæ¥è‡ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">erlandoçš„</a>è¯­æ³•ç³–ï¼ˆæ¥è‡ªRabbitMQå›¢é˜Ÿçš„ä¸€ä¸ªå¾ˆæ£’çš„åº“ï¼‰ã€‚ </p><a name="habracut"></a><br><h2 id="vvedenie"> å¼•è¨€ </h2><br><p>  Erlangå…·æœ‰ä¸å˜æ€§ï¼Œä½†æ²¡æœ‰monads <strong>*</strong> ã€‚ ä½†æ˜¯ç”±äºè¯­è¨€ä¸­çš„parse_transformåŠŸèƒ½å’Œerlandoå®ç°ï¼Œä»ç„¶æœ‰å¯èƒ½åœ¨Erlangä¸­ä½¿ç”¨monadã€‚ </p><br><p>å…³äºæ•…äº‹ä¸€å¼€å§‹çš„è±å…æƒï¼Œæˆ‘å¹¶ä¸æ˜¯å¶ç„¶åœ°è®²çš„ã€‚ å…ç–«å‡ ä¹æ— å¤„ä¸åœ¨ï¼Œè€Œä¸”æ°¸è¿œéƒ½æ˜¯-Erlangçš„ä¸»è¦æ€æƒ³ä¹‹ä¸€ã€‚ åŠŸèƒ½çš„å…ç–«åŠ›å’Œçº¯åº¦ä½¿æ‚¨å¯ä»¥ä¸“æ³¨äºç‰¹å®šåŠŸèƒ½çš„å¼€å‘ï¼Œè€Œä¸å¿…æ‹…å¿ƒå‰¯ä½œç”¨ã€‚ ä½†æ˜¯ï¼Œä¾‹å¦‚æ¥è‡ªJavaæˆ–Pythonçš„Erlangæ–°æ‰‹å‘ç°ï¼Œå¾ˆéš¾ç†è§£å’Œæ¥å—Erlangçš„æƒ³æ³•ã€‚ ç‰¹åˆ«æ˜¯å½“æ‚¨å›æƒ³èµ·Erlangè¯­æ³•æ—¶ã€‚ é‚£äº›å°è¯•å¼€å§‹ä½¿ç”¨Erlangçš„äººå¯èƒ½ä¼šæ³¨æ„åˆ°å®ƒçš„ä¸å¯»å¸¸å’Œç‹¬ç«‹æ€§ã€‚ æ— è®ºå¦‚ä½•ï¼Œæˆ‘å·²ç»ç§¯ç´¯äº†å¾ˆå¤šæ¥è‡ªåˆå­¦è€…çš„åé¦ˆï¼Œâ€œå¥‡æ€ªâ€çš„è¯­æ³•åœ¨è¯„åˆ†ä¸­å±…äºé¢†å…ˆåœ°ä½ã€‚ </p><br><h2 id="erlando"> å„å…°å¤š </h2><br><p>  Erlandoæ˜¯ä¸€ä¸ªErlangæ‰©å±•é›†ï¼Œå¯ä¸ºæˆ‘ä»¬æä¾›ï¼š </p><br><ul><li> éƒ¨åˆ†ä½¿ç”¨/å¸¦æœ‰ç±»ä¼¼æ–¹æ¡ˆçš„å‰Šå‡åŠŸèƒ½ </li><li> ç±»ä¼¼äºHaskellçš„ç¬¦å· </li><li>  import-as-ä»å…¶ä»–æ¨¡å—å¯¼å…¥åŠŸèƒ½çš„è¯­æ³•ç³–ã€‚ </li></ul><br><p>  <strong>æ³¨æ„ï¼š</strong>æˆ‘ä»¥ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ä¸ºä¾‹ï¼Œä»Matthew Sackmançš„æ¼”è®²ä¸­è¯´æ˜äº†erlandoçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡æˆ‘çš„ä»£ç å’Œè¯´æ˜å¯¹å®ƒä»¬è¿›è¡Œäº†éƒ¨åˆ†ç¨€é‡Šã€‚ </p><br><h2 id="abstrakciya-cut"> æŠ½è±¡åˆ‡ </h2><br><p> ç›´å¥”é‡ç‚¹ã€‚ è€ƒè™‘å®é™…é¡¹ç›®ä¸­çš„å‡ ä¸ªåŠŸèƒ½ï¼š </p><br><pre><code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">info_all</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(VHostPath, Items)</span></span></span><span class="hljs-function"> -&gt;</span></span> map(VHostPath, <span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> (Q) -&gt; info(Q, Items) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>). backing_queue_timeout(State = #q{ backing_queue = BQ }) -&gt; run_backing_queue( BQ, <span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> (M, BQS) -&gt; M:timeout(BQS) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, State). reset_msg_expiry_fun(TTL) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> (MsgProps) -&gt; MsgProps #message_properties{ expiry = calculate_msg_expiry(TTL)} <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre> <br><p> æ‰€æœ‰è¿™äº›åŠŸèƒ½æ—¨åœ¨å°†å‚æ•°æ›¿æ¢ä¸ºç®€å•è¡¨è¾¾å¼ã€‚ å®é™…ä¸Šï¼Œè¿™æ˜¯éƒ¨åˆ†åº”ç”¨ç¨‹åºï¼Œå› ä¸ºåœ¨è°ƒç”¨ä¹‹å‰æŸäº›å‚æ•°å°†æ˜¯æœªçŸ¥çš„ã€‚ è¿™äº›åŠŸèƒ½åŠ ä¸Šçµæ´»æ€§ï¼Œç»™æˆ‘ä»¬çš„ä»£ç å¢åŠ äº†å™ªéŸ³ã€‚ é€šè¿‡ç¨å¾®æ›´æ”¹è¯­æ³•-è¾“å…¥cut-å¯ä»¥æ”¹å–„æƒ…å†µã€‚ </p><br><h3 id="znachenie-_"> å€¼_ </h3><br><ul><li>  _å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ </li><li> å‰ªåˆ‡ä½¿æ‚¨å¯ä»¥ä½¿ç”¨_å¤–éƒ¨æ¨¡å¼ </li><li> å¦‚æœå®ƒ<em>åœ¨æ¨¡æ¿ä¹‹å¤–ï¼Œå®ƒå°†</em>æˆä¸º<em>å…¶æ‰€</em>åœ¨è¡¨è¾¾å¼çš„å‚æ•° </li><li> åœ¨åŒä¸€è¡¨è¾¾å¼ä¸­å¤šæ¬¡ä½¿ç”¨_ä¼šå¯¼è‡´æ­¤è¡¨è¾¾å¼ä¸­å¤šä¸ªå‚æ•°çš„æ›¿æ¢ </li><li>  Cutä¸èƒ½æ›¿ä»£ç“¶ç›–ï¼ˆç†”ç‚‰ï¼‰ </li><li> åœ¨cutå‡½æ•°ä¹‹å‰å…ˆè¯„ä¼°å‚æ•°ã€‚ </li></ul><br><p>  Cutåœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨_æŒ‡ç¤ºåº”åœ¨ä½•å¤„åº”ç”¨æŠ½è±¡ã€‚  Cutä»…åœ¨è¡¨è¾¾å¼ä¸­åŒ…è£…æœ€æ¥è¿‘çš„çº§åˆ«ï¼Œä½†ä¸ç¦æ­¢åµŒå¥—cutã€‚ <br> ä¾‹å¦‚<code>list_to_binary([1, 2, math:pow(2, _)]).</code>  <code>list_to_binary([1, 2, fun (X) -&gt; math:pow(2, X) end]).</code>åˆ°<code>list_to_binary([1, 2, fun (X) -&gt; math:pow(2, X) end]).</code> ä½†ä¸æ˜¯<code>fun (X) -&gt; list_to_binary([1, 2, math:pow(2, X)]) end.</code>  ã€‚ </p><br><p> å¬èµ·æ¥æœ‰äº›æ··ä¹±ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨cuté‡å†™ä¸Šé¢çš„ç¤ºä¾‹ï¼š </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">info_all</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(VHostPath, Items)</span></span></span><span class="hljs-function"> -&gt;</span></span> map(VHostPath, <span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> (Q) -&gt; info(Q, Items) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>). info_all(VHostPath, Items) -&gt; map(VHostPath, info(_, Items)).</code> </pre> <br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">backing_queue_timeout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(State = #q{ backing_queue = BQ })</span></span></span><span class="hljs-function"> -&gt;</span></span> run_backing_queue( BQ, <span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> (M, BQS) -&gt; M:timeout(BQS) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, State). backing_queue_timeout(State = #q{backing_queue = BQ}) -&gt; run_backing_queue(BQ, _:timeout(_), State).</code> </pre> <br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reset_msg_expiry_fun</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TTL)</span></span></span><span class="hljs-function"> -&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> (MsgProps) -&gt; MsgProps #message_properties { expiry = calculate_msg_expiry(TTL) } <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>. reset_msg_expiry_fun(TTL) -&gt; _ #message_properties { expiry = calculate_msg_expiry(TTL) }.</code> </pre> <br><h3 id="poryadok-vychisleniya-argumentov"> å‚æ•°è®¡ç®—é¡ºåº </h3><br><p> ä¸ºäº†è¯´æ˜å‚æ•°çš„è®¡ç®—é¡ºåºï¼Œè¯·è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_, _)</span></span></span><span class="hljs-function"> -&gt;</span></span> io:format(<span class="hljs-string"><span class="hljs-string">"in f1~n"</span></span>). test() -&gt; F = f1(io:format(<span class="hljs-string"><span class="hljs-string">"test line 1~n"</span></span>), _), F(io:format(<span class="hljs-string"><span class="hljs-string">"test line 2~n"</span></span>)).</code> </pre> <br><p> ç”±äºå‚æ•°æ˜¯åœ¨cutå‡½æ•°ä¹‹å‰æ±‚å€¼çš„ï¼Œå› æ­¤å°†æ˜¾ç¤ºä»¥ä¸‹å†…å®¹ï¼š </p><br><pre> <code class="plaintext hljs">test line 2 test line 1 in f1</code> </pre> <br><h3 id="abstrakciya-cut-v-razlichnyh-tipah-i-shablonah-koda"> å‡å°‘å„ç§ç±»å‹å’Œä»£ç æ¨¡å¼çš„æŠ½è±¡ </h3><br><ul><li> å…ƒç»„ <br><pre> <code class="erlang hljs">F = {_, <span class="hljs-number"><span class="hljs-number">3</span></span>}, {a, <span class="hljs-number"><span class="hljs-number">3</span></span>} = F(a).</code> </pre> </li><li> æ¸…å• <br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dbl_cons</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List)</span></span></span><span class="hljs-function"> -&gt;</span></span> [_, _ | List]. test() -&gt; F = dbl_cons([<span class="hljs-number"><span class="hljs-number">33</span></span>]), [<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">33</span></span>] = F(<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>).</code> </pre> </li><li> è®°å½• <br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">-record</span></span><span class="hljs-params"><span class="hljs-params">(vector, { x, y, z })</span></span>. test() -&gt; GetZ = _#vector.z, <span class="hljs-number"><span class="hljs-number">7</span></span> = GetZ(#vector { z = <span class="hljs-number"><span class="hljs-number">7</span></span> }), SetX = _#vector{x = _}, V = #vector{ x = <span class="hljs-number"><span class="hljs-number">5</span></span>, y = <span class="hljs-number"><span class="hljs-number">4</span></span> } = SetX(#vector{ y = <span class="hljs-number"><span class="hljs-number">4</span></span> }, <span class="hljs-number"><span class="hljs-number">5</span></span>).</code> </pre> </li><li> æ¡ˆä¾‹ <br><pre> <code class="erlang hljs">F = <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> N <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_integer(N) -&gt; N + N; N -&gt; N <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span> = F(<span class="hljs-number"><span class="hljs-number">5</span></span>), ok = F(ok).</code> </pre> </li><li> åœ°å›¾ <br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> -&gt;</span></span> GetZ = maps:get(z, _), <span class="hljs-number"><span class="hljs-number">7</span></span> = GetZ(#{ z =&gt; <span class="hljs-number"><span class="hljs-number">7</span></span> }), SetX = _#{x =&gt; _}, V = #{ x := <span class="hljs-number"><span class="hljs-number">5</span></span>, y := <span class="hljs-number"><span class="hljs-number">4</span></span> } = SetX(#{ y =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> }, <span class="hljs-number"><span class="hljs-number">5</span></span>).</code> </pre> </li><li> åŒ¹é…åˆ—è¡¨å’Œæ„é€ äºŒè¿›åˆ¶æ•°æ® <br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_cut_comprehensions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> -&gt;</span></span> F = &lt;&lt; &lt;&lt;(<span class="hljs-number"><span class="hljs-number">1</span></span> + (X*<span class="hljs-number"><span class="hljs-number">2</span></span>))&gt;&gt; || _ &lt;- _, X &lt;- _ &gt;&gt;, <span class="hljs-comment"><span class="hljs-comment">%% Note, this'll only be a /2 ! &lt;&lt;"AAA"&gt;&gt; = F([a,b,c], [32]), F1 = [ {X, Y, Z} || X &lt;- _, Y &lt;- _, Z &lt;- _, math:pow(X,2) + math:pow(Y,2) == math:pow(Z,2) ], [{3,4,5}, {4,3,5}, {6,8,10}, {8,6,10}] = lists:usort(F1(lists:seq(1,10), lists:seq(1,10), lists:seq(1,10))).</span></span></code> </pre> </li></ul><br><p>  <strong>ä¼˜ç‚¹</strong> </p><br><ul><li> ä»£ç å˜å¾—æ›´å°ï¼Œå› æ­¤æ›´æ˜“äºç»´æŠ¤ã€‚ </li><li> ä»£ç å˜å¾—æ›´åŠ ç®€å•å’Œæ•´æ´ã€‚ </li><li> æœ‰è¶£çš„å£°éŸ³æ¶ˆå¤±äº†ã€‚ </li><li> å¯¹äºErlangçš„åˆå­¦è€…æ¥è¯´ï¼Œç¼–å†™Get / Setå‡½æ•°æ›´åŠ æ–¹ä¾¿ã€‚ </li></ul><br><p>  <strong>ç¼ºç‚¹</strong> </p><br><ul><li> æé«˜äº†ç»éªŒä¸°å¯Œçš„Erlangå¼€å‘äººå‘˜çš„å…¥é—¨é—¨æ§›ï¼ŒåŒæ—¶é™ä½äº†åˆå­¦è€…çš„å…¥é—¨é—¨æ§›ã€‚ ç°åœ¨ï¼Œå›¢é˜Ÿéœ€è¦äº†è§£cutå¹¶äº†è§£å¦ä¸€ç§è¯­æ³•ã€‚ </li></ul><br><h2 id="do-notaciya"> åšè®°å· </h2><br><p> è½¯é€—å·æ˜¯ä¸€ç§è®¡ç®—ç»‘å®šæ„é€ ã€‚  Erlangæ²¡æœ‰æƒ°æ€§è®¡ç®—æ¨¡å‹ã€‚ è®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœErlangåƒHaskellä¸€æ ·æ‡’æƒ°ä¼šå‘ç”Ÿä»€ä¹ˆ </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> -&gt;</span></span> A = foo(), B = bar(A, dog), ok.</code> </pre> <br><p> ä¸ºäº†ä¿è¯æ‰§è¡Œé¡ºåºï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å®šä¹‰é€—å·æ¥æ˜¾å¼é“¾æ¥è®¡ç®—ã€‚ </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> -&gt;</span></span> A = foo(), comma(), B = bar(A, dog), comma(), ok.</code> </pre> <br><p> ç»§ç»­è½¬æ¢ï¼š </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> -&gt;</span></span> comma(foo(), <span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> (A) -&gt; comma(bar(A, dog), <span class="hljs-keyword"><span class="hljs-keyword">fun</span></span> (B) -&gt; ok <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>)).</code> </pre> <br><p> æ ¹æ®ç»“è®ºï¼Œé€—å·/ 2æ˜¯æƒ¯ç”¨å‡½æ•°<code>&gt;&gt;=/2</code> ã€‚  monadä»…éœ€è¦ä¸‰ä¸ªå‡½æ•°ï¼š <code>&gt;&gt;=/2</code> ï¼Œ <code>return/1</code>å’Œ<code>fail/1</code> ã€‚ <br> ä¸€åˆ‡éƒ½ä¼šå¥½çš„ï¼Œä½†æ˜¯è¯­æ³•å¾ˆç³Ÿç³•ã€‚ æˆ‘ä»¬ä½¿ç”¨<code>erlando</code>è¯­æ³•è½¬æ¢<code>erlando</code> ã€‚ </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([Monad || A &lt;- foo(), B &lt;- bar(A, dog), ok])</span></span></span><span class="hljs-function">.</span></span></code> </pre> <br><h2 id="tipy-monad"> å•å£°é“çš„ç±»å‹ </h2><br><p> ç”±äºdo-blockæ˜¯å‚æ•°åŒ–çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å„ç§ç±»å‹çš„monadã€‚ åœ¨doå—å†…éƒ¨ï¼Œå°†è°ƒç”¨<code>return/1</code>å’Œ<code>fail/1</code>éƒ¨ç½²åˆ°<code>Monad:return/1</code>å’Œ<code>Monad:fail/1</code> ã€‚ </p><br><ul><li><p> èº«ä»½å•å­ã€‚ <br> ç›¸åŒçš„monadæ˜¯æœ€ç®€å•çš„monadï¼Œå®ƒä¸æ›´æ”¹å€¼çš„ç±»å‹å¹¶ä¸”ä¸å‚ä¸è®¡ç®—è¿‡ç¨‹çš„æ§åˆ¶ã€‚ å®ƒä¸å˜å‹å™¨ä¸€èµ·ä½¿ç”¨ã€‚ æ‰§è¡Œé“¾æ¥è¡¨è¾¾å¼-ä¸Šé¢è®¨è®ºçš„è½¯ä»¶é€—å·ã€‚ </p><br></li><li><p> ä¹Ÿè®¸æ˜¯å•å­ã€‚ <br> è®¡ç®—ç¼ºå¤±å€¼çš„å•å­è®¡ç®—ã€‚ å°†å‚æ•°ä¸å‚æ•°åŒ–çš„è®¡ç®—ç›¸å…³è”æ˜¯å°†å‚æ•°è½¬ç§»åˆ°è®¡ç®—ï¼Œå°†ä¸å­˜åœ¨çš„å‚æ•°é“¾æ¥åˆ°å‚æ•°åŒ–çš„è®¡ç®—åˆ™æ˜¯ç¼ºå°‘ç»“æœã€‚ <br> è€ƒè™‘ä¸€ä¸ªmaybe_mçš„ä¾‹å­ï¼š </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if_safe_div_zero</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(X, Y, Fun)</span></span></span><span class="hljs-function"> -&gt;</span></span> do([maybe_m || Result &lt;- <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Y == <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> -&gt; fail(<span class="hljs-string"><span class="hljs-string">"Cannot divide by zero"</span></span>); <span class="hljs-literal"><span class="hljs-literal">false</span></span> -&gt; return(X / Y) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, return(Fun(Result))]).</code> </pre> <br><p> å¦‚æœæœªè¿”å›ä»»ä½•å†…å®¹ï¼Œåˆ™è¡¨è¾¾å¼çš„æ±‚å€¼åœæ­¢ã€‚ </p><br><pre> <code class="erlang hljs">{just, <span class="hljs-number"><span class="hljs-number">6</span></span>} = if_safe_div_zero(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, _+<span class="hljs-number"><span class="hljs-number">4</span></span>) ## <span class="hljs-number"><span class="hljs-number">10</span></span>/<span class="hljs-number"><span class="hljs-number">5</span></span> = <span class="hljs-number"><span class="hljs-number">2</span></span> -&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>+<span class="hljs-number"><span class="hljs-number">4</span></span> -&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> nothing = if_safe_div_zero(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, _+<span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre> <br></li><li><p> é”™è¯¯å•å­ã€‚ <br> ä¸maybe_mç±»ä¼¼ï¼Œä»…å…·æœ‰é”™è¯¯å¤„ç†ã€‚ æœ‰æ—¶ï¼Œâ€œå´©æºƒè®©å®ƒâ€åŸç†ä¸é€‚ç”¨ï¼Œå¹¶ä¸”å¿…é¡»åœ¨é”™è¯¯å‘ç”Ÿæ—¶è¿›è¡Œå¤„ç†ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¡ˆä¾‹ä¸­çš„é˜¶æ¢¯é€šå¸¸ä¼šå‡ºç°åœ¨ä»£ç ä¸­ï¼Œä¾‹å¦‚ï¼š </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write_file</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Path, Data, Modes)</span></span></span><span class="hljs-function"> -&gt;</span></span> Modes1 = [binary, write | (Modes -- [binary, write])], <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> make_binary(Data) <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> Bin <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_binary(Bin) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> file:open(Path, Modes1) <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> {ok, Hdl} -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> file:write(Hdl, Bin) <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> ok -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> file:sync(Hdl) <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> ok -&gt; file:close(Hdl); {error, _} = E -&gt; file:close(Hdl), E <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; {error, _} = E -&gt; file:close(Hdl), E <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; {error, _} = E -&gt; E <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; {error, _} = E -&gt; E <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre> <br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">make_binary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bin)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">when</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_binary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bin)</span></span></span><span class="hljs-function"> -&gt;</span></span> Bin; make_binary(List) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> iolist_to_binary(List) <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> error:Reason -&gt; {error, Reason} <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre> <br></li></ul><br><p> è¯»èµ·æ¥å¾ˆä¸æ„‰å¿«ï¼Œçœ‹èµ·æ¥åƒJSä¸­çš„å›è°ƒé¢ã€‚  Error_må¯ä»¥è§£å†³ï¼š </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write_file</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Path, Data, Modes)</span></span></span><span class="hljs-function"> -&gt;</span></span> Modes1 = [binary, write | (Modes -- [binary, write])], do([error_m || Bin &lt;- make_binary(Data), Hdl &lt;- file:open(Path, Modes1), Result &lt;- return(do([error_m || file:write(Hdl, Bin), file:sync(Hdl)])), file:close(Hdl), Result]). make_binary(Bin) <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_binary(Bin) -&gt; error_m:return(Bin); make_binary(List) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> error_m:return(iolist_to_binary(List)) <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> error:Reason -&gt; error_m:fail(Reason) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre> <br><ul><li>  List-monadã€‚ <br> å€¼æ˜¯å¯ä»¥è§£é‡Šä¸ºä¸€æ¬¡è®¡ç®—çš„å‡ ç§å¯èƒ½ç»“æœçš„åˆ—è¡¨ã€‚ å¦‚æœä¸€ä¸ªè®¡ç®—ä¾èµ–äºå¦ä¸€ä¸ªï¼Œåˆ™å¯¹ç¬¬ä¸€ä¸ªç»“æœçš„æ¯ä¸ªç»“æœæ‰§è¡Œç¬¬äºŒä¸ªè®¡ç®—ï¼Œå¹¶å°†ç»“æœï¼ˆç¬¬äºŒä¸ªè®¡ç®—ï¼‰æ”¶é›†åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚ <br> è€ƒè™‘å¸¦æœ‰ç»å…¸æ¯•è¾¾å“¥æ‹‰æ–¯ä¸‰å…ƒç»„çš„ç¤ºä¾‹ã€‚ æˆ‘ä»¬è®¡ç®—å®ƒä»¬æ—¶ä¸åŒ…å«monadï¼š <br><pre> <code class="erlang hljs">P = [{X, Y, Z} || Z &lt;- lists:seq(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>), X &lt;- lists:seq(<span class="hljs-number"><span class="hljs-number">1</span></span>,Z), Y &lt;- lists:seq(X,Z), math:pow(X,<span class="hljs-number"><span class="hljs-number">2</span></span>) + math:pow(Y,<span class="hljs-number"><span class="hljs-number">2</span></span>) == math:pow(Z,<span class="hljs-number"><span class="hljs-number">2</span></span>)].</code> </pre> </li></ul><br><p> ä¸list_mç›¸åŒï¼š </p><br><pre> <code class="erlang hljs">P = do([list_m || Z &lt;- lists:seq(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>), X &lt;- lists:seq(<span class="hljs-number"><span class="hljs-number">1</span></span>,Z), Y &lt;- lists:seq(X,Z), monad_plus:guard(list_m, math:pow(X,<span class="hljs-number"><span class="hljs-number">2</span></span>) + math:pow(Y,<span class="hljs-number"><span class="hljs-number">2</span></span>) == math:pow(Z,<span class="hljs-number"><span class="hljs-number">2</span></span>)), return({X,Y,Z})]).</code> </pre> <br><ul><li> çŠ¶æ€å•å­ã€‚ <br> æœ‰çŠ¶æ€è®¡ç®—çš„Monadã€‚ <br> åœ¨æœ¬æ–‡çš„å¼€å¤´ï¼Œæˆ‘ä»¬è®¨è®ºäº†åˆå­¦è€…åœ¨ä½¿ç”¨å¯å˜çŠ¶æ€æ—¶é‡åˆ°çš„å›°éš¾ã€‚ è¯¥ä»£ç é€šå¸¸çœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><pre> <code class="erlang hljs">State1 = init(Dimensions), State2 = plant_seeds(SeedCount, State1), {DidFlood, State3} = pour_on_water(WaterVolume, State2), State4 = apply_sunlight(Time, State3), {DidFlood2, State5} = pour_on_water(WaterVolume, State4), {Crop, State6} = harvest(State5), ...</code> </pre> </li></ul><br><p> ä½¿ç”¨è½¬æ¢ç¬¦å’Œå‰ªåˆ‡ç¬¦å·ï¼Œå¯ä»¥æ›´ç´§å‡‘å’Œæ˜“è¯»çš„å½¢å¼é‡å†™æ­¤ä»£ç ï¼š </p><br><pre> <code class="erlang hljs">StateT = state_t:new(identity_m), SM = StateT:modify(_), SMR = StateT:modify_and_return(_), StateT:exec( do([StateT || StateT:put(init(Dimensions)), SM(plant_seeds(SeedCount, _)), DidFlood &lt;- SMR(pour_on_water(WaterVolume, _)), SM(apply_sunlight(Time, _)), DidFlood2 &lt;- SMR(pour_on_water(WaterVolume, _)), Crop &lt;- SMR(harvest(_)), ... ]), undefined).</code> </pre> <br><ul><li> æ¬§ç±³èŒ„å•å­ã€‚ <br> ç±»ä¼¼äºlist_m monadã€‚ ä½†æ˜¯ï¼Œé€šé“æ˜¯å¯¹è§’çº¿çš„ã€‚ </li></ul><br><h3 id="skrytaya-obrabotka-oshibok"> éšè—çš„é”™è¯¯å¤„ç† </h3><br><p> å¯èƒ½æ˜¯æˆ‘æœ€å–œæ¬¢çš„<code>error_m</code> monadåŠŸèƒ½ä¹‹ä¸€ã€‚ æ— è®ºé”™è¯¯å‘ç”Ÿåœ¨ä½•å¤„ï¼Œmonadå§‹ç»ˆä¼šè¿”å›<code>{ok, Result}</code>æˆ–<code>{error, Reason}</code> ã€‚ ä¸€ä¸ªç¤ºä¾‹è¯´æ˜æ­¤è¡Œä¸ºï¼š </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([error_m || Hdl &lt;- file:open(Path, Modes), Data &lt;- file:read(Hdl, BytesToRead), file:write(Hdl, DataToWrite), file:sync(Hdl), file:close(Hdl), file:rename(Path, Path2), file:delete(Path), return(Data)])</span></span></span><span class="hljs-function">.</span></span></code> </pre> <br><h2 id="import_as">  Import_as </h2><br><p> å¯¹äºå°åƒï¼Œæˆ‘ä»¬æœ‰è¯­æ³•import_as sugarã€‚  -import / 2å±æ€§çš„æ ‡å‡†è¯­æ³•ä½¿æ‚¨å¯ä»¥å°†å…¶ä»–å‡½æ•°å¯¼å…¥æœ¬åœ°æ¨¡å—ã€‚ ä½†æ˜¯ï¼Œæ­¤è¯­æ³•ä¸å…è®¸æ‚¨ä¸ºå¯¼å…¥çš„å‡½æ•°åˆ†é…æ›¿ä»£åç§°ã€‚  Import_asè§£å†³äº†æ­¤é—®é¢˜ï¼š </p><br><pre> <code class="erlang hljs">-import_as<span class="hljs-params"><span class="hljs-params">({my_mod, [{size/</span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">1</span></span></span><span class="hljs-params">, m_size}]})</span></span> -import_as<span class="hljs-params"><span class="hljs-params">({my_other_mod, [{size/</span><span class="hljs-number"><span class="hljs-params"><span class="hljs-number">1</span></span></span><span class="hljs-params">, o_size}]})</span></span></code> </pre> <br><p> è¿™äº›è¡¨è¾¾å¼åˆ†åˆ«æ‰©å±•ä¸ºå®é™…çš„å±€éƒ¨å‡½æ•°ï¼š </p><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m_size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(A)</span></span></span><span class="hljs-function"> -&gt;</span></span> my_mod:size(A). o_size(A) -&gt; my_other_mod:size(A).</code> </pre> <br><h2 id="zaklyuchenie"> ç»“è®º </h2><br><p> å½“ç„¶ï¼Œé€šè¿‡monadï¼Œæ‚¨å¯ä»¥é€šè¿‡æ›´å…·è¡¨ç°åŠ›çš„æ–¹æ³•æ¥æ§åˆ¶è®¡ç®—è¿‡ç¨‹ï¼ŒèŠ‚çœä»£ç å’Œæ—¶é—´æ¥æ”¯æŒå®ƒã€‚ å¦ä¸€æ–¹é¢ï¼Œå®ƒä»¬ä¸ºæœªç»åŸ¹è®­çš„å›¢é˜Ÿæˆå‘˜å¢åŠ äº†é¢å¤–çš„å¤æ‚æ€§ã€‚ </p><br><p>  <strong>*</strong> -å®é™…ä¸Šï¼Œåœ¨åŸƒå°”æœ—ï¼ˆErlangï¼‰ä¸­ï¼Œå•å­å­˜åœ¨è€Œæ²¡æœ‰erlandoã€‚ é€—å·åˆ†éš”è¡¨è¾¾å¼æ˜¯çº¿æ€§åŒ–å’Œé“¾æ¥è®¡ç®—çš„æ„é€ ã€‚ </p><br><p>  PSæœ€è¿‘ï¼Œä½œè€…å°†erlandoå›¾ä¹¦é¦†æ ‡è®°ä¸ºæ¡£æ¡ˆã€‚ æˆ‘ä¸€å¹´å¤šä»¥å‰å†™äº†è¿™ç¯‡æ–‡ç« ã€‚ ä½†æ˜¯ï¼Œä¸ç°åœ¨ä¸€æ ·ï¼Œé‚£æ—¶åœ¨å“ˆå¸ƒé›·ï¼ˆHabrÃ©ï¼‰è¿˜æ²¡æœ‰å…³äºåŸƒå°”æœ—ï¼ˆErlangï¼‰å•å­çš„ä¿¡æ¯ã€‚ ä¸ºäº†çº æ­£è¿™ç§æƒ…å†µï¼Œå°½ç®¡æœ‰äº›è¿Ÿï¼Œæˆ‘è¿˜æ˜¯å‘è¡¨äº†è¿™ç¯‡æ–‡ç« ã€‚ <br> è¦åœ¨erlang&gt; = 22ä¸­ä½¿ç”¨erlandoï¼Œæ‚¨éœ€è¦ä½¿ç”¨å·²å¼ƒç”¨çš„erlangæ¥è§£å†³è¯¥é—®é¢˜ï¼šget_stacktrace / 0ã€‚ å¯ä»¥åœ¨æˆ‘çš„forkä¸­æ‰¾åˆ°ä¸€ä¸ªä¿®å¤ç¤ºä¾‹ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">//github.com/Vonmo/erlando/commit/52e23ecedd2b8c13707a11c7f0f14496b5a191c2</a> </p><br><p> æ„Ÿè°¢æ‚¨çš„å®è´µæ—¶é—´ï¼ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN466697/">https://habr.com/ru/post/zh-CN466697/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN466683/index.html">9æœˆ9æ—¥è‡³15æ—¥åœ¨è«æ–¯ç§‘ä¸¾è¡Œçš„æ•°å­—æ´»åŠ¨</a></li>
<li><a href="../zh-CN466685/index.html">çœ‹åˆ°é’±</a></li>
<li><a href="../zh-CN466689/index.html">å¦‚ä½•åœ¨ç§»åŠ¨MMO Actionä¸­åˆ›å»ºè§’è‰²ç±»</a></li>
<li><a href="../zh-CN466691/index.html">é‚£ä¹ˆæ‰€æœ‰ç›¸åŒçš„RAMLæˆ–OASï¼ˆSwaggerï¼‰å—ï¼Ÿ</a></li>
<li><a href="../zh-CN466693/index.html">å¦‚æœæ‚¨è¾“å…¥ä¸åœ¨ITä¸­</a></li>
<li><a href="../zh-CN466699/index.html">é©¯æœä¿¡ä»»åè®®-ä½¿ç”¨InterSystems IRISè¿›è¡ŒOAuthèº«ä»½éªŒè¯</a></li>
<li><a href="../zh-CN466701/index.html">è®©æˆ‘ä»¬åŠ å¯†æœåŠ¡è¿‘30ï¼…çš„åŸŸå</a></li>
<li><a href="../zh-CN466705/index.html">Vivaldi Beta for Android-çœŸå®æµè§ˆå™¨</a></li>
<li><a href="../zh-CN466709/index.html">å¼€å‘å•ç‰‡ç±»Unixæ“ä½œç³»ç»Ÿ-Cåº“ï¼ˆ2ï¼‰</a></li>
<li><a href="../zh-CN466711/index.html">æ¼æ´DaOfficeå…è®¸ä»ç¤¾äº¤ç½‘ç»œä¸­åˆ é™¤ä»»ä½•ç”¨æˆ·</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>