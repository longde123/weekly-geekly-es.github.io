<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>➿ 🥣 🍴 Desain canggih perangkat sederhana 👈 🎢 👩🏼‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salam untuk pembaca! Hari ini saya akan menceritakan sebuah kisah aneh yang membuat saya berpikir tentang masalah yang muncul ketika komponen pilihan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desain canggih perangkat sederhana</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432574/"> Salam untuk pembaca!  Hari ini saya akan menceritakan sebuah kisah aneh yang membuat saya berpikir tentang masalah yang muncul ketika komponen pilihan yang salah (tidak optimal) untuk implementasi produk elektronik apa pun.  Dan juga tentang kesederhanaan yang tampak menggunakan contoh perangkat "satu hari". <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uv/9g/hg/uv9ghgxb_nswu_pvba8bbjt5jp0.jpeg" width="450"></div><a name="habracut"></a>  Mari kita sepakat bahwa ceritanya fiktif, kebetulan apa pun adalah acak ... atau tidak acak. <br>  Suatu ketika Seryozha, programmer menoleh kepada saya dengan permintaan untuk membuat perangkat di mobilnya yang mengemulasi penekanan berurutan dari 2 tombol virtual ketika menekan satu mobil fisik di sirkuit kontrol kontrol jelajah (Ford Focus 2).  Skema unit kontrol standar adalah sebagai berikut: <br><br><img src="https://habrastorage.org/webt/wu/yr/j3/wuyrj3rbtekr3o9zd3ogzyybvsg.png"><br><br>  Di sisi kontrol, ini adalah input tombol-tekan klasik menggunakan ADC.  dan jadi tugas perangkat, ketika Anda menekan tombol perangkat keras, secara berurutan tekan tombol ON dan SET + untuk waktu ~ 0,2 detik.  Untuk kemudahan integrasi perangkat, diputuskan untuk menyalakannya dari resistor atas pembagi.  Tegangan pada terminal koneksi adalah 4,6 V tanpa rangkaian tombol yang terhubung.  Karena perangkat itu direncanakan dibuat pada malam hari, saya membuat diagram tanpa perhitungan awal dari apa yang ada di meja perakitan.  Solusi "di dahi": <br><br><img src="https://habrastorage.org/webt/xz/vg/4j/xzvg4jaka9aknb__8taqs7pwrmw.png"><br><br>  Serezha menulis firmware, dan perangkat bekerja dengan sempurna untuk mobil.  Pada saat mereka ingin mengemas papan ke rumah saklar kolom kemudi, seseorang dari belakang kantor berteriak: "Apakah itu sangat rumit?  Setengah dari detail dapat dibuang, dan memang STM8 hanya cocok untuk tugas seperti itu. "  Dan itu dimulai ... Penulis ide itu secara sukarela menyolder tata letak "dari 3 bagian" (tampaknya mengantisipasi kemenangan mudah).  Saya (dipandu oleh artikel saya sendiri tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kecemburuan profesional</a> ) memutuskan untuk tidak mengganggu penerbangan spesialis muda, tetapi hanya terhubung pada tahap ketika semua orang menyadari bahwa mukjizat tidak terjadi. <br><br>  Skema yang diusulkan oleh kolega saya sangat sederhana, tetapi hanya berhasil di atas meja: <br><br><img src="https://habrastorage.org/webt/pb/fc/yk/pbfcykqizfvig66cx0l3zo2e008.png"><br><br>  Kesalahan terlihat bahkan pada pandangan pertama, namun, saya memutuskan untuk membuat rangkaian bekerja secara khusus pada STM8S001J3 MK. <br><br>  Untuk memahami cara mengulang sirkuit, kami akan melakukan beberapa pengukuran.  Resistansi resistor atas di pembagi ADC ~ 130 Ohm, dan tegangan tanpa beban adalah 4,6 V. <br><br>  Maka diagram simpul tombol memiliki bentuk: <br><br><img src="https://habrastorage.org/webt/g4/th/-g/g4th-gpsd2dzk3czstorlhjcati.png"><br><br><ul><li>  ketika tombol dilepaskan, arus dalam rangkaian adalah 2 mA, tegangan pada input ADC adalah 4,33 V; </li><li>  ketika tombol ON ditekan, 3,7 mA, tegangan pada input ADC adalah 4,11 V; </li><li>  dengan tombol SET ditekan + 18,4 mA, tegangan pada input ADC adalah 2,2 V. </li></ul><br>  Pada saat yang sama, kisaran tegangan operasi dari STM8S001J3 MK adalah 2.95-5.5 V. Ternyata upaya untuk menekan tombol SET + menyebabkan penurunan tegangan di bawah minimum dan MK disetel ulang. <br><br>  Pada titik ini, saya mengusulkan untuk mengalihkan perhatian dan mendiskusikan apa MK yang ideal untuk tugas ini dan mengapa mereka tidak memilihnya.  Biasanya untuk kerajinan seperti itu gunakan apa yang pengembang tahu cara bekerja dan apa yang ada.  Sebagai contoh, microchip memiliki pengontrol PIC10F200 atau ATtiny10 dalam paket SOT23-6 dengan kisaran tegangan 2 (1,8) - 5,5 V. Microcircuits ini tidak memerlukan regulator tegangan (seperti STM32L031), tetapi mereka tidak akan memulai kembali ketika tombol SET + ditekan. (seperti STM8S001J3).  Dalam harness hanya akan ada 2 resistor dan kapasitor.  Keindahan, tetapi rentang pengendali STMicro dengan rentang daya ini tidak.  Pembaca yang penuh perhatian akan mencatat dengan benar bahwa dalam kerangka tugas seperti itu, hampir semua pengontrol dapat dikuasai, tetapi tidak adanya lingkungan pemrograman yang akrab dan alat debugging menentukan pilihan. <br>  Kembali ke skema.  Untuk mengatasi masalah dengan reset controller, kita membutuhkan energi untuk menyalakan controller saat tombol SET + ditekan.  Untuk memperkirakan jumlah energi ini, perlu untuk mengukur konsumsi saat ini (atau lihat dokumentasi): <br><br><img src="https://habrastorage.org/webt/sc/70/vu/sc70vuonse7-qjwdmc6a2fh4zaa.png"><br><br>  Hampir 500 μA yang terbaik.  Ini banyak, tetapi untuk memperjelas saya akan memberikan perhitungan.  Untuk menyimpan energi, kita memerlukan dioda (VD1) dan kapasitor (C1): <br><br><img src="https://habrastorage.org/webt/si/2q/fe/si2qfeyf6zzawldlp-kk863noz0.png"><br><br>  Drop pada VD1 adalah masing-masing 0,2 V, ketika tombol C1 dilepaskan, itu akan dibebankan ke 4,33 - 0,2 = 4,13 V. Ketika Anda menekan tombol SET +, tegangan pada Vin turun menjadi 2,2 V, VD1 menutup dan MK didukung oleh debit C1. <br><br><img src="https://habrastorage.org/webt/zn/by/cg/znbycg5v4zszjmr8uqvprphihce.png"><br><br>  (Terima kasih kepada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">VT100</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DenisHW untuk memperbaiki kesalahan</a> ) <br>  Dalam ungkapan ini, energi yang disimpan dalam kapasitor di sebelah kiri (ketika dilepaskan dari 4,13 ke 3,1 V), di sebelah kanan, energi yang dihabiskan oleh pengontrol untuk waktu t = 0,2 s.  Kemudian kapasitansi kapasitor: <br><br><img src="https://habrastorage.org/webt/yx/cf/l8/yxcfl8hijew86jmxqjkwvfeedic.png"><br><br>  100 uF untuk tugas ini bisa ditoleransi, tetapi cobalah untuk menidurkan pengontrol sambil menekan tombol. <br><br>  Untuk melakukan ini, STM8 memiliki Mode Berhenti Aktif: <br><br><img src="https://habrastorage.org/webt/0n/mi/g9/0nmig9qr2gusc-np2serzxf0pim.png"><br><br>  Dengan menonaktifkan MVR dan Flash, dimungkinkan untuk mendapatkan arus konsumsi ~ 40 μA (ini jauh lebih tinggi dari arus yang dinyatakan, tetapi saat ini cocok untuk tugas ini), dan berkat AWU (unit bangun otomatis), Anda dapat dengan mudah mengatur bangun setelah 256 ms setelah tidur.  Dalam hal ini, untuk memastikan pengoperasian controller, kapasitor dengan kapasitas hanya 10 μF diperlukan, tetapi karena setelah menjepit kaki, diperlukan beberapa saat sebelum MK tertidur, kapasitas yang diperlukan dan cukup adalah 47 μF. <br><br>  Tampaknya semua masalah telah diselesaikan, tetapi ada satu TETAPI lagi.  Arus ketika tombol SET ditekan + 18,4 mA kurang dari batas arus untuk output, tetapi tegangan nol logis akan berada di wilayah 0,7 V. Hal ini akan menyebabkan penurunan arus melalui resistor dan akan memerlukan perhitungan ulang resistensi atau penggunaan transistor eksternal sesuai dengan skema dengan saluran terbuka.  Saya memilih opsi kedua sebagai perilaku yang lebih mudah diprediksi.  Skema terakhir berupa: <br><br><img src="https://habrastorage.org/webt/fn/7j/kx/fn7jkxbq6apqrnqzcudayesbwyo.png"><br><br>  Dalam formulir ini, telah berhasil diperoleh dan beroperasi hingga hari ini. <br><br>  <b>Alih-alih sebuah kesimpulan</b> <br><br>  Dalam artikel ini saya ingin menarik perhatian pada masalah bagaimana pengembang dihukum karena pendekatan yang terlalu dangkal atau sembrono untuk mengembangkan perangkat sederhana (sekilas pandang).  Di sisi lain, saya ingin menunjukkan bagaimana pilihan yang tidak optimal dari basis elemen utama (dalam hal ini, MK) mempersulit proses pengembangan dan produk itu sendiri mengingat dua alasan utama: <br><br><ol><li>  Kebutuhan untuk menyesuaikan pilihan solusi teknis dengan keterampilan programmer. </li><li>  Ketidakmampuan untuk memahami berbagai komponen yang mungkin cocok untuk tugas tersebut, untuk memilih "yang paling banyak" dari mereka.  Faktor-faktor ini, paling sering, menjelaskan fakta bahwa banyak perangkat (rumah tangga, komersial, khusus) berfungsi dengan baik, tetapi tidak dibuat seperti yang Anda inginkan. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id432574/">https://habr.com/ru/post/id432574/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id432562/index.html">Techday Membuat IT Nyata - 17 Desember, Moskow</a></li>
<li><a href="../id432564/index.html">Rust 2018 keluar ... tapi apa itu?</a></li>
<li><a href="../id432566/index.html">Dua dunia atau "insinyur memiliki sesuatu untuk dikatakan." Pada berbagai jenis tugas kompleks dan proses yang terkait dengannya</a></li>
<li><a href="../id432568/index.html">"Ketika Anda adalah pemimpin redaksi Rusbase": podcast baru tentang bekerja dengan konten dan berkarir di media teknologi</a></li>
<li><a href="../id432572/index.html">Transistor metal-to-air akan memperluas Hukum Moore - bagaimana teknologi bekerja</a></li>
<li><a href="../id432576/index.html">Di bawah tenda JobIntentService</a></li>
<li><a href="../id432578/index.html">Cina menegaskan kepemimpinan dalam perlombaan bulan Asia</a></li>
<li><a href="../id432580/index.html">Apa yang ditembus AI saat menghasilkan wajah manusia</a></li>
<li><a href="../id432584/index.html">Tiongkok memimpin sistem kriptografi kuantum</a></li>
<li><a href="../id432586/index.html">Atomic CSS - ketertiban dan kebersihan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>