<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👸🏽 🏇 🙋🏾 [Case Locomizer] Welches Wissen kann tatsächlich aus einem anonymen Datensatz mit Benutzerkoordinaten extrahiert werden? 👏🏼 🙇🏽 🛌🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel ist Teil der Case Locomizer-Serie, siehe auch 


- So beschleunigen Sie die Berechnung einer Heatmap in zweieinhalb Jahren um das 20.00...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>[Case Locomizer] Welches Wissen kann tatsächlich aus einem anonymen Datensatz mit Benutzerkoordinaten extrahiert werden?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485484/"><blockquote>  Dieser Artikel ist Teil der Case Locomizer-Serie, siehe auch <br><ul><li>  <a href="https://habr.com/ru/post/485988/">So beschleunigen Sie die Berechnung einer Heatmap in zweieinhalb Jahren um das 20.000-fache</a> </li><li> Open One Ring - ein Toolkit zur flexiblen Konfiguration komplexer Datenverarbeitungsprozesse auf Spark in the Cloud (in Kürze) </li></ul></blockquote><br>  Guten Tag. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/sy/ye/fp/syyefpnaksenymijgtxh1wywxfo.png" alt=":  ,   Locomizer  KFC" title="KDPV: Die mit Locomizer-Algorithmen für KFC erstellte Heatmap"></a> <br><br>  Kürzlich veröffentlichte die New York Times einen sensationellen Artikel darüber, wie man Benutzer anhand von kommerziell erhältlichen anonymen Datensätzen mit den Koordinaten ihrer Bewegungen nachverfolgt, und hier, <a href="https://habr.com/ru/company/dcmiran/blog/481336/">auf Habré,</a> sammelte ihre kostenlose Übersetzung mit Hinzufügungen eines unbekannten Corporate Copywriters eine große Anzahl von Kommentaren mit unterschiedlichem Besorgnis. <br><br>  Zufällig war ich in den letzten zweieinhalb Jahren technischer Leiter eines <a href="https://locomizer.com/" rel="nofollow">Geoinformationsprojekts,</a> das sich mit der direkten Entnahme von Wissen aus genau solchen kommerziellen Datensätzen befasst.  Aber meine Kommentare mit der Bitte, die Panik beiseite zu legen, sammelten eine große Anzahl von Minuspunkten.  Na dann.  In dem Sprichwort über die Abwesenheit von Paranoia und nicht über die Tatsache, dass Sie nicht befolgt werden, steckt eine gewisse Menge an Wahrheit. <br><br>  Aber auf der anderen Seite des schwarzen Spiegels ist etwas Wahres, vielleicht noch viel mehr.  Oder interessant. <br><a name="habracut"></a><br>  Lassen Sie mich Ihnen im Detail sagen, wie wir Ihnen folgen (und ob wir im Sinne von Spionage folgen) (und ob Sie persönlich) und welche Art von Wissen über den Benutzer erlangt werden kann, ohne genau einen anderen Kontext als die Koordinaten seiner Bewegungen zu besitzen von <abbr title="Ein Gerät, das nicht an einem Punkt verkabelt ist und das Kommunikation über jede Art von Funkverbindung ermöglicht: Handys und Satellitentelefone, GPS-Tracker, Satellitenschüsseln usw. In unserem Fall Smartphones und Tablets mit einer SIM-Karte.">mobilen Teilnehmerendgeräten abgeholt</abbr> .  Ohne übermäßigen <i>Journalismus</i> und <i>Hype-Völlerei</i> aus der Sicht eines technischen Spezialisten, der über echte Erfahrung bei der Lösung von fiktiven Aufgaben für fiktive Kunden verfügt, darunter nicht nur verschiedene Werbeagenturen, Coca-Cola und Guinness, sondern auch beispielsweise die Vereinten Nationen.  Und <i>mit einem Augenzwinkern</i> . <br><br>  Außerdem!  Am Ende dieser Artikelserie möchte ich die Tools vorstellen, die wir seit zweieinhalb Jahren entwickeln, damit Sie selbst recherchieren können, wenn Sie einen geeigneten Datensatz kaufen (oder erwerben).  Soweit ich weiß, hat bisher noch niemand solche Tools öffentlich zugänglich gemacht.  Zumindest als wir vor zwei Jahren suchten, wurde nichts gefunden und wir mussten uns selbst schreiben.  Der Weg zu schnellen Berechnungen war schwierig und lang, im zweiten Teil wird es darum gehen. <br><br>  Also  Inhaltsverzeichnis dieser Anamnese: <br><br><ul><li>  Anatomie eines anonymen Datensatzes </li><li>  Probleme mit der Genauigkeit der Koordinaten im mittleren Streifen </li><li>  Heuristik zur Datenbereinigung von Lärm und Schmutz </li><li>  Was für ein "Wissen" ist das? </li><li>  Punkte des Interesses </li><li>  Probleme bei der Wissensextraktion </li><li>  User Interest Scoring </li></ul><br>  Bonus: <br><br><ul><li>  Danke und eine kurze FAQ </li></ul><br><h3>  Anatomie eines anonymen Datensatzes </h3><br>  Nehmen Sie den kommerziellen Anbieter <a href="https://tamoco.com/" rel="nofollow">Tamoco</a> und sehen Sie, welche Dateien ausgeliefert werden.  Hier ist zum Beispiel ein Teil eines realen Datensatzes aus dem Land des Vereinigten Königreichs Großbritannien und Nordirland, Datum ist der 4. Dezember 2019: <br><br><pre><code class="plaintext hljs">sdk_ts,device_id,latitude,longitude,accuracy,country,device_type,device_make,device_model,device_language,device_os,device_os_version,device_hw_version,device_screen_width,device_screen_height,device_battery,altitude,inv_id,trigger_type,app_account_id 1575390011,d75f97488c430502046fdb4ebfcc0ffd,51.516766,-0.1279744,10,GB,,,SM-G950W,en-CA,,,,0,0,0,0,4260328,GEO_FENCE_ENTER,115 1575414847,d75f97488c430502046fdb4ebfcc0ffd,51.516766,-0.1279821,10,GB,,,SM-G950W,en-CA,,,,0,0,0,0,4260328,GEO_FENCE_ENTER,115 1575424373,7e3323b382ddaafb9f774af95631cc44,51.51379,-0.0999953,7.6,GB,,,SM-G925F,en-GB,,,,0,0,0,0,31572218,GEO_FENCE_ENTER,115 1575417663,90165d78553fb37b0d62500733b39d11,53.724384,-6.879851,11,IE,aaid,,SM-A605FN,,android,9,,0,0,0,138,0,UNKNOWN_TRIGGER,229 1575417977,b6f2375275a21c40e03e4c6ea9ea4da0,52.75558,-7.9915,5,IE,idfa,,iPhone7.1,,ios,12.4.3,,0,0,0,122,0,UNKNOWN_TRIGGER,229</code> </pre> <br>  Folgendes sehen wir in den Feldern dieses Datensatzes: <br><br><ul><li>  sdk_ts - Zeitstempel in der <a href="https://ru.wikipedia.org/wiki/Unix-%25D0%25B2%25D1%2580%25D0%25B5%25D0%25BC%25D1%258F" rel="nofollow">Unix-Epoche</a> , </li><li>  device_id - anonymisierte Geräte-ID (mobiles Teilnehmerendgerät, z. B. Smartphone oder Tablet) </li><li>  Breitengrad / Längengrad - <a href="https://ru.wikipedia.org/wiki/%25D0%2593%25D0%25B5%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D1%2584%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B5_%25D0%25BA%25D0%25BE%25D0%25BE%25D1%2580%25D0%25B4%25D0%25B8%25D0%25BD%25D0%25B0%25D1%2582%25D1%258B" rel="nofollow">geografische Koordinaten</a> , </li><li>  Genauigkeit - horizontale Koordinatengenauigkeit, Meter, </li><li>  Land - Land </li><li>  die restlichen Felder sind Müll, der keine besondere semantische Last trägt. </li></ul><br>  Warum ist Müll sofort? <br><br>  Leider ist ein solches scheinbar nützliches Höhenfeld bedeutungslos, da die Höhe nur unzureichend in Gebäudebodennummern übersetzt wird und das Fliegen mit dem Flugzeug ohne dieses Feld vermieden werden kann (aber wir werden später darüber sprechen). <br><br>  Im Gegensatz zu den Journalisten aus den eingangs genannten Artikeln haben wir keinen zusätzlichen Kontext zu den Nutzern und gehen nicht von unbegründeten Annahmen aus, wie zum Beispiel "war im Pentagon - das heißt, es funktioniert im Pentagon".  Wir sind auch keine Art von Facebook, die alles über dich weiß, was du über dich selbst erzählt hast (und der durchschnittliche Nutzer sagt viel über dich selbst), sowie dein gesamtes soziales Diagramm.  Wir haben Rohdaten gekauft und wir glauben ihnen nicht. <br><br>  Aus dem Kontext gibt es also nur ein Benutzergebietsschema - es kann helfen, ausländische Touristen zu identifizieren, aber das ist nicht korrekt. <br><br>  Naja, neben Koordinaten und Zeit gibt es auch ein Telefonmodell - theoretisch eröffnet es die Möglichkeit, die Besitzer verschiedener Geräte auf iOS und Andriod individuell zu bearbeiten.  In den Kommentaren zu dem Artikel aus diesem Unternehmensblog schlugen einige vor, mit teuren Mobiltelefonen einen Zwischenstopp einzulegen und sie nach Standort zu verfolgen ... Hmm, wissen Sie, aber ein solches Geschäftsmodell für normale Büros, die es sich leisten können, Daten zu kaufen, ist etwas unrentabel :) <br><blockquote>  Es ist wichtig zu verstehen, dass die Daten des Lieferanten roh sind, dh von den Geräten stammen und in keiner Weise verarbeitet werden, es sei denn, die reale device_id wird gemäß den Anforderungen der DSGVO durch einen Hash <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2589%25D0%25B8%25D0%25B9_%25D1%2580%25D0%25B5%25D0%25B3%25D0%25BB%25D0%25B0%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582_%25D0%25BF%25D0%25BE_%25D0%25B7%25D0%25B0%25D1%2589%25D0%25B8%25D1%2582%25D0%25B5_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585" rel="nofollow">ersetzt</a> (es ist stabil, dasselbe Gerät wird zwischen verschiedenen monatlichen <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2589%25D0%25B8%25D0%25B9_%25D1%2580%25D0%25B5%25D0%25B3%25D0%25BB%25D0%25B0%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582_%25D0%25BF%25D0%25BE_%25D0%25B7%25D0%25B0%25D1%2589%25D0%25B8%25D1%2582%25D0%25B5_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585" rel="nofollow">Speicherauszügen</a> angezeigt) gleichermaßen). </blockquote><br>  Jeder Anbieter hat seinen eigenen Satz und sein eigenes Format von Feldern, aber jeder hat Koordinaten, Genauigkeit, <abbr title="Vielleicht in ISO 8601, zum Beispiel 2020-01-25T22: 30: 47 + 04: 00, oder einer anderen exotischen Form">Zeit</abbr> und device_id, und ich habe zum Beispiel Tamoco als das durchschnittlichste genommen.  Und was können Sie davon ausgehen, dass ein Benutzer eine Reihe von Rohdaten betrachtet, wenn er sich nicht mit Unterstellungen und Wahrsagerei aus Kaffeesatz befasst? <br><br>  Es sei denn, er befand sich zum angegebenen Zeitpunkt möglicherweise in der Nähe der angegebenen Koordinaten.  Genauer gesagt wurde dies von einer Bibliothek aus dem SDK einer anderen Person entschieden, die die Geolokalisierung in der Anwendung auf ihrem Abonnententerminal sammelt und diese Daten in den Aggregator hochlädt.  Es scheint ihr, dass er dort war, aber die endgültige Entscheidung, ob wir ihr glauben oder nicht, wird von uns getroffen, und es ist stark nach der Tatsache. <br><br><h3>  Probleme mit der Genauigkeit der Koordinaten im mittleren Streifen </h3><br>  GPS ist eine tolle Sache.  Vor kurzem gab es <a href="https://habr.com/ru/post/483498/">einen ausgezeichneten Artikel</a> über seine Fähigkeiten, lesen Sie ihn, wenn nicht bereits. <br><br>  Das sind nur die coolen Beispiele für Idealfälle, die leider nicht für kommerzielle Datensätze gelten. <br><br>  Erstens sind mobile Teilnehmerendgeräte aus kommerziellen Datensätzen überhaupt keine professionellen GPS-Empfänger, die für einen bestimmten Zweck entwickelt wurden und auf einer viel besser geeigneten Elementbasis mit guten Verstärkern und großen Antennen hergestellt werden.  Ein Smartphone ist ein Smartphone - das sind die billigsten Komponenten in einem kleinen Koffer mit kleinen Antennen, die dank wilder technologischer Tricks in mehreren Bereichen gleichzeitig funktionieren, von denen GPS weit vom Hauptgerät entfernt ist. <br><br>  Zweitens ist die städtische Umgebung ein sehr, sehr raues Gelände.  Denken Sie selbst - wenn Sie die amerikanische einstöckige Vorstadt wegwerfen, ist jede moderne Stadtstraße eine tiefe Schlucht mit sehr steilen Wänden, nicht nur, dass der Horizont nicht sichtbar ist, sondern ein Stück des Himmels über Ihrem Kopf ist sehr klein sichtbar.  Und für eine normale Genauigkeit müssen 4 Satelliten gleichzeitig in direkter Sichtweite sein, besser mehr.  Gehen Sie aus Gründen des Interesses in den Innenhof Ihres Hochhauses und sehen Sie, wie viele Satelliten Ihr Smart sieht.  (Höchstwahrscheinlich benötigen Sie einen verwurzelten Android und / oder eine Art kostenpflichtigen GPS-Tracker.) <br><br>  Drittens ist der durchschnittliche Benutzer ständig in Bewegung, er wartet nicht mehrere Minuten vor Ort, bis sein mobiles Teilnehmerendgerät die gewünschte Anzahl von Satelliten erfasst, er geht oder geht, sich dreht und sich die Sicht ständig ändert. <br><br>  Viertens hält der Benutzer das Telefon nicht immer in seinen Händen.  In einer Tasche, einem Geldbeutel oder einem Rucksack kann er seitlich oder auf jeden Fall liegen und fängt überhaupt nichts. <br><br>  Fünftens kann jedes Gebäude aus Stahlbeton entweder ein klassischer <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BB%25D0%25B5%25D1%2582%25D0%25BA%25D0%25B0_%25D0%25A4%25D0%25B0%25D1%2580%25D0%25B0%25D0%25B4%25D0%25B5%25D1%258F" rel="nofollow">Faradayscher Käfig</a> oder ein <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25B0%25D0%25B7%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25B0%25D0%25BD%25D1%2582%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D1%2580%25D0%25B5%25D1%2588%25D1%2591%25D1%2582%25D0%25BA%25D0%25B0" rel="nofollow">Phased Array</a> oder ein Spiegel mit interessanten nichtlinearen Eigenschaften sein, der das Signal sowohl verstärken als auch aufgrund von Störungen in einiger Entfernung unterdrücken kann.  Oder reflektieren Sie in einem unvorhersehbaren Winkel, Phasenverschiebung und so weiter.  Es hängt alles von der Neigung des Metalls in den Betonwänden ab. <br><br>  Sechstens sind die Autos auch aus Metall. <br><br>  Siebtens, tief im Inneren des Gebäudes fängt GPS normalerweise nicht ab, und noch mehr in der U-Bahn. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/pw/p1/a3/pwp1a3191vbzxygmshnbvapsrag.png" alt="   ,  -  " title="Die rohe Spur eines unbekannten Benutzers, der durch London läuft"></a> <br><br>  All diese Faktoren machen GPS in der Stadt äußerst unzuverlässig, und Hersteller mobiler Teilnehmerendgeräte (sowie Anbieter von Ortungsdiensten für mobile Betriebssysteme) müssen mit verschiedenen <abbr title="Genauer gesagt, LBS - Location Based Services; reines A-GPS ist ein Almanach der aktuellen Positionen der Satelliten auf dem Gerät, aber hier ein etwas größerer Satz von Möglichkeiten">unterstützten GPS-Technologien</abbr> aussteigen. <br><br>  Die häufigsten sind Triangulationen an Mobilfunk-Basisstationen und WiFi-Netzwerken (und sogar Bluetooth). <br><br>  All diese lächerlichen Google- und Yandex-Autos mit Kameras, die Panoramen für die Straßenansicht aufnehmen, sammeln tatsächlich hauptsächlich Informationen über CellID, Netzwerknamen und Signalpegel von Routern und die Bilder - so ein vorübergehender Genuss.  Darüber hinaus sammelt HERE Maps diese Informationen massenhaft - und zwar in Industrieländern, bei Apple und in einem Dutzend weiterer kleinerer Büros.  Nun, diese Bibliotheken, die in mobilen Anwendungen verkabelt sind und Geolocation-Daten liefern, tun genau dasselbe, nur zum Beispiel, wie fast jedes Widget, das eine Karte anzeigt. <br><br>  Die Hauptfrage ist hier genau. <br><br>  Im Gegensatz zu GPS ist LBS schlecht damit.  20 Meter für LTE im Idealfall (im Allgemeinen - bis zu einigen Kilometern) und für Wi-Fi, hier verringern die Richtungsmuster von Routern, erweiterte Maschennetze mit Repeatern und die physikalischen Eigenschaften des 2,4- und 5-GHz-Frequenzsignals die Zuverlässigkeit im Freien bis zu 150 Meter oder mehr. <br><br>  Und das sind die ständigen Sprünge des Benutzers auf die andere Straßenseite oder zur Kreuzung oder sogar ein halbes Viertel von der Stelle, an der er sich tatsächlich befindet - wenn sich der Router zum Beispiel im 5. Stock befindet und sich von Hochhäusern um die Schlucht herum befindet, wird kein Signal ausgegeben am Eingang gefangen werden, aber es wird perfekt am Ende dieser Schlucht fangen. <br><br>  Schließlich sündigen viele Lieferanten mit einer anderen schlechten Eigenschaft.  Wenn es nicht möglich ist, die Position mit akzeptabler Genauigkeit zu bestimmen, wird der Benutzer in die Mitte eines bestimmten <a href="https://en.wikipedia.org/wiki/Geo-fence" rel="nofollow">Geofence</a> teleportiert, <a href="https://en.wikipedia.org/wiki/Geo-fence" rel="nofollow">dh</a> in die Mitte des Polygons, das einer bestimmten Postleitzahl oder Verwaltungsregion entspricht, die durch indirekte Zeichen bestimmt wird, und die Karte ist voll von solchen „Hot Spots“ mit Tausenden von Signalen. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/gq/9s/cu/gq9scu4v4_bi30moct9c7mo8di0.png" alt=" .   " title="Eine Erklärung finden Sie unter dem Spoiler unten."></a> <br><div class="spoiler">  <b class="spoiler_title">Moskau, Kreml, ein kleiner Datensatz aus dem November 2019</b> <div class="spoiler_text">  An dem in der Abbildung mit einem Marker gekennzeichneten Punkt mit den Koordinaten <a href="https://yandex.ru/maps/-/CKEJ4RKF" rel="nofollow">(55.75270; 37.61720)</a> liegen sofort 208776 Signale vor.  Dies sind Punkte, die nicht mit der gebotenen Genauigkeit bestimmt wurden und in das "Zentrum" des entsprechenden Geofence des Senatsplatzes fallen, es ist auch das "Zentrum" des Kremls. <br><br>  Neben ihr sind auch folgende Koordinaten zu "heiß": <br><br><pre> <code class="plaintext hljs">(55.75222; 37.61556) 193 (55.75111; 37.61537) 53 (55.74988; 37.61701) 45 (55.74988; 37.61700) 36</code> </pre> <br>  Und in allen anderen Punkten von diesem Bild - genau ein Signal. </div></div><br>  Schlimmer noch, solche „Bezirkszentren“ in jedem Kartensubstrat sind unterschiedlich, und wenn Apple und Google versuchen, sie aus Wohngebäuden zu entfernen (in den USA gab es schlechte Präzedenzfälle mit Gerichtsverfahren), wird sich niemand darum kümmern, den Punkt aus dem Nichtwohngebäude zu entfernen. <br><br>  Das Bestimmen der Position in einem großen Einkaufszentrum mit einer Fläche von Tausenden von Quadratmetern ist eine besondere Herausforderung.  GPS erfasst nicht, das Mobilfunknetz des gesamten Centers ist normalerweise dasselbe, und um zu verstehen, welche der Hunderte von Läden der Benutzer besucht hat, müssen Sie auch die Etage herausfinden.  Viel Glück damit. <br><br>  Selbst wenn es ein Höhenfeld gibt, ist nicht immer klar, nach welchem ​​Geoid es berechnet wird (nicht unbedingt <abbr title="World Geodetic System '84 - das aktuelle Standard-Geoid">WGS84</abbr> ), und FIG weiß, wie hoch die Stockwerke im Gebäude von uns selbst zu berechnen sind.  Und wie viele gibt es?  In asiatischen Ländern gibt es zum Beispiel aufgrund von Aberglauben nicht nur 13, sondern auch 4 Stockwerke.  Solche Informationen sind sehr schwer zu finden, und bei Massenverarbeitung wird sich Arbeit nie auszahlen. <br><br>  Unabhängig davon, wie sehr wir es nicht möchten, müssen wir anspruchsvolle Rohdatensätze verwenden <br><br><h3>  Heuristik zur Datenbereinigung von Lärm und Schmutz </h3><br>  Aber zuerst sage ich Ihnen, wer unser Patient ist. <br><br>  Unser Patient ist anonym, und sein Name ist Tausend oder besser Millionen, weil unsere Kunden für die massenweise gesammelten Statistiken zahlen.  Eine bestimmte Person macht kein Wetter für Coca-Cola, auch wenn sie sofort einen Soda-Truck kauft.  Händler benötigen gemeinsame Muster und Trends sowie ein Bild davon, wie sie im Laufe der Zeit festgelegt werden.  Für Besitzer von Londoner Kneipen-Netzwerken ist es wichtig zu wissen, bei welchem ​​Wetter und zu welcher Tageszeit Besucher in Kneipen an der Ecke der U-Bahn-Station strömen und in denen sie - neben Kinos - völlig betrunken sind, wenn diese Proben von Tausenden anonymen Personen stammen ein gewisser <i>Vassily Poupkine</i> aus Ryazan oder nicht. <br><blockquote>  Die Hauptsache ist, dass es viele gibt, und sie sind relevant.  Wir arbeiten mit der <b>Bevölkerung</b> . </blockquote><br>  Daher sind beispielsweise Benutzer, die mit dem Auto reisen, und Benutzer, die zu Fuß gehen, Benutzer mit unterschiedlichen Werten.  Bei ersteren ist die Bewegungsgeschwindigkeit umso höher, je enger der Sichtkreis ist, und sie beachten das Plakat nicht.  Aber wenn sie im Stau stehen oder an einer langen Ampel, warum nicht?  Wie Benutzer, die im Bus reisen und sich umsehen, ist dies die Hauptbeschäftigung (wenn sie zu diesem Zeitpunkt in ihrem bevorzugten sozialen Netzwerk nicht dumm sind). <br><br>  Es ist auch wichtig, die Benutzer zu trennen, die im Ziel-Geofence arbeiten. Der Verkäufer des Geschäfts sollte von den Besuchern des Geschäfts, nach dem wir suchen, getrennt sein.  Genauer gesagt, die Gesamtbevölkerung der Verkäufer aller Geschäfte des Einzelhandelsnetzwerks aus der Gesamtbevölkerung der Käufer. <br><br>  Und all dies bedeutet, dass wir Tracks benötigen, die auf folgende Weise qualitativ hochwertig sind: <br><br>  • ohne geringe Koordinatengenauigkeit, <br><br>  • ohne Störimpuls geolocation: <br>  - teleportiert ein halbes Viertel zur Seite und zurück, <br>  - springt über die Straße, <br>  - außerhalb der Hot Spots <br><br>  • klassifiziert nach Art der Verschiebung: <br>  - zu Fuß <br>  - mit dem Auto, <br>  - Im Bus <br>  - auf einem Fahrrad oder Roller, <br>  - Auf Shinkansen oder im Flugzeug ... <br><br>  • ohne unangemessen verlegte Benutzer im Geofence, <br><br>  • Ohne fragmentarische Spuren, endloses Schneiden von Kreisen über einen kleinen Bereich (woher sie kommen, ist nicht ganz klar, aber sie reichen aus, um sie in eine separate Problemklasse zu unterteilen - höchstwahrscheinlich sind dies alle Arten von Schlössern mit GSM-Alarm oder Babyphone -, erfassen sie auch die Geolokalisierung ) <br><br>  Und wenn die allererste Bedingung trivial ist - durchlaufen Sie den Datensatz und werfen Sie alle Punkte heraus, für die das Genauigkeitsfeld &lt;10 Meter ist, dann ist der Rest nur eine Reihe von Problemen. <br><br>  Sie können selbst erraten, welche.  Wie kann man beispielsweise einen Fußgänger, der an einer Bushaltestelle wartet, von einem Fahrer unterscheiden, der in einem angrenzenden Stau steht? <br><br>  Wir müssen einige Annahmen treffen und mathematische Modelle für jeden dieser Filter erstellen, die verschiedene Annahmen enthalten.  Manchmal sind die Annahmen ziemlich stark, wenn es darum geht, einen erheblichen Teil der Bevölkerung abzuwerfen. <br><br>  Zum Beispiel ein Outlet-Verkäufer in einem Einkaufszentrum, der jeden zweiten Tag zwei Tage im Schichtbetrieb arbeitet.  Wenn es an Wochentagen definitiv unangemessen ist, kann es am Wochenende für ein Kino im selben Einkaufszentrum sein.  Aber der Witz ist, dass der Standardplan von Montag bis Freitag und zwei freien Tagen für ihn nicht anwendbar ist und der Klassifikator irgendwie klappen muss oder ihn komplett aus der Gleichung streichen muss. <br><br>  In jedem Fall wird für jedes Modell ein Filter mit einer Reihe von Einstellungen unter Verwendung eines <i>heuristischen Ansatzes erstellt</i> . <br><br>  Wir sammeln umfangreiche Statistiken, finden unerwünschte Muster manuell darin, formulieren die Aufgabe, debuggen sie interaktiv, schreiben eine separate Verarbeitung und binden sie dann in die Verarbeitung des Datensatzes ein - wenn wir sicher sind, dass eine solche Vorbereitung erforderlich ist. <br><br>  Es gibt eine Reihe von vorgefertigten Algorithmen.  Um beispielsweise Hot Spots zu bestimmen, können Sie den klassischen Filter anhand der Frequenz des Signals auf dem Gitter verwenden. <br><br>  Aber der Klassifikator nach den Bewegungsarten, der nach dem Prinzip eines <abbr title="Ein Segment einer bestimmten Länge, dessen Grenzen bei jedem Verarbeitungsschritt um einen Punkt weiter nach unten verschoben werden">Schiebefensters</abbr> und eines <a href="https://en.wikipedia.org/wiki/Finite-state_machine" rel="nofollow">Zustandsautomaten arbeitet</a> (wir haben fast ein halbes Jahr durch Ausprobieren an seiner Entwicklung gearbeitet), ist so ausgefeilt, dass es ohnehin falsch ist, ihn als "Filter" zu bezeichnen. <br><br>  Darüber hinaus schreiben einige Anbieter eine unverantwortliche Anzahl von Punkten pro Spur - entweder sie approximieren die Zwischenpunkte in den Intervallen zwischen den Messungen oder sie versuchen einfach, sie alle paar Meter zu entfernen, aber es werden viele tausend Signale für einen Spaziergang pro Kilometer empfangen.  Dies ist offensichtlich zu viel, und um die Lautstärke nicht zu verringern, müssen wir die Spuren mit einer anderen heuristischen Methode mit Schiebefenstern und komplizierter Mathematik ausdünnen, um den Abstand von allen Punkten der Spuren zu ihren <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D0%25B0%25D1%2580%25D0%25B8%25D1%2586%25D0%25B5%25D0%25BD%25D1%2582%25D1%2580" rel="nofollow">Schwerpunkten</a> zu berechnen. <br><blockquote>  Daher bezeichnen wir den Prozess der Überlagerung einer Heuristikkette mit dem ursprünglichen Datensatz durch <b>Anreicherung der Rohdaten</b> .  Und wir extrahieren bereits Wissen aus zuvor angereicherten Daten. </blockquote><br>  Und hier ist ein Ärger mit jeder Heuristik: Die Reihenfolge der Anwendung beeinflusst das Ergebnis erheblich.  Daher ist der Verarbeitungsprozess jedes Mal einzigartig und wird selbst bei Daten desselben Lieferanten in derselben Region, jedoch sechs Monate später, nicht sehr gut wiederholt. <br><br>  Und noch etwas: Sie können Rohdaten verschiedener Lieferanten nicht in einem Projekt mischen, auch wenn Sie sie auf einen Nenner bringen.  Wenn jedoch jeder Rohdatensatz von einem geeigneten Algorithmus für ihn unabhängig verarbeitet wird, können die angereicherten Signale (ohne Rauschen) bereits zu einer einzigen Quelle zusammengeführt werden.  Wir haben in den Daten verschiedener Lieferanten keine doppelten Benutzer gefunden. <br><br>  In jedem Fall kann immer etwas Wissen aus dem angereicherten Datensatz extrahiert werden, wenn Sie es versuchen. <br><br><h3>  Was für ein "Wissen" ist das? </h3><br>  Gute Frage. <br><br>  <i>- Wir müssen alle Benutzer aus Ust-Perduysk finden, die Ende August gerne frischen Mais vom Kollektivfeld stehlen.</i> <i><br></i>  <i>- Entschuldigung?</i> <i><br></i>  <i>"Nun, das ist das Maisfeld."</i>  <i>August letzten Jahres.</i> <i><br></i>  <i>- Wir wollen "stehlen" ...</i> <i><br></i>  <i>- Bestimmen Sie irgendwie, Sie sind Experten!</i> <i><br></i>  <i>- Ok.</i>  <i>Sonst noch was?</i> <i><br></i>  <i>- Sie sollten Pall Mall rauchen.</i> <i><br></i>  <i>- (zu mir selbst) Warum Pall Mall ... aber egal, wir sind nicht interessiert.</i>  <i>Wenn sie auftauchen, finden wir: D (laut, fest) Nur wenn Sie die Informationen angeben, wo sie sie kaufen.</i> <br><br>  Sie haben einen Dialog mit einem kugelförmigen Kunden im luftleeren Raum gehört, auch wenn er nicht real ist, was die Entitäten "Leben in Ust-Perduysk", "Maisfeld", "Stehlen" und eine bestimmte Zigarettenmarke betrifft, aber im Wesentlichen ist er absolut authentisch.  Die Aufgaben sind so festgelegt: Sie müssen eine bestimmte Population finden, die in Bezug auf Geofence und Benutzerverhalten beschrieben wird, z. B. einen Wohnort, den Besuch bestimmter Ortskategorien zu einer bestimmten Zeit usw.  Der Bereich solcher Aufgaben ist sehr breit und der Satz von Parametern kann ziemlich exotisch sein. <br><br>  Wenn es jedoch eine Art <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D0%25BC%25D0%25BE%25D0%25B4%25D0%25B5%25D0%25BB%25D1%258C" rel="nofollow">Modell</a> gibt, ist es durchaus möglich, eine geeignete Grundgesamtheit abzuleiten, indem statistische Methoden auf eine große Menge angereicherter ( <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D0%25BC%25D0%25BE%25D0%25B4%25D0%25B5%25D0%25BB%25D1%258C" rel="nofollow">dh</a> qualitativ hochwertiger, ohne Anomalien) Daten <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D0%25BC%25D0%25BE%25D0%25B4%25D0%25B5%25D0%25BB%25D1%258C" rel="nofollow">angewendet werden</a> .  Alle Schätzungen sind probabilistisch.  Wir können nicht eindeutig behaupten, dass ein Benutzer definitiv in Ust-Perduysk lebt und jeden August Mais stiehlt, aber wenn es mindestens tausend davon gibt, werden wir sie mit einer Wahrscheinlichkeit von 90% finden.  Vielleicht können wir auch rauchen, aber in Bezug auf die Zigarettenmarke ist wahrscheinlich ein zusätzlicher Kontext erforderlich, und wenn der Kunde dies zur Verfügung stellt, werden wir die richtigen unter ihnen finden - aber wir können die Genauigkeit nicht garantieren. <br><br>  Solche kontextbezogenen Aufgaben sind jedoch eher selten, und wir recherchieren in der Regel auf der Grundlage einiger standardmäßiger debuggter und getesteter Matmodelle, bei denen die allgemeine Bevölkerung in folgende Segmente unterteilt wird: <br><br><ul><li>  Leben in Geofence / Arbeiten in Geofence, </li><li>  Verteilung nach Haushaltseinkommen, </li><li>  Autofahrer </li><li>  Liebhaber Restaurants und Cafés zu besuchen, </li><li>  Shopaholics </li><li>  Sportfans </li><li>  Mütter mit kleinen Kindern, </li><li>  Geschäftsreise </li><li>  ausländische Touristen ... </li></ul><br>  Für jede Kategorie (insgesamt einige Tausend) wird der Verarbeitungsprozess gemäß der Vorlage aus vordefinierten Vorgängen mit einer Reihe von Einstellungen erstellt und in Abhängigkeit von den spezifischen Anforderungen des Kunden parametrisiert. <br><br>  Die Operationen sind wie folgt aufgebaut: Der Datenwissenschaftler schreibt das Modell in Form eines White Papers, programmiert und debuggt es auf den Python-Standard-Datasets, und am Ende wird die Verarbeitung in Spark erfolgen (wir schreiben in Java, aber es kann auch in Scala erfolgen), was ich optimiere. (,        , ,       .) <br><br>            — data analyst.     —  <a href="https://habr.com/ru/users/keskiy/" class="user_link">keskiy</a>  ,    .  , ,       <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25BE%25D0%25B2%25D0%25B0%25D1%258F_%25D0%25BA%25D0%25B0%25D1%2580%25D1%2582%25D0%25B0" rel="nofollow"> </a>    Excel-,   ,  ,      . <br><br>   ,    S3  Amazon Web Services,     (        ),      EMR. <br><br>   —           ,            .           ,  ,    ,    95- ,      —     . <br><br>       ,  .  ,    ,    . <br><br><div class="spoiler"> <b class="spoiler_title">        .</b> <div class="spoiler_text">   :     . ,     ,       WB,   Warner Bros.,    .   ,  .          . <br><br>      -     ,    , —   ,       device_id, —  ,            .     .         ,    . <br><br>          -,    . </div></div><br>  —  ,   .   . «,       -,  .» -. <br><br>    .       POI. <br><br><h3> Points of Interest </h3><br>  <i></i>  ,       —      ,   , -   …       . <br><br>    ,    ,            . ,  .  «77   »: <br><br><pre> <code class="plaintext hljs">• 77-1  • 77-8  o 77-8-6      77-8-6-90 McDonalds • 77-8-6-90-1 MacAuto  77-8-6-91 Burger King  77-8-6-92 Pasta Hut</code> </pre> <br> —    . <br><br>      «»        ,          ,     . -      ,         POI    ,   ,    ,     ,          . <br><br>     ,        ,    ,    POI          .     .  ,   ,      OSM.  ,      . <br><br>    -     ,     POI,    ,      ,     . ,      .      ,  -  . <br><br>          POI,        <a href="https://habr.com/ru/users/mitra_kun/" class="user_link">mitra_kun</a> . <br><br>   , ,   ,    -  GIS-  POI      ,     (          ).        ,  ,      . <br><br><h3>    </h3><br>        The New York Times — «     , ,  ».      . <br><br>   « »?       ,    5/2  ,    8-      9  18      . ,   ,   -    (  ,   ).     «   »   ,         ,         . <br><br>     ,   , -,    :       , ,  ,   -  ,     «» ( ,  —   )  «» ( ,     , ,   )  .     ,     , .    . <br><br>      ,         . ,      ,               ,   . <br><br>         ,      ,        ,     ,      .   ,    ,       ,   ,       . <br><br>  ,  .            POI      . ,  ,  , .        - ,   , , 29 ?  ( )  ,   ,        ?     ,         ,          ,       -     ,  .   ,        ,    <abbr title="Score,   ,      .     ,      ,   —    "></abbr>     . <br><br><h3>    </h3><br>  ,        ,    ,     -,     .         ,     (      ),        ,     ,      . <br><br>   ,      -        ,        POI   . ,  ,     -      ,      ,      . ,      «  »         «McDonalds»,        «Burger King». <br><br>     «  »  ,     ,     ,    —                   POI  .  ,    ,    , —            , —   ,       ,    ,    ,      . <br><br>  ,      ,            ,          ,    .            ,         ,       —       . <br><br>   —    ,    , , ,   POI  . -         ,    . <br><br>    —       . <br><br>    ,        ,     .  ,       ,    ,   ,       ,          .      . <br><br><img src="https://habrastorage.org/webt/bf/xi/nm/bfxinmruslt9rxjidebayvi-154.jpeg" alt="   Locomizer.  : , , , " title="   Locomizer.  : , , , "><br> <i>  .</i> <br><br><h3>    FAQ </h3><br>     —           : <br><br><ul><li>  <a href="https://twitter.com/ajtkulov" rel="nofollow">@ajtkulov</a> </li><li>  <a href="https://github.com/pomadchin" rel="nofollow">pomadchin</a> </li><li>  <a href="https://habr.com/ru/users/fall_out_bug/" class="user_link">fall_out_bug</a>  </li></ul><br>            <a href="https://hudway.co/" rel="nofollow">HUDWAY</a>       .  Vielen Dank! <br><br>   FAQ   . <br><br> <b>Q.</b>    //   «» ?         device_id        ?       ? <br> <b>A.</b>    ,        ( « »;        5-   95- ),     .  ,  ,       ,  « »,       .     ,            . <br><br> <b>Q.</b>    ?  2-3       ?   ? <br> <b>A.</b> .           ,       .         ,   .   -   , ,         . <br><br> <b>Q.</b>    ,      ?  Wie?   - device_id,        ,  .      -      device_id?  ?  -  finger_print      ? <br> <b>A.</b>   device_id,    ,  , ,   ,  ,    .    ,     ,   .        ,     ,        . <br><br> <b>Q.</b>  ,  .        ,  «   »         - ?   ,  ,   —   -  ?      ,   ,     ? <br> <b>A.</b>     ,       ,    ,      .    ,       (       ).   ,     ,               ,     . <br><br> <b>Q.</b>      . ,   .       , 10/20/40/70%?  -   ?     /,   ,  -?      ,  ? <br> <b>A.</b> ,  ,       .  -    ,  - —  .    ,     .                        .      —   . , , ,  ..,      . <br><br>      ,        <a href="https://habr.com/ru/users/keskiy/" class="user_link">keskiy</a>   <a href="https://habr.com/ru/users/mitra_kun/" class="user_link">mitra_kun</a> .   ,                    . <br><br>           . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de485484/">https://habr.com/ru/post/de485484/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de485470/index.html">HighLoad ++, Andrey Gushchin (Zabbix): Hochleistung und native Partitionierung</a></li>
<li><a href="../de485472/index.html">Was ist neu bei AMD?</a></li>
<li><a href="../de485476/index.html">Trends und Handel an der Börse: 4 beliebte Indikatoren der technischen Analyse</a></li>
<li><a href="../de485480/index.html">Tragbare Säule Z-poject Doublebeef - Doppelmono auf Russisch. Test, Demontage und Upgrade</a></li>
<li><a href="../de485482/index.html">3 Probleme beim Übertragen von Daten an Google Analytics über das Messprotokoll</a></li>
<li><a href="../de485486/index.html">Buildpacks-Unterstützung in Spring Boot 2.3.0</a></li>
<li><a href="../de485488/index.html">Noch einmal über DevOps und SRE</a></li>
<li><a href="../de485490/index.html">Warum konnte Moschus nicht in Russland geboren werden?</a></li>
<li><a href="../de485492/index.html">Wissenschaftler sagen, wie schnell sich das Universum ausdehnt</a></li>
<li><a href="../de485494/index.html">Wochenend-Tipps: Leichte Lesung für MINT-Majors</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>