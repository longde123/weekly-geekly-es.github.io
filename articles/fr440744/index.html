<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõåüèΩ üîÖ üÜñ PHP pour les d√©butants. Gestion des erreurs üïπÔ∏è üÜò ü§´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seul celui qui ne fait rien ne fait pas d'erreurs, et nous en sommes un exemple - nous nous asseyons et travaillons sans rel√¢che, lisez le Habr :) 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PHP pour les d√©butants. Gestion des erreurs</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440744/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/18b/c9c/5d5/18bc9c5d5f043226c41b3db5fcb1b839.png" alt="image"></div><br>  Seul celui qui ne fait rien ne fait pas d'erreurs, et nous en sommes un exemple - nous nous asseyons et travaillons sans rel√¢che, lisez le Habr :) <br><br>  Dans cet article, je vais mener mon histoire sur les erreurs en PHP et comment les limiter. <br><a name="habracut"></a><br><h2>  Erreurs </h2><br><h3>  Vari√©t√©s de la famille des erreurs </h3><br>  Avant d'apprivoiser les erreurs, je recommanderais d'√©tudier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chaque esp√®ce</a> et de pr√™ter attention s√©par√©ment aux repr√©sentants les plus √©minents. <br><br>  Pour √©viter qu'une seule erreur ne passe inaper√ßue, vous devez activer le suivi de toutes les erreurs √† l'aide de la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">error_reporting ()</a> et √† l'aide de la directive <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">display_errors</a> pour activer leur affichage: <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> error_reporting(E_ALL); ini_set(<span class="hljs-string"><span class="hljs-string">'display_errors'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br><h4>  Erreurs fatales </h4><br>  Les types d'erreurs les plus redoutables sont fatals, ils peuvent survenir √† la fois pendant la compilation et pendant le travail de l'analyseur ou du script PHP, alors que le script est interrompu. <br><br>  <strong>E_PARSE</strong> <br><br>  Cette erreur appara√Æt lorsque vous faites une erreur de syntaxe brute et que l'interpr√©teur PHP ne comprend pas ce que vous en voulez, par exemple, si vous n'avez pas ferm√© le boucl√© ou la parenth√®se: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Parse error: syntax error, unexpected end of file */</span></span> {</code> </pre><br>  Ou ils ont √©crit dans une langue incompr√©hensible: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Parse error: syntax error, unexpected '...' (T_STRING) */</span></span>    </code> </pre><br>  Des parenth√®ses suppl√©mentaires se produisent √©galement, et pas si importantes rondes ou boucl√©es: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Parse error: syntax error, unexpected '}' */</span></span> }</code> </pre><br>  Je note un point important - le code du fichier dans lequel vous avez fait l'erreur d'analyse ne sera pas ex√©cut√©, donc, si vous essayez d'activer l'affichage des erreurs dans le m√™me fichier o√π l'erreur d'analyse s'est produite, cela ne fonctionnera pas: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//     error_reporting(E_ALL); ini_set('display_errors', 1); // ..    </span></span></code> </pre><br>  <strong>E_ERREUR</strong> <br><br>  Cette erreur appara√Æt lorsque PHP a compris ce que vous vouliez, mais cela n'a pas fonctionn√© pour un certain nombre de raisons.  Cette erreur interrompt √©galement l'ex√©cution du script et le code fonctionnera avant que l'erreur n'apparaisse: <br><br>  Le plug-in est introuvable: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: require_once(): Failed opening required 'not-exists.php' * (include_path='.:/usr/share/php:/usr/share/pear') */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span> <span class="hljs-string"><span class="hljs-string">'not-exists.php'</span></span>;</code> </pre><br>  Une exception a √©t√© lev√©e (quel genre de b√™te, je vous le dirai un peu plus tard), mais n'a pas √©t√© trait√©e: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: Uncaught exception 'Exception' */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>();</code> </pre><br>  Lorsque vous essayez d'appeler une m√©thode de classe inexistante: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: Call to undefined method stdClass::notExists() */</span></span> $stdClass = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> stdClass(); $stdClass-&gt;notExists();</code> </pre><br>  Manque de m√©moire libre (plus que ce qui est prescrit dans la directive <a href="">memory_limit</a> ) ou autre chose similaire: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal Error: Allowed Memory Size */</span></span> $arr = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { $arr[] = str_pad(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-number"><span class="hljs-number">1024</span></span>); }</code> </pre><br><blockquote>  Il est tr√®s courant lors de la lecture ou du t√©l√©chargement de fichiers volumineux, alors soyez prudent avec le probl√®me de la consommation de m√©moire </blockquote>  Appel de fonction r√©cursive.  Dans cet exemple, il s'est termin√© √† la 256e it√©ration, car il est ainsi √©crit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans les param√®tres de xdebug</a> (oui, cette erreur ne peut appara√Ætre sous cette forme que lorsque l'extension xdebug est activ√©e): <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: Maximum function nesting level of '256' reached, aborting! */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deep</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ deep(); } deep();</code> </pre><br><h4>  Pas fatal </h4><br>  Cette vue n'interrompt pas l'ex√©cution du script, mais c'est g√©n√©ralement le testeur qui les trouve.  Ce sont ces erreurs qui causent le plus de probl√®mes aux d√©veloppeurs d√©butants. <br><br>  <strong>E_WARNING</strong> <br><br>  Cela se produit souvent lorsque vous connectez un fichier √† l'aide de <code>include</code> , mais il n'appara√Æt pas sur le serveur ou vous avez fait une erreur en indiquant le chemin d'acc√®s au fichier: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Warning: include_once(): Failed opening 'not-exists.php' for inclusion */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include_once</span></span> <span class="hljs-string"><span class="hljs-string">'not-exists.php'</span></span>;</code> </pre><br>  Cela se produit si vous utilisez le mauvais type d'arguments lors de l'appel de fonctions: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Warning: join(): Invalid arguments passed */</span></span> join(<span class="hljs-string"><span class="hljs-string">'string'</span></span>, <span class="hljs-string"><span class="hljs-string">'string'</span></span>);</code> </pre><br>  Il y en a beaucoup, et tout √©num√©rer n'a pas de sens ... <br><br>  <strong>E_NOTICE</strong> <br><br>  Ce sont les erreurs les plus courantes, de plus, il y a des ventilateurs pour d√©sactiver la sortie d'erreur et les riveter toute la journ√©e.  Il y a un certain nombre d'erreurs triviales. <br><br>  Lors de l'acc√®s √† une variable non d√©finie: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Undefined variable: a */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $a;</code> </pre><br>  Lors de l'acc√®s √† un √©l√©ment de tableau inexistant: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Undefined index: a */</span></span> $b = []; $b[<span class="hljs-string"><span class="hljs-string">'a'</span></span>];</code> </pre><br>  Lors de l'acc√®s √† une constante inexistante: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Use of undefined constant UNKNOWN_CONSTANT - assumed 'UNKNOWN_CONSTANT' */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> UNKNOWN_CONSTANT;</code> </pre><br>  Lorsque les types de donn√©es ne sont pas convertis: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Array to string conversion */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>();</code> </pre><br>  Pour √©viter de telles erreurs - soyez prudent, et si l'EDI vous dit quelque chose, ne l'ignorez pas: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/269/72e/f7f/26972ef7f88d757afd966ddb080a2e83.png" alt="PHP E_NOTICE dans PHPStorm" width="367" height="68"><br><br>  <strong>E_STRICT</strong> <br><br>  Ce sont des erreurs qui vous apprendront √† √©crire du code correctement afin que vous n'ayez pas honte, d'autant plus que l'EDI vous montre imm√©diatement ces erreurs.  Par exemple, si vous avez appel√© une m√©thode non statique comme statique, le code fonctionnera, mais il est en quelque sorte incorrect et des erreurs graves peuvent se produire si la m√©thode de classe est modifi√©e √† l'avenir, et un appel √† <code>$this</code> appara√Æt: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Strict standards: Non-static method Strict::test() should not be called statically */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Strict</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Test"</span></span>; } } Strict::test();</code> </pre><br><br><blockquote>  Ce type d'erreur est pertinent pour PHP version 5.6, et presque tous ont √©t√© supprim√©s <br>  7 matchs.  En savoir plus dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RFC correspondant</a> .  Si quelqu'un sait o√π ces erreurs sont rest√©es, √©crivez dans les commentaires </blockquote><br><br>  <strong>E_DEPRECATED</strong> <br><br>  PHP jurera donc si vous utilisez des fonctions obsol√®tes (c'est-√†-dire celles qui sont marqu√©es comme obsol√®tes, et elles ne seront pas dans la prochaine version majeure): <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Deprecated: Function split() is deprecated */</span></span> <span class="hljs-comment"><span class="hljs-comment">//  ,   PHP 7.0 //    PHP 5.3 split(',', 'a,b');</span></span></code> </pre><br>  Dans mon √©diteur, des fonctions similaires seront barr√©es: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d1/6f8/670/9d16f8670d27cee56cbed1433a913ee4.png" alt="PHP E_DEPRECATED dans PHPStorm" width="367" height="72"><br><br><h4>  Personnalis√© </h4><br>  Ce type, que le d√©veloppeur de code lui-m√™me ¬´√©l√®ve¬ª, je ne les ai pas vus depuis longtemps, et je ne vous recommande pas d'en abuser: <br><br><ul><li>  <code>E_USER_ERROR</code> - erreur critique </li><li>  <code>E_USER_WARNING</code> - pas une erreur critique </li><li>  <code>E_USER_NOTICE</code> - messages qui ne sont pas des erreurs </li></ul><br>  S√©par√©ment, il convient de noter <code>E_USER_DEPRECATED</code> - ce type est encore utilis√© tr√®s souvent pour rappeler au programmeur que la m√©thode ou la fonction est obsol√®te et qu'il est temps de r√©√©crire le code sans l'utiliser.  La fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">trigger_error ()</a> est utilis√©e pour cr√©er ceci et des erreurs similaires: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@deprecated</span></span></span><span class="hljs-comment"> Deprecated since version 1.2, to be removed in 2.0 */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateToken</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ trigger_error(<span class="hljs-string"><span class="hljs-string">'Function `generateToken` is deprecated, use class `Token` instead'</span></span>, E_USER_DEPRECATED); <span class="hljs-comment"><span class="hljs-comment">// ... // code ... // ... }</span></span></code> </pre><br><blockquote>  Maintenant que vous vous √™tes familiaris√© avec la plupart des types et types d'erreurs, il est temps de donner une br√®ve explication sur le fonctionnement de la directive <code>display_errors</code> : <br><br><ul><li>  si <code>display_errors = on</code> , en cas d'erreur le navigateur recevra du html avec le texte et le code d'erreur 200 </li><li>  si <code>display_errors = off</code> , alors pour les erreurs fatales, le code de r√©ponse sera 500 et le r√©sultat ne sera pas retourn√© √† l'utilisateur, pour d'autres erreurs - le code ne fonctionnera pas correctement, mais ne le dira √† personne. </li></ul><br></blockquote><br><h3>  Apprivoiser </h3><br>  Il existe 3 fonctions pour travailler avec les erreurs en PHP: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">set_error_handler ()</a> - d√©finit un gestionnaire pour les erreurs qui n'interrompent pas le script (c'est-√†-dire pour les erreurs non fatales) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">error_get_last ()</a> - obtient des informations sur la derni√®re erreur </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">register_shutdown_function ()</a> - enregistre un gestionnaire qui sera lanc√© √† la fin du script.  Cette fonction ne s'applique pas directement aux gestionnaires d'erreurs, mais elle est souvent utilis√©e √† cette fin. </li></ul><br>  Maintenant, quelques d√©tails sur la gestion des erreurs √† l'aide de <code>set_error_handler()</code> , comme fonction, cette fonction prend le nom de la fonction qui sera affect√©e √† la mission de gestion des erreurs et les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">types d'erreurs</a> qui seront surveill√©s.  Un gestionnaire d'erreurs peut √©galement √™tre une m√©thode de classe ou une fonction anonyme, l'essentiel est qu'il accepte la liste d'arguments suivante: <br><br><ul><li>  <code>$errno</code> - le premier argument contient le type d'erreur sous forme d'entier </li><li>  <code>$errstr</code> - le deuxi√®me argument contient un message d'erreur </li><li>  <code>$errfile</code> - un troisi√®me argument facultatif contient le nom du fichier dans lequel l'erreur s'est produite </li><li>  <code>$errline</code> - un quatri√®me argument facultatif contient le num√©ro de ligne sur lequel l'erreur s'est produite </li><li>  <code>$errcontext</code> - le cinqui√®me argument optionnel contient un tableau de toutes les variables existant dans la port√©e o√π l'erreur s'est produite </li></ul><br>  Si le gestionnaire a renvoy√© <code>true</code> , l'erreur sera consid√©r√©e comme trait√©e et le script continuera √† s'ex√©cuter, sinon, un gestionnaire standard sera appel√© qui enregistre l'erreur et, selon son type, continuera √† ex√©cuter le script ou √† le terminer.  Voici un exemple de gestionnaire: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//    ,  E_NOTICE error_reporting(E_ALL &amp; ~E_NOTICE); ini_set('display_errors', 1); //    function myHandler($level, $message, $file, $line, $context) { //         switch ($level) { case E_WARNING: $type = 'Warning'; break; case E_NOTICE: $type = 'Notice'; break; default; //   E_WARNING   E_NOTICE //      //      PHP return false; } //    echo "&lt;h2&gt;$type: $message&lt;/h2&gt;"; echo "&lt;p&gt;&lt;strong&gt;File&lt;/strong&gt;: $file:$line&lt;/p&gt;"; echo "&lt;p&gt;&lt;strong&gt;Context&lt;/strong&gt;: $". join(', $', array_keys($context))."&lt;/p&gt;"; // ,    ,      return true; } //   ,         set_error_handler('myHandler', E_ALL);</span></span></code> </pre><br><blockquote>  Vous ne pourrez pas affecter plus d'une fonction pour g√©rer les erreurs, bien que j'aimerais vraiment enregistrer mon propre gestionnaire pour chaque type d'erreur, mais non - √©crivez un gestionnaire et d√©crivez toute la logique d'affichage pour chaque type directement dedans </blockquote>  Il y a un probl√®me important avec le gestionnaire qui est √©crit ci-dessus - il ne d√©tecte pas les erreurs fatales, et avec de telles erreurs, au lieu du site, les utilisateurs ne verront qu'une page vierge ou, pire encore, un message d'erreur.  Afin d'√©viter un tel sc√©nario, vous devez utiliser la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">register_shutdown_function</a> () et l'utiliser pour enregistrer une fonction qui sera toujours ex√©cut√©e √† la fin du script: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shutdown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'    '</span></span>; } register_shutdown_function(<span class="hljs-string"><span class="hljs-string">'shutdown'</span></span>);</code> </pre><br>  Cette fonction fonctionnera toujours! <br><br>  Mais revenons aux erreurs, pour suivre l'apparition de l'erreur dans le code d'erreur, nous utilisons la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">error_get_last ()</a> , avec son aide, vous pouvez obtenir des informations sur la derni√®re erreur d√©tect√©e, et puisque les erreurs fatales interrompent l'ex√©cution du code, elles joueront toujours le r√¥le du "dernier": <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shutdown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $error = error_get_last(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-comment"><span class="hljs-comment">//       is_array($error) &amp;&amp; //       in_array($error['type'], [E_ERROR, E_PARSE, E_CORE_ERROR, E_COMPILE_ERROR]) ) { //    (       ) while (ob_get_level()) { ob_end_clean(); } //    echo "    ,  "; } } register_shutdown_function('shutdown');</span></span></code> </pre> <br><blockquote>  Je voudrais attirer l'attention sur le fait que ce code se produit m√™me pour la gestion des erreurs, et vous pouvez m√™me le rencontrer, mais il a perdu sa pertinence depuis la 7√®me version de PHP.  Ce qui est venu remplacer je le dirai un peu plus tard. </blockquote><div class="spoiler">  <b class="spoiler_title">T√¢che</b> <div class="spoiler_text">  Compl√©tez le gestionnaire d'erreur fatale avec la sortie du code source du fichier o√π l'erreur a √©t√© commise, et ajoutez √©galement la coloration syntaxique du code de sortie. <br></div></div><br><h3>  √Ä propos de la gourmandise </h3><br>  Faisons un test simple et d√©couvrons combien de ressources pr√©cieuses mange l'erreur la plus triviale: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *      */</span></span> <span class="hljs-comment"><span class="hljs-comment">//     $time= microtime(true); define('AAA', 'AAA'); $arr = []; for ($i = 0; $i &lt; 10000; $i++) { $arr[AAA] = $i; } printf('%f seconds &lt;br/&gt;', microtime(true) - $time);</span></span></code> </pre><br>  √Ä la suite de l'ex√©cution de ce script, j'ai obtenu ce r√©sultat: <br><br><pre> <code class="bash hljs">0.002867 seconds</code> </pre><br>  Ajoutez maintenant l'erreur dans la boucle: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *     */</span></span> <span class="hljs-comment"><span class="hljs-comment">//     $time= microtime(true); $arr = []; for ($i = 0; $i &lt; 10000; $i++) { $arr[BBB] = $i; //   ,      } printf('%f seconds &lt;br/&gt;', microtime(true) - $time);</span></span></code> </pre><br>  Le r√©sultat est vraisemblablement pire, et d'un ordre de grandeur (m√™me deux ordres de grandeur!): <br><br><pre> <code class="bash hljs">0.263645 seconds</code> </pre><br>  <strong>La conclusion est claire - les erreurs dans le code entra√Ænent une gourmandise excessive des scripts - alors activez l'affichage de toutes les erreurs pendant le d√©veloppement et les tests de l'application!</strong> <br><blockquote>  Les tests ont √©t√© effectu√©s sur diff√©rentes versions de PHP, et partout la diff√©rence est des dizaines de fois, alors que ce soit une autre raison de corriger toutes les erreurs dans le code </blockquote><br><h3>  O√π est le chien enterr√© </h3><br>  PHP a un symbole sp√©cial ¬´@¬ª - un op√©rateur de suppression d'erreur, il est utilis√© pour ne pas √©crire la gestion des erreurs, mais s'appuie sur le comportement correct de PHP, auquel cas <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> @UNKNOWN_CONSTANT;</code> </pre><br>  Dans ce cas, le gestionnaire d'erreur sp√©cifi√© dans <code>set_error_handler()</code> sera toujours appel√©, et le fait que la suppression a √©t√© appliqu√©e √† l'erreur peut √™tre suivi en appelant la fonction <code>error_reporting()</code> √† l'int√©rieur du gestionnaire, auquel cas elle renverra <code>0</code> . <br><blockquote>  Si vous supprimez les erreurs de cette mani√®re, cela r√©duit la charge du processeur par rapport √† si vous les masquez simplement (voir le test comparatif ci-dessus), mais dans tous les cas, la <strong>suppression des erreurs est mauvaise</strong> </blockquote><div class="spoiler">  <b class="spoiler_title">T√¢che</b> <div class="spoiler_text">  V√©rifiez comment la suppression des erreurs avec <code>@</code> affecte l'exemple de boucle pr√©c√©dent. <br></div></div><br><h2>  Exceptions </h2><br><blockquote>  √Ä l'√®re de PHP4, il n'y avait pas d'exceptions, tout √©tait beaucoup plus compliqu√©, et les d√©veloppeurs se d√©battaient avec les erreurs du mieux qu'ils pouvaient, c'√©tait une bataille non pas pour la vie mais pour la mort ... Vous pouvez plonger dans cette histoire fascinante de la confrontation dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Exceptional Code.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a>  Dois-je le lire maintenant?  Je ne peux pas donner de r√©ponse d√©finitive, je veux juste noter que cela vous aidera √† comprendre l‚Äô√©volution du langage et r√©v√©lera tout le charme des exceptions. </blockquote>  Les exceptions sont des √©v√©nements exceptionnels en PHP, contrairement aux erreurs, non seulement elles signalent un probl√®me, mais n√©cessitent des actions suppl√©mentaires de la part du programmeur pour g√©rer chaque cas sp√©cifique. <br><br>  Par exemple, un script doit enregistrer certaines donn√©es dans un fichier cache si quelque chose ne va pas (pas d'acc√®s en √©criture, pas d'espace disque), une exception du type correspondant est g√©n√©r√©e et la d√©cision est prise dans le gestionnaire d'exceptions - enregistrer dans un autre emplacement ou informer l'utilisateur du probl√®me. <br><br>  Une exception est un objet de la classe <code>Exception</code> ou de l'un de ses nombreux descendants, elle contient le texte d'erreur, le statut et peut √©galement contenir un lien vers une autre exception qui est devenue la cause premi√®re de cela.  Le mod√®le d'exception en PHP est similaire √† celui utilis√© dans d'autres langages de programmation.  Une exception peut √™tre lev√©e (comme on dit ¬´lancer¬ª) √† l'aide de l'op√©rateur de <code>throw</code> , et vous pouvez attraper (¬´attraper¬ª) l'instruction <code>catch</code> .  Le code qui l√®ve l'exception doit √™tre entour√© d'un bloc <code>try</code> pour intercepter l'exception.  Chaque bloc <code>try</code> doit avoir au moins un <code>catch</code> correspondant ou <code>finally</code> bloc: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      if (random_int(0, 1)) { throw new Exception("One"); } echo "Zero" } catch (Exception $e) { //      echo $e-&gt;getMessage(); }</span></span></code> </pre><br>  Dans quels cas, il vaut la peine d'utiliser des exceptions: <br><br><ul><li>  si, dans le cadre d'une m√©thode / fonction, plusieurs op√©rations peuvent √©chouer </li><li>  si votre framework ou biblioth√®que d√©clare leur utilisation </li></ul><br>  Pour illustrer le premier sc√©nario, prenons un exemple d√©j√† exprim√© d'une fonction d'√©criture de donn√©es dans un fichier - de nombreux facteurs peuvent nous emp√™cher, et pour dire au code ci-dessus quel √©tait exactement le probl√®me, vous devez cr√©er et lever une exception: <br><br><pre> <code class="php hljs">$directory = <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . DIRECTORY_SEPARATOR . <span class="hljs-string"><span class="hljs-string">'logs'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     if (!is_dir($directory)) { throw new Exception('Directory `logs` is not exists'); } //         if (!is_writable($directory)) { throw new Exception('Directory `logs` is not writable'); } //  -   ,      if (!$file = @fopen($directory . DIRECTORY_SEPARATOR . date('Ym-d') . '.log', 'a+')) { throw new Exception('System can\'t create log file'); } fputs($file, date("[H:i:s]") . " done\n"); fclose($file);</span></span></code> </pre><br>  En cons√©quence, nous intercepterons ces exceptions comme ceci: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      // ... } catch (Exception $e) { //    echo " : ". $e-&gt;getMessage(); }</span></span></code> </pre><br>  Cet exemple montre un sc√©nario tr√®s simple pour g√©rer les exceptions, lorsque nous avons une exception g√©r√©e d'une mani√®re.  Mais souvent, diverses exceptions n√©cessitent une approche diff√©rente du traitement, puis vous devez utiliser des codes d'exception et d√©finir la hi√©rarchie des exceptions dans l'application: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    class FileSystemException extends Exception {} //     class DirectoryException extends FileSystemException { //   const DIRECTORY_NOT_EXISTS = 1; const DIRECTORY_NOT_WRITABLE = 2; } //     class FileException extends FileSystemException {}</span></span></code> </pre><br>  Maintenant, si vous utilisez ces exceptions, vous pouvez obtenir le code suivant: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      if (!is_dir($directory)) { throw new DirectoryException('Directory `logs` is not exists', DirectoryException::DIRECTORY_NOT_EXISTS); } if (!is_writable($directory)) { throw new DirectoryException('Directory `logs` is not writable', DirectoryException::DIRECTORY_NOT_WRITABLE); } if (!$file = @fopen($directory . DIRECTORY_SEPARATOR . date('Ym-d') . '.log', 'a+')) { throw new FileException('System can\'t open log file'); } fputs($file, date("[H:i:s]") . " done\n"); fclose($file); } catch (DirectoryException $e) { echo "   : ". $e-&gt;getMessage(); } catch (FileException $e) { echo "   : ". $e-&gt;getMessage(); } catch (FileSystemException $e) { echo "  : ". $e-&gt;getMessage(); } catch (Exception $e) { echo " : ". $e-&gt;getMessage(); }</span></span></code> </pre><br>  Il est important de se rappeler que l'exception est avant tout un √©v√©nement exceptionnel, c'est-√†-dire une exception √† la r√®gle.  Vous n'avez pas besoin de les utiliser pour g√©rer des erreurs √©videntes, par exemple, pour valider l'entr√©e utilisateur (bien que ce ne soit pas si simple).  Dans ce cas, le gestionnaire d'exceptions doit √™tre √©crit √† l'endroit o√π il pourra le g√©rer.  Par exemple, le gestionnaire des exceptions caus√©es par l'inaccessibilit√© d'un fichier √† √©crire doit √™tre dans la m√©thode responsable de la s√©lection du fichier ou de la m√©thode qui l'appelle, afin qu'il puisse s√©lectionner un autre fichier ou un r√©pertoire diff√©rent. <br><br>  Alors, que se passera-t-il si vous ne capturez pas l'exception?  Vous obtiendrez "Erreur fatale: exception non intercept√©e ...".  D√©sagr√©able. <br><br>  Pour √©viter cette situation, vous devez utiliser la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">set_exception_handler ()</a> et d√©finir le gestionnaire pour les exceptions <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lev√©es en</a> dehors du bloc try-catch et qui n'ont pas √©t√© trait√©es.  Apr√®s avoir appel√© un tel gestionnaire, l'ex√©cution du script sera arr√™t√©e: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//     //     set_exception_handler(function($exception) { /** @var Exception $exception */ echo $exception-&gt;getMessage(), "&lt;br/&gt;\n"; echo $exception-&gt;getFile(), ':', $exception-&gt;getLine(), "&lt;br/&gt;\n"; echo $exception-&gt;getTraceAsString(), "&lt;br/&gt;\n"; });</span></span></code> </pre><br>  Je vais √©galement vous parler de la construction en utilisant le bloc <code>finally</code> - ce bloc sera ex√©cut√© ind√©pendamment du fait qu'une exception ait √©t√© lev√©e ou non: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      } catch (Exception $e) { //      //     } finally { // ,       }</span></span></code> </pre><br>  Pour comprendre ce que cela nous donne, je vais donner l'exemple suivant de l'utilisation du bloc <code>finally</code> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// -    //     $handler = mysqli_connect('localhost', 'root', '', 'test'); try { //        // ... throw new Exception('DB error'); } catch (Exception $e) { //  ,     //     ,    throw new Exception('Catch exception', 0, $e); } finally { // ,      //      finally mysqli_close($handler); } //     ,       echo "Ok"; } catch (Exception $e) { //  ,    echo $e-&gt;getMessage(); echo "&lt;br/&gt;"; //      echo $e-&gt;getPrevious()-&gt;getMessage(); }</span></span></code> </pre><br>  C'est-√†-dire  rappelez-vous - le bloc <code>finally</code> sera ex√©cut√© m√™me si vous lancez une exception ci-dessus dans le bloc <code>catch</code> (en fait, c'est ce qu'il voulait). <br><br>  Pour un article d'introduction juste, qui a soif de plus de d√©tails, vous les trouverez dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Code exceptionnel</a> ;) <br><br><div class="spoiler">  <b class="spoiler_title">T√¢che</b> <div class="spoiler_text">  √âcrivez votre gestionnaire d'exceptions, avec la sortie du texte du fichier o√π l'erreur s'est produite, et tout cela avec la coloration syntaxique, n'oubliez pas non plus d'afficher la trace sous une forme lisible.  Pour r√©f√©rence, voyez √† quel point il a l'air cool sur les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">whoops</a> . <br></div></div><br><h3>  PHP7 - tout n'est plus comme avant </h3><br>  Donc, maintenant vous avez appris toutes les informations ci-dessus et maintenant je vais vous charger d'innovations en PHP7, c'est-√†-dire<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je vais parler de ce que vous rencontrerez en travaillant sur un projet PHP moderne. </font><font style="vertical-align: inherit;">Plus t√¥t, je vous l'ai dit et montr√© avec des exemples quelle b√©quille vous devez construire afin de d√©tecter les erreurs critiques, et donc - en PHP7, ils ont d√©cid√© de le r√©parer, mais? </font><font style="vertical-align: inherit;">comme d'habitude? </font><font style="vertical-align: inherit;">li√© √† la compatibilit√© descendante du code, et re√ßu, bien qu'une solution universelle, mais il est loin d'√™tre id√©al. </font><font style="vertical-align: inherit;">Et maintenant sur les points concernant les changements:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lorsque des erreurs fatales du type </font></font><code>E_ERROR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou des erreurs fatales se produisent avec la possibilit√© de traiter </font></font><code>E_RECOVERABLE_ERROR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP l√®ve une exception</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ces exceptions </font><font style="vertical-align: inherit;">n'h√©ritent </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> la classe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exception</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (rappelez-vous, j'ai parl√© de compatibilit√© descendante, c'est tout pour elle)</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ces exceptions h√©ritent de la classe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Error</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les classes Exception et Error impl√©mentent l'interface </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Throwable</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous ne pouvez pas impl√©menter l'interface jetable dans votre code </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'interface </font></font><code>Throwable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous r√©p√®te presque compl√®tement </font></font><code>Exception</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Throwable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLine</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTrace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTraceAsString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPrevious</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Throwable</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est-ce difficile? </font><font style="vertical-align: inherit;">Maintenant, pour des exemples, prenez ceux qui √©taient plus √©lev√©s et l√©g√®rement modernis√©s:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,     include 'e_parse_include.php'; } catch (Error $e) { var_dump($e); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En cons√©quence, nous interceptons l'erreur et imprimons: </font></font><br><br><pre> <code class="bash hljs">object(ParseError)<span class="hljs-comment"><span class="hljs-comment">#1 (7) { ["message":protected] =&gt; string(48) "syntax error, unexpected '' (T_STRING)" ["string":"Error":private] =&gt; string(0) "" ["code":protected] =&gt; int(0) ["file":protected] =&gt; string(49) "/www/education/error/e_parse_include.php" ["line":protected] =&gt; int(4) ["trace":"Error":private] =&gt; array(0) { } ["previous":"Error":private] =&gt; NULL }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme vous pouvez le voir, ils ont intercept√© l'exception </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ParseError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est le successeur de l'exception </font></font><code>Error</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui impl√©mente l'interface </font></font><code>Throwable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans la maison que Jack a construite. </font><font style="vertical-align: inherit;">Il existe de nombreuses autres exceptions, mais je ne tourmenterai pas - pour plus de clart√©, je donnerai une hi√©rarchie d'exceptions:</font></font><br><br><pre> <code class="bash hljs">interface Throwable |- Exception implements Throwable | |- ErrorException extends Exception | |- ... extends Exception | `- ... extends Exception `- Error implements Throwable |- TypeError extends Error |- ParseError extends Error |- ArithmeticError extends Error | `- DivisionByZeroError extends ArithmeticError `- AssertionError extends Error</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et un peu plus en d√©tail: </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypeError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - pour les erreurs lorsque le type des arguments de fonction ne correspond pas au type transmis:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $one, int $two)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; })(<span class="hljs-string"><span class="hljs-string">'one'</span></span>, <span class="hljs-string"><span class="hljs-string">'two'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (TypeError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ArithmeticError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - peut se produire pendant les op√©rations math√©matiques, par exemple, lorsque le r√©sultat du calcul d√©passe la limite allou√©e pour un entier:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">-1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DivisionByZeroError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - division par z√©ro erreur:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-number"><span class="hljs-number">1</span></span> / <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AssertionError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - une b√™te rare qui appara√Æt lorsque la condition sp√©cifi√©e dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assert () n'est</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pas remplie:</font></font><br><br><pre> <code class="php hljs">ini_set(<span class="hljs-string"><span class="hljs-string">'zend.assertions'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); ini_set(<span class="hljs-string"><span class="hljs-string">'assert.exception'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { assert(<span class="hljs-number"><span class="hljs-number">1</span></span> === <span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (AssertionError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A param√®tres directive production serveur </font></font><code>zend.assertions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>assert.exception</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coup√©, et √† </font><font style="vertical-align: inherit;">juste titre</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous trouverez une liste compl√®te des exceptions pr√©d√©finies dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manuel officiel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dans la m√™me hi√©rarchie des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exceptions SPL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√¢che</font></font></b> <div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √âcrivez un gestionnaire d'erreur universel pour PHP7 qui interceptera toutes les exceptions possibles. </font></font><br></div></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors de la r√©daction de cette section, des √©l√©ments de l'article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exceptions et erreurs pouvant √™tre lev√©es en PHP 7 ont √©t√© utilis√©s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Uniformit√© </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Il y a des erreurs, des exceptions, mais tout cela peut-il √™tre ratiss√© d'une mani√®re ou d'une autre? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oui, c'est facile, nous en avons </font></font><code>set_error_handler()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un et personne ne nous interdira de lever une exception √† l'int√©rieur de ce gestionnaire:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//     function errorHandler($severity, $message, $file = null, $line = null) { //  ,       @ if (error_reporting() === 0) { return false; } throw new \ErrorException($message, 0, $severity, $file, $line); } //   -  set_error_handler('errorHandler', E_ALL);</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais cette approche avec PHP7 est redondante, maintenant elle peut tout g√©rer </font></font><code>Throwable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">/** ... **/</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (\Throwable $e) { <span class="hljs-comment"><span class="hljs-comment">//      echo $e-&gt;getMessage(); }</span></span></code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√©bogage </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parfois, pour d√©boguer du code, vous devez suivre ce qui est arriv√© √† une variable ou √† un objet √† un certain stade, √† ces fins, il existe une fonction </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug_backtrace ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug_print_backtrace ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui renverra l'historique des appels aux fonctions / m√©thodes dans l'ordre inverse:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">example</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;pre&gt;'</span></span>; debug_print_backtrace(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;/pre&gt;'</span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExampleClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">method</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ example(); } } ExampleClass::method();</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä la suite de l'ex√©cution de la fonction </font></font><code>debug_print_backtrace()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, une liste des appels qui nous ont amen√©s √† ce point sera affich√©e:</font></font><br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#0 example() called at [/www/education/error/backtrace.php:10] #1 ExampleClass::method() called at [/www/education/error/backtrace.php:14]</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez v√©rifier le code pour les erreurs de syntaxe en utilisant la fonction </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">php_check_syntax ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou la commande </font></font><code>php -l [  ]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais je n'en ai pas vu l'utilisation.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Affirmer </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je voudrais √©galement parler d'une b√™te aussi exotique que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assert ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en PHP. </font><font style="vertical-align: inherit;">En fait, cette pi√®ce peut √™tre consid√©r√©e comme un mim√©tisme pour la m√©thodologie de programmation des contrats, puis je vous dirai comment je ne l'ai jamais utilis√©e :)</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La fonction a </font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chang√© son comportement lors de la transition de la version 5.6 √† 7.0, et tout a chang√© encore plus fort dans la version 7.2, alors lisez attentivement les journaux des modifications et PHP;)</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le premier cas est celui o√π vous devez √©crire TODO directement dans le code, afin de ne pas oublier d'impl√©menter la fonctionnalit√© donn√©e: </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//  asserts  php.ini // zend.assertions=1 assert(false, "Remove it!");</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä la suite de l'ex√©cution de ce code, nous obtenons </font></font><code>E_WARNING</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="bash hljs">Warning: assert(): Remove it! failed</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP7 peut √™tre bascul√© en mode exception, et au lieu d'une erreur, une exception appara√Ætra toujours </font></font><code>AssertionError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    ¬´¬ª ini_set('assert.exception', 1); assert(false, "Remove it!");</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cons√©quence, nous nous attendons √† une exception </font></font><code>AssertionError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si n√©cessaire, vous pouvez lever une exception arbitraire:</font></font><br><br><pre> <code class="php hljs">assert(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">"Remove it!"</span></span>));</code> </pre><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je recommanderais d'utiliser des balises </font></font><code>@TODO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, les IDE modernes fonctionnent bien avec eux, et vous n'aurez pas besoin de d√©ployer des efforts et des ressources suppl√©mentaires pour travailler avec eux, bien que la tentation de ¬´marquer¬ª avec eux soit grande</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le deuxi√®me cas d'utilisation consiste √† cr√©er une sorte de TDD, mais rappelez-vous, ce n'est qu'une similitude. </font><font style="vertical-align: inherit;">Cependant, si vous essayez dur, vous pouvez obtenir un r√©sultat amusant qui vous aidera √† tester votre code:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// callback-      function backlog($script, $line, $code, $message) { echo $message; } //  callback- assert_options(ASSERT_CALLBACK, 'backlog'); //    assert_options(ASSERT_WARNING, false); //      assert(sqr(4) === 16, 'When I send integer, function should return square of it'); // ,   function sqr($a) { return; //    }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La troisi√®me option est une sorte de programmation sous contrat, lorsque vous d√©crivez les r√®gles d'utilisation de votre biblioth√®que, mais que vous voulez vous assurer que vous √™tes bien compris, et dans ce cas, informez imm√©diatement le d√©veloppeur d'une erreur (je ne suis m√™me pas s√ªr de bien le comprendre, mais un exemple Le code fonctionne assez bien): </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *        * * [ * 'host' =&gt; 'localhost', * 'port' =&gt; 3306, * 'name' =&gt; 'dbname', * 'user' =&gt; 'root', * 'pass' =&gt; '' * ] * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> $settings */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupDb</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($settings)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   assert(isset($settings['host']), 'Db `host` is required'); assert(isset($settings['port']) &amp;&amp; is_int($settings['port']), 'Db `port` is required, should be integer'); assert(isset($settings['name']), 'Db `name` is required, should be integer'); //    // ... } setupDb(['host' =&gt; 'localhost']);</span></span></code> </pre><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous √™tes int√©ress√© par les contrats, alors sp√©cialement pour vous, j'ai un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien vers le</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> framework </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">PhpDeal</font></a><font style="vertical-align: inherit;"> .</font></font></blockquote><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne jamais utiliser </font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour v√©rifier les param√®tres d'entr√©e, car en fait, il </font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interpr√®te le premier param√®tre (se comporte comme </font></font><code>eval()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), et cela est lourd d'injection PHP. </font><font style="vertical-align: inherit;">Et oui, c'est le comportement correct, car si vous d√©sactivez l'assertion, tous les arguments pass√©s seront ignor√©s, et si vous faites comme dans l'exemple ci-dessus, le code sera ex√©cut√© et le r√©sultat bool√©en de l'ex√©cution sera pass√© √† l'int√©rieur de l'assertion d√©sactiv√©e. </font><font style="vertical-align: inherit;">Oh, et cela a chang√© en PHP 7.2 :)</font></font></blockquote><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez une exp√©rience d'utilisation en direct </font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- partagez avec moi, je vous en serai reconnaissant. </font><font style="vertical-align: inherit;">Et oui, voici une autre lecture int√©ressante pour vous sur ce sujet - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP Assertions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , avec la m√™me question √† la fin :)</font></font><br><br><h2>  En conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Je vais √©crire les conclusions de cet article pour vous: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lutter contre les erreurs - elles ne devraient pas figurer dans votre code </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Utilisez les exceptions - travailler avec eux doit √™tre correctement organis√© et il y aura du bonheur </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Affirmer - en savoir plus sur eux, et bien </font></font></li></ul><br><h3>  PS </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ceci est une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rediffusion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'une s√©rie d'articles "PHP pour les d√©butants":</font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La session</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connexion de fichier</font></font></a> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion des erreurs</font></font></b> </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez des commentaires sur le contenu de l'article, ou √©ventuellement sous forme, d√©crivez l'essentiel dans les commentaires, et nous am√©liorerons encore ce contenu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merci √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maxim Slesarenko</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour l'aide √† la r√©daction de l'article.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr440744/">https://habr.com/ru/post/fr440744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr440732/index.html">Mettre √† niveau une carte de d√©bogage avec un processeur Baikal-T1: ajoutez une carte SD</a></li>
<li><a href="../fr440734/index.html">Session ouverte en vue dans Spring Boot: The Phantom Menace</a></li>
<li><a href="../fr440736/index.html">Je ruine la vie des d√©veloppeurs avec mes critiques de code et je suis d√©sol√©</a></li>
<li><a href="../fr440740/index.html">Webinaire ouvert ¬´Parcours client: quel trafic et o√π conduire¬ª</a></li>
<li><a href="../fr440742/index.html">Pages AMP et Turbo: avantages, inconv√©nients et r√©sultats de la mise en ≈ìuvre</a></li>
<li><a href="../fr440746/index.html">La technologie de gestion des connaissances de Gartner utilise des √©tudes de cas sur KnowledgeConf</a></li>
<li><a href="../fr440748/index.html">Le supercalculateur le plus rapide du monde bat le record de l'IA</a></li>
<li><a href="../fr440752/index.html">S√©lection de la priorit√© de la demande de l'utilisateur</a></li>
<li><a href="../fr440754/index.html">Utilitaire anglais multiplateforme pour visualiser les certificats qualifi√©s russes x509</a></li>
<li><a href="../fr440756/index.html">CI / CD sans serveur sur AWS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>