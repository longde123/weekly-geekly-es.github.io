<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎍 🍉 🆗 我的Pascal编译器和波兰当代艺术 🚢 🦇 ⛩️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="起源 
 几年前，我编写了Pascal编译器。 动机很简单：十几岁的时候，我从我的第一本编程教科书中学到了编译器是一件非常复杂的事情。 这种说法最终成为一个挑战，需要通过经验进行检验。 


 ha.art.pl 

 首先，一个简单的PL / 0编译器应运而生，后来一个用于MS-DOS的几乎全功能...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>我的Pascal编译器和波兰当代艺术</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440372/"><h2> 起源 </h2><br> 几年前，我编写了Pascal编译器。 动机很简单：十几岁的时候，我从我的第一本编程教科书中学到了编译器是一件非常复杂的事情。 这种说法最终成为一个挑战，需要通过经验进行检验。 <br><br><img src="https://habrastorage.org/webt/b2/ki/kn/b2kiknbgwl4rcqwjgtbex6ucfn8.jpeg" alt="图片"><br>  <i>ha.art.pl</i> <br><br> 首先，一个简单的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PL / 0</a>编译器应运而生，后来一个用于MS-DOS的几乎全功能的Pascal编译器由此产生。 我的灵感来源是Pascal语言的发明者Niklaus Wirth编写的《 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Compiler Construction》</a>一书。 我不在乎Wirth的观点现在是否已过时并且与IT主流没有直接联系，或者编译器的设计方式是否已更改。 足以知道他的技术仍然简单，优雅，并且最后但并非最不重要的是， <i>带来了很多乐趣</i> ，因为用手写递归下降解析器解析程序源并生成机器代码比使用称为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">yaccs</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">野牛</a>及其所有后代。 <br><br> 我的编译器的命运并不那么琐碎。 它有两种生命：第一种在我自己的手中，第二种在来自波兰的计算机古董商的手中。 <br><a name="habracut"></a><br><h2>  Xd帕斯卡 </h2><br> 我刚出生的编译器名为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">XD Pascal</a> 。 它支持<code>goto</code>和<code>with</code>之外的所有Pascal语句。 前者似乎很难实现，因为它将破坏完美的分层程序结构。 后者可能会使简单的作用域规则变得模棱两可。 <br><br> 还支持所有主要数据类型。 除了范围之外，只有无符号的整数，集合，枚举和变量记录-但是所有这些显然不是日常必需品。 但是，我不能否认自己引入了浮点数和8087 FPU算术的乐趣-那是我对工程计算的沉迷。 <br><br> 在实现过程和函数时，我担心本地变量的递归和在堆栈上的存储将是一个大问题。 然而，嵌套子例程是Pascal真正的难题。 可以无私地希望从内部子例程中访问外部子例程的局部变量。 但是，内部子例程不具有外部子例程的堆栈帧地址，换句话说，它不知道使用可变偏移量的源是什么。 该地址将作为附加的隐藏参数传递给内部子例程。 我认为正是这种困难迫使C的设计人员完全放弃了子例程的嵌套。 但是Pascal仍然有它们，并且此功能不能忽略。 <br><br> 代码生成器为实模式MS-DOS创建了最简单的COM可执行文件。 机器指令是直接生成的，无需任何外部汇编程序或链接程序。 我使用32位寄存器存储数据，但是寻址仍然是16位（段/偏移对）。 <br><br> 内存模型类似于“小型”模型（如果有人仍然记得这种16位时代的术语）：代码，数据和堆栈每个占用一个64 KB的段。 <br><br><img src="https://habrastorage.org/webt/do/fp/gt/dofpgtptjrx_eyw_b-pp81ig7dq.png" alt="图片"><br>  <i>内存使用量</i> <br><br> 生成EXE并动态切换段似乎太难了，“小”模型的严格限制迫使我告别了自我编译。 当然，我看到一些自编译器，它们的代码仅适合一个段（例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Context</a> ）。 但是，除了这种编译自身的功能之外，他们几乎无法做任何有用的事情。 相反，我希望使我的编译器适合于数值计算和图形。 因此，除其他示例外，我还包括分形，用于求解线性方程式的高斯方法，快速傅立叶变换，甚至包括用于估计惯性导航系统误差的卡尔曼滤波器。 <br><br><img src="https://habrastorage.org/webt/jc/ok/xi/jcokximzi3cwbsolsh3wtbomo20.png" alt="图片"><br>  <i>曼德布罗集片段</i> <br><br><img src="https://habrastorage.org/webt/ih/c9/a6/ihc9a64xrqc_alfhse2fwe4jrwo.png" alt="图片"><br>  <i>快速傅立叶变换</i> <br><br><img src="https://habrastorage.org/webt/hc/xy/f0/hcxyf0udd1gbkzkwtukw2-gkwis.png" alt="图片"><br>  <i>惯性导航系统误差估计</i> <br><br> 我最终得到的东西与古老的Turbo Pascal 3.0（无OOP）和业余爱好者<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">BeRo Tiny Pascal</a>非常相似。 后者的作者设法在Windows下自编译，但是牺牲了浮点运算和语法的许多微妙之处，我希望保留这些细节。 在更现代的功能中，我的XD Pascal获得了Delphi样式的单行注释（ <code>//</code> ）和<code>Result</code>变量。 <br><br> 然而，自从诞生以来，我的编译器被标记为死亡。  Pascal不可逆转地过时了，而MS-DOS早已成为过时的了。 当我从没有DOS虚拟机的32位Windows XP切换到64位Windows 7的那天，我认为我的项目已死。 <br><br><h2> 复兴 </h2><br> 然后发生了一些奇怪的事情。 经过三年的遗忘，一组波兰的反向计算爱好者和Atari爱好者找到了我的编译器。 看来他们不太在意抽象问题，例如自我编译或语法严格性。 他们只是需要一种方便的编程工具来安装自己喜欢的机器。 他们使用我的项目，为6502体系结构构建了自己的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Mad Pascal</a>编译器。 语言语法得到了扩展，添加了对具有接口和实现部分， <code>goto</code>语句，无符号整数，集合和枚举，内联汇编代码的独立单元的支持。 生成了汇编代码，而不是机器代码。 然后由自制编译器翻译。 <br><br> 该语言的外观已与事实上的标准Pascal变得非常接近。 编译器内部看起来有些恐怖，保留字与标准子例程的名称混合在一起，但这不会打扰开发人员。 无论看上去如何，这项工作都令人惊讶地可行：Mad Pascal进行了三年定期更新，编写了许多游戏，作者每年参加<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Silly Venture</a>逆向计算会议（链接可能需要VPN）。 看起来Atari的传统在波兰非常流行。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/bFOVFtPFi_I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Atari的波兰粉丝在2018年春季发生了一件值得注意的事件：《 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i>Robbo</i></a> 》一书<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i>。</i></a> 出版了实验文献的示例<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i>Solucja</i></a> （ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i>Robbo。Walkthrough</i></a> ）。 我在这里需要强调的是，30年前发行的Atari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i>机器人</i></a>游戏仍然激发了波兰老球迷的热情，使他们充满了爱国主义的喜悦。 一般而言，出现一本受游戏启发的书并不奇怪。 但是有趣的事实是，正如作者所说，这本书的60％是Atari计算机本身生成的演练教程。 文本生成程序是用Mad Pascal编写的。 <br><br><img src="https://habrastorage.org/webt/sr/oj/qf/srojqfmkyrz87h8mnqvjoehm5ui.jpeg" alt="图片"><br>  <i>graczpospolita.pl</i> <br><br> 似乎<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有人</a>认为这本书是当代艺术的一个很好的例子： <br><blockquote> 将这本书视作<i>Robbo</i>粉丝（或更笼统的Atari粉丝）的收藏品会产生误导。 我们以视频游戏文化与文学（在本例中为电子文学）之间互动的罕见例子为出发点，即“游戏”而非“文学”。 对于某些人来说，这是毫无意义的“为艺术而艺术”。 对于其他人来说，这样的交叉提供了绝对新的机会和经验。 没有什么可以阻止您创建可以使用本书中的“演练”完成的<i>Robbo</i>版本的。 这本书很符合我对电子游戏艺术的看法。 玩家既可以是接受者又可以是创造者的艺术-如果在“游戏”期间有“观众”看着玩家创建自己的“游戏”历史。 本书的内容可以与演员表演<i>Robbo</i>的演员一起使用表演中的演练元素来进行表演。 为了不落伍：基于<i>Robbo</i>的表现<i>。</i>  <i>Solucja</i>于2018年5月11日在克拉科夫的<i>Bunker</i>当代艺术画廊举行，展览的同时介绍了《 <i>无尽之力》</i>展览。 </blockquote> 在克拉科夫的表演节目。 值得编写一个编译器。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN440372/">https://habr.com/ru/post/zh-CN440372/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN440360/index.html">打耳光和生产？ 为什么不呢</a></li>
<li><a href="../zh-CN440362/index.html">小米M365电动滑板车很容易受到黑客的远程控制</a></li>
<li><a href="../zh-CN440364/index.html">你知道公斤，兆和演出。 ronne和cuecca怎么样？</a></li>
<li><a href="../zh-CN440366/index.html">有关Habré的文章的生命周期：我们编写了habraparser</a></li>
<li><a href="../zh-CN440370/index.html">服务条款：99％的用户根本不了解他们</a></li>
<li><a href="../zh-CN440374/index.html">Yandex函数发送邮件</a></li>
<li><a href="../zh-CN440376/index.html">20个游戏来教孩子编程</a></li>
<li><a href="../zh-CN440378/index.html">回到Istio的微服务。 第二部分</a></li>
<li><a href="../zh-CN440382/index.html">200是好是坏？</a></li>
<li><a href="../zh-CN440386/index.html">通过消除错误来释放错误处理</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>