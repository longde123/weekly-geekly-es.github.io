<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸšŠ ğŸ¸ ğŸ‘ğŸ¼ ç”¨ç®—æ³•Xè§£å†³æ•°ç‹¬ â›…ï¸ ğŸ¯ ğŸ”˜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘äº†Knuthçš„â€œç®—æ³•Xâ€åŠå…¶åœ¨è§£å†³æ•°ç‹¬ä¸­çš„åº”ç”¨ã€‚ è¯¥ç®—æ³•çš„ä¼˜ç‚¹åœ¨äºSudokuæ— éœ€ç¼–ç¨‹ä»»ä½•é«˜çº§æ±‚è§£æŠ€æœ¯å³å¯å¿«é€Ÿæ±‚è§£ã€‚ 


 å®é™…ä¸Šï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯ä»Euleré¡¹ç›®çš„ä»»åŠ¡å¼€å§‹çš„ï¼Œä¸ºäº†å¾—åˆ°ç­”æ¡ˆï¼Œæ‚¨éœ€è¦è§£å†³50ä¸ªæ•°ç‹¬ã€‚ ä¼¼ä¹ä»–é€šè¿‡ç¼–å†™ä¸€ä¸ªç”¨äºè§£å†³ä¸€ä¸ªç›¸å½“æ„šè ¢çš„æœç´¢çš„ç¨‹åºè€Œæ”¶åˆ°äº†ç­”æ¡ˆï¼Œä½†æ˜¯ä¸...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ç”¨ç®—æ³•Xè§£å†³æ•°ç‹¬</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462411/"><p> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘äº†Knuthçš„â€œç®—æ³•Xâ€åŠå…¶åœ¨è§£å†³æ•°ç‹¬ä¸­çš„åº”ç”¨ã€‚ è¯¥ç®—æ³•çš„ä¼˜ç‚¹åœ¨äºSudokuæ— éœ€ç¼–ç¨‹ä»»ä½•é«˜çº§æ±‚è§£æŠ€æœ¯å³å¯å¿«é€Ÿæ±‚è§£ã€‚ </p><a name="habracut"></a><br><p> å®é™…ä¸Šï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»Euleré¡¹ç›®</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»»åŠ¡</a>å¼€å§‹çš„ï¼Œä¸ºäº†å¾—åˆ°ç­”æ¡ˆï¼Œæ‚¨éœ€è¦è§£å†³50ä¸ªæ•°ç‹¬ã€‚ ä¼¼ä¹ä»–é€šè¿‡ç¼–å†™ä¸€ä¸ªç”¨äºè§£å†³ä¸€ä¸ªç›¸å½“æ„šè ¢çš„æœç´¢çš„ç¨‹åºè€Œæ”¶åˆ°äº†ç­”æ¡ˆï¼Œä½†æ˜¯ä¸çŸ¥ä½•æ•…ï¼Œå®ƒå¯¹è§£å†³æ–¹æ¡ˆçš„é€Ÿåº¦æœ‰äº›ä¸æ»¡æ„ã€‚ åœ¨äº†è§£äº†æ™®é€šäººå¦‚ä½•è§£å†³æ•°ç‹¬ä¹‹åï¼Œæˆ‘å‘ç°ç”±Donald Knutå‘æ˜çš„Algorithm Xæ­£åœ¨ç”¨äºæ­¤ç›®çš„ã€‚ </p><br><h3 id="algoritm-x"> ç®—æ³•X </h3><br><p> è¯¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç®—æ³•</a>è§£å†³äº†å‡†ç¡®è¦†ç›–é›†åˆçš„é—®é¢˜ã€‚ æˆ–è€…ï¼Œå¦‚æœæ‚¨æ„¿æ„ï¼Œå®ƒä¼šæ”¶é›†ä¸€ä¸ªâ€œç¦»æ•£éš¾é¢˜â€ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³å¯ç”¨é›¶ä»¶å½¢çŠ¶çš„ä¿¡æ¯ã€‚ æ›´æ­£å¼åœ°ï¼š </p><br><ul><li> æœ‰å¾ˆå¤š </li><li> è¯¥é›†åˆæœ‰ä¸€ç»„å­é›†<em>Y</em> </li><li> ä»»åŠ¡æ˜¯ä»<em>Yä¸­</em>é€‰æ‹©æ­¤ç±»å…ƒç´ <em>Y *</em> ï¼Œä½¿<em>S</em>ä¸­çš„æ¯ä¸ªå…ƒç´ ä»…åŒ…å«åœ¨<em>Y *ä¸­</em>åŒ…å«çš„ä¸€ç»„å…ƒç´ ä¸­ </li><li>ä¹Ÿå°±æ˜¯è¯´ï¼Œ <em>Y *</em>ä¸­æ‰€æœ‰é›†åˆçš„å¹¶é›†æ„æˆï¼ˆè¦†ç›–ï¼‰é›†åˆ<em>S</em> ï¼ŒåŒæ—¶<em>Y *</em>ä¸­æ²¡æœ‰æˆå¯¹ç›¸äº¤çš„é›†åˆ </li></ul><br><p> ä¾‹å¦‚ï¼Œè€ƒè™‘é›†åˆ <br>  <em>S</em> = {1,2,3,4,5}å¹¶ä¸” <br>  <em>Y</em> = { <em>A</em> = {1ï¼Œ2}ï¼Œ <br>  <em>B</em> = {2ï¼Œ3}ï¼Œ <br>  <em>C</em> = {1ï¼Œ5}ï¼Œ <br>  <em>D</em> = {1ï¼Œ4}ï¼Œ <br>  <em>E</em> = {5}} <br> é›†åˆ<em>B</em> ï¼Œ <em>D</em>å’Œ<em>E</em>å½¢æˆäº†é›†åˆ<em>S</em>çš„ç²¾ç¡®è¦†ç›–<em>ã€‚</em> </p><br><p> å¯¹äºX Knuthç®—æ³•ï¼Œé›†åˆ<em>Y</em>è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶çŸ©é˜µï¼Œå…¶ä¸­è¡Œå¯¹åº”äºå…ƒç´ <em>Y</em> ï¼Œå¦‚æœ<em>S <sub>j</sub></em>åœ¨<em>Y <sub>iä¸­</sub></em> ï¼Œåˆ™<em>A <sub>iï¼Œj</sub></em> = 1ã€‚ å³ å¯¹äºä¸Šé¢çš„ç¤ºä¾‹ï¼š </p><br><div class="scrollable-table"><table><thead><tr><th>  <em><sub>i</sub></em> </th><th>  1ä¸ª </th><th>  2 </th><th>  3 </th><th>  4 </th><th>  5 </th></tr></thead><tbody><tr><td>  <em>ä¸€</em> </td><td>  1ä¸ª </td><td>  1ä¸ª </td><td>  0 </td><td>  0 </td><td>  0 </td></tr><tr><td>  <em>ä¹™</em> </td><td>  0 </td><td>  1ä¸ª </td><td>  1ä¸ª </td><td>  0 </td><td>  0 </td></tr><tr><td>  <em>Ã§</em> </td><td>  1ä¸ª </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  1ä¸ª </td></tr><tr><td>  <em>d</em> </td><td>  1ä¸ª </td><td>  0 </td><td>  0 </td><td>  1ä¸ª </td><td>  0 </td></tr><tr><td>  <em>Ã‹</em> </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  1ä¸ª </td></tr></tbody></table></div><br><p> ç¡®åˆ‡çš„è¦†ç›–ç‡æœç´¢ç®—æ³•å¦‚ä¸‹ï¼š </p><br><ul><li>è¾“å…¥æ•°æ®ï¼šè®¾ç½®<em>S</em>å’Œ<em>Y</em> ï¼›  <code>Stack</code>å¯èƒ½åŒ…å«åœ¨coverageä¸­<code>Stack</code>ç»„<code>Stack</code> ï¼ˆå¯èƒ½æœ€åˆæ˜¯ç©ºçš„æˆ–å·²ç»æœ‰ä¸€äº›å…ƒç´ ï¼‰ <br><ol><li> å¦‚æœå¥—ä»¶<em>Sä¸º</em>ç©ºï¼Œåˆ™æ‰€éœ€çš„å°é¢åœ¨çº¸å ä¸Šã€‚ </li><li> å¦‚æœé›†åˆ<em>Yä¸º</em>ç©ºï¼Œåˆ™æ‰¾ä¸åˆ°è¦†ç›–ç‰©ã€‚ </li><li> æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾é›†åˆ<em>S</em>ä¸­åŒ…å«åœ¨<em>Y</em>çš„æœ€å°é›†åˆæ•°ä¸­çš„å…ƒç´ <em>s</em> ã€‚ </li><li> ä»<em>Yä¸­</em>é€‰æ‹©æ‰€æœ‰åŒ…å«<em>sçš„</em> <em>X</em>è¡Œã€‚ </li><li> å¯¹äºæ¯ç»„<em>Xï¼Œ</em>é‡å¤6-9ã€‚ </li><li> å°†<em>X</em>æ·»åŠ åˆ°å †æ ˆä¸­ä½œä¸ºæ½œåœ¨çš„coverageå…ƒç´ ã€‚ </li><li> æˆ‘ä»¬å½¢æˆé›†åˆ<em>S'</em>å’Œ<em>Y'</em> ï¼š <em>S'</em>æ˜¯<em>S</em> ï¼Œä»ä¸­åˆ é™¤<em>Xä¸­</em>åŒ…å«çš„æ‰€æœ‰å…ƒç´ ï¼Œ <em>Y'</em>æ˜¯<em>Y</em>ä¸­ä¸ä¸<em>X</em>ç›¸äº¤çš„é›†åˆ<em>ã€‚</em> </li><li> æˆ‘ä»¬ç§°<em>S</em> ï¼Œ <em>Y</em>å’Œ<code>Stack</code>ä¸ºç®—æ³•Xã€‚ </li><li> å¦‚æœåœ¨æ­¥éª¤7ä¸­å‘ç°ä¸å¯èƒ½è¦†ç›–ï¼Œè¯·ä»<code>Stack</code>é¡¶éƒ¨ç§»é™¤è¯¥å…ƒç´ ï¼Œç„¶åç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ª<em>Xã€‚</em> å¦‚æœæ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°†å…¶è¿”å›ã€‚ </li><li> å¦‚æœæ²¡æœ‰ä»»ä½•<em>X</em>çš„è§£ï¼Œåˆ™æ­¤è¾“å…¥çš„ä»»åŠ¡ä¸è§£å†³ã€‚ </li></ol></li></ul><br><p> é€šå¸¸ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å¤æ‚çš„ã€‚ æœ¬è´¨ä¸Š-æ·±å…¥è¿›è¡Œå¸¸è§„æœç´¢ã€‚ é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå¦‚æœæ‚¨æœ€åˆå°†å †æ ˆè®¾ç½®ä¸ºéç©ºçš„ï¼Œåˆ™é—®é¢˜å¯ä»¥è¡¨è¿°ä¸ºâ€œæ‰¾åˆ°åŒ…å«å·²ç»ä½äºå †æ ˆä¸Šçš„å…ƒç´ çš„ç¡®åˆ‡è¦†ç›–èŒƒå›´â€ã€‚ </p><br><p> ç²¾å¦™ä¹‹å¤„åœ¨äºï¼Œå®é™…ä¸Šï¼Œè¯¥ç®—æ³•ç”¨äºè§£å†³<em>Y</em>ä¸­çš„é›†åˆâ€œè¾ƒå°â€ï¼ˆå³ çŸ©é˜µéå¸¸ç¨€ç–ï¼Œå› æ­¤ï¼Œä¾‹å¦‚ï¼Œåœ¨æ ‡å‡†å­˜å‚¨æœŸé—´ä»¥çŸ©é˜µå½¢å¼æœç´¢åˆ—ä¹‹é—´çš„äº¤ç‚¹ä¼šèŠ±è´¹ä¸å¯æ¥å—çš„é•¿æ—¶é—´ã€‚ <br> å› æ­¤ï¼ŒKnut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é€šè¿‡â€œè·³èˆé“¾æ¥â€æœºåˆ¶</a>å¯¹è¯¥ç®—æ³•è¿›è¡Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº†</a>è¡¥å……ã€‚ çŸ©é˜µä»¥äºŒç»´åŒå‘é“¾æ¥åˆ—è¡¨çš„å½¢å¼è¡¨ç¤ºï¼šåˆ—è¡¨ä¸­çš„æ¯ä¸€è¡Œä»…å­˜å‚¨åˆ—å·ï¼Œè¯¥è¡ŒåŒ…å«å•ä½ã€‚ è¯¥åˆ—è¡¨è¿˜åŒ…å«æŒ‡å‘è¡Œå’Œåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªå’Œä¸Šä¸€ä¸ªå…ƒç´ çš„é“¾æ¥ã€‚ ä¸ç»„ç»‡ä¸ºäºŒç»´æ•°ç»„çš„<em>O</em> ï¼ˆ <em>m</em> * <em>n</em> ï¼‰ç›¸æ¯”ï¼Œè¯¥ç»„ç»‡å…è®¸æ‚¨åœ¨<em>O</em> ï¼ˆ1ï¼‰æ—¶é—´å†…ä»ç¨€ç–çŸ©é˜µä¸­åˆ é™¤åˆ—å’Œè¡Œã€‚ </p><br><p> æœ‰è¶£çš„æ˜¯ï¼ŒAli Assafæä¾›<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº†ä¸€ç§</a>ä½¿ç”¨å…³è”åˆ—è¡¨çš„è·³èˆé“¾æ¥æœºåˆ¶<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„æ›¿ä»£æ–¹æ³•</a> ï¼Œè¯¥æ–¹æ³•ä½¿æ‚¨å¯ä»¥ä½¿ç”¨é«˜çº§è¯­è¨€ä»å­—é¢ä¸Šçš„å‡ åè¡Œå®ç°Xç®—æ³•ã€‚ </p><br><p> æƒ³æ³•æ˜¯å°†åˆ—å’ŒçŸ©é˜µè¡Œéƒ½å­˜å‚¨åœ¨å…³è”åˆ—è¡¨ä¸­ã€‚ åœ¨åˆ—ä¸­ï¼Œæˆ‘ä»¬åœ¨è¡Œä¸­åˆ†åˆ«å­˜å‚¨æœ‰è¡Œç´¢å¼•ï¼Œè¡Œä¸è¡Œä¹‹é—´æœ‰éé›¶å…ƒç´ ï¼Œåˆ—ç´¢å¼•åˆ†åˆ«æ˜¯è¡Œã€‚ è€Œä¸”ï¼Œæˆ‘ä»¬å°†æœ‰åºåœ°å°†ç´¢å¼•å­˜å‚¨åœ¨è¡Œä¸­ï¼Œåœ¨æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œåœ¨Knuthçš„ç®—æ³•ä¸­ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰å¿…è¦ä¿®æ”¹è¡Œï¼Œå› æ­¤ä¸éœ€è¦ä¸ºä»è¡Œä¸­å¿«é€Ÿåˆ é™¤å…ƒç´ è€Œè¿›è¡Œçš„ä¼˜åŒ–ã€‚ ä½†æ˜¯åˆ—å°†ä»¥é›†åˆçš„å½¢å¼è®¾ç½®ï¼Œå› ä¸º ä»çŸ©é˜µä¸­åˆ é™¤è¡Œæ—¶ï¼Œå¿…é¡»ä»æ‰€æœ‰åˆ—ä¸­åˆ é™¤å…¶æ ‡è¯†ç¬¦ï¼ˆä»æ‰€æœ‰åˆ—ä¸­åˆ é™¤æ—¶ï¼Œè¯¥è¡Œå°†â€œè‡ªèº«â€æ¶ˆå¤±ï¼‰ã€‚ </p><br><p> è€ƒè™‘åœ¨Juliaä¸Šå®ç°è¯¥ç®—æ³•ã€‚ <br> ç¤ºä¾‹ä¸­çš„çŸ©é˜µç°åœ¨å¦‚ä¸‹æ‰€ç¤ºï¼š </p><br><pre> <code class="julia hljs">Y = <span class="hljs-built_in"><span class="hljs-built_in">Dict</span></span>( <span class="hljs-string"><span class="hljs-string">'A'</span></span> =&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-string"><span class="hljs-string">'B'</span></span> =&gt; [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], <span class="hljs-string"><span class="hljs-string">'C'</span></span> =&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>], <span class="hljs-string"><span class="hljs-string">'D'</span></span> =&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], <span class="hljs-string"><span class="hljs-string">'E'</span></span> =&gt; [<span class="hljs-number"><span class="hljs-number">5</span></span>] ) S = <span class="hljs-built_in"><span class="hljs-built_in">Dict</span></span>( <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>([<span class="hljs-string"><span class="hljs-string">'A'</span></span>, <span class="hljs-string"><span class="hljs-string">'C'</span></span>, <span class="hljs-string"><span class="hljs-string">'D'</span></span>]), <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>([<span class="hljs-string"><span class="hljs-string">'A'</span></span>, <span class="hljs-string"><span class="hljs-string">'B'</span></span>]), <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>([<span class="hljs-string"><span class="hljs-string">'B'</span></span>]), <span class="hljs-number"><span class="hljs-number">4</span></span> =&gt; <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>([<span class="hljs-string"><span class="hljs-string">'D'</span></span>]), <span class="hljs-number"><span class="hljs-number">5</span></span> =&gt; <span class="hljs-built_in"><span class="hljs-built_in">Set</span></span>([<span class="hljs-string"><span class="hljs-string">'C'</span></span>, <span class="hljs-string"><span class="hljs-string">'E'</span></span>]) )</code> </pre> <br><p> ä¸ºäº†ä½¿ç®—æ³•èµ·ä½œç”¨ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä»ä¸ç»™å®šç›¸äº¤çš„çŸ©é˜µä¸­å–å‡ºç›´çº¿ï¼Œå¹¶å°†è¯¥ç›´çº¿è¿”å›å…¶ä½ç½®çš„å‡½æ•°ã€‚ </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> extract_intersects!(rows, columns, base_row) buf = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> elt <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> rows[base_row] <span class="hljs-comment"><span class="hljs-comment">#        push!(buf, pop!(columns, elt)) #         for intersecting_row in buf[end] for other_elt in rows[intersecting_row] if other_elt != elt delete!(columns[other_elt], intersecting_row) end end end end return buf end function restore_intersects!(rows, columns, base_row, buf) #       base_row  ,      for elt in Iterators.reverse(rows[base_row]) columns[elt] = pop!(buf) for added_row in columns[elt] for col in rows[added_row] push!(columns[col], added_row) end end end end</span></span></code> </pre> <br><p> ä¸ºäº†ä½¿è¿™ä¸¤ä¸ªåŠŸèƒ½æŒ‰å…¶åº”æœ‰çš„ä½œç”¨ï¼Œåªéœ€å°†å…ƒç´ é¡ºåºå­˜å‚¨åœ¨çŸ©é˜µçš„è¡Œä¸­å³å¯ã€‚ åœ¨<code>extract_intersects!()</code>å‡½æ•°ä¸­ï¼Œåœ¨å¤–å¾ªç¯çš„æ¯æ¬¡è¿­ä»£ä¸­ï¼Œä¸<code>base_row</code>ç›¸äº¤ä½†ä¸åŒ…å«åœ¨å…ˆå‰è¿­ä»£ä¸­æŸ¥çœ‹çš„å…ƒç´ çš„é‚£äº›è¡Œå°†ä»çŸ©é˜µä¸­åˆ é™¤ã€‚ è¿™æ ·å¯ä»¥ç¡®ä¿åœ¨å°†åˆ—æ’å…¥<code>restore_intersects!()</code>ä»¥ç›¸åçš„é¡ºåºï¼Œåœ¨è°ƒç”¨<code>push!(columns[col], added_row)</code>æ—¶æœ€å†…å±‚çš„å¾ªç¯ä¸­<code>push!(columns[col], added_row)</code>è¿™äº›<code>columns[col]</code>åˆ—å°†å·²ç»è¿”å›åˆ°çŸ©é˜µä¸­ï¼Œå¹¶ä¸”åœ¨<code>extract_intersects!()</code>åˆ—ä¸­<code>extract_intersects!()</code>å…ƒç´ å°†è¿”å›å…¶åŸå§‹ä½ç½®ã€‚ </p><br><p> ç°åœ¨ç®—æ³•Xæœ¬èº«ï¼š </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> algorithm_x(rows, columns, cover = []) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> isempty(columns) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cover <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-comment"><span class="hljs-comment">#       m, c = findmin(Dict(k =&gt; length(v) for (k, v) in columns)) for subset in collect(columns[c]) push!(cover, subset) #     #   subset  buf_cols = extract_intersects!(rows, columns, subset) s = algorithm_x(rows, columns, cover) #     - ,  s == nothing || return s restore_intersects!(rows, columns, subset, buf_cols) pop!(cover) end #      columns[c] , #        return nothing end end</span></span></code> </pre> <br><h3 id="sudoku"> æ•°ç‹¬ </h3><br><p> æœ‰ä¸€ç§ç®—æ³•ï¼Œé—®é¢˜å¾ˆå°-å°†Sudokuå‘ˆç°ä¸ºå¯»æ‰¾ç¡®åˆ‡è¦†ç›–èŒƒå›´çš„ä»»åŠ¡ã€‚ </p><br><p> æˆ‘ä»¬åˆ¶å®šäº†æ•°ç‹¬å¿…é¡»æ»¡è¶³çš„è¦æ±‚ï¼š </p><br><ol><li> åœ¨æ¯ä¸ªåƒå…ƒä¸­ï¼Œæœ‰ä¸€ä¸ª1åˆ°9çš„æ•°å­—ï¼ˆå¦‚æœæ±‚è§£ä¸åŒå¤§å°çš„å¹³æ–¹ï¼Œåˆ™ä¸º<em>n</em> <sup>2</sup> ï¼‰ã€‚ </li><li> åœ¨æ¯ä¸€è¡Œä¸­ï¼Œæ¯ä¸ªæ•°å­—å‡ºç°ä¸€æ¬¡ã€‚ </li><li> åœ¨æ¯ä¸€åˆ—ä¸­ï¼Œæ¯ä¸ªæ•°å­—å‡ºç°ä¸€æ¬¡ã€‚ </li><li> åœ¨æ¯ä¸ªè±¡é™ä¸­ï¼Œæ¯ä¸ªæ•°å­—å‡ºç°ä¸€æ¬¡ã€‚ </li></ol><br><p> è¿™äº›è¦æ±‚ä¸­çš„æ¯ä¸€é¡¹éƒ½å¿…é¡»å‡†ç¡®åœ°æ»¡è¶³1æ¬¡ï¼Œå³ å®ƒä»¬æ„æˆäº†éœ€è¦æ¶µç›–çš„èŒƒå›´ã€‚ å®ƒæ°å¥½å…·æœ‰4 <em>n</em> <sup>2ä¸ª</sup>å…ƒç´ ï¼ˆçŸ©é˜µä¸­çš„åˆ—ï¼‰ã€‚ </p><br><p> æˆ‘ä»¬è€ƒè™‘çš„å­é›†æ˜¯é€šè¿‡åœ¨ç‰¹å®šå•å…ƒæ ¼ä¸­æ›¿æ¢ç‰¹å®šæ•°å­—è€Œå½¢æˆçš„ã€‚ ä¾‹å¦‚ï¼Œåœ¨1è¡Œå’Œ4åˆ—ç›¸äº¤å¤„çš„æ•°å­—9â€œè¦†ç›–â€ä¸€ä¸ªå­é›†â€œåœ¨å•å…ƒæ ¼ï¼ˆ1,4ï¼‰ä¸­æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œåœ¨1è¡Œä¸­æœ‰ä¸€ä¸ªæ•°å­—9ï¼Œåœ¨4åˆ—ä¸­æœ‰ä¸€ä¸ªæ•°å­—9ï¼Œåœ¨2ä¸ªè±¡é™ä¸­æœ‰ä¸€ä¸ªæ•°å­—9â€ï¼ˆè¿™æ„å‘³ç€é€šå¸¸æ•°ç‹¬9Ã—9ï¼‰ã€‚ </p><br><p> ä¹‹åï¼Œç®€å•åœ°ç¼–å†™æ±‚è§£ç®—æ³•ã€‚ </p><br><pre> <code class="julia hljs"><span class="hljs-comment"><span class="hljs-comment">#    9Ã—9,      #   -   (row, col, num) #  : # (0, row, col) -   row  col   # (1, row, num) -   row   num # (2, col, num) -   col   num # (3, q, num) -   q   num function xsudoku(puzzle::AbstractMatrix{Int}) rows = Dict() cols = Dict() #   for row in 1:9, col in 1:9, num in 1:9 r = [] quad = ((row-1)Ã·3)*3 + (col-1)Ã·3 + 1 push!(r, (0, row, col), (1, row, num), (2, col, num), (3, quad, num)) rows[(row, col, num)] = r end #   for type in 0:3, n1 in 1:9, n2 in 1:9 cols[(type, n1, n2)] = Set() end for (rk, rv) in rows for v in rv push!(cols[v], rk) end end # s -    #  ,     ,    s = [] for i in 1:9, j in 1:9 if puzzle[i, j] &gt; 0 elt = (i, j, puzzle[i,j]) push!(s, elt) #    ,       extract_intersects!(rows, cols, elt) end end # ,   -   success = algorithm_x(rows, cols, s) success != nothing || return nothing #      ret = similar(puzzle) for (i, j, num) in s ret[i,j] = num end return ret end</span></span></code> </pre> <br><p> è®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›ä¾‹å­ï¼š </p><br><pre> <code class="julia hljs"> julia&gt; <span class="hljs-meta"><span class="hljs-meta">@time</span></span> xsudoku([<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>]) <span class="hljs-number"><span class="hljs-number">0.006326</span></span> seconds (<span class="hljs-number"><span class="hljs-number">54.91</span></span> k allocations: <span class="hljs-number"><span class="hljs-number">3.321</span></span> MiB) <span class="hljs-number"><span class="hljs-number">9</span></span>Ã—<span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p> ä¼¼ä¹å¯è¡Œï¼Œå¹¶ä¸”é€Ÿåº¦å¯ä»¥æ¥å—ã€‚ </p><br><p> åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œé™¤äº†æœŸæœ›çš„é›†åˆå’Œè¦†ç›–å…ƒç´ çš„ç‰¹å®šè¡¨ç¤ºä¹‹å¤–ï¼Œç®—æ³•ä¸­æ²¡æœ‰è§„å®šä»»ä½•ä¸“é—¨é’ˆå¯¹Sudokuçš„æŠ€æœ¯ï¼ˆä¾‹å¦‚ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a>æˆ–<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a> ï¼‰ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN462411/">https://habr.com/ru/post/zh-CN462411/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN462399/index.html">é™æ€åˆ†æå°†æ”¹å–„å¤æ‚C ++é¡¹ç›®çš„ä»£ç åº“</a></li>
<li><a href="../zh-CN462401/index.html">å¼€å‘è€…è‡´å‘½ç½ª</a></li>
<li><a href="../zh-CN462403/index.html">æ˜¾ç¤ºå™¨å°ºå¯¸é€‰æ‹©ï¼šè§’åº¦å°ºå¯¸ç†è®ºï¼ŒåŸç†å’Œæ¯”è¾ƒ</a></li>
<li><a href="../zh-CN462407/index.html">é£Ÿå“è®¾è®¡æ–‡æ‘˜2019å¹´7æœˆ</a></li>
<li><a href="../zh-CN462409/index.html">AVRå¾®æ§åˆ¶å™¨çš„æ±‡ç¼–ä»£ç ç”Ÿæˆå™¨åº“ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN462415/index.html">é€šè¿‡CIåœ¨AWSä¸Šéƒ¨ç½²Symfony + Reactåº”ç”¨ç¨‹åº</a></li>
<li><a href="../zh-CN462417/index.html">è‹¹æœçš„è¯·æ„¿ä¹¦</a></li>
<li><a href="../zh-CN462421/index.html">ApolloæŒ‡å¯¼è®¡ç®—æœº-ä½“ç³»ç»“æ„å’Œç³»ç»Ÿè½¯ä»¶ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN462423/index.html">é¡¹ç›®ç®¡ç†</a></li>
<li><a href="../zh-CN462429/index.html">VueJs + VueRouter +æ¨¡æ€ã€‚ å¦ä¸€è¾†è‡ªè¡Œè½¦</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>