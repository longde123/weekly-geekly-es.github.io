<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚥 ⛅️ 🕖 ESP8266 di mana untuk memulai atau pengalaman pertama 👼🏿 ✉️ 🧑🏼‍🤝‍🧑🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam artikel ini saya ingin berbagi pengalaman tentang apa yang harus dilakukan ketika selendang ESP8266 pertama kali jatuh ke tangan saya. Segera me...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ESP8266 di mana untuk memulai atau pengalaman pertama</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/394535/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam artikel ini saya ingin berbagi pengalaman tentang apa yang harus dilakukan ketika selendang ESP8266 pertama kali jatuh ke tangan saya. </font><font style="vertical-align: inherit;">Segera melakukan pemesanan yang mengambil potongan-potongan besi, serta pemrograman, adalah hobi saya untuk uang saya dan waktu luang saya dari kegiatan utama saya. </font><font style="vertical-align: inherit;">Karena itu, tolong perlakukan tingkat kritik materi ini dengan diskon tertentu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengapa saya memutuskan untuk menulis ini? </font><font style="vertical-align: inherit;">Sederhana: Saya membunuh 3 minggu untuk mencari tahu dari mana harus memulai dan bagaimana cara kerjanya. </font><font style="vertical-align: inherit;">Selain itu, saya akan mencoba mengumpulkan katalog kecil tautan untuk bekerja dengan ESP8266. </font><font style="vertical-align: inherit;">Saya berharap bahwa informasi ini akan menyelamatkan Anda setidaknya sebagian kecil dari waktu. </font></font><br>
<br>
<img src="https://habrastorage.org/files/4ee/3f5/d03/4ee3f5d03937417fb3e6615740e7d527.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi mari kita mulai!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memesan 3 opsi papan untuk diri saya di situs Cina yang terkenal:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESP8266 WIFI Papan Uji Dev Serial Nirkabel berdasarkan ESP-12 (selanjutnya disebut "Papan Kuning") ($ 3,12)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESP8266 ESP-07 bersama dengan Plat Adaptor Untuk ESP8266 (selanjutnya disebut ESP-07) ($ 2,30)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LoLin V3 NodeMcu Lua berdasarkan ESP-12 (selanjutnya disebut "Lolin") ($ 3,12)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alasan mengapa saya mengambil kebun binatang seperti itu:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Papan Kuning sudah memiliki LED built-in yang Anda dapat segera berkedip, untuk daya, Anda dapat menggunakan 3.3V tidak luar biasa, yang perlu Anda dapatkan entah bagaimana, tetapi 3 baterai AA atau dengan menghubungkan 4.5V (yang saya lakukan).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LoLing menyuap saya oleh fakta bahwa itu terhubung menggunakan kabel micro USB dan dia tidak membutuhkan konverter UART - segera dibangun ke dalamnya berdasarkan pada chip CH340 Cina, di mana Anda dapat dengan mudah menemukan driver pada win7x64 dan win10x64 (kasus saya), dan, sekali lagi didukung oleh adaptor biasa dengan output USB, daripada 3.3V yang canggih.</font></font></li>
<li>  ESP-07    . -  ,   ,         .      Adapter Plate —    20 ,    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mulai dengan - memeriksa modul. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di semua instruksi startup, mereka menulis bahwa jika Anda menghubungkan daya dan jaringan WiFi AI-THINKER xxxxxxx muncul, maka perangkat tersebut berfungsi. </font><font style="vertical-align: inherit;">Itu terjadi dengan perangkat saya - mereka semua menciptakan jaringan WiFi yang dapat Anda hubungkan. </font><font style="vertical-align: inherit;">Hore! </font><font style="vertical-align: inherit;">Menghasilkan! </font><font style="vertical-align: inherit;">Saya senang, tetapi lebih awal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memulainya, saya memutuskan untuk bereksperimen dengan Yellow Board. </font><font style="vertical-align: inherit;">Penjual dengan indikator peringkat harga terbaik dalam deskripsi produk hanya memiliki gambar. </font><font style="vertical-align: inherit;">Dan bukan kata-kata deskripsi. </font><font style="vertical-align: inherit;">Pada sumber daya berbahasa Rusia ada referensi ke papan ini, tetapi saya tidak menemukan spesifik tentang hal itu. </font><font style="vertical-align: inherit;">Di beberapa penjual, saya melihat instruksi ini:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instruksi Papan Kuning</font></font></b><div class="spoiler_text">1. Android phone installation IOT.APK, IOS client be released later<br>
2. shorting cap connected to the power to enter the programming mode, enter the normal operating state removed<br>
3. Replace the battery, mobile search network «AI-THINKER» router<br>
4. join the router (the router module form) password is: ai-thinker<br>
5. after the success can be added directly to the control module of the mobile phone.<br>
6. Enter the home router «SSID» and «Password» in the «Configure Device», then click on the icon at the top of the router, wait a few moments after the jump to join the router, connect the phone router WiFi, again «discovered device» to achieve control in the LAN.<br>
<br>
  :<br>
<br>
1.    Wi-Fi     (    5.0  !)  IOT.APK,   IOS   <br>
2.     ,   .<br>
3.   (   )        Wi-Fi  «AI-THINKER»<br>
4.       «ai-thinker»<br>
5.      IOT    .    .    ,       .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketidakkonsistenannya adalah bahwa jaringan xxxxxxxxxx AI-THINKER saya tidak meminta kata sandi, tetapi segera telepon terhubung ke sana. Dan titik aplikasi kosong tidak "melihat" ESP setelah menghubungkan. LED RGB menyala biru dengan jumper terpasang atau hijau tanpanya. </font></font><br>
<br>
<img src="https://habrastorage.org/files/96d/58f/698/96d58f69805f4f078768b03f4d17800e.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menduga bahwa mungkin orang Tionghoa itu menyolder - mereka menyolder, tetapi mereka lupa untuk mem-flash (atau mem-flash dengan bengkok). Karena itu, saya memutuskan untuk menjahit sendiri. Untuk firmware saya menggunakan ESP8266 Flasher. Dan kemudian kejutan kedua muncul: tidak ada program yang mengenali papan, tidak menanggapi perintah, firmware tidak membanjiri. Terhubung melalui Arduino dan melalui konverter UART - tidak ada. Dua papan lainnya sudah dipantulkan dan berkedip dengan LED, tapi di sini kusam. Sampai aku menebak untuk menelepon kontak.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tiga kontak untuk firmware ditampilkan secara terpisah di papan ini: TX, RX, GND. Jadi ternyata TX dibesarkan di RX ESP-12 itu sendiri, masing-masing, RX - di TX. Yaitu hanya perlu menukar dua kabel: kita menghubungkan konverter UART sesuai dengan skema: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TX-TX </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RX-RX </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GND-GND </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
atau Arduino: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TX-RX </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RX-TX </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GND-GND </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah pembukaan, modul menjadi hidup, yang asli ditemukan firmware untuk menginstal LED (AI-THINKER-IOT-2014-10-17 165528.bin) dan masih di-flash dengan ESP8266 Flasher yang sama. Kata sandi untuk titik akses muncul, dan aplikasi segera melihat kartu Kuning. Satu-satunya peringatan: untuk menginstal perlu menginstal jumper, untuk menghapus semua kasus lainnya. Dan jangan lupa untuk reboot perangkat setelah flashing.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESP8266 ESP-07 dengan Plat Adaptor</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Petunjuk untuk menghubungkan ESP-07 (ESP-12) melalui konverter UART:</font></font><br>
<br>
<img src="https://habrastorage.org/files/5c9/768/30c/5c976830ca6e43b89442587c8c791fce.jpg" alt="gambar"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Red - power 3.3v;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitam - GND;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kuning - di sisi ESP8266 - RX, di sisi USB-TTL - TX;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hijau - di sisi ESP8266 - TX, di sisi USB-TTL - RX;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oranye - CH_PD (CHIP ENABLE) - harus selalu ditarik ke kekuasaan;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Biru - GPIO0 - terhubung melalui sakelar ke tanah untuk mengaktifkan mode flashing modul. </font><font style="vertical-align: inherit;">Untuk awal modul GPIO0 yang biasa, Anda dapat membiarkannya tidak terhubung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abu-abu - GPIO15 (MTDO, HSPICS) pin ini harus ditarik ke tanah;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda terhubung ke Arduino, maka RX-RX, dan TX-TX.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan besi solder, ESP-07 dan adaptor digabungkan. </font><font style="vertical-align: inherit;">Saya merekomendasikan adaptor karena lebih memudahkan koneksi dengan metode solderless menggunakan papan tempat memotong roti dan kabel. </font><font style="vertical-align: inherit;">Dalam hal ini, saya menggunakan konverter DC-DC step-down dari Cina untuk daya. </font><font style="vertical-align: inherit;">Sensor DS18B20 tersedia, dan diputuskan untuk menghubungkannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak ingin menginstal HomesSmart segera dan pilihannya jatuh pada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contoh seperti itu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Saya tidak akan mengetik ulang sirkuit dan kode - mereka hampir sama. </font><font style="vertical-align: inherit;">Itu tidak bekerja segera, tetapi dengan Google dan rebana data tentang Pemantauan Orang-orang dimulai dan terbang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya mengunduh skrip melalui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESplorer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Itu di Arduino</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/158/a33/c8d/158a33c8dddc4271a1b8f80ba22afa57.jpg" alt="image"><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menjadi di ESP8266</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/9ca/1eb/f11/9ca1ebf115164f109917b3656383d7f5.jpg" alt="image"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menunggu modul catu daya 220AC - 3.3DC yang ringkas untuk mengoptimalkan jumlah kabel.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LoLin V3 NodeMcu (Lolin)</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Papan ini disarankan untuk segera mem-flash firmware NodeMcu, yang dilakukan melalui program flasher NodeMcu. </font><font style="vertical-align: inherit;">Firmware sendiri dirakit oleh perancang, yang memungkinkan Anda untuk memasukkan hanya yang paling diperlukan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih lanjut, itu seharusnya menghubungkan dan mengendalikan relai 2-channel dan mengendalikan dua sconce di kamar tidur. </font><font style="vertical-align: inherit;">Di sini saya ingin memikirkan satu hal. </font><font style="vertical-align: inherit;">Versi Cina dari relay semacam itu memiliki jumper JD-VCC - VCC - GND. </font><font style="vertical-align: inherit;">Secara default, ini diinstal pada pin JD-VCC - VCC. </font></font><br>
<br>
<img src="https://habrastorage.org/files/ec3/cb2/515/ec3cb25158934ab0b80f743fb9fc6aa4.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, jumper tidak pernah dapat diinstal pada VCC - GND - mengatur korsleting! </font><font style="vertical-align: inherit;">Tiga kontak ini digunakan untuk memberikan daya tambahan ke relai, dalam kasus di mana kontrol mungkin tidak cukup untuk mengoperasikan relai. </font><font style="vertical-align: inherit;">Kehadiran jumper menunjukkan bahwa daya berasal dari kontak "kontrol". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Script digunakan sebagai berikut:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teks skrip</font></font></b><div class="spoiler_text"><pre><code class="lua hljs">#================= init.lua =================
<span class="hljs-comment"><span class="hljs-comment">--      </span></span>
ssid,pass = <span class="hljs-string"><span class="hljs-string">"SSID"</span></span>,<span class="hljs-string"><span class="hljs-string">"PASSWORD"</span></span>;<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (file.<span class="hljs-built_in"><span class="hljs-built_in">open</span></span>(<span class="hljs-string"><span class="hljs-string">'wificonf'</span></span>) == <span class="hljs-literal"><span class="hljs-literal">true</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
   ssid = <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">gsub</span></span>(file.readline(), <span class="hljs-string"><span class="hljs-string">"\n"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>);<font></font>
   pass = <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">gsub</span></span>(file.readline(), <span class="hljs-string"><span class="hljs-string">"\n"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>);<font></font>
   file.<span class="hljs-built_in"><span class="hljs-built_in">close</span></span>();
<span class="hljs-keyword"><span class="hljs-keyword">end</span></span><font></font>
<font></font>
wifi.setmode(wifi.STATION)<font></font>
wifi.sta.<span class="hljs-built_in"><span class="hljs-built_in">config</span></span>(ssid,pass)<font></font>
wifi.sta.autoconnect(<span class="hljs-number"><span class="hljs-number">1</span></span>);
<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">'IP:'</span></span>,wifi.sta.getip());
<span class="hljs-comment"><span class="hljs-comment">--print('MAC:',wifi.sta.getmac());</span></span><font></font>
<font></font>
led1 = <span class="hljs-number"><span class="hljs-number">3</span></span>
led2 = <span class="hljs-number"><span class="hljs-number">4</span></span><font></font>
gpio.mode(led1, gpio.OUTPUT)<font></font>
gpio.mode(led2, gpio.OUTPUT)<font></font>
restart=<span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
<font></font>
gpio.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(led1, gpio.HIGH);<font></font>
gpio.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(led2, gpio.HIGH);<font></font>
<font></font>
<font></font>
t=<span class="hljs-number"><span class="hljs-number">0</span></span>
tmr.alarm(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> t=t+<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> t&gt;<span class="hljs-number"><span class="hljs-number">999</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> t=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>)<font></font>
<font></font>
srv=net.createServer(net.TCP, <span class="hljs-number"><span class="hljs-number">1000</span></span>)<font></font>
srv:listen(<span class="hljs-number"><span class="hljs-number">80</span></span>,<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(conn)</span></span></span></span>
    conn:on(<span class="hljs-string"><span class="hljs-string">"receive"</span></span>,<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(client,request)</span></span></span></span>
    <span class="hljs-comment"><span class="hljs-comment">--      _GET</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> buf = <span class="hljs-string"><span class="hljs-string">""</span></span>;
        <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> _, _, method, <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>, vars = <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">find</span></span>(request, <span class="hljs-string"><span class="hljs-string">"([A-Z]+) (.+)?(.+) HTTP"</span></span>);
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(method == <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
            _, _, method, <span class="hljs-built_in"><span class="hljs-built_in">path</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">find</span></span>(request, <span class="hljs-string"><span class="hljs-string">"([A-Z]+) (.+) HTTP"</span></span>);
        <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> _GET = {}
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (vars ~= <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">gmatch</span></span>(vars, <span class="hljs-string"><span class="hljs-string">"(%w+)=(%w+)&amp;*"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span><font></font>
                _GET[k] = v<font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>
    <span class="hljs-comment"><span class="hljs-comment">--    </span></span>
       <span class="hljs-comment"><span class="hljs-comment">--    &lt;html&gt;&lt;body&gt;,      \</span></span>
   <span class="hljs-comment"><span class="hljs-comment">--        \,  &lt;/body&gt;&lt;/html&gt;</span></span>
    conn:send(<span class="hljs-string"><span class="hljs-string">'HTTP/1.1 200 OK\r\nConnection: keep-alive\r\nCache-Control: private, no-store\r\n\r\n\
   &lt;!DOCTYPE HTML&gt;\
&lt;html&gt;\
 &lt;head&gt;\
        &lt;meta charset="UTF-8" /&gt;\
        &lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt; \
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; \
        &lt;title&gt;My control&lt;/title&gt;\
   &lt;/head&gt;&lt;body&gt;\
        &lt;div class="container"&gt;\
            &lt;section class="color-1"&gt;\
                &lt;p&gt;\
                    &lt;a href=\"?pin=ON1\"&gt;&lt;button class="btn btn-4 btn-4a"&gt;Back ON&lt;/button&gt;&lt;/a&gt;\
                    &lt;a href=\"?pin=ON2\"&gt;&lt;button class="btn btn-4 btn-4a"&gt;Bra ON&lt;/button&gt;&lt;/a&gt;\
                &lt;/p&gt;\
                &lt;p&gt;\
                    &lt;a href=\"?pin=OFF1\"&gt;&lt;button class="btn btn-5 btn-5a"&gt;Back OFF&lt;/button&gt;&lt;/a&gt;\
                    &lt;a href=\"?pin=OFF2\"&gt;&lt;button class="btn btn-5 btn-5a"&gt;Bra OFF&lt;/button&gt;&lt;/a&gt;\
                &lt;/p&gt;\
            &lt;/section&gt;\
        &lt;/div&gt;\
&lt;/body&gt;&lt;/html&gt;'</span></span>)
    <span class="hljs-comment"><span class="hljs-comment">--  </span></span>
    <span class="hljs-comment"><span class="hljs-comment">--    </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> _on,_off = <span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">""</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(_GET.pin == <span class="hljs-string"><span class="hljs-string">"ON1"</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
              gpio.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(led1, gpio.LOW);
        <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span>(_GET.pin == <span class="hljs-string"><span class="hljs-string">"OFF1"</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
              gpio.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(led1, gpio.HIGH);
        <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span>(_GET.pin == <span class="hljs-string"><span class="hljs-string">"ON2"</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
              gpio.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(led2, gpio.LOW);
        <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span>(_GET.pin == <span class="hljs-string"><span class="hljs-string">"OFF2"</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
              gpio.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(led2, gpio.HIGH);
        <span class="hljs-keyword"><span class="hljs-keyword">end</span></span><font></font>
        <font></font>
  <font></font>
              <font></font>
    conn:on(<span class="hljs-string"><span class="hljs-string">"sent"</span></span>,<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(conn)</span></span></span></span> conn:<span class="hljs-built_in"><span class="hljs-built_in">close</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>)
    <span class="hljs-built_in"><span class="hljs-built_in">collectgarbage</span></span>();<font></font>
<font></font>
    <font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>)<font></font>
    <font></font>
<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>)<font></font>
<font></font>
#========================================<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak dapat menemukan kembali tautan ke sumber. </font><font style="vertical-align: inherit;">Tetapi skemanya sederhana: Untuk Lolin kita sambungkan relai 1 dan relai 2 ke output D3 dan D4 ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">led1 = 3 led2 = 4</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Kemudian kami pergi ke alamat IP yang dikeluarkan oleh router kami dan melihat halaman: </font></font><br>
<br>
<img src="https://habrastorage.org/files/ad8/e8b/2f5/ad8e8b2f561146fa89068727784382eb.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sangat menyesal, saya belum menemukan cara untuk menghadirkan keindahan, misalnya, untuk menghubungkan file gaya CSS. </font><font style="vertical-align: inherit;">Pertanyaannya adalah dalam penggunaan file individual saat menampilkan halaman, dan tidak dalam mengatur style. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sangat berharap bahwa informasi ini bermanfaat bagi setidaknya satu orang. </font><font style="vertical-align: inherit;">Dan jangan menilai secara ketat untuk artikel pertama.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referensi</font></font></h4><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esp8266.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - sumber daya yang sangat luas tentang ESP8266</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flasher NodeMcu (Flasher ESP8266)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konstruktor NodeMcu</font></font></a></li>
<li><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Driver CH340</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (untuk Windows)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESP8266 - Menghubungkan dan Memutakhirkan Firmware</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AI-THINKER-IOT-2014-10-17 165528.bin</a> —    </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ESplorer</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">    DS18B20   </a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">homes-smart</a></li>
</ul></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id394535/">https://habr.com/ru/post/id394535/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id394519/index.html">Android akan mengenali pemiliknya dengan data biometrik alih-alih kata sandi</a></li>
<li><a href="../id394521/index.html">Автономные грузовики размажут наше общество по асфальту</a></li>
<li><a href="../id394523/index.html">Musim panas ini, Amerika Serikat akan melakukan uji kelautan railgun</a></li>
<li><a href="../id394529/index.html">Pemindai kota Half-Life 2 telah menjadi kenyataan</a></li>
<li><a href="../id394531/index.html">Sekali lagi tentang menggambar di layar osiloskop</a></li>
<li><a href="../id394537/index.html">Kami membuat mesin penggilingan kontrol numerik tiga sumbu</a></li>
<li><a href="../id394539/index.html">Ancaman dari Internet: Mengapa Analis Wall Street Menganggap Airbnb sebagai "Pembunuh" Bisnis Hotel</a></li>
<li><a href="../id394541/index.html">Lebih banyak DIY untuk para Dewa DIY</a></li>
<li><a href="../id394543/index.html">Ketika ukuran penting: Mi Max dan produk baru lainnya dari XIAOMI</a></li>
<li><a href="../id394545/index.html">Рудольфу Свореню — 89! Как книга «Электроника шаг за шагом» — изменила жизнь людей</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>