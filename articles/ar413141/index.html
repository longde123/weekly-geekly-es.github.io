<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฟ ๐จ๐ฟโ๐ป ๐ก ุชุตููู ูููุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุนูู Apache Spark ุจุงุณุชุฎุฏุงู ููุงุฐุฌ ุงูุชุนูู ุงูุขูู ุงูุชุนุณูู ๐ฏ ๐ฝ ๐ฉ๐ปโ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูุฌุฒุก 2: ุงูุญู 
 ูุฑุญุจูุง ูุฑุฉ ุฃุฎุฑู! ุงูููู ุณุฃูุงุตู ูุตุชู ุญูู ููููุฉ ุชุตููู ูููุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุนูู Apache Spark ุจุงุณุชุฎุฏุงู ููุงุฐุฌ ุงูุชุนูู ุงูุขูู ุงูุชุนุณูู. ูู ุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุตููู ูููุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุนูู Apache Spark ุจุงุณุชุฎุฏุงู ููุงุฐุฌ ุงูุชุนูู ุงูุขูู ุงูุชุนุณูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lanit/blog/413141/" style=";text-align:right;direction:rtl"><h2 style=";text-align:right;direction:rtl">  ุงูุฌุฒุก 2: ุงูุญู </h2><br>  ูุฑุญุจูุง ูุฑุฉ ุฃุฎุฑู!  ุงูููู ุณุฃูุงุตู ูุตุชู ุญูู ููููุฉ ุชุตููู ูููุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุนูู Apache Spark ุจุงุณุชุฎุฏุงู ููุงุฐุฌ ุงูุชุนูู ุงูุขูู ุงูุชุนุณูู.  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก ุงูุฃูู ูู ุงูููุงูุฉ ุ</a> ูููุง ุจูุญุต ุจูุงู ุงููุดููุฉ ููุณูุง ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงููุดููุงุช ุงูุฑุฆูุณูุฉ ุงูุชู ุชูุดุฃ ุนูุฏ ุชูุธูู ุงูุชูุงุนู ุจูู ุงููุฌููุนุฉ ุงูุชู ูุชู ุชุฎุฒูู ุงูุจูุงูุงุช ุงูุฃูููุฉ ููุนุงูุฌุชูุง ุ ูุฎุฏูุฉ ุงูุชุตููู ุงูุฎุงุฑุฌูุฉ.  ูู ุงูุฌุฒุก ุงูุซุงูู ุ ุณููุธุฑ ูู ุฃุญุฏ ุงูุฎูุงุฑุงุช ูุญู ูุฐู ุงููุดููุฉ ุจุงุณุชุฎุฏุงู ููุฌ ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ ูุชูููุฐูุง ุจุงุณุชุฎุฏุงู ููุชุจุฉ akka-streams. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/6m/bg/fu/6mbgfuuatqlimwnapnl3tlrzn8q.png"></div><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ููููู ุชูุงุฑุงุช ุฑุฏ ุงููุนู </h3><br>  ูุญู ุงููุดููุงุช ุงูููุถุญุฉ ูู ุงูุฌุฒุก ุงูุฃูู ุ ููููู ุงุณุชุฎุฏุงู ุงูููุฌ ุงููุณูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุงุฑุงุช ุชูุงุนููุฉ</a> .  ูุณูุญ ูู ุจุงูุชุญูู ูู ุนูููุฉ ููู ุฏูู ุงูุจูุงูุงุช ุจูู ูุฑุงุญู ุงููุนุงูุฌุฉ ุ ูุงูุนูู ุจุณุฑุนุงุช ูุฎุชููุฉ ูุจุดูู ูุณุชูู ุนู ุจุนุถูุง ุงูุจุนุถ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุงูุชุฎุฒูู ุงููุคูุช.  ุฅุฐุง ูุงูุช ุฅุญุฏู ูุฑุงุญู ุงููุนุงูุฌุฉ ุฃุจุทุฃ ูู ุงููุฑุญูุฉ ุงูุณุงุจูุฉ ุ ููู ุงูุถุฑูุฑู ุงูุฅุดุงุฑุฉ ุฅูู ุงููุฑุญูุฉ ุงูุฃุณุฑุน ุญูู ููุฏุงุฑ ุจูุงูุงุช ุงูุฅุฏุฎุงู ุงูุชู ุชููู ุฌุงูุฒุฉ ูููุนุงูุฌุฉ ูู ุงูููุช ุงูุญุงูู.  ูุฐุง ุงูุชูุงุนู ูุณูู ุงูุถุบุท ุงูุฎููู.  ููู ูุชุฃูู ูู ุญูููุฉ ุฃู ุงููุฑุงุญู ุงูุฃุณุฑุน ุชุนุงูุฌ ุจุงูุถุจุท ุงูุนุฏูุฏ ูู ุงูุนูุงุตุฑ ุงููุทููุจุฉ ูููุฑุญูุฉ ุงูุจุทูุฆุฉ ุ ูููุณ ุฃูุซุฑ ุ ุซู ุชุญุฑุฑ ููุงุฑุฏ ุงูุญูุณุจุฉ. <br><br>  ุจุดูู ุนุงู ุ ุชุนุฏ Stream Reactive Streams ููุงุตูุฉ ูุชุทุจูู ูููุฐุฌ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุงุดุฑ-ุงููุดุชุฑู</a> .  ุชุญุฏุฏ ูุฐู ุงูููุงุตูุฉ ูุฌููุนุฉ ูู ุฃุฑุจุน ูุงุฌูุงุช (ุงููุงุดุฑ ุ ุงููุดุชุฑู ุ ุงููุนุงูุฌ ุ ูุงูุงุดุชุฑุงู) ูุนูุฏ ูุฃุณุงููุจูุง. <br><br>  ุฏุนููุง ููุธุฑ ูู ูุฐู ุงููุงุฌูุงุช ุจูุฒูุฏ ูู ุงูุชูุตูู: <br><br><pre style=";text-align:right;direction:rtl"><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Publisher</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subscribe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Subscriber&lt;? </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">super</span></span></span></span><span class="hljs-function"><span class="hljs-params"> T&gt; s)</span></span></span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Subscriber</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSubscribe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Subscription s)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T t)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Throwable t)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onComplete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Subscription</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">request</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> n)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cancel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Processor</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Subscriber</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt;, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Publisher</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class">&gt; </span></span>{ }</code> </pre> <br>  ููุงู ุฌุงูุจุงู ููููุฐุฌ ุงููุดุชุฑู-ุงููุงุดุฑ: ุงูุฅุฑุณุงู ูุงูุงุณุชูุงู.  ุนูุฏ ุชูููุฐ ุชูุงุฑุงุช ุชูุงุนููุฉ ุ ุชููู ุงููุฆุฉ ุงูุชู ุชุทุจู ูุงุฌูุฉ ุงููุงุดุฑ ูุณุคููุฉ ุนู ููู ุงูุจูุงูุงุช ุ ูุงููุดุชุฑู ูุณุคูู ุนู ุงูุงุณุชูุงู.  ูุฅูุดุงุก ุงุชุตุงู ุจููููุง ุ ูุฌุจ ุชุณุฌูู ุงููุดุชุฑู ูุฏู ุงููุงุดุฑ ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุทุฑููุฉ ุงูุงุดุชุฑุงู ุงูุฎุงุตุฉ ุจู.  ููููุง ููููุงุตูุงุช ุ ุจุนุฏ ุชุณุฌูู ุงููุดุชุฑู ุ ูุฌุจ ุนูู ุงููุงุดุฑ ุงุณุชุฏุนุงุก ุฃุณุงููุจู ุจุงูุชุฑุชูุจ ุงูุชุงูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  onSubscribe.  ูุชู ุงุณุชุฏุนุงุก ูุฐู ุงูุทุฑููุฉ ููุฑ ุชุณุฌูู ุงููุดุชุฑู ูุฏู ุงููุงุดุฑ.  ููุนููุฉ ุ ูุชู ุชูุฑูุฑ ูุงุฆู ุงุดุชุฑุงู ุฅููู ูุทูุจ ูู ุฎูุงูู ุงููุดุชุฑู ุจูุงูุงุช ูู ุงููุงุดุฑ.  ูุฌุจ ุชุฎุฒูู ูุฐุง ุงููุงุฆู ูุงุณุชุฏุนุงุคู ููุท ูู ุณูุงู ูุฐุง ุงููุดุชุฑู. </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฃู ูุทูุจ ุงููุดุชุฑู ุจูุงูุงุช ูู Publisher ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุฃุณููุจ ุงูุทูุจ ุนูู ูุงุฆู ุงูุงุดุชุฑุงู ุงูููุงุจู ุ ูููู ูู Publisher ุงุณุชุฏุนุงุก ุงููุดุชุฑู onNext ุ ุจุชูุฑูุฑ ุงูุนูุตุฑ ุงูุชุงูู. </li><li style=";text-align:right;direction:rtl">  ูููู ูููุดุชุฑู ุจุนุฏ ุฐูู ุงุณุชุฏุนุงุก ุทุฑููุฉ ุงูุทูุจ ุจุดูู ุฏูุฑู ุนูู ุงูุงุดุชุฑุงู ุ ูููู ูุง ูููู ูู Publisher ุงุณุชุฏุนุงุก ุทุฑููุฉ onNext ุฃูุซุฑ ูู ุงูุฅุฌูุงูู ุงููุทููุจ ูู ุฎูุงู ุทุฑููุฉ ุงูุทูุจ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุฏูู ุงูุจูุงูุงุช ูุญุฏูุฏูุง ุ ุจุนุฏ ุชูุฑูุฑ ุฌููุน ุงูุนูุงุตุฑ ูู ุฎูุงู ุทุฑููุฉ onNext ุ ูุฌุจ ุนูู ุงููุงุดุฑ ุงุณุชุฏุนุงุก ุทุฑููุฉ onComplete. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุญุฏุซ ุฎุทุฃ ูู Publisher ููู ููู ูู ุงููููู ูุนุงูุฌุฉ ุงูุนูุงุตุฑ ุจุดูู ุฅุถุงูู ุ ููุฌุจ ุงุณุชุฏุนุงุก ุทุฑููุฉ onError </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุงุณุชุฏุนุงุก ุทุฑู onComplete ุฃู onError ุ ูุฌุจ ุงุณุชุจุนุงุฏ ุชูุงุนู ุงููุงุดุฑ ุงูุฅุถุงูู ูุน ุงููุดุชุฑู. </li></ol><br>  ูููู ุงุนุชุจุงุฑ ุงุณุชุฏุนุงุกุงุช ุงูุทุฑููุฉ ุจูุซุงุจุฉ ุฅุฑุณุงู ุฅุดุงุฑุงุช ุจูู ุงููุงุดุฑ ูุงููุดุชุฑู.  ูุดูุฑ ุงููุดุชุฑู ุฅูู ุงููุงุดุฑ ุจุนุฏุฏ ุงูุนูุงุตุฑ ุงูุชู ูููู ุฌุงูุฒูุง ูููุนุงูุฌุฉ ุ ููุดูุฑ ุงููุงุดุฑ ุจุฏูุฑู ุฅูู ุฃูู ููุฌุฏ ุฅูุง ุงูุนูุตุฑ ุงูุชุงูู ุ ุฃู ุฃูู ูุง ููุฌุฏ ุงููุฒูุฏ ูู ุงูุนูุงุตุฑ ุ ุฃู ุญุฏุซ ุฎุทุฃ ูุง. <br><br>  ูุงุณุชุจุนุงุฏ ุชุฃุซูุฑ ุขุฎุฑ ูููุงุดุฑ ูุงููุดุชุฑู ุนูู ุจุนุถููุง ุงูุจุนุถ ุ ูุฌุจ ุฃูุง ุชููู ุงูุงุณุชุฏุนุงุกุงุช ูุฌููุน ุงูุทุฑู ุงูุชู ุชุทุจู ูุงุฌูุงุช ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ ุบูุฑ ูุงุจูุฉ ููุญุธุฑ.  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูููู ุงูุชูุงุนู ุจููููุง ุบูุฑ ูุชุฒุงูู ุชูุงููุง. <br><br>  ูููู ุงูุนุซูุฑ ุนูู ูุฒูุฏ ูู ุงูุชูุงุตูู ุญูู ููุงุตูุงุช ูุงุฌูุงุช ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><br>  ูุจุงูุชุงูู ุ ูู ุฎูุงู ุฑุจุท ุงูุชูุฑุงุฑุงุช ุงูุฃุตููุฉ ูุงููุชุงุฆุฌ ุงููุงุชุฌุฉ ูู ุฎูุงู ุชุญููููุง ุฅูู ุงููุงุดุฑ ูุงููุดุชุฑู ุ ุนูู ุงูุชูุงูู ุ ูููููุง ุญู ุงููุดููุงุช ุงููุญุฏุฏุฉ ูู ุงูุฌุฒุก ุงูุณุงุจู ูู ุงูููุงูุฉ.  ูุชู ุญู ูุดููุฉ ุชุฌุงูุฒ ุณุนุฉ ุงููุฎุฒู ุงููุคูุช ุจูู ุงููุฑุงุญู ุนู ุทุฑูู ุทูุจ ุนุฏุฏ ูุนูู ูู ุงูุนูุงุตุฑ ูู ูุจู ุงููุดุชุฑู.  ูุชู ุญู ูุดููุฉ ุงูุฅููุงู ุงููุงุฌุญ ุฃู ุบูุฑ ุงููุงุฌุญ ุนู ุทุฑูู ุฅุฑุณุงู ุฅุดุงุฑุงุช ุฅูู ุงููุดุชุฑู ูู ุฎูุงู ุทุฑู onComplete ุฃู onError ุ ุนูู ุงูุชูุงูู.  ูุตุจุญ ุงููุงุดุฑ ูุณุคููุงู ุนู ุฅุฑุณุงู ูุฐู ุงูุฅุดุงุฑุงุช ุ ูุงูุชู ูุฌุจ ูู ุญุงูุชูุง ุฃู ุชุชุญูู ูู ุนุฏุฏ ุทูุจุงุช HTTP ุงูุชู ุชู ุฅุฑุณุงููุง ูุนุฏุฏูุง ุงูุฐู ุชููู ุฑุฏูุฏูุง.  ุจุนุฏ ุชููู ุงูุงุณุชุฌุงุจุฉ ุงูุฃุฎูุฑุฉ ููุนุงูุฌุฉ ุฌููุน ุงููุชุงุฆุฌ ุงููุงุฑุฏุฉ ุ ูุฌุจ ุฃู ุชุฑุณู ุฅุดุงุฑุฉ onComplete.  ูู ุญุงูุฉ ูุดู ุฃุญุฏ ุงูุทูุจุงุช ุ ูุฌุจ ุฃู ูุฑุณู ุฅุดุงุฑุฉ onError ุ ููุชููู ุนู ุฅุฑุณุงู ุงููุฒูุฏ ูู ุงูุนูุงุตุฑ ุฅูู ุงููุดุชุฑู ุ ููุฐูู ุทุฑุญ ุงูุนูุงุตุฑ ูู ุงูููุฑุฑ ุงูุฃุตูู. <br><br>  ูุฌุจ ุชูููุฐ ุงูููุฑุฑ ุงููุงุชุฌ ููุดุชุฑู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุง ูููููุง ุงูุงุณุชุบูุงุก ุนู ุงููุฎุฒู ุงููุคูุช ุงูุฐู ุณุชุชู ููู ูุชุงุจุฉ ุงูุนูุงุตุฑ ุนูุฏ ุงุณุชุฏุนุงุก ุทุฑููุฉ onNext ูู ูุงุฌูุฉ ุงููุดุชุฑู ูุทุฑุญูุง ุจุงุณุชุฎุฏุงู hasNext ูุงูุทุฑู ุงูุชุงููุฉ ูู ูุงุฌูุฉ Iterator.  ูุชุทุจูู ูุคูุช ุ ููููู ุงุณุชุฎุฏุงู ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุญุธุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ LinkedBlockedQueue. <br><br>  ุณูู ูุณุฃู ุงููุงุฑุฆ ุงูููุธ ุนูู ุงูููุฑ ุงูุณุคุงู: ููุงุฐุง ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงููุญุธูุฑุฉ ุ ูุฃูู ููููุง ูููุงุตูุงุช ุชูุงุฑุงุช ุงูุชูุงุนู ุ ูุฌุจ ุฃู ูููู ุชูููุฐ ุฌููุน ุงูุทุฑู ุบูุฑ ูุญุฌูุจุ  ูููู ูุฐุง ูู ุดูุก ููุง: ูุธุฑูุง ูุฃููุง ูุทูุจ ูู Publisher ุนุฏุฏูุง ูุญุฏุฏูุง ุจุฏูุฉ ูู ุงูุนูุงุตุฑ ุ ููู ูุชู ุงุณุชุฏุนุงุก ุฃุณููุจ onNext ุฃูุซุฑ ูู ูุฐุง ุงูุนุฏุฏ ูู ุงููุฑุงุช ุ ููููู ููุงุฆูุฉ ุงูุงูุชุธุงุฑ ุฏุงุฆููุง ุฅุถุงูุฉ ุนูุตุฑ ุฌุฏูุฏ ุฏูู ุญุธุฑ. <br><br>  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูุฏ ูุญุฏุซ ุงูุญุธุฑ ุนูุฏูุง ูุชู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ hasNext ูู ุญุงูุฉ ูุฌูุฏ ูุงุฆูุฉ ุงูุชุธุงุฑ ูุงุฑุบุฉ.  ููุน ุฐูู ุ ูุฐุง ุตุญูุญ: ุทุฑููุฉ hasNext ููุณุช ุฌุฒุกูุง ูู ุนูุฏ ูุงุฌูุฉ ุงููุดุชุฑู ุ ููู ูุญุฏุฏุฉ ูู ูุงุฌูุฉ Iterator ุ ูุงูุชู ุ ููุง ุฃูุถุญูุง ุณุงุจููุง ุ ูู ุจููุฉ ุจูุงูุงุช ูุงูุนุฉ.  ุนูุฏ ุงุณุชุฏุนุงุก ุงูุทุฑููุฉ ุงูุชุงููุฉ ุ ูุทุฑุญ ุงูุนูุตุฑ ุงูุชุงูู ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุ ูุนูุฏูุง ูุตุจุญ ุญุฌูู ุฃูู ูู ุญุฏ ูุนูู ุ ุณูุญุชุงุฌ ุฅูู ุทูุจ ุงูุฌุฒุก ุงูุชุงูู ูู ุงูุนูุงุตุฑ ูู ุฎูุงู ุงุณุชุฏุนุงุก ูุทุฑููุฉ ุงูุทูุจ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/tz/xy/8t/tzxy8tn05km8fox0bkwk_zsxvcg.png" width="650"></div>  <i>ุงูุดูู 7. ุงูุชูุงุนู ุบูุฑ ุงููุชุฒุงูู ูุน ุฎุฏูุฉ ุฎุงุฑุฌูุฉ ุจุงุณุชุฎุฏุงู ููุฌ ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ</i> <br><br>  ุจุงูุทุจุน ุ ูู ูุฐู ุงูุญุงูุฉ ูู ูุชุฎูุต ุชูุงููุง ูู ุญุธุฑ ุงูููุงููุงุช.  ูุญุฏุซ ูุฐุง ุจุณุจุจ ุนุฏู ุชุทุงุจู ุงูููุงุฐุฌ ุจูู ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ ุ ุงูุชู ุชูุชุฑุถ ุชูุงุนููุง ุบูุฑ ูุชุฒุงูู ุชูุงููุง ุ ูููุฑุฑ ุ ูุงูุฐู ูุฌุจ ุฃู ูุทูู ุนููู trueN ุฃู ุฎุทุฃ ุนูุฏ ุงุณุชุฏุนุงุก ุทุฑููุฉ hasNext.  ููุน ุฐูู ุ ุนูู ุนูุณ ุงูุชูุงุนู ุงููุชุฒุงูู ูุน ุฎุฏูุฉ ุฎุงุฑุฌูุฉ ุ ูููู ุชูููู ููุช ุงูุชุนุทู ุจุณุจุจ ุงูุฃููุงู ุจุดูู ูุจูุฑ ุนู ุทุฑูู ุฒูุงุฏุฉ ุงูุญูู ุงูููู ูููู ุงููุนุงูุฌ. <br><br>  ุณูููู ูู ุงูููุงุฆู ุฅุฐุง ูุงู ูุทูุฑู Apache Spark ูู ุงูุฅุตุฏุงุฑุงุช ุงููุณุชูุจููุฉ ุจุชุทุจูู ุทุฑููุฉ ุชูุงุธุฑูุฉ ูุทุฑููุฉ mapPartitions ุ ูุงูุชู ุชุนูู ูุน ุงููุงุดุฑ ูุงููุดุชุฑู.  ูุฐุง ุณูุณูุญ ุจุชูุงุนู ุบูุฑ ูุชุฒุงูู ุชูุงููุง ุ ูุจุงูุชุงูู ุงููุถุงุก ุนูู ุฅููุงููุฉ ุญุธุฑ ุงูุฎููุท. <br><br><h3 style=";text-align:right;direction:rtl">  Akka-streams ู akka-http ูุชุทุจูู ูููุงุตูุงุช ุงูุฌุฏุงูู ุงูุชูุงุนููุฉ </h3><br>  ุญุงูููุง ุ ููุงู ุจุงููุนู ุฃูุซุฑ ูู ุงุซูุชู ุนุดุฑุฉ ุชุทุจูู ูููุงุตูุงุช ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ.  ุฃุญุฏ ูุฐู ุงูุชุทุจููุงุช ูู ูุญุฏุฉ akka-streams ูู ููุชุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">akka</a> .  ูู ุนุงูู JVM ุนูุง ุฃุซุจุชุช ููุณูุง ููุงุญุฏุฉ ูู ุฃูุซุฑ ุงููุณุงุฆู ูุนุงููุฉ ููุชุงุจุฉ ุฃูุธูุฉ ูุชูุงุฒูุฉ ูููุฒุนุฉ.  ูุชู ุชุญููู ุฐูู ุจุณุจุจ ุญูููุฉ ุฃู ุงููุจุฏุฃ ุงูุฃุณุงุณู ุงูููุตูุต ุนููู ูู ุฃุณุงุณูุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฐุฌ ุงูููุซู</a> ุ ูุงูุฐู ูุณูุญ ูู ุจูุชุงุจุฉ ุชุทุจููุงุช ุชูุงูุณูุฉ ููุบุงูุฉ ุฏูู ุงูุชุญูู ุงููุจุงุดุฑ ูู ุงูุฎููุท ููุฌูุนุงุชูุง. <br><br>  ุชูุช ูุชุงุจุฉ ุงููุซูุฑ ูู ุงููุคููุงุช ุญูู ุชุทุจูู ููููู ุงูููุซููู ูู ุนูุง ุ ูุฐูู ูู ูุชููู ููุง ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููููุน ุงูุฑุณูู ุนูุง</a> ูู ูุตุฏุฑ ุฌูุฏ ุฌุฏูุง ูููุนูููุงุช ุ ุฃูุตู ุฃูุถูุง ุจู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูุง ูู</a> ูุชุงุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนูู</a> ).  ุณูููู ููุง ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุงูุฌุงูุจ ุงูุชูููููุฌู ููุชูููุฐ ูู ุฅุทุงุฑ ุขููุฉ ุงูุฑุตุฏ ุงููุดุชุฑูุฉ. <br><br>  ุจุดูู ุนุงู ุ ูุง ููุฌุฏ ุงูููุซููู ุจููุฑุฏูู ุ ูููููู ูุดูููู ูุธุงููุง ูุฑูููุง.  ูุฅูุดุงุก ูุธุงู ููุซู ุ ุชุญุชุงุฌ ุฅูู ุชุฎุตูุต ููุงุฑุฏ ูู ุ ูุฐุง ูุฅู ุงูุฎุทูุฉ ุงูุฃููู ุนูุฏ ุงูุนูู ูุน akka ูู ุฅูุดุงุก ูุซูู ููุงุฆู ActorSystem.  ุนูุฏูุง ูุจุฏุฃ ActorSystem ุ ูุชู ุฅูุดุงุก ูุฌููุนุฉ ูููุตูุฉ ูู ุณูุงุณู ุงูุนูููุงุช ุ ุชุณูู ุงููุฑุณู ุ ุญูุซ ูุชู ุชูููุฐ ุฌููุน ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุญุฏุฏุฉ ูู ุงูููุซููู.  ุนุงุฏุฉ ุ ูููุฐ ูุคุดุฑ ุชุฑุงุจุท ูุงุญุฏ ุฑูุฒ ุงูุนุฏูุฏ ูู ุงูููุซููู ุ ููุน ุฐูู ุ ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ููููู ุชูููู ูุฑุณู ูููุตู ููุฌููุนุฉ ูุนููุฉ ูู ุงูููุซููู (ุนูู ุณุจูู ุงููุซุงู ุ ููููุซููู ุงูุฐูู ูุชูุงุนููู ูุจุงุดุฑุฉ ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ููุญุธุฑ). <br><br>  ูุงุญุฏุฉ ูู ุฃูุซุฑ ุงูููุงู ุงูุดุงุฆุนุฉ ุงูุชู ูุชู ุญููุง ุจุงุณุชุฎุฏุงู ุงูููุซููู ูู ุงููุนุงูุฌุฉ ุงููุชุชุงุจุนุฉ ูุชุฏููุงุช ุงูุจูุงูุงุช.  ุณุงุจููุง ุ ููุฐุง ุ ูุงู ูู ุงูุถุฑูุฑู ุฅูุดุงุก ุณูุงุณู ูู ุงูููุซููู ูุฏูููุง ูุงูุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุงุฎุชูุงูุงุช ุจูููู (ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ุฃุญุฏ ุงููุงุนููู ุจูุนุงูุฌุฉ ุงูุฑุณุงุฆู ุจุดูู ุฃุณุฑุน ูู ุงูุชุงูู ุ ููุฏ ูููู ูุฏูู ุชุฌุงูุฒ ูู ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ ุ ููุง ูุคุฏู ุฅูู ุฎุทุฃ OutOfMemoryError). <br><br>  ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 2.4 ุ ุชูุช ุฅุถุงูุฉ ูุญุฏุฉ akka-streams ุงูููุทูุฉ ุฅูู akka ุ ููุง ูุณูุญ ูู ุจุชุนุฑูู ุนูููุฉ ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุจุดูู ุชุนุฑููู ุ ุซู ุฅูุดุงุก ุงูููุซููู ุงูุถุฑูุฑููู ูุชูููุฐูุง.  ูููุฐ Akka-streams ุฃูุถูุง ูุจุฏุฃ ุงูุถุบุท ุงูุฎููู ุ ุงูุฐู ููุบู ุฅููุงููุฉ ุชุฌุงูุฒ ูู ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ ูุฌููุน ุงูุฌูุงุช ุงููุงุนูุฉ ุงููุดุงุฑูุฉ ูู ุงููุนุงูุฌุฉ. <br><br>  ุงูุนูุงุตุฑ ุงูุฑุฆูุณูุฉ ูุชุญุฏูุฏ ูุฎุทุท ูุนุงูุฌุฉ ุชุฏูู ุงูุจูุงูุงุช ูู ุชุฏููุงุช akka ูู ุงููุตุฏุฑ ูุงูุชุฏูู ูุงูุญูุถ.  ูู ุฎูุงู ุฏูุฌูุง ูุน ุจุนุถูุง ุงูุจุนุถ ุ ูุญุตู ุนูู ุฑุณู ุจูุงูู ูุงุจู ููุชุดุบูู.  ูุจุฏุก ุนูููุฉ ุงููุนุงูุฌุฉ ุ ูุชู ุงุณุชุฎุฏุงู ูุงุฏุฉ ูุงุฏูุฉ ุ ูุงูุชู ุชุนูู ุนูู ุฅูุดุงุก ุฌูุงุช ูุงุนูุฉ ุชุนูู ููููุง ููุฑุณู ุงูุจูุงูู ุงููุญุฏุฏ ูู ูุจููุง (ูุงุฌูุฉ Materializer ูุชูููุฐูุง ActorMaterializer). <br><br>  ุฏุนููุง ููุธุฑ ูู ูุฑุงุญู ุงููุตุฏุฑ ูุงูุชุฏูู ูุงูุญูุถ ุจูุฒูุฏ ูู ุงูุชูุตูู.  ูุญุฏุฏ ุงููุตุฏุฑ ูุตุฏุฑ ุงูุจูุงูุงุช.  ูุฏุนู Akka-streams ุฃูุซุฑ ูู ุงุซูู ุนุดุฑ ุทุฑููุฉ ูุฎุชููุฉ ูุฅูุดุงุก ุงููุตุงุฏุฑ ุ ุจูุง ูู ุฐูู ูู ุงูููุฑุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> featuresSource: <span class="hljs-type"><span class="hljs-type">Source</span></span>[<span class="hljs-type"><span class="hljs-type">Array</span></span>[<span class="hljs-type"><span class="hljs-type">Float</span></span>], <span class="hljs-type"><span class="hljs-type">NotUsed</span></span>] = <span class="hljs-type"><span class="hljs-type">Source</span></span>.fromIterator { () =&gt; featuresIterator }</code> </pre><br>  ูููู ุฃูุถูุง ุงูุญุตูู ุนูู ุงููุตุฏุฑ ุนู ุทุฑูู ุชุญููู ูุตุฏุฑ ููุฌูุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newSource: <span class="hljs-type"><span class="hljs-type">Source</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>, <span class="hljs-type"><span class="hljs-type">NotUsed</span></span>] = source.map(item =&gt; transform(item))</code> </pre> <br>  ุฅุฐุง ูุงู ุงูุชุญููู ุนูููุฉ ุบูุฑ ุจุณูุทุฉ ุ ููููู ุชูุซููู ูููุงู ุชุฏูู.  ูุฏุนู ุชูุงุฑุงุช Akka ุงูุนุฏูุฏ ูู ุงูุทุฑู ุงููุฎุชููุฉ ูุฅูุดุงุก ุงูุชุฏูู.  ุฃุณูู ุทุฑููุฉ ูู ุงูุฅูุดุงุก ูู ุฏุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> someFlow: <span class="hljs-type"><span class="hljs-type">Flow</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>, <span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">NotUsed</span></span>] = <span class="hljs-type"><span class="hljs-type">Flow</span></span>.fromFunction((x: <span class="hljs-type"><span class="hljs-type">String</span></span>) =&gt; x.length)</code> </pre> <br>  ูู ุฎูุงู ุงูุฌูุน ุจูู ุงููุตุฏุฑ ูุงูุชุฏูู ุ ูุญุตู ุนูู ูุตุฏุฑ ุฌุฏูุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newSource: <span class="hljs-type"><span class="hljs-type">Source</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">NotUsed</span></span>] = oldSource.via(someFlow)</code> </pre> <br>  ูุชู ุงุณุชุฎุฏุงู ุงูุญูุถ ููุฑุญูุฉ ุฃุฎูุฑุฉ ูู ูุนุงูุฌุฉ ุงูุจูุงูุงุช.  ููุง ูู ุงูุญุงู ูู Source ุ ูููุฑ akka-streams ุฃูุซุฑ ูู ุงุซูู ุนุดุฑ ุฎูุงุฑูุง ูุฎุชูููุง ูู Sink ุ ุนูู ุณุจูู ุงููุซุงู ุ ูููู Sink.foreach ุจุฅุฌุฑุงุก ุนูููุฉ ูุญุฏุฏุฉ ููู ุนูุตุฑ ุ ูุฌูุน Sink.seq ุฌููุน ุงูุนูุงุตุฑ ูู ูุฌููุนุฉ ุ ุฅูุฎ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> printSink: <span class="hljs-type"><span class="hljs-type">Sink</span></span>[<span class="hljs-type"><span class="hljs-type">Any</span></span>, <span class="hljs-type"><span class="hljs-type">Future</span></span>[<span class="hljs-type"><span class="hljs-type">Done</span></span>]] = <span class="hljs-type"><span class="hljs-type">Sink</span></span>.foreach(println)</code> </pre> <br>  ูุชู ุชุญุฏูุฏ ูุนููุงุช ุงููุตุฏุฑ ูุงูุชุฏูู ูุงูุญูุถ ูู ุฎูุงู ุฃููุงุน ุนูุงุตุฑ ุงูุฅุฏุฎุงู ู / ุฃู ุงูุฅุฎุฑุงุฌ ุ ุนูู ุงูุชูุงูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฏ ูููู ููู ูุฑุญูุฉ ูุนุงูุฌุฉ ุจุนุถ ูุชุงุฆุฌ ุนูููุง.  ููุฐุง ุ ูุชู ุฃูุถูุง ุชุนููู ุงููุนููุงุช Source ู Flow ู Sink ุจูุงุณุทุฉ ููุน ุฅุถุงูู ูุญุฏุฏ ูุชูุฌุฉ ุงูุนูููุฉ.  ูุฐุง ุงูููุน ูุณูู ููุน ุงููููุฉ ุงููุงุฏูุฉ.  ุฅุฐุง ูุงูุช ุงูุนูููุฉ ูุง ุชุนูู ูุฌูุฏ ูุชูุฌุฉ ุฅุถุงููุฉ ูุนูููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏูุง ูุญุฏุฏ ุงูุชุฏูู ูู ุฎูุงู ูุธููุฉ ุ ูุณูุชู ุงุณุชุฎุฏุงู ููุน NotUsed ููููุฉ ูุงุฏูุฉ. <br><br>  ูู ุฎูุงู ุงูุฌูุน ุจูู ุงููุตุฏุฑ ูุงูุชุฏูู ูุงูุญูุถ ุงูุถุฑูุฑู ุ ูุญุตู ุนูู RunnableGraph.  ูุชู ุชุญุฏูุฏู ุจูุงุณุทุฉ ููุน ูุงุญุฏ ุ ูุงูุฐู ูุญุฏุฏ ููุน ุงููููุฉ ุงูุชู ุชู ุงูุญุตูู ุนูููุง ูุชูุฌุฉ ูุชูููุฐ ูุฐุง ุงูุฑุณู ุงูุจูุงูู.  ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ุนูุฏ ุฏูุฌ ุงููุฑุงุญู ุ ููููู ุชุญุฏูุฏ ูุชูุฌุฉ ุฃู ุงููุฑุงุญู ุณุชููู ูุชูุฌุฉ ุงูุฑุณู ุงูุจูุงูู ููุนูููุงุช ุจุงููุงูู.  ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ุฃุฎุฐ ูุชูุฌุฉ ุงููุฑุญูุฉ ุงููุตุฏุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> graph: <span class="hljs-type"><span class="hljs-type">RunnableGraph</span></span>[<span class="hljs-type"><span class="hljs-type">NotUsed</span></span>] = someSource.to(<span class="hljs-type"><span class="hljs-type">Sink</span></span>.foreach(println))</code> </pre> <br>  ููุน ุฐูู ุ ุฅุฐุง ูุงูุช ูุชูุฌุฉ ูุฑุญูุฉ ุงููุบุณูุฉ ุฃูุซุฑ ุฃูููุฉ ุจุงููุณุจุฉ ููุง ุ ููุฌุจ ุนูููุง ุงูุฅุดุงุฑุฉ ุตุฑุงุญุฉู ุฅูู ูุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> graph: <span class="hljs-type"><span class="hljs-type">RunnableGraph</span></span>[<span class="hljs-type"><span class="hljs-type">Future</span></span>[<span class="hljs-type"><span class="hljs-type">Done</span></span>]] = someSource.toMat(<span class="hljs-type"><span class="hljs-type">Sink</span></span>.foreach(println))(<span class="hljs-type"><span class="hljs-type">Keep</span></span>.right)</code> </pre><br>  ุจุนุฏ ุชุญุฏูุฏ ุงูุฑุณู ุงูุจูุงูู ููุนูููุงุช ุ ูุฌุจ ุนูููุง ุชุดุบููู.  ููููุงู ุจุฐูู ุ ูุญุชุงุฌ runnableGraph ุฅูู ุงุณุชุฏุนุงุก ุฃุณููุจ ุงูุชุดุบูู.  ููุนููุฉ ุ ุชุฃุฎุฐ ูุฐู ุงูุทุฑููุฉ ูุงุฆู ActorMaterializer (ูุงูุฐู ูููู ุฃู ูููู ุฃูุถูุง ูู ูุทุงู ุถููู) ุ ููู ุงููุณุคูู ุนู ุฅูุดุงุก ุงูุฌูุงุช ุงููุงุนูุฉ ุงูุชู ุณุชุคุฏู ุงูุนูููุงุช.  ุนุงุฏุฉ ุ ูุชู ุฅูุดุงุก ActorMaterializer ููุฑูุง ุจุนุฏ ุฅูุดุงุก ูุธุงู ActorSystem ุ ูุฑุชุจุทูุง ุจุฏูุฑุฉ ุญูุงุชู ุ ููุณุชุฎุฏูู ูุฅูุดุงุก ููุซููู.  ููุฑ ูู ูุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-comment"><span class="hljs-comment">//   ActorSystem,       implicit val system = ActorSystem(โsystem nameโ) // ,       ActorSystem implicit val materializer = ActorMaterializer() //    ,       Sink val graph: RunnableGraph[Future[immutable.Seq[Int]]] = Source.fromIterator(() =&gt; (1 to 10).iterator).toMat(Sink.seq)(Keep.right) //   ,    implicit scope. val result: Future[immutable.Seq[Int]] = graph.run()</span></span></code> </pre><br>  ูู ุญุงูุฉ ุงูุชุฑููุจุงุช ุงูุจุณูุทุฉ ุ ููููู ุงูุงุณุชุบูุงุก ุนู ุฅูุดุงุก RunnableGraph ูููุตู ุ ูููู ุจุจุณุงุทุฉ ูู ุจุชูุตูู Source ุจู Sink ูุจุฏุก ุชุดุบูููุง ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ runWith ุนูู Source.  ุชูุชุฑุถ ูุฐู ุงูุทุฑููุฉ ุฃูุถูุง ูุฌูุฏ ูุงุฆู ActorMaterializer ูู ุงููุทุงู ุงูุถููู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู ูุฐู ุงูุญุงูุฉ ุ ุณูุชู ุงุณุชุฎุฏุงู ุงููููุฉ ุงููุงุฏูุฉ ุงููุญุฏุฏุฉ ูู ุงูุญูุถ.  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณุชุฎุฏุงู ุงูููุฏ ุงูุชุงูู ุ ูููููุง ุชุญููู Source ุฅูู Publisher ูู ููุงุตูุงุช Stream Reactive Streams: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> source: <span class="hljs-type"><span class="hljs-type">Source</span></span>[<span class="hljs-type"><span class="hljs-type">Score</span></span>, <span class="hljs-type"><span class="hljs-type">NotUsed</span></span>] = <span class="hljs-type"><span class="hljs-type">Source</span></span>.fromIterator(() =&gt; sourceIterator).map(item =&gt; transform(item)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> publisher: <span class="hljs-type"><span class="hljs-type">Publisher</span></span>[<span class="hljs-type"><span class="hljs-type">Score</span></span>] = source.runWith(<span class="hljs-type"><span class="hljs-type">Sink</span></span>.asPublisher(<span class="hljs-literal"><span class="hljs-literal">false</span></span>))</code> </pre><br>  ูุฐูู ุ ููุฏ ุฃูุถุญูุง ุงูุขู ููู ููููู ุงูุญุตูู ุนูู ูุงุดุฑ ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ ูู ุฎูุงู ุฅูุดุงุก ูุตุฏุฑ ูู ููุฑุฑ ุงููุตุฏุฑ ูุฅุฌุฑุงุก ุจุนุถ ุงูุชุญูููุงุช ุนูู ุนูุงุตุฑู.  ุงูุขู ูููููุง ุฑุจุทู ุจูุดุชุฑู ูููู ุจุชุฒููุฏ ุงูุจูุงูุงุช ููููุฑุฑ ุงููุงุชุฌ.  ูุจูู ุงููุธุฑ ูู ุงูุณุคุงู ุงูุฃุฎูุฑ: ููููุฉ ุชูุธูู ุชูุงุนู HTTP ูุน ุฎุฏูุฉ ุฎุงุฑุฌูุฉ. <br><br>  ูุชุถูู ูููู akka ูุญุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://doc.akka.io/docs/akka-">akka-http</a> ุ ุงูุชู ุชุณูุญ ูู ุจุชูุธูู ุงูุงุชุตุงู ุบูุฑ ุงููุชุฒุงูู ุบูุฑ ุงููุญุธูุฑ ุนุจุฑ HTTP.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชู ุจูุงุก ูุฐู ุงููุญุฏุฉ ุนูู ุฃุณุงุณ ุชุฏููุงุช akka ุ ููุง ูุณูุญ ูู ุจุฅุถุงูุฉ ุชูุงุนู HTTP ูุฎุทูุฉ ุฅุถุงููุฉ ูู ุงูุฑุณู ุงูุจูุงูู ูุนูููุงุช ูุนุงูุฌุฉ ุชุฏูู ุงูุจูุงูุงุช. <br><br>  ููุงุชุตุงู ุจุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ ุ ูููุฑ akka-http ุซูุงุซ ูุงุฌูุงุช ูุฎุชููุฉ. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  API ุนูู ูุณุชูู ุงูุทูุจ - ูู ุฃุจุณุท ุฎูุงุฑ ูู ุญุงูุฉ ุงูุทูุจุงุช ุงููุฑุฏูุฉ ุฅูู ุฌูุงุฒ ุชุนุณูู.  ูู ูุฐุง ุงููุณุชูู ุ ุชุชู ุฅุฏุงุฑุฉ ุงุชุตุงูุงุช HTTP ุชููุงุฆููุง ุชูุงููุง ุ ููู ูู ุทูุจ ุ ูู ุงูุถุฑูุฑู ููู ุงูุนููุงู ุงููุงูู ููุฌูุงุฒ ุงูุฐู ูุชู ุฅุฑุณุงู ุงูุทูุจ ุฅููู. </li><li style=";text-align:right;direction:rtl">  ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุนูู ูุณุชูู ุงููุถูู - ููุงุณุจุฉ ุนูุฏูุง ูุนุฑู ุฃู ูููุฐ ุณูุตู ุฅููู ุนูู ุงูุฌูุงุฒ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชุญูู akka-http ูู ูุฌููุนุฉ ุงุชุตุงูุงุช HTTP ุ ููู ุงูุทูุจุงุช ูููู ุชุญุฏูุฏ ุงููุณุงุฑ ุงููุณุจู ููููุฑุฏ ุงููุทููุจ. </li><li style=";text-align:right;direction:rtl">  ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Connection-Level - ุชุณูุญ ูู ุจุงูุชุญูู ุงููุงูู ูู ุฅุฏุงุฑุฉ ุงุชุตุงูุงุช HTTP ุ ุฃู ูุชุญ ุงูุทูุจุงุช ูุฅุบูุงููุง ูุชูุฒูุนูุง ุนุจุฑ ุงูุงุชุตุงูุงุช. </li></ol><br>  ูู ุญุงูุชูุง ุ ูุฅู ุนููุงู ุฎุฏูุฉ ุงูุชุตููู ูุนุฑูู ููุง ูุณุจููุง ุ ูุฐูู ุ ูู ุงูุถุฑูุฑู ุชูุธูู ุชูุงุนู HTTP ููุท ูุน ูุฐุง ุงูุฌูุงุฒ ุงููุนูู.  ูุฐูู ุ ูุฅู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Host-Level ูู ุงูุฃูุถู ุจุงููุณุจุฉ ููุง.  ุงูุขู ุ ุฏุนูุง ูุฑู ููู ูุชู ุฅูุดุงุก ุชุฌูุน ุงุชุตุงูุงุช HTTP ุนูุฏ ุงุณุชุฎุฏุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> httpFlow: <span class="hljs-type"><span class="hljs-type">Flow</span></span>[(<span class="hljs-type"><span class="hljs-type">HttpRequest</span></span>,<span class="hljs-type"><span class="hljs-type">Id</span></span>), (<span class="hljs-type"><span class="hljs-type">Try</span></span>[<span class="hljs-type"><span class="hljs-type">HttpResponse</span></span>],<span class="hljs-type"><span class="hljs-type">Id</span></span>), <span class="hljs-type"><span class="hljs-type">Http</span></span>.<span class="hljs-type"><span class="hljs-type">HostConnectionPool</span></span>] = <span class="hljs-type"><span class="hljs-type">Http</span></span>().cachedHostConnectionPool[<span class="hljs-type"><span class="hljs-type">Id</span></span>](hostAddress, portNumber)</code> </pre><br>  ุนูุฏ ุงุณุชุฏุนุงุก Http (). CachedHostConnectionPool [T] (hostAddressุ portNumber) ูู ActorSystem ุ ุถูู ูุทุงู ุถููู ุ ูุชู ุชุฎุตูุต ุงูููุงุฑุฏ ูุฅูุดุงุก ุชุฌูุน ุงุชุตุงู ุ ูููู ูู ูุชู ุชุฃุณูุณ ุงูุงุชุตุงูุงุช ููุณูุง.  ูุชูุฌุฉ ููุฐู ุงูููุงููุฉ ุ ูุชู ุฅุฑุฌุงุน Flow ุ ุงูุฐู ูุชููู ุฒูุฌูุง ูู ุทูุจ HTTP ูุจุนุถ ูุงุฆู ุชุนุฑูู ุงููุนุฑู ููุฏุฎู.  ููุงู ุญุงุฌุฉ ุฅูู ูุงุฆู ุงูุชุนุฑูู ููุทุงุจูุฉ ุงูุทูุจ ูุน ุงูุงุณุชุฌุงุจุฉ ุงูููุงุจูุฉ ูุธุฑูุง ูุฃู ููุงููุฉ HTTP ูู akka-http ูู ุนูููุฉ ุบูุฑ ูุชุฒุงููุฉ ุ ููุง ูุชูุงูู ุงูุชุฑุชูุจ ุงูุฐู ูุชู ููู ุชููู ุงูุฑุฏูุฏ ุจุงูุถุฑูุฑุฉ ูุน ุงูุชุฑุชูุจ ุงูุฐู ุชู ุฅุฑุณุงู ุงูุทูุจุงุช ุจู.  ูุฐูู ุ ุนูุฏ ุงูุชุฏูู ุ ูุนุทู ุงูุชุฏูู ุจุถุน ูุชุงุฆุฌ ุงูุงุณุชุนูุงู ููุงุฆู ุงูุชุนุฑูู ุงูููุงุจู. <br><br>  ูุจุงุดุฑุฉ ุ ูุชู ุฅูุดุงุก ุงุชุตุงูุงุช HTTP ุนูุฏ ุฅุทูุงู ุฑุณู ุจูุงูู (ุจูุง ูู ุฐูู ูุฐุง ุงูุชุฏูู) (ูุชุญูู).  ูุชู ุชูููุฐ Akka-http ุจุทุฑููุฉ ุชุฌุนู ุจุบุถ ุงููุธุฑ ุนู ุนุฏุฏ ุงููุฑุงุช ุงูุชู ุชู ูููุง ุชุฌุณูุฏ ุงูุฑุณูู ุงูุจูุงููุฉ ุงูุชู ุชุญุชูู ุนูู httpFlow ุ ูู ููุณ ูุธุงู ActorSystem ุณูููู ููุงู ุฏุงุฆููุง ูุฌููุนุฉ ูุดุชุฑูุฉ ูุงุญุฏุฉ ูู ุงุชุตุงูุงุช HTTP ุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง ูู ูุจู ุฌููุน ุนูููุงุช ุงูุชุฌุณูุฏ.  ูุชูุญ ูู ุฐูู ุงูุชุญูู ุจุดูู ุฃูุถู ูู ุงุณุชุฎุฏุงู ููุงุฑุฏ ุงูุดุจูุฉ ูุชุฌูุจ ุงูุชุญููู ุงูุฒุงุฆุฏ ุนูููุง. <br><br>  ูุจุงูุชุงูู ุ ุชุฑุชุจุท ุฏูุฑุฉ ุญูุงุฉ ุชุฌูุน ุงุชุตุงู HTTP ุจูุธุงู ActorSystem.  ููุง ุฐูุฑูุง ูู ูุจู ุ ูุชู ุฃูุถูุง ุฅุฑูุงู ุฏูุฑุฉ ุญูุงุฉ ุชุฌูุน ูุคุดุฑ ุงูุชุฑุงุจุท ุจูุง ุ ุญูุซ ูุชู ุชูููุฐ ุงูุนูููุงุช ุงููุญุฏุฏุฉ ูู ุงูููุซููู (ุฃู ูู ุญุงูุชูุง ุ ุงูุชู ูุชู ุชุนุฑูููุง ุนูู ุฃููุง ูุฑุงุญู akka-streams ู akka-http).  ูุฐูู ุ ูุชุญููู ุฃูุตู ูุฏุฑ ูู ุงูููุงุกุฉ ุ ูุฌุจ ุนูููุง ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ูุซูู ูุงุญุฏ ูู ActorSystem ูู ููุณ ุนูููุฉ JVM. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุฌููุน ูู ูุฐุง: ูุซุงู ุนูู ุชูููุฐ ุงูุชูุงุนู ูุน ุฎุฏูุฉ ุงูุชุตููู </h3><br>  ูุฐุง ุ ูููููุง ุงูุขู ุงูุงูุชูุงู ุฅูู ุนูููุฉ ุชุตููู ูููุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุงูููุฒุนุฉ ุนูู Apache Spark ุจุงุณุชุฎุฏุงู ุงูุชูุงุนู ุบูุฑ ุงููุชุฒุงูู ูุน ุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ.  ุชู ุนุฑุถ ุงููุฎุทุท ุงูุนุงู ููุฐุง ุงูุชูุงุนู ุจุงููุนู ูู ุงูุดูู 7. <br><br>  ูููุชุฑุถ ุฃู ูุฏููุง ุจุนุถ ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูุฃูููุฉ [ุงูููุฒุงุช] ุงููุญุฏุฏุฉ.  ุจุชุทุจูู ุนูููุฉ mapPartitions ุนูููุง ุ ูุฌุจ ุฃู ูุญุตู ุนูู ูุฌููุนุฉ ุจูุงูุงุช ุ ุญูุซ ูุชู ุฎุชู ูู ูุนุฑู ูู ูุฌููุนุฉ ุงููุตุฏุฑ ุจูููุฉ ูุนููุฉ ุชู ุงูุญุตูู ุนูููุง ูุชูุฌุฉ ุงูุชุตููู (ูุฌููุนุฉ ุงูุจูุงูุงุช [ุงููุชูุฌุฉ]).  ูุชูุธูู ุงููุนุงูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุนูู ุงููููุฐูู ุ ูุฌุจ ุฃู ููู ุงููุตุฏุฑ ูุงูููุฑุฑ ุงููุงุชุฌ ูู ุงููุงุดุฑ ูุงููุดุชุฑู ุ ุนูู ุงูุชูุงูู ุ ูู ููุงุตูุงุช ุงูุชุฏููุงุช ุงูุชูุงุนููุฉ ูุฑุจุทูุง ูุนูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Features</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">id: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-class"><span class="hljs-params">, vector: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Float</span></span></span></span><span class="hljs-class"><span class="hljs-params">]</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Score</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">id: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-class"><span class="hljs-params">, score: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Float</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">//</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">1</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">batchesRequestCount</span></span></span><span class="hljs-class"> </span></span>= config.getInt(โscoreService. batchesRequestCountโ)<span class="hljs-comment"><span class="hljs-comment">//(2) //... val scoreDs: Dataset[Score] = featuresDs.mapPartitions { fi: Iterator[Features] =&gt; val publisher: Publisher[Iterable[Score]] = createPublisher(fi) //(3) val iteratorSubscriber: Iterator[Score] = new IteratorSubscriber(batchesRequestCount) //(4) publisher.subscribe(batchesRequestCount) //(5) iteratorSubscriber //(6) }</span></span></code> </pre> <br>  ูู ูุฐุง ุงูุชุทุจูู ุ ูุคุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃู ุฎุฏูุฉ ุงูุชุตููู ูููุงููุฉ ูุงุญุฏุฉ ูููู ุฃู ุชุนุงูุฌ ูุฌููุนุฉ ูู ูุงููุงุช ุงูููุฒุงุช ูู ููุช ูุงุญุฏ ุ ูุจุงูุชุงูู ุ ูุฅู ูุชูุฌุฉ ุงูุชุตููู ุจุนุฏ ุงูููุงููุฉ ุฅูููุง ุณุชููู ูุชุงุญุฉ ุนูู ุงูููุฑ ูููุฌููุนุฉ ุจุฃููููุง.  ูุฐูู ุ ูููุน ูู ุงููุนููุงุช ูููุงุดุฑ ุ ูู ูุญุตู ููุท ุนูู ุงููุชูุฌุฉ ุ ููุง ูุฏ ุชุชููุน ุ ูููู ุนูู [ููุงุท] ูุชูุฑุฑุฉ.  ูุจุงูุชุงูู ุ ูุฑุณู ูุชุงุฆุฌ ุงูุชุตููู ููุฐู ุงููุฌููุนุฉ ุฅูู ุงูููุฑุฑ ุงููุงุชุฌ (ููู ุฃูุถูุง ูุดุชุฑู) ุนู ุทุฑูู ููุงููุฉ ูุงุญุฏุฉ ุฅูู ุทุฑููุฉ onNext.  ูุฐุง ุฃูุซุฑ ููุงุกุฉ ูู ุงุณุชุฏุนุงุก onNext ููู ุนูุตุฑ.  ุงูุขู ุณูููู ุจุชุญููู ูุฐุง ุงูุฑูุฒ ุจูุฒูุฏ ูู ุงูุชูุงุตูู. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุฏุฏ ูููู ุจูุงูุงุช ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช.  ููุฏุฎูุงุช ุ ุณูููู ูุฏููุง ูุฌููุนุฉ ูู ุจุนุถ ูุนุฑูุงุช ุงููููุฉ ูุน ูุชุฌู ุงูููุฒุฉ ุ ูููุฎุฑุฌ ุ ุณูููู ูุฏููุง ูุฌููุนุฉ ูู ุงููุนุฑููุงุช ุจูููุฉ ุฑูููุฉ ูุชู ุงูุญุตูู ุนูููุง ูุชูุฌุฉ ุงูุชุตููู. </li><li style=";text-align:right;direction:rtl">  ูุญุฏุฏ ุนุฏุฏ ุงููุฌููุนุงุช ุงูุชู ุณูุทูุจูุง ุงููุดุชุฑู ูู ุงููุงุดุฑ ูู ูู ูุฑุฉ.  ูุธุฑูุง ูุงูุชุฑุงุถ ุฃู ูุฐู ุงูููู ุณุชููู ูู ุงููุฎุฒู ุงููุคูุช ูุชูุชุธุฑ ุญุชู ุชุชู ูุฑุงุกุชูุง ูู ุงูููุฑุฑ ุงููุงุชุฌ ุ ูุฅู ูุฐู ุงููููุฉ ุชุนุชูุฏ ุนูู ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ูููููุฐ. </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุงููุงุดุฑ ูู ููุฑุฑ ุงููุตุฏุฑ.  ุณูููู ูุณุคููุงู ุนู ุงูุชูุงุนู ูุน ุฎุฏูุฉ ุงูุชุตููู.  ุชุชู ููุงูุดุฉ ูุธููุฉ createPublisher ุฃุฏูุงู. </li><li style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ูุดุชุฑู ุ ูุงูุฐู ุณูููู ุงูููุฑุฑ ุงููุงุชุฌ.  ููุฑุฏ ุฃูุถูุง ุฑูุฒ ูุฆุฉ IteratorSubscriber ุฃุฏูุงู. </li><li style=";text-align:right;direction:rtl">  ุชุณุฌูู ูุดุชุฑู ูุน ุงููุงุดุฑ. </li><li style=";text-align:right;direction:rtl">  ุฅุฑุฌุงุน IteratorSubscriber ููุชูุฌุฉ ูุนูููุฉ mapPartitions. </li></ol><br>  ุงูุขู ููุฑ ูู ุชูููุฐ ูุธููุฉ createPublisher. <br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Ids</span></span></span><span class="hljs-class"> </span></span>= <span class="hljs-type"><span class="hljs-type">Seq</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>] <span class="hljs-comment"><span class="hljs-comment">//(1) val batchSize = config.getInt("scoreService.batchSize") val parallelismLevel = config.getInt("scoreService.parallelismLevel") //(2) //... def createPublisher(fi: Iterator[Features]): Publisher[Iterable[Score]] = { import ActorSystemHolder._ //(3) Source .fromIterator(() =&gt; fi) //(4) .grouped(batchSize) //(5) .map { groupedFeatures: Seq[Features] =&gt; val request: (HttpRequest, Ids) = createHttpRequest(groupedFeatures) //(6) logger.debug(s"Sending request for the first id: ${request._2(0)}") request } .via(httpFlow) //(7) .flatMapMerge(parallelismLevel, { //(8) case (Success(response), ids) if response.status.isSuccess() =&gt; logger.debug(s"Processing successful result for the first id: ${ids(0)}") val resultSource: Source[Iterable[Score], _] = response.entity.dataBytes.reduce(_ ++ _).map { responseBytes =&gt; processSuccessfulResponse(responseBytes, ids) } //(9) resultScore case (Success(response), ids) =&gt; logger.warn( s"Failed result for the first id: ${ids(0)}, HTTP status: ${response.status}" ) response.discardEntityBytes() Source.failed( new IOException(s"Non-successful HTTP status: ${response.status}") ) //(10) case (Failure(ex), ids) =&gt; logger.warn(s"Failed result: an exception has occured", ex) Source.failed(ex) //(11) }) .runWith(Sink.asPublisher(false)) //(12) } def createHttpRequest(featuresSeq: Seq[Features]): (HttpRequest, ProfileIds) = { val requestBytes: Array[Byte] = featuresToMatrixBytes(featuresSeq) val ids: ProfileIds = extractIds(featuresSeq) val httpRequest = HttpRequest( method = HttpMethods.PUT, uri = "/score", entity = requestBytes ) httpRequest -&gt; ids }</span></span></code> </pre><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    -   ,   .         httpFlow,           . </li><li style=";text-align:right;direction:rtl">     :     ,     (batchSize)        (parallelismLevel). </li><li style=";text-align:right;direction:rtl">   implicit scope ActorSystem, ActorMaterializer  httpFlow.        Spark-.  ActorSystemHolder    . </li><li style=";text-align:right;direction:rtl">     akka-streams   .     Source[Features]   . </li><li style=";text-align:right;direction:rtl">            batchSize       . </li><li style=";text-align:right;direction:rtl">     HttpRequest       .   HttpRequest      createHttpRequest.      createPublisher.      feature-,   ,      (            predict).       ,      HTTP-.      ,   HTTP-,    HTTP-, URI      . </li><li style=";text-align:right;direction:rtl">        httpFlow. </li><li style=";text-align:right;direction:rtl">     ,   .      flatMapMerge,        akka-http    Source[ByteString],      ,       .           .  parallelismLevel ,      (     ).      HTTP-:   ,  ,  ,   . </li><li style=";text-align:right;direction:rtl">       :          .      akka    ByteString.    ,    ByteString    O(1),    ByteString        .       ,    ,         .                ,     . </li><li style=";text-align:right;direction:rtl">       HTTP-     ,  Stream .         ,      discardEntityBytes    ,    ,  . </li><li style=";text-align:right;direction:rtl">         .      akka-http    ,       . </li><li style=";text-align:right;direction:rtl">       ,    Publisher,     .    ,    .  false   Sink.asPublisher ,   Publisher    Subscriber-. </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุฐูุฑูุง ูู ุงููุณู ุงูุณุงุจู ุ ููุนูู ูุน akka ุ ุชุญุชุงุฌ ุฅูู ูุธุงู ActorSystem ุ ูุงูุฐู ูุฌุจ ุฅูุดุงุคู ูุฑุฉ ูุงุญุฏุฉ ุซู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงูู. </font><font style="vertical-align: inherit;">ูุณูุก ุงูุญุธ ุ ููุณ ูุฏููุง ุทุฑููุฉ ูุงุณุชุฏุนุงุก ุงูุจูุฆุฉ ุงูุนุงูููุฉ ููููุฐ Spark ุ ูููู ูููููุง ุงููุฌูุก ุฅูู ุงูุฃุณุงููุจ ุงูููุงุณูุฉ ูุฅูุดุงุก ูุงุฆูุงุช ุนุงูููุฉ. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ูููุฐ Spark ูู ุนูููุฉ JVM ูููุตูุฉ ุ ูุจุงูุชุงูู ุ ูู ุฏุงุฎูู ุ ูููููุง ุฅูุดุงุก ูุงุฆู ุนุงู ูููู ููู ุจุชุฎุฒูู ActorSystem ู ActorMatrializer ู httpFlow ุจุงุณุชุฎุฏุงูู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActorSystemHolder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> actorSystem: <span class="hljs-type"><span class="hljs-type">ActorSystem</span></span> = { <span class="hljs-comment"><span class="hljs-comment">//(1) val actorSystemName = s"score-service-client" logger.debug(s"Creating actor system $actorSystemName") val as = ActorSystem(actorSystemName) //(2) logger.debug("Adding shutdown hook for the actor system") scala.sys.addShutdownHook { //(3) logger.debug(s"Terminating actor system $actorSystemName") Await.result(as.terminate(), 30.seconds) //to Mars :) logger.debug(s"The actor system $actorSystemName has been terminated") } as } implicit lazy val materializer: ActorMaterializer = { //(4) logger.debug(s"Creating actor materializer for actor system ${actorSystem.name}") ActorMaterializer() } lazy val httpFlow: Flow[ (HttpRequest,ProfileIds), (Try[HttpResponse], ProfileIds), Http.HostConnectionPool] = { //(5) val httpFlowSettings = ConnectionPoolSettings(actorSystem) logger.debug(s"Creating http flow with settings $httpFlowSettings") Http().cachedHostConnectionPool[ProfileIds]( config.getString("scoreService.host"), config.getInt("scoreService.int"), settings = httpFlowSettings ) } }</span></span></code> </pre><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููู ุจุฅูุดุงุก ุฌููุน ุงููุชุบูุฑุงุช ุงูุนุงูููุฉ ุจุงุณุชุฎุฏุงู ุงูุชููุฆุฉ ุงูุจุทูุฆุฉ ุ ุฃู ูู ุงููุงูุน ุฃููุง ุณูุชู ุฅูุดุงุคูุง ุนูุฏูุง ุชููู ูู ุงูุทูุจ ุงูุฃูู. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุคุฏู ูุฐุง ุฅูู ุฅูุดุงุก ActorSystem ุฌุฏูุฏ ุจุงุณู ูุญุฏุฏ. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฃุฌู ุฅููุงุก ุฌููุน ุงูุนูููุงุช ุงููููุฐุฉ ูู ุฅุทุงุฑ ูุธุงู ActorSystem ุจุดูู ุตุญูุญ ุ ูุฌุจ ุฃู ูุทูู ุนูู ุทุฑููุฉ ุงูุฅููุงุก ุนููู ุ ูุงูุชู ุจุฏูุฑูุง ุณุชููู ุฌููุน ุงูุฌูุงุช ุงููุงุนูุฉ ุจุงุณุชุฎุฏุงู ุขููุฉ ุงูุชููู ุงูููุงุณูุฉ ุงูุฎุงุตุฉ ุจูู. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ูุฌุจ ุชุณุฌูู ุงูุฎุทุงู ุงูุฐู ูุชู ุงุณุชุฏุนุงุคู ุนูุฏ ุงูุชูุงุก ุนูููุฉ JVM.</font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุนุฏ ุฐูู ุ ูููู ุจุฅูุดุงุก ActorMaterializer ุงูุฐู ุณูุจุฏุฃ ุชูููุฐ ุนูููุงุช ุชูุงุฑุงุช akka ุจุงุณุชุฎุฏุงู ูุธุงู ActorSystem ุงูุฎุงุต ุจูุง. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฎูุฑูุง ุ ูููู ุจุฅูุดุงุก httpFlow ููุชูุงุนู ูุน ุฎุฏูุฉ ุฎุงุฑุฌูุฉ. </font><font style="vertical-align: inherit;">ููุง ุฐูุฑูุง ูู ุงููุณู ุงูุณุงุจู ุ ูุฎุตุต ููุง ููุงุฑุฏ ููุฌููุนุฉ ุงุชุตุงูุงุช HTTP ูู ุฅุทุงุฑ ActorSystem.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุถุน ูู ุงุนุชุจุงุฑู ุงูุขู ุชูููุฐ ุงูููุฑุฑ ุงููุงุชุฌ ููุดุชุฑู ูู ุนูููุฉ ุชูุงุนู HTTP ุงูุฎุงุตุฉ ุจูุง. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">sealed</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QueueItem</span></span></span><span class="hljs-class">[+</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Item</span></span></span><span class="hljs-class">[+</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">item: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QueueItem</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Done</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QueueItem</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Nothing</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Failure</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">cause: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Throwable</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QueueItem</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Nothing</span></span></span><span class="hljs-class">] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">//</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">1</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StreamErrorCompletionException</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">cause: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Throwable</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Exception</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">cause</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">//</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">2</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IteratorSubscriber</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">requestSize: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Subscriber</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Iterable</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">]] </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">with</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Iterator</span></span></span><span class="hljs-class">[</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">] </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//(3) private val buffer: BlockingQueue[QueueItem[Iterable[T]]] = new LinkedBlockingQueue[QueueItem[Iterable[T]]]() //(4) private var expecting: Int = 0 //(5) private val subscriptionPromise: Promise[Subscription] = Promise() private lazy val subscription: Subscription = Await.result(subscriptionPromise.future, 5.minutes) //(6) private var currentIterator: Iterator[T] = Iterator.empty //(7) private var isDone = false //(8) override def onSubscribe(s: Subscription): Unit = { subscriptionPromise.success(s) //(9) logger.trace("The iterator has been subscribed") } override def onNext(t: Iterable[T]): Unit = { logger.trace("Putting a next batch to the buffer") buffer.put(Item(t)) //(10) } override def onComplete(): Unit = { logger.debug("The stream has been succesfully completed") buffer.put(Done) //(11) } override def onError(t: Throwable): Unit = { logger.warn("The stream has been completed with error", t) buffer.put(Failure(t)) //(12) } override def hasNext: Boolean = { logger.trace("Asking hasNext") if (currentIterator.hasNext) { //(13) true } else if (isDone) { //(14) false } else { if (expecting &lt; requestSize) { requestNextBatches() //(15) } buffer.take() match { //(16) case Item(batch) =&gt; currentIterator = batch.iterator expecting -= 1 this.hasNext //(17) case Done =&gt; isDone = true false //(18) case Failure(exception) =&gt; throw new StreamErrorCompletionException(exception) //(19) } } } override def next(): T = { val out = currentIterator.next() logger.trace("The next element is {}", out) out //(20) } private def requestNextBatches(): Unit = { logger.debug(s"Requesting {} batches", requestSize) subscription.request(requestSize) expecting += requestSize //(21) } }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅู ูุฆุฉ IteratorSubscriber ูู ุชูููุฐ ููููุฐุฌ Producer-Consumer. </font><font style="vertical-align: inherit;">ุงูุฌุฒุก ุงูุฐู ูููุฐ ูุงุฌูุฉ ุงููุดุชุฑู ูู Producer ุ ูุงูุฌุฒุก ุงูุฐู ูููุฐ Iterator ูู ุงููุณุชููู. </font><font style="vertical-align: inherit;">ูุชู ุงุณุชุฎุฏุงู ุงููุฎุฒู ุงููุคูุช ุงูุฐู ูุชู ุชูููุฐู ููุงุฆูุฉ ุญุธุฑ ููุณููุฉ ููุงุชุตุงู. </font><font style="vertical-align: inherit;">ูุชู ุงุณุชุฏุนุงุก ุงูุฃุณุงููุจ ูู ูุงุฌูุฉ Iterator ูู ุฏูู ูู ุชุฌูุน ูููุฐู Apache Spark ุ ููุชู ุงุณุชุฏุนุงุก ุทุฑู ูุงุฌูุฉ ุงููุดุชุฑู ูู ุงูุชุฌูุน ุงูููููู ูู ูุจู ActorSystem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุ ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุฑูุฒ ุชูููุฐ IteratorSubscriber ุงููุญุฏุฏ ุจูุฒูุฏ ูู ุงูุชูุงุตูู.</font></font><br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃููุงู ุ ูุญุฏุฏ ููุน ุงูุจูุงูุงุช ุงูุฌุจุฑูุฉ ูุนูุงุตุฑ ุงููุฎุฒู ุงููุคูุช. </font><font style="vertical-align: inherit;">ูู ุงููุฎุฒู ุงููุคูุช ุ ูููู ุฃู ูููู ูุฏููุง ูุฌููุนุฉ ุงูุนูุงุตุฑ ุงูุชุงููุฉ ุ ุฃู ุนูุงูุฉ ุนูู ุงูุงูุชูุงุก ุจูุฌุงุญ ูู Done ุ ุฃู ุนูุงูุฉ ุนูู ุงููุดู ุ ุชุญุชูู ุนูู Throwable ุ ูุงูุชู ุชุณุจุจุช ูู ุงูุฎุทุฃ.</font></font></li><li style=";text-align:right;direction:rtl">      ,        hasNext    . </li><li style=";text-align:right;direction:rtl">  ,    ,        Publisher-. </li><li style=";text-align:right;direction:rtl">    ,     .    LinkedBlockingQueue,      . ,         . </li><li style=";text-align:right;direction:rtl">     ,    .     ,         ,       Publisher-.   ,    ,      Publisher-   .         hasNext  next ( requestNextBatches    hasNext),       ,       . </li><li style=";text-align:right;direction:rtl">  subscriptionPromise  subscription     Subscription,    Publisher    onSubscribe. ,    Reactive Streams        Subscriber-  Publisher-     ,   ,   hasNext   ,  onSubscribe.      ,     subscription,          Publisher-.     lazy   subscription,    Promise. </li><li style=";text-align:right;direction:rtl">       .          hasNext  next,     ,       . </li><li style=";text-align:right;direction:rtl">     ,        ,  hasNext   false     .           hasNext,         . </li><li style=";text-align:right;direction:rtl">    onSubscribe    Publisher-  Subscription    Promise,        subscription. </li><li style=";text-align:right;direction:rtl"> onNext  Publisher-,        .      . </li><li style=";text-align:right;direction:rtl">       Publisher   onComplete,          Done. </li><li style=";text-align:right;direction:rtl">    Publisher   onError.       . </li><li style=";text-align:right;direction:rtl">    hasNext     ,      .      ,    true,       .     ,         . </li><li style=";text-align:right;direction:rtl">        ,            false. </li><li style=";text-align:right;direction:rtl">  ,   ,        requestSize,       Publisher.         ,    ,     ,   Publisher-    ,   HTTP-     . </li><li style=";text-align:right;direction:rtl">        .  ,   ,      ,      .  ,       ,     (  ,    ,        subscription), ,     ,   ,      . </li><li style=";text-align:right;direction:rtl">       ,           currentIterator.        ,          . ,       hasNext  ,         (    ,   ),        . </li><li style=";text-align:right;direction:rtl">     ,    false        hasNext. ,     isDone,   ,     .   - ,   hasNext        ,         false.        ,       hasNext  ,    false      ,      .          ,      . </li><li style=";text-align:right;direction:rtl">        ,    ,     ,     . </li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฑุฌุน ุงูุทุฑููุฉ ุงูุชุงููุฉ ุงูุนูุตุฑ ุงูุชุงูู ูู ุงูููุฑุฑ ุงูุญุงูู. </font><font style="vertical-align: inherit;">ููููุง ูุฏูุงูุงุช ุงูููุงููุฉ ุ ูุจู ุฐูู ุ ูุฌุจ ุนูู ุงููุชุตู ุงุณุชุฏุนุงุก ุทุฑููุฉ hasNext ุ ูุฐูู ุนูุฏ ุงูุงุชุตุงู ุงูุชุงูู ุ ูุฌุจ ุฃู ูููู ุงูุนูุตุฑ ุงูุชุงูู ุฏุงุฆููุง ุงูุนูุตุฑ ุงูุชุงูู.</font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฑุณู ููุง ุฅุดุงุฑุฉ ุฅูู Publisher ุจุฃููุง ูุณุชุนุฏูู ููุนุงูุฌุฉ ุงููุฌููุนุฉ ุงูุชุงููุฉ ูู ุงููุชุงุฆุฌ ุจุงุณุชุฎุฏุงู ูุงุฆู ุงูุงุดุชุฑุงู ุงูุฐู ุชููููุงู ุนูุฏ ุงูุชุณุฌูู ูู Publisher. </font><font style="vertical-align: inherit;">ูุชู ุชุญุฏูุฏ ุนุฏุฏ ุงููุฌููุนุงุช ุญุณุจ ูููุฉ requestSize. </font><font style="vertical-align: inherit;">ููุง ูุฒูุฏ ุนุฏุฏ ุงูุนูุงุตุฑ ุงููุชููุนุฉ ุจูุฐู ุงููููุฉ.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุจุงูุชุงูู ุ ูุจุฏู ุงููุฎุทุท ุงูุนุงู ูููุนุงูุฌุฉ ุงููุงููุฉ ููุชูุฉ ุงูุจูุงูุงุช ุ ุงูุชู ุชู ุฅุทูุงููุง ุนูู ุงููููุฐ ุ ููุง ููู: </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/6m/bg/fu/6mbgfuuatqlimwnapnl3tlrzn8q.png"></div> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุดูู 8. ุชูุงุนู ุงูุฌูุงุช ุงููุงุนูุฉ ูุน ุงููุตุฏุฑ ูุงูููุฑุฑ ุงููุงุชุฌ.</font></font></i> <br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุงูุฎุชุงู: ูุฒุงูุง ูุนููุจ ูุฐุง ุงูุญู </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชูุซู ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ ููุฐุง ุงููุฎุทุท ูู ุฃูู ูุชูุญ ูู ุงูุนูู ูุน ููุงุฐุฌ ุงูุชุนูู ุงูุขูู ุงููููุฐุฉ ุจุงุณุชุฎุฏุงู ุฃู ูุณููุฉ ูุชุงุญุฉ. ูุชู ุชุญููู ุฐูู ุจุณุจุจ ุญูููุฉ ุฃู ุจุฑูุชูููู HTTP ูุณุชุฎุฏู ูููุตูู ุฅูู ุงููููุฐุฌ ุ ููู ูุณููุฉ ููุงุณูุฉ ููุงุชุตุงู ุจูู ุงูุชุทุจููุงุช. ููุชูุฌุฉ ูุฐูู ุ ูุง ูุฑุชุจุท ุชูููุฐ ุงููููุฐุฌ ุจูุงุฌูุชู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฒุฉ ุฃุฎุฑู - ูุชูุญ ูู ูุฐุง ุงููุฎุทุท ุชูููุฐ ุงูุชุญุฌูู ุงูุฃููู ูุฌููุน ุนูุงุตุฑู. ุงุนุชูุงุฏูุง ุนูู ุงูุฌุฒุก ุงูุฃูุซุฑ ุชุญููููุง ุ ูููููุง ุฅุถุงูุฉ ุขูุงุช ุฅูุง ุฅูู ูุฌููุนุฉ Hadoop ุ ุฃู ูุชุดุบูู ูุซููุงุช ุฅุถุงููุฉ ูููููุฐุฌ. ูุชูุฌุฉ ูุฐูู ุ ูุฐุง ุงููุธุงู ูุชุญูู ุงูุฃุฎุทุงุก ุ ูุฃูู ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู ูุน ุฃู ูู ุงูุขูุงุช ุ ูููููุง ุงุณุชุจุฏุงูู ุจุณูููุฉ. ูุชู ุชุญููู ุฐูู ุจุณุจุจ ุญูููุฉ ุฃู ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ุนูู hdfs ูุชู ูุณุฎูุง ุ ููุง ุชุนุชูุฏ ุฎุฏูุฉ ุงูุชุตููู ุนูู ุจุนุถ ุงูุญุงูุงุช ุงูุนุงูุฉ ุงููุงุจูุฉ ููุชุบููุฑ ุ ูุจุงูุชุงูู ุ ูููู ูุดุฑูุง ูู ุนุฏุฉ ุญุงูุงุช.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููุฑ ูุฐุง ุงููุฎุทุท ูุฑุตูุง ูุจูุฑุฉ ููุถุจุท ูุงูุชุญุณูู. ุนูู ุณุจูู ุงููุซุงู ุ ูุธุฑูุง ูุฃู akka-http ูุณุชุฎุฏู ูุฌููุนุฉ ูุงุญุฏุฉ ูู ุงูุงุชุตุงูุงุช ูู ุนูููุฉ ูุงุญุฏุฉ ุทูุงู ุฏูุฑุฉ ุญูุงุชูุง ุ ููู ุงูุณูู ุงูุชุญูู ูู ุนุฏุฏ ุงูุงุชุตุงูุงุช ุจุฎุฏูุฉ ุฎุงุฑุฌูุฉ. ุฃู ุฅุฐุง ุชู ุชูุฒูุน ุงููุชูุฉ ุนุจุฑ ุนุฏุฉ ูุฑุงูุฒ ุจูุงูุงุช ุ ููููููุง ุฑูุน ูุซูู ูููุฐุฌู ูู ูู ูุฑูุฒ ูู ูุฑุงูุฒ ุงูุจูุงูุงุช ูุชูููู ุนูููุงุช Apache Spark ุจุญูุซ ุชุดูุฑ ููุท ุฅูู ูุซูููุง ุ ูุจุงูุชุงูู ุงููุถุงุก ุนูู ุงูููุงููุงุช ุจูู ูุฑุงูุฒ ุงูุจูุงูุงุช.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฎูุฑูุง ุ ุจุงุณุชุฎุฏุงู ุงูุฅุนุฏุงุฏุงุช ุ ูุณูุญ ูู ูุฐุง ุงููุฎุทุท ุจุชุฌูุจ ุงูุชููู ุนู ุงูุนูู ุชูุงููุง ุชูุฑูุจูุง. ูู ุฎูุงู ุชุญุฏูุฏ ุญุฌู ุงููุฌููุนุฉ ุงููุฑุณูุฉ ููุชุตููู ุ ูุนุฏุฏ ูุซููุงุช ุฎุฏูุฉ ุงูุชุตููู ูุญุฌู ุชุฌูุน ุงุชุตุงู http ุ ูู ุงููููู ุชุญููู ุฃูุตู ุญูู ูููุฉ ุงูุญูุณุจุฉ ุณูุงุก ูู ุฌุงูุจ ุงูุฎุฏูุฉ ุฃู ูู ุฌุงูุจ ุงููุฌููุนุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุญุฏ ุงูุนููุจ ุงูุฑุฆูุณูุฉ ููุฐุง ุงููุฎุทุท ูู ุชุนููุฏู ุงููุณุจู ุงููุงุฌู ุนู ูุตู ุงูููููุงุช ูุงูุญุงุฌุฉ ุฅูู ุชูุธูู ุงูุชูุงุนู ุจูููุง. ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณูุชู ุงุณุชุฎุฏุงู ุฌุฒุก ูู ุงูุทุงูุฉ ุงูุญุงุณูุจูุฉ ูุถูุงู ุงูุงุชุตุงู ุ ููุง ูููู ุจุดูู ูุจูุฑ ูู ุงูููุงุกุฉ. ูุฏ ุชุญุฏุซ ุฃุฎุทุงุก ุงุชุตุงู ุฅุถุงููุฉ ุฃูุถูุง. ููุชูุฌุฉ ูุฐูู ุ ููุงู ุญุงุฌุฉ ูุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ ูุฒูุงุฏุฉ ูุนุงููุฉ ุงูุชูุงุนู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุณุชุจุนุงุฏ ุชูุงุนูุงุช ุงูุดุจูุฉ ุ ูููู ูููุฑุก ุงูุชูููุฑ ูู ูุดุฑ ูุซููุงุช ุงูุฎุฏูุฉ ุนูู ููุณ ุงูุฃุฌูุฒุฉ ูุซู ุงูุจูุงูุงุช. ูููู ุ ููุงุนุฏุฉ ุนุงูุฉ ุ ูููู ุนุฏุฏ ุงูุฃุฌูุฒุฉ ูู ูุฌููุนุฉ Hadoop ูุจูุฑูุง ุฌุฏูุง ุ ูุฐูู ุณูููู ูู ุบูุฑ ุงููุฑุจุญ ูุดุฑ ูุซูู ูููุฐุฌู ุนูู ูู ูููุง ุ ุฎุงุตุฉ ูู ุญุงูุฉ ุงูููุงุฐุฌ ุงููุจูุฑุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุงุนุฏุฉ ุนุงูุฉ ุ ุนูู ูุฌููุนุฉ Hadoop ุ ูุชู ุชูููุฐ ุงูุนุฏูุฏ ูู ุงูููุงู ูู ููุช ูุงุญุฏ ุชุชูุงูุณ ุนูู ููุงุฑุฏูุง ุ ูุจุงูุชุงูู ูุฅู ุฅุทูุงู ุฎุฏูุฉ ุฅุถุงููุฉ ุณูููู ูู ุงูุฃุฏุงุก ุงูุนุงู ูููุชูุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงุฎุชุตุงุฑ ุ ุฃูุฏ ุฃู ุฃุดูุฑ ุฅูู ุฃู ูุฐุง ุงูุญู ุชู ุชูููุฐู ุจูุฌุงุญ ูู ุดุฑูุชูุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CleverDATA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ุจูุถูู ุ ูููู ููุฑู ูุญููู ุงูุจูุงูุงุช ููุทูุฑู ุงูุชุทุจููุงุช ุงุณุชุฎุฏุงู ุฃู ูุณููุฉ ููุงุณุจุฉ ูุนูููู ุฏูู ุชูููุฏ ุงุฎุชูุงุฑ ุจุนุถูู ุงูุจุนุถ. ูู ุงููุงูุน ุ ุงูููุงู ุงููุญูุฏ ุงูุฐู ูุชุทูุจ ููุงูุดุฉ ูุชูุณูููุง ูุดุชุฑููุง ูู ุงููุงุฌูุฉ ุงูุชู ูููุฑูุง ูููุฐุฌ ุงูุชุนูู ุงูุขูู ุ ููููู ุญู ุฌููุน ุงููุดููุงุช ุงูุฃุฎุฑู ุฏุงุฎู ุฃุญุฏ ุงููุฑู. ูููุฐุง ุ ุชูููุช ุงููุฑู ูู ุงูุนูู ุจุดูู ูุณุชูู ุนู ุจุนุถูุง ุงูุจุนุถ ูู ุญู ุงููุดุงูู ุงููุดุชุฑูุฉ.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">,      .</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุทูุฑ ุฌุงูุง</font></font></a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุฏุณ ูุธู</font></font></a> </li></ul><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar413141/">https://habr.com/ru/post/ar413141/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar413129/index.html">25 ุฎุทุฃ ูุจุฑูุฌ ูุจุชุฏุฆ</a></li>
<li><a href="../ar413133/index.html">ุงููุถุงุฏุงุช ุงูุดุนุจูุฉ: ุชุฑููู ุงูุตูุญุงุช</a></li>
<li><a href="../ar413135/index.html">ุชุนููู ุงุฎุชุจุงุฑ ูุฑุงุฌุนุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ููุทูุฑู ุงูุชูุงุนู ุงููุจุชุฏุฆูู</a></li>
<li><a href="../ar413137/index.html">ุชุตููู ูููุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุนูู Apache Spark ุจุงุณุชุฎุฏุงู ููุงุฐุฌ ุงูุชุนูู ุงูุขูู ุงูุชุนุณูู</a></li>
<li><a href="../ar413139/index.html">ุงูุณูุงุฑุงุช ุงูููุฑุจุงุฆูุฉ: ุงูุซูุฑุฉ ูุงุฏูุฉ</a></li>
<li><a href="../ar413143/index.html">Bobby Urban Lite: ุญููุจุฉ ุงูุธูุฑ ุงูุญุถุฑูุฉ ุงูุฌุฏูุฏุฉ ูู XD Design</a></li>
<li><a href="../ar413145/index.html">ูุญูู ูุณุงุนุฏ ุงูุฃุนูุงู ุงูุชุฌุงุฑูุฉ ุนูู ูุณุจ ุงููุงู</a></li>
<li><a href="../ar413147/index.html">ูู ูู ุงููููู ุงุณุชุฎุฏุงู Tibero ุจุฏูุงู ูู Oracle. ููู ูู ุงูุถุฑูุฑู</a></li>
<li><a href="../ar413149/index.html">ูุณุชูุฏุน ุงูุจูุงูุงุช ุงูููุฒุนุฉ ูู ููููู ุจุญูุฑุฉ ุงูุจูุงูุงุช: ูู ุฃูู ูุจุฏุฃ</a></li>
<li><a href="../ar413151/index.html">ุงูุชุฑุญุช ููุงูุฉ ุงูุฃูู ุงููููู ูุนูุงุฑ ุงูุชุดููุฑ ูุฃุฌูุฒุฉ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุ ููู ISO ุฑูุถุชู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>