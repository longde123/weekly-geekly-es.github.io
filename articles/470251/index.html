<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö≠ üë∂ üë¥üèª C√≥mo hice una aplicaci√≥n de escritorio en Flutter (+ bonus) ü§òüèª ‚òπÔ∏è üåó</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, me lleg√≥ la noticia de que se lanz√≥ el pr√≥ximo lanzamiento de Flutter (1.9) , que promete varios beneficios, incluido el soporte tempra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo hice una aplicaci√≥n de escritorio en Flutter (+ bonus)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470251/"> Recientemente, me lleg√≥ la noticia de que se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lanz√≥</a> el pr√≥ximo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lanzamiento de Flutter (1.9)</a> , que promete varios beneficios, incluido el soporte temprano para aplicaciones web. <br><br>  En el trabajo, estoy desarrollando aplicaciones m√≥viles en React Native, pero miro a Flutter con curiosidad.  Para aquellos que no est√°n al tanto: en Flutter ya puede crear aplicaciones para Android e iOS, se est√° preparando el soporte para aplicaciones web para su lanzamiento, y tambi√©n hay planes para admitir el escritorio. <br><br>  Tal es "un anillo para gobernar todo". <br><br>  Despu√©s de pensar un par de d√≠as sobre qu√© tipo de aplicaci√≥n puede intentar hacer, decid√≠ elegir la tarea con un asterisco: ¬øqu√© necesitamos para estos caminos trillados?  ¬°P√°sate por el escritorio y supera heroicamente las dificultades!  Mirando hacia el futuro, dir√© que casi no surgieron dificultades. <br><br>  Under the cut: una historia sobre c√≥mo resolv√≠ las tareas habituales del programador React Native usando las herramientas Flutter, m√°s la impresi√≥n general de la tecnolog√≠a. <br><br><img src="https://habrastorage.org/webt/hx/cx/hs/hxcxhsjx7ycplrsm2nhgrq0k8xu.png"><br><a name="habracut"></a><br>  Pensando en las caracter√≠sticas de Flutter que me gustar√≠a "tocar", decid√≠ que en mi aplicaci√≥n deber√≠a estar: <br><br><ul><li>  solicitudes a la API remota; </li><li>  transiciones entre pantallas; </li><li>  Animaciones de transici√≥n </li><li>  gerente estatal - redux o algo similar. </li></ul><br>  No s√© c√≥mo hacer back-end, as√≠ que decid√≠ buscar una API abierta de terceros.  Como resultado, me decid√≠ por este recurso: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cursos CBR en XML y JSON, API</a> .  Bueno, aqu√≠ finalmente he decidido la funcionalidad de la aplicaci√≥n: habr√° dos pantallas, en la principal hay una lista de monedas al tipo de cambio CBR, cuando haces clic en un elemento de la lista, abrimos una pantalla con informaci√≥n detallada. <br><br><h4>  Preparaci√≥n </h4><br>  Dado que el comando <code>flutter create</code> a√∫n no sabe c√≥mo crear un proyecto para Windows / Linux (actualmente solo se admite Mac, use el indicador <code>--macos</code> para esto), debe usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> repositorio, donde hay un ejemplo preparado.  Clonamos el repositorio, tomamos la carpeta de <code>example</code> desde all√≠, si es necesario, cambia el nombre y continuamos trabajando en √©l. <br><br>  Dado que el soporte para plataformas de escritorio todav√≠a est√° en desarrollo, a√∫n debe realizar una serie de manipulaciones.  Para acceder a las funciones en desarrollo, ejecute en la terminal: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade</code> </pre> <br>  Adem√°s, debe decirle a Flutter que puede usar su plataforma: <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-linux-desktop</code> </pre> <br>  o <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-macos-desktop</code> </pre> <br>  o <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-windows-desktop</code> </pre> <br>  Si todo sali√≥ bien, entonces ejecutando el comando <code>flutter doctor</code> deber√≠a ver una salida similar: <br><br><img src="https://habrastorage.org/webt/g0/up/m0/g0upm0iqiijcj7yrwkrm6h-lwvy.png"><br><br>  Entonces, el escenario est√° listo, la audiencia en el pasillo, podemos comenzar. <br><br><h4>  Dise√±o </h4><br>  Lo primero que llama la atenci√≥n despu√©s de React Native es la falta de un lenguaje de marcado especial a la JSX.  Flutter te obliga a escribir tanto el marcado como la l√≥gica de negocios en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dart</a> .  Al principio, esto es molesto: el aspecto no tiene nada que ver, el c√≥digo parece engorroso, ¬°e incluso estos par√©ntesis est√°n al final del componente! <br><br>  Por ejemplo, tales: <br><br><img src="https://habrastorage.org/webt/ar/qm/iu/arqmiuoau_llzvwuutjszehkbbw.png"><br><br>  ¬°Y este no es el l√≠mite!  Vale la pena eliminar uno en el lugar equivocado y se le garantiza un pasatiempo agradable (no). <br><br>  Adem√°s, debido a las peculiaridades de los componentes de estilo en Flutter, para componentes grandes, la sangr√≠a desde el borde izquierdo del editor aumenta con bastante rapidez, y con ello el n√∫mero de par√©ntesis para cerrar. <br><br>  Esta caracter√≠stica es que en Flutter los estilos son los mismos componentes (para ser m√°s precisos: widgets). <br><br>  Si en React Native organizamos tres botones en una fila dentro de la <code>View</code> para que distribuyan uniformemente el espacio del contenedor, es suficiente para m√≠ especificar <code>flexDirection: 'row'</code> para la <code>View</code> en estilos y agregar <code>flex: 1</code> para los botones en los estilos, entonces Flutter tiene un componente separado <code>Row</code> para organizar elementos en una fila y una separada para "expandibilidad" de un elemento a todo el espacio disponible: <code>Expanded</code> . <br><br>  Como resultado, en lugar de <br><br><pre> <code class="javascript hljs">&lt;View style={{<span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>:<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-attr"><span class="hljs-attr">flexDirection</span></span>: <span class="hljs-string"><span class="hljs-string">'row'</span></span>}}&gt; &lt;Button title='A' style={{flex:1}}&gt; &lt;Button title='B' style={{flex:1}}&gt; &lt;Button title='C' style={{flex:1}}&gt; &lt;/View&gt;</code> </pre><br>  tenemos que escribir as√≠: <br><br><pre> <code class="java hljs">Container( height: <span class="hljs-number"><span class="hljs-number">100</span></span>, width: <span class="hljs-number"><span class="hljs-number">300</span></span>, child: Row( children: &lt;Widget&gt;[ Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'A'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'B'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'C'</span></span>), ), ), ], ), )</code> </pre> <br>  M√°s detallado, ¬øno? <br><br>  O, por ejemplo, desea agregar un marco con bordes redondeados a este contenedor.  En React Native, simplemente agregamos a los estilos: <br><br><pre> <code class="javascript hljs">borderRadius: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderWidth</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#ccc'</span></span></code> </pre> <br>  En Flutter, tenemos que agregar algo como esto a los argumentos del contenedor: <br><br><pre> <code class="java hljs">decoration: BoxDecoration( borderRadius: BorderRadius.all(Radius.circular(<span class="hljs-number"><span class="hljs-number">5</span></span>)), border: Border.all(width: <span class="hljs-number"><span class="hljs-number">1</span></span>, color: Color(<span class="hljs-number"><span class="hljs-number">0xffcccccc</span></span>)) ),</code> </pre> <br>  En general, al principio, mi marcado se convirti√≥ en enormes hojas de c√≥digo, en las que el diablo se romper√≠a la pierna.  Sin embargo, no todo es tan malo. <br><br>  Primero, los componentes grandes deben, por supuesto, desglosarse, colocarse en widgets separados o al menos en los m√©todos de su clase de widgets. <br><br>  En segundo lugar, el complemento Flutter en VS Code ayuda mucho: en la imagen anterior, los comentarios entre par√©ntesis est√°n firmados por el complemento en s√≠ (y son indelebles), lo que ayuda a no confundirse entre par√©ntesis.  Adem√°s de herramientas de formateo autom√°tico: despu√©s de media hora te acostumbras a presionar peri√≥dicamente <code>Ctrl+Shift+I</code> para formatear el c√≥digo. <br><br>  Adem√°s, la sintaxis del lenguaje Dart en la segunda edici√≥n se volvi√≥ mucho m√°s agradable, por lo que al final del d√≠a ya disfrutaba de usarlo.  Inusual?  Si  Pero no es desagradable. <br><br><h4>  Solicitudes API </h4><br>  En React Native, para obtener datos de alguna API, generalmente usamos el m√©todo <code>fetch</code> , que nos devuelve <code>Promise</code> . <br><br>  En Flutter, la situaci√≥n es similar.  Despu√©s de mirar los ejemplos en la documentaci√≥n, agregu√© el paquete http a <code>pubspec.yaml</code> (un an√°logo de <code>package.json</code> del mundo JS) y escrib√≠ algo como esto: <br><br><pre> <code class="java hljs">Future&lt;http.Response&gt; getAnything() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> http.get(URL); }</code> </pre> <br>  El objeto <code>Future</code> es muy similar en significado a Promise, por lo que todo es bastante transparente aqu√≠.  Bueno, para serializar / deserializar objetos json, puede usar el concepto de clases de modelo con m√©todos especiales de <code>fromJSON</code> / <code>toJSON</code> .  Puede leer m√°s sobre esto en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> . <br><br><h4>  Transici√≥n entre pantallas </h4><br>  A pesar de que estaba haciendo una aplicaci√≥n de escritorio, desde el punto de vista de Flutter no hay diferencia en qu√© plataforma est√° girando.  Bueno, es decir, en mi caso esto es as√≠, en general, no lo s√©.  De hecho, la ventana del sistema en la que se inicia la aplicaci√≥n flutter es la misma pantalla de un tel√©fono inteligente. <br><br>  La transici√≥n entre pantallas es bastante trivial: creamos una clase de widget de pantalla y luego usamos la clase est√°ndar <code>Navigator</code> . <br><br>  En el caso m√°s simple, podr√≠a verse as√≠: <br><br><pre> <code class="java hljs">RaisedButton( child: Text(<span class="hljs-string"><span class="hljs-string">'Go to Detail'</span></span>), onPressed: () { Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(MaterialPageRoute(builder: (context) =&gt; DetailScreen())); }, )</code> </pre> <br>  Si su aplicaci√≥n tiene varias pantallas, es m√°s razonable primero preparar un diccionario de rutas y luego usar el m√©todo <code>pushNamed</code> .  Un peque√±o ejemplo de la documentaci√≥n: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NavigationApp</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatelessWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// This widget is the root of your application. @override Widget build(BuildContext context) { return MaterialApp( ... routes: &lt;String, WidgetBuilder&gt;{ '/a': (BuildContext context) =&gt; usualNavscreen(), '/b': (BuildContext context) =&gt; drawerNavscreen(), } ... ); } } // AnyWidget ... onPressed: () { Navigator.of(context).pushNamed('/a'); }, ...</span></span></code> </pre><br>  Adem√°s, puede preparar una animaci√≥n especial para cambiar entre pantallas y escribir algo como esto: <br><br><pre> <code class="java hljs">Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(ScaleRoute(page: DetailScreen()));</code> </pre> <br>  Aqu√≠ <code>ScaleRoute</code> es una clase especial para crear animaciones de transici√≥n.  Buenos ejemplos de tales animaciones se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h4>  Gesti√≥n del estado </h4><br>  Ocurre que necesitamos tener acceso a algunos datos desde cualquier parte de nuestra aplicaci√≥n.  En React Native, <code>redux</code> usa a menudo (si no con mayor frecuencia) para estos fines. <br><br>  Para Flutter, hay un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio</a> que da ejemplos del uso de varias arquitecturas de aplicaciones: hay Redux, MVC y MVU, e incluso aquellas de las que no he o√≠do hablar antes. <br><br>  Habiendo rebuscado un poco en estos ejemplos, decid√≠ detenerme en <code>Provider</code> . <br><br>  En general, la idea es bastante simple: creamos una clase especial que <code>ChangeNotifier</code> clase <code>ChangeNotifier</code> , en la que almacenaremos nuestros datos, los actualizaremos utilizando los m√©todos de esta clase y los recogeremos de all√≠ si es necesario.  Consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> del paquete para m√°s detalles. <br><br>  Para hacer esto, agregue el paquete del <code>provider</code> a <code>pubspec.yaml</code> y prepare la clase Proveedor.  En mi caso, se ve as√≠: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/material.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:rates_app/models/rate.dart'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RateProvider</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChangeNotifier</span></span></span><span class="hljs-class"> </span></span>{ Rate currentrate; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCurrentRate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Rate rate)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentrate = rate; notifyListeners(); } }</code> </pre> <br>  Aqu√≠ <code>Rate</code> es mi clase de modelo de moneda (con los campos <code>name</code> , <code>code</code> , <code>value</code> , etc.), <code>currentrate</code> es el campo en el que se almacenar√° la moneda seleccionada, y <code>setCurrentRate</code> es el m√©todo por el cual se <code>currentrate</code> valor de la <code>currentrate</code> . <br><br>  Para adjuntar nuestro proveedor a la aplicaci√≥n, cambiamos el c√≥digo de clase de la aplicaci√≥n: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ChangeNotifierProvider( builder: (context) =&gt; RateProvider(), <span class="hljs-comment"><span class="hljs-comment">//   child: MaterialApp( ... ), home: HomeScreen(), ), ); }</span></span></code> </pre> <br>  Eso es todo, ahora si queremos guardar la moneda seleccionada, entonces escribimos algo como esto: <br><br><pre> <code class="java hljs">Provider.of&lt;RateProvider&gt;(context).setCurrentRate(rate);</code> </pre> <br>  Y si queremos obtener el valor almacenado, entonces esto: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rate = Provider.of&lt;RateProvider&gt;(context).currentrate;</code> </pre> <br>  Todo es bastante transparente y no hay repeticiones (a diferencia de Redux).  Por supuesto, quiz√°s para aplicaciones m√°s complejas todo saldr√° no tan bien, sino para aquellos como mi ejemplo, los vinos puros. <br><br><h4>  Construir aplicaci√≥n </h4><br>  En teor√≠a, el comando <code>flutter build &lt;platform&gt;</code> se usa para construir la aplicaci√≥n.  En la pr√°ctica, cuando <code>flutter build linux</code> comando <code>flutter build linux</code> , recib√≠ este mensaje: <br><br><img src="https://habrastorage.org/webt/cy/ai/px/cyaipxfgk9xrmgncqc9mylbz6j0.png"><br><br>  "No me doli√≥", pens√©, estaba horrorizado por el peso de la carpeta de <code>build</code> , 287,5 MB, y debido a la simplicidad de mi alma, elimin√© esta carpeta para siempre.  Al final result√≥ que, en vano. <br><br>  Despu√©s de eliminar el directorio de <code>build</code> , el proyecto dej√≥ de comenzar.  No pude restaurarlo, as√≠ que lo copi√© del ejemplo original.  No sirvi√≥ de nada: el coleccionista maldijo los archivos faltantes. <br><br>  Despu√©s de un poco de investigaci√≥n, result√≥ que hab√≠a un archivo <code>snapshot_blob.bin.d</code> en esta carpeta, en el que, aparentemente, se escribieron las rutas a todos los archivos utilizados en el proyecto.  Agregu√© los caminos faltantes y funcion√≥. <br><br>  Por lo tanto, en este momento Flutter no sabe c√≥mo preparar versiones de lanzamiento para el escritorio.  De todos modos, para Linux. <br><br>  En general, si cierra los ojos a este signo negativo, la aplicaci√≥n result√≥ como yo quer√≠a y se ve <br><br><div class="spoiler">  <b class="spoiler_title">entonces</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/79/e6/zz/79e6zzdw9kggfwkiyelfsmrokt0.gif"><br></div></div><br><h4>  Bono </h4><br>  Pasamos al bono prometido. <br><br>  Incluso en la etapa de redacci√≥n de la aplicaci√≥n, ten√≠a el deseo de comprobar lo dif√≠cil que ser√≠a portarlo a otras plataformas.  Comencemos con el tel√©fono celular. <br><br>  Seguramente hay una manera menos b√°rbara, pero decid√≠ que el camino m√°s corto es directo.  Por lo tanto, simplemente cre√© un nuevo proyecto de Flutter, transfer√≠ el archivo <code>pubspec.yaml</code> , los <code>assets</code> , las <code>fonts</code> y los directorios <code>lib</code> y le agregu√© la l√≠nea a <code>AndroidManifest.xml</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.INTERNET"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  La aplicaci√≥n comenz√≥ con media patada y obtuve esto <br><br><div class="spoiler">  <b class="spoiler_title">foto</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/3m/8p/r4/3m8pr4rwdjllpixpsjdla574kl8.jpeg"><br></div></div><br>  Al principio, tuve que jugar con la web.  No sab√≠a c√≥mo crear un proyecto web, as√≠ que utilic√© las instrucciones de Internet, que por alguna raz√≥n no funcionaron.  Ya quer√≠a escupir, pero encontr√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> manual. <br><br>  Como resultado, todo result√≥ ser lo m√°s simple posible: todo lo que se necesitaba era habilitar el soporte para aplicaciones web.  Exprimir del manual: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-web <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> &lt;into project directory&gt; flutter create . flutter run -d chrome</code> </pre> <br>  Luego transfir√≠ los archivos necesarios a este proyecto de la misma manera b√°rbara y recib√≠ tal <br><br><div class="spoiler">  <b class="spoiler_title">resultado</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ac/nt/gw/acntgwqqzvghgus9ll6thtbanbe.png"><br></div></div><br><h4>  Impresiones generales </h4><br>  Al principio, trabajar con Flutter era inusual, intent√© constantemente usar los enfoques habituales de React Native, y esto interfiri√≥.  Adem√°s, algo de redundancia del c√≥digo de dardos era un poco molesto. <br><br>  Despu√©s de tener un poco mi mano (y conos), comenc√© a ver las ventajas de Flutter sobre React Native.  Voy a enumerar algunos. <br><br>  <b>Idioma</b> .  Dart es un lenguaje completamente comprensible y agradable con una fuerte escritura est√°tica.  Despu√©s de JavaScript, fue como un soplo de aire fresco.  Dej√© de tener miedo de que mi c√≥digo se rompiera en tiempo de ejecuci√≥n y fue una sensaci√≥n agradable.  Alguien puede decir que hay Flow y TypeScript, pero no es eso: en nuestros proyectos usamos ambos, y siempre se rompe algo en alguna parte.  Cuando escribo en React Native, no puedo evitar sentir que mi c√≥digo est√° en accesorios de f√≥sforos que pueden romperse en cualquier momento.  Con Flutter, olvid√© este sentimiento, y si el precio es redundancia de c√≥digo, entonces estoy listo para pagarlo. <br><br>  <b>Plataforma</b> .  En React Native, utiliza componentes nativos y esto generalmente es bueno.  Pero debido a esto, a veces tiene que escribir c√≥digo espec√≠fico de la plataforma, as√≠ como detectar errores espec√≠ficos de cada plataforma.  Puede ser incre√≠blemente agotador.  Con Flutter, puede olvidar estos problemas como una pesadilla (aunque puede ser que en aplicaciones grandes las cosas no sean tan f√°ciles). <br><br>  <b>El medio ambiente</b>  Con el entorno en React Native, todo es triste.  Los complementos de vscode se caen constantemente, el depurador puede engullir 16 gigas de operativo y 70 gigas de intercambio, colgando el sistema (por experiencia personal) y el escenario de correcci√≥n de errores m√°s com√∫n: "eliminar node_modules, instalar paquetes nuevamente e intentar reiniciar varias veces".  Esto generalmente ayuda, ¬°pero bljad!  No es as√≠ como deber√≠a ser, no es as√≠. <br><br>  Adem√°s, tendr√° que ejecutar AndroidStudio y Xcode peri√≥dicamente, porque algunos se ponen de esta manera (para ser justos, con el lanzamiento de RN 0.60 esto mejor√≥). <br><br>  En este contexto, el complemento oficial de Flutter para vscode se ve muy bien.  Las sugerencias para el c√≥digo le permiten familiarizarse con la plataforma sin consultar la documentaci√≥n, el formateo autom√°tico resuelve el problema con el estilo de codificaci√≥n, el depurador normal, etc. <br>  En general, parece una herramienta m√°s madura. <br><br>  <b>Multiplataforma</b> .  React Native profesa el principio "Aprende una vez, escribe en todas partes": una vez que aprendes, puedes escribir para diferentes plataformas.  Es cierto que debajo de cada plataforma encontrar√°s problemas espec√≠ficos.  Pero tal vez esto sea solo una consecuencia de la inmadurez de React Native: en este momento, la √∫ltima versi√≥n estable es 0.61.  Quiz√°s con el lanzamiento de la versi√≥n 1.0, la mayor√≠a de estos problemas desaparecer√°n. <br><br>  El enfoque Flutter es m√°s parecido a Escribir una vez, compilar en todas partes.  E incluso si el escritorio no est√° listo para la producci√≥n en este momento, la web tambi√©n est√° en alfa, pero todo va a eso.  Y la capacidad de tener una √∫nica base de c√≥digo para todas las plataformas es un argumento fuerte. <br><br>  Por supuesto, Flutter tampoco carece de defectos, pero un poco de experiencia en su uso no me permite identificarlos.  Entonces, si desea una evaluaci√≥n m√°s objetiva, no dude en descontar el efecto de novedad. <br><br>  En general, debe tenerse en cuenta que Flutter dej√≥ sentimientos en su mayor√≠a positivos, aunque tiene espacio para crecer.  Y el pr√≥ximo proyecto estar√≠a m√°s dispuesto a comenzar con √©l, y no con React Native. <br><br>  El c√≥digo fuente del proyecto se puede encontrar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> . <br><br>  PD: Aprovecho esta oportunidad para felicitar a todos los involucrados en el pasado D√≠a del Maestro. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/470251/">https://habr.com/ru/post/470251/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../470235/index.html">Entrevista con Dmitry Simonov, creador del canal CTORECORDS: "La principal cualidad de techdir es el h√°bito de ganar"</a></li>
<li><a href="../470237/index.html">Literatura de fin de semana: lectura f√°cil para t√©cnicos</a></li>
<li><a href="../470239/index.html">ERP no desarrollado en producci√≥n: en cuidados intensivos o en una morgue?</a></li>
<li><a href="../470241/index.html">Historial de inicio: c√≥mo desarrollar una idea paso a paso, ingresar a un mercado inexistente y alcanzar la expansi√≥n internacional</a></li>
<li><a href="../470247/index.html">RESHI.RU: un robot resuelve y explica problemas de texto escolar en matem√°ticas</a></li>
<li><a href="../470255/index.html">Optimizaci√≥n de la cartera de bonos con ALGLIB</a></li>
<li><a href="../470257/index.html">Capa alrededor de ImmutableList en Java</a></li>
<li><a href="../470265/index.html">C ++ abreviatura hoja de trucos y m√°s. Parte 1: C ++</a></li>
<li><a href="../470267/index.html">Monitoreo de temperatura certificado</a></li>
<li><a href="../470269/index.html">ReactOS 0.4.12: Âçé‰∏∫ Ôºå ‰Ω† ËÆ§‰∏∫ Ëøô‰∏™ ÊÄé‰πà Ê†∑Ôºü</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>