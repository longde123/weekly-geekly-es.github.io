<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✍🏿 👩🏽‍🎨 👩🏿‍⚕️ Memperluas kemampuan jaringan dari relay yang dapat diprogram menggunakan WI-FI 🍞 🙋🏿 🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bagaimana semuanya dimulai 
 Semuanya dimulai dengan pengembangan algoritma untuk relai yang dapat diprogram PR200, dan seringkali diperlukan visualis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Memperluas kemampuan jaringan dari relay yang dapat diprogram menggunakan WI-FI</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424791/"><h2>  Bagaimana semuanya dimulai </h2><br>  Semuanya dimulai dengan pengembangan algoritma untuk relai yang dapat diprogram PR200, dan seringkali diperlukan visualisasi atau input informasi dari komputer, untuk ini perlu menggunakan panel operator atau sistem SCADA, tetapi ini tidak selalu nyaman, dan itu diperlukan untuk sistem sederhana.  Solusinya ditemukan dengan cepat, dan seiring waktu saya mencoba untuk meningkatkan dan memfasilitasi pekerjaan saya ke arah ini sebanyak mungkin, apa yang datang dari itu terus dibaca. <br>  Kami akan berbicara tentang kartu jaringan WI-FI dan kemampuannya. <br><br><img src="https://habrastorage.org/webt/z7/0j/nn/z70jnnmuwed2qwcdyhbqjhni0-w.jpeg" alt="gambar"><br><a name="habracut"></a><br>  Karena papan ini digunakan untuk men-debug berbagai proyek, antarmuka interaksi terus-menerus dimodifikasi untuk pengaturan yang lebih mudah dan cepat.  Modifikasi pertama adalah RS-485 ke TCP converter dengan output ke WEB, dengan firmware siap pakai yang dikenal di komunitas ESP8266.  Lebih dari 2 tahun telah berlalu sejak itu, dan butuh arsip untuk menganalisis proses yang memakan waktu, dan karena saya ingin menggabungkan semua ini dalam satu perangkat tanpa peralatan tambahan, diputuskan untuk mengintegrasikan dukungan microSD, yang sangat memudahkan analisis proses dengan kemampuan untuk dengan cepat mengakses arsip.  Modifikasi kedua papan memiliki slot, dengan kemampuan untuk mengeluarkan kartu microSD untuk menyimpan file yang direkam di komputer.  Menurut saya itu tidak terlalu nyaman, dan sebuah versi muncul dengan kemampuan untuk mengunduh file melalui WI-FI.  Terkadang unduhan tidak selesai dan operasi unduhan yang berulang diperlukan, tetapi mengingat bahwa saat ini peralatan tetap beroperasi dan pengarsipan juga dapat berfungsi, saya pikir ini bukan masalah yang sangat besar.  Versi yang juga diuji dengan chip memori 16 mB, bukan kartu microSD.  Pengunduhan lebih cepat, tetapi tidak ada cara untuk menyimpan banyak file, rekaman berurutan sampai semua memori penuh. <br><br><h2>  Tujuan dan fitur papan antarmuka </h2><br>  Papan dirancang untuk memperluas akses ke variabel internal dari logika relai diprogram PR200, dan menyediakan akses ke variabel baca dan tulis. <br><br>  Berkat antarmuka WI-FI nirkabel, akses ke perangkat disediakan tanpa perlu menghubungkan peralatan tambahan.  Pertama-tama, solusinya difokuskan pada proyek otomatisasi rumah sederhana di tempat-tempat dengan jaringan WI-FI.  Ini termasuk solusi untuk otomatisasi pencahayaan baik di dalam maupun di luar ruangan, kontrol dan pemantauan stasiun pompa, rumah kaca, dll. Karena adanya server WEB internal di papan, tidak perlu membeli peralatan tambahan untuk kasus-kasus tersebut ketika akses ke sistem diperlukan tidak sering.  Output input dasar dilakukan menggunakan smartphone / tablet atau PC yang terletak di jaringan yang sama. <br><br>  Papan antarmuka dapat beroperasi dalam berbagai mode.  Saat terhubung ke perute dengan akses Internet, ia memungkinkan Anda memonitor keadaan variabel dari jarak jauh dalam logika PR200, serta mengontrol algoritma melalui variabel jaringan dalam format yang didukung oleh PR200 dalam mode Slave. <br><br>  Komunikasi dengan algoritma yang diprogram dalam perangkat dilakukan melalui variabel jaringan, sedangkan papan antarmuka dapat bertindak sebagai Master atau Slave.  Kecepatan dan pengaturan standar antarmuka jaringan PR200 didukung.  Pertukaran melalui protokol TCP Modbus didukung, untuk ini, area memori 100 sel dialokasikan, yang dapat diakses baik dari antarmuka WEB dan melalui protokol Modbus RTU dari sisi PR200. <br><br>  Pilihan mode kartu jaringan mirip dengan pilihan ketika bekerja dengan panel grafis, bekerja dalam mode Master memungkinkan Anda untuk lebih fleksibel mengontrol pertukaran variabel, untuk register, nilai yang perlu diperoleh lebih sering daripada yang lain, dimungkinkan untuk mengatur periode polling lebih sedikit.  Perintah berikut tersedia untuk protokol Modbus: <br><br>  03 (0x03) Baca Memegang Mendaftar. <br><br>  04 (0x04) Baca Input Register Baca <br><br>  06 (0x06) Catatan Daftar Tunggal Preset <br><br>  16 (0x10) Perekaman Beberapa Rekaman Yang Telah Diatur <br><br>  Variabel yang diterima dari relai tersedia untuk menulis ke file (arsip), yang terletak pada kartu micro SD, rekaman dalam format teks.  Setelah mengunduh, Anda dapat melihatnya di komputer menggunakan editor teks sederhana.  Nilai yang direkam dalam file dapat ditampilkan pada grafik historis.  Menggunakan opsi untuk penskalaan dan memilih periode tertentu pada timeline, serta individu yang menunjukkan / menyembunyikan garis grafik, analisis data arsip dilakukan. <br><br>  File yang dibuat selama operasi pengarsipan tetap pada kartu microSD dan dapat diunduh ke komputer, hanya satu file yang tersedia setiap saat, dapat merekam data arsip, membaca informasi untuk membuat grafik historis atau membaca informasi untuk menyimpan ke PC . <br><br>  Untuk pengarsipan, variabel tersedia dari ruang alamat papan jaringan, yang diperlukan untuk menulis data yang diterima melalui Modbus RTU dari PR200 atau Modbus TCP dari perangkat lain yang mendukung protokol Modbus TCP dalam mode Master. <br><br>  Papan antarmuka dapat dikonfigurasi baik dalam mode titik akses (Access Point), dan dalam mode klien - workstation (Station), dan mungkin dalam kedua mode secara bersamaan.  Paling sering, titik akses memiliki akses Internet dan bertindak sebagai jembatan antara perangkat dan jaringan. <br><br>  Koneksi nirkabel dapat dilindungi kata sandi, juga memungkinkan untuk menyembunyikan titik akses. <br><br>  Variabel yang diperoleh melalui antarmuka RS485 dari PR200 dapat dianalisis dengan menghadirkannya dalam bentuk grafis, dalam mode ini nilai-nilai akan ditampilkan secara real time dengan periode ~ 1 detik. <br><br>  10 variabel tersedia untuk memplot dalam representasi integer, floating point atau 16/32 bit.  Jumlah, jenis, alamat variabel dan format output diambil dari pengaturan pengarsipan. <br><br>  Untuk pengoperasian yang cepat dan mudah, diputuskan untuk mengulangi bentuk kartu jaringan "asli" dari perangkat. <br><br><img src="https://habrastorage.org/webt/qv/vg/4j/qvvg4jbi6kbwq0i700vlhi9ftne.jpeg" alt="gambar"><br>  <i>Papan terpasang di perangkat.</i> <br><br><div class="spoiler">  <b class="spoiler_title">Kartu jaringan dapat dipasang di slot pertama atau kedua</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/j_/qy/pq/j_qypqdkzcf7j3a9jujeeqq5fza.jpeg" alt="gambar"><br></div></div><br>  Papan memiliki dua sakelar, satu berfungsi untuk mengatur ulang papan jaringan (tidak memengaruhi program pada PR200), sakelar kedua dapat diprogram untuk mengaktifkan pengarsipan (dipilih melalui pengaturan dari antarmuka WEB board).  Ada juga 2 informasi LED: <br><br>  1-biru menyala sebentar selama pertukaran data melalui antarmuka RS-485 dengan PR200 <br>  2-merah sebentar menyala pada saat menulis data ke kartu micro SD, dan terus menyala jika tidak ada kartu atau tidak mungkin untuk membaca data pada kartu. <br><br>  Berikut ini adalah menu utama saat bekerja dalam berbagai mode: <br><br><img src="https://habrastorage.org/webt/to/ny/-9/tony-98orqrhf1luvbjsjgunzum.png" alt="gambar"><br>  <i>Pengaturan jaringan dasar untuk menghubungkan melalui WEB.</i> <br><br><img src="https://habrastorage.org/webt/mh/cm/f8/mhcmf8an5ct55x2o3xaoaatw6ps.png" alt="gambar"><br>  <i>Pengaturan koneksi ke antarmuka jaringan PR200 dan pengaturan koneksi melalui Modbus TCP via WIFI</i> <br><br><img src="https://habrastorage.org/webt/_6/xm/cz/_6xmcznmcjb3mtvepazjeqwh75c.png" alt="gambar"><br>  <i>Peta register internal yang umum untuk Web, Modbus RTU dan Modbus TCP</i> <br><br><div class="spoiler">  <b class="spoiler_title">Tes halaman WEB untuk mengontrol dan memantau status PR200 I / O dengan modul ekspansi PRM-1 yang terhubung.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/nd/tu/fk/ndtufkepntezf8hbwxjdaxozxdi.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/qp/td/yx/qptdyx2xpp1ttfzucdh6iprrac4.png" alt="gambar"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Halaman untuk input / output nilai dari PR200 dan transmisi data ke output kontrol perangkat.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/sw/c8/yb/swc8ybmb1radp2jcf027mi_be0s.png" alt="gambar"></div></div><br>  Saat menghubungkan papan jaringan ke router dengan akses Internet dan penerusan porta, kerja jarak jauh dengan papan melalui browser dimungkinkan. <br><br><h2>  Bagaimana cara kerjanya </h2><br>  Berikut ini adalah tangkapan layar saat menjalankan PR200 pada proyek nyata, dengan pengarsipan data.  Sebuah proyek dimuat ke dalam PR200, yang membaca nilai-nilai dari 4 saluran analog yang terhubung dengan sensor NTC dan mengubah nilai-nilai ini menjadi suhu, menggunakan antarmuka jaringan kedua yang dikonfigurasi dalam mode Master, PR200 mengumpulkan modul MV110-8A di mana 2 DTC Pt1000 terhubung.  Dengan demikian, data dikumpulkan pada 4 nilai resistansi dari input analog PR200, 4 nilai suhu yang diperoleh dengan menggunakan makro NTC, serta 2 nilai suhu yang diterima dari modul MV110-8A melalui RS-485.  Semua 10 register dalam format float pada antarmuka jaringan pertama yang dikonfigurasi dalam mode Master dibaca untuk ditulis ke arsip dan visualisasi WEB. <br><br><img src="https://habrastorage.org/webt/ov/kb/ue/ovkbuegmxtn4pkqkubbbkmfnxxs.png" alt="gambar"><br>  <i>Menu untuk bekerja dengan kartu SD, ketika pengarsipan tidak aktif, menampilkan daftar file pada kartu, ketika pengarsipan aktif, menampilkan log rekaman pada kartu.</i> <i><br></i> <br><br><div class="spoiler">  <b class="spoiler_title">Menu manajemen arsip.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/mx/jq/7y/mxjq7y7yqfezmgaflitikmg2qrg.png" alt="gambar"></div></div><br><img src="https://habrastorage.org/webt/w4/45/1j/w4451jdprj0bwuvdt6ytzfem27c.png" alt="gambar"><br>  Cap waktu untuk pengarsipan dibaca dari register jam real-time PR200, dalam contoh ini, jam tidak disinkronkan dengan waktu nyata. <br><br><div class="spoiler">  <b class="spoiler_title">File arsip diunduh melalui WI-FI dengan micro SD dipasang di papan tulis dan dibuka dengan editor teks.</b>  <b class="spoiler_title">Siap untuk grafik.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/vd/r8/zo/vdr8zoxuhegu_i0nu1cnqkepln4.png" alt="gambar"></div></div><br><div class="spoiler">  <b class="spoiler_title">Halaman dibuka di browser untuk membuat grafik dari file yang diunduh.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/9z/8z/s6/9z8zs6cxqt_ogdniz-qwc6evtqq.png" alt="gambar"></div></div><br><img src="https://habrastorage.org/webt/ml/84/2m/ml842mxpwvm1xnth6o54qhbbntq.png" alt="gambar"><br>  <i>Jadwal yang dihasilkan sesuai dengan data dari file arsip.</i> <br><br><img src="https://habrastorage.org/webt/vt/of/t3/vtoft3tx0zwvwgzzz3gzituvhhk.png" alt="gambar"><br>  <i>Mengelola visibilitas bagan melalui legenda</i> <br><br><img src="https://habrastorage.org/webt/gm/wz/9f/gmwz9fhbq3b8d7nqirlqsqaka2u.png" alt="gambar"><br>  <i>Perincian bagian yang diperlukan pada grafik.</i> <br><br><h2>  Daftarkan Akses melalui Modbus TCP (WIFI) </h2><br>  Jika kemampuan WEB tidak cukup untuk membangun visualisasi, maka menggunakan akses melalui Modbus TCP, Anda dapat mengatur komunikasi dengan sistem SCADA dan dengan cepat membuat visualisasi yang diperlukan dari blok yang sudah jadi.  Dengan menggunakan berbagai monitor jaringan, dimungkinkan untuk memantau status register internal kartu jaringan dan register internal PR200.  Contoh jajak pendapat menggunakan perangkat lunak Modbus Poll. <br><br><img src="https://habrastorage.org/webt/jn/vl/es/jnvlesf0u-zjwdw7ykpea0vlgn0.png" alt="gambar"><br>  <i>Koneksi melalui protokol ModBus TCP menggunakan perangkat lunak Modbus Poll.</i> <br><br><img src="https://habrastorage.org/webt/vj/h1/nv/vjh1nvjwlnxmo8mxpzfmdf8d6n8.png" alt="gambar"><br>  <i>Membaca register, dan mempresentasikannya dalam berbagai format.</i> <br><br><h2>  Kesimpulan </h2><br>  Setelah memasang kartu jaringan di perangkat, fitur dan alat tambahan muncul saat bekerja dengan relai yang dapat diprogram PR200.  Berbagai skenario penggunaan dimungkinkan baik secara individu maupun dalam mode gabungan. <br><br>  Salah satu contoh, merekam acara yang diarsipkan dalam PR200, saat ini berbagai makro telah dibuat untuk merekam acara yang diarsipkan di perangkat, tetapi mereka mengambil banyak sumber daya di perangkat dan memiliki kemampuan terbatas baik untuk menghasilkan informasi dan untuk kedalaman pengarsipan, menggunakan drive eksternal ada kemungkinan lebih fleksibel untuk mengkonfigurasi dan merekam acara yang diperlukan.  Untuk memudahkan analisis, mode untuk menulis register dalam mode bit telah ditambahkan, sehingga angka 16 atau 32 bit yang didekomposisi menjadi bit masuk ke dalam arsip.  Berbagai mode pengarsipan mulai didukung, melalui sakelar di papan, antarmuka WEB, register ModBus.  Dengan menggunakan register ModBus, perangkat itu sendiri menentukan momen perekaman dengan menuliskan angka selain "0" ke sel, pengaturan terlampaui, kami menulis untuk mendaftar "1" dan log ditulis hingga nilainya ditulis untuk mendaftar "0", mirip dengan operasi sinyal input.  Secara terpisah, Anda dapat memilih catatan dengan periode tertentu dari berbagai data tentang suhu, tekanan, kelembaban untuk analisis selanjutnya dalam representasi grafis.  Untuk mengonversi data ke tampilan grafis, halaman web dibangun ke dalam perangkat. <br><br>  Skenario kedua adalah remote control, atau memantau keadaan variabel internal, mengubah mode operasi.  Opsi ini dapat dibagi menjadi lokal, dalam jaringan internal, dan melalui Internet. <br><br>  Opsi yang tersisa adalah bantu, debugging, menampilkan variabel yang diminati pada visualisasi saat ini, melihat variabel jaringan, dll. <br><br>  Sangat menarik untuk mendengar pendapat masyarakat tentang topik ini, yang dengan cara apa memecahkan masalah yang sama? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id424791/">https://habr.com/ru/post/id424791/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id424777/index.html">Menggunakan Konsul untuk Skala Layanan Stateful</a></li>
<li><a href="../id424779/index.html">SPA multi-halaman dalam Python</a></li>
<li><a href="../id424781/index.html">Mengajar dan menguji jaringan saraf pada PyTorch menggunakan Ignite</a></li>
<li><a href="../id424787/index.html">Wawancara dengan Aaron Patterson, Pembicara Konferensi RubyRusia 2018</a></li>
<li><a href="../id424789/index.html">Bagaimana cara menyebarkan aplikasi Ruby on Rails dengan HAProxy Ingress, unicorn / puma, dan soket web</a></li>
<li><a href="../id424793/index.html">Cara mencetak motor listrik</a></li>
<li><a href="../id424795/index.html">Seberapa besar drone bertenaga surya?</a></li>
<li><a href="../id424799/index.html">Analisis dua arah untuk widget iframe afiliasi menggunakan Google Pengelola Tag</a></li>
<li><a href="../id424801/index.html">Zeppelin OS - langkah lain menuju kontrak pintar yang aman</a></li>
<li><a href="../id424803/index.html">Peretas Taiwan hendak meretas halaman Facebook Mark Zuckerberg secara online, tetapi kemudian mengabaikan ancamannya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>