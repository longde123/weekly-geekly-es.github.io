<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò£ ü•ô üßîüèΩ Estudamos MITRE ATT & CK. Matrizes m√≥veis: acesso ao dispositivo. Parte 2 üôèüèª üîï üëÅ‚Äçüó®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Persist√™ncia e escalonamento de privil√©gios 
 Links para todas as partes: 
 Parte 1. Acesso Inicial a um Dispositivo M√≥vel (Acesso Inicial) 
 Parte 2....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Estudamos MITRE ATT & CK. Matrizes m√≥veis: acesso ao dispositivo. Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454714/"><h2>  Persist√™ncia e escalonamento de privil√©gios </h2><br>  <b>Links para todas as partes:</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1. Acesso Inicial a um Dispositivo M√≥vel (Acesso Inicial)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2. Persist√™ncia e Escalada</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3. Obtendo acesso √† credencial (acesso √† credencial)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 4. Evas√£o de Defesa</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 5. Descoberta e movimento lateral</a> <br><br>  As t√©cnicas de fixa√ß√£o descrevem como obter direitos de acesso, alterar a configura√ß√£o de um dispositivo m√≥vel e outras a√ß√µes, como resultado do qual um invasor garante que sua presen√ßa no sistema seja constante.  Freq√ºentemente, um advers√°rio √© for√ßado a manter o acesso a um dispositivo m√≥vel, apesar da pausa do SO, como resultado de uma reinicializa√ß√£o ou redefini√ß√£o do sistema para as configura√ß√µes de f√°brica. <br><br>  Tendo conquistado uma posi√ß√£o no sistema, o advers√°rio tem a oportunidade de "efetuar login" em um dispositivo m√≥vel, mas provavelmente com direitos muito limitados.  No entanto, aproveitando as fraquezas da defesa, um advers√°rio pode obter os privil√©gios mais altos necess√°rios para atingir o objetivo do ataque. <br><a name="habracut"></a><br>  <i>O autor n√£o √© respons√°vel pelas poss√≠veis consequ√™ncias da aplica√ß√£o das informa√ß√µes contidas no artigo e tamb√©m se desculpa por poss√≠veis imprecis√µes feitas em algumas formula√ß√µes e termos.</i>  <i>As informa√ß√µes publicadas s√£o uma recontagem gratuita do conte√∫do de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ATT @ CK Mobile Matrices: Device Access</a> .</i> <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Encaderna√ß√£o (persist√™ncia)</a> </h3><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Abuso de acesso de administrador de dispositivos para impedir a remo√ß√£o</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><br></a> </h3><br>  <i>Plataforma:</i> Android <br>  <i>Descri√ß√£o: um</i> aplicativo mal-intencionado pode solicitar ao usu√°rio direitos de administrador do dispositivo e, se forem obtidos privil√©gios, executar manipula√ß√µes que dificultam a exclus√£o dele. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> <br>  <b>Pr√©-valida√ß√£o de aplicativo</b> <br>  Normalmente, os aplicativos raramente usam acesso administrativo.  No ambiente corporativo, a triagem preliminar dos aplicativos deve identificar esses programas com o objetivo de um estudo mais aprofundado.  Maggi e Zanero descreveram a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">abordagem da realiza√ß√£o de an√°lises est√°ticas de aplicativos para identificar aplicativos de ransomware</a> que abusam do acesso de administrador de dispositivos.  Em suma, a detec√ß√£o de aplicativos de ransomware consiste na detec√ß√£o precoce dos seguintes indicadores no arquivo apk: texto amea√ßador, um c√≥digo associado ao bloqueio do uso do dispositivo (di√°logos n√£o delet√°veis, proibi√ß√£o de bot√µes de navega√ß√£o, preenchimento da tela com uma janela etc.), criptografia de dados ou abuso da API do administrador. <br><br>  <b>Cuidado ao usar o acesso de administrador do dispositivo</b> <br>  Os usu√°rios de dispositivos m√≥veis devem ser avisados ‚Äã‚Äãde que n√£o devem aceitar solicita√ß√µes para conceder privil√©gios de administrador aos aplicativos.  Al√©m disso, o aplicativo deve ser verificado quanto ao uso de direitos de administrador antes da instala√ß√£o, e os aplicativos necess√°rios que solicitam acesso de administrador ao dispositivo devem ser cuidadosamente estudados e permitidos o uso somente se houver um bom motivo.  Os usu√°rios do Android podem visualizar a lista de aplicativos que possuem direitos de administrador nas configura√ß√µes do dispositivo. <br><br>  <b>Usando as vers√µes mais recentes do sistema operacional</b> <br>  As vers√µes mais recentes do sistema operacional, como regra, cont√™m n√£o apenas patches, mas tamb√©m uma arquitetura de seguran√ßa aprimorada que fornece resist√™ncia a vulnerabilidades anteriormente n√£o detectadas.  Por exemplo, o Android 7 introduziu altera√ß√µes para evitar a possibilidade de abuso de direitos de administrador. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Inicializa√ß√£o autom√°tica do aplicativo no dispositivo de inicializa√ß√£o (Inicializa√ß√£o autom√°tica do aplicativo na inicializa√ß√£o do dispositivo)</a> </h3><br>  <i>Plataforma:</i> Android <br>  <i>Descri√ß√£o:</i> o aplicativo Android pode ouvir a transmiss√£o de mensagens de transmiss√£o BOOT_COMPLITED, o que garante sua ativa√ß√£o sempre que o dispositivo √© iniciado, sem esperar que o usu√°rio o inicie manualmente.  BOOT_COMPLITED √© um evento de transmiss√£o no Android, notificando os aplicativos sobre o final do processo de inicializa√ß√£o do SO.  Qualquer aplicativo equipado com um receptor BroadcastRecevier especial pode receber mensagens de difus√£o e executar a√ß√µes com base nelas.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Uma an√°lise de</a> 1260 aplicativos maliciosos para Android, publicada em 2012, mostrou que 83,3% dos malwares ouviam BOOT_COMPLITED. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> em um ambiente corporativo, √© poss√≠vel organizar a verifica√ß√£o de aplicativos para identificar programas que anunciam BroadcastReceiver, que cont√©m um filtro de inten√ß√£o por BOOT_COMPLITED.  No entanto, dado o grande aumento no n√∫mero de aplicativos com esse comportamento, esse m√©todo √© extremamente impratic√°vel. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modifique o kernel do sistema operacional ou a parti√ß√£o de inicializa√ß√£o (Modificar o kernel do sistema operacional ou a parti√ß√£o de inicializa√ß√£o)</a> </h3><br>  <i>Plataforma:</i> Android, iOS <br>  <i>Descri√ß√£o: como</i> uma oportunidade para aumentar privil√©gios, um advers√°rio pode tentar colocar c√≥digo malicioso no kernel do sistema operacional ou nos componentes da parti√ß√£o de inicializa√ß√£o, onde o c√≥digo n√£o pode ser detectado, ser√° salvo ap√≥s a reinicializa√ß√£o do dispositivo e n√£o poder√° ser exclu√≠do pelo usu√°rio.  Em alguns casos (por exemplo, ao usar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Samsung Knox</a> ), um ataque pode ser detectado, mas levar√° √† transfer√™ncia do dispositivo para o modo de funcionalidade limitada. <br><br>  Muitos dispositivos Android oferecem a capacidade de desbloquear o carregador de inicializa√ß√£o para fins de desenvolvimento, mas essa funcionalidade oferece a capacidade de atualizar maliciosamente o kernel ou modificar o c√≥digo da parti√ß√£o de inicializa√ß√£o.  Se o carregador de inicializa√ß√£o n√£o estiver desbloqueado, o potencial de explora√ß√£o de vulnerabilidades permanece para atualizar o c√≥digo do kernel. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> instale atualiza√ß√µes de seguran√ßa, implemente sistemas de certifica√ß√£o remota (Android SafetyNet, Samsung KNOX TIMA) e bloqueie o acesso a recursos corporativos para dispositivos n√£o certificados.  Organize uma verifica√ß√£o do status de bloqueio do carregador de inicializa√ß√£o em dispositivos que oferecem a capacidade de desbloquear o carregador de inicializa√ß√£o (permitindo que qualquer c√≥digo do SO seja gravado no dispositivo). <br><br>  A API do Android SafetyNet Attestation pode ser usada para identificar e responder remotamente a dispositivos comprometidos.  O Samsung KNOX fornece a capacidade de validar remotamente os dispositivos Samsung Android.  Os dispositivos Samsung KNOX incluem um "fus√≠vel de bit de garantia Knox n√£o revers√≠vel" que funcionar√° se um kernel n√£o-KNOX estiver carregado no dispositivo.  Quando acionado, os servi√ßos corporativos de cont√™iner KNOX n√£o estar√£o dispon√≠veis no dispositivo.  Conforme descrito no Guia de seguran√ßa do iOS, os dispositivos iOS n√£o podem inicializar ou permitir a ativa√ß√£o do dispositivo se forem detectadas altera√ß√µes n√£o autorizadas.  Muitos aplicativos corporativos realizam suas pr√≥prias verifica√ß√µes para detectar e responder a dispositivos comprometidos.  Tais verifica√ß√µes n√£o s√£o um meio confi√°vel, mas podem detectar os principais sinais de comprometimento. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modificar parti√ß√£o do sistema</a> </h3><br>  <i>Plataforma:</i> Android, iOS <br>  <i>Descri√ß√£o:</i> se o advers√°rio puder aumentar os privil√©gios, ele poder√° us√°-los para colocar c√≥digo malicioso na parti√ß√£o do sistema do dispositivo, onde ser√° salvo ap√≥s a reinicializa√ß√£o do sistema operacional e n√£o ser√° facilmente acess√≠vel para remo√ß√£o pelo usu√°rio.  Muitos dispositivos Android permitem desbloquear o gerenciador de inicializa√ß√£o para fins de desenvolvimento.  Esse recurso tamb√©m pode ser usado por um advers√°rio para modificar uma parti√ß√£o do sistema. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> dispositivos Android com suporte a Inicializa√ß√£o verificada realizam verifica√ß√£o criptogr√°fica da integridade da parti√ß√£o do sistema.  A API Android SafetyNet pode ser usada para identificar dispositivos comprometidos.  O Samsung KNOX tamb√©m oferece a capacidade de controlar remotamente os dispositivos suportados.  Os dispositivos IOS n√£o inicializam ou n√£o permitem a ativa√ß√£o de um dispositivo no qual altera√ß√µes n√£o autorizadas s√£o detectadas. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modifica√ß√£o do TEE (Modificar ambiente de execu√ß√£o confi√°vel)</a> </h3><br>  <i>Plataforma:</i> Android <br>  <i>Descri√ß√£o:</i> com os privil√©gios apropriados, um invasor pode tentar colocar c√≥digo malicioso em um tempo de execu√ß√£o confi√°vel (TEE) de um dispositivo ou outro tempo de execu√ß√£o isolado semelhante, onde o c√≥digo n√£o √© detect√°vel, ele ser√° salvo ap√≥s a reinicializa√ß√£o do dispositivo e n√£o poder√° ser exclu√≠do pelo usu√°rio.  A execu√ß√£o de c√≥digo no TEE fornecer√° ao advers√°rio a capacidade de controlar ou falsificar a opera√ß√£o do dispositivo. <br><br>  <i>Dicas de seguran√ßa: Os</i> dispositivos devem executar verifica√ß√µes de integridade no c√≥digo executado no TEE no momento da inicializa√ß√£o.  O iOS n√£o inicializar√° se o c√≥digo executado no Secure Enclave falhar na verifica√ß√£o da assinatura digital. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modificar c√≥digo execut√°vel em cache</a> </h3><br>  <i>Plataforma:</i> Android <br>  <i>Descri√ß√£o:</i> para melhorar o desempenho, o Android Runtime (ART) compila o bytecode (classes.dex) no c√≥digo da m√°quina durante a instala√ß√£o do aplicativo.  Se um invasor aumentar privil√©gios, ele poder√° modificar esse c√≥digo em cache.  Como o c√≥digo foi originalmente compilado no dispositivo, o controle de integridade n√£o √© aplicado a ele, diferente do c√≥digo da parti√ß√£o do sistema. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> use as vers√µes mais recentes do sistema operacional m√≥vel e a instala√ß√£o obrigat√≥ria de patches de seguran√ßa. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Escalada de privil√©gios</a> </h3><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Explorar Explora√ß√£o de Vulnerabilidade no SO</a> </h3><br>  <i>Plataforma:</i> Android, iOS <br>  <i>Descri√ß√£o:</i> aplicativos mal <i>-</i> intencionados podem explorar as vulnerabilidades n√£o corrigidas do sistema operacional m√≥vel para obter privil√©gios avan√ßados. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> verifique o aplicativo em busca de vulnerabilidades conhecidas.  Instale atualiza√ß√µes de seguran√ßa.  Usando as vers√µes mais recentes do sistema operacional. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Explorar a explora√ß√£o da vulnerabilidade do TEE</a> </h3><br>  <i>Plataforma:</i> Android <br>  <i>Descri√ß√£o:</i> aplicativos mal <i>-</i> intencionados ou outros vetores de ataque podem ser usados ‚Äã‚Äãpara explorar vulnerabilidades no c√≥digo executado em um Trusted Execution Environment (TEE).  O advers√°rio pode obter os privil√©gios que o TEE possui, incluindo a capacidade de acessar chaves criptogr√°ficas ou outros dados confidenciais.  Para atacar o TEE, um advers√°rio pode precisar primeiro de privil√©gios elevados do SO.  Caso contr√°rio, os privil√©gios de TEE podem ser usados ‚Äã‚Äãpara explorar as vulnerabilidades do SO. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> verifique o aplicativo em busca de vulnerabilidades conhecidas.  Instale atualiza√ß√µes de seguran√ßa.  Usando as vers√µes mais recentes do sistema operacional. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt454714/">https://habr.com/ru/post/pt454714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt454702/index.html">Zabbix: monitoramento LLD de cart√µes SIM Yeastar TG</a></li>
<li><a href="../pt454704/index.html">Para a quest√£o dos helic√≥pteros ou como passei o fim de semana</a></li>
<li><a href="../pt454706/index.html">Introduzido pela Polaris para manter saud√°veis ‚Äã‚Äãos clusters Kubernetes</a></li>
<li><a href="../pt454708/index.html">Os cosmonautas precisam de um travesseiro?</a></li>
<li><a href="../pt454712/index.html">WWDC 2019: Apresenta√ß√£o do Key Robot Keynote</a></li>
<li><a href="../pt454716/index.html">Os funcion√°rios n√£o querem um novo software - ocasionalmente ou dobram sua linha?</a></li>
<li><a href="../pt454720/index.html">Como reviver a documenta√ß√£o?</a></li>
<li><a href="../pt454728/index.html">Acesso √† Internet aberto: a tecnologia LUWRAIN ajuda os usu√°rios cegos</a></li>
<li><a href="../pt454730/index.html">Encontro do Allure Server: grava√ß√µes em v√≠deo de relat√≥rios</a></li>
<li><a href="../pt454732/index.html">5 t√©cnicas robustas de prioriza√ß√£o para equipes de TI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>