<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§úüèº üìÉ üï° Questions et r√©ponses sur JavaScript ü§∞üèª üëø üí™üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, SmartSpate a d√©cid√© de collecter des questions sur JavaScript et d'y r√©pondre. Le mat√©riel, dont nous publions la traduction, contient un p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Questions et r√©ponses sur JavaScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/436454/">  R√©cemment, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SmartSpate a</a> d√©cid√© de collecter des questions sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JavaScript</a> et d'y r√©pondre.  Le mat√©riel, dont nous publions la traduction, contient un peu plus de deux douzaines de questions sur JavaScript et leurs r√©ponses.  La gamme de sujets trait√©s ici est assez large.  En particulier, il s'agit des fonctionnalit√©s du langage, des probl√®mes rencontr√©s par les programmeurs lors de l'√©criture de code JS, du travail dans le navigateur et dans Node.js. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/d8e/a96/0ab/d8ea960ab0540026291d5d0f5cf83712.png"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Question num√©ro 1.</font>  <font color="#3AC1EF">H√©ritage de prototype</font> </h2><br>  Je me suis habitu√© aux cours ¬´classiques¬ª, mais j'ai d√©cid√© d'apprendre JavaScript.  J'ai un probl√®me pour comprendre le mod√®le prototype.  Si possible, expliquez, sous forme de mod√®les, la possibilit√© de cr√©er des ¬´classes¬ª en JavaScript, parlez-nous des m√©thodes et propri√©t√©s ferm√©es et ouvertes des classes.  Je comprends que beaucoup de choses ont d√©j√† √©t√© √©crites √† ce sujet et qu'en JavaScript, les m√©thodes et les propri√©t√©s des objets sont, par d√©faut, accessibles au public, mais j'aimerais bien comprendre tout cela.  Comment l'h√©ritage de prototype fonctionne-t-il en JavaScript? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  L'h√©ritage classique n'est pas sans rappeler la fa√ßon dont les gens h√©ritent des g√®nes de leurs anc√™tres.  Les gens ont des capacit√©s de base communes, comme marcher et parler.  De plus, chaque personne a des particularit√©s.  Les gens ne peuvent pas changer ce qu'on peut appeler leur ¬´classe¬ª, mais ils peuvent changer leurs propres ¬´propri√©t√©s¬ª dans certaines limites.  Dans le m√™me temps, les grands-parents, les m√®res et les p√®res ne peuvent pas influencer les g√®nes des enfants ou des petits-enfants au cours de leur vie.  Donc, tout est arrang√© sur Terre, mais imaginons une autre plan√®te sur laquelle les m√©canismes d'h√©ritage fonctionnent d'une mani√®re sp√©ciale.  Disons que certains organismes capables de mutations y utilisent les m√©canismes de ¬´transmission t√©l√©pathique¬ª.  Cela s'exprime dans le fait qu'ils peuvent modifier les informations g√©n√©tiques de leurs propres descendants au cours de leur vie. <br><br>  Prenons l'exemple de l'h√©ritage sur cette √©trange plan√®te.  L'objet P√®re h√©rite des g√®nes de l'objet Grand-p√®re et l'objet Fils h√©rite des informations g√©n√©tiques du p√®re.  Chaque habitant de cette plan√®te peut librement muter et changer les g√®nes de ses descendants.  Par exemple, chez "Grand-p√®re", la peau a une couleur verte.  Ce signe est h√©rit√© du ¬´P√®re¬ª et du ¬´Fils¬ª.  Soudain, "Grand-p√®re" d√©cide qu'il est fatigu√© d'√™tre vert.  Maintenant, il veut √™tre bleu et change la couleur de sa peau (en termes de JS - change le prototype de sa classe), passant "t√©l√©pathiquement" cette mutation au "P√®re" et au "Fils".  Apr√®s cela, le ¬´p√®re¬ª, croyant que le ¬´grand-p√®re¬ª avait surv√©cu √† l'esprit, d√©cide de changer ses g√®nes pour qu'il redevienne vert (c'est-√†-dire qu'il change son propre prototype).  Ces changements sont "t√©l√©pathiquement" transmis au "Fils".  En cons√©quence, le ¬´P√®re¬ª et le ¬´Fils¬ª ont √† nouveau la peau verte.  Dans le m√™me temps, "Grand-p√®re" est toujours bleu.  Maintenant, peu importe ce qu'il fait avec sa couleur, cela n'affectera personne d'autre.  Et tout cela est d√ª au fait que le "P√®re" a explicitement d√©fini la couleur de sa peau dans son "prototype", et le "Fils" h√©rite de cette couleur.  Puis le "Fils" pense de cette fa√ßon: "Je vais devenir noir.  Et que mes descendants h√©ritent de la couleur de mon p√®re. ¬ª  Pour ce faire, il modifie sa propre propri√©t√© (et non la propri√©t√© de son prototype) de telle mani√®re que sa propri√©t√© affecterait sa couleur, mais n'affecterait pas ses descendants.  Nous exprimons tout cela sous forme de code: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Grandfather = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}; <span class="hljs-comment"><span class="hljs-comment">//  Grandfather Grandfather.prototype.color = 'green'; var Father = function () {}; //  Father Father.prototype = new Grandfather (); //  - ,        var Son = function () {}; //  Son Son.prototype = new Father (); // Son   Father var u = new Grandfather (); //   Grandfather var f = new Father (); //   Father var s = new Son (); //   Son //     console.log ([u.color, f.color, s.color]); // ["green", "green", "green"] //  Grandfather        Grandfather.prototype.color = 'blue'; console.log ([u.color, f.color, s.color]); // ["blue", "blue", "blue"] //  Father      -   ,     Father.prototype.color = 'green'; //      : // Grandfather.prototype.color = 'green'; console.log ([u.color, f.color, s.color]); // ["blue", "green", "green"] // ,        Grandfather     color,      Grandfather.prototype.color = 'blue'; console.log ([u.color, f.color, s.color]); // ["blue", "green", "green"] //  Son,  ,       Grandfather,    s.color = 'black'; //        console.log ([u.color, f.color, s.color]); // ["blue", "green", "black"] var SonsSon = function () {}; //  SonsSon -   Son SonsSon.prototype = new Son (); //  var ss = new SonsSon (); //   SonsSon //         console.log ([u.color, f.color, s.color, ss.color]); // ["blue", "green", "black", "green"]</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Question num√©ro 2.</font>  <font color="#3AC1EF">Cr√©er des objets</font> </h2><br>  Si vous cr√©ez de nouvelles instances d'objets √† l'aide du <code>new</code> mot cl√©, comment pouvez-vous vous prot√©ger contre les erreurs?  Voici comment je travaille habituellement: <br><br><ol><li>  Je construis toujours des fonctions constructeurs pour qu'elles commencent par une majuscule. </li><li>  Je v√©rifie l'exactitude de l'op√©ration en utilisant la construction <code>this instanceof Function_Name</code> (j'essaie de ne pas utiliser la construction du type <code>this instanceof arguments.callee</code> pour des raisons de performances). </li><li>  Cette approche est similaire √† la pr√©c√©dente, mais la comparaison est faite avec <code>window</code> , car je n'aime pas coder en dur les noms des entit√©s et je n'ai pas besoin d'√©crire du code pour des environnements autres que le navigateur. </li></ol><br>  Quel est le mod√®le le plus pratique pour cr√©er des objets? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Il est pr√©f√©rable, √† la fois sur le plan id√©ologique et sur la base de la familiarit√© de cette m√©thode, de cr√©er des objets √† l'aide du <code>new</code> mot cl√©.  Dans ce cas, les fonctions constructeurs doivent recevoir des noms commen√ßant par une majuscule. <br><br>  Je pr√©f√®re m'en tenir aux r√®gles et ne pas effectuer <code>this</code> v√©rifications suppl√©mentaires sur les constructeurs.  Si le constructeur est appel√© sans <code>new</code> et que le travail commence dans la port√©e globale, cela peut √™tre compar√© √† ¬´l'auto-tromperie¬ª.  Dans le m√™me temps, je ne recommande en aucun cas de g√©rer les situations dans les concepteurs o√π elles sont appel√©es sans le <code>new</code> mot cl√©.  Par exemple, cela peut ressembler √† ceci: si le constructeur est appel√© sans <code>new</code> , alors, de toute fa√ßon, un nouvel objet est cr√©√© et retourn√©.  Cette approche est id√©ologiquement incorrecte et conduit √† des erreurs. <br>  Voici un exemple de travail avec un constructeur. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Obj = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.pew = <span class="hljs-number"><span class="hljs-number">100</span></span>; }; <span class="hljs-comment"><span class="hljs-comment">//  let o = new Obj(); o.pew++; console.log(o.pew); //101 // .   Obj (); // TypeError: this is undefined</span></span></code> </pre> <br>  Il vaut mieux ne pas utiliser le <code>new</code> mot-cl√© pour les m√©thodes d'usine et pour les cas o√π il n'y a pas besoin de constructeur, quand il sera plus pratique de cr√©er un objet en utilisant un objet litt√©ral.  Supposons que le code constructeur indiqu√© dans l'exemple suivant soit explicitement redondant: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    . var Obj = function () {    if (! (this instanceof Obj)) {        return new Obj ();    }    this.pew = 100; };</span></span></code> </pre> <br>  Si, m√™me pour cr√©er un petit objet, vous avez toujours besoin d'un constructeur, il vaut mieux le faire: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Obj = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{    <span class="hljs-string"><span class="hljs-string">"use strict"</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.pew = <span class="hljs-number"><span class="hljs-number">100</span></span>; };</code> </pre> <br>  Ici, comme indiqu√© ci-dessus, du fait que le constructeur fonctionne en mode strict, une erreur se produit lors de son appel sans <code>new</code> . <br><br><h2>  <font color="#3AC1EF">Question num√©ro 3.</font>  <font color="#3AC1EF">Interception des clics de souris</font> </h2><br>  Comment, en utilisant JavaScript, savoir sur quel bouton de la souris on clique? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Un clic sur les boutons de la souris g√©n√®re des <code>mousedown</code> souris et de <code>mouseup</code> .  Dans ce cas, l'√©v√©nement <code>click</code> est g√©n√©r√© uniquement par le bouton gauche de la souris.  Dans le gestionnaire d'√©v√©nements, vous devez v√©rifier le code situ√© dans la propri√©t√© <code>event.button</code> afin de savoir quel bouton est enfonc√© (0 - gauche, 1 - milieu, 2 - droite).  Cependant, dans IE, tout semble un peu diff√©rent.  Prenons un exemple: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> button = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById (<span class="hljs-string"><span class="hljs-string">'button'</span></span>),              <span class="hljs-comment"><span class="hljs-comment">// 0 1 2    buttonMap = ['Left', 'Middle', 'Right'],    handler = function (event) {        event = event || window.event;        alert (buttonMap [event.button] + 'id:' + event.button);    }; if (button.addEventListener) {     button.addEventListener ('mousedown', handler, false); } else {     // IE 0 1 2 3 4     buttonMap = ['???', 'Left', 'Right', '???', 'Middle'];     button.attachEvent ('onmousedown', handler); }</span></span></code> </pre> <br>  La biblioth√®que jQuery prend en compte cette fonctionnalit√© IE, donc lorsque vous l'utilisez dans n'importe quel navigateur, v√©rifiez simplement la valeur de la propri√©t√© <code>event.which</code> au lieu de <code>event.button</code> avec <code>event.button</code> : <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'button'</span></span>).mousedown(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{   alert([<span class="hljs-string"><span class="hljs-string">'Left'</span></span>, <span class="hljs-string"><span class="hljs-string">'Middle'</span></span>, <span class="hljs-string"><span class="hljs-string">'Right'</span></span>][event.which]); });</code> </pre> <br><h2>  <font color="#3AC1EF">Question num√©ro 4.</font>  <font color="#3AC1EF">Interception de frappes sur les touches du clavier</font> </h2><br>  Est-il possible d'intercepter, au moyen de JavaScript, en appuyant sur les touches fl√©ch√©es (en particulier, en appuyant sur les touches haut et bas), en s'assurant qu'apr√®s avoir cliqu√© dessus, le navigateur ne fasse pas d√©filer la page?  Si cela est possible, quelles sont les caract√©ristiques de sa mise en ≈ìuvre dans diff√©rents navigateurs?  Supposons qu'une page s'affiche sur une page qui ne tient pas enti√®rement √† l'√©cran.  Le d√©placement dans les cellules de ce tableau doit √™tre organis√© √† l'aide des touches fl√©ch√©es et il est n√©cessaire que le navigateur ne fasse pas d√©filer la page lorsque vous cliquez sur ces touches. <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Pour impl√©menter quelque chose comme √ßa, tout d'abord, vous devez d√©sactiver la r√©ponse syst√®me standard aux actions de contr√¥le.  Par exemple, les touches fl√©ch√©es et la molette de la souris font d√©filer la page, un clic droit sur une page fait appara√Ætre un menu contextuel, lorsque vous cliquez sur le bouton <code>submit</code> , la fonction <code>form.submit()</code> est <code>form.submit()</code> , lorsque vous cliquez sur le champ de saisie, elle obtient le focus d'entr√©e, lorsque vous cliquez sur le lien, le navigateur se charge la page √† laquelle il m√®ne. <br><br>  Cela peut se faire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de diff√©rentes mani√®res</a> .  Par exemple, comme ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">"keydown"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-comment"><span class="hljs-comment">//  -   if([37, 38, 39, 40].indexOf(e.keyCode) &gt; -1) {       e.preventDefault();   } }, false);</span></span></code> </pre> <br>  La page qui suit ne r√©pondra normalement pas aux pressions des touches fl√©ch√©es. <br>  Une chose importante √† noter ici.  La m√©thode <code>preventDefault()</code> avant l'ex√©cution de l'action par d√©faut.  Par exemple, si vous cliquez sur un champ pour l'emp√™cher d'obtenir le focus d'entr√©e, vous devez suspendre le gestionnaire appropri√© sur un √©v√©nement qui se trouve dans la cha√Æne d'√©v√©nements avant l'action par d√©faut.  Dans notre cas, il s'agit d'un √©v√©nement de <code>mousedown</code> : <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'input'</span></span>).bind (<span class="hljs-string"><span class="hljs-string">'mousedown'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{   event.preventDefault();   <span class="hljs-comment"><span class="hljs-comment">//    return false; });</span></span></code> </pre> <br>  Lorsque vous cliquez sur le champ de saisie, les √©v√©nements suivants se produisent - dans l'ordre dans lequel ils sont affich√©s ici: <br><br><ol><li> <code>mousedown</code> </li> <li>  <code>focus</code> (avant cela, un autre objet qui perd le focus d√©clenchera un √©v√©nement de <code>blur</code> ) </li><li> <code>mouseup</code> </li> <li> <code>click</code> </li> </ol><br>  Si vous essayez d'emp√™cher l'√©l√©ment d'obtenir le focus d'entr√©e, l'utilisation de gestionnaires d'√©v√©nements pour cela en commen√ßant par le gestionnaire d'√©v√©nements <code>focus</code> ne nous aidera pas. <br><br><h2>  <font color="#3AC1EF">Question num√©ro 5.</font>  <font color="#3AC1EF">Arr√™ter l'animation GIF et la touche ESC</font> </h2><br>  Comment g√©rer le probl√®me de l'arr√™t de l'animation GIF lorsque vous appuyez sur la touche ESC? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Ici, vous pouvez utiliser la m√™me approche que nous avons consid√©r√©e ci-dessus.  Dans certains navigateurs, appuyer sur la touche ESC arr√™te l'animation GIF et le chargement de la page.  C'est leur comportement standard, et pour les emp√™cher de se comporter de cette fa√ßon, la m√©thode d'√©v√©nement <code>preventDefault()</code> nous est utile, comme pr√©c√©demment.  Le code de la touche ESC est 27. <br><br><h2>  <font color="#3AC1EF">Question num√©ro 6.</font>  <font color="#3AC1EF">Parenth√®ses dans IIFE</font> </h2><br>  Comment la construction √† deux parenth√®ses est-elle utilis√©e lors de la d√©claration d'une expression de fonction imm√©diatement invoqu√©e (IIFE)? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Les crochets dans cette situation permettent √† l'analyseur de comprendre qu'il y a une fonction devant eux qui doit √™tre ex√©cut√©e.  Mais il doit √©galement comprendre ce que sont ces crochets - l'op√©rateur de regroupement, ou une construction indiquant la n√©cessit√© d'appeler la fonction.  Par exemple, si nous utilisons deux crochets comme indiqu√© ci-dessous, nous <code>SyntaxError</code> une erreur <code>SyntaxError</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  }()</span></span></code> </pre> <br>  Cela est d√ª au fait que la fonction n'a pas de nom (vous devez sp√©cifier leurs noms dans les d√©clarations de fonction). <br><br>  Essayons de r√©√©crire ce code, en donnant un nom √† la fonction: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  }()</span></span></code> </pre> <br>  Maintenant que la fonction a un nom, cette construction devrait th√©oriquement avoir l'air tout √† fait normale du point de vue du syst√®me.  Mais l'erreur ne dispara√Æt pas, bien qu'elle concerne maintenant l'op√©rateur de regroupement, √† l'int√©rieur duquel il n'y a pas d'expression.  Notez que dans ce cas, l'instruction de regroupement est suivie par l'op√©rateur de regroupement et non par une s√©quence de crochets qui indique au syst√®me que la fonction qui la pr√©c√®de doit √™tre appel√©e. <br><br>  IIFE est souvent con√ßu comme suit: <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-comment"><span class="hljs-comment">//  })()</span></span></code> </pre> <br>  Mais il existe d'autres fa√ßons, dont l'essence est d'indiquer d'une mani√®re ou d'une autre √† l'analyseur qu'avant c'est juste une expression fonctionnelle qui doit √™tre ex√©cut√©e: <br><br><pre> <code class="javascript hljs">!<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  }(); +function () { //  }(); [function() { //  }()]; var a = function () { //  }();</span></span></code> </pre> <br>  IIFE est largement utilis√© dans la programmation JavaScript.  Par exemple, cette construction est utilis√©e dans jQuery.  Avec son aide, vous pouvez cr√©er des fermetures.  En fait, nous parlons du fait que, en utilisant IIFE, le programmeur peut ex√©cuter du code dans la port√©e locale.  Cela aide √† prot√©ger la port√©e mondiale de la pollution et permet d'optimiser l'acc√®s aux variables globales.  Ces conceptions sont bien r√©duites. <br><br><h2>  <font color="#3AC1EF">Question num√©ro 7.</font>  <font color="#3AC1EF">Passer le code en r√©ponse aux demandes</font> </h2><br>  Le serveur, en cours d'interaction AJAX avec le client, dans le corps de la r√©ponse, envoie au client une cha√Æne d' <code>alert ('Boom !!!');</code>  .  Le client accepte la r√©ponse et ex√©cute ce code √† l'aide de la fonction <code>eval()</code> .  Comment √ßa s'appelle?  Apr√®s tout, ce qui est contenu dans la r√©ponse du serveur n'est ni JSON, ni XML, ni HTML.  Que pouvez-vous dire sur l'ex√©cution sur le client du code qui vient du serveur sous la forme du corps de la r√©ponse √† une certaine requ√™te? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  En fait, il n'y a pas de nom sp√©cial pour un tel sch√©ma d'interaction client-serveur.  Et c'est un sch√©ma d'interaction syst√®me qui est fortement d√©conseill√©.  C'est aussi mauvais que de stocker du code PHP dans une base de donn√©es, puis de l'ex√©cuter √† l'aide des m√©thodes de langage appropri√©es.  M√™me si nous ne tenons pas compte de consid√©rations id√©ologiques, nous pouvons dire qu'une telle architecture est extr√™mement rigide, donc, si le projet o√π elle est utilis√©e, il faudra, au fur et √† mesure de son √©volution, changer quelque chose, ce ne sera pas facile.  Nous voyons ici un exemple d'architecture syst√®me m√©diocre lorsque les donn√©es sont m√©lang√©es avec du code et des √©l√©ments d'interface.  Afin de changer quelque chose dans un tel syst√®me, vous devez d'abord comprendre les subtilit√©s de son architecture complexe, puis, apr√®s avoir effectu√© les modifications, "confondre" √† nouveau tout.  Je ne parle pas de r√©utilisation de code. <br><br>  Pour simplifier la prise en charge du code, vous devez vous efforcer d'assurer la plus grande s√©paration possible des parties du syst√®me et de r√©duire le nombre d'interd√©pendances de ces parties.  Afin d'assurer une faible connectivit√© des parties du syst√®me, c'est-√†-dire de s'assurer qu'un fragment de l'application peut en √™tre extrait ou, avec la moindre complexit√©, remplac√© par un autre, vous pouvez utiliser des m√©canismes d'√©v√©nements ou des solutions architecturales sp√©ciales, telles que MVC. <br><br><h2>  <font color="#3AC1EF">Question num√©ro 8.</font>  <font color="#3AC1EF">Effectuer des op√©rations lourdes dans le thread principal</font> </h2><br>  Comment organiser l'ex√©cution de certaines commandes gourmandes en ressources en JavaScript et ne pas ¬´suspendre¬ª l'int√©gralit√© du script? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  JavaScript est un langage monothread.  Le code des pages Web est ex√©cut√© dans le m√™me thread et les transformations de l'arborescence DOM sont effectu√©es.  Il y a aussi des minuteries.  Chaque fois que vous effectuez des op√©rations consommatrices de ressources (cycles, appels √† des fonctions "lourdes"), cela conduit √† un ralentissement de l'interface utilisateur voire √† son blocage complet.  Si les op√©rations effectu√©es n'ont pas une charge particuli√®rement importante sur le syst√®me, leur impact sur l'interface sera si insignifiant que les utilisateurs ne le remarqueront tout simplement pas.  Afin de faire de l'informatique lourde en dehors du thread principal, le concept de web travailleurs a √©t√© introduit en JavaScript. <br><br>  Si l'utilisation de travailleurs n'est pas possible, vous devez optimiser les cycles et les fonctions "lourdes".  Dans le livre ¬´JavaScript.  Optimisation des performances ¬ªNicholas Zakas dit que l'utilisateur ne remarquera rien si le flux de l'interface utilisateur est bloqu√© pendant 100 ms ou moins. <br><br>  De cette id√©e, nous pouvons conclure que les calculs gourmands en ressources peuvent √™tre divis√©s en fragments, dont la mise en ≈ìuvre prend un maximum de 100 ms, apr√®s quoi le thread principal doit √™tre lib√©r√©. <br><br>  Voici un exemple de code du livre ci-dessus: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">timedProcessArray</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">items, process, callback</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> todo = items.concat();   <span class="hljs-comment"><span class="hljs-comment">//    setTimeout(function () {       var start = +new Date();       do {           process(todo.shift());       } while (todo.length &gt; 0 &amp;&amp; (+new Date() - start &lt; 50));       if (todo.length &gt; 0){           setTimeout(arguments.callee, 25);       } else {           callback(items);       }   }, 25); } function saveDocument(id) {   var tasks = [openDocument, writeText, closeDocument, updateUI];   timedProcessArray(tasks, [id], function(){       alert("Save completed!");   }); }</span></span></code> </pre> <br>  La fonction <code>timedProcessArray()</code> bloque le thread principal pendant 25 ms, ex√©cute une s√©quence d'actions, puis la lib√®re pendant 25 ms, apr√®s quoi ce processus est r√©p√©t√©. <br><br><h2>  <font color="#3AC1EF">Question num√©ro 9.</font>  <font color="#3AC1EF">√Ä propos du redimensionnement de la fen√™tre du navigateur</font> </h2><br>  Puis-je savoir que l'utilisateur a fini de redimensionner la fen√™tre du navigateur? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Il n'y a aucun √©v√©nement sp√©cial qui vous permet de le savoir.  Mais vous pouvez savoir si l'utilisateur redimensionne la fen√™tre √† l'aide de l'√©v√©nement <code>onresize</code> .  Cette m√©thode n'est cependant pas tr√®s pr√©cise. <br><br>  Voici un projet de code pour r√©soudre ce probl√®me. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> time = <span class="hljs-number"><span class="hljs-number">0</span></span>,   timerId,   TIME_ADMISSION = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 0.1  function onresizeend () {   console.log('onresizeend'); }; function resizeWatcher () {   if (+new Date - time &gt;= TIME_ADMISSION) {       onresizeend();       if (timerId) {           window.clearInterval(timerId);           timerId = null;       }   } }; $(window).resize(function () {   if (!timerId) {       timerId = window.setInterval(resizeWatcher, 25);   }   time = +new Date; });</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Question num√©ro 10.</font>  <font color="#3AC1EF">Ouverture de nouvelles fen√™tres et de nouveaux onglets du navigateur</font> </h2><br>  Comment, √† l'aide de la m√©thode <code>window.open()</code> , ouvrir une nouvelle fen√™tre de navigateur, et non un nouvel onglet? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Le comportement exact de la m√©thode <code>window.open()</code> d√©pend du navigateur.  Opera ouvre toujours de nouveaux onglets (bien qu'ils ressemblent √† des fen√™tres), Safari ouvre toujours des fen√™tres (bien que ce comportement puisse √™tre modifi√©).  Le comportement de Chrome, Firefox et Internet Explorer peut √™tre contr√¥l√©. <br><br>  Donc, si un param√®tre suppl√©mentaire (position de la fen√™tre <code>window.open()</code> pass√© √† la m√©thode <code>window.open()</code> , une nouvelle fen√™tre sera ouverte: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.open(<span class="hljs-string"><span class="hljs-string">'http://www.google.com'</span></span>, <span class="hljs-string"><span class="hljs-string">'_blank'</span></span>, <span class="hljs-string"><span class="hljs-string">'toolbar=0,location=0,menubar=0'</span></span>);</code> </pre> <br>  Si seul un lien est transmis √† cette m√©thode, un nouvel onglet de navigateur sera ouvert: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.open(<span class="hljs-string"><span class="hljs-string">'http://www.google.com'</span></span>);</code> </pre> <br>  Vous devez souvent ouvrir un nouvel onglet de navigateur.  Il peut y avoir des probl√®mes avec cela dans le navigateur Safari.  Par d√©faut (cela d√©pend des param√®tres), le navigateur, lorsque <code>window.open()</code> est appel√©, ouvre une nouvelle fen√™tre.  Mais si vous cliquez sur le lien, tout en appuyant sur les touches <code>Ctrl + Shift/Meta + Shift</code> , un nouvel onglet s'ouvrira (quels que soient les param√®tres).  Dans l'exemple suivant, nous simulerons l'√©v√©nement de <code>click</code> qui est d√©clench√© lorsque les <code>Ctrl + Shift/Meta + Shift</code> sont enfonc√©es: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">safariOpenWindowInNewTab</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">href</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> event = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createEvent (<span class="hljs-string"><span class="hljs-string">'MouseEvents'</span></span>),        mac = (navigator.userAgent.indexOf (<span class="hljs-string"><span class="hljs-string">'Macintosh'</span></span>)&gt; = <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  Ctrl + Shift + LeftClick / Meta + Shift + LeftClick ()    //       event.initMouseEvent (        / * type * / "click",        / * canBubble * / true        / * cancelable * / true,        / * view * / window,        / * detail * / 0,        / * screenX, screenY, clientX, clientY * / 0, 0, 0, 0,        / * ctrlKey * /! mac,        / * altKey * / false,        / * shiftKey * / true        / * metaKey * / mac,        / * button * / 0,        / * relatedTarget * / null    ); //     ,   ,         $ ('&lt;a/&gt;', {'href': href, 'target': '_blank'}) [0] .dispatchEvent (event); }</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Question n ¬∞ 11.</font>  <font color="#3AC1EF">Copie en profondeur d'objets</font> </h2><br>  Comment organiser efficacement la copie profonde d'objets? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Si l'objet dont vous souhaitez cr√©er la copie (appelons-le <code>oldObject</code> ) ne change pas, il sera plus efficace de le faire via son prototype (cela se fait tr√®s rapidement): <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">o</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}   F.prototype = o;   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> F(); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newObject = object(oldObject);</code> </pre> <br>  Si vous devez vraiment effectuer l'op√©ration de clonage d'un objet, alors le moyen le plus rapide sera r√©cursivement, en optimisant ce processus, parcourez ses propri√©t√©s.  Il s'agit peut-√™tre de l'algorithme le plus rapide pour cr√©er des copies compl√®tes d'objets: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cloner = {   <span class="hljs-attr"><span class="hljs-attr">_clone</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_clone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">obj</span></span></span><span class="hljs-function">) </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>) {           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> out = [];           <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, len = obj.length; i &lt; len; i++) {               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value = obj[i];               out[i] = (value !== <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> value === <span class="hljs-string"><span class="hljs-string">"object"</span></span>) ? _clone(value) : value;           }       } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> out = {};           <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> obj) {               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj.hasOwnProperty(key)) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value = obj[key];                   out[key] = (value !== <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> value === <span class="hljs-string"><span class="hljs-string">"object"</span></span>) ? _clone(value) : value;               }           }       }       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> out;   }, <span class="hljs-attr"><span class="hljs-attr">clone</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">it</span></span></span><span class="hljs-function">) </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._clone({       <span class="hljs-attr"><span class="hljs-attr">it</span></span>: it       }).it;   } }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newObject = cloner.clone(oldObject);</code> </pre> <br>  Si vous utilisez jQuery, vous pouvez recourir aux constructions suivantes: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   var newObject = jQuery.extend ({}, oldObject); //   var newObject = jQuery.extend (true, {}, oldObject);</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Question num√©ro 12.</font>  <font color="#3AC1EF">Destructeurs JavaScript</font> </h2><br>  Comment cr√©er quelque chose comme un destructeur en JavaScript?  Comment g√©rer le cycle de vie des objets? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  En JavaScript, un objet sera supprim√© de la m√©moire apr√®s la disparition de la derni√®re r√©f√©rence √† celui-ci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = {<span class="hljs-attr"><span class="hljs-attr">z</span></span>: <span class="hljs-string"><span class="hljs-string">'z'</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = a; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> c = a; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> az; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> a; <span class="hljs-comment"><span class="hljs-comment">//    a console.log (b, c); // ,  ,   </span></span></code> </pre> <br>  L'utilisation de quelque chose comme un ¬´destructeur¬ª en JavaScript ne fait qu'effacer le contenu de l'objet, mais pas le supprimer de la m√©moire. <br><br><h2>  <font color="#3AC1EF">Question num√©ro 13.</font>  <font color="#3AC1EF">Traitement des donn√©es binaires</font> </h2><br>  Est-il possible de traiter des donn√©es binaires en JavaScript?  Et si oui, comment? <br><br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Si vous devez travailler avec des donn√©es binaires dans une application JavaScript, vous pouvez essayer d'utiliser la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Binary Parser</a> .  Mais son code est l'enfer.  Dans ES6 +, il y a une suggestion concernant le type <code>StructType</code> (c'est la m√™me chose qui est repr√©sent√©e en C ++ par le type de donn√©es composite de <code>struct</code> ).  Ce type de donn√©es est n√©cessaire pour simplifier l'utilisation des donn√©es binaires.  Travailler avec cela pourrait ressembler √† ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Point2D = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StructType({ <span class="hljs-attr"><span class="hljs-attr">x</span></span>: uint32, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: uint32 }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Color = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StructType({ <span class="hljs-attr"><span class="hljs-attr">r</span></span>: uint8, <span class="hljs-attr"><span class="hljs-attr">g</span></span>: uint8, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: uint8 }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Pixel = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StructType({ <span class="hljs-attr"><span class="hljs-attr">point</span></span>: Point2D, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: Color }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Triangle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayType(Pixel, <span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Triangle([{ <span class="hljs-attr"><span class="hljs-attr">point</span></span>: { <span class="hljs-attr"><span class="hljs-attr">x</span></span>:  <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: { <span class="hljs-attr"><span class="hljs-attr">r</span></span>: <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-attr"><span class="hljs-attr">g</span></span>: <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">255</span></span> } },                     { <span class="hljs-attr"><span class="hljs-attr">point</span></span>: { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span> }, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: { <span class="hljs-attr"><span class="hljs-attr">r</span></span>: <span class="hljs-number"><span class="hljs-number">128</span></span>, <span class="hljs-attr"><span class="hljs-attr">g</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,   <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } },                     { <span class="hljs-attr"><span class="hljs-attr">point</span></span>: { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: { <span class="hljs-attr"><span class="hljs-attr">r</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,   <span class="hljs-attr"><span class="hljs-attr">g</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">128</span></span> } }]);</code> </pre> <br><h2>  <font color="#3AC1EF">Question num√©ro 14.</font>  <font color="#3AC1EF">Modification de variables dans une fonction d'une autre fonction</font> </h2><br>  Comment changer des variables situ√©es dans une fonction d'une autre fonction? <br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Ici, vous pouvez appliquer plusieurs approches: <br><br><ol><li>  Vous pouvez utiliser le lien vers le contexte de la fonction qui nous int√©resse (la fonction <code>primer()</code> dans l'exemple suivant) dans la fonction <code>smth()</code> . <br></li><li>  Vous pouvez passer une fonction cr√©√©e dans le contexte de la fonction <code>primer()</code> fonction <code>smth()</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> primer = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a, b, c, d, e = {}; smth (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{        a = <span class="hljs-number"><span class="hljs-number">1</span></span>;        b = <span class="hljs-number"><span class="hljs-number">2</span></span>;        c = <span class="hljs-number"><span class="hljs-number">3</span></span>;        d = <span class="hljs-number"><span class="hljs-number">4</span></span>;    }, e); alert ([a, b, c, d, e.pewpew]); }, smth = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">callback, e</span></span></span><span class="hljs-function">) </span></span>{    callback ();    e.pewpew = <span class="hljs-string"><span class="hljs-string">"pewpew"</span></span>; }; primer ();</code> </pre> </li><li>  Auparavant (avant Firefox 3.6), vous pouviez acc√©der au contexte en utilisant la propri√©t√© <code>__parent__</code> , mais d√©j√† dans Firefox 4, cette fonctionnalit√© a √©t√© supprim√©e. </li></ol><br><h2>  <font color="#3AC1EF">Question num√©ro 15.</font>  <font color="#3AC1EF">Travailler avec des fonctions</font> </h2><br>  Dites-nous comment les fonctions peuvent √™tre appel√©es en JavaScript. <br><h3>  <font color="#3AC1EF">‚ñç R√©pondre</font> </h3><br>  Je suppose qu'il n'est pas n√©cessaire de parler de la fa√ßon d'appeler des fonctions, des m√©thodes et des constructeurs lors d'un travail normal avec eux.  Parlons de la fa√ßon d'utiliser les m√©thodes <code>call()</code> et <code>apply()</code> . <br><br><h4>  Utilisation de call () pour configurer le constructeur d'un objet </h4><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   function extend (newObj, oldObj) {   function F () {};   F.prototype = oldObj.prototype;   newObj.prototype = new F ();   return newObj }; var Obj = function () {   this.obj_var = 100; }; Obj.prototype.obj_proto_var = 101; var NewObj = function () {   Obj.call (this); //   Obj     obj_var   this.new_obj_var = 102; }; extend (NewObj, Obj) NewObj.prototype.new_obj_proto_var = 103; new NewObj (); // {new_obj_proto_var: 103, new_obj_var: 102, obj_proto_var: 101, obj_var: 100}</span></span></code> </pre> <br><h4>  Convertir des objets de type tableau en tableaux </h4><br>  Les objets de type tableau sont similaires aux tableaux JavaScript, mais ils ne le sont pas.  En particulier, cela s'exprime dans le fait que ces objets n'ont pas de m√©thodes de tableaux ordinaires.  Parmi ces objets, par exemple, l'objet <code>arguments</code> des fonctions traditionnelles et les r√©sultats de la m√©thode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getElementsByTagName ()</a> peuvent √™tre not√©s. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// document.getElementsByTagName ("div")  ,   ,    , ,  ,        document.getElementsByTagName ("div"). forEach (function (elem) {    // ... }); // TypeError: document.getElementsByTagName ("div"). forEach is not a function //    Array.prototype.slice.call(document.getElementsByTagName("div")).forEach (function (elem) {   // OK }); //        console.log(Array.prototype.slice.call ('pewpew')) // ["p", "e", "w", "p", "e", "w"] //  IE8   </span></span></code> </pre> <br><h4>  Cr√©ation d'objets wrapper </h4><br>  Cette technique d'utilisation de <code>call()</code> et <code>apply()</code> vous permet de cr√©er des objets wrapper. ,    - <code>foo()</code> ,    <code>bar()</code>       . <br><br>        : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bar</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>)} <span class="hljs-comment"><span class="hljs-comment">// foo (context, arg1, arg2, ...) function foo () {    var context = arguments [0];    var args = Array.prototype.slice.call (arguments, 1); //     bar    bar.apply (context, args); }</span></span></code> </pre> <br>       <code>Function.call.apply()</code>    : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>.call.apply(bar, <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>); }</code> </pre> <br> ,   <code>Function.call.apply()</code> , ,  <code>foo()</code> ,  <code>bar</code> . <br><br><h2> <font color="#3AC1EF"> ‚Ññ16.    </font> </h2><br>   ,     ,  ? <br><br><h3> <font color="#3AC1EF">‚ñç</font> </h3><br>  . ,   Firefox  3.6,       <code>__parent__</code> ,     . <br><br><h2> <font color="#3AC1EF"> ‚Ññ17.    </font> </h2><br>   ,        ,     ,    <code>eval()</code>    ? <br><br><h3> <font color="#3AC1EF">‚ñç</font> </h3><br>      ,       .     ,     : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// 1:  eval() (function () {    "use strict";    var globalObject = (0, eval) ("this"); //  :)    return globalObject; } ()); // 2:    (function (global) {    // ... } (window)); // 3:      (function () {    return this; } ()); // 4:            ,       . //  -    "use strict"; (function (global) {    // global }) (this);</span></span></code> </pre> <br><h2> <font color="#3AC1EF"> ‚Ññ18.  </font> </h2><br>  ,  JavaScript,    ,    ? <br><br><h3> <font color="#3AC1EF">‚ñç</font> </h3><br>    JavaScript   - ¬´ ¬ª.     .          . ,    : <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#smth'</span></span>).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSmthClick</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (smth) {       <span class="hljs-comment"><span class="hljs-comment">//         event.handlerFunction = onSmthClick;       event.handlerContext = this;       //         //  otherObjectSetSomeEvent   event.handlerFunction          otherObjectSetSomeEvent(event);   } else {       //  -    } });</span></span></code> </pre> <br>   ‚Äî    ,     .      ,    2 : <br><br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#smth'</span></span>). click (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handler1</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (smth) {       <span class="hljs-comment"><span class="hljs-comment">//         leftObjectSetSomeEvent(event, function handler2 (e) {           //  -   e       });   } else {       //  -    } }); function leftObjectSetSomeEvent(event, callback) {   callback (event);   //    }</span></span></code> </pre> <br><h2> <font color="#3AC1EF"> ‚Ññ19.    </font> </h2><br>   JavaScript       ?  ‚Äî  ,     . <br><br><h3> <font color="#3AC1EF">‚ñç</font> </h3><br>     <code>click</code>   ¬´¬ª    DOM.         (,      ,     ). <br><br><pre> <code class="plaintext hljs">// jQuery $(window).bind ('click', function (e) {   console.log ('Clicked on', e.target); }); //       $('#pewpew').delegate ('*', 'click', function(e) {   console.log('Clicked on', e.target); }); //     $('#pewpew').delegate('.pewpew', 'click', function (e) {   console.log ('Clicked on element with .pewpew class name'); });</code> </pre> <br><h2> <font color="#3AC1EF"> ‚Ññ20. XHR-</font> </h2><br>   XHR-   jQuery? <br><br><h3> <font color="#3AC1EF">‚ñç</font> </h3><br>  ,    - : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xhr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">m, u, c, x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">with</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XMLHttpRequest) onreadystatechange = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{   readyState ^ <span class="hljs-number"><span class="hljs-number">4</span></span> || c(x.target) }, open(m, u), send() }</code> </pre> <br>  - : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">xhr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">m, u, c, x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">with</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.XMLHttpRequest || ActiveXObject)(<span class="hljs-string"><span class="hljs-string">"Microsoft.XMLHTTP"</span></span>)) onreadystatechange = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{   readyState ^ <span class="hljs-number"><span class="hljs-number">4</span></span> || c(x) }, open(m, u), send() }</code> </pre> <br>    : <br><br><pre> <code class="javascript hljs">xhr(<span class="hljs-string"><span class="hljs-string">'get'</span></span>, <span class="hljs-string"><span class="hljs-string">'//google.com/favicon.ico'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xhr</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.dir(xhr) });</code> </pre> <br><h2> <font color="#3AC1EF"> ‚Ññ21.   -</font> </h2><br>        (reflow)   (repaint)    -? <br><br><h3> <font color="#3AC1EF">‚ñç</font> </h3><br><ol><li>     <code>requestAnimationFrame()</code> ,     ,   <code>setInterval()</code>  <code>setTimeout()</code> .    ,  ,         , ,   ,     . ,    JavaScript-     CSS-   SVG-.  ,     ,      ,     ,       , , .    ,  ,    . </li><li>       float- (      ). </li><li>      DOM.  ,   ,  ,    DOM    (         ). </li><li>       ‚Äî      .            (  , ,  ).  Voici un exemple: <br><br><pre> <code class="plaintext hljs">//      element.style.left = "150px;"; // ... element.style.color = "green"; //  ,   ,    element.setAttribute ('style', 'color: green; left: 150px');</code> </pre> </li><li>           (        ). <br></li><li>      ‚Äî   ( <code>style.display = "none"</code> ).        ,     . <br></li></ol><br>    ,   -,          .  ,  ,   ,       ,      . <br><br><ol><li>   . </li><li>    DOM- (  ‚Äî   ). </li><li>       <code>Document.querySelectorAll()</code>   <code>firstElementChild</code> . </li><li>   ,   <code>document.getElementsByTagName()</code>     ( ,       DOM,  ). </li></ol><br><h2> <font color="#3AC1EF"> ‚Ññ22.     Node.js</font> </h2><br>     Node.js,   ,        ? <br><br><h3> <font color="#3AC1EF">‚ñç</font> </h3><br>     ,              (     PHP  Apache).         ,       ,      .  Node.js                ‚Äî    .  ,        ,          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cluster</a> .         (master)  - (worker).    ,          . <br><br><h2> <font color="#3AC1EF"> ‚Ññ23.  runInNewContext()  Node.js</font> </h2><br>     <code>runInNewContext()</code>  Node.js. <br><br><h3> <font color="#3AC1EF">‚ñç</font> </h3><br>        .     ,    (   Node.js- Nodester).   -    ,       <code>runInNewContext()</code> . ,      ¬´¬ª,       .       ¬´¬ª    ,  ,  <code>runInNewContext()</code>       . <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>         JavaScript    . ,    - ,   . <br><br>  <b>Chers lecteurs!</b>  , -  ,    ,      JavaScript   ,     ? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436454/">https://habr.com/ru/post/fr436454/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436442/index.html">Une t√™te est bonne, et deux est meilleure, ou la programmation par paires en action</a></li>
<li><a href="../fr436444/index.html">D√©ploiement invisible d'une application monolithique en production sur AWS. Exp√©rience personnelle</a></li>
<li><a href="../fr436448/index.html">Moniteur IPS 27 pouces Acer HA270bid: pour l'auto-am√©lioration</a></li>
<li><a href="../fr436450/index.html">T√©l√©commande et contr√¥le, libert√© et gouvernement. Conversation avec Staply</a></li>
<li><a href="../fr436452/index.html">7 domaines de d√©veloppement Linux en 2019</a></li>
<li><a href="../fr436456/index.html">Cr√©er un effet de distribution des couleurs dans Unity</a></li>
<li><a href="../fr436458/index.html">Progr√®s et battage m√©diatique dans la recherche en IA</a></li>
<li><a href="../fr436460/index.html">Le choix de la technologie, de l'architecture et du design dans les projets logiciels - sans esp√®ces</a></li>
<li><a href="../fr436464/index.html">2. Analyse du journal des points de contr√¥le: SmartEvent</a></li>
<li><a href="../fr436466/index.html">Electron: d√©veloppement d'applications de bureau en HTML, CSS et JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>