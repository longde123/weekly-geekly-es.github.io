<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöº üßíüèº üò™ Lat√™ncia de aprendizado: teoria das filas üí™üèΩ ü§î üëêüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O tema da lat√™ncia ao longo do tempo se torna interessante em diferentes sistemas no Yandex e n√£o apenas. Isso acontece quando qualquer garantia de se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lat√™ncia de aprendizado: teoria das filas</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/431650/">  O tema da lat√™ncia ao longo do tempo se torna interessante em diferentes sistemas no Yandex e n√£o apenas.  Isso acontece quando qualquer garantia de servi√ßo aparece nesses sistemas.  Obviamente, o fato √© que √© importante n√£o apenas prometer alguma oportunidade aos usu√°rios, mas tamb√©m garantir seu recebimento com um tempo de resposta razo√°vel.  A ‚Äúracionalidade‚Äù do tempo de resposta, √© claro, varia muito para sistemas diferentes, mas os princ√≠pios b√°sicos pelos quais a lat√™ncia se manifesta em todos os sistemas s√£o comuns e podem ser considerados isoladamente dos espec√≠ficos. <br><br>  Meu nome √© Sergey Trifonov, trabalho na equipe de Redu√ß√£o em tempo real do mapa em Yandex.  Estamos desenvolvendo uma plataforma para processamento de fluxo de dados em tempo real com tempos de resposta de segundo e subsegundo.  A plataforma est√° dispon√≠vel para usu√°rios internos e permite que eles executem o c√≥digo do aplicativo em fluxos de dados constantemente recebidos.  Tentarei dar uma breve vis√£o geral dos conceitos b√°sicos da humanidade sobre o t√≥pico da an√°lise de lat√™ncia nos √∫ltimos cento e dez anos, e agora tentaremos entender o que exatamente pode ser aprendido sobre lat√™ncia usando a teoria das filas. <br><a name="habracut"></a><br>  O fen√¥meno da lat√™ncia come√ßou a ser sistematicamente investigado, tanto quanto eu sei, em conex√£o com o advento dos sistemas de filas - redes de comunica√ß√£o telef√¥nica.  A teoria das filas come√ßou com o trabalho de A.K. Erlang em 1909, no qual ele mostrou que a distribui√ß√£o de Poisson √© aplic√°vel ao tr√°fego telef√¥nico aleat√≥rio.  Erlang desenvolveu uma teoria que tem sido usada h√° d√©cadas para projetar redes telef√¥nicas.  A teoria nos permite determinar a probabilidade de uma nega√ß√£o de servi√ßo.  Para redes telef√¥nicas com canais de circuito comutado, ocorreu uma falha se todos os canais estiverem ocupados e a chamada n√£o puder ser feita.  A probabilidade desse evento teve que ser controlada.  Eu queria ter uma garantia de que, por exemplo, 95% de todas as chamadas seriam atendidas.  As f√≥rmulas de Erlang possibilitam determinar quantos servidores s√£o necess√°rios para cumprir essa garantia se a dura√ß√£o e o n√∫mero de chamadas forem conhecidos.  De fato, essa tarefa trata apenas de garantias de qualidade e hoje as pessoas ainda resolvem problemas semelhantes.  Mas os sistemas se tornaram muito mais complexos.  O principal problema da teoria das filas √© que ela n√£o √© ensinada na maioria das institui√ß√µes, e poucas pessoas entendem a pergunta fora da fila M / M / 1 usual (veja a nota√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">abaixo</a> ), mas √© sabido que a vida √© muito mais complicada do que esse sistema.  Portanto, proponho, contornando M / M / 1, ir imediatamente para o mais interessante. <br><br><h2>  Valores m√©dios </h2><br>  Se voc√™ n√£o tentar obter conhecimento completo sobre a distribui√ß√£o de probabilidade no sistema, mas se concentrar em perguntas mais simples, poder√° obter resultados interessantes e √∫teis.  O mais famoso deles √©, obviamente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o teorema de Little</a> .  √â aplic√°vel a um sistema com qualquer fluxo de entrada, dispositivo interno de qualquer complexidade e um planejador arbitr√°rio.  O √∫nico requisito √© que o sistema seja est√°vel: os tempos m√©dios de resposta e os comprimentos das filas devem existir e, em seguida, eles ser√£o conectados por uma express√£o simples <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5"><font style="vertical-align: inherit;">l </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;">m </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8"><font style="vertical-align: inherit;">b </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9"><font style="vertical-align: inherit;">d </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11"><font style="vertical-align: inherit;">W</font></span></font><span class="MJXp-mtext" id="MJXp-Span-4">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11"><font style="vertical-align: inherit;"></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.104ex" height="2.057ex" viewBox="0 -780.1 6503.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMAIN-3D" x="959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-6C" x="2265" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-61" x="2564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-6D" x="3093" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-62" x="3972" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-64" x="4401" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-61" x="4925" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-57" x="5454" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> L = \ lambda W </script></p>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-12"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.057ex" viewBox="0 -780.1 681.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-4C" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> L </script>  - o n√∫mero m√©dio de pedidos na parte considerada do sistema [pcs], <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-57" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> W </script>  - o tempo m√©dio pelo qual os pedidos passam por essa parte do sistema, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-16"><span class="MJXp-mtext" id="MJXp-Span-17">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.987ex" height="2.057ex" viewBox="0 -780.1 3439 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-64" x="2386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-61" x="2909" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ lambda </script>  - a velocidade de recebimento de solicita√ß√µes ao sistema [pcs / s].  A for√ßa do teorema √© que ele pode ser aplicado a qualquer parte do sistema: fila, executor, fila + executor ou toda a rede.  Muitas vezes, esse teorema √© usado aproximadamente assim: "O fluxo de 1 Gbit / s est√° fluindo em nossa dire√ß√£o e medimos o tempo m√©dio de resposta, e s√£o 10 ms; portanto, em m√©dia, temos 1,25 MB em voo".  Portanto, esse c√°lculo n√£o √© verdadeiro.  Mais precisamente, isso √© verdade apenas se todas as solicita√ß√µes tiverem o mesmo tamanho em bytes.  O teorema de Little conta consultas em peda√ßos, n√£o em bytes. <br><br><h3>  Como usar o teorema de Little </h3><br><img align="right" src="https://habrastorage.org/webt/zo/os/ls/zooslslr9rwcrzt9mp8dsrokhcu.png">  Em matem√°tica, muitas vezes √© necess√°rio estudar evid√™ncias para obter uma vis√£o real.  Este √© apenas o caso.  O teorema de Little √© t√£o bom que apresento aqui um esbo√ßo da prova.  O tr√°fego de entrada √© descrito pela fun√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-24"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A </font></font></span><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.392ex" height="2.66ex" viewBox="0 -832 1891 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-41" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMAIN-28" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-74" x="1140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMAIN-29" x="1501" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> A (t) </script>  - o n√∫mero de solicita√ß√µes que est√£o conectadas no momento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.84ex" height="1.937ex" viewBox="0 -728.2 361.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-74" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> t </script>  .  Da mesma forma <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-31"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mo" id="MJXp-Span-35" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.573ex" height="2.66ex" viewBox="0 -832 1969 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMAIN-28" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-74" x="1218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMAIN-29" x="1579" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> D (t) </script>  - o n√∫mero de solicita√ß√µes desconectadas no momento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-36"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.84ex" height="1.937ex" viewBox="0 -728.2 361.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhhmlVozqUNpFQYxaZWF72GblcD3Rg#MJMATHI-74" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> t </script>  .  O momento de entrada (sa√≠da) da solicita√ß√£o √© considerado o momento de recebimento (transmiss√£o) de seu √∫ltimo byte.  Os limites do sistema s√£o determinados apenas por esses instantes de tempo; portanto, o teorema √© amplamente aplic√°vel.  Se voc√™ desenhar gr√°ficos dessas fun√ß√µes nos mesmos eixos, √© f√°cil ver que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-38"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A </font></font></span><span class="MJXp-mo" id="MJXp-Span-40" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mo" id="MJXp-Span-42" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span><span class="MJXp-mo" id="MJXp-Span-43" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> A (t) - D (t) </script>  √â o n√∫mero de solicita√ß√µes no sistema no momento t, e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-48"><span class="MJXp-msubsup" id="MJXp-Span-49"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-51" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> W_n </script>  - tempo de resposta da en√©sima solicita√ß√£o. <br><br>  O teorema foi formalmente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">provado</a> apenas em 1961, embora a rela√ß√£o em si fosse conhecida muito antes disso. <br><br>  De fato, se as solicita√ß√µes puderem ser reordenadas dentro do sistema, tudo ser√° um pouco mais complicado; portanto, por simplicidade, assumiremos que isso n√£o acontece.  Embora o teorema seja verdadeiro tamb√©m neste caso.  Agora vamos calcular a √°rea entre os gr√°ficos.  Existem duas maneiras de fazer isso.  Em primeiro lugar, de acordo com as colunas - como as integrais costumam pensar.  Nesse caso, verifica-se que o integrando √© o tamanho da fila em peda√ßos.  Em segundo lugar, linha por linha - simplesmente adicionando a lat√™ncia de todas as solicita√ß√µes.  √â claro que ambos os c√°lculos d√£o a mesma √°rea, portanto s√£o iguais.  Se ambas as partes dessa igualdade s√£o divididas pelo tempo Œît, para o qual calculamos a √°rea, ent√£o, √† esquerda, teremos o comprimento m√©dio da fila <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-52"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> L </script>  (por defini√ß√£o da m√©dia).  √Ä direita √© um pouco mais complicado.  Precisamos adicionar outro n√∫mero de solicita√ß√µes N ao numerador e denominador, para que tenhamos sucesso. <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-54"><span class="MJXp-mtext" id="MJXp-Span-55">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">c</span><span class="MJXp-mrow" id="MJXp-Span-60"><span class="MJXp-mtext" id="MJXp-Span-61">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">m</span><span class="MJXp-msubsup" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66" style="margin-right: 0.05em;">W</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-67" style="vertical-align: -0.4em;">i</span></span></span><span class="MJXp-mrow" id="MJXp-Span-68"><span class="MJXp-mtext" id="MJXp-Span-69">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">t</span></span><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-77">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">c</span><span class="MJXp-mrow" id="MJXp-Span-82"><span class="MJXp-mtext" id="MJXp-Span-83">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">m</span><span class="MJXp-msubsup" id="MJXp-Span-87"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88" style="margin-right: 0.05em;">W</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-89" style="vertical-align: -0.4em;">i</span></span></span><span class="MJXp-mrow" id="MJXp-Span-90"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">N</span></span><span class="MJXp-mtext" id="MJXp-Span-92">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">c</span><span class="MJXp-mrow" id="MJXp-Span-97"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">N</span></span><span class="MJXp-mrow" id="MJXp-Span-99"><span class="MJXp-mtext" id="MJXp-Span-100">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">t</span></span><span class="MJXp-mo" id="MJXp-Span-107" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">W</span><span class="MJXp-mtext" id="MJXp-Span-109">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">a</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> \ frac {\ sum W_i} {\ Delta t} = \ frac {\ sum W_i} {N} \ frac {N} {\ Delta t} = W \ lambda </script></p>  Se considerarmos Œît suficientemente grande ou um per√≠odo de emprego, as perguntas nas bordas s√£o removidas e o teorema pode ser considerado comprovado. <br><br>  √â importante dizer que, na prova, n√£o usamos distribui√ß√µes de probabilidades.  De fato, o teorema de Little √© uma lei determin√≠stica!  Tais leis s√£o chamadas na teoria das filas do direito operacional.  Eles podem ser aplicados a qualquer parte do sistema e a qualquer distribui√ß√£o de v√°rias vari√°veis ‚Äã‚Äãaleat√≥rias.  Essas leis formam um construtor que pode ser usado com sucesso para analisar valores m√©dios em redes.  A desvantagem √© que todos eles se aplicam apenas √†s m√©dias e n√£o fornecem nenhum conhecimento sobre as distribui√ß√µes. <br><br>  Voltando √† quest√£o de por que o teorema de Little n√£o pode ser aplicado a bytes, suponha que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-116"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">A</span><span class="MJXp-mo" id="MJXp-Span-118" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">t</span><span class="MJXp-mo" id="MJXp-Span-120" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> A (t) </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-121"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">D</span><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">t</span><span class="MJXp-mo" id="MJXp-Span-125" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> D (t) </script>  agora eles s√£o medidos n√£o em peda√ßos, mas em bytes.  Ent√£o, conduzindo um argumento semelhante, obtemos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">W</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> W </script>  o estranho √© a √°rea dividida pelo n√∫mero total de bytes.  Ainda falta alguns segundos, mas √© uma lat√™ncia m√©dia ponderada em que solicita√ß√µes maiores ganham mais peso.  Esse valor pode ser chamado de lat√™ncia m√©dia do byte - que, em geral, √© l√≥gico, pois substitu√≠mos partes por bytes - mas n√£o a lat√™ncia da solicita√ß√£o. <br><br>  O teorema de Little diz que, com um certo fluxo de solicita√ß√µes, o tempo de resposta e o n√∫mero de solicita√ß√µes no sistema s√£o proporcionais.  Se todas as solicita√ß√µes parecerem iguais, o tempo m√©dio de resposta n√£o poder√° ser reduzido sem aumentar a pot√™ncia.  Se soubermos o tamanho das consultas com anteced√™ncia, podemos tentar reorden√°-las para reduzir a √°rea entre <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">A</span><span class="MJXp-mo" id="MJXp-Span-130" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">t</span><span class="MJXp-mo" id="MJXp-Span-132" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> A (t) </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">D</span><span class="MJXp-mo" id="MJXp-Span-135" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">t</span><span class="MJXp-mo" id="MJXp-Span-137" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> D (t) </script>  e, portanto, o tempo m√©dio de resposta do sistema.  Continuando com essa id√©ia, podemos provar que os algoritmos Menor Tempo de Processamento e Menor Tempo de Processamento Restante fornecem um tempo m√©dio de resposta m√≠nimo para um servidor, sem a possibilidade de se agrupar com ele, respectivamente.  Mas h√° um efeito colateral - solicita√ß√µes grandes podem n√£o ser processadas indefinidamente.  O fen√¥meno √© chamado de "inani√ß√£o" e est√° intimamente relacionado ao conceito de justi√ßa do planejamento, que pode ser aprendido em um post anterior no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">agendamento: mitos e realidade</a> . <br><br>  Existe outra armadilha comum associada √† compreens√£o da lei de Little.  H√° um servidor de thread √∫nico que atende a solicita√ß√µes do usu√°rio.  Suponha que de alguma forma medimos L - o n√∫mero m√©dio de solicita√ß√µes na fila para este servidor e S - o tempo m√©dio em que o servidor atendeu a uma solicita√ß√£o.  Agora considere uma nova solicita√ß√£o de entrada.  Em m√©dia, ele v√™ L consultas √† sua frente.  Servir cada um deles leva em m√©dia S segundos.  Acontece que o tempo m√©dio de espera <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-138"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">W</span><span class="MJXp-mo" id="MJXp-Span-140" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> W = L S </script>  .  Mas pelo teorema verifica-se que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-143"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">W</span><span class="MJXp-mo" id="MJXp-Span-145" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">L</span><span class="MJXp-mrow" id="MJXp-Span-147"><span class="MJXp-mo" id="MJXp-Span-148" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-149">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> W = L / \ lambda </script>  .  Se equipararmos as express√µes, veremos o absurdo: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-156"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">S</span><span class="MJXp-mo" id="MJXp-Span-158" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-159">1</span><span class="MJXp-mrow" id="MJXp-Span-160"><span class="MJXp-mo" id="MJXp-Span-161" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-162">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> S = 1 / \ lambda </script>  .  O que h√° de errado com esse racioc√≠nio? <br><br><ol><li>  A primeira coisa que chama sua aten√ß√£o: o tempo de resposta do teorema n√£o depende de S. Na verdade, √© claro, depende.  Apenas o tamanho m√©dio da fila j√° leva isso em considera√ß√£o: quanto mais r√°pido o servidor, menor o comprimento da fila e menor o tempo de resposta. </li><li>  Consideramos um sistema no qual as filas n√£o se acumulam para sempre, mas s√£o redefinidas regularmente.  Isso significa que a utiliza√ß√£o do servidor √© inferior a 100% e pulamos todas as solicita√ß√µes recebidas e na mesma velocidade m√©dia com a qual essas solicita√ß√µes chegaram, o que significa que, em m√©dia, n√£o leva S segundos, mas mais, para processar uma solicita√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-169"><span class="MJXp-mn" id="MJXp-Span-170">1</span><span class="MJXp-mrow" id="MJXp-Span-171"><span class="MJXp-mo" id="MJXp-Span-172" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-173">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> 1 / \ lambda </script>  segundos, simplesmente porque √†s vezes n√£o processamos nenhuma solicita√ß√£o.  O fato √© que, em qualquer sistema aberto est√°vel sem perda, a taxa de transfer√™ncia n√£o depende da velocidade dos servidores, √© determinada apenas pelo fluxo de entrada. </li><li>  A suposi√ß√£o de que uma solicita√ß√£o recebida v√™ no sistema um n√∫mero m√©dio de solicita√ß√µes nem sempre √© verdadeira.  Contra-exemplo: as solicita√ß√µes recebidas s√£o enviadas periodicamente e conseguimos processar cada solicita√ß√£o antes da chegada da pr√≥xima.  Uma imagem t√≠pica para sistemas em tempo real.  Uma solicita√ß√£o recebida sempre v√™ zero solicita√ß√µes no sistema, mas, em m√©dia, o sistema obviamente tem mais de zero solicita√ß√µes.  Se as solicita√ß√µes ocorrerem em hor√°rios completamente aleat√≥rios, elas realmente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"ver√£o o n√∫mero m√©dio de solicita√ß√µes"</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ic/f2/10/icf210vybpp_wuwzbe4vh2xlkmw.png"></div></li><li>  N√£o levamos em conta que, com uma certa probabilidade, j√° pode haver uma solicita√ß√£o no servidor que precisa ser "estendida".  No caso geral, o tempo m√©dio de "servi√ßo p√≥s-atendimento" difere do tempo inicial de servi√ßo e, √†s vezes, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">paradoxalmente</a> , pode ser muito mais longo.  Voltaremos a esta quest√£o no final, quando discutirmos sobre micro-explos√µes, fique atento. </li></ol><br>  Portanto, o teorema de Little pode ser aplicado a sistemas grandes e pequenos, a filas, a servidores e a threads de processamento √∫nico.  Mas em todos esses casos, as solicita√ß√µes geralmente s√£o classificadas de uma maneira ou de outra.  Solicita√ß√µes de usu√°rios diferentes, solicita√ß√µes de prioridades diferentes, solicita√ß√µes provenientes de locais diferentes ou solicita√ß√µes de tipos diferentes.  Nesse caso, as informa√ß√µes agregadas por classes n√£o s√£o interessantes.  Sim, o n√∫mero m√©dio de pedidos mistos e o tempo m√©dio de resposta para todos eles s√£o novamente proporcionais.  Mas e se quisermos saber o tempo m√©dio de resposta para uma determinada classe de solicita√ß√µes?  Surpreendentemente, o teorema de Little pode ser aplicado a uma classe espec√≠fica de consultas.  Nesse caso, voc√™ precisa tomar como <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-180"><span class="MJXp-mtext" id="MJXp-Span-181">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> \ lambda </script>  A taxa na qual essa classe solicita, n√£o todas.  Como <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-188"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">L</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> L </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">W</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> W </script>  - valores m√©dios do n√∫mero e tempo de perman√™ncia dos pedidos desta classe na parte investigada do sistema. <br><br><h3>  Sistemas abertos e fechados </h3><br><img align="right" src="https://habrastorage.org/webt/qf/kt/nx/qfktnxdcrkxahfeyooqy2hb47au.png">  √â importante notar que, para sistemas fechados, a linha de racioc√≠nio ‚Äúerrada‚Äù que leva √† conclus√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">S</span><span class="MJXp-mo" id="MJXp-Span-194" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-195">1</span><span class="MJXp-mrow" id="MJXp-Span-196"><span class="MJXp-mo" id="MJXp-Span-197" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-198">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> S = 1 / \ lambda </script>  acaba por ser verdade.  Sistemas fechados s√£o aqueles em que os pedidos n√£o v√™m de fora e n√£o saem, mas circulam por dentro.  Ou, caso contr√°rio, sistemas de feedback: assim que a solicita√ß√£o sai do sistema, uma nova solicita√ß√£o ocorre.  Esses sistemas tamb√©m s√£o importantes porque qualquer sistema aberto pode ser considerado imerso em um sistema fechado.  Por exemplo, voc√™ pode considerar o site como um sistema aberto, no qual as solicita√ß√µes s√£o constantemente derramadas, processadas e retiradas ou, inversamente, como um sistema fechado com todo o p√∫blico do site.  Em geral, eles dizem que o n√∫mero de usu√°rios √© fixo e esperam uma resposta √† solicita√ß√£o ou "pensam": eles receberam sua p√°gina e ainda n√£o clicaram no link.  No caso de pensar que o tempo √© sempre zero, o sistema tamb√©m √© chamado de sistema em lote. <br><br>  A lei de Little para sistemas fechados √© v√°lida se a velocidade de chegadas externas <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-205"><span class="MJXp-mtext" id="MJXp-Span-206">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> \ lambda </script>  (eles n√£o est√£o em um sistema fechado) substitua pela largura de banda do sistema.  Se envolvermos o servidor de thread √∫nico discutido acima em um sistema em lote, obteremos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-213"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">S</span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-216">1</span><span class="MJXp-mrow" id="MJXp-Span-217"><span class="MJXp-mo" id="MJXp-Span-218" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-219">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> S = 1 / \ lambda </script>  e 100% de reciclagem.  Muitas vezes, essa an√°lise do sistema fornece resultados inesperados.  Nos anos 90, foi precisamente essa vis√£o da Internet, juntamente com os usu√°rios como um sistema √∫nico, que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">deu impulso</a> ao estudo de distribui√ß√µes que n√£o eram exponenciais.  Discutiremos ainda mais as distribui√ß√µes, mas aqui observamos que quase tudo e em toda parte era considerado exponencial, e at√© isso foi encontrada alguma justificativa, e n√£o apenas uma desculpa no esp√≠rito de "caso contr√°rio, muito complicado".  No entanto, descobriu-se que nem todas as distribui√ß√µes praticamente importantes t√™m caudas igualmente longas, e o conhecimento das caudas de distribui√ß√£o pode ser tentado.  Mas, por enquanto, vamos voltar aos valores m√©dios. <br><br><h3>  Efeitos relativ√≠sticos </h3><br>  Suponha que tenhamos um sistema aberto: uma rede complexa ou um servidor simples de thread √∫nico - isso n√£o importa.  O que mudar√° se dobrarmos a chegada de solicita√ß√µes e acelerarmos o processamento pela metade - por exemplo, dobrando a capacidade de todos os componentes do sistema?  Como a utiliza√ß√£o, a taxa de transfer√™ncia, o n√∫mero m√©dio de solicita√ß√µes no sistema e o tempo m√©dio de resposta mudam?  Para um servidor de thread √∫nico, voc√™ pode tentar pegar as f√≥rmulas, aplic√°-las ‚Äúna testa‚Äù e obter os resultados, mas o que fazer com uma rede arbitr√°ria?  A solu√ß√£o intuitiva √© a seguinte.  Suponha que o tempo seja dobrado e, em nosso "sistema de refer√™ncia acelerado", a velocidade dos servidores e o fluxo de solicita√ß√µes n√£o parecem mudar;  consequentemente, todos os par√¢metros em tempo acelerado t√™m os mesmos valores de antes.  Em outras palavras, a acelera√ß√£o de todas as "partes m√≥veis" de qualquer sistema √© equivalente √† acelera√ß√£o do rel√≥gio.  Agora vamos converter os valores em um sistema com um hor√°rio normal.  Quantidades sem dimens√£o (utiliza√ß√£o e n√∫mero m√©dio de solicita√ß√µes) n√£o ser√£o alteradas.  Valores cuja dimens√£o inclui fatores de tempo de primeiro grau variam proporcionalmente.  A taxa de transfer√™ncia de [solicita√ß√µes / s] ser√° duplicada e os tempos de resposta e espera [s] ser√£o reduzidos pela metade. <br><br>  Este resultado pode ser interpretado de duas maneiras: <br><br><ol><li>  Um sistema acelerado por k vezes pode digerir o fluxo de tarefas k vezes mais e com um tempo m√©dio de resposta k vezes menor. </li><li>  Podemos dizer que o poder n√£o mudou, mas simplesmente o tamanho das tarefas diminuiu k vezes.  Acontece que estamos enviando a mesma carga para o sistema, mas serrados em peda√ßos menores.  E ... oh, um milagre!  O tempo m√©dio de resposta √© reduzido! </li></ol><br>  Mais uma vez, observo que isso √© verdade para uma ampla classe de sistemas, e n√£o apenas para um servidor simples.  Do ponto de vista pr√°tico, existem apenas dois problemas: <br><br><ol><li>  Nem todas as partes do sistema podem ser facilmente aceleradas.  N√£o podemos influenciar alguns.  Por exemplo, a velocidade da luz. </li><li>  Nem todas as tarefas podem ser infinitamente divididas em menores e menores, uma vez que as informa√ß√µes n√£o foram aprendidas a serem transferidas em partes de menos de um bit. </li></ol><br>  Considere a passagem at√© o limite.  Suponhamos, no mesmo sistema aberto, a interpreta√ß√£o n√∫mero 2. Dividimos cada solicita√ß√£o recebida pela metade.  O tempo de resposta tamb√©m √© dividido pela metade.  Repita a divis√£o v√°rias vezes.  E nem precisamos mudar nada no sistema.  Acontece que voc√™ pode reduzir o tempo de resposta arbitrariamente simplesmente vendo os pedidos recebidos em um n√∫mero suficientemente grande de pe√ßas.  No limite, podemos dizer que, em vez de consultas, obtemos um "fluido de consulta", que filtramos por nossos servidores.  Este √© o chamado modelo de fluido, uma ferramenta muito conveniente para an√°lise simplificada.  Mas por que o tempo de resposta √© zero?  O que deu errado?  Onde n√£o consideramos a lat√™ncia?  Acontece que n√£o levamos em conta apenas a velocidade da luz, ela n√£o pode ser duplicada.  O tempo de propaga√ß√£o no canal da rede n√£o pode ser alterado, voc√™ s√≥ pode aguentar.  De fato, a transmiss√£o atrav√©s de uma rede inclui dois componentes: tempo de transmiss√£o e tempo de propaga√ß√£o.  O primeiro pode ser acelerado aumentando a pot√™ncia (largura do canal) ou reduzindo o tamanho dos pacotes, e o segundo √© muito dif√≠cil de influenciar.  Em nosso "modelo l√≠quido", simplesmente n√£o havia reservat√≥rios para acumular l√≠quidos - canais de rede com tempos de propaga√ß√£o diferentes de zero e constantes.  A prop√≥sito, se os adicionarmos ao nosso "modelo l√≠quido", a lat√™ncia ser√° determinada pela soma dos tempos de propaga√ß√£o e as filas nos n√≥s ainda estar√£o vazias.  As filas dependem apenas dos tamanhos dos pacotes e da variabilidade (leitura intermitente) do fluxo de entrada. <br><br>  Daqui resulta que, no que diz respeito √† lat√™ncia, voc√™ n√£o pode se dar bem com o c√°lculo de fluxos, e mesmo os dispositivos de reciclagem n√£o resolvem tudo.  √â necess√°rio levar em considera√ß√£o o tamanho das solicita√ß√µes e n√£o esquecer o tempo de distribui√ß√£o, que geralmente √© ignorado na teoria das filas, embora n√£o seja dif√≠cil adicion√°-lo aos c√°lculos. <br><br><h2>  Distribui√ß√µes </h2><br>  Qual √© o motivo da fila?  Obviamente, o sistema n√£o tem capacidade suficiente e o excesso de solicita√ß√µes est√° se acumulando?  N√£o √© verdade!  As filas tamb√©m surgem em sistemas onde existem recursos suficientes.  Se n√£o houver capacidade suficiente, o sistema, como dizem os te√≥ricos, n√£o √© est√°vel.  H√° duas raz√µes principais para a fila: a irregularidade das solicita√ß√µes e a variabilidade do tamanho das solicita√ß√µes.  J√° examinamos um exemplo no qual essas duas raz√µes foram eliminadas: um sistema em tempo real em que solicita√ß√µes do mesmo tamanho s√£o feitas estritamente periodicamente.  Uma fila nunca se forma.  O tempo m√©dio de espera na fila √© zero. ,      ,   ,    .      ,           . <br><br><img align="right" src="https://habrastorage.org/webt/i2/7m/an/i27man45re8dartbkru28x4mntc.png">      <a name="Kendall"></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a> A/S/k/K,  A ‚Äî    , S ‚Äî   , k ‚Äî  , K ‚Äî        (,   ). ,   M/M/1  :  M (Markovian  Memoryless) ,         . :           <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-226"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">Œª</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28">\lambda</script>    ‚Äî      ‚Äî ,  :        .  M ,             Œº   .  ,    ,     .   ,   4-   . ,     ,   : G ‚Äî   (,  ,     ), D ‚Äî deterministic. C   ‚Äî D/D/1.     ,     1909 ., ‚Äî M/D/1.       ‚Äî M/G/k  k&gt;1,    M/G/1    1930-. <br><br><h3>    ? </h3><br><img align="right" src="https://habrastorage.org/webt/zu/qk/yn/zuqkynemodd0x-8szhlclg3ltby.png">    ,         , ,    ,     ,       .        ,      .        ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">failure rate</a> . ,     ,          :        ,             .         failure rate function,      .  ,  ¬´¬ª     ,      .       ,   :      ,      . ,  failure rate ‚Äî ,          ,       - ,      ‚Äî .   ,  ,   ,   ,      ,           .    ¬´ ¬ª. <br><br><h3>     </h3><br> Failure rate     .     ‚Äî     . Failure rate ,      ,   ,    .     failure rate,     ,   ,    .     failure rate,     ,   ,      .   ,          ,    ,   software  hardware?  :    ?    .      ,    ,   -   .         ?     ,   ‚Äî  .       ( failure rate)       .   ¬´ ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>     . <br><br> ,        ,    failure rate,    , ,      unix-     .    ,     . <br><br> RTMR       ,      .   LWTrace     -   .       .     ,                    .     ,     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-228"><span class="MJXp-mrow" id="MJXp-Span-229"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-230">P</span></span><span class="MJXp-mo" id="MJXp-Span-231" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">S</span><span class="MJXp-mo" id="MJXp-Span-233" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">x</span><span class="MJXp-mo" id="MJXp-Span-235" style="margin-left: 0em; margin-right: 0em;">}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29">\mathbf{P}\{S>x\}</script>    .  ,    failure rate   ,       ,       :    . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d6/ij/bk/d6ijbk59mdiphlalbk_4zwysv1i.png"></div><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-236"><span class="MJXp-mrow" id="MJXp-Span-237"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-238">P</span></span><span class="MJXp-mo" id="MJXp-Span-239" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">S</span><span class="MJXp-mo" id="MJXp-Span-241" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">x</span><span class="MJXp-mo" id="MJXp-Span-243" style="margin-left: 0em; margin-right: 0em;">}</span><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-245"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-247" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-248">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">a</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30">\mathbf{P}\{S>x\} = x^{-a}</script> ,       ‚Äî   .    ,     ¬´ ¬ª,  80/20:    ,      . .        ,       .  ,  RTMR   -,    ,   .  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">a</span><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-253">1.16</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31">a=1.16</script> ,    80/20:  20%   80% . <br><br><h3>   </h3><br><img align="right" src="https://habrastorage.org/webt/wz/gx/vf/wzgxvfrwv40djjn8xm6fi73yilg.png">       ,   .           .   ,  ,    ,         -  .      ,   ‚Äî     .  ¬´ ¬ª     ,   ¬´ ¬ª ‚Äî . :  ,      ? ,      ( ,  ),           .    ,   0  .        , ,     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">Œº</span><span class="MJXp-msubsup" id="MJXp-Span-256"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257" style="margin-right: 0.05em;">N</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-258" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32">\mu N_1</script>        <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-259"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">Œª</span><span class="MJXp-msubsup" id="MJXp-Span-261"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262" style="margin-right: 0.05em;">N</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-263" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33">\lambda N_0</script>  .  ,     ,    ‚Äî   .         .       ,        .      M/M/1   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-264"><span class="MJXp-mrow" id="MJXp-Span-265"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-266">P</span></span><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">Q</span><span class="MJXp-mo" id="MJXp-Span-269" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">i</span><span class="MJXp-mo" id="MJXp-Span-271" style="margin-left: 0em; margin-right: 0em;">}</span><span class="MJXp-mo" id="MJXp-Span-272" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-273" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-274">1</span><span class="MJXp-mo" id="MJXp-Span-275" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">œÅ</span><span class="MJXp-mo" id="MJXp-Span-277" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-278"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279" style="margin-right: 0.05em;">œÅ</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-280" style="vertical-align: 0.5em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34">\mathbf{P}\{Q=i\} = (1 - \rho) \rho^i</script>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-281"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">œÅ</span><span class="MJXp-mo" id="MJXp-Span-283" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">Œª</span><span class="MJXp-mrow" id="MJXp-Span-285"><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">Œº</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35">\rho = \lambda / \mu</script>  - Esta √© a utiliza√ß√£o do servidor.  O fim da hist√≥ria.  No decorrer da apresenta√ß√£o, perdi uma quantidade razo√°vel de suposi√ß√µes e fiz algumas substitui√ß√µes de conceitos, mas espero que a ess√™ncia n√£o tenha sofrido. <br><br>  √â importante entender que essa abordagem s√≥ funciona se o estado atual da m√°quina determinar completamente seu comportamento adicional, e a hist√≥ria de como ela entrou nesse estado n√£o √© importante.  Para a compreens√£o cotidiana de uma m√°quina de estados finitos, isso √© desnecess√°rio - afinal, √© uma condi√ß√£o para isso.  Mas, para um processo estoc√°stico, segue-se que todas as distribui√ß√µes devem ser exponenciais, uma vez que apenas elas n√£o t√™m mem√≥ria - elas t√™m uma taxa de falha constante. <br><br><img width="400" align="right" src="https://habrastorage.org/webt/fo/ug/wo/fougwontl8vtxbrameivs1lware.png">  Tamb√©m √© importante dizer que todas as outras informa√ß√µes sobre o sistema s√£o f√°ceis de obter se conhecermos a distribui√ß√£o de equil√≠brio.  O n√∫mero m√©dio de consultas no sistema √© a m√©dia dessa distribui√ß√£o.  Para descobrir o tempo m√©dio de resposta, aplicamos o teorema de Little ao n√∫mero de consultas.  A distribui√ß√£o do tempo de resposta √© um pouco mais dif√≠cil de encontrar, mas tamb√©m em algumas a√ß√µes voc√™ pode descobrir que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-288"><span class="noError" id="MJXp-Span-289" style="display: inline-block;">\&nbsp;mathbf&nbsp;{P}&nbsp;\&nbsp;{response&nbsp;\&nbsp;_time&gt;&nbsp;t&nbsp;\}&nbsp;=&nbsp;e&nbsp;^&nbsp;{-&nbsp;(\&nbsp;mu-&nbsp;\&nbsp;lambda)&nbsp;t}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> \ mathbf {P} \ {response \ _time> t \} = e ^ {- (\ mu- \ lambda) t} </script>  e qual √© o tempo m√©dio de resposta <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-290"><span class="MJXp-mn" id="MJXp-Span-291">1</span><span class="MJXp-mrow" id="MJXp-Span-292"><span class="MJXp-mo" id="MJXp-Span-293" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-294" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-295">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">u</span><span class="MJXp-mo" id="MJXp-Span-298" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-299">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">a</span><span class="MJXp-mo" id="MJXp-Span-306" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> 1 / (\ mu- \ lambda) </script>  . <br><br><h3>  Tempo de resposta ilimitado </h3><br>  A partir dessa distribui√ß√£o, voc√™ pode encontrar qualquer percentil do tempo de resposta, e o cent√©simo percentil √© igual ao infinito.  Em outras palavras, o pior tempo de resposta n√£o √© limitado de cima.  O que, em geral, n√£o √© surpreendente, pois usamos o fluxo de Poisson.  Mas, na pr√°tica, esse comportamento nunca pode ser encontrado.  Obviamente, o fluxo de entrada de solicita√ß√µes ao servidor √© limitado, pelo menos pela largura do canal de rede para este servidor, e o comprimento da fila √© limitado pela mem√≥ria nesse servidor.  O fluxo de Poisson, pelo contr√°rio, com probabilidade diferente de zero garante a ocorr√™ncia de explos√µes arbitrariamente grandes.  Portanto, eu n√£o recomendaria proceder da suposi√ß√£o de um fluxo de entrada Poisson ao projetar um sistema se voc√™ estiver interessado em altos percentis e a carga do sistema for muito alta.  √â melhor usar outros modelos de tr√°fego, sobre os quais falarei outra vez sobre o c√°lculo da rede. <br><br><h3>  Escala e garantias </h3><br><img align="right" src="https://habrastorage.org/webt/y_/vj/hb/y_vjhby6djhmqoazxqa4cfjvzvc.png">  Agora que temos uma maneira poderosa o suficiente para analisar sistemas, podemos tentar aplic√°-lo a diferentes tarefas e colher os benef√≠cios.  Foi assim que a teoria do servi√ßo de massa se desenvolveu na segunda metade do s√©culo XX.  Vamos tentar entender o que foi alcan√ßado.  Para come√ßar, voltemos √†s tarefas que Erlang resolveu.  Essas s√£o as tarefas M / M / k / k e M / M / k, nas quais gostar√≠amos de limitar a probabilidade de falha.  Acontece que n√£o √© dif√≠cil para eles construir cadeias de Markov.  A diferen√ßa √© que, √† medida que as tarefas s√£o adicionadas, a probabilidade de uma transi√ß√£o reversa aumenta, pois as tarefas come√ßam a ser processadas em paralelo, mas quando o n√∫mero de tarefas se torna igual ao n√∫mero de servidores, ocorre satura√ß√£o.  Al√©m disso, para M / M / k / k, a rede termina, o aut√¥mato realmente √© finito e todas as solicita√ß√µes que chegam ao √∫ltimo estado s√£o negadas.  A probabilidade deste evento √© simplesmente igual √† probabilidade de estarmos no √∫ltimo estado. <br><br><img align="left" src="https://habrastorage.org/webt/2v/oe/qi/2voeqidu00er2j-58c-q-egkmws.png">  Para M / M / k, a situa√ß√£o √© mais complicada, as solicita√ß√µes s√£o enfileiradas, novos estados aparecem, mas a probabilidade de uma transi√ß√£o reversa n√£o aumenta - todos os servidores j√° est√£o funcionando.  A rede se torna infinita, como para M / M / 1.  A prop√≥sito, se o n√∫mero de solicita√ß√µes no sistema for limitado, a cadeia sempre ter√° um n√∫mero finito de estados e, de uma forma ou de outra, ser√° resolvida, o que n√£o pode ser dito sobre as intermin√°veis ‚Äã‚Äãcadeias.  Em sistemas fechados, as correntes s√£o sempre finitas.  Resolvendo os circuitos descritos para M / M / k / k e M / M / k, chegamos √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">f√≥rmula B</a> e √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">f√≥rmula C de</a> Erlang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">,</a> respectivamente.  Eles s√£o bastante volumosos, n√£o darei a eles, mas com a ajuda deles, voc√™ pode obter um resultado interessante para o desenvolvimento da intui√ß√£o, que √© chamada de regra de pessoal da raiz quadrada.  Suponha que exista um sistema M / M / k com algum fluxo de entrada fornecido Œª de solicita√ß√µes por segundo.  Suponha que a carga dobrar√° at√© amanh√£.  A quest√£o √©: como aumentar o n√∫mero de servidores para que o tempo de resposta permane√ßa o mesmo?  O n√∫mero de servidores precisa ser dobrado, certo?  Acontece que n√£o.  Lembre-se de que j√° vimos: se voc√™ acelerar o tempo (servidores e login) pela metade, o tempo m√©dio de resposta diminuir√° pela metade.  V√°rios servidores lentos e um r√°pido n√£o s√£o a mesma coisa, mas, no entanto, o poder da computa√ß√£o √© o mesmo.  Em particular, para M / M / 1, por exemplo, o tempo de resposta √© inversamente proporcional ao volume de "capacidade livre" <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-307"><span class="MJXp-mtext" id="MJXp-Span-308">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">u</span><span class="MJXp-mo" id="MJXp-Span-311" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-312">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> \ mu - \ lambda </script>  e √© determinado apenas por este volume.  Ao dobrar o fluxo e o poder de processamento, a capacidade livre do sistema dobra: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-319"><span class="MJXp-mn" id="MJXp-Span-320">2</span><span class="MJXp-mtext" id="MJXp-Span-321">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">u</span><span class="MJXp-mo" id="MJXp-Span-324" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-325">2</span><span class="MJXp-mtext" id="MJXp-Span-326">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> 2 \ mu - 2 \ lambda </script>  .  Pode parecer que, para resolver o problema, voc√™ s√≥ precisa economizar a capacidade livre, mas o tempo de resposta em M / M / k j√° √© determinado pela f√≥rmula mais complexa de Erlang.  Acontece que a capacidade livre deve ser mantida na propor√ß√£o da raiz quadrada do n√∫mero de "servidores ocupados" para manter o mesmo tempo de resposta.  Por n√∫mero de ‚Äúservidores ocupados‚Äù entende-se o n√∫mero total de servidores multiplicado pela utiliza√ß√£o: este √© o n√∫mero m√≠nimo de servidores necess√°rios para uma opera√ß√£o est√°vel. <br><br>  Usando essa regra, √†s vezes eles tentam justificar como expandir um cluster com servidores.  Mas n√£o fique com a ilus√£o de que qualquer cluster √© um sistema M / M / k.  Por exemplo, se voc√™ possui um balanceador em sua entrada que envia solicita√ß√µes em filas para servidores, isso n√£o √© mais M / M / k, pois M / M / k implica uma fila comum na qual os servidores capturam solicita√ß√µes quando s√£o liberadas.  Mas esse modelo √© adequado, por exemplo, para conjuntos de encadeamentos com uma fila FIFO comum.  No entanto, mesmo neste caso, vale lembrar que esta regra √© uma aproxima√ß√£o para o caso em que existem muitos encadeamentos.  De fato, se voc√™ tiver mais de 10 threads, poder√° assumir com seguran√ßa que existem muitos deles.  Bem, n√£o se esque√ßa das distribui√ß√µes exponenciais onipresentes: sem assumir a exponencialidade de todas as distribui√ß√µes, a regra tamb√©m n√£o funciona. <br><br><h3>  Tempo de resposta da rede </h3><br>  Por fim, √© interessante uma rede de M / M / k conectada pelo menos em uma cadeia, j√° que fabricamos sistemas distribu√≠dos.  Para estudar redes, eu gostaria de ter um construtor: regras simples e claras para conectar elementos conhecidos em blocos.  Na teoria de controle, por exemplo, existem fun√ß√µes de transfer√™ncia que s√£o compreensivelmente combinadas com conex√µes seriais ou paralelas.  Aqui, o fluxo de sa√≠da de qualquer n√≥ tem uma distribui√ß√£o muito complicada, com exce√ß√£o de M / M / k, que, de acordo com o conhecido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">teorema de Burke,</a> produz um fluxo de Poisson independente.  Essa exce√ß√£o, como voc√™ pode imaginar, √© usada principalmente. <br><br>  A conex√£o de dois fluxos Poisson √© um fluxo Poisson.  A separa√ß√£o probabil√≠stica do fluxo de Poisson em dois produz novamente dois fluxos de Poisson.  Tudo isso leva ao fato de que todas as filas do sistema s√£o independentes e voc√™ pode obter, em linguagem formal, a chamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">solu√ß√£o de formul√°rio de produto</a> .  Ou seja, a distribui√ß√£o conjunta dos comprimentos das filas √© simplesmente o produto das distribui√ß√µes dos comprimentos de todas as filas, consideradas separadamente - √© assim que a independ√™ncia √© expressa na teoria das probabilidades.  Apenas encontramos os fluxos de entrada para todos os n√≥s e usamos as f√≥rmulas para cada n√≥ de forma independente.  Existem v√°rias limita√ß√µes: <br><br><ol><li>  Algoritmo de roteamento probabil√≠stico.  A solicita√ß√£o atendida pelo n√≥ seleciona a pr√≥xima aleatoriamente com uma probabilidade conhecida.  Isso n√£o √© t√£o ruim quanto parece, porque √© poss√≠vel usar "classes de solicita√ß√£o": digamos que todas as solicita√ß√µes de Vasya cheguem ao servidor n¬∫ 1, depois ao servidor n¬∫ 2 e depois saiam da rede, e as solicita√ß√µes de Petya venham ao servidor n¬∫ 2 e, com igual probabilidade, visite o servidor n√∫mero 1 ou n√∫mero 3 e saia.  Ou seja, nem todas as transi√ß√µes precisam ser aleat√≥rias, algumas ou mesmo todas podem ter uma probabilidade de 100%. </li><li>  Suposi√ß√£o da independ√™ncia de Kleinrock.  O tempo de processamento da solicita√ß√£o n√£o pode depender do hist√≥rico ou da classe da solicita√ß√£o, mas √© determinado apenas pelo servidor e, quando a solicita√ß√£o passa novamente pelo mesmo servidor, √© selecionado aleatoriamente a cada vez.  De fato, n√£o h√° como definir o tamanho da solicita√ß√£o que seria usada em servidores diferentes, e o tempo de servi√ßo √© determinado apenas pelo pr√≥prio servidor.  Voc√™ tamb√©m pode tentar contornar essa limita√ß√£o.  Para isso, o roteamento probabil√≠stico √© geralmente usado e √© feito um loop para retornar ao mesmo servidor com alguma probabilidade - como se eles reiniciassem a solicita√ß√£o.  Na minha opini√£o, esse √© um truque bastante estranho, porque essa solicita√ß√£o entra novamente na fila e n√£o √© executada imediatamente, mas para algumas tarefas isso n√£o √© importante. </li><li>  Tr√°fego de entrada de Poisson e tempo de servi√ßo exponencial em todos os n√≥s. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i-/tt/tu/i-tttuambmtnx24ekbohhqo0kew.png"></div>  Exemplo de rede Jackson. <br><br>  Vale a pena notar que, na presen√ßa de feedback, um fluxo de Poisson N√ÉO √© obtido, pois os fluxos acabam sendo interdependentes.  Na sa√≠da do n√≥ de feedback, tamb√©m √© obtido um fluxo n√£o Poisson e, como resultado, todos os fluxos se tornam n√£o Poisson.  No entanto, de uma maneira surpreendente, verifica-se que todos esses fluxos n√£o-Poisson se comportam exatamente da mesma forma que os fluxos Poisson (oh, essa teoria da probabilidade) se as restri√ß√µes acima forem atendidas.  E, novamente, obtemos uma solu√ß√£o em forma de produto.  Essas redes s√£o chamadas de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">redes Jackson</a> , podem fornecer feedback e, portanto, v√°rias visitas a qualquer servidor.  Existem outras redes nas quais mais liberdades s√£o permitidas, mas, como resultado, todas as conquistas anal√≠ticas significativas da teoria das filas em rela√ß√£o √†s redes envolvem fluxos de Poisson na solu√ß√£o de entrada e na forma de produto, que se tornou alvo de cr√≠ticas a essa teoria e levou nos anos 90 a o desenvolvimento de outras teorias e o estudo do que √© realmente necess√°ria a distribui√ß√£o e como trabalhar com elas. <br><br>  Uma aplica√ß√£o importante de toda essa teoria das redes Jackson √© a modelagem de pacotes em redes IP e redes ATM.  O modelo √© bastante adequado: os tamanhos dos pacotes n√£o variam muito e n√£o dependem do pr√≥prio pacote, apenas da largura do canal, pois o tempo de servi√ßo corresponde ao hor√°rio em que o pacote foi enviado ao canal.  O tempo de envio aleat√≥rio, embora pare√ßa selvagem, na verdade n√£o possui uma variabilidade muito grande.  Al√©m disso, verifica-se que em uma rede com tempo de servi√ßo determin√≠stico, a lat√™ncia n√£o pode ser maior do que em uma rede Jackson semelhante; portanto, essas redes podem ser usadas com seguran√ßa para estimar o tempo de resposta de cima. <br><br><h2>  Distribui√ß√µes n√£o-exponenciais </h2><br>  Todos os resultados dos quais falei estavam relacionados a distribui√ß√µes exponenciais, mas tamb√©m mencionei que as distribui√ß√µes reais s√£o diferentes.  H√° um sentimento de que toda essa teoria √© bastante in√∫til.  Isto n√£o √© inteiramente verdade.  Existe uma maneira de integrar outras distribui√ß√µes nesse aparato matem√°tico, al√©m disso, praticamente todas as distribui√ß√µes, mas isso nos custar√° algo.  Com exce√ß√£o de alguns casos interessantes, a oportunidade de obter uma solu√ß√£o de forma expl√≠cita √© perdida, a solu√ß√£o de forma de produto √© perdida e, com ela, o construtor: cada problema deve ser resolvido totalmente do zero usando cadeias de Markov.  Para a teoria, esse √© um grande problema, mas, na pr√°tica, significa simplesmente a aplica√ß√£o de m√©todos num√©ricos e torna poss√≠vel resolver problemas muito mais complexos e pr√≥ximos da realidade. <br><br><h3>  M√©todo de fase </h3><br>  A ideia √© simples.  As cadeias de Markov n√£o nos permitem ter mem√≥ria dentro de um estado; portanto, todas as transi√ß√µes devem ser aleat√≥rias com uma distribui√ß√£o exponencial de tempo entre duas transi√ß√µes.  Mas e se o estado for dividido em v√°rios subestados?  As transi√ß√µes entre subestados ainda devem ter uma distribui√ß√£o exponencial se queremos que toda a estrutura permane√ßa uma cadeia de Markov, e realmente queremos, porque sabemos como resolver essas cadeias.  Os sub-estados s√£o freq√ºentemente chamados de fases se forem organizados em s√©rie, e o processo de parti√ß√£o √© chamado de m√©todo de fase. <br><br>  O exemplo mais simples.  A solicita√ß√£o √© processada em v√°rias fases: primeiro, por exemplo, lemos os dados necess√°rios do banco de dados, depois executamos alguns c√°lculos e depois escrevemos os resultados no banco de dados.  Suponha que todos esses tr√™s est√°gios tenham a mesma distribui√ß√£o exponencial de tempo.  Qual distribui√ß√£o tem o tempo de tr√¢nsito das tr√™s fases juntas?  Esta √© a distribui√ß√£o de Erlang. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gi/sn/ox/gisnoxcl23umxemita-xn7_oyis.png"></div><br><br>  Mas e se voc√™ fizer muitas, muitas fases curtas e id√™nticas?  No limite, obtemos uma distribui√ß√£o determin√≠stica.  Ou seja, ao construir uma cadeia, voc√™ pode reduzir a variabilidade da distribui√ß√£o. <br><br>  √â poss√≠vel aumentar a variabilidade?  F√°cil.  Em vez de uma cadeia de fases, usamos categorias alternativas, escolhendo aleatoriamente uma delas.  Um exemplo  Quase todas as solicita√ß√µes s√£o executadas rapidamente, mas h√° uma pequena chance de uma solicita√ß√£o enorme chegar, o que leva muito tempo.  Essa distribui√ß√£o ter√° uma taxa de falha decrescente.  Quanto mais esperarmos, maior a probabilidade de a solicita√ß√£o cair na segunda categoria. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jp/09/vb/jp09vbkqf-nrvxlkhrbf7i6mygg.png"></div><br><br>  Continuando a desenvolver o m√©todo das fases, os te√≥ricos descobriram que h√° uma classe de distribui√ß√µes com a qual voc√™ pode abordar com precis√£o uma distribui√ß√£o arbitr√°ria e n√£o negativa!  A distribui√ß√£o de Coxian √© constru√≠da pelo m√©todo das fases, apenas n√£o somos obrigados a passar por todas as fases, ap√≥s cada fase h√° alguma probabilidade de conclus√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dx/ve/ti/dxvetidgigjolzluic7soljyrsi.png"></div><br><br>  Esse tipo de distribui√ß√£o pode ser usado tanto para gerar um fluxo de entrada n√£o Poisson quanto para criar um tempo de servi√ßo n√£o exponencial.  Aqui, por exemplo, est√° a cadeia de Markov para o sistema M / E2 / 1 com distribui√ß√£o Erlang para o tempo de servi√ßo.  O estado √© determinado por um par de n√∫meros (n, s), em que n √© o comprimento da fila e s √© o n√∫mero do est√°gio em que o servidor est√° localizado: primeiro ou segundo.  Todas as combina√ß√µes de n e s s√£o poss√≠veis.  As mensagens recebidas mudam apenas n e, ap√≥s a conclus√£o das fases, elas alternam e diminuem o comprimento da fila ap√≥s a conclus√£o da segunda fase. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/br/dj/hu/brdjhuu3t0-ariyfqazvgkf54ky.png"></div><br><br><h3>  Voc√™ tem microbursts! </h3><br>  Um sistema carregado com metade de sua capacidade pode ficar lento?  Como o primeiro sujeito de teste, preparamos M / G / 1.  Dado: Fluxo de Poisson na entrada e distribui√ß√£o arbitr√°ria do tempo de servi√ßo.  Considere o caminho de uma √∫nica solicita√ß√£o por todo o sistema.  Um pedido recebido aleatoriamente v√™ na fila √† sua frente o n√∫mero m√©dio de pedidos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-333"><span class="MJXp-mtext" id="MJXp-Span-334">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">f</span><span class="MJXp-mrow" id="MJXp-Span-341"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">E</span></span><span class="MJXp-mo" id="MJXp-Span-343" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-344"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345" style="margin-right: 0.05em;">N</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-346" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-347" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> \ mathbf {E} [N_Q] </script>  .  O tempo m√©dio de processamento para cada um deles <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-348"><span class="MJXp-mtext" id="MJXp-Span-349">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355">f</span><span class="MJXp-mrow" id="MJXp-Span-356"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">E</span></span><span class="MJXp-mo" id="MJXp-Span-358" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">S</span><span class="MJXp-mo" id="MJXp-Span-360" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> \ mathbf {E} [S] </script>  .  Com probabilidade igual √† disposi√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-361"><span class="MJXp-mtext" id="MJXp-Span-362">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">o</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> \ rho </script>  , h√° outra solicita√ß√£o no servidor, que deve primeiro ser "atendida" a tempo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-366"><span class="MJXp-mtext" id="MJXp-Span-367">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-372">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">f</span><span class="MJXp-mrow" id="MJXp-Span-374"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">E</span></span><span class="MJXp-mo" id="MJXp-Span-376" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-377"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-379" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-380" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> \ mathbf {E} [S_e] </script>  .  Em resumo, obtemos que o tempo total de espera na fila <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-381"><span class="MJXp-mtext" id="MJXp-Span-382">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-383">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">f</span><span class="MJXp-mrow" id="MJXp-Span-389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">E</span></span><span class="MJXp-mo" id="MJXp-Span-391" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-392"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-394" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-395" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-396" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-397">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">f</span><span class="MJXp-mrow" id="MJXp-Span-404"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">E</span></span><span class="MJXp-mo" id="MJXp-Span-406" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-407"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408" style="margin-right: 0.05em;">N</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-409" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mtext" id="MJXp-Span-411">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">f</span><span class="MJXp-mrow" id="MJXp-Span-418"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">E</span></span><span class="MJXp-mo" id="MJXp-Span-420" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">S</span><span class="MJXp-mo" id="MJXp-Span-422" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-423" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-424">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">o</span><span class="MJXp-mtext" id="MJXp-Span-428">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">f</span><span class="MJXp-mrow" id="MJXp-Span-435"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">E</span></span><span class="MJXp-mo" id="MJXp-Span-437" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-438"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-440" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-441" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> \ mathbf {E} [T_Q] = \ mathbf {E} [N_Q] \ mathbf {E} [S] + \ rho \ mathbf {E} [S_e] </script>  .  Pelo teorema de Little <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-442"><span class="MJXp-mtext" id="MJXp-Span-443">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">f</span><span class="MJXp-mrow" id="MJXp-Span-450"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">E</span></span><span class="MJXp-mo" id="MJXp-Span-452" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-453"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454" style="margin-right: 0.05em;">N</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-455" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-456" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-457" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-458">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-459">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">a</span><span class="MJXp-mtext" id="MJXp-Span-465">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-466">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">f</span><span class="MJXp-mrow" id="MJXp-Span-472"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">E</span></span><span class="MJXp-mo" id="MJXp-Span-474" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-475"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-477" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-478" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> \ mathbf {E} [N_Q] = \ lambda \ mathbf {E} [T_Q] </script>  ;  combinando, obtemos: <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-479"><span class="MJXp-mtext" id="MJXp-Span-480">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">f</span><span class="MJXp-mrow" id="MJXp-Span-487"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">E</span></span><span class="MJXp-mo" id="MJXp-Span-489" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-490"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-492" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-493" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-494" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-495">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">c</span><span class="MJXp-mrow" id="MJXp-Span-500"><span class="MJXp-mtext" id="MJXp-Span-501">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-504">o</span></span><span class="MJXp-mrow" id="MJXp-Span-505"><span class="MJXp-mn" id="MJXp-Span-506">1</span><span class="MJXp-mo" id="MJXp-Span-507" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-508">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">o</span></span><span class="MJXp-mtext" id="MJXp-Span-512">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-513">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-518">f</span><span class="MJXp-mrow" id="MJXp-Span-519"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520">E</span></span><span class="MJXp-mo" id="MJXp-Span-521" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-522"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-524" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-525" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-46"> \ mathbf {E} [T_Q] = \ frac {\ rho} {1- \ rho} \ mathbf {E} [S_e] </script></p>  Ou seja, o tempo de espera na fila √© determinado por dois fatores.  O primeiro √© o efeito da utiliza√ß√£o do servidor e o segundo √© o tempo m√©dio ap√≥s o servi√ßo.  Considere o segundo fator.  Uma solicita√ß√£o chegando em algum momento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-526"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-527">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> t </script>  , v√™ que os cuidados posteriores levam tempo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-528"><span class="MJXp-msubsup" id="MJXp-Span-529"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-531" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-532" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">t</span><span class="MJXp-mo" id="MJXp-Span-534" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> S_e (t) </script>  . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/ak/d0/xtakd0ypobod5ijatuasexj1t6w.png"></div><br><br>  Tempo m√©dio <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-535"><span class="MJXp-mtext" id="MJXp-Span-536">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-539">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">f</span><span class="MJXp-mrow" id="MJXp-Span-543"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">E</span></span><span class="MJXp-mo" id="MJXp-Span-545" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-546"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-548" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-549" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> \ mathbf {E} [S_e] </script>  determinado pelo valor m√©dio da fun√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-550"><span class="MJXp-msubsup" id="MJXp-Span-551"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-553" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-554" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-555">t</span><span class="MJXp-mo" id="MJXp-Span-556" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> S_e (t) </script>  , ou seja, a √°rea de tri√¢ngulos dividida pelo tempo total.  √â claro que podemos nos limitar a um tri√¢ngulo "m√©dio", ent√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-557"><span class="MJXp-mtext" id="MJXp-Span-558">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">f</span><span class="MJXp-mrow" id="MJXp-Span-565"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">E</span></span><span class="MJXp-mo" id="MJXp-Span-567" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-568"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-570" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-571" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-572" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-573">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579">f</span><span class="MJXp-mrow" id="MJXp-Span-580"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">E</span></span><span class="MJXp-mo" id="MJXp-Span-582" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-583"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-585" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-586" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mrow" id="MJXp-Span-587"><span class="MJXp-mo" id="MJXp-Span-588" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-589">2</span><span class="MJXp-mtext" id="MJXp-Span-590">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">f</span><span class="MJXp-mrow" id="MJXp-Span-597"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">E</span></span><span class="MJXp-mo" id="MJXp-Span-599" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-600">S</span><span class="MJXp-mo" id="MJXp-Span-601" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> \ mathbf {E} [S_e] = \ mathbf {E} [S ^ 2] / 2 \ mathbf {E} [S] </script>  .  Isso √© bem inesperado.  Recebemos que o tempo de p√≥s-servi√ßo √© determinado n√£o apenas pelo valor m√©dio do tempo de servi√ßo, mas tamb√©m por sua variabilidade.  A explica√ß√£o √© simples.  A probabilidade de cair em um longo intervalo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-602"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> S </script>  mais, √© proporcional √† dura√ß√£o S deste intervalo.  Isso explica o famoso Paradoxo do tempo de espera, ou Paradoxo da inspe√ß√£o.  Mas voltando ao M / G / 1.  Se voc√™ combinar tudo o que obtivemos e reescrever usando a variabilidade <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-604"><span class="MJXp-msubsup" id="MJXp-Span-605"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-608">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-609" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-610">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-613">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-614">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">f</span><span class="MJXp-mrow" id="MJXp-Span-617"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">E</span></span><span class="MJXp-mo" id="MJXp-Span-619" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-620">S</span><span class="MJXp-mo" id="MJXp-Span-621" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mrow" id="MJXp-Span-622"><span class="MJXp-mo" id="MJXp-Span-623" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-624">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-625">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">f</span><span class="MJXp-mrow" id="MJXp-Span-631"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">E</span></span><span class="MJXp-mo" id="MJXp-Span-633" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634">S</span><span class="MJXp-msubsup" id="MJXp-Span-635"><span class="MJXp-mo" id="MJXp-Span-636" style="margin-left: 0em; margin-right: 0.05em;">]</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-637" style="vertical-align: 0.5em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> C ^ 2_S = \ mathbf {E} [S] / \ mathbf {E} [S] ^ 2 </script>  obtenha a famosa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">f√≥rmula de Pollaczek-Khinchine</a> : <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-638"><span class="MJXp-mtext" id="MJXp-Span-639">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-640">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-643">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">f</span><span class="MJXp-mrow" id="MJXp-Span-646"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">E</span></span><span class="MJXp-mo" id="MJXp-Span-648" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-649"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-651" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-652" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-653" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-654">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-656">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-657">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658">c</span><span class="MJXp-mrow" id="MJXp-Span-659"><span class="MJXp-mtext" id="MJXp-Span-660">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-661">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-662">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">o</span></span><span class="MJXp-mrow" id="MJXp-Span-664"><span class="MJXp-mn" id="MJXp-Span-665">1</span><span class="MJXp-mo" id="MJXp-Span-666" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-667">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-670">o</span></span><span class="MJXp-mtext" id="MJXp-Span-671">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-672">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">c</span><span class="MJXp-mrow" id="MJXp-Span-676"><span class="MJXp-mtext" id="MJXp-Span-677">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">f</span><span class="MJXp-mrow" id="MJXp-Span-684"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685">E</span></span><span class="MJXp-mo" id="MJXp-Span-686" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-687">S</span><span class="MJXp-mo" id="MJXp-Span-688" style="margin-left: 0em; margin-right: 0em;">]</span></span><span class="MJXp-mrow" id="MJXp-Span-689"><span class="MJXp-mn" id="MJXp-Span-690">2</span></span><span class="MJXp-mo" id="MJXp-Span-691" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-692"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-695">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-696" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-697">1</span><span class="MJXp-mo" id="MJXp-Span-698" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-54"> \ mathbf {E} [T_Q] = \ frac {\ rho} {1- \ rho} \ frac {\ mathbf {E} [S]} {2} (C ^ 2_S + 1) </script></p>  Se a prova o aborrecer, espero que agrade o resultado de sua aplica√ß√£o na pr√°tica.  J√° examinamos os dados de tempo de servi√ßo no RTMR.  A cauda longa surge com grande variabilidade e, neste caso, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-699"><span class="MJXp-msubsup" id="MJXp-Span-700"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-703">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-702">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-704" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-705">381</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> C ^ 2_S = 381 </script>  .  Isso, voc√™ v√™, √© muito mais do que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-706"><span class="MJXp-msubsup" id="MJXp-Span-707"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-710">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-711" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-712">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> C ^ 2_S = 1 </script>  para distribui√ß√£o exponencial.  Em m√©dia, tudo √© super r√°pido: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-713"><span class="MJXp-mtext" id="MJXp-Span-714">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-715">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-720">f</span><span class="MJXp-mrow" id="MJXp-Span-721"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">E</span></span><span class="MJXp-mo" id="MJXp-Span-723" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">S</span><span class="MJXp-mo" id="MJXp-Span-725" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-726" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-727">263</span><span class="MJXp-mo" id="MJXp-Span-728" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-729">792</span><span class="MJXp-mrow" id="MJXp-Span-730"><span class="MJXp-mo" id="MJXp-Span-731" style="margin-left: 0em; margin-right: 0em;">Œº</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">s</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> \ mathbf {E} [S] = 263,792 Œºs </script>  .  Agora, suponha que o RTMR seja modelado pelo sistema M / G / 1 e n√£o permita que o sistema seja carregado com muita carga. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-733"><span class="MJXp-mtext" id="MJXp-Span-734">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">o</span><span class="MJXp-mo" id="MJXp-Span-738" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-739">0</span><span class="MJXp-mo" id="MJXp-Span-740" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-741">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> \ rho = 0,5 </script>  .  Substituindo na f√≥rmula, obtemos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-742"><span class="MJXp-mtext" id="MJXp-Span-743">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-744">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-747">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749">f</span><span class="MJXp-mrow" id="MJXp-Span-750"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">E</span></span><span class="MJXp-mo" id="MJXp-Span-752" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-753"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-755" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-756" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-757" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-758">1</span><span class="MJXp-mo" id="MJXp-Span-759" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mo" id="MJXp-Span-760" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-761">381</span><span class="MJXp-mo" id="MJXp-Span-762" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-763">1</span><span class="MJXp-mo" id="MJXp-Span-764" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-765"><span class="MJXp-mo" id="MJXp-Span-766" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-767">2</span><span class="MJXp-mo" id="MJXp-Span-768" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mn" id="MJXp-Span-769">263</span><span class="MJXp-mo" id="MJXp-Span-770" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-771">792</span><span class="MJXp-mrow" id="MJXp-Span-772"><span class="MJXp-mo" id="MJXp-Span-773" style="margin-left: 0em; margin-right: 0em;">Œº</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-774">s</span><span class="MJXp-mo" id="MJXp-Span-775" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-776">50</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-777">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-778">s</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-59"> \ mathbf {E} [T_Q] = 1 * (381 + 1) / 2 * 263,792 Œºs = 50 ms </script>  .  Devido a micro-explos√µes, mesmo um sistema t√£o r√°pido e subutilizado pode se transformar, em m√©dia, em um nojento.  Por 50 ms, voc√™ pode acessar o disco r√≠gido seis vezes ou, se tiver sorte, at√© um data center em outro continente!  A prop√≥sito, para G / G / 1, existe uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aproxima√ß√£o</a> que leva em considera√ß√£o a variabilidade do tr√°fego recebido: parece exatamente o mesmo, apenas <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-779"><span class="MJXp-msubsup" id="MJXp-Span-780"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-783">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-784" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-785">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> C ^ 2_S + 1 </script>  √© a soma das duas variedades <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-786"><span class="MJXp-msubsup" id="MJXp-Span-787"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-790">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-791" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-792"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-795">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794">A</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61"> C ^ 2_S + C ^ 2_A </script>  .  Para o caso de v√°rios servidores, as coisas s√£o melhores, mas o efeito de v√°rios servidores afeta apenas o primeiro fator.  O efeito da variabilidade permanece: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-796"><span class="MJXp-mtext" id="MJXp-Span-797">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-799">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-801">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-802">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-803">f</span><span class="MJXp-mrow" id="MJXp-Span-804"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-805">E</span></span><span class="MJXp-mo" id="MJXp-Span-806" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-807"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-809" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-msubsup" id="MJXp-Span-810"><span class="MJXp-mo" id="MJXp-Span-811" style="margin-left: 0em; margin-right: 0.05em;">]</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-812" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813">G</span><span class="MJXp-mrow" id="MJXp-Span-814"><span class="MJXp-mo" id="MJXp-Span-815">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">G</span><span class="MJXp-mrow" id="MJXp-Span-817"><span class="MJXp-mo" id="MJXp-Span-818">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819">k</span></span></span><span class="MJXp-mo" id="MJXp-Span-820" style="margin-left: 0.333em; margin-right: 0.333em;">‚âà</span><span class="MJXp-mtext" id="MJXp-Span-821">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-822">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-823">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-827">f</span><span class="MJXp-mrow" id="MJXp-Span-828"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-829">E</span></span><span class="MJXp-mo" id="MJXp-Span-830" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-831"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-833" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-msubsup" id="MJXp-Span-834"><span class="MJXp-mo" id="MJXp-Span-835" style="margin-left: 0em; margin-right: 0.05em;">]</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-836" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">M</span><span class="MJXp-mrow" id="MJXp-Span-838"><span class="MJXp-mo" id="MJXp-Span-839">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840">M</span><span class="MJXp-mrow" id="MJXp-Span-841"><span class="MJXp-mo" id="MJXp-Span-842">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843">k</span></span></span><span class="MJXp-mo" id="MJXp-Span-844" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-845"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-848">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-847">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-849" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-850"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-853">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-852">A</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-854" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-855"><span class="MJXp-mo" id="MJXp-Span-856" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-857">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62"> \ mathbf {E} [T_Q] ^ {G / G / k} ‚âà \ mathbf {E} [T_Q] ^ {M / M / k} (C ^ 2_S + C ^ 2_A) / 2 </script>  . <br><br>  Como √© o microburst?  Com rela√ß√£o aos conjuntos de encadeamentos, essas s√£o tarefas que s√£o atendidas com rapidez suficiente para n√£o serem vis√≠veis nos planejamentos de reciclagem e lentas o suficiente para criar uma fila atr√°s de si e afetar o tempo de resposta do conjunto.  Do ponto de vista te√≥rico, essas s√£o consultas enormes desde o final da distribui√ß√£o.  Digamos que voc√™ tenha um pool de 10 threads e observe o cronograma de reciclagem, constru√≠do com base nas m√©tricas de tempo operacional e tempo de inatividade, que s√£o coletadas a cada 15 segundos.  Primeiro, voc√™ pode n√£o perceber que um thread est√° paralisado ou que todos os 10 threads executaram simultaneamente grandes tarefas por um segundo e depois n√£o fizeram nada por 14 segundos.  Uma resolu√ß√£o de 15 segundos n√£o permite ver um salto na utiliza√ß√£o de at√© 100% e de volta a 0%, e o tempo de resposta sofre. ,    ,    15     6 ,      . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8v/19/8r/8v198rjsunpavjnp12kadqnk1as.gif"></div><br><br>      ,    (   )     . <br><br>      ,  RTMR   SelfPing,    ( 10 ),         ‚Äî     .   ,      10        15 .  ,          . ,      ,     10 ,       ,    ‚Äî    .    self-ping-     CPU.   ,     :      ,   ,    . :    ,     ,     .       :       .     ,      15-  , ‚Äî     . <br><br> ,   ,  SelfPing ,    ?   ?     ,   LWTrace.         ,             .    -100  .     .       :       ;     ‚Äî     ,          ,    ;    perf  ,       ,     . <br><br><h3>      </h3><br><img align="right" src="https://habrastorage.org/webt/1w/3r/yl/1w3ryloyjmzbo6r6di9fj0xsiz0.png">      ¬´ ¬ª,       .       ,    ,      .    FIFO-.    ,       ,       latency ( SPT  SRPT).   ‚Äî        . ,          ,    ,              .   ,       ¬´  ¬ª,        . <br><br>         ,  -   product-form solution       .     M/ <b>Cox</b> /1/ <b>PS</b> .    ,    (Coxian distribution)      (Processor Sharing),    ,   ,     .     ? ,         .     ,    ,    (.   )     ,  ,         M/ <b>M</b> /1/ <b>FIFO</b> ,         ,   . <br><br>   !   ,       ,          ,     !       insensitivity property.     ,   ,        ,      ,   .       ‚Äî M/M/‚àû.     ,     .          ,    product-form solution      ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> BCMP</a> . <br><br><img align="left" src="https://habrastorage.org/webt/6e/ak/13/6eak136q6prunjzlpkeucra2isk.png">      .  ,      (,   ),     ,    , √≥      .     .  Solu√ß√£o. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-858"><span class="MJXp-mrow" id="MJXp-Span-859"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-860">E</span></span><span class="MJXp-mo" id="MJXp-Span-861" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-862">T</span><span class="MJXp-mo" id="MJXp-Span-863" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-864" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-865">1</span><span class="MJXp-mrow" id="MJXp-Span-866"><span class="MJXp-mo" id="MJXp-Span-867" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-868">3</span><span class="MJXp-mrow" id="MJXp-Span-869"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-870">E</span></span><span class="MJXp-mo" id="MJXp-Span-871" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-872"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-874" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-875" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-876" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-877">2</span><span class="MJXp-mrow" id="MJXp-Span-878"><span class="MJXp-mo" id="MJXp-Span-879" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-880">3</span><span class="MJXp-mrow" id="MJXp-Span-881"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-882">E</span></span><span class="MJXp-mo" id="MJXp-Span-883" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-884"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-885" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-886" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-887" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-63">\mathbf{E}[T] = 1/3 \mathbf{E}[T_1] + 2/3 \mathbf{E}[T_2]</script>  .    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-888"><span class="MJXp-mrow" id="MJXp-Span-889"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-890">E</span></span><span class="MJXp-mo" id="MJXp-Span-891" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-892"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-893" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-894" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-895" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-896" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-897">1</span><span class="MJXp-mrow" id="MJXp-Span-898"><span class="MJXp-mo" id="MJXp-Span-899" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-900" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-901"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902" style="margin-right: 0.05em;">Œº</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-903" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-904" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-905"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-906" style="margin-right: 0.05em;">Œª</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-907" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-908" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-64">\mathbf{E}[T_i] = 1/(\mu_i - \lambda_i)</script>     M/M/1/FCFS   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-909"><span class="MJXp-mrow" id="MJXp-Span-910"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-911">E</span></span><span class="MJXp-mo" id="MJXp-Span-912" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913">T</span><span class="MJXp-mo" id="MJXp-Span-914" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-915" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-916">1</span><span class="MJXp-mrow" id="MJXp-Span-917"><span class="MJXp-mo" id="MJXp-Span-918" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-919">3</span><span class="MJXp-mo" id="MJXp-Span-920" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mn" id="MJXp-Span-921">1</span><span class="MJXp-mrow" id="MJXp-Span-922"><span class="MJXp-mo" id="MJXp-Span-923" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-924" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-925">3</span><span class="MJXp-mo" id="MJXp-Span-926" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-927">3</span><span class="MJXp-mo" id="MJXp-Span-928" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mn" id="MJXp-Span-929">1</span><span class="MJXp-mrow" id="MJXp-Span-930"><span class="MJXp-mo" id="MJXp-Span-931" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-932">3</span><span class="MJXp-mo" id="MJXp-Span-933" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-934" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-935">2</span><span class="MJXp-mrow" id="MJXp-Span-936"><span class="MJXp-mo" id="MJXp-Span-937" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-938">3</span><span class="MJXp-mo" id="MJXp-Span-939" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mn" id="MJXp-Span-940">1</span><span class="MJXp-mrow" id="MJXp-Span-941"><span class="MJXp-mo" id="MJXp-Span-942" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-943" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-944">4</span><span class="MJXp-mo" id="MJXp-Span-945" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-946">3</span><span class="MJXp-mo" id="MJXp-Span-947" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mn" id="MJXp-Span-948">2</span><span class="MJXp-mrow" id="MJXp-Span-949"><span class="MJXp-mo" id="MJXp-Span-950" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-951">3</span><span class="MJXp-mo" id="MJXp-Span-952" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-953" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-954">0.5</span><span class="MJXp-mrow" id="MJXp-Span-955"><span class="MJXp-mo" id="MJXp-Span-956" style="margin-left: 0.278em; margin-right: 0.278em;"></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65">\mathbf{E}[T] = 1/3 * 1/(3 - 3 * 1/3) + 2/3 * 1/(4 - 3*2/3) = 0.5 </script>  . <br><br>  ,    ,  .     ,              . <br><br><h2>     </h2><br><ol><li>         ,   ,  ,      computer science,     .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Performance Modeling and Design of Computer Systems: Queueing Theory in Action</a> (2013).  -  ,       . √≥    ‚Äî    . </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A apresenta√ß√£o mais simples, na medida do poss√≠vel, sem perda de significado, da apresenta√ß√£o dos cl√°ssicos da teoria que conhe√ßo no formato de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v√≠deo-aula</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Robert B. Cooper. </font><font style="vertical-align: inherit;">Nessas palestras, ele conta de maneira intelig√≠vel quase todo o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livro</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e tudo o que √© necess√°rio para entend√™-lo.</font></font></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt431650/">https://habr.com/ru/post/pt431650/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt431638/index.html">Como entramos no departamento de seguran√ßa da informa√ß√£o de uma grande empresa e come√ßamos a trabalhar nele. Di√°rio de dois jovens e promissores especialistas</a></li>
<li><a href="../pt431642/index.html">Apicultores versus microcontroladores ou os benef√≠cios de erros</a></li>
<li><a href="../pt431644/index.html">Linha reta com TM. v4.0</a></li>
<li><a href="../pt431646/index.html">DataGrip 2018.3: Suporte ao Cassandra, gerando arquivos SQL a partir de objetos, muitas melhorias no preenchimento autom√°tico e muito mais</a></li>
<li><a href="../pt431648/index.html">NB-IoT: como funciona? Parte 2</a></li>
<li><a href="../pt431652/index.html">Algoritmo de amostragem de reservat√≥rio</a></li>
<li><a href="../pt431654/index.html">Tend√™ncias nas linguagens de programa√ß√£o 2019</a></li>
<li><a href="../pt431656/index.html">CraSSh: quebrando todos os navegadores modernos com c√°lculos de CSS</a></li>
<li><a href="../pt431660/index.html">Recursos do jogo usando o ECS: adicione kit de primeiros socorros ao atirador</a></li>
<li><a href="../pt431664/index.html">Antena phase center (FCA) e sua pesquisa no Ansys HFSS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>