<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ± ğŸš˜ ğŸ™‡ğŸ¾ ç»¿è‰²åˆä¸­ç”Ÿå¦‚ä½•å†™ä»–çš„çƒ­è£…çº¸æœº ğŸˆ¯ï¸ ğŸ· ğŸ‘¸ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="èƒŒæ™¯çŸ¥è¯† 
 å…³äºæˆ‘çš„å‡ è¡Œå†…å®¹ï¼Œä»¥å¤§è‡´äº†è§£ä½œè€…çš„æ°´å¹³å’Œæ‰€è§£å†³çš„é—®é¢˜ã€‚  æˆ‘å«Eugeneï¼Œæˆ‘æ˜¯ä¸€åWebå¼€å‘äººå‘˜ç»¿è‰²åˆçº§å‰ç«¯å¼€å‘äººå‘˜ã€‚ 
 å‡ å¹´å‰ï¼Œæˆ‘åœ¨ä¸€ä¸ªå®Œå…¨ä¸åŒçš„é¢†åŸŸå·¥ä½œï¼Œåªåœ¨ç†è®ºä¸Šè€ƒè™‘è¿‡æ”¹å˜èŒä¸šï¼Œä½†æ˜¯åœ¨2018å¹´12æœˆå·¦å³ï¼Œæˆ‘æ‰¾åˆ°äº†è‡ªå·±çš„é“è·¯å¹¶å¼€å§‹è¡ŒåŠ¨ã€‚ 
 ç»è¿‡å¤§çº¦å…­ä¸ªæœˆçš„æ€»ä½“åŸ¹è®­ï¼Œæˆ‘æ‰¾åˆ°äº†...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ç»¿è‰²åˆä¸­ç”Ÿå¦‚ä½•å†™ä»–çš„çƒ­è£…çº¸æœº</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466237/"><h3> èƒŒæ™¯çŸ¥è¯† </h3><br><div class="spoiler"> <b class="spoiler_title">å…³äºæˆ‘çš„å‡ è¡Œå†…å®¹ï¼Œä»¥å¤§è‡´äº†è§£ä½œè€…çš„æ°´å¹³å’Œæ‰€è§£å†³çš„é—®é¢˜ã€‚</b> <div class="spoiler_text"> æˆ‘å«Eugeneï¼Œæˆ‘æ˜¯ä¸€å<s>Webå¼€å‘äººå‘˜</s>ç»¿è‰²åˆçº§å‰ç«¯å¼€å‘äººå‘˜ã€‚ <br> å‡ å¹´å‰ï¼Œæˆ‘åœ¨ä¸€ä¸ªå®Œå…¨ä¸åŒçš„é¢†åŸŸå·¥ä½œï¼Œåªåœ¨ç†è®ºä¸Šè€ƒè™‘è¿‡æ”¹å˜èŒä¸šï¼Œä½†æ˜¯åœ¨2018å¹´12æœˆå·¦å³ï¼Œæˆ‘æ‰¾åˆ°äº†è‡ªå·±çš„é“è·¯å¹¶å¼€å§‹è¡ŒåŠ¨ã€‚ <br> ç»è¿‡å¤§çº¦å…­ä¸ªæœˆçš„æ€»ä½“åŸ¹è®­ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªå‰ç«¯ç¨‹åºå‘˜çš„å·¥ä½œã€‚ æˆ‘å·²ç»å­¦åˆ°äº†åŸºæœ¬çš„ä¸œè¥¿ï¼ˆæˆ‘æƒ³æ˜¯è¿™æ ·ï¼‰ï¼Œjsï¼Œä¸DOMçš„äº¤äº’ï¼Œreact + reduxã€‚  HTMLå’ŒCSSè‡³å°‘+å¯¹bootstrapå’ŒAssemblyçš„ä¸€èˆ¬ç†è§£ï¼Œå¯ä»¥ä½¿ç”¨gitï¼ˆå‘½ä»¤è¡Œï¼‰è¿›è¡Œæ“ä½œã€‚ <br> é™¤äº†ç†è®ºä¹‹å¤–ï¼Œè¿˜è¿›è¡Œäº†ä¸€äº›åŸ¹è®­é¡¹ç›®ï¼ŒåŒ…æ‹¬å…³äºreact + reduxçš„èŠå¤©ï¼Œä»¥åŠå°è¯•å®æ–½ä¸€äº›æƒ³æ³•çš„ä¸€äº›å°è¯•ã€‚ <br> é€šå¸¸ï¼Œè¿™ç§æ ‡å‡†çš„ç°ä»£ç»…å£«é£æ ¼é€‚åˆåˆå­¦è€…ã€‚ <br> åœ¨ç¬¬ä¸€å‘¨åŠçš„æ—¶é—´é‡Œï¼Œæˆ‘å®‰è£…äº†è™šæ‹Ÿæœºï¼Œå…¶ä¸­æœ‰å¾ˆå¤šä¸œè¥¿å¯¹æˆ‘æ¥è¯´æ˜¯é™Œç”Ÿä¸”éš¾ä»¥ç†è§£çš„ã€‚ <br> åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæˆ‘ç†Ÿæ‚‰äº†æ–°çš„å·¥å…·å’ŒæŠ€æœ¯ï¼šæ•°æ®åº“ï¼ˆåœ¨â€œå­¦ä¹ â€åˆ—è¡¨ä¸­åŠ äº†å¦ä¸€ä¸ªä¹¦ç­¾ï¼‰ï¼Œè…»å­ï¼Œwincspç­‰ã€‚ <br> æˆåŠŸé€šè¿‡æ­¤éšœç¢ç‰©è·¯çº¿å¹¶èµ°åˆ°æœ€å‰é¢ã€‚ <br></div></div><br><h3> å‰è¨€ </h3><br> åœ¨å·²ç»ç¼–å†™äº†æˆ‘çš„reloaderå’Œæœ¬æ–‡ä¹‹åï¼Œæˆ‘å‘ç°äº†ç±»ä¼¼ç‰©ï¼ŒåŒ…æ‹¬<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">HabrÃ©</a>ä¸Šçš„ç±»ä¼¼ç‰©ã€‚ ä½†æ˜¯ï¼Œä»–å†³å®šå‘å¸ƒè‡ªå·±çš„è‡ªè¡Œè½¦ã€‚ <br><br><h3> å¼€å§‹ </h3><br> æˆ‘ä»¬æœ‰ä¸€ä¸ªç›¸å½“å¤§çš„é¡¹ç›®ï¼Œå®ƒç»§æ‰¿äº†ç”¨angularJSç¼–å†™çš„æ‰€æœ‰åŠŸèƒ½ã€‚ åŠ å…¥Reactä¹‹åï¼Œä»–å¯¹æˆ‘æ¥è¯´å°±åƒæ˜¯æé¾™ï¼Œä½†æ²¡ä»€ä¹ˆï¼Œæˆ‘ä¹°äº†angularjsè¯¾ç¨‹ï¼Œèµ¶ç´§å¼€è½¦å¹¶å¼€å§‹å—ç›Šã€‚ <br><br> ä¸€ä¸ªç§¯æçš„å°è±¡æ˜¯ï¼Œè¯¥é¡¹ç›®çš„ç¼–å†™å¾—å¾ˆå¥½ï¼ŒåŒè‡‚æ¸…æ™°æ˜äº†ã€‚ å˜é‡å…·æœ‰å‡ºè‰²çš„æ¸…æ™°å‘½åï¼Œå…¶ç»“æ„åœ¨ä»»ä½•åœ°æ–¹éƒ½æ˜¯ç›¸åŒçš„ï¼Œå¹¶ä¸”æ€»ä½“è€Œè¨€ï¼Œæ•´ä¸ªé€»è¾‘éå¸¸æ˜“äºè®¿é—®ä¸”è¡¨è¾¾ç®€å•ã€‚ <br><br> ä½†æ˜¯æœ‰è¶³å¤Ÿçš„ç¼ºç‚¹ã€‚ <br><a name="habracut"></a><br> ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šè¯¥é¡¹ç›®æ˜¯ç”±ä¸€äº›å¤è€çš„æœ€å°åŒ–å·¥å…·æ„å»ºçš„ï¼Œä¸å¯èƒ½ä½¿ç”¨ç°ä»£jsè¯­æ³•ã€‚  Noneï¼ˆï¼‰=&gt; {}ï¼Œconst res = [... dataï¼ŒsubRes]ï¼Œå¼‚æ­¥/ç­‰å¾…... <br><br> ç¬¬äºŒä¸ªé—®é¢˜ï¼šæ—¢æ²¡æœ‰webpackï¼Œä¹Ÿæ²¡æœ‰è‡³å°‘gulpï¼Œå› æ­¤ä¹Ÿæ²¡æœ‰æˆ‘ç†Ÿæ‚‰çš„webpack-dev-serverï¼Œå®ƒå…·æœ‰å‡ºè‰²çš„çƒ­é‡è£…åŠŸèƒ½ã€‚ <br><br> å†™äº† å·²ä¿å­˜ã€‚  F5ã€‚ ä¸æ–¹ä¾¿ã€‚ ç–¼å— ä¸æ˜¯ç›´æ¥çš„ç–¼ç—›ï¼Œè€Œæ˜¯éå¸¸ä¸èˆ’æœã€‚ <br><br> ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼šæ„å»ºé¡¹ç›®.batæ–‡ä»¶ï¼Œå…¶ä¸­ç®€å•åœ°å¤åˆ¶äº†é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œæ²¡æœ‰æœ€å°åŒ–åœ°æ”¶é›†äº†ä¸€äº›åº“ï¼Œå°†ä¸€äº›åº“æœ€å°åŒ–åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå…¶ä½™çš„é¡¹ç›®æ–‡ä»¶åˆå¤åˆ¶åˆ°äº†å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ ç¬¬ä¸‰ä¸ªæ–‡ä»¶ä¸­çš„åº“åˆ—è¡¨ã€‚ è¦åœ¨ç¬¬å››ä¸ªæ–‡ä»¶ä¸­æ„å»ºçš„æ–‡ä»¶åˆ—è¡¨ã€‚ ä¾æ­¤ç±»æ¨ã€‚ <br><br> ç¬¬å››ä¸ªé—®é¢˜ï¼šæ‰€æœ‰åº“éƒ½æ•´é½åœ°æ”¾åœ¨libsæ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶é€šè¿‡index.htmlä¸­çš„è„šæœ¬è¿æ¥ã€‚ å…¨éƒ¨å†…å®¹ï¼Œé™¤äº†expresså’Œproxyä¹‹å¤–ï¼ˆå®ƒä»¬ä¸å‚ä¸æ±‡ç¼–ï¼Œè€Œä»…ç”¨äºå¼€å‘ï¼‰ã€‚ <br> è€Œä¸”åˆ°å¤„éƒ½æœ‰ç‰ˆæœ¬æˆ–ç‰¹å®šåº“çš„æŒ‡ç¤ºã€‚ <br><br> æˆ‘ç”Ÿæ´»åœ¨ä¸€ä¸ªç¾ä¸½çš„å‡½æ•°å¼ç¼–ç¨‹ä¸–ç•Œä¸­ï¼Œé‚£é‡Œå……æ»¡äº†es6 +ï¼Œwebpack-dev-serverï¼Œtddï¼Œeslintï¼Œè‡ªåŠ¨æ„å»ºç­‰ç­‰ã€‚ <br><br> åœ¨æˆäººä¸–ç•Œé‡Œï¼Œä¸€åˆ‡éƒ½å®Œå…¨ä¸åŒ... <br><br><h3> é¢†å¸¦ </h3><br> ä½†æ˜¯æˆ‘å–œæ¬¢å·¥ä½œï¼Œæˆ‘è®¤ä¸ºéšœç¢æ˜¯è‡ªæˆ‘å‘å±•çš„æœºä¼šï¼Œå…¬å¸å¾ˆå¥½ï¼Œæ°”æ°›å¾ˆå¥½ï¼Œæˆ‘çš„çœ¼ç›ç€ç«äº†ï¼ <br><br> åœ¨å·¥ä½œæ—¶é—´ï¼Œæˆ‘æ‰§è¡Œå·¥ä½œä»»åŠ¡ï¼Œåœ¨ç©ºé—²æ—¶é—´ï¼Œæˆ‘å°è¯•æ”¹å–„ä¸€äº›ä¸œè¥¿ã€‚ <br><br>  6æœˆä¸­æ—¬ï¼Œæˆ‘é¦–å…ˆå°è¯•ç´§å›ºWebpackï¼Œä½†æ˜¯ç¬¬ä¸€ç§æ–¹æ³•æœŸæœ›å®Œå…¨å¤±è´¥ã€‚ æˆ‘å·²ç»æŠ˜ç£¨äº†ä¸€ä¸ªæ˜ŸæœŸï¼Œå¯¹æ­¤æ„Ÿåˆ°éå¸¸åŒå€¦ï¼Œæš‚æ—¶æ¨è¿Ÿäº†ã€‚ <br><br> æˆ‘å†³å®šä»å°å¤„ç€æ‰‹-é€šè¿‡babelè¿æ¥æ–°è¯­æ³•ã€‚ æˆ‘å°†babelçš„åˆå§‹å¤„ç†æ·»åŠ åˆ°äº†æˆ‘ä»¬ç¥å¥‡çš„build.batä¸­ï¼Œä½†æ˜¯æŸäº›ä¸œè¥¿æ‰“ç ´äº†ç”°å›­è¯—ï¼Œè€Œæˆ‘ä»¬çš„è€ç¼©å°å™¨å´è·Œå€’äº†ã€‚ æˆ‘åœ¨å¯»æ‰¾é—®é¢˜ã€‚ <br><br> å¶ç„¶å‘ç°äº†æ•´æ´çš„çˆ¸çˆ¸åº“ä¸­çš„ä¸€ä¸ªåº“ã€‚ æˆ‘çœ‹ä¸€ä¸‹åº“æ–‡ä»¶ï¼šå®ƒä»¬å·²ç»ä½¿ç”¨æ—§è¯­æ³•ç¼©å°äº†ã€‚ <br><br> æˆ‘è¯´é€šå¤©å¡”-â€œæ‚¨ä¸è¦å»è¿™é‡Œ...è´Ÿè´£äººä¼šå¾—åˆ°ä»£ç ï¼Œè¿™çœŸçš„å¾ˆç³Ÿç³•ã€‚â€ æˆ‘æ£€æŸ¥ï¼šä¸€åˆ‡æ­£å¸¸ï¼ ä¸‡å²ï¼ ç°åœ¨ï¼Œæˆ‘å¯ä»¥è®¿é—®æ‰€æœ‰è¿™äº›æ¼‚äº®çš„æ–°æ—¶å°šæ–°æ½®é’å¹´äº‹ç‰©ï¼ ç¬¬ä¸€åœºèƒœåˆ©ã€‚ å¥½å•Š æˆ‘æƒ³åœ¨è¿™ç§æƒ…å†µä¸‹å¯ä»¥é‡å‘½åe.batï¼ˆe-Evgenï¼‰ä¸­çš„è„šæœ¬ï¼Œä½†æ— æ³•å†³å®šã€‚ <br><br> æ–°çš„è¯­æ³•æ˜¯å¦‚æ­¤çš„ç†Ÿæ‚‰å’Œä»¤äººæ„‰æ‚¦ï¼Œä½†æ˜¯å…³äºæ­ªæ–œçš„æ„å»ºçš„æƒ³æ³•å¹¶æ²¡æœ‰ç¦»å¼€æˆ‘ã€‚ <br><br>  6æœˆåº•å’Œ7æœˆåˆã€‚ æˆ‘æ­£åœ¨åšç¬¬äºŒç§æ–¹æ³•ï¼Œæ›´å½»åº•ï¼Œä½†æ˜¯å†æ¬¡é‡åˆ°webpackå’Œangularjsä¹‹é—´çš„é”™è¯¯ã€‚ å†æ¬¡è¿›è¡Œäº†ä¸€å‘¨çš„ç ”ç©¶ã€‚ <br><br> åœ¨èŠ±äº†å‡ å¤©åŠå¤œå¯»æ‰¾è§£å†³æ–¹æ¡ˆä¹‹åï¼Œæˆ‘åœ¨HolyJSå¤§ä¼šä¸Šé‡åˆ°äº†éå¸¸æœ‰è¶£çš„æ¼”è®²ï¼Œåœ¨é‚£å„¿ï¼Œäººä»¬å·²ç»ç›¸å½“æ·±å…¥åœ°ç ”ç©¶äº†webpackã€‚ æˆ‘å¯¹ä»–çš„ç†è§£æœ‰æ‰€è¿›æ­¥ï¼Œä½†æˆ‘ä»ç„¶ä¸äº†è§£æœ‰å…³ææ–™çš„å†…å®¹ã€‚ <br><br> å…´è¶£å¢å¼ºã€‚ <br><br> ä¸€ä½åŒäº‹è¯´-ç®—äº†ï¼Œè¦åœ¨å‡ ä¸ªæœˆåç§»äº¤è¯¥é¡¹ç›®ï¼Œå°±ä¸å†éœ€è¦è¿™æ ·åšäº†ã€‚ <br> æˆ‘æ²¡æœ‰é”¤å­ï¼Œä½†æ˜¯æˆ‘æ¨è¿Ÿäº†å®ƒ-å¾ˆå¤šå·¥ä½œï¼Œå®ƒå‹ç¼©äº†æˆ‘çš„ä¸€åˆ‡ï¼Œæ²¡æœ‰å¤šä½™çš„æ—¶é—´è¿›è¡Œè¯¾å¤–æ´»åŠ¨ã€‚ <br><br>  7æœˆä¸­æ—¬ï¼Œæˆ‘å°†è·å¾—ç±»ä¼¼äºå®šåˆ¶é¡¹ç›®çš„é¡¹ç›®ã€‚ æˆ‘å°†ä¸ä»–ä¸€èµ·ä½¿ç”¨ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯ä¸æˆ‘ä»¬ä¸€èµ·å»ºç«‹webpackï¼Œä½†æ˜¯æœ€åæˆ‘é‡åˆ°äº†æˆ‘æ²¡æœ‰è¶³å¤Ÿæ—¶é—´è§£å†³çš„æ–°é”™è¯¯ï¼Œå·¥ä½œä»¥æ–°çš„å¼ºåº¦è¿›è¡Œç€ï¼Œä½¿æˆ‘ç²¾ç¥å´©æºƒï¼Œæˆ‘å†æ¬¡æ¨è¿Ÿäº†è¿™é¡¹ä¸šåŠ¡ã€‚ <br><br><h3> ä¸»ä½“ </h3><br> å…«æœˆä¸­æ—¬ã€‚ ç»“æœï¼Œä¸€ä¸ªæœ‹å‹è°ˆè®ºäº†å­¦ä¹ node.jsä»¥åŠä»–å†™è‡ªå·±çš„çƒ­é‡è£…å™¨çš„æ„¿æœ›ã€‚ å…³äºæˆ‘ä»¬å¤§ä¼šçš„æƒ³æ³•ç„•å‘å‡ºæ–°çš„æ´»åŠ›ã€‚ <br><br> ä»»åŠ¡ï¼šåœ¨é¡¹ç›®ä¸­æ›´æ–°æ–‡ä»¶æ—¶é‡æ–°åŠ è½½å½“å‰é¡µé¢ã€‚ <br> ç‰¹ç‚¹ï¼šæ‰€æœ‰åº“éƒ½è¿æ¥åœ¨index.htmlä¸­ï¼Œæ‚¨ä¸éœ€è¦ï¼Œæ›´ä¸ç”¨è¯´å¯¼å…¥ã€‚ ä¸éœ€è¦é‡æ–°åŠ è½½ä¹‹å‰çš„è£…é…ï¼Œåªéœ€é‡æ–°åŠ è½½å³å¯ã€‚ åœ¨å¯ä»¥è¯·æ±‚æˆ‘ä»¬æ”¯æŒçš„å¼€å‘æœåŠ¡å™¨ä¸­ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨è½¯ä»¶åŒ…ï¼Œä¹Ÿå¯ä»¥è¦æ±‚ï¼ <br><br> æ‰€æœ‰è¿™ä¸€åˆ‡éƒ½å‘ç”Ÿåœ¨æ˜ŸæœŸäº”ï¼Œå› æ­¤æˆ‘å†³å®šåœ¨æˆ‘ä»¬é¡¹ç›®çš„ç®€åŒ–ç‰ˆæœ¬ä¸­ï¼Œæˆ‘å®Œå…¨æœ‰èƒ½åŠ›å®æ–½ä¸€é¡¹å¯ä»¥ä½¿æˆ‘å’Œæˆ‘çš„åŒäº‹æ‘†è„±F5çš„æŠ€æœ¯ã€‚ <br><br> æ€è€ƒè¿‡ç¨‹ç»§ç»­è¿›è¡Œï¼Œå¤´è„‘ä¸­å½¢æˆäº†è§£å†³æ–¹æ¡ˆçš„æ„¿æ™¯ã€‚ <br> æœ€ç®€å•çš„æœåŠ¡å™¨ï¼ˆä¾‹å¦‚æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼‰å°†åœ¨å…¶ä¸­éå†æ•´ä¸ªæ–‡ä»¶å¤¹å’Œå­æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸æ¯ä¸ªæ–‡ä»¶çš„ä¿®æ”¹æ—¥æœŸä¸€èµ·å½¢æˆä¸€æ£µæ ‘ã€‚ <br><br> ç„¶åï¼Œæ¯éš”næ¯«ç§’ï¼Œæˆ‘å°†ä¸€æ¬¡åˆä¸€æ¬¡ç»•è¿‡ï¼Œå¹¶æ¯”è¾ƒæ›´æ”¹æ—¶é—´çš„å€¼ã€‚ å·²æ›´æ”¹-é‡æ–°åŠ è½½ã€‚ ä¸€ä½æœ‹å‹å‘Šè¯‰æ‚¨-â€œä¸è¦é‡æ–°å‘æ˜è½®å­ï¼Œnode.jsä¸­æœ‰ä¸€å—æ‰‹è¡¨â€ã€‚ å¤ªå¥½äº†ï¼Œæˆ‘ä¼šç”¨çš„ã€‚ åœ¨server.jsä¸­ï¼Œæˆ‘å°†åœ¨é¡¹ç›®æ–‡ä»¶å¤¹åé¢é…ç½®watchï¼Œç„¶åè°ƒç”¨location.reloadï¼ˆï¼‰æ¥æ›´æ”¹å…¶ä¸­çš„å†…å®¹ã€‚ <br><br> ç¬¬ä¸€æ¬¡è¿­ä»£ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">server.js</b> <div class="spoiler_text"><pre><code class="plaintext hljs">var express = require('express'); var app = express(); var server = require('http').Server(app); const port = 9080; server.listen(port); app.use(express.static(__dirname + '/src')); location.reload().</code> </pre> <br></div></div><br> ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ä½ç½®-è¿™ä¸æ˜¯ä¸€ä¸ªnode.jså˜é‡ï¼ˆæ­¤åˆ»æˆ‘äº†è§£äº†ä¸ºä»€ä¹ˆæˆ‘åœ¨å‰é¢è®¿é—®process.envçš„å°è¯•ä¹Ÿå¤±è´¥äº†ï¼‰ï¼‰ã€‚ <br><br> ç¬¬äºŒä¸ªé—®é¢˜æ˜¯å¦‚ä½•ä½¿å‰ç«¯äº†è§£é‡æ–°åŠ è½½éœ€è¦åšä»€ä¹ˆã€‚ <br><br> é€€å‡º-ç½‘ç»œå¥—æ¥å­—ï¼ è¿™ä¸ªæƒ³æ³•å¾ˆè¯±äºº+å½“æˆ‘å†™èŠå¤©æ—¶ï¼Œæˆ‘å’Œä»–ä»¬ä¸€èµ·â€œåŠé”¥ä½“â€ä¸€èµ·å·¥ä½œï¼Œæˆ‘æœ‰ä¸€ä¸ªå¤§è‡´çš„æƒ³æ³•ã€‚ åŒæ—¶ï¼Œæˆ‘ä¸ºæ¯ä¸ªä¼šè¯åšä¸€ä¸ªé‡å¯è®¡æ•°å™¨ï¼Œæ·»åŠ ä¸€ä¸ªå˜é‡å¹¶å¤„ç†ç»™å‡ºè¯¥è¯·æ±‚çš„è¯·æ±‚ã€‚ <br><br> æˆ‘å°è¯•ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">server.js</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">var express = require('express'); //  express var app = express(); var server = require('http').Server(app); //  http  app var io = require('socket.io')(server); //  socket.io     var fs = require('fs'); const port = 9080; server.listen(port); app.use(express.static(__dirname + '/src')); let count = 0; app.get('/data', (req, res) =&gt; { res.data = count; res.send(`${count}`); }) const dir = './src'; fs.watch(dir, () =&gt; { io.emit('change', {data: count}); count += 1; })</code> </pre><br></div></div><br> åœ¨å‰ç«¯ï¼Œæˆ‘æ­£åœ¨ä½¿ç”¨angularjsåšæœ€ç®€å•çš„åº”ç”¨ç¨‹åº <br><br><div class="spoiler">  <b class="spoiler_title">app.js</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">angular.module('App', []) .controller('myAppCtrl',['$scope', '$timeout','$http', ($scope, $timeout, $http) =&gt; { $scope.title = '       '; $scope.count = 0; $scope.todo = [ '  ,  ', '   node.js watch   ', '     ,         ', ' , codeclimate  travis   ' ] $scope.marks = [ 'watcher      ' ] // var socket = io(); // socket.on('change', (data) =&gt; { // console.log(data.data); // $scope.count = data.data; // console.log('scope.count: ', $scope.count); // $scope.$digest();// // location.reload();//agfr // }) $http({method: 'GET',url: 'data'}) .then(response =&gt; { $scope.count = response.data;// }); }])</code> </pre><br></div></div><br> è¿˜æœ‰ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—å¯ä»¥é‡æ–°åŠ è½½å®ƒã€‚ åˆ†å¼€ï¼Œè¿™æ ·é¡¹ç›®å°±ä¸ä¼šå¾—åˆ°å¤ªå¤šã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">watch.js</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">var socket = io(); socket.on('change', () =&gt; { location.reload(); })</code> </pre><br></div></div><br> æœ‰æ•ˆï¼ ä»–è¿˜ç›‘è§†é™¤jsä¹‹å¤–çš„æ–‡ä»¶ï¼ˆæ‚¨æ°¸è¿œä¸ä¼šçŸ¥é“ï¼ï¼‰ï¼šæ£€æŸ¥äº†.jsonï¼Œ.cssã€‚ <br> æˆ‘æ£€æŸ¥äº†å­æ–‡ä»¶å¤¹-å®ƒä¸èµ·ä½œç”¨ã€‚ <br><br> æˆ‘è®¤ä¸ºï¼Œå¥½å§ï¼Œç°åœ¨æˆ‘å°†å…¶é€’å½’å‡å°‘ã€‚ ä»¥é˜²ä¸‡ä¸€ï¼Œè°·æ­Œå’Œ-ç§-å‡†å¤‡å¥½äº† <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å†³å®šã€‚</a> <br><br> æ·»åŠ æ­¤åŒ…ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">server.js</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">var express = require('express'); //  express var app = express(); var server = require('http').Server(app); //  http  app var io = require('socket.io')(server); //  socket.io     var fs = require('fs'); var watch = require('node-watch'); const port = 9080; server.listen(port); app.use(express.static(__dirname + '/src')); let count = 0; let changed = []; app.get('/data', (req, res) =&gt; { res.data = count; res.send({count, changed}); }) const translate = { remove: "", update: "" } watch('./', { recursive: true }, function(evt, name) { io.emit('change', {data: count}); count += 1; changed = [{name, evt}, ...changed]; });</code> </pre><br></div></div><br> å¤ªå¥½äº†ï¼Œå®ƒæœ‰æ•ˆï¼ <br><br> æˆ‘è®°å¾—eslintï¼Œcodeclimateå’Œtravisã€‚ <br> å®‰è£…ç¬¬ä¸€ä¸ªï¼Œæ·»åŠ å…¶ä½™çš„ã€‚ <br> æˆ‘æ¸…ç†ä»£ç ï¼Œconstä¸Šçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯varç­‰ã€‚ <br><br>  Linterå‘èª“æ²¡æœ‰å®šä¹‰angularï¼Œä½†æ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­è¿æ¥åº“çš„åŠŸèƒ½å†³å®šäº†è¿™ç§è¡Œä¸ºï¼Œæˆ‘å°†å…¶å…³é—­ã€‚ åŒæ—¶ï¼Œæˆ‘ä»å‘½ä»¤è¡Œç¨å¾®æ‹§äº†ä¸€äº›å˜é‡ï¼Œè¿è¡Œå®ƒï¼Œä¸€åˆ‡æ­£å¸¸ï¼ <br><br> ä»–æ˜ŸæœŸä¸€æ¥ä¸Šç­ï¼Œå°†æ•´ä¸ªå†œåœºå›ºå®šä¸ºå·¥ä½œè‰æ¡ˆã€‚ æˆ‘å¿…é¡»è¿›è¡Œä¸€äº›æ›´æ”¹ï¼ŒåŒæ—¶è¿›è¡Œæ›´æ”¹ï¼Œä»¥ä¾¿å¯ä»¥ä»å‘½ä»¤è¡Œå’Œå¼‚å¸¸ä¸­æ›´æ”¹ä¸€äº›å¯åŠ¨å‚æ•°ï¼Œä»¥ä¾¿æˆ‘ä¸ä¼šé˜…è¯»æ‰€æœ‰å†…å®¹ã€‚ <br><br> ç»“æœï¼Œç»“æœæ˜¯è¿™æ ·çš„ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">server.js</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">const express = require('express'), http = require('http'), watch = require('node-watch'), proxy = require('http-proxy-middleware'), app = express(), server = http.createServer(app), io = require('socket.io').listen(server), exeptions = ['git', 'js_babeled', 'node_modules', 'build', 'hotreload'], // ,   ,    backPortObj = { /*  ,   back*/ }, address = process.argv[2] || /*    back*/, localHostPort = process.argv[3] || 9080, backMachinePort = backPortObj[address] || /*   back */, isHotReload = process.argv[4] || "y", // "n" || "y" target = `http://192.168.${address}:${backMachinePort}`, str = `Connected to machine: ${target}, hot reload: ${isHotReload === 'y' ? 'enabled' : 'disabled'}.`, link = `http://localhost:${localHostPort}/`; server.listen(localHostPort); app .use('/bg-portal', proxy({ target, changeOrigin: true, ws: true })) .use(express.static('.')); if (isHotReload === 'y') { watch('./', { recursive: true }, (evt, name) =&gt; { let include = false; exeptions.forEach(item =&gt; { if (`${name}`.includes(item)) include = true; }) if (!include) { console.log(name); io.emit('change', { evt, name, exeptions }); }; }); }; console.log(str); console.log(link);</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">app.js</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">var socket = io.connect(); socket.on('change', ({ evt, name, exeptions }) =&gt; { location.reload(); });</code> </pre><br></div></div><br>  package.jsonä¸­æ­£åœ¨è¿è¡Œçš„è„šæœ¬åªæ˜¯ä»èŠ‚ç‚¹ä¸‹è°ƒç”¨server.jsï¼Œå®ƒçš„å¯åŠ¨æ–¹å¼å¦‚ä¸‹ï¼š <br><br><pre> <code class="plaintext hljs">npm start 1.100 8080</code> </pre><br> å†™äº† å·²ä¿å­˜ã€‚  <s>F5</s> <br><br> æœ€åï¼Œæˆ‘è¦æ„Ÿè°¢æˆ‘çš„æœ‹å‹Vanyaï¼Œåœ¨æŸäº›åœ°æ–¹è¦æ„Ÿè°¢ç­–åˆ’è€…å’Œä¸»è¦æ¨åŠ¨è€…ï¼Œä»¥åŠSashaï¼ˆæˆ‘è®¤ä¸ºæˆ‘çš„æŒ‡å¯¼è€…ï¼‰ï¼ <br><br><h3> è€Œä¸æ˜¯åè®° </h3><br>  2å‘¨åï¼Œåœ¨è¯•ç”¨æœŸçš„æœ€åä¸€å¤©ï¼Œæˆ‘å°†webpackå’Œwebpack-dev-serveræ‹§å…¥äº†æˆ‘ä»¬çš„é¡¹ç›®ï¼Œå°†æˆ‘çš„çƒ­åŠ è½½å™¨é€å…¥äº†å†å²è®°å½•æ¶ã€‚ <br><br> ä½†æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ˜ŸæœŸæˆ‘ä»¬æ¯å¤©éƒ½ç”¨å®ƒï¼Œä»–å®šæœŸåšä»–çš„å·¥ä½œï¼ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN466237/">https://habr.com/ru/post/zh-CN466237/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN466223/index.html">æ¸…æ´åˆ†è§£</a></li>
<li><a href="../zh-CN466227/index.html">é¢å‘èŠ‚ç‚¹çš„ç¼–ç¨‹</a></li>
<li><a href="../zh-CN466229/index.html">å¦‚ä½•ä¹°åç›’æ£‰ç»’è€Œä¸ä¼šå‡ºé”™</a></li>
<li><a href="../zh-CN466231/index.html">ShIoTinyå’Œå‘¨å›´çš„ä¸–ç•Œï¼šå°†ä¼ æ„Ÿå™¨è¿æ¥åˆ°äºŒè¿›åˆ¶è¾“å…¥ï¼Œæ¥è§¦åå¼¹å’Œå…¶ä»–é—®é¢˜</a></li>
<li><a href="../zh-CN466235/index.html">è’™å…‹ï¼ˆMunchï¼‰ä¸ç­‰è·ç¦»æ‰«æå’Œè¿ˆè€¶éœå°”å¾·ï¼ˆMeyerholdï¼‰ä¸€èµ·æ‘§æ¯äº†çº¢åœº-Denis Semenovè°ˆVRè‰ºæœ¯</a></li>
<li><a href="../zh-CN466247/index.html">å†…å‘å‹é¢è¯•</a></li>
<li><a href="../zh-CN466249/index.html">ç”¨Kivyï¼ŒPythonä¸ºAndroidç¼–å†™è›‡</a></li>
<li><a href="../zh-CN466251/index.html">å°†é¡¹ç›®ä»Soft Launchæå‡åˆ°æ¯æœˆ100ä¸‡ç¾å…ƒçš„æ”¶å…¥</a></li>
<li><a href="../zh-CN466253/index.html">æˆ‘å¦‚ä½•é‡å»ºALS Luna-9å’ŒLuna-13çš„ç€é™†ç‚¹</a></li>
<li><a href="../zh-CN466257/index.html">å¾æœæµ·æ´‹ï¼šæµ®åŠ¨æ•°æ®ä»“åº“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>