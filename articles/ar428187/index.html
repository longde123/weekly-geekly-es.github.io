<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉโ๐ฆโ๐ฆ ๐ฅ ๐ฆ๐ป ููููุฉ ูุชุงุจุฉ ุงูุชุฏุงุฏ ูู GNOME Shell: ูุถุน ุนุฏู ุงูุฅุฒุนุงุฌ ๐คฑ๐ฝ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุจุฏุฃ ูู ุดูุก ุจุงูุงูุชูุงู ุฅูู ูุณุฎุฉ ุฌุฏูุฏุฉ ูู ุชูุฒูุนุฉ ููููุณ ูุงุญุฏุฉ ุ ูููุงู - ุฌููู ุดู ุณูุฆุฉ ุงูุณูุนุฉ (GH ุจุงุฎุชุตุงุฑ) ุ ูู ุฌุงูุง ุณูุฑูุจุช. ุญุณููุง ุ ุญุณููุง ุ ุนูู JS ูููุฐุง ุนู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููููุฉ ูุชุงุจุฉ ุงูุชุฏุงุฏ ูู GNOME Shell: ูุถุน ุนุฏู ุงูุฅุฒุนุงุฌ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428187/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุจุฏุฃ ูู ุดูุก ุจุงูุงูุชูุงู ุฅูู ูุณุฎุฉ ุฌุฏูุฏุฉ ูู ุชูุฒูุนุฉ ููููุณ ูุงุญุฏุฉ ุ ูููุงู - ุฌููู ุดู <em>ุณูุฆุฉ ุงูุณูุนุฉ</em> (GH ุจุงุฎุชุตุงุฑ) ุ ูู ุฌุงูุง ุณูุฑูุจุช.  ุญุณููุง ุ ุญุณููุง ุ ุนูู JS ูููุฐุง ุนูู JS ุ ูุนูู - ุญุณููุง. </p><br><p style=";text-align:right;direction:rtl"> ูู ุงูููุช ููุณู ุ ุทุงูุจุช ูุชูุฑุฉ ุนููู ููุฐ ูุชุฑุฉ ุทูููุฉ ุจุงูุนุซูุฑ ุนูู ูุฑุณู ุจุฑูุฏ ุนุงุฏู ุ ุจุฏูุงู ูู ูุจุญ ูุงุณุชููุงู ุฃุทูุงู ุงูููุบุงุจุงูุช ูู ุนูุงูุฉ ุงูุชุจููุจ <code>outlook.office.com</code> ูู ุงููุชุตูุญ.  ูุงูุขู ูุฌุฏุช ุ ูู ุนุตุฑูุง ุ ููุงู ุงูุนุฏูุฏ ูู ุงููุฑุดุญูู ุงูููุชุงุฒูู ุชูุฑูุจูุง ุ ูุดููุฉ ูุงุญุฏุฉ - ุจุฏุฃ ุงูุจุฑูุฏ ูู ุฅุฎุทุงุฑู ุจุฑุณุงุฆู ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ - ูุงูุตูุช ุ ูุงููููุด ุงูููุจุซูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุงุฐุง ุชูุนู  ูู ูุฃุช ูุฑุงุฑ ูุชุงุจุฉ ููุญู "ุงูุฑุฌุงุก ุนุฏู ุงูุฅุฒุนุงุฌ" ุนูู ุงูููุฑ ุ ููู ุฃุฑุบุจ ุญููุง ูู ูุชุงุจุฉ ุฏุฑุงุฌุฉ ู / ุฃู ุงูุชูุฑุท ูู ุชุทููุฑ / ุฑูุฒ / ุงููุซูุฑ ูู ุงูุฃุฎุทุงุก ุ ููููู ูุฑุฑุช ุ ูุงูุขู ุฃุฑูุฏ ูุดุงุฑูุฉ ุชุฌุฑุจุชู ูุน ูุงุจุฑ.  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">1</a></sup> </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/737/175/2b5/7371752b5fb33b8858bff75857fbfa83.jpg"></p><a name="habracut"></a><br><h2 id="tehnicheskie-trebovaniya" style=";text-align:right;direction:rtl">  ุงููุชุทูุจุงุช ุงููููุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุฃุฑูุฏ ุงูุญุตูู ุนูููุง <del>  ูุงุญุฏ ูุจูุฑ </del>  ุฒุฑ ูุฅููุงู ุชุดุบูู ุงูุฅุดุนุงุฑุงุช ูุงูุฃุตูุงุช ููููุช ุงูุฐู ุชุฎุชุงุฑู: 20 ุฏูููุฉ ู 40 ุฏูููุฉ ูุณุงุนุฉ ูุงุญุฏุฉ ูุณุงุนุชุงู ู 4 ู 8 ู 24 ุณุงุนุฉ.  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2</a></sup> ูุนู ุ ุชูููุช ูุซู ุณูุงู. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุชุฏุงุฏ ุงูุชุฏุงุฏุงุช extension.gnome.org ุ ูุงู ููุงู ุงูุชุฏุงุฏ "ุฒุฑ ุนุฏู ุงูุฅุฒุนุงุฌ" ุ ูุงูุฐู ูุงู ุจูุซุงุจุฉ ูููุฐุฌ ููุชุงุจุฉ ุงูุชุฏุงุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนุฏู ุงูุฅุฒุนุงุฌ ุงูููุช</a> . </p><br><h2 id="konechnyy-rezultat-do-not-disturb-timehttpsextensionsgnomeorgextension1484do-not-disturb-time" style=";text-align:right;direction:rtl">  ุงููุชูุฌุฉ ุงูููุงุฆูุฉ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนุฏู ุงูุฅุฒุนุงุฌ</a> </h2><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/104/41d/479/10441d479062c7540a2743c6fb0b852d.png" alt="ูุง ุชุฒุนุฌ ุงูููุช"></p><br><p style=";text-align:right;direction:rtl">  ุงูุชุซุจูุช ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">extension.gnome.org</a> . <br>  ุงููุตุงุฏุฑ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">github</a> : ุถุน ุงููุฌูู ุ ุงูุดููุฉ ุ ุงุนุฑุถ ุงูุชุญุณููุงุช. </p><br><h3 id="kak-ustanovit-rasshirenie-gh-instrukciya" style=";text-align:right;direction:rtl">  ููููุฉ ุชุซุจูุช ููุญู GH: ุชุนูููุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจุชุซุจูุช ุญุฒูุฉ <em>chrome-gnome-shell</em> ุ ููุตู ูุชุตูุญ ุ ุจุงุณุชุฎุฏุงู Ubuntu ููุซุงู: <br> <code>sudo apt install chrome-gnome-shell</code> </li> <li style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฑุงุจุท ุ</a> ูู ุจุชุซุจูุช ููุญู ุงููุณุชุนุฑุถ: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุชุจุน ุงูุฑุงุจุท <em>ุงููุฑ ููุง ูุชุซุจูุช ููุญู ุงููุชุตูุญ</em> </li><li style=";text-align:right;direction:rtl">  ูู Ubuntu 18.04 ุ ุนููุช ูุนู ูู ูุชุตูุญ Chrome / Chromium ุ ูู Fedora 28/29 - ูู Firefox ู Chromium </li></ul></li><li style=";text-align:right;direction:rtl">  ูุญู ูุจุญุซ ุนู ุงูุงูุชุฏุงุฏ ุงููุทููุจ ูู ุงููุงุฆูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://extensions.gnome.org</a> : ุชูููู ุฃู ุชุนุทูู ุฃู ุชุบููุฑ ุฅุนุฏุงุฏุงุช ุงูุงูุชุฏุงุฏ. </li><li style=";text-align:right;direction:rtl">  ุฑุจุญ! </li></ol><br><h2 id="nachalo" style=";text-align:right;direction:rtl">  ุงุจุฏุฃ </h2><br><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุงูุชุฏุงุฏ ูู ุงูุตูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> gnome<span class="hljs-literal"><span class="hljs-literal">-shell</span></span><span class="hljs-literal"><span class="hljs-literal">-extension</span></span><span class="hljs-literal"><span class="hljs-literal">-tool</span></span> -<span class="hljs-literal"><span class="hljs-literal">-create</span></span><span class="hljs-literal"><span class="hljs-literal">-extension</span></span> Name: <span class="hljs-keyword"><span class="hljs-keyword">Do</span></span> Not Disturb Time Description: Disables notifications and sound <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a period Uuid: dnd@catbo.net Created extension <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-string"><span class="hljs-string">'~/.local/share/gnome-shell/extensions/dnd@catbo.net'</span></span> <span class="hljs-comment"><span class="hljs-comment">#  gnome-shell Alt+F2, r, Enter #    https://extensions.gnome.org/local/      #   Gnome Shell - , gnome-shell   systemd,   journalctl -f /usr/bin/gnome-shell #    ,       gnome-shell journalctl -f /usr/bin/gnome-shell | grep -E 'dnd|$'</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููู <code>extension.js</code> ูู ุงูุฏููู ุงูููุงุจู ูู ููุทุฉ ุงูุฏุฎูู ูู ุชุทุจูููุง ุ ูู ุฅุตุฏุงุฑ ุตุบูุฑ ูุจุฏู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{} <span class="hljs-comment"><span class="hljs-comment">//   ;    function disable() {} // --||-- ;     enable()</span></span></code> </pre> <br><h3 id="pervyy-kod" style=";text-align:right;direction:rtl">  ุงูููุฏ ุงูุฃูู </h3><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ูุฑูุฏ ุฅุถุงูุฉ ุฒุฑ ุฅูู <code>Status Menu</code> ุจุฃุนูู ุงููุณุงุฑ ุ ููุง ูู ููุทุฉ ุงูุดุงุดุฉ ุฃุนูุงู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐู ูู ุฃูู ุชุจุฏุฃุ  ููุจุฏุฃ ุจุงููุซุงุฆู.  ูุฏููุง ูุซุงุฆู ุฑุณููุฉ ุ ูู ุดูุก.  ููู ูุง ุ ุงููุซุงุฆู ุงูุฑุณููุฉ ุตุบูุฑุฉ ุฌุฏูุง ููุฌุฒุฃุฉ ุ ูููู ุจูุถู <code>julio641742</code> ุบูุฑ ุงูุฑุณููุฉ ุ ูุญุตู ุนูู ูุง ูุญุชุงุฌ ุฅููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">// 1 -    (1 - , 0 - , 0.5 -  ) // true,     let dndButton = new PanelMenu.Button(1, "DoNotDisturb", false); // `right` -      (left/center/right) Main.panel.addToStatusArea("DoNotDisturbRole", dndButton, 0, "right"); let box = new St.BoxLayout(); dndButton.actor.add_child(box); let icon = new St.Icon({ style_class: "system-status-icon" }); icon.set_gicon(Gio.icon_new_for_string("/tmp/bell_normal.svg")); box.add(icon);</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุดุฆ ูุฐุง ุงูุฑูุฒ ุงููุงุฆู ุงูุฑุฆูุณู <code>dndButton</code> ููุฆุฉ <code>dndButton</code> - ููู ุฒุฑ ูุตูู ุฎุตูุตูุง ูููุญุฉ ูุงุฆูุฉ ุงูุญุงูุฉ.  ููุฏุฑุฌูุง ูู ูุฐู ุงูููุญุฉ ุจุงุณุชุฎุฏุงู ุงููุธููุฉ Main.panel.addToStatusArea ().  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">3</a></sup> </p><br><p style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุนูุงุตุฑ ุงููุงุฆูุฉ ูุน ุฑุจุท ุงููุนุงูุฌุงุช ุจูุง ุ ุนูู ุณุจูู ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> menuItem = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PopupMenu.PopupMenuItem(<span class="hljs-string"><span class="hljs-string">"hello, world!"</span></span>); menuItem.connect(<span class="hljs-string"><span class="hljs-string">"activate"</span></span>, (menuItem, event) =&gt; { log(<span class="hljs-string"><span class="hljs-string">"hello, world!"</span></span>); }); dndButton.menu.addMenuItem(menuItem);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุดูุฑุง ูู ุ julio641742 ุ ููุชูุซูู!  ุฑุงุจุท: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/julio641742/gnome-shell-extension-reference</a> </p><br><p style=";text-align:right;direction:rtl">  ุฑูุฒ ุงูุนูู ุงูููุงุฆู <a href="">ููุง</a> . </p><br><h2 id="osobennosti-raboty-gnome-shell-i-javascript" style=";text-align:right;direction:rtl">  ููุฒุงุช ุฌููู ุดูู ูุฌุงูุง ุณูุฑูุจุช </h2><br><p style=";text-align:right;direction:rtl">  Outside ูู ููุงูุฉ ุนุงู 2018 ุ ู Node.js / V8 ูู ุงูุฃุฏุงุฉ ุงูุฑุฆูุณูุฉ ูุชุดุบูู ููุฏ Javascript.  ูู ุชุทููุฑ ุงูููุจ ุงูุญุฏูุซ ูุฑุชูุฒ ุนูู "ุนูุฏุฉ". </p><br><p style=";text-align:right;direction:rtl">  ููู ุฌููู ุดู ูุงูุจููุฉ ุงูุชุญุชูุฉ ุจุฃููููุง ุญููู ุชุณุชุฎุฏู ูุญุฑู ุฌุงูุง ุณูุฑูุจุช ูุฎุชูููุง ุ SpiderMonkey ูู Mozilla ุ ููุฐุง ูุฌูุจ ุงููุซูุฑ ูู ุงูุงุฎุชูุงูุงุช ุงููููุฉ ูู ุงูุฃุฏุงุก. </p><br><h3 id="import-moduley" style=";text-align:right;direction:rtl">  ูุญุฏุงุช ุงูุงุณุชูุฑุงุฏ </h3><br><p style=";text-align:right;direction:rtl">  ุนูู ุนูุณ Node.js ุ ูุง ููุฌุฏ ุทูุจ () ููุง ุ ููุง ููุฌุฏ ุงุณุชูุฑุงุฏ ES6 ุฎูุงูู ุฃูุถูุง.  ุจุฏูุงู ูู ุฐูู ุ ููุงู ูุงุฆู ุงุณุชูุฑุงุฏ ุฎุงุต ุ ูุคุฏู ุงููุตูู ุฅูู ุณูุงุชู ุฅูู ุชุญููู ุงููุญุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs julia"> //<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PanelMenu = require(<span class="hljs-string"><span class="hljs-string">"ui/panelMenu"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PanelMenu = imports.ui.panelMenu;</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ูููุง ุจุชูุฒูู ูุญุฏุฉ js / ui / panelMenu.js ูู ููุชุจุฉ ุญุฒู ุฌููู ุดูู ุ ูุงูุชู ุชููุฐ ูุธููุฉ ุฒุฑ ุจูุงุฆูุฉ ููุจุซูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุนู ุ ุฌููุน ุงูุฃุฒุฑุงุฑ ุงูููุฌูุฏุฉ ูู ููุญุฉ ุณุทุญ ููุชุจ Linux ุงูุญุฏูุซ ุจุงุณุชุฎุฏุงู GNOME ุชุณุชูุฏ ุฅูู panelMenu.js.  ุจูุง ูู ุฐูู: ููุณ ุงูุฒุฑ ุงูุฃููู ูุน ูุคุดุฑุงุช ุงูุจุทุงุฑูุฉ ุ Wi-fi ุ ูุณุชูู ุงูุตูุช ุ  ุฅุฏุฎุงู ูุบุฉ ุงูุฅุฏุฎุงู en-ru. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ููุงู ุณูุฉ ูููุฒุฉ ุฎุงุตุฉ <code>imports.searchPath</code> - ูุฐู ูุงุฆูุฉ ุจุงููุณุงุฑุงุช (ุงูุฎุทูุท) ุญูุซ ุณูุชู ุงูุจุญุซ ุนู ูุญุฏุงุช JS ุงูุฎุงุตุฉ ุจูุง.  ุนูู ุณุจูู ุงููุซุงู ุ ูููุง ุจุชุฎุตูุต ูุธููุฉ ูุคูุช ููุญุฏุฉ timeUtils.js ูููุตูุฉ ููุถุนูุงูุง ุจุงููุฑุจ ูู ููุทุฉ ุงูุฅุฏุฎุงู ุงูุฎุงุตุฉ ุจุงูุงูุชุฏุงุฏ extension.js.  ููุช ุงูุงุณุชูุฑุงุฏ Utils.js ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">//     , -  ~/.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/gnome-shell/extensions/&lt;your-<span class="hljs-keyword"><span class="hljs-keyword">extension</span></span>&gt;/ const Me = imports.misc.extensionUtils.getCurrentExtension(); //       imports.searchPath.unshift(Me.path); //   const timeUtils = imports.timeUtils;</code> </pre> <br><h3 id="logirovanie-otladka-javascript" style=";text-align:right;direction:rtl">  ุชุณุฌูู ุ ุชุตุญูุญ ุฃุฎุทุงุก ุฌุงูุง ุณูุฑูุจุช </h3><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ูุธุฑูุง ูุนุฏู ูุฌูุฏ Node.js ุ ูุฅููุง ููุชูู ุชุณุฌูู ุงูุฏุฎูู ุงูุฎุงุต ุจูุง.  ุจุฏูุงู ูู console.log () ุ ุชุชููุฑ ุงูุนุฏูุฏ ูู ูุธุงุฆู ุงูุชุณุฌูู ูู ุงูููุฏ ุ ุงูุธุฑ gjs /../ global.cppุ static_funcs: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  "log" = g_message ("JS LOG:" + message) - ุชุณุฌูู ุงูุฏุฎูู ูู stderr ุ ูุซุงู: </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> cat helloWorld.js log(<span class="hljs-string"><span class="hljs-string">"hello, world"</span></span>); <span class="hljs-variable"><span class="hljs-variable">$</span></span> gjs helloWorld.js Gjs<span class="hljs-literal"><span class="hljs-literal">-Message</span></span>: <span class="hljs-number"><span class="hljs-number">17</span></span>:<span class="hljs-number"><span class="hljs-number">20</span></span>:<span class="hljs-number"><span class="hljs-number">21.048</span></span>: JS LOG: hello, world</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  "logError" - ูุณุฌู ููุฏุณ ุงูุงุณุชุซูุงุก: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุณูุทุฉ ุงููุทููุจุฉ ุงูุฃููู ูู ุงุณุชุซูุงุก ุ ุซู ูุงุตูุฉ ุชูุตู ูุง ุชุฑูุฏ </li><li style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุทุจุงุนุฉ ุงูููุฏุณ ูู ุงูููุงู ุงูุตุญูุญ: </li></ul></li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'bum!'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(e) { logError(e, <span class="hljs-string"><span class="hljs-string">"what a fuck"</span></span>); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุฐุง ุณูู ูุฑุณู ุจุฃุณููุจ stderr: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">(gjs:<span class="hljs-number"><span class="hljs-number">28674</span></span>): Gjs<span class="hljs-literal"><span class="hljs-literal">-WARNING</span></span> **: <span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span>:<span class="hljs-number"><span class="hljs-number">46.951</span></span>: JS ERROR: what a fuck: Error: bum! ggg<span class="hljs-selector-tag"><span class="hljs-selector-tag">@</span></span>./gtk.js:<span class="hljs-number"><span class="hljs-number">5</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span> ddd<span class="hljs-selector-tag"><span class="hljs-selector-tag">@</span></span>./gtk.js:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">@</span></span>./gtk.js:<span class="hljs-number"><span class="hljs-number">15</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  "print" = g_print ("ูช s \ n"ุ txt) ุ  - ููุท ูุต + "\ n" ูู stdout ุ ุจุฏูู ุจุงุฏุฆุงุช ูููู ุ ุนูู ุนูุณ log () </li><li style=";text-align:right;direction:rtl">  "printerr" = g_printerr ("ูช s \ n"ุ txt) - ุงูุงุฎุชูุงู ุนู ุงูุทุจุงุนุฉ ูู ูู stderr </li></ul><br><p style=";text-align:right;direction:rtl">  ูููู ูุง ููุฌุฏ ูุตุญุญ ุฃุฎุทุงุก ูู SpiderMonkey ุฎุงุฑุฌ ุงูุตูุฏูู (ูู ููู ุนุจุซูุง ุฃู ุฃูุชุจ ุจุดู ุงูุฃููุณ ููู ุฌููุน ุงูุฃุฏูุงุช ุงููุชุงุญุฉ ูุชุณุฌูู ุงูุฏุฎูู ุ ุงุณุชุฎุฏูู!).  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู ุ ููููู ุชุฌุฑุจุฉ JSRDbg: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุญุฏ</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุซูุงู</a> . </p><br><h2 id="a-est-li-zhizn-dlya-js-koda-vne-gnome-shell" style=";text-align:right;direction:rtl">  ูู ููุงู ุญูุงุฉ ูุฑูุฒ JS ุฎุงุฑุฌ ุฌููู ุดููุ </h2><br><p style=";text-align:right;direction:rtl">  ููุฌุฏ.  ูููู ูุชุงุจุฉ ุงูุชุทุจููุงุช ูุงููุฉ ุงูููุงุตูุงุช ุ ุจูุง ูู ุฐูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ (GUI) ูู ุฌุงูุง ุณูุฑูุจุช!  ุชุญุชุงุฌ ุฅูู ุชุดุบูููุง ุจุงุณุชุฎุฏุงู bin gjs binar ุ JS-GTK code launcher ุ ูุซุงู ุนูู ุฅูุดุงุก ูุงูุฐุฉ GUI: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs vala">$ which gjs /usr/bin/gjs $ dpkg --search /usr/bin/gjs gjs: /usr/bin/gjs $ cat gtk.js <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Gtk</span></span> = imports.gi.<span class="hljs-built_in"><span class="hljs-built_in">Gtk</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">Gtk</span></span>.init(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); let win = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Gtk</span></span>.Window(); win.connect(<span class="hljs-string"><span class="hljs-string">"delete-event"</span></span>, () =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">Gtk</span></span>.main_quit(); }); win.show_all(); <span class="hljs-built_in"><span class="hljs-built_in">Gtk</span></span>.main(); $ gjs gtk.js</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุนูุงู ุ ุฐูุฑุช ุชูุณูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฅูู ูุญุฏุงุช ูุชุญููููุง ูู ุฌุงูุง ุณูุฑูุจุช.  ุงูุณุคุงู ุงูุฐู ูุทุฑุญ ููุณู ุ ูููู ููู ูู ุงููุญุฏุฉ ููุณูุง ูุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ูุชู ุฅุทูุงููุง ููุญุฏุฉ "ุฑุฆูุณูุฉ" ุ ุฃู ุชุญููููุง ูู ูุญุฏุฉ ุฃุฎุฑูุ </p><br><p style=";text-align:right;direction:rtl">  ุชูุชูู Python ุจููุฉ ุฃุตููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: main()</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู Node.js - ุจุงููุซู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">require</span></span>.main === <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>) { main(); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌุฏ ุฅุฌุงุจุฉ ุฑุณููุฉ ุนูู ูุฐุง ุงูุณุคุงู ูู Gjs / GH ุ ูููู ุชูุตูุช ุฅูู ุชูููุฉ ุฃุณุงุฑุน ุฅูู ูุดุงุฑูุชูุง ูุน ุงููุงุฑุฆ (ููุงุฐุง ูุฑุฃ ุดุฎุต ูุง "dosyudova"ุ ุงูุงุญุชุฑุงู!). </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุ ูุฅู ุงูุญููุฉ ุงูุตุนุจุฉ ุชุนุชูุฏ ุนูู ุชุญููู ููุฏุณ ุงูููุงููุฉ ุงูุญุงูู ุ ุฅุฐุง ูุงู ูุชููู ูู ุฎุทูู ุฃู ุฃูุซุฑ ุ ูุฅููุง ูุณูุง ูู ุงููุญุฏุฉ ุงูุฑุฆูุณูุฉ (): </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>().stack.split(<span class="hljs-regexp"><span class="hljs-regexp">/\r\n|\r|\n/g</span></span>).filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">line</span></span></span><span class="hljs-function"> =&gt;</span></span> line.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) .length == <span class="hljs-number"><span class="hljs-number">1</span></span> ) { main(); }</code> </pre> <br><h2 id="uborka-za-soboy" style=";text-align:right;direction:rtl">  ุงูุชุฏุจูุฑ ุงูููุฒูู </h2><br><p style=";text-align:right;direction:rtl">  ูู ููุญู ูู ุฌููู ุดูู ูุฏูู ุญู ุงููุตูู ุฅูู ุฌููุน ุงููุงุฆูุงุช ูู ุบููู ุดูู ุจุงููุงูู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุนุฑุถ ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุงูุชู ูุง ุชุฒุงู ุบูุฑ ููุฑูุกุฉ ุ ูุตู ุฅูู ุงูุญุงููุฉ ูุนูู ูู ููุทูุฉ <code>Notification Area</code> ุ ุงูููุฌูุฏุฉ ูู ุงููุฑูุฒ ุฃุนูุงู ุ ุงูุฑูู 4 ูู ุงูุตูุฑุฉ (ุงููุฑ ููู ุงูููุด ูุน ุงูููุช ุงูุญุงูู ุ ูููู ุงูููุฑ ุนููู ูู ุงูุญูุงุฉ ุงููุงูุนูุฉ ุ ูููุณ ููุง): </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/91e/eec/acc/91eeecaccdc67202335ce4d51d8d90d3.png" alt="ูุง ุชุฒุนุฌ ุงูููุช"></p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> unseenlist = Main.panel.statusArea.dateMenu._messageList._notificationSection._list;</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ูุนุฑูุฉ ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ ูุงูุงุดุชุฑุงู ูู ุฃุญุฏุงุซ ุฅุถุงูุฉ ูุญุฐู ุงูุฅุดุนุงุฑุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> number = unseenlist.get_n_children(); unseenlist.connect(<span class="hljs-string"><span class="hljs-string">"actor-added"</span></span>, () =&gt; { log(<span class="hljs-string"><span class="hljs-string">"added!"</span></span>); }); unseenlist.connect(<span class="hljs-string"><span class="hljs-string">"actor-removed"</span></span>, () =&gt; { log(<span class="hljs-string"><span class="hljs-string">"removed!"</span></span>); });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุฌูุฏ ุ ูููู ูููู ูููุณุชุฎุฏู ูู ุจุนุถ ุงูุฃุญูุงู ุฃู ููุฑุฑ ุฃูู ูู ูุนุฏ ุจุญุงุฌุฉ ุฅูู ุงูุชุฏุงุฏ X ุ ููููุฑ ุนูู ุงูุฒุฑ ูุชุนุทูู ุงูุงูุชุฏุงุฏ.  ุจุงููุณุจุฉ ููููุญู ุ ูููู ูุฐุง ููุงูุฆูุง ูุงุณุชุฏุนุงุก ูุธููุฉ ุงูุฅููุงู () ุ ููุฌุจ ุจุฐู ูู ุฌูุฏ ูููู ุญุชู ูุง ููุทุน ุงูุชุฏุงุฏ ุงูุฅููุงู GH ุงูุนุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">disable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ dndButton.destroy(); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุญุฐู ุงูุฒุฑ ููุณู ุ ุชุญุชุงุฌ ุฅูู ุฅูุบุงุก ุงูุงุดุชุฑุงู ูู ุงูุฃุญุฏุงุซ "ุชูุช ุฅุถุงูุฉ ุงูููุซู" / "ุชูุช ุฅุฒุงูุฉ ุงูููุซู" ุ ุนูู ุณุจูู ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> signal = unseenlist.connect(<span class="hljs-string"><span class="hljs-string">"actor-added"</span></span>, () =&gt; { log(<span class="hljs-string"><span class="hljs-string">"added!"</span></span>); }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">disable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ dndButton.destroy(); unseenlist.disconnect(signal); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ูุชู ุฐูู ุ ูุณูุณุชูุฑ ุงุณุชุฏุนุงุก ุฑูุฒ ุงููุนุงูุฌุงุช ูู ุงูุญุฏุซ ุงูููุงุจู ุ ุญุงูู ุชุญุฏูุซ ุญุงูุฉ ุฒุฑ ุงููุงุฆูุฉ ุบูุฑ ุงูููุฌูุฏุฉ ุจุงููุนู ... ูุณุชุจุฏุฃ GNOME Shell ูู ุงููุดู.  ุญุณููุง ุ ูุนู ุ ุณููุนู ุฐูู ุ ุณููุณู ุงููุณุชุฎุฏููู ุ ูุณุชุทูุฑ ุงูุฃุญุฌุงุฑ ุฅูู ูุทูุฑู ุฌููู ุดูู ูุฌููู ุจุดูู ุนุงู.  ุงูุตูุฑุฉ ุงูุญููููุฉ ุ ุซ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุฅู ุฌููู ุดูู / ุฌู ุฌู ุฅุณ ูู ุชูุงูู ุจูู ูุธุงููู ุ ุฌููุจ / ุฌู ุชู ูู ูุฌุงูุง ุณูุฑูุจุช ุ ููุฏููู ููุฌ ูุฎุชูู ูุฅุฏุงุฑุฉ ุงูููุงุฑุฏ.  ูุชุทูุจ Glib / GTK ุชุญุฑูุฑูุง ุตุฑูุญูุง ูููุงุฑุฏู (ุงูุฃุฒุฑุงุฑ ูุงููุคูุชุงุช ููุง ุฅูู ุฐูู).  ุฅุฐุง ุชู ุฅูุดุงุก ุงููุงุฆู ุจูุงุณุทุฉ ูุญุฑู ุฌุงูุง ุณูุฑูุจุช ุ ูุฅููุง ูุชุตุฑู ูุงููุนุชุงุฏ (ูุง ุชุทูู ุฃู ุดูุก). </p><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ุจูุฌุฑุฏ ุฃู ุชุตุจุญ ุงูุฅุถุงูุฉ ุฌุงูุฒุฉ ุ ููุง "ุชุชุฏูู" ุ ููููู ูุดุฑูุง ุจุฃูุงู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://extensions.gnome.org</a> . </p><br><h2 id="rezhim-gnomesessionpresencestatusbusy-i-dbus" style=";text-align:right;direction:rtl">  GnomeSession.PresenceStatus.BUSY ููุถุน DBus. </h2><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชูู ูุฏ ูุณูุช ุ ููุญู ูููู ุจุงูุงูุชุฏุงุฏ "ุนุฏู ุงูุฅุฒุนุงุฌ" ุ ูุงูุฐู ูููู ุนุฑุถ ุงูุฅุฎุทุงุฑุงุช ูููุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุฌููู ูุฏูู ุจุงููุนู ุนูู ูุณุคูู ุนู ูุฐู ุงูุญุงูุฉ.  ุจุนุฏ ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏู ุ ูุชู ุฅูุดุงุก ุนูููุฉ ุฌูุณุฉ ุฌููู ุ ุญูุซ ุชูุฌุฏ ูุฐู ุงูุนูุงูุฉ: ูุฐู ูู ุณูุฉ GsmPresencePrivate.status ุ ุฑุงุฌุน ูุตุงุฏุฑ ุฌูุณุฉ gnome ุ ุฌูุณุฉ gnome-session / gsm -ูุฌูุฏ.ุฌ.  ูุญุตู ุนูู ุงููุตูู ุฅูู ูุฐู ุงูุนูุงูุฉ ูู ุฎูุงู ูุงุฌูุฉ DBus (ูุซู ุงูุงุชุตุงู ุจูู ุงูุนูููุงุช). </p><br><p style=";text-align:right;direction:rtl">  ููุณ ูุญู ููุท ุ ูููู GH ููุณูุง ุจุญุงุฌุฉ ุฅูู ูุนูููุงุช ุญูู ูุฐู ุงูุนูุงูุฉ ุญุชู ูุง ูุชู ุนุฑุถ ุงูุฅุดุนุงุฑุงุช.  ูุฐุง ูู ุงูุณูู ุงูุนุซูุฑ ุนููู ูู ูุตุฏุฑ GH: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._presence = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GnomeSession.Presence(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">proxy, error</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._onStatusChanged(proxy.status); }); ... this._presence.connectSignal(<span class="hljs-string"><span class="hljs-string">'StatusChanged'</span></span>, (proxy, senderName, [status]) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._onStatusChanged(status); });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ูุนุฏ ุงูุฃุณููุจ _onStatusChanged ูุนุงูุฌูุง ูุณุชุฌูุจ ูุชุบููุฑ ุงูุญุงูุฉ.  ูููู ุจูุณุฎ ูุฐุง ุงูุฑูุฒ ูุฃููุณูุง ุ ูุชููููู - ุงูุชุดููุง <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">4</a></sup> ุฅุดุนุงุฑุงุช ุ ููุงู ููุงู ุตูุช. </p><br><h2 id="vyklyuchenievklyuchenie-zvuka" style=";text-align:right;direction:rtl">  ูุชู / ุฅูุบุงุก ูุชู ุงูุตูุช </h2><br><p style=";text-align:right;direction:rtl">  ูุชู ุงูุชุญูู ูู ูุนุธู ุฃุฌูุฒุฉ ุณุทุญ ุงูููุชุจ Linux ุงูุญุฏูุซุฉ ุจูุงุณุทุฉ PulseAudio ุ <del>  ุนูู ุณูุก ุงูุณูุนุฉ </del>  ุจุฑูุงูุฌ ุชุฃููู ูููุงุฑุช ุจูุชุฑููุฌ ุณูุฆ ุงูุณูุนุฉ.  ุญุชู ุงูุขู ุ ูู ุฃุชููู ูู ูุชุงุจุฉ ุฑูุฒ PulseAudio ุ ููุณุนุฏูู ุฃู ุชุชุงุญ ูู ุงููุฑุตุฉ ูููู PulseAudio ุนูู ูุณุชูู ูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ุงุชุถุญ ุฃูู ุจุงููุณุจุฉ <code>pactl</code> / ุฅูุบุงุก ูุชู ุงูุตูุช ุ <code>pactl</code> ุฃุฏุงุฉ <code>pactl</code> ูุงุญุฏุฉ <code>pactl</code> ุ ุฃู ุจุงูุฃุญุฑู ุซูุงุซุฉ ุฃูุงูุฑ ุจูุงุกู ุนูููุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  "ูุนูููุงุช pactl": ุงูุชุดู <code>default sink</code> - ุฃู ุฅุฎุฑุงุฌ ุตูุชู ุ ุฅุฐุง ูุงู ููุงู ุงูุนุฏูุฏ ุ ูู ุงูุตูุช ุงูุงูุชุฑุงุถู </li><li style=";text-align:right;direction:rtl">  "ุฃุญูุงุถ ูุงุฆูุฉ pactl": ุงูุชุดู ุญุงูุฉ ูุชู ุงูุตูุช / ุฅูุบุงุก ูุชู ุงูุตูุช ููุฌูุงุฒ ุงูููุงุจู </li><li style=";text-align:right;direction:rtl">  "pactl set-sink-muteูช (defaultSink) sูช (isMute) s": ููุชู ุงูุตูุช / ุฅูุบุงุก ูุชู ุงูุตูุช ููุณู </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุ ูุฅู ูููุชูุง ูู ุชุดุบูู ุงูุฃูุงูุฑ / ุงูุนูููุงุช ุ ููุฑุงุกุฉ ูุชุงุฆุฌ ุงูุฅุฎุฑุงุฌ ูุงูุจุญุซ ุนู ุงูููู ุงููุทููุจุฉ ุนูู ุฃุณุงุณ ููุชุธู.  ุจุงุฎุชุตุงุฑ ุ ุฅููุง ูููุฉ ููุงุณูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฌููู ุ ุงูููุชุจุฉ ุงูุฃุณุงุณูุฉ ูู ุงููุณุคููุฉ ุนู ุฅูุดุงุก ุงูุนูููุงุช ุ ูููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงุฆู</a> ููุชุงุฒุฉ ุนูููุง.  ูุจุงูุทุจุน ูู ูู C. ููุฏููุง ุดุจูุจุฉ.  ูู ุงููุนุฑูู ุฃู ุญุฒูุฉ Gjs ุตูุนุช ุทุจูุฉ ุฐููุฉ "ุจุฏูููุฉ" ุจูู C-API ู Javascript.  ูููู ูุง ุฒูุช ุชููู ุฃูู ุชุญุชุงุฌ ุฅูู ุฃูุซูุฉ ููุง ููููู ุงูุงุณุชุบูุงุก ุนู googling. </p><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ูุจูุถู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌููุฑ</a> ุงูููุชุงุฒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุ</a> ูุญุตู ุนูู ููุฏ ุงูุนูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> resList = GLib.spawn_command_line_sync(cmd); <span class="hljs-comment"><span class="hljs-comment">// res = true/false, /   // status = int,    // out/err = ,  stdout/stderr  let [res, out, err, status] = resList; if (res != true || status != 0) { print("not ok!"); } else { // do something useful }</span></span></code> </pre> <br><h2 id="sohranenie-nastroek-v-reestre" style=";text-align:right;direction:rtl">  ุญูุธ ุงูุฅุนุฏุงุฏุงุช <del>  ูู ุงูุชุณุฌูู </del></h2><br><p style=";text-align:right;direction:rtl">  ูุง ุ ุจุงูุทุจุน ุ ูุง ููุฌุฏ ุชุณุฌูู ูู ููููุณ.  ููุง ุฃูุช ูุณุช Windows.  ููุงู ุฎูุงุฑ ุฃูุถู ูุณูู GSettings (ูุฐู ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช) ุ ูููุงู ุงูุนุฏูุฏ ูู ุฎูุงุฑุงุช ุงูุชูููุฐ ูุฎููุฉ ุฎูููุง ุ ุจุดูู ุงูุชุฑุงุถู ูุณุชุฎุฏู ุฌููู Dconf.  ูุฐุง ูุง ูุจุฏู ุนููู ุฅุทุงุฑ ุนูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0fe/03c/eca/0fe03ceca6c7fc9338377fc5d0909024.png" alt="ูุญุฑุฑ dconf"></p><br><p style=";text-align:right;direction:rtl">  - ูุง ูู ุฃูุถู ูู ุชุฎุฒูู ุงูุฅุนุฏุงุฏุงุช ูู ูููุงุช ูุต ุนุงุฏูุ  - ุงุณุฃู ูุณุชุฎุฏูู ููููุณ ุงููุฏุงูู ูุงูููุชุญูู.  ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ ูู GSettings ูู ุฃูู ููููู ุงูุงุดุชุฑุงู ุจุณูููุฉ ูู ุงูุชุบููุฑุงุช ูู ุงูุฅุนุฏุงุฏุงุช ุ ุนูู ุณุจูู ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Gio = imports.gi.Gio; settings = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Gio.Settings({ <span class="hljs-attr"><span class="hljs-attr">settings_schema</span></span>: schemaObj }); settings.connect(<span class="hljs-string"><span class="hljs-string">"changed::mute-audio"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ log(<span class="hljs-string"><span class="hljs-string">"I see, you changed it!"</span></span>); });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุฅุนุฏุงุฏ ุงููุญูุฏ ุญุชู ุงูุขู ูู "ุงูุฑุฌุงุก ุนุฏู ุงูุฅุฒุนุงุฌ" ูู ุฎูุงุฑ "ูุชู ุงูุตูุช" ุ ูุงูุฐู ูุณูุญ ูููุณุชุฎุฏู ุจุฅููุงู ุชุดุบูู ุงูุตูุช ุฃู ูุง ููุฏุฉ "ุณุงุนุฉ ูุงุฏุฆุฉ" ุจูุงุกู ุนูู ุทูุจ ุงููุณุชุฎุฏู. </p><br><h2 id="i-nemnogo-klassiki-gui-na-gtk" style=";text-align:right;direction:rtl">  ูููููุงู ูู GTK GUI ุงูููุงุณูููุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุฃู ุชูุธูุฑ ูููุณุชุฎุฏู ุจุดูู ุฌููู ุฅุนุฏุงุฏุงุช ุงูุชุฏุงุฏูุง (ูููุณ ุงูุฏุฎูู ุฅูู ุงูุณุฌู ูุน ุงููููู ุงููุฐุฑุฉ) ุ ุชูุฏู ููุง GH ูุชุงุจุฉ ุฑูุฒ GUI ููุถุนู ูู ูุธููุฉ buildPrefsWidget () ูููู prefs.js.  ูู ูุฐู ุงูุญุงูุฉ ุ ููุงุจู ุงูุงูุชุฏุงุฏ ุงูุฎุงุต ุจูุง ูู ูุงุฆูุฉ "ุงูุฅุถุงูุงุช ุงููุซุจุชุฉ" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ุ ุณูุฑู ุฒุฑูุง ุฅุถุงูููุง "ุชูููู ูุฐู ุงูุฅุถุงูุฉ" ุ ุนู ุทุฑูู ุงูููุฑ ุนูู ุฃู ุดูู ุณูุธูุฑ ุฌูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุจุฅูุดุงุก ุนูุงูุฉ ุชุจููุจ ุญูู ูููุตูุฉ ุ ูุฃูู ูู ุงููุนุฑูู ุฃูู ุจุฏูู Ebout ุ ุนุฐุฑูุง ุ ุงูุจุฑูุงูุฌ ูู ููุชูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุจูุงุก ูุงุฌูุฉ ุฑุณูููุฉ ููุงุณูููุฉ ุ ุชุญุชูู GTK ุนูู ูุฌููุนุฉ ูุงููุฉ ูู ุงููุจูุงุช ูุงูุฃุฏูุงุช ุ ูุงูุชู ููููู ุงูุชุญูู ูู ูููุฉ ูููุนูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ุณูุณุชุฎุฏู ุงููููู ูููุง ููุท: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Gtk.Notebook ูู ุนูุงูุฉ ุชุจููุจ ุ ููุง ูู ุงูุญุงู ูู ุงููุณุชุนุฑุถ </li><li style=";text-align:right;direction:rtl">  Gtk.VBox ุนุจุงุฑุฉ ุนู ุญุงููุฉ ูุชูุธูู ูุงุฆูุฉ ุงูุฃุฏูุงุช </li><li style=";text-align:right;direction:rtl">  Gtk.Label ูู ุนูุตุฑ ุฃุณุงุณู ุ ููุด ุ ูุน ุงููุฏุฑุฉ ุนูู ุชูุณูู HTML </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildPrefsWidget</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    Gtk.Notebook    GUI let notebook = new Gtk.Notebook(); ... //  About,    VBox c   10 , //   margin/padding   let aboutBox = new Gtk.VBox({ border_width: 10 }); //     About notebook.append_page( aboutBox, new Gtk.Label({label: "About"}), ); //        , //      ,    (expand) aboutBox.pack_start( new Gtk.Label({ label: "&lt;b&gt;Do Not Disturb Time&lt;/b&gt;", use_markup: true, }), true, // expand true, // fill 0, ); ... notebook.show_all(); return notebook; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุทุฉ ุงูุดุงุดุฉ ุงูููุงุฆูุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/f87/554/787/f8755478763d159cbb9dfc1518881e60.png"></p><br><h2 id="dopolnitelno" style=";text-align:right;direction:rtl">  ุงุฎุชูุงุฑู </h2><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">1. ุฃูุถุงุน ุงูุชุดุบูู: ุงูุฏุนู ูุงูุชุดุบูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุชุถูู ุนูู ุงููุจุฑูุฌ ูุถุนูู ูู ุญุงูุชู: <br>  1) ูู ูุถุน ุงูุฏุนู ุ ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุงูุงุณุชุฌุงุจุฉ ุจุณุฑุนุฉ ููุฃุญุฏุงุซ - ุงูุจุฑูุฏ ู Slack ู Skype ูุงููุฒูุฏ <br>  2) ูู ูุถุน ุงูุชุดุบูู ุ ุนูุฏูุง ูููู ูู ุงูุถุฑูุฑู ูุทุน ุงูุฅุฎุทุงุฑุงุช ููุฏุฉ 20 ุฏูููุฉ ุนูู ุงูุฃูู ุ ูุฅูุง ูุชู ููุฏ ุงูุชุฑููุฒ ูุชููู ุฅูุชุงุฌูุฉ ุงูุนูุงูุฉ ุงูููุงุฆูุฉ ุถุฆููุฉ.  ููุฐุง ุ ูุนุฏ ูุถุน ุนุฏู ุงูุฅุฒุนุงุฌ ูููุฏูุง. </p></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">2. ููููุฉ ุฅููุงู ุงูุตูุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฏ ูุจุฏู ุฃู ูุชู ุงูุตูุช ุงููุงูู ุ ูุงูุจูู ุ ุฃูุซุฑ ูู ุงููุงุฒู.  ูู ุงููุงูุน ุ ูู ุงููุงูุน ุ ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ุชุฑุบุจ ูู ุณูุงุน ุณูุงู / ุณูุงูุจ ูู ูุถุน ุนุฏู ุงูุฅุฒุนุงุฌ ุ ููู ุจููุฉ ุงูุฃุตูุงุช (ุงูุฅุดุนุงุฑุงุช ุงูุญููููุฉ) ููุณุช ูุฐูู.  ูููู ููุฐุง ูุฌุจ ุชูููุฒูู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ููููู ุ ุจุงูุทุจุน ุ ุฅูุดุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุตูุชูุฉ ุฎุงุตุฉ ุจุงูุฅุดุนุงุฑุงุช (ููุฐุง ููุฌูุฏ ุจุงููุนู) ุ ููุท ููุงู ุฏุงุฆููุง ุจุฑูุงูุฌ / ูุจุฑูุฌ ูุง ูุณุชุฎุฏู ูุฐู ุงููุธุงุฆู.  ูุซุงู ุนูู ุฐูู ูู Mailspring mailer: ููู ุจุจุณุงุทุฉ ูููู ุจุชุดุบูู ุงูุฃุตูุงุช ูู ุฎูุงู ุงูุนูุงูุฉ <code>audio</code> ุ ููุง ูููู ุชูููุฒูุง ุจุฃู ุดูู ูู ุงูุฃุดูุงู ุนู ุงูููุงู ูู ููุงููุฉ Slack. </p></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">3. PanelMenu.Button</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  PanelMenu.Button - ูุฐุง ูู ุงูุฒุฑ ุงููุนูู ูู ูุงุฆูุฉ ุงูููุญุฉ + ุงูููุจุซูุฉ ุ ูููููู ูุนุฑูุฉ ุฐูู ุจููุณู ูุฅูุดุงุฆู ูู ุงูุตูุฑ ุ ูุณูู ูุชู ุชูุฏูุฑ ูู ููููุง ูู ูุจู <em>ุงูุฌุฑุญ</em> !  ููุช ุฃุณุนู ูุชุญููู ูุชูุฌุฉ ุณุฑูุนุฉ ุ ูุจุงูุชุงูู ููุช ุจูุณุฎ ุงูุดูุฑุฉ ูู ูุซุงุฆู ุบูุฑ ุฑุณููุฉ. </p></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">4. SetStatusRemote ()</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุจุฏุก ุชุบููุฑ ุงููุถุน ุจุงุณุชุฎุฏุงู SetStatusRemote (). </p></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar428187/">https://habr.com/ru/post/ar428187/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar428175/index.html">ุงููุงูุฑุฉ ุงูุจุงุฏุฆุฉ ุดุฌุฑุฉ ุชูููุฐ C</a></li>
<li><a href="../ar428177/index.html">ุฅุฐู ูุง ูู ุงูุฎุทุฃ ูู ุงูุจุญุซ ุนู ุนูู / ุงูุนุงูููู ูู ูุฌุงู ุชูููููุฌูุง ุงููุนูููุงุชุ</a></li>
<li><a href="../ar428179/index.html">ูู ูุฒุงุฏ ูุงุจุงูู ุ ูููุฐุฌ ุฃููู ูุฌูุงุฒ ุชุญูู ุ ุชู ุชุทููุฑู ูู ุฃุฌู GameCube</a></li>
<li><a href="../ar428181/index.html">ุงูุขูุฉ ุงูุฃุฎูุงููุฉ: ูุง ุชุฑุญู ุฃู ูุง ูุนูู ููุ</a></li>
<li><a href="../ar428183/index.html">ุชูููุฐ ุฎูุงุฑุฒููุฉ Levenberg-Marquardt ูุชุญุณูู ุงูุดุจูุงุช ุงูุนุตุจูุฉ ุนูู TensorFlow</a></li>
<li><a href="../ar428189/index.html">ูู ูู ุจุงูุงุฏููุ</a></li>
<li><a href="../ar428191/index.html">ูุงุฐุง ูุฌุจ ุฃู ูุฑุชุจ ูุงูุงุซูู ุ ุฃู ููู ุฃุฌุฑููุง ูุงูุงุซูู ุฏุงุฎูู</a></li>
<li><a href="../ar428193/index.html">ุญูู ุงูุฐูุงุจ ูู ุฌููุงุช</a></li>
<li><a href="../ar428197/index.html">ุงูุชูููู ุงูุดุฎุตู ุงููุนุงู. ุงููุณุชูู 1</a></li>
<li><a href="../ar428201/index.html">ุซููุจ ุงูุฎูุฏ ูู ุฌุงูุง ุณูุฑูุจุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>