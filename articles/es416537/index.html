<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∑üèª üë©üèΩ‚Äçüè≠ üõå Talleres en Wireshark üßúüèø üßóüèæ üë®üèº‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Julia Evans, autora del material que publicamos hoy, decidi√≥ hablar sobre una de sus herramientas de red favoritas llamada Wireshark . Este es un prog...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Talleres en Wireshark</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/416537/">  Julia Evans, autora del material que publicamos hoy, decidi√≥ hablar sobre una de sus herramientas de red favoritas llamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Wireshark</a> .  Este es un programa potente y complejo, equipado con una interfaz gr√°fica, dise√±ado para analizar el tr√°fico en las redes de computadoras.  Julia dice que, en la pr√°ctica, usa solo algunas de las caracter√≠sticas de Wireshark, pero generalmente son √∫tiles.  Aqu√≠ quiere compartir con todos los que desean una historia sobre los m√©todos m√°s √∫tiles para trabajar con el programa y espera que sean √∫tiles no solo para ella, sino tambi√©n para todos los que tienen que resolver problemas de red. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/rz/ag/uw/rzaguwsi5logcjjqkre-sglko0o.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Instalar Wireshark</font> </h2><br>  Las distribuciones de Wireshark para varios sistemas operativos se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Para instalar el programa, puede descargar e instalar el archivo correspondiente.  Alternativamente, si usa distribuciones de Linux basadas en Debian, puede usar el comando <code>sudo apt install wireshark</code> .  Si lo desea, para encontrar la √∫ltima versi√≥n del programa, puede consultar el archivo personal de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">los</a> paquetes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">wireshark-dev</a> . <br><br>  As√≠ es como se ve la interfaz del programa. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/485/d33/40c/485d3340cca2688b2d8460c7263b1d31.png"></div><br>  <i><font color="#999999">Interfaz de Wireshark</font></i> <br><br>  A primera vista, todo esto puede parecer demasiado complicado: una larga lista de paquetes, un campo misterioso para ingresar alg√∫n tipo de solicitud ... ¬øC√≥mo trabajar con Wireshark? <br><br><h2>  <font color="#3AC1EF">An√°lisis de archivos pcap</font> </h2><br>  Normalmente uso Wireshark para averiguar las causas de los problemas de red.  La secuencia de acciones realizadas en el curso de la resoluci√≥n de tales problemas se ve as√≠: <br><br><ol><li>  Capture paquetes con <code>tcpdump</code> (generalmente con un comando como <code>sudo tcpdump port 443 -w output.pcap</code> ). </li><li>  Copiar el archivo pcap a una computadora port√°til que funcione ( <code>scp host:~/output.pcap .</code> ). </li><li>  Abrir un archivo pcap usando Wireshark ( <code>wireshark output.pcap</code> ). </li></ol><br>  Como puede ver, todo es muy simple.  Sin embargo, despu√©s de abrir el archivo pcap en el programa, es posible que tenga una pregunta l√≥gica sobre qu√© hacer con todo esto.  Hablemos de eso. <br><br><h2>  <font color="#3AC1EF">An√°lisis de conexi√≥n TCP</font> </h2><br>  A menudo, cuando analizo una determinada situaci√≥n en Wireshark, necesito verificar alguna conexi√≥n TCP espec√≠fica, con la cual, por alguna raz√≥n, algo est√° mal.  Gracias a Wireshark, puede analizar el ciclo de vida completo de una conexi√≥n TCP individual y descubrir las causas del comportamiento incorrecto del sistema. <br><br>  Puede hacer esto haciendo clic derecho en el paquete que le interesa y eligiendo el <code>Conversation filter &gt; TCP</code> comando <code>Conversation filter &gt; TCP</code> en el men√∫ contextual. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a9a/1ce/e15/a9a1cee15deb7869196dc71cee5800af.png"></div><br>  <i><font color="#999999">Iniciar an√°lisis de conexi√≥n TCP</font></i> <br><br>  Despu√©s de eso, Wireshark mostrar√° otros paquetes de la misma conexi√≥n TCP a la que pertenece el paquete en el que hizo clic.  En la figura a continuaci√≥n, puede ver un ejemplo de una conexi√≥n SSL exitosa: hay paquetes de <code>server key exchange</code> que se utilizan para establecer conexiones SSL. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/53e/bfc/ae9/53ebfcae9417574c6423124725e6a373.png"></div><br>  <i><font color="#999999">An√°lisis de conexi√≥n TCP</font></i> <br><br>  La t√©cnica de an√°lisis de paquetes TCP discutida aqu√≠ tuve que usar el d√≠a en que se escribi√≥ este art√≠culo, en el trabajo.  Se interrumpieron algunas conexiones y not√© que despu√©s de enviar el paquete de <code>client hello</code> del <code>client hello</code> , el <code>client hello</code> envi√≥ el paquete <code>FIN ACK</code> , que finaliz√≥ la conexi√≥n TLS.  Lo que logr√© averiguar result√≥ ser √∫til, ya que qued√≥ claro que el cliente y no el servidor estaban finalizando la conexi√≥n.  Como resultado, inmediatamente descubr√≠ que el problema radica en el cliente, y tengo que prestarle atenci√≥n. <br><br>  Lo anterior es un esquema muy t√≠pico para m√≠ de trabajar con Wireshark.  Por lo general, el cliente y el servidor est√°n involucrados en la conexi√≥n, y algo sale mal en el cliente o en el servidor.  Esto puede ser, por ejemplo, alg√∫n tipo de falla o error en la configuraci√≥n del sistema.  Como resultado, Wireshark me brinda una ayuda invaluable para identificar al culpable de los problemas, ayud√°ndome a descubrir si es un cliente o un servidor. <br><br><h2>  <font color="#3AC1EF">Decodificar como equipo</font> </h2><br>  Para entender qu√© es exactamente un paquete en particular, Wireshark usa n√∫meros de puerto, y este enfoque generalmente funciona.  Por ejemplo, si un programa ve algo de tr√°fico en el puerto 80, decide que es tr√°fico HTTP y generalmente lo es. <br><br>  Sin embargo, a veces las conexiones HTTP usan puertos inusuales y, como resultado, Wireshark necesita sugerencias para reconocerlas.  Tales sugerencias se pueden dar al programa llamando al men√∫ contextual del paquete y seleccionando <code>Decode as</code> comando all√≠.  Adem√°s, puede decirle a Wireshark qu√© protocolo se utiliza para transmitir paquetes utilizando un determinado puerto.  Estas sugerencias simplifican el an√°lisis de datos. <br><br><h2>  <font color="#3AC1EF">Ver contenido del paquete</font> </h2><br>  En Wireshark, hay simplemente un modo encantador para ver informaci√≥n detallada sobre un paquete, con el que puede comprender el contenido de cualquier paquete.  Tomemos, por ejemplo, el paquete con el mensaje de <code>client hello</code> del <code>client hello</code> del ejemplo anterior.  Este es el primer paquete de conexi√≥n SSL, el cliente con su ayuda dice: ‚Äú¬°Hola!  ¬°Aqu√≠ estoy! <br><br>  Wireshark ofrece al administrador de la red dos herramientas incre√≠blemente √∫tiles para examinar el contenido del paquete.  El primero es un modo de visualizaci√≥n en el que puede expandir los encabezados disponibles para el paquete (por ejemplo, encabezado Ethernet, encabezado IP, encabezado TCP) y ver su contenido. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a2f/990/77a/a2f99077a2e3cdb10652ad3a387103f0.png"></div><br>  <i><font color="#999999">An√°lisis de encabezado de paquete</font></i> <br><br>  El segundo modo de ver paquetes es un verdadero milagro.  Aqu√≠ puede ver los datos de paquete sin procesar como una secuencia de bytes.  Y, lo que es especialmente bueno, si pasa el mouse sobre un byte (por ejemplo, en la figura a continuaci√≥n, el cursor est√° en el byte incluido en <code>tiles.services.mozilla.com</code> ), el programa, en la barra de estado, le dir√° a qu√© campo pertenece. este byte (en este caso, es el campo <code>Server Name</code> del <code>Server Name</code> ) y sobre el nombre en c√≥digo utilizado por Wireshark para este campo (en este caso, <code>ssl.handshake.extensions_server_name</code> ) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d50/6e8/b35/d506e8b3512c273fd66a94796230f4e5.png"></div><br>  <i><font color="#999999">An√°lisis de datos de paquete sin procesar</font></i> <br><br><h2>  <font color="#3AC1EF">Paquete de b√∫squeda</font> </h2><br>  Wireshark admite un potente lenguaje de consulta.  Esto simplifica enormemente la b√∫squeda de paquetes espec√≠ficos en listas.  Por lo general, cuando trabajo con un programa, uso consultas muy simples.  Aqu√≠ hay algunos ejemplos: <br><br><ul><li>  El <code>frame contains "mozilla"</code> que le permite buscar la l√≠nea <code>mozilla</code> en cualquier parte del paquete y enumerar los paquetes encontrados. </li><li>  La solicitud <code>tcp.port == 443</code> muestra paquetes utilizando el puerto TCP 443. </li><li>  La consulta <code>dns.resp.len &gt; 0</code> muestra todas las respuestas DNS </li><li>  La <code>ip.addr == 52.7.23.87</code> muestra paquetes cuya direcci√≥n IP de origen o destino es 52.7.23.87. </li></ul><br>  El lenguaje de consulta Wireshark tiene capacidades mucho mayores que el lenguaje de consulta <code>tcpdump</code> (y, adem√°s, admite el autocompletado presionando la tecla TAB).  Como resultado, a menudo uso la siguiente secuencia de acciones: capturo una gran cantidad de paquetes usando <code>tcpdump</code> (digamos, algo as√≠ como todos los paquetes desde el puerto 443), y luego los estudio cuidadosamente usando Wireshark. <br><br><h2>  <font color="#3AC1EF">Ver detalles de la duraci√≥n de la conexi√≥n TCP</font> </h2><br>  A veces debo prestar especial atenci√≥n al estudio de las conexiones TCP lentas.  ¬øC√≥mo hacer esto, siempre que en mi archivo haya registros de miles de paquetes?  ¬øC√≥mo encontrar conexiones TCP lentas? <br><br>  Si selecciona <code>Statistics</code> en el men√∫ principal del programa y el comando <code>Conversations</code> en √©l, Wireshark nos proporcionar√° un maravilloso conjunto de informaci√≥n estad√≠stica. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e1a/477/968/e1a477968ed8e4473600709d927efe58.png"></div><br>  <i><font color="#999999">Informacion Estadistica</font></i> <br><br>  En particular, aqu√≠, en la columna <code>Duration</code> , puede ver la duraci√≥n de las conexiones TCP, identificar las m√°s largas y estudiarlas detenidamente.  Esta es una caracter√≠stica muy √∫til. <br><br><h2>  <font color="#3AC1EF">Actualizaci√≥n de Wireshark</font> </h2><br>  Si no ha actualizado Wireshark durante mucho tiempo, vale la pena hacerlo.  Por ejemplo, recientemente, en una computadora port√°til que funcionaba, estaba investigando paquetes HTTP / 2.  Entonces no fue f√°cil para m√≠ y decid√≠ mirar la documentaci√≥n.  Al final result√≥ que, ten√≠a una versi√≥n antigua del programa.  En la actualizaci√≥n que instal√©, el soporte HTTP / 2 mejor√≥ seriamente, es decir, hab√≠a justo lo que necesitaba. <br><br><h2>  <font color="#3AC1EF">Uso de Wireshark para aprender protocolos de red</font> </h2><br>  Este art√≠culo contiene algunos t√©rminos que pueden atribuirse a algo como la jerga de los especialistas en redes.  Por ejemplo: trama, puerto TCP (puerto TCP), respuesta DNS (respuesta DNS), direcci√≥n IP de origen (direcci√≥n IP de origen), conexiones SSL de paquete de <code>client hello</code> (saludo del cliente SSL).  Una de las razones para usarlos es el hecho de que Wireshark definitivamente no est√° tratando de proteger al usuario de las complejidades de la estructura interna de las tecnolog√≠as de red.  Para un principiante, este estado de cosas puede, al principio, hacerle pensar que Wireshark no es un programa para √©l, sino solo para especialistas experimentados en redes. <br><br>  Sin embargo, el enfoque de Wireshark en los mecanismos de red de bajo nivel tiene una gran ventaja.  El hecho es que al trabajar con este programa, puede aprender algo nuevo sobre los protocolos de red.  Por ejemplo, no s√© mucho sobre los mecanismos internos del protocolo TLS / SSL.  Sin embargo, al analizar el tr√°fico en Wireshark, not√© que los dos primeros paquetes de la conexi√≥n SSL son <code>client hello</code> y <code>server hello</code> .  Como resultado, el protocolo, que, si uno no profundiza en los detalles de su trabajo, parece misterioso e inaccesible para la comprensi√≥n, comienza a tomar una forma m√°s comprensible, se convierte en algo que se puede entender y analizar. <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  Wireshark tiene enormes oportunidades.  Aqu√≠ hablamos solo de algunos de ellos.  Sin embargo, los m√©todos de trabajo discutidos aqu√≠, seg√∫n el autor del material, se utilizan en aproximadamente el 95% de las situaciones en las que se necesita Wireshark.  Por lo tanto, esperamos que incluso lo poco que aprendiste hoy te sea √∫til. <br><br>  <b>Estimados lectores!</b>  ¬øUtilizas Wireshark? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es416537/">https://habr.com/ru/post/es416537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es416525/index.html">Secretos del dise√±o exitoso de IP (sistema de informaci√≥n) sobre el ejemplo de la construcci√≥n de un hospital</a></li>
<li><a href="../es416527/index.html">Virgin Galactic acord√≥ usar el puerto espacial italiano</a></li>
<li><a href="../es416531/index.html">Sostenibilidad GAN Training</a></li>
<li><a href="../es416533/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 322 (del 2 al 8 de julio de 2018)</a></li>
<li><a href="../es416535/index.html">Eventos digitales en Mosc√∫ del 9 al 15 de julio</a></li>
<li><a href="../es416539/index.html">15 propiedades y m√©todos poco conocidos de objetos DOM</a></li>
<li><a href="../es416541/index.html">Preguntas frecuentes sobre energ√≠a renovable, parte 2</a></li>
<li><a href="../es416543/index.html">PHP Digest No. 134 (24 de junio - 8 de julio de 2018)</a></li>
<li><a href="../es416545/index.html">Un poco de experiencia personal: desarrollo, solicitudes de extracci√≥n, compromisos, habilidades de software</a></li>
<li><a href="../es416547/index.html">Rostec deja Yota Devices, se ofrecer√° un tel√©fono inteligente con dos pantallas a los suscriptores de la Agencia de Noticias Xinhua</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>