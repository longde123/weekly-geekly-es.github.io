<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò£ üöì üö™ DEFCON 21. DNS-Konferenzen k√∂nnen gesundheitssch√§dlich sein. Teil 2 ü§§ üï¥Ô∏è ü§ôüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="DEFCON 21. DNS-Konferenzen k√∂nnen gesundheitssch√§dlich sein. Teil 1 

 Es wurde angenommen, dass die Domaingrenzen der Organisation foo.com waren und ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DEFCON 21. DNS-Konferenzen k√∂nnen gesundheitssch√§dlich sein. Teil 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/430936/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DEFCON 21. DNS-Konferenzen k√∂nnen gesundheitssch√§dlich sein.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> <br><br>  Es wurde angenommen, dass die Domaingrenzen der Organisation foo.com waren und Sie niemals <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.com</a> verwenden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">m√∂chten</a> .  Microsoft hat dieses DNS-Verhalten ge√§ndert, da offensichtlich nicht alle Organisationen zwei Ebenen f√ºr Dom√§nennamen haben. <br><br><img src="https://habrastorage.org/webt/vf/vl/75/vfvl75firrgcfnxkplyxadipigi.jpeg"><br><br>  Wenn Ihre Top-Level-Domain Gro√übritannien ist, sieht das Standard-DNS-Verhalten beim Herstellen einer Verbindung zu einer bestimmten ad.foo.co.uk-Domain folgenderma√üen aus: <br><br><img src="https://habrastorage.org/webt/2o/_3/y6/2o_3y6rzyxg1a6uzbnxxrdzqnvk.jpeg"><br><br>  Das hei√üt, die Anfrage wird au√üerhalb der Grenzen Ihres Domainnamens auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.co.uk gesendet.</a>  Aus diesem Grund wurde ein zuf√§lliger Hotfix erstellt, ein Sicherheitspatch, der die Organisationsgrenzen der Dom√§ne auf 3 verengte. In diesem Fall wurde die DNS-√úbertragung nach der zweiten Anforderung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.foo.co.uk gestoppt.</a> <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/p1/v5/3f/p1v53f72bjrrddwozdqzth3fpms.jpeg"><br><br>  In unserem Beispiel eines Domainnamens hat dieses Sicherheitsupdate, mit dem unn√∂tige Werbung gestoppt werden soll, Hunderttausende von Kundenunternehmen zerst√∂rt, deren Design des Domainnamens vom urspr√ºnglichen DNS-Verhalten abhing.  Was machen diese Unternehmen?  √Ñndern sie das Design der Infrastruktur, um es an das neue Verhalten anzupassen, das diesen zuf√§lligen Hotfix ber√ºcksichtigt?  Nein, sie √§ndern das Verhalten wieder auf das, was es vorher war. <br><br>  Die folgende Folie zeigt den Entscheidungsbaum, den Microsoft vor dem Erstellen einer DNS-Abfrage verwendet. <br><br>  Ich wei√ü, dass es einfach aussieht (Gel√§chter), und nat√ºrlich sind Sie √ºberrascht, dass jemand es falsch verstehen k√∂nnte. <br><br><img src="https://habrastorage.org/webt/6p/6k/u6/6p6ku64sfpnrz1hzrxuk9frchsi.jpeg"><br><br>  Danach gab es Dutzende von Korrekturen und Updates f√ºr dieses DNS-Verhalten, die sich von Version zu Version √§nderten.  Sie haben es jedoch einmal dokumentiert, und wenn sich einer der Zweige dieses Baums ge√§ndert hat, hat dies Ihre Verwendung von DNS v√∂llig beeintr√§chtigt, und Sie konnten die Einstellungen nicht √§ndern, um das urspr√ºngliche Verhalten wiederherzustellen.  Sie hatten ein Problem, weil sich Ihre Einstellungen bei jedem neuen Update anders verhalten.  Vielleicht wird etwas kaputt gehen oder vielleicht auch nicht, das hei√üt, etwas, das Sie √ºberhaupt nicht erwarten, kann passieren. <br><br>  Daher nehmen Unternehmen √Ñnderungen durch Bearbeiten von Register- oder Gruppenrichtlinien vor und versuchen, das urspr√ºngliche DNS-Verhalten wiederherzustellen. Einige von ihnen k√∂nnen dies jedoch nicht ordnungsgem√§√ü ausf√ºhren, wenn das Verhalten durch ein anderes Fixpack ge√§ndert wurde.  Sie versuchen, die √Ñnderungen zur√ºckzusetzen, um dieses verlorene Verhalten wiederherzustellen, da sie m√∂chten, dass Kunden wieder auf foo.com zugreifen k√∂nnen. <br><br><img src="https://habrastorage.org/webt/b0/tp/wu/b0tpwujwuzovazxhj0zlm1bh_so.jpeg"><br><br>  In den meisten F√§llen, in denen eine zweistufige Verschiebung nicht wiederhergestellt werden kann, wird die urspr√ºngliche zweistufige Einschr√§nkung einfach aufgehoben.  Vielen Dank, Microsoft, f√ºr Windows 7 - jetzt k√∂nnen Sie die drei Standarddom√§nenebenen um 2 √§ndern, aber das System erlaubt Ihnen nicht, sie auf eine zu reduzieren. <br><br><img src="https://habrastorage.org/webt/tz/kw/jl/tzkwjlaf1zpmbv2lz5mk8ma1zva.jpeg"><br><br>  Sie k√∂nnten denken, dass jetzt alles repariert ist, aber was ist mit BYOD-Ger√§ten und Mobilger√§ten, die die XP-Konfiguration verwenden?  Ich habe mich entschlossen zu pr√ºfen, wie viele besch√§digte Konfigurationen dort noch vorhanden sein k√∂nnen.  Ich habe mehrere Domains registriert, die √ºblicherweise nur in einer Unternehmensumgebung verwendet werden. <br><br>  Die erste Dom√§ne ist das Akronym f√ºr Microsoft Office Communicator, das einen internen SIP-Server anfordert.  Die n√§chsten beiden Namen, die ich bei Google gefunden habe, sind die abgek√ºrzten Namen der Schl√ºsselregistrierungsschl√ºssel, die der Webproxy enth√§lt. Daher habe ich diese Namen meinen Servern zugewiesen und darauf gewartet, dass Clients mich kontaktieren.  Und sie haben es geschafft. <br><br><img src="https://habrastorage.org/webt/fg/gc/lg/fggclg28hcqs7pcmzfbn5vo02eq.jpeg"><br><br>  Nachdem ich sipinternal.com registriert hatte, erhielt ich Anfragen von Kunden des B√ºrokommunikators. Die Folie zeigt ein Beispiel f√ºr eine Anfrage zur Registrierung einer der DHL-Ressourcen. Wie sich herausstellte, gibt es weltweit Tausende von zuf√§lligen Ger√§ten, die versucht haben, sich bei mir zu registrieren. <br><br><img src="https://habrastorage.org/webt/ts/cr/fu/tscrfup8wbhfkzj5oui4zveuzfg.jpeg"><br><br>  Ich habe ein wenig mit ihnen gespielt und es sah nach mehreren Angriffen aus, die ein b√∂swilliger SIP-Server gegen Client-Kommunikatoren ausf√ºhrt.  Dies wird meine n√§chste Geschichte √ºber proxy-phoenix.com sein <br><br><img src="https://habrastorage.org/webt/qd/sa/zr/qdsazrdrokpuopnnqnssrxv1nai.jpeg"><br><br>  Es gab mehrere Endbenutzer von IBM und HP, die mich gebeten haben, ihr Proxyserver zu werden, und jetzt haben sie einen Client in Phoenix, der Proxy-Phoenix als Kurznamen f√ºr seine Benutzer "schiebt".  Ich fand es interessant.  Aber noch interessanter stellte sich set-proxy.com heraus. <br><br>  Die ersten Anfragen, die ich erhielt, waren Versuche von Tausenden von Windows-Clients, eine Proxy-Installationspaketdatei herunterzuladen.  Ich fand heraus, dass die Quell-IP-Adresse bei Arthur Andersen registriert war, einer erfolglosen Wirtschaftspr√ºfungsgesellschaft, die bei Enron bankrott ging. <br><br><img src="https://habrastorage.org/webt/jt/tk/du/jttkdu_otn6oyqtmdsb9r21naky.jpeg"><br><br>  Accenture hat sich von seiner Beratungsgruppe getrennt, was im n√§chsten Teil sinnvoller ist.  Es zeigt, dass ihre Richtlinien zur Verwendung mobiler Ger√§te abgest√ºrzt sind (Gel√§chter). <br><br><img src="https://habrastorage.org/webt/ra/xy/52/raxy5209fuvmmn4jjbg7xh9wvmu.jpeg"><br><br>  Sie f√∂rdern eine Konfiguration, die sich auf den Speicherort des Proxy-Pakets durch den abgek√ºrzten Dom√§nennamen bezieht.  Tausende von iPhone und iPad antworteten auf diesen Kurznamen und baten mich, ihnen diese Dateipakete zur Verf√ºgung zu stellen.  Selbst die Tatsache, dass diese Konfiguration es Clients nicht erm√∂glicht, das zu erhalten, was sie angefordert hatten, lie√ü sie nicht nachdenken, und sie gingen direkt ins Internet, um den Proxy zu umgehen und diese Dateien von mir anzufordern. <br><br>  Bei genauerem Hinsehen stellte ich fest, dass ich Anfragen nicht nur von Accenture, sondern auch von Kunden erhalte, die mit dem Netzwerk dieses Unternehmens verbunden sind.  Durch ein falsches DNS hat Accenture nicht nur das lokale Netzwerk, sondern auch die Netzwerke aller damit verbundenen Clients gef√§hrdet und das Hacken aller dort befindlichen Ger√§te erm√∂glicht.  Ich wurde direkt von Ger√§ten kontaktiert, die Mitarbeitern von IBM, HP, Dow, Nokia, GE, Merck und Medco geh√∂rten.  Sie alle haben mich gebeten, ihr Stellvertreter zu sein, und ich werde Ihnen sagen, dass ich von Accenture das Beste erwartet habe. <br><br><img src="https://habrastorage.org/webt/30/cp/ce/30cpcedocnjq2uwrbi52whb6w7s.jpeg"><br><br>  Daraus k√∂nnen solche Lehren gezogen werden.  Beobachten Sie Ihren DNS-Verkehr, denn wenn sich Windows jetzt genauso verh√§lt, bedeutet dies nicht, dass es sich nach dem zweiten Dienstag des Monats gleich verh√§lt (Gel√§chter). <br><br>  Vertrauen Sie nicht den Erwartungen, die auf der Tatsache beruhen, dass die Dinge so laufen, wie sie sollten, beobachten Sie den Verkehr und lernen Sie zu verstehen, wie normaler DNS-Verkehr in Ihrem Netzwerk aussehen sollte.  Sie m√ºssen klar verstehen, wie normaler Datenverkehr aussieht, bevor Sie √Ñnderungen an den Einstellungen vornehmen, damit Sie sie sp√§ter vergleichen k√∂nnen. <br><br><img src="https://habrastorage.org/webt/zh/2h/0a/zh2h0afmnkcw3li9x5hy94nhpcw.jpeg"><br><br>  Bildunterschrift: ‚ÄûSie sind nicht der Eigent√ºmer dieser Domain.  Ich bin er. " <br><br>  Ich habe einige ziemlich einzigartige M√∂glichkeiten aufgezeigt, wie ein "Flip" -Bit in DNS gef√§hrlich sein kann.  Bit Squatting ist jedoch keine gro√üe Bedrohung. Daher ist es interessanter, Tricks mit unerwartetem DNS-Verhalten auszuf√ºhren, die durch eine Kombination von Microsoft-Patches mit der urspr√ºnglichen Konfiguration verursacht werden, wodurch es v√∂llig unverst√§ndlich wird. <br><br>  Eines der schlimmsten Dinge, die Unternehmen in Bezug auf DNS tun, ist jedoch 100% ige Selbstverletzung durch Nachl√§ssigkeit. <br><br>  Ich habe Unternehmen gesehen, die im Laufe mehrerer Jahre wiederholt, manchmal aus Versehen und manchmal absichtlich, alle Bedingungen geschaffen haben, damit ein Angreifer jeden Teil ihrer Infrastruktur √ºbernehmen kann. <br><br>  Das Problem ist, dass Unternehmen tats√§chlich die Domains verwenden, deren Eigent√ºmer sie nicht sind.  Diese Domains, die in den Suffix-Suchzeichenfolgen platziert sind, ‚Äûdr√§ngen‚Äú alle Kunden dazu, unweigerlich auf das externe Internet zuzugreifen, wenn sie technischen Support ben√∂tigen. <br><br>  Ich habe mich entschlossen zu untersuchen, wie viele Unternehmen dazu gezwungen sind, und es war nicht schwierig f√ºr mich.  Ich habe zun√§chst Google um Hilfe gebeten, um die Registrierungsschl√ºsselnamen zu finden, in denen die Suchliste f√ºr die Ausgabe der Windows-IP-Konfiguration und die DNS-Suffix-Suchliste gespeichert sind. <br><br><img src="https://habrastorage.org/webt/us/lv/rv/uslvrvao2-dpoodwfs4wulpfmv0.jpeg"><br><br>  In technischen Support-Foren k√∂nnen Benutzer Informationen zur Workstation-Konfiguration ver√∂ffentlichen, um Unterst√ºtzung bei der Fehlerbehebung zu erhalten. <br><br><img src="https://habrastorage.org/webt/f2/hv/b8/f2hvb8a8hgdxm_qtaveacz_2o2k.jpeg"><br><br>  Ich habe Google studiert, eine eindeutige Liste von Domains erstellt und diese dann registriert.  Beim Betrachten der IP-Konfiguration bin ich auf das DNS-Suffix rsquanta gesto√üen und habe es zur Grundlage f√ºr meine Domain-Registrierungsliste gemacht. <br><br><img src="https://habrastorage.org/webt/tc/o3/mh/tco3mharjdukpwup-zm4g3xkfu4.jpeg"><br><br>  Nachdem ich die Domains mit den auf der n√§chsten Folie angezeigten verzerrten Namen registriert hatte, erhielt ich Tausende von Anfragen von Mobilger√§ten, die nicht einmal wussten, mit welcher Firma sie Kontakt hatten.  Aber ich habe es herausgefunden.  Es stellte sich heraus, dass das Domainnamensuffix rsquanta.com einem gro√üen taiwanesischen Computerhardwareunternehmen, Quanta Computer, geh√∂rt, das 60.000 Mitarbeiter besch√§ftigt. <br><br><img src="https://habrastorage.org/webt/jd/oc/np/jdocnpwh2bzb0gics-adlvpyaiy.jpeg"><br><br>  Sie entwarfen und fertigten den 100-Dollar-Laptop f√ºr OLPC-Kinder und arbeiteten mit Facebook zusammen, um ihre neuen Server basierend auf ihren Ger√§ten zu entwerfen und zusammenzubauen.  Ich habe Anfragen zur automatischen Erkennung von Proxys, SMS-Servern, Mailservern und Datei√ºbertragungsservern erhalten.  Es gab Dutzende von M√∂glichkeiten, wie ich diese Ger√§te in Thailand ruhig nutzen und Exploits einf√ºhren konnte, um Anmeldeinformationen zu stehlen oder √ºbertragene Dateien abzufangen.  Nachdem sie mich gebeten hatten, ihnen bei der Suche nach den richtigen Ressourcen zu helfen, w√ºrde ein Man-in-the-Middle-Angriff trivial aussehen. <br><br>  Aber als ich die Quellen der Anfragen ermittelte, die ich an meine Dummy-Server erhielt, fiel es mir wirklich auf.  Ich stellte fest, dass der regul√§re Datenverkehr von Client-Netzwerken kam, was auf die Existenz von Quanta Computer-Ger√§ten bei Cisco, Apple, 3m und Dell hinweist. <br><br><img src="https://habrastorage.org/webt/oq/tt/jl/oqttjloopihnzszsk_yvl1swy8k.jpeg"><br><br>  Daher sollten sie Au√üendienstmitarbeiter haben, deren Aufgabe es war, bei der Implementierung der Quanta-Ausr√ºstung zu helfen.  Und dies sind nur einige der Kunden dieses Unternehmens, bei denen Mitarbeiter von Quanta Computer vor Ort arbeiten. Ich habe davon erfahren, weil sie mich alle gebeten haben, Zugriff auf die Verm√∂genswerte des Unternehmens zu gew√§hren. <br><br><img src="https://habrastorage.org/webt/bk/fo/lv/bkfolvgcq_x0mdzwwa2aaejblay.jpeg"><br><br>  Ihre Hardware war fest in der Ausstattung bekannter Unternehmen verankert und bezog sich auf vertrauliches geistiges Eigentum.  Somit gab es viele passive Informationen, die ich aus ihrem Verkehr extrahieren konnte.  Ich besa√ü eine Liste der Namen der einzelnen Ger√§te in ihrem Netzwerk. Ich sah, dass der Unternehmensverkehr vor der √ñffentlichkeit verborgen war, was auf das Vorhandensein eines neuen Vertrags hinwies.  Wenn der Verkehr pl√∂tzlich aufh√∂rte, konnte ich davon ausgehen, dass sie den Vertrag verloren hatten, und ich konnte verfolgen, wohin sie als n√§chstes gehen w√ºrden, wohin diese Mitarbeiter reisen und wo sie sich befinden. <br><br><img src="https://habrastorage.org/webt/l5/-1/mh/l5-1mhi4a6g6jj0iqcdjn5uxu58.jpeg"><br><br>  Ich sehe beispielsweise, dass in der N√§he des Unternehmensb√ºros ein Wi-Fi-Reinigungsservice er√∂ffnet wurde, da mir von dort von Zeit zu Zeit Hunderte von Ger√§ten Anfragen senden.  Ich sehe sogar, dass es in dieser Stadt Leute f√ºr Black Hat und DefCon gibt, sp√§ter werden wir dar√ºber sprechen (Gel√§chter). <br><br>  Ein Fehler dieser Art ist also ziemlich schwerwiegend.  Um dies zu vermeiden, √ºberpr√ºfen Sie bitte Ihre DNS-Konfiguration.  Verwenden Sie das Internet, um mithilfe von Ressourcen wie Pastebin und Bleeping Computer die Details Ihrer internen Konfiguration herauszufinden. <br><br>  Beobachten Sie Ihre DNS-Protokolle und stellen Sie sicher, dass Ihre Kunden und die Kunden Ihrer Partner und Hersteller die Anforderungen genau so erf√ºllen, wie Sie es erwarten.  Wenn Sie Protokolle verfolgen, k√∂nnen Sie h√§ufig angeforderte Dom√§nen f√ºr jedes Ger√§t und jedes Unternehmensobjekt leicht identifizieren. <br><br>  Vor ein paar Jahren habe ich angefangen, abgelaufene Domains zu kaufen, die zuvor als C &amp; C-Server verwendet wurden.  (Gel√§chter).  Es hat sehr viel Spa√ü gemacht, also wollte ich zuerst verstehen, wie viel mehr Infektionen dort verblieben sind, und dann herausfinden, welche Art von Ger√§ten noch infiziert waren und wo sie sich befanden. <br><br>  Die Suche nach Domains von der ‚Äûschwarzen Liste‚Äú war nicht schwierig, daher hatte ich die Wahl zwischen Tausenden von Domains zu einem Preis von 99 Cent und kaufte mehrere davon.  Die folgende Folie zeigt die erste Domain, die ich gekauft habe - microsoft-windows-security.com.  Es wurde mit dem Win32-Virus infiziert: EyeStye, ein Bot-Trojaner, ein Tastatur-Interceptor, mit dem vertrauliche Informationen gestohlen wurden.  Er hat die Eingabe abgefangen und sie dann in Form von unverschl√ºsselten Nachrichten an diese Dom√§ne gesendet.  Ich habe nichts mit ihm gemacht, ich habe ihm jedes Mal einen 404-Fehler gesendet, wenn er mich kontaktieren wollte, aber er hat trotzdem versucht, mir die gestohlenen Daten zu senden. <br><br><img src="https://habrastorage.org/webt/g7/el/ih/g7elihaxxzz7kqjfkqa0hhchzcw.jpeg"><br><br>  Dieser Bot meldet seine eindeutige Kennung, den Namen des zu steuernden Prozesses, die abgefangene Funktion, die darin enthaltenen Daten und die Nutzdaten in Form des Benutzernamens und des Kennworts des Benutzers. <br><br><img src="https://habrastorage.org/webt/my/g1/ky/myg1ky-n-o5sfcggfwaycmpfyzy.jpeg"><br><br>  Viele dieser Bots liefern weiterhin blind Nutzdaten an ihre Domain.  Ich habe Dutzende solcher Domains registriert, die Tausende infizierter Ger√§te abdecken.  Diese Vertreter des Botnetz-Netzwerks wurden einfach von ihren Vorbesitzern verlassen, die sich nicht bem√ºhen wollten, sie zu schlie√üen, sondern sie einfach im Netzwerk belassen, bis die Domain abgelaufen ist.  Also gab ich meine ersten 6 Dollar f√ºr diese virusinfizierten Domains aus (Applaus in der Halle). <br><br><img src="https://habrastorage.org/webt/ai/bk/zr/aibkzrs36ipq1f963hlkwt2wcsm.jpeg"><br><br>  Ich hatte 23.000 Ger√§te, die Berichte an meinen Server sendeten, und alle diese Dom√§nen wurden aus ver√∂ffentlichten Blacklists entnommen.  Warum haben so viele Unternehmen ihren Kunden erlaubt, Domains zu kontaktieren, die lange Zeit als b√∂sartig galten? <br><br>  Wir alle k√∂nnen unsere Arbeit verbessern, indem wir einen der einfachsten Mechanismen steuern. Wenn ich mich also nur in die Protokolle meiner Dom√§nen vertiefte, stie√ü ich auf einen, der wirklich ungew√∂hnlich aussah. <br><br><img src="https://habrastorage.org/webt/je/zg/rv/jezgrvyjs16ezlty6pirdol3vp0.jpeg"><br><br>  Einer der Kunden von 82.000 Ger√§ten in meinem Netzwerk hat es regelm√§√üig angefordert. Als ich anfing, es zu sortieren, stellte ich fest, dass diese Domain sechs Monate nach sechs war und bei Google nicht erw√§hnt wurde.  Es sah zu verd√§chtig aus, also kaufte ich es und es wurde sofort mit Kunden √ºberflutet.  Es war ein gew√∂hnlicher Grabber, der seine Nutzdaten unverschl√ºsselt verschickte und 10.000 infizierte Ger√§te auf der ganzen Welt kontrollierte.  Einige von ihnen befanden sich in Gebieten mit dem h√∂chsten Sicherheitsregime, und ich stellte fest, dass eines der infizierten Ger√§te zu den Behandlungseinrichtungen der Stadt Phoenix geh√∂rt. <br><br>  Ich wandte mich an jemanden von dieser Firma und sagte, dass ich den Virus identifizieren k√∂nnte, wenn er mir eine Probe der infizierten Datei schicken w√ºrde.  Sobald sie mir ein Muster geschickt hatten, lud ich es auf Virustotal hoch und stellte fest, dass keiner der 42 Antivirenscanner diesen Virus identifizieren konnte.  Diese Malware war 2 Jahre alt und es schien mir seltsam, dass sie in keinem Antivirenprogramm als Bedrohung identifiziert wurde.  Aber was noch seltsamer war, warum er verlassen wurde?  V√∂llig unsichtbar f√ºr Antivirenprogramme, war es wirklich eine sehr wertvolle Virusinfektion.  Und hier ist ein ironisches Beispiel: Es war ein QS-Ingenieur bei Symantec, ich hoffe, er ist nicht hier. <br><br><img src="https://habrastorage.org/webt/ll/mx/q4/llmxq42ijulwwwrgk3fzrazdwia.jpeg"><br><br>  Hier sehe ich, wie es im Online-Ticketingsystem funktioniert, und in diesem Fall schlie√üt es das Ticket aufgrund des Sicherheitsproblems der SIM-Karte des Produkts.  Ich finde es ziemlich traurig, dass ein Teil der Malware, die bereits 2 Jahre alt ist, von einem Ingenieur, der daran arbeitet, gef√§hrliche Fehler zu beseitigen und die Sicherheit der Produkte des Unternehmens zu gew√§hrleisten, immer noch in die Ausschlussliste des Antivirenprogramms des Unternehmens aufgenommen wird. <br>  Es gibt eine ganze Reihe infizierter Ger√§te, die hochrangigen Beamten und Regierungsbeamten geh√∂ren, wie dem Gerichtsschreiber, dem Unterhaus des US-Kongresses, Geldtransferb√ºros, Zeitungen und sogar der Kassiererin der Federal Servants Union in Langley!  Dies sind definitiv die besten 99 Cent, die ich je ausgegeben habe. <br><br>  Es ist be√§ngstigend zu glauben, dass wahrscheinlich Millionen infizierter Ger√§te versuchen, Command &amp; Control-Server zu erreichen, auf die kein Zugriff mehr zul√§ssig ist.  Wenn Sie das offene oder lokale DNS fast aller gro√üen Anbieter verwenden, geben Sie infizierten Ger√§ten nicht die M√∂glichkeit, alles zu erreichen, was sie zu l√∂sen versuchen. Es spielt keine Rolle, ob eine solche Domain vorhanden ist oder nicht.  Weil sie eine Antwort vort√§uschen, die nicht existiert, und Ihnen die Standard-IP-Adresse der Zielseite geben.  Das Serverprotokoll, auf dem diese Seite gehostet wird, enth√§lt eine Vielzahl gestohlener Daten.  Denken Sie, dass Host-Besitzer etwas unternehmen, um dies zu verhindern? <br><br>  Sie versuchen nur, unangemessenen Traffic mit Anzeigen zu monetarisieren, die versehentlich Ihre pers√∂nlichen Daten stehlen.  Sie erwarten, dass Sie, wenn ein Schadprogramm versucht, Ihnen die Kontaktaufnahme mit einem nicht verbundenen C &amp; C-Server zu erm√∂glichen, nirgendwo hinkommen und einfach nicht dorthin d√ºrfen. <br><br><img src="https://habrastorage.org/webt/xr/m-/0q/xrm-0qzte3qd1jnm31esgwn1res.jpeg"><br><br>  In der Realit√§t geschieht dies wie in den folgenden Folien gezeigt - offene DNSs sind so freundlich, dass sie Ihnen eine Antwort auf alles geben, es spielt keine Rolle, ob diese Domain existiert oder nicht, und sie geben Ihnen gerne die IP-Adresse einer b√∂sartigen Site, die stehlen wird Ihre Daten. <br><br><img src="https://habrastorage.org/webt/_z/8f/j-/_z8fj-172xf7nedkhr96miby-5g.jpeg"><br><br><img src="https://habrastorage.org/webt/ka/w1/2s/kaw12s4xqu1_ww_r0h9plfwkc_w.jpeg"><br><br>  Ich habe mehrere Domains registriert, die derzeit nicht auf einer schwarzen Liste stehen.  Ich habe alle Malware-Beispiele gefunden, die von den wichtigsten Antiviren-Anbietern bei der Analyse der DNS-Protokolle unbemerkt blieben.  Um solche Viren zu erkennen, gehe ich folgenderma√üen vor: <br><br><ul><li>  Ich sammle die DNS-Protokolle, die mir von Personen zur Verf√ºgung gestellt werden, in einer gemeinsamen Datenbank. </li><li>  √úberwachen Sie regelm√§√üig die angeforderten Namen, die zuerst in meiner Umgebung angezeigt wurden. </li><li>  Ich finde die von nur einem Kunden angeforderten Namen; </li><li>  Ich schaue mir die Registrierungsdaten an und stelle die Eigent√ºmer und das Land der Registrierung der neuen Domain fest. </li><li>  Ich suche nach Domains, die die Verwendung der IP-Adresse 127.0.0.1 erlauben, wahrscheinlich werden sie von "Nerds" erstellt. </li></ul><br>  Im Internet ist es ziemlich einfach, Dinge zu erkennen, die sich durch ihre Ungew√∂hnlichkeit auszeichnen.  Sie k√∂nnen jeden Tag eine Liste erstellen, die klein genug ist, um manuell verarbeitet zu werden.  Auf der n√§chsten Folie werde ich Links zu einigen Ressourcen bereitstellen, die Sie besuchen und verwenden sollten, wenn Sie mit der DNS-Erkundung beginnen m√∂chten. <br><br>  Die Bro-Site unterst√ºtzt die Registrierung von DNS-Abfragen und speichert Abfrageprotokolle.     DNS Anomaly Detection ‚Äì   ,         ,  ,  ,  - . <br><br> Passive DNS ‚Äì     Microsoft,     ¬´¬ª   ,   ¬´¬ª        .pcap   . <br><br><img src="https://habrastorage.org/webt/bo/z9/qi/boz9qifx5wf225qkmyhekeaoryu.jpeg"><br><br> Response Policy Zones   ,            ,       .       DNS Sinkholes,         ,      . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die letzte Folie enth√§lt Links zu Dokumentationen, die Sie dazu inspirieren, den DNS-Verkehr zu ‚Äûgraben‚Äú, wo Sie viel mehr finden k√∂nnen, als Sie erwartet haben. </font></font><br><br><img src="https://habrastorage.org/webt/vm/sh/hh/vmshhhzvurq6lpdk8d4blyogbta.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Danke, dass du deine Zeit mit mir verbracht hast! </font><font style="vertical-align: inherit;">Sie k√∂nnen mich jederzeit unter folgender Adresse kontaktieren: bobx@rot26.net.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/9Sgaq6OYLX8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Vielen Dank f√ºr Ihren Aufenthalt bei uns.  Gef√§llt dir unser Artikel?  M√∂chten Sie weitere interessante Materialien sehen?  Unterst√ºtzen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% f√ºr Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir f√ºr Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit √ºber VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verf√ºgbar). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s bis Dezember kostenlos,</b> wenn Sie f√ºr einen Zeitraum von sechs Monaten bezahlen, k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> bestellen. <br><br>  <b>Dell R730xd 2 mal g√ºnstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 GB DDR4 6 x 480 GB SSD 1 Gbit / s 100 TV von 249 US-Dollar</a> in den Niederlanden und den USA!</b>  Lesen Sie mehr √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgeb√§udes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern f√ºr 9.000 Euro f√ºr einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430936/">https://habr.com/ru/post/de430936/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430926/index.html">Die Zeit ist fragmentiert; ein bisschen √ºber die √Ñhnlichkeit verteilter Systeme und ein schwaches Speichermodell</a></li>
<li><a href="../de430928/index.html">Nur zum "Smart Home": Wie man eine "intelligente" Hintergrundbeleuchtung macht</a></li>
<li><a href="../de430930/index.html">√úber 3D-Grafiken in einfachen Worten</a></li>
<li><a href="../de430932/index.html">Hacker haben einer russischen Bank mehr als 21 Millionen Rubel gestohlen</a></li>
<li><a href="../de430934/index.html">Asterisk Dialplan-Erweiterungsmaskengenerator</a></li>
<li><a href="../de430938/index.html">So erhalten Sie die ersten Auftr√§ge im Design, wenn kein Portfolio und keine Erfahrung vorhanden sind</a></li>
<li><a href="../de430940/index.html">SDK f√ºr Sie, SDK f√ºr mich, SDK f√ºr alle! Wie erstelle ich ein SDK und warum wird es ben√∂tigt?</a></li>
<li><a href="../de430942/index.html">Julia. Skripte und Parsing-Befehlszeilenargumente</a></li>
<li><a href="../de430944/index.html">Die NASA hat die Teilnehmer f√ºr ihren Mini-Moon-Rover-Wettbewerb ausgew√§hlt</a></li>
<li><a href="../de430948/index.html">Das Kommunikationsministerium schl√§gt vor, die Kontrolle √ºber personenbezogene Daten zu versch√§rfen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>