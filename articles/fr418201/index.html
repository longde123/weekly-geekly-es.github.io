<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòπ üÜî üë®‚Äçüë©‚Äçüëß Pouvons-nous relancer Duck Hunt? üç£ üÜö üïµüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La plupart des gens se r√©jouissent lorsqu'ils parviennent √† faire revivre de vieilles choses. Le d√©sir sans fin de revivre l'exp√©rience des jeunes nou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pouvons-nous relancer Duck Hunt?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418201/"><img src="https://habrastorage.org/getpro/habr/post_images/ed1/ff3/c40/ed1ff3c40f21f321eadf88ad634941f0.jpg"><br><br>  La plupart des gens se r√©jouissent lorsqu'ils parviennent √† faire revivre de vieilles choses.  Le d√©sir sans fin de revivre l'exp√©rience des jeunes nous conduit dans des directions que nous avons depuis longtemps oubli√©es.  Et en chemin, nous rencontrons parfois des souvenirs oubli√©s qui √©voquent d'autres souvenirs oubli√©s qui nous permettent de revivre des moments heureux auxquels nous n'avons pas pens√© depuis des ann√©es, voire des d√©cennies.  Quelqu'un de retour au lyc√©e, aux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">promenades en voiture</a> du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">soir</a> avec le volume de la radio av√©r√© au maximum, renvoie le rugissement du moteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ford Windsor</a> .  Pour ceux n√©s dans les ann√©es 80 et 90, ces jeux peuvent d√©clencher des jeux vid√©o.  Qui peut oublier la premi√®re r√©union avec un clip d'assistant de Microsoft Office, une musique √©l√©gante de Final Fantasy ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">haut-bas-bas-gauche-droite-gauche-droite-ba-select-start</a> ? <br><br>  Les progr√®s de la technologie des processeurs nous ont permis de passer du temps avec nos jeux pr√©f√©r√©s gr√¢ce √† des √©mulateurs - des programmes qui √©mulent les processeurs d'anciens ordinateurs.  Les jeux sont t√©l√©charg√©s des puces ROM dans des fichiers.  Ces fichiers peuvent ensuite √™tre t√©l√©charg√©s sur l'√©mulateur et jouer au jeu comme si vous y jouiez sur le syst√®me d'origine. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/317/cc1/f6b/317cc1f6bae300da4eba190071a1b668.jpg"><br>  <i>Internes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NES Zapper</a></i> <br><br>  La technologie est une chose merveilleuse.  Cela nous permet d'avancer et de faire aujourd'hui ce qui √©tait impossible hier.  Cependant, dans certains cas, ce paradigme est incorrect.  L'un d'eux est la console de jeu NES, la Nintendo Entertainment System et son contr√¥leur d'armes √† feu, Zapper.  √Ä un moment donn√©, NES est devenu la console de jeu la plus populaire, et pour cause.  Les ing√©nieurs, programmeurs et experts audio de Nintendo ont cr√©√© certains des meilleurs jeux vid√©o jamais cr√©√©s.  Malheureusement, certains de ces jeux ne peuvent pas √™tre jou√©s sur votre √©mulateur Raspberry Pi pr√©f√©r√©, car Zapper n'est pas compatible avec les moniteurs num√©riques modernes.  Il est peu probable que quelqu'un puisse oublier √† quel point c'√©tait amusant de jouer √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Duck Hunt</a> .  Ce jeu √©tait fourni avec tous les syst√®mes NES, nous l'avons donc tous jou√©.  Mais la nostalgie qui lui est associ√©e est enterr√©e en raison de caract√©ristiques technologiques non r√©solues. <br><br>  Je vais vous dire, en tant que hacker √† hacker - cela ne peut plus √™tre tol√©r√©.  Nous allons donc d'abord voir comment Zapper fonctionne et pourquoi il ne fonctionne pas avec les √©crans num√©riques.  Et puis nous r√©fl√©chirons √† la fa√ßon de le r√©parer. <br><br><h2>  Le probl√®me </h2><br>  Le pistolet Zapper est juste une cellule photo√©lectrique avec un interrupteur.  Lorsque la g√¢chette (interrupteur) est enfonc√©e, NES effectue certaines manipulations avec l'√©cran pour comprendre o√π pointe le pistolet.  Lesquels - nous en discuterons un peu plus tard.  Mais nous devons d'abord comprendre qu'ils ne fonctionnent que sur les t√©l√©viseurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CRT</a> analogiques.  Si vous connectez votre √©mulateur √† un tel t√©l√©viseur, vous n'aurez aucun probl√®me.  Le probl√®me est que personne n'a de t√©l√©viseur CRT.  Tous ont des t√©l√©viseurs √† √©cran plat num√©riques et des moniteurs.  Lorsqu'il est connect√© √† un tel moniteur, le jeu ne fonctionnera pas.  Nous devons comprendre pourquoi il en est ainsi. <br><br><h2>  D√©mystifier les mythes </h2><br>  Il y a beaucoup de confusion sur la fa√ßon dont NES sait o√π Zapper se dirige, m√™me parmi les personnes qui connaissent un peu l'√©lectronique.  Certains d'entre eux consid√®rent, et continuent de r√©pandre ce mythe, que NES lit les lignes de balayage du CRT.  Un CRT trace des lignes de balayage du haut vers le bas de l'√©cran √† intervalles r√©guliers.  En comparant l'heure de d√©but du dessin et l'heure √† laquelle Zapper voit la ligne, NES peut savoir o√π Zapper pointe.  Et puisque le moniteur moderne affiche toutes les lignes en m√™me temps, il est impossible de calculer exactement o√π Zapper pointe.  Il est possible que certains pistolets √† cellule photo√©lectrique plus anciens aient fonctionn√©, mais NES ne fonctionne pas de cette fa√ßon.  Absolument. <br><br><h2>  Comment fonctionne NES Zapper </h2><br>  Le syst√®me est assez d√©licat.  Lorsque vous appuyez sur la g√¢chette, NES dessine un cadre noir uni sur le t√©l√©viseur.  NES tire 60 images par seconde, donc une image est √† l'√©cran pendant environ 0,0166, soit 17 ms.  Dans l'image suivante, un rectangle blanc appara√Æt √† la place du canard, et le pr√©fixe interroge l'√©tat de la cellule photo√©lectrique dans le pistolet.  La sortie d'une photodiode est tr√®s diff√©rente selon qu'elle vise un √©cran noir ou un rectangle blanc.  Et tout cela se produit lors de la d√©monstration de deux trames, 34 ms.  L'homme le remarque √† peine.  La trame suivante dessine √† nouveau le terrain de jeu et un coup s√ªr ou un √©chec est compt√© pour vous.  Ing√©nieux! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/c3tBk-LYyzo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  "Mais bon, comment fonctionne ce syst√®me quand il y a deux objectifs √† l'√©cran?"  Bonne question.  Les ing√©nieurs NES g√®rent ce probl√®me en r√©p√©tant simplement tout le processus.  La premi√®re trame sera noire, suivie d'une trame avec un rectangle blanc √† la place d'une cible et d'un lev√© photocellulaire.  S'il y a une autre cible sur l'√©cran, alors le troisi√®me cadre sera avec un rectangle autour de la deuxi√®me cible.  Les trois images prennent environ une demi-seconde, vous n'aurez donc pas la possibilit√© de tirer sur deux canards √† la fois.  Vous ne pouvez en tirer qu'un, et cette technique permet √† NES de savoir lequel. <br><br>  "Si NES interroge simplement l'√©tat de la photocellule, puis-je simplement diriger le pistolet vers une lumi√®re brillante et enregistrer mon coup √† chaque fois?"  Une autre bonne question.  Les ing√©nieurs NES se sont d√©barrass√©s d'une telle tromperie, interrogeant l'√©tat de la photocellule m√™me lors de l'apparition du premier cadre noir.  Si la cellule photo√©lectrique voit autre chose qu'un √©cran noir, le pr√©fixe vous comptera comme un rat√©.  Il y a des rumeurs selon lesquelles, dans les premi√®res versions du jeu, cette erreur n'a pas √©t√© corrig√©e, mais jusqu'√† pr√©sent, personne n'a pu d√©montrer un tel bug. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2dd/07c/1db/2dd07c1db164ff90e5b4e428511bd7e8.jpg"><br><br><h2>  Un autre regard sur le probl√®me </h2><br>  Maintenant, sachant comment Zapper fonctionne, nous pouvons passer √† la r√©solution de probl√®mes avec le moniteur num√©rique.  Si le jeu mesure simplement la diff√©rence entre le noir et le blanc, le pistolet devrait fonctionner correctement sur les moniteurs num√©riques.  Mais cela ne fonctionne √©videmment pas.  Certains soutiennent que la photocellule est sensible au rayonnement infrarouge d'un CRT, et le moniteur num√©rique n'√©met pas de rayons infrarouges.  Mais regardez cette vid√©o: Zapper fonctionne tr√®s bien! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8D624JADDOw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>[La vid√©o montre un Zapper modifi√© / env.</i>  <i>perev.]</i> <br><br>  Nous savons que les lignes de balayage n'y sont pour rien et que Zapper peut distinguer le contraste entre le blanc et le noir sur un √©cran num√©rique.  Nous pouvons conclure que notre probl√®me est li√© au temps.  Apparemment, un CRT peut afficher une image beaucoup plus rapidement qu'un coll√®gue num√©rique.  Dans NES, la n√©cessit√© de rechercher un rectangle blanc apr√®s 16 ms est c√¢bl√©e.  Si votre √©cran num√©rique n'est pas en mesure de traiter la sortie NES avec une vitesse suffisante, la console recherchera un rectangle blanc pendant que le jeu est toujours visible √† l'√©cran. <br><br>  La r√©solution de sortie de NES est de 256 x 240 pixels.  Le moniteur num√©rique doit adapter chaque image √† la r√©solution de travail.  Ce processus g√©n√®re un retard pouvant atteindre 70 ms, d√©passant s√©rieusement notre chiffre de 16 ms. <br><br><h2>  Comment y rem√©dier </h2><br>  Ce ne sera pas facile.  Si un moniteur num√©rique est de nature trop lente, la seule solution est de ralentir NES. <br><br><h3>  Option 1: diminuer la vitesse d'horloge </h3><br>  Nous avons tous entendu parler de l'overclocking du processeur en augmentant la fr√©quence d'horloge.  Et le freinage?  Pouvons-nous ralentir le temps dans le processeur NES sans l'overclocker √† une fraction notable de la vitesse de la lumi√®re?  Il est n√©cessaire que le jeu se d√©roule √† vitesse normale, mais lorsque la g√¢chette est enfonc√©e, elle passe √† un fonctionnement plus lent et, en fait, augmente le temps de retard.  N'oubliez pas que NES affiche un √©cran noir pendant 16 ms, puis dessine un rectangle blanc.  En ralentissant le processeur, nous pouvons augmenter ce d√©lai et donner au temps de r√©action du moniteur num√©rique. <br><br><h3>  Option 2: modification de la ROM </h3><br>  La ROM ne peut √™tre √©dit√©e que dans un √©diteur hexad√©cimal.  Que se passe-t-il si nous avons √©tudi√© l'√©mulateur et trouv√© √† quel endroit la valeur de retard est d√©finie apr√®s avoir appuy√© sur la g√¢chette?  Nous pourrions simplement l'agrandir et esp√©rer ne rien casser. <br><br><h3>  Option 3: votre option </h3><br>  Maintenant que vous savez comment fonctionne NES Zapper et pourquoi il ne fonctionne pas avec les moniteurs num√©riques modernes, vous √™tes √† mi-chemin pour r√©soudre ce probl√®me et lib√©rer la nostalgie dont le destin technologique cruel nous a priv√©s.  Que feriez-vous pour que Zapper fonctionne avec un moniteur num√©rique et devienne le h√©ros d'Internet? <br><br>  Le sch√©ma de travail n'est pas si compliqu√© - c'est s√ªr que nous pouvons tous nous rassembler pour trouver comment faire en sorte que Zapper arr√™te de filmer au ralenti dans notre monde num√©rique.  Partagez vos solutions dans les commentaires. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>Article original</i></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418201/">https://habr.com/ru/post/fr418201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418191/index.html">Analogues en Python et JavaScript. Troisi√®me partie</a></li>
<li><a href="../fr418193/index.html">Comment vous sentez-vous de cr√©er un jeu pour Game Boy en 2017</a></li>
<li><a href="../fr418195/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 4: ¬´Partager les privil√®ges¬ª, partie 1</a></li>
<li><a href="../fr418197/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 4: ¬´Partager les privil√®ges¬ª, partie 2</a></li>
<li><a href="../fr418199/index.html">Comment faire une t√¢che technique simple et ne pas perdre d'argent et de nerfs</a></li>
<li><a href="../fr418203/index.html">API GraphQL (CRUD) sur Go</a></li>
<li><a href="../fr418205/index.html">Space Language Vol.2: Bienvenue, GJ273b</a></li>
<li><a href="../fr418207/index.html">Examen des ordinateurs portables de jeu ASUS ROG Strix GL504GS SCAR II et ASUS ROG Strix GL504GM HERO II</a></li>
<li><a href="../fr418209/index.html">Nous recevons des donn√©es des compteurs Mercury 203.2T sur RS-485</a></li>
<li><a href="../fr418211/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 4: ¬´Partager les privil√®ges¬ª, partie 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>