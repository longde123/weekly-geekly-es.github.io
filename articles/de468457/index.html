<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äç‚öïÔ∏è üèöÔ∏è üê® Der Generator einfacher arithmetischer Beispiele f√ºr Dummies und nicht nur üíÇ üë®üèø‚Äçü§ù‚Äçüë®üèª ü§Ø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo! 

 In diesem "Artikel" oder besser gesagt dem Aufsatz werde ich einen sehr einfachen Weg zeigen, um Spa√ü daran zu haben, die Grundlagen von Lat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Der Generator einfacher arithmetischer Beispiele f√ºr Dummies und nicht nur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468457/">  Hallo! <br><br>  In diesem "Artikel" oder besser gesagt dem Aufsatz werde ich einen sehr einfachen Weg zeigen, um Spa√ü daran zu haben, die Grundlagen von Latex und Python zu kennen. <br><br><img src="https://habrastorage.org/webt/f1/-j/h2/f1-jh2nzd35gg2r3mv3rpfsvi9u.jpeg"><br><br><a name="habracut"></a><br><h3>  Warum? </h3><br>  Nun, Sie k√∂nnen einfache Ausdr√ºcke generieren, die Kinder z√§hlen k√∂nnen.  Oder einfach so.  Ja, zumindest die Tapete aufsetzen, wenn Sie so fanatisch sind wie ich. <br><br><h3>  Wie soll das funktionieren? </h3><br>  Die Idee ist wirklich sehr einfach, absolut jeder kann ein solches Programm schreiben.  Wir wollen einen Ausdruck erzeugen, der einer Zahl n entspricht (die der Benutzer eingibt).  Jede Zahl kann durch einen arithmetischen Ausdruck ersetzt werden, zum Beispiel 3 = 1 + 2. Und 2 ist 4 / 2. Auf diese Weise haben wir 3 = 1 + 4/2 generiert.  In √§hnlicher Weise f√ºhren wir verschiedene Operationen ein und verpacken sie in LaTeX, die Formelsprache. <br><br><div class="spoiler"> <b class="spoiler_title">Du wirst brauchen ...</b> <div class="spoiler_text">  Eine Woche Erfahrung in Python und Matplotlib.  Ich meine es ernst. <br></div></div><br><h3>  Hauptmechanismus </h3><br>  Wir m√ºssen den Ausdruck analysieren, um die Zahlen herauszuholen.  Nennen wir unsere Klasse einen Generator von Problemen (wir alle vermissen es so sehr!) <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> log <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys sys.setrecursionlimit(<span class="hljs-number"><span class="hljs-number">1000</span></span>) <span class="hljs-comment"><span class="hljs-comment">#       class ProblemGenerator: def extract_nums(self, exp): symbols = list(exp) NUM = "1234567890." for i in range(len(symbols)): symbols[i] = "N" if symbols[i] in NUM else "T" begins = [] ends = [] for i in range(len(symbols) - 1): fn = symbols[i] + symbols[i + 1] if fn == "TN": begins.append(i) elif fn == "NT": ends.append(i) if exp[-1] in NUM: ends.append(len(exp) - 1) if exp[0] in NUM: begins = [-1] + begins return [(x + 1, y + 1) for x, y in zip(begins, ends)]</span></span></code> </pre> <br>  Die Funktion extract_nums bedeutet, n Zahlenpaare (a, b) zu erhalten, wobei a die Position des ersten Zeichens und b die Position des letzten + 1 ist. <br><br>  Zum Beispiel, wenn wir den folgenden Code ausf√ºhren: <br><br><pre> <code class="python hljs">gen = ProblemGenerator() print(gen.extract_nums(<span class="hljs-string"><span class="hljs-string">"13+256/355+25"</span></span>))</code> </pre><br>  Wir werden sehen: <br><br><pre> <code class="plaintext hljs">[(0, 2), (3, 6), (7, 10), (11, 13)]</code> </pre><br>  Das hei√üt, es ist ein Tupel-Array.  (0, 2) bedeutet, dass es eine Zahl zwischen 0 (einschlie√ülich) und 2 (nicht einschlie√ülich) gibt. <br><br>  Nun m√∂chten wir verschiedene Operatoren erstellen. Beginnen wir mit Multiplikation und Summe.  Deklarieren Sie drei Funktionen <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unmin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*args, acc=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> r = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> arg <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> args: f = round(arg, acc) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> f &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>: f = str(f) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: f = <span class="hljs-string"><span class="hljs-string">"("</span></span> + str(f) + <span class="hljs-string"><span class="hljs-string">")"</span></span> r.append(f) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__c_sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = round(random.random() * <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) b = num - a a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + <span class="hljs-string"><span class="hljs-string">" + "</span></span> + b <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__c_mul</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = num / (random.random() * <span class="hljs-number"><span class="hljs-number">100</span></span> + <span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a == <span class="hljs-number"><span class="hljs-number">0.0</span></span>: b = random.random() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: b = num / a a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + <span class="hljs-string"><span class="hljs-string">" * "</span></span> + b</code> </pre><br>  Die Unmin-Funktion besteht nicht nur darin, alle Argumente einfach in Zeichenfolgen zu konvertieren, sondern auch einen Operanden in Klammern zu setzen, wenn er kleiner als Null ist.  Zum Beispiel haben wir die Zahlen a = 3, b = -4.  Wenn wir schreiben <br><br><pre> <code class="python hljs">a = <span class="hljs-number"><span class="hljs-number">3</span></span> b = <span class="hljs-number"><span class="hljs-number">-4</span></span> a, b = unmin(a, b)</code> </pre><br>  Dann ist a = "3", b = "(- 4)" <br><br>  Nun, der Rest der Funktionen ist klar: __c_sum gibt eine Zeichenfolge der Form "13 + 4" und __c_mul "13 * 4" zur√ºck. <br>  Es bleibt, diese beiden Teile zu kombinieren und jede Zahl im Ausdruck durch den Ausdruck zu ersetzen. <br>  F√ºgen Sie ProblemGenerator den folgenden Code hinzu: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProblemGenerator</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.funcs = [] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_expander</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, func)</span></span></span><span class="hljs-function">:</span></span> self.funcs.append(func) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">complexify</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, num)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> random.choice(self.funcs)(num) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__rxp__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, exp)</span></span></span><span class="hljs-function">:</span></span> x, y = random.choice(self.extract_nums(exp)) exp = exp[:x] + <span class="hljs-string"><span class="hljs-string">"("</span></span> + self.complexify(float(exp[x:y])) + <span class="hljs-string"><span class="hljs-string">")"</span></span> + exp[y:] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> exp <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randexpr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, ans, steps)</span></span></span><span class="hljs-function">:</span></span> e = str(ans) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(steps): e = self.__rxp__(e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> e</code> </pre><br>  complexify nimmt eine Zahl und gibt eine Zeichenfolge zur√ºck - ein komplizierter Ausdruck.  Zum Beispiel, wenn wir schreiben: <br><br><pre> <code class="python hljs">gen = ProblemGenerator() gen.add_expander(__c_sum) print(gen.complexify(<span class="hljs-number"><span class="hljs-number">13</span></span>))</code> </pre><br>  Wir bekommen: <br><br><pre> <code class="plaintext hljs">31.2 + (-18.2)</code> </pre><br>  Wie funktioniert __rxp__?  Wir w√§hlen zuf√§llig die Position einer Zahl aus einem Ausdruck aus (wenn es beispielsweise einen Ausdruck ‚Äû13 + 35/45‚Äú gibt, nehmen wir an, wir haben (3, 5) ausgew√§hlt) und ersetzen diese Zahl durch einen Ausdruck, der dieser Zahl entspricht.  Das hei√üt, ich m√∂chte: <br><br>  "13 + 35/45" - eine Zufallszahl (3, 5) <br>  13+ + (12 + 23) + / 45 <br>  13+ (12 + 23) / 45 <br><br>  So funktioniert __rxp__ <br>  Nun, randexpr funktioniert ganz einfach.  Wenn wir beispielsweise vier Schritte haben, wird der Ausdruck folgenderma√üen ge√∂ffnet: <br><br><pre> <code class="plaintext hljs">13 (5.62 + 7.38) ((20.63 + (-15.01)) + 7.38) ((20.63 + (-(67.5 + (-52.49)))) + 7.38) ((20.63 + (-((15.16 + 52.34) + (-52.49)))) + 7.38)</code> </pre><br>  Versuchen wir zu rennen: <br><br><pre> <code class="python hljs">gen = ProblemGenerator() gen.add_expander(__c_sum) gen.add_expander(__c_mul) exp = gen.randexpr(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) print(exp)</code> </pre><br>  Ergebnis: <br><br><pre> <code class="plaintext hljs">((6.63 + (56.62 + 16.8)) + (-((60.53 + 3.61) + 14.91)))</code> </pre><br><h3>  LaTeX </h3><br>  Seltsamerweise bleibt das Einfachste.  Wir werden eine Reihe verschiedener LaTeX-Betreiber bekannt geben: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = <span class="hljs-number"><span class="hljs-number">100</span></span> ** (random.random() * <span class="hljs-number"><span class="hljs-number">2</span></span>) b = num - a a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + <span class="hljs-string"><span class="hljs-string">" + "</span></span> + b <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_div</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = num * (random.random() * <span class="hljs-number"><span class="hljs-number">100</span></span> + <span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a == <span class="hljs-number"><span class="hljs-number">0.0</span></span>: b = random.random() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: b = a / num a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\\frac{"</span></span> + a + <span class="hljs-string"><span class="hljs-string">"}{"</span></span> + b + <span class="hljs-string"><span class="hljs-string">"}"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_pow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str(random.randint(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>)) + <span class="hljs-string"><span class="hljs-string">"^{-\\infty}"</span></span> a = random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>) + <span class="hljs-number"><span class="hljs-number">3</span></span> b = math.log(abs(num), a) a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>) + a + <span class="hljs-string"><span class="hljs-string">"^{"</span></span> + b + <span class="hljs-string"><span class="hljs-string">"}"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_sqrt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = num ** <span class="hljs-number"><span class="hljs-number">0.5</span></span> a = unmin(a)[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\\sqrt{"</span></span> + a + <span class="hljs-string"><span class="hljs-string">"}"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_int</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> patterns = [ (<span class="hljs-string"><span class="hljs-string">"x^{2}"</span></span>, (<span class="hljs-number"><span class="hljs-number">3</span></span> * num) ** (<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-string"><span class="hljs-string">"dx"</span></span>), (<span class="hljs-string"><span class="hljs-string">"y^{3}"</span></span>, (<span class="hljs-number"><span class="hljs-number">4</span></span> * num) ** (<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">4</span></span>), <span class="hljs-string"><span class="hljs-string">"dy"</span></span>), (<span class="hljs-string"><span class="hljs-string">"\sqrt{t}"</span></span>, (<span class="hljs-number"><span class="hljs-number">1.5</span></span> * num) ** (<span class="hljs-number"><span class="hljs-number">2</span></span>/<span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-string"><span class="hljs-string">"dt"</span></span>) ] p, b, f = random.choice(patterns) b = str(round(b, <span class="hljs-number"><span class="hljs-number">3</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\\int_{0}^{"</span></span> + b + <span class="hljs-string"><span class="hljs-string">"} "</span></span> + p + <span class="hljs-string"><span class="hljs-string">" "</span></span> + f <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_sig</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>) b = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>) + a s = sum([i <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(a, b + <span class="hljs-number"><span class="hljs-number">1</span></span>)]) c = num / s a, b, c = unmin(a, b, c) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\\sum_{i="</span></span> + a + <span class="hljs-string"><span class="hljs-string">"}^{"</span></span> + b + <span class="hljs-string"><span class="hljs-string">"} i*"</span></span> + c</code> </pre><br>  F√ºgen Sie alle Funktionen zu gen hinzu: <br><br><pre> <code class="python hljs">gen = ProblemGenerator() gen.add_expander(__l_sum) <span class="hljs-comment"><span class="hljs-comment">#    gen.add_expander(__l_div) #  gen.add_expander(__l_pow) #  gen.add_expander(__l_sqrt) #   gen.add_expander(__l_int) #   gen.add_expander(__l_sig) #  </span></span></code> </pre><br>  F√ºgen Sie abschlie√üend die Ausgabe des Ergebnisses hinzu: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt plt.axis(<span class="hljs-string"><span class="hljs-string">"off"</span></span>) latex_expression = gen.randexpr(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 30  .    1 plt.text(0.5, 0.5, "$" + latex_expression + "$", horizontalalignment='center', verticalalignment='center', fontsize=20) plt.show()</span></span></code> </pre><br>  Das ist alles. <br><br><div class="spoiler">  <b class="spoiler_title">Ganzer Code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> log <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys sys.setrecursionlimit(<span class="hljs-number"><span class="hljs-number">1000</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProblemGenerator</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extract_nums</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, exp)</span></span></span><span class="hljs-function">:</span></span> symbols = list(exp) NUM = <span class="hljs-string"><span class="hljs-string">"1234567890."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(symbols)): symbols[i] = <span class="hljs-string"><span class="hljs-string">"N"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> symbols[i] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> NUM <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"T"</span></span> begins = [] ends = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(symbols) - <span class="hljs-number"><span class="hljs-number">1</span></span>): fn = symbols[i] + symbols[i + <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> fn == <span class="hljs-string"><span class="hljs-string">"TN"</span></span>: begins.append(i) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> fn == <span class="hljs-string"><span class="hljs-string">"NT"</span></span>: ends.append(i) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> exp[<span class="hljs-number"><span class="hljs-number">-1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> NUM: ends.append(len(exp) - <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> exp[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> NUM: begins = [<span class="hljs-number"><span class="hljs-number">-1</span></span>] + begins <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [(x + <span class="hljs-number"><span class="hljs-number">1</span></span>, y + <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x, y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> zip(begins, ends)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.funcs = [] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_expander</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, func)</span></span></span><span class="hljs-function">:</span></span> self.funcs.append(func) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">complexify</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, num)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> random.choice(self.funcs)(num) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__rxp__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, exp)</span></span></span><span class="hljs-function">:</span></span> x, y = random.choice(self.extract_nums(exp)) exp = exp[:x] + <span class="hljs-string"><span class="hljs-string">"("</span></span> + self.complexify(float(exp[x:y])) + <span class="hljs-string"><span class="hljs-string">")"</span></span> + exp[y:] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> exp <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randexpr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, ans, steps)</span></span></span><span class="hljs-function">:</span></span> e = str(ans) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(steps): e = self.__rxp__(e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> e <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unmin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*args, acc=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> r = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> arg <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> args: f = round(arg, acc) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> f &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>: f = str(f) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: f = <span class="hljs-string"><span class="hljs-string">"("</span></span> + str(f) + <span class="hljs-string"><span class="hljs-string">")"</span></span> r.append(f) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__c_sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = round(random.random() * <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) b = num - a a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + <span class="hljs-string"><span class="hljs-string">" + "</span></span> + b <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__c_mul</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = num / (random.random() * <span class="hljs-number"><span class="hljs-number">100</span></span> + <span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a == <span class="hljs-number"><span class="hljs-number">0.0</span></span>: b = random.random() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: b = num / a a, b = unmin(a, b, acc=<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + <span class="hljs-string"><span class="hljs-string">" * "</span></span> + b <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__c_sub</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = num + <span class="hljs-number"><span class="hljs-number">100</span></span> ** (random.random() * <span class="hljs-number"><span class="hljs-number">2</span></span>) b = (a - num) a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + <span class="hljs-string"><span class="hljs-string">" - "</span></span> + b <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__c_log</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> fr = random.randint(<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>) a = math.e ** (num / fr) a, fr = unmin(a, fr, acc=<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"log("</span></span> + a + <span class="hljs-string"><span class="hljs-string">") * "</span></span> + fr <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = <span class="hljs-number"><span class="hljs-number">100</span></span> ** (random.random() * <span class="hljs-number"><span class="hljs-number">2</span></span>) b = num - a a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + <span class="hljs-string"><span class="hljs-string">" + "</span></span> + b <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_div</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = num * (random.random() * <span class="hljs-number"><span class="hljs-number">100</span></span> + <span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a == <span class="hljs-number"><span class="hljs-number">0.0</span></span>: b = random.random() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: b = a / num a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\\frac{"</span></span> + a + <span class="hljs-string"><span class="hljs-string">"}{"</span></span> + b + <span class="hljs-string"><span class="hljs-string">"}"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_pow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str(random.randint(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>)) + <span class="hljs-string"><span class="hljs-string">"^{-\\infty}"</span></span> a = random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>) + <span class="hljs-number"><span class="hljs-number">3</span></span> b = math.log(abs(num), a) a, b = unmin(a, b) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>) + a + <span class="hljs-string"><span class="hljs-string">"^{"</span></span> + b + <span class="hljs-string"><span class="hljs-string">"}"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_sqrt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = num ** <span class="hljs-number"><span class="hljs-number">0.5</span></span> a = unmin(a)[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\\sqrt{"</span></span> + a + <span class="hljs-string"><span class="hljs-string">"}"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_int</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> patterns = [ (<span class="hljs-string"><span class="hljs-string">"x^{2}"</span></span>, (<span class="hljs-number"><span class="hljs-number">3</span></span> * num) ** (<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-string"><span class="hljs-string">"dx"</span></span>), (<span class="hljs-string"><span class="hljs-string">"y^{3}"</span></span>, (<span class="hljs-number"><span class="hljs-number">4</span></span> * num) ** (<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">4</span></span>), <span class="hljs-string"><span class="hljs-string">"dy"</span></span>), (<span class="hljs-string"><span class="hljs-string">"\sqrt{t}"</span></span>, (<span class="hljs-number"><span class="hljs-number">1.5</span></span> * num) ** (<span class="hljs-number"><span class="hljs-number">2</span></span>/<span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-string"><span class="hljs-string">"dt"</span></span>) ] p, b, f = random.choice(patterns) b = str(round(b, <span class="hljs-number"><span class="hljs-number">3</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\\int_{0}^{"</span></span> + b + <span class="hljs-string"><span class="hljs-string">"} "</span></span> + p + <span class="hljs-string"><span class="hljs-string">" "</span></span> + f <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__l_sig</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> a = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>) b = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>) + a s = sum([i <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(a, b + <span class="hljs-number"><span class="hljs-number">1</span></span>)]) c = num / s a, b, c = unmin(a, b, c) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\\sum_{i="</span></span> + a + <span class="hljs-string"><span class="hljs-string">"}^{"</span></span> + b + <span class="hljs-string"><span class="hljs-string">"} i*"</span></span> + c gen = ProblemGenerator() gen.add_expander(__l_sum) gen.add_expander(__l_div) gen.add_expander(__l_pow) gen.add_expander(__l_sqrt) gen.add_expander(__l_int) gen.add_expander(__l_sig) <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt plt.axis(<span class="hljs-string"><span class="hljs-string">"off"</span></span>) latex_expression = gen.randexpr(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 30  .    1 plt.text(0.5, 0.5, "$" + latex_expression + "$", horizontalalignment='center', verticalalignment='center', fontsize=15) plt.show()</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Ergebnis (3 Screenshots)</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/hj/rd/-m/hjrd-matww-zx0rpwrsk_geioc8.jpeg"><br><br><img src="https://habrastorage.org/webt/zx/8l/1d/zx8l1dmiv82imgkdihrajacadgi.jpeg"><br><br><img src="https://habrastorage.org/webt/dk/wh/ix/dkwhix8voabixv2yjmmgsz59g0s.jpeg"><br><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468457/">https://habr.com/ru/post/de468457/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468443/index.html">Digitale Veranstaltungen in Moskau vom 23. bis 29. September</a></li>
<li><a href="../de468445/index.html">Firefox und Chrome verschl√ºsseln DNS-Abfragen und umgehen die Zensur</a></li>
<li><a href="../de468447/index.html">Laragon - WAMP mit automatischen lokalen Dom√§nen</a></li>
<li><a href="../de468453/index.html">MBLT19 :: Berichte, Produktkampf und Test</a></li>
<li><a href="../de468455/index.html">Tolles GPS und seine dunkle Seite</a></li>
<li><a href="../de468463/index.html">Verbessern der Zabbix + PostgreSQL-Leistung durch Partitionierung und Indizierung</a></li>
<li><a href="../de468465/index.html">Ansicht des Anwalts: Wie k√∂nnen IT-Unternehmen einen Vertrag mit einem giftigen Regierungskunden k√ºndigen?</a></li>
<li><a href="../de468471/index.html">√úbersicht √ºber AngularConnect 2019. Teil 1</a></li>
<li><a href="../de468479/index.html">‚ÄûDie Leute denken, dass frei wertlos ist. Es schien mir, dass ich sie √ºberzeugen konnte ‚Äú- Yuri Yartsev √ºber die Russol-Schule</a></li>
<li><a href="../de468481/index.html">Wie S7 als erste in Russland Flugtickets online verkaufte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>