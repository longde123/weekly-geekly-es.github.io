<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçº ‚ùÑÔ∏è ‚ôìÔ∏è Arquitectura certificada de SQL Server Data Warehouse Fast Track (DWFT): qu√© significa y c√≥mo funciona üéÑ üë®üèº‚Äçüé§ üåº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los grandes fabricantes de software popular cuidan a sus clientes de diferentes maneras. Una forma es crear un programa de certificaci√≥n. De modo que ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arquitectura certificada de SQL Server Data Warehouse Fast Track (DWFT): qu√© significa y c√≥mo funciona</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bull/blog/438356/">  Los grandes fabricantes de software popular cuidan a sus clientes de diferentes maneras.  Una forma es crear un programa de certificaci√≥n.  De modo que cuando los clientes en el pensamiento deambulan entre las configuraciones de hardware para un software espec√≠fico, el fabricante de este software puede aparecer y se√±alar con un dedo con confianza: "Toma esto y todo estar√° bien". <br><br>  Tal programa para su SQL Server fue desarrollado por Microsoft - SQL Server Fast Track (DWFT).  Certifica las configuraciones de los almacenes de datos, aquellos que cumplen con los requisitos de la carga de trabajo y pueden implementarse con menos riesgo, costo y complejidad.  Suena genial, pero es interesante evaluar estos criterios en la pr√°ctica.  Para hacer esto, analizaremos en detalle una de las configuraciones que tienen la certificaci√≥n Fast Track de SQL Server Data Warehouse. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/12e/15b/2a9/12e15b2a946ab669b59875e70afb9210.png"><br><a name="habracut"></a><br>  Para empezar, un poco m√°s sobre DWFT.  Este programa incluye no solo la certificaci√≥n de arquitecturas de referencia de proveedores de sistemas, sino tambi√©n una serie de gu√≠as de mejores pr√°cticas, si desea crear algo propio.  Microsoft est√° actualizando el programa para el desarrollo de nuevas caracter√≠sticas, y se basa en los comentarios de los clientes. <br><br>  Con el almacenamiento compatible con DWFT, puede estar seguro de que todas las caracter√≠sticas de SQL Server estar√°n disponibles.  Las tecnolog√≠as de almacenamiento en columna en memoria mejoran el rendimiento en las cargas de trabajo transaccionales y anal√≠ticas.  Se admitir√°n tanto Big Data relacional estructurado como no estructurado tradicional, en Hadoop, Spark o Azure Data Lake.  Con la funci√≥n PolyBase de SQL Server, puede combinar grandes datos en el Universo SQL Server, consultar datos relacionales y no estructurados, fusion√°ndolos sin tener que moverlos. <br><br>  Una lista general de arquitecturas certificadas se encuentra al final de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta p√°gina</a> .  A continuaci√≥n presentaremos uno de ellos. <br><br><h2>  Arquitectura de "referencia" </h2><br>  Ahora, para analizar una de las arquitecturas certificadas por DWFT.  Se basa en nuestros servidores BullSequana S400 y S800 y en el almacenamiento Dell EMC VMAX.  El almacenamiento se puede aumentar hasta 4 PB si escala el servidor BullSequana S a 32 procesadores. <br><br>  Para garantizar una alta disponibilidad de la base de datos, tambi√©n se recomienda Windows Failover Clustering.  Es decir, el uso de al menos dos servidores.  A trav√©s de los servicios de cl√∫steres de Microsoft, un servidor de base de datos se configura como el servidor primario (activo) y el segundo como el servidor secundario (pasivo).  El servidor pasivo debe tener la misma configuraci√≥n que el servidor primario. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f35/1eb/de5/f351ebde5469e6765a5a12651a1c4b6d.png"><br>  <i>Lista y caracter√≠sticas de los componentes de la infraestructura.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/088/6ed/f56/0886edf56802b4666692121973837d1b.png"><br>  <i>Esquema general de dos configuraciones</i> <br><br><h2>  Componentes de hardware </h2><br><h3>  Servidor BullSequana S800 </h3><br>  El servidor BullSequana S800 es un servidor de ocho procesadores con hasta 12 TB de memoria, E / S avanzadas y m√≥dulos adicionales con almacenamiento SSD / HDD / NVMe o con GPU NVidia Tesla. <br><br>  La l√≠nea BullSequana S est√° disponible en opciones desde el S200 con dos procesadores hasta el S3200 con 32 procesadores.  El paso de escala de la l√≠nea son dos procesadores.  Para la arquitectura DWFT de SQL Server 2017, los modelos S200, S400 y S800 est√°n igualmente certificados. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/446/511/28e/44651128e0526bf86c0665139ced4b2b.png"><br><br><h3>  Adaptador de bus host Emulex LPe31002-M6 16 Gbps </h3><br>  En comparaci√≥n con las generaciones anteriores de dispositivos, los adaptadores Emulex Gen 6 FC con arquitectura din√°mica multin√∫cleo ofrecen un mayor rendimiento, menor latencia, mejores diagn√≥sticos y capacidad de administraci√≥n.  Proporciona velocidades de hasta 12.800 MB / s (dos puertos 32GFC o cuatro puertos 16GFC), un rendimiento de 1,6 millones de IOPS por adaptador.  La versi√≥n de cuatro puertos del LPe32004 proporciona hasta 3.2 millones de IOPS por adaptador. <br><br><h3>  Interruptor Brocade 6510 </h3><br>  El conmutador Brocade 6510 de Broadcom es un conmutador Fibre Channel montado en el servidor de 1U y 48 puertos. <br><ul><li>  Rendimiento del canal de fibra: 16 Gb / s <br></li><li>  Hasta 48 puertos que proporcionan un rendimiento agregado de 768 Gb / s <br></li><li>  Trunking de cuadros de hasta 128 Gbps <br></li><li>  Consumo de energ√≠a: 14 W / Gb / s <br></li></ul><br><h3>  Dell EMC VMAX 250F </h3><br>  VMAX All Flash se centra en los vol√∫menes de datos de petabytes y el procesamiento de grandes transacciones.  VMAX All Flash escala e integra cientos de procesadores Intel multi-core para cargas de trabajo din√°micas mixtas.  El elemento central de VMAX All Flash es V-Brick: es posible combinar hasta ocho V-Bricks como un solo sistema con capacidades de conectividad, procesamiento y ancho de banda completamente separadas.  Cada V-Brick admite hasta 72 n√∫cleos de procesador para escalar el rendimiento, hasta 576 n√∫cleos por matriz.  Para el escalado, se utilizan los m√≥dulos Flash Capacity Packs. <br><br>  El almacenamiento debe cumplir claramente los requisitos para el procesamiento de transacciones en tiempo real (OLTP) de alta precisi√≥n, aplicaciones virtualizadas y bases de datos Oracle y SQL.  Los requisitos se cumplen para millones de IOPS, rendimiento de petabytes y rendimiento predecible (tiempo de respuesta de 350 Œºs). <br><br>  Finalmente, la arquitectura debe tener un aislamiento de errores mejorado, una verificaci√≥n de integridad de datos confiable y actualizaciones comprobadas de hardware y software a prueba de fallas.  Otro requisito: Disponibilidad para operaciones 24x7 utilizando el software SRDF. <br><br><h2>  C√≥mo se conecta el almacenamiento </h2><br>  Configuraci√≥n de VMAX 250F (todo flash): <br><br><ul><li>  2 vBrick con 2 TB de cach√© por bloque. <br></li><li>  32 * 16 Gbps host FC ports <br></li><li>  64 * 3.84 TB flash (Raid5-7 + 1) + reserva <br></li></ul><br>  Apariencia de VMAX vBricks en un estante: <br><br><img src="https://habrastorage.org/webt/yb/aw/tg/ybawtgjefv2ri-qv9yh-ka_0rlo.jpeg"><br><br>  Ubicaciones del puerto: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/902/5c3/d8c/9025c3d8cc9f68e072c8a29fe4e400ff.png"><br><br>  La configuraci√≥n de matriz l√≥gica en una arquitectura certificada est√° alineada con la configuraci√≥n y las mejores pr√°cticas de Dell EMC. <br><br><ul><li>  Versi√≥n HyperMaxOS: 5977.1131.1131 <br></li><li>  Cifrado: habilitado <br></li><li>  Compresi√≥n: deshabilitado <br></li><li>  Perfil de rendimiento del sistema: b√°sico <br></li></ul><br>  Distribuci√≥n principal: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9a4/e37/d6f/9a4e37d6fe21659c149817c2039458af.png" width="550" height="284"><br><img src="https://habrastorage.org/getpro/habr/post_images/f03/548/2e3/f035482e3c58abe81d2c92d5cc28e44d.png" width="550" height="353"><br><br><h3>  Configuraci√≥n de LUN </h3><br>  Todos los LUN est√°n configurados como THIN LUN en un grupo virtual creado en 64 unidades.  Los datos se distribuyen en todas las unidades flash en ambos vBricks.  Se definen un total de 35 LUN en Dell EMC VMAX: <br><br><ul><li>  16 LUN de 8 TB para datos de usuario (128 TB en total) <br></li><li>  16 LUN o 2 TB para tempdb (32 TB en total) <br></li><li>  Tama√±o de 2 LUN de 2 TB para la revista (4 TB en total) <br></li></ul><br>  Los puertos frontales de Fibre Channel (FC) est√°n configurados para usar cuatro dominios de conmutaci√≥n por error en modo de puerto virtual.  Cada puerto est√° conectado uno a uno a un puerto en el VMAX, que sirve solo un LUN de datos y un LUN Tempdb.  Para cada uno de ellos hay un LUN para separar las operaciones de lectura y escritura en el LUN (al ejecutar GROUP BY u ORDER BY, los datos se escriben primero en Tempdb antes de usarse en otra parte de la consulta o presentarse al usuario).  Cada LUN se asigna a cuatro puertos FA y es accesible de cuatro maneras. <br><br>  Mapeo de puertos: <br><br><img src="https://habrastorage.org/webt/27/qx/w7/27qxw7rwce63tllr2-sx0xfef10.png"><br><br><h3>  Grupos de almacenamiento VMAX (SG) </h3><br>  Se han creado los siguientes grupos de almacenamiento: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/19e/02a/f23/19e02af23e89d960a182d53196d0c2b8.png"><br><br><h3>  Leer y escribir cach√© </h3><br>  El cach√© VMAX es global, se usa din√°micamente para leer y escribir.  La configuraci√≥n predeterminada se usa para limitar la espera de grabaci√≥n en el sistema.  Como el sistema usa solo una aplicaci√≥n, no es necesario crear particiones de cach√©. <br><br><h3>  Conectarse al servidor y MPIO </h3><br>  Windows Server 2016 utiliz√≥ su propio MPIO.  Su alternativa es el software PowerPath para aplicaciones Dell EMC. <br><br><h3>  Enrutamiento de cable </h3><br>  Los puertos superiores de los conmutadores Brocade se utilizan para conectar el servidor BullSequana S800.  Cada puerto par de Emulex HBA est√° conectado a los puertos superiores a la izquierda del conmutador Brocade.  Cada uno de los puertos Outbus Emulex HBA est√° conectado a los puertos superiores a la izquierda del conmutador Brocade_2.  Los puertos inferiores se usan solo para conectar los puertos Dell EMC VMAX FC. <br><br><h3>  Configuraci√≥n de servidor √∫nico </h3><br>  El siguiente diagrama muestra el cableado entre el BullSequana S800 y el Dell EMC VMAX 250F.  La ubicaci√≥n de HBA puede variar seg√∫n la ubicaci√≥n de los m√≥dulos de HBA. <br><br><img src="https://habrastorage.org/webt/tp/v_/n2/tpv_n21oqa-0yj-yjgjgddzt6sa.png"><br><br><h3>  Conexiones de cable en alta configuraci√≥n de servidor disponible </h3><br>  El siguiente diagrama muestra c√≥mo conectar dos servidores BullSequana S800 en una configuraci√≥n de alta disponibilidad con un Dell EMC VMAX 250F.  Nuevamente, la ubicaci√≥n del HBA puede variar seg√∫n la ubicaci√≥n de los m√≥dulos de HBA. <br><br><img src="https://habrastorage.org/webt/p0/la/qp/p0laqpph-_vtnh5brejensuzfb8.png"><br><br>  Arriba, en el lado izquierdo del conmutador Brocade, se resalta la mitad izquierda de los puertos para el primer servidor S800, y en el lado derecho de la imagen est√°n los puertos correctos, y el segundo servidor S800 est√° conectado a ellos. <br><br><h2>  Configuraci√≥n del servidor BullSequana S800 </h2><br><h3>  BIOS del sistema </h3><br>  Todos los par√°metros, excepto la configuraci√≥n de red BMC, se dejaron en la configuraci√≥n predeterminada de f√°brica.  La configuraci√≥n del Procesador l√≥gico en la secci√≥n Configuraci√≥n del procesador permanece activada de manera predeterminada.  Esto activa la tecnolog√≠a Intel Hyper-Threading, que maximiza la cantidad de procesadores l√≥gicos disponibles para SQL Server. <br><br><h3>  Emulex LPe31002-M6 16 Gbps </h3><br>  Todos los HBA Emulex est√°n disponibles a trav√©s de Emulex OneCommand Manager.  Las versiones de firmware y controlador utilizadas durante la certificaci√≥n Microsoft DWH Fast Track son 12.0.193.13. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/447/81a/349/44781a34977a699e1b070560f0feb19f.png"><br><br>  Es importante que todos los HBA tengan el mismo firmware.  El √∫ltimo firmware se puede descargar desde el sitio web de Broadcom.  Las actualizaciones de firmware se pueden realizar utilizando el bot√≥n "Descargar firmware" en Emulex OneCommand Manager.  Cambiar el controlador y / o firmware puede requerir un reinicio del servidor. <br><br>  Con la excepci√≥n del par√°metro QueryDept, que se cambi√≥ de 32 a 64, todos los dem√°s par√°metros de host y HBA permanecieron de forma predeterminada. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/576/2b9/26f/5762b926fabf810b5bfbcfc136c2b25a.png"><br><br><h2>  Configuraci√≥n de Windows Server 2016 </h2><br><h3>  Instalaci√≥n </h3><br>  La instalaci√≥n de Windows se realiz√≥ con la configuraci√≥n predeterminada.  Despu√©s de la instalaci√≥n, se activ√≥ la funci√≥n MPIO de Windows, como se muestra en la figura a continuaci√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d0f/432/266/d0f432266c604ae29130377f0fb24ca3.png"><br><br>  Despu√©s de instalar la funci√≥n MPIO, Windows debe reiniciarse. <br><br><h3>  Instalar controladores y paquetes </h3><br>  Es importante tener controladores y paquetes en el almacenamiento USB, ya que no est√°n incluidos en el cat√°logo de controladores de Windows incluido en el DVD de instalaci√≥n (los adaptadores de red son m√°s nuevos que Windows Server 2016).  Despu√©s de instalar Windows y MPIO, se instalaron los siguientes controladores y paquetes (en el orden especificado): <br><br><ol><li>  Chipset Intel INF versi√≥n 10.1.17711.8088_PV o posterior (se requiere reiniciar) </li><li>  Controlador MegaRAID para Windows 2016 versi√≥n 6.14-6.714.05.00-WHQL (se requiere reiniciar) </li><li>  PROWinx64 para la familia Intel XL7xx versi√≥n 23_2 o posterior </li><li>  OneInstall-Setep-12.0.193.18.exe o posterior </li></ol><br><h3>  Configuraciones de energ√≠a </h3><br>  Para maximizar el rendimiento, el servidor se configur√≥ para usar un plan de alto rendimiento. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3a/ecb/ff8/c3aecbff80d68ec3fc5ae422d9ac7cc9.png"><br><br><h3>  Bloquear p√°ginas en la memoria </h3><br>  Para evitar que el sistema operativo Windows env√≠e p√°ginas de datos a la memoria virtual en el disco y SQL Server pueda usar el proceso para guardar datos en la memoria f√≠sica (RAM), se activ√≥ la opci√≥n Bloquear p√°ginas en memoria para la cuenta de servicio de SQL Server.  Debe reiniciar SQL Server para que esta opci√≥n surta efecto. <br><br><h3>  Unidades de Windows </h3><br>  Despu√©s de completar la divisi√≥n en zonas en los conmutadores VMAX y LUN, se muestran en la Administraci√≥n de discos de Windows. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/46d/83a/b05/46d83ab059f166a677bd464779d7f0f1.png" width="500" height="366"><br><br>  Si todas las unidades est√°n formateadas correctamente, la Administraci√≥n de discos de Windows muestra la siguiente lista: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f2f/f25/ccb/f2ff25ccba6e28ddcdb71ada57164c1c.png"><br><br>  Hay 34 LUN en total: <br><br><ul><li>  16 LUN de 8 TB para datos de usuario (128 TB en total) <br></li><li>  16 LUN o 2 TB para tempdb (32 TB en total) <br></li><li>  Tama√±o de 2 LUN de 2 TB para la revista (4 TB en total) <br></li></ul><br>  Para arquitecturas de referencia DWFT, Dell EMC y yo recomendamos usar puntos de montaje para vol√∫menes en lugar de letras de unidad.  Recomendamos que asigne el volumen apropiado y los nombres de los puntos de montaje para simplificar la resoluci√≥n de problemas y el an√°lisis de rendimiento.  Idealmente, los nombres de los puntos de montaje deben asignarse de manera que se simplifique la identificaci√≥n del volumen VMAX para este volumen de Windows. <br><br>  La siguiente tabla muestra las etiquetas de volumen y las rutas de acceso utilizadas para la configuraci√≥n de referencia: <br><br><img src="https://habrastorage.org/webt/9a/g1/sp/9ag1sppoc0gc9op8bzaxc8cjalg.png"><br><br>  Una vez que todos los LUN est√°n listos, el directorio C: \ Storage se ve as√≠: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2fb/109/afd/2fb109afdaf5d746922ae22c1bc042df.png"><br><br><h3>  MPIO </h3><br>  La pol√≠tica de MPIO para todos los vol√∫menes se establece en la secci√≥n del Departamento de cola m√≠nima. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cdc/503/c25/cdc503c25e2efa569bd7fc1f73792a06.png" width="550" height="655"><br><h3>  Configuraci√≥n de Windows Defender </h3><br>  Windows Defender es un componente est√°ndar de antivirus y antispam.  Para evitar que se escaneen los datos de SQL Server y los archivos de registro (para el rendimiento), se deben agregar las siguientes excepciones. <br><br>  Carpetas en un servidor: <br><br><ul><li>  C: \ Archivos de programa (x86) \ Microsoft SQL Server <br></li><li>  C: \ Archivos de programa \ Microsoft SQL Server <br></li><li>  C: \ Storage (soluci√≥n de servidor √∫nico) <br></li></ul><br>  Carpetas en una soluci√≥n de alta disponibilidad (HA): <br><ul><li>  C: \ Archivos de programa (x86) \ Microsoft SQL Server <br></li><li>  C: \ Archivos de programa \ Microsoft SQL Server <br></li><li>  C: \ ClusterStorage (soluci√≥n altamente asequible) <br></li><li>  C: \ Windows \ Cluster <br></li><li>  Unidad de qu√≥rum <br></li><li>  Unidad MSDTC <br></li></ul><br>  Tipos de archivo: <br><ul><li>  .ldf <br></li><li>  .mdf <br></li><li>  .ndf <br></li></ul><br><h2>  Configuraci√≥n de SQL Server 2017 Enterprise Edition </h2><br>  La instalaci√≥n se realiza principalmente utilizando la configuraci√≥n predeterminada.  Algunas excepciones se enumeran a continuaci√≥n.  Durante la instalaci√≥n de SQL Server 2017, se selecciona la opci√≥n Realizar tarea de mantenimiento de rendimiento. <br><br><h3>  Configuraci√≥n Tempdb </h3><br>  La base de datos Tempdb est√° configurada para usar 16 archivos del mismo tama√±o.  Los archivos de datos Tempdb se encuentran en 16 vol√∫menes.  El archivo de registro de transacciones tempdb se coloca en el disco donde se guardan los registros.  El zoom autom√°tico est√° activado. <br><br><h3>  Opciones de inicio para una instancia de SQL Server </h3><br>  SQL Server 2017 establece autom√°ticamente los indicadores de seguimiento -T1117 y -T1118, por lo que ya no necesita agregarlos a las opciones de inicio de la instancia.  Si no utiliza el indicador de seguimiento -T834, se logra un mejor rendimiento.  Microsoft recomienda no usar este indicador cuando se usan √≠ndices de almacenamiento en columna agrupados. <br><br>  El √∫nico par√°metro de inicio es el indicador -E: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e4/b12/008/4e4b120089f219131f2105e7bcfd56f4.png"><br><br>  Para obtener m√°s informaci√≥n sobre este tema, consulte Microsoft <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DBCC TRACEON - Indicadores de seguimiento</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">opciones de inicio del servicio del motor de base de datos</a> . <br><br><h3>  Memoria m√°xima del servidor SQL </h3><br>  La memoria m√°xima del servidor para esta arquitectura de referencia debe establecerse en 11.534.336 MB o 11.264 GB, donde se asignan 1.024 GB al sistema operativo.  Si aplicaciones adicionales comparten el servidor, debe ajustar la cantidad de memoria disponible para el sistema operativo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11f/8bd/a17/11f8bda17baade55cca173555e3ee99c.png"><br><br><h3>  Concurrencia m√°xima (MAXDOP) </h3><br>  El grado m√°ximo de paralelismo se establece en 448, que corresponde al n√∫mero de n√∫cleos l√≥gicos disponibles en el servidor. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f9/648/f9e/2f9648f9e3adfac0b1aa229c29c6c78e.png"><br><br><h3>  Gesti√≥n de recursos </h3><br>  Dependiendo del tipo de carga de trabajo utilizada, el almacenamiento con el mayor n√∫mero de filas (RS) o el almacenamiento en columna agrupado (CS), debe configurar el regulador de recursos en consecuencia. <br><br>  Para el almac√©n de cadenas, el par√°metro regulador de recursos utilizado para limitar la cantidad m√°xima de memoria se establece en 12 por ciento. <br><br><pre><code class="plaintext hljs">ALTER WORKLOAD GROUP [default] WITH (request_max_memory_grant_percent=12); ALTER RESOURCE GOVERNOR RECONFIGURE;</code> </pre> <br>  Para el almacenamiento de columnas, la configuraci√≥n del controlador de recursos utilizada para limitar la cantidad m√°xima de memoria se establece en un 25 por ciento. <br><br><pre> <code class="plaintext hljs">ALTER WORKLOAD GROUP [default] WITH (request_max_memory_grant_percent=25); ALTER RESOURCE GOVERNOR RECONFIGURE;</code> </pre> <br><h3>  Configuraci√≥n de la base de datos </h3><br>  La base de datos del almac√©n de datos se configur√≥ para usar varios grupos de archivos, cada uno de los cuales contiene 16 archivos distribuidos uniformemente en diecis√©is vol√∫menes de datos.  Todos los archivos pueden crecer autom√°ticamente.  Los grupos de archivos se han configurado con el par√°metro AUTOGROW_ALL_FILES para garantizar que todos los archivos en un grupo de archivos dado permanezcan iguales. <br><br><pre> <code class="plaintext hljs">ALTER DATABASE &lt;database name&gt; MODIFY FILEGROUP &lt;file group name&gt; AUTOGROW_ALL_FILES;</code> </pre> <br><h3>  Complementos de arquitectura de enlace de alta disponibilidad (HA) </h3><br>  La arquitectura de referencia de HA utiliza Windows Failover Clustering para proporcionar alta disponibilidad.  La configuraci√≥n de un cl√∫ster de conmutaci√≥n por error de Windows tiene problemas de almacenamiento adicionales.  La configuraci√≥n recomendada permite que todas las voces del cl√∫ster voten por el qu√≥rum y usen el disco. <br><br>  Se debe crear y configurar un volumen adicional como disco testigo.  Dell EMC recomienda usar 2 GB de espacio en disco.  Todos los vol√∫menes deben asignarse a cada nodo del cl√∫ster, configurarse como un recurso del cl√∫ster y agregarse al grupo de recursos del cl√∫ster de SQL Server. <br><br><h2>  Conclusi√≥n </h2><br>  En conclusi√≥n, probablemente destacaremos la ventaja m√°s importante de la configuraci√≥n: la capacidad de conectar una gran cantidad de adaptadores HBA.  Esto le permite equilibrar el aumento de los m√≥dulos de almacenamiento con ellos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86e/f69/784/86ef697842f322cc25e54c25a3ebe296.png"><br>  <i>Y este es el certificado para la configuraci√≥n de ATOS BullSequana S800 y Dell EMC VMAX 250F.</i>  <i>Puedes ver m√©tricas de prueba en √©l.</i> <br><br>  En un futuro cercano, planeamos transferir soluciones a la arquitectura de Cascade Lake.  Esto conducir√° al inicio de una nueva certificaci√≥n que complementar√° la actual.  Estaremos encantados de responder sus preguntas sobre la certificaci√≥n y nuestra arquitectura en los comentarios. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/438356/">https://habr.com/ru/post/438356/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../438346/index.html">Como lo hacen Descripci√≥n general de las tecnolog√≠as de anonimato de criptomonedas</a></li>
<li><a href="../438348/index.html">C√≥mo aprender a programar a los 9 a√±os de forma independiente</a></li>
<li><a href="../438350/index.html">Gu√≠a completa para la b√∫squeda profesional de c√°maras ocultas y dispositivos esp√≠a</a></li>
<li><a href="../438352/index.html">Video del descenso del rover "Yutu-2", sus primeros metros en la superficie de la luna. Dos semanas de sue√±o en la luna ha terminado</a></li>
<li><a href="../438354/index.html">Vue, Storybook, TypeScript: comenzar un nuevo proyecto con las mejores pr√°cticas en mente</a></li>
<li><a href="../438358/index.html">Ex operativos de la NSA espiando iPhones de las v√≠ctimas por encargo de los EAU</a></li>
<li><a href="../438362/index.html">C√≥mo tradujimos la configuraci√≥n de nuestros servicios de XML a YAML</a></li>
<li><a href="../438364/index.html">Replicaci√≥n del primer codificador digital de voz del mundo</a></li>
<li><a href="../438366/index.html">Otra revisi√≥n m√°s de la caracter√≠stica de tokens de hardware OATH en Azure Cloud MFA</a></li>
<li><a href="../438368/index.html">Las bombillas inteligentes arrojadas a la basura son una valiosa fuente de informaci√≥n personal.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>