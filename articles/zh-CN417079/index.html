<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§’ğŸ½ ğŸ‘†ğŸ» ğŸ‘¨ğŸ½â€âœˆï¸ Kubernetesçš„è½¯ä»¶åŒ…ç®¡ç†å™¨-Helmï¼šè¿‡å»ï¼Œç°åœ¨ï¼Œå°†æ¥ ğŸ§”ğŸ¿ â¤´ï¸ âœŒğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ³¨æ„äº‹é¡¹ ä½©é›·å¤« ï¼šåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ‰“å¼€äº†ä¸€ç³»åˆ—æœ‰å…³Kubernetesè½¯ä»¶åŒ…ç®¡ç†å™¨çš„å‡ºç‰ˆç‰©ï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸å·¥ä½œä¸­ç§¯æä½¿ç”¨å®ƒä»¬-Helmã€‚ è¯¥ææ–™çš„åŸå§‹ä½œè€…æ˜¯Helmé¡¹ç›®çš„åˆ›å§‹äººä¹‹ä¸€Matt Butcherï¼Œä»–åœ¨Microsoftä»äº‹å¼€æºé¡¹ç›®ï¼Œå¹¶æ’°å†™äº†8æœ¬æŠ€æœ¯ä¹¦ç±ï¼ˆç‰¹åˆ«æ˜¯â€œ Go in Practiceâ€...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kubernetesçš„è½¯ä»¶åŒ…ç®¡ç†å™¨-Helmï¼šè¿‡å»ï¼Œç°åœ¨ï¼Œå°†æ¥</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/417079/">  <i><b>æ³¨æ„äº‹é¡¹</b></i>  <i><b>ä½©é›·å¤«</b></i>  <i>ï¼šåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ‰“å¼€äº†ä¸€ç³»åˆ—æœ‰å…³Kubernetesè½¯ä»¶åŒ…ç®¡ç†å™¨çš„å‡ºç‰ˆç‰©ï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸å·¥ä½œä¸­ç§¯æä½¿ç”¨å®ƒä»¬-Helmã€‚</i>  <i>è¯¥ææ–™çš„åŸå§‹ä½œè€…æ˜¯Helmé¡¹ç›®çš„åˆ›å§‹äººä¹‹ä¸€Matt Butcherï¼Œä»–åœ¨Microsoftä»äº‹å¼€æºé¡¹ç›®ï¼Œå¹¶æ’°å†™äº†8æœ¬æŠ€æœ¯ä¹¦ç±ï¼ˆç‰¹åˆ«æ˜¯â€œ Go in Practiceâ€ï¼‰ã€‚</i>  <i>ä½†æ˜¯ï¼Œæœ¬æ–‡ä»¥æˆ‘ä»¬çš„è¯„è®ºï¼ˆæœ‰æ—¶æ˜¯å¹¿æ³›çš„è¯„è®ºï¼‰ä½œä¸ºè¡¥å……ï¼Œå¹¶ä¸”å¾ˆå¿«å°†ä»¥å…³äºHelmçš„æ–°æ³¨é‡Šï¼ˆä»¥æ›´å®é™…çš„é‡ç‚¹ï¼‰è¿›ä¸€æ­¥æ‰©å±•ã€‚</i>  <i><b>æ›´æ–°</b> ï¼ˆ09/03/2018ï¼‰ï¼šç»­é›†é—®ä¸–-â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç†Ÿæ‚‰Kubernetesçš„è½¯ä»¶åŒ…ç®¡ç†å™¨-Helm</a> â€ã€‚</i> <br><br><img src="https://habrastorage.org/webt/ff/1x/js/ff1xjsnvdlnfinirlwb-0p42tlo.png"><br><br>  6æœˆï¼ŒHelmä»Kubernetesçš„é¢†å¯¼é¡¹ç›®èŒä½ç§»äº¤ç»™äº†Cloud Native Computing Foundationï¼ˆCNCFï¼‰ã€‚  CNCFæ­£åœ¨æˆä¸ºåŒç±»æœ€ä½³å¼€æºäº‘æœ¬æœºå·¥å…·çš„æ¯å…¬å¸ã€‚ å› æ­¤ï¼ŒHelmæˆä¸ºè¿™æ ·ä¸€ä¸ªåŸºé‡‘ä¼šçš„ä¸€éƒ¨åˆ†æ˜¯éå¸¸è£å¹¸çš„ã€‚ åœ¨CNCFçš„ä¸»æŒä¸‹ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªé‡è¦é¡¹ç›®ç¡®å®æ˜¯å¤§è§„æ¨¡çš„ï¼šæˆ‘ä»¬åˆ›å»ºäº†Helm 3ã€‚ <a name="habracut"></a><br><br><h2> å¤´ç›”ç®€å² </h2><br>  Helmæœ€åˆæ˜¯ä½œä¸ºDeiså¼€æºé¡¹ç›®å‡ºç°çš„ã€‚ å®ƒæ˜¯æ ¹æ®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Homebrew</a> <i>ï¼ˆmacOSçš„è½¯ä»¶åŒ…ç®¡ç†å™¨- <b>å¤§çº¦æ˜¯Translã€‚</b> ï¼‰</i>å»ºæ¨¡çš„ï¼ŒHelm 1çš„ä»»åŠ¡ä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªä¾¿åˆ©çš„æœºä¼šï¼Œå¯ä»¥åœ¨Kubernetesä¸Šå¿«é€Ÿå®‰è£…ä»–ä»¬çš„ç¬¬ä¸€ä¸ªå·¥ä½œè´Ÿè½½ã€‚  Helmçš„å®˜æ–¹å…¬å‘Šäº2015å¹´ç¬¬ä¸€å±ŠKubeConæ—§é‡‘å±±ä¼šè®®ä¸Šå‘å¸ƒã€‚ <br><br>  <i><b>æ³¨æ„äº‹é¡¹</b></i>  <i><b>trans</b> ã€‚ï¼šä»ç¬¬ä¸€ä¸ªç‰ˆæœ¬dmï¼ˆDeployment Managerï¼‰å¼€å§‹ï¼Œé€‰æ‹©äº†YAMLè¯­æ³•æ¥æè¿°Kubernetesèµ„æºï¼Œå¹¶ä¸”åœ¨ç¼–å†™é…ç½®æ—¶æ”¯æŒ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Jinjaæ¨¡æ¿</a>å’ŒPythonè„šæœ¬ã€‚</i> <br><br>  <i>ä¸€ä¸ªç®€å•çš„Webåº”ç”¨ç¨‹åºæ¨¡æ¿å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</i> <br><br><div class="spoiler">  <b class="spoiler_title">Yaml</b> <div class="spoiler_text"><pre><code class="plaintext hljs">resources: - name: frontend type: github.com/kubernetes/application-dm-templates/common/replicatedservice:v1 properties: service_port: 80 container_port: 80 external_service: true replicas: 3 image: gcr.io/google_containers/example-guestbook-php-redis:v3 - name: redis type: github.com/kubernetes/application-dm-templates/storage/redis:v1 properties: null</code> </pre> </div></div><br>  <i>åœ¨æè¿°æ¨å‡ºçš„åº”ç”¨ç¨‹åºçš„ç»„ä»¶æ—¶ï¼Œä¼šæŒ‡å‡ºåç§°ï¼Œä½¿ç”¨çš„æ¨¡æ¿ä»¥åŠè¯¥æ¨¡æ¿çš„å¿…è¦å‚æ•°ã€‚</i>  <i>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ <code>frontend</code>å’Œ<code>redis</code>ä½¿ç”¨å®˜æ–¹å­˜å‚¨åº“ä¸­çš„æ¨¡æ¿ã€‚</i> <br><br>  <i>åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œç”±äºæ¨¡æ¿çš„å‚æ•°å’ŒåµŒå¥—ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ¥è‡ªå…¬å…±çŸ¥è¯†åº“çš„èµ„æºï¼Œåˆ›å»ºè‡ªå·±çš„æ¨¡æ¿å­˜å‚¨åº“å¹¶æ„å»ºå¤æ‚çš„åº”ç”¨ç¨‹åºã€‚</i> <br><br>  <i>Helm 1ä½“ç³»ç»“æ„ç”±ä¸‰ä¸ªç»„ä»¶ç»„æˆã€‚</i>  <i>ä¸‹å›¾è¯´æ˜äº†å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼š</i> <br><br><img src="https://habrastorage.org/webt/66/f8/l_/66f8l_blo_rfzohvo1wpobchuzg.png"><br><br><ol><li>  <i><code>Manager</code>æ‰§è¡ŒWebæœåŠ¡å™¨çš„åŠŸèƒ½ï¼ˆé€šè¿‡REST APIä¸å®¢æˆ·ç«¯é€šä¿¡ï¼‰ï¼Œç®¡ç†Kubernetesé›†ç¾¤ä¸­çš„éƒ¨ç½²ï¼Œå¹¶ç”¨ä½œæ•°æ®ä»“åº“ã€‚</i> </li><li>  <i><code>expandybird</code>ç»„ä»¶å°†ç”¨æˆ·é…ç½®å‘ˆç°ä¸ºæ‰å¹³å½¢å¼ï¼Œå³</i>  <i>åº”ç”¨Jinjaæ¨¡æ¿å¹¶æ‰§è¡ŒPythonè„šæœ¬ã€‚</i> </li><li>  <i>æ”¶åˆ°å¹³é¢é…ç½®åï¼Œ <code>resourcifier</code>ä¿®å¤ç¨‹åºå¯¹kubectlè¿›è¡Œå¿…è¦çš„è°ƒç”¨ï¼Œå¹¶å°†çŠ¶æ€å’Œé”™è¯¯æ¶ˆæ¯ï¼ˆå¦‚æœæœ‰ï¼‰è¿”å›ç»™<code>manager</code> ã€‚</i> </li></ol><br>  <i>ä¸ºäº†äº†è§£Helmç¬¬ä¸€ç‰ˆçš„åŠŸèƒ½ï¼Œæˆ‘å°†åœ¨<code>dm</code>å‘½ä»¤ä¸Šæä¾›å¸®åŠ©</i> ï¼š <div class="spoiler">  <b class="spoiler_title">dmçš„å¸®åŠ©è¾“å‡º</b> <div class="spoiler_text"><pre> <code class="bash hljs">Usage: ./dm [&lt;flags&gt;] &lt;<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>&gt; [(&lt;template-name&gt; | &lt;deployment-name&gt; | (&lt;configuration&gt; [&lt;import1&gt;...&lt;importN&gt;]))] Commands: expand Expands the supplied configuration(s) deploy Deploys the named template or the supplied configuration(s) list Lists the deployments <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the cluster get Retrieves the supplied deployment manifest Lists manifests <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> deployment or retrieves the supplied manifest <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the form (deployment[/manifest]) delete Deletes the supplied deployment update Updates a deployment using the supplied configuration(s) deployed-types Lists the types deployed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the cluster deployed-instances Lists the instances of the named <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> deployed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the cluster templates Lists the templates <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a given template registry (specified with --registry) registries Lists the registries available describe Describes the named template <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a given template registry getcredential Gets the named credential used by a registry setcredential Sets a credential used by a registry createregistry Creates a registry that holds charts Flags: -apitoken string Github api token that overrides GITHUB_API_TOKEN environment variable -binary string Path to template expansion binary (default <span class="hljs-string"><span class="hljs-string">"../expandybird/expansion/expansion.py"</span></span>) -httptest.serve string <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> non-empty, httptest.NewServer serves on this address and blocks -name string Name of deployment, used <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> deploy and update commands (defaults to template name) -password string Github password that overrides GITHUB_PASSWORD environment variable -properties string Properties to use when deploying a template (eg, --properties k1=v1,k2=v2) -regex string Regular expression to filter the templates listed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a template registry -registry string Registry name (default <span class="hljs-string"><span class="hljs-string">"application-dm-templates"</span></span>) -registryfile string File containing registry specification -service string URL <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> deployment manager (default <span class="hljs-string"><span class="hljs-string">"http://localhost:8001/api/v1/proxy/namespaces/dm/services/manager-service:manager"</span></span>) -serviceaccount string Service account file containing JWT token -stdin Reads a configuration from the standard input -timeout int Time <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> seconds to <span class="hljs-built_in"><span class="hljs-built_in">wait</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> response (default 20) -username string Github user name that overrides GITHUB_USERNAME environment variable --stdin requires a file name and either the file contents or a tar archive containing the named file. a tar archive may include any additional files referenced directly or indirectly by the named file.</code> </pre></div></div><br>  <i>ç°åœ¨å›åˆ°æœ‰å…³å¤´ç›”å†å²çš„åŸå§‹æ–‡æœ¬...</i> <br><br> å‡ ä¸ªæœˆåï¼Œæˆ‘ä»¬ä¸Googleçš„Kubernetes Deployment Managerå›¢é˜Ÿåˆä½œï¼Œå¼€å§‹äº†Helm 2çš„å·¥ä½œã€‚ç›®æ ‡æ˜¯é€šè¿‡æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œä½¿Helmæ˜“äºä½¿ç”¨ï¼š <br><br><ol><li> ç”¨äºå®šåˆ¶çš„å›¾è¡¨æ¨¡æ¿<i>ï¼ˆâ€œå›¾è¡¨â€-Helmç”Ÿæ€ç³»ç»Ÿä¸­åŒ…è£…çš„ç±»ä¼¼ç‰©- <b>å¤§çº¦ç¿»è¯‘</b> ï¼‰</i> ï¼› </li><li> å›¢é˜Ÿçš„é›†ç¾¤ç®¡ç†ï¼› </li><li> å®Œæ•´çš„å›¾è¡¨å­˜å‚¨åº“ï¼› </li><li> ç¨³å®šä¸”ç­¾åçš„è½¯ä»¶åŒ…æ ¼å¼ï¼› </li><li> åšå†³æ”¯æŒè¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶å¹¶ä¿æŒç‰ˆæœ¬ä¹‹é—´çš„å‘åå…¼å®¹æ€§ã€‚ </li></ol><br> ä¸ºäº†å®ç°è¿™äº›ç›®æ ‡ï¼Œå·²å°†ç¬¬äºŒä¸ªç»„ä»¶æ·»åŠ åˆ°Helmç”Ÿæ€ç³»ç»Ÿä¸­ã€‚ å®ƒæˆä¸ºå†…éƒ¨çš„Tilleré›†ç¾¤ï¼Œæä¾›äº†Helmå›¾è¡¨çš„å®‰è£…åŠå…¶ç®¡ç†ã€‚ <br><br>  <i><b>æ³¨æ„äº‹é¡¹</b></i>  <i><b>perevã€‚ï¼š</b>å› æ­¤ï¼Œåœ¨Helmçš„ç¬¬äºŒä¸ªç‰ˆæœ¬ä¸­ï¼Œé›†ç¾¤ä¸­å‰©ä½™çš„å”¯ä¸€ç»„ä»¶è´Ÿè´£å®‰è£…ç”Ÿå‘½å‘¨æœŸï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">release</a> ï¼‰ï¼Œå¹¶ä¸”é…ç½®å‡†å¤‡å·²æäº¤ç»™Helmå®¢æˆ·ç«¯ã€‚</i> <br><br>  <i>å¦‚æœåœ¨ä½¿ç”¨ç¬¬ä¸€ä¸ªHelmç‰ˆæœ¬æ—¶é‡å¯é›†ç¾¤å¯¼è‡´æœåŠ¡æ•°æ®å®Œå…¨ä¸¢å¤±ï¼ˆå› ä¸ºå®ƒä»¬å·²å­˜å‚¨åœ¨RAMä¸­ï¼‰ï¼Œåˆ™åœ¨Helm 2ä¸­æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨<code>ConfigMaps</code> ï¼Œå³</i>  <i>Kuberneteså†…éƒ¨çš„èµ„æºã€‚</i>  <i>å¦ä¸€ä¸ªé‡è¦æ­¥éª¤æ˜¯ä»åŒæ­¥APIï¼ˆæ¯ä¸ªè¯·æ±‚éƒ½è¢«é˜»æ­¢ï¼‰è¿‡æ¸¡åˆ°ä½¿ç”¨å¼‚æ­¥gRPCã€‚</i> <br><br> è‡ª2016å¹´æ¨å‡ºã€Šå¤´ç›”2ã€‹ä»¥æ¥ï¼ŒKubernetesé¡¹ç›®ç»å†äº†çˆ†ç‚¸æ€§çš„å¢é•¿å’Œé‡å¤§çš„æ–°æœºé‡ã€‚ å·²æ·»åŠ åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰ã€‚ å¼•å…¥äº†è®¸å¤šæ–°çš„èµ„æºç±»å‹ã€‚ å‘æ˜çš„ç¬¬ä¸‰æ–¹èµ„æºï¼ˆè‡ªå®šä¹‰èµ„æºå®šä¹‰ï¼ŒCRDï¼‰ã€‚ æœ€é‡è¦çš„æ˜¯ï¼Œæœ‰æœ€ä½³å®è·µã€‚ ç»è¿‡æ‰€æœ‰è¿™äº›æ›´æ”¹ï¼ŒHelmç»§ç»­æ»¡è¶³Kubernetesç”¨æˆ·çš„éœ€æ±‚ã€‚ ä½†æ˜¯æˆ‘ä»¬å¾ˆæ¸…æ¥šï¼Œæ˜¯æ—¶å€™å¯¹å…¶è¿›è¡Œé‡å¤§æ›´æ”¹ï¼Œä»¥ä¾¿ç»§ç»­æ»¡è¶³è¿™ä¸ªå‘å±•ä¸­çš„ç”Ÿæ€ç³»ç»Ÿçš„éœ€æ±‚äº†ã€‚ <br><br> å› æ­¤ï¼Œæˆ‘ä»¬æ¥åˆ°äº†Helm3ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°†è®¨è®ºé¡¹ç›®è·¯çº¿å›¾ä¸Šçš„ä¸€äº›åˆ›æ–°ã€‚ <br><br><h2> é—®å€™å¢é˜¿ </h2><br> åœ¨å¤´ç›”2ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†æ¨¡æ¿ã€‚ åœ¨Helm 2å¼€å‘çš„æ—©æœŸï¼Œæˆ‘ä»¬æ”¯æŒGoï¼ŒJinjaæ¨¡æ¿ï¼Œå¹²å‡€çš„Pythonä»£ç ï¼Œç”šè‡³è¿˜æä¾›äº†ksonnetæ”¯æŒçš„åŸå‹ã€‚ ä½†æ˜¯ï¼Œç”¨äºæ¨¡æ¿çš„è®¸å¤šå¼•æ“çš„å‡ºç°å¸¦æ¥äº†æ¯”å…¶è§£å†³çš„é—®é¢˜æ›´å¤šçš„é—®é¢˜ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å·²ç»é€‰æ‹©äº†ä¸€ä¸ªã€‚ <br><br>  Goæ¨¡æ¿å…·æœ‰å››ä¸ªä¼˜ç‚¹ï¼š <br><br><ol><li> åº“<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å†…ç½®åœ¨Goä¸­</a> ; </li><li> æ¨¡æ¿æ˜¯åœ¨ä¸¥æ ¼é™åˆ¶çš„æ²™ç®±ç¯å¢ƒä¸­æ‰§è¡Œçš„ï¼› </li><li> æˆ‘ä»¬å¯ä»¥åœ¨å¼•æ“ä¸­æ’å…¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»»æ„å‡½æ•°å’Œå¯¹è±¡</a> ï¼› </li><li> ä»–ä»¬ä¸YAMLè¿ä½œè‰¯å¥½ã€‚ </li></ol><br> å°½ç®¡æˆ‘ä»¬åœ¨Helmä¸­ä¿ç•™äº†æ¥å£ä»¥æ”¯æŒå…¶ä»–æ¨¡æ¿å¼•æ“ï¼Œä½†Goæ¨¡æ¿å·²æˆä¸ºæˆ‘ä»¬çš„é»˜è®¤æ ‡å‡†ã€‚ æ¥ä¸‹æ¥çš„å‡ å¹´ç»éªŒè¡¨æ˜ï¼Œè®¸å¤šå…¬å¸çš„å·¥ç¨‹å¸ˆå¦‚ä½•ä½¿ç”¨Goæ¨¡æ¿åˆ›å»ºäº†æ•°åƒå¼ å›¾è¡¨ã€‚ <br><br> æˆ‘ä»¬äº†è§£åˆ°ä»–ä»¬çš„å¤±æœ›ï¼š <br><br><ol><li> è¯¥è¯­æ³•éš¾ä»¥é˜…è¯»ä¸”æ–‡æ¡£è®°å½•ä¸å……åˆ†ã€‚ </li><li> è¯­è¨€é—®é¢˜ï¼Œä¾‹å¦‚ä¸å¯å˜çš„å˜é‡ï¼Œå¤æ‚çš„æ•°æ®ç±»å‹å’Œé™åˆ¶æ€§çš„å¯è§æ€§è§„åˆ™ï¼Œå·²ç»å°†ç®€å•çš„äº‹æƒ…å˜æˆäº†å¤æ‚çš„äº‹æƒ…ã€‚ </li><li> æ— æ³•åœ¨æ¨¡æ¿ä¸­å®šä¹‰åŠŸèƒ½ä½¿åˆ›å»ºå¯é‡ç”¨åº“å˜å¾—æ›´åŠ å›°éš¾ã€‚ </li></ol><br> æœ€é‡è¦çš„æ˜¯ï¼Œä½¿ç”¨æ¨¡æ¿è¯­è¨€ï¼Œæˆ‘ä»¬å°†Kuberneteså¯¹è±¡â€œæˆªæ–­â€ä¸ºå®ƒä»¬çš„çº¿è¡¨ç¤ºå½¢å¼ã€‚  ï¼ˆæ¢å¥è¯è¯´ï¼Œæ¨¡æ¿å¼€å‘äººå‘˜å¿…é¡»å°†Kubernetesèµ„æºä½œä¸ºYAMLæ ¼å¼çš„æ–‡æœ¬æ–‡æ¡£è¿›è¡Œç®¡ç†ã€‚ï¼‰ <br><br><h2> å¤„ç†å¯¹è±¡ï¼Œè€Œä¸æ˜¯YAMLç‰‡æ®µ </h2><br> ä¸€æ¬¡åˆä¸€æ¬¡ï¼Œæˆ‘ä»¬å¬åˆ°ç”¨æˆ·çš„è¦æ±‚ï¼Œè¦æ±‚èƒ½å¤Ÿå°†Kubernetesèµ„æºä½œä¸ºå¯¹è±¡è€Œä¸æ˜¯å­—ç¬¦ä¸²è¿›è¡Œæ£€æŸ¥å’Œä¿®æ”¹ã€‚ åŒæ—¶ï¼Œä»–ä»¬åšæŒè®¤ä¸ºï¼Œæ— è®ºæˆ‘ä»¬ä¸ºæ­¤é€‰æ‹©å“ªç§å®æ–½æ–¹å¼ï¼Œéƒ½åº”è¯¥æ˜“äºå­¦ä¹ å¹¶åœ¨ç”Ÿæ€ç³»ç»Ÿä¸­å¾—åˆ°è‰¯å¥½ç»´æŠ¤ã€‚ <br><br> ç»è¿‡å‡ ä¸ªæœˆçš„ç ”ç©¶ï¼Œæˆ‘ä»¬å†³å®šæä¾›ä¸€ç§å†…ç½®çš„è„šæœ¬è¯­è¨€ï¼Œå¯ä»¥å°†å…¶æ‰“åŒ…åœ¨æ²™ç®±ä¸­å¹¶è¿›è¡Œè‡ªå®šä¹‰ã€‚ åœ¨æ’åå‰20ä½çš„è¯­è¨€ä¸­ï¼Œåªæœ‰ä¸€ç§ç¬¦åˆè¦æ±‚ã€‚ <br><br>  1993å¹´ï¼Œä¸€ç¾¤å·´è¥¿ITå·¥ç¨‹å¸ˆåˆ›å»ºäº†ä¸€ç§è½»é‡çº§çš„è„šæœ¬è¯­è¨€ï¼Œä»¥åµŒå…¥å…¶å·¥å…·ä¸­ã€‚  Luaçš„è¯­æ³•å¾ˆç®€å•ï¼Œå¾—åˆ°äº†å¹¿æ³›çš„æ”¯æŒï¼Œå¹¶ä¸”é•¿æœŸä»¥æ¥ä¸€ç›´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨å‰20ç§è¯­è¨€</a>ä¸­<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ååˆ—å‰èŒ…</a> ã€‚  IDEå’Œæ–‡æœ¬ç¼–è¾‘å™¨éƒ½æ”¯æŒå®ƒï¼Œå…¶ä¸­æœ‰è®¸å¤šæ‰‹å†Œå’Œæ•™ç¨‹ã€‚ åœ¨è¿™æ ·ä¸€ä¸ªç°æœ‰çš„ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬æƒ³å¼€å‘æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆã€‚ <br><br> æˆ‘ä»¬åœ¨Helm Luaä¸Šçš„å·¥ä½œä»å¤„äºæ¦‚å¿µéªŒè¯é˜¶æ®µï¼Œæˆ‘ä»¬æœŸæœ›è¯­æ³•æ—¢ç†Ÿæ‚‰åˆçµæ´»ã€‚ æ¯”è¾ƒæ—§æ–¹æ³•å’Œæ–°æ–¹æ³•ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„å‘å±•æ–¹å‘ã€‚ <br><br> è¿™æ˜¯Helm 2ä¸­å¸¦æœ‰Alpineçš„ç‚‰è†›æ¨¡æ¿<a href="">çš„ç¤ºä¾‹</a> ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: v1 kind: Pod metadata: name: {{ template "alpine.fullname" . }} labels: heritage: {{ .Release.Service }} release: {{ .Release.Name }} chart: {{ .Chart.Name }}-{{ .Chart.Version }} app: {{ template "alpine.name" . }} spec: restartPolicy: {{ .Values.restartPolicy }} containers: - name: waiter image: "{{ .Values.image.repository }}:{{ .Values.image.tag }}" imagePullPolicy: {{ .Values.image.pullPolicy }} command: ["/bin/sleep", "9000"]</code> </pre> <br> åœ¨è¿™ä¸ªç®€å•çš„æ¨¡æ¿ä¸­ï¼Œæ‚¨å¯ä»¥ç«‹å³çœ‹åˆ°æ‰€æœ‰å†…ç½®æ¨¡æ¿æŒ‡ä»¤ï¼Œä¾‹å¦‚<code>{{ .Chart.Name }}</code> ã€‚ <br><br> è¿™æ˜¯Luaä»£ç çš„åˆå§‹ç‰ˆæœ¬ä¸­ç›¸åŒç‚‰åºŠçš„å®šä¹‰ï¼š <br><br><pre> <code class="lua hljs">unction create_alpine_pod(_) <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> pod = { apiVersion = <span class="hljs-string"><span class="hljs-string">"v1"</span></span>, kind = <span class="hljs-string"><span class="hljs-string">"Pod"</span></span>, metadata = { name = alpine_fullname(_), labels = { heritage = _.Release.Service <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">"helm"</span></span>, release = _.Release.Name, chart = _.Chart.Name .. <span class="hljs-string"><span class="hljs-string">"-"</span></span> .. _.Chart.Version, app = alpine_name(_) } }, spec = { restartPolicy = _.Values.restartPolicy, containers = { { name = waiter, image = _.Values.image.repository .. <span class="hljs-string"><span class="hljs-string">":"</span></span> .. _.Values.image.tag, imagePullPolicy = _.Values.image.pullPolicy, command = { <span class="hljs-string"><span class="hljs-string">"/bin/sleep"</span></span>, <span class="hljs-string"><span class="hljs-string">"9000"</span></span> } } } } } _.resources.add(pod) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br> æ— éœ€æŸ¥çœ‹æœ¬ç¤ºä¾‹çš„æ¯ä¸€è¡Œæ¥äº†è§£æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚ å¾ˆæ˜æ˜¾ï¼Œåœ¨ä»£ç ä¸­å¯¹å…¶è¿›è¡Œäº†å®šä¹‰ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬æ²¡æœ‰å°†YAMLå­—ç¬¦ä¸²ä¸å†…ç½®æ¨¡æ¿æŒ‡ä»¤ä¸€èµ·ä½¿ç”¨ï¼Œè€Œæ˜¯å°†å…¶å®šä¹‰ä¸ºLuaä¸­çš„å¯¹è±¡ã€‚ <br><br><h2> è®©æˆ‘ä»¬ç¼©çŸ­è¿™æ®µä»£ç  </h2><br> ç”±äºæˆ‘ä»¬ç›´æ¥å¤„ç†å¯¹è±¡ï¼ˆè€Œä¸æ˜¯å¤„ç†å¤§é‡æ–‡æœ¬ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å……åˆ†åˆ©ç”¨è„šæœ¬ç¼–å†™çš„ä¼˜åŠ¿ã€‚ åˆ›å»ºå‡ºç°åœ¨æ­¤å¤„çš„å…±äº«åº“çš„æœºä¼šçœ‹èµ·æ¥éå¸¸å¸å¼•äººã€‚ æˆ‘ä»¬å¸Œæœ›é€šè¿‡å¼•å…¥ä¸“é—¨çš„åº“ï¼ˆæˆ–å…è®¸ç¤¾åŒºåˆ›å»ºå®ƒä»¬ï¼‰ï¼Œå¯ä»¥å°†ä¸Šè¿°ä»£ç ç®€åŒ–ä¸ºä»¥ä¸‹å½¢å¼ï¼š <br><br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> pods = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"mylib.pods"</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_alpine_pod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_)</span></span></span></span> myPod = pods.new(<span class="hljs-string"><span class="hljs-string">"alpine:3.7"</span></span>, _) myPod.spec.restartPolicy = <span class="hljs-string"><span class="hljs-string">"Always"</span></span> <span class="hljs-comment"><span class="hljs-comment">-- set any other properties _.Manifests.add(myPod) end</span></span></code> </pre> <br> åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å°†èµ„æºå®šä¹‰ä¸ºå¯¹è±¡çš„èƒ½åŠ›ï¼Œå¯ä»¥è½»æ¾è®¾ç½®å±æ€§ï¼ŒåŒæ—¶ä¿æŒä»£ç çš„ç®€æ´æ€§å’Œå¯è¯»æ€§ã€‚ <br><br><h2> æ¨¡æ¿... Lua ...ä¸ºä»€ä¹ˆä¸å…¨éƒ¨åœ¨ä¸€èµ·ï¼Ÿ </h2><br> å°½ç®¡è¿™äº›æ¨¡æ¿å¹¶ä¸æ˜¯å¯¹æ‰€æœ‰ä»»åŠ¡éƒ½é‚£ä¹ˆå‡ºè‰²ï¼Œä½†æ˜¯å®ƒä»¬ä»ç„¶å…·æœ‰æŸäº›ä¼˜åŠ¿ã€‚  Goä¸­çš„æ¨¡æ¿æ˜¯ä¸€ç§ç¨³å®šçš„æŠ€æœ¯ï¼Œå…·æœ‰å·²å»ºç«‹çš„ç”¨æˆ·ç¾¤å’Œè®¸å¤šç°æœ‰å›¾è¡¨ã€‚ è®¸å¤šå›¾è¡¨å¼€å‘äººå‘˜å£°ç§°å–œæ¬¢ç¼–å†™æ¨¡æ¿ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬ä¸ä¼šåˆ é™¤æ¨¡æ¿æ”¯æŒã€‚ <br><br> ç›¸åï¼Œæˆ‘ä»¬å¸Œæœ›åŒæ—¶ä½¿ç”¨æ¨¡æ¿å’ŒLuaã€‚  Luaè„šæœ¬åœ¨æ¸²æŸ“ä¹‹å‰å’Œä¹‹åéƒ½å¯ä»¥è®¿é—®Helmæ¨¡æ¿ï¼Œè¿™å°†å…è®¸é«˜çº§å›¾è¡¨å¼€å‘äººå‘˜åœ¨ç°æœ‰å›¾è¡¨ä¸Šæ‰§è¡Œå¤æ‚çš„è½¬æ¢ï¼ŒåŒæ—¶ä¿ç•™ä½¿ç”¨æ¨¡æ¿åˆ›å»ºHelmå›¾è¡¨çš„ç®€å•åŠŸèƒ½ã€‚ <br><br>  Luaä¸Šè„šæœ¬çš„æ”¯æŒä½¿æˆ‘ä»¬æ„Ÿåˆ°éå¸¸é¼“èˆï¼Œä½†ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬æ‘†è„±äº†Helmæ¶æ„çš„é‡è¦ç»„æˆéƒ¨åˆ†... <br><br><h2> å‘è’‚å‹’è¯´å†è§ </h2><br> åœ¨Helm 2çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†Tillerä½œä¸ºDeployment Managerçš„é›†æˆç»„ä»¶ã€‚ å¯¹äºåœ¨åŒä¸€é›†ç¾¤ä¸Šå·¥ä½œçš„å›¢é˜Ÿï¼ŒTillerå‘æŒ¥äº†é‡è¦ä½œç”¨ï¼šå®ƒä½¿å¾—ä¸è®¸å¤šä¸åŒç®¡ç†å‘˜çš„åŒä¸€ç»„å‘è¡Œç‰ˆè¿›è¡Œäº¤äº’æˆä¸ºå¯èƒ½ã€‚ <br><br> ä½†æ˜¯ï¼Œè’‚å‹’å……å½“äº†å·¨å¤§çš„sudoæœåŠ¡å™¨ï¼Œä¸ºæ‰€æœ‰æœ‰æƒè®¿é—®è’‚å‹’çš„äººèµ‹äºˆäº†å¹¿æ³›çš„æƒåˆ©ã€‚ æˆ‘ä»¬çš„é»˜è®¤å®‰è£…æ–¹æ¡ˆæ˜¯è®¸å¯é…ç½®ã€‚ å› æ­¤ï¼ŒDevOpså’ŒSREå·¥ç¨‹å¸ˆå¿…é¡»å­¦ä¹ åœ¨å¤šç§Ÿæˆ·ç¾¤é›†ä¸­å®‰è£…Tillerçš„å…¶ä»–æ­¥éª¤ã€‚ <br><br> è€Œä¸”ï¼Œéšç€CRDçš„å‡ºç°ï¼Œæˆ‘ä»¬ä¸å†èƒ½å¤Ÿå¯é åœ°ä¾é Tilleræ¥ç»´æŒçŠ¶æ€æˆ–å……å½“Helmå‘å¸ƒä¿¡æ¯çš„ä¸­å¿ƒæ¢çº½ã€‚ æˆ‘ä»¬åªèƒ½å°†æ­¤ä¿¡æ¯å­˜å‚¨ä¸ºKubernetesä¸­çš„å•ç‹¬æ¡ç›®ã€‚ <br><br> æ— éœ€è€•illeræœºæœ¬èº«å³å¯å®ç°è€•illeræœºçš„ä¸»è¦ç›®æ ‡ã€‚ å› æ­¤ï¼Œåœ¨Helm 3è®¡åˆ’é˜¶æ®µåšå‡ºçš„ç¬¬ä¸€ä¸ªå†³å®šå°±æ˜¯å®Œå…¨æ”¾å¼ƒTillerã€‚ <br><br><h2> å®‰å…¨æ”¹å–„ </h2><br> æ²¡æœ‰Tillerï¼ŒHelmå®‰å…¨æ¨¡å‹å°†å¾—åˆ°æ ¹æœ¬ç®€åŒ–ã€‚ ç”¨æˆ·èº«ä»½éªŒè¯ç”±Kuberneteså§”æ‰˜ã€‚ è¿˜æœ‰æˆæƒã€‚  Helmæƒé™å®šä¹‰ä¸ºKubernetesæƒé™ï¼ˆé€šè¿‡RBACï¼‰ï¼Œå¹¶ä¸”ç¾¤é›†ç®¡ç†å‘˜å¯ä»¥åœ¨ä»»ä½•æ‰€éœ€çš„è¯¦ç»†ä¿¡æ¯çº§åˆ«é™åˆ¶Helmæƒé™ã€‚ <br><br><h2> ç‰ˆæœ¬ï¼ŒReleaseVersionså’ŒçŠ¶æ€å­˜å‚¨ </h2><br> åœ¨æ²¡æœ‰Tillerçš„æƒ…å†µä¸‹ï¼Œè¦ç»´æŒé›†ç¾¤ä¸­å„ä¸ªå‘è¡Œç‰ˆçš„çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–°çš„æ–¹å¼è®©æ‰€æœ‰å®¢æˆ·ç«¯è¿›è¡Œäº¤äº’ï¼ˆåŸºäºå‘è¡Œç‰ˆç®¡ç†ï¼‰ã€‚ <br><br> ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸¤ä¸ªæ–°æ¡ç›®ï¼š <br><br><ol><li>  <code>Release</code> -ç”¨äºç‰¹å®šå›¾è¡¨çš„ç‰¹å®šå®‰è£…ã€‚ å¦‚æœæˆ‘ä»¬è¿è¡Œ<code>helm install my-wordpress stable/wordpress</code> ï¼Œåˆ™ä¼šåœ¨æ­¤WordPresså®‰è£…çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­åˆ›å»ºå¹¶ç»´æŠ¤ä¸€ä¸ªåä¸º<code>my-wordpress</code>çš„ç‰ˆæœ¬ã€‚ </li><li>  <code>ReleaseVersion</code>æ¯æ¬¡æ›´æ–°Helmå›¾è¡¨æ—¶ï¼Œéƒ½éœ€è¦è€ƒè™‘å·²æ›´æ”¹çš„å†…å®¹ä»¥åŠæ›´æ”¹æ˜¯å¦æˆåŠŸã€‚  <code>ReleaseVersion</code>ä¸å‘è¡Œç‰ˆç»‘å®šï¼Œä»…å­˜å‚¨åŒ…å«æœ‰å…³æ›´æ–°ï¼Œå›æ»šå’Œåˆ é™¤ä¿¡æ¯çš„è®°å½•ã€‚ å½“æˆ‘ä»¬è¿è¡Œ<code>helm upgrade my-wordpress stable/wordpress</code> ï¼ŒåŸå§‹çš„<code>Release</code>å¯¹è±¡ä¿æŒä¸å˜ï¼Œä½†æ˜¯ä¼š<code>ReleaseVersion</code>ä¸€ä¸ªå­<code>ReleaseVersion</code>å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³æ›´æ–°æ“ä½œçš„ä¿¡æ¯ã€‚ </li></ol><br>  <code>Releases</code>å’Œ<code>ReleaseVersions</code>å°†å­˜å‚¨åœ¨ä¸å›¾è¡¨å¯¹è±¡ç›¸åŒçš„åç§°ç©ºé—´ä¸­ã€‚ <br><br> æœ‰äº†è¿™äº›åŠŸèƒ½ï¼ŒHelmç”¨æˆ·å›¢é˜Ÿå°†èƒ½å¤Ÿè·Ÿè¸ªç¾¤é›†ä¸­Helmå®‰è£…çš„è®°å½•ï¼Œè€Œæ— éœ€ä½¿ç”¨Tillerã€‚ <br><br><h2> ä½†æ˜¯ï¼Œç­‰ç­‰ï¼Œè¿˜ä¸æ­¢è¿™äº›ï¼ </h2><br> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°è¯•è®¨è®ºäº†Helm 3ä¸­çš„ä¸€äº›ä¸»è¦æ›´æ”¹ã€‚ä½†æ˜¯ï¼Œæ­¤åˆ—è¡¨æ ¹æœ¬ä¸å®Œæ•´ã€‚  <a href="">Helm 3è®¡åˆ’è¿˜</a>åŒ…æ‹¬å…¶ä»–æ›´æ”¹ï¼Œä¾‹å¦‚ï¼Œå›¾è¡¨æ ¼å¼çš„æ”¹è¿›ï¼Œå›¾è¡¨å­˜å‚¨åº“çš„æ€§èƒ½æ”¹è¿›ä»¥åŠå›¾è¡¨å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨çš„æ–°äº‹ä»¶ç³»ç»Ÿã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é€šè¿‡</a>æ¸…é™¤ä»£ç åº“å¹¶æ›´æ–°åœ¨è¿‡å»ä¸‰å¹´ä¸­å¤±å»ç›¸å…³æ€§çš„ç»„ä»¶ï¼Œæˆ‘ä»¬è¿˜å°†Eric Raymondç§°ä¸º<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»£ç è€ƒå¤</a> ã€‚ <br><br>  <i><b>æ³¨æ„äº‹é¡¹</b></i>  <i><b>ä½©é›·å¤«</b></i>  <i>ï¼šè¿™æ˜¯ä¸€ä¸ªæ‚–è®ºï¼Œä½†æ˜¯Helm 2è½¯ä»¶åŒ…ç®¡ç†å™¨åœ¨<code>install</code>æˆ–<code>upgrade</code>æˆåŠŸåï¼Œå³</i>  <i>å…·æœ‰<code>success</code>é‡Šæ”¾çŠ¶æ€å¹¶ä¸èƒ½ä¿è¯åº”ç”¨ç¨‹åºèµ„æºå·²æˆåŠŸæ¨å‡ºï¼ˆä¾‹å¦‚ï¼Œä¸å­˜åœ¨è¯¸å¦‚<code>ImagePullError</code>é”™è¯¯ï¼‰ã€‚</i>  <i>ä¹Ÿè®¸æ–°çš„äº‹ä»¶æ¨¡å‹å°†å…è®¸æ‚¨æ·»åŠ èµ„æºçš„é™„åŠ æŒ‚é’©å¹¶æ›´å¥½åœ°æ§åˆ¶éƒ¨ç½²è¿‡ç¨‹-æˆ‘ä»¬å¾ˆå¿«å°±ä¼šå‘ç°ã€‚</i> <br><br> éšç€HelmåŠ å…¥CNCFï¼Œæˆ‘ä»¬ä¸ä»…å—åˆ°Helm 3çš„å¯å‘ï¼Œè¿˜å—åˆ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Chartåšç‰©é¦†</a> ï¼Œå‡ºè‰²çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Chart Testing</a>å®ç”¨ç¨‹åºï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®˜æ–¹Chartèµ„æ–™åº“</a>ä»¥åŠCNCFåœ¨Helmä¸»æŒä¸‹çš„å…¶ä»–é¡¹ç›®çš„å¯å‘ã€‚ æˆ‘ä»¬ç›¸ä¿¡ï¼Œå¯¹äºLinuxè‰¯å¥½çš„è½¯ä»¶åŒ…ç®¡ç†å™¨è€Œè¨€ï¼Œè‰¯å¥½çš„Kubernetesè½¯ä»¶åŒ…ç®¡ç†å¯¹äºäº‘åŸç”Ÿç”Ÿæ€ç³»ç»ŸåŒæ ·é‡è¦ã€‚ <br><br><h2> è¯‘è€…çš„PS </h2><br> å¦è¯·å‚é˜…æˆ‘ä»¬çš„åšå®¢ï¼š <br><br><ul><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Kubernetes-Helmè½¯ä»¶åŒ…ç®¡ç†å™¨çš„å®ç”¨ä»‹ç»</a> â€ï¼› </li><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç»ƒä¹ dappã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬2éƒ¨åˆ†ã€‚ä½¿ç”¨Helmåœ¨Kubernetesä¸­éƒ¨ç½²Dockeræ˜ åƒ</a> â€ï¼› </li><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨dappå’ŒGitLab CIåœ¨Kubernetesä¸­æ„å»ºå’Œå®‰è£…åº”ç”¨ç¨‹åº</a> â€ï¼› </li><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨Kuberneteså’ŒGitLabçš„æœ€ä½³CI / CDå®è·µ</a> â€ <i>ï¼ˆå®¡æŸ¥å’Œè§†é¢‘æŠ¥å‘Šï¼‰</i> ï¼› </li><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æˆ‘ä»¬åœ¨å°å‹é¡¹ç›®ä¸­ä½¿ç”¨Kubernetesçš„ç»éªŒ</a> â€ <i>ï¼ˆè§†é¢‘æŠ¥å‘Šï¼Œå…¶ä¸­åŒ…æ‹¬KubernetesæŠ€æœ¯è®¾å¤‡çš„ä»‹ç»ï¼‰ã€‚</i> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN417079/">https://habr.com/ru/post/zh-CN417079/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN417065/index.html">Splunkçš„ä½¿ç”¨æ–¹æ³•ï¼Œæˆ–æ–¹æ³•å’Œå­¦ä¹ åœ°ç‚¹</a></li>
<li><a href="../zh-CN417069/index.html">å†æ¬¡å…³äºOpenSSL</a></li>
<li><a href="../zh-CN417071/index.html">æ˜ŸæœŸäº”PHPï¼šå…è´¹Skillboxç½‘ç»œç ”è®¨ä¼š</a></li>
<li><a href="../zh-CN417073/index.html">ä¼˜æ­¥ç§»åŠ¨å¼€å‘äººå‘˜æ—¥</a></li>
<li><a href="../zh-CN417075/index.html">CSS Paint API</a></li>
<li><a href="../zh-CN417081/index.html">åŒ—éƒ¨ï¼Œé—æ„¿ï¼Œå¸Œæœ›ï¼Œæ— å›½ç•Œçš„å›½å®¶æˆ–åœ¨ä¸¥å³»çš„è¥¿ä¼¯åˆ©äºšæ¡ä»¶ä¸‹å¦‚ä½•è¿›è¡Œé¡¹ç›®</a></li>
<li><a href="../zh-CN417083/index.html">é«˜è´Ÿè·çš„2018å¹´ä¸–ç•Œæ¯</a></li>
<li><a href="../zh-CN417085/index.html">æµè§ˆå™¨ä½¿WebRTCåº”ç”¨ç¨‹åºä¸­çš„å£°éŸ³é™éŸ³ã€‚ åœä»€ä¹ˆ</a></li>
<li><a href="../zh-CN417087/index.html">HPE Digitize 2018ï¼šæ´»åŠ¨å’Œç°åœºç›´æ’­</a></li>
<li><a href="../zh-CN417089/index.html">é‡å­è®¡ç®—æœºï¼šä¸€ä¸ªå…‰å­ç»Ÿæ²»ä¸€åˆ‡</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>