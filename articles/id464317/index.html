<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¼â€ğŸ­ ğŸ”ˆ ğŸ‘†ğŸ» Proyek Konbanwa ğŸ¤¾ğŸ¼ ğŸ”‚ ğŸ˜§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="KONBANWA ("Selamat malam" - ã“ ã‚“ ã° ã‚“ ã¯). 

 Ini adalah strip LED yang dipasang di bagian atas jendela dan digunakan untuk memperpanjang waktu siang har...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Proyek Konbanwa</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464317/"> KONBANWA ("Selamat malam" - ã“ ã‚“ ã° ã‚“ ã¯). <br><br>  Ini adalah strip LED yang dipasang di bagian atas jendela dan digunakan untuk memperpanjang waktu siang hari.  Karena sumber cahaya matahari dan tambahan tidak mengubah posisinya, pencahayaan yang nyaman diperoleh di dalam ruangan.  Selain itu, nyatanya, tirai penerangan jalan tidak memungkinkan Anda untuk melihat apa yang terjadi di dalam ruangan. <br><a name="habracut"></a><br>  Proyek konbanwa memperhitungkan senja astronomi dengan mentransmisikan lintang dan bujur perangkat.  Dengan menggeser lintang selatan atau utara, Anda dapat mengontrol waktu dan durasi fajar / matahari terbenam. <br><br>  Untuk setiap senja astronomi, Anda dapat mengatur warna dan kecerahan pencahayaan Anda. <br>  Dari matahari terbenam hingga matahari terbenam sipil, periode kerja paling cerah.  Pada saat ini, orang tersebut biasanya tidak tidur.  Anda dapat memilih warna yang dekat dengan matahari terbenam (nuansa merah), dan kecerahannya senyaman mungkin.  Sangat tidak biasa ketika ada lumpur, hujan di jalan, dan sinar matahari terbenam di dinding.  Pada malam hari, mode malam diaktifkan.  Pada saat ini, kecerahannya minimal, lebih baik memilih nuansa biru atau hijau.  Dengan fajar, warna oranye-kuning dengan kecerahan minimal.  Sore - libur. <br><br>  Semua ini berfungsi dalam mode otomatis, cukup sesuaikan kecerahan dan warnanya sekali.  Satu-satunya syarat adalah wifi berfungsi.  Sebagai "otak" diterapkan simpul-merah, yang dapat diinstal pada Raspberry PI di dalam jaringan lokal, atau pada server eksternal.  Mosquitto broker mqtt digunakan untuk transportasi data.  Geolokasi tidak terdeteksi secara otomatis.  Fungsi ini ditugaskan ke server node-red, di mana ia terdaftar secara manual. <br><br><div class="spoiler">  <b class="spoiler_title">simpul-merah</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/mn/wc/el/mnwcel-_401fam6lnwk4oto4lny.png" alt="gambar"><br></div></div><br>  Lingkup: dari wilayah utara, di mana ia menjadi gelap di awal musim dingin, ke yang selatan, di mana gelap datang segera setelah matahari terbenam.  Aplikasi utama adalah instalasi jendela.  Itu juga dapat dipasang di pintu depan untuk secara otomatis menerangi pintu masuk agar tidak mencari lubang kunci dalam gelap. <br><br>  Sedikit sejarah: <br>  Pada 2018, prototipe pertama dirakit, yang ternyata bisa dikerjakan.  Itu dirakit berdasarkan esp01 dan alamat LED ws2812b.  Tingkat perlindungan IP30.  Lampu menyala tepat waktu dan inklusi secara konstan membutuhkan koreksi.  Perangkat dipasang di kamar anak-anak dan masih digunakan sebagai lampu malam. <br><br>  Prototipe kedua pada esp01 dipasang untuk pintu depan, tetapi tingkat perlindungan IP30 tidak memungkinkan bekerja di jalan dan setelah musim dingin LED menjadi tidak dapat digunakan. <br><br>  Pada awal 2019, pemikiran ulang terjadi dan proyek menerima kelanjutan konbanwa 2.0, yang memperhitungkan senja astronomi.  Juga, kecerahan fajar berkurang hampir ke mode lampu malam. <br><br>  Konbanwa 3.0 dipasang pada esp12e dengan sensor suhu dan kelembaban DHT22 opsional dan strip LED 60 LED per meter.  Pada saat ini menjadi jelas bahwa kaset sangat tergantung pada produsen.  Dan mereka memiliki penampilan warna yang berbeda. <br><br>  Konbanwa 4.0 dilanjutkan pada pertengahan musim panas 2019.  DHT22 telah diganti dengan sensor suhu, kelembaban dan tekanan atmosfer BME280.  Terhubung 2 saluran untuk strip LED.  Selain itu, dua relay dengan isolasi optik yang dikendalikan oleh sakelar satu tombol tanpa kait tersambung.  Firmware ditulis ulang, papan sirkuit tercetak bercerai, dan produksi papan dipesan di JLCPCB.  Modul esp12e telah digantikan oleh NodeMCU v3. <br><br><div class="spoiler">  <b class="spoiler_title">Sirkuit dan PCB</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/jt/ff/zd/jtffzdne1hyxaywqdbjppatsen4.png" alt="gambar"><br><img src="https://habrastorage.org/webt/vv/jt/71/vvjt71rpxuxixp0_wbpcr-epj9o.png" alt="gambar"><br></div></div><br>  Semua perubahan ini di masa depan akan membuatnya mudah untuk memasang perangkat di langit-langit di bawah plafon gantung atau gantung atau di lampu gantung.  Di dalam kandil, catu daya 5 volt dipasang, yang catu dayanya secara konstan disuplai dari satu saluran sakelar.  Dengan sakelar satu tombol, dimungkinkan untuk mengontrol dua saluran kandil.  Strip LED dihubungkan oleh enam kabel tipis (kabel), yang dapat dengan mudah dilem ke langit-langit atau dilepas dari langit-langit.  Lingkaran tiga kabel per saluran.  +5 volt, -5 volt dan data.  Strip LED dipasang di jendela.  Maksimal dua dalam jumlah saluran.  Logika dari pemutus sirkuit sederhana.  Klik - saluran 1, klik - saluran 2, klik - kedua saluran.  Jika 10 detik telah berlalu antara klik, maka apa pun mode operasi yang dipilih, relay internal dinonaktifkan.  Setidaknya harus ada 500 milidetik dan tidak lebih dari satu detik di antara klik.  Semua pekerjaan dikendalikan oleh broker mqtt.  Data, suhu, kelembaban, tekanan atmosfer, yang warnanya menyala pada LED dan saluran mana yang menyalakan kandil.  Semua ini dapat dikontrol atau dibaca dari jarak jauh.  Bme280, dengan mengirim data ke broker, selanjutnya akan memungkinkan Anda untuk mengontrol iklim sistem. <br><br><div class="spoiler">  <b class="spoiler_title">Lampu latar foto</b> <div class="spoiler_text">  Hari <br><br><img src="https://habrastorage.org/webt/7x/tl/mo/7xtlmothd7yhawwj8rr16lyjidi.jpeg" alt="gambar"><br><br>  Matahari terbenam <br><br><img src="https://habrastorage.org/webt/ax/si/bc/axsibclpfsvbhtjqcqf-bmxcqr0.jpeg" alt="gambar"><br><br>  Senja sipil <br><br><img src="https://habrastorage.org/webt/i6/am/td/i6amtdwfgkecgr_lljonwvighs8.jpeg" alt="gambar"><br><br>  Senja bahari <br><br><img src="https://habrastorage.org/webt/hi/id/r_/hiidr_ujug6e6t2e7hfzlsodgio.jpeg" alt="gambar"><br><br></div></div><br>  Tidak ada yang menarik dalam kode sumber.  Langganan dan publikasi standar dalam topik mqtt. <br>  Proyek ini berbasis rumahan, jadi saya menanganinya ketika ada minat di dalamnya. <br><br><div class="spoiler">  <b class="spoiler_title">Sumber.</b>  <b class="spoiler_title">Tidak disarankan untuk dilihat.</b>  <b class="spoiler_title">Jaga sarafmu.</b> <div class="spoiler_text">  Versi awal kode sumber untuk vscode (PlatfornIO) dapat dilihat di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github</a> <br>  Diagram perangkat pertama pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">easyeda</a> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id464317/">https://habr.com/ru/post/id464317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id464303/index.html">Data deret waktu dalam DBMS relasional. Ekstensi TimescaleDB dan PipelineDB untuk PostgreSQL</a></li>
<li><a href="../id464305/index.html">Kecil ya. Membuka kotak microvirtual Firecracker</a></li>
<li><a href="../id464307/index.html">Pengujian integrasi layanan microser di Scala</a></li>
<li><a href="../id464309/index.html">Tombol panggilan DIY. Raspberry Pi, MajorDoMo, Freeswitch dan Linphonec</a></li>
<li><a href="../id464315/index.html">Film di mana ada tanah. Penelitian Yandex dan sejarah singkat pencarian berdasarkan makna</a></li>
<li><a href="../id464325/index.html">Bagaimana Scrumban Menyatukan yang Terbaik dari Metodologi Kanban dan Scrum</a></li>
<li><a href="../id464327/index.html">Perbandingan penggunaan memori GUI toolkit berbeda</a></li>
<li><a href="../id464331/index.html">Manfaat Tidak Berguna: Sintesis Bahan Kimia Penyerap UV dari Kacang Mete</a></li>
<li><a href="../id464333/index.html">Melacak siklus hidup pengguna tanpa tang dan pita listrik</a></li>
<li><a href="../id464335/index.html">Tes unit dalam DBMS - bagaimana kita melakukannya di Sportmaster, bagian satu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>