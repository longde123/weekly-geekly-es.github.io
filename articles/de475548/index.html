<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèº üîï ü§¢ Langweiliges Matchmaking ohne Ungleichgewicht und Warteschlangen: ein praktischer Leitfaden üè≥Ô∏è‚Äçüåà üì∂ üò°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Matchmaking ist die Hauptkomponente der meisten modernen Multiplayer-Spiele. Sobald ein Entwickler ihn ernst nimmt, stellt sich heraus, dass Neulinge ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Langweiliges Matchmaking ohne Ungleichgewicht und Warteschlangen: ein praktischer Leitfaden</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pixonic/blog/475548/">  Matchmaking ist die Hauptkomponente der meisten modernen Multiplayer-Spiele.  Sobald ein Entwickler ihn ernst nimmt, stellt sich heraus, dass Neulinge regelm√§√üig mit Profis im Kampf zusammentreffen und einige Spieler ewig warten m√ºssen, um ins Spiel zu kommen.  Dar√ºber hinaus ist es schwierig, vor dem Start zu testen und zu analysieren, da Sie viele Faktoren ber√ºcksichtigen m√ºssen.  Wie sind die Spieler geografisch verteilt?  Wie lange k√∂nnen sie in der Schlange warten?  Welcher Ping ist optimal f√ºr ein angenehmes Spiel?  Diese und andere Faktoren beeinflussen die Qualit√§t des Matchmaking. <br><br><img src="https://habrastorage.org/webt/7g/o6/x6/7go6x6m2omemdo-c_jfsmn8_iku.jpeg" alt="Bild"><br><br>  Im Folgenden wird zun√§chst die allgemeine Vorgehensweise bei der Auswahl von Schlachten in Multiplayer-Spielen er√∂rtert und anschlie√üend unsere eigenen Erfahrungen bei der Organisation von Matchmaking f√ºr Kriegsroboter ausgetauscht. <a name="habracut"></a><br><br><h3>  Welche Kriterien sind zu w√§hlen? </h3><br>  Was ist also ausschlaggebend f√ºr ein gutes Matchmaking?  Dies h√§ngt nat√ºrlich von der Plattform und den Genre-Eigenschaften des Spiels ab, aber in der Regel lassen sich Entwickler von den folgenden Kriterien leiten: <br><br><ul><li>  kurze Wartezeit; </li><li>  niedriger Ping; </li><li>  der minimale Unterschied in der Erfahrung, den F√§higkeiten und dem Fortschritt der Spieler: Hier kann die Erfahrung des Spiels sowohl allgemein als auch f√ºr eine bestimmte Klasse ber√ºcksichtigt werden, wenn das Spiel in sie unterteilt ist; </li><li>  Opposition gegeneinander - vormontierte Spielergruppen, die auf koordinierte Arbeit abzielen; </li><li>  Gleichzeitiger Spielbeginn f√ºr alle Spieler. </li></ul><br>  Andere Anforderungen sind m√∂glich, zum Beispiel: <br><br><ul><li>  nimm Spieler auf, die dieselbe Sprache sprechen; </li><li>  Ber√ºcksichtigen Sie die Ergebnisse der letzten Spiele des Spielers sowie den √úbereinstimmungskoeffizienten mit der Wertung: Wenn ein Spieler die letzten Spiele verloren hat, ist er m√∂glicherweise gerade nicht mehr in Form und sollte den Gegnern f√ºr einige Zeit eine Erleichterung bieten. </li><li>  Matchmaking unter Ber√ºcksichtigung der Zusammensetzung der Teams: Wenn einem Team beispielsweise ein Panzer oder ein Heiler fehlt, suchen Sie nach Gegnern mit der gleichen Zusammensetzung. </li><li>  Bringe Trolle, Bemalungen und Greifer zusammen, damit sie andere Spieler nicht st√∂ren. </li><li>  die Zusammensetzung der Spieler abwechslungsreich gestalten, damit sich die gleichen Personen nicht zu oft in verschiedenen Spielen treffen; </li><li>  Bringen Sie Spieler per Voice-Chat zusammen. </li></ul><br>  Es ist bei weitem nicht immer m√∂glich, alle diese Anforderungen gleichzeitig zu erf√ºllen.  Eine Vielzahl von Anforderungen steht zudem immer dem Wunsch entgegen, eine kurze Wartezeit zu erreichen.  Auch wenn das Spiel sehr erfolgreich ist und jede Minute Hunderte von Spielern auf das Spiel warten, bleibt m√∂glicherweise nicht gen√ºgend Zeit, um einige Anforderungen zu erf√ºllen.  Wenn Sie zum Beispiel f√ºr ein Team von Australiern ein anderes zufriedenstellendes australisches Team als Rivalen suchen, kann sich die Wartezeit drastisch verl√§ngern. <br><br>  In dieser Hinsicht ist es notwendig, aus allen gew√ºnschten Anforderungen die f√ºr ein bestimmtes Projekt wichtigsten auszuw√§hlen.  Eine Verk√ºrzung dieser Liste f√ºhrt zu einer besseren Einhaltung der verbleibenden Anforderungen und zu k√ºrzeren Wartezeiten. <br><br>  Bei der Entwicklung von Multiplayer-Spielen sollte beachtet werden, dass das Hinzuf√ºgen verschiedener Spielmodi die Spielerbasis in mehrere Warteschlangen aufteilt und dadurch zu einer Verl√§ngerung der Wartezeit und damit zu einer Verschlechterung der Qualit√§t des Matchmaking f√ºhrt.  √úberlegen Sie sich daher noch einmal, bevor Sie diesen oder jenen Modus zum Spiel hinzuf√ºgen und ob es sich lohnt, dem Spieler die M√∂glichkeit zu geben, zwischen ihnen zu w√§hlen. <br><br>  Die Reduzierung der Anforderungen f√ºr das Matchmaking ist nicht die einzige M√∂glichkeit, die Wartezeit zu verk√ºrzen.  Sie k√∂nnen beispielsweise Multiplayer auf dem Drop-In-Drop-Out-System implementieren, sodass Benutzer dem Spiel jederzeit beitreten und es jederzeit beenden k√∂nnen.  Wenn dies nicht m√∂glich ist, k√∂nnen Sie dem Spieler bei einer kurzen Spieldauer erlauben, w√§hrend des Wartens mit Bots zu spielen.  Nat√ºrlich wird dies das Problem der Erwartung nicht l√∂sen, aber es wird uns zumindest erlauben, die Zeit zu vertreiben. <br><br><h3>  Wie beurteilen Sie die Einhaltung der ausgew√§hlten Kriterien? </h3><br>  Wir haben also eine bestimmte Anzahl von Spielern, die wir den Spielen zuordnen m√ºssen.  Wie kann man es besser machen?  Was ist vorzuziehen: die gleichen F√§higkeiten oder wenig Ping?  Wie k√∂nnen wir diese Anforderungen ausgleichen, damit die Parteien gegeneinander spielen? <br><br>  Zum Vergleich ben√∂tigen wir eine bestimmte Metrik.  Irgendwie m√ºssen alle diese Kriterien in einem Parameter zusammenlaufen, um dessen h√∂chsten Wert das System eine Suche durchf√ºhren kann.  Als n√§chstes nennen wir es die Punktzahl des Spiels. <br><br>  Um den Wert dieser Bewertung zu erhalten, m√ºssen Sie zun√§chst die einzelnen Indikatoren berechnen.  Betrachten Sie eine Kombination von Faktoren: <br><br><ul><li>  <b>Teams mit dem gleichen K√∂nnen.</b>  Dies ist das offensichtlichste Kriterium beim Matchmaking.  Die Methode zur Berechnung dieses Parameters ist f√ºr jedes Spiel individuell.  Eines der einfachsten: Nehmen Sie das durchschnittliche Erfahrungsniveau pro Team und vergleichen Sie es mit dem gleichen Wert f√ºr ein anderes Team.  Je gr√∂√üer der Unterschied ist, desto schlechter ist die √úbereinstimmung und desto niedriger ist der gew√ºnschte Indikator. </li><li>  <b>Spieler mit der gleichen F√§higkeitsstufe.</b>  Selbst wenn die beiden Teams perfekt ausbalanciert sind, aber beispielsweise aus zwei Profis und einem Anf√§nger bestehen, ist der durchschnittliche Indikator f√ºr die F√§higkeiten der Teams derselbe, aber ein gutes Spiel wird immer noch nicht funktionieren.  Daher f√ºhren wir einen weiteren Parameter ein, der nicht f√ºr das gesamte Team, sondern f√ºr jeden Spieler einzeln gilt, oder die Varianz des Kompetenzniveaus innerhalb des Teams. </li><li>  <b>Party.</b>  Idealerweise sollte eine Gruppe, die √ºber einen l√§ngeren Zeitraum zusammen spielt, gegen eine andere Gruppe derselben Gruppe und nicht gegen drei separate Spieler antreten.  Es ist einfach zu berechnen: Wenn eine Mannschaft schon lange miteinander spielt, haben wir einen Indikator von 100%.  Wenn ein Dreierteam gegen zwei Freunde und einen zuf√§lligen Spieler spielt, erhalten wir 60%.  Wenn keiner der Spieler zuvor miteinander gespielt h√§tte, w√§re der Wert 0%. </li><li>  <b>Ping Gegner.</b>  F√ºr jeden Benutzer √ºberpr√ºfen wir den Ping mit allen drei Spielern der gegnerischen Mannschaft.  Je h√∂her der Ping, desto niedriger die Punktzahl. </li><li>  <b>Variabilit√§t der Gegner.</b>  Um die Anforderungen mit h√∂herer Priorit√§t zu erf√ºllen, kann das Matchmaking-System h√§ufig dieselben Teams mit den h√∂chsten Matchraten gegeneinander antreten.  Damit es den Spielern nicht langweilig wird, st√§ndig mit vertrauten Gesichtern zu spielen, ist es empfehlenswert zu verfolgen, wie oft sie sich in Spielen treffen. </li></ul><br><img src="https://habrastorage.org/webt/a6/uo/r_/a6uor_z7okkjhfofrmmgmavks1g.png"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ein Beispiel f√ºr ein Spiel,</a> in dem Teams einen 100% -Indikator f√ºr eine Gruppe haben, einen guten Indikator f√ºr die durchschnittlichen F√§higkeiten im Team, aber eine schwache Korrelation in den F√§higkeiten der einzelnen Spieler: Im blauen Team unterscheiden sie sich erheblich</i> <br><br><h3>  Wie kann die Mehrdeutigkeit der Kriterien ber√ºcksichtigt werden? </h3><br>  F√ºr jedes der Kriterien haben wir eine Punktzahl von 0% (sehr schlechter Zufall) bis 100% (am besten), aber am Ende brauchen wir nur eine Zahl.  Hierf√ºr verwenden wir den gewichteten Mittelwert.  Dann k√∂nnen wir die Priorit√§t der Wichtigkeit f√ºr jedes Kriterium festlegen. <br><br>  Bei der Berechnung der Sch√§tzung ist zu √ºberlegen, ob eine lineare Abh√§ngigkeit der Parameter erhalten werden soll.  Zum Beispiel lohnt es sich, den Ping von 210 ms auf 200 ms zu verbessern, genauso wie von 110 ms auf 100 ms?  Beide Optionen werden um 10 ms verbessert, aber der Ping-Wert selbst ist doppelt so unterschiedlich. <br><br>  Interessanterweise ist es bei einigen Kriterien einfacher, einen signifikanten Leistungsunterschied zu erzielen als bei anderen.  Um also 0% in Bezug auf das K√∂nnen zu erreichen, m√ºssen drei Profispieler und drei Anf√§nger im Spiel sein, was √§u√üerst selten vorkommt.  Es ist jedoch viel einfacher, 0% nach dem Kriterium der Partei zu erhalten, da Sie daf√ºr ein lang zusammengesetztes Team gegen drei Einzelspieler haben m√ºssen.  Dieser Aspekt ist ebenfalls erw√§genswert. <br><br><img src="https://habrastorage.org/webt/1n/sz/ts/1nsztsgg1rdifaad46pici69cpw.png"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ein Beispiel daf√ºr,</a> wie Teams je nach Qualifikationsniveau zusammengestellt werden k√∂nnen.</i>  <i>Gr√ºn und Gelb zeigen Ping zwischen den Spielern</i> <br><br>  Nun k√∂nnen wir basierend auf den Werten der Indikatoren f√ºr jede der Anforderungen die endg√ºltige Punktzahl berechnen. <br><br>  Da diese Zahl das dominierende Kriterium ist, erzeugt der Algorithmus bestimmte Pr√§ferenzen.  Wenn der Austausch von zwei Spielern den Bewertungsparameter eines Spiels um 5% erh√∂ht, ihn aber in einem anderen Spiel um 10% verringert, wird das System dies nicht tun, da das Ergebnis im Allgemeinen schlechter wird.  In einigen F√§llen kann dies jedoch vernachl√§ssigt werden.  Daher kann es angebracht sein, einen Indikator von 50% (was sehr schlecht ist) auf 55% zu verbessern, indem der andere von 90% auf 80% (was immer noch ziemlich gut ist) reduziert wird.  Dies kann zum Beispiel durch Berechnung der Quadratwurzel aller Indikatoren der Bewertung bis zur Mittelungsstufe erreicht werden.  Daher wird die Verbesserung schlechter √úbereinstimmungen relativ wichtiger als gute. <br><br><h3>  Wie passiert das bei Kriegsrobotern? </h3><br>  Da es sich um ein Handyspiel handelt, bei dem alles schnell gehen soll, ist die Wartezeit vor dem Kampf von h√∂chster Wichtigkeit.  Daf√ºr sollte das Matchmaking-System so einfach wie m√∂glich sein.  Gegenw√§rtig ber√ºcksichtigt der Matchmaker von War Robots nur die Player Selection Rating (MMR) und versucht, sich auf die Gruppen zu konzentrieren. Da diese jedoch im Spiel nicht weit verbreitet sind, ist dieses Kriterium zweitrangig: Wenn Sie keine Gruppen mit derselben St√§rke aufeinander abstimmen k√∂nnen, versucht das System, sie miteinander zu kombinieren ein paar Parteien oder √ºberhaupt nicht auf dieses Kriterium konzentriert.  Und wenn ein Spieler die Schlacht verl√§sst, nimmt er an seiner Stelle einen anderen, der die Kriterien erf√ºllt, jedoch erst zu Beginn des Spiels. <br><br>  Die Bewertung der Auswahl der Spieler h√§ngt von der Anzahl der Siege / Verluste und dem Platz in der Mannschaft ab und kann je nach Ergebnis des Spiels entweder steigen oder fallen.  Nach dieser Wertung werden die Spieler in Ligen und Divisionen eingeteilt.  Innerhalb der Division sucht der Matchmaker nach Spielern mit der bestm√∂glichen Bewertung, erweitert den Suchbereich schrittweise und deckt auch die n√§chsten Divisionen ab.  Es ist erw√§hnenswert, dass der Matchmaker versucht, Spieler in den unteren Ligen, die ihre Wertung absichtlich untersch√§tzen, daran zu hindern, sie anhand charakteristischer Verhaltensmuster zu verfolgen: In der Regel ist die Anzahl der Niederlagen h√∂her als die durchschnittliche Anzahl der Ligak√§mpfe pro Tag. <br><br><img src="https://habrastorage.org/webt/ei/ne/iw/eineiwpog5b5b10klcccmnp9ccm.png"><br>  <i>Vereinfachte Kriegsroboter Match Matching Flowchart</i> <br><br>  Das System hat fr√ºher falsch funktioniert.  Das Hauptkriterium war die St√§rke von Robotern und Waffen, und von den Ergebnissen der Spiele wurden nur die letzten f√ºnf ber√ºcksichtigt.  Das System war anf√§lliger f√ºr Manipulationen.  Erfahrene Spieler k√∂nnten sich im gleichen Kampf mit den Neulingen befinden, wenn sie nur ihre Waffen gegen schw√§chere austauschen, oder umgekehrt, wenn ein Neuling des Roboters der ersten Stufe die 12. Waffe installiert und in einen Kampf mit Profis ger√§t, ohne Zeit zu haben, die Geschicklichkeit des Spiels zu entwickeln.  In dieser Hinsicht erwies sich das Bewertungssystem, das auf der realen Erfahrung von Siegen und Niederlagen basierte, als viel ehrlicher, obwohl es nicht sofort m√∂glich war, darauf zu reagieren: Eine vollst√§ndige Neuorganisation des Matchmaking-Prozesses ist ein radikaler Schritt, weshalb zun√§chst versucht wurde, dem System einfach zus√§tzliche Bedingungen zu setzen. <br><br>  An der Optimierung und Verbesserung des Matchmaking in War Robots wird derzeit gearbeitet.  Vielleicht wird es in Zukunft m√∂glich sein, den alten und den neuen Ansatz zu kombinieren, um √úbereinstimmungen zu finden, aber vergessen Sie nicht, dass jede Verbesserung der Qualit√§t der Matchmaking-Methode zu einer Verl√§ngerung der Wartezeit f√ºhrt.  Daher ist die Entwicklung einer solchen L√∂sung nur dann sinnvoll, wenn sie die Systemleistung nicht wesentlich beeintr√§chtigt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de475548/">https://habr.com/ru/post/de475548/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de475536/index.html">Lebenslauf f√ºr einen freiberuflichen √úbersetzer</a></li>
<li><a href="../de475538/index.html">Wo beginnt die Schaffung eines Marktplatzes? Teil eins</a></li>
<li><a href="../de475540/index.html">Achten Sie auf Schwachstellen, die zu Problemumgehungen f√ºhren. Teil 1: FragmentSmack / SegmentSmack</a></li>
<li><a href="../de475544/index.html">Kataloge von Produkten, Dienstleistungen und mehr</a></li>
<li><a href="../de475546/index.html">Suchtsyndrome IT</a></li>
<li><a href="../de475550/index.html">Akustiksysteme f√ºr offene R√§ume</a></li>
<li><a href="../de475552/index.html">Blitz-Testing-Algorithmen f√ºr maschinelles Lernen: Geben Sie Ihren Datensatz in die Scikit-Learn-Bibliothek ein</a></li>
<li><a href="../de475554/index.html">User Interface Design Techniken, die Zeit sparen</a></li>
<li><a href="../de475556/index.html">Umzug nach M√ºnchen. Amazons Scalors Path to Amazons Traumjob</a></li>
<li><a href="../de475558/index.html">IT-W√∂rterbuch oder was? Wo? Wohin Teil 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>