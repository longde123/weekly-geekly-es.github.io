<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ざ 答  Integraci贸n de 3CX con 1C: Gesti贸n comercial: m茅todo para instalar una extensi贸n de configuraci贸n   </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ante las numerosas solicitudes de socios y clientes, lanzamos la integraci贸n del servidor 3CX v15.5 con el popular sistema 1C: Enterprise. 

 La integ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Integraci贸n de 3CX con 1C: Gesti贸n comercial: m茅todo para instalar una extensi贸n de configuraci贸n</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/3cx/blog/423397/">  Ante las numerosas solicitudes de socios y clientes, lanzamos la integraci贸n del servidor 3CX v15.5 con el popular sistema 1C: Enterprise. <br><br>  La integraci贸n es una extensi贸n de la configuraci贸n t铆pica "Trade Management, Edici贸n 11 (11.4.3.167) para Rusia" ( <a href="">archivo .cfe</a> ), que se instala en la configuraci贸n de forma est谩ndar (ver m谩s abajo).  Desde el lado del servidor 3CX, se carga una plantilla CRM para interactuar con el servicio web de configuraci贸n publicado 1C. <br><br>  Extensi贸n de configuraci贸n 1C: la gesti贸n comercial implementa una API REST que asigna los n煤meros de llamadas entrantes a los n煤meros de contraparte en 1C.  Cuando una llamada llega a 3CX, solicita a trav茅s de REST de 1C los datos de la contraparte asociados con la identificaci贸n de llamada del suscriptor.  Si se encuentra la contraparte, sus datos se agregan a los contactos de 3CX y se muestran en el cliente web de 3CX (nombre y apellido). <br><br>  Si Enable Call Journaling est谩 habilitado en 3CX, 1C mantendr谩 un registro de llamadas en 1C. <a name="habracut"></a><br><br><h3>  1C: requisitos de configuraci贸n de la empresa </h3><br>  Para usar la extensi贸n, se requiere una versi贸n de la plataforma 1C: Enterprise no inferior a 8.3.11.  La configuraci贸n t铆pica "Gesti贸n comercial, edici贸n 11" (11.4.3.167) se entrega en modo de compatibilidad con la plataforma 8.3.10.  Para usar la extensi贸n 3CX, debe establecer el modo de compatibilidad de configuraci贸n en No usar.  Si la configuraci贸n es compatible, debe habilitar la capacidad de cambiar la configuraci贸n. <br><br>  Lo demostraremos en las capturas de pantalla: <br><br>  En Configurator 1C, vaya a la secci贸n Configuraci贸n - Soporte - Configuraci贸n de soporte. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd8/4f7/221/dd84f7221ce8952dbf7e63d462a0f27f.png"><br><br>  Haga clic en el bot贸n Habilitar capacidad de cambio y confirme en la ventana emergente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/774/775/e7d/774775e7ddbec8a9508b5231c6eae5b5.png"><br><br>  En la ventana Configuraci贸n de reglas de soporte, seleccione Objetos con la regla "Cambios permitidos": el objeto del proveedor se edita mientras se mantiene el soporte y Objetos con la regla "Cambios no recomendados": el objeto del proveedor no es editable. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ab9/9e4/afe/ab99e4afea19cf2c65fee167cd68f058.png"><br><br>  Haga clic con el bot贸n derecho en la secci贸n ra铆z de Gesti贸n de comercio, seleccione Propiedades y configure el Modo de compatibilidad como No usar. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f2/63a/90b/9f263a90b8be85c746335c5446233fe9.png"><br><br>  Elija Configuraci贸n - Actualizar configuraci贸n de la base de datos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e17/2be/cdb/e172becdbb2db3034a9d30ac9a3c54aa.png"><br><br>  Y haga clic en Aceptar para completar los cambios. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cfe/3a5/740/cfe3a574011492d196b5402d5cfea0b0.png"><br><br><h3>  Conectando una extensi贸n para interactuar con 3CX </h3><br>  Cierre el Configurador y ejecute la configuraci贸n 1C en modo Enterprise.  En el men煤 superior izquierdo, seleccione Todas las funciones ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3bd/18f/64c/3bd18f64ce5e40abbf1086f193623d1a.png"><br><br>  Seleccione Administrar extensiones de configuraci贸n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c73/897/66c/c7389766ccaed307412c87e20e62be44.png"><br><br>  Aseg煤rese de que el Alcance est茅 configurado cuando instale la extensi贸n de configuraci贸n - <a href="">Infobase</a> , haga clic en el bot贸n Agregar y agregue la extensi贸n especificando el <a href="">archivo 3cx1cextension.cfe</a> del archivo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e60/3d9/c11/e603d9c117e64665d54940f1c4151d0f.png"><br><br>  Despu茅s de instalar la extensi贸n, la pesta帽a Administrar extensiones de configuraci贸n deber铆a aparecer como se muestra a continuaci贸n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc0/47a/49e/fc047a49ea0b67fa0880c3dc0233c9d3.png"><br><br><h3>  Publicaci贸n del servicio HTTP 1C: Enterprise Extension en un servidor web </h3><br>  La publicaci贸n de la configuraci贸n 1C en el servidor web se realiza de manera est谩ndar, teniendo en cuenta las caracter铆sticas del entorno de software. <br><br><ul><li>  El procedimiento de publicaci贸n se describe en detalle en 1C: ITS en este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace</a> . <br></li><li>  Instrucciones para configurar servicios web para 1C v8.3 e IIS 8.5 en el recurso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Infostart</a> . <br></li><li>  Comentario del art铆culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Publicaci贸n de 1C: bases de datos Enterprise 8.3 en el servidor web IIS en Microsoft Windows Server 2008/2012</a> . <br></li></ul><br>  Al publicar, configure la opci贸n predeterminada de Publicar servicios de extensi贸n HTTP. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/83e/d18/692/83ed18692599571142b1d0b8a0c21364.png"><br><br>  Si hay usuarios en la configuraci贸n (en casos excepcionales, se utilizan configuraciones sin usuarios), debe cambiar la cadena de conexi贸n a la base de datos 1C: Enterprise. <br><br>  Considere esto usando el servidor web IIS como ejemplo: <br><br>  En el directorio de publicaciones, busque el archivo default.vrd. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/170/04b/674/17004b67411136ac24f1f1be4f64af96.png"><br><br>  Cambie la cadena de conexi贸n en 茅l, agregando las credenciales del usuario en cuyo nombre la base de datos responder谩 a las solicitudes HTTP.  La cadena de conexi贸n deber铆a verse as铆. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ecc/96e/7a3/ecc96e7a37895fe1a51560454c6a8cd3.png"><br><br><h3>  Instalaci贸n de la plantilla CRM 1C: Enterprise XML en 3CX </h3><br>  Abra la interfaz de administraci贸n de 3CX y vaya a Configuraci贸n - Integraci贸n CRM - pesta帽a del lado del servidor. <br><br>  En la secci贸n Integraciones de CRM disponibles, seleccione 1C y haga clic en Descargar seleccionados. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d82/877/15f/d8287715fa623a980ab1371ff0e07cf0.png"><br><br>  Luego, en el campo Parte del dominio, especifique la URL del servicio HTTP de configuraci贸n 1C publicado. <br>  Para contabilizar las llamadas en 1C, habilite la opci贸n Habilitar el registro de llamadas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f3/78a/46e/6f378a46eab8127c9dea16c0cdef6c62.png"><br><h3>  Capacidades de integraci贸n 1C: Enterprise con 3CX </h3><br>  Como se mencion贸 anteriormente, la extensi贸n compara los identificadores de llamadas entrantes con los n煤meros de contraparte en la base de datos 1C.  Si se encuentra una coincidencia, el Cliente Web 3CX mostrar谩 el nombre y el apellido de la persona que llama. <br><br><h4>  Contabilidad de llamadas en 1C </h4><br>  Si el registro de llamadas est谩 habilitado en la plantilla CRM, 1C registrar谩 las llamadas entrantes y salientes con los siguientes par谩metros: <br><br><ul><li>  Fecha de llamada <br></li><li>  Tipo de llamada: entrante / saliente / perdida por extensi贸n / sin respuesta de externo <br></li><li>  Duraci贸n de la llamada <br></li><li>  N煤mero externo (identificador de llamadas) <br></li><li>  N煤mero de extensi贸n (extensi贸n 3CX) <br></li><li>  Contraparte 1C (si se encuentra cumplimiento) <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/25e/4ea/958/25e4ea958461fddcb3e2ad74df646931.png"><br><br>  En el registro de llamadas, puede especificar las condiciones de selecci贸n y clasificaci贸n de las columnas que le interesan para analizar r谩pidamente la situaci贸n de las llamadas perdidas o fallidas en la organizaci贸n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/337/d30/fe0/337d30fe0686f55bc823bc62d832c88e.png"><br><br><h4>  Revista t茅cnica de interacci贸n 3CX y 1C </h4><br>  El diario t茅cnico de 3CX mantiene un registro de todas las llamadas de 3CX a 1C a trav茅s de la API REST. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/45a/3ae/2d8/45a3ae2d859a476bce2e370ad68f21d6.png"><br><br>  Este registro puede ser utilizado para diagn贸sticos por el administrador o el programador 1C. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/677/e6e/169/677e6e169544975c37523367536e85d2.png"><br><br><h3>  Descargas y documentaci贸n </h3><br><ul><li>  <a href="">Extensi贸n de la configuraci贸n est谩ndar 1C: Enterprise "Trade Management, edici贸n 11 (11.4.3.167) para Rusia"</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Discusi贸n de integraci贸n del foro 3CX</a> <br></li></ul><br><h3>  Preguntas frecuentes </h3><br><ol><li>  驴Qu茅 sucede si no se encuentra un cliente?  Por el momento, la plataforma 1C no tiene la capacidad de invocar el formulario para agregar un nuevo cliente a trav茅s de un enlace HTTP. <br></li><li>  Si el contacto se muestra en el cliente web, 驴es posible abrir su tarjeta completa en 1C?  Por el momento, la plataforma 1C no tiene la capacidad de llamar a una tarjeta de cliente a trav茅s de un enlace HTTP. <br></li><li>  驴Es posible hacer una llamada saliente desde un cliente 1C delgado o grueso?  Es posible, pero para esto, se debe implementar el soporte adecuado de la API REST de 3CX. <br></li><li>  驴Es posible redirigir una llamada desde 1C o implementar un grupo de "administrador fijo de cliente"?  Es posible, pero para esto, se debe implementar el soporte adecuado de la API REST de 3CX. <br></li><li>  驴Es posible implementar un panel de monitoreo en tiempo real (panel de telefon铆a) de llamadas en 1C?  Actualmente, con una llamada entrante, 3CX transmite solo la identificaci贸n de llamada del suscriptor sin informaci贸n de servicio auxiliar (por ejemplo, ocupaci贸n de una l铆nea espec铆fica, n煤mero de extensi贸n del destinatario de la llamada, etc.).  Se transmite informaci贸n de servicio adicional despu茅s de completar la llamada.  Adem谩s, el panel involucra la interacci贸n del usuario con las llamadas, pero esto requiere soporte de la API REST de 3CX. <br></li><li>  驴Puedo ver llamadas perdidas en la tarjeta de contraparte?  Utilice el registro de llamadas en 1C, que implementa la extensi贸n.  En 茅l, puede seleccionar r谩pidamente los contratistas que le interesan. <br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423397/">https://habr.com/ru/post/es423397/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423383/index.html">Ajax js modificaci贸n para ajax Asp .net mvc</a></li>
<li><a href="../es423385/index.html">Curso "Fundamentos de programaci贸n"</a></li>
<li><a href="../es423391/index.html">CLRium # 4: .Net Community Meeting</a></li>
<li><a href="../es423393/index.html">Redes neuronales basadas en reglas</a></li>
<li><a href="../es423395/index.html">Tesla establece r茅cord trimestral para autom贸viles el茅ctricos producidos</a></li>
<li><a href="../es423399/index.html">Un ejemplo de versiones simples de registros PostgreSQL</a></li>
<li><a href="../es423403/index.html">Prueba de manejo VW e-Golf, Nissan Leaf y Tesla Model 3</a></li>
<li><a href="../es423405/index.html">Aprenda t谩cticas adversarias, t茅cnicas y conocimientos comunes (ATT @ CK). T谩cticas empresariales. Parte 1</a></li>
<li><a href="../es423407/index.html">Generalmente tengo miedo de los ni帽os, mi querido se帽or, son ruidosos, crueles y ego铆stas, 驴y si los ni帽os gobiernan el estado?</a></li>
<li><a href="../es423409/index.html">C贸mo hacer el Lunokhod mismo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>