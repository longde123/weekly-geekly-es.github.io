<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯд╛ЁЯП╜ ЁЯСЙЁЯП┐ ЁЯЙС рдзреВрдореНрд░рдкрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдмреНрд▓реИрдХ рдмреЙрдХреНрд╕ ЁЯПНя╕П ЁЯФШ ЁЯМ╡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдмрд╣реБрдд рд╕реЗ рд▓реЛрдЧ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдзреВрдореНрд░рдкрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдЦрд╛рд╕рдХрд░ рдЬрдм рд╡реЗ рдХрд┐рд╕реА рдЪреАрдЬрд╝ рдХреЗ рдЖрджреА рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджреЗрддреЗ рдХрд┐ рд╡реЗ рдПрдХ рдХреЗ рдмрд╛рдж рдПрдХ рд╕рд┐рдЧрд░реЗрдЯ рдХреИрд╕реЗ рдкреАрддреЗ рд╣реИрдВред рдзреВрдореНрд░рдкрд╛рди рдХрд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдзреВрдореНрд░рдкрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдмреНрд▓реИрдХ рдмреЙрдХреНрд╕</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/402867/">  рдмрд╣реБрдд рд╕реЗ рд▓реЛрдЧ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдзреВрдореНрд░рдкрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдЦрд╛рд╕рдХрд░ рдЬрдм рд╡реЗ рдХрд┐рд╕реА рдЪреАрдЬрд╝ рдХреЗ рдЖрджреА рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджреЗрддреЗ рдХрд┐ рд╡реЗ рдПрдХ рдХреЗ рдмрд╛рдж рдПрдХ рд╕рд┐рдЧрд░реЗрдЯ рдХреИрд╕реЗ рдкреАрддреЗ рд╣реИрдВред  рдзреВрдореНрд░рдкрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдмреНрд▓реИрдХ рдмреЙрдХреНрд╕ (CJK) рдЖрдкрдХреЛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдЕрд╡рдзрд┐ рдмреАрддрдиреЗ рддрдХ рдЕрдЧрд▓реА рд╕рд┐рдЧрд░реЗрдЯ рдирд╣реАрдВ рд▓реЗрдиреЗ рджреЗрддрд╛ред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВ рдХреБрдЫ рд╡рд┐рд╡рд░рдгреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреВрдВрдЧрд╛ рдЬреЛ рдЕрдиреНрдп рд╡рд┐рдХрд╛рд╕реЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдкреНрд░рд╕рд┐рджреНрдз-рдЯреЗрдиреЗрд╕реА рдирд┐рдпрдВрддреНрд░рдг рд░реЗрдЦрд╛ рдирд┐рдпрдВрддреНрд░рдХ (рдЕрд░реБрдбрд┐рдиреЛ рдкрд░рд┐рд╡рд╛рд░)ред <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/mRDSiEAsiAI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><br>  <b>рдпрд╛рдВрддреНрд░рд┐рдХреА</b> <br><br>  ChYAK рд╡рд┐рд╡рд░рдг рдПрдХ 3 рдбреА рдкреНрд░рд┐рдВрдЯрд░ рдкрд░ рдореБрджреНрд░рд┐рдд рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдЪрд▓реЗ, рдордзреНрдп рдФрд░ рдКрдкрд░реА рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЗ рд╕рдВрдпреЛрдЬрди рдХреЗ рдмрд╛рдж рдПрдХ рд╕рд╛рде рдЪрд┐рдкрдХреЗ рд╣реЛрддреЗ рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/353/eb5/369/353eb5369a304723be064ac6e07722e9.jpg"></div><br><br>  рд▓реЙрдХрд┐рдВрдЧ рдореИрдХреЗрдирд┐рдЬреНрдо рдХреЛ рдЗрд▓реЗрдХреНрдЯреНрд░реЛрдореИрдХреЗрдирд┐рдХрд▓ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрдмрдХрд┐ рдмреЗрд╕рд┐рдХ рд▓реЙрдХрд┐рдВрдЧ рдлрдВрдХреНрд╢рдВрд╕ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдпрдВрддреНрд░рд╡рддреН рд░реВрдк рд╕реЗ рдорд╣рд╕реВрд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд╕реЗ рдПрдирдЬреЗрд╕реА рдХреЛ рдЕрдВрддрд░рд╛рд▓ рдореЗрдВ рд╣реЗрд░рдлреЗрд░ рдХрд░рдиреЗ рдФрд░ рдмреИрдЯрд░реА рдХреЛ рд╣рдЯрд╛рдиреЗ рдореЗрдВ рдореБрд╢реНрдХрд┐рд▓ рд╣реЛрддреА рд╣реИред <br><br>  рд▓реЙрдХрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рджрд╛рдВрддреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рд░реИрдХ рдФрд░ рдПрдХ рдмрд┐рд╕реНрдЯреЗрдмрд▓ рд╢рд╛рдлрд╝реНрдЯ рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рдЯреНрд░реЗ рдХреЛ рдХреЗрд╡рд▓ рд╕рдорд╛рдкрди рджрд┐рд╢рд╛ рдореЗрдВ рд▓реЗ рдЬрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рд╕рдордп рдХреА рдПрдХ рдкреВрд░реНрд╡ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдЕрд╡рдзрд┐ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдкрд░, рд╕рд░реНрд╡реЛ рдПрдХ рдПрдХрд▓ рдЖрдВрджреЛрд▓рди рдХреЛ рдЖрдЧреЗ рдФрд░ рдкреАрдЫреЗ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╢рд╛рдлрд╝реНрдЯ рдХреЛ рдзрдХреНрдХрд╛ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рджреВрд╕рд░реА рд╕реНрдерд┐рд░ рд╕реНрдерд┐рддрд┐ "рдУрдкрди" рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╕реАрдПрдлрд╕реА рддрдм рддрдХ рдЦреБрд▓рд╛ рд░рд╣рддрд╛ рд╣реИ рдЬрдм рддрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдпрдВрддреНрд░рд╡рддреН рдЯреНрд░реЗ рдХреЛ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдирд┐рдХрд╛рд▓ рджреЗрддрд╛ рд╣реИред  рдЬрдм рдмрдврд╝рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЯреНрд░реЗ рд╢рд╛рдлрд╝реНрдЯ рдХреЛ рдзрдХреНрдХрд╛ рджреЗрддреА рд╣реИ рдФрд░ рдЙрд╕реЗ рдлрд┐рд░ рд╕реЗ рд▓рдВрдб рдореЗрдВ рдбрд╛рд▓ рджреЗрддреА рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a0b/9a1/c0e/a0b9a1c0eaf74795b582073f40f55b93.jpg"></div><br><br>  рд▓реЛрдбрд░ рд╕рд┐рдЧрд░реЗрдЯ рдХреЗ рд▓рд┐рдП 4 рдЕрд╡рдХрд╛рд╢ рдХреЗ рд╕рд╛рде рдбреНрд░рдо рдХреЗ рд░реВрдк рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  рд▓реЛрдбрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рд╕рд┐рдЧрд░реЗрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рд╢рд╛рдлрд╝реНрдЯ рддрдВрддреНрд░ рд╡рд┐рдкрд░реАрдд рджрд┐рд╢рд╛ рдореЗрдВ рдЖрдВрджреЛрд▓рди рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рд╕ рддрд░рдл рд╕реЗ рдмрдВрдкрд░ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/69b/1af/cb9/69b1afcb91214e94a40b24be99f6895e.jpg"></div><br><br>  рд╕реНрд▓реЙрдЯреНрд╕ рдХреЛ рдКрдкрд░ рдХреЗ рдврдХреНрдХрди рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╡реЗ рдЖрдкрдХреЛ рдмреЙрдХреНрд╕ рдХреЗ рдЕрдВрджрд░ рд╕рд┐рдЧрд░реЗрдЯ рдХреЗ рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рдХреГрддрд┐рдпреЛрдВ рдХреЛ рдЦрддреНрдо рдХрд░рдиреЗ рдФрд░ рддрдВрдмрд╛рдХреВ рдХреЗ рдЪрд┐рдкреНрд╕ рдХреЛ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред <br><br>  <b>рдЗрдВрдЯрд░рдлрд╝реЗрд╕</b> <br><br>  рд╕рдордп рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, CHYAK рдореЗрдВ рд╕рд┐рдЧрд░реЗрдЯ рдХреА рд╕рдВрдЦреНрдпрд╛, рдФрд░ рдмрд╛рд╣рд░ рд▓реЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рд╕рд┐рдЧрд░реЗрдЯ рдХреА рд╕рдВрдЦреНрдпрд╛, OLED рдкреНрд░рджрд░реНрд╢рди рдкрд░ рдирдЬрд░ рд░рдЦреА рдЬрд╛рддреА рд╣реИред  рд▓рдЧрднрдЧ рд╣рд░ рд╕рдордп рдЗрд╕реЗ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдмреИрдЯрд░реА рдбрд┐рд╕реНрдЪрд╛рд░реНрдЬ рди рд╣реЛ рдФрд░ рдХреЗрд╡рд▓ рдХреЗрдВрджреНрд░реАрдп рдХреИрдкреЗрд╕рд┐рдЯрд┐рд╡ рд╕реЗрдВрд╕рд░ рд╕реЗ рдПрдХ рд╕рд┐рдЧреНрдирд▓ рджреНрд╡рд╛рд░рд╛ рдЪрд╛рд▓реВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдЬрдм рд╣рд╛рде рдХреЛ CHYAK рддрдХ рд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдпрд╛ рд╕рд┐рдЧрд░реЗрдЯ рдХреЛ рд▓реЛрдб рдХрд░рддреЗ рд╕рдордп рдмрдЯрди рд╕реЗ рд╕рд┐рдЧреНрдирд▓ рд╣реЛрддрд╛ рд╣реИред  рдПрдХ рдФрд░ рдмрдЯрди рдЙрд╕ рдХреНрд╖рдг рдХреЛ рдкрдХрдбрд╝ рд▓реЗрддрд╛ рд╣реИ рдЬрдм рдЯреНрд░реЗ рдмрдВрдж рд╣реЛ рдЬрд╛рддреА рд╣реИ рдФрд░ рдЕрдЧрд▓реЗ рд╡рд┐рд▓рдВрдм рдЪрдХреНрд░ рдХреЛ рд╢реБрд░реВ рдХрд░рддреА рд╣реИред  рджреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рдХреИрдкреЗрд╕рд┐рдЯрд┐рд╡ рд╕реЗрдВрд╕рд░ рдкреАрдЫреЗ рдХреА рджреАрд╡рд╛рд░ рдкрд░ рд╕реНрдерд┐рдд рд╣реИрдВ рдФрд░ рд╕рд┐рдЧрд░реЗрдЯ рдХрд╛рдЙрдВрдЯрд░реЛрдВ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм рдмреИрдЯрд░реА рдмрджрд▓рддреЗ рд╣реИрдВ)ред <br><br>  <b>рдЗрд▓реЗрдХреНрдЯреНрд░рд╛рдирд┐рдХреНрд╕</b> <br><br>  рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдПрдХ Teensy LC рд╣реИред  рдЕрдзрд┐рдХрд╛рдВрд╢ Arduino рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд рдпрд╣ Arduin-like рдбрд┐рд╡рд╛рдЗрд╕ рдЗрд╕рд▓рд┐рдП рдЪреБрдирд╛ рдЧрдпрд╛ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ рдХреИрдкреЗрд╕рд┐рдЯрд┐рд╡ рд╕реЗрдВрд╕рд░ (рдЯрдЪ рд╕реЗрдВрд╕ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ (TSI)) рдХреЗ рд▓рд┐рдП рд╕рдкреЛрд░реНрдЯ рд╣реИред  рд╕реЗрдВрд╕рд░ рдЗрддрдиреЗ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реЛрддреЗ рд╣реИрдВ рдХрд┐ рд╡реЗ рдПрдХ рд╕реЗрдВрдЯреАрдореАрдЯрд░ рдХреА рджреВрд░реА рдкрд░ рдЖрд╕рд╛рдиреА рд╕реЗ рдЙрдареЗ рд╣реБрдП рд╣рд╛рде рдХреЛ рдорд╣рд╕реВрд╕ рдХрд░рддреЗ рд╣реИрдВред  Teensy LC рдореЗрдВ рддрдерд╛рдХрдерд┐рдд LLWU рдореЛрдб рд╣реИ, рдЗрд╕ рдореЛрдб рдореЗрдВ рд╕рднреА рдореЙрдбреНрдпреВрд▓ 1-kHz рдСрд╕рд┐рд▓реЗрдЯрд░ рдХреЗ рдЕрдкрд╡рд╛рдж рдХреЗ рд╕рд╛рде рд╕реНрд▓реАрдк рдореЛрдб рдореЗрдВ рд╣реИрдВред  рдЖрдк рдЗрд╕ рд╕реНрд▓реАрдк рдореЛрдб рдХреЛ 4 рддрд░реАрдХреЛрдВ рд╕реЗ рдмрд╛рд╣рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: рдП) рдХреИрдкреЗрд╕рд┐рдЯрд┐рд╡ рд╕реЗрдВрд╕рд░ рд╕реЗ рдПрдХ рдЕрд╡рд░реЛрдз рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, рдмреА) рдкрд┐рди рд╕реЗ рдПрдХ рд░реБрдХрд╛рд╡рдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, рд╕реА) 1-kHz рдХрд╛рдЙрдВрдЯрд░ (рдХрдо-рдкрд╛рд╡рд░ рдЯрд╛рдЗрдорд░, LPTMR) рдХрд╛ рдПрдХ рдЕрддрд┐рдкреНрд░рд╡рд╛рд╣ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, рдШ рдЕрд▓рд╛рд░реНрдо рд╕реЗ рдПрдХ рдмрд╛рдзрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред <br><br>  рдпрд╣рд╛рдБ рд▓реЗрдЦрдХ рдореБрд╢реНрдХрд┐рд▓ рдореЗрдВ рдерд╛: рд╢реБрд░реБрдЖрддреА рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдпрд╣ рдЯреАрдПрд╕рдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдЧрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдЬрдм рдПрдХ рд╣рд╛рде рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдПрд▓рдкреАрдЯреАрдПрдордЖрд░ рдЖрд╡рдзрд┐рдХ рд░реБрдХрд╛рд╡рдЯреЛрдВ рдХреЗ рд▓рд┐рдП рдЯреАрдПрд╕рдЖрдИ рд╕реНрддрд░реЛрдВ (рдкрд░реНрдпрд╛рд╡рд░рдгреАрдп рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ) рдФрд░ рд╕рдордп рдкрд░ рдирд┐рдпрдВрддреНрд░рдг рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ LPTMR рдХрд╛ рдЙрдкрдпреЛрдЧ TSI рдХреЗ рдХрд╛рдордХрд╛рдЬ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░, рддрджрдиреБрд╕рд╛рд░, рдЗрд╕реЗ рд╕рдордп рдХрд╛рдЙрдВрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  (LPTMR рдУрд╡рд░рдлреНрд▓реЛ рд░реБрдХрд╛рд╡рдЯ TSI рдХреЗ рд▓рд┐рдП рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЯреНрд░рд┐рдЧрд░ рд╣реИ, рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рд╕реЗрдВрд╕рд░ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд▓рд┐рдП рддреЗрдЬрд╝ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рдЖрдорддреМрд░ рдкрд░ рдпрд╣ рдХрд╛рдЙрдВрдЯрд░ рдПрдХ рд╢реВрдиреНрдп рд╕реЗ рдкреВрд░реНрд╡ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддрд╛ рд╣реИ рддрд╛рдХрд┐ TSI 1 kHz рдХреА рдЙрдЪреНрдЪрддрдо рд╕рдВрднрд╛рд╡рд┐рдд рдЖрд╡реГрддреНрддрд┐ рдХреЗ рд╕рд╛рде рдкреНрд░рджреВрд╖рд┐рдд рд╣реЛ)ред <br><br>  рдЖрд░рдЯреАрд╕реА рдЕрд▓рд╛рд░реНрдо рдЗрдВрдЯрд░рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдПрдХ рдФрд░ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реЛрдЧреА, рд▓реЗрдХрд┐рди рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рдЯреЗрдиреАрд╕реА рдПрд▓рд╕реА рдХреЗ рдкрд╛рд╕ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдШрдбрд╝реА (рдЖрд░рдЯреАрд╕реА) рдирд╣реАрдВ рд╣реИред  рдмрд▓реНрдХрд┐, RTC рдкреНрд░реЛрд╕реЗрд╕рд░ рдореЗрдВ рд╣реА рд╣реИ, рд▓реЗрдХрд┐рди рдмреЛрд░реНрдб рдкрд░ RTC рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рд╡рд╛рдпрд░рд┐рдВрдЧ рдирд╣реАрдВ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдкреНрд░реЛрд╕реЗрд╕рд░ рдбреЗрд╡рд▓рдкрд░ рдиреЗ рдкреВрдЫрддрд╛рдЫ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдЦрд╛рдорд┐рдпреЛрдВ рдХреЛ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рд╣реИред  1kHz рдерд░рдерд░рд╛рдирд╡рд╛рд▓рд╛ (рдЬреЛ рд╕реНрд▓реАрдк рдореЛрдб рдореЗрдВ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛрддрд╛ рд╣реИ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рдЖрд░рдЯреАрд╕реА рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрд░реЛрдд рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдлрд┐рд░ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдЖрд░рдЯреАрд╕реА рджреВрд╕рд░реЗ рдЕрдВрддрд░рд╛рд▓ (рдЬреИрд╕реЗ рдХрд┐ 32 рдХрд┐рд▓реЛрд╣рд░реНрдЯреНрдЬрд╝ рдкрд░ рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп) рдХреА рдЧрдгрдирд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди 1 рдХрд┐рд▓реЛрд╣рд░реНрдЯреНрдЬрд╝ рдСрд╕рд┐рд▓реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ 32 рд╕реЗрдХрдВрдбред  рдпрд╣ рд╕рдЯреАрдХрддрд╛, рдЬрд╝рд╛рд╣рд┐рд░ рд╣реИ, рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИред  рд▓реЗрдХрд┐рди рдПрдХ рд░рд╛рд╕реНрддрд╛ рд╣реИред <br><br>  рдпрд╣рд╛рдВ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: <br><br>  RTC Time Prescaler Register (RTC_TPR) рд╣реИред  рдпрд╣ 16-рдмрд┐рдЯ рд░рдЬрд┐рд╕реНрдЯрд░ рдСрд╕рд┐рд▓реЗрдЯрд░ рдХреЗ рджрд╛рд▓реЛрдВ рдХреЛ рдЧрд┐рдирддрд╛ рд╣реИред  рдЬрдм рдпрд╣ рдУрд╡рд░рдлреНрд▓реЛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ RTC Time Seconds Register (RTC_TSR) рдПрдХ рд╕реЗ рдмрдврд╝ рдЬрд╛рддрд╛ рд╣реИред  рдХреНрд▓рд╛рд╕рд┐рдХ рдореЛрдб рдореЗрдВ, рдпреЗ рд╕реЗрдХрдВрдб рд╣реИрдВ, рдЬрд┐рдирдХреА рддреБрд▓рдирд╛ RTC рдЯрд╛рдЗрдо рдЕрд▓рд╛рд░реНрдо рд░рдЬрд┐рд╕реНрдЯрд░ (RTC_TAR) рдХреЗ рд╕рд╛рде рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ рдЬрдм рд╡реЗ рдореЗрд▓ рдЦрд╛рддреЗ рд╣реИрдВ, рддреЛ рдПрдХ рдЕрд▓рд╛рд░реНрдо рдЗрдВрдЯрд░рдкреНрдЯ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИред  рдирд┐рдпрдорд┐рдд 32kHz рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, RTC_TSR рдкреВрд░реНрд╡-рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рд░ рдмрд╛рд░ рд╢реВрдиреНрдп рд╕реЗ рдЧрд┐рдирд╛ рдЬрд╛рддрд╛ рд╣реИ (32768 рдУрд╡рд░рдлреНрд▓реЛ (рд╕реЗрдХрдВрдб))ред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╣рдо рд╣рд░ рдмрд╛рд░ RTC_TSR рдкреВрд░реНрд╡-рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕ рдмрд╛рдд рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдзреАрдореА 1kHz рдерд░рдерд░рд╛рдирд╡рд╛рд▓рд╛ рд╣реИ, рд╣рдо рдорд┐рд▓рд┐рд╕рдХреЙрдиреНрдб рд╕рдЯреАрдХрддрд╛ (рд╕реНрд╡рдпрдВ рдерд░рдерд░рд╛рдирд╡рд╛рд▓рд╛ рдХреА рдЕрд╢реБрджреНрдзрд┐ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рдирд╣реАрдВ рд░рдЦрддреЗ) рддрдХ рдПрдХ рдЕрд▓рд╛рд░реНрдо рдмрд╛рдзрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдмреЗрд╢рдХ, RTC_TAR рдХреЛ рднреА рддрджрдиреБрд╕рд╛рд░ рднрд░реНрддреА рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/719/cc7/057/719cc7057df74632be110832ac93d99b.png"></div><br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рд╣рдо 87 рд╕реЗрдХрдВрдб рдХреА рдЕрд╡рдзрд┐ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ RTC_TSR рдореЗрдВ 2 (2 * 32768 = 65536ms = 65.536s), RTC_TAR рдореЗрдВ 2 рдФрд░ 32768- (87% # -65536) = 11304 RTC_TSR рдореЗрдВ рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛ред  рдлрд┐рд░ 32.768-11.304 = 21.464 рд╕реЗрдХрдВрдб рдкрд╣рд▓реЗ RTC_TPR рдУрд╡рд░рдлреНрд▓реЛ рд╕реЗ рдкрд╣рд▓реЗ рдЧреБрдЬрд░реЗрдВрдЧреЗ, рдФрд░ рджреЛ рдкреВрд░реНрдг рдЪрдХреНрд░ 2 * 32.768 = 65.536 рдЙрдирдХреЗ рд╕рд╛рде рдЬреБрдбрд╝ рдЬрд╛рдПрдВрдЧреЗ, рдЬреЛ рдХрд┐ рд╕рд┐рд░реНрдл 21.464 + 65.536 - 87 рд╕реЗрдХрдВрдб рд╣реЛрдЧрд╛ред <br>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдЗрд╕ рддрд░рд╣: <br><br><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setAlarm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint32_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> seconds )</span></span></span><span class="hljs-function"> </span></span>{ RTC_SR = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//disable RTC RTC_TPR=32768-(seconds*1000%32768); RTC_TSR=0; //RTC counter RTC_SR = RTC_SR_TCE; //enable RTC RTC_TAR = seconds*1000/32768; }</span></span></code> </pre> <br>  рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╣рдо рдХреБрд▓ рд╕рдордп (рдерд░рдерд░рд╛рдирд╡рд╛рд▓рд╛ рдХреА 1kHz рдХреА рддреНрд░реБрдЯрд┐ рддрдХ) рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╕рднреА рдЖрд░рдЯреАрд╕реА рд░рдЬрд┐рд╕реНрдЯрд░ рд╢реВрдиреНрдп рдереЗ: <br><br><pre> <code class="hljs lisp">timeEllapsed=(<span class="hljs-name"><span class="hljs-name">RTC_TSR*32768+RTC_TPR</span></span>)/1000</code> </pre> <br>  1kHz рдерд░рдерд░рд╛рдирд╡рд╛рд▓рд╛ рдХреА рд╕рдЯреАрдХрддрд╛ рдЫреЛрдЯрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реЗ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╣ рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛрдЧрд╛ред  рдпрд╣ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдПрдХ рдирдпрд╛ рдЕрд▓рд╛рд░реНрдо рд╢реБрд░реВ рдХрд░рддреЗ рд╕рдордп, рд╣рдо рдЖрд░рдЯреАрд╕реА рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдкрдХреЛ рд╕рдордп рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдЕрд▓рд╛рд░реНрдо рд╢реБрд░реВ рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЙрдиреНрд╣реЗрдВ рдпрд╛рдж рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рдЕрд▓рд╛рд░реНрдо рдмрд╛рдзрд╛ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХреЗ рдмрд╛рдж, рдЙрдиреНрд╣реЗрдВ рдлрд┐рд░ рд╕реЗ рд╣рд╛рдЗрдмрд░рдиреЗрд╢рди рдореЗрдВ рдмрд┐рддрд╛рдП рд╕рдордп рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рдкреБрди: рдЧрдгрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИред  рдореИрдВрдиреЗ рдЗрд╕реЗ рдпрд╣рд╛рдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рд╣реИ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреАрдИрдЯреА рдПрд▓рд╕реА рдХреЗ рд▓рд┐рдП рдЖрд░рдЯреАрд╕реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a> <br><br>  CJC рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ 10 рдорд┐рдирдЯ рдореЗрдВ рдПрдХ рд╡реНрдпрд╡рдзрд╛рди рдФрд░ рд╣рд╛рде рдХреА рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ рдореЗрдВ рдХреИрдкреЗрд╕рд┐рдЯрд┐рд╡ рд╕реЗрдВрд╕рд░ рд╕реЗ рд╕рд┐рдЧреНрдирд▓ рд╕реНрддрд░ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдЙрди рд╕рдВрдХреЗрддреЛрдВ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд░реВрдк рд╕реЗ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рд╡реЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд░рддреЗ рд╣реИрдВред  ~ 500 рдЗрдХрд╛рдЗрдпреЛрдВ рдкрд░ рдкреГрд╖реНрдарднреВрдорд┐ рдХреЗ рд╕рд╛рде, рд╣рдо ~ 20 рдЗрдХрд╛рдЗрдпреЛрдВ рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реНрддрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд╕реЗ 5-10 рдорд┐рдореА рдХреА рджреВрд░реА рдкрд░ рд╣рд╛рде рдорд╣рд╕реВрд╕ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдкреГрд╖реНрдарднреВрдорд┐ рдХрд╛ рд╕реНрддрд░ рддрд╛рдкрдорд╛рди рдФрд░ рдЖрд░реНрджреНрд░рддрд╛ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рд╕рдордп-рд╕рдордп рдкрд░ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣, рдореЗрд░рд╛ рдорд╛рдирдирд╛ тАЛтАЛрд╣реИ, рдкреНрд░реЛрд╕реЗрд╕рд░ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдореЗрдВ рдПрдХ рджреЛрд╖ рд╣реИред  рдЙрдиреНрд╣реЛрдВрдиреЗ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рдЯреАрдПрд╕рдЖрдИ рдФрд░ рдХреБрдЫ рдЕрдиреНрдп рдХрдо рдмрд┐рдЬрд▓реА рдХрд╛рдЙрдВрдЯрд░ рд╕реЗ рдЬрд╛рдЧрдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдХреНрдпреЛрдВ рдирд╣реАрдВ рджрд┐рдпрд╛ (рдмрд╕ рдПрдХ рдФрд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдЬреЛрдбрд╝реЗрдВ), рдХреНрдпреЛрдВрдХрд┐ рдЯреАрдПрд╕рдЖрдИ рд╕реНрддрд░реЛрдВ рдХрд╛ рдЖрд╡рдзрд┐рдХ рд╕рдорд╛рдпреЛрдЬрди рд▓рдЧрднрдЧ рдЕрдирд┐рд╡рд╛рд░реНрдп рд╣реИ, рднрд▓реЗ рд╣реА рдЖрдкрдХреЛ рдЕрдиреНрдп рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЯрд╛рдЗрдорд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рди рд╣реЛ! <br><br>  рдЕрдм рднрд╕реНрдо рдКрд░реНрдЬрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВред  рдПрд▓рдПрд▓рдбрдмреНрд▓реНрдпреВрдпреВ рд╕реНрд▓реАрдк рдореЛрдб рдореЗрдВ, рдмреЙрдбреА рдХрд┐рдЯ рди рд╣реЛрдиреЗ рдкрд░ рдЯреЗрдиреА рдПрд▓рд╕реА рд▓рдЧрднрдЧ 15 рдпреВрдП рдХреА рдЦрдкрдд рдХрд░рддрд╛ рд╣реИред  рд╣рдореЗрдВ рдПрдХ рдФрд░ OLED рдбрд┐рд╕реНрдкреНрд▓реЗ рдФрд░ рдПрдХ рд╕рд░реНрд╡реЛ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рдерд╛ред  рдЗрди рджреЛрдиреЛрдВ рдЙрдкрдХрд░рдгреЛрдВ рдореЗрдВ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдЕрд╡рд╕реНрдерд╛ рдореЗрдВ рднреА рдмрдбрд╝реА рд░рд┐рд╕рд╛рд╡ рдзрд╛рд░рд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВред <br><br>  OLED рдХреЗ рд╕рд╛рде рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реИ, рдпрд╣ Adafruit 0.96 тАЭрдореЛрдиреЛрдХреНрд░реЛрдо 128x64 OLED рдбрд┐рд╕реНрдкреНрд▓реЗ рд╣реИ, рдпрд╣ 3.3V рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реИ, рдЬрдм рдпрд╣ рдЪрд╛рд▓реВ рд╣реЛрддрд╛ рд╣реИ (рдЗрд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдкрд┐рдХреНрд╕рд▓ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░) рдФрд░ SPI рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣реА рд╣реИ, рдмрд╕ рдЗрд╕рдХреЗ рдкрд╛рд╡рд░ рдЗрдирдкреБрдЯ рдХреЛ 20 рдорд┐рд▓реАрдореАрдЯрд░ рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рдЯреЗрдиреАрд╕реА рдПрд▓рд╕реА (Teency рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рд╣реИрдВ) рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ рдФрд░ рдЖрдк рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рдЬрдм рд╕рднреА рд╕реЛрддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдЖрдЙрдЯрдкреБрдЯ рдХреЗрд╡рд▓ 3rd рд╕реНрдЯреЗрдЯ рдореЗрдВ рдЯреНрд░рд╛рдВрд╕рдлрд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдХрд░рдВрдЯ рдбрд┐рд╕реНрдкреНрд▓реЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд╣реАрдВ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд╛рдЧрдиреЗ рдХреЗ рд╕рд╛рде рдЖрдЙрдЯрдкреБрдЯ рд╣рд╛рдИ рд╕реНрдЯреЗрдЯ рдореЗрдВ рдЯреНрд░рд╛рдВрд╕рдлрд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдбрд┐рд╕реНрдкреНрд▓реЗ рдХреЗ рд▓рд┐рдП Vcc рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рд╕рд░реНрд╡реЛ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИред  рд╕реНрдЯреИрдВрдбрдмрд╛рдп рдореЛрдб рдореЗрдВ рд╕рд░реНрд╡реЛ рд▓рдЧрднрдЧ 2 рдПрдордП рдХреА рд╡рд░реНрддрдорд╛рди рдЦрдкрдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рд╕реНрд╡реАрдХрд╛рд░реНрдп рдирд╣реАрдВ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЖрдкрдХреЛ рд╕реЛрддреЗ рд╕рдордп рдЗрд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдмрдВрдж рдХрд░ рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдХреНрд▓рд╛рд╕рд┐рдХ Arduin рдХреЗ рд╡рд┐рдкрд░реАрдд, Teensy LC рдореЗрдВ рдмрд┐рдЬрд▓реА рдХреА рдЖрдкреВрд░реНрддрд┐ рдХрд╛ рдПрдХ рдмрд╣реБрдд рдЫреЛрдЯрд╛ рдЪрдпрди рд╣реИ: рдпрд╛ рддреЛ 1.7-3.3 V рд╕реАрдзреЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ, рдпрд╛ 2.6-5.5 V (рдЖрдВрддрд░рд┐рдХ рд╡реЛрд▓реНрдЯреЗрдЬ рдирд┐рдпрд╛рдордХ рдЪрд╛рд▓реВ рд╣реЛрдиреЗ рдХреЗ рд╕рд╛рде)ред  рдЖрдорддреМрд░ рдкрд░ рд╕реБрд▓рдн рд╕рд░реНрд╡реЛ рдХрдо рд╕реЗ рдХрдо 1 рдПрд╕ рд▓рд┐рдкреЛ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ 3.3-4.2 рд╡реА рд╣реИред рдЗрд╕рд▓рд┐рдП, рд╣рдореЗрдВ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рддреАрди рдорд╛рдирдХ рдмреИрдЯрд░реА рдХреЛ 3.3 (рдбрд┐рд╕реНрдЪрд╛рд░реНрдЬ) рд╕реЗ 4.6 рд╡реА (рдирдпрд╛) рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕рд░реНрд╡реЛ рдХреЗ рд▓рд┐рдП, 3.3 V рдСрдкрд░реЗрд╢рди рдХреА рд╕реАрдорд╛ рдкрд░ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕реАрдзреЗ Teensy outputs рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (OLED рдХреЗ рд▓рд┐рдП)ред  рд╣рд╛рдВ, рдФрд░ рд░реЛрдЯреЗрд╢рди рдХреЗ рджреМрд░рд╛рди рд╡рд░реНрддрдорд╛рди рд▓рдЧрднрдЧ 50 рдПрдордП рд╣реИ, рдЬреЛ рдХрд┐ рдЯреЗрдиреЗрд╕реА рдПрд▓рд╕реА рдХреЗ рд▓рд┐рдП рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рд╕рд░реНрд╡реЛ рдХреЛ MOSFET рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд╛рд▓реВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d87/121/7a3/d871217a39f04ecfb537dff032ac7fb1.png"></div><br><br>  рдЗрд╕ рд╕реНрд╡рд┐рдЪрд┐рдВрдЧ рдХреЗ рд╕рд╛рде, рдРрд╕рд╛ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╕реБрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЬрдм MOSFET рдмрдВрдж рд╣реЛрддрд╛ рд╣реИ, PWM ctrl рдЗрдирдкреБрдЯ рдкрд░ рд╡реЛрд▓реНрдЯреЗрдЬ 3.3 V рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ Tennsy LC рдЗрдирдкреБрдЯ 5V рд╕рд╣рд┐рд╖реНрдгреБ (рдХреНрд▓рд╛рд╕рд┐рдХ Arduin рдХреЗ рд╡рд┐рдкрд░реАрдд) рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдЗрд╕ рдмрд╛рдд рд╕реЗ рдбрд░рдирд╛ рдирд╣реАрдВ рдЪрд╛рд╣рд┐рдП, рдпрд╣ рдпрд╛рдж рд░рдЦрдирд╛ рдХрд┐ рд╡рд░реНрддрдорд╛рди PWM ctrl рдмрд╣реБрдд рдЫреЛрдЯрд╛ рд╣реИ, рдФрд░ рдкреНрд░реЛрд╕реЗрд╕рд░ рдЗрдирдкреБрдЯ рдкрд░ рд╕реАрдорд┐рдд рдбрд╛рдпреЛрдб рд╕реЗ рдбрд░рдиреЗ рдХреА рдХреЛрдИ рдЬрд░реВрд░рдд рдирд╣реАрдВ рд╣реИ (Vcc / 0.5 рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрдиреЗ рдХреА рдЕрдХреНрд╖рдорддрд╛ рдХрд╛ рдХрд╛рд░рдг рдЗрд╕ рдбрд╛рдпреЛрдб рдореЗрдВ рд╣реИ), рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдмрдВрдж рдбрд╛рдпреЛрдб рдХреА рдзрд╛рд░рд╛рдУрдВ рдХреЗ рдмрд░рд╛рдмрд░ рдзрд╛рд░рд╛рдПрдВред рд╡рд╣ рдЦреБрд▓реЗ рд░рд╛рдЬреНрдп рдореЗрдВ рднреА рдирд╣реАрдВ рд░рд╣реЗрдЧрд╛ред <br><br>  CHYAK рдореЗрдВ рдореИрдВ 3.3V рдХреА рд╕реАрдорд╛ рдХреЗ рд╕рд╛рде HK282 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ (рд╕рд┐рд░реНрдл рдЗрд╕рд▓рд┐рдП рдХрд┐ рдореЗрд░реЗ рдкрд╛рд╕ рдпрд╣ рдерд╛)ред  OLED рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рд╕реНрдХреАрдо рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдХреБрдЫ рддрд░рд╣ рдХреЗ рд▓реЛ-рд╡реЛрд▓реНрдЯреЗрдЬ рдФрд░ рд▓реЛ-рдкреЙрд╡рд░ рд╕рд░реНрд╡реЛ рдХреЛ рдЯреЗрдиреЗрд╕реА рдЖрдЙрдЯрдкреБрдЯ рд╕реЗ рд╕реАрдзреЗ рд╕рдВрдЪрд╛рд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдирддреАрдЬрддрди, рд╕реНрд▓реАрдк рдореЛрдб рдореЗрдВ рдХрд░рдВрдЯ рд▓рдЧрднрдЧ 50 рдпреВрдП рдирд┐рдХрд▓рд╛, рд╢рд╛рдпрдж рдЗрд╕реЗ рдФрд░ рднреА рдХрдо рдХрд░рдирд╛ рд╕рдВрднрд╡ рдерд╛, рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдХрд┐ рдпрд╣ рдкрд░реНрдпрд╛рдкреНрдд рдерд╛ (рдпрджрд┐ рдХреЗрд╡рд▓ рд╕реЛ рд░рд╣рд╛ рд╣реЛ, рддреЛ рдмреИрдЯрд░реА 4 рд╕рд╛рд▓ рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП: 2000mAh / 0.05mA) <br><br>  <b>рддрдХрдиреАрдХреА</b> <br><br>  рдПрдХ рдореЛрдиреЛрдкреНрд░рд╛рдЗрд╕ рдкрд░рдо 3 рдбреА рдкреНрд░рд┐рдВрдЯрд░, рдкреАрдПрд▓рдП рдкреНрд▓рд╛рд╕реНрдЯрд┐рдХ, 0.4 рдорд┐рдореА рдиреЛрдЬрд▓, 0.2 рдорд┐рдореА рдкрд░рдд рдкрд░ рдореБрджреНрд░рд┐рддред  рд▓реЙрдХрд┐рдВрдЧ рддрдВрддреНрд░ рдХреЗ рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП, рд╕рдЯреАрдХрддрд╛ рдХреЗ рд▓рд┐рдП 0.1 рдорд┐рдореА рдХреА рдкрд░рддред  рд╕реНрдкреНрд░рд┐рдВрдЧреНрд╕ 3 рдбреА рдкреНрд░рд┐рдВрдЯрд░ рдкрд░ рднреА рдореБрджреНрд░рд┐рдд рд╣реЛрддреЗ рд╣реИрдВред  рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЯрд╛рдЗрдк рдХрд░рдирд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдордзреНрдп рдЕрдзрд┐рдХрд╛рдВрд╢ рднрд╛рдЧ (рдЗрд╕рдореЗрдВ рдХрдИ рдЖрдВрддрд░рд┐рдХ рднрд╛рдЧ рд╣реИрдВ рдФрд░ рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ рдФрд░ рддрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рджреЛрд╣рд░реА рджреАрд╡рд╛рд░реЗрдВ) 20 рдШрдВрдЯреЛрдВ рдХреЗ рд▓рд┐рдП рдореБрджреНрд░рд┐рдд рдХреА рдЧрдИ рдереАрдВред  рдпрд╣ рд╕рд┐рдпрд╛рди-рдПрдХреНрд░рд┐рд▓рд╛рдЯ рдЧреЛрдВрдж рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд╛рде рдлрдВрд╕ рдЧрдпрд╛ рдерд╛ред  рдЕрдЧрд░ рдХреБрдЫ рдЕрдВрджрд░ рдЯреВрдЯрддрд╛ рд╣реИ, рддреЛ рдмрд╛рд╣рд░ рдХрд░рдирд╛ рдЕрд╕рдВрднрд╡ рд╣реИ (рдЙрдиреНрдорд╛рдж-рдзреВрдореНрд░рдкрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓реЛрдВ рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛), рдЖрдкрдХреЛ рдЗрд╕реЗ рдЧреБрд▓реНрд▓рдХ рдХреА рддрд░рд╣ рддреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдлрд┐рд░ рд╕реЗ рдкреНрд░рд┐рдВрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ (3 рдбреА рдкреНрд░рд┐рдВрдЯрд░ рдХреЗ рдкрдХреНрд╖ рдореЗрдВ рдПрдХ рддрд░реНрдХ)ред  SolidWorks рдореЗрдВ рдЪрд┐рддреНрд░ рдФрд░ рдПрдирд┐рдореЗрд╢рди рдмрдирд╛рдП рдЧрдП рд╣реИрдВ, AtmelStudio рд╡рд┐рдХрд╛рд╕ рдкрд░реНрдпрд╛рд╡рд░рдг (рд╣рд╛рдБ, AVR (рд╢рд╛рд▓реАрдирддрд╛) рдХреЛ Arduino рдХреА рддрд░рд╣, рдмреЙрдХреНрд╕ рдХреЗ рдмрд╛рд╣рд░ рд╕рдорд░реНрдерд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, VisualMicro рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ)ред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi402867/">https://habr.com/ru/post/hi402867/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi402853/index.html">рдмреНрд▓реЙрдХрдЪреЗрди рд╕реЙрд▓реНрдпреВрд╢рдВрд╕ рдХреА рддреАрд╕рд░реА рд▓рд╣рд░ CATs рддрдХрдиреАрдХ рд▓рд╛рддреА рд╣реИ</a></li>
<li><a href="../hi402859/index.html">рдкреБрд▓рд┐рд╕ рдХреА рд╕реЗрд╡рд╛ рдореЗрдВ рд▓реИрдкрдЯреЙрдк</a></li>
<li><a href="../hi402861/index.html">рдлрд░реНрд╕реНрдЯ рдЯрд╛рдЗрдо: рдлрд┐рд▓реНрдо рдХреЗ рдкреНрд░реАрдорд┐рдпрд░ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi402863/index.html">рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕рдВрдмрдВрдзреЛрдВ рдХреЗ рд╕реНрд╡-рдирд┐рдпрдорди рдХреЗ рд▓рд┐рдП рдПрдХ рддрдВрддреНрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдИрдорд╛рдирджрд╛рд░ рдореЙрдбрд▓ рдЕрдиреБрдмрдВрдз</a></li>
<li><a href="../hi402865/index.html">рдПрдХ рд╡реАрдбрд┐рдпреЛ рдореЗрдВ рдПрдХ рдлрд╛рд▓реНрдХрди 9 рдЪрд░рдг рдХреА рджреЛ рдЙрдбрд╝рд╛рдиреЗрдВ</a></li>
<li><a href="../hi402869/index.html">рдлреИрд╢рдиреЗрдмрд▓ рдлреИрд╢рдиреЗрдмрд▓ рдЯреНрд░реИрдХрд░реНрд╕: рд╕реИрдорд╕рдВрдЧ, рдкреЛрд▓рд░, рд╡рд┐рдерд┐рдВрдЧреНрд╕, рдЬреЛ рдЕрдкреЗрдХреНрд╖рд┐рдд рдирд╣реАрдВ рдереЗ</a></li>
<li><a href="../hi402871/index.html">рдпреВрд░реЛрдк рдореЗрдВ рдмреИрдВрдХ рдХреИрд╕реЗ рдЦреЛрд▓реЗрдВ: рд▓рд╛рдЗрд╕реЗрдВрд╕рд┐рдВрдЧ рдФрд░ рдмреНрд▓реЙрдХрдЪреЗрди</a></li>
<li><a href="../hi402873/index.html">рдХрд┐рддрд╛рдм "рдордд рдорд░реЛ! рдЬреАрд╡рди рдХреЗ рд╕рдВрдШрд░реНрд╖ рдореЗрдВ рднреЛрдЬрди "</a></li>
<li><a href="../hi402875/index.html">рд╕реАрд╕реАрдЯреАрд╡реА рдХреИрдорд░реЛрдВ рдХреЗ рд▓рд┐рдП рдореИрдЯреНрд░рд┐рд╕реЗрд╕ред рдХрд┐рд╕ рдкрд░ рдзреНрдпрд╛рди рджреЗрдирд╛ рд╣реИ?</a></li>
<li><a href="../hi402877/index.html">рдЪреЙрдХрд▓реЗрдЯ рдкреНрд░рд┐рдВрдЯрд░ рдкреНрд░рд╕реНрддреБрддрд┐</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>