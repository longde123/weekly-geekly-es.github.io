<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ฟโ๐ป ๐ง ๐ฉ๐ฝโ๐คโ๐จ๐พ ุจุงุฎุชุตุงุฑ ุญูู ุงูุชูุงุฒุงุช Linux (ุงููุฏุฑุงุช) ๐ด ๐ด๏ธ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชู ุฅุนุฏุงุฏ ุชุฑุฌูุฉ ููุฐู ุงูููุงูุฉ ุฎุตูุตูุง ูุทูุงุจ ุฏูุฑุฉ Linux Administrator . 

 ูุชู ุงุณุชุฎุฏุงู ุงููุฏุฑุงุช ุฃูุซุฑ ูุฃูุซุฑ ุจูุถู ุฌุฒุก ูุจูุฑ ุฅูู SystemD ุ Docker ุ ูุฃูุฑูุณุชุฑุง ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุจุงุฎุชุตุงุฑ ุญูู ุงูุชูุงุฒุงุช Linux (ุงููุฏุฑุงุช)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/471802/" style=";text-align:right;direction:rtl">  <i>ุชู ุฅุนุฏุงุฏ ุชุฑุฌูุฉ ููุฐู ุงูููุงูุฉ ุฎุตูุตูุง ูุทูุงุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏูุฑุฉ Linux Administrator</a> .</i> <br><hr><br>  ูุชู ุงุณุชุฎุฏุงู ุงููุฏุฑุงุช ุฃูุซุฑ ูุฃูุซุฑ ุจูุถู ุฌุฒุก ูุจูุฑ ุฅูู SystemD ุ Docker ุ ูุฃูุฑูุณุชุฑุง ูุซู Kubernetes.  ูููู ุ ููุง ูุจุฏู ูู ุ ูู ุงูุตุนุจ ููููุงู ููู ุงููุซุงุฆู ูุจุนุถ ุฃุฌุฒุงุก ุชูููุฐ ุงูุงูุชูุงุฒุงุช ูุงูุช ูุฑุจูุฉ ุฅูู ุญุฏ ูุง ุจุงููุณุจุฉ ูู ุ ูุฐูู ูุฑุฑุช ุฃู ุฃุดุงุฑู ูุนุฑูุชู ุงูุญุงููุฉ ูู ูุฐุง ุงูููุงู ุงููุตูุฑ. <br><br><img src="https://habrastorage.org/webt/mn/gs/zm/mngszmci_2-ufeepev7nfzd3fo8.png"><br><br>  ุฑุงุจุท ุงูุงูุชูุงุฒ ุงูุฃูุซุฑ ุฃูููุฉ ูู ุตูุญุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฏุฑุงุช (7)</a> .  ููููุง ููุณุช ููุงุณุจุฉ ุฌุฏุง ููุชุนุงุฑู ุงูุฃููู. <a name="habracut"></a><br><br><h3 style=";text-align:right;direction:rtl">  ูุฏุฑุงุช ุงูุนูููุฉ </h3><br>  ุญููู ุงููุณุชุฎุฏููู ุงูุนุงุฏููู ูุญุฏูุฏุฉ ููุบุงูุฉ ุ ูู ุญูู ุฃู ุญููู ุงููุณุชุฎุฏู "ุงูุฌุฐุฑ" ูุงุณุนุฉ ููุบุงูุฉ.  ุนูู ุงูุฑุบู ูู ุฃู ุงูุนูููุงุช ุงูุชู ุชุนูู ูู "ุงูุฌุฐุฑ" ูุง ุชุชุทูุจ ุบุงูุจูุง ุงูุชูุงุฒุงุช ุงูุฌุฐุฑ. <br><br>  ูุชูููู ุงูุชูุงุฒุงุช ุงููุณุชุฎุฏู ุงูุฌุฐุฑ ุ ุชููุฑ ุฃุฐููุงุช POSIX (ุฅููุงูุงุช POSIX) ุทุฑููุฉ ููุญุฏ ูู ูุฌููุนุงุช ุนูููุงุช ุงููุธุงู ุงููุชููุฒุฉ ุงูุชู ููุณูุญ ุจุชูููุฐูุง ุงูุนูููุฉ ูุฃุญูุงุฏูุง.  ูู ุฌููุฑูุง ุ ูุฅููุง ุชูุณู ุฌููุน ุงูุญููู "ุงูุฌุฐุฑ" ุฅูู ูุฌููุนุฉ ูู ุงูุงูุชูุงุฒุงุช ุงููููุตูุฉ.  ุชู ูุตู ููุฑุฉ ุงููุฏุฑุงุช ูู ุนุงู 1997 ูู ูุณูุฏุฉ POSIX 1003.1e. <br><br>  ุนูู ูุธุงู Linux ุ ุชุญุชูู ูู ุนูููุฉ (ูููุฉ) ุนูู <a href="">ุฎูุณุฉ ุฃุฑูุงู</a> (ูุฌููุนุงุช) <a href="">64 ุจุช</a> ุชุญุชูู ุนูู ูุญุฏุงุช ุจุช ุฅุฐู (ูุจู ูุธุงู Linux 2.6.25 ูุงูุช 32 ุจุช) ุ ูุงูุชู ูููู ุนุฑุถูุง ูู <pre style=";text-align:right;direction:rtl">  / proc / &lt;pid&gt; / status </pre>  . <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">CapInh: 00000000000004c0 CapPrm: 00000000000004c0 CapEff: 00000000000004c0 CapBnd: 00000000000004c0 CapAmb: 0000000000000000</code> </pre> <br>  ูุฐู ุงูุฃุฑูุงู (ุงูููุถุญุฉ ููุง ุจุชุฑููุฒ ุณุฏุงุณู ุนุดุฑู) ูู ุตูุฑ ููุทูุฉ ูุชู ุชูุซูู ูุฌููุนุงุช ุงูุฃุฐููุงุช ูููุง.  ูููุง ููู ุฃุณูุงุกูู ุงููุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ูุงุจููุฉ ุงููุฑุงุซุฉ</b> - ุงูุฃุฐููุงุช ุงูุชู ูููู ุฃู ูุฑุซูุง ุฃุญูุงุฏ </li><li style=";text-align:right;direction:rtl">  <b>ูุณููุญ</b> - ุฃุฐููุงุช ูููู ุงุณุชุฎุฏุงููุง ุจูุงุณุทุฉ ุงููููุฉ. </li><li style=";text-align:right;direction:rtl">  <b>ูุนุงูุฉ</b> - ุฃุฐููุงุช ูุนุงูุฉ ุงูุญุงููุฉ </li><li style=";text-align:right;direction:rtl">  Bounding - ูุจู Linux 2.6.25 ุ ูุงูุช ูุฌููุนุฉ ุงูุฑุจุท ูู ุณูุฉ ุนูู ูุณุชูู ุงููุธุงู ูุดุชุฑูุฉ ูุฌููุน ุณูุงุณู ุงูุนูููุงุช ุ ูุตููุฉ ููุตู ูุฌููุนุฉ ูุง ูููู ุจุนุฏูุง ุชูุณูุน ุงูุฃุฐููุงุช.  ูุฐู ูุฌููุนุฉ ุญุงูููุง ููู ูููุฉ ููู ุฌุฒุก ููุท ูู ููุทู execve ุ ุงูุชูุงุตูู ุฃุฏูุงู. </li><li style=";text-align:right;direction:rtl">  <b>ุชูุช ุฅุถุงูุฉ Ambient</b> (ุฎุงุฑุฌู ููุฐ Linux 4.3) ูุชุณููู ุชูููุฑ ุฃุฐููุงุช ุบูุฑ ุฌุฐุฑูุฉ ูููุณุชุฎุฏู ุ ุฏูู ุงุณุชุฎุฏุงู ุฃุฐููุงุช setuid ุฃู ููู (ุงููุฒูุฏ ุญูู ุฐูู ูุงุญููุง). </li></ul><br>  ุฅุฐุง ุทูุจุช ุงููููุฉ ุฅุฌุฑุงุก ุนูููุฉ ูููุฒุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ุงูุฑุจุท ุจุงูููุงูุฐ &lt;1024) ุ ูุฅู ุงูููุงุฉ ุชุชุญูู ูู ูุฌููุนุฉ ุงูุฅุญุงุทุฉ ุงูุญุงููุฉ ูู <a href="">CAP_NET_BIND_SERVICE</a> .  ุฅุฐุง ุชู ุชุซุจูุชู ุ ูุณุชุณุชูุฑ ุงูุนูููุฉ.  ุฎูุงู ุฐูู ุ ูุชู ุฑูุถ ุงูุนูููุฉ ูุน EPERM (ุงูุนูููุฉ ุบูุฑ ูุณููุญ ุจูุง).  <code>CAP_</code> ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ูู kernel ููุชู ุชุฑููููุง ุจุงูุชุณูุณู ุ ูุฐุง <code>CAP_NET_BIND_SERVICE</code> ุ ุชุณุงูู 10 ุ ุชุนูู ุงูุจุชุฉ 1 &lt;&lt; 10 = 0x400 (ูุฐุง ูู ุงูุฑูู ุงูุณุฏุงุณู ุนุดุฑ "4" ูู ุงููุซุงู ุงูุณุงุจู). <br><br>  ูููู ุงูุนุซูุฑ ุนูู ูุงุฆูุฉ ูุงููุฉ ูููุฑุงุกุฉ ูู ุงูุงูุชูุงุฒุงุช ุงููุนุฑูุฉ ุญุงูููุง ูู ุตูุญุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฏุฑุงุช</a> ุงูุญุงููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">(7)</a> (ุงููุงุฆูุฉ ููุง ูู ููุฅุดุงุฑุฉ ููุท). <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุงู ููุชุจุฉ libcap ูุชุจุณูุท ุนูููุงุช ุชุฏููู ุงูุฅุฏุงุฑุฉ ูุงูุชูููุถ.  ุจุงูุฅุถุงูุฉ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูููุชุจุฉ</a> ุ ุชุชุถูู ุงูุญุฒูุฉ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">capsh</a> ุ ูุงูุชู ุชุชูุญ ูู ุ ูู ุจูู ุฃุดูุงุก ุฃุฎุฑู ุ ุฅุธูุงุฑ ุจูุงูุงุช ุงูุงุนุชูุงุฏ ุงูุฎุงุตุฉ ุจู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># capsh --print Current: = cap_setgid,cap_setuid,cap_net_bind_service+eip Bounding set = cap_setgid,cap_setuid,cap_net_bind_service Ambient set = Securebits: 00/0x0/1'b0 secure-noroot: no (unlocked) secure-no-suid-fixup: no (unlocked) secure-keep-caps: no (unlocked) secure-no-ambient-raise: no (unlocked) uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),11(floppy),20(dialout),26(tape),27(video)</span></span></code> </pre> <br>  ููุงู ุจุนุถ ุงูููุงุท ุงููุญูุฑุฉ ููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>Current</b> - ูุนุฑุถ ุงูุงูุชูุงุฒุงุช ุงููุนุงูุฉ ูุงูููุฑูุซุฉ ูุงููุชุงุญุฉ ูุนูููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">capsh ุจุงูุตูุบุฉ cap_to_text (3)</a> .  ูู ูุฐุง ุงูุชูุณูู ุ ูุชู ุณุฑุฏ ุงูุญููู ููุฌููุนุงุช ุฅุฐู <code>โcapability[,capabilityโฆ]+(e|i|p)โ</code> ุ ุญูุซ ุชุนูู <code>โeโ</code> ูุนุงูุฉ ุ ู <code>โiโ</code> ููุฑูุซุฉ ุ ู <code>โpโ</code> ูุชููุฑุฉ.  ุงููุงุฆูุฉ ุบูุฑ ููุตููุฉ ุจุฑูุฒ <code>โ,โ</code> ุ ููุง ูุฏ ุชููู ุฎููุช <code>(cap_setgid+eip, cap_setuid+eip)</code> .  ุชูุณู ุงููุงุตูุฉ ุงูุฃุฐููุงุช ูู ูุฌููุนุฉ ุนูู ูุงุญุฏุฉ.  ุซู ูุชู ูุตู ูุงุฆูุฉ ูุฌููุนุงุช ุงูุนูู ุงููุนููุฉ ุจูุณุงูุงุช.  ูุซุงู ุขุฎุฑ ูุน ูุฌููุนุชู ุนูู ุณูููู <code>โ= cap_sys_chroot+ep cap_net_bind_service+eipโ</code> .  ููุฐูู ูุฌููุนุชู ุงูุฅุฌุฑุงุกุงุช <code>โ= cap_net_bind_service+e cap_net_bind_service+ipโ</code> ุณุชุนูู ุนูู ุชุฑููุฒ ููุณ ุงููููุฉ ูุซู <code>โcap_net_bind_service+eipโ</code> . </li><li style=";text-align:right;direction:rtl">  <b>ูุญุฏ ูุฌููุนุฉ / ุงููุญูุทุฉ ูุฌููุนุฉ</b> .  ููุฒูุฏ ูู ุงูุฎูุท ุ ูุญุชูู ูุฐุงู ุงูุณุทุญุงู ููุท ุนูู ูุงุฆูุฉ ุงูุฃุฐููุงุช ุงููุญุฏุฏุฉ ูู ูุฐู ุงููุฌููุนุงุช ุ ููุตููุฉ ุจูุณุงูุงุช.  ูุง ูุชู ุงุณุชุฎุฏุงู ุชูุณูู cap_to_text ููุง ุ ูุฃูู ูุง ูุญุชูู ุนูู ูุฌููุนุงุช ูู ุงูุฃุฐููุงุช ุงููุชุงุญุฉ ูุงููุนุงูุฉ ูุงูููุฑูุซุฉ ุ ูููู ูุฌููุนุฉ ูุงุญุฏุฉ ููุท (ูุญูุท / ูุญูุท). </li><li style=";text-align:right;direction:rtl">  <b>Securebits</b> : ูุนุฑุถ ุฅุดุงุฑุงุช <a href="">securebits</a> ุงููููุฉ ุจุงูุชูุณูู ุงูุนุดุฑู / ุงูุณุช ุนุดุฑู / ุจุชูุณูู Verilog (ูุนู ุ ุงููู ูุชููุนูุง ููุง ุ ููุฐุง ูุงุถุญ ุชูุงููุง ูู <a href="">ุงูููุทุฉ</a> ุงูุชู ูููู ูููุง ูู ูุณุคูู ูุธุงู ุจุจุฑุงูุฌ <code>FPGA</code> ู <code>ASIC</code> ุงูุฎุงุตุฉ ุจูู).  ูุง ููู ูู ุญุงูุฉ securebits.  ูุชู ุชุนุฑูู ุงูุนูุงูุงุช ุงููุนููุฉ ุนูู ุฃููุง <code>SECBIT_*</code> ูู <a href="">securebits.h</a> ุ ููุชู ุฃูุถูุง ูุตููุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅููุงููุงุช (7)</a> . </li><li style=";text-align:right;direction:rtl">  ุชูุชูุฑ ูุฐู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุฅูู ุนุฑุถ <b>ูุนูููุงุช "NoNewPrivs"</b> ุ ูุงูุชู ูููู ุนุฑุถูุง ูู <pre style=";text-align:right;direction:rtl">  / proc / &lt;pid&gt; / status </pre>  .  ูุชู ุฐูุฑู ููุท ูู prctl (2) ุ ุนูู ุงูุฑุบู ูู ุฃูู ูุคุซุฑ ุจุดูู ูุจุงุดุฑ ุนูู ุงูุญููู ุนูุฏ ุงุณุชุฎุฏุงููุง ูุน ุฃุฐููุงุช ุงููููุงุช (ุจูุฒูุฏ ูู ุงูุชูุงุตูู ุฃุฏูุงู).  ูุชู ูุตู NoNewPrivs ุนูู ุงููุญู ุงูุชุงูู: <i><i>"ูุน <code>no_new_privs</code> ุนูู 1 ุ ูุนุฏ execve (2) ุจุนุฏู ููุญ ุงูุชูุงุฒุงุช ููุง ูู ููู ูู ุงููููู ุงูููุงู ุจู ุฏูู ุงุณุชุฏุนุงุก execve (2) (ุนูู ุณุจูู ุงููุซุงู ุ ูุนุงูุฌุฉ <code>set-user-ID</code> ุ ุจุช <code>set-group-ID</code> ูุชุนุทูู ูุนุงูุฌุฉ ุฃุฐููุงุช ุงููููุงุช)</i> .</i>  <i>ุจุนุฏ ุงูุชุซุจูุช ุ ูุง ูููู ุฅุนุงุฏุฉ ุชุนููู ุณูุฉ <code>no_new_privs</code> .</i>  <i>ูุชู ุชูุฑูุซ ูููุฉ ูุฐู ุงูุณูุฉ ุจูุงุณุทุฉ ุฃุญูุงุฏ ุชู ุฅูุดุงุคูุง ูู ุฎูุงู ุดููุฉ (2) ูุงุณุชูุณุงุฎ (2) ูุชุฎุฒูููุง ูู ุฎูุงู execve (2). "</i>  ุชููู Kubernetes ุจุชุนููู ูุฐู ุงูุนูุงูุฉ ุนูู 1 ุนูุฏูุง ูููู allowPrivilegeEscalation ุฎุงุทุฆูุง ูู pod securityContext. </li></ul><br><br>  ุนูุฏ ุจุฏุก ุนูููุฉ ุฌุฏูุฏุฉ ูู ุฎูุงู execve (2) ุ ูุชู ุชุญููู ุฃุฐููุงุช ุงูุนูููุฉ ุงูุชุงุจุนุฉ ุจุงุณุชุฎุฏุงู ุงูุตูุบุฉ ุงููุญุฏุฏุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฏุฑุงุช (7)</a> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">P<span class="hljs-string"><span class="hljs-string">'(ambient) = (file is privileged) ? 0 : P(ambient) P'</span></span>(permitted) = (P(inheritable) &amp; F(inheritable)) | (F(permitted) &amp; P(bounding)) | P<span class="hljs-string"><span class="hljs-string">'(ambient) P'</span></span>(effective) = F(effective) ? P<span class="hljs-string"><span class="hljs-string">'(permitted) : P'</span></span>(ambient) P<span class="hljs-string"><span class="hljs-string">'(inheritable) = P(inheritable) [ie, unchanged] P'</span></span>(bounding) = P(bounding) [ie, unchanged] <span class="hljs-built_in"><span class="hljs-built_in">where</span></span>: P() denotes the value of a thread capability <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> before the execve(2) -      execve(2) P<span class="hljs-string"><span class="hljs-string">'() denotes the value of a thread capability set after the execve(2) -      execve(2) F() denotes a file capability set -  </span></span></code> </pre> <br><br>  ุชุตู ูุฐู ุงูููุงุนุฏ ุงูุฅุฌุฑุงุกุงุช ุงูุชู ูุชู ุชูููุฐูุง ููู ุจุช ูู ูู ูุฌููุนุงุช ุงูุฃุฐููุงุช (ุงููุญูุทุฉ / ุงููุณููุญ ุจูุง / ุงููุนุงูุฉ / ุงููุงุจูุฉ ููุชูุฑูุซ / ุงููุญูุท).  ูุชู ุงุณุชุฎุฏุงู ุจูุงุก ุฌููุฉ C ุงูููุงุณู (&amp; - ูู AND ุ | - ูู OR ุงูููุทูู).  P 'ูู ุนูููุฉ ุชุงุจุนุฉ.  P ูู ุงูุนูููุฉ ุงูุญุงููุฉ ุงูุชู ุชุณุชุฏุนู execve (2).  F ูู ูุง ูุณูู "ุฃุฐููุงุช ุงููููุงุช" ูููู ุชู ุฅุทูุงูู ูู ุฎูุงู execve. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ููุนูููุฉ ุชุบููุฑ ูุฌููุนุงุชูุง ุงูููุฑูุซุฉ ูุงููุตูู ุฅูููุง ูุงููุนุงูุฉ ุจุฑูุฌููุง ุจุงุณุชุฎุฏุงู libcap ูู ุฃู ููุช ููููุง ููููุงุนุฏ ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ููู ุงููุชุตู <code>CAP_SETPCAP</code> ุ ูุฌุจ ุฃู ุชููู ุงููุฌููุนุฉ <b>ุงูููุฑูุซุฉ</b> ุงูุฌุฏูุฏุฉ ูุฌููุนุฉ ูุฑุนูุฉ ูู P (ููุฑูุซุฉ) ู P (ูุชููุฑุฉ) </li><li style=";text-align:right;direction:rtl">  (ูู ูุธุงู Linux 2.6.25) ูุฌุจ ุฃู ุชููู ุงููุฌููุนุฉ <b>ุงูููุฑูุซุฉ</b> ุงูุฌุฏูุฏุฉ ูุฌููุนุฉ ูุฑุนูุฉ ูู P (ูุฑุซุช) ู P (ุงูุญุฏ) </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชููู ุงููุฌููุนุฉ ุงูุฌุฏูุฏุฉ <b>ุงููุชุงุญุฉ</b> ูุฌููุนุฉ ูุฑุนูุฉ ูู P (ูุชููุฑุฉ) </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชููู ุงููุฌููุนุฉ <b>ุงููุนุงูุฉ</b> ุงูุฌุฏูุฏุฉ ูุฌููุนุฉ ูุฑุนูุฉ ูู P (ูุนุงูุฉ) </li></ul><br><br><h3 style=";text-align:right;direction:rtl">  ุฃุฐููุงุช ุงูููู </h3><br>  ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุญุชุงุฌ ุงููุณุชุฎุฏู ุงูุฐู ูุฏูู ูุฌููุนุฉ ูุญุฏูุฏุฉ ูู ุงูุญููู ุฅูู ุชุดุบูู ููู ูุชุทูุจ ุงููุฒูุฏ ูู ุงูุงูุชูุงุฒุงุช.  ุชู ุชุญููู ุฐูู ูุณุจููุง ุนู ุทุฑูู ุชุนููู ุจุช setuid ( <code>chmod + s ./executable</code> ) ูู ููู ุซูุงุฆู.  ูุซู ูุฐุง ุงูููู ุ ุฅุฐุง ูุงู ููุชูู ุฅูู ุงูุฌุฐุฑ ุ ูุณูุชูุชุน ุจุญููู ุงูุฌุฐุฑ ุงููุงููุฉ ุนูุฏ ุชูููุฐู ูู ูุจู ุฃู ูุณุชุฎุฏู. <br><br>  ูููู ูุฐู ุงูุขููุฉ ุชููุญ ุงูุชูุงุฒุงุช ูุซูุฑุฉ ููููู ุ ูุฐุง ููุฏ ุทุจูุช ุฃุฐููุงุช POSIX ููููููุง ูุณูู "ุฃุฐููุงุช ุงููููุงุช".  ูุชู ุชุฎุฒูููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณูุงุช ููู ููุชุฏุฉ</a> ุชุณูู "security.capability" ุ ูุฐูู ุชุญุชุงุฌ ุฅูู ูุธุงู ูููุงุช ูุน ุฏุนู ููุณูุงุช ุงูููุณุนุฉ (ext * ุ XFS ุ Raiserfs ุ Brtfs ุ overlay2 ุ ...).  ูุชุบููุฑ ูุฐู ุงูุณูุฉ ุ <code>CAP_SETFCAP</code> ุฅุฐู <code>CAP_SETFCAP</code> (ูู ุงููุฌููุนุฉ ุงููุชุงุญุฉ ูู ุฃุฐููุงุช ุงูุนูููุฉ). <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ getfattr -m - -d `<span class="hljs-built_in"><span class="hljs-built_in">which</span></span> ping` <span class="hljs-comment"><span class="hljs-comment"># file: usr/bin/ping security.capability=0sAQAAAgAgAAAAAAAAAAAAAAAAAAA= $ getcap `which ping` /usr/bin/ping = cap_net_raw+ep</span></span></code> </pre> <br><br><h3 style=";text-align:right;direction:rtl">  ุญุงูุงุช ุฎุงุตุฉ ูุชุนูููุงุช </h3><br>  ุจุงูุทุจุน ุ ูู ุงููุงูุน ุ ูู ุดูุก ููุณ ุจูุฐู ุงูุจุณุงุทุฉ ุ ูููุงู ุงูุนุฏูุฏ ูู ุงูุญุงูุงุช ุงูุฎุงุตุฉ ุงูููุถุญุฉ ูู ุตูุญุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฏุฑุงุช (7)</a> .  ุฑุจูุง ุฃูููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ูุชู ุชุฌุงูู ุจุช setuid ูุฃุฐููุงุช ุงูููู ุฅุฐุง ุชู ุชุซุจูุช NoNewPrivs</b> ุฃู <b>ุชู ุชุซุจูุช</b> ูุธุงู ุงููููุงุช ูุน nosuid ุฃู ุชุชุจุน ุนูููุฉ ุงุณุชุฏุนุงุก execve ุจูุงุณุทุฉ ptrace.  ูุชู ุชุฌุงูู ุฃุฐููุงุช ุงููููุงุช ุฃูุถูุง ุนูุฏ ุจุฏุก ุชุดุบูู kernel ุจุงุณุชุฎุฏุงู ุฎูุงุฑ <code>no_file_caps</code> . </li><li style=";text-align:right;direction:rtl">  <b>ุงูููู "ุงูุบุจู" (capacity-dumb)</b> ูู ููู ุซูุงุฆู ูุชู ุชุญูููู ูู ููู setuid ุฅูู ููู ูู ุฃุฐููุงุช ุงูููู ุ ูููู ุฏูู ุชุบููุฑ ุงูููุฏ ุงููุตุฏุฑ ุงูุฎุงุต ุจู.  ุบุงูุจูุง ูุง ูุชู ุงูุญุตูู ุนูู ูุฐู ุงููููุงุช ุนู ุทุฑูู ุชุนููู ุฃุฐููุงุช + ep ุนูููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ <code>โsetcap cap_net_bind_service+ep ./binaryโ</code> .  ุงูุฌุฒุก ุงูููู ูู "ู" - ูุนุงูุฉ.  ุจุนุฏ ุงูุชูููุฐ ุ ุณุชุชู ุฅุถุงูุฉ ูุฐู ุงูุฃุฐููุงุช ุฅูู ูู ูููุง ุงููุชุงุญุฉ ูุงูุญุงููุฉ ุ ูุฐูู ุณูููู ุงูููู ุงููุงุจู ููุชูููุฐ ุฌุงูุฒูุง ูุงุณุชุฎุฏุงู ุงูุนูููุฉ ุงููููุฒุฉ.  ูู ุงูููุงุจู ุ ูููู <b>ูููู "ุงููุฏุฑุฉ ุงูุฐููุฉ"</b> ุงูุฐู ูุณุชุฎุฏู libcap ุฃู ูุธููุฉ ูุดุงุจูุฉ ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">cap_set_proc (3)</a> (ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">capset</a> ) ูุชุนููู ุงูุจุชุงุช "ุงููุนุงูุฉ" ุฃู "ุงูููุฑูุซุฉ" ูู ุฃู ููุช ุฅุฐุง ูุงู ูุฐุง ุงูุฅุฐู ููุฌูุฏูุง ุจุงููุนู " ูุฌููุนุฉ ุจุฃุณุนุงุฑ ูุนูููุฉ.  ูุฐูู ุ <code>setcap cap_net_bind_service+p ./binaryโ</code> " <code>setcap cap_net_bind_service+p ./binaryโ</code> ูุงูููุง ูููู "ุฐูู" ุ ูุฃูู ุณูููู ูุงุฏุฑูุง ุนูู ุชุนููู ุงูุฃุฐููุงุช ุงููุงุฒูุฉ ูู ูุฌููุนุฉ ูุนุงูุฉ ููุณู ูุจู ุงุณุชุฏุนุงุก ุนูููุฉ ูููุฒุฉ.  ุงูุธุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑูุฒ ุนููุฉ</a> . </li><li style=";text-align:right;direction:rtl">  ุชุณุชูุฑ <b>ุงููููุงุช ุฐุงุช ุงูุฌุฐุฑ setuid</b> ูู ุงูุนูู ุ ุญูุซ ุชููุญ ูู ุงูุชูุงุฒุงุช ุงูุฌุฐุฑ ุนูุฏูุง ูุจุฏุฃ ุงููุณุชุฎุฏู ูุฌุฐุฑ.  ูููู ุฅุฐุง ูุงู ูุฏููู ูุฌููุนุฉ ุฃุฐููุงุช ุงููููุงุช ุ ูุณูุชู ููุญูุง ููุท.  ููููู ุฃูุถูุง ุฅูุดุงุก ููู setuid ูุน ูุฌููุนุฉ ูุงุฑุบุฉ ูู ุงูุฃุฐููุงุช ุ ููุง ุณูุฌุนูู ูุนูู ููุณุชุฎุฏู ูู UID 0 ุฏูู ุฃู ุฃุฐููุงุช.  ููุงู ุญุงูุงุช ุฎุงุตุฉ ูููุณุชุฎุฏู ุงูุฌุฐุฑ ุนูุฏ ุชุดุบูู ููู ุจุงุณุชุฎุฏุงู setuid-root ูุชุนููู ุฃุนูุงู bitbits ุงููุฎุชููุฉ (ุงูุธุฑ ุงูุฑุฌู). </li><li style=";text-align:right;direction:rtl">  ุชููู ูุฌููุนุฉ ูุญูุทูุฉ ุจุฅููุงุน ุงูุฃุฐููุงุช ุงููุชุงุญุฉ ุ ูููู ููุณุช ุชูู ุงูููุฑูุซุฉ.  ุชุฐูุฑ P '(ูุชููุฑ) = F (ูุชููุฑ) ู P (ุงูุญุฏ).  ุฅุฐุง ูุงู ููุชูุงุฑ ุฏูู <b>ูู ูุฌููุนุชู ุงูููุฑูุซุฉ</b> ูููุณ ุถูู ูุฌููุนุฉ ุงูุฅุญุงุทุฉ ุ ููุง ูุฒุงู ุจุฅููุงูู <b>ุงูุญุตูู ุนูู ูุฐุง ุงูุฅุฐู ูู ูุฌููุนุชู ุงููุชุงุญุฉ</b> ุนู ุทุฑูู ุชุดุบูู ููู ูู ุฅุฐู ูู ูุฌููุนุชู ุงูููุฑูุซุฉ - P '(ูุชููุฑ) = P ( ูุฑุซุช) ู F (ูุฑุซุช). </li><li style=";text-align:right;direction:rtl">  ุณูุคุฏู ุชูููุฐ ุจุฑูุงูุฌ ูุบููุฑ UID ุฃู GID ูู ุฎูุงู ูุนุฑูู ูุฌููุนุฉ ุงููุณุชุฎุฏู ุฃู ุจุชุงุช ูุนุฑู ูุฌููุนุฉ ุงููุนุฑูุงุช ุฃู ุชูููุฐ ุจุฑูุงูุฌ ูุชุนููู ุฃู ุฃุฐููุงุช ูููุงุช ุฅููู <b>ุฅูู ูุณุญ ุงููุฌููุนุฉ ุงููุญูุทุฉ</b> .  ุชุชู ุฅุถุงูุฉ ุฃุฐููุงุช ุฅูู ุงููุฌููุนุฉ <b>ุงููุญูุทุฉ</b> ุจุงุณุชุฎุฏุงู <code>PR_CAP_AMBIENT</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">prctl</a> .  ูุฌุจ ุฃู ุชููู ูุฐู ุงูุฃุฐููุงุช ููุฌูุฏุฉ ุจุงููุนู ูู <b>ูุฌููุนุงุช</b> ุงูุนูููุฉ ุงูุชู <b>ูููู ุงููุตูู ุฅูููุง ูุงูููุฑูุซุฉ</b> . </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุชูููุฐ ุนูููุฉ <b>ุจูุนุฑู UID ุจุฎูุงู 0 (2)</b> ุ ูุณูุชู ุญุฐู ุฌููุน ุงูุญููู ูู ูุฌููุนุงุชูุง ุงููุชุงุญุฉ ูุงููุดุทุฉ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ูุชู ุชุนููู <code>SECBIT_KEEP_CAPS</code> (ุฃู <code>SECBIT_NO_SETUID_FIXUP</code> ุงูุฃูุณุน) ุ <b>ูุชุบููุฑ UID ูู 0 ุฅูู ุตูุฑ ูุฒูู ุฌููุน ุงูุฃุฐููุงุช ูู ุงููุฌููุนุงุช ุงูููุฑูุซุฉ ุ ุงูุชู ูููู ุงููุตูู ุฅูููุง ุ ูุงููุนุงูุฉ</b> . </li></ul><br><br><h3 style=";text-align:right;direction:rtl">  ูุฐูู ... </h3><br>  ุฅุฐุง ูุงูุช ุงูุญุงููุฉ nginx ุงูุฑุณููุฉ ุ ุฃู ingress-nginx ุ ุฃู ุชููู ุฃู ุฃุนูุฏ ุชุดุบูููุง ูุน ูุฌูุฏ ุฎุทุฃ: <br><br> <code>bind() to 0.0.0.0:80 failed (13: Permission denied)</code> <br> <br>  ... ูุฐุง ูุนูู ุฃูู ูุงูุช ููุงู ูุญุงููุฉ ููุงุณุชูุงุน ุนูู ุงููููุฐ 80 ููุณุชุฎุฏู ุบูุฑ ููุถูู (ูููุณ 0) ุ ููู ููู ููุงู <code>CAP_NET_BIND_SERVICE</code> ูู <code>CAP_NET_BIND_SERVICE</code> ุงูุฃุฐููุงุช ุงูุญุงููุฉ.  ููุญุตูู ุนูู ูุฐู ุงูุญููู ุ ูุฌุจ ุงุณุชุฎุฏุงู xattr ูุชุนููู (ุจุงุณุชุฎุฏุงู <code>setcap</code> ) ููุญุตูู ุนูู ุฅุฐู ููู nginx ุนูู ุงูุฃูู <code>cap_net_bind_service+ie</code> .  ุณูุชู ุฏูุฌ ุฅุฐู ุงูููู ูุฐุง ูุน ุงููุฌููุนุฉ ุงููุฏููุฉ (ุงููุญุฏุฏุฉ ูุน ูุฌููุนุฉ ุงูุฑุจุท ูู pod SecurityContext / capacity / add / NET_BIND_SERVICE) ุ ูุณูุชู ูุถุนูุง ุฃูุถูุง ูู ูุฌููุนุฉ ุงูุฃุฐููุงุช ุงููุชุงุญุฉ.  ูุงููุชูุฌุฉ ูู <code>cap_net_bind_service+pie</code> . <br><br>  ูุนูู ูู ูุฐุง ุทุงููุง ุฃู securityContext / allowPrivilegeEscalation ูุถุจูุท ุนูู "ุตุญูุญ" ููุฏุนู ุจุฑูุงูุฌ ุชุดุบูู ูุญุฏุฉ ุงูุชุฎุฒูู / ุนุงูู ุงูุชุฎุฒูู (ุงูุธุฑ ูุซุงุฆู ุนุงูู ูููุงุก) xattrs. <br><br>  ุฅุฐุง ูุงูุช nginx ุฐููุฉ ูููุง ูุชุนูู ุจุงูุฃุฐููุงุช ุ ูุณุชููู <code>cap_net_bind_service+i</code> ูุงููุฉ.  ุซู ููููู ุงุณุชุฎุฏุงู libcap ูุชูุณูุน ุงูุญููู ูู ุงููุฌููุนุฉ ุงููุชุงุญุฉ ุฅูู ูุนุงูุฉ.  ุชูููุช ูุชูุฌุฉ ูุฐูู <code>cap_net_bind_service+pie</code> . <br><br>  ุฅูู ุฌุงูุจ ุงุณุชุฎุฏุงู xattr ุ ูุฅู ุงูุทุฑููุฉ ุงููุญูุฏุฉ ููุญุตูู ุนูู <code>cap_net_bind_service</code> ูู ุญุงููุฉ ุบูุฑ ุงูุฌุฐุฑ ูู ุงูุณูุงุญ ูู Docker ุจุชุนููู ุฅููุงูุงุชู ุงูุฎุงุฑุฌูุฉ (ุงููุฏุฑุงุช ุงููุญูุทุฉ).  ูููู ุงุนุชุจุงุฑูุง ูู ุฃุจุฑูู 2019 ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู</a> ูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูููุฐ ุฐูู</a> ุจุนุฏ. <br><br><h3 style=";text-align:right;direction:rtl">  ุฃูุซูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅููู ูููุฐุฌ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ</a> ุจุงุณุชุฎุฏุงู libcap ูุฅุถุงูุฉ <code>CAP_NET_BIND_SERVICE</code> ุฅูู ูุฌููุนุฉ ุฃุฐููุงุช ูุนุงูุฉ.  ูุชุทูุจ ุฅุฐู <code>CAP_BIND_SERVICE+p</code> ููููู ุงูุซูุงุฆู. <br><br>  ุงููุฑุงุฌุน (ุงููููุฏุณ): <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฏุฑุงุช</a> ุฑุฌู ุตูุญุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">(7)</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููุณ ููุงุฉ ุดูุฑุฉ ุงููุตุฏุฑ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดูุฑุฉ ุงููุตุฏุฑ Libcap</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฏูู ุงููุฏุฑุงุช ุงูุชุนูููุงุช</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar471802/">https://habr.com/ru/post/ar471802/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar471776/index.html">Laravel: ุดุฑุญ ุงูููุงููู ุงูุฃุณุงุณูุฉ. ุงูุฌุฒุก ุงูุซุงูู: ุงูููุงุฑุณุฉ</a></li>
<li><a href="../ar471778/index.html">ูุณุฑ Micosoft Lunix ูู HackQuest 2019</a></li>
<li><a href="../ar471792/index.html">ูู ุฃูู ุฌุงุก ุงููุนุงูุฌ ูู "ุงููุนุฌุฒุฉ ุงูุนุงุฏูุฉ"</a></li>
<li><a href="../ar471794/index.html">ุนุตุฑ ุงููููุฑููููุงุช ุณูู ูุณุทุญ</a></li>
<li><a href="../ar471796/index.html">ุชุฌุฑุจุฉ ููููุฉ - ุงููุซูุฑ ูู ุงูููุงุจูุงุช: ููููุฉ ุฅุฌุฑุงุก ููุงุจูุงุช ูุฑูู</a></li>
<li><a href="../ar471806/index.html">ููู ุชุคุซุฑ ุงูุฅุถุงุกุฉ ุนูู ุชุตููู ุงููุนุจุฉ ูุชุฌุฑุจุฉ ุงูุฃูุนุงุจ</a></li>
<li><a href="../ar471808/index.html">ูุณุชูู GSM ุงูุชูููุฉ ูุน ุงูุนุงูุณ ูู ููููุงุช ูุณุจูุฉ ุงูุตูุน</a></li>
<li><a href="../ar471810/index.html">ูุงุฑู ุฃุฏูุงุช ุงูุชุฏููู ูู ุงูุชุบููุฑุงุช ูู Active Directory: Quest Change Auditor ู Netwrix Auditor</a></li>
<li><a href="../ar471812/index.html">ููุชุจุฉ ูุญุฑู Wolfram ุงูุญุฑุฉ ููุทูุฑู ุงูุจุฑูุฌูุงุช</a></li>
<li><a href="../ar471814/index.html">WolframClientForPython | ููุชุจุฉ ุนููู ูููุฑุงู ุงูุฌุฏูุฏุฉ ููุบุฉ ุจูุซูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>