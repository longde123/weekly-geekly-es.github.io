<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¼ ğŸ£ ğŸ¤µğŸ½ Ø­Ù‚Ù† Ø§Ù„ØªØ¨Ø¹ÙŠØ© Ø§Ù„Ù‡Ø±Ù…ÙŠØ© ÙÙŠ React Ùˆ MobX State Tree ÙƒÙ†Ù…ÙˆØ°Ø¬ Ù…Ø¬Ø§Ù„ ğŸ™ğŸ¾ ğŸ¤£ ğŸ‘¨ğŸ¿â€ğŸš€</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ø¨Ø¹Ø¯ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¹Ù„Ù‰ React ØŒ Ø£ØªÙŠØ­Øª Ù„ÙŠ Ø§Ù„ÙØ±ØµØ© Ù„Ù„Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ Ù…Ø§ Ø¨Ù…ÙˆØ¬Ø¨ Angular 2. Ø¨ØµØ±Ø§Ø­Ø© ØŒ Ù„Ù… Ø£ÙƒÙ† Ù…Ø¹Ø¬Ø¨Ù‹Ø§. ÙˆÙ„ÙƒÙ† ØªÙ… ØªØ°ÙƒØ± Ø´ÙŠØ¡ ÙˆØ§Ø­Ø¯ - Ø¥Ø¯Ø§Ø±Ø© Ù…Ù†Ø·Ù‚ ÙˆØ­Ø§Ù„Ø© Ø§Ù„ØªØ·...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ø­Ù‚Ù† Ø§Ù„ØªØ¨Ø¹ÙŠØ© Ø§Ù„Ù‡Ø±Ù…ÙŠØ© ÙÙŠ React Ùˆ MobX State Tree ÙƒÙ†Ù…ÙˆØ°Ø¬ Ù…Ø¬Ø§Ù„</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431942/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/78/ou/57/78ou57kbv7kdv7llnfl-_cwmxpw.png" align="left">  Ø¨Ø¹Ø¯ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¹Ù„Ù‰ React ØŒ Ø£ØªÙŠØ­Øª Ù„ÙŠ Ø§Ù„ÙØ±ØµØ© Ù„Ù„Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ Ù…Ø§ Ø¨Ù…ÙˆØ¬Ø¨ Angular 2. Ø¨ØµØ±Ø§Ø­Ø© ØŒ Ù„Ù… Ø£ÙƒÙ† Ù…Ø¹Ø¬Ø¨Ù‹Ø§.  ÙˆÙ„ÙƒÙ† ØªÙ… ØªØ°ÙƒØ± Ø´ÙŠØ¡ ÙˆØ§Ø­Ø¯ - Ø¥Ø¯Ø§Ø±Ø© Ù…Ù†Ø·Ù‚ ÙˆØ­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Dependency Injection.  ÙˆØªØ³Ø§Ø¡Ù„Øª Ø¹Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ù† Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø© ÙÙŠ React Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… DDD ØŒ Ø¨Ù†ÙŠØ© Ø°Ø§Øª Ø·Ø¨Ù‚Ø§Øª ØŒ ÙˆØ­Ù‚Ù† Ø§Ù„ØªØ¨Ø¹ÙŠØ©ØŸ </p><br><p style=";text-align:right;direction:rtl">  Ø¥Ø°Ø§ ÙƒÙ†Øª Ù…Ù‡ØªÙ…Ù‹Ø§ Ø¨ÙƒÙŠÙÙŠØ© Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ ÙˆØ§Ù„Ø£Ù‡Ù… Ù…Ù† Ø°Ù„Ùƒ ØŒ Ù„Ù…Ø§Ø°Ø§ - Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø®ÙØ¶! </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl"> Ø£Ù† Ù†ÙƒÙˆÙ† ØµØ§Ø¯Ù‚ÙŠÙ† ØŒ Ø­ØªÙ‰ ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© ØŒ Ù†Ø§Ø¯Ø±Ø§Ù‹ Ù…Ø§ ØªØ³ØªØ®Ø¯Ù… Ø´Ø±ÙƒØ© DI Ø¹Ù„Ù‰ Ø£ÙƒÙ…Ù„ ÙˆØ¬Ù‡.  Ù…Ø§ Ù„Ù… ÙŠÙƒÙ† ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© Ø­Ù‚Ø§.  ÙÙŠ Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„ØµØºÙŠØ±Ø© ÙˆØ§Ù„Ù…ØªÙˆØ³Ø·Ø© ØŒ Ø­ØªÙ‰ Ù…Ø¹ ÙˆØ¬ÙˆØ¯ ÙˆØ§Ø¬Ù‡Ø© DI ØŒ ÙŠÙƒÙˆÙ† Ù„ÙƒÙ„ ÙˆØ§Ø¬Ù‡Ø© Ø¹Ø§Ø¯Ø© ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·.  ÙˆÙ„ÙƒÙ† Ø­Ù‚Ù† Ø§Ù„ØªØ¨Ø¹ÙŠØ© Ù„Ø§ ÙŠØ²Ø§Ù„ Ù„Ù‡ Ù…Ø²Ø§ÙŠØ§: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ø§Ù„Ø±Ù…Ø² Ù…Ù†Ø¸Ù… Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ ØŒ ÙˆØªØ¹Ù…Ù„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª ÙƒØ¹Ù‚ÙˆØ¯ ÙˆØ§Ø¶Ø­Ø©. </li><li style=";text-align:right;direction:rtl">  ØªØ¨Ø³ÙŠØ· Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø°Ø±Ø© ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø©. </li></ul><br><p style=";text-align:right;direction:rtl">  Ù„ÙƒÙ† Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø­Ø¯ÙŠØ«Ø© Ù„Ù€ JS ØŒ Ù…Ø«Ù„ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Jest</a> ØŒ ØªØ³Ù…Ø­ Ù„Ùƒ Ø¨ÙƒØªØ§Ø¨Ø© moki Ø¨Ø¨Ø³Ø§Ø·Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù… ES6 Ø§Ù„Ù…Ø¹ÙŠØ§Ø±ÙŠ.  Ø­ØªÙ‰ Ù‡Ù†Ø§ Ù„Ù† Ù†Ø­Ù‚Ù‚ Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ù…Ù† Ø´Ø±ÙƒØ© DI. </p><br><p style=";text-align:right;direction:rtl">  ØªØ¨Ù‚Ù‰ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© - Ø¥Ø¯Ø§Ø±Ø© Ù†Ø·Ø§Ù‚ ÙˆØ¹Ù…Ø± Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª.  Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù… ØŒ Ø¹Ø§Ø¯Ø©Ù‹ Ù…Ø§ ÙŠÙƒÙˆÙ† Ø§Ù„Ø¹Ù…Ø± Ù…Ø±ØªØ¨Ø·Ù‹Ø§ Ø¨Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø£ÙƒÙ…Ù„Ù‡ (Singleton) Ø£Ùˆ Ø¨Ø§Ù„Ø·Ù„Ø¨.  ÙˆØ¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„ ØŒ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ÙƒÙˆØ¯ Ù‡ÙŠ Ø§Ù„Ù…ÙƒÙˆÙ†.  Ø³ÙˆÙ Ù†Ø¹Ù„Ù‚ Ø¹Ù„ÙŠÙ‡. </p><br><p style=";text-align:right;direction:rtl"> Ø¥Ø°Ø§ ÙƒÙ†Ø§ Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø§Ù„Ø© Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØŒ ÙØ¥Ù† Ø£Ø³Ù‡Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù‡ÙŠ ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ± Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ ÙˆØ­Ø¯Ø© ES6 ÙˆØ§Ø³ØªÙŠØ±Ø§Ø¯Ù‡ Ø¹Ù†Ø¯ Ø§Ù„Ø¶Ø±ÙˆØ±Ø©.  ÙˆØ¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø­Ø§Ù„Ø© Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙ‚Ø· Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙƒÙˆÙ† - <strong><code>this.state</code></strong> ÙÙŠ Ù‡Ø°Ù‡ <strong><code>this.state</code></strong> .  Ù„ÙƒÙ„ Ø´ÙŠØ¡ Ø¢Ø®Ø± ØŒ Ù‡Ù†Ø§Ùƒ <strong><code>Context</code></strong> .  Ù„ÙƒÙ† <strong><code>Context</code></strong> Ù…Ù†Ø®ÙØ¶ Ø¬Ø¯Ù‹Ø§: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø³ÙŠØ§Ù‚ Ø®Ø§Ø±Ø¬ Ø´Ø¬Ø±Ø© Ù…ÙƒÙˆÙ† React.  Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ ÙÙŠ Ø·Ø¨Ù‚Ø© Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„. </li><li style=";text-align:right;direction:rtl">  Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙƒØ«Ø± Ù…Ù† Ø³ÙŠØ§Ù‚ ÙÙŠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code><strong>Class.contextType</strong></code></a> .  Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© ØŒ Ø³ÙŠØªØ¹ÙŠÙ† Ø¹Ù„ÙŠÙ†Ø§ Ø¨Ù†Ø§Ø¡ "Ù‡Ø±Ù… Ø§Ù„Ø±Ø¹Ø¨" Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø¬Ø¯ÙŠØ¯Ø©: </li></ul><br><img src="https://habrastorage.org/webt/as/4r/2n/as4r2ncj0zh_2dmpoxbuahkio74.png"><br><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¬Ø¯ÙŠØ¯ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code><strong>useContext()</strong></code></a> Hook Ø¨ØªØµØ­ÙŠØ­ Ø§Ù„Ù…ÙˆÙ‚Ù Ù„Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© Ù‚Ù„ÙŠÙ„Ø§Ù‹.  Ù„ÙƒÙ†Ù†Ø§ Ù„Ù† Ù†ØªØ®Ù„Øµ Ù…Ù† Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† <strong><code>&lt;Context.Provider&gt;</code></strong> .  Ø­ØªÙ‰ Ù†Ø­ÙˆÙ„ Ø³ÙŠØ§Ù‚Ù†Ø§ Ø¥Ù„Ù‰ Ù…Ø­Ø¯Ø¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø®Ø¯Ù…Ø© ØŒ ÙˆØ§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø£ØµÙ„ÙŠ Ù„Ù‡ Ø¥Ù„Ù‰ Ø¬Ø°Ø± Ø§Ù„ØªÙƒÙˆÙŠÙ†.  ÙˆÙ„ÙƒÙ† Ù‡Ù†Ø§ Ù„ÙŠØ³ Ø¨Ø¹ÙŠØ¯Ù‹Ø§ Ø¹Ù† DI ØŒ Ù„Ø°Ù„Ùƒ Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø¨Ø¯Ø£! </p><br><blockquote style=";text-align:right;direction:rtl">  ÙŠÙ…ÙƒÙ†Ùƒ ØªØ®Ø·ÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙˆØµÙ Ø§Ù„Ø¨Ù†ÙŠØ©</a> </blockquote><br><h2 id="realizaciya-mehanizma-di" style=";text-align:right;direction:rtl">  ØªÙ†ÙÙŠØ° Ø¢Ù„ÙŠØ© DI </h2><br><p style=";text-align:right;direction:rtl">  Ø£ÙˆÙ„Ø§Ù‹ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø³ÙŠØ§Ù‚ Ø§Ù„ØªÙØ§Ø¹Ù„: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> InjectorContext= React.createContext(<span class="hljs-literal"><span class="hljs-literal">null</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù†Ø¸Ø±Ù‹Ø§ Ù„Ø£Ù† React ÙŠØ³ØªØ®Ø¯Ù… Ù…ÙÙ†Ø´Ø¦ Ø§Ù„Ù…ÙƒÙˆÙ† Ù„ØªÙ„Ø¨ÙŠØ© Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙ‡ ØŒ ÙØ³Ù†Ø³ØªØ®Ø¯Ù… Ø®Ø§ØµÙŠØ© Ø­Ù‚Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±.  Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ Ø­Ø¯Ø¯ <strong><code>@inject</code></strong> decorator ØŒ ÙˆØ§Ù„Ø°ÙŠ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ÙŠØ¹ÙŠÙ† Ø§Ù„Ø®Ø§ØµÙŠØ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code><strong>Class.contextType</strong></code></a> ØŒ </li><li style=";text-align:right;direction:rtl">  ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„ØªØ¨Ø¹ÙŠØ© </li><li style=";text-align:right;direction:rtl">  ÙŠØ¬Ø¯ ÙƒØ§Ø¦Ù† <strong><code>Injector</code></strong> ÙˆÙŠØ­Ù„ Ø§Ù„ØªØ¨Ø¹ÙŠØ©. </li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">inject.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"reflect-metadata"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">inject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">target, key</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  static cotextType target.constructor.contextType = InjectorContext; //    const type = Reflect.getMetadata("design:type", target, key); //  property Object.defineProperty(target, key, { configurable: true, enumerable: true, get() { //  Injector       const instance = getInstance(getInjector(this), type); Object.defineProperty(this, key, { enumerable: true, writable: true, value: instance }); return instance; }, // settet     Dependency Injection set(instance) { Object.defineProperty(this, key, { enumerable: true, writable: true, value: instance }); } }); }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ù†Ø§ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª Ø¨ÙŠÙ† Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„ØªØ¹Ø³ÙÙŠØ©: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { inject } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooService</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BarService</span></span></span><span class="hljs-class"> </span></span>{ @inject foo: FooService; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ @inject foo: FooService; @inject bar: BarService; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø£ÙˆÙ„Ø¦Ùƒ Ø§Ù„Ø°ÙŠÙ† Ù„Ø§ ÙŠÙ‚Ø¨Ù„ÙˆÙ† Ø§Ù„Ø¯ÙŠÙƒÙˆØ± ØŒ ÙØ¥Ù†Ù†Ø§ Ù†Ø­Ø¯Ø¯ ÙˆØ¸ÙŠÙØ© <strong><code>inject()</code></strong> Ø¨Ù‡Ø°Ø§ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">type Constructor&lt;T&gt; = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> (...args: any[]) =&gt; T; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">inject</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">T</span></span></span><span class="hljs-function">&gt;(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">target: Object, type: Constructor&lt;T&gt; | Function</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">T</span></span></span><span class="hljs-function">;</span></span></code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">inject.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">inject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">target, keyOrType</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isFunction(keyOrType)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getInstance(getInjector(target), keyOrType); } <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø³ÙŠØªÙŠØ­ Ù„Ùƒ Ø°Ù„Ùƒ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª Ø¨Ø´ÙƒÙ„ ØµØ±ÙŠØ­: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooService</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BarService</span></span></span><span class="hljs-class"> </span></span>{ foo = inject(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, FooService); } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ foo = inject(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, FooService); bar = inject(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, BarService); <span class="hljs-comment"><span class="hljs-comment">//   static contextType = InjectorContext; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù…Ø§Ø°Ø§ Ø¹Ù† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©ØŸ  Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù‡Ù… ÙŠÙ…ÙƒÙ†Ù†Ø§ ØªÙ†ÙÙŠØ° Hook <strong><code>useInstance()</code></strong> </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">hooks.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useRef, useContext } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">useInstance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ref = useRef(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> injector = useContext(InjectorContext); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ref.current || (ref.current = getInstance(injector, type)); }</code> </pre> </div></div><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useInstance } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MyComponent = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> foo = useInstance(FooService); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bar = useInstance(BarService); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† <strong><code>Injector</code></strong> ØŒ ÙˆÙƒÙŠÙÙŠØ© Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„ÙŠÙ‡ ØŒ ÙˆÙƒÙŠÙÙŠØ© Ø­Ù„ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª.  ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø§Ù„Ø­Ø§Ù‚Ù† Ø¹Ù„Ù‰ Ù…Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ø£ØµÙ„ ØŒ ÙˆØ°Ø§ÙƒØ±Ø© ØªØ®Ø²ÙŠÙ† Ù…Ø¤Ù‚Øª Ù„Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ù„Ù„ØªØ¨Ø¹ÙŠØ§Øª Ø§Ù„ØªÙŠ ØªÙ… Ø­Ù„Ù‡Ø§ Ø¨Ø§Ù„ÙØ¹Ù„ ØŒ ÙˆÙ‚Ø§Ù…ÙˆØ³ Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ù„Ù… ÙŠØªÙ… Ø­Ù„Ù‡Ø§. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">injector.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">type Binding = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">injector: Injector</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> abstract <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Injector</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    Injector _parent?: Injector; //    _bindingMap: Map&lt;Function, Binding&gt;; //      _instanceMap: Map&lt;Function, Object&gt;; }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù…ÙƒÙˆÙ†Ø§Øª <strong><code>this.context</code></strong> ØŒ ÙŠØªÙˆÙØ± <strong><code>Injector</code></strong> Ø®Ù„Ø§Ù„ Ø­Ù‚Ù„ <strong><code>this.context</code></strong> ØŒ ÙˆØ¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ÙØ¦Ø§Øª Ø§Ù„ØªØ¨Ø¹ÙŠØ© ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ ÙˆØ¶Ø¹ <strong><code>Injector</code></strong> Ù…Ø¤Ù‚ØªÙ‹Ø§ ÙÙŠ Ù…ØªØºÙŠØ± <strong><code>this.context</code></strong> .  Ù„ØªØ³Ø±ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø­Ù‚Ù† Ù„ÙƒÙ„ ÙØ¦Ø© ØŒ Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªØ®Ø²ÙŠÙ† Ø±Ø§Ø¨Ø· <strong><code>Injector</code></strong> Ù…Ø¤Ù‚ØªÙ‹Ø§ ÙÙŠ Ø­Ù‚Ù„ Ù…Ø®ÙÙŠ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">injector.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> INJECTOR = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span> === <span class="hljs-string"><span class="hljs-string">"function"</span></span> ? <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>() : <span class="hljs-string"><span class="hljs-string">"__injector__"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> currentInjector = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInjector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">target</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> injector = target[INJECTOR]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (injector) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> injector; } injector = currentInjector || target.context; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (injector <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> Injector) { target[INJECTOR] = injector; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> injector; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø±Ø¨Ø· Ù…Ø­Ø¯Ø¯Ø© ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØµØ¹ÙˆØ¯ Ø´Ø¬Ø±Ø© Ø§Ù„Ø­Ø§Ù‚Ù† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… <strong><code>getInstance()</code></strong> </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">injector.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInstance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">injector, type</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (injector) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> instance = injector._instanceMap.get(type); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (instance !== <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> binding = injector._bindingMap.get(type); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (binding) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prevInjector = currentInjector; currentInjector = injector; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { instance = binding(injector); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { currentInjector = prevInjector; } injector._instanceMap.set(type, instance); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; } injector = injector._parent; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>; }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø£Ø®ÙŠØ±Ù‹Ø§ ØŒ Ø¯Ø¹Ù†Ø§ Ù†Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª.  Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ HOC <strong><code>provider()</code></strong> ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠØ£Ø®Ø° Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ¨Ø¹ÙŠØ© ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§ØªÙ‡Ù… ØŒ ÙˆÙŠÙ‚ÙˆÙ… Ø¨ØªØ³Ø¬ÙŠÙ„ <strong><code>Injector</code></strong> Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø®Ù„Ø§Ù„ <strong><code>InjectorContext.Provider</code></strong> </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">provider.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> provider = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...definitions</span></span></span><span class="hljs-function">) =&gt;</span></span> Wrapped =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bindingMap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>(); addBindings(bindingMap, definitions); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Provider</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Injector</span></span></span><span class="hljs-class"> </span></span>{ _parent = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.context; _bindingMap = bindingMap; _instanceMap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>(); render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;InjectorContext.Provider value={this}&gt; &lt;Wrapped {...this.props} /&gt; &lt;/InjectorContext.Provider&gt; ); } static contextType = InjectorContext; static register(...definitions) { addBindings(bindingMap, definitions); } }; };</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ÙˆØ£ÙŠØ¶Ù‹Ø§ ØŒ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ù„Ø²Ù…Ø© Ø§Ù„ØªÙŠ ØªÙ†ÙØ° Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù…ØªÙ†ÙˆØ¹Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø«ÙŠÙ„Ø§Øª Ø§Ù„ØªØ¨Ø¹ÙŠØ©. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">bindings.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> toClass = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">constructor</span></span></span><span class="hljs-function"> =&gt;</span></span> asBinding(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">injector</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> instance = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(); if (!instance[INJECTOR]) { instance[INJECTOR] = injector; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; }); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> toFactory = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">depsOrFactory, factory</span></span></span><span class="hljs-function">) =&gt;</span></span> asBinding( factory ? <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">injector</span></span></span><span class="hljs-function"> =&gt;</span></span> factory(...depsOrFactory.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function"> =&gt;</span></span> getInstance(injector, type))) : depsOrFactory ); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> toExisting = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function"> =&gt;</span></span> asBinding(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">injector</span></span></span><span class="hljs-function"> =&gt;</span></span> getInstance(injector, type)); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> toValue = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function"> =&gt;</span></span> asBinding(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> value); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> IS_BINDING = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span> === <span class="hljs-string"><span class="hljs-string">"function"</span></span> ? <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>() : <span class="hljs-string"><span class="hljs-string">"__binding__"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asBinding</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">binding</span></span></span><span class="hljs-function">) </span></span>{ binding[IS_BINDING] = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> binding; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addBindings</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">bindingMap, definitions</span></span></span><span class="hljs-function">) </span></span>{ definitions.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">definition</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> token, binding; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.isArray(definition)) { [token, binding = token] = definition; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { token = binding = definition; } bindingMap.set(token, binding[IS_BINDING] ? binding : toClass(binding)); }); }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ù†Ø§ ØªØ³Ø¬ÙŠÙ„ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ¨Ø¹ÙŠØ© Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ù…ÙƒÙˆÙ† ØªØ¹Ø³ÙÙŠ ÙÙŠ Ø´ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø£Ø²ÙˆØ§Ø¬ <strong><code>[&lt;&gt;, &lt;&gt;]</code></strong> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { provider, toClass, toValue, toFactory, toExisting } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; @provider( <span class="hljs-comment"><span class="hljs-comment">//    [FirstService, toClass(FirstServiceImpl)], //     [SecondService, toValue(new SecondServiceImpl())], //    [ThirdService, toFactory( [FirstService, SecondService], (first, second) =&gt; ThirdServiceFactory.create(first, second) )], //      [FourthService, toExisting(FirstService)] ) class MyComponent extends React.Component { // ... }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø£Ùˆ ÙÙŠ Ø´ÙƒÙ„ Ù…Ø®ØªØµØ± Ù„Ù„ÙØµÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@provider( <span class="hljs-comment"><span class="hljs-comment">// [FirstService, toClass(FirstService)] FirstService, // [SecondService, toClass(SecondServiceImpl)] [SecondService, SecondServiceImpl] ) class MyComponent extends React.Component { // ... }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù†Ø¸Ø±Ù‹Ø§ Ù„Ø£Ù† Ø¹Ù…Ø± Ø§Ù„Ø®Ø¯Ù…Ø© ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© Ù…ÙƒÙˆÙ† Ø§Ù„Ù…Ø²ÙˆØ¯ Ø§Ù„Ø°ÙŠ ØªÙ… ØªØ³Ø¬ÙŠÙ„Ù‡ ÙÙŠÙ‡ ØŒ Ù„ÙƒÙ„ Ø®Ø¯Ù…Ø© ÙŠÙ…ÙƒÙ†Ù†Ø§ ØªØ­Ø¯ÙŠØ¯ Ø·Ø±ÙŠÙ‚Ø© ØªÙ†Ø¸ÙŠÙ <strong><code>.dispose()</code></strong> .  ÙÙŠ Ø°Ù„Ùƒ ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ù…Ù† Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ØŒ ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…Ù‚Ø§Ø¨Ø³ ØŒ Ø¥Ù„Ø®.  Ø¹Ù†Ø¯Ù…Ø§ ØªÙ‚ÙˆÙ… Ø¨Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…ÙˆÙØ± Ù…Ù† DOM ØŒ ÙØ³ÙˆÙ ÙŠØªØµÙ„ <strong><code>.dispose()</code></strong> Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙ†Ø´Ø¦Ù‡Ø§. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">provider.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> provider = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...definitions</span></span></span><span class="hljs-function">) =&gt;</span></span> Wrapped =&gt; { <span class="hljs-comment"><span class="hljs-comment">// ... return class Provider extends Injector { // ... componentWillUnmount() { this._instanceMap.forEach(instance =&gt; { if (isObject(instance) &amp;&amp; isFunction(instance.dispose)) { instance.dispose(); } }); } // ... }; };</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ù„ÙØµÙ„ Ø§Ù„Ø´ÙØ±Ø© ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø·ÙŠØ¡ ØŒ Ù‚Ø¯ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¹ÙƒØ³ Ø·Ø±ÙŠÙ‚Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ù…Ø¹ Ù…Ù‚Ø¯Ù…ÙŠ Ø§Ù„Ø®Ø¯Ù…Ø§Øª.  Ø³ÙˆÙ <strong><code>@registerIn()</code></strong> decoratorregisterIn <strong><code>@registerIn()</code></strong> Ù‡Ø°Ø§. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">provider.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registrationQueue = []; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registerIn = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getProvider, binding</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> =&gt; { registrationQueue.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { getProvider().register(binding ? [<span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>, binding] : <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>); }); return <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>; };</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">injector.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInstance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">injector, type</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (registrationQueue.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { registrationQueue.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">registration</span></span></span><span class="hljs-function"> =&gt;</span></span> { registration(); }); registrationQueue.length = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (injector) { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> </div></div><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { registerIn } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { HomePage } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../components/HomePage"</span></span>; @registerIn(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> HomePage) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyLazyLoadedService</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre> <br><img src="https://habrastorage.org/webt/gu/w5/d-/guw5d-sj0h53wnapsftgqeqnvvg.png"><br><p style=";text-align:right;direction:rtl">  Ù„Ø°Ù„Ùƒ ØŒ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ø¥Ù„Ù‰ 150 Ø³Ø·Ø±Ù‹Ø§ Ùˆ 1 ÙƒÙŠÙ„ÙˆØ¨Ø§ÙŠØª Ù…Ù† Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ·Ø¨ÙŠÙ‚ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø­Ø§ÙˆÙŠØ© DI</a> ÙƒØ§Ù…Ù„Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„Ù‡Ø±Ù…ÙŠ</a> . </p><br><h2 id="arhitektura-prilozheniya" style=";text-align:right;direction:rtl">  Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ </h2><br><p style=";text-align:right;direction:rtl">  Ø£Ø®ÙŠØ±Ù‹Ø§ ØŒ Ø¯Ø¹Ù†Ø§ Ù†Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ - ÙƒÙŠÙÙŠØ© ØªÙ†Ø¸ÙŠÙ… Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.  Ù‡Ù†Ø§Ùƒ Ø«Ù„Ø§Ø«Ø© Ø®ÙŠØ§Ø±Ø§Øª Ù…Ù…ÙƒÙ†Ø© ØŒ Ø§Ø¹ØªÙ…Ø§Ø¯Ù‹Ø§ Ø¹Ù„Ù‰ Ø­Ø¬Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØªØ¹Ù‚ÙŠØ¯ Ù…Ø¬Ø§Ù„ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ ÙˆØ§Ù„ÙƒØ³Ù„ Ù„Ø¯ÙŠÙ†Ø§. </p><br><h3 id="1-the-ugly" style=";text-align:right;direction:rtl">  1. Ø§Ù„Ù‚Ø¨ÙŠØ­ </h3><br><p style=";text-align:right;direction:rtl">  Ù„Ø¯ÙŠÙ†Ø§ DOM Ø§Ù„Ø¸Ø§Ù‡Ø±ÙŠ ØŒ Ù…Ù…Ø§ ÙŠØ¹Ù†ÙŠ Ø£Ù†Ù‡ ÙŠÙ†Ø¨ØºÙŠ Ø£Ù† ÙŠÙƒÙˆÙ† Ø³Ø±ÙŠØ¹Ù‹Ø§.  Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù…Ø¹ Ù‡Ø°Ù‡ Ø§Ù„ØµÙ„ØµØ© ØŒ ØªÙ… ØªÙ‚Ø¯ÙŠÙ… React ÙÙŠ ÙØ¬Ø± Ù…Ù‡Ù†Ø©.  Ù„Ø°Ù„Ùƒ ØŒ ÙÙ‚Ø· ØªØ°ÙƒØ± Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø¬Ø°Ø± (Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… <strong><code>@observer</code></strong> decorator).  ÙˆØ³ÙˆÙ Ù†Ø¯Ø¹Ùˆ <strong><code>.forceUpdate()</code></strong> Ø¹Ù„ÙŠÙ‡ Ø¨Ø¹Ø¯ ÙƒÙ„ Ø¥Ø¬Ø±Ø§Ø¡ ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© (Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… <strong><code>@action</code></strong> decorator) </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">observer.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">observer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Wrapped</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Observer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { observerRef = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } componentWillUnmount() { observerRef = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Wrapped</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...this.props</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml">; } } } let observerRef = null;</span></span></code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">action.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">action</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_target, _key, descriptor</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> method = descriptor.value; descriptor.value = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> result; runningCount++; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { result = method.apply(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { runningCount--; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (runningCount === <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; observerRef) { observerRef.forceUpdate(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }; } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> runningCount = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> </div></div><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ @action doSomething() {} } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ @inject userService: UserService; } @provider(UserService) @observer <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø³ÙˆÙ ØªØ¹Ù…Ù„ Ø­ØªÙ‰.  Ù„ÙƒÙ† ... Ø£Ù†Øª Ù†ÙØ³Ùƒ ØªÙÙ‡Ù… :-) </p><br><h3 id="2-the-bad" style=";text-align:right;direction:rtl">  2. Ø§Ù„Ø³ÙŠØ¦Ø© </h3><br><p style=";text-align:right;direction:rtl">  Ù†Ø­Ù† ØºÙŠØ± Ø±Ø§Ø¶ÙŠÙ† Ø¹Ù† ØªÙ‚Ø¯ÙŠÙ… ÙƒÙ„ Ø´ÙŠØ¡ Ù„ÙƒÙ„ Ø¹Ø·Ø³.  Ù„ÙƒÙ†Ù†Ø§ Ù…Ø§ Ø²Ù„Ù†Ø§ Ù†Ø±ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… <del>  ØªÙ‚Ø±ÙŠØ¨Ø§ </del>  Ø§Ù„Ø£Ø¬Ø³Ø§Ù… ÙˆØ§Ù„Ù…ØµÙÙˆÙØ§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø­Ø§Ù„Ø©.  Ù„Ù†Ø£Ø®Ø° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">MobX</a> ! </p><br><p style=";text-align:right;direction:rtl">  Ù†Ø¨Ø¯Ø£ ÙÙŠ ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable, action } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserStore</span></span></span><span class="hljs-class"> </span></span>{ byId = observable.map&lt;number, User&gt;(); @action add(user: User) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.byId.set(user.id, user); } <span class="hljs-comment"><span class="hljs-comment">// ... } export class PostStore { // ... }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù†Ø®Ø±Ø¬ Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ØŒ I / O ØŒ Ø¥Ù„Ø® Ø¥Ù„Ù‰ Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { action } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { inject } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AccountService</span></span></span><span class="hljs-class"> </span></span>{ @inject userStore userStore; @action updateUserInfo(userInfo: Partial&lt;User&gt;) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> user = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userStore.byId.get(userInfo.id); <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign(user, userInfo); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙˆÙ†Ù‚ÙˆÙ… Ø¨ØªÙˆØ²ÙŠØ¹Ù‡Ø§ ÙÙŠ Ù…ÙƒÙˆÙ†Ø§Øª: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { provider, inject } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; @provider(UserStore, PostStore) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{} @provider(AccountService) @observer <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AccountPage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span></span>{} @observer <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ @inject accountService: AccountService; }</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ø´ÙŠØ¡ Ù†ÙØ³Ù‡ ÙŠÙ†Ø·Ø¨Ù‚ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© ÙˆØ¨Ø¯ÙˆÙ† Ø§Ù„Ø¯ÙŠÙƒÙˆØ±</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { action } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { inject } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AccountService</span></span></span><span class="hljs-class"> </span></span>{ userStore = inject(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, UserStore); updateUserInfo = action(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">userInfo: Partial&lt;User&gt;</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> user = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userStore.byId.get(userInfo.id); <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign(user, userInfo); }); }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react-lite"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { provider, useInstance } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = provider(UserStore, PostStore)(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ... }); const AccountPage = provider(AccountService)(observer(props =&gt; { // ... })); const UserFrom = observer(props =&gt; { const accountService = useInstance(AccountService); // ... });</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ÙˆØ§Ù„Ù†ØªÙŠØ¬Ø© Ù‡ÙŠ Ø¨Ù†ÙŠØ© ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª. </p><br><h3 id="3-the-good" style=";text-align:right;direction:rtl">  3. Ø§Ù„Ø®ÙŠØ± </h3><br><p style=";text-align:right;direction:rtl">  ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø­ÙŠØ§Ù† ÙŠØµØ¨Ø­ Ù…Ø¬Ø§Ù„ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø¹Ù‚Ø¯Ù‹Ø§ Ù„Ø¯Ø±Ø¬Ø© Ø£Ù†Ù‡ Ù…Ù† ØºÙŠØ± Ø§Ù„Ù…Ø±ÙŠØ­ Ø¨Ø§Ù„ÙØ¹Ù„ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒØ§Ø¦Ù†Ø§Øª Ø¨Ø³ÙŠØ·Ø© (Ø£Ùˆ Ù†Ù…ÙˆØ°Ø¬ ÙÙ‚Ø± Ø§Ù„Ø¯Ù… Ù…Ù† Ø­ÙŠØ« DDD).  ÙŠÙƒÙˆÙ† Ù‡Ø°Ø§ Ù…Ù„Ø­ÙˆØ¸Ù‹Ø§ Ø¨Ø´ÙƒÙ„ Ø®Ø§Øµ Ø¹Ù†Ø¯Ù…Ø§ ØªØ­ØªÙˆÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø¨Ù†ÙŠØ© Ø¹Ù„Ø§Ø¦Ù‚ÙŠØ© Ø¨Ù‡Ø§ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª.  ÙÙŠ Ù…Ø«Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø§Øª ØŒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ØªÙ†Ù‚Ø°</a> Ù…ÙƒØªØ¨Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">MobX State Tree</a> ØŒ Ù…Ù…Ø§ ÙŠØ³Ù…Ø­ Ù„Ùƒ Ø¨ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø¯ÙÙˆØ¹ Ø¨Ø§Ù„Ù…Ø¬Ø§Ù„ ÙÙŠ Ø¨Ù†ÙŠØ© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©. </p><br><p style=";text-align:right;direction:rtl">  ÙŠØ¨Ø¯Ø£ ØªØµÙ…ÙŠÙ… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨ÙˆØµÙ Ù„Ù„Ø£Ù†ÙˆØ§Ø¹: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// models/Post.ts import { types as t, Instance } from "mobx-state-tree"; export const Post = t .model("Post", { id: t.identifier, title: t.string, body: t.string, date: t.Date, rating: t.number, author: t.reference(User), comments: t.array(t.reference(Comment)) }) .actions(self =&gt; ({ voteUp() { self.rating++; }, voteDown() { self.rating--; }, addComment(comment: Comment) { self.comments.push(comment); } })); export type Post = Instance&lt;typeof Post&gt;;</span></span></code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ù†Ù…Ø§Ø°Ø¬ / User.ts</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { types <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> t, Instance } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-state-tree"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> User = t.model(<span class="hljs-string"><span class="hljs-string">"User"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: t.identifier, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: t.string }); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> type User = Instance&lt;<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> User&gt;;</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ù†Ù…Ø§Ø°Ø¬ / ØªØ¹Ù„ÙŠÙ‚</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { types <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> t, Instance } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-state-tree"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { User } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./User"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Comment = t .model(<span class="hljs-string"><span class="hljs-string">"Comment"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: t.identifier, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: t.string, <span class="hljs-attr"><span class="hljs-attr">date</span></span>: t.Date, <span class="hljs-attr"><span class="hljs-attr">rating</span></span>: t.number, <span class="hljs-attr"><span class="hljs-attr">author</span></span>: t.reference(User) }) .actions(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">self</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ voteUp() { self.rating++; }, voteDown() { self.rating--; } })); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> type Comment = Instance&lt;<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> Comment&gt;;</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ÙˆÙ†ÙˆØ¹ Ù…Ø®Ø²Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// models/index.ts import { types as t } from "mobx-state-tree"; export { User, Post, Comment }; export default t.model({ users: t.map(User), posts: t.map(Post), comments: t.map(Comment) });</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ØªØ­ØªÙˆÙŠ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø­Ø§Ù„Ø© Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¬Ø§Ù„ ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ø¹Ù‡.  ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ù‹Ø§ ØŒ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ I / O ØŒ ÙÙŠ Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø®Ø¯Ù…Ø§Øª / DataContext.ts</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Instance, unprotect } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-state-tree"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Models <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../models"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataContext</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> create() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> models = Models.create(); unprotect(models); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> models; } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface DataContext extends Instance&lt;<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> Models&gt; {}</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø®Ø¯Ù…Ø§Øª / AuthService.ts</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { User } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../models"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AuthService</span></span></span><span class="hljs-class"> </span></span>{ @observable currentUser: User; }</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ø®Ø¯Ù…Ø§Øª / PostService.ts</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { inject } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { action } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Post } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../models"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostService</span></span></span><span class="hljs-class"> </span></span>{ @inject dataContext: DataContext; @inject authService: AuthService; <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> publishPost(postInfo: Partial&lt;Post&gt;) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fetch(<span class="hljs-string"><span class="hljs-string">"/posts"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">"POST"</span></span>, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(postInfo) }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { id } = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> response.json(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.savePost(id, postInfo); } @action savePost(id: string, <span class="hljs-attr"><span class="hljs-attr">postInfo</span></span>: Partial&lt;Post&gt;) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> post = Post.create({ id, <span class="hljs-attr"><span class="hljs-attr">rating</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">date</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(), <span class="hljs-attr"><span class="hljs-attr">author</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.authService.currentUser.id, <span class="hljs-attr"><span class="hljs-attr">comments</span></span>: [], ...postInfo }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.dataContext.posts.put(post); } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ù…ÙŠØ²Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ MobX State Tree Ù‡ÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙØ¹Ø§Ù„ Ù…Ø¹ Ù„Ù‚Ø·Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.  ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠØ© Ù„Ø£ÙŠ ÙƒÙŠØ§Ù† Ø£Ùˆ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ùˆ Ø­ØªÙ‰ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø£ÙƒÙ…Ù„Ù‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ¸ÙŠÙØ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code><strong>getSnapshot()</strong></code></a> .  ÙˆØ¨Ù†ÙØ³ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„Ù‚Ø·Ø© Ø¹Ù„Ù‰ Ø£ÙŠ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code><strong>applySnapshot()</strong></code></a> .  ÙŠØªÙŠØ­ Ù„Ù†Ø§ Ø°Ù„Ùƒ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙÙŠ Ø¹Ø¯Ø© Ø³Ø·ÙˆØ± Ù…Ù† Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ø£Ùˆ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† LocalStorage Ø£Ùˆ Ø­ØªÙ‰ Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹Ù‡Ø§ Ù…Ù† Ø®Ù„Ø§Ù„ Redux DevTools. </p><br><p style=";text-align:right;direction:rtl">  Ø¨Ù…Ø§ Ø£Ù†Ù†Ø§ Ù†Ø³ØªØ®Ø¯Ù… Ù†Ù…ÙˆØ°Ø¬Ù‹Ø§ Ø¹Ù„Ø§Ø¦Ù‚ÙŠÙ‹Ø§ Ø·Ø¨ÙŠØ¹ÙŠÙ‹Ø§ ØŒ ÙØ¥Ù†Ù†Ø§ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…ÙƒØªØ¨Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">normalizr</a> Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.  ÙŠØ³Ù…Ø­ Ù„Ùƒ Ø¨ØªØ±Ø¬Ù…Ø© Ø´Ø¬Ø±Ø© JSON Ø¥Ù„Ù‰ Ø¬Ø¯Ø§ÙˆÙ„ Ù…Ø³Ø·Ø­Ø© Ù„Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ù…Ø¬Ù…Ø¹Ø© Ø­Ø³Ø¨ <strong><code>id</code></strong> ØŒ ÙˆÙÙ‚Ù‹Ø§ Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.  ÙÙ‚Ø· Ø¨Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø°ÙŠ ØªØ­ØªØ§Ø¬Ù‡ MobX State Tree ÙƒÙ‚Ø·Ø©. </p><br><p style=";text-align:right;direction:rtl">  Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ Ø­Ø¯Ø¯ Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„ØªÙŠ ØªÙ… ØªÙ†Ø²ÙŠÙ„Ù‡Ø§ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { schema } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"normalizr"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> UserSchema = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> schema.Entity(<span class="hljs-string"><span class="hljs-string">"users"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CommentSchema = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> schema.Entity(<span class="hljs-string"><span class="hljs-string">"comments"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">author</span></span>: UserSchema }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PostSchema = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> schema.Entity(<span class="hljs-string"><span class="hljs-string">"posts"</span></span>, { <span class="hljs-comment"><span class="hljs-comment">//   - //      author: UserSchema, comments: [CommentSchema] }); export { UserSchema, PostSchema, CommentSchema };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ†: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { inject } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { normalize } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"normalizr"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { applySnapshot } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-state-tree"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostService</span></span></span><span class="hljs-class"> </span></span>{ @inject dataContext: DataContext; <span class="hljs-comment"><span class="hljs-comment">// ... async loadPosts() { const response = await fetch("/posts.json"); const posts = await response.json(); const { entities } = normalize(posts, [PostSchema]); applySnapshot(this.dataContext, entities); } // ... }</span></span></code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">posts.json</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">123</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"    React"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"body"</span></span>: <span class="hljs-string"><span class="hljs-string">"  -     React..."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"date"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-12-10T18:18:58.512Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"rating"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"John Doe"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"comments"</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">1234</span></span>, <span class="hljs-attr"><span class="hljs-attr">"text"</span></span>: <span class="hljs-string"><span class="hljs-string">"Hmmm..."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"date"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-12-10T18:18:58.512Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"rating"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"John Doe"</span></span> } }] }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">234</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Lorem ipsum"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"body"</span></span>: <span class="hljs-string"><span class="hljs-string">"Lorem ipsum dolor sit amet..."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"date"</span></span>: <span class="hljs-string"><span class="hljs-string">"2018-12-10T18:18:58.512Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"rating"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Marcus Tullius Cicero"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"comments"</span></span>: [] } ]</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø£Ø®ÙŠØ±Ù‹Ø§ ØŒ Ø³Ø¬Ù„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙÙŠ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { provider, inject } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-ioc"</span></span>; @provider(AuthService, PostService, [ DataContext, toFactory(DataContext.create) ]) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ @inject postService: PostService; componentDidMount() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.postService.loadPosts(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù„Ù‚Ø¯ Ø¸Ù‡Ø± ÙƒÙ„ Ù†ÙØ³ Ø¨Ù†ÙŠØ© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø© ØŒ ÙˆÙ„ÙƒÙ† Ù…Ø¹ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„ÙˆÙ‚Øª Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ÙÙŠ ÙˆØ¶Ø¹ DEV).  ÙŠØªÙŠØ­ Ù„Ùƒ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø®ÙŠØ± Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ù‡ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ø³ØªØ«Ù†Ø§Ø¡ ØŒ ÙØ¥Ù† Ø­Ø§Ù„Ø© Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª. </p><br><img src="https://habrastorage.org/webt/po/3u/vi/po3uvia2jujcg9q7w1ptr8kvwzk.png"><br><p style=";text-align:right;direction:rtl"><br></p><br><hr><br><p style=";text-align:right;direction:rtl">  Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø£ÙˆÙ„Ø¦Ùƒ Ø§Ù„Ø°ÙŠÙ† ÙƒØ§Ù†ÙˆØ§ Ù…Ù‡ØªÙ…ÙŠÙ† ØŒ ÙˆØµÙ„Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù„Ø¬ÙŠØ«Ø¨ ÙˆØ§Ù„Ø¹Ø±Ø¶</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar431942/">https://habr.com/ru/post/ar431942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar431932/index.html">Fort Byte Car (ÙˆØ£ÙƒØ«Ø±) Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø£ØµÙ„ÙŠØ©</a></li>
<li><a href="../ar431934/index.html">ÙƒÙŠÙ ÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©ØŸ Ù…Ø­Ø§Ø¶Ø±Ø© Ù„Ø¥ÙŠØ¬ÙˆØ± Ø¨ÙˆØ¯Ù†ÙŠÙƒÙˆÙ Ù…Ù† ABBYY</a></li>
<li><a href="../ar431936/index.html">Ù†ØªØ§Ø¦Ø¬ Ù…Ø³Ø§Ø¨Ù‚Ø© TechnoText</a></li>
<li><a href="../ar431938/index.html">Ø¹Ø¯Ø¯ ØµØ­ÙŠØ­ Ù…ÙƒØ¹Ø¨ Ø§Ù„Ø¬Ø°Ø± ÙÙŠ ÙÙŠØ±ÙŠÙ„ÙˆØ¬</a></li>
<li><a href="../ar431940/index.html">ÙŠØ­ØªØ±Ù‚ Ø§Ù„Ù†Ø§Ø³ Ø¥Ø°Ø§ Ù„Ù… ÙŠØ´Ø¹Ø±ÙˆØ§ Ø¨Ù‚ÙŠÙ…ØªÙ‡Ø§. Ù…Ø§Ø°Ø§ ØªÙØ¹Ù„ Ø­ÙŠØ§Ù„ Ø°Ù„ÙƒØŸ</a></li>
<li><a href="../ar431944/index.html">Yealink Server Server 2.0 - Ù…ÙŠØ²Ø§Øª Ù…Ø¤ØªÙ…Ø±Ø§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</a></li>
<li><a href="../ar431946/index.html">Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£Ù…Ø§Ù† 49: Ø§Ù„Ù‚Ø±ØµÙ†Ø© Dell Ùˆ Marriott</a></li>
<li><a href="../ar431948/index.html">Ù‚Ø§Ù… Deep Mind Ø¨ØªØ¯Ø±ÙŠØ³ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹Ù‰ Ø§Ù„Ø®Ø§Øµ Ø¨Ù‡ Ù„ØªÙˆÙ‚Ø¹ ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ†</a></li>
<li><a href="../ar431950/index.html">ÙƒÙŠÙÙŠØ© Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ø·Ù„Ø¨ ÙˆØ£ØªÙ…ØªØ© Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ: Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙˆØ²ÙˆÙ†</a></li>
<li><a href="../ar431954/index.html">Ù†Ø§Ø¦Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ Ø§Ù„Ø³Ø§Ø¨Ù‚ Ù„Ø´Ø±ÙƒØ© Sun Ùˆ DEC ÙŠØµØ¨Ø­ Ø±Ø¦ÙŠØ³ MIPS / Wave ØŒ ÙˆÙŠØªØ­Ø¯Ø« Ø¹Ù† Ø±ÙˆØ³ÙŠØ§ Ùˆ RISC / V</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>