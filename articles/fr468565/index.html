<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥚 🖍️ 🐍 Compteur Geiger fait maison sur ESP8266 avec écran tactile 💋 🏴󠁧󠁢󠁳󠁣󠁴󠁿 🤴🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'ai développé et assemblé un compteur Geiger - un appareil capable de détecter les rayonnements ionisants et d'alerter des niveaux de rayonnement dan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Compteur Geiger fait maison sur ESP8266 avec écran tactile</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468565/"><img src="https://habrastorage.org/getpro/habr/post_images/650/360/fd5/650360fd506acae96fbb30848cb66ed7.jpg"><br><br>  J'ai développé et assemblé un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">compteur Geiger</a> - un appareil capable de détecter les rayonnements ionisants et d'alerter des niveaux de rayonnement dangereux dans l'environnement avec des clics familiers.  Il peut également être utilisé pour rechercher des minéraux et déterminer si du minerai d'uranium se trouve dans la pierre que vous avez trouvée! <br><br>  Sur Internet, vous pouvez trouver de nombreux kits prêts à l'emploi et des instructions pour assembler un compteur Geiger, mais je voulais faire quelque chose d'unique - et j'ai développé un affichage GUI avec des commandes tactiles et un bel affichage d'informations sur l'écran. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/33f/34b/7f7/33f34b7f76a759713017374d205170ac.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/827/fcb/82e/827fcb82e63224e6fcc9c5cf558617cb.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/30b/96c/aa7/30b96caa7c0676f168a09fdcf7fe1451.jpg"><br><br><h2>  Étape 1: théorie de base </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/98d/4de/692/98d4de6922e5d65ec8480c8b891ff7e9.jpg"><br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/f1a/fb8/83a/f1afb883abbd4342358dd93f7d2ededd.jpg"></a> <br><br>  Le principe de fonctionnement du compteur Geiger est simple.  Un tube à paroi mince contenant du gaz à basse pression à l'intérieur (tube Geiger-Muller) est exposé à un courant haute tension.  Le champ électrique généré n'est pas suffisant pour une panne diélectrique, donc le courant ne circule pas dans le tube - jusqu'à ce que le photon du rayonnement ionisant le traverse. <br><br>  Lorsque le rayonnement bêta ou gamma traverse le tube, il peut ioniser une partie des molécules de gaz à l'intérieur, ce qui entraîne l'apparition d'électrons libres et d'ions positifs.  Les particules commencent à se déplacer sous l'influence d'un champ électrique et les électrons gagnent suffisamment de vitesse pour commencer à ioniser d'autres molécules, ce qui conduit à une cascade de particules chargées qui commencent à conduire le courant pendant une courte période.  Cette brève impulsion de courant peut être détectée en utilisant le schéma ci-dessus, qui crée un son de clic ou, comme dans ce cas, transfère des informations au microcontrôleur, qui peut effectuer des calculs avec ces données. <br><br>  J'utilise le tube SBM-20 Geiger-Muller car il est facile à trouver sur eBay et il est assez sensible aux rayonnements bêta et gamma. <br><br><h2>  Étape 2: pièces et assemblage </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/c3a/aa5/474/c3aaa5474efc0433aef984895453c9ea.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b98/afc/e91/b98afce91026a6fcc105434dec1249a8.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/189/565/b10/189565b109e82dde2d06b6505034f04f.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3b/e60/175/c3be60175e187dc11c1f2ba0a78b6586.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f1a/fb8/83a/f1afb883abbd4342358dd93f7d2ededd.jpg"><br><br>  En tant que cerveau du projet, j'ai utilisé la carte NodeMCU avec le microcontrôleur ESP8266.  Je voulais prendre quelque chose qui pourrait être programmé comme Arduino, et qui serait assez rapide pour rendre l'image à l'écran sans délai. <br><br>  Pour fournir la haute tension, j'ai utilisé un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">transformateur avec Aliexpress</a> - il fournit 400 V au tube Geiger-Muller.  Gardez à l'esprit que lors de la vérification de la tension de sortie, elle ne peut pas être mesurée directement avec un multimètre - si l'impédance est trop faible, la tension chutera et les lectures seront inexactes.  Faites un diviseur de tension avec une résistance d'au moins 100 mégohms en série avec le multimètre. <br><br>  L'appareil est alimenté par une batterie 18650, via un autre transformateur qui fournit une tension stable de 4,2 V au circuit restant. <br><br>  Voici une liste de tous les composants nécessaires: <br><br><ul><li>  Combiné SBM-20 GM (recherche sur eBay). </li><li>  Transformateur haute tension ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AliExpress</a> ). </li><li>  Transformateur pour 4.2V ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AliExpress</a> ). </li><li>  Carte NodeMCU esp8266 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazon</a> ). </li><li>  Écran tactile SPI 2,8 "( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazon</a> ). </li><li>  Batterie 18650 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazon</a> ) ou toute batterie LiPo 3,7 V (500+ mAh). </li><li>  Support de batterie 18650 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazon</a> ).  Ce support s'est avéré trop gros pour la planche, et j'ai dû plier les contacts vers l'intérieur.  Je recommande de prendre une batterie LiPo plus petite et de souder les fils du connecteur JST aux contacts d'alimentation sur la carte. </li></ul><br>  Divers composants électroniques: <br><br><ul><li>  Résistances à 330, 1K, 10K, 22K, 100K, 1,8M, 3M Ohms.  Pour créer un diviseur de tension, des résistances de 10 MΩ sont également nécessaires. </li><li>  Condensateurs: 220 pF. </li><li>  Transistors: 2N3904. </li><li>  LED 3 mm. </li><li>  Tweeter: tout élément piézoélectrique sur 12-17 mm. </li><li>  Porte-fusible 6,5 x 32 (pour un montage fiable du tube). </li><li>  Interrupteur 12 mm. </li></ul><br>  Sur mon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub,</a> j'ai posté le schéma en PDF - il montre comment connecter tous les composants.  Il est très probablement moins cher de les commander auprès de grossistes comme DigiKey ou LCSC.  GitHub a une plaque signalétique avec ma commande avec LCSC pour la plupart des composants. <br><br>  Il n'est pas nécessaire de fabriquer une carte, mais avec elle, l'assemblage du circuit devient plus facile et plus précis.  J'ai également posté les fichiers Gerber pour le forum sur GitHub.  Après avoir reçu la carte terminée, j'ai fait plusieurs corrections dans le circuit, donc des cavaliers supplémentaires dans le nouveau circuit ne sont pas nécessaires - bien que je ne les ai pas vérifiés. <br><br>  Le boîtier est imprimé sur une imprimante 3D en plastique PLA, ils peuvent être <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">téléchargés ici</a> .  J'ai modifié les fichiers CAO en ajoutant des trous pour fixer une nouvelle carte.  Tout devrait fonctionner, même si je ne l'ai pas testé. <br><br><h2>  Étape 3: code et interface utilisateur </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/aa0/a91/f17/aa0a91f174cb4735eaf3d48a2f5465d3.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f26/e6e/4ba/f26e6e4baf710966347d702bf850de83.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf7/b40/6a7/cf7b406a7168b029bfa58a78879aca35.jpg"><br><br>  Pour créer l'interface d'affichage, j'ai utilisé la bibliothèque Adafruit GFX.  Le code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est publié sur GitHub</a> . <br><br>  La page principale de l'interface affiche la dose actuelle, le nombre d'opérations par minute et la dose totale accumulée depuis la mise sous tension de l'appareil.  L'utilisateur peut basculer entre la sommation rapide et lente, en changeant l'intervalle de calcul des sommes intermédiaires de 3 à 60 secondes.  Le squeaker et la LED peuvent être allumés et éteints séparément. <br><br>  Il existe un menu de paramètres de base qui permet à l'utilisateur de modifier l'unité de dose, le seuil d'avertissement et le facteur d'étalonnage, qui relie le nombre d'opérations par minute et le débit de dose.  Tous les paramètres sont enregistrés dans l'EEPROM et restaurés après un redémarrage. <br><br><h2>  Étape 4: vérification et conclusion </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/827/fcb/82e/827fcb82e63224e6fcc9c5cf558617cb.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/30b/96c/aa7/30b96caa7c0676f168a09fdcf7fe1451.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/aa0/a91/f17/aa0a91f174cb4735eaf3d48a2f5465d3.jpg"><br><br>  Le compteur Geiger est déclenché 15 à 30 fois par minute à partir du rayonnement de fond naturel, qui est attendu du tube SBM-20.  Un petit échantillon de minerai d'uranium est enregistré comme modérément radioactif, à environ 400 clics par minute, et une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lampe au thorium</a> peut faire enregistrer au compteur 5 000 clics par minute, si vous le gardez près de lui! <br><br>  Le compteur consomme 180 mA à 3,7 V, donc une batterie de 2000 mAh devrait durer environ 11 heures. <br><br>  J'ai l'intention d'étalonner avec précision le tube sur une source standard de césium-137, ce qui rendra les lectures plus précises.  Les améliorations futures incluent la prise en charge du WiFi et l'enregistrement des données, car l'ESP8266 dispose du WiFi intégré. <br><br>  J'espère que vous avez trouvé mon projet intéressant! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/rmFnbVB5gCM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468565/">https://habr.com/ru/post/fr468565/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468555/index.html">Introduction aux assemblages déterministes en C / C ++. 2e partie</a></li>
<li><a href="../fr468557/index.html">WEB 3.0 - la deuxième approche du projectile</a></li>
<li><a href="../fr468559/index.html">Sauvegardez le cloud, amis</a></li>
<li><a href="../fr468561/index.html">Semaine de la sécurité 39: erreurs de sécurité et banales</a></li>
<li><a href="../fr468563/index.html">Watchmen Watch: L'état actuel des installations de suivi spatial</a></li>
<li><a href="../fr468573/index.html">postgres_exporter et surveillance des instances PostgreSQL avec plusieurs bases de données</a></li>
<li><a href="../fr468577/index.html">Patch'ti - ne compte pas: l'histoire de la gestion des patchs dans les visages et les couleurs</a></li>
<li><a href="../fr468581/index.html">Partagez, pêchez, rapidement et complètement</a></li>
<li><a href="../fr468583/index.html">Exemples de jeu des ordres «venez à la rescousse» (analyse d'une dizaine d'incidents avec des exemples)</a></li>
<li><a href="../fr468589/index.html">Comment organiser le travail sur une bibliothèque de composants communs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>