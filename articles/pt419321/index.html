<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐣 👳 ™️ SamsPcbGuide Parte 7: Rastreando linhas de sinal. Pares diferenciais 🍷 🤵🏽 🚴🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este é o sétimo artigo da série e termina em um bloco dedicado ao rastreamento de linhas de sinal. Além disso, existe uma idéia para desenvolver o pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SamsPcbGuide Parte 7: Rastreando linhas de sinal. Pares diferenciais</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419321/">  Este é o sétimo artigo da série e termina em um bloco dedicado ao rastreamento de linhas de sinal.  Além disso, existe uma idéia para desenvolver o projeto e ir para o manual sobre o design de placas de circuito impresso na forma de um livro conveniente, para que a publicação seja possível.  haverá uma pausa.  O artigo discute um tópico importante - o esquema de transmissão de dados diferenciais, cada vez mais difundido nos sistemas modernos, e oferece recomendações para o rastreamento de pares diferenciais, o que permite garantir as vantagens desse esquema. <a name="habracut"></a><br><br>  No <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">anterior</a> , foi mostrado que o acoplamento cruzado entre linhas de sinal independentes é uma fonte de interferência indesejada.  No entanto, no caso de um esquema de transmissão diferencial, o forte acoplamento cruzado, ao contrário, torna o sinal mais resistente a interferências.  Neste esquema, duas linhas são usadas (par diferencial), cujas fontes de sinal estão na fase antifase, e o receptor responde à diferença de tensão nas linhas V <sub>DIFF</sub> = V <sub>+</sub> -V <sub>-</sub> (Fig. 1).  O sinal do modo comum (sinal comum em inglês) é definido como V <sub>COMM</sub> = 1/2 ∙ (V <sub>+</sub> + V <sub>-</sub> ) e pode ser diferente de zero, por exemplo, como no padrão LVDS comum.  Um par diferencial é caracterizado por duas resistências: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yl/rx/zp/ylrxzp9guzvhz1zicbwyju7n8nq.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dq/d2/pq/dqd2pqn-0jxj7xonhpua9nosffq.png"></div><br><br>  A teoria introdutória da sinalização diferencial é descrita em muitas fontes, por exemplo, em [1].  Do ponto de vista do projeto de placas de circuito impresso, é importante considerar as vantagens de um circuito diferencial em relação ao assimétrico (inglês de extremidade única) e os requisitos para a topologia de pares diferenciais, que oferecem essas vantagens. <br><br>  Antes de tudo, um par diferencial ideal é simétrico, ou seja, ao longo de todo o comprimento de sua seção transversal deve permanecer inalterado e ter um eixo de simetria (Fig. 2).  Isso, assim como no caso de uma linha de transmissão assimétrica, garante a constância da resistência das ondas do par diferencial, o que reduz significativamente a reflexão da linha e a distorção do sinal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zu/vg/xr/zuvgxrlk63synl0iihpuyytt-qk.png"></div><br><blockquote><h3>  R.1 </h3>  A seção transversal de um par diferencial deve ser máxima (espelhada idealmente) simétrica e uniforme em todo o seu comprimento.  Entre as linhas de um par, não deve haver elementos de topologia de outros circuitos de sinal. </blockquote>  Cada linha do par diferencial corresponde à sua própria distribuição da corrente de retorno na camada de referência.  Se a conexão mútua entre as linhas do par for muito menor do que a conexão com a camada de referência, a distribuição das correntes de retorno não se cruzará (Fig. 3-A).  Esse par diferencial é chamado de linha diferencial fracamente acoplada, acoplamento fraco.  Como a distribuição dos componentes de alta frequência do sinal está concentrada na camada de referência na região de ± 3 ∙ h, um critério prático para acoplamento fraco é a condição de que a distância entre as bordas das faixas impressas seja s&gt; 6 ∙ h ou s&gt; 3 ∙ w.  Como a impedância diferencial de um par fracamente acoplado é praticamente independente da distância entre os trilhos Z <sub>DIFF</sub> ≈2 ∙ Z <sub>0</sub> , essa distância pode variar ao longo do comprimento da linha, por exemplo, se houver um obstáculo no caminho do par diferencial.  Isso simplifica os requisitos para a topologia do par diferencial; no entanto, essas linhas não possuem as principais vantagens da transmissão diferencial de dados. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9a/ea/pf/9aeapfwtvovmboorhiqkvaja_zg.png"></div><br>  Reduzir a distância entre as linhas para s≤2 ∙ h leva a um aumento significativo no acoplamento mútuo e na sobreposição das distribuições de correntes de retorno na camada de referência (Fig. 3-B).  Esse par diferencial é chamado de par diferencial de linha diferencial fortemente acoplado.  A impedância diferencial torna-se mais dependente da distância entre as faixas.  Seu valor diminui, portanto, para manter o valor anterior, são necessárias faixas mais estreitas, o que aumenta levemente as perdas ôhmicas.  No entanto, é precisamente essa topologia do par diferencial que oferece as seguintes vantagens em relação à linha assimétrica: <br><br><ol><li>  Maior estabilidade do sinal diferencial ao ruído induzido, incluindo diafonia e interferência na camada de referência.  O arranjo próximo e a simetria das linhas levam ao fato de que o ruído induzido em cada uma das linhas é praticamente igual a V <sub>NOISE</sub> <sup>+</sup> ≈V <sub>NOISE</sub> <sup>-</sup> , portanto, a interferência diferencial é pequena V <sub>NOISE</sub> <sup>DIFF</sup> = V <sub>NOISE</sub> <sup>+</sup> -V <sub>NOISE</sub> <sup>-</sup> ≈0.  Essa interferência é menor, mais distante do par diferencial sua fonte está localizada. </li><li>  Menor EMR e diafonia.  Como os sinais V <sub>+</sub> e V <sub>-</sub> estão em fase antifase, os campos eletromagnéticos emitidos por eles são aproximadamente iguais em magnitude e têm direções opostas.  Isso leva ao fato de que a superposição de campos no campo distante tende a zero.  O mesmo efeito reduz significativamente a diafonia gerada pelo par diferencial no campo próximo. </li><li>  Menos influência das lágrimas na camada de suporte.  As correntes de retorno I <sub>+</sub> e I <sub>-</sub> também <sub>estão</sub> na fase antifase e, devido à simetria geométrica de sua distribuição na camada de referência, são simétricas.  Nesse sentido, a corrente total na camada de referência I <sub>REF</sub> = I <sub>+</sub> + I <sub>-</sub> diminui e, na região de sobreposição, torna-se igual a zero.  No caso de sobreposição completa, quando o par diferencial está localizado a uma distância da camada de referência h&gt; 2 ∙ (s + w) e a conexão mútua das linhas excede significativamente sua conexão com a camada de referência, não há corrente na camada de referência (Fig. 3-B).  Tal situação pode surgir, em particular, quando um par diferencial atravessa uma grande lacuna na camada de suporte.  Apesar do fato de a impedância na interseção sofrer uma alteração local, a distorção do sinal diferencial é pequena em comparação com a distorção do sinal assimétrico neste caso [1]. </li></ol><br>  Esses benefícios devem ser chamados de benefícios potenciais, porque são totalmente realizados apenas se duas condições forem atendidas simultaneamente: <br><br><ol><li>  sinais antifásicos rigorosos em toda a linha, </li><li>  falta de interferência de sinal no modo comum. </li></ol><br>  Se você não levar em conta a imperfeição da fonte de sinal, o cumprimento do primeiro requisito é garantido pela observação da recomendação R.1 e pela correspondência dos sinais de modo diferencial e comum no lado da carga.  No entanto, na prática, devido às restrições impostas pela localização e geometria das pastilhas de contato dos componentes e vias, a necessidade de rotações, a constância estrita da seção transversal do par diferencial é difícil de implementar, o que também se reflete na diferença nos comprimentos das linhas dos pares.  A diferença nos comprimentos do par leva a uma mudança de fase, distorcendo o sinal diferencial e criando sinal de modo comum de interferência (Fig. 4). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fi/dc/km/fidckml0ryhiijswfoy4vcyoorg.png"></div><br><br>  Uma prática comum para alinhar comprimentos de linha (correspondência de comprimento em inglês, ajuste) é aumentar o comprimento das linhas mais curtas devido a dobras adicionais que podem formar uma estrutura regular (Fig. 5).  Obviamente, isso inevitavelmente muda a distância entre as linhas do par.  Por sua vez, isso leva a uma mudança local na impedância do par e no aparecimento de reflexos.  Em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um dos artigos</a> , D. Brooks expressa a opinião de que o problema de alinhar os comprimentos das linhas de pares é de maior importância do ponto de vista da integridade do sinal e da EMC.  E a escolha da geometria das dobras não é crítica, com a condição de que dobras longas e estreitas não sejam recomendadas, pois podem levar a distorções devido à forte conexão mútua das seções.  No entanto, esta tese não é uma regra universal.  O fato é que também existe uma técnica mais avançada para alinhar os comprimentos das linhas, que consiste em manter simultaneamente a impedância de um par em locais de dobras (devido a alterações nas larguras das linhas, o uso de recortes locais na camada de referência, etc.).  No entanto, a construção dessa geometria de alinhamento é uma tarefa bastante complicada, exigindo o uso de sistemas CAD especializados, e justificada apenas para linhas de sinal de gigahertz.  Outra opção é um aumento local na distância entre as linhas do par e no alinhamento devido a dobras em uma das linhas.  Em outras palavras, a implementação de uma transição local para um par diferencial com um acoplamento fraco, para o qual a impedância não depende tanto da distância entre as linhas (o que é observado nos locais das curvas).  Exemplos e informações mais detalhadas sobre essas técnicas podem ser encontradas no material apresentado no site da Simberian, Inc. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zu/bu/ap/zubuapuuozete7n2nrsp-kzrxse.png"></div><br><br>  Um critério para um grau suficiente de igualdade de comprimentos de linha é apresentado em [1]: “Os comprimentos de linha de um par diferencial devem ser alinhados entre si com uma precisão de ∆L &lt;0,1 ∙ t <sub>R</sub> ∙ v.  Recomenda-se que a área de alinhamento esteja localizada na parte do par diferencial onde a simetria já está quebrada (por exemplo, pela localização dos pinos do microcircuito). ”  Por analogia com as linhas assimétricas, a influência da heterogeneidade local da impedância diferencial é menor, quanto menor o comprimento elétrico da seção de alinhamento em comparação com a duração da frente do sinal. <br><br>  A tarefa é complicada pelo fato de o alinhamento funcionar bem apenas para a linha de faixa, para a qual a velocidade de propagação dos sinais em fase e diferenciais é igual.  Para uma linha de micro-tira, mesmo o alinhamento perfeito dos comprimentos da linha de par não garante a ausência de distorções, mas apenas um método para reduzi-las.  Mas como a linha de tira requer uma transição para as camadas internas usando vias, que são heterogêneas, não se pode dizer inequivocamente que a linha de micro-tira não tem vantagens.  Obviamente, a significância desses efeitos aumenta com o aumento do limite superior da banda de frequência do sinal.  E se em frequências abaixo de 1 GHz, a equalização fornece um baixo nível de distorção, na região de vários gigahertz e acima não há recomendações universais e o problema de rastreamento é resolvido por modelagem para cada caso específico. <br><br>  A interferência de sinal no modo comum pode ocorrer no próprio par diferencial devido a qualquer assimetria e também pode ser induzida a partir de outras linhas de sinal.  É impossível excluir distorções, no entanto, combinando a linha, o que impede a ocorrência de reflexos e oscilações repetidas, suas consequências podem ser minimizadas.  Os principais métodos para combinar o par diferencial na extremidade oposta são apresentados na Tabela 1. Um circuito sem correspondência de sinal no modo comum é simples e, portanto, frequentemente usado; no entanto, se houver interferência no modo comum nas linhas, a simplicidade é um problema potencial.  Ao contrário de um sinal diferencial, um sinal de modo comum é uma boa fonte de radiação eletromagnética.  A interferência no modo comum se torna crítica ao usar um par trançado não blindado para transmissão de sinal, por isso é recomendado o uso de par trançado blindado e choques no modo comum na saída. <br><br>  Tabela 1. Métodos de correspondência de linha de sinal. <br><table><tbody><tr><th>  <b>Título e esquema</b> </th><th>  <b>Taxa de perda</b> </th><th>  <b>Comentários</b> </th></tr><tr><td><img src="https://habrastorage.org/webt/9y/tp/gm/9ytpgmavwa2vlk1gvjiahxd76nc.png"></td><td>  baixo </td><td><img src="https://habrastorage.org/webt/cx/pq/2y/cxpq2y22ivgtktktjyvwe0qza_g.png"></td></tr><tr><td><img src="https://habrastorage.org/webt/q7/5i/id/q75iidplb1-tvmdn3znuyeeft-k.png"></td><td>  alto </td><td><img src="https://habrastorage.org/webt/ep/kk/un/epkkun2ywaf0imyojtaeqlp6mzi.png"></td></tr><tr><td><img src="https://habrastorage.org/webt/-x/um/zy/-xumzylnswbx8idqpnwfyskr05w.png"></td><td>  alto </td><td><img src="https://habrastorage.org/webt/ep/kk/un/epkkun2ywaf0imyojtaeqlp6mzi.png"></td></tr><tr><td><img src="https://habrastorage.org/webt/mb/mt/yi/mbmtyi5lcf4gbsl46tdpxm_k1hm.png"></td><td>  média </td><td><img src="https://habrastorage.org/webt/bu/gx/u6/bugxu6jx9tfrl1hejgaay7zyhgs.png"></td></tr></tbody></table><br>  Notas: <br><br>  1. Ao calcular os valores das resistências correspondentes, é conveniente usar os valores de impedância dos modos pares Z <sub>EVEN</sub> (eng. Modo par) e ímpares Z <sub>ODD</sub> (eng. Modo impar) de operação do par diferencial.  Por definição, esses são os valores de impedância de uma das linhas em modos operacionais especiais quando o sinal durante a propagação no par diferencial não está distorcido.  No caso de um par diferencial simétrico, esses são sinais iguais V <sub>+</sub> = V para o modo par e sinais antifásicos V <sub>+</sub> = –V para o modo ímpar.  Além disso, eles estão associados aos valores das impedâncias características do par diferencial pelas seguintes relações: Z <sub>DIFF</sub> = 2 ∙ Z <sub>ODD</sub> , Z <sub>COM</sub> = 1/2 ∙ Z <sub>MESMO</sub> . <br><br>  2. Para um par diferencial com acoplamento mútuo fraco, os esquemas de correspondência Z <sub>ODD</sub> EV Z <sub>EVEN</sub> ≈ Z <sub>0</sub> e em forma de T degeneram em um circuito de correspondência paralela para cada uma das linhas. <br><br>  Um circuito diferencial tem muitas vantagens relativamente assimétricas e é fundamental para padrões de transmissão de dados confiáveis ​​e de alta velocidade, incluindo sistemas com um grande número de nós.  Com a continuação da tendência de crescimento das frequências de clock, os desenvolvedores terão cada vez mais que lidar com o rastreamento de pares diferenciais, portanto, essa competência é estrategicamente importante e deve ser baseada não apenas em recomendações gerais, mas também suportada por resultados de simulação em CAD e dados experimentais especializados. <br><br><h3>  Literatura </h3><br>  [1] Bogatin E. "Sinal e integridade da energia - simplificado", 2ª ed., Pearson, 2010 <br><br>  <i>O artigo foi publicado pela primeira vez na revista Components and Technologies 2018, No. 5.</i>  <i>A publicação em Habr foi acordada com os editores da revista.</i> <br><br><h3>  PS </h3><br>  <i>Mais uma vez, apelo aos leitores, dos quais houve menos depois de sair do Geektimes, para obter feedback que pode ser expresso em comentários, em mensagens privadas, como você quiser.</i>  <i>Isso se aplica a este artigo e a todos os anteriores.</i>  <i>Gostaria de fazer um manual de referência conveniente e legal, com o qual alguém inicie com êxito o projeto de placas de circuito impresso com menos erros, alguém se aprofundar e melhorar sua qualidade.</i>  <i>Junte-se a nós, critique construtivamente e faça uma contribuição para o desenvolvimento da indústria.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt419321/">https://habr.com/ru/post/pt419321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt419309/index.html">JavaScript Medium Color</a></li>
<li><a href="../pt419311/index.html">Luminárias industriais de fabricantes nacionais Effest com um bom índice de reprodução de cores</a></li>
<li><a href="../pt419313/index.html">Testamento de Buffett ou sobre o que os consultores financeiros não falam</a></li>
<li><a href="../pt419315/index.html">Vida útil do motor após a morte de um foguete</a></li>
<li><a href="../pt419319/index.html">Como iniciar o Istio usando o Kubernetes na produção. Parte 1</a></li>
<li><a href="../pt419323/index.html">Instale o Kubernetes no Hetzner Cloud</a></li>
<li><a href="../pt419325/index.html">Realocar aluno para a França</a></li>
<li><a href="../pt419327/index.html">Guia de lista de interfaces no MikroTik</a></li>
<li><a href="../pt419329/index.html">Eventos digitais em Moscou, de 6 a 12 de agosto</a></li>
<li><a href="../pt419331/index.html">Continuum de Haken: um instrumento eletrônico com capacidade de resposta acústica</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>