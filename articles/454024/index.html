<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôåüèΩ üëêüèæ üà∫ Controlador de carga MPPT en STM32F334C8T6 üç∞ üèáüèΩ ü§πüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los comentarios en mis art√≠culos anteriores plantearon en repetidas ocasiones la pregunta bastante razonable: "¬øPor qu√© hacer convertidores de CC / CC...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Controlador de carga MPPT en STM32F334C8T6</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454024/"><p> Los comentarios en mis art√≠culos anteriores plantearon en repetidas ocasiones la pregunta bastante razonable: <em>"¬øPor qu√© hacer convertidores de CC / CC en un microcontrolador cuando hay uno ya hecho?"</em>  y como respuesta mencion√© constantemente, como el ejemplo m√°s llamativo, un controlador de carga con algoritmo MPPT.  Pero decir esto y mostrar ... es mucho m√°s interesante y claro, as√≠ que hoy les contar√© sobre mi peque√±o y lento proyecto de tal controlador. </p><br><p>  El proyecto del controlador est√° abierto, todos los archivos de origen est√°n disponibles en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github</a> .  El controlador en s√≠ es bastante simple de implementar, est√° construido sobre la topolog√≠a de Buck, utiliza los componentes disponibles y todo esto brinda una buena repetibilidad incluso sin mucho conocimiento.  El dise√±o de los conectores y componentes est√° dise√±ado para que este controlador se pueda usar como una placa de depuraci√≥n para estudiar la electr√≥nica de potencia, y como un dispositivo terminado, queda solo para justificarlo. </p><br><p><img src="https://habrastorage.org/webt/m9/jz/zv/m9jzzv8udvu62hfujno-cwyeerg.jpeg" alt="Fotos de resonancia magn√©tica"></p><a name="habracut"></a><br><h1 id="glava-1-chto-takoe-algoritm-mppt-i-zachem-on-nuzhen">  Cap√≠tulo 1. ¬øQu√© es el algoritmo MPPT y por qu√© es necesario? </h1><br><p>  El MPPT en s√≠ mismo es el proceso de encontrar el punto de m√°xima potencia de un panel solar.  La presencia de este algoritmo en el controlador permite bajo ciertas condiciones aumentar significativamente la eficiencia del uso de paneles solares.  Cuando un fabricante escribe potencia en el panel, por ejemplo, 100 ... 200 ... 250 ... 320 W, significa la potencia nominal del panel solar a un nivel de insolaci√≥n de 1000 W / m <sup>2</sup> .  Por supuesto, los fabricantes no llevan los paneles al exterior y no esperan condiciones clim√°ticas ideales, por lo tanto, este valor se acepta como est√°ndar y se "genera" en el banco de laboratorio. </p><br><p>  En condiciones reales, con un cielo despejado, el nivel m√°ximo de insolaci√≥n var√≠a de 250 W / m <sup>2</sup> en alg√∫n lugar de Noruega a 900-1000 W / m <sup>2</sup> en el norte de √Åfrica.  De ello se deduce que en el norte el panel solar no dar√° su potencia declarada, pero en √Åfrica es f√°cil.  PERO ... Tan pronto como aparecen nubes en el cielo que oscurecen el panel solar, el nivel de insolaci√≥n disminuye.  Recuerde el clima del √∫ltimo mes, ¬øcu√°ntos d√≠as soleados ideales ha visto?  Si eres de Krasnodar, entonces quiz√°s mucho, pero los habitantes de la franja central de nubes son definitivamente m√°s. </p><br><p>  En realidad, cu√°l es el problema ... Con una disminuci√≥n en la iluminaci√≥n del panel solar, cambia la ubicaci√≥n del punto de m√°xima potencia (TMM) en el CVC del panel solar real.  Ahora veamos qu√© es TMM ... Para esto, tomamos un panel solar con la potencia declarada de 200 W (tengo Delta BST200-24P) y eliminamos la caracter√≠stica de voltaje de corriente (I-V) a un nivel de insolaci√≥n de 1000 W / m <sup>2</sup> : </p><br><p><img src="https://habrastorage.org/webt/19/of/fo/19offomrype-rernndjj3hb2wqm.png" alt="VAC del panel solar"></p><br><p><img src="https://habrastorage.org/webt/qz/ul/97/qzul97qjoj_0vwksddogizi9wkk.jpeg" alt="Panel solar TTX"></p><br><p>  Si observa el gr√°fico de potencia, entonces muestra claramente el pico en el que el panel proporciona la m√°xima potencia posible: esto es TMM.  Adem√°s, si baja la l√≠nea hacia abajo desde este punto, se intersectar√° con el CVC: las coordenadas de este punto son el resultado que necesita encontrar.  En pocas palabras: <strong>"MPPT es el proceso de encontrar un punto en la caracter√≠stica I-V en el que el producto de corriente y voltaje tiene un valor m√°ximo"</strong> </p><br><p>  Adem√°s, vale la pena prestar atenci√≥n a que el panel solar puede dar un poco m√°s, esto es normal, porque  su efectividad depende no solo del nivel de insolaci√≥n, sino tambi√©n de la temperatura.  Si coloca el panel al sol, luego de unas horas se calentar√° bastante y la potencia caer√° aproximadamente un 10%. </p><br><p>  Ahora veamos qu√© har√° exactamente el controlador de carga y por qu√© necesita resonancia magn√©tica.  Como se mencion√≥ anteriormente, el nivel de insolaci√≥n cambiar√° significativamente durante la operaci√≥n: nubes, clima nublado, amanecer y atardecer, respectivamente, y la caracter√≠stica I-V del panel solar tambi√©n cambiar√°: </p><br><p><img src="https://habrastorage.org/webt/um/ll/w_/umllw__pu-2_11x5p3kdytfbjqm.png" alt="CVC de insolaci√≥n"></p><br><p>  El gr√°fico muestra la caracter√≠stica I - V para 4 casos: 1000, 800, 600 y 400 W / m <sup>2</sup> y, en consecuencia, para cada caso tendremos nuestro propio punto en la caracter√≠stica I - V, donde el producto de corriente y voltaje tendr√° un valor m√°ximo.  <strong>La tarea del controlador de carga con MPPT es buscar el punto de m√°xima potencia para condiciones clim√°ticas espec√≠ficas.</strong>  Por ejemplo, usted vive en alg√∫n lugar de Vor√≥nezh, tiene calor y mucha energ√≠a solar y ha encontrado TMM y saca el m√°ximo provecho de la energ√≠a, pero despu√©s de 15 minutos una nube se elev√≥ por encima de sus paneles y cerr√≥ parcialmente los paneles y el valor de la insolaci√≥n ha cambiado, y por lo tanto, el CVC ha cambiado paneles.  Para que el controlador de carga pueda adaptarse a las nuevas condiciones, necesita, con cierta frecuencia, por ejemplo, una vez cada 5 minutos, realizar c√°lculos y buscar TMM para un nuevo CVC. </p><br><p>  Hay muchos algoritmos de b√∫squeda de TMM, que van desde el m√°s simple "0.8 * U <sub>xx</sub> " hasta varios algoritmos de escaneo con redes neuronales, pero describir√© con m√°s detalle acerca de los algoritmos y su implementaci√≥n en el c√≥digo en un art√≠culo separado.  Espero que comprenda qu√© es TMM y por qu√© lo estamos buscando; ahora puede ir directamente a la gl√°ndula. </p><br><h1 id="glava-2-tehnicheskie-harakteristiki-i-funkcional-kontrollera">  Cap√≠tulo 2. Especificaciones y funcionalidad del controlador </h1><br><p>  Ahora es necesario decidir qu√© controlador debe poder proporcionar la funcionalidad necesaria.  En primer lugar, el controlador carga la bater√≠a y, por lo tanto, es necesario implementar el control CC / CV (estabilizaci√≥n de corriente y voltaje) en la salida, y para ello debe medir la corriente y el voltaje en la salida.  En segundo lugar, para buscar TMM, es necesario medir la caracter√≠stica I - V del panel solar, lo que significa que es necesario medir la corriente y el voltaje en la entrada.  En tercer lugar, debe haber un CC / CC reductor, que reducir√° el voltaje de entrada a 12 o 24 V, en este caso ser√° un d√≥lar sincr√≥nico.  Todo esto le permitir√° implementar la funcionalidad b√°sica del dispositivo, como resultado, el diagrama funcional se ver√° as√≠: </p><br><p><img src="https://habrastorage.org/webt/kr/eu/e0/kreue0025-em-j32uy7zfzqo2gw.png" alt="Diagrama funcional"></p><br><p>  Como puede ver, no hay nada complicado, el circuito es muy similar al ejemplo de este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> y las √∫nicas diferencias est√°n en los circuitos de retroalimentaci√≥n adicionales para implementar el algoritmo de b√∫squeda TMM y el proceso de carga.  Adem√°s, es necesario implementar protecci√≥n contra el sobrecalentamiento, a trav√©s de corrientes, agregar un par de interfaces para comunicarse con el mundo exterior y actualizar convenientemente el firmware. </p><br><h5 id="tehnicheskie-harakteristiki">  Especificaciones: </h5><br><ul><li>  Voltaje de entrada: 15 ... 60V </li><li>  Voltaje de salida: 12/24 V </li><li>  Corriente nominal de salida: 20A </li><li>  Algoritmos de resonancia magn√©tica: s√≠ </li><li>  Frecuencia de conversi√≥n: 100 kHz </li><li>  Protecci√≥n contra sobrecalentamiento: s√≠ </li><li>  A trav√©s de la protecci√≥n actual: s√≠ </li><li>  Protecci√≥n de bater√≠a: OVP y OCP </li><li>  Interfaces: USB, Modbus </li><li>  Recurso: al menos 50,000 horas </li><li>  Dimensiones totales: 1109020 mm </li></ul><br><p>  No hay lujos especiales en esta soluci√≥n, el sesgo principal es la mayor confiabilidad, la efectividad de los algoritmos TMM y el mantenimiento de un costo adecuado del controlador.  De las comodidades, se decidi√≥ colocar un USB aislado galv√°nicamente para configurar y flashear el microcontrolador de control + se puede usar para depurar si no le gusta SWO.  Adem√°s, para la implementaci√≥n de control remoto y monitoreo, se instal√≥ el RS-485, que es confiable, econ√≥mico de implementar y le permite organizar la comunicaci√≥n a una distancia de 1000 metros.  Por wi-fi y otras cosas, la radio se neg√≥ de inmediato, porque  El controlador generalmente se opera en un panel de metal y como opci√≥n en un edificio de hormig√≥n armado. </p><br><h1 id="glava-3-vybor-komponentov">  Cap√≠tulo 3. Selecci√≥n de componentes </h1><br><p>  En KDPV es visible que el dispositivo consta de dos placas de circuito impreso: m√≥dulo de control de 4 capas y la placa principal de 2 capas.  Atento puede notar que el m√≥dulo de control es similar a la soluci√≥n del √∫ltimo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> , solo completamente redise√±ado.  De hecho, despu√©s de probar la versi√≥n anterior del <em>panel de control</em> y despu√©s de las discusiones en los comentarios, se decidi√≥ realizar una serie de cambios globales: </p><br><ul><li>  Denegaci√≥n de instalaci√≥n vertical en el conector y la transici√≥n a horizontal.  Esto nos permiti√≥ resolver el problema con el conector y prescindir de los PLS habituales de 2,54 mm, as√≠ como reducir significativamente la altura del dispositivo.  Con la versi√≥n vertical, la altura del controlador ser√≠a de 60 mm, no de 20, y habr√≠a una gran oportunidad de romper el tablero de control.  Ahora no se destaca en el contexto de los otros componentes y todav√≠a ocupa poco espacio; </li><li>  Dimensiones del tablero reducidas a 90x35 mm; </li><li>  El controlador STM32F334R8T6 reemplazado por un STM32F334C8T6 m√°s compacto y econ√≥mico.  Este reemplazo tambi√©n condujo a una disminuci√≥n en el n√∫mero de canales para controlar el medio puente de 5 a 4.  Como ha demostrado la pr√°ctica, este controlador no quita el control de una vez por 5 medios puentes, a menos que sean algoritmos muy simples.  En base a esto, se decidi√≥ abandonar el paquete LQFP-64 en favor del LQFP-48; </li><li>  Se agreg√≥ USB aislado galv√°nicamente, o m√°s precisamente, el puente USB-UART, porque  el microcontrolador en s√≠ no tiene una interfaz de hardware USB; </li><li>  Se elimin√≥ el chip PHY para RS-485 de la placa de control, como  no todo el mundo lo necesita y no siempre, pero para su posible uso, un conector UART y un gpio adicional para recibir / transmitir control se env√≠an al conector.  Tambi√©n ahora, en el tablero principal, puede poner PHY aislado galv√°nicamente y no estar atado a mi decisi√≥n; </li><li>  Adem√°s de la interfaz SWD, se decidi√≥ enviar SWO al conector de depuraci√≥n para una depuraci√≥n m√°s conveniente del programa. </li></ul><br><p><img src="https://habrastorage.org/webt/bz/tw/cd/bztwcd9f2vlp49nv4ajjzq5pux4.jpeg" alt="Consejo de administraci√≥n"></p><br><p>  Ahora pasemos a la selecci√≥n de componentes para la parte principal (potencia) del convertidor.  En mi historia anterior sobre la topolog√≠a de Buck, habl√© sobre la elecci√≥n de los componentes de potencia (transistores, condensadores, inductor) y el m√©todo para calcular sus clasificaciones.  Hoy me gustar√≠a hablar un poco m√°s sobre componentes igualmente importantes, es decir, sobre el controlador de administraci√≥n de la llave de encendido, los sensores de corriente y m√°s. </p><br><h5 id="datchik-toka">  Sensor de corriente </h5><br><p>  Para controlar la carga de la bater√≠a y medir la caracter√≠stica de voltaje de corriente del panel solar, es necesario medir una corriente continua en el rango de 0 a 20A.  No hay muchas opciones para medir la corriente continua; los m√©todos m√°s efectivos y simples son una derivaci√≥n de corriente y un sensor de efecto Hall.  En la primera versi√≥n, prob√© un mont√≥n de "shunt + INA194", la opci√≥n generalmente funciona, pero el monitor en s√≠ era bastante ruidoso y hab√≠a un problema al medir corrientes de menos de 3-4A.  El problema se resolvi√≥ aumentando el valor nominal de la derivaci√≥n y el filtro digital, pero luego aument√≥ la potencia liberada en la derivaci√≥n en forma de calor, lo que no quer√≠a mucho. </p><br><p>  Inicialmente, lanc√© la opci√≥n con el uso de sensores Hall de inmediato, es decir, la serie ACS (por ejemplo, ACS758 o ACS711), porque  Ya intent√© aplicarlos en el pasado, pero mintieron mucho y su rango de medici√≥n es bajo.  Es cierto que en una de las discusiones, un hombre habl√≥ sobre la experiencia exitosa de usar estos sensores, result√≥ que la serie relativamente nueva dej√≥ de responder a la m√°s m√≠nima interferencia, lo principal es que no hab√≠a nada de hierro o algo que pudiera magnetizarse cerca de ellos.  Necesito medir la corriente continua en un sistema donde la tasa de cambio de corriente no es alta y, por lo tanto, una banda de 100 kHz es suficiente.  Basado en la simplicidad y el precio de la soluci√≥n, en la segunda versi√≥n del controlador MPPT instal√© ACS713ELCTR-30A.  Allegro tiene dos versiones de sensores: CC y CC / CA, no necesito medir el cambio y, por lo tanto, la elecci√≥n es obvia a favor de CC, que tambi√©n tiene un gran valor de "voltios por amperio".  Esto permiti√≥ medir con precisi√≥n no solo las corrientes grandes, sino tambi√©n las peque√±as al nivel de 0.3 ... 0.5A con un error real de ¬± 5%.  El circuito para encender este sensor es extremadamente simple: </p><br><p><img src="https://habrastorage.org/webt/ep/-r/r2/ep-rr2vao5uk4rxhnpkxcibhgos.png" alt="Circuito del sensor de corriente"></p><br><p>  La inclusi√≥n es est√°ndar, no hay magia en el circuito, lo √∫nico que debe hacerse es "coordinar" el rango de salida del sensor de 0 ... 5V con lo que puede medir el ADC del microcontrolador STM32, es decir, con el rango de 0 ... 3.3V.  El sensor tiene salida de voltaje, es lineal y un aumento en el voltaje de salida en 133 mV significa un aumento en la corriente que fluye a trav√©s del sensor en 1A.  En base a esto, el voltaje de salida m√≠nimo es 0V, y el m√°ximo 30A * 133 mV / A = 3.99V.  Te√≥ricamente, el divisor de voltaje no se pudo configurar porque  la corriente m√°xima es de solo 20 A y, por lo tanto, el voltaje de salida estar√° dentro de 2.66 V y no amenaza la entrada del ADC de ninguna manera, pero es mejor hacerlo de forma segura.  Quiz√°s despu√©s de la prueba y un largo robo del dispositivo, todav√≠a quito el divisor y pongo un seguidor de voltaje en el amplificador operacional. </p><br><h5 id="drayver-upravleniya-zatvorami-tranzistorov">  Transistor Gate Driver </h5><br><p>  Incluso en la etapa de la idea, decid√≠ abandonar inmediatamente el aislamiento galv√°nico completo del circuito de control del circuito de alimentaci√≥n, es muy costoso, aunque elimina la interferencia y protege la parte digital.  La introducci√≥n del aislamiento galv√°nico de 2 voltajes y un controlador aumentar√≠a el precio del convertidor en un 40%.  Por lo tanto, tuve que rechazar mis controladores favoritos de la serie Infineon 1ED / 1EDI y elegir algo decente con potencia de arranque para la clave superior, mi elecci√≥n recay√≥ en una soluci√≥n bastante nueva: NCP5183DR2G.  El controlador demostr√≥ ser muy estable en operaci√≥n y suficiente para controlar un par de mosfets a una frecuencia de 100 kHz.  Encontr√© una desventaja: la falta de una entrada separada, por ejemplo, ShutDown o Enable para apagar el controlador en caso de accidente, por lo tanto, para implementar la protecci√≥n, debe instalar una l√≥gica discreta adicional o usar la entrada de hardware FALLO en el microcontrolador STM32F334.  Eleg√≠ la segunda opci√≥n y hasta ahora no me ha fallado, aunque inicialmente era esc√©ptico sobre la fiabilidad de dicha soluci√≥n.  El circuito de control del transistor se ve as√≠: </p><br><p><img src="https://habrastorage.org/webt/lb/ga/kd/lbgakdmt_teki4jkembec5gwgwe.png" alt="Circuito conductor"></p><br><p>  La soluci√≥n es simple y clara, lo √∫nico que agregar√© de m√≠ mismo es que el capacitor C1 debe ser de cer√°mica con un diel√©ctrico X7R y preferiblemente no el m√°s podrido, el Yageo / Murata / Samsung original es suficiente para todos.  El resto del polvo suelto puede ser una marca m√°s simple.  Por cierto, puede leer sobre la "agon√≠a de elecci√≥n" del valor nominal de las resistencias de compuerta R1 y R5 en este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> . </p><br><h5 id="vyhodnye-kondensatory">  Condensadores de salida </h5><br><p>  Indiqu√© anteriormente la prioridad de la confiabilidad y los recursos del convertidor y, por lo tanto, es necesario eliminar todas las debilidades.  En mi opini√≥n, solo hay un punto d√©bil en los convertidores de CC / CC modernos: los condensadores electrol√≠ticos, que de alguna manera se "secan" y se degradan despu√©s de un tiempo, lo que primero conduce a un aumento de la ondulaci√≥n y el sobrecalentamiento, y luego al fallo del convertidor. </p><br><p>  En mi controlador de carga hay hasta 2 de esos lugares: condensadores en la entrada y salida.  Se decidi√≥ reemplazar los electrolitos de salida con condensadores de pol√≠mero de estado s√≥lido (como en sus tarjetas de video), que son mucho m√°s f√°ciles de transportar en corrientes de decenas de amperios y tienen un recurso de un orden de magnitud mayor que el del condensador electrol√≠tico de la m√°s alta calidad.  Tienen una desventaja: el precio, este placer de Panasonic cuesta $ 2 / pc, pero vale la pena. </p><br><p>  En la entrada del dispositivo, el voltaje puede alcanzar 60 V, lo que significa que los condensadores de pol√≠mero de estado s√≥lido ya no se pueden suministrar, simplemente no existen, un m√°ximo de 35 V.  Es cierto que hay opciones h√≠bridas, este es un enlace intermedio entre el electrolito y un condensador de estado s√≥lido, son de hasta 100V.  Para este tipo de condensador, el electrolito l√≠quido se reemplaza por uno en forma de pasta, lo que permite varias veces aumentar su recurso. </p><br><p><img src="https://habrastorage.org/webt/gl/tf/wd/gltfwd1e_9rxm2hpssaf225lico.jpeg" alt="Fotos de resonancia magn√©tica"></p><br><p>  Los m√°s atentos pueden notar que los condensadores de estado s√≥lido de salida son diferentes en dos placas.  Creo que todos "apreciaron" el costo de un condensador de 120 uF 35V, el electrolito de Wurth cuesta 10 veces m√°s barato.  En base a esto, decid√≠ realizar pruebas para comprar una alternativa a los condensadores 35SEK330M de Panasonic.  Bueno, como alternativa ... existe una compa√±√≠a asi√°tica de este <em>tipo</em> , <em>Lelon</em> , que fabrica un an√°logo completo (en sus palabras) de condensadores Panasonic.  Puse el original en una placa, en otro an√°logo, los dispositivos en s√≠ ya han sido probados durante aproximadamente un mes y hasta que se note realmente la diferencia, veamos cu√°l ser√° el recurso final, pero para aquellos que quieran bajar el precio 5 veces a $ 0.4 / pieza, les aconsejo que piensen en ello. </p><br><h5 id="obschie-svedeniya-po-komponentam">  Resumen de componentes </h5><br><p>  Me gustar√≠a decir por separado sobre la pol√≠tica de elegir componentes y soluciones.  Dado que la idea implica el uso de este controlador no solo para estudiar en la mesa, sino tambi√©n para trabajar "en el campo", se decidi√≥ usar solo fabricantes de confianza y no usar componentes chinos (excepto por la experiencia con <em>Lelon</em> ) y varias artesan√≠as con aliexpress.  En mi versi√≥n y en la lista de materiales, aparecen originales con digikey de fabricantes como Infineon, TI, ON, ST, Yageo, Bourns y otros.  En principio, nadie le proh√≠be colocar componentes con mayor facilidad, con el mismo aliexpress, pero est√© preparado para reducir la confiabilidad y eficiencia del controlador. </p><br><h1 id="glava-4-o-proekte-i-ishodnikah">  Cap√≠tulo 4. Sobre el proyecto y los c√≥digos fuente </h1><br><p>  Ya escrib√≠ sobre componentes de energ√≠a y m√©todos de c√°lculo en mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo sobre Buck</a> , puedes leerlo aqu√≠.  Solo dar√© los resultados que obtuve: </p><br><ul><li><p>  La inductancia del inductor de potencia es de 30 ŒºH, enrollada en un anillo R32 / 20/10 de material Kool Mu.  El anillo se selecciona francamente con un margen, porque  se planificaron experimentos con frecuencia y aumento actual; </p><br></li><li><p>  La capacitancia de los capacitores de salida es de aproximadamente 300 microfaradios, en realidad, la capacitancia es significativamente mayor, lo que reduce la ondulaci√≥n de salida.  Intent√© trabajar con 3 condensadores, todo est√° bien, as√≠ que si decides repetirlo, no dudes en dejar la mitad de los asientos para los condensadores de salida vac√≠os.  En principio, puede intentar soldar 6 condensadores electrol√≠ticos ordinarios, si no es posible comprar los de estado s√≥lido.  Seg√∫n mis suposiciones, el controlador funcionar√° sin ning√∫n problema; </p><br></li><li><p>  Transistores ( <em>IPD053N08N3GATMA1</em> ) Eleg√≠ los que estaban en mis existencias y bastante f√°ciles de comprar.  Si ya tiene las llaves o no pudo comprar las que yo tengo, elija un transistor con una resistencia de canal de no m√°s de 8 mOhm y una puerta de no m√°s de 100 nC.  De lo contrario, la eficiencia disminuir√° lo suficiente y los transistores se sobrecalentar√°n significativamente. </p><br></li></ul><br><p>  Tambi√©n es probable que haya quienes sean demasiado vagos para ir a Github, por lo que dejar√© el diagrama completo del dispositivo en formato PDF: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte de potencia del controlador de carga</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tablero de control universal</a> </li></ul><br><p>  La parte de hierro del proyecto se complet√≥ en Altium Designer 19, y el proyecto tambi√©n se puede abrir en Curcuit Studio.  Para aquellos que no quieren involucrarse en la compra de software o pirater√≠a, hay un diagrama esquem√°tico en archivos PDF y Gerber, esto ser√° suficiente para que ordene placas de circuito impreso y construya un controlador MRPT usted mismo. </p><br><p>    ‚Ä¶     ""             github,         ,          .          dc/dc ,    -, -, -,  ,        . </p><br><h1 id="zaklyuchenie">  Conclusi√≥n </h1><br><p>       , ..     ,   , ,           .1         .                ‚Äî   10 ,   HIN  LIN   (GND).       ,     ""    . </p><br><p>      PCBway      ,       .     ,     , <del>   </del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Su apoyo se gastar√° en hardware y esto dar√° como resultado un art√≠culo interesante. </font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambi√©n me quedan 2 juegos de placas de circuito impreso, si alguien quiere ensamblar un controlador, entonces se lo dar√© sin cargo a buenas manos. </font><font style="vertical-align: inherit;">Solo necesita recolectar y, si lo desea, escr√≠bame sus comentarios y sugerencias. </font><font style="vertical-align: inherit;">Aquellos que deseen escribir en un personal.</font></font></p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proyectos Github</font></font></a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454024/">https://habr.com/ru/post/454024/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454006/index.html">Acerca de TI sin v√≠nculos: promociones, retenci√≥n y rotaci√≥n en empresas de la CEI y EE. UU.</a></li>
<li><a href="../454010/index.html">Educaci√≥n superior y continua en TI: resultados del estudio My Circle</a></li>
<li><a href="../454012/index.html">El fin de la era de los dispositivos de reparaci√≥n. C√≥mo Apple y Amazon limpian los viejos comerciantes de electr√≥nica</a></li>
<li><a href="../454016/index.html">3CX v16 Actualizaci√≥n 1, aplicaci√≥n 3CX para iOS Beta y la nueva versi√≥n 3CX Call Flow Designer</a></li>
<li><a href="../454018/index.html">iOS Digest No. 6 (17 de mayo - 30 de mayo)</a></li>
<li><a href="../454028/index.html">Bocetos con PHP Rusia 2019: c√≥digo limpio, magia oscura</a></li>
<li><a href="../454030/index.html">Odigest: interesante para los dise√±adores de la semana.</a></li>
<li><a href="../454032/index.html">Enrutador y datos que pasan arquitectura Clean Swift</a></li>
<li><a href="../454034/index.html">Primer modelo: conjunto de datos de moda MNIST</a></li>
<li><a href="../454036/index.html">6 maneras de ir al infierno de soluciones preparadas y bajar un mill√≥n o dos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>