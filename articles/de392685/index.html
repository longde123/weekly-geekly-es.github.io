<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚦 🤦 😓 FLProg + Nextion HMI. Lektion 2 🧘🏼 🍒 🙏🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In der letzten Lektion habe ich über das Nextion HMI-Panel und über das Erstellen von Projekten für dieses Panel im Nextion Editor gesprochen. 
 In di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>FLProg + Nextion HMI. Lektion 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flprog/blog/392685/"><img src="https://habrastorage.org/files/bc9/53d/46e/bc953d46e4cd4e498fb9cf600c520628.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der letzten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lektion habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich über das Nextion HMI-Panel und über das Erstellen von Projekten für dieses Panel im Nextion Editor gesprochen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Tutorial zeige ich Ihnen, wie Sie dieses Panel mit dem FLProg-Programm von einem Arduino-Board aus steuern. Nehmen wir zum Beispiel die einfachste Wetterstation, die Daten vom Temperatur- und Feuchtigkeitssensor DHT-22 liest und auf dem Bedienfeld anzeigt. Ein Diagramm der Änderungen dieser Parameter wird ebenfalls gezeichnet. Die Helligkeit der Hintergrundbeleuchtung des Bedienfeldbildschirms wird mithilfe eines variablen Widerstands geändert.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prüfstandslayout. </font></font><br>
<img src="https://habrastorage.org/files/a5e/133/8e6/a5e1338e6b844737929e9c8338799b1a.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst müssen Sie das Projekt in das Panel hochladen (die Projektdatei im Archiv ist ein Link, zu dem am Ende des Artikels Lesson2.hmi steht). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieses Projekt besteht aus drei Bildschirmen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste Bildschirm dient zur Anzeige der Temperatur (Seite “Seite0” Index - 0). </font></font><br>
<br>
<img src="https://habrastorage.org/files/51a/8d5/166/51a8d51662a0457bb8feef7f75b90fe8.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es besteht aus folgenden Elementen: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 - Bild mit dem Bild eines Alkoholthermometers. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 - Das Element "Fortschrittsbalken". </font><font style="vertical-align: inherit;">Mit seiner Hilfe wird das Thermometer simuliert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elementeinstellungen.</font></font><br>
<img src="https://habrastorage.org/files/d62/840/183/d628401837df42d4936c5cde893db727.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich empfehle die Elemente, mit denen geplant ist, immer global über UART zu machen (das Attribut "vccope" ist auf "global" gesetzt) ​​und ihnen im gesamten Projekt dementsprechend eindeutige Namen zuzuweisen (das Attribut "objname"). </font><font style="vertical-align: inherit;">Dies beschleunigt die Arbeit des Arduino-Controllers und reduziert den Code dafür. </font><font style="vertical-align: inherit;">Ich werde erklären warum.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Wenn Sie versuchen, das Attribut eines lokalen Elements zu schreiben, müssen Sie zuerst die aktuelle Seite vom Bedienfeld anfordern (dies ist eine separate Anforderung, die mindestens 20 ms dauert). Wenn die Seite diejenige ist, zu der das Element gehört, wird der Wert an das Panel gesendet. Wenn nicht, wird der zum Senden bestimmte Wert in die Variable geschrieben (für die derselbe Speicherplatz benötigt wird). Wenn Sie zu einer Seite mit einem Element wechseln, müssen Sie deren Attribute sofort mit den neuesten Istwerten aktualisieren, da beim Rendern einer Seite lokale Variablen mit den Werten initialisiert werden, die beim Erstellen des Projekts angegeben wurden. Wenn auf der Seite viele vom Controller verwaltete Elemente vorhanden sind, ist dieser Controller beim Umschalten lange Zeit mit der Aktualisierung aller Elemente beschäftigt.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für ein globales Element ist alles viel einfacher. Sie können jederzeit Attributwerte dafür aufzeichnen, und die letzten Werte werden beim Rendern der Seite verwendet. Dies bedeutet, dass Sie vor dem Senden keine Seitenzahl anfordern und keine Änderungen vornehmen müssen, um den Wert zu speichern. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber natürlich hängt alles vom Projekt ab. Wenn das Projekt für das Panel sehr groß ist und nicht genügend Platz für globale Elemente vorhanden ist, können Sie dem Controller sozusagen Speicher entnehmen und lokalisieren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Textfeld zur Anzeige der Temperatur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elementparameter.</font></font><br>
<img src="https://habrastorage.org/files/cfd/187/0d7/cfd1870d71124593987228a0307da159.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ausgeschnittene Bild wird als Hintergrund ausgewählt (Attribut „sta“ -Wert „Bild zuschneiden“). Und als Bild, das zum Schneiden verwendet wird, wird dasselbe verwendet, das für den Hintergrund der gesamten Seite verwendet wird (das Attribut „picc“ ist der Index des Bildes aus der Bildbibliothek). Dank dessen wird der Tex mit einem transparenten Hintergrund erhalten. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie ich bereits in der letzten Lektion geschrieben habe, weiß das Panel nicht, wie man mit gebrochenen und negativen Zahlen arbeitet, und für die Temperatur ist beides möglich. Zur Anzeige des Temperaturwertes wird daher ein Textfeld verwendet, in das die fertige Zeile sofort von der Steuerung gesendet wird. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Das geschnittene Bild. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elementparameter.</font></font><br>
<img src="https://habrastorage.org/files/ea4/a41/f72/ea4a41f728334074af577ae6e24b542e.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Hilfe dieses Elements wird die Sonne angezeigt, wenn die Temperatur einen vorgegebenen Grenzwert überschreitet. Eigentlich war es möglich, ein gewöhnliches Bild zu verwenden und seine Sichtbarkeit zu ändern, aber seit dem Trainingsbeispiel habe ich mich für dieses spezielle Element entschieden. Ich selbst habe die Ideologie dieses Elements schon lange verstanden und werde versuchen zu zeigen, wie es funktioniert. Für seine Arbeit habe ich zwei Bilder gemacht, eines mit der Sonne, das andere ohne die Sonne. </font></font><br>
<br>
<img src="https://habrastorage.org/files/f87/e4e/c19/f87e4ec1967b47aa864eead49b59753c.jpg"><br>
<br>
<img src="https://habrastorage.org/files/0b1/73e/481/0b173e48127b45308e9ad2f7fd4824c1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Element zeigt den Teil des angehängten Bildes an (das Attribut „picc“ ist der Index des Bildes in der Bildbibliothek). Die obere linke Ecke dieses Abschnitts befindet sich in den Einfügungskoordinaten des Elements (Attribute „x“ und „y“) und hat die Breite und Höhe des Elements (Attribute „w“ und „h“). Während des Betriebs des Steuerungsprogramms ändert sich bei Bedarf die Bindung des Elements an das Bild. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Taste.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elementparameter. </font></font><br>
<img src="https://habrastorage.org/files/2ce/705/e9f/2ce705e9f8324254ab334194ddc50494.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie auf die Schaltfläche klicken, wird die nächste Seite aufgerufen. Ich habe ein Bild als Hintergrund für die Schaltfläche verwendet. Ich habe für beide Zustände dasselbe Bild verwendet (die Attribute „pic“ und „pic2“ sind die Indizes der Bilder in der Bildbibliothek), da der gedrückte Zustand niemals sichtbar ist. Wenn Sie auf die Schaltfläche klicken, wird direkt zur nächsten Seite gewechselt. Da wir an dieser Schaltfläche nichts ändern werden, habe ich sie lokal und den Standardnamen belassen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Code im Ereignis „Touch Press Event“. </font></font><br>
<img src="https://habrastorage.org/files/faa/af7/58f/faaaf758f0904d42a9be6c6d136ad937.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der zweite Bildschirm dient zur Anzeige der Luftfeuchtigkeit (Seite “Seite1” Index - 1). </font></font><br>
<img src="https://habrastorage.org/files/ed6/bbf/177/ed6bbf177e5947fc82ad7b43a9741608.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für den Hintergrund der Seite habe ich ein Bild mit einem vorbereiteten Bild der Hygrometerskala verwendet. </font></font><br>
<img src="https://habrastorage.org/files/269/9a6/d9f/2699a6d9f389422fb2f0af36e973e5a6.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die auf der Seite enthaltenen Elemente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Das Element „Gaude“, das den Betrieb eines Hygrometers simuliert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elementparameter. </font></font><br>
<img src="https://habrastorage.org/files/6af/d6f/04f/6afd6f04facc4486a4083d067329c42a.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da wir es vom Controller aus steuern, wird es globalisiert. Das ausgeschnittene Bild (das Attribut „sta“) wird als Hintergrund ausgewählt, und das Hintergrundbild der Seite (das Attribut „picc“) wird als Hintergrund ausgewählt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Numerisches Feld. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elementparameter.</font></font><br>
<img src="https://habrastorage.org/files/f63/5a4/14b/f635a414b58445bfbc8fd7b255213de4.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Feld wird der Feuchtigkeitswert angezeigt. Da das Panel das Arbeiten mit Bruchzahlen nicht unterstützt, wird der Feuchtigkeitswert ohne Bruchteil angezeigt. Das ausgeschnittene Bild wird als Hintergrund ausgewählt (Attribut „sta“ -Wert „Bild zuschneiden“). Und als Bild, das zum Schneiden verwendet wird, wird dasselbe verwendet, das für den Hintergrund der gesamten Seite verwendet wird (das Attribut „picc“ ist der Index des Bildes aus der Bildbibliothek). Um die Schönheit der Anzeige zu gewährleisten, setze ich die Ausrichtung nach rechts (Attribut „xcen“ -Wert - 2) und füge daneben ein Textfeld (3) mit dem Wert „%“ ein. Die Hintergrundeinstellungen dafür ähneln den Einstellungen für das Nummernfeld. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Textfeldoptionen (3).</font></font><br>
<img src="https://habrastorage.org/files/455/92f/41c/45592f41c420485da8de8dc7c957cc6d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 und 5. Schaltflächen vorherige Seite und nächste Seite. Wenn Sie die Taste 4 drücken, gelangen Sie zur ersten Seite, und wenn Sie auf die Taste 5 klicken, gelangen Sie zur nächsten. Die Einstellungen für die Tastenanzeige ähneln denen auf der ersten Seite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einstellungen für Schaltfläche 4 („Vorherige Seite“) </font></font><br>
<img src="https://habrastorage.org/files/9aa/c4a/e21/9aac4ae214d544329e354376813deea8.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Code im „Touch Press Event“ für Schaltfläche 4 („Vorherige Seite“). </font></font><br>
<img src="https://habrastorage.org/files/47b/c90/474/47bc90474d804fdebb0d6d84d583e44c.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einstellungen für Schaltfläche 5 („Nächste Seite“) </font></font><br>
<img src="https://habrastorage.org/files/3ab/533/192/3ab53319296f410eb2510ce6d19cca9f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Code im „Touch Press Event“ für Schaltfläche 5 („Nächste Seite“). </font></font><br>
<img src="https://habrastorage.org/files/f28/c9f/6eb/f28c9f6eb6c948c4abac1e7dfaa26d55.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dritte Seite - Diagramm der Änderungen von Temperatur und Luftfeuchtigkeit (Index „Seite 2“ - 2). </font></font><br>
<img src="https://habrastorage.org/files/8f6/935/13c/8f693513cbff49729a01de0d653be2ac.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf dieser Seite wird eine grafische Darstellung der Änderungen von Temperatur und Luftfeuchtigkeit angezeigt. Betrachten Sie die auf der Seite enthaltenen Elemente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Das Wellenformelement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elementparameter.</font></font><br>
 <img src="https://habrastorage.org/files/8a7/d70/190/8a7d701909554de280fb18a6ad3dac74.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der letzten Lektion habe ich bereits geschrieben, dass dieses Element nicht (ich hoffe bisher) global werden kann, dh der Attributwert kann umgeschaltet werden, aber dies führt zu nichts. Also habe ich es lokal gelassen (wer weiß, aber plötzlich frisst er immer noch die Erinnerung an globale Variablen). In diesem Element befinden sich zwei Anzeigekanäle (Attribut „ch“ -Wert - 2). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 und 3 sind einfach Textfelder, die die Achse der Diagramme zeigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 - Knopf zurück. Es ähnelt der gleichen Schaltfläche auf dem vorherigen Bildschirm, mit Ausnahme des Codes in der Ereignisbehandlungsroutine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Code im „Touch Press Event“ für Schaltfläche 4 („Vorherige Seite“). </font></font><br>
<img src="https://habrastorage.org/files/8a0/131/0af/8a01310af0a2436a833fc80678dacc86.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben das Panel herausgefunden, jetzt kümmern wir uns um den Controller. Ich werde nicht sagen, wie man das FLProg-Programm öffnet, ein Projekt erstellt und ein Diagramm zeichnet. All dies habe ich in früheren Lektionen erzählt (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lektion 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lektion 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) und viele Informationen dazu finden Sie im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schulungszentrum</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf der Projektwebsite. Deshalb werde ich sofort die vorgefertigten Leiterplatten zeigen und erzählen, was auf ihnen passiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karte 1. Daten vom Sensor lesen. </font></font><br>
<img src="https://habrastorage.org/files/412/3f7/d8c/4123f7d8c185462a91572fe4eac9ed65.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um mit dem DHT-22-Sensor Temperatur- und Feuchtigkeitswerte zu erhalten, wird der B1-Block verwendet - „DHT11, DHT21, DHT22“ (Elementbibliothek, Ordner „Sensoren“). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blockeinstellungen (durch Doppelklick aufgerufen). </font></font><br>
<img src="https://habrastorage.org/files/893/112/b34/893112b34144450ba7269246e60d1539.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den Einstellungen wird der Pin zugewiesen, an den der „Daten“ -Ausgang des Sensors angeschlossen ist, der Sensortyp und das Vorhandensein von Temperatur- und Feuchtigkeitsausgängen. Der Sensorabfragemodus ist ebenfalls ausgewählt. Ich habe die Abfrage des Sensors alle 5 Sekunden eingerichtet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da Arduino-Controller mit Gleitkommazahlen nicht sehr gut funktionieren und die Arbeit mit ihnen viel Speicherplatz beansprucht, übersetze ich sofort alle Werte in das Integer-Format. Verwenden Sie dazu die Blöcke B3 und B4 - „Float in Integer konvertieren“ (Elementbibliothek, Ordner „Type Conversion“), die den Bruchteil der Zahl abschneiden. Um keine Zehntelgrad zu verlieren, wird der vom Sensor erhaltene Temperaturwert zunächst mit Block B2 - „MUL (*)“ (Elementbibliothek, Ordner „Mathematik“) mit 10 multipliziert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann werden die erhaltenen Werte im Integer-Format in die entsprechenden Variablen eingegeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karte 2. Zeigt den Temperaturwert auf dem Bedienfeld an. </font></font><br>
<img src="https://habrastorage.org/files/7e1/90e/f48/7e190ef4861a40c5a413dba3a51da73c.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Projekt verwende ich benannte Verbindungen. Mehr darüber erfahren Sie in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entsprechenden Lektion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Belastung der Steuerung zu begrenzen, ist es sinnvoll, Daten nur dann an das Panel zu senden, wenn sich die Daten geändert haben. Daher stellen wir zunächst fest, dass sich die Daten geändert haben. Verwenden Sie dazu Block B5 - „Nummernänderungsdetektor“ (Elementbibliothek, Ordner - „Basisblöcke“). Dieses Gerät steuert die Zahl „Wert“ an seinem Eingang und erzeugt bei Änderung einen Ausgangsimpuls von einem Zyklus der Programmausführung am Ausgang.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Danach bereiten wir eine Zeichenfolge für das Senden an das Bedienfeldtextfeld vor. Teilen Sie zunächst den mit 10 multiplizierten Temperaturwert durch eine Konstante vom Typ Float mit einem Wert von 10. Somit erhalten wir den Temperaturwert mit einem Bruchteil. Wir tun dies mit Block B6 - "DIV (/)" (Bibliothek von Elementen, Ordner "Mathematik"). Dann wandeln wir den erhaltenen Wert im Float-Format mit Block B7 - „String-Konvertierung“ (Elementbibliothek, Ordner „Typkonvertierung“) in einen String um. Dann verbinden wir den resultierenden String mit der String-Konstante "C" über Block B8 - "Addition von Zeilen" (Elementbibliothek, Ordner "Lines"). Die resultierende Zeile wird dem Eingang des Geräts zugeführt, um den Attributwert in das Nextion HMI B9-Bedienfeld zu schreiben - „Set Parameter“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt; „Elements“ -Ordner).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Block schreibt den Wert in das angegebene Attribut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blockparametrierung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch Doppelklick auf den Block wird das Blockeditorfenster geöffnet. </font></font><br>
<img src="https://habrastorage.org/files/407/27c/f8f/40727cf8fc6041d0b924bc1e8a477506.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn im Projekt noch keine Panels erstellt wurden, müssen Sie ein Panel erstellen. Wenn das erforderliche Bedienfeld bereits erstellt wurde, kann es durch Drücken der Taste 3 aus der Dropdown-Liste ausgewählt werden. Das ausgewählte Bedienfeld kann mit der Schaltfläche „Bedienfeld ändern“ (2) geändert werden. Um ein Panel zu erstellen, klicken Sie auf die Schaltfläche "Panel hinzufügen" (1). Das Fenster zur Panel-Erstellung wird geöffnet.</font></font><br>
 <img src="https://habrastorage.org/files/33d/d39/66a/33dd3966adf54f5eb40fd434ddb47b57.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie in diesem Dialogfeld den Anschluss für den Anschluss des Panels aus (in unserer Lektion - SoftwareSerial). Wenn Sie SoftwareSerial auswählen, müssen Sie auch die Pins auswählen, die als RX- und TX-Signale des UART-Ports zugewiesen sind (in unserem Fall 2 und 3). Es ist auch erforderlich, einen Panel-Namen zuzuweisen. Es muss einzigartig sein. In einem Projekt können mehrere Panels verbunden werden, sofern genügend freie UART-Ports vorhanden sind. Der Name jedes Panels muss innerhalb des Projekts eindeutig sein. Im selben Dialogfeld können Sie die im Bedienfeld enthaltenen Seiten hinzufügen. Was werden wir tun? Klicken Sie auf die Schaltfläche Seite hinzufügen. Das Fenster zur Seitenerstellung wird geöffnet. </font></font><br>
<img src="https://habrastorage.org/files/03a/d53/e93/03ad53e9357a4d42abd31278f31638f3.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fenster müssen wir den Namen der Seite und ihre ID eingeben. Diese Informationen können aus dem Projekt im Nextin Editor abgerufen werden.</font></font><br>
<img src="https://habrastorage.org/files/37e/383/96c/37e38396c61941dfa070ad2a2ee09b3d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standardmäßig ist die Startseite (die beim Start des Controllers geöffnet wird) eine Seite mit der ID 0, Sie können jedoch das Kontrollkästchen "Startseite" in den Eigenschaften jeder Seite aktivieren und sie wird zur Startseite. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fenster können Sie die Elemente hinzufügen, die uns auf dieser Seite interessieren. Klicken Sie auf die Schaltfläche "Element hinzufügen". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Fenster zum Erstellen von Elementen wird geöffnet. </font></font><br>
 <img src="https://habrastorage.org/files/709/fa3/de8/709fa3de890a431896b1acd94ccd7505.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier müssen wir den Typ und den Typ des Elements auswählen, seinen Namen und Index eingeben und, wenn das Element global ist, das entsprechende Kontrollkästchen aktivieren. Alle diese Daten können im Projekt im Nextin Editor angezeigt werden. </font></font><br>
<img src="https://habrastorage.org/files/ab3/446/4d3/ab34464d3b60440598a33ef3d1598e95.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie alle Daten eingegeben haben, klicken Sie auf "Fertig stellen" und fügen Sie dann im Fenster zur Seitenerstellung auf die gleiche Weise alle für uns interessanten Elemente auf dieser Seite hinzu.</font></font><br>
<img src="https://habrastorage.org/files/b07/eb5/5e5/b07eb55e5086468d96f5d34dd9d14e08.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie alle Elemente auf der Seite erstellt haben, klicken Sie im Fenster zum Erstellen der Seite auf die Schaltfläche „Fertig stellen“. Erstellen Sie im Fenster zum Erstellen eines Bedienfelds mit demselben Szenario den Rest der Seite. </font></font><br>
<img src="https://habrastorage.org/files/579/d73/89f/579d7389fea742f187d8e0beb5871c46.PNG"><br>
<br>
<img src="https://habrastorage.org/files/a28/63a/382/a2863a382b834a05bdde879252dc4ca5.PNG"><br>
<br>
<img src="https://habrastorage.org/files/0f9/3bb/87d/0f93bb87d247496a9cdd0dfe4fbde198.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir beenden die Erstellung des Panels mit der bekannten Schaltfläche "Fertig stellen". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie im Blockeditor das Seitenelement „Seite0“ „Text“ mit dem Namen „tnt“ und dem Attribut „Text (txt)“. Wählen Sie als Wert den Eingang. </font></font><br>
<img src="https://habrastorage.org/files/e67/ebb/b3f/e67ebbb3f29140d6bc64d9c22e01ca06.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Block ist konfiguriert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir betrachten das Schema weiter.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empirisch wurde definitiv festgestellt, dass ein Wert von -40 Grad eines gezeichneten Thermometers einem Wert von 10 im darauf befindlichen Element "Fortschrittsbalken" entspricht, und ein Wert von 50 Grad eines Thermometers einem Wert von 91 bar Fortschritt entspricht. Dementsprechend skalieren wir den Wert mit der Variablen „Temperature x10“ unter Verwendung des Blocks B10 - „Scale“ (Elementbibliothek, Ordner „Scaling“), ohne zu vergessen, dass der Temperaturwert mit 10 multipliziert wird. Parameter dieses Blocks. </font></font><br>
<img src="https://habrastorage.org/files/f34/da0/7d6/f34da07d6dbd4b86bb64fa09825b98eb.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der skalierte Temperaturwert wird mit Block B11 - "Set Parameter" (Elementbibliothek -&gt; Ordner "Panel Nextion HMI" -&gt; Ordner "Elements") an das Panel gesendet. Einstellungen für diesen Block.</font></font><br>
<img src="https://habrastorage.org/files/3a9/2b8/c78/3a92b8c7875248fa92c7b6003a54b727.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der nächste Block B12 - „Komparator“ (Elementbibliothek, Ordner „Vergleich“) bestimmt, ob die aktuelle Temperatur die eingestellte Temperatur um den Standardwert der Variablen „Set - Hot“ überschreitet. Es ist 290 (vergessen Sie nicht, dass wir überall Temperaturen multipliziert mit 10 haben). </font></font><br>
<img src="https://habrastorage.org/files/846/5fb/fb5/8465fbfb547f4767b9658c0dbd36d2c5.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Block B12 ist so konfiguriert, dass eine logische Einheit an ihrem Ausgang ausgegeben wird, wenn der Wert am Eingang "I1" den Wert am Eingang "I2" überschreitet.</font></font><br>
<img src="https://habrastorage.org/files/96d/b71/2b8/96db712b8a014b168bc53f884bc13e79.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Blöcke B13, B14 und B15 bilden diskrete Signaländerungserfassungsschaltungen. Die Blöcke B13 und B14 - Rtrig (Elementbibliothek, Ordner „Trigger“) geben bei Auftreten einer Vorderflanke eines diskreten Signals einen Ausgangsimpuls mit einer Dauer von 1 Programmzyklus aus. Block B14 erkennt aufgrund der Inversion an seinem Eingang die Hinterflanke des Signals "Überschreiten der Schwelle". Block B15 –OR (Elementbibliothek, Ordner „Basic Elements“) gibt, wenn sich an einem der Eingänge eine logische Einheit befindet, eine logische Einheit an ihren Ausgang aus. Somit wird ein Signal gebildet, "Daten zu senden, wenn der Schwellenwert überschritten wird". An der Vorderflanke dieses Signals wird ein Befehl zum Ändern der Schriftfarbe des Textfelds gesendet, in dem die aktuelle Temperatur angezeigt wird. Das Senden erfolgt über Block B17 - „Parameter einstellen“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt;Elementordner). Einstellungen für diesen Block.</font></font><br>
 <img src="https://habrastorage.org/files/e0d/208/dc4/e0d208dc4a564cc68e9f9e1a80082aac.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der im Befehl übertragene Wert wird mit Block B16 - „Switch“ (Elementbibliothek, Ordner „Switch“) ausgewählt. Dieser Block mit einem niedrigen Logikpegel am Eingang überträgt den Wert vom Eingang „0“ zum Ausgang und mit einem hohen Wert vom Eingang „1“. Der den Schaltereingängen zugeführte Farbwert wird mit den Blöcken B44 und B45 - „Farbkonstante Hight Color“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt; Ordner „Color“) eingestellt. Die Farbe wird im Blockeditor ausgewählt (Doppelklick auf den Block). </font></font><br>
<img src="https://habrastorage.org/files/bf8/d24/84d/bf8d2484dc4f472392677f90ac26800e.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um eine Farbe auszuwählen, klicken Sie auf die Schaltfläche "Ändern". Der Farbwähler wird geöffnet. </font></font><br>
<img src="https://habrastorage.org/files/2e0/a51/d97/2e0a51d971e14ee49de5e234260af69f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Darin wird durch Einstellen des Wertes der Komponenten R (rot), G (grün) und B (blau) die gewünschte Farbe ausgewählt.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Außerdem wird an der Vorderflanke des Signals "Senden von Daten, wenn der Schwellenwert überschritten wird" ein Befehl gesendet, um die Bindung des ausgeschnittenen Bildes zu ändern. Dies geschieht mit Block B19 - „Set Parameter“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt; Ordner „Elements“). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einstellungen für diesen Block. </font></font><br>
<img src="https://habrastorage.org/files/a59/bf3/7dc/a59bf37dc12a4ed6ba1fe4f570a9faee.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Bildindex wird mit Block B18 - „Switch“ (Elementbibliothek, Ordner „Switch“) ausgewählt. Seine Arbeit wurde oben beschrieben. Der Indexwert des erforderlichen Bildes kann im Nextion Editor-Projekt in der Bildbibliothek angezeigt werden. </font></font><br>
 <img src="https://habrastorage.org/files/bfc/de6/bc4/bfcde6bc4c7e4ab082a979100ddf58a1.PNG"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit der Übertragung der Temperaturdaten beendet. Gehen wir weiter zur Luftfeuchtigkeit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Board 3. Schlussfolgerung der Luftfeuchtigkeit.</font></font><br>
<img src="https://habrastorage.org/files/eb4/67f/082/eb467f082a8f4398a662f21047e09c1c.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie bei der Temperatur erzeugen wir zunächst ein Signal „Daten senden, wenn sich die Luftfeuchtigkeit ändert“. Wir tun dies mit Block B20 - „Nummernänderungsdetektor“ (Elementbibliothek, Ordner - „Basisblöcke“). Der Betrieb dieses Geräts wurde bereits beschrieben. Dieses Signal sendet den Wert an ein numerisches Feld, das die Luftfeuchtigkeit anzeigt. Dies geschieht mit Block B21 - „Set Parameter“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt; Ordner „Elements“). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einstellungen für diesen Block.</font></font><br>
<img src="https://habrastorage.org/files/c42/a1b/8f7/c42a1b8f777542b1a10b7098cbdd7e73.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empirisch wurde definitiv festgestellt, dass für den 0% Luftfeuchtigkeitswert der gezeichneten Hygrometerskala im Paneldesign das „Gayge“ -Element, das den Pfeil zeichnet, 314 und für 100% Luftfeuchtigkeit 226 beträgt. Gleichzeitig geht der Pfeil über den Wert 0. Bei der Umrechnung in lineare Werte erhalten wir stetig reichen von -46 (0%) bis 226 (100%). In Übereinstimmung mit diesen Daten konfigurieren wir den Block B22 - „Scale“. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blockparameter.</font></font><br>
<img src="https://habrastorage.org/files/8aa/d85/f2e/8aad85f2e0d342c89a69458e74823adc.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da die Werte für das Element „Messgerät“ nicht negativ sein dürfen, wird bei einem negativen Wert zur Berechnung des Pfeilwinkels bei diesen Werten der Wert 360 hinzugefügt. Dazu verwenden wir den B23-Block „SUMM (+)“ (Elementbibliothek, Mathe-Ordner). Mit Block B26 - „Komparator“ (Elementbibliothek, Ordner „Vergleich“) stellen wir fest, dass die Zahl kleiner als 0 ist. Sein Ausgang steuert den Schalter B24 - „Schalter“ (Elementbibliothek, Ordner „Schalter“) und der ausgewählte Wert wird über Block B25 - „Parameter einstellen“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt; Ordner „Elemente“ an das Panel gesendet. ) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einstellungen für diesen Block. </font></font><br>
 <img src="https://habrastorage.org/files/15f/dbd/3a1/15fdbd3a186f4978957f758c740f3627.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die nächste Tafel zeigt eine grafische Darstellung der Änderungen von Temperatur und Luftfeuchtigkeit.</font></font><br>
<img src="https://habrastorage.org/files/efa/d2d/2e0/efad2d2e02ee4662ba6bd880649dcfa5.PNG"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie ich zu Beginn der Lektion geschrieben habe, weiß das Waveform-Element nicht, wie man ein globales Element ist, und wird jedes Mal neu gezeichnet, wenn Sie die Seite öffnen, auf der es sich befindet. Wir müssen diese Einschränkung umgehen. Bestimmen Sie zunächst die Nummer der Seite, die derzeit in das Bedienfeld geladen wird. Verwenden Sie dazu Block B27 - „ID der aktuellen Seite abrufen“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt; Ordner „Seite“). In den Einstellungen dieses Blocks müssen Sie nur das Panel auswählen, auf das wir mit dieser Anfrage zugreifen. </font></font><br>
 <img src="https://habrastorage.org/files/67a/2f6/a50/67a2f6a500384229b7dcdcf15bb0692f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die aus diesem Block erhaltene Seitenzahl wird mit dem Index der benötigten Seite (2) unter Verwendung von Block B28 - „Komparator“ (Elementbibliothek, Ordner „Vergleich“) verglichen. Wenn die gewünschte Seite geöffnet ist, wird die logische Einheit in die Variable "Seite des Diagramms öffnen" geschrieben. Wenn nicht, dann eine logische Null.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Block B29 - „Generator“ (Elementbibliothek, Ordner „Timer“) wird ein Signal generiert, um den nächsten Punkt im Diagramm aufzuzeichnen. Dieser Block erzeugt Impulse mit einer bestimmten Impulsdauer und Pause. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einstellungen blockieren. </font></font><br>
<img src="https://habrastorage.org/files/635/c54/7fb/635c547fb9e349bfab2ce151d1d3e5d4.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der ausgewählte Generatortyp ist "Symmetrischer Multivibrator", was bedeutet, dass die Impulsdauer gleich der Dauer der Pause ist. Wenn Sie die Pulsdauer auf 5 Sekunden einstellen, beträgt die Pause 5 Sekunden. Die Vorderflanke des Impulses kommt alle 10 Sekunden. Diese Front wird durch Block B30 - "Rtrig" (Elementbibliothek, Ordner "Trigger") hervorgehoben und in die Variable "Befehl zum Aufzeichnen des nächsten Punktes" geschrieben.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An der Vorderkante des Signals „Grafikseite öffnen“, das mit Block B31 - „Rtrig“ (Elementbibliothek, Ordner „Trigger“) ausgewählt wird, wird das Signal „Grafikverlauf senden“ generiert. Durch dieses Signal wird der Inhalt von Arrays an das Bedienfeld im Diagramm gesendet, in dem die Werte der Punkte gespeichert sind, die das Änderungsdiagramm anzeigen. Für die Temperatur wird dies mit Block B32 - „Senden des Arrays an das Diagramm“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt; Ordner „Diagramm“) durchgeführt. Der Block wird mit dem Blockeditor konfiguriert. </font></font><br>
<img src="https://habrastorage.org/files/5fb/d05/cef/5fbd05cefd09456e8070511636f2b086.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst müssen Sie ein Array erstellen, in dem der Verlauf des Temperaturdiagramms gespeichert wird. Klicken Sie dazu auf die Schaltfläche "Erstellen". Das Array-Erstellungsfenster wird geöffnet.</font></font><br>
<img src="https://habrastorage.org/files/142/b76/73a/142b7673a7164af3a3e2b31dca1ba43d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Ozean müssen Sie den Namen des Arrays und den Typ eingeben (verwenden Sie Byte, da das Waveform-Element einen Maximalwert von 255 annimmt). Die Größe entspricht der Breite des Diagramms (330). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie nach dem Erstellen das Bedienfeld, die Seite, das Element und den Kanal aus, auf dem das Diagramm gezeichnet werden soll. </font></font><br>
<img src="https://habrastorage.org/files/f71/978/2ad/f719782ade3c46b390a3a7dbf3a033fe.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf die gleiche Weise konfigurieren wir den Block zum Senden eines Arrays mit Feuchtigkeitsdaten an das B33-Bedienfeld - „Senden des Arrays an das Diagramm“ (Elementbibliothek -&gt; Ordner „Nextion HMI-Bedienfeld“ -&gt; Ordner „Diagramm“). In den Einstellungen erstellen wir ein weiteres Array zum Speichern dieser Daten.</font></font><br>
<img src="https://habrastorage.org/files/e36/840/309/e368403092b34f3eb0db58524c9a49a9.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt müssen Sie die Daten für das Temperaturdiagramm vorbereiten. Dieses Diagramm hat eine Linie entlang seiner Achse in einer Höhe von 160 Punkten vom unteren Rand des Diagramms. Um die Temperaturänderungen besser sichtbar zu machen, teilen wir den Wert der Variablen „Temperatur x10“ mit Block B35 durch 5 (dh als würde der reale Temperaturwert mit 2 multipliziert) und addieren den Offset mit Block B36. Das Ergebnis wird in die Variable "Temperatur mit einer Verschiebung für das Diagramm" eingegeben. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Block B37 - „Stapel“ (Elementbibliothek, Ordner „Arrays“) wird der Impuls aus der Variablen „Befehl zum Aufzeichnen des nächsten Punktes“ durch die Temperatur mit einer Verschiebung für den Graphen nach dem Stapelprinzip in das Array geschrieben (das erste Element des Arrays wird gelöscht). der Rest wird um eins verschoben und der letzte Wert wird geschrieben). Der Block wird mit dem Blockeditor parametriert.</font></font><br>
<img src="https://habrastorage.org/files/668/d4d/876/668d4d8760444b6f830442c18c41df5f.PNG"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie im Editor das gewünschte Array aus, indem Sie auf die Schaltfläche "Auswählen" klicken. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf die gleiche Weise konfigurieren wir den B34-Block "Stack" (Elementbibliothek, Ordner "Arrays") zum Schreiben von Feuchtigkeitswerten in das Array, indem wir im entsprechenden Array auswählen.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Wenn die Diagrammseite geöffnet ist, die Übertragung von Arrays in das Diagramm abgeschlossen ist und der Befehl zum Aufzeichnen des nächsten Punkts empfangen wird, werden die Werte der neuen Punkte an die entsprechenden Diagramme gesendet. Dies ist erforderlich, damit die Grafiken während der Anzeige der Seite weiter erstellt werden können. Die Einhaltung dieser Bedingungen wird mit Block B38 - „UND“ (Elementbibliothek, Ordner „Grundelemente“) überwacht. Dieser Block gibt eine Einheit an seinem Ausgang aus, wenn an allen Eingängen eine logische Einheit vorhanden ist. Der nächste Temperaturwert mit einer Verschiebung wird mit Block B40 - „Punkt zum Diagramm hinzufügen“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt; Ordner „Diagramm“) an das Diagramm gesendet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einstellungen blockieren.</font></font><br>
<img src="https://habrastorage.org/files/826/975/791/826975791bc84fa0b74b983e80e9801f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Block zum Senden des nächsten Feuchtigkeitswerts an das B39-Diagramm ist ebenfalls eingerichtet: "Hinzufügen eines Punkts zum Diagramm" (Elementbibliothek -&gt; Ordner "Nextion HMI Panel" -&gt; Ordner "Diagramm"). </font></font><br>
 <img src="https://habrastorage.org/files/394/a98/598/394a985989944970ab877690a57a0469.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fertig mit dem Abschluss des Zeitplans. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Board 5. Passen Sie die Helligkeit der Hintergrundbeleuchtung an. </font></font><br>
<img src="https://habrastorage.org/files/071/b32/d28/071b32d284934fdcaa7b74ed5d114a0b.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Wert der Hintergrundbeleuchtung, die mit einem variablen Widerstand eingestellt wurde, wird mit dem Analogeingangsblock „Helligkeit“ gelesen. Da der Helligkeitswert der Hintergrundbeleuchtung des Panels im Bereich von 0 bis 100 liegt, skalieren wir den Lesewert vom Bereich 0-1023 bis zum Bereich 0-100 mit dem Block B41 - „Scale“. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einstellungen blockieren. </font></font><br>
<img src="https://habrastorage.org/files/594/bc6/fe5/594bc6fe5a9e4c109b944e61b5ff923d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann bestimmen wir die Tatsache einer Änderung dieses Wertes mit Block B42 - „Detektor zum Ändern der Nummer“. Dieser Block hat einige nicht standardmäßige Einstellungen.</font></font><br>
<img src="https://habrastorage.org/files/e6b/efc/d38/e6befcd383c94eb598388f9dea69eded.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Helligkeit nicht für jede Bewegung des variablen Widerstands zu ändern, wird das Totband in der Einheit auf einen Wert von 5 eingestellt. Das heißt, die Einheit arbeitet, wenn sich der Eingangswert in beide Richtungen um mehr als 5 ändert. </font><font style="vertical-align: inherit;">Wenn das Gerät ausgelöst wird, wird ein Befehl an das Bedienfeld gesendet, um mithilfe von Block B43 - „Hintergrundbeleuchtungsstufe einstellen“ (Elementbibliothek -&gt; Ordner „Nextion HMI Panel“ -&gt; Ordner „System“) eine neue Helligkeit für die Hintergrundbeleuchtung einzustellen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blockeinstellungen Die </font></font><br>
<img src="https://habrastorage.org/files/3f4/586/d48/3f4586d4862841daa811972fd96a2811.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arbeit am Programm für die Steuerung ist abgeschlossen.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Für diejenigen, die sich für den Code für den resultierenden Sketch Skoller interessieren.</font></font></b><div class="spoiler_text"><pre><code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SoftwareSerial.h&gt;</span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"DHT.h"</span></span></span></span>
DHT _dht1(<span class="hljs-number"><span class="hljs-number">4</span></span>, DHT22);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-function">SoftwareSerial </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Serial100</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;<font></font>
<font></font>
byte _FLPArray142003126[<span class="hljs-number"><span class="hljs-number">330</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> };<font></font>
byte _FLPArray239384258[<span class="hljs-number"><span class="hljs-number">330</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> };
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _SUETFLPATemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
byte _nextionSaveDataVAL_P0_E2;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _nextionSaveDataPCO_P0_E3;<font></font>
String _nextionSaveDataTXT_P0_E3;<font></font>
byte _nextionSaveDataPICC_P0_E4;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _nextionSaveDataVAL_P1_E2;
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _nextionSaveDataVAL_P1_E4;<font></font>
String _nextionCommandTempString;<font></font>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextionLissenStruct</span></span></span><span class="hljs-class"> {</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> code;<font></font>
  String result;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> number;<font></font>
};<font></font>
_nextionLissenStruct _nextionTempLissen;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nextionGetPageIdTempVar = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> NextionPanel_47525121_PageIdOut = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _hasNumberChangeInTemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv1;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv2;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv3 = <span class="hljs-number"><span class="hljs-number">290</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gtv4 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gtv5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv6;
<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _dht1Tti = <span class="hljs-number"><span class="hljs-number">0U</span></span>L;
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _dht1t = <span class="hljs-number"><span class="hljs-number">0.00</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _dht1h = <span class="hljs-number"><span class="hljs-number">0.00</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _changeNumber1_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _changeNumber1_OLV;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr1_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr1_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr2_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr2_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt1I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt2I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr3_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _swi1;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr4_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
byte _swi2;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr5_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr5_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _changeNumber2_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _changeNumber2_OLV;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _swi3;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr6_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr6_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt3I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gen1I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gen1O = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _gen1P = <span class="hljs-number"><span class="hljs-number">0U</span></span>L;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt5I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionAddPointToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionAddPointToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _SFLPAS1;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _SFLPAS2;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSendArraytToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSendArraytToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetLighting1_OldStae = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _changeNumber3_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _changeNumber3_OLV;
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{<font></font>
  Serial100.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>);<font></font>
  _dht1.begin();<font></font>
  nextionSendCommand(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  nextionSendCommand(<span class="hljs-string"><span class="hljs-string">"page 0"</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{ nextionGetPageIdTempVar = nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! (nextionGetPageIdTempVar &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) ) {<font></font>
    NextionPanel_47525121_PageIdOut = nextionGetPageIdTempVar;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_isTimer(_dht1Tti, <span class="hljs-number"><span class="hljs-number">5000</span></span>)) {<font></font>
    _dht1Tti = millis();<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tempDht4;<font></font>
    tempDht4 = _dht1.readTemperature();<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(isnan(tempDht4))) {<font></font>
      _dht1t = tempDht4;<font></font>
    }<font></font>
    tempDht4 = _dht1.readHumidity();<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(isnan(tempDht4))) {<font></font>
      _dht1h = tempDht4;<font></font>
    }<font></font>
  }<font></font>
<font></font>
<font></font>
<font></font>
  _gtv1 = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>((_dht1t) * (<span class="hljs-number"><span class="hljs-number">10</span></span>)));<font></font>
  _gtv2 = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(_dht1h));
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((_gtv1) &gt; (_gtv3)) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt1I) {<font></font>
      _trgrt1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt1 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt1I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt1I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((_gtv1) &gt; (_gtv3))<font></font>
  {<font></font>
    _swi1 = <span class="hljs-number"><span class="hljs-number">63488</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
  {<font></font>
    _swi1 = <span class="hljs-number"><span class="hljs-number">2016</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!((_gtv1) &gt; (_gtv3))) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt2I) {<font></font>
      _trgrt2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt2 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt2I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt2I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((_gtv1) &gt; (_gtv3))<font></font>
  {<font></font>
    _swi2 = <span class="hljs-number"><span class="hljs-number">2</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
  {<font></font>
    _swi2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber1_Out) {<font></font>
    _changeNumber1_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _hasNumberChangeInTemp = _gtv1;<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_hasNumberChangeInTemp != _changeNumber1_OLV) {<font></font>
      _changeNumber1_OLV = _hasNumberChangeInTemp;<font></font>
      _changeNumber1_Out = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber1_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr1_oldState ) {<font></font>
      _nextionSetAttr1_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr1_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataTXT_P0_E3 =  ((( _floatToStringWitRaz((_gtv1) / (<span class="hljs-number"><span class="hljs-number">10.00</span></span>), <span class="hljs-number"><span class="hljs-number">1</span></span>))) + (String(<span class="hljs-string"><span class="hljs-string">" C"</span></span>))) ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr1_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr1_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tnt.txt=\""</span></span>) + _nextionSaveDataTXT_P0_E3 + String(<span class="hljs-string"><span class="hljs-string">"\""</span></span>);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr1_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber1_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr2_oldState ) {<font></font>
      _nextionSetAttr2_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr2_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataVAL_P0_E2 =  (<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv1), (<span class="hljs-number"><span class="hljs-number">-400</span></span>), (<span class="hljs-number"><span class="hljs-number">500</span></span>), (<span class="hljs-number"><span class="hljs-number">10</span></span>), (<span class="hljs-number"><span class="hljs-number">91</span></span>))) ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr2_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr2_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tpb.val="</span></span>) + String(_nextionSaveDataVAL_P0_E2);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr2_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_trgrt1) || (_trgrt2) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr3_oldState ) {<font></font>
      _nextionSetAttr3_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataPCO_P0_E3 =  _swi1 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr3_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr3_isNU) {<font></font>
      _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tnt.pco="</span></span>) + String(_nextionSaveDataPCO_P0_E3);<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionCommandTempString = <span class="hljs-string"><span class="hljs-string">"ref tnt"</span></span>;<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_trgrt1) || (_trgrt2) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr4_oldState ) {<font></font>
      _nextionSetAttr4_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataPICC_P0_E4 =  _swi2 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr4_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr4_isNU) {<font></font>
      _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tci.picc="</span></span>) + String(_nextionSaveDataPICC_P0_E4);<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionCommandTempString = <span class="hljs-string"><span class="hljs-string">"ref tci"</span></span>;<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv2), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">-46</span></span>), (<span class="hljs-number"><span class="hljs-number">226</span></span>)))) &lt; (<span class="hljs-number"><span class="hljs-number">0</span></span>))<font></font>
  {<font></font>
    _swi3 = ((<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv2), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">-46</span></span>), (<span class="hljs-number"><span class="hljs-number">226</span></span>)))) + (<span class="hljs-number"><span class="hljs-number">360</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
  {<font></font>
    _swi3 = (<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv2), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">-46</span></span>), (<span class="hljs-number"><span class="hljs-number">226</span></span>)));<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber2_Out) {<font></font>
    _changeNumber2_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _hasNumberChangeInTemp = _gtv2;<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_hasNumberChangeInTemp != _changeNumber2_OLV) {<font></font>
      _changeNumber2_OLV = _hasNumberChangeInTemp;<font></font>
      _changeNumber2_Out = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber2_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr5_oldState ) {<font></font>
      _nextionSetAttr5_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr5_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataVAL_P1_E4 =  _gtv2 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr5_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr5_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page1.humN.val="</span></span>) + String(_nextionSaveDataVAL_P1_E4);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr5_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber2_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr6_oldState ) {<font></font>
      _nextionSetAttr6_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr6_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataVAL_P1_E2 =  _swi3 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr6_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr6_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page1.humG.val="</span></span>) + String(_nextionSaveDataVAL_P1_E2);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr6_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _gen1I) {<font></font>
      _gen1I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _gen1O = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _gen1P = millis();<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _gen1I = <span class="hljs-number"><span class="hljs-number">0</span></span> ;<font></font>
    _gen1O = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gen1I) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( _isTimer ( _gen1P , <span class="hljs-number"><span class="hljs-number">5000</span></span> )) {<font></font>
      _gen1P = millis();<font></font>
      _gen1O = ! _gen1O;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gen1O) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt5I) {<font></font>
      _trgrt5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt5 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt5I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt5I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gtv4) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt3I) {<font></font>
      _trgrt3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt3 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt3I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt3I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  _gtv4 = (NextionPanel_47525121_PageIdOut) == (<span class="hljs-number"><span class="hljs-number">2</span></span>);<font></font>
  _gtv5 = _trgrt5;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt3) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionAddPointToWave1_OldState) {<font></font>
      _nextionAddPointToWave1_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nextionSATWTemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;  nextionSATWTemp &lt; <span class="hljs-number"><span class="hljs-number">330</span></span>;  nextionSATWTemp ++) {<font></font>
          _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,1,"</span></span>) + String (_FLPArray142003126[nextionSATWTemp]);<font></font>
          nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
        } delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionAddPointToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt3) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionAddPointToWave2_OldState) {<font></font>
      _nextionAddPointToWave2_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nextionSATWTemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;  nextionSATWTemp &lt; <span class="hljs-number"><span class="hljs-number">330</span></span>;  nextionSATWTemp ++) {<font></font>
          _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,0,"</span></span>) + String (_FLPArray239384258[nextionSATWTemp]);<font></font>
          nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
        } delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionAddPointToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gtv5) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_SFLPAS1) {<font></font>
      _SFLPAS1 =  <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (_SUETFLPATemp = <span class="hljs-number"><span class="hljs-number">0</span></span>; _SUETFLPATemp &lt; <span class="hljs-number"><span class="hljs-number">329</span></span>; _SUETFLPATemp = _SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span> ) {<font></font>
        _FLPArray239384258[_SUETFLPATemp ] = _FLPArray239384258[_SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span>];<font></font>
      }  _FLPArray239384258[<span class="hljs-number"><span class="hljs-number">329</span></span>] = _gtv2;<font></font>
    }<font></font>
  }  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _SFLPAS1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  _gtv6 = ((_gtv1) / (<span class="hljs-number"><span class="hljs-number">5</span></span>)) + (<span class="hljs-number"><span class="hljs-number">160</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gtv5) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_SFLPAS2) {<font></font>
      _SFLPAS2 =  <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (_SUETFLPATemp = <span class="hljs-number"><span class="hljs-number">0</span></span>; _SUETFLPATemp &lt; <span class="hljs-number"><span class="hljs-number">329</span></span>; _SUETFLPATemp = _SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span> ) {<font></font>
        _FLPArray142003126[_SUETFLPATemp ] = _FLPArray142003126[_SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span>];<font></font>
      }  _FLPArray142003126[<span class="hljs-number"><span class="hljs-number">329</span></span>] = _gtv6;<font></font>
    }<font></font>
  }  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _SFLPAS2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_gtv5) &amp;&amp; (!(_trgrt3)) &amp;&amp; (_gtv4) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionSendArraytToWave1_OldState) {<font></font>
      _nextionSendArraytToWave1_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {<font></font>
        _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,0,"</span></span>) + String (_gtv2);<font></font>
        nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>); delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSendArraytToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_gtv5) &amp;&amp; (!(_trgrt3)) &amp;&amp; (_gtv4) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionSendArraytToWave2_OldState) {<font></font>
      _nextionSendArraytToWave2_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {<font></font>
        _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,1,"</span></span>) + String (_gtv6);<font></font>
        nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>); delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSendArraytToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber3_Out) {<font></font>
    _changeNumber3_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _hasNumberChangeInTemp = (<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>(( (analogRead (<span class="hljs-number"><span class="hljs-number">0</span></span>))), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">1023</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>)));
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((_hasNumberChangeInTemp &gt; _changeNumber3_OLV) &amp;&amp; ((_hasNumberChangeInTemp - _changeNumber3_OLV ) &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>)) || ((_hasNumberChangeInTemp &lt; _changeNumber3_OLV) &amp;&amp; ((_changeNumber3_OLV - _hasNumberChangeInTemp ) &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ))<font></font>
    {<font></font>
      _changeNumber3_OLV = _hasNumberChangeInTemp;<font></font>
      _changeNumber3_Out = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber3_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(_nextionSetLighting1_OldStae)) {<font></font>
      _nextionSetLighting1_OldStae = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"dim="</span></span>) + String((<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>(( (analogRead (<span class="hljs-number"><span class="hljs-number">0</span></span>))), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">1023</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>))));<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetLighting1_OldStae = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
<font></font>
<font></font>
<font></font>
}<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _isTimer(<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> startTime, <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> period )<font></font>
{<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> currentTime;<font></font>
  currentTime = millis();<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentTime &gt;= startTime) {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (currentTime &gt;= (startTime + period));<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (currentTime &gt;= (<span class="hljs-number"><span class="hljs-number">4294967295</span></span> - startTime + period));<font></font>
  }<font></font>
}<font></font>
String  _floatToStringWitRaz(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> value, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> raz)<font></font>
{<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tv;
  <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ti = <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(value);<font></font>
  String ts = String(ti);<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (raz == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ts;<font></font>
  }<font></font>
  ts += <span class="hljs-string"><span class="hljs-string">"."</span></span>;
  <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tf = <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(value - ti);
  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= raz; i++ )<font></font>
  {<font></font>
    tv = tf * <span class="hljs-number"><span class="hljs-number">10</span></span>;<font></font>
    ti = <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(tv);<font></font>
    ts += String(ti);<font></font>
    tf = (tv - ti);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ts;<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextionSendCommand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* cmd, byte port )</span></span></span><span class="hljs-function">
</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (Serial100.available()) {<font></font>
    Serial100.read();<font></font>
  }<font></font>
  Serial100.print(cmd);<font></font>
  Serial100.write(<span class="hljs-number"><span class="hljs-number">0xFF</span></span>);<font></font>
  Serial100.write(<span class="hljs-number"><span class="hljs-number">0xFF</span></span>);<font></font>
  Serial100.write(<span class="hljs-number"><span class="hljs-number">0xFF</span></span>);<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-function">boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextionAck</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( byte port )</span></span></span><span class="hljs-function">
</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> bytes[<span class="hljs-number"><span class="hljs-number">4</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>};<font></font>
  Serial100.setTimeout(<span class="hljs-number"><span class="hljs-number">20</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(bytes) != Serial100.readBytes((<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *)bytes, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(bytes))) {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((bytes[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-number"><span class="hljs-number">0xFF</span></span>) &amp;&amp; (bytes[<span class="hljs-number"><span class="hljs-number">2</span></span>] == <span class="hljs-number"><span class="hljs-number">0xFF</span></span>) &amp;&amp; (bytes[<span class="hljs-number"><span class="hljs-number">3</span></span>] == <span class="hljs-number"><span class="hljs-number">0xFF</span></span>)) {
    <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (bytes[<span class="hljs-number"><span class="hljs-number">0</span></span>]) {
      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0x00</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0x01</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>;<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextionLissenStruct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextionListen</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">byte</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class"> )
{</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> _bite;
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> _end = <span class="hljs-number"><span class="hljs-number">0xff</span></span>;<font></font>
  String cmd;<font></font>
  _nextionLissenStruct temp;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> countEnd = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">10</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (Serial100.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Serial100.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) {<font></font>
      _bite = Serial100.read();<font></font>
      cmd += _bite;<font></font>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_bite == _end) {<font></font>
        countEnd++;<font></font>
      }<font></font>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (countEnd == <span class="hljs-number"><span class="hljs-number">3</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
  temp.result = <span class="hljs-string"><span class="hljs-string">""</span></span>;<font></font>
  temp.code = <span class="hljs-string"><span class="hljs-string">'z'</span></span>;<font></font>
  temp.number = <span class="hljs-number"><span class="hljs-number">0</span></span>;
  <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (cmd[<span class="hljs-number"><span class="hljs-number">0</span></span>]) {
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'e'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'e'</span></span>;<font></font>
      countEnd = <span class="hljs-number"><span class="hljs-number">0</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; cmd.length(); i++) {
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cmd[i] == _end) {<font></font>
          countEnd++;<font></font>
        }<font></font>
        temp.result += String(cmd[i], HEX);<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (countEnd == <span class="hljs-number"><span class="hljs-number">3</span></span>) {
          <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;<font></font>
        }<font></font>
        temp.result += <span class="hljs-string"><span class="hljs-string">" "</span></span>;<font></font>
      }<font></font>
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'f'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'f'</span></span>;<font></font>
      temp.result = String(cmd[<span class="hljs-number"><span class="hljs-number">1</span></span>], DEC);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'g'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'g'</span></span>;<font></font>
      temp.result = String(cmd[<span class="hljs-number"><span class="hljs-number">2</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">4</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">5</span></span>], DEC);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'h'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'h'</span></span>;<font></font>
      temp.result = String(cmd[<span class="hljs-number"><span class="hljs-number">2</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">4</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">5</span></span>], DEC);<font></font>
      temp.result = <span class="hljs-string"><span class="hljs-string">"68 "</span></span> + temp.result;
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'p'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'p'</span></span>;<font></font>
      temp.result = cmd.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>, cmd.length() - <span class="hljs-number"><span class="hljs-number">3</span></span>);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'q'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'q'</span></span>;<font></font>
      temp.number = (cmd[<span class="hljs-number"><span class="hljs-number">4</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">24</span></span>) | (cmd[<span class="hljs-number"><span class="hljs-number">3</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">16</span></span>) | (cmd[<span class="hljs-number"><span class="hljs-number">2</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) | (cmd[<span class="hljs-number"><span class="hljs-number">1</span></span>]);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextionAskPageNamper</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(byte port)</span></span></span><span class="hljs-function">
</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result;<font></font>
  _nextionLissenStruct temp;<font></font>
  nextionSendCommand(<span class="hljs-string"><span class="hljs-string">"sendme"</span></span>, port);<font></font>
  temp = nextionListen(port);<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((temp.code == <span class="hljs-string"><span class="hljs-string">'f'</span></span>) &amp;&amp; (temp.result != <span class="hljs-string"><span class="hljs-string">""</span></span>)) {<font></font>
    result = temp.result.toInt();<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    result = <span class="hljs-number"><span class="hljs-number">-1</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result;<font></font>
}<font></font>
</code></pre></div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein kurzes Video mit einer Demonstration.</font></font><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://www.youtube.com/embed/06SEOUOKbzs%3Ffeature%3Doembed&amp;usg=ALkJrhjCIQJ9MZs7R2gB00TKdXEvtkhgbw" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archivieren Sie mit dem Projekt für das Panel und dem Projekt für die Steuerung. </font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der nächsten Lektion lernen wir, wie Sie den Arduino-Controller über das Bedienfeld steuern.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de392685/">https://habr.com/ru/post/de392685/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de392673/index.html">SUNHOKEY 3D-Druckerkonstruktor während des Betriebs (Teil zwei)</a></li>
<li><a href="../de392675/index.html">Eine Flasche Kondenswasser aus der Luft wird bald in den Handel kommen</a></li>
<li><a href="../de392677/index.html">Mit dem 24-Zoll-Klappmonitor können Sie bei Bedarf Inhalte von unseren Smartphones abspielen</a></li>
<li><a href="../de392679/index.html">Leben, Intelligenz, Geist, Geist</a></li>
<li><a href="../de392683/index.html">Zecken greifen an</a></li>
<li><a href="../de392687/index.html">Восставший из гаража</a></li>
<li><a href="../de392691/index.html">Mikrosatellit für großen Raum</a></li>
<li><a href="../de392693/index.html">Apples neues Patent: MacBook ohne mechanische Tastatur</a></li>
<li><a href="../de392695/index.html">Und wieder über das Fotografieren des Mondes mit improvisierten Mitteln</a></li>
<li><a href="../de392697/index.html">Der Doktorand aus Astrachan hat ein biologisches Produkt entwickelt, um Pflanzen vor Pilzkrankheiten zu schützen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>