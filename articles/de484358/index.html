<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèæ üë©üèΩ‚Äçüç≥ üòì Portfoliomanagement in R ü¶é üë§ üíÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es gibt viele Programme zur Analyse und Verwaltung von Optionsportfolios. Sie befinden sich in Handelsterminals in Form von separaten kommerziellen Pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Portfoliomanagement in R</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484358/"><p>  Es gibt viele Programme zur Analyse und Verwaltung von Optionsportfolios.  Sie befinden sich in Handelsterminals in Form von separaten kommerziellen Produkten oder Dienstleistungen auf Websites.  Solche Programme unterliegen einer Reihe von Einschr√§nkungen: Portfolios sind an eine Handelsplattform gebunden, Quotes werden aus einer bestimmten Quelle gepumpt und Parameter oder Szenarien k√∂nnen nur mit der mitgelieferten Software berechnet werden. </p><br><p>  Ich habe die Aufgabe gel√∂st, Portfolios in verschiedenen M√§rkten mit R zu verwalten. Die Open-Source-Engine bietet viele M√∂glichkeiten: Portfolios werden in einem beliebigen DBMS oder Excel gespeichert oder vom Terminal heruntergeladen (QUIK, TWS, andere mit einer API).  Die Quotes werden von ihrer Quelle (Terminal, Datenbank oder Website) gepumpt und jede Portfolioanalyse ist verf√ºgbar! </p><a name="habracut"></a><br><h1 id="obschee-opisanie">  Allgemeine Beschreibung </h1><br><p> Marktdaten und Portfolio werden in Objekte der <code>OptPort</code> und <code>OptMarket</code> geladen.  Das Portfolio wird entsprechend dem Markt neu bewertet. Auf der Grundlage dieser Daten werden der aktuelle Gewinn und die "Griechen" sowie ihr Profil berechnet.  Das Portfolio-Profil (Abh√§ngigkeit des Gewinns oder ‚ÄûGriechen‚Äú vom Kurs des Basiswerts) wird berechnet und in einem Objekt der Klasse <code>OptProfile</code> .  Integrierte Funktionen zeichnen ein Profildiagramm und erm√∂glichen den Vergleich der Profile mehrerer Portfolios. </p><br><p>  √úber den Link (1) am Ende des Artikels - eine Option zur Verwaltung des Mosbirzh-Optionsportfolios mit Verbindung zu QUIK und Access. </p><br><h2 id="rynochnye-kotirovki-optmarket">  OptMarket Marktnotierungen </h2><br><p>  Ein Objekt der <code>OptMarket</code> Klasse <code>OptMarket</code> ben√∂tigt, um Aktienoptionskurse, Informationen zum zugrunde liegenden Verm√∂genswert und das aktuelle Datum zu speichern. </p><br><p>  Ohne Marktpreise wird ein Portfolio zum inneren Wert neu bewertet. </p><br><pre> <code class="plaintext hljs">#    ( )  Access brd = GetBoard_fortsdb(ul) #    OptMarket mrkt = OptMarket(ul = 'SiZ9', #    ul_price = brd$ul_price, #    board = as.tbl(brd$board), #   now = as.Date('2019-11-12')) #  </code> </pre> <br><h2 id="portfel-optport">  OptPort-Portfolio </h2><br><p>  Ein Portfolio kann aus Optionen und einem Basiswert bestehen.  Konstruktor <br>  Erstellt ein Portfolio basierend auf einer Tabelle mit Transaktionen f√ºr eine bestimmte Basis <br>  Verm√∂genswert.  Transaktionen werden in einem gemeinsamen Standpunkt zusammengefasst. </p><br><pre> <code class="plaintext hljs">#    Access (      QUIK) trades = GetTrades_fortsdb() # ..     ,       trades = TickerToParams_fortsboard(trades, mrkt$board)</code> </pre> <br><p>  Basierend auf den Transaktionen erstellen wir ein Objekt der <code>OptPort</code> Klasse: </p><br><pre> <code class="plaintext hljs">port = OptPort(ul = 'SiZ9', trades = trades, name = 'Spread')</code> </pre> <br><h1 id="analiz-portfelya">  Portfolio-Analyse </h1><br><h2 id="ocenka-portfelya">  Portfoliobewertung </h2><br><p>  <code>PortPricing</code> bewertet das Portfolio zu aktuellen Preisen neu - w√§hlt Optionspreise von <code>OptMarket</code> und f√ºgt sie dem <code>OptPort</code> Portfolio hinzu.  F√ºr die Optionen von Moscow Exchanges ist es am einfachsten, sie zu dem theoretischen Preis neu zu bewerten, den die B√∂rse selbst sendet und der immer bekannt ist ( <code>price_at = 'theor'</code> ). </p><br><pre> <code class="plaintext hljs">port = PortPricing(port, mrkt, price_at = 'theor')</code> </pre> <br><h2 id="pribyl-i-greki">  Profit und die "Griechen" </h2><br><p>  Die <code>PortValuation</code> Funktion berechnet Portfolio-Parameter - nicht realisierte Gewinne und ‚ÄûGriechen‚Äú.  Die Ergebnisse werden im Feld <code>total_value</code> des <code>OptPort</code> Objekts gespeichert. </p><br><pre> <code class="plaintext hljs">port = PortValuation(port) port$total_value</code> </pre> <br><h2 id="profil-portfelya---optprofile">  Portfolio-Profil - OptProfile </h2><br><p>  Das <code>OptProfile</code> Objekt speichert das Portfolio-Profil in der Preisspanne des zugrunde liegenden Verm√∂genswerts. </p><br><p>  Die <code>PlotProfile</code> Funktion erstellt ein auf <code>ggplot2</code> basierendes <code>ggplot2</code> . </p><br><pre> <code class="plaintext hljs">myprofile = OptProfile(optport = port, params = c('pl', 'delta', 'theta', 'vega'), ul_range = 0.05 #         ) PlotProfile(myprofile)</code> </pre> <br><p><img src="https://habrastorage.org/webt/tp/wf/ow/tpwfowhgluc0hmulhz588hlnzwk.png"></p><br><h2 id="izmenenie-sostava-portfelya">  Portfolio Zusammensetzung </h2><br><p>  Um die Zusammensetzung des Portfolios zu √§ndern, gibt es eine Funktion <code>AddTrades</code> .  Sie f√ºgt dem Portfolio einen Deal hinzu und berechnet eine neue Portfolioposition. </p><br><br><pre> <code class="plaintext hljs">#   -      newtrade = data.frame(ul='SiZ9', ticker='Si63500BX9', xtype='p', strike=63500, expdate=as.Date('2019-12-19'), tradeprice=500, q=-1 ) #    port2 = AddTrades(port = port, trades = newtrade) port2$name = 'Changed'</code> </pre> <br><p>  Das Profil des neuen Portfolios kann mit dem alten verglichen werden.  <code>JoinProfiles</code> Funktion <br>  Kombiniert Profildaten, um ein gemeinsames Diagramm zu erstellen. </p><br><pre> <code class="plaintext hljs">#       port2 = port2 %&gt;% PortPricing(., mrkt, price_at = 'theor') %&gt;% PortValuation(.) #    myprofile2 = OptProfile(optport = port2, params = c('pl', 'delta','theta', 'vega'), ul_range = 0.05) #   profiles = JoinProfiles(list(myprofile, myprofile2)) PlotProfile(profiles)</code> </pre> <br><p><img src="https://habrastorage.org/webt/fs/pj/bm/fspjbmntgy-ndtnogzqnaaz7p2c.png"></p><br><h1 id="itogo">  Total </h1><br><p>  Grundfunktionen l√∂sen Grundprobleme.  Meine L√∂sung wurde f√ºr einen bestimmten Zweck entwickelt - Analyse vieler Portfolios und Modellierung von √Ñnderungen in diesen Portfolios.  Den Quellcode finden Sie unter dem unten stehenden Link.  Bonus - eine Basis zum Importieren von Daten aus QUIK und zum Einrichten von QUIK selbst f√ºr den Export. </p><br><p>  Referenzen: <br>  (1) <a href="https://github.com/apxu-devil/PositiveDelta" rel="nofollow">Quellcode auf GitHub</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de484358/">https://habr.com/ru/post/de484358/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de484338/index.html">Samsungs Neon-Projekt: Digital Bankers, Fernsehmoderatoren, Companions</a></li>
<li><a href="../de484340/index.html">Java Digest f√ºr den 17. Januar. Die ersten zwei Wochen des neuen Jahres</a></li>
<li><a href="../de484342/index.html">Toolkit basierend auf Eclipse und GTK + f√ºr ‚ÄúToradex Colibri T20 (Linux)‚Äù</a></li>
<li><a href="../de484344/index.html">Drei Ebenen der automatischen Skalierung in Kubernetes: wie man sie effektiv nutzt</a></li>
<li><a href="../de484356/index.html">Ein interessantes Projekt in einem freundlichen Team, oder wie viel kostet der richtige Mitarbeiter?</a></li>
<li><a href="../de484364/index.html">Mit 26 Jahren leitet Yana Harlan die Entwicklung einer Raumfahrtmaschine. N√§chstes Jahr planen sie den Start.</a></li>
<li><a href="../de484370/index.html">Slurm SRE - lernen, die Zufriedenheit der Benutzer zu gew√§hrleisten</a></li>
<li><a href="../de484372/index.html">Smart House mit Xiaomi am Beispiel einer Sauna</a></li>
<li><a href="../de484374/index.html">Reise in die Mitte ... Hafenarbeiter Bild. Oder wie man ein Bild aus der Registrierung ohne Andockfenster herunterl√§dt</a></li>
<li><a href="../de484376/index.html">Samsung Moskauer Zentrum f√ºr K√ºnstliche Intelligenz in Mitarbeitergeschichten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>