<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåâ üèóÔ∏è ‚úñÔ∏è La historia de un "desarrollador" o c√≥mo un reci√©n llegado a escribir una aplicaci√≥n para iOS üë©üèø‚Äç‚öïÔ∏è üèÇüèæ üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entonces, mayo de 2018. Se hicieron 7 intentos en 7 a√±os para comenzar a programar algo para iOS. Y cada vez lo mismo: Objective-C es algo aterrador e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La historia de un "desarrollador" o c√≥mo un reci√©n llegado a escribir una aplicaci√≥n para iOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469387/"><img src="https://habrastorage.org/webt/oe/bp/os/oebpos7zdtlt8gx_bn3xaeeqct0.png"><br><br>  Entonces, mayo de 2018.  Se hicieron 7 intentos en 7 a√±os para comenzar a programar algo para iOS.  Y cada vez lo mismo: Objective-C es algo aterrador e incomprensible, entonces no hay idea.  Y luego Hello World, una vez al a√±o, en general, las cosas no salieron ... <br><br>  Esta vez, un nuevo Xcode y un nuevo lenguaje para m√≠ Swift ... Y una nueva idea, quiero enviar notificaciones para mi servidor Zabbix.  no hay stock oficial, y no hab√≠a clientes en ese momento ... <br><br>  Antes de esto, el bot envi√≥ los telegramas al empuje, pero comenz√≥ a chatarra y Roskomnadzor lleg√≥ a tiempo ... El bloqueo del carrito no juega un papel especial, porque  hay Mikrotik y fue inmediatamente "arreglado". <br><br>  Se decidi√≥ escribir una notificaci√≥n Zabbix, que luego no ser√° solo para notificaciones. <br><a name="habracut"></a><br>  Al final result√≥ que, simplemente lanzar notificaciones no funcionar√°.  Debe escribir una aplicaci√≥n, instalarla, tomar un token de ella, elevar su servidor para enviar notificaciones push ... <br><br>  La experiencia de programaci√≥n fue solo en PHP.  Swift es diferente, pero no parec√≠a tan intimidante como Objective-C en ese momento.  Y Xcode en s√≠ mismo es bueno como un IDE que convierte el c√≥digo de viejo a nuevo, da pistas. <br><br>  En primer lugar, videos de entrenamiento, aprendiendo la API de Zabbix.  Pero luego, un art√≠culo tras otro, c√≥mo funciona NSURLSession, qu√© marcos existen. <br><br>  La primera versi√≥n solo pudo iniciar sesi√≥n en el servidor Zabbix y proporcionar activadores y hosts.  Luego se agregaron vistas de gr√°ficos, valores, etc. <br><br>  Me detendr√© en algunos puntos que encontr√© al escribir la solicitud. <br><br><h2>  Marcos </h2><br>  Los marcos no entraron.  Son "geniales", c√≥modos, pero no quiero arreglar el proyecto m√°s tarde debido a que algo ha cambiado.  Y esto ya ha sucedido.  Por mi parte, decid√≠ no usarlos, y es mejor inventar mi bicicleta para entender c√≥mo funciona todo.  Para las solicitudes JSON, existe Alamofire, pero uso la NSURLSession incorporada porque  es suficiente para todo. <br><br><h2>  Pruebas </h2><br>  Ha pasado m√°s de un a√±o para entonces, cuando decid√≠ agregar pruebas :) <br>  Pens√© que esta cosa fascinante salvar√≠a al mundo ... Pero ... escrib√≠ varias pruebas diferentes, lo met√≠ aqu√≠ ... Y lleg√≥ la pereza.  No veo hasta ahora tareas en un proyecto tan peque√±o para asignar tanto tiempo para las pruebas ... Y este es solo el momento para las pruebas de c√≥digo, sin mencionar las pruebas de IU. <br><br><img src="https://habrastorage.org/webt/o1/un/zo/o1unzoeht1dafvq0rfojui5fonk.png" alt="imagen"><br><h2>  Cifrado </h2><br>  Hubo varios puntos en el cifrado. <br><br>  Apple, seg√∫n sus manuales, quiere que todas las solicitudes se cifren.  Y eso es correcto.  Pero como ha demostrado la pr√°ctica, no todos quer√≠an hacer https para su Zabbix.  Al principio, no ten√≠a la opci√≥n (Configuraci√≥n de seguridad de transporte de aplicaciones) que permit√≠a tr√°fico http puro, por lo que me crucificaron en las rese√±as en la AppStore). Luego la encend√≠ no sin aventura.  Xcode no percibi√≥ mi l√≠nea hasta que simplemente recre√© todo el archivo Info.plist. <br><br>  Adem√°s, Apple quiere saber todo acerca de su aplicaci√≥n, el tr√°fico https habitual no se incluye en esto.  Pero si desea encriptar algo "de una manera complicada", informe a las autoridades estadounidenses. <br><br><img src="https://habrastorage.org/webt/vo/ok/q5/vookq5vegfsrnnm6zvovrcmpwro.png" alt="imagen"><br><br>  Al comunicarse con uno de los usuarios de la aplicaci√≥n, hubo una solicitud de cifrado de mensajes PUSH de extremo a extremo.  El mensaje debe estar encriptado en el servidor Zabbix y desencriptado solo en el tel√©fono.  Para tal cosa, Apple tiene notificaciones "mutables".  Es decir  si ha llegado el "contenido mutable", entonces en el impulso debe cambiar algo de acuerdo con lo que escribe.  Lo tuve descifrando el mensaje. <br><br>  La pol√≠tica de Apple aqu√≠ no est√° en contra del uso de tipos de cifrado est√°ndar.  ¬øQuieres algo tuyo, como escrib√≠ anteriormente, dame un trozo de papel y puedes mostrarme la llave? ... <br><br>  Us√© el CommonCrypto lib incorporado, por lo que este se considera el tipo est√°ndar de cifrado.  Tuve que meterme con el c√≥digo, porque  la mayor√≠a de los ejemplos est√°n muy desactualizados, o Xcode grit√≥ que no era seguro, que no ten√≠a nada que trabajar con bytes y datos directamente, o que se divirti√≥ con IV OpenSSL-a, que el desplazamiento no era correcto, entonces algo m√°s no era correcto.  Como resultado, fue posible crear un c√≥digo sin juramento y trabajar correctamente con OpenSSL al cifrar mensajes. <br><br><h2>  Cortocircuitos </h2><br>  Y el tema m√°s emocionante para m√≠ ... no pod√≠a escribir c√≥digo asincr√≥nico ...  Hasta ahora, al menos no he entendido mucho c√≥mo funcionan estos cierres. <br><br><img src="https://habrastorage.org/webt/9b/gk/ob/9bgkobrxhssqlmyif-lm7glk09u.png" alt="imagen"><br><br>  De forma predeterminada, NSURLSession es simplemente as√≠ncrono y no pude entender c√≥mo trabajar con √©l m√°s tarde ... Us√© DispatchSemaphore para sincronizar el c√≥digo ... Naturalmente, hubo muchas quejas de los usuarios de que se bloquea y se bloquea ... <br><br>  Entonces, de todos modos, me di cuenta de qu√© y c√≥mo funcionaba en el circuito, qu√© tiempo de espera en NSURLSession y qu√© es qu√©.  El c√≥digo fue completamente reemplazado por normal, se agregaron controladores de errores.  Y la vida ha mejorado, la vida se ha vuelto m√°s divertida. <br><br><h2>  Dise√±o </h2><br><img src="https://habrastorage.org/webt/7t/my/fz/7tmyfzxt8je0azn4ygnesshmf0g.png"><br><br>  S√≠, tengo todo en un Storyboard.  S√© que esto no es muy, pero hasta ahora hay pocas pantallas.  Tal vez lo pondr√© en xibs m√°s tarde. <br><br>  iOS 13 ha tra√≠do cambios a las pantallas.  Anteriormente, todas las pantallas nuevas se mostraban como PUSH, es decir  pantalla completa  Ahora esta pantalla se puede desplegar y se cerrar√°. <br><br>  En general, hubo un error si hace clic en Cerrar sesi√≥n y simplemente puede contraer el formulario de inicio de sesi√≥n.  Esto solo ocurre si se ensambla el √∫ltimo Xcode 11. Se corrige simplemente configurando la opci√≥n de visualizaci√≥n para que se muestre solo en pantalla completa. <br><br>  Tambi√©n en iOS 13, apareci√≥ SwiftUI, pero si rehace la aplicaci√≥n ahora, significa olvidarse de aquellos que usan la aplicaci√≥n en dispositivos antiguos con firmware antiguo ... <br><br><h2>  Dise√±o de AppStore </h2><br>  Aunque escrib√≠ la aplicaci√≥n para m√≠, decid√≠ publicarla en la AppStore.  Todo es solo pagar $ 100 al a√±o y exponerlo.  La verdad sigue comprobando la aplicaci√≥n, explica por qu√© esta aplicaci√≥n, etc. <br><br>  Porque  solicitud de Zabbix, en el logotipo quer√≠a usar algo que dice sobre Zabbix.  Pero no estaba all√≠.  Escrib√≠ una carta a Zabbix preguntando que es posible usar la forma de la letra Z ... Pero no.  Por lo tanto, pint√© mi icono, una curva inclinada, pero la m√≠a) <br><br><h2>  Finanzas </h2><br>  La aplicaci√≥n tiene casi 2 a√±os.  Gast√≥ $ 200 solo para tener la aplicaci√≥n en la AppStore.  Aparte del desarrollo y el servidor push. <br><br><img src="https://habrastorage.org/webt/pl/mi/vf/plmivfphkjfbv-f2wxo8gsjqamk.png" alt="imagen"><br>  La aplicaci√≥n tiene un anuncio de Google ... que trajo ... ... $ 5 <br>  Desactivar la publicidad trajo $ 88 ... Pero el umbral de retiro es de $ 150. <br>  Luego, eliminar√© los anuncios en general tan pronto como llegue al l√≠mite de retiro. <br><br><h2>  Servidor de inserci√≥n </h2><br>  S√≠, s√≠, todo comenz√≥ para √©l ... Se requieren notificaciones push.  Una vez hecho esto para que pueda cifrar pushy, muchos cambiaron a cifrado. <br><br>  Hay 2 servidores, Mosc√∫ y los Pa√≠ses Bajos a 2 rublos / d√≠a.  Equilibrio de DNS, Nginx c Let's Encrypt, script PHP para recibir y enviar. <br><br>  Inicialmente, hab√≠a un servidor gratuito en Amazon (15 gigas de tr√°fico ...), pero cuando lleg√≥ el momento, compr√© un VPS-ku para mudarme all√≠.  Y encontr√© el momento en que DDOS iba al proveedor de alojamiento y vps no estuvo disponible durante 12 horas ... 2 rublos de los cuales quiero m√°s.  Bueno, todav√≠a estaba en Amazon y todav√≠a no me ha afectado.  Por lo tanto, luego se tom√≥ otro por 2 rublos por d√≠a, pero en una ubicaci√≥n diferente.  Al menos algo de tolerancia a fallas y tr√°fico de 15 gigabytes ... Las principales preocupaciones para el tr√°fico de Amazon, micro ddos ‚Äã‚Äãy usted obtuvo dinero. <br><br>  Quer√≠a usar Cloudflare como equilibrador, pero quieren que les delegue todo el dominio, y no bajo el dominio. <br><br><h2>  Algunas estad√≠sticas </h2><br>  Casi 6 mil descargas en total.  Y Brasil est√° en la cima ... qui√©n hubiera pensado) <br><br><img src="https://habrastorage.org/webt/zn/sd/ef/znsdefftcax1rqoctbocrnt3dp8.png" alt="imagen"><br><br><h2>  Conclusiones </h2><br><ul><li>  Swift no es nada de eso) </li><li>  La abundancia de art√≠culos y la conveniencia del IDE en el mundo moderno le permiten comenzar r√°pidamente. </li><li>  La aplicaci√≥n fue escrita inicialmente para m√≠, pero result√≥ ser una buena experiencia con el desarrollo y dise√±o en la AppStore con cr√≠ticas positivas y negativas. </li><li>  El desarrollo limpia bien el cerebro. </li><li>  Es mejor leer los muelles y no sincronizar el c√≥digo asincr√≥nico :) </li><li>  Generalmente escribe, copia, estudia.  Solo as√≠ se puede entender en la pr√°ctica qu√© es qu√©. </li><li>  * Comun√≠cate m√°s con los usuarios, definitivamente dir√°n por qu√© lo necesitan y c√≥mo quieren verlo.  Agregu√© un tercio de la funcionalidad en la aplicaci√≥n precisamente de acuerdo con los deseos de los usuarios. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469387/">https://habr.com/ru/post/469387/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469373/index.html">Los resultados del proyecto para crear una interfaz neuronal para pacientes completamente paralizados han cuestionado</a></li>
<li><a href="../469375/index.html">¬øPor qu√© Mozilla, Coil y Creative Commons asignan $ 100 millones para proyectos de c√≥digo abierto?</a></li>
<li><a href="../469379/index.html">Aplicaci√≥n de m√©todos formales de validaci√≥n de modelos para IU</a></li>
<li><a href="../469381/index.html">Agones, crea un servidor de juegos multiusuario. Arquitectura e instalaci√≥n</a></li>
<li><a href="../469383/index.html">Soluci√≥n hiperconvergente AERODISK vAIR. Base: sistema de archivos ARDFS</a></li>
<li><a href="../469389/index.html">Parametrizaci√≥n por una red neuronal de un modelo f√≠sico para resolver un problema de optimizaci√≥n topol√≥gica</a></li>
<li><a href="../469391/index.html">Interfaces de audio: el sonido como fuente de informaci√≥n en la carretera, en la oficina y en el cielo</a></li>
<li><a href="../469393/index.html">Resumen de Flare-On 2019</a></li>
<li><a href="../469395/index.html">D√≥nde y c√≥mo usar multicolumnas (columnas CSS)</a></li>
<li><a href="../469399/index.html">Wi-Fi en el Museo-Finca Arkhangelskoye</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>