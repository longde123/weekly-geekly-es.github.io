<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ผ ๐จ ๐ .NET: ุฃุฏูุงุช ููุนูู ูุน multithreading ู ุงูุชุฒุงูู. ุงูุฌุฒุก 1 ๐ข๏ธ ๐ฅ ๐ง๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฃูุดุฑ ุงูููุงู ุงูุฃุตูู ุนู ูุจุฑ ุ ูุงูุฐู ูุชู ูุดุฑ ุชุฑุฌูุชู ุนูู ูุฏููุฉ Codingsight . 
 ุงูุฌุฒุก ุงูุซุงูู ูุชุงุญ ููุง. 

 ูุงูุช ุงูุญุงุฌุฉ ุฅูู ุงูููุงู ุจุดูุก ูุง ุจุดูู ุบูุฑ ูุชุฒุงูู ุ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>.NET: ุฃุฏูุงุช ููุนูู ูุน multithreading ู ุงูุชุฒุงูู. ุงูุฌุฒุก 1</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452094/" style=";text-align:right;direction:rtl">  <i>ุฃูุดุฑ ุงูููุงู ุงูุฃุตูู ุนู ูุจุฑ ุ ูุงูุฐู ูุชู ูุดุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฑุฌูุชู ุนูู</a> ูุฏููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Codingsight</a> .</i> <br>  <i>ุงูุฌุฒุก ุงูุซุงูู ูุชุงุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง.</a></i> <br><br>  ูุงูุช ุงูุญุงุฌุฉ ุฅูู ุงูููุงู ุจุดูุก ูุง ุจุดูู ุบูุฑ ูุชุฒุงูู ุ ุฏูู ุงูุชุธุงุฑ ุงููุชูุฌุฉ ููุง ูุงูุขู ุ ุฃู ููุดุงุฑูุฉ ุงููุซูุฑ ูู ุงูุนูู ุจูู ุนุฏุฉ ูุญุฏุงุช ุชููู ุจู ุ ุญุชู ูุจู ุธููุฑ ุฃุฌูุฒุฉ ุงูููุจููุชุฑ.  ูุน ุธููุฑูุง ุ ุฃุตุจุญุช ูุฐู ุงูุญุงุฌุฉ ููููุณุฉ ููุบุงูุฉ.  ุงูุขู ุ ูู ุนุงู 2019 ุ ุงูุชุจ ูุฐู ุงูููุงูุฉ ุนูู ุฌูุงุฒ ููุจููุชุฑ ูุญููู ูุน ูุนุงูุฌ Intel Core ุฐู 8 ููุงุฉ ุ ูุงูุฐู ูุง ุชุนูู ูุงุฆุฉ ุนูููุฉ ูู ููุณ ุงูููุช ุ ูููู ุญุชู ุงููุฒูุฏ ูู ุณูุงุณู ุงูุนูููุงุช.  ุฅูู ุฌุงูุจ ุฐูู ุ ููุฌุฏ ูุงุชู ูุฒุนุฌ ููููุงู ุ ุชู ุดุฑุงุคู ูุจู ุนุงููู ุ ูุน ูุนุงูุฌ ุฐู 8 ูุฑุงูุฒ.  ุงูููุงุฑุฏ ุงูููุงุถูุนูุฉ ูููุฆุฉ ุจุงูููุงูุงุช ูููุงุทุน ุงูููุฏูู ุญูุซ ูุนุฌุจ ูุคููููุง ุจุงูููุงุชู ุงูุฐููุฉ ุงูุฑุงุฆุฏุฉ ููุฐุง ุงูุนุงู ุญูุซ ูุถุนูู ูุนุงูุฌุงุช 16 ููุงุฉ.  ุจุฃูู ูู 20 ุฏููุงุฑูุง ูู ุงูุณุงุนุฉ ุ ูููุฑ MS Azure ุฌูุงุฒูุง ุงูุชุฑุงุถููุง ุจู 128 ูุนุงูุฌุงุช ุฃุณุงุณูุฉ ูุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุจุณุนุฉ 2 ุชูุฑุงุจุงูุช.  ูุณูุก ุงูุญุธ ุ ูู ุงููุณุชุญูู ุชุนุธูู ูุฐู ุงูููุฉ ููุจุญูุง ุฏูู ุงูุชููู ูู ุงูุชุญูู ูู ุชูุงุนู ุงูุชุฏููุงุช. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ูุตุทูุญุงุช </h3><br>  <b>ูุนุงูุฌุฉ</b> - ูุงุฆู OS ุ ูุณุงุญุฉ ุนููุงู ูุนุฒููุฉ ุ ูุญุชูู ุนูู ูุคุดุฑุงุช ุงูุชุฑุงุจุท. <br>  ูุคุดุฑ <b>ุงูุชุฑุงุจุท (</b> ูุคุดุฑ <b>ุงูุชุฑุงุจุท)</b> - ูุงุฆู OS ุ ุฃุตุบุฑ ูุญุฏุฉ ููุชูููุฐ ุ ุฌุฒุก ูู ุนูููุฉ ุ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูุดุงุฑูุฉ ุงูุฐุงูุฑุฉ ูุงูููุงุฑุฏ ุงูุฃุฎุฑู ูููุง ุจูููุง ุฏุงุฎู ุงูุนูููุฉ. <br>  <b>ุชุนุฏุฏ ุงูููุงู</b> ูู ููุฒุฉ ูุธุงู ุงูุชุดุบูู ุ ูุงููุฏุฑุฉ ุนูู ุชูููุฐ ุนูููุงุช ูุชุนุฏุฏุฉ ูู ููุณ ุงูููุช <br>  <b>Multicore</b> - ุฎุงุตูุฉ ูููุนุงูุฌ ุ ูุงููุฏุฑุฉ ุนูู ุงุณุชุฎุฏุงู ุงูููู ุงููุชุนุฏุฏุฉ ููุนุงูุฌุฉ ุงูุจูุงูุงุช <br>  <b>ุงููุนุงูุฌุฉ ุงููุชุนุฏุฏุฉ</b> - ุฎุงุตูุฉ ููููุจููุชุฑ ุ ุงููุฏุฑุฉ ุนูู ุงูุนูู ูู ููุช ูุงุญุฏ ูุน ูุนุงูุฌุงุช ูุชุนุฏุฏุฉ ุฌุณุฏูุง <br>  <b>ุชุนุฏุฏ ูุคุดุฑุงุช ุงูุชุฑุงุจุท</b> ูู ุฎุงุตูุฉ ุนูููุฉ ุ ุงููุฏุฑุฉ ุนูู ุชูุฒูุน ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุจูู ูุคุดุฑุงุช ุชุฑุงุจุท ูุชุนุฏุฏุฉ. <br>  <b>ุงูุชูุงุฒู</b> - ุงูููุงู ุจุงูุนุฏูุฏ ูู ุงูุฅุฌุฑุงุกุงุช ุฌุณุฏููุง ูู ููุณ ุงูููุช ููู ูุญุฏุฉ ุฒูููุฉ <br>  <b>ุชุฒุงูู</b> - ุชูููุฐ ุนูููุฉ ูุง ุฏูู ุงูุชุธุงุฑ ููุงูุฉ ูุฐู ุงููุนุงูุฌุฉ ุ ูููู ูุนุงูุฌุฉ ูุชูุฌุฉ ุงูุชูููุฐ ูุงุญููุง. <br><br><h3 style=";text-align:right;direction:rtl">  ุงุณุชุนุงุฑุฉ </h3><br>  ููุณุช ูู ุงูุชุนุงุฑูู ุฌูุฏุฉ ูุจุนุถูุง ูุญุชุงุฌ ุฅูู ุชูุณูุฑ ุฅุถุงูู ุ ูุฐูู ุณุฃุถูู ุงุณุชุนุงุฑุฉ ูุทุจุฎ ุงูุฅูุทุงุฑ ุนูู ุงููุตุทูุญุงุช ุงูููุฏูุฉ ุฑุณูููุง.  ุงูุทุจุฎ ูุฌุจุฉ ุงูุฅูุทุงุฑ ูู ูุฐุง ุงูุงุณุชุนุงุฑุฉ ูู ุนูููุฉ. <br><br>  ุงูุทุจุฎ ุงูุฅูุทุงุฑ ูู ุงูุตุจุงุญ ( <b>ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ</b> ) ุฃุชูุช ุฅูู ุงููุทุจุฎ ( <b>ุงูููุจููุชุฑ</b> ).  ูุฏู 2 ุงูุฃูุฏู ( <b>ุงูููู</b> ).  ูุญุชูู ุงููุทุจุฎ ุนูู ุนุฏุฏ ูู ุงูุฃุฌูุฒุฉ ( <b>IO</b> ): ูุฑู ุ ุบูุงูุฉ ุ ูุญูุตุฉ ุ ุซูุงุฌุฉ.  ุฃููู ุจุชุดุบูู ุงูุบุงุฒ ุ ููุถุน ูููุงุฉ ุนููู ูุงุณูุจ ุงูุฒูุช ููู ุ ุฏูู ุงูุชุธุงุฑ ุญุชู ุชุฑุชูุน ุฏุฑุฌุฉ ุญุฑุงุฑุชู ( <b>ุจุดูู ุบูุฑ ูุชุฒุงูู ุ ุบูุฑ ูุงูุน ููุฅุบูุงู ุ ุงูุชุธุฑ</b> ) ุ ุฃุฎุฑุฌ ุงูุจูุถ ูู ุงูุซูุงุฌุฉ ูุฃูุณุฑูุง ูู ุทุจู ุ ุซู ุฃุถุฑุจูุง ุจูุฏ ูุงุญุฏุฉ (ูุคุดุฑ <b>ุงูุชุฑุงุจุท # 1)</b> ) ุ ูุงูุซุงูู ( <b>ุงูููุถูุน ุฑูู 2</b> ) ุฃูุง ุฃูุณู ููุญุฉ (ุงูููุงุฑุฏ ุงููุดุชุฑูุฉ).  ุงูุขู ูุง ุฒูุช ุฃุดุบู ุงูุบูุงูุฉ ุ ููู ูุง ููุฌุฏ ุนุฏุฏ ูุงูู ูู ุงูุฃูุฏู ( <b>ุชุฌููุน ุงูุฎููุท</b> ) ุฎูุงู ูุฐุง ุงูููุช ุ ูุชู ุชุณุฎูู ุงููููุงุฉ (ูุนุงูุฌุฉ ุงููุชูุฌุฉ) ุญูุซ ุฃุณูุจ ูุง ุฌูุฏุชู.  ููุฏ ูุตูุช ุฅูู ุฅุจุฑูู ุงูุดุงู ูุฃุดุบููู ูุฃุดุงูุฏ ุจุบุจุงุก ููู ูุบูู ุงููุงุก ููู ( <b>Blocking-IO-Wait</b> ) ุ ุนูู ุงูุฑุบู ูู ุฃููู ูููู ุฃู ุฃุบุณู ุงูุตููุญุฉ ุฎูุงู ูุฐุง ุงูููุช ุ ุญูุซ ุชุบูุจุช ุนูู ุงูุฃููููุช. <br><br>  ููุฏ ุทุจุฎุช ุนุฌุฉ ุจุงุณุชุฎุฏุงู ูุฏุงู ููุท ุ ููู ููู ุนูุฏู ุฃูุซุฑ ูู ุฐูู ุ ูููู ูู ููุณ ุงูููุช ุ ุญุฏุซุช ุซูุงุซ ุนูููุงุช ูู ูุญุธุฉ ุถุฑุจ ุงูุนุฌุฉ: ูุฐู ุงูุนุฌุฉ ูุนูุฏ ุทุจู ูุชุณุฎูู ูููุงุฉ ุ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูู ุฃุณุฑุน ุฌุฒุก ูู ุงูููุจููุชุฑ ุ IO ูุจุทุฆ ูู ุดูุก ุ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุญู ูุนุงู ูู ุฃู ุชุฃุฎุฐ ุดูุฆุง ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุฃุซูุงุก ุชููู ุงูุจูุงูุงุช ูู IO. <br><br>  ุงุณุชูุฑุงุฑ ุงูุงุณุชุนุงุฑุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุตุฏุฏ ุฅุนุฏุงุฏ ุนุฌุฉ ุ ุณุฃุญุงูู ุฃูุถูุง ุชุบููุฑ ุงูููุงุจุณ ุ ููุฐุง ุณูููู ูุซุงููุง ุนูู ุชุนุฏุฏ ุงูููุงู.  ูุงุฑู ุจุณูุท ููู: ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ูุน ูุฐุง ุฃูุถู ุจูุซูุฑ ูู ุงููุงุณ. </li><li style=";text-align:right;direction:rtl">  ุงููุทุจุฎ ูุน ุงูุนุฏูุฏ ูู ุงูุทูุงุฉ ุ ุนูู ุณุจูู ุงููุซุงู ูู ูุทุนู ุ ูู ุฌูุงุฒ ููุจููุชุฑ ูุชุนุฏุฏ ุงูููุงุฉ. </li><li style=";text-align:right;direction:rtl">  ุงูุนุฏูุฏ ูู ุงููุทุงุนู ูุงุนุฉ ุงูุทุนุงู ูู ูุฑูุฒ ููุชุณูู - ูุฑูุฒ ุงูุจูุงูุงุช </li></ul><br><h3 style=";text-align:right;direction:rtl">  ุฃุฏูุงุช .NET </h3><br>  ูู ุงูุชุนุงูู ูุน ุณูุงุณู ุงูุฑุณุงุฆู ุ ููุง ูู ุงูุญุงู ูู ุงูุนุฏูุฏ ูู ุงูุฃุดูุงุก ุงูุฃุฎุฑู ุ ูุนุฏ .NET ุฃูุฑูุง ุฌูุฏูุง.  ูุน ูู ุฅุตุฏุงุฑ ุฌุฏูุฏ ุ ููุฏู ุฃุฏูุงุช ุฃูุซุฑ ูุฃูุซุฑ ููุนูู ูุนูุง ุ ุทุจูุงุช ุฌุฏูุฏุฉ ูู ุงูุชุฌุฑูุฏ ุนูู ุณูุงุณู ุนูููุงุช ูุธุงู ุงูุชุดุบูู.  ูู ุงูุนูู ุนูู ุจูุงุก ุงูุชุฌุฑูุฏุงุช ุ ูุณุชุฎุฏู ูุทูุฑู ุงูุฅุทุงุฑ ุงููููุฌ ุงูุฐู ูุชุฑู ุงูุงุญุชูุงู ุนูุฏ ุงุณุชุฎุฏุงู ุงูุชุฌุฑูุฏ ุนุงูู ุงููุณุชูู ุ ุณููุฎูุถ โโูุงุญุฏ ุฃู ุนุฏุฉ ูุณุชููุงุช ุฃุฏูุงู.  ุบุงูุจูุง ูุง ูุง ูููู ูุฐุง ุถุฑูุฑููุง ุ ุนูุงูุฉ ุนูู ุฐูู ุ ููุชุญ ูุฐุง ุฅููุงููุฉ ุฅุทูุงู ุฑุตุงุตุฉ ูู ุงููุฏู ุ ููู ูู ุจุนุถ ุงูุฃุญูุงู ุ ูู ุญุงูุงุช ูุงุฏุฑุฉ ุ ูุฏ ุชููู ูุฐู ูู ุงูุทุฑููุฉ ุงููุญูุฏุฉ ูุญู ูุดููุฉ ูุง ุชุญู ุจุงููุณุชูู ุงูุญุงูู ููุชุฌุฑูุฏ. <br><br>  ุจุงูุฃุฏูุงุช ุ ุฃุนูู ููุงู ูู ูุงุฌูุงุช ุงูุจุฑูุงูุฌ (APIs) ุงูุชู ูููุฑูุง ุฅุทุงุฑ ุงูุนูู ูุญุฒู ุงูุทุฑู ุงูุซุงูุซ ุ ูุงูุญู ุงูุจุฑูุฌู ุจุฃูููู ุงูุฐู ูุจุณุท ุงูุจุญุซ ุนู ุฃู ูุดุงูู ูุฑุชุจุทุฉ ุจุงูุดูุฑุฉ ูุชุนุฏุฏุฉ ุงูุฎููุท. <br><br><h4 style=";text-align:right;direction:rtl">  ุจุฏุก ุงูุฏูู </h4><br>  ูุฆุฉ ูุคุดุฑ ุงูุชุฑุงุจุท ุ ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ูู .NET ููุนูู ูุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท.  ููุจู ุงูููุดุฆ ุฃุญุฏ ุงูููุฏูุจูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ThreadStart - ูุง ูุนููุงุช </li><li style=";text-align:right;direction:rtl">  ParametrizedThreadStart - ูุน ูุนููุฉ ูุงุญุฏุฉ ูู ูุงุฆู ููุน. </li></ul><br>  ุณูุชู ุชูููุฐ ุงููููุถ ูู ุณูุณูุฉ ุงูุฑุณุงุฆู ุงูุชู ุชู ุฅูุดุงุคูุง ุญุฏูุซูุง ุจุนุฏ ุงุณุชุฏุนุงุก ุงูุฃุณููุจ Start ุ ุฅุฐุง ุชู ููู ูููุถ ูู ููุน ParametrizedThreadStart ุฅูู ุงููููุดุฆ ุ ุซู ูุฌุจ ุชูุฑูุฑ ูุงุฆู ุฅูู ุทุฑููุฉ Start.  ูุฐู ุงูุขููุฉ ุถุฑูุฑูุฉ ูููู ุฃู ูุนูููุงุช ูุญููุฉ ุฅูู ุงูุฏูู.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุฅูุดุงุก ุฏูู ูู ุนูููุฉ ุจุงูุธุฉ ุงูุซูู ุ ูุงูุฏูู ููุณู ูุงุฆู ุซููู ุ ุนูู ุงูุฃูู ุจุณุจุจ ุชุฎุตูุต 1 ููุบุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ูููุฌููุนุฉ ุ ููุชุทูุจ ุงูุชูุงุนู ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช OS. <br><br><pre style=";text-align:right;direction:rtl"><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(...).Start(...);</code> </pre> <br>  ุชูุซู ูุฆุฉ ThreadPool ููููู ุงูุชุฌูุน.  ูู .NET ุ ูุนุชุจุฑ ุชุฌูุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุนูููุง ููููุง ููุฏ ุจุฐู ุงููุทูุฑูู ูู Microsoft ุงููุซูุฑ ูู ุงูุฌูุฏ ูุฌุนูู ูุนูู ุนูู ุงููุญู ุงูุฃูุซู ูู ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงูุณููุงุฑูููุงุช. <br><br>  <b>ุงูููููู ุงูุนุงู:</b> <br><br>  <i>ููุฐ ุงูุจุฏุงูุฉ ุ ูููุดุฆ ุงูุชุทุจูู ุงูููุฌูุฏ ูู ุงูุฎูููุฉ ุงูุนุฏูุฏ ูู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูู ุงูุญุฌุฒ ููููุฑ ุงููุฑุตุฉ ูุฃุฎุฐูุง ูู ุงูุงุนุชุจุงุฑ.</i>  <i>ุฅุฐุง ุชู ุงุณุชุฎุฏุงู ุณูุงุณู ุงูุฑุณุงุฆู ุจุดูู ูุชูุฑุฑ ูุจุฃุนุฏุงุฏ ูุจูุฑุฉ ุ ูุณูุชู ุชูุณูุน ุงูุชุฌูุน ูุชูุจูุฉ ุญุงุฌุฉ ุฑูุฒ ุงูุงุชุตุงู.</i>  <i>ุนูุฏ ุนุฏู ูุฌูุฏ ุชุฏููุงุช ูุฌุงููุฉ ูู ุงูุชุฌูุน ูู ุงูููุช ุงูููุงุณุจ ุ ูุณูู ููุชุธุฑ ุฅูุง ุนูุฏุฉ ุฃุญุฏ ุงูุชุฏููุงุช ุฃู ุฅูุดุงุก ุชุฏูู ุฌุฏูุฏ.</i>  <i>ููุชุฑุชุจ ุนูู ุฐูู ุฃู ุชุฌูุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูุนุฏ ุฃูุฑูุง ุฑุงุฆุนูุง ุจุงููุณุจุฉ ูุจุนุถ ุงูุฅุฌุฑุงุกุงุช ุงููุตูุฑุฉ ููู ุบูุฑ ููุงุณุจ ููุนูููุงุช ุงูุชู ุชุนูู ูุฎุฏูุฉ ุนุจุฑ ุงูุชุทุจูู ุจุงููุงูู.</i> <i><br><br></i>  <i>ูุงุณุชุฎุฏุงู ูุคุดุฑ ุชุฑุงุจุท ูู ุงูุชุฌูุน ุ ููุงู ุทุฑููุฉ QueueUserWorkItem ุงูุชู ุชูุจู ูููุถ WaitCallback ุ ููู ููุณ ุชูููุน ParametrizedThreadStart ุ ูุงููุนููุฉ ุงูุชู ุชู ุชูุฑูุฑูุง ุฅูููุง ุชููู ุจููุณ ุงููุธููุฉ.</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">ThreadPool.QueueUserWorkItem(...);</code> </pre><br>  ูุชู ุงุณุชุฎุฏุงู ุฃุณููุจ ุชุฌูุน ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุฃูู ุดูุฑุฉ RegisterWaitForSingleObject ูุชูุธูู ุนูููุงุช ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุบูุฑ ุงููุญุธูุฑุฉ.  ุณูุชู ุงุณุชุฏุนุงุก ุงููููุถ ุงูุฐู ุชู ุชูุฑูุฑู ุฅูู ูุฐู ุงูุทุฑููุฉ ุนูุฏูุง ูููู WaitHandle ุงูุฐู ุชู ุชูุฑูุฑู ุฅูู ุงูุทุฑููุฉ "ุฃุทูู". <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">ThreadPool.RegisterWaitForSingleObject(...)</code> </pre><br>  ูุญุชูู .NET ุนูู ูุคูุช ุฏูู ููุฎุชูู ุนู ูุคูุชุงุช WinForms / WPF ุญูุซ ุณูุชู ุงุณุชุฏุนุงุก ูุนุงูุฌู ูู ุฏูู ูุฃุฎูุฐ ูู ุงูุชุฌูุน. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">System.Threading.Timer</code> </pre><br>  ููุงู ุฃูุถูุง ุทุฑููุฉ ุบุฑูุจุฉ ูุฅุฑุณุงู ูููุถ ุฅูู ุณูุณูุฉ ุงูุฑุณุงุฆู ูู ุงูุชุฌูุน - ุทุฑููุฉ BeginInvoke. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">DelegateInstance.BeginInvoke</code> </pre><br>  ุฃุฑูุฏ ุฃูุถูุง ุฃู ุฃุณูุจ ูู ุชูุฑูุฑ ูุธููุฉ ุชุณุชุฏุนู ุงูุนุฏูุฏ ูู ุงูุฃุณุงููุจ ุงููุฐููุฑุฉ ุฃุนูุงู - CreateThread ูู Kernel32.dll Win32 API.  ููุงู ุทุฑููุฉ ุ ูุฐูู ุจูุถู ุขููุฉ ุงูุฃุณุงููุจ ุงูุฎุงุฑุฌูุฉ ุ ูุงุณุชุฏุนุงุก ูุฐู ุงููุธููุฉ.  ููุฏ ุฑุฃูุช ูุซู ูุฐุง ุงูุชุญุฏู ูุฑุฉ ูุงุญุฏุฉ ููุท ูู ูุซุงู ูุธูุน ููุฑูุฒ ุงููุฏูู ุ ูุฏุงูุน ุงููุคูู ููุนู ุฐูู ูุง ูุฒุงู ูุบุฒุง ุจุงููุณุจุฉ ูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">Kernel32.dll CreateThread</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุนุฑุถ ูุชุตุญูุญ ุงูููุงุถูุน </h4><br>  ูููู ุนุฑุถ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงูุชู ููุช ุจุฅูุดุงุฆูุง ุดุฎุตููุง ุจูุงุณุทุฉ ูุงูุฉ ููููุงุช ุงูุฌูุงุช ุงูุฎุงุฑุฌูุฉ ูุชุฌูุน .NET ูู ุฅุทุงุฑ ูุคุดุฑุงุช ุงูุชุฑุงุจุท Visual Studio.  ุณุชุนุฑุถ ูุฐู ุงููุงูุฐุฉ ูุนูููุงุช ุญูู ุงูุชุฏููุงุช ููุท ุนูุฏูุง ูููู ุงูุชุทุจูู ููุฏ ุงูุชุตุญูุญ ููู ูุถุน ุงูุชููู (ูุถุน ุงูุชููู).  ููุง ููููู ุจุณูููุฉ ุนุฑุถ ุฃุณูุงุก ููุฏุณ ูุฃููููุงุช ูู ูุคุดุฑ ุชุฑุงุจุท ุ ูุงูุชุจุฏูู ุงูุชุตุญูุญ ุฅูู ููุถูุน ูุนูู.  ุชุชูุญ ูู ุฎุงุตูุฉ Priority ูููุฆุฉ Thread ุชุนููู ุฃููููุฉ ุงูุฎูุท ุ ูุงูุชู ุณูู ููุธุฑ ุฅูููุง OC ู CLR ูุชูุตูุฉ ุนูุฏ ุชูุณูู ููุช ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุจูู ุณูุงุณู ุงูุนูููุงุช. <br><br><img src="https://habrastorage.org/webt/ow/kq/i5/owkqi5zdx2m8oe7iava3q1mikri.png"><br><br><h4 style=";text-align:right;direction:rtl">  ููุชุจุฉ ูููุฉ ูุชูุงุฒูุฉ </h4><br>  ุธูุฑุช ููุชุจุฉ Parallel Task (TPL) ูู .NET 4.0.  ุงูุขู ุฃุตุจุญ ุงููุนูุงุฑ ูุงูุฃุฏุงุฉ ุงูุฑุฆูุณูุฉ ููุนูู ูุน ุนุฏู ุงูุชุฒุงูู.  ุฃู ุฑูุฒ ุจุงุณุชุฎุฏุงู ุงูููุฌ ุงููุฏูู ูุนุชุจุฑ ุฅุฑุซุง.  ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ ูู TPL ูู ูุฆุฉ ุงูููุงู ูู ูุณุงุญุฉ ุงูุงุณู System.Threading.Tasks.  ุงููููุฉ ุชุฌุฑูุฏ ุนุจุฑ ุณูุณูุฉ.  ูุน ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ูู C # ุ ุญุตููุง ุนูู ุทุฑููุฉ ุฃูููุฉ ููุนูู ูุน ูุดุบูู Task - async / ุงูุชุธุงุฑ.  ููููุช ูุฐู ุงูููุงููู ูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุบูุฑ ุงููุชุฒุงููุฉ ููุง ูู ูุงูุช ุจุณูุทุฉ ููุชุฒุงููุฉ ุ ููุง ุฃุชุงุญ ุญุชู ููุฃุดุฎุงุต ุงูุฐูู ูุง ูููููู ุณูู ุงููููู ูู ุงููุทุจุฎ ุงูุฏุงุฎูู ููุฎููุท ูุชุงุจุฉ ุงูุชุทุจููุงุช ุงูุชู ุชุณุชุฎุฏููุง ุ ูุงูุชุทุจููุงุช ุงูุชู ูุง ุชุชููู ุฃุซูุงุก ุงูุนูููุงุช ุงูุทูููุฉ.  ูุนุฏ ุงุณุชุฎุฏุงู async / await ููุถูุนูุง ูููุงูุฉ ุฃู ุญุชู ุนุฏุฉ ููุงูุงุช ุ ููููู ุณุฃุญุงูู ุงูุญุตูู ุนูู ุฌููุฑ ุจุถุน ุฌูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  async ูู ูุนุฏู ููุฃุณููุจ ุฅุฑุฌุงุน ุงููููุฉ ุฃู ุงููุฑุงุบ </li><li style=";text-align:right;direction:rtl">  ูููุชุธุฑ ุจูุงู ูููุฉ ุนุฏู ุญุธุฑ ุงูููุงู. </li></ul><br>  ูุฑุฉ ุฃุฎุฑู: ุณูุตุฏุฑ ุงููุดุบู ุงูุฐู ููุชุธุฑ ุ ูู ุงูุญุงูุฉ ุงูุนุงูุฉ (ุชูุฌุฏ ุงุณุชุซูุงุกุงุช) ุ ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุญุงูู ููุชูููุฐ ุจุดูู ุฃูุจุฑ ุ ูุนูุฏูุง ุชูุชูู ุงููููุฉ ูู ุงูุชูููุฐ ุ ูุณูููู ูุคุดุฑ ุงูุชุฑุงุจุท (ูู ุงูุญูููุฉ ุฃูู ูู ุงูุฃุตุญ ููู ุงูุณูุงู ุ ูููู ุงููุฒูุฏ ุนู ุฐูู ูุงุญููุง) ุณูููู ุญุฑุง ูู ูุชุงุจุนุฉ ุงูุทุฑููุฉ ุฃูุซุฑ.  ุฏุงุฎู .NET ุ ูุชู ุชูููุฐ ูุฐู ุงูุขููุฉ ุจููุณ ุทุฑููุฉ ุฅุฑุฌุงุน ุงูุนุงุฆุฏ ุ ุนูุฏูุง ุชุชุญูู ุงูุทุฑููุฉ ุงูููุชูุจุฉ ุฅูู ูุฆุฉ ูุงููุฉ ุ ููู ุนุจุงุฑุฉ ุนู ุขูุฉ ุญุงูุฉ ููููู ุชูููุฐูุง ูู ุฃุฌุฒุงุก ูููุตูุฉ ุญุณุจ ูุฐู ุงูุญุงูุงุช.  ูููู ูุฃู ุดุฎุต ููุชู ูุชุงุจุฉ ุฃู ุชุนูููุงุช ุจุฑูุฌูุฉ ุจุณูุทุฉ ุจุงุณุชุฎุฏุงู asyn / ุงูุชุธุงุฑ ูุชุฌููุน ูุนุฑุถ ุงูุชุฌููุน ุจุงุณุชุฎุฏุงู JetBrains dotPeek ูุน ุชูููู Compiler Generated Code. <br><br>  ุงููุธุฑ ูู ุงูุฎูุงุฑุงุช ูุจุฏุก ูุงุณุชุฎุฏุงู ุงููููุฉ.  ุจุงุณุชุฎุฏุงู ูุซุงู ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุฃุฏูุงู ุ ูููู ุจุฅูุดุงุก ูููุฉ ุฌุฏูุฏุฉ ูุง ุชููุฏ ุดูุฆูุง ( <i>Thread.Sleep (10000)</i> ) ุ ูููู ูู ุงููุงูุน ูุฌุจ ุฃู ุชููู ููุนูุง ูู ุงูุนูู ุงููุนูุฏ ุงูุฐู ูุชุถูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> TCO = System.Threading.Tasks.TaskCreationOptions; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VoidAsyncMethod</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cancellationSource = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CancellationTokenSource(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Task.Factory.StartNew( <span class="hljs-comment"><span class="hljs-comment">// Code of action will be executed on other context () =&gt; Thread.Sleep(10000), cancellationSource.Token, TCO.LongRunning | TCO.AttachedToParent | TCO.PreferFairness, scheduler ); // Code after await will be executed on captured context }</span></span></code> </pre><br>  ูุชู ุฅูุดุงุก ุงููููุฉ ูุน ุนุฏุฏ ูู ุงูุฎูุงุฑุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุนุฏ LongRunning ุชูููุญูุง ุฅูู ุฃู ุงููููุฉ ูู ุชูุชูู ุจุณุฑุนุฉ ุ ููุง ูุนูู ุฃูู ูุฏ ูููู ูู ุงููููุฏ ุงูุชูููุฑ ูู ุนุฏู ุฃุฎุฐ ุณูุณูุฉ ูู ุงููุฌูุน ุ ูููู ูุฅูุดุงุก ูุงุญุฏุฉ ูููุตูุฉ ููุฐู ุงููููุฉ ุญุชู ูุง ุชุถุฑ ุงูุขุฎุฑูู. </li><li style=";text-align:right;direction:rtl">  AttachedToParent - ุงููููุฉ ูููู ุชุฑุชูุจูุง ูู ุงูุชุณูุณู ุงููุฑูู.  ุฅุฐุง ุชู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฎูุงุฑ ุ ููุฏ ุชููู ุงููููุฉ ูู ุญุงูุฉ ุนูุฏูุง ุชููู ูุฏ ุฃุชูุช ููุณูุง ูุชูุชุธุฑ ุฅููุงู ุงูุฃุทูุงู. </li><li style=";text-align:right;direction:rtl">  PreferFairness - ูุนูู ุฃูู ุณูููู ูู ุงูุฌูุฏ ุชูููุฐ ุงูููุงู ุงููุฑุณูุฉ ูุณุจููุง ููุชูููุฐ ูุจู ุชูู ุงูุชู ุชู ุฅุฑุณุงููุง ูุงุญููุง.  ูููู ูุฐู ูุฌุฑุฏ ุชูุตูุฉ ูุงููุชูุฌุฉ ุบูุฑ ูุถูููุฉ. </li></ul><br>  ุงููุนููุฉ ุงูุซุงููุฉ ุฅูู ุงูุฃุณููุจ ูุฑุช CancellationToken.  ูู ุฃุฌู ูุนุงูุฌุฉ ุฅูุบุงุก ุนูููุฉ ูุง ุจุดูู ุตุญูุญ ุจุนุฏ ุฅุทูุงููุง ุ ูุฌุจ ุชุนุจุฆุฉ ุงูููุฏ ุงูุฐู ุชู ุชูููุฐู ุจุงูุชุญูู ูู ุญุงูุฉ ุฅูุบุงุก ุงูุญุณุงุจ.  ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ุนูููุงุช ุชุญูู ุ ูุฅู ุทุฑููุฉ "ุฅูุบุงุก" ุงูุชู ุชู ุงุณุชุฏุนุงุคูุง ุนูู ูุงุฆู CancellationTokenSource ุณุชููู ูุงุฏุฑุฉ ุนูู ุฅููุงู ุชูููุฐ ุงููููุฉ ูุจู ุฃู ุชุจุฏุฃ. <br><br>  ูุฑุช ุงููุนููุฉ ุงูุฃุฎูุฑุฉ ูุงุฆู ุงููุฌุฏูู ูู ููุน TaskScheduler.  ุชู ุชุตููู ูุฐู ุงููุฆุฉ ูุฃุญูุงุฏูุง ููุชุญูู ูู ุงุณุชุฑุงุชูุฌูุงุช ุชูุฒูุน Task'ov ุญุณุจ ุงูุฎูุท ุ ูุณูุชู ุชูููุฐ ุงููููุฉ ุงูุชุฑุงุถููุง ุนูู ุฎูุท ุนุดูุงุฆู ูู ุงููุฌููุนุฉ. <br><br>  ูุชู ุชุทุจูู ุนุงูู ุงูุงูุชุธุงุฑ ุนูู ุงููููุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุ ููุง ูุนูู ุฃู ุงูููุฏ ุงูููุชูุจ ุจุนุฏู ุ ุฅู ูุฌุฏ ุ ุณูุชู ุชูููุฐู ูู ููุณ ุงูุณูุงู (ูุบุงูุจูุง ูุง ูุนูู ูุฐุง ุฃูู ููุฌูุฏ ูู ููุณ ุณูุณูุฉ ุงูุฑุณุงุฆู) ูุซู ุงูููุฏ ูุจู ุงูุงูุชุธุงุฑ. <br><br>  ุชู ูุถุน ุนูุงูุฉ ุนูู ุฃู ุงูุทุฑููุฉ ุบูุฑ ูุชุฒุงููุฉ ุ ููุง ูุนูู ุฃูู ููููู ุงุณุชุฎุฏุงู ุนุงูู ุงูุชุดุบูู ููุฏ ุงูุงูุชุธุงุฑ ุ ูููู ูุง ูููู ูุฑูุฒ ุงูุงุชุตุงู ุงูุชุธุงุฑ ุงูุชูููุฐ.  ุฅุฐุง ูุงูุช ูุฐู ุงูููุฒุฉ ุถุฑูุฑูุฉ ุ ููุฌุจ ุฃู ุชุนูุฏ ุงูุทุฑููุฉ ุงูููุงู.  ุชุนุชุจุฑ ุงูุฃุณุงููุจ ุงูุชู ุชุญูู ุนูุงูุฉ ุบูุฑ ูุชุฒุงููุฉ ุดุงุฆุนุฉ: ููุงุนุฏุฉ ุนุงูุฉ ุ ููุฐู ูู ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ ุฃู ุบูุฑูุง ูู ุงูุทุฑู ุงูุชู ุชุนูู ุนูู ูุจุฏุฃ ุงููุงุฑ ูุชูุณู.  ุฅุฐุง ููุช ูุง ุชุญุชุงุฌ ููุท ุฅูู ููุญ ุงููุฑุตุฉ ููุงูุชุธุงุฑ ุญุชู ุฅุชูุงู ุงูุชูููุฐ ุ ูููู ุฃูุถูุง ุฅุฑุฌุงุน ุงููุชูุฌุฉ ุ ูุนููู ุงุณุชุฎุฏุงู "ุงููููุฉ". <br><br>  ุนูู ุงููููุฉ ุงูุชู ุฃุฑุฌุนูุง ุฃุณููุจ StartNew ุ ููุน ุฐูู ุ ููุง ูู ุงูุญุงู ูู ุฃู ุดูุก ุขุฎุฑ ุ ููููู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ ConfigureAwait ุจุงุณุชุฎุฏุงู ุงููุนููุฉ false ุ ุซู ุงูุชูููุฐ ุจุนุฏ ุงูุงูุชุธุงุฑ ุณูุณุชูุฑ ููุณ ูู ุงูุณูุงู ุงูููุชูุท ุ ูููู ุนูู ุณูุงู ุนุดูุงุฆู.  ูุฌุจ ุฃู ูุชู ุฐูู ุฏุงุฆููุง ุนูุฏูุง ูููู ุณูุงู ุงูุชูููุฐ ุบูุฑ ููู ููููุฏ ุจุนุฏ ุงูุงูุชุธุงุฑ.  ุฅููุง ุฃูุถูุง ุชูุตูุฉ ูู MS ุนูุฏ ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุณุชุชู ุชุนุจุฆุชูุง ูู ุดูู ููุชุจุฉ. <br><br>  ุฏุนูุง ูุชุญุฏุซ ุฃูุซุฑ ููููุงู ุนู ููููุฉ ุงูุงูุชุธุงุฑ ุญุชู ุงูุงูุชูุงุก ูู ุงููููุฉ.  ููุฌุฏ ุฃุฏูุงู ูููุฐุฌ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุน ุงูุชุนูููุงุช ุ ูุนูุฏูุง ูุชู ุงูุงูุชุธุงุฑ ุฌูุฏุฉ ูุดุฑูุทุฉ ูุนูุฏูุง ุณูุฆุฉ ุณูุฆุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AnotherMethod</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> AsyncMethod(); <span class="hljs-comment"><span class="hljs-comment">// good result = AsyncMethod().Result; // bad AsyncMethod().Wait(); // bad IEnumerable&lt;Task&gt; tasks = new Task[] { AsyncMethod(), OtherAsyncMethod() }; await Task.WhenAll(tasks); // good await Task.WhenAny(tasks); // good Task.WaitAll(tasks.ToArray()); // bad }</span></span></code> </pre><br>  ูู ุงููุซุงู ุงูุฃูู ุ ููุชุธุฑ ุญุชู ุชูุชูู ุงููููุฉ ุ ูุจุฏูู ุญุธุฑ ูุคุดุฑ ุชุฑุงุจุท ุงูุงุณุชุฏุนุงุก ุ ุณูุนูุฏ ุฅูู ูุนุงูุฌุฉ ุงููุชูุฌุฉ ููุท ุนูุฏูุง ูููู ููุงู ุจุงููุนู ุ ุญุชู ูุชู ุชุฑู ูุคุดุฑ ุชุฑุงุจุท ุงูุงุณุชุฏุนุงุก ูููุณู. <br><br>  ูู ุงูุฎูุงุฑ ุงูุซุงูู ุ ูููู ุจุญุธุฑ ูุคุดุฑ ุงูุชุฑุงุจุท ุงููุชุตู ุญุชู ูุชู ุญุณุงุจ ูุชูุฌุฉ ุงูุทุฑููุฉ.  ูุฐุง ุฃูุฑ ุณูุฆ ุ ููุณ ููุท ูุฃููุง ุฃุฎุฐูุง ุณูุณูุฉ ุงูุฑุณุงุฆู ุ ูุซู ูุฐุง ุงูููุฑุฏ ุงูุซููู ููุจุฑูุงูุฌ ุ ูู ุญุงูุฉ ุฎูู ุจุณูุท ุ ูููู ุฃูุถูุง ูุฃูู ูู ุญุงูุฉ ุงูุชุธุงุฑ ุฑูุฒ ุงูุทุฑููุฉ ุงูุชู ูุณูููุง ุ ูุณูุงู ุงููุฒุงููุฉ ููุทูู ุนูู ุงูุนูุฏุฉ ุฅูู ุณูุณูุฉ ุฑุณุงุฆู ุงูููุงููุงุช ุจุนุฏ ุงูุงูุชุธุงุฑ ุ ุณูุตู ุฅูู ุทุฑูู ูุณุฏูุฏ : ูุคุดุฑ ุชุฑุงุจุท ุงูุงุณุชุฏุนุงุก ููุชุธุฑ ุญุชู ูุชู ุญุณุงุจ ูุชูุฌุฉ ุงูุฃุณููุจ ุบูุฑ ุงููุชุฒุงูู ุ ูุญุงูู ุงูุฃุณููุจ ุบูุฑ ุงููุชุฒุงูู ุนุจุซูุง ูุชุงุจุนุฉ ุงูุชูููุฐ ูู ูุคุดุฑ ุชุฑุงุจุท ุงูุงุณุชุฏุนุงุก. <br><br>  ุนูุจ ุขุฎุฑ ูู ูุฐุง ุงูููุฌ ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุนูุฏุฉ.  ุงูุญูููุฉ ูู ุฃู ุงูุฃุฎุทุงุก ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุนูุฏ ุงุณุชุฎุฏุงู async / await ุณููุฉ ููุบุงูุฉ - ููู ุชุชุตุฑู ููุง ูู ูุงูุช ุงูุดูุฑุฉ ูุชุฒุงููุฉ.  ุจูููุง ุฅุฐุง ุทุจููุง <s>ุทุฑุฏ ุงูุฃุฑูุงุญ ุงูุดุฑูุฑุฉ</s> ูุงูุชููุน ุงููุชุฒุงูู ุนูู ุงููููุฉ ุ ูุฅู ุงูุงุณุชุซูุงุก ุงูุฃุตูู ูุชุญูู ุฅูู AggregateException ุ ุฃู  ููุชุนุงูู ูุน ุงุณุชุซูุงุก ุ ูุฌุจ ุนููู ูุญุต ููุน InnerException ููุชุงุจุฉ ุณูุณูุฉ if ุฏุงุฎู ูุชูุฉ catch ูุงุญุฏุฉ ุฃู ุงุณุชุฎุฏุงู catch ุนูุฏ ุงูุฅูุดุงุก ุจุฏูุงู ูู ุณูุณูุฉ ูุชูุฉ catch ุงูุดุงุฆุนุฉ ูู C #. <br><br>  ูุชู ุชูููุฒ ุงูุฃูุซูุฉ ุงูุซุงูุซุฉ ูุงูุฃุฎูุฑุฉ ุฃูุถูุง ุนูู ุฃููุง ุณูุฆุฉ ูููุณ ุงูุณุจุจ ูุชุญุชูู ุนูู ููุณ ุงููุดููุงุช. <br><br>  ุนูุฏูุง ุชููู ุฃุณุงููุจ AnyA ู WhenAll ูุฑูุญุฉ ููุบุงูุฉ ูู ุงูุชุธุงุฑ ูุฌููุนุฉ ูู Task'ov ุ ูุฅููู ููููู ูุฌููุนุฉ ูู Task'ov ูู ูุงุญุฏุฉ ุ ูุงูุชู ุณุชุนูู ุฅูุง ุนูู ุฃูู ุนูููุฉ ูู Task'a ูู ุงููุฌููุนุฉ ุ ุฃู ุนูุฏูุง ูููู ุงูุฌููุน ุชูููุฐูุง. <br><br><h4 style=";text-align:right;direction:rtl">  ุชููู ุงูุชุฏูู </h4><br>  ูุฃุณุจุงุจ ูุฎุชููุฉ ุ ูุฏ ูููู ูู ุงูุถุฑูุฑู ุฅููุงู ุงูุฏูู ุจุนุฏ ุจุฏุก ุชุดุบููู.  ููุงู ุนุฏุฉ ุทุฑู ููููุงู ุจุฐูู.  ูุฆุฉ ูุคุดุฑ ุงูุชุฑุงุจุท ูู ุทุฑููุชุงู ูุน ุฃุณูุงุก ููุงุณุจุฉ - <b>ุฅุญุจุงุท</b> ู <b>ุงูููุงุทุนุฉ</b> .  ุงูุฃูู ูุง ููุตุญ ููุงุณุชุฎุฏุงู ุ ููุง  ุจุนุฏ ุฃู ูุชู ุงุณุชุฏุนุงุคู ูู ุฃู ูุญุธุฉ ุนุดูุงุฆูุฉ ุ ุฃุซูุงุก ูุนุงูุฌุฉ ุฃู ุชุนูููุงุช ุ ุณูุชู ุทุฑุญ <b>ThreadAbortedException</b> .  ูุง ุชุชููุน ุชุนุทู ูุฐุง ุงูุงุณุชุซูุงุก ุนูุฏ ุฒูุงุฏุฉ ูุชุบูุฑ ุนุฏุฏ ุตุญูุญ ุ ุฃููุณ ูุฐููุ  ูุนูุฏ ุงุณุชุฎุฏุงู ูุฐู ุงูุทุฑููุฉ ุ ูุฐุง ูุถุน ุญูููู ููุบุงูุฉ.  ุฅุฐุง ููุช ุชุฑุบุจ ูู ููุน CLR ูู ุฑูู ูุซู ูุฐุง ุงูุงุณุชุซูุงุก ูู ูุณู ูุนูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ููููู <b>ููู</b> ูู ุงูููุงููุงุช ุฅูู <b>Thread.BeginCriticalRegion</b> ู <b>Thread.EndCriticalRegion</b> .  ุฃู ุฑูุฒ ููุชูุจ ูู ูุชูุฉ ุฃุฎูุฑูุง ููู ุจูุซู ูุฐู ุงูููุงููุงุช.  ููุฐุง ุงูุณุจุจ ุ ูู ุฃุญุดุงุก ุฑูุฒ ุงูุฅุทุงุฑ ุ ููููู ุงูุนุซูุฑ ุนูู ูุชู ุฐุงุช ูุญุงููุฉ ูุงุฑุบุฉ ุ ูููู ููุณ ูุงุฑุบุฉ ูู ุงูููุงูุฉ.  ูุง ุชูุตู Microsoft ุจุงุณุชุฎุฏุงู ูุฐู ุงูุทุฑููุฉ ุญุชู ูุง ูุชู ุชุถููููุง ูู .net core. <br><br>  ุฃุณููุจ ุงูููุงุทุนุฉ ูุนูู ุจุดูู ุฃูุซุฑ ุชููุนูุง.  ูููู ููุงุทุนุฉ ูุคุดุฑ ุชุฑุงุจุท ุจุงุณุชุซูุงุก <b>ThreadInterruptedException</b> ููุท ุนูุฏูุง ูููู ูุคุดุฑ ุงูุชุฑุงุจุท ูู ุญุงูุฉ ุงูุฎููู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุชุนูููู ุฃุซูุงุก ุงูุชุธุงุฑ WaitHandle ุฃู ุงูููู ุฃู ุจุนุฏ ุงุณุชุฏุนุงุก Thread.Sleep. <br><br>  ููุง ุงูุฎูุงุฑูู ุงูููุตูููู ุฃุนูุงู ุณูุฆูู ูุนุฏู ุงููุฏุฑุฉ ุนูู ุงูุชูุจุค ุจููุง.  ุงูุญู ูู ุงุณุชุฎุฏุงู ุจููุฉ <b>CancellationToken</b> ููุฆุฉ <b>CancellationTokenSource</b> .  ุฎูุงุตุฉ ุงูููู ูู: ูุชู ุฅูุดุงุก ูุซูู ูููุฆุฉ CancellationTokenSource ููููู ููุท ููุดุฎุต ุงูุฐู ููุชูู ุฅููุงู ุงูุนูููุฉ ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <b>Cancel</b> .  ููุท ูุชู ุฅูุบุงุก CancellationToken ุฅูู ุงูุนูููุฉ ููุณูุง.  ูุง ูููู ููุงููู CancellationToken ุฅูุบุงุก ุงูุนูููุฉ ุจุฃููุณูู ุ ููู ูููููู ุงูุชุญูู ููุท ูู ุฅูุบุงุก ุงูุนูููุฉ.  ููููุงู ุจุฐูู ุ ููุงู ุฎุงุตูุฉ ููุทููุฉ <b>IsCancellationRequested</b> ูุทุฑููุฉ <b>ThrowIfCancelRequested</b> .  ุณูููู ุงูุฃุฎูุฑ ุจุฑูุน <b>TaskCancelledException</b> ุฅุฐุง ุชู ุงุณุชุฏุนุงุก ุฃุณููุจ "ุงูุฅูุบุงุก" ุนูู ูุซูู CancellationToken ุงูุฐู ุชู ุฅูุบุงุคู ูู CancellationTokenSource.  ููุฐู ูู ุงูุทุฑููุฉ ุงูุชู ุฃูุตู ุจุงุณุชุฎุฏุงู.  ูุฐุง ุฃูุถู ูู ุงูุฎูุงุฑุงุช ุงูุณุงุจูุฉ ูู ุฎูุงู ุงูุชุญูู ุงููุงูู ูู ุงูููุงุท ุงูุชู ูููู ููุงุทุนุฉ ุนูููุฉ ุงูุงุณุชุซูุงุก ูููุง. <br><br>  ุงูุฎูุงุฑ ุงูุฃูุซุฑ ูุณูุฉ ูุฅููุงู ูุคุดุฑ ุงูุชุฑุงุจุท ูู ุงุณุชุฏุนุงุก Win32 API TerminateThread ูุธููุฉ.  ูููู ุฃู ูููู ุณููู CLR ุจุนุฏ ุงุณุชุฏุนุงุก ูุฐู ุงููุธููุฉ ุบูุฑ ูุชููุน.  ุนูู MSDN ุ ูุชู ูุชุงุจุฉ ูุง ููู ุญูู ูุฐู ุงููุธููุฉ: <i>"TerminateThread ูู ูุธููุฉ ุฎุทูุฑุฉ ูุฌุจ ุงุณุชุฎุฏุงููุง ููุท ูู ุงูุญุงูุงุช ุงููุตูู.</i>  <i>"</i> <br><br><h4 style=";text-align:right;direction:rtl">  ุชุญููู legacy-API ุฅูู Task Based ุจุงุณุชุฎุฏุงู FromAsync method </h4><br>  ุฅุฐุง ููุช ูุญุธูุธูุง ุจูุง ููู ุงูููุงูุฉ ููุนูู ูู ูุดุฑูุน ุจุฏุฃ ุจุนุฏ ุนุฑุถ ุงูููุงู ูุชููู ุนู ุงูุชุณุจุจ ูู ุฑุนุจ ูุงุฏุฆ ููุนุธู ุงููุทูุฑูู ุ ููู ุชุถุทุฑ ุฅูู ุงูุชุนุงูู ูุน ุงููุซูุฑ ูู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุฏููุฉ ุ ุณูุงุก ูู ุทุฑู ุซุงูุซ ุฃู ูุฑููู ูู ุงููุงุถู.  ูุญุณู ุงูุญุธ ุ ุงุนุชูู ุจูุง ูุฑูู ุชุทููุฑ .NET Framework ุ ุนูู ุงูุฑุบู ูู ุฃู ุงููุฏู ุฑุจูุง ูุงู ุงูุงุนุชูุงุก ุจุฃููุณูุง.  ุจุตุฑู ุงููุธุฑ ุนู ุฐูู ุ ูุฏู .NET ุนุฏุฏ ูู ุงูุฃุฏูุงุช ูุชุญููู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุบูุฑ ุงููุคููุฉ ุงูููุชูุจุฉ ูู ุฃุณุงููุจ ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุงููุฏููุฉ ุฅูู ุฃุฎุฑู ุฌุฏูุฏุฉ.  ูุงุญุฏ ูููู ูู ุงูุฃุณููุจ FromAsync ูู TaskFactory.  ุจุงุณุชุฎุฏุงู ูุซุงู ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุฃุฏูุงู ุ ุฃููู ุจุงูุงูุชูุงู ุนูู ุงูุฃุณุงููุจ ุบูุฑ ุงููุชุฒุงููุฉ ุงููุฏููุฉ ููุฆุฉ WebRequest ูู ุงูููุงู ุจุงุณุชุฎุฏุงู ูุฐู ุงูุทุฑููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">object</span></span> state = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; WebRequest wr = WebRequest.CreateHttp(<span class="hljs-string"><span class="hljs-string">"http://github.com"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Task.Factory.FromAsync( wr.BeginGetResponse, we.EndGetResponse );</code> </pre><br>  <i>ูุฐุง ูุฌุฑุฏ ูุซุงู ุ ููู ุบูุฑ ุงููุญุชูู ุฃู ุชููู ุจุฐูู ุจุฃููุงุน ูุถูููุฉ ุ ููู ุฃู ูุดุฑูุน ูุฏูู ูุนุฌ ุจุจุณุงุทุฉ ุจุฃุณุงููุจ BeginDoSomething ุงูุชู ุชุนูุฏ ุฃุณุงููุจ IAsyncResult ู EndDoSomething ุงูุชู ุชูุจููุง.</i> <br><br><h4 style=";text-align:right;direction:rtl">  ุชุญููู legacy-API ุฅูู Task Based ุจุงุณุชุฎุฏุงู TaskCompletionSource class </h4><br>  ุฃุฏุงุฉ ูููุฉ ุฃุฎุฑู ูุฌุจ ูุฑุงุนุงุชูุง ูู ูุฆุฉ <b>TaskCompletionSource</b> .  ูููุง ูุชุนูู ุจุงููุธุงุฆู ูุงูุบุฑุถ ููุจุฏุฃ ุงูุชุดุบูู ุ ูุฅูู ูููู ุจุทุฑููุฉ ูุง ุชุฐููุฑ ุทุฑููุฉ RegisterWaitForSingleObject ููุฆุฉ ThreadPool ุงูุชู ูุชุจุช ุนููุง ุฃุนูุงู.  ุจุงุณุชุฎุฏุงู ูุฐู ุงููุฆุฉ ุ ููููู ุจุณูููุฉ ูุฑุงุญุฉ ุงูุชูุงู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุฏููุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูู ุงูููุงู. <br><br>  <i>ุณุชููู ุฃููู ุชุญุฏุซุช ุจุงููุนู ุนู ุฃุณููุจ FromAsync ููุฆุฉ TaskFactory ุงููุฎุตุตุฉ ููุฐู ุงูุฃุบุฑุงุถ.</i>  <i>ููุง ุณูุชุนูู ุนูููุง ุฃู ูุชุฐูุฑ ุงูุชุงุฑูุฎ ุงููุงูู ูุชุทููุฑ ุงูููุงุฐุฌ ุบูุฑ ุงููุชุฒุงููุฉ ูู .net ุงูุชู ูุฏูุชูุง Microsoft ุนูู ูุฏุงุฑ ุงูุฎูุณุฉ ุนุดุฑ ุนุงููุง ุงููุงุถูุฉ: ูุจู ููุท ุบูุฑ ูุชุฒุงูู ุงููุงุฆู ุนูู ุงูููุงู (TAP) ุ ูุงูุช ููุงู ุฃููุงุท ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ (APP) ุ ูุงูุชู ูุงูุช ุชุฏูุฑ ุญูู ุฃุณุงููุจ <b>Begin</b> DoSomething ุงูุชู ุชุฑุฌุน ุทุฑู <b>IAsyncResult</b> ู <b>End</b> DoSomething ุงูุชู ุชูุจููุง ูุฃุณููุจ FromAsync ุฌูุฏ ุชูุงููุง ูุฅุฑุซ ูุฐู ุงูุณููุงุช ุ ูููู ุจูุฑูุฑ ุงูููุช ุ ุชู ุงุณุชุจุฏุงูู ุจููุท ุบูุฑ ูุชุฒุงูู ูุงุฆู ุนูู ุงูุฃุญุฏุงุซ ( <b>EAP</b> ) ุ ูุงูุฐู ุงูุชุฑุถ ุฃูู ุณูุชู ุงุณุชุฏุนุงุก ุญุฏุซ ุนูุฏ ุฅุชูุงู ุงูุนูููุฉ ุบูุฑ ุงููุชุฒุงููุฉ.</i> <br><br>  ูุนุชุจุฑ TaskCompletionSource ุฑุงุฆุนูุง ููุงูุชูุงู ูู Task ู API ุงููุฏููุฉ ุงูููุฑูุซุฉ ุญูู ูููุฐุฌ ุงูุญุฏุซ.  ุฌููุฑ ุนููู ููุง ููู: ูุญุชูู ูุงุฆู ูู ูุฐู ุงููุฆุฉ ุนูู ุฎุงุตูุฉ ุนุงูุฉ ูู ุงูููุน Task ูููู ุงูุชุญูู ูู ุญุงูุชู ูู ุฎูุงู ุฃุณุงููุจ SetResult ู SetException ููุง ุฅูู ุฐูู ูู ูุฆุฉ TaskCompletionSource.  ูู ุงูุฃูุงูู ุงูุชู ุชู ูููุง ุชุทุจูู ุนุงูู ุงูุงูุชุธุงุฑ ุนูู ูุฐู ุงููููุฉ ุ ุณูุชู ุชูููุฐู ุฃู ุชุนุทูู ูุน ุงุณุชุซูุงุก ุ ููููุง ููุทุฑููุฉ ุงููุทุจูุฉ ุนูู TaskCompletionSource.  ุฅุฐุง ูุงู ูู ุดูุก ูุง ูุฒุงู ุบูุฑ ูุงุถุญ ุ ูููููู ูุธุฑุฉ ุนูู ูุซุงู ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ูุฐุง ุ ุญูุซ ูุชู ุงูุชูุงู ุจุนุถ ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช EAP ุงููุฏููุฉ ูู Task ุจุงุณุชุฎุฏุงู TaskCompletionSource: ุนูุฏ ุฅุทูุงู ุงูุญุฏุซ ุ ุณูุชู ููู ุงููููุฉ ุฅูู ุงูุญุงูุฉ ููุชููุฉ ุ ูุณุชุณุชุฃูู ุงูุทุฑููุฉ ุงูุชู ุทุจูุช ุนุงูู ุงูุชุธุงุฑ ุงูุงูุชุธุงุฑ ุนูู ูุฐู ุงููููุฉ. ุงูุญุตูู ุนูู ูุงุฆู <b>ุงููุชูุฌุฉ</b> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Task&lt;Result&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> SomeApiInstance someApiObj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> completionSource = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TaskCompletionSource&lt;Result&gt;(); someApiObj.Done += result =&gt; completionSource.SetResult(result); someApiObj.Do(); result completionSource.Task; }</code> </pre><br><h4 style=";text-align:right;direction:rtl">  TaskCompletionSource ูุตุงุฆุญ ูุงูุฎุฏุน </h4><br>  ุงูุชูุงู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฃูุฏู ููุณ ูู ูุง ููููู ุงูููุงู ุจู ุจุงุณุชุฎุฏุงู TaskCompletionSource.  ูุคุฏู ุงุณุชุฎุฏุงู ูุฐู ุงููุฆุฉ ุฅูู ูุชุญ ุฅููุงููุฉ ูุซูุฑุฉ ููุงูุชูุงู ูุชุตููู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุชููุนุฉ ูู ููุงู ูุง ุชุดุบู ูุคุดุฑุงุช ุงูุชุฑุงุจุท.  ูุงูุชุฏูู ุ ููุง ูุฐูุฑ ุ ูู ููุฑุฏ ูููู ูุนุฏุฏูู ูุญุฏูุฏ (ุจุดูู ุฃุณุงุณู ุจูุงุณุทุฉ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู).  ูููู ุชุญููู ูุฐุง ุงูููุฏ ุจุณูููุฉ ูู ุฎูุงู ุชุทููุฑ ุชุทุจูู ููุจ ูุญูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุน ููุทู ุฃุนูุงู ูุนูุฏ.  ููุฑ ูู ุงูุงุญุชูุงูุงุช ุงูุชู ุฃุชุญุฏุซ ุนููุง ุญูู ุชุทุจูู ุฎุฏุนุฉ ูุซู ุงูุงูุชุฑุงุน ุงูุทููู. <br><br>  <i>ุจุงุฎุชุตุงุฑ ุ ูุฅู ุฌููุฑ ุงูุฎุฏุนุฉ ูู: ุชุญุชุงุฌ ุฅูู ุงูุญุตูู ุนูู ูุนูููุงุช ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุญูู ุจุนุถ ุงูุฃุญุฏุงุซ ุงูุชู ุชุญุฏุซ ูู ุฌุงูุจูุง ุ ูู ุญูู ุฃู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุณุจุจ ูุง ูุง ูููููุง ุงูุฅุจูุงุบ ุนู ุงูุญุฏุซ ุ ููู ูููููุง ููุท ุฅุนุงุฏุฉ ุงูุญุงูุฉ.</i>  <i>ูุซุงู ุนูู ุฐูู ูู ุฌููุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุชู ุจููุช ุนูู ุฑุฃุณ HTTP ูุจู ุฃููุงุช WebSocket ุฃู ุนูุฏูุง ูููู ูู ุงููุณุชุญูู ูุณุจุจ ูุง ุงุณุชุฎุฏุงู ูุฐู ุงูุชูููููุฌูุง.</i>  <i>ูุฏ ูุทูุจ ุงูุนููู ูู ุฎุงุฏู HTTP.</i>  <i>ูุง ูููู ูุฎุงุฏู HTTP ููุณู ุฅุซุงุฑุฉ ุงูุชูุงุตู ูุน ุงูุนููู.</i>  <i>ูุชูุซู ุงูุญู ุงูุจุณูุท ูู ุงุณุชุฌูุงุจ ุงูุฎุงุฏู ุนู ุทุฑูู ุงููุคูุช ุ ูููู ูุฐุง ูุฎูู ุญูููุง ุฅุถุงูููุง ุนูู ุงูุฎุงุฏู ูุชุฃุฎูุฑูุง ุฅุถุงูููุง ูู ุงููุชูุณุท โโTimerInterval / 2. ููุชุบูุจ ุนูู ุฐูู ุ ุชู ุงุฎุชุฑุงุน ุฎุฏุนุฉ ุชุฏุนู Long Polling ุ ูุงูุชู ุชุชุถูู ุชุฃุฎูุฑ ุงูุงุณุชุฌุงุจุฉ ูู ุงูุฎุงุฏู ุญุชู ุงูุชูุงุก ุงููููุฉ ุฃู ุญุฏุซ ุณูุญุฏุซ.</i>  <i>ุฅุฐุง ุญุฏุซ ุญุฏุซ ูุง ุ ูุณุชุชู ูุนุงูุฌุชู ุ ูุฅุฐุง ูู ูุญุฏุซ ุฐูู ุ ูุณูุชู ุฅุฑุณุงู ุงูุทูุจ ูุฑุฉ ุฃุฎุฑู.</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(!eventOccures &amp;&amp; !timeoutExceeded) { CheckTimout(); CheckEvent(); Thread.Sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre><br>  ูููู ูุซู ูุฐุง ุงูุญู ุณูุธูุฑ ููุณู ุจุดูู ุฑููุจ ุจูุฌุฑุฏ ุฒูุงุฏุฉ ุนุฏุฏ ุงูุนููุงุก ุงูุฐูู ููุชุธุฑูู ุงูุญุฏุซ ุ ูุฃู  ูู ุนููู ูู ูุฐุง ุงููุจูู ุ ุชุญุณุจุง ููุฐุง ุงูุญุฏุซ ุ ูุฃุฎุฐ ูุฌุฑู ูุงูู.  ูุนู ุ ูุญุตููุง ุนูู ุชุฃุฎูุฑ ุฅุถุงูู ูุฏุฑู ุฏูููุฉ ูุงุญุฏุฉ ุนูุฏ ุจุฏุก ุงูุญุฏุซ ุ ูุบุงูุจูุง ูุง ูููู ูุฐุง ุบูุฑ ููู ุ ูููู ููุงุฐุง ุฌุนู ุงูุจุฑูุงูุฌ ุฃุณูุฃ ููุง ูููู ุฃู ููููุ  ุฅุฐุง ููุช ุจุฅุฒุงูุฉ Thread.Sleep (1) ุ ููู ุฏูู ุฌุฏูู ุณูููู ุจุชุญููู ููุงุฉ ูุนุงูุฌ ูุงุญุฏุฉ ุจูุณุจุฉ 100ูช ูู ูุถุน ุงูุฎููู ุ ูู ุฏูุฑุฉ ุบูุฑ ูุฌุฏูุฉ.  ุจุงุณุชุฎุฏุงู TaskCompletionSource ุ ููููู ุจุณูููุฉ ุฅุนุงุฏุฉ ูุฐุง ุงูุฑูุฒ ูุญู ุฌููุน ุงููุดููุงุช ุงููุญุฏุฏุฉ ุฃุนูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LongPollingApi</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, TaskCompletionSource&lt;Msg&gt;&gt; tasks; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;Msg&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcceptMessageAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userId, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> duration</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cs = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TaskCompletionSource&lt;Msg&gt;(); tasks[userId] = cs; <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Task.WhenAny(Task.Delay(duration), cs.Task); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cs.Task.IsCompleted ? cs.Task.Result : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SendMessage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userId, Msg m</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tasks.TryGetValue(userId, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> completionSource)) completionSource.SetResult(m); } }</code> </pre><br>  <i>ูุฐุง ุงูุฑูุฒ ููุณ ุฌุงูุฒูุง ููุฅูุชุงุฌ ุ ููููู ูุฌุฑุฏ ุนุฑุถ ุชูุถูุญู.</i>  <i>ูุงุณุชุฎุฏุงููุง ูู ุงูุญุงูุงุช ุงูุญููููุฉ ุ ุชุญุชุงุฌ ุฃูุถูุง ุฅูู ูุนุงูุฌุฉ ุงููููู ุนูู ุงูุฃูู ุนูุฏ ูุตูู ุฑุณุงูุฉ ูู ููุช ูุง ูุชููุนู ุฃุญุฏ: ูู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ุฃู ุชููู ุทุฑููุฉ AsseptMessageAsync ุจุฅุฑุฌุงุน ูููุฉ ููุชููุฉ ุจุงููุนู.</i>  <i>ุฅุฐุง ูุงูุช ูุฐู ุงูุญุงูุฉ ูู ุงูุฃูุซุฑ ุดููุนูุง ุ ูููููู ุงูุชูููุฑ ูู ุงุณุชุฎุฏุงู ValueTask.</i> <br><br>  ุนูุฏูุง ูุชููู ุทูุจูุง ููุญุตูู ุนูู ุฑุณุงูุฉ ุ ูููู ุจุฅูุดุงุก TaskCompletionSource ููุถุนู ูู ุงููุงููุณ ุ ุซู ููุชุธุฑ ูุง ูุญุฏุซ ุฃููุงู: ุงูุชูุงุก ุงููุงุตู ุงูุฒููู ุงููุญุฏุฏ ุฃู ุงุณุชูุงู ุฑุณุงูุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ValueTask: ููุงุฐุง ูููู </h4><br>  ูููู ุงููุดุบููู ุงููุชุฒุงูููู / ุงูููุชุธุฑูู ุ ูุซู ูุดุบู ุฅุฑุฌุงุน ุงูุนุงุฆุฏ ุ ุจุฅูุดุงุก ุฌูุงุฒ ุญุงูุฉ ูู ุงูุทุฑููุฉ ุ ุงูุชู ุชููู ุจุฅูุดุงุก ูุงุฆู ุฌุฏูุฏ ุ ููู ุฃูุฑ ุบูุฑ ููู ุฏุงุฆููุง ุชูุฑูุจูุง ุ ูููู ูู ุญุงูุงุช ูุงุฏุฑุฉ ุ ูููู ุฃู ูุญุฏุซ ูุดููุฉ.  ูุฏ ุชููู ูุฐู ุงูุญุงูุฉ ุทุฑููุฉ ุชุณูู ูุซูุฑูุง ุ ุชุชุญุฏุซ ุนู ุนุดุฑุงุช ููุฆุงุช ุงูุขูุงู ูู ุงูููุงููุงุช ูู ุงูุซุงููุฉ.  ุฅุฐุง ุชูุช ูุชุงุจุฉ ูุซู ูุฐู ุงูุทุฑููุฉ ุจุญูุซ ุชููู ูู ูุนุธู ุงูุญุงูุงุช ุจุฅุฑุฌุงุน ูุชูุฌุฉ ุชุชุฌุงูุฒ ุฌููุน ุทุฑู ุงูุงูุชุธุงุฑ ุ ูุฅู .NET ูููุฑ ุฃุฏุงุฉ ูุชุญุณูู ุฐูู - ุจููุฉ ValueTask.  ูุชูุถูุญ ุงูุฃูุฑ ุ ููุฑ ูู ูุซุงู ุนูู ุงุณุชุฎุฏุงูู: ุชูุฌุฏ ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ูุฐูุจ ุฅูููุง ูุซูุฑูุง.  ููุงู ุจุนุถ ุงูููู ููู ุซู ูุนูุฏูุง ููุท ุ ุฅู ูู ููู ุ ูุณูุฐูุจ ุฅูู ุจุนุถ IO ุงูุจุทูุก ูุฑุงุกูุง.  ุฃุฑูุฏ ุฃู ุฃูุนู ูุฐุง ุงูุฃุฎูุฑ ุจุดูู ุบูุฑ ูุชุฒุงูู ุ ููุง ูุนูู ุฃู ุงูุทุฑููุฉ ุจุฑูุชูุง ุบูุฑ ูุชุฒุงููุฉ.  ูุจุงูุชุงูู ุ ูุฅู ุงูุทุฑููุฉ ุงููุงุถุญุฉ ููุชุงุจุฉ ุทุฑููุฉ ูู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetById</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cache.TryGetValue(id, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> val)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> RequestById(id); }</code> </pre><br> -   ,    -    Roslyn   ,      : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Task&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetById</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cache.TryGetValue(id, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> val)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Task.FromResult(val); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RequestById(id); }</code> </pre><br>          hot-path,              GC,        ,        IO     /  : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ValueTask&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetById</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cache.TryGetValue(id, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> val)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ValueTask&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(val); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ValueTask&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(RequestById(id)); }</code> </pre><br>      :        ,          .          : ValueTask     C#         Task   . <br><br><h4 style=";text-align:right;direction:rtl"> TaskScheduler':    Task' </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุชุงููุฉ ุงูุชู ุฃูุฏ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุฑุงุณุชูุง</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุฆุฉ </font><b><font style="vertical-align: inherit;">TaskScheduler</font></b><font style="vertical-align: inherit;"> ููุดุชูุงุชูุง. </font><font style="vertical-align: inherit;">ุณุจู ุฃู ุฐูุฑุช ุฃุนูุงู ุฃูู ูู TPL ููุงู ุงููุฏุฑุฉ ุนูู ุงูุชุญูู ูู ุงุณุชุฑุงุชูุฌูุงุช ุชูุฒูุน Task'ov ุญุณุจ ุงูููุถูุน. </font><font style="vertical-align: inherit;">ูุชู ุชุนุฑูู ูุฐู ุงูุงุณุชุฑุงุชูุฌูุงุช ูู ุฃุญูุงุฏ ูุฆุฉ TaskScheduler. </font><font style="vertical-align: inherit;">ุณูุชู ุงูุนุซูุฑ ุนูู ุฃู ุฅุณุชุฑุงุชูุฌูุฉ ูุฏ ุชุญุชุงุฌูุง ุชูุฑูุจูุง ูู ููุชุจุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ParallelExtensionsExtras</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุงูุชู ุทูุฑุชูุง ุดุฑูุฉ Microsoft ุ ูููู ููุณ ูุฌุฒุก ูู .NET ุ ูููู ูุชู ุชุณููููุง ูุญุฒูุฉ Nuget. </font><font style="vertical-align: inherit;">ุฏุนููุง ูููุฑ ุจุฅูุฌุงุฒ ูู ุจุนุถูุง:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CurrentThreadTaskScheduler</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ูุคุฏู ูููุฉ ุนูู ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุญุงูู</font></font></li><li style=";text-align:right;direction:rtl"> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LimitedConcurrencyLevelTaskScheduler</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ูุญุฏ ูู ุนุฏุฏ ุงูููุงู ุงููููุฐุฉ ูู ููุช ูุงุญุฏ ุฅูู ุงููุนููุฉ N ุ ูุงูุชู ูุชู ูุจูููุง ูู ุงููููุดุฆ</font></font></li><li style=";text-align:right;direction:rtl"> <b>OrderedTaskScheduler</b> โ   LimitedConcurrencyLevelTaskScheduler(1),     . </li><li style=";text-align:right;direction:rtl"> <b>WorkStealingTaskScheduler</b> โ  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">work-stealing</a>    .     ThreadPool.   ,   .NET ThreadPool   ,    ,                  .        . ..      WorkStealingTaskScheduler'    ,   ThreadPool     . </li><li style=";text-align:right;direction:rtl"> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QueuedTaskScheduler</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ูุชูุญ ูู ุฃุฏุงุก ุงูููุงู ูููุง ูููุงุนุฏ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูุน ุงูุฃููููุงุช</font></font></li><li style=";text-align:right;direction:rtl"> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ThreadPerTaskScheduler</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ุจุฅูุดุงุก ูุคุดุฑ ุชุฑุงุจุท ูููุตู ููู ูููุฉ ุชุนูู ุนููู. </font><font style="vertical-align: inherit;">ูููู ุฃู ูููู ูููุฏูุง ููููุงู ุงูุชู ุชุนูู ููุชุฑุฉ ุทูููุฉ ุจุดูู ุบูุฑ ูุชููุน.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฌุฏ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงูุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุตูุฉ ุฌูุฏุฉ </font><font style="vertical-align: inherit;">ุญูู TaskSchedulers ุนูู ูุฏููุฉ Microsoft. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ูู ูุง ูุชุนูู ุจุงูููุงู ูู Visual Studio ุ ููุฌุฏ ุฅุทุงุฑ ููุงู. </font><font style="vertical-align: inherit;">ูู ูุฐู ุงููุงูุฐุฉ ุ ููููู ุฑุคูุฉ ุงูุญุงูุฉ ุงูุญุงููุฉ ูููููุฉ ูุงูุงูุชูุงู ุฅูู ุณุทุฑ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ููุชูููุฐ ุงูุญุงูู.</font></font><br><br><img src="https://habrastorage.org/webt/tb/fv/3l/tbfv3l-sdz-jw0mpcakbt_-lve8.png"><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PLinq ูุงูุทุจูุฉ ุงูููุงุฒูุฉ </font></font></h4><br>  Task'       .NET       PLinq(Linq2Parallel)   Parallel.      Linq    .     - WithDegreeOfParallelism.  ,   PLinq             ,      ,       :      AsParallel   Linq     .       PLinq           Partitions.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชููุฑ ุงููุฆุฉ ุงูุซุงุจุชุฉ ุงูููุงุฒูุฉ ุทุฑููุง ููุชูุฑุงุฑ ุนุจุฑ ูุฌููุนุฉ Foreach ุจุดูู ูุชูุงุฒู ูุชูููุฐ ุญููุฉ For ูุชูููุฐ ูููุถูู ูุชุนุฏุฏูู ุจุงูุชูุงุฒู ูุน ุงุณุชุฏุนุงุก. ุณูุชู ุฅููุงู ุชูููุฐ ุณูุณูุฉ ุงูุนูููุงุช ุงูุญุงููุฉ ุญุชู ููุงูุฉ ุงูุนูููุงุช ุงูุญุณุงุจูุฉ. ูููู ุชูููู ุนุฏุฏ ุณูุงุณู ุงูุนูููุงุช ุนู ุทุฑูู ุชูุฑูุฑ ParallelOptions ููุณูุทุฉ ุฃุฎูุฑุฉ. ุจุงุณุชุฎุฏุงู ุงูุฎูุงุฑุงุช ุ ููููู ุฃูุถูุง ุชุญุฏูุฏ TaskScheduler ู CancellationToken.</font></font><br><br><h4 style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏูุง ุจุฏุฃุช ูู ูุชุงุจุฉ ูุฐุง ุงูููุงู ุจูุงุกู ุนูู ููุงุฏ ุชูุฑูุฑู ูุงููุนูููุงุช ุงูุชู ููุช ุจุฌูุนูุง ุฎูุงู ุงูุนูู ุจุนุฏู ุ ูู ุฃูู ุฃุชููุน ุฃู ูุชุญูู ูุซูุฑูุง. </font><font style="vertical-align: inherit;">ุงูุขู ุ ุนูุฏูุง ูุฎุจุฑูู ูุญุฑุฑ ุงููุตูุต ุงูุฐู ุฃูุชุจ ููู ูุฐู ุงูููุงูุฉ ุจุนุจุงุฑุฉ ุฃู ุงูุตูุญุฉ ุงูุฎุงูุณุฉ ุนุดุฑุฉ ูุฏ ููุช ุ ุณุฃูุฌุฒ ุงููุชุงุฆุฌ ุงููุณูุทุฉ. </font><font style="vertical-align: inherit;">ุณุชุชู ููุงูุดุฉ ุงูุญูู ููุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (APIs) ูุงูุฃุฏูุงุช ุงููุฑุฆูุฉ ูุงููุฒุงูู ูู ููุงู ูุงุญู. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุงุณุชูุชุงุฌุงุช:</font></font></b> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุงูุฃุฏูุงุช ุงููุงุฒูุฉ ููุชุนุงูู ูุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูุงูุชุฒุงูู ูุงูุชูุงุฒู ูู ุฃุฌู ุงุณุชุฎุฏุงู ููุงุฑุฏ ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุญุฏูุซุฉ. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุชูู .NET ุนูู ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ุงููุฎุชููุฉ ููุฐุง ุงูุบุฑุถ. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุชุธูุฑ ุฌููุนูุง ูุฑุฉ ูุงุญุฏุฉ ุ ูุฃูู ุบุงูุจูุง ูุง ูููู ุงูุนุซูุฑ ุนูู ุงูุฅุฑุซ ุ ูููู ููุงู ุทุฑู ูุชุญููู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุฏููุฉ ุฏูู ุจุฐู ุงููุซูุฑ ูู ุงูุฌูุฏ. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุซู ุงูุนูู ูุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูู .NET ูู ุฎูุงู ุงููุฆุงุช Thread ู ThreadPool </font></font></li><li style=";text-align:right;direction:rtl">  Thread.Abort, Thread.Interrupt,  Win32 API TerminateThread      .      CancellationToken' </li><li style=";text-align:right;direction:rtl">  โ  ,   .   ,     .      TaskCompletionSource </li><li style=";text-align:right;direction:rtl">      .NET        Task'. </li><li style=";text-align:right;direction:rtl">  c# async/await     </li><li style=";text-align:right;direction:rtl">   Task'       TaskScheduler'  </li><li style=";text-align:right;direction:rtl">  ValueTask      hot-paths  memory-traffic </li><li style=";text-align:right;direction:rtl">  Tasks  Threads Visual Studio           </li><li style=";text-align:right;direction:rtl"> PLinq  ,            ,        partitioning </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> ... </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar452094/">https://habr.com/ru/post/ar452094/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar452082/index.html">ุชุญุฏูุซุงุช ูุฑูุฉ ุฏุงุฎู ุงูุชุทุจูู: ุชุณุฑูุน ุนูููุฉ ุชุญุฏูุซ ุงูุชุทุจูู ุนูู Android</a></li>
<li><a href="../ar452086/index.html">ูุง ูู ูู ุจูุณู ุจูุฏู ุจุงููุณุจุฉ ูู: ุฅูุดุงุก ุจูุณูุงุช ูุชูุงููุฉ ุงูุตุบุฑ ุจุงุณุชุฎุฏุงู ุงูุฃุณุทุญ plasmon</a></li>
<li><a href="../ar452088/index.html">ุงูุชุนุฑู ุนูู ุงูุทุฑูู ูู ุฎูุงู ุงูุชุฌุฒุฆุฉ ุงูุฏูุงูู</a></li>
<li><a href="../ar452090/index.html">ุฅูุดุงุก ูููุฏ ูุบุฒ ุงูุฅุฌุฑุงุฆู</a></li>
<li><a href="../ar452092/index.html">ุชุญุฏูุซุงุช ุฏุงุฎู ุงูุชุทุจูู: ุชุณุฑูุน ุชุญุฏูุซุงุช ุชุทุจูู Android</a></li>
<li><a href="../ar452098/index.html">ุณุฌูุงุช ุงููุทูุฑ ุงูุฃูุงูู Habr: refactor ู reflex</a></li>
<li><a href="../ar452102/index.html">ูุนุจุฉ ุตูุฑ ููู ูุญุจูู ุงูุทุงุฆุฑุงุช ุจุฏูู ุทูุงุฑ: ุจุงุฎุชุตุงุฑ ุญูู AirSelfie 2</a></li>
<li><a href="../ar452106/index.html">ูุฏุนู ุงููุชุญุฏุซูู ุฅูู ุงูุงุฌุชูุงุน ุงูุตููู DIY ูู 16 ููููู 2019</a></li>
<li><a href="../ar452108/index.html">ุนุงูู ุงููููุงุก: ูุตูุญุฉ ุบูุฑ ุถุงุฑุฉ</a></li>
<li><a href="../ar452110/index.html">ุฃุชูุชุฉ ุงุณุชุจุฏุงู ุงููุฑุต ูุน Ansible</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>