<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸšª ğŸ¶ ğŸ’˜ ä½¿ç”¨åè°ƒå™¨åœ¨Androidåº”ç”¨ç¨‹åºä¸­å¯¼èˆª ğŸ––ğŸ¾ ğŸˆ³ ğŸŒ©ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨è¿‡å»çš„å‡ å¹´ä¸­ï¼Œæˆ‘ä»¬å¼€å‘äº†ç”¨äºåˆ›å»ºAndroidåº”ç”¨ç¨‹åºçš„é€šç”¨æ–¹æ³•ã€‚ çº¯æ¶æ„ï¼Œæ¶æ„æ¨¡å¼ï¼ˆMVCï¼ŒMVPï¼ŒMVVMï¼ŒMVIï¼‰ï¼Œå­˜å‚¨åº“æ¨¡å¼ç­‰ã€‚ ä½†æ˜¯ï¼Œä»ç„¶æ²¡æœ‰å…¬è®¤çš„æ–¹æ³•æ¥ç»„ç»‡åº”ç”¨ç¨‹åºå†…çš„å¯¼èˆªã€‚ ä»Šå¤©ï¼Œæˆ‘æƒ³ä¸æ‚¨è°ˆè°ˆâ€œåè°ƒå™¨â€æ¨¡æ¿åŠå…¶åœ¨Androidåº”ç”¨ç¨‹åºå¼€å‘ä¸­çš„åº”ç”¨å¯èƒ½æ€§ã€‚ 
 åè°ƒå™¨æ¨¡å¼é€šå¸¸ç”¨åœ¨iOS...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨åè°ƒå™¨åœ¨Androidåº”ç”¨ç¨‹åºä¸­å¯¼èˆª</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/416301/"> åœ¨è¿‡å»çš„å‡ å¹´ä¸­ï¼Œæˆ‘ä»¬å¼€å‘äº†ç”¨äºåˆ›å»ºAndroidåº”ç”¨ç¨‹åºçš„é€šç”¨æ–¹æ³•ã€‚ çº¯æ¶æ„ï¼Œæ¶æ„æ¨¡å¼ï¼ˆMVCï¼ŒMVPï¼ŒMVVMï¼ŒMVIï¼‰ï¼Œå­˜å‚¨åº“æ¨¡å¼ç­‰ã€‚ ä½†æ˜¯ï¼Œä»ç„¶æ²¡æœ‰å…¬è®¤çš„æ–¹æ³•æ¥ç»„ç»‡åº”ç”¨ç¨‹åºå†…çš„å¯¼èˆªã€‚ ä»Šå¤©ï¼Œæˆ‘æƒ³ä¸æ‚¨è°ˆè°ˆâ€œåè°ƒå™¨â€æ¨¡æ¿åŠå…¶åœ¨Androidåº”ç”¨ç¨‹åºå¼€å‘ä¸­çš„åº”ç”¨å¯èƒ½æ€§ã€‚ <br><blockquote> åè°ƒå™¨æ¨¡å¼é€šå¸¸ç”¨åœ¨iOSåº”ç”¨ç¨‹åºä¸­ï¼Œç”±Soroush Khanlouå¼•å…¥ï¼Œç›®çš„æ˜¯ç®€åŒ–åº”ç”¨ç¨‹åºçš„å¯¼èˆªã€‚ äººä»¬ç›¸ä¿¡Sorushçš„å·¥ä½œæ˜¯åŸºäºMartin Fowlerçš„ä¼ä¸šåº”ç”¨ç¨‹åºæ¶æ„æ¨¡å¼ä¸­æè¿°çš„Application Controlleræ–¹æ³•ã€‚ <br></blockquote>  â€œåè°ƒå™¨â€æ¨¡æ¿æ—¨åœ¨è§£å†³ä»¥ä¸‹ä»»åŠ¡ï¼š <br><br><ul><li> ä¸Massive View Controlleré—®é¢˜ï¼ˆè¯¥é—®é¢˜å·²ç»å†™åœ¨ä¸­å¿ƒ-è¯‘è€…æ³¨ï¼‰ä¸Šä½œæ–—äº‰ï¼Œè¯¥é—®é¢˜é€šå¸¸éšç€God-Activityï¼ˆæ‰¿æ‹…å¾ˆå¤šè´£ä»»çš„æ´»åŠ¨ï¼‰çš„å‡ºç°è€Œæ˜¾ç°å‡ºæ¥ã€‚ </li><li> å°†å¯¼èˆªé€»è¾‘åˆ†ç¦»ä¸ºä¸€ä¸ªå•ç‹¬çš„å®ä½“ </li><li> ç”±äºä¸å¯¼èˆªé€»è¾‘çš„å¼±è¿æ¥ï¼Œåº”ç”¨ç¨‹åºå±å¹•ï¼ˆæ´»åŠ¨/ç‰‡æ®µï¼‰çš„é‡ç”¨ </li></ul><br> ä½†æ˜¯ï¼Œåœ¨æ‚¨å¼€å§‹ç†Ÿæ‚‰æ¨¡æ¿å¹¶å°è¯•å®ç°å®ƒä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹Androidåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„å¯¼èˆªå®ç°ã€‚ <br><a name="habracut"></a><br><h3> å¯¼èˆªé€»è¾‘åœ¨æ´»åŠ¨/ç‰‡æ®µä¸­æè¿° </h3><br> ç”±äºAndroid SDKéœ€è¦Contextæ‰èƒ½æ‰“å¼€æ–°æ´»åŠ¨ï¼ˆæˆ–FragmentManageræ‰èƒ½å‘æ´»åŠ¨æ·»åŠ ç‰‡æ®µï¼‰ï¼Œå› æ­¤å¯¼èˆªé€»è¾‘é€šå¸¸ç›´æ¥åœ¨æ´»åŠ¨/ç‰‡æ®µä¸­è¿›è¡Œæè¿°ã€‚ ç”šè‡³Android SDKæ–‡æ¡£ä¸­çš„ç¤ºä¾‹ä¹Ÿä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚ <br><br><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(b) setContentView(R.layout.activity_shopping_cart) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> checkoutButton = findViewById(R.id.checkoutButton) checkoutButton.setOnClickListener { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> intent = Intent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, CheckoutActivity::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">startActivity</span></span></span></span>(intent) } } }</code> </pre> <br> åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå¯¼èˆªä¸æ´»åŠ¨å¯†åˆ‡ç›¸å…³ã€‚ æµ‹è¯•è¿™æ ·çš„ä»£ç æ–¹ä¾¿å—ï¼Ÿ æœ‰äººå¯èƒ½ä¼šäº‰è¾©è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¼èˆªåˆ†ç¦»åˆ°ä¸€ä¸ªå•ç‹¬çš„å®ä½“ä¸­ï¼Œå¹¶ä¸ºå…¶å‘½åï¼Œä¾‹å¦‚å¯ä»¥å®ç°çš„Navigatorã€‚ è®©æˆ‘ä»¬çœ‹çœ‹ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> navigator : Navigator <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(b) setContentView(R.layout.activity_shopping_cart) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> checkoutButton = findViewById(R.id.checkoutButton) checkoutButton.setOnClickListener { navigator.showCheckout(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Navigator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showCheckout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(activity : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Activity</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> intent = Intent(activity, CheckoutActivity::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">activity</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">startActivity</span></span></span></span>(intent) } }</code> </pre><br> äº‹å®è¯æ˜è¿˜ä¸é”™ï¼Œä½†æ˜¯æˆ‘æƒ³è¦æ›´å¤šã€‚ <br><br><h3> ä½¿ç”¨MVVM / MVPå¯¼èˆª </h3><br> æˆ‘å°†ä»ä¸€ä¸ªé—®é¢˜å¼€å§‹ï¼šä½¿ç”¨MVVM / MVPæ—¶ï¼Œæ‚¨å°†å¯¼èˆªé€»è¾‘æ”¾åœ¨å“ªé‡Œï¼Ÿ <br><br> åœ¨æ¼”ç¤ºè€…ä¸‹é¢çš„å±‚ä¸­ï¼ˆæˆ‘ä»¬ç§°å…¶ä¸ºä¸šåŠ¡é€»è¾‘ï¼‰ï¼Ÿ è¿™ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œå› ä¸ºæ‚¨å¾ˆå¯èƒ½ä¼šåœ¨å…¶ä»–æ¼”ç¤ºæ¨¡å‹æˆ–æ¼”ç¤ºè€…ä¸­é‡ç”¨ä¸šåŠ¡é€»è¾‘ã€‚ <br><br> åœ¨è§†å›¾å±‚ï¼Ÿ æ‚¨ç¡®å®šè¦åœ¨æ¼”ç¤ºæ–‡ç¨¿å’Œæ¼”ç¤ºè€…/æ¼”ç¤ºæ¨¡å‹ä¹‹é—´å¼•å‘äº‹ä»¶å—ï¼Ÿ è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ShoppingCartView</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> navigator : Navigator <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> presenter : ShoppingCartPresenter <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(b) setContentView(R.layout.activity_shopping_cart) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> checkoutButton = findViewById(R.id.checkoutButton) checkoutButton.setOnClickListener { presenter.checkoutClicked() } } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">navigateToCheckout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showCheckout(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartPresenter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Presenter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ShoppingCartView</span></span></span><span class="hljs-class">&gt; </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkoutClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ view?.navigateToCheckout(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } }</code> </pre><br> æˆ–è€…ï¼Œå¦‚æœæ‚¨æ›´å–œæ¬¢MVVMï¼Œåˆ™å¯ä»¥ä½¿ç”¨SingleLiveEventsæˆ–EventObserver <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ShoppingCartView</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> navigator : Navigator <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> viewModel : ViewModel <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(b) setContentView(R.layout.activity_shopping_cart) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> checkoutButton = findViewById(R.id.checkoutButton) checkoutButton.setOnClickListener { viewModel.checkoutClicked() } viewModel.navigateToCheckout.observe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, Observer { navigator.showCheckout(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) }) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartViewModel</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ViewModel</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigateToCheckout = MutableLiveData&lt;Event&lt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkoutClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigateToCheckout.value = Event(<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>) <span class="hljs-comment"><span class="hljs-comment">// Trigger the event by setting a new Event as a new value } }</span></span></code> </pre><br> æˆ–è€…è®©æˆ‘ä»¬å°†å¯¼èˆªå™¨æ”¾åœ¨è§†å›¾æ¨¡å‹ä¸­ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­æ‰€ç¤ºçš„EventObserver <br><br><pre> <code class="hljs delphi"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ShoppingCartViewModel @Inject <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(val navigator : Navigator)</span></span></span><span class="hljs-function"> :</span></span> ViewModel() <span class="hljs-comment"><span class="hljs-comment">{ fun checkoutClicked(){ navigator.showCheckout() }</span></span> }</code> </pre><br> è¯·æ³¨æ„ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥åº”ç”¨äºæ¼”ç¤ºè€…ã€‚ å¦‚æœå¯¼èˆªå™¨ä¿æŒä¸æ¿€æ´»å™¨çš„é“¾æ¥ï¼Œæˆ‘ä»¬ä¹Ÿå°†å¿½ç•¥å¯¼èˆªå™¨ä¸­å¯èƒ½çš„å†…å­˜æ³„æ¼ã€‚ <br><br><h3> åè°ƒå‘˜ </h3><br> é‚£ä¹ˆæˆ‘ä»¬åœ¨å“ªé‡Œæ”¾ç½®å¯¼èˆªé€»è¾‘å‘¢ï¼Ÿ ä¸šåŠ¡é€»è¾‘ï¼Ÿ æ—©äº›æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»è€ƒè™‘è¿‡æ­¤é€‰é¡¹ï¼Œå¹¶å¾—å‡ºç»“è®ºï¼Œè¿™ä¸æ˜¯æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚ åœ¨è§†å›¾å’Œè§†å›¾æ¨¡å‹ä¹‹é—´å¼•å‘äº‹ä»¶å¯èƒ½æ˜¯å¯è¡Œçš„ï¼Œä½†å®ƒçœ‹èµ·æ¥å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚ è€Œä¸”ï¼Œå³ä½¿æˆ‘ä»¬å°†è§†å›¾å¸¦åˆ°å¯¼èˆªå™¨ä¸­ï¼Œè¯¥è§†å›¾ä»ç„¶è´Ÿè´£å¯¼èˆªé€»è¾‘ã€‚ éµå¾ªæ’é™¤æ–¹æ³•åï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥é€‰æ‹©å°†å¯¼èˆªé€»è¾‘æ”¾ç½®åœ¨è¡¨ç¤ºæ¨¡å‹ä¸­ï¼Œå¹¶ä¸”è¿™ç§é€‰æ‹©ä¼¼ä¹å¾ˆæœ‰å¸Œæœ›ã€‚ ä½†æ˜¯è§†å›¾æ¨¡å‹åº”è¯¥å…³å¿ƒå¯¼èˆªå—ï¼Ÿ è¿™ä¸åªæ˜¯è§†å›¾å’Œæ¨¡å‹ä¹‹é—´çš„ä¸€å±‚å—ï¼Ÿ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æåˆ°åè°ƒå‘˜çš„æ¦‚å¿µã€‚ <br><br>  â€œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å¦ä¸€ä¸ªæŠ½è±¡å±‚æ¬¡ï¼Ÿâ€  -ä½ é—®ã€‚ æ˜¯å¦å€¼å¾—ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Ÿ åœ¨å°å‹é¡¹ç›®ä¸­ï¼Œå®é™…ä¸Šå¯ä»¥å‡ºäºæŠ½è±¡çš„ç›®çš„è€Œå‡ºç°æŠ½è±¡ï¼Œä½†æ˜¯ï¼Œåœ¨å¤æ‚çš„åº”ç”¨ç¨‹åºä¸­æˆ–åœ¨ä½¿ç”¨A / Bæµ‹è¯•çš„æƒ…å†µä¸‹ï¼Œåè°ƒå™¨å¯èƒ½ä¼šæœ‰ç”¨ã€‚ å‡è®¾ç”¨æˆ·å¯ä»¥åˆ›å»ºä¸€ä¸ªå¸æˆ·å¹¶ç™»å½•ã€‚ æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€äº›é€»è¾‘ï¼Œæˆ‘ä»¬å¿…é¡»æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•ï¼Œå¹¶æ˜¾ç¤ºåº”ç”¨ç¨‹åºçš„ç™»å½•å±å¹•æˆ–ä¸»å±å¹•ã€‚ åè°ƒå‘˜å¯ä»¥ä¸ºç»™å®šçš„ç¤ºä¾‹æä¾›å¸®åŠ©ã€‚ è¯·æ³¨æ„ï¼Œåè°ƒå™¨æ— åŠ©äºç¼–å†™æ›´å°‘çš„ä»£ç ï¼›å®ƒæœ‰åŠ©äºä»è§†å›¾æˆ–è§†å›¾æ¨¡å‹ä¸­è·å–å¯¼èˆªé€»è¾‘çš„ä»£ç ã€‚ <br><br> åè°ƒå‘˜çš„æƒ³æ³•éå¸¸ç®€å•ã€‚ ä»–åªçŸ¥é“æ¥ä¸‹æ¥è¦æ‰“å¼€å“ªä¸ªåº”ç”¨ç¨‹åºå±å¹•ã€‚ ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·å•å‡»è®¢å•çš„ä»˜æ¬¾æŒ‰é’®æ—¶ï¼Œåè°ƒå‘˜ä¼šæ”¶åˆ°ç›¸åº”çš„äº‹ä»¶ï¼Œå¹¶çŸ¥é“ä¸‹ä¸€æ­¥å°±æ˜¯æ‰“å¼€ä»˜æ¬¾å±å¹•ã€‚ åœ¨iOSä¸­ï¼Œåè°ƒå™¨ç”¨ä½œæœåŠ¡å®šä½å™¨ï¼Œä»¥åˆ›å»ºViewControllerå¹¶æ§åˆ¶åå‘å †æ ˆã€‚ è¿™å¯¹äºåè°ƒå‘˜å°±è¶³å¤Ÿäº†ï¼ˆè®°ä½å”¯ä¸€è´£ä»»åŸåˆ™ï¼‰ã€‚ åœ¨Androidåº”ç”¨ç¨‹åºä¸­ï¼Œç³»ç»Ÿåˆ›å»ºæ´»åŠ¨ï¼Œæˆ‘ä»¬æœ‰è®¸å¤šç”¨äºå®ç°ä¾èµ–å…³ç³»çš„å·¥å…·ï¼Œå¹¶ä¸”æœ‰ç”¨äºæ´»åŠ¨å’Œç‰‡æ®µçš„åå°ç¨‹åºã€‚ ç°åœ¨è®©æˆ‘ä»¬å›åˆ°åè°ƒå™¨çš„åŸå§‹æ¦‚å¿µï¼šåè°ƒå™¨åªçŸ¥é“ä¸‹ä¸€ä¸ªå±å¹•ã€‚ <br><br><h3> ç¤ºä¾‹ï¼šä½¿ç”¨åè°ƒå™¨çš„æ–°é—»åº”ç”¨ç¨‹åº </h3><br> æœ€åï¼Œè®©æˆ‘ä»¬ç›´æ¥è®¨è®ºæ¨¡æ¿ã€‚ æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç®€å•çš„æ–°é—»åº”ç”¨ç¨‹åºã€‚ è¯¥åº”ç”¨ç¨‹åºæœ‰2ä¸ªå±å¹•ï¼šâ€œæ–‡ç« åˆ—è¡¨â€å’Œâ€œæ–‡ç« æ–‡æœ¬â€ï¼Œå¯é€šè¿‡å•å‡»åˆ—è¡¨é¡¹æ‰“å¼€ã€‚ <br><br><img src="https://habrastorage.org/webt/yw/oy/cl/ywoycl_vvhclm0s6wlwkzpcgzpk.png"><br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewsFlowCoordinator</span></span></span><span class="hljs-class"> </span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigator : Navigator) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showNewsList() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readNewsArticle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ navigator.showNewsArticle(id) } }</code> </pre><br> è„šæœ¬ï¼ˆæµç¨‹ï¼‰åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå±å¹•ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæ–°é—»åœºæ™¯ç”±2ä¸ªå±å¹•ç»„æˆï¼šâ€œæ–‡ç« åˆ—è¡¨â€å’Œâ€œæ–‡ç« æ–‡æœ¬â€ã€‚ åè°ƒå‘˜éå¸¸ç®€å•ã€‚ å½“åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨NewsFlowCoordinatorï¼ƒstartï¼ˆï¼‰æ¥æ˜¾ç¤ºæ–‡ç« åˆ—è¡¨ã€‚ å½“ç”¨æˆ·å•å‡»åˆ—è¡¨é¡¹æ—¶ï¼Œå°†è°ƒç”¨NewsFlowCoordinatorï¼ƒreadNewsArticleï¼ˆidï¼‰æ–¹æ³•ï¼Œå¹¶æ˜¾ç¤ºå¸¦æœ‰æ–‡ç« å…¨æ–‡çš„å±å¹•ã€‚ æˆ‘ä»¬ä»åœ¨ä¸å¯¼èˆªå™¨ä¸€èµ·å·¥ä½œï¼ˆç¨åå†è®¨è®ºï¼‰ï¼Œæˆ‘ä»¬å°†å…¶å§”æ‰˜ç»™å±å¹•æ‰“å¼€ã€‚ åè°ƒå™¨æ²¡æœ‰çŠ¶æ€ï¼Œå®ƒä¸ä¾èµ–äºåç«¯çš„å®ç°ï¼Œè€Œä»…å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼šå®ƒç¡®å®šä¸‹ä¸€æ­¥è¦å»å“ªé‡Œã€‚ <br><br> ä½†æ˜¯å¦‚ä½•å°†åè°ƒå™¨ä¸æˆ‘ä»¬çš„æ¼”ç¤ºæ¨¡å‹è”ç³»èµ·æ¥ï¼Ÿ æˆ‘ä»¬å°†éµå¾ªä¾èµ–å…³ç³»åè½¬çš„åŸç†ï¼šå°†lambdaä¼ é€’ç»™è§†å›¾æ¨¡å‹ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æ–‡ç« æ—¶å°†è°ƒç”¨è¯¥æ¨¡å‹ã€‚ <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewsListViewModel</span></span></span></span>( newsRepository : NewsRepository, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onNewsItemClicked: ( (<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span> )? ) : ViewModel() { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newsArticles = MutableLiveData&lt;List&lt;News&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> disposable = newsRepository.getNewsArticles().subscribe { newsArticles.value = it } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newsArticleClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ onNewsItemClicked!!(id) <span class="hljs-comment"><span class="hljs-comment">// call the lambda } override fun onCleared() { disposable.dispose() onNewsItemClicked = null // to avoid memory leaks } }</span></span></code> </pre><br>  onNewsItemClickedï¼šï¼ˆIntï¼‰-&gt; Unitæ˜¯å…·æœ‰ä¸€ä¸ªæ•´æ•°å‚æ•°å¹¶è¿”å›Unitçš„lambdaã€‚ è¯·æ³¨æ„ï¼Œlambdaå¯èƒ½ä¸ºnullï¼Œè¿™å°†ä½¿æˆ‘ä»¬æ¸…é™¤é“¾æ¥ä»¥é¿å…å†…å­˜æ³„æ¼ã€‚ è§†å›¾æ¨¡å‹çš„åˆ›å»ºè€…ï¼ˆä¾‹å¦‚ï¼ŒåŒ•é¦–ï¼‰å¿…é¡»å°†é“¾æ¥ä¼ é€’ç»™coordinatoræ–¹æ³•ï¼š <br><br><pre> <code class="hljs lisp">return NewsListViewModel( <span class="hljs-name"><span class="hljs-name">newsRepository</span></span> = newsRepository, onNewsItemClicked = newsFlowCoordinator:<span class="hljs-symbol"><span class="hljs-symbol">:readNewsArticle</span></span> )</code> </pre><br> åœ¨å‰é¢ï¼Œæˆ‘ä»¬æåˆ°äº†å¯¼èˆªå™¨ï¼Œå®ƒæ‰§è¡Œå±å¹•çš„åˆ‡æ¢ã€‚ å¯¼èˆªå™¨çš„å®ç°ç”±æ‚¨å†³å®šï¼Œå› ä¸ºå®ƒå–å†³äºæ‚¨çš„ç‰¹å®šæ–¹æ³•å’Œä¸ªäººå–œå¥½ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯¹ä¸€ä¸ªæ´»åŠ¨ä½¿ç”¨å¤šä¸ªç‰‡æ®µï¼ˆä¸€ä¸ªå±å¹•-ä¸€ä¸ªå…·æœ‰è‡ªå·±çš„è¡¨ç¤ºæ¨¡å‹çš„ç‰‡æ®µï¼‰ã€‚ æˆ‘ç»™å‡ºäº†ä¸€ä¸ªå¯¼èˆªå™¨çš„å¹¼ç¨šå®ç°ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Navigator</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> activity : FragmentActivity? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showNewsList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ activty!!.supportFragmentManager .beginTransaction() .replace(R.id.fragmentContainer, NewsListFragment()) .commit() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showNewsDetails</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(newsId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { activty!!.supportFragmentManager .beginTransaction() .replace(R.id.fragmentContainer, NewsDetailFragment.newInstance(newsId)) .addToBackStack(<span class="hljs-string"><span class="hljs-string">"NewsDetail"</span></span>) .commit() } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppCompatActivity</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> navigator : Navigator <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) setContentView(R.layout.activity_main) navigator.activty = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDestroy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onDestroy() navigator.activty = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-comment"><span class="hljs-comment">// Avoid memory leaks } }</span></span></code> </pre><br> å¯¼èˆªå™¨çš„ä¸Šè¿°å®ç°å¹¶ä¸ç†æƒ³ï¼Œä½†æ˜¯æœ¬æ–‡çš„ä¸»è¦æ€æƒ³æ˜¯å°†åè°ƒå™¨å¼•å…¥è¯¥æ¨¡å¼ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç”±äºå¯¼èˆªå™¨å’Œåè°ƒå™¨æ²¡æœ‰çŠ¶æ€ï¼Œå› æ­¤å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­å£°æ˜å®ƒä»¬ï¼ˆä¾‹å¦‚ï¼ŒåŒ•é¦–ä¸­çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Singleton</a>èŒƒå›´ï¼‰ï¼Œå¹¶å¯ä»¥åœ¨Applicationï¼ƒonCreateï¼ˆï¼‰ä¸­å®ä¾‹åŒ–å®ƒä»¬ã€‚ <br><br> è®©æˆ‘ä»¬å‘åº”ç”¨ç¨‹åºæ·»åŠ æˆæƒã€‚ æˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªæ–°çš„ç™»å½•å±å¹•ï¼ˆLoginFragment + LoginViewModelï¼Œä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†çœç•¥å¯†ç æ¢å¤å’Œæ³¨å†Œï¼‰å’ŒLoginFlowCoordinatorã€‚ ä¸ºä»€ä¹ˆä¸å‘NewsFlowCoordinatoræ·»åŠ æ–°åŠŸèƒ½ï¼Ÿ æˆ‘ä»¬ä¸æƒ³è®©ä¸Šå¸åè°ƒå‘˜æ¥è´Ÿè´£åº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰å¯¼èˆªå—ï¼Ÿ å¦å¤–ï¼Œæˆæƒè„šæœ¬ä¸é€‚ç”¨äºæ–°é—»é˜…è¯»å™¨æ–¹æ¡ˆï¼Œå¯¹å—ï¼Ÿ <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginFlowCoordinator</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigator: Navigator ) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showLogin() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">registerNewUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showRegistration() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forgotPassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showRecoverPassword() } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginViewModel</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> usermanager: Usermanager, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onSignUpClicked: ( () -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span> )?, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onForgotPasswordClicked: ( () -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span> )? ) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(username : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, password : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ usermanager.login(username, password) ... } ... }</code> </pre><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°æ¯ä¸ªUIäº‹ä»¶éƒ½æœ‰ä¸€ä¸ªç›¸åº”çš„lambdaï¼Œä½†æ˜¯å¯¹äºæˆåŠŸç™»å½•çš„å›è°ƒæ²¡æœ‰lambdaã€‚ è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå®ç°ç»†èŠ‚ï¼Œæ‚¨å¯ä»¥æ·»åŠ ç›¸åº”çš„lambdaï¼Œä½†æ˜¯æˆ‘æœ‰ä¸€ä¸ªæ›´å¥½çš„ä¸»æ„ã€‚ è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªRootFlowCoordinatorå¹¶è®¢é˜…æ¨¡å‹æ›´æ”¹ã€‚ <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RootFlowCoordinator</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> usermanager: Usermanager, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> loginFlowCoordinator: LoginFlowCoordinator, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newsFlowCoordinator: NewsFlowCoordinator, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> onboardingFlowCoordinator: OnboardingFlowCoordinator ) { <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> { usermanager.currentUser.subscribe { user -&gt; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (user){ <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> NotAuthenticatedUser -&gt; loginFlowCoordinator.start() <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> AuthenticatedUser -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (user.onBoardingCompleted) newsFlowCoordinator.start() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> onboardingFlowCoordinator.start() } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onboardingCompleted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ newsFlowCoordinator.start() } }</code> </pre><br> å› æ­¤ï¼ŒRootFlowCoordinatorå°†æˆä¸ºå¯¼èˆªçš„å…¥å£ï¼Œè€Œä¸æ˜¯NewsFlowCoordinatorã€‚ è®©æˆ‘ä»¬ä¸“æ³¨äºRootFlowCoordinatorã€‚ å¦‚æœç”¨æˆ·å·²ç™»å½•ï¼Œåˆ™æˆ‘ä»¬å°†æ£€æŸ¥ä»–æ˜¯å¦å·²ç»å®Œæˆäº†å…¥èŒï¼ˆç¨åå°†å¯¹æ­¤è¿›è¡Œè¯¦ç»†ä»‹ç»ï¼‰å¹¶å¼€å§‹æ–°é—»æˆ–å…¥èŒè„šæœ¬ã€‚ è¯·æ³¨æ„ï¼Œæ­¤é€»è¾‘ä¸æ¶‰åŠLoginViewModelã€‚ æˆ‘ä»¬æè¿°äº†å…¥èŒæƒ…å†µã€‚ <br><br><img src="https://habrastorage.org/webt/hm/dg/nq/hmdgnqdu3xrkvkkisqk0xdo5mnw.png"><br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">OnboardingFlowCoordinator</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">navigator</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Navigator</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">onboardingFinished</span></span></span><span class="hljs-class">: () -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Unit</span></span></span><span class="hljs-class"> // this is </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">RootFlowCoordinator</span></span></span><span class="hljs-class">.onboardingCompleted() ) { fun start(){ navigator.showOnboardingWelcome() } fun welcomeShown(){ navigator.showOnboardingPersonalInterestChooser() } fun onboardingCompleted(){ onboardingFinished() } }</span></span></code> </pre><br> é€šè¿‡è°ƒç”¨OnboardingFlowCoordinatorï¼ƒstartï¼ˆï¼‰å¯åŠ¨å…¥èŒï¼Œè¿™æ˜¾ç¤ºäº†WelcomeFragmentï¼ˆWelcomeViewModelï¼‰ã€‚ å•å‡»â€œä¸‹ä¸€æ­¥â€æŒ‰é’®åï¼Œå°†è°ƒç”¨OnboardingFlowCoordinatorï¼ƒwelcomeShownï¼ˆï¼‰æ–¹æ³•ã€‚ è¯¥å±å¹•æ˜¾ç¤ºä»¥ä¸‹å±å¹•PersonalInterestFragment + PersonalInterestViewModelï¼Œç”¨æˆ·åœ¨è¯¥å±å¹•ä¸Šé€‰æ‹©æœ‰è¶£æ–°é—»çš„ç±»åˆ«ã€‚ é€‰æ‹©ç±»åˆ«åï¼Œç”¨æˆ·ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€æŒ‰é’®ï¼Œå¹¶è°ƒç”¨OnboardingFlowCoordinatorï¼ƒonboardingCompletedï¼ˆï¼‰æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä»£ç†å¯¹RootFlowCoordinatorï¼ƒonboardingCompletedï¼ˆï¼‰çš„è°ƒç”¨ï¼Œä»è€Œå¯åŠ¨NewsFlowCoordinatorã€‚ <br> è®©æˆ‘ä»¬çœ‹çœ‹åè°ƒå™¨å¦‚ä½•ç®€åŒ–A / Bæµ‹è¯•çš„å·¥ä½œã€‚ æˆ‘å°†æ·»åŠ ä¸€ä¸ªå±å¹•ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªè¦åœ¨åº”ç”¨ç¨‹åºä¸­è¿›è¡Œè´­ä¹°çš„å•†å“ï¼Œå¹¶å°†å…¶æ˜¾ç¤ºç»™æŸäº›ç”¨æˆ·ã€‚ <br><br><img src="https://habrastorage.org/webt/e7/ok/a8/e7oka8yuwnttopnufiday2904iw.png"><br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewsFlowCoordinator</span></span></span><span class="hljs-class"> </span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigator : Navigator, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> abTest : AbTest ) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showNewsList() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readNewsArticle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ navigator.showNewsArticle(id) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeNews</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (abTest.isB){ navigator.showInAppPurchases() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { navigator.closeNews() } } }</code> </pre><br> åŒæ ·ï¼Œæˆ‘ä»¬å°šæœªå‘è§†å›¾æˆ–å…¶æ¨¡å‹æ·»åŠ ä»»ä½•é€»è¾‘ã€‚ æ‚¨æ˜¯å¦å·²å†³å®šå°†InAppPurchaseFragmentæ·»åŠ åˆ°å…¥é—¨ä¸­ï¼Ÿ ä¸ºæ­¤ï¼Œæ‚¨åªéœ€è¦æ›´æ”¹å…¥èŒåè°ƒå™¨ï¼Œå› ä¸ºè´­ç‰©ç‰‡æ®µåŠå…¶è§†å›¾æ¨¡å‹å®Œå…¨ç‹¬ç«‹äºå…¶ä»–ç‰‡æ®µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä»–åœºæ™¯ä¸­è‡ªç”±åœ°é‡ç”¨å®ƒã€‚ åè°ƒå‘˜è¿˜å°†å¸®åŠ©å®æ–½A / Bæµ‹è¯•ï¼Œè¯¥æµ‹è¯•æ¯”è¾ƒäº†ä¸¤ç§å…¥é—¨åœºæ™¯ã€‚ <br><br> å®Œæ•´çš„èµ„æºå¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨github</a>ä¸Š<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‰¾åˆ°</a> ï¼Œå¯¹äºæ‡’æƒ°çš„äººï¼Œæˆ‘å‡†å¤‡äº†ä¸€ä¸ªè§†é¢‘æ¼”ç¤º <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/PfRLZeRLvTo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> æœ‰ç”¨çš„å»ºè®®ï¼šä½¿ç”¨kotlinï¼Œæ‚¨å¯ä»¥åˆ›å»ºæ–¹ä¾¿çš„dslï¼Œä»¥å¯¼èˆªå›¾çš„å½¢å¼æè¿°åè°ƒå™¨ã€‚ <br><br><pre> <code class="hljs erlang"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newsFlowCoordinator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(navigator, abTest)</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">navigator</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showNewsList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readNewsArticle</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">id</span></span></span><span class="hljs-function"> -&gt;</span></span> navigator.showNewsArticle(id) } closeNews { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (abTest.isB){ navigator.showInAppPurchases() } else { navigator.closeNews() } } }</code> </pre><br><h3> æ€»ç»“ï¼š </h3><br> åè°ƒå™¨å°†å¸®åŠ©å°†å¯¼èˆªé€»è¾‘å¸¦åˆ°ç»è¿‡æµ‹è¯•çš„æ¾è€¦åˆç»„ä»¶ã€‚ ç›®å‰å°šæ— ç”Ÿäº§å°±ç»ªçš„åº“ï¼Œæˆ‘ä»…æè¿°äº†è§£å†³é—®é¢˜çš„æ¦‚å¿µã€‚ åè°ƒäººæ˜¯å¦é€‚ç”¨äºæ‚¨çš„åº”ç”¨ç¨‹åºï¼Ÿ æˆ‘ä¸çŸ¥é“ï¼Œè¿™å–å†³äºæ‚¨çš„éœ€æ±‚ä»¥åŠå°†å…¶é›†æˆåˆ°ç°æœ‰æ¶æ„ä¸­çš„éš¾æ˜“ç¨‹åº¦ã€‚ ä½¿ç”¨åè°ƒå™¨ç¼–å†™å°å‹åº”ç”¨ç¨‹åºå¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚ <br><br><h5> å¸¸è§é—®é¢˜è§£ç­”ï¼š </h5><br>  <i>æœ¬æ–‡æ²¡æœ‰æåˆ°ä½¿ç”¨å¸¦æœ‰MVIæ¨¡å¼çš„åè°ƒå™¨ã€‚</i>  <i>æ˜¯å¦å¯ä»¥åœ¨è¿™ç§ä½“ç³»ç»“æ„ä¸­ä½¿ç”¨åè°ƒå™¨ï¼Ÿ</i> æ˜¯çš„ï¼Œæˆ‘æœ‰<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¦ä¸€ç¯‡æ–‡ç« </a> ã€‚ <br><br>  <i>Googleæœ€è¿‘å°†å¯¼èˆªæ§åˆ¶å™¨ä½œä¸ºAndroid Jetpackçš„ä¸€éƒ¨åˆ†æ¨å‡ºã€‚</i>  <i>åè°ƒå‘˜ä¸Googleå¯¼èˆªæœ‰ä½•å…³ç³»ï¼Ÿ</i> æ‚¨å¯ä»¥ä½¿ç”¨æ–°çš„Navigation Controllerä»£æ›¿åè°ƒå™¨ä¸­çš„å¯¼èˆªå™¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨å¯¼èˆªå™¨ä¸­ä½¿ç”¨ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨åˆ›å»ºç‰‡æ®µäº‹åŠ¡ã€‚ <br><br>  <i>è€Œä¸”ï¼Œå¦‚æœæˆ‘ä¸æƒ³ä½¿ç”¨ç‰‡æ®µ/æ´»åŠ¨ï¼Œè€Œæƒ³ç¼–å†™è‡ªå·±çš„åç«¯æ¥ç®¡ç†è§†å›¾ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥ä½¿ç”¨åè°ƒå™¨å—ï¼Ÿ</i> æˆ‘ä¹Ÿè€ƒè™‘äº†è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸”æ­£åœ¨ç ”ç©¶åŸå‹ã€‚ æˆ‘å°†åœ¨æˆ‘çš„åšå®¢ä¸Šå†™è¿™ä¸ªã€‚ åœ¨æˆ‘çœ‹æ¥ï¼ŒçŠ¶æ€æœºå°†å¤§å¤§ç®€åŒ–ä»»åŠ¡ã€‚ <br><br>  <i>åè°ƒå‘˜æ˜¯å¦éš¶å±äºå•ä¸€æ´»åŠ¨åº”ç”¨ç¨‹åºæ–¹æ³•ï¼Ÿ</i> ä¸ï¼Œæ‚¨å¯ä»¥åœ¨å„ç§æƒ…å†µä¸‹ä½¿ç”¨å®ƒã€‚ å±å¹•ä¹‹é—´è½¬æ¢çš„å®ç°éšè—åœ¨å¯¼èˆªå™¨ä¸­ã€‚ <br><br>  <i>ä½¿ç”¨ä¸Šè¿°æ–¹æ³•ï¼Œæ‚¨å°†è·å¾—ä¸€ä¸ªå¼ºå¤§çš„å¯¼èˆªå™¨ã€‚</i>  <i>æˆ‘ä»¬æœ‰ç‚¹è¯•å›¾é€ƒç¦»ä¸Šå¸å¯¹è±¡'ï¼Ÿ</i> æˆ‘ä»¬ä¸éœ€è¦åœ¨ä¸€ä¸ªç±»ä¸­æè¿°å¯¼èˆªå™¨ã€‚ åˆ›å»ºå‡ ä¸ªå—æ”¯æŒçš„å°å‹å¯¼èˆªå™¨ï¼Œä¾‹å¦‚ï¼Œä¸ºæ¯ä¸ªç”¨æˆ·æ–¹æ¡ˆåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å¯¼èˆªå™¨ã€‚ <br><br>  <i>å¦‚ä½•ä½¿ç”¨è¿ç»­è¿‡æ¸¡åŠ¨ç”»ï¼Ÿ</i>  <i>åœ¨å¯¼èˆªå™¨ä¸­æè¿°è¿‡æ¸¡åŠ¨ç”»ï¼Œé‚£ä¹ˆæ´»åŠ¨/ç‰‡æ®µå°†ä¸äº†è§£ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªå±å¹•ã€‚</i>  <i>å¯¼èˆªå‘˜å¦‚ä½•çŸ¥é“ä½•æ—¶å¼€å§‹åŠ¨ç”»ï¼Ÿ</i> å‡è®¾æˆ‘ä»¬è¦æ˜¾ç¤ºç‰‡æ®µAå’Œç‰‡æ®µBä¹‹é—´è¿‡æ¸¡çš„åŠ¨ç”»ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨FragmentLifecycleCallbackè®¢é˜…onFragmentViewCreatedï¼ˆvï¼šViewï¼‰äº‹ä»¶ï¼Œå½“æ­¤äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åƒç›´æ¥åœ¨ç‰‡æ®µä¸­ä¸€æ ·ä½¿ç”¨åŠ¨ç”»ï¼šæ·»åŠ OnPreDrawListenerç­‰å¾…ç›´åˆ°å‡†å¤‡å°±ç»ªï¼Œç„¶åè°ƒç”¨startPostponedEnterTransitionï¼ˆï¼‰ã€‚ ä»¥å¤§è‡´ç›¸åŒçš„æ–¹å¼ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ActivityLifecycleCallbacksåœ¨æ´»åŠ¨ä¹‹é—´æˆ–ä½¿ç”¨OnHierarchyChangeListeneråœ¨ViewGroupä¹‹é—´å®ç°åŠ¨ç”»è¿‡æ¸¡ã€‚ ä¸è¦å¿˜è®°ç¨åå–æ¶ˆè®¢é˜…äº‹ä»¶ï¼Œä»¥é¿å…å†…å­˜æ³„æ¼ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN416301/">https://habr.com/ru/post/zh-CN416301/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN416291/index.html">å¦‚ä½•æ„å»ºè‡ªå·±åŠ¨æ‰‹çš„IIoTæ¶æ„ã€‚ ç¬¬2éƒ¨åˆ†ï¼šâ€œäº‹ç‰©â€</a></li>
<li><a href="../zh-CN416293/index.html">æ··åˆåŠ¨åŠ›ç”µåŠ¨é£æœºå°†å‡å°‘æ’æ”¾å’Œå™ªéŸ³</a></li>
<li><a href="../zh-CN416295/index.html">ä¸–ç•Œä¸Šæœ€å¤§çš„æœ›è¿œé•œç»ˆäºå¯ä»¥çœ‹åˆ°æ²¡æœ‰è¡å°„å°„çº¿çš„æ’æ˜Ÿ</a></li>
<li><a href="../zh-CN416297/index.html">æ’å…¥å¼ml-agentç»Ÿä¸€</a></li>
<li><a href="../zh-CN416299/index.html">å‡ åå¹´æ¥ï¼Œäººä»¬ä¸€ç›´åœ¨å†°å²›è¿½è¸ªå†°å·ã€‚ ç°åœ¨è¯¥æŠ€æœ¯å¯ä»¥åšåˆ°</a></li>
<li><a href="../zh-CN416303/index.html">é‡æ–°åˆ›å»ºç¬¬ä¸€ä¸ªè§¦å‘å™¨</a></li>
<li><a href="../zh-CN416305/index.html">æ ‡å‡†åŒ–æ˜¯æœ€é•¿çš„ç‰©è”ç½‘å†’é™©</a></li>
<li><a href="../zh-CN416307/index.html">iOS 12ï¼šé€šçŸ¥ä¸­çš„æ–°åŠŸèƒ½</a></li>
<li><a href="../zh-CN416309/index.html">å¦‚ä½•åœ¨Pythonä¸­ä½¿ç”¨HDF5æ–‡ä»¶</a></li>
<li><a href="../zh-CN416313/index.html">å®‰å…¨äº‹ä»¶æ—¥å¿—åˆ†ææ¸…å•</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>