<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì¨ üë∏üèø üò∏ Qu√© escribir y c√≥mo ensamblar un proyecto C ++ ü§≤üèª üë®üèø‚Äç‚öñÔ∏è üë®üèø‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habiendo formulado esta pregunta, en primer lugar formul√© los requisitos: r√≠gidos y opcionales (pero deseables) para el sistema de ensamblaje y el ent...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Qu√© escribir y c√≥mo ensamblar un proyecto C ++</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442682/">  Habiendo formulado esta pregunta, en primer lugar formul√© los requisitos: r√≠gidos y opcionales (pero deseables) para el sistema de ensamblaje y el entorno de desarrollo gr√°fico. <br>  Quiero se√±alar de inmediato que no se trata de escribir c√≥digo C ++ para alguna plataforma espec√≠fica como Android o un marco, por ejemplo Qt, donde todo est√° listo, tanto con c√≥digo de construcci√≥n como de edici√≥n, sino con c√≥digo gen√©rico que no est√° vinculado a una plataforma espec√≠fica o al marco. <br><a name="habracut"></a><br><h3>  General: </h3><br><ul><li>  Gratis </li><li>  Multiplataforma (al menos Windows y Linux). </li></ul><br><h3>  Sistema de construcci√≥n: </h3><br><ul><li>  Un solo equipo para construir en diferentes plataformas. </li><li>  Ensamblaje incremental con la cuenta correcta de todas las dependencias: archivos de encabezado y componentes de terceros utilizados para el ensamblaje. </li><li>  El script de ensamblaje debe contener solo la configuraci√≥n m√≠nima necesaria espec√≠fica para un proyecto en particular.  La l√≥gica general de la compilaci√≥n no debe pasar de un gui√≥n a otro, sino que se encuentra en el sistema de compilaci√≥n o en sus complementos. </li><li>  Montaje en paralelo incorporado. </li><li>  Soporte para varias cadenas de herramientas (al menos gcc, Visual C ++, CLang). </li><li>  La capacidad de cambiar la cadena de herramientas con un costo m√≠nimo, sin reescribir todo el script de compilaci√≥n. </li><li>  Opciones de compilaci√≥n f√°cilmente intercambiables: depuraci√≥n y liberaci√≥n. </li><li>  Las dependencias de algunas herramientas adicionales de bajo nivel como make son completamente indeseables.  En una palabra, el sistema de ensamblaje deber√≠a ser autosuficiente. </li><li>  La integraci√≥n del sistema de compilaci√≥n con repositorios de componentes de terceros como pkg-config o Maven Central para JVM es altamente deseable. </li><li>  El sistema de compilaci√≥n debe ser extensible por complementos, como  El procedimiento de ensamblaje para cada proyecto espec√≠fico puede ser m√°s complicado que el concepto de construcci√≥n est√°ndar (generaci√≥n de c√≥digo, por ejemplo, o el ensamblaje de alguna imagen no est√°ndar). </li><li>  Es conveniente cuando el script de compilaci√≥n es alg√∫n tipo de lenguaje de programaci√≥n de alto nivel o incluso mejor DSL.  Esto le permitir√° cambiar de manera no muy costosa y expresiva el comportamiento de la construcci√≥n directamente en el script. </li><li>  Al configurar el compilador y el enlazador desde el script de compilaci√≥n, es muy conveniente cuando el sistema proporciona al menos abstracciones b√°sicas: por ejemplo, me gustar√≠a agregar una macro: ¬øpor qu√© pensar qu√© par√°metro de l√≠nea de comando del compilador es responsable de esto?  / D en MSVC o -D en gcc: deje que el sistema de compilaci√≥n resuelva estos detalles intrascendentes por s√≠ mismo. </li><li>  Buena integraci√≥n con entornos de desarrollo gr√°fico (IDEs). </li></ul><br><h3>  IDE: </h3><br><ul><li>  La capacidad del IDE para "comprender" correctamente el c√≥digo C ++.  El IDE debe poder indexar todos los archivos de proyecto, as√≠ como todos los archivos y definiciones de terceros y del encabezado del sistema (define, macro). </li><li>  El IDE deber√≠a proporcionar la capacidad de personalizar comandos para construir un proyecto, as√≠ como d√≥nde buscar archivos de encabezado y definiciones. </li><li>  Deber√≠a ayudar efectivamente a escribir c√≥digo, es decir  ofrece las opciones de finalizaci√≥n m√°s adecuadas, advierte sobre errores de sintaxis, etc. </li><li>  Navegar por un proyecto grande deber√≠a ser conveniente, y encontrar el uso r√°pido y f√°cil. </li><li>  Brinde amplias oportunidades para refactorizar: renombrar, etc. </li><li>  Tambi√©n es necesaria la capacidad de generar c√≥digo repetitivo, creando un nuevo marco de clase, archivo de encabezado y archivo de implementaci√≥n.  Generaci√≥n de getters / setters, definiciones de m√©todos, sobrecarga de m√©todos virtuales, patrones de implementaci√≥n de clases puramente virtuales (interfaces), etc. </li><li>  Destacado y soporte para etiquetas de documentaci√≥n de c√≥digo como Doxygen. </li></ul><br>  A la luz de estas "Lista de deseos", he considerado varios sistemas de ensamblaje y entornos de desarrollo gr√°fico.  Esta breve revisi√≥n no pretende de ninguna manera ser completa y contiene mis evaluaciones subjetivas, pero quiz√°s a alguien le parezca √∫til como paso inicial. <br><br>  <b>Haga que</b> <i>[la antig√ºedad] sea un</i> mastodonte y un veterano bien merecido de los sistemas de ensamblaje, que todos a√∫n no quieren retirarse, pero se ven obligados a asumir m√°s y m√°s proyectos nuevos.  Esta es una herramienta de muy bajo nivel con su propio lenguaje espec√≠fico, donde para un espacio en lugar de una pesta√±a, se lo amenaza inmediatamente con la ejecuci√≥n en el acto.  Con make, puede hacer lo que quiera: una compilaci√≥n de cualquier complejidad, pero tendr√° que pagar con esfuerzos para escribir un gui√≥n y mantenerlo actualizado.  Tambi√©n ser√° costoso transferir la l√≥gica de la compilaci√≥n de un proyecto a otro.  Hay algunos sustitutos modernos del maquillaje: como ninja y jam, pero no cambian la esencia: son herramientas de muy bajo nivel.  Al igual que en el ensamblador, puedes escribir lo que quieras, pero ¬øvale la pena? <br><br>  <b>CMake</b> - <i>[Edad Media] el</i> primer intento de alejarse de los detalles de bajo nivel de la marca.  Pero, desafortunadamente, no fue posible llegar lejos: el motor aqu√≠ es la misma marca para la que CMake genera enormes archivos de creaci√≥n basados ‚Äã‚Äãen otro archivo de texto con una descripci√≥n de compilaci√≥n de m√°s alto nivel.  Qmake funciona de manera similar.  Este enfoque me recuerda la hermosa fachada de una vieja casa de madera, cuidadosamente revestida con pl√°stico fresco.  CMake es un sistema estable y bien probado, incluso hay una integraci√≥n integrada con Eclipse, pero, desafortunadamente, no me conven√≠a porque contradice parte de los requisitos establecidos al comienzo del art√≠culo.  En Linux, todo parece estar bien, pero si necesita construir el mismo proyecto en Windows usando MSVC, y prefiero el compilador nativo a MinGW, se generar√°n los archivos para NMake.  Es decir  dependencias de otra herramienta y diferentes comandos de compilaci√≥n para otra plataforma.  Y todo esto es consecuencia de una arquitectura un poco torcida, cuando la mayor parte del trabajo es realizado por otros "ayudantes". <br><br>  <b>Ant</b> - <i>[renacimiento] una</i> especie de make clone para Java.  Francamente, pas√© bastante tiempo comprobando Ant (as√≠ como Maven) como un sistema de compilaci√≥n para C ++.  E inmediatamente tuve la sensaci√≥n de que el soporte de C ++ aqu√≠ es puramente "para mostrar" y no lo suficientemente desarrollado.  Adem√°s, incluso en proyectos Java, Ant ya no se usa con frecuencia.  Como lenguaje de script (as√≠ como para Maven), aqu√≠ se elige XML: este vil lenguaje de aves :).  Este hecho de optimismo no me aport√≥ nada para una mayor inmersi√≥n en el tema. <br><br>  <b>SCons</b> es un sistema de compilaci√≥n multiplataforma aut√≥nomo <i>[de la nueva era]</i> escrito en Python.  SCons funciona igualmente bien con las compilaciones Java y C ++.  Las dependencias de los encabezados para el ensamblaje incremental se resuelven correctamente (seg√∫n tengo entendido, se crea una determinada base de datos con los metadatos de compilaci√≥n), y en Windows MSVC funciona sin pandereta.  El lenguaje de script de compilaci√≥n es Python.  Un sistema muy decente, e incluso quer√≠a terminar mi investigaci√≥n sobre √©l, pero como saben, no hay l√≠mite para la perfecci√≥n, y un examen m√°s detallado revel√≥ algunas desventajas a la luz de los requisitos anteriores. <br><br>  No hay configuraciones abstractas para el compilador, por lo que si, por ejemplo, necesita cambiar la cadena de herramientas, es posible que deba buscar lugares en el script de compilaci√≥n para realizar cambios.  Las mismas macros deber√°n escribirse con condiciones anidadas: si es Windows, h√°galo, si es GCC, etc. <br><br>  No hay soporte para artefactos remotos y dependencias de alto nivel de una compilaci√≥n sobre otra. <br><br>  La arquitectura general est√° dise√±ada para que los llamados constructores definidos por el usuario existan casi de forma aislada y no hay forma de utilizar la l√≥gica de compilaci√≥n existente para complementarla con la suya a trav√©s de un simple complemento.  Pero en general es una opci√≥n digna para peque√±os proyectos. <br><br>  <b>Gradle</b> <i>[presente]</i> : ya ten√≠a una experiencia positiva al usar Gradle para proyectos Java y Kotlin y ten√≠a muchas esperanzas en ello. <br><br>  Para los lenguajes JVM, Gradle tiene un concepto muy conveniente de trabajar con las bibliotecas necesarias para construir un proyecto (dependencias de construcci√≥n): <br><br><ul><li>  El script registra las direcciones de los repositorios con artefactos: maven o hiedra, por ejemplo.  Tambi√©n puede ser un repositorio de cualquier otro tipo / formato, si solo hubiera un complemento para √©l.  Puede ser un repositorio remoto, algunos Maven Central o su alojamiento personal en alg√∫n lugar de la red o simplemente un representante local en el sistema de archivos. </li><li>  Adem√°s, en una secci√≥n especial del script, las dependencias para la construcci√≥n se indican directamente: una lista de los artefactos binarios necesarios con versiones. </li><li>  Antes de compilar, Gradle intenta resolver todas las dependencias y busca artefactos con las versiones dadas en todos los repositorios.  Los binarios se cargan en el cach√© y se agregan autom√°ticamente a la compilaci√≥n.  Esto es muy conveniente y esperaba que para C ++, tal vez hicieran algo similar. </li></ul><br>  Al principio, revis√© el complemento "antiguo" para el soporte de C ++ - `cpp` - y me decepcion√≥: la estructura del script no es intuitiva: modelo, componente, nativespec - y alg√∫n tipo de mishmash de varios tipos de binarios: tanto ejecutables como bibliotecas, todo en un solo script.  No est√° claro d√≥nde colocar las pruebas unitarias.  Esta estructura era muy diferente de la que usaba para Java. <br><br>  Pero result√≥ que tambi√©n hay complementos "nuevos" para el soporte de C ++: `cpp-application` - para aplicaciones,` cpp-library` para bibliotecas: est√°ticas y din√°micas, y finalmente `cpp-unit-test` para pruebas unitarias.  ¬°Y eso era lo que estaba buscando!  :) <br><br>  La estructura predeterminada de la carpeta del proyecto es similar al proyecto Java: <br><br><ul><li>  <i>src / main / cpp</i> : la carpeta ra√≠z para los archivos de proyecto principales <i>* .cpp</i> . </li><li>  <i>src / main / headers</i> - carpeta para archivos de encabezado internos. </li><li>  <i>src / main / public</i> - carpeta para encabezados exportados - para bibliotecas. </li><li>  <i>src / test / cpp</i> : carpeta para archivos <i>* .cpp</i> de la unidad de prueba. </li></ul><br>  Dicha estructura no es r√≠gida: siempre se puede cambiar en el script, pero a√∫n as√≠ no es necesario hacerlo sin una necesidad especial, es bastante razonable. <br><br>  Por cierto, el script de compilaci√≥n generalmente es <i>build.gradle</i> , es un DSL del lenguaje Groovy o Kotlin ( <i>build.gradle.kts</i> ) para elegir.  Dentro del script, la API de Gradle y las API de los complementos agregados al script siempre est√°n disponibles. <br><br>  Para las bibliotecas, puede elegir el tipo: est√°tico o din√°mico (o recopilar ambas opciones). <br>  De manera predeterminada, se configuran dos opciones de compilaci√≥n: depuraci√≥n ( <i>ensamblaje de gradle</i> ) y liberaci√≥n ( <i>liberaci√≥n de ensamblaje de gradle</i> ). <br><br>  El principio de ejecutar pruebas unitarias es el mismo que en Java: gradle test construir√° el componente principal, luego las pruebas, si est√°n en la carpeta <i>src / test / cpp</i> , y luego ejecutar√° la aplicaci√≥n de prueba. <br><br>  Las definiciones notorias se pueden configurar de manera abstracta: Gradle generar√° las opciones de compilaci√≥n necesarias.  Hay varias configuraciones abstractas m√°s, como la optimizaci√≥n, la informaci√≥n de depuraci√≥n, etc. <br><br>  Fuera de la caja, GCC, Microsoft Visual C ++, CLang son compatibles. <br><br>  El sistema de complementos est√° muy desarrollado y la arquitectura de extensi√≥n es conveniente: puede tomar la l√≥gica ya hecha y decorarla / expandirla.  Hay dos tipos de complementos: din√°micos, que se escriben directamente en Groovy y se incrustan en un script o en Java (o en otro idioma con la JVM) y se compilan en artefactos binarios.  Para los complementos, hay un artefacto gratuito de Gradle en el que cualquiera puede publicar su complemento, que estar√° disponible para todos.  Lo cual fue realizado con √©xito por el autor de este art√≠culo :) pero m√°s sobre eso m√°s adelante. <br>  Me gustar√≠a profundizar m√°s en el sistema de trabajo con componentes binarios en Gradle para C ++: ¬°es casi lo mismo que en Java!  Las compilaciones de dependencias funcionan casi igual que lo que describ√≠ anteriormente. <br><br>  Tomemos, por ejemplo, una compilaci√≥n compuesta: <br><br><ul><li>  utils - carpeta de la biblioteca </li><li>  app es la carpeta con la aplicaci√≥n que usa utils. </li><li>  settings.gradle: archivo Gradle para combinar estos dos componentes en una compilaci√≥n compuesta. </li></ul><br>  En el archivo <i>build.gradle</i> de la carpeta de la aplicaci√≥n, es suficiente escribir la siguiente dependencia: <br><br><pre><code class="java hljs">dependencies { <span class="hljs-function"><span class="hljs-function">implementation </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">project</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">':utils'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br>  ¬°Gradle har√° el resto!  Agregue una ruta al compilador para buscar archivos de encabezado de utilidades y vincule el binario de la biblioteca. <br><br>  Y todo esto funciona igualmente bien tanto bajo Linux GCC como bajo Windows MSVC. <br>  La construcci√≥n incremental, por supuesto, tambi√©n funciona muy bien, y si cambia los encabezados en las utilidades, la aplicaci√≥n se reconstruir√°. <br><br>  Al final result√≥ que, Gradle fue m√°s all√° y se dio cuenta de la capacidad de cargar artefactos de C ++ en el repositorio de Maven.  Para hacer esto, use el complemento est√°ndar `maven-publishing`. <br><br>  En la secuencia de comandos, debe especificar el repositorio donde desea colocar su artefacto y hacer que Gradle publique (o gradle publishingToMavenLocal para publicaci√≥n local).  Gradle derribar√° el proyecto y <br>  Dise√±e en un formato especial, teniendo en cuenta la versi√≥n, la plataforma, la arquitectura y la opci√≥n de compilaci√≥n. <br><br>  Los propios archivos de la biblioteca binaria y los archivos de encabezado p√∫blicos se presentan desde la carpeta <i>src / main / public</i> . <br><br>  Est√° claro que no puede cargar artefactos de C ++ en Maven Cental; no pasar√° las verificaciones obligatorias del sistema.  Pero aumentar el repositorio de Maven en la red no es dif√≠cil en absoluto, y no necesita hacer nada para el repositorio local: es solo una carpeta en el disco. <br><br>  Ahora, si desea utilizar la biblioteca de alguien en su proyecto, puede escribir algo como esto en el script de compilaci√≥n: <br><br><pre> <code class="java hljs"> repositories { maven { url = <span class="hljs-string"><span class="hljs-string">'https://akornilov.bitbucket.io/maven'</span></span> } } unitTest { dependencies { implementation <span class="hljs-string"><span class="hljs-string">'org.bitbucket.akornilov.tools:gtest:1.8.1'</span></span> } }</code> </pre><br>  Aqu√≠ dice que para las pruebas unitarias debe usar la versi√≥n 1.8.1 de gtest artifact del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio de Maven</a> . <br><br>  Por cierto, este es un repositorio muy real en el que se publica mi versi√≥n de prueba Google Test v1.8.1, creada usando Gradle para Windows y Linux x86_64. <br><br>  Naturalmente, se lleva a cabo todo el trabajo de bajo nivel para configurar el compilador y el enlazador para trabajar con el componente externo de Gradle.  Es suficiente que declare sus intenciones de usar tal y tal biblioteca con tal y tal versi√≥n de tal y tal repositorio. <br><br>  Para la integraci√≥n con el IDE, Gradle tiene dos complementos integrados para Visual Studio y Xcode.  Funcionan bien, excepto que el complemento de Visual Studio ignora el c√≥digo de prueba de unidad de la carpeta <i>src / test / cpp</i> y genera un proyecto solo para el c√≥digo principal. <br><br><h3>  Ahora es el momento de hablar sobre el IDE y c√≥mo hacerlos amigos de Gradle. </h3><br>  <b>Eclipse CDT (2018-12R)</b> es un producto maduro y de calidad.  Si logr√≥ analizar con √©xito su proyecto, entonces tiene suerte: ser√° c√≥modo editarlo.  Lo m√°s probable es que incluso "entienda" los tipos de autom√≥viles m√°s confusos.  Pero si no ... Entonces enfatizar√° violentamente todo en una fila con una l√≠nea roja punteada y maldecir√° con malas palabras.  Por ejemplo, no digiere los archivos de encabezado est√°ndar de MSVC y Windows SDK.  Incluso una impresi√≥n completamente inofensiva est√° subrayada con una l√≠nea punteada roja y no se percibe como algo significativo.  Tambi√©n hab√≠a std :: string.  Bajo Linux, con su gcc nativo, todo est√° bien.  Pero incluso cuando intentaba que indexara el proyecto de un hermano nativo de Android, comenzaron los problemas.  En los encabezados bi√≥nicos, √©l se negaba a ver la definici√≥n de size_t, y junto con todas las funciones que la usaban.  Probablemente, en Windows, puede corregir la situaci√≥n si, en lugar de los archivos de encabezado de Microsoft, se deslizan, por ejemplo, Cygwin o MinGW SDK, pero estos trucos no son muy interesantes para m√≠, todav√≠a me gustar√≠a que el software de este nivel "coma lo que dan", y no solo que √©l "ama". <br>  Las posibilidades de navegar, refactorizar y generar c√≥digo de plantilla son maravillosas, pero hay preguntas para el ayudante al escribir letras: digamos que escribimos algunos caracteres de un nombre largo, ¬øpor qu√© no ofrecer opciones de finalizaci√≥n?  No, el asistente espera pacientemente hasta que llega el usuario.  o -&gt; o ::.  Tengo que presionar constantemente Ctrl + Espacio - molesto.  En Java, esta deficiencia molesta podr√≠a solucionarse seleccionando todo el alfabeto en el CDT como desencadenante, pero no encontr√© una soluci√≥n simple. <br><br><img src="https://habrastorage.org/webt/1t/bx/ue/1tbxue1gaib5bhyo7xbofdxrapq.png"><br><br><img src="https://habrastorage.org/webt/yh/zi/vp/yhzivpjrupaijmjbfzz7qwefmaq.png"><br><br>  <b>NetBeans 8.1 / 10.0</b> - Sol√≠a ‚Äã‚Äãusar este IDE para Java, me recordaban como un software bueno y liviano con toda la funcionalidad necesaria.  Para C ++, tiene un complemento desarrollado no por la comunidad, sino directamente por NetBeans.  Para proyectos de C ++, hay una dependencia bastante dif√≠cil en make y gcc.  El editor de c√≥digo es pausado.  No encontr√© una cosa muy simple en el generador de c√≥digo de plantilla: agregamos un nuevo m√©todo en el archivo de encabezado de la clase; debe generar el cuerpo del m√©todo en un archivo cpp; no sabe c√≥mo.  El grado de "comprensi√≥n" del c√≥digo es promedio, parece que algo est√° analizando, pero algo no.  Por ejemplo, iterar en un mapa con un iterador autom√°tico ya es dif√≠cil para √©l.  √âl jura en macros de Google Test.  Personalizar el comando de compilaci√≥n es problem√°tico: en Linux con gcc y poner a disposici√≥n (esto a pesar del hecho de que otro sistema de compilaci√≥n ya est√° en uso) funcionar√°, en Windows requerir√° MinGW, pero incluso si lo hace, se negar√° a compilar.  En general, es posible trabajar en NetBeans con C ++, pero no lo llamar√≠a c√≥modo; probablemente necesito realmente amar este entorno para no notar sus diversas llagas. <br><br><img src="https://habrastorage.org/webt/bi/dh/h4/bidhh4mda-r7cqkqd6q9vnu4t4o.png"><br><br><img src="https://habrastorage.org/webt/ze/yp/j1/zeypj1bdofeuljkgfp9wyfdxebc.png"><br><br>  <b>KDevelop 5.3.1</b> : una vez fue concebido como una herramienta de desarrollo para KDE (Linux), pero ahora hay una versi√≥n para Windows.  Tiene un editor de c√≥digo r√°pido y agradable con un hermoso resaltado de sintaxis (basado en Kate).  No funcionar√° alterar el sistema de compilaci√≥n izquierdo; para √©l, el sistema de compilaci√≥n principal es CMake.  Es tolerante a los encabezados del SDK de MSVC y Windows, en cualquier caso, printf y std :: string no conducen exactamente a un estupor como un CDT de Eclipse.  Un ayudante muy r√°pido para escribir c√≥digo: ofrece buenas opciones de finalizaci√≥n casi inmediatamente mientras escribe.  Tiene una oportunidad interesante para generar c√≥digo de plantilla: puede escribir su propia plantilla y ponerla en l√≠nea.  Al crear desde una plantilla, puede conectarse a la base de datos de plantillas preparadas y descargar la que desee.  Lo √∫nico que molesta: la plantilla incorporada para crear una nueva clase funciona de forma torcida tanto en Windows como en Linux.  El asistente para crear una clase tiene varias ventanas en las que puede configurar muchas cosas: qu√© constructores son necesarios, qu√© miembros de la clase, etc.  Pero en la etapa final en Windows, aparece alg√∫n tipo de error a tiempo para que el texto sea imposible y se crean dos archivos h y cpp en el tama√±o de 1 byte.  En Linux, por alguna raz√≥n, no puede seleccionar constructores: la pesta√±a est√° vac√≠a y solo el archivo de encabezado se genera correctamente en la salida.  En general, las enfermedades infantiles de un producto tan maduro parecen de alguna manera fr√≠volas. <br><br><img src="https://habrastorage.org/webt/gb/e_/dt/gbe_dtwtphcqqvxpankzo5k8oqy.png"><br><br><img src="https://habrastorage.org/webt/kp/ap/hf/kpaphf1yrtwflj68xusgqlh2ppa.png"><br><br>  <b>QtCreator 4.8.1 (edici√≥n de c√≥digo abierto)</b> : probablemente, al haber escuchado este nombre, est√° perplejo de c√≥mo este monstruo fue encarcelado aqu√≠ bajo Qt con un kit de distribuci√≥n de gigabytes con un gancho.  Pero esta es una versi√≥n "ligera" del entorno para proyectos gen√©ricos.  Su kit de distribuci√≥n pesa solo unos 150 MB y no lleva elementos espec√≠ficos de Qt: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">download.qt.io/official_releases/qtcreator/4.8</a> . <br>  En realidad, puede hacer casi todo lo que escrib√≠ sobre mis requisitos de forma r√°pida y correcta.  Analiza los encabezados est√°ndar de Windows y Linux, lo personaliza para cualquier sistema de compilaci√≥n, sugiere opciones de finalizaci√≥n, genera convenientemente nuevas clases, cuerpos de m√©todos, permite la refactorizaci√≥n y la navegaci√≥n de c√≥digo.  Si solo desea trabajar c√≥modamente sin pensar constantemente en c√≥mo superar este o aquel problema, tiene sentido mirar QtCreator. <br><br><img src="https://habrastorage.org/webt/w-/6j/ei/w-6jeizzjkklvumkpdjl5oe_mou.png"><br><br><img src="https://habrastorage.org/webt/au/zb/ot/auzbot8u_iam14q88qjedkdmzvu.png"><br><br>  En realidad, queda por hablar sobre lo que no ten√≠a suficiente en Gradle para funcionar por completo: integraci√≥n con el IDE.  Para que el sistema de compilaci√≥n genere archivos de proyecto para el IDE, que ya contendr√≠a comandos para construir el proyecto, se enumeran todos los archivos de origen y se necesitan rutas para buscar archivos de encabezado y determinarlos. <br><br>  Para este prop√≥sito, escrib√≠ un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">complemento para Gradle `cpp-ide-generator`</a> y lo publiqu√© en el portal de complementos de Gradle. <br><br>  El complemento solo se puede usar con `cpp-application`,` cpp-library` y `cpp-unit-test`. <br>  Aqu√≠ hay un ejemplo de su uso en <i>build.gradle</i> : <br><br><pre> <code class="java hljs"> plugins { id <span class="hljs-string"><span class="hljs-string">'cpp-library'</span></span> id <span class="hljs-string"><span class="hljs-string">'maven-publish'</span></span> id <span class="hljs-string"><span class="hljs-string">'cpp-unit-test'</span></span> id <span class="hljs-string"><span class="hljs-string">'org.bitbucket.akornilov.cpp-ide-generator'</span></span> version <span class="hljs-string"><span class="hljs-string">'0.3'</span></span> } library { <span class="hljs-comment"><span class="hljs-comment">// Library specific parameters } // Configuration block of plugin: ide { autoGenerate = false eclipse = true qtCreator = true netBeans = true kdevelop = true }</span></span></code> </pre><br>  El complemento admite la integraci√≥n con todos los entornos de desarrollo gr√°fico anteriores, pero en el bloque de configuraci√≥n del complemento, puede desactivar la compatibilidad con IDE innecesarios: <br><br><pre> <code class="java hljs"> kdevelop = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span></code> </pre> <br>  Si el par√°metro <i>autoGenerate se</i> establece en verdadero, los archivos de proyecto para todos los IDE permitidos se generar√°n autom√°ticamente durante la compilaci√≥n.  Adem√°s, en el modo de generaci√≥n autom√°tica, los archivos del proyecto se eliminar√°n cuando se limpie la compilaci√≥n: <i>gradle clean</i> . <br><br>  Se admite la generaci√≥n incremental, es decir  solo se actualizar√°n los archivos que requieren una actualizaci√≥n real. <br><br>  Aqu√≠ hay una lista de objetivos que agrega el complemento: <br><br><ul><li>  generateIde: genera archivos de proyecto para todos los IDE permitidos. </li><li>  cleanIde: elimina los archivos de proyecto para todos los IDE permitidos. </li><li>  generateIde [nombre]: genera archivos de proyecto para el IDE con el nombre dado (se debe permitir IDE), por ejemplo generateIdeQtCreator. </li><li>  Nombres disponibles: Eclipse, NetBeans, QtCreator, KDevelop. </li><li>  cleanIde [nombre]: elimina los archivos de proyecto para el IDE con el nombre dado, por ejemplo cleanIdeQtCreator. </li></ul><br>  Durante la generaci√≥n, el complemento "olfatea" la compilaci√≥n y extrae de √©l toda la informaci√≥n necesaria para crear archivos de proyecto.  Despu√©s de abrir el proyecto, todos los archivos de origen deben estar visibles en el IDE, las rutas a todos los encabezados deben registrarse y los comandos de compilaci√≥n b√°sicos para configurar / compilar / borrar tambi√©n deben configurarse. <br><br>  El segundo complemento que tuve que hacer se llama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">`cpp-build-tuner`</a> y tambi√©n funciona en conjunto con cpp-application`,` cpp-library` y `cpp-unit-test`. <br><br>  El complemento no tiene configuraci√≥n, es suficiente para cargarlo: <br><br><pre> <code class="java hljs"> plugins { id <span class="hljs-string"><span class="hljs-string">'cpp-library'</span></span> id <span class="hljs-string"><span class="hljs-string">'maven-publish'</span></span> id <span class="hljs-string"><span class="hljs-string">'cpp-unit-test'</span></span> id <span class="hljs-string"><span class="hljs-string">'org.bitbucket.akornilov.cpp-build-tuner'</span></span> version <span class="hljs-string"><span class="hljs-string">'0.5'</span></span> }</code> </pre><br>  El complemento realiza peque√±as manipulaciones con la configuraci√≥n de las cadenas de herramientas (compilador y enlazador) para diferentes opciones de compilaci√≥n: depuraci√≥n y lanzamiento.  MSVC, gcc, CLang son compatibles. <br><br>  Esto es especialmente cierto para MSVC, porque de manera predeterminada, como resultado de la compilaci√≥n de lanzamiento, obtendr√° un binario "audaz", no est√©tico, con informaci√≥n de bazhe y una biblioteca est√°ndar est√°ticamente vinculada.  "Espiaba" parte de la configuraci√≥n de MSVC en Visual Studio, que por defecto agrega a sus proyectos en C ++.  Tanto para gcc / CLang como para MSVC, las optimizaciones de tiempo de enlace se incluyen en el perfil de lanzamiento. <br><br>  <i>Nota: Los complementos se probaron con la √∫ltima versi√≥n de Gradle v5.2.1 y no se comprob√≥ la compatibilidad con versiones anteriores.</i> <br><br>  Los c√≥digos fuente de los complementos, as√≠ como ejemplos simples del uso de Gradle para bibliotecas: est√°ticos y din√°micos, as√≠ como la aplicaci√≥n que los utiliza, se pueden ver: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bitbucket.org/akornilov/tools</a> next gradle / cpp. <br><br>  Los ejemplos tambi√©n muestran c√≥mo usar Google Test para bibliotecas de pruebas unitarias. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Repositorio Maven con Google Test v1.8.1 integrado en Gradle (sin simulacro).</a> <br><br>  <b>UPD:</b> <br><br>  Las versiones de Windows de <b>QtCreato</b> r anteriores a <b>4.6.2</b> (y al menos al momento de escribir estas l√≠neas, hasta <b>4.10</b> inclusive) han "olvidado c√≥mo" entender el SDK de MSVC.  Todo el std :: space est√° subrayado en rojo y se niega a indexar.  Por lo tanto, en este momento, la versi√≥n 4.6.2 es m√°s adecuada para trabajar con Windows. <br><br>  Se ha lanzado una nueva versi√≥n del complemento <code>cpp-build-tuner</code> <b>v1.0</b> (y <code>cpp-ide-generator</code> <b>v0.5</b> son mejoras menores). <br>  1) Se agreg√≥ un bloque de configuraci√≥n a <code>cpp-build-tuner</code> . <br><pre> <code class="javascript hljs">buildTuner { lto = <span class="hljs-literal"><span class="hljs-literal">false</span></span> gtest = <span class="hljs-string"><span class="hljs-string">'1.8.1'</span></span> libraries { common = [<span class="hljs-string"><span class="hljs-string">'cutils.lib'</span></span>] windows = [<span class="hljs-string"><span class="hljs-string">'ole32'</span></span>, <span class="hljs-string"><span class="hljs-string">'user32'</span></span>] linux = [<span class="hljs-string"><span class="hljs-string">'pthread'</span></span>, <span class="hljs-string"><span class="hljs-string">'z'</span></span>] } libDirs.common = [<span class="hljs-string"><span class="hljs-string">'../build/debug'</span></span>, <span class="hljs-string"><span class="hljs-string">'../release'</span></span>] }</code> </pre><br>  <b>lto</b> (boolean): activa o desactiva LTO para la compilaci√≥n de lanzamiento.  Habilitado por defecto. <br><br>  <b>gtest</b> (string): agrega compatibilidad con Google Test para pruebas unitarias.  Actualmente, solo la versi√≥n 1.8.1 es compatible con GCC, MinGW-W64 y MSVC. <br><br>  <b>bibliotecas</b> (contenedor): una lista de bibliotecas para vincular.  Dentro del contenedor hay tres campos (lista de l√≠neas): <code>common</code> : bibliotecas para cualquier plataforma, <code>windows</code> , solo para Windows y <code>linux</code> , solo para Linux. <br><br>  <b>libDirs</b> (contenedor): una lista de carpetas para buscar bibliotecas con un vinculador.  La estructura del contenedor es la misma que la lista de la biblioteca. <br><br>  2) Se agreg√≥ la capacidad de ejecutar aplicaciones para <code>cpp-application</code> .  El complemento agrega tareas adicionales al proyecto para esto: <code>run</code> , <code>runDebug</code> (lo mismo que <code>run</code> ) y <code>runRelease</code> .  Las tareas dependen de <code>assemble</code> , <code>assembleDebug</code> y <code>assembleRelease</code> respectivamente. <br>  Al igual que el complemento de aplicaci√≥n Java est√°ndar, puede pasar par√°metros de l√≠nea de comandos al inicio: <code>gradle run --args="arg1 arg2 ..."</code> . <br><br>  <b>UPD</b> <br><br>  En relaci√≥n con el cambio de complementos de alojamiento, el grupo cambi√≥: <br><pre> <code class="javascript hljs">plugins { id <span class="hljs-string"><span class="hljs-string">'loggersoft.cpp-build-tuner'</span></span> version <span class="hljs-string"><span class="hljs-string">'1.1'</span></span> id <span class="hljs-string"><span class="hljs-string">'loggersoft.cpp-ide-generator'</span></span> version <span class="hljs-string"><span class="hljs-string">'0.5'</span></span> }</code> </pre><br><br>  Nueva direcci√≥n del proyecto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gradle-cpp.sourceforge.io</a> <br><br>  Documentaci√≥n: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sourceforge.net/p/gradle-cpp/wiki/cpp-build-tuner</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sourceforge.net/p/gradle-cpp/wiki/cpp-ide-generator</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/442682/">https://habr.com/ru/post/442682/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442672/index.html">C√≥mo dar retroalimentaci√≥n: 9 reglas</a></li>
<li><a href="../442674/index.html">Instancias de seguridad de la informaci√≥n en la plataforma attackdefense.com</a></li>
<li><a href="../442676/index.html">Donde los sue√±os conducen: subterr√°neo</a></li>
<li><a href="../442678/index.html">El proyecto m√°s grande en litograf√≠a est√©reo: esqueleto de mamut impreso en una impresora 3D</a></li>
<li><a href="../442680/index.html">Las tecnolog√≠as de reemplazo sensorial le permitir√°n ver el mundo con la ayuda de los sonidos: c√≥mo funciona la neuroplasticidad del cerebro humano</a></li>
<li><a href="../442684/index.html">Rendimiento equilibrado del sitio. Parte 3: contenido</a></li>
<li><a href="../442686/index.html">Tutorial de DataPower</a></li>
<li><a href="../442688/index.html">An√°lisis de datos Scala: ¬øuna necesidad urgente o una oportunidad agradable?</a></li>
<li><a href="../442690/index.html">Misi√≥n lunar "Bereshit" - selfie en el fondo de la Tierra</a></li>
<li><a href="../442692/index.html">Blockchain sin intermediarios: c√≥mo enviamos valores a un registro distribuido</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>