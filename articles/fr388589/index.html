<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê¥ üëó üçì Un autre syst√®me d'arrosage automatique de l'usine utilisant ESP8266 et Blynk üöæ üçø üßëüèæ‚Äçü§ù‚Äçüßëüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Une fois, alors que je me d√©tendais avec des amis dans un camp √©tudiant au MEPhI, l'un d'eux m'a dit qu'il avait r√©cemment d√©cid√© d'essayer de planter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Un autre syst√®me d'arrosage automatique de l'usine utilisant ESP8266 et Blynk</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/388589/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une fois, alors que je me d√©tendais avec des amis dans un camp √©tudiant au MEPhI, l'un d'eux m'a dit qu'il avait r√©cemment d√©cid√© d'essayer de planter des fraises sur un terrain. J'ai achet√© des pots, j'ai creus√© de la terre quelque part et apport√© des tuyaux d'arrosage. Et tout irait bien, le propri√©taire dort - les fraises poussent, mais elles ne doivent aller au pays de mani√®re stable qu'une fois par semaine ou m√™me plus souvent pour que les plantes ne s√®chent pas sans eau. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En me souvenant de deux Arduino qui tra√Ænaient dans une commode, ainsi que d'un d√©sir de longue date d'accomplir quelque chose de plus que de simples LED clignotantes, j'ai imm√©diatement d√©cid√© de me charger de cette t√¢che et de faire cette fois, si possible, jusqu'√† la fin.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ffc/8b7/deb/ffc8b7deb2ff4ca893b5493546e9f826.jpg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant qu'interface de gestion du syst√®me, il a √©t√© d√©cid√© de fournir un contr√¥le manuel ¬´√† partir du bouton¬ª, ainsi que de mettre en ≈ìuvre un contr√¥le √† distance via Internet. Arduino Mega a √©t√© choisi comme contr√¥leur principal, car un bouclier avec un √©cran LCD et des boutons est facilement connect√©, et il a √©galement suffisamment de m√©moire et de GPIO pour cette t√¢che. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le sch√©ma g√©n√©ral du syst√®me: </font></font><br>
<br>
<img src="https://habrastorage.org/files/805/b74/a51/805b74a51ab54684af02c5961b3dfff3.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour interagir avec le r√©seau mondial, la carte m√®re ESP8266, qui gagne activement en popularit√©, a √©t√© choisie. Le choix d'un protocole de transfert de donn√©es sans fil est d√ª, en plus du faible co√ªt du module Wi-Fi, √† la pr√©sence d'un routeur Wi-Fi constamment sur la datcha du client, ce qui √©vite de tirer une connexion filaire √† l'int√©rieur de la maison.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malgr√© le fait que l'ESP8266 soit apparu √† l'horizon de la communaut√© DIY assez r√©cemment, une ressource de d√©veloppeurs sur cette puce se d√©veloppe d√©j√† activement dans RuNet, o√π vous pouvez toujours chercher la r√©ponse √† votre question, trouver un exemple de connexion d'une carte ESP sp√©cifique ou demander de l'aide pour un probl√®me.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estimation du projet</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour surveiller l'humidit√© actuelle du sol, un capteur standard avec Ebay a √©t√© command√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour afficher et saisir des informations, il a √©t√© d√©cid√© d'utiliser le blindage du clavier LCD, qui est un module √©lectronique avec un √©cran LCD et 6 boutons connect√©s √† une entr√©e analogique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que dispositif de contr√¥le de l'alimentation en eau, un robinet m√©canis√© 12 volts √† 2 fils a √©t√© choisi, dont l'ouverture-fermeture s'effectue en changeant les signes de la tension fournie. Par cons√©quent, en plus du robinet, un module relais 4 canaux a √©t√© command√© (deux relais modifient la polarit√© fournie, un est responsable de l'alimentation en tension, un autre est laiss√© en r√©serve). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme ESP8266 sur Ebay, la version la plus simple a √©t√© command√©e - ESP-01. L'essentiel est de se rappeler que l'ESP8266 est aliment√© exclusivement √† partir de 3,3 V, ce qui doit √™tre pris en charge √† l'avance.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Liste des √©quipements n√©cessaires:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grue motoris√©e</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino mega</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Module WiFi (ESP8266)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relais 4 canaux</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteurs d'humidit√© du sol</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âcran LCD avec boutons</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Co√ªt total (excluant le co√ªt de tout ce qui est n√©cessaire pour le soudage, l'assemblage ainsi que l'alimentation): 61,01 $. </font><font style="vertical-align: inherit;">La principale contribution au co√ªt final de mon syst√®me a √©t√© apport√©e par une grue motoris√©e (23,32 $) et un officiel Arduino Mega 2560 (26,80 $).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionnalit√© du syst√®me</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s une petite r√©flexion, j'ai d√©cid√© que le syst√®me d'arrosage automatique devrait pouvoir fonctionner dans les trois modes suivants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manuel ("√† partir du bouton"). </font><font style="vertical-align: inherit;">Dans ce mode, l'utilisateur d√©cide de l'heure de d√©but de l'irrigation en fonction des informations qui lui sont fournies par le capteur d'humidit√© du sol ou en fonction de son exp√©rience personnelle;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mode programm√©. </font><font style="vertical-align: inherit;">L'utilisateur d√©finit uniquement les param√®tres d'irrigation selon le calendrier (fr√©quence, dur√©e), apr√®s quoi le syst√®me lui-m√™me irrigue selon les param√®tres s√©lectionn√©s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mode capteur. </font><font style="vertical-align: inherit;">L'arrosage est effectu√© automatiquement lorsqu'un seuil d'humidit√© pr√©d√©termin√© est atteint. </font><font style="vertical-align: inherit;">L'utilisateur n'a qu'√† r√©gler la valeur seuil d'humidit√© et la dur√©e de l'arrosage;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä distance (depuis un smartphone ou un ordinateur). </font><font style="vertical-align: inherit;">Il inclut la possibilit√© de contr√¥ler √† distance le syst√®me en utilisant la logique de l'un des trois modes √©num√©r√©s ci-dessus.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est difficile d'imaginer la mise en ≈ìuvre d'une telle fonctionnalit√© sans le menu le plus simple, dont la navigation sera effectu√©e √† l'aide des boutons de protection du clavier LCD. </font><font style="vertical-align: inherit;">Vous pouvez lire sur l'impl√©mentation du menu sur Arduino, par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blynk</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√©fl√©chissant √† la mise en ≈ìuvre du contr√¥le de l'irrigation √† distance, je suis tomb√© sur un projet Blynk int√©ressant, dont la collecte de fonds pour la mise en ≈ìuvre a √©t√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lanc√©e sur Kickstarter le 16 janvier 2015</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant un mois, le projet a recueilli 49 235 $ au lieu de 10 000 $, ce qui, apparemment, refl√®te l'√©norme int√©r√™t pour de tels projets de la communaut√© mondiale des geek. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'objectif principal de Blynk est de cr√©er une plate-forme abordable pour le contr√¥le sans fil des appareils √©lectroniques faits maison √† partir d'un smartphone. Comme pr√©vu par les auteurs, l'acc√®s √† Internet n'est pas une condition pr√©alable - Blynk Server peut √™tre t√©l√©charg√© et d√©ploy√© sur votre r√©seau domestique, apr√®s avoir re√ßu une autonomie totale au sein de votre domicile.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La liste compl√®te des plates-formes prises en charge (parmi lesquelles, bien s√ªr, sont Arduino, Raspberry PI et Intel Edison), sur lesquelles Blynk devrait √™tre port√©, est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sch√©matiquement, le principe de fonctionnement de Blynk est pr√©sent√© dans la figure suivante: </font></font><br>
<br>
<img src="https://habrastorage.org/files/1f9/7ac/ca3/1f97acca361d4f4ea4f48a78ac433937.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la liste des fonctionnalit√©s d'interface du programme pour smartphone pour contr√¥ler un appareil distant et afficher les informations re√ßues de celui-ci, une grande vari√©t√© d'√©l√©ments ("widgets") sont annonc√©s. </font><font style="vertical-align: inherit;">Nous distinguons les principaux:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boutons</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sliders</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Joysticks monoaxiaux et biaxiaux;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion √† l'aide d'un gyroscope et d'acc√©l√©rom√®tres t√©l√©phoniques;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diff√©rents types de boutons de commande;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphiques</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indicateurs de fl√®che;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notifications contextuelles.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une liste compl√®te des √©l√©ments peut √™tre trouv√©e sur la page du projet Blynk sur Kickstarter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient de noter que le projet est √† un stade de d√©veloppement actif, par cons√©quent, toutes les fonctions d√©clar√©es par les d√©veloppeurs n'ont pas √©t√© mises en ≈ìuvre jusqu'√† pr√©sent. </font><font style="vertical-align: inherit;">Cependant, selon eux, ce n'est qu'une question de temps. </font><font style="vertical-align: inherit;">Les fonctionnalit√©s disponibles pour notre projet seront suffisantes.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impl√©mentation technique</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sch√©ma de principe de l'appareil: </font></font><br>
<br>
<img src="https://habrastorage.org/files/4d4/1b7/3f8/4d41b73f802341d7aecc2dd74067e2fc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme le montre le sch√©ma pr√©sent√©, l'√©change d'informations entre Arduino et ESP8266 s'effectuera via UART. </font><font style="vertical-align: inherit;">Afin de ne pas rencontrer de probl√®mes lors du flashage du contr√¥leur, nous connectons le module Wi-Fi aux contacts D2, D3, en organisant un UART mat√©riel (Serial3) sur ces jambes et en r√©glant la vitesse sur 11520 bauds.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un lecteur attentif devrait avoir une question logique - comment l'Arduino aliment√© par la logique 5 volts et l'ESP8266 3,3 volts communiquera-t-il? </font><font style="vertical-align: inherit;">Apr√®s avoir √©tudi√© cette question sur Internet, je suis arriv√© √† la conclusion que la majorit√© n'accorde absolument aucune importance √† ce probl√®me (comme il s'est av√©r√© plus tard - pas en vain) en connectant directement les jambes correspondantes de ces deux planches. </font><font style="vertical-align: inherit;">Seuls quelques articles ont sugg√©r√© d'utiliser le diviseur de tension le plus simple ou des convertisseurs sp√©cialement con√ßus. </font><font style="vertical-align: inherit;">Naturellement, je n'avais pas de convertisseur, donc au d√©but, une tentative a √©t√© faite pour impl√©menter la communication √† l'aide d'un diviseur, mais cela n'a abouti √† aucun r√©sultat, et j'ai rejoint l'ensemble de probl√®mes de fermeture des yeux susmentionn√© (l'avantage a fonctionn√© sans coordination des niveaux logiques) .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelques mots sur la puissance de l'ESP8266</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme d√©j√† mentionn√© dans de nombreux tutoriels, pour le fonctionnement normal de l'ESP, vous avez besoin d'une alimentation stable dans la gamme de 3,0 √† 3,6 volts. </font><font style="vertical-align: inherit;">Pour ce faire, vous pouvez utiliser diff√©rents convertisseurs lin√©aires, par exemple le populaire AMS1117 3.3 d'aujourd'hui. </font><font style="vertical-align: inherit;">La </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fiche technique de l'AMS1117</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique que la tension d' </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">entr√©e</font></a><font style="vertical-align: inherit;"> peut atteindre 15 </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">V.Cependant</font></a><font style="vertical-align: inherit;"> , pour un fonctionnement stable dans le mode de courant de sortie d'environ 1 A, il est recommand√© de baisser la tension d'entr√©e (en pratique, 5-6 V suffisent). </font><font style="vertical-align: inherit;">D'apr√®s ma propre exp√©rience, je dirai que lorsque le convertisseur est connect√© √† une source 12 V, l'AMS commence √† chauffer activement, ce qui entra√Æne rapidement une diminution de la tension de sortie et, par cons√©quent, un red√©marrage de l'ESP8266.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configurer ESP8266</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'interaction d'Arduino et d'ESP8266 lors de l'utilisation de Blynk peut √™tre impl√©ment√©e de deux mani√®res diff√©rentes:</font></font><br>
<br>
<ul>
<li> ¬´¬ª  ESP8266 AT-,      Arduino (..  ¬´ESP8266 as shield¬ª);</li>
<li>  ESP   Arduino IDE    Blynk,      ,    ,  Arduino      ,      /  (..  ¬´ESP8266 as standalone¬ª).</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les deux options ont leurs avantages et leurs inconv√©nients, mais la premi√®re option est plus pratique car il n'est pas n√©cessaire de travailler avec deux programmes et de surveiller en permanence la compatibilit√© des deux appareils. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour contr√¥ler √† l'aide de Blynk, vous devez pouvoir t√©l√©charger le firmware souhait√© sur l'ESP8266. Dans notre cas, la version du firmware AT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v0.22 SDK v1.0.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sera utilis√©e </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour flasher les cartes ESP8266, vous avez besoin d'un convertisseur USB-TTL (par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), cependant, vous pouvez √©galement utiliser Arduino en fermant les jambes RST et GND dessus et en connectant le module RX Wi-Fi √† la jambe Arduino RX, similaire √† TX √† TX. Ensuite, mettez l'ESP8266 en mode clignotant (pour ce faire, fermez la sortie GPIO0 √† la masse), et en utilisant l'utilitaire XTCom Util, remplissez le firmware, comme d√©crit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Il ne reste plus qu'√† augmenter la vitesse UART √† 115200 bauds avec la commande AT AT + UART_DEF = 115200,8,1,0,0, apr√®s quoi la configuration du module Wi-Fi sera termin√©e.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Croquis pour Arduino</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La biblioth√®que principale pour travailler avec Blynk sous l'IDE Arduino est la biblioth√®que BlynkSimpleEsp8266.h. Consid√©rez ses principales fonctions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) Blynk.begin (auth, "ssid", "pass") </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous l'avez peut-√™tre devin√©, la fonction re√ßoit les param√®tres de connexion √† un point Wi-Fi - son SSID et son mot de passe, ainsi que le jeton d'authentification de notre appareil pour la connexion au serveur Blynk. </font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Important!</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le processus de connexion au serveur Blynk commence uniquement apr√®s que l'une des fonctions suivantes a √©t√© appel√©e pour la premi√®re fois dans le programme: Blynk.run () ou Blynk.connect ().</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour se d√©connecter / se connecter au serveur Blynk, les fonctions Blynk.disconnect () et Blynk.connect () sont utilis√©es, renvoyant le r√©sultat dans un type bool√©en. Pour √©tablir une connexion (d√©lai d'expiration en secondes), Blynk.connect (s) est utilis√© (par d√©faut, le d√©lai d'expiration est d√©fini sur 30 s).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) Blynk.run () </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fonction principale pour synchroniser l'appareil avec le serveur Blynk et recevoir les commandes du smartphone. Couramment utilis√© dans une boucle. De plus, cette fonction vous permet de contr√¥ler les entr√©es et sorties de la carte ESP (en mode ¬´autonome¬ª) sans utiliser les fonctions telles que digitalRead, digitalWrite, analogRead, analogWrite n'importe o√π dans le code. Il suffit d'ajouter les √©l√©ments n√©cessaires √† l'√©cran de contr√¥le dans l'application sur le smartphone et de les corr√©ler avec le GPIO ESP8266 n√©cessaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3) Travailler avec des contacts virtuels ("Pins virtuels")</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'une des caract√©ristiques de Blynk est l'utilisation de contacts virtuels. Ce terme fait r√©f√©rence √† un canal logique pour transmettre diverses informations entre une application mobile et un appareil, qu'il s'agisse de variables bool√©ennes, de valeurs num√©riques (enti√®res ou longues) ou de donn√©es texte sous forme de cha√Æne. Les contacts virtuels n'ont pas de connexion directe avec les terminaux de l'appareil et sont principalement utilis√©s pour l'interaction avec les biblioth√®ques de modules p√©riph√©riques (LCD, servos, etc.) ou une interface d'application mobile.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le code d'esquisse, le traitement de l'appel au contact virtuel avec le num√©ro n s'effectue √† l'aide des blocs BLYNK_READ (Vn) {...} et BLYNK_WRITE (Vn) {...}. </font><font style="vertical-align: inherit;">√Ä l'int√©rieur des accolades, le code de traitement pour acc√©der au contact virtuel est indiqu√©. </font><font style="vertical-align: inherit;">Par exemple, si le widget d'application demande que la valeur d'humidit√© du sol pour l'affichage virtuel n ¬∞ 2 soit affich√©e sous forme de graphique, nous devons √©crire quelque chose comme ceci dans le croquis:</font></font><br>
<br>
<pre><code class="cpp hljs">BLYNK_READ(V2)<font></font>
{<font></font>
<span class="hljs-comment"><span class="hljs-comment">//     ,    humidity:</span></span>
  Blynk.virtualWrite(<span class="hljs-number"><span class="hljs-number">2</span></span>, humidity);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De m√™me, vous pouvez consid√©rer le param√®tre envoy√©, par exemple, via le contact virtuel n ¬∞ 9 de l'utilisateur de l'application Blynk:</font></font><br>
<br>
<pre><code class="cpp hljs">BLYNK_WRITE(V9)<font></font>
{<font></font>
<span class="hljs-comment"><span class="hljs-comment">//      x:</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = param.asInt();<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela utilise la conversion de la variable d'entr√©e en une valeur enti√®re √† l'aide de param.asInt (). Les conversions param.asStr () et param.asDouble () sont √©galement autoris√©es. </font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Important!</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les proc√©dures BLYNK_READ / BLYNK_WRITE doivent √™tre ex√©cut√©es le plus rapidement possible afin que l'appareil puisse g√©rer toutes les demandes de l'application. Par cons√©quent, il est fortement d√©conseill√© d'utiliser les fonctions sllep / delay dans de telles routines.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Des informations plus d√©taill√©es sur la fonctionnalit√© Blynk peuvent √™tre trouv√©es sur la page github du d√©veloppeur dans le dossier des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou sur la page des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documents</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, arm√©s de connaissances, revenons √† l'auto-arrosage et √©crivons un croquis. Nous fournirons les possibilit√©s suivantes pour que l'application mobile interagisse avec le syst√®me:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le choix du mode de fonctionnement du syst√®me: manuel, par capteur, par programme;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Affichage de l'humidit√© du sol re√ßue du syst√®me et sortie des donn√©es historiques;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âchange d'informations via l'√©l√©ment d'application terminal.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai essay√© de commenter chaque morceau de code qui est responsable d'une fonction particuli√®re du syst√®me, donc nous ne nous attarderons pas sur le code du programme en d√©tail. </font><font style="vertical-align: inherit;">Je note seulement que pour la facilit√© d'utilisation, tous les r√©glages effectu√©s par l'utilisateur sont enregistr√©s dans la m√©moire Arduino non volatile (EEPROM). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le croquis peut √™tre t√©l√©charg√© sur GitHub.</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration de l'application mobile Blynk</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La derni√®re √©tape est √† gauche - la configuration de l'application mobile. </font><font style="vertical-align: inherit;">Dans mon cas, les √©l√©ments suivants seront utilis√©s:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 indicateurs LED (broches virtuelles 1, 29, 30, 31);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 boutons (broches virtuelles 2, 3);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terminal pour l'√©change d'informations (Virtual Pin 4);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indicateur num√©rique ¬´Affichage de la valeur¬ª (broche virtuelle 8);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphique avec la possibilit√© d'afficher les donn√©es historiques "History Graph" (Virtual Pin 8);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget pour activer le travail avec le courrier ("Email");</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un widget pour activer les notifications pop-up ("Push").</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir install√© l'application mobile </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blynk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">vous</font></a><font style="vertical-align: inherit;"> devez </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">vous</font></a><font style="vertical-align: inherit;"> inscrire et s√©lectionner l'appareil que vous souhaitez g√©rer (dans notre cas, c'est ESP8266). </font><font style="vertical-align: inherit;">De plus, afin de ne pas perdre, nous nous envoyons un jeton d'authentification unique, qui est utilis√© dans le croquis pour l'authentification sur les serveurs Blynk. </font><font style="vertical-align: inherit;">Vous trouverez ci-dessous des captures d'√©cran illustrant la configuration de l'application.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©er un nouveau projet</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/281/a53/aa0/281a53aa0ca146e881c9cc3f1dd7feea.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la fen√™tre ouverte du projet cr√©√© dans le coin sup√©rieur droit, il y a 3 boutons: param√®tres globaux du projet, ajout d'√©l√©ments (widgets) au formulaire et lancement:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formulaire vide pour un nouveau projet</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/fc7/abf/40c/fc7abf40ca904aaeaff940c7f253c728.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il reste √† ajouter des contr√¥les au formulaire de demande et √† les configurer. </font><font style="vertical-align: inherit;">Certains des widgets disponibles au moment de la r√©daction sont pr√©sent√©s ci-dessous:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liste des widgets √† ajouter au formulaire de candidature</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/e43/d27/9bd/e43d279bd969493e8db442636f980fe3.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour contr√¥ler le fonctionnement du syst√®me, ajoutez 2 boutons au formulaire: l'un sera responsable du choix du mode de fonctionnement, le second - pour d√©marrer l'irrigation en mode manuel. </font><font style="vertical-align: inherit;">L'√©tat actuel du syst√®me sera √©tabli √† l'aide de quatre indicateurs LED. </font><font style="vertical-align: inherit;">Un indicateur s'allume pendant l'irrigation, les trois autres sont n√©cessaires pour afficher le mode actuel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reste √† choisir les couleurs des √©l√©ments, ajouter des l√©gendes et les lier aux contacts virtuels souhait√©s.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration des voyants et boutons LED</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/d0d/356/6bc/d0d3566bc8f74bdc9e9314c71443770e.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour afficher la dynamique de l'humidit√© du sol, ajoutez au formulaire un graphique avec la possibilit√© d'afficher des donn√©es historiques ("History Graph"). </font><font style="vertical-align: inherit;">Nous afficherons la valeur actuelle de l'humidit√© sur l'affichage num√©rique ("Value Display").</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter un graphique d'historique et des √©l√©ments d'affichage de valeur</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/290/032/d00/290032d009594489a490e7ad79ef16c3.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la commodit√© de la configuration √† distance des param√®tres du syst√®me, ainsi que pour obtenir des informations plus compl√®tes sur l'√©tat actuel, nous ajoutons un terminal √† l'application. </font><font style="vertical-align: inherit;">Et pour recevoir des notifications par e-mail et par t√©l√©phone, vous devez √©galement placer les √©l√©ments ¬´Push¬ª et ¬´Email¬ª sur le formulaire.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter des √©l√©ments Terminal, Push et Email</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/e51/925/ced/e51925ced41e406298873c57bb1ef698.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il reste √† placer sur le formulaire tous les widgets d√©crits ci-dessus et nous obtiendrons quelque chose comme ceci:</font></font><br>
<br>
<img src="https://habrastorage.org/files/644/2ce/b5c/6442ceb5c4d04b8fb99632e68e2aa374.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sultat</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous trouverez ci-dessous quelques photos du syst√®me dans l'√©tat actuel et une vid√©o du travail de l'auto-arrosage et de Blynk. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je r√©serverai tout de suite que je n'ai pas branch√© de robinet m√©canis√© dans l'appartement et fourni de l'eau au pot de fleur, et il n'y a aucun besoin urgent - au moment de tester le syst√®me, le processus d'arrosage (lorsque le robinet est ouvert) est √©mul√© avec succ√®s par ma femme et un arrosoir ordinaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Photo n ¬∞ 1: </font></font><br>
<br>
<img src="https://habrastorage.org/files/130/39f/64b/13039f64bd264d478120610771310cf0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Photo n ¬∞ 2: </font></font><br>
<br>
<img src="https://habrastorage.org/files/cde/fe9/15a/cdefe915aad142d4a2468d15eff9b6ad.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vid√©o:</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/wSNd7GkT-Wc%3Ffeature%3Doembed&amp;usg=ALkJrhgjXSwW_Y0a3hiTmjMj-EwmVK1q9Q" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au lieu d'une conclusion</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©sumant la cr√©ation d'un syst√®me d'arrosage automatique utilisant Blynk, nous pouvons dire ce qui suit: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. En soi, le service Blynk est un outil tr√®s pratique et facile √† apprendre qui, gr√¢ce √† l'abondance de cartes et d'appareils pris en charge, peut √™tre facilement int√©gr√© dans presque n'importe quel appareil. Associ√©s au prix bas du module Wi-Fi ESP8266, ces avantages vous permettent d'ajouter la t√©l√©commande √† un projet sp√©cifique avec le moins d'effort. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les inconv√©nients de l'utilisation d'une telle solution sont, bien s√ªr, moins de flexibilit√© dans la personnalisation du syst√®me pour vous-m√™me et la d√©pendance vis-√†-vis des d√©veloppeurs d'applications, ce qui, cependant, ne r√©duit en rien ses avantages lorsqu'il est utilis√© dans de petits projets de bricolage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Les deux principaux inconv√©nients de la mise en ≈ìuvre ci-dessus du syst√®me d'irrigation automatique sont son co√ªt et la faible qualit√© du capteur d'humidit√© du sol utilis√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier inconv√©nient est caus√©, comme mentionn√© ci-dessus, par le co√ªt √©lev√© du robinet √©lectromagn√©tique et de la carte Arduino Mega officielle. Cependant, il peut √™tre consid√©rablement r√©duit en utilisant, par exemple, des analogues Arduino ou en impl√©mentant la partie √©lectronique enti√®re sur un autre MK appropri√©. La grue, malheureusement, ne pouvait pas √™tre trouv√©e beaucoup moins ch√®re, et ce n'√©tait pas mon objectif.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quant au capteur d'humidit√©, afin d'augmenter sa dur√©e de vie et de r√©duire les produits d'√©lectrolyse entre ses contacts, d'une part, il est n√©cessaire de lui appliquer de la tension juste imm√©diatement avant de mesurer l'humidit√© (qui est impl√©ment√©e dans mon syst√®me), et d'autre part, il vaut mieux remplacer soit sur des tiges de graphite, soit utiliser des contacts en acier inoxydable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un avenir proche, il est pr√©vu d'assembler la partie √©lectronique et de la placer dans un b√¢timent d√©cent et, je l'esp√®re, d'installer enfin tout dans le pays. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci de votre attention!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr388589/">https://habr.com/ru/post/fr388589/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr388579/index.html">DEXP Ursus KX210i - Tablette Windows 10 Transformer avec processeur Intel¬Æ Atom ‚Ñ¢</a></li>
<li><a href="../fr388581/index.html">Comment j'ai fabriqu√© une souffleuse √† neige 3.0 avec contr√¥le Bluetooth √† partir d'un smartphone Android</a></li>
<li><a href="../fr388583/index.html">Signature du d√©cret de suppression de l'Agence spatiale f√©d√©rale</a></li>
<li><a href="../fr388585/index.html">Evolution des supports de stockage, partie 3: disques durs</a></li>
<li><a href="../fr388587/index.html">Imprimante Dotwork bon march√© maison</a></li>
<li><a href="../fr388591/index.html">Mozilla envisage de lib√©rer des appareils sur Firefox OS au lieu d'un smartphone r√©cemment d√©c√©d√©</a></li>
<li><a href="../fr388593/index.html">Netflix a compris comment obliger les enfants √† se coucher t√¥t le soir du Nouvel An</a></li>
<li><a href="../fr388595/index.html">Contr√¥leur de gants avec production d'√©nergie ind√©pendante pour le travail</a></li>
<li><a href="../fr388601/index.html">Les √©v√©nements les plus marquants de l'exploration spatiale de l'ann√©e</a></li>
<li><a href="../fr388603/index.html">Qu'est-ce que la robotique √©ducative? L'avis des experts de la Commission du Conseil de la F√©d√©ration</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>