<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëì üöù üë©üèΩ‚Äçü§ù‚Äçüë®üèø ¬øQu√© hay de nuevo en CUBA 7? üë®üèº‚Äçüç≥ üë®üèª‚Äçüíª üå©Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øQu√© hay de nuevo en CUBA 7? 


 Hace tres a√±os, anunciamos la segunda versi√≥n principal del marco disponible p√∫blicamente. CUBA 6 fue la versi√≥n que ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øQu√© hay de nuevo en CUBA 7?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/444558/"><h1 id="whats-new-in-cuba-7">  ¬øQu√© hay de nuevo en CUBA 7? </h1><br><p>  Hace tres a√±os, anunciamos la segunda versi√≥n principal del marco disponible p√∫blicamente.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CUBA 6</a> fue la versi√≥n que cambi√≥ el juego: la licencia pas√≥ de ser propietaria a Apache 2.0.  Esos d√≠as ni siquiera pod√≠amos adivinar d√≥nde iba a llevar el marco a largo plazo.  La comunidad CUBA comenz√≥ a crecer exponencialmente, por lo que hemos aprendido muchas formas posibles (y a veces imposibles) de c√≥mo los desarrolladores usan el marco.  Ahora nos complace anunciar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CUBA 7</a> , que, esperamos, har√° que el desarrollo sea m√°s coherente y alegre para todos los miembros de la comunidad, desde aquellos que reci√©n comienzan su viaje en CUBA y Java hasta desarrolladores empresariales expertos y expertos en Java. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d60/280/788/d602807880920f1c89cc34aa4c944f11.png" alt="cuba"></p><a name="habracut"></a><br><h2 id="development-tools">  Herramientas de desarrollo </h2><br><p>  Obviamente, una gran parte del √©xito de CUBA se lo debemos a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CUBA Studio</a> .  Se ha simplificado notablemente la rutina empresarial de Java sobrecargada, en muchos lugares se basa en hacer configuraciones triviales en los dise√±adores visuales: no es necesario conocer Persistence API o Gradle o incluso Spring para desarrollar una aplicaci√≥n CRUD completa y rica en funciones: Studio lo har√° para ti </p><br><p>  El Studio era una aplicaci√≥n web separada y este hecho caus√≥ algunas limitaciones significativas: </p><br><ul><li>  En primer lugar, Studio no era un IDE con todas las funciones, por lo que los desarrolladores tuvieron que cambiar entre Studio e IntelliJ IDEA o Eclipse para desarrollar la l√≥gica empresarial y beneficiarse de la navegaci√≥n conveniente, la finalizaci√≥n del c√≥digo y otras cosas esenciales, lo que era molesto. </li><li>  En segundo lugar, esta simplicidad m√°gica se construy√≥ sobre el an√°lisis y generaci√≥n masivos de c√≥digo fuente.  Mejorar las capacidades de generaci√≥n de c√≥digo significar√≠a avanzar hacia el desarrollo de un IDE con todas las funciones, una tarea demasiado ambiciosa. </li></ul><br><p>  Decidimos apoyarnos en el hombro de otro gigante para superar estas limitaciones.  Studio se fusion√≥ con IntelliJ IDEA por JetBrains.  Ahora puede instalarlo como un complemento para su IntelliJ IDEA o descargarlo como un paquete independiente por separado. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eba/91f/e64/eba91fe64a5025522853a054d2e6d720.png" alt="cuba1"></p><br><p>  Esto abre nuevos horizontes: </p><br><ul><li>  Soporte de otros idiomas JVM (y Kotlin en primer lugar) </li><li>  Implementaci√≥n en caliente mejorada </li><li>  Navegaci√≥n intuitiva por todo el proyecto. </li><li>  Sugerencias m√°s inteligentes y generadores de c√≥digo </li></ul><br><p>  Actualmente, el nuevo Studio est√° en desarrollo activo: estamos transfiriendo caracter√≠sticas de la versi√≥n anterior.  El plan a corto plazo tambi√©n es volver a implementar dise√±adores basados ‚Äã‚Äãen la web utilizando la interfaz de usuario nativa de IntelliJ y mejorar la experiencia de navegaci√≥n del proyecto. </p><br><h2 id="stack-upgrade">  Actualizaci√≥n de pila </h2><br><p>  Tradicionalmente, la pila subyacente tambi√©n se ha mejorado principalmente, por ejemplo, Java 8/11, Vaadin 8, Spring 5. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/fb4/f9a/5f9/fb4f9a5f937e543e339dfba51e637f2e.png" alt="cuba2"></p><br><p>  Por defecto, los nuevos proyectos usan Java 8, pero puede especificar la versi√≥n de Java agregando la siguiente cl√°usula al archivo build.gradle: </p><br><pre><code class="plaintext hljs">subprojects { sourceCompatibility = JavaVersion.VERSION_11 targetCompatibility = JavaVersion.VERSION_11 }</code> </pre> <br><p>  La actualizaci√≥n a Vaadin 8 fue un gran desaf√≠o debido a los cambios masivos en la API de enlace de datos de Vaadin.  Afortunadamente, CUBA extrae desarrolladores de elementos internos de Vaadin envolvi√©ndolos en su propia capa API.  El equipo de CUBA hizo un gran trabajo reimplementando los componentes internos manteniendo intacta su propia API.  Esto significa que la compatibilidad se guarda por completo y puede beneficiarse de Vaadin 8 justo despu√©s de migrar un proyecto a CUBA 7 sin ninguna refactorizaci√≥n. </p><br><p>  La lista completa de dependencias actualizadas est√° disponible en las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">notas de la versi√≥n</a> oficial. </p><br><h2 id="new-screens-api">  Nueva API de pantallas </h2><br><p>  Esta secci√≥n tambi√©n podr√≠a llamarse "La primera API de pantallas", ya que CUBA nunca ha tenido una API oficialmente declarada en el nivel de cliente web.  Proviene de la historia del marco y ciertos supuestos que se hicieron en la primera etapa: </p><br><ul><li>  Enfoque declarativo centrado: todo lo que se puede describir de manera declarativa, debe declararse en un descriptor de pantalla y no codificarse en su controlador </li><li>  Las pantallas est√°ndar (navegador y editor) proporcionan una funcionalidad gen√©rica concreta y no es necesario modificarla. </li></ul><br><p>  Desde que los primeros mil miembros se unieron a nuestra comunidad, nos dimos cuenta de cu√°n amplia es la variedad de requisitos para pantallas CRUD "est√°ndar", mucho m√°s all√° del conjunto de caracter√≠sticas inicialmente dise√±ado.  Sin embargo, durante mucho tiempo pudimos manejar solicitudes de comportamiento personalizado incluso sin una capa API, gracias a otra suposici√≥n de la primera etapa: herencia abierta.  La herencia abierta efectiva significa que puede anular cualquier m√©todo p√∫blico o protegido de una clase subyacente para adaptar su comportamiento a lo que necesita.  Esto puede sonar como una cura para todas las enfermedades, pero de hecho no le da ni siquiera un contrato a corto plazo: ¬øqu√© pasa si el m√©todo anulado ser√° renombrado, eliminado o simplemente nunca se usar√° en las futuras versiones del marco? </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4ed/043/150/4ed0431505177eab85281d6f583f4bc4.png" alt="cuba3"></p><br><p>  Entonces, en respuesta a la creciente demanda de la comunidad, decidimos introducir una nueva API de pantallas.  La API proporciona puntos de extensi√≥n claros y a largo plazo sin magia declarativa oculta, flexible y muy f√°cil de usar. </p><br><h3 id="screen-declaration">  Declaraci√≥n de pantalla </h3><br><p>  En CUBA 7, la declaraci√≥n de pantalla es extremadamente simple: </p><br><pre> <code class="plaintext hljs">@UiController("new-screen") // screen id public class NewScreen extends Screen { }</code> </pre> <br><p>  En el ejemplo anterior, podemos ver que el identificador de pantalla se define expl√≠citamente justo encima de la clase de controlador.  En otras palabras, la identificaci√≥n de la pantalla y la clase de controlador ahora se corresponden entre s√≠ de manera √∫nica.  Entonces, buenas noticias, ahora las pantallas pueden ser abordadas directamente por su clase de controlador de una manera segura: </p><br><pre> <code class="plaintext hljs">@Inject private ScreenBuilders screenBuilders; @Subscribe private void onBeforeClose(BeforeCloseEvent event) { screenBuilders.screen(this) .withScreenClass(SomeConfirmationScreen.class) .build() .show(); }</code> </pre> <br><p>  El descriptor de pantalla se convierte en una parte complementaria en lugar de obligatoria.  El dise√±o puede crearse mediante programaci√≥n o declararse como un descriptor de pantalla xml, que se define mediante la anotaci√≥n @UiDescriptor sobre la clase de controlador.  Esto hace que los controladores y el dise√±o sean mucho m√°s f√°ciles de leer y comprender: este enfoque es muy similar al utilizado en el desarrollo de Android. </p><br><p>  Antes, tambi√©n era necesario registrar un descriptor de pantalla en el archivo web-Screens.xml y asignarle un identificador.  En CUBA 7, este archivo se mantiene debido a razones de compatibilidad, sin embargo, la creaci√≥n de pantallas de una nueva manera no requiere dicho registro. </p><br><h3 id="screens-lifecycle">  Pantallas ciclo de vida </h3><br><p>  La nueva API presenta eventos de ciclo de vida de pantalla claros y autoexplicativos: </p><br><ul><li>  Init </li><li>  Afterinit </li><li>  Antes de </li><li>  Despu√©s del espect√°culo </li><li>  Antes de cerrar </li><li>  Afterclose </li></ul><br><p>  Todos los eventos relacionados con la pantalla en CUBA 7 se pueden suscribir de la siguiente manera: </p><br><pre> <code class="plaintext hljs">@UiController("new-screen") public class NewScreen extends Screen { @Subscribe private void onInit(InitEvent event) { } @Subscribe private void onBeforeShow(BeforeShowEvent event) { } }</code> </pre> <br><p>  Al comparar la nueva API con el enfoque anterior, puede ver que no estamos anulando los m√©todos de enlace, que se denominan oscuramente en la jerarqu√≠a de las clases principales, sino que definen la l√≥gica en puntos claros predefinidos del ciclo de vida de la pantalla. </p><br><h3 id="event-handling-and-functional-delegates">  Manejo de eventos y delegados funcionales </h3><br><p>  En la secci√≥n anterior aprendimos c√≥mo suscribirse a los eventos del ciclo de vida, entonces, ¬øqu√© pasa con otros componentes?  ¬øDeber√≠amos dispersar a todos los oyentes necesarios en la inicializaci√≥n de la pantalla como en las versiones 6.x?  La nueva API es muy uniforme, por lo que suscribirse a otros eventos es absolutamente similar a los del ciclo de vida. </p><br><p>  Tomemos un ejemplo simple con dos elementos de la interfaz de usuario: un bot√≥n y un campo de moneda, para que su descriptor xml se vea as√≠: </p><br><pre> <code class="plaintext hljs">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt; &lt;window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd" caption="msg://caption" messagesPack="com.company.demo.web"&gt; &lt;layout&gt; &lt;hbox spacing="true"&gt; &lt;currencyField id="currencyField" currency="$" currencyLabelPosition="LEFT"/&gt; &lt;button id="calcPriceBtn" caption="Calculate Price"/&gt; &lt;/hbox&gt; &lt;/layout&gt; &lt;/window&gt;</code> </pre> <br><p>  Al hacer clic en el bot√≥n, llamamos al servicio de middleware que devuelve un n√∫mero, que va al campo de moneda.  El campo de moneda deber√≠a cambiar su estilo dependiendo del valor del precio. </p><br><pre> <code class="plaintext hljs">@UiController("demo_MyFirstScreen") @UiDescriptor("my-first-screen.xml") public class MyFirstScreen extends Screen { @Inject private PricingService pricingService; @Inject private CurrencyField&lt;BigDecimal&gt; currencyField; @Subscribe("calcPriceBtn") private void onCalcPriceBtnClick(Button.ClickEvent event) { currencyField.setValue(pricingService.calculatePrice()); } @Subscribe("currencyField") private void onPriceChange(HasValue.ValueChangeEvent&lt;BigDecimal&gt; event) { BigDecimal price = pricingService.calculatePrice(); currencyField.setStyleName(getStyleNameByPrice(price)); } private String getStyleNameByPrice(BigDecimal price) { ... } }</code> </pre> <br><p>  En el ejemplo anterior, podemos ver dos controladores de eventos: uno se invoca cuando se hace clic en el bot√≥n y otro se ejecuta cuando el campo de moneda cambia su valor, tan simple como eso. </p><br><p>  Ahora, imaginemos que necesitamos validar nuestro precio y verificar que su valor sea positivo.  La forma m√°s sencilla ser√≠a agregar un validador mientras se inicializa la pantalla: </p><br><pre> <code class="plaintext hljs">@UiController("demo_MyFirstScreen") @UiDescriptor("my-first-screen.xml") public class MyFirstScreen extends Screen { @Inject private CurrencyField&lt;BigDecimal&gt; currencyField; @Subscribe private void onInit(InitEvent event) { currencyField.addValidator(value -&gt; { if (value.compareTo(BigDecimal.ZERO) &lt;= 0) throw new ValidationException("Price should be greater than zero"); }); } }</code> </pre> <br><p>  En las aplicaciones del mundo real, un punto de entrada de pantalla generalmente se llena de este tipo de inicializadores de elementos de pantalla.  Para abordar este problema, CUBA proporciona la anotaci√≥n √∫til <code>@Install</code> .  Veamos c√≥mo puede ayudar en nuestro caso: </p><br><pre> <code class="plaintext hljs">@UiController("demo_MyFirstScreen") @UiDescriptor("my-first-screen.xml") public class MyFirstScreen extends Screen { @Inject private CurrencyField&lt;BigDecimal&gt; currencyField; @Install(to = "currencyField", subject = "validator") private void currencyFieldValidator(BigDecimal value) { if (value.compareTo(BigDecimal.ZERO) &lt;= 0) throw new ValidationException("Price should be greater than zero"); } }</code> </pre> <br><p>  De hecho, delegamos la l√≥gica de validaci√≥n de nuestro campo de <em>moneda al</em> m√©todo <em>currencyFieldValidator</em> en nuestra pantalla.  Esto puede parecer un poco complicado, sin embargo, los desarrolladores adoptan esta caracter√≠stica sorprendentemente r√°pido. </p><br><h3 id="screen-builders--notifications--dialogs">  Creadores de pantalla / Notificaciones / Di√°logos </h3><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d7b/b4b/83a/d7bb4b83a2ac4b60988f0a7e59b91dae.png" alt="cuba4"></p><br><p>  CUBA 7 tambi√©n presenta un conjunto de componentes √∫tiles con API fluidas: </p><br><ul><li><p>  <strong>ScreenBuilders</strong> combina f√°bricas fluidas para generar b√∫squedas est√°ndar, editores y pantallas personalizadas.  El siguiente ejemplo muestra c√≥mo puede abrir una pantalla desde otra.  Tenga en cuenta que el m√©todo <em>build ()</em> devuelve la instancia de pantalla del tipo correcto, sin necesidad de emitirlo de forma insegura. </p><br><p>  CurrencyConversions currencyConversions = screenBuilders.screen (this) <br>  .withScreenClass (CurrencyConversions.class) <br>  .withLaunchMode (OpenMode.DIALOG) <br>  .build (); <br>  currencyConversions.setBaseCurrency (Currency.EUR); <br>  currencyConversions.show (); </p><br></li><li><p>  <strong>El</strong> componente <strong>Pantallas</strong> proporciona una abstracci√≥n de nivel inferior para crear y mostrar pantallas en lugar de <em>ScreenBuilders</em> .  Tambi√©n proporciona acceso a la informaci√≥n sobre todas las pantallas abiertas en su aplicaci√≥n CUBA ( <em>Screens # getOpenedScreens</em> ) en caso de que necesite recorrerlas. </p><br></li><li><p>  <strong>Los</strong> componentes de <strong>notificaciones</strong> y <strong>cuadros de di√°logo</strong> presentan interfaces convenientes que se explican por s√≠ mismas.  Aqu√≠ hay un ejemplo para crear y mostrar un di√°logo y una notificaci√≥n: </p><br><p>  dialogs.createOptionDialog () <br>  .withCaption ("Mi primer di√°logo") <br>  .withMessage ("¬øQuieres agradecer al equipo de CUBA?") <br>  .withActions ( <br>  nuevo DialogAction (DialogAction.Type.YES) .withHandler (e -&gt; <br>  notificaciones.create () <br>  .withCaption ("¬°Gracias!") <br>  .withDescription ("Agradecemos a todos los miembros de la comunidad") <br>  .withPosition (Notificaciones.Position.MIDDLE_CENTER) <br>  .withHideDelayMs (3000) <br>  .show ()), <br>  nuevo DialogAction (DialogAction.Type.CANCEL) <br>  ) <br>  .show (); </p><br></li></ul><br><h3 id="data-binding">  Enlace de datos </h3><br><p>  CUBA permite el desarrollo extremadamente r√°pido de interfaces de usuario de backoffice no solo al proporcionar herramientas visuales avanzadas con amplias capacidades de generaci√≥n de c√≥digo, sino tambi√©n mediante un amplio conjunto de componentes conscientes de los datos disponibles de inmediato.  Dichos componentes solo necesitan saber con qu√© datos trabajan y el resto se administrar√° autom√°ticamente, por ejemplo, listas de b√∫squeda, campos de selecci√≥n, varias cuadr√≠culas con operaciones CRUD, etc. </p><br><p>  Antes de la versi√≥n 7, el enlace de datos se implementaba a trav√©s de los llamados or√≠genes de datos, objetos que envuelven una sola entidad o una colecci√≥n de entidades para vincularlos reactivamente con componentes conscientes de los datos.  Este enfoque funcion√≥ muy bien, sin embargo, en cuanto a la implementaci√≥n, fue un monolito.  La arquitectura monol√≠tica generalmente causa problemas con su personalizaci√≥n, por lo que en CUBA 7 esta roca s√≥lida se dividi√≥ en 3 componentes de datos: </p><br><ul><li>  <strong>El cargador de datos</strong> es un proveedor de datos para contenedores de datos.  Los cargadores de datos no guardan datos, simplemente pasan todos los par√°metros de consulta necesarios a un almac√©n de datos y alimentan los contenedores de datos con el conjunto de datos resultante. </li><li>  <strong>El contenedor de datos</strong> mantiene los datos cargados (una sola entidad o varias entidades) y los proporciona a los componentes conscientes de los datos de manera reactiva: todos los cambios de las entidades envueltas se exponen a los componentes de la interfaz de usuario correspondientes y viceversa, todos los cambios en Los componentes de la IU conducir√°n a los cambios correspondientes en su contenedor de datos. </li><li>  <strong>El contexto de datos</strong> es un poderoso administrador de modificaci√≥n de datos que rastrea los cambios y confirma todas las entidades modificadas.  Una entidad puede fusionarse en un contexto de datos, por lo que proporcionar√° una copia de la entidad original con la √∫nica, pero muy importante diferencia: todas las modificaciones de la entidad resultante y todas las entidades a las que hace referencia (incluidas las colecciones) ser√°n rastreados, almacenados y comprometido en consecuencia. </li></ul><br><p>  Los componentes de datos se pueden declarar en descriptores de pantalla o instanciarse mediante programaci√≥n utilizando una f√°brica especializada: <em>DataComponents</em> . </p><br><h3 id="miscellaneous">  Miscel√°neo </h3><br><p>  Ufff, se describen las partes m√°s importantes de las nuevas pantallas API, as√≠ que perm√≠tanme enumerar brevemente otras caracter√≠sticas importantes en el nivel de cliente web: </p><br><ul><li>  <strong>Historial de URL y navegaci√≥n</strong> .  Esta caracter√≠stica resuelve un problema muy com√∫n de SPA con el bot√≥n "volver" en un navegador web, proporciona una manera f√°cil de asignar rutas a las pantallas de aplicaciones y permite que una API refleje el estado actual de una pantalla en su URL. </li><li>  <strong>Formulario en lugar de FieldGroup</strong> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">FieldGroup</a> es un componente de datos para mostrar y modificar campos de una sola entidad.  Infiere la IU real que se muestra para un campo en tiempo de ejecuci√≥n.  En otras palabras, si tiene un campo <em>Fecha</em> en su entidad, se mostrar√° como <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DateField</a></em> .  Sin embargo, si desea operar con este campo mediante programaci√≥n, necesitar√° inyectar este campo en el controlador de pantalla y <em>emitirlo al</em> tipo correcto manualmente ( <em>DateField en nuestro ejemplo</em> ).  M√°s adelante cambiamos nuestro tipo de campo a otro y nuestra aplicaci√≥n se bloquea en tiempo de ejecuci√≥n ... El formulario aborda este problema mediante una declaraci√≥n expl√≠cita de tipo de campo.  Encuentre m√°s informaci√≥n sobre este nuevo componente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </li><li>  <strong>La integraci√≥n de componentes JavaScript de terceros</strong> se simplifica significativamente, siga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la documentaci√≥n</a> para integrar componentes JavaScript personalizados en una aplicaci√≥n CUBA. </li><li>  <strong>Los</strong> atributos <strong>HTML / CSS</strong> ahora se pueden definir f√°cilmente desde el descriptor de pantalla xml o establecer mediante programaci√≥n.  Encuentra m√°s informaci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </li></ul><br><h2 id="middleware-features">  Funciones de middleware </h2><br><p>  El bloque anterior sobre las nuevas pantallas API era m√°s grande de lo que esperaba, ¬°as√≠ que en esta secci√≥n intentar√© estar ordenado! </p><br><h3 id="entity-changed-event">  Evento modificado de entidad </h3><br><p>  Entity Changed Event es un evento de aplicaci√≥n de Spring que se activa cuando su entidad se dirigi√≥ a un almac√©n de datos, se insert√≥ f√≠sicamente y est√° a una pulgada de su confirmaci√≥n.  Aqu√≠ puede proporcionar algunos controles adicionales (por ejemplo, verificar la disponibilidad del producto en stock antes de confirmar un pedido) y modificarlo (por ejemplo, volver a calcular los totales) justo antes de que sea visible para otras transacciones (por supuesto, con un nivel de aislamiento de lectura confirmada).  Tambi√©n puede usar este evento como la √∫ltima oportunidad para interrumpir la confirmaci√≥n de la transacci√≥n lanzando una excepci√≥n, lo que podr√≠a ser √∫til en algunos casos de esquina. </p><br><p>  Tambi√©n hay una manera de detectar el Evento de Entidad Cambiada justo despu√©s de que se haya realizado la confirmaci√≥n. </p><br><p>  Siga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este cap√≠tulo</a> de la documentaci√≥n para ver un ejemplo. </p><br><h3 id="transactional-data-manager">  Administrador de datos transaccionales </h3><br><p>  Al desarrollar una aplicaci√≥n, normalmente operamos con entidades separadas, aquellas que no son administradas por ninguna transacci√≥n.  Sin embargo, no siempre es posible trabajar con entidades separadas, especialmente cuando se trata de cumplir con los requisitos de ACID; este es el caso cuando puede usar el administrador de datos transaccionales.  Se ve muy similar al administrador de datos ordinario, pero difiere en los siguientes aspectos: </p><br><ul><li>  Puede unirse a una transacci√≥n existente (en caso de que se llame en contexto transaccional) o crear su propia transacci√≥n. </li><li>  No tiene m√©todo de <em>confirmaci√≥n</em> , pero existe el m√©todo de guardar, que no conduce a una confirmaci√≥n inmediata, sino que espera hasta que se confirme la transacci√≥n adjunta. </li></ul><br><p>  Encuentre un ejemplo de uso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><h3 id="jpa-lifecycle-callbacks">  JPA Lifecycle Callbacks </h3><br><p>  Finalmente, CUBA 7 admite devoluciones de llamada de ciclo de vida JPA.  Para no replicar una informaci√≥n bien escrita sobre para qu√© se pueden usar estas devoluciones de llamada, perm√≠tanme compartir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este enlace</a> , que cubre completamente el tema. </p><br><h2 id="what-about-compatibility">  ¬øQu√© pasa con la compatibilidad? </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d41/044/292/d410442925950409df8fdab04102dd95.png" alt="cuba5"></p><br><p>  ¬°Una pregunta justa para cualquier lanzamiento importante, especialmente cuando hay tantos cambios aparentemente importantes!  Hemos dise√±ado todas estas nuevas funciones y API teniendo en cuenta la compatibilidad con versiones anteriores: </p><br><ul><li>  La antigua API de pantallas es compatible con CUBA 7 y se implementa a trav√©s de la nueva bajo el cap√≥ :) </li><li>  Tambi√©n hemos proporcionado adaptadores para el enlace de datos antiguo, que siguen funcionando para las pantallas antiguas. </li></ul><br><p>  Entonces, buenas noticias, la ruta de migraci√≥n de la versi√≥n 6 a la 7 deber√≠a ser bastante sencilla. </p><br><h2 id="conclusion">  Conclusi√≥n </h2><br><p>  Concluyendo esta descripci√≥n t√©cnica, me gustar√≠a mencionar que hay otras innovaciones importantes, especialmente con las licencias: </p><br><ul><li>  El l√≠mite de 10 entidades para Studio ahora se ha ido </li><li>  Los complementos de informes, BPM, gr√°ficos y mapas y b√∫squeda de texto completo ahora son gratuitos y de c√≥digo abierto. </li><li>  La versi√≥n comercial de Studio brinda comodidad de desarrollo adicional con dise√±adores visuales para entidades, pantallas, men√∫s y otros elementos de la plataforma, mientras que la versi√≥n gratuita se enfoca en trabajar con c√≥digo </li><li>  ¬°Tenga en cuenta que para las versiones 6.xy anteriores de los t√©rminos de licencia de Platform y Studio siguen siendo los mismos! </li></ul><br><p>  Finalmente, perm√≠tanme agradecer nuevamente a los miembros de la comunidad por todo el apoyo y los comentarios.  ¬°Espero que te encante la versi√≥n 7!  La lista completa de cambios est√° tradicionalmente disponible en las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">notas de</a> la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">versi√≥n</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/444558/">https://habr.com/ru/post/444558/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../444548/index.html">Experiencia personal: c√≥mo participamos en la promoci√≥n de startups hispanas en Am√©rica Latina</a></li>
<li><a href="../444550/index.html">A la cuesti√≥n de la divisi√≥n</a></li>
<li><a href="../444552/index.html">TDMS Fairway. Trabaja con experiencia</a></li>
<li><a href="../444554/index.html">La API RESTful JSON m√°s simple en Elixir</a></li>
<li><a href="../444556/index.html">El color de la luna y el sol desde el espacio en los valores de RGB y temperatura de color.</a></li>
<li><a href="../444560/index.html">Te invitamos a la conferencia "Nubes. Tendencias de la moda ‚Äù26 de marzo de 2019</a></li>
<li><a href="../444562/index.html">Modernizaci√≥n de GHIDRA. Cargador para ron Sega Mega Drive</a></li>
<li><a href="../444564/index.html">Desarrollo de productos digitales con modelos mentales</a></li>
<li><a href="../444566/index.html">Sikorsky realiz√≥ una demostraci√≥n de un helic√≥ptero no tripulado con un hombre a bordo</a></li>
<li><a href="../444568/index.html">Los 10 errores principales de los proyectos de C ++ encontrados en 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>