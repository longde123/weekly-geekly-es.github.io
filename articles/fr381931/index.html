<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìá üå† üè™ Curseur vid√©o timelapse motoris√© üêÖ üôÜüèæ üí∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'id√©e de r√©aliser un slider vid√©o, mais aussi motoris√©, m'est venue √† l'esprit en ao√ªt 2014. √Ä ce moment-l√†, je tournais des paysages √©toil√©s tous le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curseur vid√©o timelapse motoris√©</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/381931/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'id√©e de r√©aliser un slider vid√©o, mais aussi motoris√©, m'est venue √† l'esprit en ao√ªt 2014. √Ä ce moment-l√†, je tournais des paysages √©toil√©s tous les soirs depuis plus d'un an et j'ai d√©cid√© de m'essayer au timelapse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En timelapse "la vivacit√© de l'image" est toujours appr√©ci√©e! Dans la plupart des cas, le changement d'images faites sur une cam√©ra mont√©e statiquement n'affecte pas le spectateur aussi efficacement que le m√™me trac√©, mais d√©j√† tourn√© sur une cam√©ra en mouvement dans l'espace. La composition de la vid√©o est remplie de dynamiques illimit√©es, laissant une bonne impression sur la vid√©o!</font></font><br>
<br>
<img src="https://habrastorage.org/files/7e0/a5e/8c5/7e0a5e8c59944417b231495e413fe7fa.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'en est-il des ventes de ces √©quipements? Aucun probl√®me! Ce sont juste des prix cosmiques qui font peur ... En train de chercher des options, qu'elles soient de marque ou chinoises, vous concluez que le concept de "slider motoris√© budget" n'existe pas dans la nature! L'option budg√©taire est uniquement si vous la concevez vous-m√™me! C'est exactement ce que j'ai fait!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je n'ai pas commenc√© √† fabriquer le curseur tout de suite, jusqu'√† ce que je trouve un moyen de sortir, comment fabriquer un rail √† bon march√©! Tout a commenc√© avec elle. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le magasin de meubles, j'ai achet√© des guides pour les garnitures de meubles et des rouleaux pour eux. </font></font><br>
<br>
<img src="https://habrastorage.org/files/b50/cc0/28a/b50cc028ae3e411a904e7326e5dec307.jpg"><br>
<br>
<img src="https://habrastorage.org/files/1d6/6e8/1d8/1d66e81d8b714dbc8ed15b4997771221.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la base des rails, j'ai pris la r√®gle de construction en aluminium de 1,5 m de long, disponible √† la ferme (le niveau int√©gr√© aide √† installer en douceur le curseur). √Ä l'aide d'une perceuse, de rivets d'√©chappement, ainsi que d'inserts en contreplaqu√© aux deux extr√©mit√©s de la r√®gle, un rail de 2 m√®tres de long a √©t√© fabriqu√© en quelques heures seulement. </font></font><br>
 <br>
<img src="https://habrastorage.org/files/6c0/5f8/634/6c05f86342cc4bf59c3a7414173f4dfa.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela reste le cas pour le transport. Je l'ai fabriqu√© en plexiglas durable. Les rouleaux √©taient fix√©s avec des boulons et des √©crous marqu√©s M6.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a51/2b1/0d8/a512b10d8f65478f83677bf8ed52aead.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier test a malheureusement √©chou√©. </font><font style="vertical-align: inherit;">Le chariot roulait par √†-coups, et sur la vid√©o, c'√©tait tr√®s visible (rebond en douceur de haut en bas). </font><font style="vertical-align: inherit;">Tout cela est d√ª aux rouleaux qui ne sont normalement pas centr√©s sur la production (bien que le vendeur ait d√©clar√© que les accessoires sont italiens). </font><font style="vertical-align: inherit;">La solution consiste √† bloquer toutes les roues. </font><font style="vertical-align: inherit;">Maintenant, ils jouent le r√¥le de paliers lisses. </font><font style="vertical-align: inherit;">Le chariot a commenc√© √† glisser lin√©airement sur le rail! </font></font><br>
<br>
<img src="https://habrastorage.org/files/28b/f3b/a98/28bf3ba984ea43eb931fc0c291eaa5f5.jpg"><br>
<br>
<img src="https://habrastorage.org/files/708/1f3/f9c/7081f3f9ce814106890142c1de3f77b1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour maintenir le rail sur des tr√©pieds, deux plates-formes de tr√©pied y √©taient fix√©es. </font><font style="vertical-align: inherit;">Ici, ils sont faits maison, en contreplaqu√©. </font><font style="vertical-align: inherit;">Fix√© avec boulons et √©crous M6.</font></font><br>
<br>
<img src="https://habrastorage.org/files/040/53c/73a/04053c73af60455db7b041c4c0197c4a.jpg"><br>
<br>
<img src="https://habrastorage.org/files/f5b/6fd/a19/f5b6fda1919a48a9b03e640d2d5ba4f1.jpg"><br>
<br>
<img src="https://habrastorage.org/files/c51/e61/85e/c51e6185e0bb41dda79ef5716c84bdb9.jpg"><br>
<br>
<img src="https://habrastorage.org/files/3ff/423/f92/3ff423f92de143ffa1134907509dfc73.jpg"><br>
<br>
<img src="https://habrastorage.org/files/62d/eab/da3/62deabda3b314ebdbd2adb19e86b8ba4.jpg"><br>
<br>
<img src="https://habrastorage.org/files/25e/1e5/313/25e1e531303347efba5105c924800b60.jpg"><br>
<br>
<img src="https://habrastorage.org/files/c4a/ed0/099/c4aed00990e44985b053f02786b25684.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âlectricien</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que je voulais faire au d√©part? Au d√©but, il √©tait pr√©vu d'utiliser un lecteur pour le chariot. Pour ce faire, il vous suffit d'un moteur √† couple √©lev√©, d'une batterie et d'un microcircuit pour contr√¥ler la vitesse. Pour la premi√®re fois, j'ai d√©couvert les servos et j'ai d√©cid√© de l'int√©grer √† mon projet. La puce √©tait un servo-testeur qui peut contr√¥ler la vitesse du servo. De quoi as-tu besoin! Besoin de prendre! Mais nous ne sommes pas press√©s ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une connaissance plus approfondie du servo variateur est venue avec un concept comme Arduino. Et c'est bien! Une fois de plus, j'ai r√©fl√©chi au projet et j'ai d√©cid√© que dans le curseur, je n'avais pas besoin d'un mouvement de chariot constant, mais d'un intervalle. Apr√®s tout, les mouvements pendant l'exposition (photographie de nuit - expositions longues) peuvent rejeter le cadre avec un flou.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et comme je disposerai d'une telle unit√© de commande intelligente, j'ai d√©cid√© de compl√©ter mon curseur avec un autre m√©canisme √©galement. </font><font style="vertical-align: inherit;">En plus de se d√©placer le long des rails, la cam√©ra pivote √©galement autour d'un axe vertical. </font><font style="vertical-align: inherit;">Le design peut √™tre appel√© "curseur vid√©o avec un astrotracker √† bord". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, il a √©t√© achet√©:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microcontr√¥leur Arduino UNO R3</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servo TowerPro MG995 13kg / cm</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Moteur pas √† pas 28byj-48-5v + Driver ULN2003</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, j'ai fait le montage du servo sur le rail √† partir du m√™me plexiglas. </font></font><br>
<br>
<img src="https://habrastorage.org/files/e05/377/874/e053778748204e50addefcbf0a1a81b1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le chariot et le servo √©taient reli√©s par un fil inextensible, qui est enroul√© sur son arbre. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La cam√©ra est </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tourn√©e √† l'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aide d'un moteur pas √† pas </font><b><font style="vertical-align: inherit;">28byj-48</font></b><font style="vertical-align: inherit;"> , qui est mont√© sur un engrenage √† vis sans fin 1/55. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a60/a78/d12/a60a78d124c547eba714e86a7a14b37f.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai d√©cid√© de fabriquer un √©tui pour Arduino et d'autres composants √©lectriques en plexiglas. J'ai tout coll√© avec de la superglue, bien qu'ils utilisent g√©n√©ralement une colle sp√©ciale pour ce mat√©riau, qui soudent les pi√®ces les unes aux autres et ne les d√©chirent pas. Pour connecter les moteurs √† l'unit√© de contr√¥le, j'ai fabriqu√© deux c√¢bles, sur lesquels j'ai utilis√© des connecteurs m√¢les sovi√©tiques fiables et √©prouv√©s de type </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DIN 5 PIN</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/files/8b7/9bc/0cd/8b79bc0cde1f40ec873da0aadb0966a9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'alimentation est fournie via un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">connecteur CC standard</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Batterie: 7,2 V, 2250 mAh</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/files/47b/506/78e/47b50678ec464c19b6675c9293448eb9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
premier temps de test √©lectrique! Nous connectons les moteurs, alimentons, installons la cam√©ra, y connectons la t√©l√©commande, la configurons pour Arduino: vitesse d'obturation 30 sec, intervalle 5 sec. Nous appuyons simultan√©ment sur la t√©l√©commande et sur Arduino. Nous attendons ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En moins de cinq minutes, l'asynchronie a √©t√© d√©couverte dans le travail. Le moteur principal a commenc√© √† tourner lorsque l'obturateur √©tait encore ouvert. Le truc c'est la t√©l√©commande: elle ne compte pas le temps correctement. Si en temps r√©el 30 secondes s'√©coulent, le compteur de la t√©l√©commande ne comptera que 28-29 secondes. Il ralentit. Peut-√™tre en raison du fait que le chinois ou pour une autre raison (il sera int√©ressant d'apprendre de vous pourquoi). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour √©viter cela, vous devez tout faire sur la base d'un syst√®me - Arduino. Mais comment contr√¥ler l'obturateur de l'appareil photo via Arduino?</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google √† nouveau pour vous aider! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adaptateur de</font></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/files/0ab/209/fac/0ab209fac50c4989bb935ac9ad8df36d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
t√©l√©commande </font><font style="vertical-align: inherit;">: l' </font><b><font style="vertical-align: inherit;">adaptateur de</font></b><font style="vertical-align: inherit;"> t√©l√©commande est connect√© √† une extr√©mit√© √† l'appareil photo et l'autre (prise 2.5) au fil de la t√©l√©commande. Jack 2.5 a trois contacts, et du principe de la t√©l√©commande de l'appareil photo, j'ai appris que pour d√©clencher l'obturateur, deux de ces trois contacts doivent √™tre ferm√©s. Apr√®s avoir essay√© plusieurs combinaisons, j'ai trouv√© que √ßa marche! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai fait un c√¢ble √† deux conducteurs, dont une extr√©mit√© a une prise jack 2,5 pour la m√®re et est connect√©e via cet adaptateur de la t√©l√©commande √† l'appareil photo, l'autre extr√©mit√© va √† l'unit√© de contr√¥le. √Ä l'int√©rieur, je suis venu avec l'aide d'un bouton m√©canique pour fermer ces deux veines. Il est compos√© d'un micro servo et d'un bouton de contact. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un micro-servo √† bascule</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> appuie sur un bouton d'horloge √† un certain moment, fermant ainsi deux contacts, et l'appareil photo prend une photo:</font></font><br>
<br>
<img src="https://habrastorage.org/files/555/4c3/a76/5554c3a76de24bb59f56416de061ab4f.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√¢ble principal: c√¢ble √† </font></font></b><br>
<br>
<img src="https://habrastorage.org/files/984/058/9b0/9840589b00bf4869bab6867ed52e4a9f.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deux conducteurs + adaptateur √† distance: √†</font></font></b><br>
<br>
<img src="https://habrastorage.org/files/b11/13e/7a3/b1113e7a3ea34214b7f727752087af64.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
la fin de l'automne, quand il y a un petit cong√©lateur, j'ai d√©cid√© de tester le curseur et j'ai trouv√© un autre d√©faut: m√™me √† + 2 ¬∞ C, le servo principal a refus√© de fonctionner. Cela √©tait d√ª √† l'√©paississement de la lubrification des engrenages. Apr√®s 5 √† 10 minutes, le servo est rest√© √† cette temp√©rature. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus tard, d√©j√† en vrai hiver, quand il y avait des gel√©es jusqu'√† -10 ¬∞ C, le micro servo s'est √©galement fait sentir! Bien qu'√† la m√™me temp√©rature √† + 2 ¬∞ C, dans laquelle le grand </font><b><font style="vertical-align: inherit;">MG995 a</font></b><font style="vertical-align: inherit;"> cess√© de fonctionner</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, le bouton m√©canique a fonctionn√© de mani√®re stable et n'a suscit√© aucune plainte. Apparemment, cela est d√ª au fait qu'elle √©tait dans un bo√Ætier avec un Arduino, qui ne permettait pas √† un micro moteur de geler rapidement dessus. Ensuite, le bouton a bien fonctionn√©, mais maintenant le signal de d√©clenchement de l'obturateur n'a pas √©t√© envoy√© √† chaque fois, et ce n'est pas ce dont nous avons besoin. J'ai d√ª modifier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bient√¥t, il a trouv√© une solution pour le d√©clenchement du moteur et de l'obturateur. J'ai achet√© un moteur pas √† pas bipolaire comme Nema 17 et un gros pilote fait maison chez le vendeur. Et aucun gel n'est d√©sormais un obstacle! </font></font><br>
<br>
<img src="https://habrastorage.org/files/b00/550/68d/b0055068da384ac1a7edfbaf3a513021.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai √©galement utilis√© ce moteur pas √† pas en conjonction avec une bo√Æte de vitesses 1/55 similaire, √† propos de laquelle j'ai √©crit ci-dessus. Le c√¢ble est enroul√© sur une bobine.</font></font><br>
<br>
<img src="https://habrastorage.org/files/1b9/70d/27c/1b970d27ca4e47e39a4b3d977c89bd4e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai r√©solu le probl√®me du bouton en lisant un article sur Internet sur un intervalom√®tre maison pour une cam√©ra bas√©e sur Arduino. L√†, un transistor conventionnel a √©t√© utilis√© pour fermer le circuit (deux contacts). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je me suis √©galement d√©barrass√© d'un √©norme pilote fait maison, qui a √©t√© brutalement chauff√© en raison du courant √©lev√© qu'il contient et qui pourrait simplement √©chouer au mauvais moment. Le remplacer ensuite par le c√©l√®bre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EasyDriver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , j'ai eu la possibilit√© d'ajuster le courant dans le pilote en raison de la r√©sistance de r√©glage. La force du courant affecte proportionnellement le couple moteur. Il s'agit ici de moins de la moiti√© de la norme maximale, car une bo√Æte de vitesses √† vis sans fin avec un grand rapport d'engrenage est utilis√©e. Le chauffeur a commenc√© √† se r√©chauffer beaucoup moins. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aussi dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EasyDriver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il est possible d'organiser facilement un "mode veille" lorsque le conducteur est √©teint et ne consomme pas de courant au moment de maintien du moteur - le moteur est compl√®tement √©teint. </font><font style="vertical-align: inherit;">La possibilit√© de diviser l'√©tape n'est pas non plus une fonctionnalit√© suppl√©mentaire! </font><font style="vertical-align: inherit;">Maintenant, sans aucun probl√®me, vous pouvez faire une copie relativement identique de l'unit√© de contr√¥le √† partir de composants achet√©s en magasin! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, il y a beaucoup plus d'espace dans le bo√Ætier qu'il ne l'√©tait. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AVANT </font></font></b><br>
<br>
<img src="https://habrastorage.org/files/c08/5bf/5d8/c085bf5d8bf4497f80a62a6925dd9dcb.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APR√àS</font></font></b><br>
<br>
<img src="https://habrastorage.org/files/65f/fd7/0b5/65ffd70b5fca42c99e47ea026a1cd324.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temps</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai pass√© la majeure partie de celui-ci √† apprendre la programmation en Arduino. </font><font style="vertical-align: inherit;">Et m√™me maintenant, mon croquis peut √™tre modifi√©. </font><font style="vertical-align: inherit;">Il n'y a qu'un seul probl√®me. </font><font style="vertical-align: inherit;">Je ne peux pas faire en sorte qu‚Äôappuyer sur le bouton de l‚Äôhorloge permute le mode de fonctionnement et reste constamment sur l‚Äôun d‚Äôeux. </font><font style="vertical-align: inherit;">Les modes ne diff√®rent que par le temps d'exposition. </font><font style="vertical-align: inherit;">L'intervalle est toujours le m√™me et √©gal √† 3,5 secondes. </font><font style="vertical-align: inherit;">J'ai beaucoup essay√©, mais tant qu'il y a une telle option. </font><font style="vertical-align: inherit;">Je l'ai √©crit √† la fin de l'hiver et √ßa me convient. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est simple: la vitesse d'obturation est r√©gl√©e et √©quivaut √† la p√©riode de temps qui s'est √©coul√©e entre le moment o√π le programme a commenc√© et le moment d'une seule pression sur le bouton de l'horloge. </font><font style="vertical-align: inherit;">Pour le changer, vous devez red√©marrer Arduino. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esquisser:</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Stepper.h&gt;</span></span>
<span class="hljs-keyword">int</span> Distance = <span class="hljs-number">0</span>; 
<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STEPS_MOTOR 32   </span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STEPS_OUTPUT 32 * 64  <span class="hljs-comment">// = 2048</span></span>
<span class="hljs-function">Stepper <span class="hljs-title">stepper2</span><span class="hljs-params">(STEPS_MOTOR, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>)</span></span>;<font></font>
<font></font>
<span class="hljs-keyword">int</span>  steps;
<span class="hljs-keyword">int</span> button = <span class="hljs-number">12</span>;
<span class="hljs-keyword">int</span> previousMillis = <span class="hljs-number">0</span>; 
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{<font></font>
  pinMode(<span class="hljs-number">13</span>, OUTPUT);     <font></font>
  pinMode(<span class="hljs-number">12</span>, INPUT);<font></font>
  pinMode(<span class="hljs-number">2</span>, OUTPUT);     <font></font>
  pinMode(<span class="hljs-number">3</span>, OUTPUT);<font></font>
  pinMode(<span class="hljs-number">7</span>, OUTPUT);<font></font>
<font></font>
 <font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{ <font></font>
     <font></font>
   <span class="hljs-keyword">if</span> (digitalRead(<span class="hljs-number">12</span>) == HIGH)<font></font>
     { <font></font>
     <font></font>
     <font></font>
      <font></font>
       previousMillis = millis();     <font></font>
<font></font>
<span class="hljs-keyword">int</span> x = <span class="hljs-built_in">map</span>(previousMillis,<span class="hljs-number">60000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">78</span>, <span class="hljs-number">0</span>);<font></font>
<font></font>
<font></font>
 a:<font></font>
 <font></font>
digitalWrite(<span class="hljs-number">2</span>, HIGH);<font></font>
  digitalWrite(<span class="hljs-number">3</span>, LOW);<font></font>
<font></font>
 { <font></font>
   digitalWrite(<span class="hljs-number">3</span>, HIGH);<font></font>
  delayMicroseconds(<span class="hljs-number">552</span>);          <font></font>
  digitalWrite(<span class="hljs-number">3</span>, LOW); <font></font>
  delayMicroseconds(<span class="hljs-number">552</span>);<font></font>
  Distance = Distance + <span class="hljs-number">1</span>; <font></font>
  <font></font>
<font></font>
  <span class="hljs-keyword">if</span> (Distance == <span class="hljs-number">3620</span>)<font></font>
  {<font></font>
    <span class="hljs-keyword">if</span> (digitalRead(<span class="hljs-number">2</span>) == HIGH)<font></font>
    {<font></font>
      digitalWrite(<span class="hljs-number">2</span>, HIGH);<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
      digitalWrite(<span class="hljs-number">2</span>, LOW);<font></font>
    }<font></font>
   <font></font>
   <font></font>
 digitalWrite(<span class="hljs-number">2</span>, LOW);<font></font>
 digitalWrite(<span class="hljs-number">3</span>, LOW);  <font></font>
                   <font></font>
 steps = STEPS_OUTPUT;<font></font>
  stepper2.setSpeed(<span class="hljs-number">161.25</span>);     <span class="hljs-comment">// 500 ms</span><font></font>
  stepper2.step(steps = - x);                                    <font></font>
                      <font></font>
digitalWrite(<span class="hljs-number">8</span>, LOW);<font></font>
digitalWrite(<span class="hljs-number">10</span>, LOW);<font></font>
digitalWrite(<span class="hljs-number">9</span>, LOW);<font></font>
digitalWrite(<span class="hljs-number">11</span>, LOW);  <font></font>
   <font></font>
  <font></font>
   delay(<span class="hljs-number">500</span>);                   <span class="hljs-comment">// 500 ms</span><font></font>
<font></font>
<font></font>
digitalWrite(<span class="hljs-number">13</span>, HIGH);  <font></font>
  digitalWrite(<span class="hljs-number">7</span>, HIGH);   <font></font>
  delay(<span class="hljs-number">50</span>);                     <span class="hljs-comment">// 50 ms</span>
 digitalWrite(<span class="hljs-number">7</span>, LOW);     <font></font>
  digitalWrite(<span class="hljs-number">13</span>, LOW);    <font></font>
delay(previousMillis<span class="hljs-number">-3050</span>);             <span class="hljs-comment">// inerval = x-3500 ms</span>
  Distance = <span class="hljs-number">0</span>;<font></font>
}<font></font>
}<font></font>
<span class="hljs-keyword">goto</span> a;<font></font>
}}<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation du curseur</font></font></h4><br>
<img src="https://habrastorage.org/files/59f/eb0/902/59feb0902e0b4875a35feec6c47da1c8.jpg"><br>
<br>
<img src="https://habrastorage.org/files/8c8/051/c07/8c8051c07768419ca33e67bf4874e83e.jpg"><br>
<br>
<img src="https://habrastorage.org/files/cfa/0d7/b3c/cfa0d7b3c7454de7bce351843c425d13.jpg"><br>
<br>
<img src="https://habrastorage.org/files/fc3/1a6/51d/fc31a651da6f4e128030f1622cf46def.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout est connect√©. </font><font style="vertical-align: inherit;">Le curseur est pr√™t √† partir!</font></font></h4><br>
<br>
<img src="https://habrastorage.org/files/c22/e30/8f5/c22e308f575c496b92fe2bce090115d6.jpg"><br>
<br>
<img src="https://habrastorage.org/files/7eb/17b/d43/7eb17bd43a3441e6bd41fbed060ef53e.jpg"><br>
<br>
<img src="https://habrastorage.org/files/0d9/2c6/bda/0d92c6bda0344f5db03e9e565d71e1b6.jpg"><br>
<br>
<img src="https://habrastorage.org/files/913/402/fc0/913402fc0ffa44fd9c813fb8bae5a006.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©sultats</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce que je pense: Pour </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
le moment, le curseur est pr√™t √† l'emploi et remplit pleinement son objectif, mais il y a certaines nuances que je voudrais finaliser √† l'avenir. Presque tous appartiennent √† la voiture. Je pense que vous l'avez remarqu√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons besoin d'un m√©canisme plus fiable pour tenir "l'astrotracker". L'axe de son arbre doit toujours √™tre perpendiculaire au sol. La t√™te de tr√©pied de marque donnera √† mon design un aspect encore plus esth√©tique qui a √©t√© con√ßu √† l'origine par moi! Quant √† l'√©lectronique: c'est comme √ßa que √ßa me convient ici, m√™me le sketch sur Arduino! En tout cas, j'ai d√©j√† atteint le r√©sultat pr√©vu! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple purement technique du slider (hiver, f√©vrier, -15 ¬∞ C):</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/3xXw4dfL3fM&amp;usg=ALkJrhh2U6Bu1qMwqzqANfC4K6HSn3v11Q" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le co√ªt de ce curseur vid√©o est inf√©rieur √† 100 $, sans compter le co√ªt de deux tr√©pieds. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci pour l'attention! </font><font style="vertical-align: inherit;">Bonne chance √† tous en maison!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr381931/">https://habr.com/ru/post/fr381931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr381917/index.html">Culturisme pour un pigiste</a></li>
<li><a href="../fr381919/index.html">L'√®re des innovateurs en s√©rie</a></li>
<li><a href="../fr381923/index.html">Brevet de mod√®le d'utilit√©: √©tapes</a></li>
<li><a href="../fr381927/index.html">Pluton a d√©couvert une puissante couche atmosph√©rique et l'absence de magn√©tosph√®re</a></li>
<li><a href="../fr381929/index.html">Concept: moonshine - enti√®rement automatique</a></li>
<li><a href="../fr381935/index.html">Des scientifiques de l'√©quipe New Horizons r√©pondent aux questions des utilisateurs de reddit (partie 2)</a></li>
<li><a href="../fr381937/index.html">Application Top Story - des nouvelles qui vous aiment</a></li>
<li><a href="../fr381939/index.html">Vibe Shot: le premier t√©l√©phone-appareil photo de Lenovo en action</a></li>
<li><a href="../fr381941/index.html">Le co-fondateur Mail.ru investira 100 millions de dollars dans la recherche d'√©trangers</a></li>
<li><a href="../fr381943/index.html">Inertie de la pens√©e. Progr√®s scientifique et social contre le conservatisme</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>