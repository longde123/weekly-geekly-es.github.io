<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôÇÔ∏è üåô üßõüèº Como fazer amigos ind√∫stria e big data üëª ü§¶ üç•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Um dia, um especialista em digitaliza√ß√£o chega √† f√°brica. Ele andou por aqui, andou at√© l√°, franziu a testa e disse: ‚ÄúEu sei como voc√™ pode otimizar a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como fazer amigos ind√∫stria e big data</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/croc/blog/466933/">  Um dia, um especialista em digitaliza√ß√£o chega √† f√°brica.  Ele andou por aqui, andou at√© l√°, franziu a testa e disse: ‚ÄúEu sei como voc√™ pode otimizar algo aqui.  Voc√™ salvar√° especificamente!  Apenas me d√™ acesso a esses dados de produ√ß√£o. ‚Äù  Em resposta, a planta encolhe os ombros.  ‚ÄúAqui temos um analista de vendas.  H√° algo a dizer sobre as turbinas - turbinas Siemens muito inteligentes.  E para o resto do equipamento, n√£o houve nada desova. <br><br>  Voc√™ l√™ uma miniatura sobre o conflito de dois mundos - ind√∫stria e an√°lise.  Somos do √∫ltimo, e aqui est√° como isso nos parece: por um lado, protocolos de troca de dados com um grande n√∫mero de d√≠gitos no nome que foram criados para o gerenciamento de equipamentos e inacess√≠veis aos mortais comuns.  Por outro lado - sistemas anal√≠ticos, relat√≥rios bonitos, pain√©is convenientes e outras comodidades. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa0/eb8/131/fa0eb8131cfb71acc72d53759c70dbf8.jpg"><br>  <i>Nem toda produ√ß√£o atingiu um alto n√≠vel tecnol√≥gico.</i>  <i>Mas todo mundo precisa de ajuda.</i>  <i>Na foto um quadro do filme "Planta".</i> <br><br>  Neste post, mostraremos como tentamos criar um rosto humano (segundo os padr√µes de um simples cientista de dados) - para permitir aos analistas de neg√≥cios processar dados industriais e usar belos relat√≥rios de BI. <br><a name="habracut"></a><br><h2>  O que temos agora </h2><br>  Recentemente, est√°vamos visitando uma empresa de processamento de g√°s.  A empresa √© grande, combina v√°rias f√°bricas.  Entramos na sala de controle.  Tudo est√° muito bem equipado l√°: cada despachante tem de 6 a 8 monitores e h√° um enorme plasma nas paredes.  Esse √© apenas o conte√∫do desses plasmas ... deixa muito a desejar.  Um mapa de apar√™ncia estranha, flechas est√∫pidas, no topo desta janela do Windows que sobreviveu √† terr√≠vel tortura e mostra alguns n√∫meros. <br><br>  "Por que t√£o vyrviglaznoe?"  - perguntamos.  "√â o melhor que podemos extrair de nossos sistemas industriais", ouvimos em resposta.  O tempo de resposta do despachante a um incidente geralmente n√£o deve exceder 30 segundos, mas com essa interface n√£o √© f√°cil encontrar.  N√£o h√° BI aqui e n√£o cheira. <br><br>  Outra hist√≥ria sem interface.  Os cientistas de dados chegam √† f√°brica e dizem: "Forne√ßa esses dados sobre sua instala√ß√£o e podemos prever os problemas com 95% de precis√£o".  Bem, pelo menos eles prometem isso.  Eles acenam para a f√°brica e, para os cientistas de dados, o roteiro come√ßa nas melhores tradi√ß√µes de Kafka.  Coleta de dados pontuais.  De acordo com cem sistemas.  Para cada um, voc√™ precisa escrever cinco instru√ß√µes.  Anexe uma biografia pessoal e linhagem ao quinto joelho.  Passe em todas as an√°lises, anexe-as a um ensaio sobre um t√≥pico gratuito e capte o bom humor do chefe.  E s√≥ ent√£o podemos contar com sucesso.  Mais precisamente, esperan√ßa. <br><br><h2>  An√°lise de f√°brica </h2><br>  Para resolver problemas como os descritos acima, voc√™ precisa fazer amizades do setor com an√°lises.  Para isso, estamos construindo um sistema √∫nico com uma arquitetura <b>integrada</b> .  Esse sistema pode trabalhar com tipos completamente diferentes de dados e resolver problemas anal√≠ticos com base.  Estamos construindo um <i>sistema com uma arquitetura integrada</i> , e n√£o algo universal, porque os sistemas universais resolvem os problemas da mesma forma.  Em uma arquitetura complexa, combinamos ferramentas de an√°lise de diferentes tipos de dados.  Aqui est√° o que pode parecer: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/68e/56a/bc3/68e56abc39968e4b13393ebb7e8f2df6.png"><br><br>  Existem muitos tipos de dados em produ√ß√£o.  Existem dados relacionais cl√°ssicos de sistemas de neg√≥cios e sistemas de contabilidade.  Existem dados dos sensores do equipamento - s√©ries temporais.  Existem eventos da an√°lise de v√≠deo - eles s√£o colocados em um dataleyk e o monitoramento integrado √© feito neles (agora esse √© um t√≥pico popular).  Existem registros de sistemas comerciais que precisam ser indexados para processamento adicional (usamos o Apache Solr) para obter uma imagem real do que est√° acontecendo na produ√ß√£o, levando em considera√ß√£o as c√¢meras de vigil√¢ncia e para avaliar como os operadores respondem a determinados eventos.  E isso n√£o √© tudo, cada produ√ß√£o tem sua pr√≥pria combina√ß√£o de requisitos.  E, no final, todo o trabalho com dados deve ser conectado em um √∫nico ecossistema, o que permitir√° coletar dados em um armazenamento centralizado com configura√ß√µes de acesso flex√≠veis e ferramentas de an√°lise comuns. <br><br>  Recentemente, tivemos um projeto: organizar o monitoramento do modo tecnol√≥gico da planta, bem como a qualidade das mat√©rias-primas.  O sistema de monitoramento deve monitorar em tempo real todos os indicadores importantes e compar√°-los com os padr√µes usando f√≥rmulas muito originais.  Fazemos an√°lises laboratoriais de mat√©rias-primas de um banco de dados e indicadores de desempenho de equipamentos de outro. <br><br>  Como resultado, o operador obt√©m uma imagem abrangente do que est√° acontecendo em sua instala√ß√£o: no que voc√™ precisa prestar aten√ß√£o, vale a pena interromper o trabalho e qual a sua gravidade.  Para cada desvio do trabalho normativo, o operador deve corrigir a causa da falha.  Assim, a base de conhecimento sobre incidentes aumentou. <br><br>  Ao mesmo tempo, todas as an√°lises s√£o exibidas atrav√©s de um belo e conveniente sistema de BI.  Ele permite n√£o apenas criar relat√≥rios simples, mas tamb√©m criar pain√©is de informa√ß√µes compreens√≠veis e intuitivos (pain√©is).  E esse √© outro argumento por que √© t√£o importante fazer com que os dados industriais sejam amigos dos sistemas anal√≠ticos.  Por raz√µes da NDA, n√£o podemos mostrar pain√©is deste projeto, mas, por outro lado, fornecemos exemplos p√∫blicos de abordagens para visualizar sistemas de BI e sistemas industriais. <br><br>  Aqui est√° a apar√™ncia dos relat√≥rios de BI: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c72/060/927/c72060927e99de262122ce459e7f9877.png"><br><br>  E aqui est√° a interface SCADA: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/581/30c/379/58130c3790cf68b61e605231e87c0565.jpg"><br><br>  Como parte do desenvolvimento de nossa plataforma, estamos considerando conectar an√°lises preditivas, o que revela padr√µes causais.  Diferentes raz√µes levam a diferentes cen√°rios.  Por exemplo, m√° qualidade das mat√©rias-primas ou ajuste inadequado do equipamento ap√≥s a manuten√ß√£o programada pode levar a uma diminui√ß√£o na qualidade do produto final ou falha do equipamento. <br><br>  Um dos principais requisitos para um sistema de an√°lise √© a velocidade com que as informa√ß√µes s√£o recebidas.  Esta √© a cole√ß√£o de telemetria de sensores e o c√°lculo de indicadores (plano / fato de indicadores de agrega√ß√£o para a oficina) em modo quase em tempo real.  Isso permite ajustar o gerenciamento operacional da produ√ß√£o. <br><br>  Algo assim funciona em um admir√°vel mundo novo.  Mas, na realidade, existem nuances. <br><br><h2>  An√°lise de dados industriais ou dor de cabe√ßa da intelig√™ncia de neg√≥cios na produ√ß√£o </h2><br>  Como reduzir dados de sistemas industriais (que ningu√©m realmente coleta) de uma forma conveniente para an√°lise de dados?  Um dos protocolos padr√£o para dados industriais √© o OPC DA / HDA.  Parece estar aberto, mas apenas membros do cons√≥rcio t√™m acesso √†s suas especifica√ß√µes.  A associa√ß√£o ao cons√≥rcio √© cara e n√£o existem implementa√ß√µes abertas est√°veis ‚Äã‚Äãdeste protocolo. <br><br>  Para <i>conectar esse e outros protocolos industriais aos modernos sistemas de an√°lise</i> , criamos gateways para cada protocolo.  Isso √© feito por uma equipe separada de solu√ß√µes industriais.  O grande n√∫mero de n√∫meros nos nomes dos protocolos os inspira.  A equipe tem experi√™ncia em escrever conectores industriais (por exemplo, usando o protocolo OPC DA / HDA, usando o PI SDK, etc.). <br><br>  Mas, <i>para conectar protocolos industriais ao mundo do big data,</i> usamos o Apache NiFi - uma ferramenta do ecossistema Hadoop que permite implementar a integra√ß√£o no modo de processamento de streaming. <br><br>  Com a constru√ß√£o dessa ponte mais importante entre o setor e a an√°lise, conseguimos resolver o problema na familiar pilha Hadoop.  Em projetos industriais, geralmente usamos distribui√ß√µes de nosso parceiro dom√©stico Arenadata.  Com o Apache Phoenix, selecionamos dados JDBC usando SQL.  Nas vers√µes recentes, o Phoenix foi bem otimizado para trabalhar com as s√©ries temporais que sempre aparecem em projetos industriais. <br><br>  Conseguimos fechar o complexo sistema anal√≠tico com os produtos de um fornecedor, o que √© importante quando se trata de solu√ß√µes corporativas.  O Apache Spark √© usado para calcular configura√ß√µes (desvios nos modos de opera√ß√£o do equipamento), indicadores calculados e outros KPIs - um componente para executar c√°lculos distribu√≠dos no modo quase em tempo real no ecossistema Hadoop. <br><br><h2>  Nuances </h2><br>  Infelizmente, protocolos industriais s√£o complicados.  Na primeira vez que planejamos fazer a integra√ß√£o com o PI, esper√°vamos que adot√°ssemos sua interface JDBC padr√£o e tiv√©ssemos uma felicidade simples e r√°pida.  E quando eles come√ßaram a trabalhar com a interface, descobriu-se que sua largura de banda n√£o era suficiente para carregar dados atuais.  Sem mencionar o download da hist√≥ria.  Mas o conector tem sua pr√≥pria API SDK interna, que pode trabalhar rapidamente com dados.  Ent√£o, escrevemos um gateway especial nessa API e resolvemos o problema. <br><br>  Abordamos a solu√ß√£o desse problema de forma que, no final, obtivemos a apresenta√ß√£o dos per√≠odos de desvios na forma de uma janela.  Para isso, foi necess√°rio calcular quantas vezes e quando os indicadores foram al√©m da norma.  Se voc√™ analisar toda a hist√≥ria em busca de desvios, ser√£o necess√°rios muitos recursos.  Ent√£o, passamos por uma s√©rie de valores, comparando cada subsequente e anterior.  Se ambos s√£o normais / n√£o normais - n√£o h√° desvio / continua.  Se um dos dois n√£o for normal - contamos, respectivamente, o in√≠cio ou o fim do desvio.  Assim, conseguimos economizar energia de computa√ß√£o ao criar uma vitrine com estat√≠sticas para analistas e tecn√≥logos. <br><br><h2>  Perspectivas </h2><br>  O objetivo desses projetos na ind√∫stria n√£o √© apenas tornar tudo bonito e claro, mas tamb√©m preparar uma plataforma anal√≠tica para produ√ß√£o, mudar para uma empresa digital, onde √© poss√≠vel coletar e analisar todos os eventos em um s√≥ local. <br><br>  Quanto √† plataforma descrita, √© √∫til para v√°rios departamentos ao mesmo tempo.  Resolvemos o problema das pessoas que gerenciam a produ√ß√£o.  Se os operadores anteriores n√£o puderam responder a pequenos desvios na opera√ß√£o do equipamento, agora eles precisam se reportar √† ger√™ncia por cada n√£o conformidade com a norma.  Isso fornece valor no momento.  Fornecemos aos digitalizadores e aos servi√ßos de P&amp;D uma fonte conveniente de informa√ß√µes sobre produ√ß√£o, o que nos permite analisar quaisquer eventos por qualquer per√≠odo de tempo - isso fornecer√° valor no futuro. <br><br>  Agora, estamos ativamente engajados no desenvolvimento dessas plataformas tecnol√≥gicas, experimentando a implementa√ß√£o.  Em geral, nos esfor√ßamos para afastar a ind√∫stria do controle manual para automatizar o controle da produ√ß√£o, como nas f√°bricas da Ilon Mask. <br><br>  Teremos o maior prazer em conversar com todos - tanto com os desenvolvedores quanto com os arquitetos de big data (a quem podemos convidar para nossa equipe), e com os digitalizadores, gerentes de produ√ß√£o, contando sobre nossa experi√™ncia e oferecendo op√ß√µes para trabalhar juntos.  Para todos, realizamos grandes reuni√µes de dados, nas quais estamos felizes em discutir todas as quest√µes e sugest√µes. <br><br>  Meu e-mail √© EOsipov@croc.ru </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466933/">https://habr.com/ru/post/pt466933/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466921/index.html">5 problemas de qualquer empresa de servi√ßos e sua solu√ß√£o usando a plataforma de automa√ß√£o</a></li>
<li><a href="../pt466923/index.html">Como profissionais de TI em um banco estrangeiro para provar a origem dos fundos</a></li>
<li><a href="../pt466925/index.html">Como executar o VDS Hi-CPU para Bitrix, dispersar papagaios e n√£o quebrar</a></li>
<li><a href="../pt466929/index.html">Adicionar token de atualiza√ß√£o</a></li>
<li><a href="../pt466931/index.html">Otimiza√ß√£o de desempenho para aplicativos .NET (C #)</a></li>
<li><a href="../pt466937/index.html">Como fazemos a Olimp√≠ada on-line totalmente russa em ingl√™s, matem√°tica e ci√™ncia da computa√ß√£o</a></li>
<li><a href="../pt466941/index.html">Por que o Windows l√™ um arquivo cem mil vezes para abrir um menu?</a></li>
<li><a href="../pt466949/index.html">Perspectivas para redes qu√¢nticas: quem se envolve nelas e por que</a></li>
<li><a href="../pt466955/index.html">Enigmas do curr√≠culo. Parte 3. O v√©u dos segredos removidos</a></li>
<li><a href="../pt466957/index.html">iPhone 11, o novo iPad, TV +, Arcade e muito mais. O que a Apple mostrou hoje</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>