<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äç‚öñÔ∏è üë®üèΩ‚Äçüöí üë∞üèª Recr√©ation de polices CRT üêù üë®üèª‚Äçüåæ ‚è≤Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Etudes de glyphes sur les terminaux DEC VT100 et VT220 

 R√©cemment, je me suis un peu laiss√© emporter par l'√©mulation des m√©dias analogiques: je voul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Recr√©ation de polices CRT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446598/"> <i>Etudes de glyphes sur les terminaux DEC VT100 et VT220</i> <br><br>  R√©cemment, je me suis un peu laiss√© emporter par l'√©mulation des m√©dias analogiques: je voulais recr√©er les graphiques raster des CRT, comme sur les ¬´terminaux en verre¬ª du pass√©, comme l'iconique s√©rie VT de Digital Equipment Corporation (DEC).  Au cours de ce processus, un certain nombre de questions se sont pos√©es sur les fonctionnalit√©s d'affichage des polices dans les graphiques √† pixels CRT.  Je me demande √† quoi ressemblaient les polices et s'il est possible de les reconstruire selon les sp√©cifications? <br><br><img src="https://habrastorage.org/webt/y3/qh/t4/y3qht4lf3uu5uqkqdlk6rj0f-sg.png"><br>  <i><font color="gray">Les polices TrueType modernes recr√©ent des glyphes VT220.</font></i>  <i><font color="gray">Gardez √† l'esprit que les terminaux VT prennent en charge deux modes de r√©solution: un pour 132 caract√®res par ligne et un pour 80 caract√®res (char-matrix 9 √ó 10 et 10 √ó 10, respectivement), dans ce dernier, l'intervalle est prolong√© d'un pixel</font></i> <br><br>  En raison de l'abondance d'informations techniques sur des sites comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vt100.net</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bitsavers.org,</a> vous pouvez facilement d√©terminer l'apparence de ces polices.  Par exemple, nous pouvons restaurer des glyphes √† partir du firmware du terminal.  Il existe m√™me des polices TrueType qui reproduisent la typographie VT220: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Glass TTY VT220</a> avec des lignes tram√©es et <a href="">DEC Terminal Modern</a> avec des contours modernes et lisses (dans l'illustration ci-dessus). <br><a name="habracut"></a><br>  En y regardant de plus pr√®s, ces polices sont tr√®s diff√©rentes les unes des autres, mais aucune ne semble correcte.  Par rapport aux photographies du vrai VT100, les diff√©rences sont notables non seulement dans la densit√© de la police, mais aussi dans la taille et la forme des contours et dans la ¬´sensation¬ª g√©n√©rale de la police.  Cependant, les photos du terminal ne peuvent pas non plus transmettre le v√©ritable sentiment de densit√© de police, car cela d√©pend fortement des param√®tres de prise de vue: <br><br><img src="https://habrastorage.org/webt/f6/t5/zi/f6t5zipsa1icpxbc8jerhj3hxcs.jpeg"><br>  <i><font color="gray">Jeu d'aventure Colossal CavePhoto sur l'√©cran du VT100.</font></i>  <i><font color="gray">Photo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikipedia, Dave Fisher</a> , 2008, Wikimedia Commons (√©dit√©, NL).</font></i> <br><br><img src="https://habrastorage.org/webt/x7/mp/or/x7mpor5pzdlcxnipb56fgjrsm_s.jpeg"><br>  <i><font color="gray">Affichez la liste des r√©pertoires sur le VT100.</font></i>  <i><font color="gray">Photo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jason Scott</a> , 2013. Creative Commons (√©dit√©, NL).</font></i> <br><br>  Comme les photos ne sont pas tr√®s utiles, il est temps de jeter un ≈ìil au firmware. <br><br><h1>  Firmware </h1><br>  Il existe des copies de la ROM, vous pouvez simplement en extraire de vraies polices qui correspondront parfaitement √† l'original, non? .. Qu'est-ce qui pourrait mal tourner? <br><br><img src="https://habrastorage.org/webt/jb/tc/nt/jbtcntimehavutnlbkme3kk8_ru.png"><br>  <i><font color="gray">Le contenu de la ROM des terminaux VT100 (gauche) et VT220 (droite).</font></i>  <i><font color="gray">La partition VT200 a √©t√© r√©alis√©e par Paul Flo Williams, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vt100.net</a> (2008).</font></i>  <i><font color="gray">VT100 compl√©t√© par moi, N. L.).</font></i>  <i><font color="gray">Les caract√®res 'a', 'c', 'g', '2', '6', '7', '9', '@', '%', '{', '}', '|' , '¬∞' et la forme des caract√®res de contr√¥le (‚êâ ‚êç ‚êä ‚ê§ ‚êã).</font></i>  <i><font color="gray">De plus, le VT220 a plus de caract√®res</font></i> <br><br>  Cela semble √©galement faux.  √âvidemment, les glyphes s'√©tirent verticalement jusqu'√† une hauteur approximativement double, mais ce n'est pas la seule distorsion.  Les personnages n'ont tout simplement pas l'air bien.  Par exemple, regardez 'p' et 'q' ou les points du trait droit en aval de 'k', sans parler des contours amusants de '6' et '9' sur le VT100 ou d√©form√© '2'!  De plus, en y regardant de plus pr√®s, la matrice de caract√®res n'est que de 8 √ó 10, alors que nous nous attendions √† au moins 9 √ó 10 (et 10 √ó 10 pour un mode √† 80 colonnes), comme d√©crit dans les sp√©cifications.  Ce n'est clairement pas ce qui est affich√© √† l'√©cran. <br><br><h1>  Phosphore </h1><br>  Jetons un autre regard sur les manuels, en particulier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le manuel technique de la s√©rie VT100</a> (2e √©dition, EK-VT100-TM-002; DEC, Maynard, Massachsetts, 1979).  Il pr√©cise que la question est dans le retard du phosphore (phosphore): <br><br><img src="https://habrastorage.org/webt/jx/hj/bp/jxhjbpuolfxlznuwuy4swjaxli8.png"><br>  <i><font color="gray">Dur√©e d'impulsion et profil d'activation du phosphore pour VT100 et VT200 (Manuel technique de la s√©rie VT100, EK-VT100-TM-002, p. 4-78).</font></i>  <i><font color="gray">Gardez √† l'esprit que les profils d'impulsion de signal sont tr√®s id√©alis√©s et en r√©alit√© analogique, ils sont √©galement inclin√©s</font></i> <br><br>  Le temps d'activation compl√®te du luminophore est en r√©alit√© plus long que la dur√©e d'impulsion pour un pixel (40 nanosecondes).  Cela signifie que si nous essayons d'afficher un seul pixel, le phosphore √† cet endroit particulier n'atteindra jamais son niveau d'activation complet, ce qui conduira √† une image floue de luminosit√© diff√©rente entre les sections les plus ternes et les plus fines et les plus denses et les plus √©paisses.  Par cons√©quent, la typographie est forc√©e de s'ajuster pour produire des impulsions √† double dur√©e (80 ns) afin de fournir une image claire et un texte lisible. <br><br><img src="https://habrastorage.org/webt/mb/ts/i7/mbtsi7hleah73ui8i5icki9jczq.png"><br>  <i><font color="gray">Impulsions de dur√©e simple et double et activation du phosphore (√† partir de l√†, √©dit√© par NL)</font></i> <br><br><h1>  Mod√®le d'√©tirement des points </h1><br>  Pour cela, les terminaux VT utilisent une m√©thode sp√©ciale d'√©tirement des points: les lignes individuelles de la matrice de caract√®res de la ROM sont modifi√©es √† la vol√©e, √©tendant les impulsions du pixel actif d'un pixel de plus.  Lorsqu'il y a un pixel dans la ROM, il y en aura deux √† l'√©cran.  Lorsque deux de suite, trois s'affichent. <br><br>  Ainsi, notre matrice 8 √ó 10 se d√©veloppe au 9 √ó 10 attendu (ou 10 √ó 10 en mode 80 colonnes, o√π le dernier pixel pour dessiner des lignes est √©tir√© par une autre impulsion). <br><br><img src="https://habrastorage.org/webt/uw/ft/m2/uwftm2o-ua4zckayml2_t0pmsym.png"><br>  <i><font color="gray">Points d'√©tirement dans VT100 et VT200 (Manuel technique de la s√©rie VT100, EK-VT100-TM-002, p. 4-78)</font></i> <br><br>  Cependant, cela produira des r√©sultats diff√©rents pour les caract√®res de taille normale et de double largeur!  Gr√¢ce aux merveilles des points d'√©tirement, une police contient deux polices, chacune d√©pendant de la taille de l'√©cran! <br><br><img src="https://habrastorage.org/webt/ra/fw/03/rafw034u4t10ij1_t5qidmuvx88.png"><br><ol><li>  <i><font color="gray">Comme dans la ROM</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Largeur d'√©tirement d'un point</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Double largeur avec √©tirement des points</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Simple largeur avec √©tirement des points et retard (phosphore)</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Double largeur avec √©tirement des points et retard (phosphore)</font></i> </li></ol> <i><font color="gray"><br></font></i>  <i><font color="gray">(1, 2, 3 selon Paul Flo Williams, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vt100.net</a> , 4 et 5 ajout√©s par moi, NL)</font></i> <br><br>  Il est fondamentalement important que l'image (2) donne des lignes pointill√©es qui diff√®rent des lignes claires dans les reconstructions de polices modernes.  Mais si nous ajoutons des graphiques sinuso√Ødaux et en forme de cosinus d'activation du phosphore (figures 4 et 5, ainsi qu'un diagramme avec un graphique d'activation ci-dessus), nous obtenons une version plus pr√©cise de l'affichage r√©el √† l'√©cran (rappelez-vous que les VT100 et VT220 montrent des lignes de trame assez visibles). <br><br><img src="https://habrastorage.org/webt/ld/0t/pi/ld0tpixi_wnpxj4rojloxszhlbk.png"><br>  <i><font color="gray">Mod√®les de caract√®res VT220 (mode 80 colonnes).</font></i> <i><font color="gray"><br><br></font></i> <ol><li>  <i><font color="gray">Comme dans la ROM</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Largeur d'√©tirement d'un point</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Graphiques d'activation du phosphore ajout√©s</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Lueur de phosphore ajout√©e</font></i> </li></ol><br>  <i><font color="gray">(1 et 23 selon Paul Flo Williams, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vt100.net</a> , 3, 4 et n√©gatifs ajout√©s par moi, N. L.)</font></i> <br><br>  Il existe un exemple assez extr√™me de la fa√ßon dont le m√©dium dicte l'apparence de la forme typographique, ou, d'autre part, comment le design des glyphes est cr√©√© en tenant compte du m√©dium et de ses limites technologiques sp√©cifiques pour atteindre la typographie souhait√©e.  En regardant les effets d'activation du phosphore, le retard et la lueur, il devient clair pourquoi diff√©rentes photographies des √©crans des terminaux VT montrent diff√©rentes largeurs de police, en fonction de la vitesse d'obturation sur l'appareil photo, alors que la fluidit√© globale de la police est pr√©serv√©e. <br><br>  Voici une autre repr√©sentation des polices dans la ROM en utilisant les effets d√©crits, qui sont mieux similaires √† l'image r√©elle de l'√©cran: <br><br><img src="https://habrastorage.org/webt/pp/ti/57/ppti57nawm_vucjof_hpejdika0.png"><br>  <i><font color="gray">Glyphes visibles VT100 (gauche) et VT220 (droite)</font></i> <br><br>  Les caract√®res double largeur VT100 sont illustr√©s ci-dessous par rapport aux caract√®res simple largeur normaux (noir sur blanc, ainsi qu'en n√©gatif, tels qu'ils sont per√ßus √† l'√©cran): <br><br><img src="https://habrastorage.org/webt/2a/0x/le/2a0xleueenpzyyfvfbiofkenobu.png"><br><br><h1>  Photos de l'√©tabli </h1><br>  Et enfin, deux images de mon ¬´√©tabli¬ª de travail, sur lesquelles j'essaie de recr√©er l'√©cran du terminal analogique dans un navigateur Web en utilisant HTML5 et l'API Canvas.  Peut-√™tre un peu de flou r√©tro, mais vous avez l'id√©e: <br><br><img src="https://habrastorage.org/webt/eb/re/fk/ebrefkqficqooxj_bi108wvglyq.png"><br>  <i><font color="gray">√âmulation VT100 (capture d'√©cran)</font></i> <br><br><img src="https://habrastorage.org/webt/rp/wk/ab/rpwkabj6rb_hbzl2sstf2odhqwa.png"><br>  <i><font color="gray">√âmulation VT220 (capture d'√©cran)</font></i> <br><br>  Et c'est tout pour aujourd'hui ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr446598/">https://habr.com/ru/post/fr446598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr446582/index.html">R√©flexions sur l'h√©bergement solaire pour les abeilles</a></li>
<li><a href="../fr446586/index.html">Param√®tres r√©seau de FreeRadius via DHCP</a></li>
<li><a href="../fr446588/index.html">V√©rification du code source de Roslyn</a></li>
<li><a href="../fr446590/index.html">39 nouvelles fonctionnalit√©s disponibles dans Java 12</a></li>
<li><a href="../fr446592/index.html">V√©rification du code source de Roslyn</a></li>
<li><a href="../fr446602/index.html">Transistor √† effet de champ √† courant continu maximal</a></li>
<li><a href="../fr446604/index.html">ESET: Nouveaux sch√©mas de livraison de porte d√©rob√©e OceanLotus Cybergroup</a></li>
<li><a href="../fr446606/index.html">V√©rifiez √† quel point vous √™tes bon en technologie additive</a></li>
<li><a href="../fr446608/index.html">Surmonter la troisi√®me loi de la gravit√© organisationnelle</a></li>
<li><a href="../fr446612/index.html">Au moment o√π nous avons commenc√© √† croire en l'innovation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>