<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСйЁЯП╜тАНЁЯТ╝ ЁЯМП ЁЯН╖ .NET / C # рдореЗрдВ SIMD рдХрд╛ рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рдЕрд╡рд▓реЛрдХрди ЁЯЫвя╕П ЁЯТе ЁЯС▒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдпрд╣рд╛рдБ .NET Framework рдФрд░ .NET рдХреЛрд░ рдореЗрдВ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рд╡реЗрдХреНрдЯрд░рд╛рдЗрдЬреЗрд╢рди рдХреНрд╖рдорддрд╛рдУрдВ рдкрд░ рдПрдХ рддреНрд╡рд░рд┐рдд рдирдЬрд╝рд░ рд╣реИред рдпрд╣ рд▓реЗрдЦ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд╣реИ рдЬреЛ рдЗрди рддрдХрдиреАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдирд╣реА...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>.NET / C # рдореЗрдВ SIMD рдХрд╛ рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рдЕрд╡рд▓реЛрдХрди</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467689/"><p>  рдпрд╣рд╛рдБ .NET Framework рдФрд░ .NET рдХреЛрд░ рдореЗрдВ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рд╡реЗрдХреНрдЯрд░рд╛рдЗрдЬреЗрд╢рди рдХреНрд╖рдорддрд╛рдУрдВ рдкрд░ рдПрдХ рддреНрд╡рд░рд┐рдд рдирдЬрд╝рд░ рд╣реИред  рдпрд╣ рд▓реЗрдЦ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд╣реИ рдЬреЛ рдЗрди рддрдХрдиреАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рд╣реИрдВред  рдореИрдВ рдпрд╣ рднреА рджрд┐рдЦрд╛рдКрдВрдЧрд╛ рдХрд┐ .NET рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдореВрд▓ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП "рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдВрдХрд▓рд┐рдд" рднрд╛рд╖рд╛рдУрдВ рд╕реЗ рдкреАрдЫреЗ рдирд╣реАрдВ рд╣реИред </p><a name="habracut"></a><br><p> рдореИрдВ рдЕрднреА рд╡реИрд╢реНрд╡реАрдХрд░рдг рддрдХрдиреАрдХ рд╕реАрдЦрдирд╛ рд╢реБрд░реВ рдХрд░ рд░рд╣рд╛ рд╣реВрдВред  рдЗрд╕рд▓рд┐рдП, рдореИрдВ рд╕рд░рд╛рд╣рдирд╛ рдХрд░реВрдВрдЧрд╛ рдХрд┐ рд╕рдореБрджрд╛рдп рдХреЗ рд╕рджрд╕реНрдп рд╕реНрдкрд╖реНрдЯ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдкрд╛рддреЗ рд╣реИрдВ рдпрд╛ рд╡рд░реНрдгрд┐рдд рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрддреЗ рд╣реИрдВред </p><br><h2 id="some-history">  рдХреБрдЫ рдЗрддрд┐рд╣рд╛рд╕ </h2><br><p>  2015 рдореЗрдВ .NET рдлреНрд░реЗрдорд╡рд░реНрдХ 4.6 рдореЗрдВ SIMD рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ред рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ Matrix3x2, Matrix4x4, Plane, Quaternion, Vector2, Vector3 рдФрд░ Vector4 рдкреНрд░рдХрд╛рд░ рдЬреЛрдбрд╝реЗ рдЧрдПред  рдЙрдиреНрд╣реЛрдВрдиреЗ рд╕рджрд┐рд╢ рдХрдореНрдкреНрдпреВрдЯреЗрд╢рди рдХреА рдЕрдиреБрдорддрд┐ рджреАред  рдЕрдЧрд▓рд╛ рд╡реЗрдХреНрдЯрд░ &lt;T&gt; рдкреНрд░рдХрд╛рд░ рдерд╛ рдЬрд┐рд╕рдиреЗ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЛ рд╡реЗрдХреНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рдЕрдзрд┐рдХ рдЕрд╡рд╕рд░ рджрд┐рдПред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдХрдИ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдЕрднреА рднреА рдЕрд╕рдВрддреБрд╖реНрдЯ рдереЗ рдХреНрдпреЛрдВрдХрд┐ рдЗрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХреЛрдбрд░реНрд╕ рдХреЗ рд╡рд┐рдЪрд╛рд░ рдзрд╛рд░рд╛рдПрдБ рдереАрдВ рдФрд░ рдЖрдзреБрдирд┐рдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдореЗрдВ SIMD рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреА рдкреВрд░реА рдХреНрд╖рдорддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддреЗ рдереЗред  рдЕрдм .NET рдХреЛрд░ 3.0 рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ System.Runtime.Intrinsics рдирд╛рдо рд╕реНрдерд╛рди рд╣реИ рдЬреЛ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рдЪреБрдирд╛рд╡ рдореЗрдВ рдмрд╣реБрдд рд╕реНрд╡рддрдВрддреНрд░рддрд╛ рджреЗрддрд╛ рд╣реИред  рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдЧрддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ RyuJit рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдФрд░ рдпрд╛ рддреЛ x64 рдЕрд╕реЗрдВрдмрд▓реА рдХрд╛ рд╕рд╣рд╛рд░рд╛ рд▓реЗрдВ рдпрд╛ 32-рдмрд┐рдЯ рдХреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗрдВ рдФрд░ AnyCPU рдЕрд╕реЗрдВрдмрд▓реА рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред  рдореИрдВрдиреЗ Intel Core i7-6700 3.40 GHz (Skylake) CPU рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рд╕рднреА рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдЪрд▓рд╛рдПред </p><br><h2 id="summing-array-elements">  рд╕рд╛рд░ рддрддреНрд╡реЛрдВ рдХреЛ рд╕рдореЗрдЯрдирд╛ </h2><br><p>  рдореИрдВрдиреЗ рдПрдХ рдХреНрд▓рд╛рд╕рд┐рдХ рдХрд╛рд░реНрдп рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЬреЛ рдЖрдо рддреМрд░ рдкрд░ рдкрд╣рд▓реЗ рд╣реЛрддрд╛ рд╣реИ рдпрджрд┐ рд╡реИрд╢реНрд╡реАрдХрд░рдг рд╢рд╛рдорд┐рд▓ рд╣реЛред  рдпрд╣ рд╕рд░рдгреА рддрддреНрд╡реЛрдВ рдХрд╛ рдпреЛрдЧ рдЦреЛрдЬрдиреЗ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред  рдПрд░реЗ рдХреЗ рддрддреНрд╡реЛрдВ рдХреЛ рдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рдЪрд╛рд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд▓рд┐рдЦрддреЗ рд╣реИрдВред </p><br><p>  рд╕рдмрд╕реЗ рд╕реНрдкрд╖реНрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди: </p><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Naive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Array) { result += i; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  LINQ- рдЖрдзрд╛рд░рд┐рдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LINQ</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; Array.Aggregate&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>&gt;(<span class="hljs-number"><span class="hljs-number">0</span></span>, (current, i) =&gt; current + i);</code> </pre> <br><p>  System.Numerics рд╕реЗ рд╡реИрдХреНрдЯрд░ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Vectors</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> vectorSize = Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Count; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> accVector = Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Zero; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> array = Array; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt;= array.Length - vectorSize; i += vectorSize) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(array, i); accVector = Vector.Add(accVector, v); } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = Vector.Dot(accVector, Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.One); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt; array.Length; i++) { result += array[i]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  System.Runtime.Intrinsics рдирд╛рдорд╕реНрдерд╛рди рд╕реЗ рдХреЛрдб рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">unsafe</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Intrinsics</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> vectorSize = <span class="hljs-number"><span class="hljs-number">256</span></span> / <span class="hljs-number"><span class="hljs-number">8</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> accVector = Vector256&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Zero; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> array = Array; <span class="hljs-keyword"><span class="hljs-keyword">fixed</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>* ptr = array) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt;= array.Length - vectorSize; i += vectorSize) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = Avx2.LoadVector256(ptr + i); accVector = Avx2.Add(accVector, v); } } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> temp = <span class="hljs-keyword"><span class="hljs-keyword">stackalloc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[vectorSize]; Avx2.Store(temp, accVector); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; vectorSize; j++) { result += temp[j]; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt; array.Length; i++) { result += array[i]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  рдореИрдВрдиреЗ рдЕрдкрдиреЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдЙрди 4 рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдХрд┐рдпрд╛ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  ItemsCount </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЕрдиреБрдкрд╛рдд </th></tr></thead><tbody><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  10 </td><td>  3.531 рдПрди.рдПрд╕. </td><td>  0.0336 рдПрди.рдПрд╕. </td><td>  0.0314 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  10 </td><td>  76.925 рдПрди.рдПрд╕. </td><td>  0.4166 рдПрди.рдПрд╕. </td><td>  0.3897 рдПрди.рдПрд╕. </td><td>  21.79 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  10 </td><td>  2.750 рдПрди.рдПрд╕. </td><td>  0.0210 рдПрди.рдПрд╕. </td><td>  0.0196 рдПрди.рдПрд╕. </td><td>  0.78 </td></tr><tr><td>  intrinsics </td><td>  10 </td><td>  6.513 рдПрди.рдПрд╕. </td><td>  0.0623 рдПрди.рдПрд╕. </td><td>  0.0582 рдПрди.рдПрд╕. </td><td>  1.84 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  100 </td><td>  47.982 рдПрди.рдПрд╕. </td><td>  0.3975 рдПрди.рдПрд╕. </td><td>  0.3524 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  100 </td><td>  590.414 рдПрди.рдПрд╕. </td><td>  3.8808 рдПрди.рдПрд╕. </td><td>  рей.рекрекрежреи рдПрди.рдПрд╕. </td><td>  12.31 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  100 </td><td>  10.122 рдПрди.рдПрд╕. </td><td>  0.0747 рдПрди.рдПрд╕. </td><td>  0.0699 рдПрди.рдПрд╕. </td><td>  0.21 </td></tr><tr><td>  intrinsics </td><td>  100 </td><td>  14.277 рдПрди.рдПрд╕. </td><td>  0.0566 рдПрди.рдПрд╕. </td><td>  0.0529 рдПрди.рдПрд╕. </td><td>  0.30 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  1000 </td><td>  569.910 рдПрди.рдПрд╕. </td><td>  реи. .реи реп s рдПрди.рдПрд╕. </td><td>  2.6469 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  1000 </td><td>  5,658.570 рд░реБрдкрдпреЗ </td><td>  31.7465 рдПрди.рдПрд╕. </td><td>  29.6957 рдПрди.рдПрд╕. </td><td>  9.93 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  1000 </td><td>  79.598 рдПрди.рдПрд╕. </td><td>  0.3498 рдПрди.рдПрд╕. </td><td>  0.3272 рдПрди.рдПрд╕. </td><td>  0.14 </td></tr><tr><td>  intrinsics </td><td>  1000 </td><td>  66.970 рдПрдирдПрд╕ </td><td>  0.3937 рдПрди.рдПрд╕. </td><td>  0.3682 рдПрди.рдПрд╕. </td><td>  0.12 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  10000 </td><td>  5,637.571 рдПрди.рдПрд╕. </td><td>  37.5050 рдПрди.рдПрд╕. </td><td>  29.2814 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  10000 </td><td>  56,498.987 рдПрди.рдПрд╕. </td><td>  294.8776 рдПрди.рдПрд╕. </td><td>  275.8287 рдПрди.рдПрд╕. </td><td>  10.02 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  10000 </td><td>  772.900 рдПрди.рдПрд╕. </td><td>  2.6802 рдПрди.рдПрд╕. </td><td>  2.5070 рдПрди.рдПрд╕. </td><td>  0.14 </td></tr><tr><td>  intrinsics </td><td>  10000 </td><td>  579.152 рдПрди.рдПрд╕. </td><td>  2.8371 рдПрди.рдПрд╕. </td><td>  реи.ремрелрейs рдПрди.рдПрд╕. </td><td>  0.10 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  100000 </td><td>  56,352.865 рдПрди.рдПрд╕. </td><td>  230.7916 рдПрди.рдПрд╕. </td><td>  215.8826 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  100000 </td><td>  562,610.571 рдПрди.рдПрд╕. </td><td>  3,775.7631 рдПрди.рдПрд╕. </td><td>  3,152.9332 рдПрдирдПрд╕ </td><td>  9.98 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  100000 </td><td>  8,389.647 рдПрди.рдПрд╕. </td><td>  165.9590 рд░реБрдкрдпреЗ </td><td>  227.1666 рдПрди.рдПрд╕. </td><td>  0.15 </td></tr><tr><td>  intrinsics </td><td>  100000 </td><td>  7,261.334 рдПрди.рдПрд╕. </td><td>  89.6468 рдПрди.рдПрд╕. </td><td>  69.9903 рдПрди.рдПрд╕. </td><td>  0.13 </td></tr></tbody></table></div><br><p>  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рд╕реНрдкрд╖реНрдЯ рдФрд░ LINQ- рдЖрдзрд╛рд░рд┐рдд рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рд╡реИрдХреНрдЯрд░ рдФрд░ рдЖрдВрддрд░рд┐рдХрддрд╛ рд╡рд╛рд▓реЗ рд╕рдорд╛рдзрд╛рди рдмрд╣реБрдд рддреЗрдЬ рд╣реИрдВред  рдЕрдм рд╣рдореЗрдВ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ рдХрд┐ рдЗрди рджреЛ рддрд░реАрдХреЛрдВ рдореЗрдВ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИред </p><br><p>  рдЖрдЗрдП рд╡реИрдХреНрдЯрд░ рдкрджреНрдзрддрд┐ рдкрд░ рдЕрдзрд┐рдХ рдмрд╛рд░реАрдХреА рд╕реЗ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╡реИрдХреНрдЯрд░</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Vectors</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> vectorSize = Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Count; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> accVector = Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Zero; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> array = Array; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt;= array.Length - vectorSize; i += vectorSize) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(array, i); accVector = Vector.Add(accVector, v); } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = Vector.Dot(accVector, Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.One); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt; array.Length; i++) { result += array[i]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> </div></div><br><ul><li>  int VectorSize = рд╡реЗрдХреНрдЯрд░ &lt;int&gt; .Count;  - 4-рдмрд╛рдЗрдЯ рд╕рдВрдЦреНрдпрд╛ рдХреА рдорд╛рддреНрд░рд╛ рд╣рдо рдПрдХ рд╡реЗрдХреНрдЯрд░ рдореЗрдВ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВред  рдпрджрд┐ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рддреНрд╡рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдорд╛рди рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рд╣рдо рдПрдХ SIMD рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ рдХрд┐рддрдиреЗ 4-рдмрд╛рдЗрдЯ рдирдВрдмрд░ рдбрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдХрд┐рддрдиреЗ рддрддреНрд╡реЛрдВ рдХреЛ рд╕рдорд╡рд░реНрддреА рд░реВрдк рд╕реЗ рд╕рдВрднрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ; </li><li>  accVector рдПрдХ рд╡реЗрдХреНрдЯрд░ рд╣реИ рдЬреЛ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдЬрдорд╛ рдХрд░рддрд╛ рд╣реИ; </li><li>  var v = рдирдпрд╛ рд╡реЗрдХреНрдЯрд░ &lt;int&gt; (рд╕рд░рдгреА, i);  - рд╕рд░рдгреА рд╕реЗ рдбреЗрдЯрд╛ рдХреЛ рдПрдХ рдирдП v рд╡реЗрдХреНрдЯрд░ рдореЗрдВ рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ i рдЗрдВрдбреЗрдХреНрд╕ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред  рдбреЗрдЯрд╛ рдХрд╛ рд╡реЗрдХреНрдЯрд░рд╕рд╛рдЗрдЬрд╝ рдмрд┐рд▓реНрдХреБрд▓ рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛; </li><li>  accVector = Vector.Add (accVector, v);  - рджреЛ рд╡реИрдХреНрдЯрд░ рд╕рдореНтАНрдорд┐рд▓рд┐рдд рд╣реИрдВред <br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдРрд░реЗ рдореЗрдВ 8 рд╕рдВрдЦреНрдпрд╛рдПрдБ рд╣реИрдВ: {0, 1, 2, 3, 4, 5, 6, 7} рдФрд░ рд╡реЗрдХреНрдЯрд░рд╕реЗрдЬ == 4ред <br>  рдлрд┐рд░ рдкрд╣рд▓реЗ рдЪрдХреНрд░ рдХреЗ рджреМрд░рд╛рди рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдЙрдЪреНрдЪрд╛рд░рдг = {0, 0, 0, 0}, v = {0, 1, 2, 3} рдФрд░ рдЗрд╕рдХреЗ рдмрд╛рдж accVector рдзрд╛рд░рдг рдХрд░реЗрдЧрд╛: {0, 0, 0, 0} + {0, 1 , 2, 3} = {0, 1, 2, 3}ред <br>  рджреВрд╕рд░реЗ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдХреЗ рджреМрд░рд╛рди v = {4, 5, 6, 7} рдФрд░ рдЗрд╕рдХреЗ рдмрд╛рдж accVector = {0, 1, 2, 3} + {4, 5, 6, 7} = {4, 6, 8, 10}ред </li><li>  рдЕрдм рд╣рдореЗрдВ рдмрд╕ рд╕рднреА рд╡реЗрдХреНрдЯрд░ рддрддреНрд╡реЛрдВ рдХрд╛ рдпреЛрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдо рд╕реНрдХреЗрд▓рд░ рдЧреБрдгрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдХрд┐ рдПрдХ рд╕рджрд┐рд╢ рд╕реЗ рднрд░рд╛ рд╣реБрдЖ рд╣реИ: int result = Vector.Dot (accVector, рд╡реЗрдХреНрдЯрд░ &lt;int&gt; .One); <br>  рдлрд┐рд░ рд╣рдореЗрдВ рдорд┐рд▓рддрд╛ рд╣реИ: {4, 6, 8, 10} * {1, 1, 1, 1} = 4 * 1 + 6 * 1 + 8 * 1 + 10 * 1 = 28ред </li><li>  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдЕрдВрддрд┐рдо рд╡реЗрдХреНрдЯрд░ рдХреЛ рдлрд┐рдЯ рдирд╣реАрдВ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЙрди рдирдВрдмрд░реЛрдВ рдХреЛ рдЕрдВрдд рдореЗрдВ рдЕрднрд┐рд╡реНрдпрдХреНрдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </li></ul><br><p>  рдЖрдЗрдП рдЖрдВрддрд░рд┐рдХ рдЖрдВрддрд░рд┐рдХ рдХреЛрдб рдореЗрдВ рджреЗрдЦреЗрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">intrinsics</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">unsafe</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Intrinsics</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> vectorSize = <span class="hljs-number"><span class="hljs-number">256</span></span> / <span class="hljs-number"><span class="hljs-number">8</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> accVector = Vector256&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Zero; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> array = Array; <span class="hljs-keyword"><span class="hljs-keyword">fixed</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>* ptr = array) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt;= array.Length - vectorSize; i += vectorSize) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = Avx2.LoadVector256(ptr + i); accVector = Avx2.Add(accVector, v); } } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> temp = <span class="hljs-keyword"><span class="hljs-keyword">stackalloc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[vectorSize]; Avx2.Store(temp, accVector); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; vectorSize; j++) { result += temp[j]; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt; array.Length; i++) { result += array[i]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> </div></div><br><p>  рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдПрдХ рдЕрдкрд╡рд╛рдж рдХреЗ рд╕рд╛рде рд╡реИрдХреНрдЯрд░ рдХреА рддрд░рд╣ рд╣реИ: </p><br><ul><li>  рд╡реЗрдХреНрдЯрд░рд╕рд╛рдЗрдЬрд╝ рдПрдХ рд╕реНрдерд┐рд░рд╛рдВрдХ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╡рд┐рдзрд┐ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ Avx2 рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИ рдЬреЛ 256-рдмрд┐рдЯ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреА рд╣реИред  рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдПрдХ рдЬрд╛рдВрдЪ рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдХреНрдпрд╛ рд╡рд░реНрддрдорд╛рди рдкреНрд░реЛрд╕реЗрд╕рд░ Avx2 рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рджреВрд╕рд░рд╛ рдХреЛрдб рдХрд╣рд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Avx2.IsSupported) { DoThingsForAvx2(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Avx.IsSupported) { DoThingsForAvx(); } ... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Sse2.IsSupported) { DoThingsForSse2(); } ...</code> </pre> </li><li>  var accVector = рд╡реЗрдХреНрдЯрд░256 &lt;int&gt; .Zero;  accVector рдХреЛ рд╢реВрдиреНрдп-рдмрд┐рдЯ рд╡реЗрдХреНрдЯрд░ рд╕реЗ рднрд░рд╛ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </li><li>  рдирд┐рд╢реНрдЪрд┐рдд (int * ptr = Array) - рд╕рд░рдгреА рдХреЗ рд▓рд┐рдП рд╕реВрдЪрдХ рдХреЛ ptr рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  рдЕрдЧрд▓рд╛ рд╡реИрдХреНрдЯрд░ рдХреЗ рд╕рдорд╛рди рдСрдкрд░реЗрд╢рди рд╣реИрдВ: рдПрдХ рд╡реЗрдХреНрдЯрд░ рдореЗрдВ рдбреЗрдЯрд╛ рд▓реЛрдб рдХрд░рдирд╛ рдФрд░ рджреЛ рд╡реИрдХреНрдЯрд░ рдЬреЛрдбрд╝рдирд╛ред </li><li>  рд╡реЗрдХреНрдЯрд░ рддрддреНрд╡реЛрдВ рдХрд╛ рдпреЛрдЧ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ: <br><ul><li>  рд╕реНрдЯреИрдХ рдкрд░ рдПрдХ рд╕рд░рдгреА рдмрдирд╛рдПрдБ: var temp = stackalloc int [VectorSize]; </li><li>  рдЗрд╕ рд╕рд░рдгреА рдореЗрдВ рдПрдХ рд╡реЗрдХреНрдЯрд░ рд▓реЛрдб рдХрд░реЗрдВ: Avx2.Store (рдЕрд╕реНрдерд╛рдпреА, accVector); </li><li>  рдЪрдХреНрд░ рдХреЗ рджреМрд░рд╛рди рдпреЛрдЧ рдХреЗ рддрддреНрд╡ред </li></ul></li><li>  рдЕрдЧрд▓рд╛, рд╡реЗ рддрддреНрд╡ рдЬреЛ рдЕрдВрддрд┐рдо рд╡реЗрдХреНрдЯрд░ рдореЗрдВ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рд╕рд╛рд░рд╛рдВрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br><h2 id="comparing-two-arrays">  рджреЛ рд╕рд░рдгрд┐рдпреЛрдВ рдХреА рддреБрд▓рдирд╛ </h2><br><p>  рд╣рдореЗрдВ рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рджреЛ рд╕рд░рдгрд┐рдпреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдпрд╣ рдХрд╛рд░реНрдп рд╣реИ рдЬрд┐рд╕рдиреЗ рдореБрдЭреЗ .NET рдореЗрдВ SIMD рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рд╛рдпрд╛ред  рдлрд┐рд░, рдЖрдЗрдП рдмреЗрдВрдЪрдорд╛рд░реНрдХрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрдИ рддрд░реАрдХреЗ рд▓рд┐рдЦреЗрдВ рдФрд░ рджреЛ рд╕рд░рдгрд┐рдпреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВ: рдПрд░реЗрд░рд╛ рдФрд░ рдЕрд░реНрд░реЗрдмреАред </p><br><p>  рд╕рдмрд╕реЗ рд╕реНрдкрд╖реНрдЯ рд╕рдорд╛рдзрд╛рди: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Naive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; ArrayA.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ArrayA[i] != ArrayB[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><p>  LINQ- рдЖрдзрд╛рд░рд┐рдд рд╕рдорд╛рдзрд╛рди: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LINQ</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; ArrayA.SequenceEqual(ArrayB);</code> </pre> <br><p>  MemCmp рдлрд╝рдВрдХреНрд╢рди рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╕рдорд╛рдзрд╛рди: </p><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">DllImport(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"msvcrt.dll"</span></span></span><span class="hljs-meta">, CallingConvention = CallingConvention.Cdecl)</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">memcmp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] b1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] b2, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MemCmp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; memcmp(ArrayA, ArrayB, ArrayA.Length) == <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br><p>  System.Numerics рд╕реЗ рд╡реИрдХреНрдЯрд░ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╕рдорд╛рдзрд╛рди: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Vectors</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> vectorSize = Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>&gt;.Count; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt;= ArrayA.Length - vectorSize; i += vectorSize) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> va = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>&gt;(ArrayA, i); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>&gt;(ArrayB, i); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Vector.EqualsAll(va, vb)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt; ArrayA.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ArrayA[i] != ArrayB[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><p>  рдЖрдВрддрд░рд┐рдХ рдЖрдзрд╛рд░рд┐рдд рд╕рдорд╛рдзрд╛рди: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">unsafe</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Intrinsics</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> vectorSize = <span class="hljs-number"><span class="hljs-number">256</span></span> / <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> equalsMask = <span class="hljs-keyword"><span class="hljs-keyword">unchecked</span></span>((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) (<span class="hljs-number"><span class="hljs-number">0b1111</span></span>_1111_1111_1111_1111_1111_1111_1111)); <span class="hljs-keyword"><span class="hljs-keyword">fixed</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>* ptrA = ArrayA) <span class="hljs-keyword"><span class="hljs-keyword">fixed</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>* ptrB = ArrayB) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt;= ArrayA.Length - vectorSize; i += vectorSize) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> va = Avx2.LoadVector256(ptrA + i); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> vb = Avx2.LoadVector256(ptrB + i); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> areEqual = Avx2.CompareEqual(va, vb); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Avx2.MoveMask(areEqual) != equalsMask) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt; ArrayA.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ArrayA[i] != ArrayB[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }</code> </pre> <br><p>  рдореЗрд░реЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдЪрд▓рд╛рдиреЗ рдХреЗ рдкрд░рд┐рдгрд╛рдо: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  ItemsCount </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЕрдиреБрдкрд╛рдд </th></tr></thead><tbody><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  10000 </td><td>  7,033.8 рдПрди.рдПрд╕. </td><td>  50.636 рдПрди.рдПрд╕. </td><td>  47.365 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  10000 </td><td>  64,841.4 рдПрдирдПрд╕ </td><td>  289.157 рдПрди.рдПрд╕. </td><td>  270.478 рдПрди.рдПрд╕. </td><td>  9.22 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  10000 </td><td>  504.0 рдПрди.рдПрд╕. </td><td>  реи.рекрежрем рдПрди.рдПрд╕. </td><td>  реи.реирелрез рдПрди.рдПрд╕. </td><td>  0.07 </td></tr><tr><td>  memcmp </td><td>  10000 </td><td>  368.1 рдПрди.рдПрд╕. </td><td>  2.637 рдПрди.рдПрд╕. </td><td>  реи.рекремрем рдПрди.рдПрд╕. </td><td>  0.05 </td></tr><tr><td>  intrinsics </td><td>  10000 </td><td>  283.6 рдПрдирдПрд╕ </td><td>  рез.резрейрел рдПрди.рдПрд╕. </td><td>  1.061 рдПрди.рдПрд╕. </td><td>  0.04 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  100000 </td><td>  85,214.4 рдПрди.рдПрд╕. </td><td>  903.868 рдПрди.рдПрд╕. </td><td>  845.478 рдПрдирдПрд╕ </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  100000 </td><td>  702,279.4 рдПрди.рдПрд╕. </td><td>  2,846.609 рдПрди.рдПрд╕. </td><td>  2,662.720 рдПрди.рдПрд╕. </td><td>  8.24 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  100000 </td><td>  5,179.2 рдПрди.рдПрд╕. </td><td>  45.337 рдПрди.рдПрд╕. </td><td>  42.409 рдПрди.рдПрд╕. </td><td>  0.06 </td></tr><tr><td>  memcmp </td><td>  100000 </td><td>  4,510.5 рдПрди.рдПрд╕. </td><td>  24.292 рдПрди.рдПрд╕. </td><td>  22.723 рдПрди.рдПрд╕. </td><td>  0.05 </td></tr><tr><td>  intrinsics </td><td>  100000 </td><td>  2,957.0 рдПрди.рдПрд╕. </td><td>  11.452 рдПрди.рдПрд╕. </td><td>  10.712 рдПрдирдПрд╕ </td><td>  0.03 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  1000000 </td><td>  844,006.1 рдПрди.рдПрд╕. </td><td>  3,552.478 рдПрдирдПрд╕ </td><td>  3,322.990 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  1000000 </td><td>  6,483,079.3 рдПрдирдПрд╕ </td><td>  42,641.040 рдПрди.рдПрд╕. </td><td>  39,886.455 рдПрди.рдПрд╕. </td><td>  7.68 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  1000000 </td><td>  54,180.1 рдПрди.рдПрд╕. </td><td>  357.258 рдПрди.рдПрд╕. </td><td>  334.180 рдПрди.рдПрд╕. </td><td>  0.06 </td></tr><tr><td>  memcmp </td><td>  1000000 </td><td>  49,480.1 рдПрди.рдПрд╕. </td><td>  515.675 рдПрди.рдПрд╕. </td><td>  457.133 рдПрди.рдПрд╕. </td><td>  0.06 </td></tr><tr><td>  intrinsics </td><td>  1000000 </td><td>  36,633.9 рдПрди.рдПрд╕. </td><td>  680.525 рдПрди.рдПрд╕. </td><td>  636.564 рдПрди.рдПрд╕. </td><td>  0.04 </td></tr></tbody></table></div><br><p>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЗрди рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдХреЛрдб рд╕реНрдкрд╖реНрдЯ рд╣реИ, рджреЛ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЛ рдЫреЛрдбрд╝рдХрд░ рдЖрдВрддрд░рд┐рдХ рдореЗрдВ: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> areEqual = Avx2.CompareEqual(va, vb); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Avx2.MoveMask(areEqual) != equalsMask) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br><p>  рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐ рдореЗрдВ рджреЛ рд╡реИрдХреНрдЯрд░ рдХреА рд╕рдорд╛рдирддрд╛ рдХреЗ рд▓рд┐рдП рддреБрд▓рдирд╛ рдХреА рдЬрд╛рддреА рд╣реИ рдФрд░ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдЗрд░реЗрдХреНрд╡рд▓ рд╡реЗрдХреНрдЯрд░ рдореЗрдВ рдмрдЪрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рддрддреНрд╡ рдХреЗ рд╕рднреА рдмрд┐рдЯреНрд╕ 1 рдкрд░ рд╕реЗрдЯ рд╣реЛрддреЗ рд╣реИрдВ рдпрджрд┐ va рдФрд░ vb рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рддрддреНрд╡ рд╕рдорд╛рди рд╣реЛрддреЗ рд╣реИрдВред  рддреЛ, рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рдмрд╛рдЗрдЯ рд╡реИрдХреНрдЯрд░ рд╡реИрдм рдФрд░ рд╡реАрдмреА рд╕рдорд╛рди рд╣реИрдВ, рддреЛ рдПрд╕реЗрдХреНрд╡рд╛рд▓реНрд╕ рдХреЗ рд╕рднреА рддрддреНрд╡ 255 (11111111b) рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдПред  рдЬреИрд╕рд╛ рдХрд┐ Avx2.CompareEqual _mm256_cmpeq_epi8 рдкрд░ рдПрдХ рдЖрд╡рд░рдг рд╣реИ, рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрдВрдЯреЗрд▓ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░</a> рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рдСрдкрд░реЗрд╢рди рдХреЗ рдЫрджреНрдо рдХреЛрдб рдХреЛ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br>  MoveMask рд╡рд┐рдзрд┐ рд╡реЗрдХреНрдЯрд░ рд╕реЗ 32-рдмрд┐рдЯ рд╕рдВрдЦреНрдпрд╛ рдмрдирд╛рддреА рд╣реИред  рд╡реЗрдХреНрдЯрд░ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ 32 рдПрдХрдмрд╛рдЗрдЯ рддрддреНрд╡реЛрдВ рдХреЗ рд╢реАрд░реНрд╖ рдмрд┐рдЯреНрд╕ MoveMask рдкрд░рд┐рдгрд╛рдо рдореЗрдВ рдмрд┐рдЯреНрд╕ рдХреЗ рдорд╛рди рд╣реИрдВред  рд╕реНрдпреВрдбреЛрдХреЛрдб <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рдЙрдкрд▓рдмреНрдз <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред </p><br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдпрджрд┐ va рдФрд░ vb рдореЗрдВ рдХреБрдЫ рдмрд╛рдЗрдЯреНрд╕ рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддреЗ рд╣реИрдВ, рддреЛ areEqual рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдмрд╛рдЗрдЯреНрд╕ 0. рд╣реЛрдЧрд╛ред рдЗрд╕рд▓рд┐рдП, рдЗрди рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рд╢реАрд░реНрд╖ рдмрд┐рдЯреНрд╕ 0 рднреА рд╣реЛрдВрдЧреЗред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ Avx2.MoveMask рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдмрд┐рдЯреНрд╕ 0 рднреА рд╣реЛрдВрдЧреЗ рдФрд░ рдПрд╕реЗрдХреНрд╡рд▓ рдмрд░рд╛рдмрд░ рдирд╣реАрдВ рд╣реЛрдВрдЧреЗред </p><br><p>  рдЖрдЗрдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд╡реЗрдХреНрдЯрд░ рдХреА рд▓рдВрдмрд╛рдИ 8 рдмрд╛рдЗрдЯреНрд╕ рд╣реИ (рдХрдо рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП): </p><br><ul><li>  рдЖрдЬреНрдЮрд╛ рджреЗрдирд╛ va = {100, 10, 20, 30, 100, 40, 50, 100} рдФрд░ vb = {100, 20, 10, 30, 100, 40, 80, 90}ред </li><li>  рдлрд┐рд░ рдИрдХреНрд╡рд╛рд▓реНрд╕ {255, 0, 0, 255, 255, 255, 0, 0} рд╣реЛрдВрдЧреЗред </li><li>  MoveMask рд╡рд┐рдзрд┐ 10011100b рд▓реМрдЯреЗрдЧреА рдЬрд┐рд╕рдХреА рддреБрд▓рдирд╛ 11111111b рдорд╛рд╕реНрдХ рд╕реЗ рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдПред  рдЪреВрдВрдХрд┐ рдпреЗ рдорд╛рд╕реНрдХ рд╕рдорд╛рди рдирд╣реАрдВ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП va рдФрд░ vb рд╡реИрдХреНрдЯрд░ рднреА рд╕рдорд╛рди рдирд╣реАрдВ рд╣реИрдВред </li></ul><br><h2 id="counting-the-times-an-element-occurs-in-a-collection">  рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдПрдХ рддрддреНрд╡ рд╣реЛрдиреЗ рдХреЗ рд╕рдордп рдХреА рдЧрд┐рдирддреАред </h2><br><p>  рдХрднреА-рдХрднреА рдЖрдкрдХреЛ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рддрддреНрд╡ рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬреИрд╕реЗ рдкреВрд░реНрдгрд╛рдВрдХ, рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВред  рд╣рдо рдЗрд╕ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЛ рднреА рдЧрддрд┐ рджреЗ рд╕рдХрддреЗ рд╣реИрдВред  рддреБрд▓рдирд╛ рдХреЗ рд▓рд┐рдП рдЖрдЗрдП рдРрд░реЗ рдореЗрдВ рдЖрдЗрдЯрдо рддрддреНрд╡ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рддрд░реАрдХреЗ рд▓рд┐рдЦреЗрдВред </p><br><p>  рд╕рдмрд╕реЗ рд╕реНрдкрд╖реНрдЯ рдПрдХ: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Naive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Array) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i == Item) { result++; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  LINQ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LINQ</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; Array.Count(i =&gt; i == Item);</code> </pre> <br><p>  System.Numerics.Vectors рд╕реЗ рд╡реИрдХреНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Vectors</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mask = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(Item); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> vectorSize = Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Count; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> accResult = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> array = Array; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt;= array.Length - vectorSize; i += vectorSize) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(array, i); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> areEqual = Vector.Equals(v, mask); accResult = Vector.Subtract(accResult, areEqual); } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; i &lt; array.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (array[i] == Item) { result++; } } result += Vector.Dot(accResult, Vector&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.One); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  рдЖрдВрддрд░рд┐рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">unsafe</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Intrinsics</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> vectorSize = <span class="hljs-number"><span class="hljs-number">256</span></span> / <span class="hljs-number"><span class="hljs-number">8</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> temp = <span class="hljs-keyword"><span class="hljs-keyword">stackalloc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[vectorSize]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; vectorSize; j++) { temp[j] = Item; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mask = Avx2.LoadVector256(temp); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> accVector = Vector256&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.Zero; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> array = Array; <span class="hljs-keyword"><span class="hljs-keyword">fixed</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>* ptr = array) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt;= array.Length - vectorSize; i += vectorSize) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = Avx2.LoadVector256(ptr + i); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> areEqual = Avx2.CompareEqual(v, mask); accVector = Avx2.Subtract(accVector, areEqual); } } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; Avx2.Store(temp, accVector); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; vectorSize; j++) { result += temp[j]; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(; i &lt; array.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (array[i] == Item) { result++; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  рдореЗрд░реЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдЪрд▓рд╛рдиреЗ рдХреЗ рдкрд░рд┐рдгрд╛рдо: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  ItemsCount </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЕрдиреБрдкрд╛рдд </th></tr></thead><tbody><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  10 </td><td>  8.844 рдПрди.рдПрд╕. </td><td>  0.0772 рдПрди.рдПрд╕. </td><td>  0.0603 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  10 </td><td>  87.456 рдПрди.рдПрд╕. </td><td>  0.9496 рдПрди.рдПрд╕. </td><td>  0.8883 рдПрди.рдПрд╕. </td><td>  9.89 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  10 </td><td>  3.140 рдПрди.рдПрд╕. </td><td>  0.0406 рдПрди.рдПрд╕. </td><td>  0.0380 рдПрди.рдПрд╕. </td><td>  0.36 </td></tr><tr><td>  intrinsics </td><td>  10 </td><td>  резрей.резрей рдПрди.рдПрд╕. </td><td>  0.0825 рдПрди.рдПрд╕. </td><td>  0.0772 рдПрди.рдПрд╕. </td><td>  1.56 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  100 </td><td>  резреж ..рейрезреж рдПрди.рдПрд╕. </td><td>  0.6975 рдПрди.рдПрд╕. </td><td>  0.6183 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  100 </td><td>  626.285 рдПрди.рдПрд╕. </td><td>  5.7677 рдПрди.рдПрд╕. </td><td>  5.3951 рдПрди.рдПрд╕. </td><td>  5.83 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  100 </td><td>  11.844 рдПрди.рдПрд╕. </td><td>  0.2113 рдПрди.рдПрд╕. </td><td>  0.1873 рдПрди.рдПрд╕. </td><td>  0.11 </td></tr><tr><td>  intrinsics </td><td>  100 </td><td>  19.616 рдПрди.рдПрд╕. </td><td>  0.1018 рдПрди.рдПрд╕. </td><td>  0.0903 рдПрди.рдПрд╕. </td><td>  0.18 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  1000 </td><td>  1,032.466 рдПрди.рдПрд╕. </td><td>  6.3799 рд░реБрдкрдпреЗ </td><td>  5.6556 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  1000 </td><td>  6,266.605 рдПрди.рдПрд╕. </td><td>  42.6585 рдПрди.рдПрд╕. </td><td>  39.9028 рдПрди.рдПрд╕. </td><td>  6.07 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  1000 </td><td>  83.417 рдПрди.рдПрд╕. </td><td>  0.5393 рдПрди.рдПрд╕. </td><td>  0.4780 рдПрди.рдПрд╕. </td><td>  0.08 </td></tr><tr><td>  intrinsics </td><td>  1000 </td><td>  88.358 рдПрди.рдПрд╕. </td><td>  0.4921 рдПрди.рдПрд╕. </td><td>  0.4603 рдПрди.рдПрд╕. </td><td>  0.09 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  10000 </td><td>  9,942.503 рдПрди.рдПрд╕. </td><td>  47.9732 рдПрди.рдПрд╕. </td><td>  40.0598 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  10000 </td><td>  62,305.598 рдПрди.рдПрд╕. </td><td>  643.8775 рдПрди.рдПрд╕. </td><td>  502.6972 рдПрди.рдПрд╕. </td><td>  6.27 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  10000 </td><td>  914.967 рдПрди.рдПрд╕. </td><td>  7.2959 рдПрди.рдПрд╕. </td><td>  6.8246 рдПрди.рдПрд╕. </td><td>  0.09 </td></tr><tr><td>  intrinsics </td><td>  10000 </td><td>  931.698 рдПрди.рдПрд╕. </td><td>  6.3444 рдПрди.рдПрд╕. </td><td>  5.9346 рдПрди.рдПрд╕. </td><td>  0.09 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  100000 </td><td>  94,834.804 рдПрди.рдПрд╕. </td><td>  793.8585 рдПрди.рдПрд╕. </td><td>  703.7349 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  100000 </td><td>  626,620.968 рдПрди.рдПрд╕. </td><td>  4,696.9221 рдПрди.рдПрд╕. </td><td>  4,393.5038 рдПрди.рдПрд╕. </td><td>  6.61 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  100000 </td><td>  9,000.827 рдПрди рдПрд╕ </td><td>  179.5351 рдПрди.рдПрд╕. </td><td>  192.1005 рдПрди.рдПрд╕. </td><td>  0.09 </td></tr><tr><td>  intrinsics </td><td>  100000 </td><td>  8,690.771 рдПрдирдПрд╕ </td><td>  101.7078 рдПрдирдПрд╕ </td><td>  95.1376 рдПрди.рдПрд╕. </td><td>  0.09 </td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td>  рдЕрдиреБрднрд╡рд╣реАрди </td><td>  1000000 </td><td>  959,302.249 рдПрди.рдПрд╕. </td><td>  4,268.2488 рдПрди.рдПрд╕. </td><td>  3,783.6914 рдПрди.рдПрд╕. </td><td>  1.00 </td></tr><tr><td>  LINQ </td><td>  1000000 </td><td>  6,218,681.888 ns </td><td>  31,321.9277 рдПрди.рдПрд╕. </td><td>  29,298.5506 рдПрди.рдПрд╕. </td><td>  6.48 </td></tr><tr><td>  рд╡реИрдХреНрдЯрд░ </td><td>  1000000 </td><td>  99,778.488 рдПрди.рдПрд╕. </td><td>  1,975.6001 рдПрди.рдПрд╕. </td><td>  4,252.6877 рдПрди.рдПрд╕. </td><td>  0.10 </td></tr><tr><td>  intrinsics </td><td>  1000000 </td><td>  96,449.350 рдПрди.рдПрд╕. </td><td>  1,171.8067 рдПрди.рдПрд╕. </td><td>  978.5116 рдПрди.рдПрд╕. </td><td>  0.10 </td></tr></tbody></table></div><br><p>  рд╡реИрдХреНрдЯрд░ рдФрд░ рдЗрдВрдЯреНрд░рд┐рдВрд╕рд┐рдХреНрд╕ рддрд░реАрдХреЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рддрд░реНрдХ рдореЗрдВ рдореЗрд▓ рдЦрд╛рддреЗ рд╣реИрдВ рд▓реЗрдХрд┐рди рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рднрд┐рдиреНрди рд╣реЛрддреЗ рд╣реИрдВред  рд╡рд┐рдЪрд╛рд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╣реИ: </p><br><ul><li>  рдорд╛рд╕реНрдХ рд╡реЗрдХреНрдЯрд░ рдмрдирд╛рдПрдВ рдЬрд┐рд╕рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рддрддреНрд╡ рдореЗрдВ рдПрдХ рдЖрд╡рд╢реНрдпрдХ рд╕рдВрдЦреНрдпрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреА рд╣реИ; </li><li>  v рд╡реЗрдХреНрдЯрд░ рдореЗрдВ рдПрдХ рд╕рд░рдгреА рдХреЗ рднрд╛рдЧ рдХреЛ рд▓реЛрдб рдХрд░реЗрдВ рдФрд░ рдЗрд╕ рднрд╛рдЧ рдХреА рддреБрд▓рдирд╛ рдорд╛рд╕реНрдХ рд╕реЗ рдХрд░реЗрдВред  рдирддреАрдЬрддрди, рд╕рднреА рдмрд┐рдЯреНрд╕ рдПрд╕реЗрдХреНрд╡рд╛рд▓ рдХреЗ рд╕рдорд╛рди рддрддреНрд╡реЛрдВ рдореЗрдВ рд╕реЗрдЯ рд╣реЛ рдЬрд╛рдПрдВрдЧреЗред  рдЬреИрд╕рд╛ рдХрд┐ рдИрдХреНрд╡рд▓ рдкреВрд░реНрдгрд╛рдВрдХ рдХрд╛ рдПрдХ рд╕рд░рдгреА рд╣реИ, рддреЛ рдпрджрд┐ рд╣рдо рдПрдХ рддрддреНрд╡ рдХреЗ рд╕рднреА рдмрд┐рдЯреНрд╕ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЗрд╕ рддрддреНрд╡ рдореЗрдВ -1 рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреЗ ((рдЗрдВрдЯ) (1111_1111_1111_1111_1111_1111_1111_1111b) == -1); </li><li>  рдПрдХреНрд╡реАрдХреНрдЯрд░ рд╕реЗ рдШрдЯрд╛рд╡ рд╡реЗрдХреНрдЯрд░ рд╡реЗрдХреНрдЯрд░ рд╣реИрдВред  рдлрд┐рд░, accVector рдкреНрд░рддреНрдпреЗрдХ рдкрдж рдХреЗ рд▓рд┐рдП рд╕рднреА v рд╡реИрдХреНрдЯрд░реЛрдВ рдореЗрдВ рдЖрдЗрдЯрдо рддрддреНрд╡ рдХрд┐рддрдиреА рдмрд╛рд░ рд╣реБрдЖ рдЗрд╕рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдЧрд╛ (рд╢реВрдиреНрдп рд╕реЗ рдЛрдг рдПрдХ рдкреНрд▓рд╕ рд╣реИ)ред </li></ul><br><p>  рд▓реЗрдЦ рдХрд╛ рдкреВрд░рд╛ рдХреЛрдб <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">GitHub</a> рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред </p><br><h2 id="conclusion">  рдирд┐рд╖реНрдХрд░реНрд╖ </h2><br><p>  рдореИрдВрдиреЗ рдХрдореНрдкреНрдпреВрдЯреЗрд╢рди рд╡реИрд╢реНрд╡реАрдХрд░рдг рдХреЗ рд▓рд┐рдП .NET рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ рдХреЗрд╡рд▓ рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рд╣рд┐рд╕реНрд╕рд╛ рдмрддрд╛рдпрд╛ред  .NET Core рдХреЗ рддрд╣рдд рдЙрдкрд▓рдмреНрдз рд╕рднреА рдЖрдВрддрд░рд┐рдХ рдХреА рдкреВрд░реНрдг рдЕрджреНрдпрддрди рд╕реВрдЪреА рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП, x <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрд░реЛрдд рдХреЛрдб рдкрд░ рдЬрд╛рдПрдВ</a> ред  рдпрд╣ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ рдХрд┐ C # рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдЖрдВрддрд░рд┐рдХ рдХрд╛ рд╕рд╛рд░рд╛рдВрд╢ C рджреБрдирд┐рдпрд╛ рдореЗрдВ рдЕрдкрдирд╛ рдирд╛рдо рд░рдЦрддрд╛ рд╣реИред  рдпрд╣ рдпрд╛ рддреЛ рдЗрд╕ рдЖрдВрддрд░рд┐рдХ рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рдФрд░ рдореМрдЬреВрджрд╛ C ++ / C рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЛ .NET рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рдХреЛ рд╕рдордЭрдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред  System.Numerics.Vector рдкреНрд░рд▓реЗрдЦрди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">msdn</a> рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИред </p><br><p>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ .NET рдХрд╛ C ++ рдкрд░ рдмрд╣реБрдд рдлрд╛рдпрджрд╛ рд╣реИред  рдЬреИрд╕рд╛ рдХрд┐ рдЬреЗрдЖрдИрдЯреА рд╕рдВрдХрд▓рди рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреНрд▓рд╛рдЗрдВрдЯ рдорд╢реАрди рдкрд░ рд╣реЛрддрд╛ рд╣реИ, рдПрдХ рдХрдВрдкрд╛рдЗрд▓рд░ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдХреНрд▓рд╛рдЗрдВрдЯ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдХреЛ рдЕрдзрд┐рдХрддрдо рдкреНрд░рджрд░реНрд╢рди рджреЗ рд╕рдХрддрд╛ рд╣реИред  рдЙрд╕реА рд╕рдордп, рдПрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдлрд╛рд╕реНрдЯ рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рднрд╛рд╖рд╛ рдФрд░ рдПрдХ рд╣реА рддрдХрдиреАрдХреЛрдВ рдХреЗ рднреАрддрд░ рд░рд╣ рд╕рдХрддрд╛ рд╣реИред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi467689/">https://habr.com/ru/post/hi467689/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi467675/index.html">SwiftUI рдореЗрдВ рд╕реНрдЯреЛрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдореЙрдбрд▓рд┐рдВрдЧ рд╕реНрдЯреЗрдЯ</a></li>
<li><a href="../hi467677/index.html">рдЯреЗрд╕реНрдЯ рдпрд╛ рдкреНрд░рдХрд╛рд░</a></li>
<li><a href="../hi467679/index.html">PyCrunch - IDE рдореЗрдВ рдмреБрджреНрдзрд┐рдорд╛рди рдкрд░реАрдХреНрд╖рдг рдирд┐рд╖реНрдкрд╛рджрди рдФрд░ рджреГрд╢реНрдп рдХреЛрдб рдХрд╡рд░реЗрдЬ</a></li>
<li><a href="../hi467681/index.html">SOAP рд░реВрдЯрд┐рдВрдЧ рд╡рд▓реНрдирд░реЗрдмрд┐рд▓рд┐рдЯреА рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИ</a></li>
<li><a href="../hi467683/index.html">рдЧреИрд░-рдХрдВрдкреЛрдЬрд┐рдЯ: рдбреЙрдХрд┐рдВрдЧ рдпреЛрдЬрдирд╛рдУрдВ рдХреА рд░рдЪрдирд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдирд╛</a></li>
<li><a href="../hi467691/index.html">рдЗрдВрдЯреЗрд▓ Nervana NNP-T рдФрд░ NNP-I - AI рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рдЪрд┐рдкреНрд╕</a></li>
<li><a href="../hi467693/index.html">рд╕рд┐рддрдВрдмрд░ рдЖрдИрдЯреА рдЗрд╡реЗрдВрдЯреНрд╕ рдбрд╛рдЗрдЬреЗрд╕реНрдЯ (рднрд╛рдЧ рджреЛ)</a></li>
<li><a href="../hi467697/index.html">рдХреНрдпрд╛ рдпрд╣ рд╕рдЪ рд╣реИ рдХрд┐ GOPATH рдФрд░ GOROOT рдХреА рдЕрдм рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ?</a></li>
<li><a href="../hi467699/index.html">рд╕рдмрд╕реЗ рддреЗрдЬ рд╕реНрдЯреНрд░рд▓реЗрди рдХреИрд╕реЗ рди рдмрдирд╛рдПрдВ рдФрд░ рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ 2019 рдХрдореНрдпреБрдирд┐рдЯреА рдореЗрдВ рдПрдХ рджреЛрд╖ рдЦреЛрдЬреЗрдВ</a></li>
<li><a href="../hi467701/index.html">рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рдмрдЬрд╛рдп рд╢реНрд░реЗрдгрд┐рдпрд╛рдБред рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдлрд╝рд╛рдЗрд▓ рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдХрд░рдг</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>