<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙌 🔭 👋🏽 Râteau rétrospectif. Comment une solution autodidacte s'est avérée plus cool que payée 🤚 ↩️ 👴🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut Je m'appelle Alexey Pyankov, je suis le programmeur en chef de Sportmaster. Je dirai tout de suite que "principal" ne signifie pas "le plus impo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Râteau rétrospectif. Comment une solution autodidacte s'est avérée plus cool que payée</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sportmaster_lab/blog/485088/"><p>  Salut  Je m'appelle Alexey Pyankov, je suis le programmeur en chef de Sportmaster.  Je dirai tout de suite que "principal" ne signifie pas "le plus important de tous les programmeurs", non, c'est juste un nom, une charmante traduction pour "Senior +" ". </p><br><p>  Je travaille chez Sportmaster depuis 2012, et pendant ce temps, l'équipe de développement a pris de nombreuses décisions intéressantes d'un point de vue technique.  Mais aujourd'hui, je voudrais parler de notre travail en insistant davantage sur la façon dont nous avons raisonné dans certaines situations ambiguës. </p><br><p>  Cet article n'aura pas de solutions techniques spécifiques (et en fait quelque chose de technique) qui devraient être saisies et appliquées dans votre projet.  Il s'agit plutôt d'une réflexion sur le travail accompli.  Il y a eu des moments si spéciaux qui nous ont influencés en tant qu'équipe - ralliés, tempérés et testés pour la force.  J’essaierai de vous parler de ces moments, de l’atmosphère de travail en équipe, de notre râteau et de plusieurs pièges psychologiques dans lesquels nous nous enfonçons parfois. </p><br><p><img src="https://habrastorage.org/webt/ir/56/ba/ir56ba1hkowbjqb5fg16jpnumpi.jpeg" alt="image"></p><br><p>  Et je vais commencer en 2012. </p><a name="habracut"></a><br><p>  Je suis arrivé en 2012 avec l'objectif principal à l'époque - travailler sur notre site Web phare.  À l'époque, c'était un "monstre de Frankenstein": une partie de l'équipe travaillait avec notre ancien système, qui ne gérait pas très bien les charges (Bitrix), dans une autre partie de l'équipe (où j'inclus), ils ont essayé de mettre en œuvre un nouveau système, qui a été choisi selon le critère "Une fois c'est le commerce électronique le plus cher du monde, nous le considérons. "  Ce sont eux qui ont «essayé de mettre en œuvre» - parce que le système résistait désespérément, et à chaque instant où il s'est avéré être réglé, il y a eu une «surprise» en réponse.  Ils travaillaient beaucoup, mais avançaient à la vitesse d'un escargot. </p><br><p> Pour moi personnellement, la dernière goutte a été de se familiariser avec le code d'une méthode dans ce "commerce électronique le plus cher du monde", lorsque plusieurs heures de travail concentré sur un bug compliqué ont conduit au fait que la raison a été trouvée quelque part dans la balise personnalisée, qui fonctionne lorsque génération html en jsp.  La tâche de cette balise personnalisée est d'afficher la somme de certaines valeurs.  Ce n'est pas mauvais, les balises personnalisées sont destinées à cela.  Mais la surprise s'est cachée dans le fait que certaines données de la base de données changent, le comportement des pages suivantes y est lié, et si vous appuyez sur F5, l'appel se répète, cela viole la cohérence des données.  De plus, il violait de telle manière qu'il n'apparaissait qu'après quelques étapes, sur la 3ème page de la séquence.  Non, cela ne me dérange pas qu'un tel "maître ninja" était dans l'équipe et avec son code a soutenu l'attention de collègues en bonne forme.  Mais juste comme ça, dans le système le plus cher! </p><br><p>  C'était vendredi.  Et un collègue et moi avons passé samedi et dimanche au bureau pour déterminer quelles tâches l'entreprise pose pour le système aujourd'hui et quelles tâches il peut proposer en un an.  En conséquence, comment pourrions-nous les résoudre si nous n'étions pas conduits dans le cadre de l'utilisation de ce système le plus cher et le plus rentable. </p><br><p>  Aussitôt dit, aussitôt fait.  Nous avons réalisé un projet pilote dans lequel nous avons jeté les bases du développement du nouveau site Web Sportmaster.  Beaucoup de ces idées ont pris racine et en ce moment leur continuation tourne activement sur le site. </p><br><h2 id="etapy-pilota-i-vremennye-ramki">  Phases pilotes et délais </h2><br><p>  <strong>2 jours</strong>  Nous avons fait un microtrototype - au cours du week-end, nous dépassons notre base dans ElasticSearch, nous faisons une recherche à facettes.  Woah la!  Dans le même système acheté, un tel paramètre «a mangé» 2 semaines.  Et ici - en seulement quelques heures!  Oui, et cela fonctionne plus rapidement.  Et plus vite sur commande. </p><br><p>  <strong>2 semaines.</strong>  Nous voyons un prototype, ajoutant des fonctionnalités pour une livraison personnalisée adéquate. </p><br><p>  Par exemple, l'utilisateur a plusieurs remises et promotions qui sont pertinentes spécifiquement pour lui - puis dans les résultats de la recherche sur les produits, vous devez afficher exactement le prix qui peut être obtenu en utilisant tous les petits pains disponibles de la manière la plus rentable. </p><br><p>  Avec les stocks, tout n'est pas si simple.  Par exemple, j'ai acheté des skis, maintenant il y a une remise de 40% sur un chapeau, mais en même temps, une remise de bienvenue de 10% sur toute la commande est annulée.  Oui, oui, c'est un vrai cas :) Et afin de mettre en place une telle promotion dans le système d'achat, 3 consultations avec le fournisseur ont été payées, à la suite de quoi nous avons eu de nombreux exemples de comment faire différentes autres promotions.  Très diplomatique et, compte tenu du coût de la consultation, très bon sur le plan économique. </p><br><p>  A montré à l'entreprise une démo détaillée.  Ils ont promis de monter rapidement le pilote et se sont immédiatement mis au travail. </p><br><p>  <strong>2 mois.</strong>  Projet pilote - nous le réalisons sous la forme d'un site en direct avec une recherche dans l'annuaire.  Recherche avec facettes, résultats de recherche - avec des remises personnelles, le pilote ressemble presque au site d'un Sportmaster, et nous avons rempli les mêmes produits.  Ma chérie! </p><br><p>  Nous ajoutons le "Eloquence: 100" de notre chef de département, et la présentation à l'entreprise a lieu le Hourra!  Ils nous donnent carte blanche pour développer nous-mêmes la plateforme de commerce électronique. </p><br><p>  Et cela signifie, gardez, les gars, l'équipe, gardez, les gars, le budget.  Cool! </p><br><p>  <strong>2 ans</strong>  Retrait du site en production.  Oui, longtemps.  Tout ce que nous savions alors, nous n'avons essayé qu'à l'échelle du prototype.  Deux personnes forment facilement une équipe soudée.  Et les tâches que nous avons «cassées» - en gros, ce sont de petites dopila de «Hello World» dans les nouvelles technologies.  Nous avons facilement généré de nouvelles hypothèses, les avons rapidement testées, n'avons pas eu le temps de nous y attacher et donc, sans regrets, elles les ont «tuées».  Lorsque nous sommes devenus 10 personnes, nous avons extrapolé l'inertie de notre vitesse de travail à tout le monde.  Et ils ont promis de tels délais pour la tâche, qui sont égaux à l'idée du beau, multipliés par notre enthousiasme. </p><br><p>  Une situation familière?  :) </p><br><p>  Alors, savez-vous déjà ce qui va se passer ensuite? </p><br><h2 id="lovushka-1-ekstrapolyator-krutysh">  Piège n ° 1.  "Résistant à l'extrapolation" </h2><br><p>  Il est clair que les nouvelles technologies ont l'air très cool dans les présentations et montrent d'excellents résultats dans l'application de la catégorie «Hello World».  Mais la réalité est généralement un peu plus éloignée de cela. </p><br><p>  Alors voilà.  Nous prenons la bibliothèque, écrivons un tas de code d'application.  Nous considérons les tests unitaires comme un fardeau (nous sommes cool et nous labourons sur supersonique ici, le code est moderne et ainsi de suite).  Nous changeons et modifions constamment l'API sur la route - eh bien, quel genre de tests sont là, sérieusement.  Et tout cela sous la bannière de "coolly optimized the development process" (oui, maintenant c'est même effrayant de le décrire). </p><br><p>  Et puis tout est assez évident. </p><br><p>  Nous déployons une nouvelle construction sur uat.  Les gars de l'entreprise vont joyeusement tester tout cela et appuyer sur les boutons.  Parfois, ils exercent une pression assez créative - quelque chose tombe.  Ensuite, allez découvrir ce qu'ils ont fait pour cela.  Mais de l'autre côté du moniteur n'est pas un testeur fastidieux qui vous présente toutes les caractéristiques environnementales, en tenant compte des conditions météorologiques de la région, mais le client est en faillite.  Il "ne fonctionne tout simplement pas".  Donc, il est malheureux.  Demandez-lui - et il sera <em>terriblement</em> malheureux! </p><br><p><img src="https://habrastorage.org/webt/op/yd/ak/opydakk2ezoie2gk0h-neque39y.png" alt="image"></p><br><p>  Ensuite, afin de reproduire le bogue, vous devez vous lancer dans tout.  Bien sûr, nous n'avons pas ignoré une seule plainte et tout réglé.  Ils ont jeté les tâches prévues, mais "éteint l'incendie". </p><br><p>  Nous nous sommes donc creusés le trou suivant. </p><br><h2 id="lovushka-2-stahanovec">  Piège numéro 2.  "Stakhanovets" </h2><br><p>  Vous n'avez pas eu le bug le plus agréable.  Vous commencez à comprendre.  Cela ne fonctionne pas - la colère - une tentative de régler à nouveau - une autre déception - vous spécifiez tout ce que vous pouvez - encore une fois pas que vous pensez que vous êtes déjà vieux et que vous avez tous des enfants et une hypothèque - vous essayez à nouveau - pas encore.  Quelques tasses de café et tout se répète.  12-14 heures d'affilée est presque la norme.  Et maintenant, quand tout est déjà à sa limite - bang, inspiration! </p><br><p><img src="https://habrastorage.org/webt/il/ug/1h/ilug1hywomvfzigjqpps-521840.png" alt="image"></p><br><p>  Peut-être, de l'extérieur, l'évaluation de l'efficacité d'une telle journée est bien et correctement visible.  Mais de l'intérieur - cela peut être différent. </p><br><p>  Dans mon cas, l'impression d'un tel travail était «j'ai fini, je suis cool, je me suis retiré».  Pas toujours consciemment, mais inconsciemment - toujours! </p><br><p>  Et asseyez-vous dessus, sans blague.  Il s'avère que les métriques internes de la réussite du mouvement sont déplacées du résultat au nombre d'efforts appliqués et au niveau de ce que vous avez accompli, combien vous avez souffert, en essayant de résoudre le problème. </p><br><p>  C'est probablement le pire piège. </p><br><p>  De plus, ce sera plus facile et plus amusant :) </p><br><h2 id="lovushka-3-sila-hello-world">  Piège numéro 3.  "La puissance de Hello world" </h2><br><p>  Notre pile technologique de cette période: ElasticSearch, Hazelcast, Pentaho, freemarker (et Java, Spring, Tomcat, nginx).  Freemarker n'a pas signalé les messages d'erreur de manière très informative.  Mais ElasticSearch, Hazelcast, Pentaho ont dû être corrigés plusieurs fois - nous avons trouvé avec talent des cas dans lesquels ils ne fonctionnaient pas comme spécifié par la documentation. </p><br><p>  Un démarrage facile et un pain d'épice rapide grâce à l'utilisation de nouvelles technologies sont bons, mais ils introduisent l'euphorie et réduisent la vigilance.  Parce que la nouvelle technologie contient des bogues, elle contient nécessairement des bogues.  Et si vous n'avez pas encore écrit à leur sujet - réjouissez-vous, c'est à vous de devenir le pionnier qui ramasse de toute façon quelque chose de tordu et va sur Google ou SO.  Bien sûr, le «tordu» peut être trouvé dans des produits éprouvés, mais dans les nouveaux, c'est beaucoup plus facile. </p><br><p><img src="https://habrastorage.org/webt/on/k_/es/onk_esy04syzexdj5odtjk8f_o8.png" alt="image"></p><br><p>  Malgré toutes les difficultés, nous sommes entrés en production.  Oui, avec des retards.  Oui, pas très stable.  Mais dans l'ensemble - pas de catastrophe. </p><br><p>  Au total, je note encore une fois des pièges dans lesquels une perception saine du processus de travail est faussée. </p><br><ol><li>  <strong>"Résistant à l'extrapolation"</strong> .  Impressionnés par les succès actuels, nous allons extrapoler joyeusement la vitesse de développement aux projets à venir. </li><li>  <strong>"Stakhanovets</strong> . <strong>"</strong>  Nous travaillons pour l'usure, nous sommes satisfaits de nous-mêmes, mais nous ne remarquons pas que les problèmes que nous résolvons sont la conséquence de nos erreurs / lacunes / négligences personnelles.  Travaux à ne pas faire. </li><li>  <strong>"La puissance de Hello world</strong> . <strong>"</strong>  Nous nous empressons de présenter tous les produits les plus récents et les plus intéressants en production. </li></ol><br><h2 id="pochemu-vsyo-poluchilos">  Pourquoi ça a marché </h2><br><p>  Bien sûr, je n'ai pas énuméré toutes les erreurs que nous avons eues pendant cette période, mais les plus courantes, probables pour un projet de toute spécificité.  Cette correction d'erreurs permet de les éviter à l'avenir. </p><br><p>  Un peu sur la façon dont nous avons généralement réussi à créer une telle mini-startup au sein de l'entreprise et à convaincre l'entreprise de passer du système déjà acheté à quelque chose de son genre. </p><br><p>  <strong>Condition n ° 0</strong> .  Un climat sain dans l'entreprise.  Ce n'est pas seulement les «yeux brûlants» des employés et la sociabilité dans des conditions stressantes d'extraction des cookies, non.  Il s'agit de toutes les interactions. </p><br><p>  <strong>Condition n ° 1</strong> .  Croyez en ce que vous faites.  Sérieusement, je ne pense pas que nous aurions au moins une certaine chance si nous devions prendre un pilote sans avoir à comprendre le système acheté "au boulon" - c'est-à-dire prendre du recul et savoir inconsciemment que ce système est plus frais et est occupé par nous. </p><br><p>  Ce que nous avons fait: 1) comprendre le système d'achat, avec cela résolu les demandes de base de l'entreprise 2) compilé une liste de tâches qui non seulement existeront maintenant, mais le seront dans un avenir prévisible 3) ont sélectionné une solution qui fonctionne le mieux.  Et puis, notre évaluation de la décision - c'était une évaluation d'experts. </p><br><p>  Voudraient-ils nous donner quelque chose si nous venions juste et disions: "les gars, toutes ces ordures, nous ne voulons pas nous en occuper et décider de faire notre truc à partir de zéro"?  À peine.  Et la réponse aurait été reçue sous une forme dont on se souvient bien :) </p><br><p>  <strong>Condition n ° 2</strong> .  La première étape est petite.  Nous générons la première hypothèse et vérifions.  Vous pouvez y consacrer votre temps personnel.  Si vous ne voulez pas perdre votre temps, alors vous ne devriez pas du tout prendre une telle chose.  Et si vous ne voulez pas tester une petite hypothèse, mais voulez le faire immédiatement cool et brillant, éloignez-vous de telles personnes! </p><br><p>  Nous avons eu de la chance et la toute première hypothèse a fonctionné.  Mais cela ne se produit pas toujours.  Par exemple, dans l'un des projets suivants, lorsque l'administrateur a été promu dans le cadre d'un projet pilote similaire, seule la 18e option a fonctionné pour nous.  Et les 17 premières approches du projectile ont été perdues.  Soit dit en passant, dans l'histoire de la création de la zone d'administration, les rebondissements étaient au niveau de la série brésilienne, car l'équipe était composée de gars, à l'époque déjà des vétérans, de vrais «bourreaux râpés». </p><br><p>  <strong>Condition n ° 3</strong> .  Nous faisons du MVP et recherchons la douleur chez le décideur.  Bien sûr, l'horreur peut déjà se refléter sur son visage du fait que vous lui apportez une sorte d'aventure pour la trentième fois.  Mais quand même.  Et assurez-vous de montrer comment nous résolvons exactement ses problèmes avec notre produit. </p><br><p>  <strong>Condition n ° 4</strong> .  Sur le genou, nous faisons rapidement un pilote qui ressemble à <em>quelque chose</em> comme le résultat final.  Rendre tout vraiment cool est tentant, mais vous pouvez rencontrer le perfectionnisme, à cause de quoi il s'avère qu'au lieu d'un pilote, vous voulez montrer une version pilote d'un produit déjà idéal.  Mais ils n'existent pas.  Faites donc au moins des bâtons. </p><br><p>  <strong>Condition n ° 5</strong> .  Produit.  Le projet grandit, obtient des financements, les experts ont une solide expérience. <br>  Et si vous êtes une startup classique, c'est le moment même où vous devez blâmer avec un coup de sifflet.  Parce que les vols légers au sommet et un sentiment de bonté générale de ce qui se passe sont rapidement dispersés. </p><br><p>  Entrer dans le produit est une collision avec des charges réelles, une intégration avec une douzaine de systèmes, et lorsque vous créez de nouvelles fonctionnalités, vous finalisez les anciennes versions dans le cadre de la maintenance.  Tous ces défis sont beaucoup plus sérieux que de proposer une idée et de les résoudre, quoique bien, mais juste un problème client. </p><br><p>  Ce sont des défis, et la croissance des compétences - se produit précisément à ce stade. </p><br><p>  Merci d'avoir lu.  Bon nouveau code! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485088/">https://habr.com/ru/post/fr485088/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485070/index.html">Andrew Eun "Passion pour l'apprentissage automatique." Traduction des chapitres 36-46</a></li>
<li><a href="../fr485074/index.html">Comment ne pas mourir sur un projet ou 5 hacks de vie</a></li>
<li><a href="../fr485078/index.html">Difficile, vulnérable, sous-configuré: cyber-menaces 2020</a></li>
<li><a href="../fr485080/index.html">NgRx Ducks | Façades dynamiques</a></li>
<li><a href="../fr485084/index.html">Plancton de bureau - Evolution</a></li>
<li><a href="../fr485090/index.html">Le secret de l'efficacité est un code de qualité, pas un gestionnaire efficace</a></li>
<li><a href="../fr485092/index.html">Validation des données dans les applications iOS</a></li>
<li><a href="../fr485094/index.html">Microservices avec Spring Boot. Partie 3. Création d'un microservice de conversion de devises</a></li>
<li><a href="../fr485098/index.html">La conception peut-elle affecter la vitesse de livraison?</a></li>
<li><a href="../fr485100/index.html">Où aller: les prochains événements gratuits pour les développeurs à Moscou (30 janvier - 15 février)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>