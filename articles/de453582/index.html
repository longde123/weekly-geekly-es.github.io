<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🤝‍👨🏾 🤷🏼 🚫 Node.js Projekte, in denen es besser ist, keine Sperrdateien zu verwenden ➰ 🈂️ 🐻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Autor des Materials, dessen Übersetzung wir heute veröffentlichen, sagt, dass eines der Probleme, mit denen sich Programmierer befassen müssen, da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Node.js Projekte, in denen es besser ist, keine Sperrdateien zu verwenden</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/453582/">  Der Autor des Materials, dessen Übersetzung wir heute veröffentlichen, sagt, dass eines der Probleme, mit denen sich Programmierer befassen müssen, darin besteht, dass ihr Code für sie funktioniert und jemand anderem Fehler gibt.  Dieses Problem, möglicherweise eines der häufigsten, entsteht aufgrund der Tatsache, dass verschiedene Abhängigkeiten, die das Programm verwendet, in den Systemen des Erstellers und Benutzers des Programms installiert sind.  Um diesem Phänomen entgegenzuwirken, existieren in den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Garn-</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npm-</a> Paketmanagern sogenannte Sperrdateien.  Sie enthalten Informationen zu den genauen Versionen der Abhängigkeiten.  Der Mechanismus ist nützlich, aber wenn jemand ein Paket entwickelt, das in npm veröffentlicht werden soll, sollte er keine Sperrdateien verwenden.  Dieses Material widmet sich der Geschichte, warum dies so ist. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/_r/wg/hp/_rwghp7lka8tkw1fdaqwyhfmqfg.png"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Das Wichtigste auf den Punkt gebracht</font> </h2><br>  Sperrdateien sind äußerst nützlich, wenn Sie Node.js-Anwendungen wie Webserver entwickeln.  Wenn Sie jedoch über das Erstellen einer Bibliothek oder eines Befehlszeilentools mit dem Ziel der Veröffentlichung in npm sprechen, müssen Sie wissen, dass Sperrdateien in npm nicht veröffentlicht werden.  Wenn diese Dateien während der Entwicklung verwendet werden, verwenden der Ersteller des npm-Pakets und diejenigen, die dieses Paket verwenden, unterschiedliche Versionen der Abhängigkeiten. <br><br><h2>  <font color="#3AC1EF">Was ist eine Sperrdatei?</font> </h2><br>  Die Sperrdatei beschreibt den vollständigen Abhängigkeitsbaum in der Form, die er während der Arbeit am Projekt erhalten hat.  Diese Beschreibung enthält auch verschachtelte Abhängigkeiten.  Die Datei enthält Informationen zu bestimmten Versionen der verwendeten Pakete.  Im npm-Paketmanager werden solche Dateien in yarn - <code>yarn.lock</code> als <code>package-lock.json</code> <code>yarn.lock</code> .  In beiden Managern befinden sich diese Dateien im selben Ordner wie <code>package.json</code> . <br><br>  So könnte <code>package-lock.json</code> aussehen. <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"lockfile-demo"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lockfileVersion"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: {  <span class="hljs-attr"><span class="hljs-attr">"ansi-styles"</span></span>: {    <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"3.2.1"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"resolved"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://registry.npmjs.org/ansi-styles/-/ansi-styles-3.2.1.tgz"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"integrity"</span></span>: <span class="hljs-string"><span class="hljs-string">"sha512-VT0ZI6kZRdTh8YyJw3SMbYm/u+NqfsAxEpWO0Pf9sq8/e94WxxOpPKx9FR1FlyCtOVDNOQ+8ntlqFxiRc+r5qA=="</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: {      <span class="hljs-attr"><span class="hljs-attr">"color-convert"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.9.0"</span></span>    }  },  <span class="hljs-attr"><span class="hljs-attr">"chalk"</span></span>: {    <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"2.4.2"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"resolved"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://registry.npmjs.org/chalk/-/chalk-2.4.2.tgz"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"integrity"</span></span>: <span class="hljs-string"><span class="hljs-string">"sha512-Mti+f9lpJNcwF4tWV8/OrTTtF1gZi+f8FqlyAdouralcFWFQWF2+NgCHShjkCb+IFBLq9buZwE1xckQU4peSuQ=="</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: {      <span class="hljs-attr"><span class="hljs-attr">"ansi-styles"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.2.1"</span></span>,      <span class="hljs-attr"><span class="hljs-attr">"escape-string-regexp"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.5"</span></span>,      <span class="hljs-attr"><span class="hljs-attr">"supports-color"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.3.0"</span></span>    }  } } }</code> </pre> <br>  Hier ist ein Beispiel für eine <code>yarn.lock</code> Datei.  Es ist nicht wie <code>package-lock.json</code> , enthält jedoch ähnliche Daten. <br><br><pre> <code class="json hljs"># THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY. # yarn lockfile v<span class="hljs-number"><span class="hljs-number">1</span></span> ansi-styles@^<span class="hljs-number"><span class="hljs-number">3.2</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>: version <span class="hljs-string"><span class="hljs-string">"3.2.1"</span></span> resolved <span class="hljs-string"><span class="hljs-string">"https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-3.2.1.tgz#41fbb20243e50b12be0f04b8dedbf07520ce841d"</span></span> integrity sha<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">2</span></span>-VT<span class="hljs-number"><span class="hljs-number">0</span></span>ZI<span class="hljs-number"><span class="hljs-number">6</span></span>kZRdTh<span class="hljs-number"><span class="hljs-number">8</span></span>YyJw<span class="hljs-number"><span class="hljs-number">3</span></span>SMbYm/u+NqfsAxEpWO<span class="hljs-number"><span class="hljs-number">0</span></span>Pf<span class="hljs-number"><span class="hljs-number">9</span></span>sq<span class="hljs-number"><span class="hljs-number">8</span></span>/e<span class="hljs-number"><span class="hljs-number">9</span></span><span class="hljs-number"><span class="hljs-number">4</span></span>WxxOpPKx<span class="hljs-number"><span class="hljs-number">9</span></span>FR<span class="hljs-number"><span class="hljs-number">1</span></span>FlyCtOVDNOQ+<span class="hljs-number"><span class="hljs-number">8</span></span>ntlqFxiRc+r<span class="hljs-number"><span class="hljs-number">5</span></span>qA== dependencies:       color-convert <span class="hljs-string"><span class="hljs-string">"^1.9.0"</span></span> chalk@^<span class="hljs-number"><span class="hljs-number">2.4</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>: version <span class="hljs-string"><span class="hljs-string">"2.4.2"</span></span> resolved <span class="hljs-string"><span class="hljs-string">"https://registry.yarnpkg.com/chalk/-/chalk-2.4.2.tgz#cd42541677a54333cf541a49108c1432b44c9424"</span></span> integrity sha<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">2</span></span>-Mti+f<span class="hljs-number"><span class="hljs-number">9</span></span>lpJNcwF<span class="hljs-number"><span class="hljs-number">4</span></span>tWV<span class="hljs-number"><span class="hljs-number">8</span></span>/OrTTtF<span class="hljs-number"><span class="hljs-number">1</span></span>gZi+f<span class="hljs-number"><span class="hljs-number">8</span></span>FqlyAdouralcFWFQWF<span class="hljs-number"><span class="hljs-number">2</span></span>+NgCHShjkCb+IFBLq<span class="hljs-number"><span class="hljs-number">9</span></span>buZwE<span class="hljs-number"><span class="hljs-number">1</span></span>xckQU<span class="hljs-number"><span class="hljs-number">4</span></span>peSuQ== dependencies:       ansi-styles <span class="hljs-string"><span class="hljs-string">"^3.2.1"</span></span>       escape-string-regexp <span class="hljs-string"><span class="hljs-string">"^1.0.5"</span></span>       supports-color <span class="hljs-string"><span class="hljs-string">"^5.3.0"</span></span></code> </pre> <br>  Beide Dateien enthalten einige wichtige Abhängigkeitsinformationen: <br><br><ul><li>  Die genaue Version jeder installierten Abhängigkeit. </li><li>  Abhängigkeitsinformationen für jede Abhängigkeit. </li><li>  Informationen zum heruntergeladenen Paket, einschließlich der Prüfsumme zur Überprüfung der Integrität des Pakets. </li></ul><br>  Wenn alle Abhängigkeiten in der Sperrdatei aufgeführt sind, warum fügen sie dann auch Informationen zu <code>package.json</code> ?  Warum werden zwei Dateien benötigt? <br><br><h2>  <font color="#3AC1EF">Vergleich von package.json und Sperrdateien</font> </h2><br>  Der Zweck des <code>dependencies</code> der Datei <code>package.json</code> besteht darin, die Projektabhängigkeiten <code>package.json</code> , die installiert werden müssen, damit sie ordnungsgemäß funktionieren.  Dies beinhaltet jedoch keine Informationen über die Abhängigkeiten dieser Abhängigkeiten.  Abhängigkeitsinformationen können genaue Paketversionen oder einen bestimmten Versionsbereich enthalten, der gemäß den Regeln der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">semantischen Versionierung angegeben wurde</a> .  Bei Verwendung des Npm- oder Garnbereichs wird die am besten geeignete Version des Pakets ausgewählt. <br><br>  Angenommen, der Befehl <code>npm install</code> wurde ausgeführt, um die Abhängigkeiten eines bestimmten Projekts zu installieren.  Während des Installationsprozesses nahm npm geeignete Pakete auf.  Wenn Sie diesen Befehl nach einer Weile erneut ausführen und während dieser Zeit neue Versionen von Abhängigkeiten freigegeben werden, kann es durchaus vorkommen, dass beim zweiten Mal andere Versionen der im Projekt verwendeten Pakete geladen werden.  Wenn Sie beispielsweise eine Abhängigkeit wie <code>twilio</code> mit dem <code>npm install twilio</code> der folgende Eintrag im Abschnitt " <code>dependencies</code> " der Datei <code>package.json</code> : <br><br><pre> <code class="plaintext hljs">{ "dependencies": {    "twilio": "^3.30.3" } }</code> </pre> <br>  Wenn Sie sich die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> zur semantischen Versionierung von npm ansehen, sehen Sie, dass das Symbol <code>^</code> angibt, dass eine beliebige Version des Pakets geeignet ist, deren Anzahl größer oder gleich 3.30.3 und kleiner als 4.0.0 ist.  Wenn das Projekt keine Sperrdatei enthält und eine neue Version des Pakets freigegeben wird, <code>yarn install</code> <code>npm install</code> oder <code>yarn install</code> install diese neue Version des Pakets automatisch.  Die Informationen in <code>package.json</code> werden nicht aktualisiert.  Bei Verwendung von Sperrdateien sieht alles anders aus. <br><br>  Wenn npm oder yarn die entsprechende Sperrdatei findet, werden Pakete basierend auf dieser Datei und nicht auf <code>package.json</code> .  Dies ist beispielsweise besonders nützlich, wenn Sie CI-Systeme (Continuous Integration) auf Plattformen verwenden, auf denen Sie einen einheitlichen Betrieb von Code und Tests in einer Umgebung sicherstellen müssen, deren Eigenschaften im Voraus bekannt sind.  In solchen Fällen können Sie beim Aufrufen der entsprechenden Paketmanager spezielle Befehle oder Flags verwenden: <br><br><pre> <code class="javascript hljs">npm ci #   ,    package-lock.json yarn install --frozen-lock-file #  ,    yarn.lock,    </code> </pre> <br>  Dies ist äußerst nützlich, wenn Sie ein Projekt wie eine Webanwendung oder einen Server entwickeln, da Sie in einer CI-Umgebung das Benutzerverhalten simulieren müssen.  Wenn wir eine Sperrdatei in das Projekt-Repository aufnehmen (z. B. mit Git-Tools erstellt), können wir daher sicher sein, dass jeder Entwickler, jeder Server, jedes Code-Building-System und jede CI-Umgebung dieselben Versionen verwendet Abhängigkeiten. <br><br>  Warum nicht dasselbe tun, wenn Sie Bibliotheken oder andere Softwaretools in der npm-Registrierung veröffentlichen?  Bevor wir diese Frage beantworten, müssen wir darüber sprechen, wie das Veröffentlichen von Paketen funktioniert. <br><br><h2>  <font color="#3AC1EF">Paketveröffentlichungsprozess</font> </h2><br>  Einige Entwickler glauben, dass das, was in npm veröffentlicht wird, genau das ist, was im Git-Repository gespeichert ist oder was das Projekt nach Abschluss der Arbeit daran wird.  Dies ist eigentlich nicht der Fall.  Beim Veröffentlichen eines Pakets ermittelt npm <code>package.json</code> des <code>.npmignore</code> in der Datei <code>package.json</code> und der Datei <code>.npmignore</code> , welche Dateien veröffentlicht werden <code>.npmignore</code> .  Wenn nichts davon erkannt werden kann, wird die <code>.gitignore</code> Datei verwendet.  Außerdem werden einige Dateien immer veröffentlicht, andere nie.  Was diese Dateien sind, finden Sie <a href="">hier</a> .  Beispielsweise ignoriert npm immer den Ordner <code>.git</code> . <br><br>  Danach nimmt npm alle entsprechenden Dateien und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">packt</a> sie mit dem Befehl <code>npm pack</code> in eine <code>tarball</code> Datei.  Wenn Sie sich ansehen möchten, was genau in eine solche Datei gepackt ist, können Sie den Befehl <code>npm pack --dry-run</code> im Projektordner <code>npm pack --dry-run</code> und die Liste der Materialien in der Konsole <code>npm pack --dry-run</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/83e/1a1/edc/83e1a1edc6fc37c9573fd816103f5f3e.png"></div><br>  <i><font color="#999999">Npm pack - Befehlsausgabe trocken ausführen</font></i> <br><br>  Die resultierende <code>tarball</code> Datei wird dann in die npm-Registrierung hochgeladen.  Wenn Sie den <code>npm pack --dry-run</code> Sie darauf achten, dass eine Datei <code>package-lock.json</code> im Projekt nicht in der Tarball-Datei enthalten ist.  Dies liegt daran, dass diese Datei gemäß den npm- <a href="">Regeln</a> immer ignoriert wird. <br><br>  Das Ergebnis ist, dass die Datei <code>package-lock.json</code> nicht beteiligt ist, wenn jemand das Paket eines anderen installiert.  Was sich in dieser Datei befindet, das der Paketentwickler hat, wird bei der Installation des Pakets durch eine andere Person nicht berücksichtigt. <br><br>  Dies kann durch unglücklichen Zufall zu dem Problem führen, über das wir am Anfang gesprochen haben.  Im Entwicklersystem funktioniert der Code einwandfrei und in anderen Systemen führt er zu Fehlern.  Tatsache ist jedoch, dass der Projektentwickler und diejenigen, die das Projekt verwenden, unterschiedliche Versionen der Pakete verwenden.  Wie kann ich das beheben? <br><br><h2>  <font color="#3AC1EF">Ablehnung von Sperrdateien und Verwendung von Technologie-Schrumpffolie</font> </h2><br>  Zuerst müssen Sie verhindern, dass Sperrdateien in das Projekt-Repository aufgenommen werden.  Wenn Sie git verwenden, müssen Sie Folgendes in Ihre <code>.gitignore</code> Projektdatei <code>.gitignore</code> : <br><br><pre> <code class="plaintext hljs">yarn.lock package-lock.json</code> </pre> <br>  In der <code>yarn.lock</code> heißt es, dass <code>yarn.lock</code> zum Repository hinzugefügt werden muss, auch wenn es um die Entwicklung der Bibliothek geht, die Sie veröffentlichen <code>yarn.lock</code> .  Wenn Sie jedoch möchten, dass Sie und Ihre Bibliotheksbenutzer mit demselben Code arbeiten, würde ich empfehlen, <code>yarn.lock</code> in die <code>.gitignore</code> Datei aufzunehmen. <br><br>  Sie können die automatische Erstellung der Datei <code>package-lock.json</code> deaktivieren, <code>.npmrc</code> Datei <code>.npmrc</code> mit dem folgenden Inhalt zum Projektordner <code>.npmrc</code> : <br><br><pre> <code class="javascript hljs">package-lock=<span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre> <br>  Wenn Sie mit Garn arbeiten, können Sie den <code>yarn install --no-lockfile</code> , mit dem Sie das Lesen der Datei <code>yarn.lock</code> deaktivieren können. <br><br>  Die Tatsache, dass wir die Datei <code>package-lock.json</code> , bedeutet jedoch nicht, dass wir keine Informationen über Abhängigkeiten und verschachtelte Abhängigkeiten erfassen können.  Es <a href="">gibt eine andere Datei</a> namens <code>npm-shrinkwrap.json</code> . <br><br>  Im Allgemeinen ist dies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieselbe Datei</a> wie <code>package-lock.json</code> . Sie wird mit dem <code>npm shrinkwrap</code> .  Diese Datei wird in die npm-Registrierung aufgenommen, wenn das Paket veröffentlicht wird. <br><br>  Um diesen Vorgang zu automatisieren, kann der <code>npm shrinkwrap</code> als Prepack-Skript zum <code>package.json</code> Datei package.json hinzugefügt werden.  Sie können den gleichen Effekt mit dem Git-Commit-Hook erzielen.  Auf diese Weise können Sie sicher sein, dass in Ihrer Entwicklungsumgebung, in Ihrem CI-System und den Benutzern Ihres Projekts dieselben Abhängigkeiten verwendet werden. <br><br>  Es ist erwähnenswert, dass empfohlen wird, diese Technik verantwortungsbewusst anzuwenden.  Durch das Erstellen von Shrinkwrap-Dateien schreiben Sie bestimmte Versionen der Abhängigkeiten fest.  Dies ist einerseits nützlich, um den stabilen Betrieb des Projekts sicherzustellen, andererseits kann es Benutzer daran hindern, kritische Patches zu installieren, was andernfalls automatisch erfolgen würde.  Tatsächlich empfiehlt npm dringend, bei der Entwicklung von Bibliotheken keine Shrinkwrap-Dateien zu verwenden, um deren Verwendung auf CI-Systeme zu beschränken. <br><br><h2>  <font color="#3AC1EF">Suchen von Paket- und Abhängigkeitsinformationen</font> </h2><br>  Leider ist es bei all den zahlreichen Informationen zum Abhängigkeitsmanagement in der npm- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> manchmal schwierig, in diesen Informationen zu navigieren.  Wenn Sie wissen möchten, was genau während der Installation von Abhängigkeiten installiert oder <code>--dry-run</code> wird, bevor Sie das Paket an npm senden, können Sie mit verschiedenen Befehlen das <code>--dry-run</code> verwenden.  Die Verwendung dieses Flags führt dazu, dass das Team das System nicht beeinflusst.  Beispielsweise <code>npm install --dry-run</code> Befehl <code>npm install --dry-run</code> die Abhängigkeiten nicht tatsächlich, und der Befehl <code>npm publish --dry-run</code> startet den Paketveröffentlichungsprozess nicht. <br><br>  Hier sind einige ähnliche Befehle: <br><br><pre> <code class="plaintext hljs">npm ci --dry-run #  ,   package-lock.json   npm-shrinkwrap.json npm pack --dry-run #     ,       npm install &lt;dep&gt; --verbose --dry-run #           </code> </pre> <br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Vieles, worüber wir hier gesprochen haben, hängt von den Besonderheiten der Ausführung verschiedener Operationen mit npm ab.  Wir sprechen über das Verpacken, Veröffentlichen, Installieren von Paketen und das Arbeiten mit Abhängigkeiten.  Und angesichts der Tatsache, dass sich npm ständig weiterentwickelt, können wir sagen, dass sich dies alles in Zukunft ändern kann.  Darüber hinaus hängt die Möglichkeit der praktischen Anwendung der hier gegebenen Empfehlungen davon ab, wie der Paketentwickler das Problem der Verwendung unterschiedlicher Versionen von Abhängigkeiten in unterschiedlichen Umgebungen wahrnimmt. <br><br>  Hoffentlich hat Ihnen dieses Material geholfen, besser zu verstehen, wie das npm-Abhängigkeits-Ökosystem funktioniert.  Wenn Sie sich noch eingehender mit dieser Frage befassen möchten, können Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> die Unterschiede zwischen den <code>npm install</code> <code>npm ci</code> und <code>npm install</code> nachlesen.  <a href="">Hier</a> erfahren Sie, was genau in die <code>npm-shrinkwrap.json</code> <code>package-lock.json</code> und <code>npm-shrinkwrap.json</code> .  <a href="">Auf</a> der npm-Dokumentationsseite können Sie herausfinden, welche Projektdateien in Paketen enthalten sind und welche nicht. <br><br>  <b>Liebe Leser!</b>  Verwenden Sie die Datei npm-shrinkwrap.json in Ihren Projekten? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de453582/">https://habr.com/ru/post/de453582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de453572/index.html">Microsoft Edge für MacOS</a></li>
<li><a href="../de453574/index.html">B2B-Produktmanagement</a></li>
<li><a href="../de453576/index.html">Frontend Weekly Digest (20. - 26. Mai 2019)</a></li>
<li><a href="../de453578/index.html">Von Kritikern zu Algorithmen: Labels, Unternehmen und Musikkultur des 20. Jahrhunderts</a></li>
<li><a href="../de453580/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 366 (20. - 26. Mai 2019)</a></li>
<li><a href="../de453584/index.html">Machen Sie sich bereit: Angular 8 ist nah</a></li>
<li><a href="../de453586/index.html">IntersectionObserver API und verzögertes Laden von Bildern</a></li>
<li><a href="../de453588/index.html">Opus über Seine Majestät Clay. Vierter Teil - Silikone</a></li>
<li><a href="../de453590/index.html">Ihr persönliches SaaS</a></li>
<li><a href="../de453592/index.html">Verdienen Sie Ihren Lebensunterhalt und machen Sie Spiele: 11 Levelord-Tipps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>