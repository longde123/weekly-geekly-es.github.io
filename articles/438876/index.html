<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèõÔ∏è üôÇ üïõ C√≥mo acortar el tiempo de comercializaci√≥n: una historia sobre la automatizaci√≥n de pruebas en M. Video üìñ üßùüèΩ ü§º</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El desarrollo de software r√°pido y eficiente hoy en d√≠a es impensable sin flujos de trabajo bien definidos: cada componente se transfiere al ensamblaj...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo acortar el tiempo de comercializaci√≥n: una historia sobre la automatizaci√≥n de pruebas en M. Video</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/438876/"><img src="https://habrastorage.org/webt/_j/ic/xf/_jicxfsznd5gj_myys45mbsfo1m.jpeg"><br><br>  El desarrollo de software r√°pido y eficiente hoy en d√≠a es impensable sin flujos de trabajo bien definidos: cada componente se transfiere al ensamblaje en el momento de la instalaci√≥n, el producto no permanece inactivo.  Hace dos a√±os, junto con M.Video, comenzamos a introducir este enfoque en el proceso de desarrollo en el minorista y hoy continuamos desarroll√°ndolo.  ¬øCu√°les son los subtotales?  El resultado dio sus frutos: gracias a los cambios implementados, fue posible acelerar el lanzamiento de lanzamientos en un 20-30%.  ¬øQuieres algunos detalles?  Bienvenido a nuestro backstage. <br><a name="habracut"></a><br><h1>  De Scrum a Kanban </h1><br>  En primer lugar, se implement√≥ un cambio en la metodolog√≠a: la transici√≥n de Scrum, es decir, el modelo de sprint, a Kanban.  Anteriormente, el proceso de desarrollo se ve√≠a as√≠: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/18e/026/79b/18e02679b40e161ec7e355281abe704e.png"><br><br>  Hay una rama de desarrollo, hay sprints para cinco equipos.  Codifican en sus propias ramas de desarrollo, los sprints terminan el mismo d√≠a y todos los equipos combinan los resultados de su trabajo con la rama maestra el mismo d√≠a.  Despu√©s de eso, las pruebas de regresi√≥n se ejecutan durante cinco d√≠as, luego la rama se entrega al entorno piloto y luego a la productiva.  Pero, antes de comenzar las pruebas de regresi√≥n, tom√≥ de 2 a 3 d√≠as estabilizar de alguna manera la rama maestra, eliminando conflictos despu√©s de fusionarse con las ramas de comando. <br><br>  ¬øCu√°l es la ventaja de Kanban?  Los equipos no esperan el final del sprint, sino que combinan sus cambios locales con la rama maestra al finalizar la tarea, cada vez que verifican conflictos de colisi√≥n.  El d√≠a se√±alado, todas las asociaciones con el maestro se bloquean y se inician las pruebas de regresi√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc8/193/103/dc8193103b886d42f3411bc622af08f2.png"><br><br>  Como resultado, logramos deshacernos de los constantes cambios de t√©rminos a la derecha, regresiones <br>  no se retrasa, el candidato de liberaci√≥n se env√≠a a tiempo. <br><br><h1>  Automatizaci√≥n ubicua </h1><br>  Por supuesto, solo cambiar la metodolog√≠a no fue suficiente.  El segundo paso, nosotros, junto con el minorista, las pruebas automatizadas.  En total, se prueban unos 900 escenarios, divididos en grupos por prioridad. <br><br>  Cerca de 100 escenarios son los llamados bloqueadores.  Deber√≠an trabajar en el sitio, la tienda en l√≠nea M.Video, incluso durante una guerra at√≥mica.  Si uno de los bloqueadores no funciona, entonces hay grandes problemas en el sitio.  Por ejemplo, los bloqueadores incluyen un mecanismo para comprar bienes, aplicar descuentos, autorizar, registrar usuarios, realizar un pedido de cr√©dito, etc. <br><br>  Cerca de 300 escenarios m√°s son cr√≠ticos.  Estos incluyen, por ejemplo, la capacidad de seleccionar productos usando filtros.  Si esta caracter√≠stica se rompe, es poco probable que los usuarios compren productos, incluso si los mecanismos de compra y b√∫squeda directa en el cat√°logo funcionan. <br><br>  Otros escenarios son mayores y menores.  Si no funcionan, las personas obtendr√°n experiencia negativa al usar el sitio.  Esto incluye muchos problemas de diversa importancia y visibilidad para el usuario.  Por ejemplo, el dise√±o (mayor) desapareci√≥, la descripci√≥n del stock (menor) no se muestra, la sugerencia autom√°tica de contrase√±as en la cuenta personal (menor) no funciona, la recuperaci√≥n (mayor) no funciona. <br><br>  Junto con M.Video, automatizamos las pruebas de bloqueadores en un 95%, de los escenarios restantes, en aproximadamente un 50%.  ¬øPor qu√© aproximadamente la mitad no est√° automatizada?  Hay muchas razones, y diferentes.  Hay escenarios a priori no susceptibles de automatizaci√≥n.  Existen casos complejos de integraci√≥n, cuya preparaci√≥n requiere trabajo manual, por ejemplo, llamar al banco y cancelar una solicitud de pr√©stamo, contactar al departamento de ventas y cancelar pedidos en un entorno productivo. <br>  La automatizaci√≥n de las pruebas de regresi√≥n redujo su duraci√≥n.  Pero fuimos m√°s all√° y automatizamos las pruebas de humo para los bloqueadores despu√©s de cada fusi√≥n de las ramas de comando con la rama maestra. <br><br>  Despu√©s de automatizar las pruebas, finalmente nos deshicimos de los retrasos despu√©s de completar las asociaciones con la rama maestra. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ec0/408/c73/ec0408c73cbb5504369774a2af3f1b08.png"><br><br><h1>  Pepinillo al rescate </h1><br>  Para consolidar el √©xito, nuestro equipo reelabor√≥ ‚Äã‚Äãlas pruebas ellos mismos.  Anteriormente, estas eran tablas: acci√≥n ‚Üí resultado esperado ‚Üí resultado real.  Por ejemplo, inici√© sesi√≥n en el sitio con dicho nombre de usuario y contrase√±a;  resultado esperado: todo est√° en orden;  el resultado real tambi√©n est√° bien, voy a otras p√°ginas.  Estos eran escenarios engorrosos. <br><br>  Los tradujimos a la notaci√≥n Gherkin y automatizamos algunos de los pasos.  Tomemos la misma autorizaci√≥n en el sitio, el script ahora est√° formulado de la siguiente manera: " <i>como usuario del sitio, inici√© sesi√≥n con los datos de autorizaci√≥n y el procedimiento fue exitoso</i> ".  Adem√°s, el " <i>usuario del sitio</i> " y " <i>conectado con los datos de autorizaci√≥n</i> " se enumeran en tablas separadas.  Ahora podemos ejecutar r√°pidamente casos de prueba independientemente de los datos. <br><br>  ¬øCu√°l es el valor de este paso?  Digamos que un probador se dedica a probar un proyecto.  No le importa c√≥mo escribe los ex√°menes, puede hacer cheques incluso en forma de una lista de verificaci√≥n: "se verifica la autorizaci√≥n, se verifica el registro, la compra se verifica con tarjeta, la compra por Yandex. El dinero se verifica - Soy guapo".  Viene una nueva persona y pregunta: ¬øinici√≥ sesi√≥n por correo electr√≥nico o Facebook?  Como resultado, la lista de verificaci√≥n se convierte en un script. <br><br>  Cinco equipos trabajan en el proyecto, y cada equipo tiene al menos dos evaluadores.  Anteriormente, cada uno de ellos escrib√≠a pruebas a su gusto, y como resultado, las pruebas solo pod√≠an ser respaldadas por sus autores.  Con la automatizaci√≥n, todo fue aburrido: o necesita contratar ingenieros de automatizaci√≥n independientes que traducen todo el zool√≥gico de pruebas a un lenguaje de secuencias de comandos, u olvidarse de la automatizaci√≥n como un fen√≥meno.  Gherkin ayud√≥ a cambiar todo: con la ayuda de este lenguaje de secuencias de comandos creamos "cubos" (autorizaci√≥n, canasta, pago, etc.) de los cuales los evaluadores ahora recopilan varias secuencias de comandos.  Cuando necesita crear un nuevo gui√≥n, una persona no lo escribe desde cero, sino que simplemente extrae los bloques necesarios en forma de pruebas autom√°ticas.  Las anotaciones de pepinillo han entrenado a todos los probadores funcionales, y ahora pueden interactuar independientemente con la automatizaci√≥n, los scripts de soporte y los resultados de an√°lisis. <br><br>  No nos detuvimos all√≠. <br><br><h1>  Bloques de funciones </h1><br>  Digamos que la versi√≥n 1 es la funcionalidad que ya est√° en el sitio.  En la versi√≥n 2, quer√≠amos hacer algunos cambios en los escenarios empresariales y de usuarios, y como resultado, parte de las pruebas dejaron de funcionar porque la funcionalidad cambi√≥. <br><br>  Estructuramos el sistema de almacenamiento de prueba: lo dividimos en bloques funcionales, por ejemplo, "cuenta personal", "compra", etc. Ahora, cuando se introduce un nuevo script de usuario, los bloques funcionales necesarios ya est√°n marcados con marcas. <br><br>  Gracias a esto, despu√©s de combinarse con la rama maestra, los desarrolladores pueden verificar el trabajo no solo de los bloqueadores, sino tambi√©n de los scripts relacionados con el √°rea tem√°tica que afectan los cambios realizados. <br><br>  La segunda consecuencia es que se ha vuelto mucho m√°s f√°cil mantener las pruebas por s√≠ mismas.  Por ejemplo, si algo ha cambiado en su cuenta personal, al realizar un pedido y una entrega, no necesitamos cambiar el modelo de regresi√≥n completo, porque los bloques funcionales que se cambian son visibles de inmediato.  Es decir, mantener actualizado el conjunto de pruebas se ha vuelto m√°s r√°pido y, por lo tanto, m√°s barato. <br><br><h1>  El problema con las gradas </h1><br>  Nadie sol√≠a probar el rendimiento de los stands antes de las pruebas de aceptaci√≥n.  Por ejemplo, nos dan un banco de pruebas, ejecutamos pruebas de regresi√≥n durante varias horas.  Caen, entienden, arreglan, ejecutan pruebas nuevamente.  Es decir, perdemos tiempo en la depuraci√≥n y las ejecuciones repetidas. <br><br>  El problema se resolvi√≥ simplemente: escribieron un total de 15 pruebas API que verifican la configuraci√≥n de los stands, que de ninguna manera est√°n relacionadas con la funcionalidad.  Las pruebas son independientes de la versi√≥n de compilaci√≥n; solo verifican todos los puntos de integraci√≥n cr√≠ticos para pasar scripts. <br><br>  Esto ha ayudado a ahorrar mucho tiempo.  De hecho, antes de la automatizaci√≥n, ten√≠amos 14 probadores, los controles eran engorrosos y largos, hab√≠a guiones para casi todo el d√≠a de trabajo, que constaban de 150 pasos.  Y aqu√≠ est√° probando, y en alg√∫n lugar del paso 30‚Äì40‚Äì110 se da cuenta de que el soporte no funciona.  Multiplicamos el tiempo de trabajo perdido por 14 personas y estamos horrorizados.  Y despu√©s de la introducci√≥n de la automatizaci√≥n y las pruebas de los stands, logramos reducir a la mitad el n√∫mero de probadores y eliminar el tiempo de inactividad, lo que alegraba mucho al contador principal. <br><br><h1>  Cerezas en el pastel </h1><br>  La primera cereza es el flujo de errores.  Formalmente, este es el ciclo de vida de cualquier error, pero de hecho de cualquier entidad.  Por ejemplo, operamos este concepto en Jira.  Un estado adicional nos permiti√≥ acelerar los lanzamientos. <br><br>  En general, el proceso se ve as√≠: encontraron un incidente, lo llevaron a trabajar, lo completaron, lo entregaron a prueba, lo probaron y lo cerraron. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ac/c63/b11/3acc63b11da74d987bb957fa41cae988.png"><br><br>  Entendemos que el defecto se ha cerrado, el problema se ha resuelto.  Y agregaron otro estado: "para pruebas de regresi√≥n".  Esto significa que despu√©s del an√°lisis, los escenarios que detectan errores cr√≠ticos se agregan al conjunto de regresi√≥n de 900 escenarios.  Si no estaban all√≠, o si no ten√≠an suficientes detalles, entonces tenemos comentarios instant√°neos sobre el estado del productivo o piloto. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b4/fd6/62a/2b4fd662adee0e55446ae1ce31569dce.png"><br><br>  Es decir, entendemos que hay un problema, y ‚Äã‚Äãpor alguna raz√≥n no lo tomamos en cuenta.  Y ahora agregar un script de verificaci√≥n de errores ahorra mucho tiempo. <br><br>  Tambi√©n presentamos una retrospectiva a nivel de prueba.  Se ve as√≠: compilaron una tableta "n√∫mero de versi√≥n, la cantidad de errores en ella, la cantidad de bloqueadores y otros scripts, y la cantidad de resoluciones".  Al mismo tiempo, estimamos el n√∫mero de resoluciones inv√°lidas.  Por ejemplo, si obtiene 15 errores no v√°lidos de 40 errores, entonces este es un indicador muy malo, los evaluadores est√°n perdiendo no solo su tiempo, sino tambi√©n el tiempo de los desarrolladores que trabajan en estos errores.  Los muchachos comenzaron a reflexionar, tratar con esto, introdujeron el procedimiento para revisar errores por probadores m√°s experimentados antes de enviarlos al desarrollo.  Y lo hicieron muy bien. <br><br>  Por lo tanto, hay una constante reflexi√≥n y trabajo para mejorar la calidad.  Se analizan todos los errores del producto: se crea una prueba para cada error, que se incluye inmediatamente en el conjunto de regresi√≥n.  Si es posible, esta prueba est√° automatizada y se ejecuta de manera regular. <br><br><h1>  Resultados </h1><br>  Inicialmente, se plane√≥ aumentar la frecuencia de los lanzamientos y reducir la cantidad de errores, pero el resultado super√≥ las expectativas.  Un proceso de automatizaci√≥n razonablemente construido hizo posible aumentar el n√∫mero de pruebas automatizadas en poco tiempo, y el an√°lisis de errores perdidos permiti√≥ al equipo de desarrollo y pruebas priorizar √≥ptimamente los scripts y centrarse en los m√°s importantes. <br><br>  Resultados de automatizaci√≥n: <br><br><ul><li>  hasta 4 d√≠as (en lugar de los 10 anteriores) redujeron la duraci√≥n de las pruebas de regresi√≥n; </li><li>  equipo de prueba manual disminuy√≥ en un 50%; </li><li>  de 30 a 35 d√≠as, el tiempo de comercializaci√≥n se redujo, desde el momento en que una caracter√≠stica ingres√≥ en la cartera de pedidos del equipo hasta que ingres√≥ al piloto. </li></ul><br>  <i>Equipo de automatizaci√≥n de pruebas, Jet Infosystems</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/438876/">https://habr.com/ru/post/438876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../438864/index.html">Caracter√≠stica congelar C ++ 20. Corutinas, M√≥dulos y m√°s.</a></li>
<li><a href="../438866/index.html">Constructores versus sintaxis Java</a></li>
<li><a href="../438868/index.html">Semana de la seguridad 06: en vivo en FaceTime</a></li>
<li><a href="../438870/index.html">Lombok devuelve la grandeza de Java</a></li>
<li><a href="../438874/index.html">Comenzando una amistad con VkNet</a></li>
<li><a href="../438878/index.html">La aparici√≥n de la pel√≠cula en torrentes despu√©s del estreno aumenta la taquilla en un 3%</a></li>
<li><a href="../438880/index.html">Cu√°ndo usar var, let y const en Javascript [traducci√≥n del art√≠culo de Tyler McGinnis]</a></li>
<li><a href="../438882/index.html">La probabilidad de ganar un partido con una probabilidad conocida de ganar un punto</a></li>
<li><a href="../438884/index.html">Historia real de una agencia de publicidad interior: altibajos e implementaci√≥n de CRM</a></li>
<li><a href="../438886/index.html">Morty, estamos en UltraHD! C√≥mo ver cualquier pel√≠cula en 4K, complet√°ndola a trav√©s de una red neuronal poco conocida</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>