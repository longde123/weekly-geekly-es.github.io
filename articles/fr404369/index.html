<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💺 👏🏿 🤦🏿 Comment améliorer la qualité du réseau, c'est pourquoi les jeux en ligne sont à la traîne, et pourquoi est-il préférable de ne pas utiliser le Wi-Fi ou la 4G pour les streams? 🛸 ⤴️ 🎡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a des retards dans les jeux pour de nombreuses raisons, mais deux principales, en règle générale: un ordinateur et des problèmes de réseau insuff...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment améliorer la qualité du réseau, c'est pourquoi les jeux en ligne sont à la traîne, et pourquoi est-il préférable de ne pas utiliser le Wi-Fi ou la 4G pour les streams?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/playkey/blog/404369/">  Il y a des retards dans les jeux pour de nombreuses raisons, mais deux principales, en règle générale: un ordinateur et des problèmes de réseau insuffisamment puissants dans le cas des jeux en ligne. <br><br>  Qu'est-ce qui empêche de jouer normalement, pourquoi freeze \ lag et comment améliorer la situation?  Conseils universels pour les joueurs via la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plateforme cloud</a> , et en principe pour les fans de jeux en ligne sur PC - dans un programme éducatif d'Alexei Lykov. <br><br>  <b>Alexey Lykov, Playkey CTO</b> : Un peu de matériel.  Tout trafic est constitué de paquets envoyés sur le réseau.  Et selon la qualité du réseau, certains paquets peuvent être perdus. <br><br>  Il y a un certain signal dans le paquet.  Lorsqu'un paquet est perdu, deux nœuds interagissant l'un avec l'autre (par exemple, deux commutateurs réseau: côté joueur et côté serveur du jeu en ligne) devraient résoudre le problème de la perte d'informations.  Au figuré, leur «communication» ressemble à ceci: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a64/21c/3fa/a6421c3fa52c94621c650a76df29fe5d.jpg"><br><br>  Plus il y a de pertes, plus ces demandes du destinataire à l'expéditeur sont nombreuses. <br><br>  Et quel est le résultat?  Supposons qu'une trame se compose de plusieurs paquets.  10 paquets sur 10 arrivent sur l'ordinateur, le cadre est collecté et affiché.  L'utilisateur est cool.  Mais si 9 paquets sur 10 sont arrivés, l'image ne peut pas être collectée. <br><br>  Ou peut-être qu'elle collectera une sorte d'artefact.  <b>Nous appelons cela la "diffusion" de l'image</b> .  Voici à quoi cela ressemble dans l'un des pires cas: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/618/448/b43/618448b43594392a698d7e9b5247230c.jpg"><br><br><h4>  Que se passe-t-il dans le réseau? </h4><a name="habracut"></a><br>  Supposons que le destinataire envoie une demande: "Donnez-moi cette 10ème trame!", L'expéditeur l'envoie.  Bien sûr, cela prend du temps.  <b>Et dans ces précieuses millisecondes</b> qui sont consacrées à cela, <b>un décalage se produit</b> . <br><br>  Si vous jouez à un jeu en ligne avec 30 FPS <i>(images par seconde ou images par seconde</i> ) avec un ping de 10 ms, l'envoi du paquet prendra environ 10 millisecondes ( <i>ping vers le serveur</i> ) + 30 millisecondes ( <i>intervalle intertrames</i> ). Au total, nous obtenons 40 ms.  À 60 FPS, cela est encore moins perceptible car l'intervalle de trame est déjà de 15 millisecondes, total: <b>25</b> ms (10 ms + 15 ms).  <b>Mais plus ces retards sont nombreux, plus "l'image est désagréable",</b> certaines secousses, frises se font sentir. <br><br>  <b>Même chose avec la direction</b> .  Dans World of Tanks, lorsque vous appuyez sur le bouton avant, le réservoir doit disparaître. <br><br>  Mais comment pouvez-vous comprendre qu'il fait vraiment cela?  Le char est considéré comme «allé de l'avant» lorsqu'il a reçu cette commande sur le serveur.  Tout le calcul de l'interaction des joueurs s'y déroule (sinon tout serait inondé de tricheurs). <br><br>  Pour empêcher l'utilisateur de ressentir des retards lors de la synchronisation des actions avec le serveur à chaque seconde, dans les jeux multijoueurs clients, ils utilisent le pré-rendu: lorsque la commande "forward" est pressée, le tank l'exécute immédiatement.  Mais, en fait, ce n'est pas un avenir pertinent pour les autres utilisateurs.  Si vous jouez à World of Tanks, vous pouvez voir comment les chars ont volé dans les airs ou se sont écrasés dans un rocher.  Ce problème se produit lorsqu'un décalage se produit dans le réseau - le signal va au serveur, mais il n'y a aucune confirmation que le réservoir est vraiment parti. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ksTb467x0Ig" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Ici les chars volent juste au tout début de la vidéo</i> <br><br><h4>  À quel stade se produit la majeure partie de la perte de paquets? </h4><br>  <b>A.L.: Il y a différents problèmes:</b> <br><br>  1. Le fournisseur réduit le trafic à un tarif; <br><br>  2. Le routeur fournisseur standard laisse beaucoup à désirer.  Par exemple, des points Wi-Fi bon marché - la «gaufre» parmi les gens - peuvent donner des vitesses de ~ 2 Mbit / s à un tarif de 100 Mb / s et fournissent généralement un signal de mauvaise qualité; <br><br>  3. Les serveurs auxquels accède votre ordinateur sont géographiquement éloignés.  Les joueurs de Sibérie rêvent que les jeux en ligne réagiront à leurs actions aussi vite que les Moscovites.  Bien que nous ayons des tirs qui jouent depuis Vladivostok et ne peuvent pas en avoir assez; <br><br>  <b>La plupart des pertes se produisent au domicile du client et, tout d’abord, en raison du point d’accès Wi-Fi</b> <br><br>  Il n'y a pratiquement aucune perte avec le câble: par rapport au Wi-Fi, il est de 1 sur 1000. <br><br>  Si le routeur est derrière le mur, le signal se dégrade, c'est une propriété des ondes radio ordinaires.  De plus, tout autre appareil émettant des ondes radio affecte le signal sans fil. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/MHUTkDd_4s0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Comment un micro-ondes affecte-t-il le Wi-Fi</i> <br><br>  Un autre problème avec le Wi-Fi à domicile est le <b>problème des points d'accès multiples</b> dans les immeubles à appartements ou les bureaux.  Ils «s'interrompent» également.  Dans cette situation, il est nécessaire de réduire la puissance du signal à chaque point, puis la vitesse de tous augmentera.  Certes, tout le monde va généralement dans le sens inverse, règle la puissance au maximum et, par conséquent, le Wi-Fi ne fonctionne pas immédiatement pour tout le monde dans la maison. <br><br><h4>  Et si l'appartement a d'autres appareils connectés à Internet?  Cela comprend les smartphones, d'autres ordinateurs portables, un tabouret rembourré pour chat avec Wi-Fi intégré.  Affectent-ils? </h4><br>  <b>A.L.:</b> Ici, il est important non pas du nombre d'appareils, mais en général du trafic qu'ils consomment.  Si d'autres appareils fonctionnent en arrière-plan, ce n'est pas grave.  La navigation Internet normale sur d'autres ordinateurs a également peu d'effet. <br><br>  Mais si quelqu'un de chez vous télécharge des torrents et que le second regarde une vidéo de bonne qualité sur YouTube, la limite sur la chaîne peut être atteinte et un petit morceau du gâteau reste sur le jeu en ligne. <br><br>  <b>Pour mieux répartir le trafic entre les appareils, nous recommandons des routeurs prenant en charge la plage de fréquences de 5 GHz</b> .  La norme 2,4 GHz prend en charge moins de canaux - 13, et sur chaque canal plusieurs appareils peuvent fonctionner, puis ils commencent à se faire concurrence.  Ceux qui sont intéressés à apprendre tous les détails peuvent tout lire en détail <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans les publications sur Habré</a> . <br><br>  À cet égard, lorsque nous avons une sorte de point public, le 2,4 GHz peut très mal fonctionner là-bas.  Par conséquent, pour ceux qui jouent en ligne et utilisent Playkey, des canaux 5 GHz sont recommandés.  Le Wi-Fi Hertzivka offre un grand avantage pour les communications sans fil. <br><br><h4>  Comment connaître la perte à domicile? </h4><br>  <b>A.L.:</b> <b>Vous pouvez rapidement diagnostiquer en utilisant l'utilitaire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MTR</a> gratuit</b> <br><br>  Tout d'abord, connectez le câble à l'ordinateur pour vérifier que le problème n'est pas du côté du routeur.  Tapez ya.ru dans la ligne et faites attention à la colonne <i>Loss%</i> . <br><br>  En général, il ne devrait pas y avoir de pertes, mais c'est l'exception plutôt que la règle.  5% des pertes sur l'un des nœuds ne sont pas critiques. <br><br>  Si tout va bien sur le câble, connectez le routeur.  Peut-être, par exemple, une telle image: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/524/b5f/0ab/524b5f0ab5ed4ee361b06b17f14f1dbb.jpg"><br><br>  <i>100% de perte sur l'un des nœuds</i> <br><br>  Il est conseillé d'avoir quelques routeurs à portée de main pour vérifier: si des paquets sont perdus sur un, mais pas sur le second, alors il sera clair que le problème est du côté d'un routeur particulier.  Vous devrez peut-être mettre à jour son firmware. <br><br>  Si des pertes se produisent sur tous les routeurs testés, vous devez alors poser des questions sur le support technique du fournisseur. <br><br><h4>  Alors, ok, que peut-on faire d'autre pour améliorer la qualité du signal? </h4><br>  <b>A.L.: 1. Configurer la priorisation du routeur</b> <br><br>  Si, par exemple, vous jouez constamment à Witcher 3 ou à quelque chose d'autre, vous pouvez simplement aller dans les paramètres du routeur et régler le jeu sur la priorité maximale.  Cela devrait aider à ce que le jeu ne "traîne" pas si quelqu'un d'autre utilise Internet dans votre appartement. <br><br>  <b>2. Essayez de redémarrer le routeur</b> <br><br>  Les routeurs, en particulier ceux bon marché, peuvent accumuler diverses erreurs, créer des pertes et des retards.  Par conséquent, le redémarrage du routeur réinitialise une partie interne: mémoire, connexions.  Autrement dit, tout commence à partir de zéro.  Et cela peut aider.  Pour les routeurs bon marché qui ont un code mal écrit, il existe différents micrologiciels, même pas natifs, qui peuvent résoudre ce problème. <br><br>  <b>3. Dites à l'antivirus que le client de jeu en ligne (ou client Playkey) est un bon logiciel</b> <br><br>  Les antivirus qui analysent Internet analysent tout le trafic provenant de l'ordinateur.  Pour cela, l'ordinateur et l'antivirus ont besoin de temps. <br><br>  Pour cette raison, il peut y avoir des retards notables.  Parfois même une demi-seconde, selon l'antivirus.  Par conséquent, il est nécessaire de définir le statut d'un programme spécifique dans les paramètres du logiciel de sécurité «digne de confiance». <br><br><h4>  Peut-être que pour votre part vous pouvez faire quelque chose et ne pas compter sur les connaissances techniques de chaque joueur </h4><br>  <b>AL:</b> Oui, bien sûr.  Premièrement, nous avons un schéma pour envoyer des paquets à la fois sur le protocole TCP et sur UDP. <br><br><ul><li>  TCP est plus fiable.  Rien ne peut y être perdu: des paquets y sont constamment «envoyés», mais si une sorte d'erreur se produit, le décalage peut être extrêmement important.  Il est déjà mesuré non pas en millisecondes, mais en secondes.  Maintenant, nous utilisons TCP comme solution de rechange car il est lent. <br></li><li>  UDP est plus rapide, mais il est impossible «d'envoyer» un paquet à travers lui.  Pour ce faire, nous avons des mécanismes de récupération des paquets: en plus des paquets d'informations, des paquets contenant des données de service sont envoyés qui peuvent restaurer partiellement ou complètement les composants d'image perdus.  Ce principe est appelé mécanisme de redondance. </li></ul><br>  En conséquence, nous avons décidé d'utiliser le trafic UDP - la vitesse joue un rôle important dans les jeux en streaming.  Le problème avec la perte de paquets avec UDP est résolu, mais nécessite une plus grande largeur de canal - c'est-à-dire que vous devez transférer plus de trafic. <br><br>  Et ici, une situation se présente: lorsque le paquet est perdu en raison du fait que le client a des restrictions sur le canal - par exemple, le fournisseur donne 10 mégabits de vitesse.  Nous devons acheminer encore plus de trafic à travers le goulot d'étranglement.  Par conséquent, nous avons développé un algorithme qui augmente et diminue doucement le débit binaire, en suivant les diagnostics réseau de l'utilisateur. <br><br>  Si vous souhaitez vérifier votre connexion Internet dès maintenant et voir comment Playkey s'en occupe, utilisez le code promotionnel <b>GeeksOnline</b> pendant 300 minutes gratuites du jeu (cela <i>fonctionne 24 heures à partir du moment de l'activation et uniquement pour les nouveaux utilisateurs</i> ).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Utilisez ici pour la santé</a> . <br><br><h4>  Et si vous jouez en 3G et 4G? </h4><br>  <b>A.L .:</b> C'est de plus en plus difficile avec eux - lorsque vous utilisez des réseaux 3G / 4G, des algorithmes de récupération de paquets encore plus puissants sont utilisés, c'est-à-dire que la redondance est très importante (pas la nôtre, mais au niveau du protocole).  Initialement, il était entendu qu'une quantité non mesurée de paquets était perdue. <br><br>  Tout signal radio fonctionne de la même manière.  Les algorithmes de redondance proviennent de la radiophysique.  Lorsque nous entrons par exemple dans un tunnel, le signal empire.  Mais si un pourcentage du paquet de signaux radio a disparu, nous pouvons toujours entendre la voix du présentateur pendant assez longtemps. <br><br>  Dire que les réseaux 3G / 4G ne peuvent pas du tout être utilisés pour les jeux en ligne - bien sûr, c'est impossible.  Mais il reste encore beaucoup de travail à faire.  En général, il est plus prometteur de se tourner immédiatement vers les réseaux 5G.  S'ils font face aux promesses d'une vitesse de 25 Gb / s et peuvent même réduire les retards de transfert de données de 50 fois, cela ouvrira toutes les portes de Playkey, comme pour tous les jeux en ligne. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr404369/">https://habr.com/ru/post/fr404369/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr404355/index.html">La robotique contribuera à «verser» des milliards de dollars américains dans l'économie mondiale</a></li>
<li><a href="../fr404357/index.html">Projet week-end Arduino - T-shirt avec LED SK6812</a></li>
<li><a href="../fr404361/index.html">Intel Compute Card - Nouveaux détails</a></li>
<li><a href="../fr404363/index.html">Sound Giants: du mur du son de Grateful Dead aux essais d'Orion</a></li>
<li><a href="../fr404365/index.html">Boulon. Boulon saute-mouton</a></li>
<li><a href="../fr404373/index.html">La méthode du «transfert rapide de données», ou l'origine du relais</a></li>
<li><a href="../fr404375/index.html">Nouvelles quantiques d'IBM: lancement de deux puissants processeurs d'un nouveau type</a></li>
<li><a href="../fr404377/index.html">Le monde de l'Internet des objets en Russie: bande T, Element, X-turion, FlipFlic et bien plus</a></li>
<li><a href="../fr404379/index.html">Nous recherchons des intervenants au DIY-mitap du 1er juillet</a></li>
<li><a href="../fr404381/index.html">Vidéo 3D DIY</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>