<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç∑ üßòüèº üç∞ Temas y estilos en aplicaciones de Android üßõüèª üìø üßü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Todos los desarrolladores de Android ten√≠an que trabajar con estilos de todos modos. Alguien se siente seguro con ellos, alguien solo tiene un conocim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Temas y estilos en aplicaciones de Android</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redmadrobot/blog/461201/"><p><img src="https://habrastorage.org/webt/s8/y5/ky/s8y5kywibxonrjj72vgjz24pxau.png"></p><br><p>  Todos los desarrolladores de Android ten√≠an que trabajar con estilos de todos modos.  Alguien se siente seguro con ellos, alguien solo tiene un conocimiento superficial, que a menudo no les permite resolver el problema por s√≠ mismos. </p><br><p>  En previsi√≥n del lanzamiento del tema oscuro, se decidi√≥ actualizar en la memoria toda la informaci√≥n sobre temas y estilos en las aplicaciones de Android. </p><a name="habracut"></a><br><h4 id="o-chem-poydet-rech">  Lo que se discutir√°: </h4><br><ul><li>  Considere los conceptos b√°sicos de temas y estilos en las aplicaciones de Android, vea qu√© oportunidades nos brindan; </li><li>  Creemos un tema simple usando Componentes materiales y juguemos con redefinir estilos; </li><li>  Veamos c√≥mo funciona el tema oscuro; </li><li>  Formular recomendaciones para trabajar con estilos. </li></ul><br><h3 id="nachnem-s-osnov">  Comencemos con lo b√°sico </h3><br><p>  En su estructura, los temas y estilos tienen una estructura com√∫n: </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MyStyleOrTheme"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"key"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">value</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Para crear, use la etiqueta de <code>style</code> .  Cada estilo tiene un nombre y almacena los par√°metros <code>key-value</code> . </p><br><p>  Todo es bastante simple.  Pero, ¬øcu√°l es la diferencia entre tema y estilo? </p><br><p>  <strong>La √∫nica</strong> diferencia es c√≥mo los usamos. </p><br><h4 id="tema">  Tema </h4><br><p>  Un tema es un conjunto de par√°metros que se aplican a toda la aplicaci√≥n, actividad o componente de vista.  Contiene los colores b√°sicos de la aplicaci√≥n, estilos para representar <strong>todos los</strong> componentes de la aplicaci√≥n y varias configuraciones. </p><br><p>  Tema de ejemplo: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Base colors--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimaryVariant"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary_variant</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorSecondary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_secondary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorOnPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_on_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorOnError"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_on_error</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Style attributes--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"textAppearanceHeadline1"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/TextAppearance.MyTheme.Headline1</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"bottomSheetDialogTheme"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/ThemeOverlay.MyTheme.BottomSheetDialog</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"chipStyle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MaterialComponents.Chip.Action</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"textInputStyle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MaterialComponents.TextInputLayout.FilledBox</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Params--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:windowTranslucentStatus"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">true</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  El tema ha redefinido los colores principales de la aplicaci√≥n ( <code>colorPrimary</code> , <code>colorSecondary</code> ), el estilo del texto ( <code>textAppearanceHeadline1</code> ) y algunos componentes est√°ndar de la aplicaci√≥n, as√≠ como la opci√≥n de una barra de estado transparente. </p><br><p>  Para que el estilo se convierta en un tema real, es necesario heredar (hablaremos de la herencia un poco m√°s adelante) de la implementaci√≥n predeterminada del tema. </p><br><h4 id="stil">  Estilo </h4><br><p>  Un estilo es un conjunto de par√°metros para dise√±ar un solo componente de Vista. </p><br><p>  Estilo de muestra para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TextInputLayout</a> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.CustomTextInputLayout"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.TextInputLayout.FilledBox"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"boxBackgroundMode"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">outline</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"boxStrokeColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"shapeAppearanceOverlay"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/MyShapeAppearanceOverlay</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4 id="atribut">  Atributo </h4><br><p>  Un atributo es una clave de estilo o tema.  Estos son peque√±os ladrillos con los que todo est√° construido: </p><br><pre> <code class="plaintext hljs">colorPrimary colorSecondary colorOnError boxBackgroundMod boxStrokeColor shapeAppearanceOverlay ...</code> </pre> <br><p>  Todas estas claves son atributos est√°ndar. </p><br><p>  Podemos crear nuestros propios atributos: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">attr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myFavoriteColor"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">format</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"color|reference"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  El atributo <code>myFavoriteColor</code> apuntar√° a un color o enlace a un recurso de color. </p><br><p>  En el formato, podemos especificar valores bastante est√°ndar: </p><br><ul><li>  color </li><li>  referencia </li><li>  cuerda </li><li>  enumeraci√≥n </li><li>  fracci√≥n </li><li>  dimensi√≥n </li><li>  booleano </li><li>  banderas </li><li>  flotar </li><li>  entero </li></ul><br><p>  Por su naturaleza, un atributo <strong>es una interfaz</strong> .  Debe implementarse en el tema: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"myFavoriteColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_favorite</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Ahora podemos referirnos a eso.  La estructura general de la apelaci√≥n se ve as√≠: </p><br><p><img src="https://habrastorage.org/webt/1s/py/bq/1spybqvzmhtmtgdnauefjwrffvy.png"></p><br><pre> <code class="plaintext hljs">1 ‚Äî   ,     ; 2 ‚Äî namespace   (   Material Components Library); 3 ‚Äî   ,     (); 4 ‚Äî  .</code> </pre><br><p>  Bueno, finalmente, cambiemos, por ejemplo, el color del texto del campo: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">androidx.appcompat.widget.AppCompatTextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?attr/myFavoriteColor"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br><p>  Gracias a los atributos, podemos agregar cualquier tipo de abstracci√≥n que cambie dentro del tema. </p><br><h4 id="nasledovanie-tem-i-stiley">  Heredar temas y estilos </h4><br><p>  Al igual que en OOP, podemos adoptar la funcionalidad de una implementaci√≥n existente.  Hay dos formas de hacer esto: </p><br><ul><li>  Expl√≠cito (expl√≠cito) </li><li>  Impl√≠cito (impl√≠citamente) </li></ul><br><p>  Para herencia expl√≠cita, especificamos el padre usando la palabra clave <code>parent</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SnackbarStyle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.Snackbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Para la herencia impl√≠cita, usamos <code>dot-notation</code> para indicar el padre: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SnackbarStyle.Green"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  <strong>No hay diferencia</strong> en el trabajo de estos enfoques. </p><br><p>  Muy a menudo podemos encontrar estilos similares: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.Snackbar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.Snackbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Puede parecer que el estilo se crea por doble herencia.  Este no es realmente el caso.  La herencia m√∫ltiple est√° prohibida.  En esta definici√≥n, <strong>la herencia expl√≠cita siempre gana</strong> . </p><br><p>  Es decir, se crear√° un estilo con el nombre <code>Widget.MyApp.Snackbar</code> , que es el descendiente de <code>Widget.MaterialComponents.Snackbar</code> . </p><br><h4 id="themeoverlay">  Superposici√≥n de temas </h4><br><p>  ThemeOverlay: estos son temas especiales "ligeros" que le permiten <strong>anular los</strong> atributos del tema principal para el componente View. </p><br><p>  No vamos a ir lejos por un ejemplo, pero tomemos un caso de nuestra aplicaci√≥n.  Los dise√±adores decidieron que necesitamos crear un campo de inicio de sesi√≥n est√°ndar, que tendr√° un color diferente del estilo principal. </p><br><p>  Con el tema principal, el campo de entrada se ve as√≠: </p><br><p><img src="https://habrastorage.org/webt/s5/yu/oi/s5yuoi48tfh_sppymhz6pmparlw.png"></p><br><p>  Se ve muy bien, pero los dise√±adores insisten en que el campo est√© en un estilo marr√≥n. </p><br><p>  Bien, ¬øc√≥mo podemos resolver este problema? </p><br><ul><li><p>  ¬øAnular el estilo? </p><br><blockquote>  S√≠, podemos redefinir el estilo y cambiar manualmente los colores principales de la vista, pero para esto necesitar√° escribir mucho c√≥digo, y existe la posibilidad de que nos olvidemos de algo. </blockquote><br></li><li><p>  ¬øEscriba su opini√≥n sobre pautas y con par√°metros personalizados? </p><br><blockquote>  Una buena opci√≥n, para que podamos satisfacer cualquier lista de deseos de los dise√±adores y al mismo tiempo bombear habilidades, pero todo esto es laborioso y puede provocar errores no deseados. </blockquote><br></li><li><p>  ¬øAnular el color principal en el tema? </p><br><blockquote>  Descubrimos que para el tipo que necesitamos, simplemente cambie el <code>colorPrimary</code> en el tema.  Una opci√≥n de trabajo, pero de esta manera afectaremos la apariencia de los componentes restantes, pero no la necesitamos. </blockquote><br></li></ul><br><p>  La soluci√≥n correcta es usar <strong>ThemeOverlay</strong> . </p><br><p>  Cree <code>ThemeOverlay</code> y redefina el <strong>color</strong> principal <strong>del tema</strong> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ThemeOverlay.MyApp.Login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ThemeOverlay.MaterialComponents.TextInputEditText"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorBrown</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  A continuaci√≥n, lo especificamos usando la etiqueta especial <code>android:theme</code> en nuestro <code>TextInputLayout</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.textfield.TextInputLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:theme</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/ThemeOverlay.MyApp.Login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:hint</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.textfield.TextInputEditText</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.textfield.TextInputLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><p>  Todo funciona como lo necesitamos. </p><br><p><img src="https://habrastorage.org/webt/6m/la/n8/6mlan8wjvg-7ikio4qtpupd5el0.png"></p><br><p>  Por supuesto, surge la pregunta: ¬øc√≥mo funciona bajo el cap√≥? </p><br><p>  Esta magia te permite producir <code>ContextThemeWrapper</code> .  Al crear una Vista en <code>LayoutInflater</code> , se <code>LayoutInflater</code> un contexto donde el tema actual se tomar√° como base y los par√°metros que especificamos en nuestro tema Overlay se redefinir√°n en √©l. </p><br><pre> <code class="java hljs">../LayoutInflater.java <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TypedArray ta = context.obtainStyledAttributes(attrs, ATTRS_THEME); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> themeResId = ta.getResourceId(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (themeResId != <span class="hljs-number"><span class="hljs-number">0</span></span>) { context = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ContextThemeWrapper(context, themeResId); } ta.recycle();</code> </pre> <br><p>  Del mismo modo, podemos anular independientemente cualquier par√°metro de tema en la aplicaci√≥n. </p><br><h4 id="posledovatelnost-primeneniya-tem-i-stiley-ko-view-komponentu">  La secuencia de aplicaci√≥n de temas y estilos al componente Ver </h4><br><p><img src="https://habrastorage.org/webt/6h/nu/3q/6hnu3qggsk4bcsl9stdcagwo6fm.png"></p><br><ol><li><p>  La principal prioridad es el archivo de marcado.  Si se define un par√°metro en √©l, se ignorar√°n todos los par√°metros similares. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/colorRed"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br></li><li><p>  La siguiente prioridad es el estilo de Vista: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äú@Widget.MyApp.ButtonStyle</span></span></span><span class="hljs-tag">" </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br></li><li><p>  Lo siguiente usa estilos predefinidos para el componente: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme..."</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">‚ÄúmaterialButtonStyle‚Äù</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@Widget.MyApp.ButtonStyle</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></li><li><p>  Si no se encontraron par√°metros, se utilizan los atributos del tema: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme..."</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">‚ÄúcolorPrimary‚Äù</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@colorPrimary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></li></ol><br><p>  En general, esto es todo lo que necesita saber para comenzar a trabajar con temas.  Ahora echemos un vistazo r√°pido a la biblioteca de dise√±o de Componentes de material actualizada. </p><br><h3 id="da-pribudet-s-nami-material-components">  Pueden los componentes materiales venir con nosotros </h3><br><p>  Material Components se introdujo en Google I / O 2018 y es un reemplazo de Design Support Library. </p><br><p>  La biblioteca nos brinda la oportunidad de utilizar componentes actualizados de Material Design 2.0.  Adem√°s, aparecieron muchas opciones de personalizaci√≥n interesantes.  Todo esto le permite escribir aplicaciones brillantes y √∫nicas. </p><br><p><img src="https://habrastorage.org/webt/ab/fe/-w/abfe-wipeljjatkbhpbmsmxe3ru.png"></p><br><p><img src="https://habrastorage.org/webt/e8/h5/rq/e8h5rqfdtmluqfj1isrpwb6rz78.png"></p><br><p>  Aqu√≠ hay algunos ejemplos de aplicaciones en el nuevo estilo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Owl</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Reply</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Crane</a> . </p><br><h3 id="pereydem-k-praktike">  Pasemos a practicar </h3><br><p>  Para crear un tema, debe heredar del tema base: </p><br><pre> <code class="xml hljs">Theme.MaterialComponents Theme.MaterialComponents.NoActionBar Theme.MaterialComponents.Light Theme.MaterialComponents.Light.NoActionBar Theme.MaterialComponents.Light.DarkActionBar Theme.MaterialComponents.DayNight Theme.MaterialComponents.DayNight.NoActionBar Theme.MaterialComponents.DayNight.DarkActionBar</code> </pre> <br><p>  Todos ellos son muy similares a los temas de <code>AppCompat</code> , pero tienen atributos y configuraciones adicionales. </p><br><p>  Puede obtener m√°s informaci√≥n sobre los nuevos atributos en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">material.io</a> . </p><br><p>  Si por alguna raz√≥n no puede cambiar a un nuevo tema en este momento, los temas de <code>Bridge</code> lo har√°n.  <code>AppCompat</code> temas de <code>AppCompat</code> y tienen todos los nuevos atributos de Componentes de material.  Solo necesita agregar el postfix <code>Bridge</code> y usar todas las caracter√≠sticas sin temor: </p><br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> Theme.MaterialComponents.Light.Bridge <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></code> </pre> <br><p>  Y aqu√≠ est√° nuestro tema: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimaryVariant"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary_variant</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorSecondary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_secondary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorSecondaryVariant"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_secondary_variant</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span></span><span class="xml"><span class="undefined"></span></span></code> </pre> <br><p>  Los nombres de los colores primarios (colores de la marca) han cambiado: </p><br><pre> <code class="xml hljs">colorPrimary ‚Äî       (   AppCompat); colorPrimaryVariant ‚Äî    ( colorPrimaryDark  AppCompat); colorSecondary ‚Äî        ( colorAccent  AppCompat); colorSecondaryVariant ‚Äî   .</code> </pre> <br><p>  Se puede encontrar m√°s informaci√≥n sobre los colores en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">material.io</a> . </p><br><p>  Ya mencion√© que el tema contiene estilos est√°ndar para cada componente de Vista.  Por ejemplo, para <code>Snackbar</code> estilo se llamar√° <code>snackbarStyle</code> , para <code>checkbox</code> - <code>checkboxStyle</code> y luego todo ser√° similar.  Un ejemplo pondr√° todo en su lugar: </p><br><p><img src="https://habrastorage.org/webt/wq/wn/yq/wqwnyqvncrfen6oykpgm9uvi87i.png"></p><br><p>  Crea tu propio estilo y apl√≠calo al tema: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"snackbarStyle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MyApp.SnackbarStyle</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.SnackbarStyle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.Snackbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Es importante comprender que cuando redefine un estilo en un tema, se aplicar√° a <strong>todas las</strong> vistas de este tipo en la aplicaci√≥n (Actividad). </p><br><p>  Si desea aplicar el estilo a una sola Vista espec√≠fica, debe usar la etiqueta de <code>style</code> en el archivo con marcado: </p><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.button.MaterialButton</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/Widget.MyApp.SnackbarStyle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Una de las innovaciones que realmente me impresion√≥ fue <strong>ShapeAppearance</strong> .  ¬°Le permite cambiar la forma de los componentes directamente en el sujeto! </p><br><p>  Cada componente de vista pertenece a un determinado grupo: </p><br><ul><li><p>  forma Apariencia Componente <strong>peque√±o</strong> </p><br></li><li><p>  forma Apariencia Componente <strong>medio</strong> </p><br></li><li><p>  forma Apariencia Componente <strong>grande</strong> </p><br></li></ul><br><p>  Como podemos entender por el nombre, en grupos de vistas de diferentes tama√±os. </p><br><p><img src="https://habrastorage.org/webt/40/wy/67/40wy670nyjpe9rm-uweiks4lc54.png"></p><br><p>  Verificaci√≥n en la pr√°ctica: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"shapeAppearanceSmallComponent"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MyApp.SmallShapeAppearance</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.SmallShapeAppearance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄúShapeAppearance.MaterialComponents.SmallComponent‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerFamilyTopLeft"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">rounded</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerFamilyBottomRight"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">cut</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerSizeTopLeft"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">20dp</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerSizeBottomRight"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">15dp</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--&lt;item name="cornerFamily"&gt;cut&lt;/item&gt;--&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--&lt;item name="cornerSize"&gt;8dp&lt;/item&gt;--&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Creamos <code>Widget.MyApp.SmallShapeAppearance</code> para los componentes "peque√±os".  Redondeamos la esquina superior izquierda en <code>20dp</code> y la esquina inferior derecha se cort√≥ en <code>15dp</code> . </p><br><p>  Obtuve este resultado: </p><br><p><img src="https://habrastorage.org/webt/bo/ix/-a/boix-ai4fphlgpnzaad5wqb7osu.png"></p><br><p>  Se ve interesante  ¬øFuncionar√° en la vida real?  El tiempo lo dir√°. </p><br><p>  Al igual que con los estilos, solo podemos aplicar <code>ShapeAppearance</code> a un componente de vista. </p><br><h3 id="chto-tam-po-temnoy-teme">  ¬øQu√© hay sobre un tema oscuro? </h3><br><p>  El lanzamiento de Android Q tendr√° lugar muy pronto, y con √©l vendr√° el tema oscuro oficial. </p><br><p>  Quiz√°s una de las caracter√≠sticas m√°s interesantes y espectaculares de la nueva versi√≥n de Android es la aplicaci√≥n autom√°tica de un tema oscuro para toda la aplicaci√≥n con una l√≠nea de c√≥digo. </p><br><p>  Suena genial, intent√©moslo.  Sugiero tomar un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cliente</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">gitlab</a> favorito de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">terrakok</a> . </p><br><p>  Permitir volver a pintar la aplicaci√≥n (deshabilitada de manera predeterminada): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AppTheme"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.AppCompat.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:forceDarkAllowed"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">true</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  El <code>android:forceDarkAllowed</code> est√° disponible con API 29 (Android Q). </p><br><p>  Comenzamos, mira lo que pas√≥: </p><br><p><img src="https://habrastorage.org/webt/mu/d4/8v/mud48vrjwkwwmesevno-zo5jyaq.png"></p><br><p>  De acuerdo en que para una l√≠nea de c√≥digo se ve muy bien. </p><br><p>  Por supuesto, hay problemas: el <code>BottomNavigationBar</code> fusiona con el fondo, el cargador permanece en blanco, la selecci√≥n del c√≥digo sufre y, al parecer, todo, al menos nada grave me ha sorprendido. </p><br><p>  Estoy seguro de que pasar no tanto tiempo puede resolver los principales problemas.  Por ejemplo, desactivar el modo oscuro autom√°tico para vistas individuales (s√≠, tambi√©n es posible - <code>android:forceDarkAllowed</code> est√° disponible para Ver en un archivo de marcado). </p><br><p>  Debe recordarse que este modo est√° disponible solo para temas claros, si usa uno oscuro, entonces un tema oscuro forzado no funcionar√°. </p><br><p>  Las recomendaciones de trabajo se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en la documentaci√≥n</a> y en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">material.io</a> . </p><br><h3 id="a-esli-my-hotim-vse-delat-samostoyatelno">  ¬øY si queremos hacer todo por nuestra cuenta? </h3><br><p>  No importa cu√°n f√°cil sea usar un tema oscuro forzado, este modo carece de flexibilidad.  De hecho, todo funciona de acuerdo con reglas predefinidas que pueden no ser adecuadas para nosotros y, lo que es m√°s importante, para el cliente.  Creo que esa decisi√≥n puede considerarse temporal, hasta que implementemos un tema oscuro. </p><br><p>  En API 8 (Froyo), se <code>-night</code> calificador de <code>-night</code> , que hasta el d√≠a de hoy se utiliza para aplicar un tema oscuro.  Le permite aplicar autom√°ticamente el tema deseado seg√∫n la hora del d√≠a. </p><br><p>  En los temas de <code>DayNight</code> , dicha implementaci√≥n ya se usa, es suficiente para que heredemos de ellos. </p><br><p>  Tratemos de escribir el nuestro: </p><br><pre> <code class="xml hljs">../values/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.DayNight.Base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.DayNight.Base&gt; &lt;!-- ... --&gt; </span></span></span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> ../values-night/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.DayNight.Base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="undefined"></span><span class="undefined"></span></code> </pre> <br><p>  En el recurso habitual para el tema ( <code>values/themes.xml</code> ) heredamos del tema claro, en la "noche" ( <code>values-night/themes.xml</code> ) heredamos del tema oscuro. </p><br><p>  Eso es todo.  Tenemos una implementaci√≥n de biblioteca de un tema oscuro.  Ahora deber√≠amos apoyar recursos para dos temas. </p><br><p>  Para cambiar entre temas mientras la aplicaci√≥n se est√° ejecutando, puede usar <code>AppCompatDelegate.setDefaultNightMode</code> , que toma los siguientes par√°metros: </p><br><ul><li>  <code>MODE_NIGHT_NO</code> - Tema ligero; </li><li>  <code>MODE_NIGHT_YES</code> - Tema oscuro; </li><li>  <code>MODE_NIGHT_AUTO_BATTERY</code> - Modo autom√°tico.  El tema oscuro se enciende si el modo de ahorro de energ√≠a est√° activo; </li><li>  <code>MODE_NIGHT_FOLLOW_SYSTEM</code> - Modo basado en la configuraci√≥n del sistema. </li></ul><br><h3 id="chto-nam-sleduet-uchityvat-pri-rabote-s-temami-i-stilyami">  ¬øQu√© debemos considerar al trabajar con temas y estilos? </h3><br><p>  Como se√±al√©, Google ha comenzado oficialmente a forzar un tema oscuro.  Estoy seguro de que muchos clientes comenzaron a recibir preguntas: "¬øPodemos agregar un tema oscuro?".  Es bueno si hace todo bien desde el principio y le resulta f√°cil cambiar los colores claros a oscuros, mientras recibe una aplicaci√≥n completamente repintada. </p><br><p>  Desafortunadamente, este no es siempre el caso.  Existen aplicaciones antiguas que requieren un esfuerzo considerable para realizar los cambios necesarios. </p><br><p>  Intentemos formular recomendaciones para trabajar juntos con estilos: </p><br><h4 id="1-palitra-cvetov">  1. El selector de color </h4><br><p>  Creo que cada desarrollador se enfrenta a una situaci√≥n en la que aparece un color extra√±o en el nuevo dise√±o que a√∫n no est√° definido en la paleta de aplicaciones.  ¬øQu√© hacer en este caso? </p><br><p>  La respuesta correcta es hablar con el dise√±ador e intentar desarrollar una paleta de colores.  Ahora hay muchos programas (Zeplin, Sketch, etc.) que le permiten renderizar colores primarios y luego reutilizarlos. </p><br><p>  Cuanto antes lo haga, menos dolores de cabeza tendr√° en el futuro. </p><br><h4 id="2-nazyvat-cveta-svoimi-imenami">  2. Deletrea los colores por sus nombres propios </h4><br><p>  En cada aplicaci√≥n, hay un color que tiene muchas opciones de brillo.  Puedes comenzar a inventar nombres para ellos: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green_tiny"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green_light"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green_dark"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  De acuerdo, no se ve muy bien.  La pregunta surge de inmediato: ¬øqu√© color es m√°s claro que el <code>tiny</code> o el <code>light</code> ?  ¬øY si tenemos una docena de opciones? </p><br><p>  Es mejor seguir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el concepto de Google</a> y agregar el brillo apropiado a los nombres de los colores (Google llama a esta opci√≥n de color - <code>colorVariant</code> ): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"material_green_300"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"material_green_700"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"material_green_900"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Con este enfoque, podemos tener cualquier cantidad de opciones de brillo de un color y no tenemos que encontrar nombres espec√≠ficos, lo cual es realmente dif√≠cil. </p><br><h4 id="3-abstragirovatsya-ot-konkretnogo-cveta-esli-on-menyaetsya-v-raznyh-temah">  3. Para abstraer de un color espec√≠fico si cambia en diferentes temas </h4><br><p>  Como estamos escribiendo una aplicaci√≥n en la que habr√° al menos dos temas, no podemos permitirnos referirnos a un color espec√≠fico si se implementa en los temas de diferentes maneras. </p><br><p>  Veamos un ejemplo: </p><br><p><img src="https://habrastorage.org/webt/9r/ww/97/9rww97ptqjv0yrqkizqu5qigmuu.png"></p><br><p>  Vemos que en un tema claro, por ejemplo, la barra de herramientas est√° coloreada en p√∫rpura y en la oscuridad es gris oscuro.  ¬øC√≥mo implementar√≠amos este comportamiento usando solo las capacidades de los temas? </p><br><p>  Todo es bastante simple: crearemos un atributo y lo implementaremos en temas claros y oscuros con el color apropiado, como se describi√≥ anteriormente. </p><br><p>  Google recomienda asociar nombres de atributos con sem√°ntica de uso. </p><br><h4 id="4-ne-boyatsya-sozdavat-resursnye-fayly">  4. No tengas miedo de crear archivos de recursos </h4><br><p>  Cuando se escriben muchos estilos, temas y atributos diferentes en <code>styles.xml</code> , resulta dif√≠cil mantenerlos. </p><br><p>  Es mejor agrupar todo en archivos separados: </p><br><pre> <code class="plaintext hljs">themes.xml ‚Äî Theme &amp; ThemeOverlay styles.xml ‚Äî Widget styles type.xml ‚Äî TextAppearance, text size etc shape.xml ‚Äî ShapeAppearance motion.xml ‚Äî Animations styles system_ui.xml ‚Äî Booleans, colors for UI control //may be other files</code> </pre> <br><p>  Una regla tan simple evitar√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">los archivos de Dios</a> y, por lo tanto, ser√° m√°s f√°cil mantener los estilos. </p><br><h4 id="5-pereispolzovat-po-maksimumu">  5. Reutilizar al m√°ximo </h4><br><p>  ¬øQu√© haremos si queremos redefinir un atributo que est√° disponible solo desde una versi√≥n espec√≠fica de la API? </p><br><p>  Podemos crear dos temas separados: </p><br><pre> <code class="xml hljs">../values/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MaterialComponents.NoActionBar‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Many definition--&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> ../values-v27/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MaterialComponents.NoActionBar‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Many definition--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">name="android:windowLightNavigationBar"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">...</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  ¬øAhora tenemos un tema con todos los par√°metros para cada versi√≥n de la API?  Por supuesto que no!  Haremos un tema b√°sico donde los atributos b√°sicos que est√°n disponibles para todas las versiones de la API ser√°n determinados y heredados de la misma en la versi√≥n deseada de la API: </p><br><pre> <code class="xml hljs">../values/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MaterialComponents.DayNight.NoActionBar‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Many definition--&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MyApp.Base‚Äù/</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> ../values-v27/themes.xml </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Base.V27"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Base"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"><span class="xml"><span class="xml"> </span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">name="android:windowLightNavigationBar"</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="xml"><span class="xml">...</span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="xml"><span class="xml"> </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MyApp.Base.V27‚Äù/</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="undefined"></span></code> </pre> <br><p>  Por este principio, se construyen todos los temas en la biblioteca est√°ndar. </p><br><h4 id="6-ispolzovat-vektornye-resursy-i-tint">  6. Use recursos vectoriales y tinte </h4><br><p>  Creo que no vale la pena decir por qu√© los recursos vectoriales son buenos.  Todos ya lo saben (por si acaso, un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace a la documentaci√≥n</a> ).  Bueno, el <strong>te√±ido</strong> nos ayudar√° a colorearlos con los colores del tema. </p><br><p>  Puede ver qu√© es el tinte y c√≥mo trabajar con √©l en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este ejemplo</a> . </p><br><h4 id="7-androidattr-vs-attr">  7.? Android: attr / ... vs? Attr / ... </h4><br><p>  Al acceder a los recursos, tenemos la oportunidad de utilizar tanto los atributos del sistema como los atributos de la biblioteca de Componentes del material.  Es importante comprender que algunos atributos existen solo con una versi√≥n espec√≠fica de la API.  Como todos sabemos bien, acceder a un recurso inexistente conduce a un bloqueo (la pelusa, por supuesto, nos dir√° si algo est√° mal, pero no siempre debe confiar en √©l) </p><br><pre> <code class="xml hljs">android:background="?android:attr/selectableItemBackgroundBorderless" android:background="?attr/selectableItemBackgroundBorderless"</code> </pre> <br><p>  En el primer caso, accedemos al recurso del sistema, como lo indica <code>android</code> .  En el segundo caso, a un atributo de la biblioteca donde se implementa la compatibilidad con versiones anteriores. </p><br><p>  Es mejor usar siempre la segunda opci√≥n. </p><br><h4 id="8-vsegda-ukazyvat-roditelya-dlya-stilya">  8. Siempre especifique padre para el estilo </h4><br><p>  Puede haber par√°metros en el estilo primario, sin los cuales el componente se representar√° incorrectamente, por lo que siempre debe especificar el primario. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.LoginInputLayout"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.TextInputLayout.FilledBox"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"errorTextColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorError</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4 id="9-tema-stil-ili--">  9. Tema, estilo o ...? </h4><br><p>  Al crear sus propios temas y estilos, ser√° excelente si especifica un prefijo que diga qu√© tipo de estilo es y para qu√© est√° definido.  Tal denominaci√≥n har√° que sea muy f√°cil estructurar y extender estilos. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äù...‚Äù/</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.LoginInputLayout"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"..."</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml"><span class="xml"><span class="xml"> </span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.LoginInputLayout.Brown"</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="xml"> </span></span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;</span></span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"> </span></span></span></span><span class="hljs-attr"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">=</span></span></span></span><span class="hljs-string"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"ThemeOverlay.MyApp.Login"</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"> </span></span></span></span><span class="hljs-attr"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">=</span></span></span></span><span class="hljs-string"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-string">‚Äù...‚Äù/</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></span><span class="undefined"></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="undefined"></span></span></span></span></code> </pre> <br><h4 id="10-ispolzovat-textappearance">  10. Use TextAppearance </h4><br><p>  Ser√° un buen tono para expandir los estilos b√°sicos del texto y usarlos en todas partes. </p><br><p>        Material Design: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Typography</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Typography Theming</a> . </p><br><h3 id="zaklyuchenie">  Conclusi√≥n </h3><br><p>    ,    ‚Äî     ,   .        -    .         Material Components.            .      Sketch ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Material Theme Editor</a> .               .        ,    . </p><br><p>   Material Components     GitHub ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Modular and customizable Material Design UI components for Android</a> .            .  ,    ‚Äî sample,      . </p><br><h4 id="poleznye-ssylki">  Enlaces utiles: </h4><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Getting started with Material Components for Android</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Theming Guide</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Android themes &amp; styles demystified ‚Äî Google I/O 2016</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Best Practices for Themes and Styles (Android Dev Summit '18)</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">The Components of Material Design (Android Dev Summit '18)</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Masking Bitmaps  Android</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/461201/">https://habr.com/ru/post/461201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../461191/index.html">Grabaciones del verano DIYorDIE Meetup 16 de junio</a></li>
<li><a href="../461193/index.html">Contigo PhysTech.Science: elimina la distorsi√≥n cognitiva y comprende los secretos de la mente</a></li>
<li><a href="../461195/index.html">Interfaz IR, Frambuesa y LIRC</a></li>
<li><a href="../461197/index.html">Historias sobre las duras v√≠ctimas rusas de TI y digitalizaci√≥n</a></li>
<li><a href="../461199/index.html">C√≥mo usar m√≥dulos PAM para autenticaci√≥n local en Linux usando claves GOST-2012 en Rutoken</a></li>
<li><a href="../461205/index.html">Mejores sistemas de gesti√≥n de pruebas 2019</a></li>
<li><a href="../461207/index.html">Sysadmins, hoy es nuestro d√≠a</a></li>
<li><a href="../461209/index.html">Sprint o marat√≥n?</a></li>
<li><a href="../461211/index.html">Donde ense√±an a ense√±ar (no solo en el ped. Institute)</a></li>
<li><a href="../461213/index.html">Prueba autom√°tica: diez salvavidas del equipo de Skyeng</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>