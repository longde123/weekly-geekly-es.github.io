<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤱🏾 🧝 👨🏿‍🎤 Управляем освещением в квартире (NooLite, Raspberry Pi и WebIOPi) 🚅 🔸 🤕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="NooLite Raspberry Pi Model B ( RPI) .
 NooLite :
 

- NooLite — , 
- NooLite-2, 
- «noolite» «site:habrahabr.ru noolite»
 :
 

- WebIOPi Raspbian UART...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Управляем освещением в квартире (NooLite, Raspberry Pi и WebIOPi)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/382689/">        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NooLite</a>   Raspberry Pi Model B ( <abbr title="Himbeer pi">RPI</abbr>)   .<br>
  NooLite    :<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NooLite —   ,      </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NooLite-2,     </a></li>
<li>     «noolite»       «site:habrahabr.ru noolite»</li>
</ul><br>
    :<br>
<ul>
<li>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WebIOPi</a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Raspbian</a>    UART     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> MT1132 NooLite</a></li>
<li>    WebIOPi      HTTP REST  GPIO UART</li>
<li>      Android     REST </li>
</ul><br>
<a name="habracut"></a><br>
<h4></h4><br>
<ul>
<li><b></b> ( ): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RPI</a> + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WebIOPi</a> (UART+REST) + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NooLite </a></li>
<li><b> </b>:   NooLite   —   </li>
<li><b></b> ( , ):   Android, WEB-,  bash shell (python script)</li>
</ul><br>
, - : «      RPI     —       ,     <s>  ,   </s>  Arduino  Wi-Fi         AVR ».<br>
,      RPI     «»     RPI,      . ,   RPI       « ».<br>
<br>
<h4> </h4><br>
<ul>
<li>2-   44    </li>
<li>RPI (      )</li>
<li>  «» </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für einige Zeit habe ich mich mit verschiedenen Plattformen und Technologien des Smart Home befasst. Infolgedessen fiel die Wahl auf das NooLite-System, basierend auf den folgenden:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">angemessener Preis im Vergleich zu ähnlichen Systemen (Z-Wave, EnOcean, ZigBee)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich vertraue den in Belarus hergestellten Waren</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protokoll öffnen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">viele Anwendungsbeispiele im Internet</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">433 MHz </font><font style="vertical-align: inherit;">weit verbreitet und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vom SCRF ratifiziert</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich machte auch </font><font style="vertical-align: inherit;">auf die ARM9-basierte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wiren Board-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Plattform für die Heimautomation </font><font style="vertical-align: inherit;">mit umfangreichen Funktionen für alle denkbaren und unvorstellbaren Anforderungen aufmerksam. </font><font style="vertical-align: inherit;">Ich war besonders zufrieden mit der Killer-Funktion - einem 433-MHz-Funkmodul, das in meinem Fall zur Steuerung von NooLite-Netzteilen geeignet ist. </font><font style="vertical-align: inherit;">Aber da ich bereits ein RPI habe, werden wir darauf aufbauen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um eine „intelligente“ Beleuchtung in der Wohnung zu implementieren, musste ich die folgenden Aufgaben lösen:</font></font><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bestimmen Sie das optimale Beleuchtungsszenario in einer Zweizimmerwohnung</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definieren Sie eine Methode zur Integration in RPI und zum Platzieren von Niedrigstrom</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wählen Sie einen Wrapper zur Steuerung</font></font></a><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zeichnen Sie eine gemeinsame Interaktionsarchitektur</font></font></a></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine Einkaufsliste schreiben </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">koordiniere das oben genannte mit seiner Frau</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kaufen Sie die notwendigen Komponenten</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fernbedienungen binden und RPI-Integration debuggen&gt; NooLite</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geeignete Schalter für Fernbedienungen finden und kaufen</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platzieren Sie Stromblöcke und Schalter </font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entwicklung einer mobilen Anwendung für Android</font></font></a></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Punkte 1 und 4-6 können in einem Zyklus wiederholt werden. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ausgabepreis:</font></font></b><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPI [1 Stk]</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NooLite MT1132-Modul [1 140 ₽ X 1 Stk] 1 140 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leistungsblöcke NL [1 240 ₽ X 11 Stk.] 13 640 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stationäre Bedienfelder NL [1 340 ₽ X 7 Stk.] 9 380 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fernbedienungsschlüsselbund NL [1 550 ₽ X 1 Stk] 1 550 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bewegungssensor NL [1 550 ₽ X 1 Stk] 1 550 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Montageboxen, Halterungen, Tastatur- / Tastenmodule (Schalter), Rahmen (einzeln erhältlich)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Freunde mit einem 3D-Drucker - kostenlos</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gesamt: ~ 27 000 ₽</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + Controller von 3 000 ₽.</font></font><br>
<a name="block1"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wohnungsbeleuchtungsszenario</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Layout der Eck-Zweizimmerweste P44T mit Erkerfenster ist unten angegeben. </font></font><br>
<img src="https://habrastorage.org/files/f24/f3a/512/f24f3a512d94401ebf9d36ae27b645a2.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist geplant, die Beleuchtung mit NooLite in allen Räumen außer der Loggia, dem Bad und der Toilette zu steuern.</font></font><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Korridor</font></font></h5><br>
2      (/).<br>
          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PM111</a>.               .<br>
<img src="https://habrastorage.org/files/82b/981/6b6/82b9816b645c43f09360010da4b2d6bd.png"><br>
           .     «    ».<br>
       (     )        .             .<br>
   :<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn die Beleuchtung in der Nähe des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PM111-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sensors </font><font style="vertical-align: inherit;">höher ist als die vom Beleuchtungsstärke-Regler eingestellte, befindet sich der Sensor im Standby-Modus. </font><font style="vertical-align: inherit;">Gleichzeitig ist der Stromverbrauch minimal (weniger als 1 μA) und der thermische Bewegungssensor ist deaktiviert. </font><font style="vertical-align: inherit;">Wenn die Beleuchtung einen vorgegebenen Wert unterschreitet, wechselt der Sensor in den Standby-Modus.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Lichter in Toilette und Bad werden über einen klassischen stationären Schalter gesteuert. </font><font style="vertical-align: inherit;">Das Licht und der Ventilator in der Toilette sind über ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F &amp; F PO-415-Zeitrelais</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (auch Weißrussen) auf einer DIN-Schiene verbunden.</font></font><br>
<img src="https://habrastorage.org/files/761/0dd/00a/7610dd00a0d14e85bfb6aad508fd7570.png"><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Infolge des Schließens des Steuerkontakts 6 werden die Relaiskontakte 11, 12 geschlossen. </font><font style="vertical-align: inherit;">Das Öffnen des Steuerkontakts 6 bewirkt einen Countdown der eingestellten Zeit, wonach der Betrieb des PO-415 stoppt.</font></font><br>
</blockquote><br>
      ,       (    /).<br>
           ,           .      .<br>
<b>  :</b><br>
<ul>
<li>      200  (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SU111-200</a>   )</li>
<li>  3-   ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PK313</a>):<br>
 <ul>
<li> 1 — /    1</li>
<li> 2 — /    2</li>
<li> 3 —      ()</li>
</ul><br>
 </li>
</ul><br>
<img src="https://habrastorage.org/files/d15/e11/fde/d15e11fde6b544e0b8b4a39329018f58.png"><br>
<h5></h5><br>
  :<br>
<ul>
<li>   (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SU111-200</a>  )</li>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spotbeleuchtung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Spanndecke</font></a><font style="vertical-align: inherit;"> ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">SU111-200 Relaismodus</font></a><font style="vertical-align: inherit;"> )</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LED-Streifen zur Beleuchtung der Arbeitsfläche der Küche ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relaismodus SU111-200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Beleuchtungspunkte werden über einen 3-Tasten-Schalter ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PK311-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fernbedienung </font><font style="vertical-align: inherit;">) am Eingang zur Küche </font><font style="vertical-align: inherit;">gesteuert </font><font style="vertical-align: inherit;">.</font></font><br>
<img src="https://habrastorage.org/files/f5e/6db/293/f5e6db29310044d7a028093a8bf6dcfc.png"><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wohnzimmer und Balkon</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zwei Beleuchtungspunkte im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relaismodus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">SU111-200</font></a><font style="vertical-align: inherit;"> ):</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hauptbeleuchtung im Wohnzimmer</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Licht auf dem Balkon</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder Beleuchtungspunkt wird von 2 Schaltern gesteuert:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stationärer 2-Tasten-Schalter am Balkon ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PK313</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Remote </font><font style="vertical-align: inherit;">):</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Taste 1 - Ein / Aus-Licht auf dem Balkon</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Taste 2 - Licht im Wohnzimmer ein- / ausschalten</font></font></li>
</ul><br>
 </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stationärer 2-Tasten-Schalter im Wohnzimmer ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PK314-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fernbedienung </font><font style="vertical-align: inherit;">):</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Taste 1 - Licht im Wohnzimmer ein- / ausschalten</font></font></li>
<li> 2 — /   </li>
</ul><br>
 </li>
</ul><br>
<img src="https://habrastorage.org/files/2cd/d9e/241/2cdd9e24183442d089566677dee0de8c.png"><br>
, -  «     2-      ?»  «      ?».<br>
  ,      3-      ,        .  ,        ,    ,     —  ,   . <br>
      ,    .    ,     ,    ,      «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">      </a>».<br>
<h5></h5><br>
<b> 1 ()</b><br>
       .    —   .          .   « 1»       ,     .<br>
<b> 2 ()</b><br>
                RPI.  :<br>
<ul>
<li>  (/      )</li>
<li> B (/      )</li>
<li>  (/   )</li>
</ul><br>
<img src="https://habrastorage.org/files/a78/f82/e8d/a78f82e8da434711aa8a66d6c40d7050.png"><br>
<a name="block2"></a><h4>       NooLite   RPI</h4><br>
 ,    .  NooLite   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MT1132</a>.      UART   ,     RPI,        ( )    «OK\r\n»    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a>.<br>
<table>
<tbody><tr>
<th>   (VCC U)</th>
<th>2,7—5,5 </th>
</tr>
<tr>
<td>    Rx </td>
<td>0 — U</td>
</tr>
<tr>
<td>TTL HIGH LVL ( )  U=5 </td>
<td>2 — U (5 )</td>
</tr>
<tr>
<td>TTL LOW LVL ( )  U=5 </td>
<td>0—0,8 </td>
</tr>
<tr>
<td>TTL HIGH LVL ( )  U=3,3 </td>
<td>2—3,3 </td>
</tr>
<tr>
<td>TTL LOW LVL ( )  U=3,3 </td>
<td>0—0,8 </td>
</tr>
<tr>
<td> UART</td>
<td>9600 </td>
</tr>
</tbody></table><br>
<img src="https://habrastorage.org/files/ffe/4ee/a4d/ffe4eea4d7a14c25ae45f94c3bef4204.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da RPART UART-Leitungen mit TTL-Pegeln von 3,3 V betrieben werden, verwenden wir 3,3 V als U-Leistung des Moduls. </font></font><br>
<img src="https://habrastorage.org/files/d37/959/89e/d3795989ef37427ab127ad82d02e2ed0.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können drei Leitungen am MT1132 verwenden: VCC, GND und RX, um ein Steuerpaket zu übertragen. </font><font style="vertical-align: inherit;">Ich habe dies beim Debuggen getan - ich habe die Antwort „OK \ r \ n“ von MT1132 nicht gelesen, es hat mir gereicht, die Anzeige des angeschlossenen Netzteils zu beobachten. </font><font style="vertical-align: inherit;">Nach erfolgreicher Annahme des Befehls „Binden“ wird am Netzteil ein häufiges Blinken der eingebauten LED ausgelöst. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiterer Punkt ist die Leistung des Funksenders mit U-Leistung von 3,3 V bis 3,3 mW, mit U-Leistung von 5 V bis 5 mW. </font><font style="vertical-align: inherit;">Der maximale Abstand zum Aggregat beträgt 70 m.</font></font><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Über das Steuerpaket</font></font></h4><br>
    12 :<br>
<b>ST, B0, B1, B2, B3, B4, B5, B6, B7, B8, CS, SP</b><br>
<b>ST</b> —  ,   85<br>
<b>B0..B8</b> — payload ( )<br>
<b>CS</b> —  .      10  ( ST  B8)<br>
<b>SP</b> —  <br>
      :<br>
<b>B1</b> —    : <br>
<ul>
<li>0 —  </li>
<li>2 —  </li>
<li>4 —    </li>
<li>9 —  (       )</li>
<li>15 —  (     )</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Kanaladresse (von 0 bis 31). </font><font style="vertical-align: inherit;">Nur 32 Kanäle. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
andere Bytes standardmäßig mit Ausnahme der Prüfsumme. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Einstellen des Übertragungsmodus des Moduls. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der </font><font style="vertical-align: inherit;">Wert 80 (0x50) </font><font style="vertical-align: inherit;">an </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B0 übergeben wird, gilt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Folgendes:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anzahl der Wiederholungen - 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bitrate 2-1000 bps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modus 0 - Befehl senden</font></font></li>
</ul><br>
<img src="https://habrastorage.org/files/034/067/d82/034067d8239e4139b06ce9408ce2d87f.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen habe ich eine solche </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit den für mich erforderlichen Steuerungspaketen zusammengestellt.</font></font><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platzierung in der Schalttafel</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde beschlossen, einen schwachen Strom in die interne Schalttafel einzubauen:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das RPI wird auf einer DIN-Schiene montiert, indem auf einem 3D-Drucker gedruckte Freunde angebracht werden</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MT1132-Modul zur drahtlosen Steuerung von Aggregaten</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zwei ~ 220 DIN-Buchsen zum Anschluss von Netzteilen eines Routers und RPI</font></font></li>
</ul><br>
<img src="https://habrastorage.org/files/9ab/684/784/9ab6847847b94274ab95a4cdac7379b3.jpg"><br>
<a name="block3"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integrations-Debugging und Auswahl von Wrappern für die Verwaltung</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voraussetzungen:</font></font></b><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPI</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MT1132-Modul</font></font></li>
<li> -    MT1132  RPI GPIO</li>
<li>SD      RPI</li>
<li>  SHELL (bash, csh, korn, etc.)  RPI (     SSH)</li>
<li>  </li>
<li>    UART  GPIO header  RPI</li>
</ul><br>
 ,      Macbook Air,     Raspbian-wheezy   (     —    ,   ,    ):<br>
<pre><code class="bash hljs">dd bs=1m <span class="hljs-keyword">if</span>=2015-02-16-raspbian-wheezy.img of=/dev/disk2</code></pre><br>
 :<br>
<pre><code class="bash hljs">dd: /dev/disk2: Permission denied </code></pre><br>
C  lock  SD ,       /dev/disk2….<br>
  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   </a>, -     SD  , - .      ,       :  SD     ,  .<br>
    ,     - .<br>
<img src="https://habrastorage.org/files/ebf/f89/c4f/ebff89c4f54a444da08cee2965451eda.jpg"><br>
  ,           WEB,   REST     UART     —    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WebIOPi</a>.<br>
<img src="https://habrastorage.org/files/3da/fa4/85e/3dafa485e4fe44f8b9f0c0b7bfffc282.png"><br>
   OpenHAB -  . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">    </a>.<br>
      ,     «»   .<br>
<a name="arch"></a><h5>  </h5><br>
<img src="https://habrastorage.org/files/ebb/55d/b61/ebb55db6163f476fb505ca4e498f2d7f.png"><br>
<b> WebIOPi </b><br>
     :<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> framework WebIOPi</a>   <br>
 <ul>
<li>Installation</li>
<li>Running WebIOPi (Daemon)</li>
<li>Auto start at boot</li>
</ul><br>
 </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> UART</a>,  3 : /etc/inittab, /boot/cmdline.txt, /etc/webiopi/config. :<br>
 <ul>
<li>On-Board UART</li>
<li>WebIOPi Configuration</li>
</ul><br>
 </li>
<li>    <br>
 <ul>
<li>Serial Loopback trick ( «»    UART    WEB  WEBIOPi   Serial Monitor)</li>
<li>   Serial Monitor  </li>
</ul><br>
 </li>
</ol><br>
<img src="https://habrastorage.org/files/39b/9d6/224/39b9d6224a214d16bb931577c750497c.png"><br>
    UART .<br>
      ,   Python-    RPI SHELL.<br>
<div class="spoiler"><b class="spoiler_title">RPI Shell script for MT1132 module</b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment">#!/usr/bin/python</span><font></font>
<span class="hljs-keyword">import</span> sys, getopt<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">argv</span>):</span><font></font>
   ch = <span class="hljs-string">''</span><font></font>
   cmd = <span class="hljs-string">''</span><font></font>
   <span class="hljs-keyword">try</span>:<font></font>
      opts, args = getopt.getopt(argv,<span class="hljs-string">"h:"</span>,[<span class="hljs-string">"ch="</span>,<span class="hljs-string">"cmd="</span>])<font></font>
   <span class="hljs-keyword">except</span> getopt.GetoptError:<font></font>
      <span class="hljs-keyword">print</span> <span class="hljs-string">'mt1132.py --ch &lt;channel_number&gt; --cmd &lt;ON/OFF/BIND/UNBIND&gt;'</span><font></font>
      sys.exit(<span class="hljs-number">2</span>)<font></font>
   <span class="hljs-keyword">for</span> opt, arg <span class="hljs-keyword">in</span> opts:<font></font>
      <span class="hljs-keyword">if</span> opt == <span class="hljs-string">'-h'</span>:<font></font>
         <span class="hljs-keyword">print</span> <span class="hljs-string">'mt1132.py --ch &lt;channel_number&gt; --cmd &lt;ON/OFF/BIND/UNBIND&gt;'</span><font></font>
         sys.exit()<font></font>
      <span class="hljs-keyword">elif</span> opt <span class="hljs-keyword">in</span> (<span class="hljs-string">"--ch"</span>):<font></font>
         ch = arg<font></font>
      <span class="hljs-keyword">elif</span> opt <span class="hljs-keyword">in</span> (<span class="hljs-string">"--cmd"</span>):<font></font>
         cmd = arg<font></font>
   <span class="hljs-keyword">print</span> <span class="hljs-string">'Channel: '</span>, ch<font></font>
   <span class="hljs-keyword">print</span> <span class="hljs-string">'Command: '</span>, cmd<font></font>
   <span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'ON'</span> <span class="hljs-keyword">and</span> ch!=<span class="hljs-string">''</span>:<font></font>
        <span class="hljs-keyword">if</span> ch==<span class="hljs-string">'0'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 0'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'1'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 1'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a8</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'2'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 2'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a9</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'3'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 3'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x03</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00aa</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'4'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 4'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ab</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'5'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 5'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ac</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'6'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 6'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ad</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'7'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 7'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'8'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 8'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00af</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'9'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 9'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b0</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'10'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 10'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0a</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b1</span>, <span class="hljs-number">0x00aa</span>])<font></font>
   <span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'OFF'</span> <span class="hljs-keyword">and</span> ch!=<span class="hljs-string">''</span>:<font></font>
        <span class="hljs-keyword">if</span> ch==<span class="hljs-string">'0'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 0'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a5</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'1'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 1'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a6</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'2'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 2'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'3'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 3'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x03</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a8</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'4'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 4'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a9</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'5'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 5'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00aa</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'6'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 6'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ab</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'7'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 7'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ac</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'8'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 8'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ad</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'9'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 9'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'10'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 10'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0a</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
   <span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'BIND'</span> <span class="hljs-keyword">and</span> ch!=<span class="hljs-string">''</span>:<font></font>
        <span class="hljs-keyword">if</span> ch==<span class="hljs-string">'0'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 0'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b4</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'1'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 1'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b5</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'2'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 2'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b6</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'3'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 3'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x03</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'4'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 4'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b8</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'5'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 5'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b9</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'6'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 6'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ba</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'7'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 7'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00bb</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'8'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 8'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00bc</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'9'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 9'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00bd</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'10'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 10'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0a</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00be</span>, <span class="hljs-number">0x00aa</span>])<font></font>
   <span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'UNBIND'</span> <span class="hljs-keyword">and</span> ch!=<span class="hljs-string">''</span>:<font></font>
        <span class="hljs-keyword">if</span> ch==<span class="hljs-string">'0'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 0'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'1'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 1'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00af</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'2'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 2'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b0</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'3'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 3'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x03</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b1</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'4'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 4'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b2</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'5'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 5'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b3</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'6'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 6'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b4</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'7'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 7'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b5</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'8'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 8'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b6</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'9'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 9'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'10'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 10'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0a</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b8</span>, <span class="hljs-number">0x00aa</span>])<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:<font></font>
   main(sys.argv[<span class="hljs-number">1</span>:])<font></font>
</code></pre><br>
</div></div><br>
  MT1132   shell    <br>
<pre><code class="bash hljs"><font></font>
mt1132.py --ch &lt;channel_number&gt; --cmd &lt;ON/OFF/BIND/UNBIND&gt;<font></font>
</code></pre><br>
<b> REST API</b><br>
 WebIOPi  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  HTTP    REST</a>,         «-».<br>
  REST API    :<br>
<ul>
<li>Get GPIO function</li>
<li>Set GPIO function</li>
<li>Get GPIO value</li>
<li>Set GPIO value</li>
<li>Output a single pulse</li>
<li>Output bit sequence</li>
<li>Output PWM with a duty cycle ratio</li>
<li>Output PWM with an angle for servos</li>
<li>Call a macro on the server</li>
<li>Get full GPIO state/configuration</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unser Fall ist "Makro auf dem Server aufrufen". </font><font style="vertical-align: inherit;">Die Beschreibung ist nicht fettend, aber für das Experiment ausreichend: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTTP POST / macros / (macro) / (args)</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gibt den vom Makro zurückgegebenen Wert zurück</font></font></li>
</ul><br>
 (macro)     REST «Get full GPIO state/configuration»,       HTTP GET /*.<br>
  REST API Client,   DHC   Chrome .   REST    . <br>
<img src="https://habrastorage.org/files/b21/fc2/c33/b21fc2c3392b49c6b4f3f36220f97268.png"><br>
<b> WebIOPi (/etc/webiopi/config)</b><br>
<img src="https://habrastorage.org/files/9c0/861/2fa/9c08612fa2024ef892a0e31b641c90e7.png"><br>
<b>  [DEVICES]</b>:<br>
  <b>serial</b> (UART GPIO) —      MT1132, <br>
<b>ttyAMA0</b> —   (),    Raspbian, <br>
<b>baudrate</b> —         UART .<br>
9600  / (8 + 1   + 1  ) = 960 /.<br>
<b>  [SCRIPTS]</b> (custom scripts):<br>
  <b>myscrypt = /home/pi/smarthome/python/mt1132.py</b> —      .<br>
<b>  [REST]</b> (  GPIO  REST API. ):<br>
gpio-post-value = false —     LOW/HIGH   GPIO  REST ;<br>
gpio-post-function = false —    IN/OUT   GPIO  REST .<br>
    .<br>
<b>[COAP]</b>:<br>
  , .            .        «oAP — is a specialized web transfer protocol for use with constrained nodes and constrained networks in the <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet der Dinge</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , entwickelt für Machine-to-Machine-Anwendungen (M2M) wie Smart Energy und Gebäudeautomation. " </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielleicht öffnet auf Habr jemand nützliche Anwendungsfälle.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fügen Sie einem zuvor vorbereiteten Skript Makros für REST-Anforderungen hinzu.</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"># Channel 0	</span><font></font>
<span class="hljs-meta">@webiopi.macro	</span><font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ch0</span>(<span class="hljs-params">cmd</span>):</span><font></font>
	<span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'on'</span>:<font></font>
		serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
		webiopi.sleep(<span class="hljs-number">1</span>)<font></font>
		resp = <span class="hljs-string">'Channel: 0, Cmd: '</span> + cmd + <span class="hljs-string">', Status: '</span> + serial.readString()<font></font>
	<span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'off'</span>:<font></font>
		serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a5</span>, <span class="hljs-number">0x00aa</span>])<font></font>
		webiopi.sleep(<span class="hljs-number">1</span>)<font></font>
		resp = <span class="hljs-string">'Channel: 0, Cmd: '</span> + cmd + <span class="hljs-string">', Status: '</span> + serial.readString()<font></font>
	<span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'unbind'</span>:<font></font>
		serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
		webiopi.sleep(<span class="hljs-number">1</span>)<font></font>
		resp = <span class="hljs-string">'Channel: 0, Cmd: '</span> + cmd + <span class="hljs-string">', Status: '</span> + serial.readString()<font></font>
	<span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'bind'</span>:<font></font>
		serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b4</span>, <span class="hljs-number">0x00aa</span>])<font></font>
		webiopi.sleep(<span class="hljs-number">1</span>)<font></font>
		resp = <span class="hljs-string">'Channel: 0, Cmd: '</span> + cmd + <span class="hljs-string">', Status: '</span> + serial.readString()<font></font>
	<span class="hljs-keyword">return</span> resp <font></font>
</code></pre><br>
</div></div><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testen von REST-Anforderungen mit Makros</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir senden eine REST-Anfrage zum "Binden der Adresse des 3. Kanals NooLite MT1132 an den Power Block, auf dem die Bindung initiiert wird" über DHC. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn das Steuerpaket erfolgreich gesendet wurde, antwortet das MT1132-Modul über UART TX auf den GPIO UART RX „OK“. </font><font style="vertical-align: inherit;">Bei Erfolg merkt sich das Netzteil die Kanaladresse und blinkt intensiv mit der eingebauten grünen LED.</font></font><br>
<img src="https://habrastorage.org/files/ea3/e94/eb7/ea3e94eb7784412f8e909c7fb5af18a6.png"><br>
<a name="block5"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfacher Client für Android</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anfangs hatte ich nicht vor, eine Anwendung für Android zu schreiben, da ich keine Ahnung hatte, dass ich mich auf einen Browser beschränken wollte. </font><font style="vertical-align: inherit;">Dann wanderte er versehentlich in den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Start Android-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kanal </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der Autor Dmitry erklärt Andryukha ausführlich, wie er schnell sein erstes Projekt unter der Androyd-Plattform starten kann. </font><font style="vertical-align: inherit;">Vielen Dank an den Autor für das Projekt und die harte Arbeit! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich nicht mehr als zwanzig Lektionen gesehen und abgeschlossen hatte, begann ich mit der Erstellung meiner einfachen Lichtsteuerungsanwendung. </font><font style="vertical-align: inherit;">Für die Entwicklung habe ich IDE Android Studio als Google-Eingabeaufforderung verwendet - basierend auf IntelliJ IDEA. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnittstelle Das</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ergebnis war eine sehr asketische Schnittstelle:</font></font><br>
<img src="https://habrastorage.org/files/771/334/b07/771334b07db9439381afe676f597f189.png"><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.xml WIE BESEHEN</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl7"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"2dp"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"false"</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!-- --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"50dp"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1c1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"18sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl4"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/white"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/white"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"18sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1c2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">" "</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl4"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/white"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"18sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1c3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl4"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>/&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!--  --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room1txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center|top"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place1txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1switch1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place5txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1switch2"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place2txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1switch3"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b1on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b1off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b2on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b2off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b3on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b3off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!--  --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"40dp"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room2txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place1txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r2switch1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center|left"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r2b1on"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r2b1off"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!--  --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"40dp"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room3txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place1txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r3switch1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center|left"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r3b1on"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r3b1off"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!--    --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room4txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room4"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place6txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4switch1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place8txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4switch3"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place7txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4switch2"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b1on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b1off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b3on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b3off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b2on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b2off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
<font></font>
    <span class="hljs-comment">&lt;!--  --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room5txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room5"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place3txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5switch1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place4txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5switch2"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5b1on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5b1off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5b2on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5b2off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OnClick-Methoden sind an Schaltflächen gebunden.</font></font><br>
<pre><code class="java hljs"><span class="hljs-meta">@Override</span><font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View v)</span> </span>{<font></font>
        <span class="hljs-comment">// define the button switch that invoked the listener by id</span><font></font>
        <span class="hljs-keyword">switch</span> (v.getId()) {<font></font>
            <span class="hljs-comment">// Buttons room1 </span><font></font>
            <span class="hljs-keyword">case</span> R.id.r1b1on: <span class="hljs-comment">// </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch4url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
</code></pre><br>
Switch  ID view  ,  TOAST      HTTP   RPI  HttpURLConnection  AsyncTask ( ParseTask().execute();).<br>
<b>  backend</b><br>
HttpURLConnection —     HTTP .<br>
 doInBackground  AsyncTask —      -      UI .<br>
HttpURLConnection    doInBackground. <br>
           HTTP .<br>
<pre><code class="java hljs">webiopiurl = getString(R.string.ch4url) + <span class="hljs-string">"on"</span>;
</code></pre><br>
    strings.xml   <br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"ch4url"</span>&gt;</span>http://192.168.1.154:8000/macros/ch4/<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
</code></pre><br>
   URL    4  <br>
<pre><code class="html hljs xml">http://192.168.1.154:8000/macros/ch4/on
</code></pre><br>
<pre><code class="java hljs"><span class="hljs-comment">// HTTP Query to backend in REST style</span><font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParseTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AsyncTask</span>&lt;<span class="hljs-title">Void</span>, <span class="hljs-title">Void</span>, <span class="hljs-title">String</span>&gt; </span>{<font></font>
        HttpURLConnection urlConnection = <span class="hljs-keyword">null</span>;<font></font>
        BufferedReader reader = <span class="hljs-keyword">null</span>;<font></font>
        String result = <span class="hljs-string">""</span>;<font></font>
        String BASIC_AUTH = <span class="hljs-string">"Basic "</span><font></font>
                + Base64.encodeToString((getString(R.string.login) + <span class="hljs-string">":"</span> + getString(R.string.pwd)).getBytes(), Base64.NO_WRAP);<font></font>
<font></font>
        <span class="hljs-meta">@Override</span><font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> String <span class="hljs-title">doInBackground</span><span class="hljs-params">(Void... params)</span> </span>{<font></font>
            <span class="hljs-comment">//    REST </span><font></font>
            <span class="hljs-keyword">try</span> {<font></font>
                URL url = <span class="hljs-keyword">new</span> URL(webiopiurl);<font></font>
                urlConnection = (HttpURLConnection) url.openConnection();<font></font>
                urlConnection.setRequestMethod(<span class="hljs-string">"POST"</span>);<font></font>
                urlConnection.setRequestProperty(<span class="hljs-string">"Authorization"</span>, BASIC_AUTH);<font></font>
                urlConnection.connect();<font></font>
                <span class="hljs-comment">//    backend webiopi</span><font></font>
                InputStream inputStream = urlConnection.getInputStream();<font></font>
                StringBuffer buffer = <span class="hljs-keyword">new</span> StringBuffer();<font></font>
                reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(inputStream));<font></font>
                String line;<font></font>
                <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-keyword">null</span>) {<font></font>
                    buffer.append(line);<font></font>
                }<font></font>
                result = buffer.toString();<font></font>
            } <span class="hljs-keyword">catch</span> (Exception e) {<font></font>
                e.printStackTrace();<font></font>
            }<font></font>
            <span class="hljs-keyword">return</span> result;<font></font>
        }<font></font>
</code></pre><br>
<div class="spoiler"><b class="spoiler_title"> MainActivity.java AS IS</b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword">package</span> ru.bbq.smarthome_App;<font></font>
<font></font>
<span class="hljs-keyword">import</span> android.os.AsyncTask;<font></font>
<span class="hljs-keyword">import</span> android.os.Bundle;<font></font>
<span class="hljs-keyword">import</span> android.support.v7.app.ActionBarActivity;<font></font>
<span class="hljs-keyword">import</span> android.util.Base64;<font></font>
<span class="hljs-keyword">import</span> android.util.Log;<font></font>
<span class="hljs-keyword">import</span> android.view.View;<font></font>
<span class="hljs-keyword">import</span> android.widget.Button;<font></font>
<span class="hljs-keyword">import</span> android.widget.TextView;<font></font>
<span class="hljs-keyword">import</span> android.widget.Toast;<font></font>
<font></font>
<span class="hljs-keyword">import</span> java.io.BufferedReader;<font></font>
<span class="hljs-keyword">import</span> java.io.InputStream;<font></font>
<span class="hljs-keyword">import</span> java.io.InputStreamReader;<font></font>
<span class="hljs-keyword">import</span> java.net.HttpURLConnection;<font></font>
<span class="hljs-keyword">import</span> java.net.URL;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ActionBarActivity</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">View</span>.<span class="hljs-title">OnClickListener</span> </span>{<font></font>
    <span class="hljs-comment">// Add logger</span><font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String LOG_TAG = <span class="hljs-string">"my_log"</span>;<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String webiopiurl = <span class="hljs-string">""</span>;<font></font>
    <span class="hljs-comment">// switch buttons</span><font></font>
    TextView r1sw1;<font></font>
    TextView r1sw2;<font></font>
    TextView r1sw3;<font></font>
    TextView r2sw1;<font></font>
    TextView r3sw1;<font></font>
    TextView r4sw1;<font></font>
    TextView r4sw2;<font></font>
    TextView r4sw3;<font></font>
    TextView r5sw1;<font></font>
    TextView r5sw2;<font></font>
    <span class="hljs-comment">// ON OFF buttons</span><font></font>
    Button r1b1on;<font></font>
    Button r1b1off;<font></font>
    Button r1b2on;<font></font>
    Button r1b2off;<font></font>
    Button r1b3on;<font></font>
    Button r1b3off;<font></font>
    Button r2b1on;<font></font>
    Button r2b1off;<font></font>
    Button r3b1on;<font></font>
    Button r3b1off;<font></font>
    Button r4b1on;<font></font>
    Button r4b1off;<font></font>
    Button r4b2on;<font></font>
    Button r4b2off;<font></font>
    Button r4b3on;<font></font>
    Button r4b3off;<font></font>
    Button r5b1on;<font></font>
    Button r5b1off;<font></font>
    Button r5b2on;<font></font>
    Button r5b2off;<font></font>
    <span class="hljs-meta">@Override</span><font></font>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{<font></font>
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);<font></font>
        setContentView(R.layout.main);<font></font>
        <span class="hljs-comment">// find View-elements and buttons</span><font></font>
        r1sw1 = (TextView) findViewById(R.id.r1switch1); <span class="hljs-comment">// room1switch1</span><font></font>
        r1sw2 = (TextView) findViewById(R.id.r1switch2); <span class="hljs-comment">// room1switch2</span><font></font>
        r1sw3 = (TextView) findViewById(R.id.r1switch3); <span class="hljs-comment">// room1switch3</span><font></font>
        r2sw1 = (TextView) findViewById(R.id.r2switch1); <span class="hljs-comment">// room2switch1</span><font></font>
        r3sw1 = (TextView) findViewById(R.id.r3switch1); <span class="hljs-comment">// room3switch1</span><font></font>
        r4sw1 = (TextView) findViewById(R.id.r4switch1); <span class="hljs-comment">// room4switch1</span><font></font>
        r4sw2 = (TextView) findViewById(R.id.r4switch2); <span class="hljs-comment">// room4switch2</span><font></font>
        r4sw3 = (TextView) findViewById(R.id.r4switch3); <span class="hljs-comment">// room4switch3</span><font></font>
        r5sw1 = (TextView) findViewById(R.id.r5switch1); <span class="hljs-comment">// room5switch1</span><font></font>
        r5sw2 = (TextView) findViewById(R.id.r5switch2); <span class="hljs-comment">// room5switch2</span><font></font>
        r1b1on = (Button) findViewById(R.id.r1b1on);    <span class="hljs-comment">// room1 button1 ON</span><font></font>
        r1b1off = (Button) findViewById(R.id.r1b1off);  <span class="hljs-comment">// room1 button1 OFF</span><font></font>
        r1b2on = (Button) findViewById(R.id.r1b2on);    <span class="hljs-comment">// room1 button2 ON</span><font></font>
        r1b2off = (Button) findViewById(R.id.r1b2off);  <span class="hljs-comment">// room1 button2 OFF</span><font></font>
        r1b3on = (Button) findViewById(R.id.r1b3on);    <span class="hljs-comment">// room1 button3 ON</span><font></font>
        r1b3off = (Button) findViewById(R.id.r1b3off);  <span class="hljs-comment">// room1 button3 OFF</span><font></font>
        r2b1on = (Button) findViewById(R.id.r2b1on);    <span class="hljs-comment">// room2 button1 ON</span><font></font>
        r2b1off = (Button) findViewById(R.id.r2b1off);  <span class="hljs-comment">// room2 button1 OFF</span><font></font>
        r3b1on = (Button) findViewById(R.id.r3b1on);    <span class="hljs-comment">// room3 button1 ON</span><font></font>
        r3b1off = (Button) findViewById(R.id.r3b1off);  <span class="hljs-comment">// room3 button1 OFF</span><font></font>
        r4b1on = (Button) findViewById(R.id.r4b1on);    <span class="hljs-comment">// room4 button1 ON</span><font></font>
        r4b1off = (Button) findViewById(R.id.r4b1off);  <span class="hljs-comment">// room4 button1 OFF</span><font></font>
        r4b2on = (Button) findViewById(R.id.r4b2on);    <span class="hljs-comment">// room4 button2 ON</span><font></font>
        r4b2off = (Button) findViewById(R.id.r4b2off);  <span class="hljs-comment">// room4 button2 OFF</span><font></font>
        r4b3on = (Button) findViewById(R.id.r4b3on);    <span class="hljs-comment">// room4 button3 ON</span><font></font>
        r4b3off = (Button) findViewById(R.id.r4b3off);  <span class="hljs-comment">// room4 button3 OFF</span><font></font>
        r5b1on = (Button) findViewById(R.id.r5b1on);    <span class="hljs-comment">// room5 button1 ON</span><font></font>
        r5b1off = (Button) findViewById(R.id.r5b1off);  <span class="hljs-comment">// room5 button1 OFF</span><font></font>
        r5b2on = (Button) findViewById(R.id.r5b2on);    <span class="hljs-comment">// room5 button2 ON</span><font></font>
        r5b2off = (Button) findViewById(R.id.r5b2off);  <span class="hljs-comment">// room5 button2 OFF</span><font></font>
<font></font>
        <span class="hljs-comment">//assign listeners to buttons</span><font></font>
        r1b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b2on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b2off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b3on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b3off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r2b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r2b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r3b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r3b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b2on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b2off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b3on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b3off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r5b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r5b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r5b2on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r5b2off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// Define On ClickView method</span><font></font>
    <span class="hljs-meta">@Override</span><font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View v)</span> </span>{<font></font>
        <span class="hljs-comment">// define the button switch that invoked the listener by id</span><font></font>
        <span class="hljs-keyword">switch</span> (v.getId()) {<font></font>
            <span class="hljs-comment">// Buttons room1 </span><font></font>
            <span class="hljs-keyword">case</span> R.id.r1b1on: <span class="hljs-comment">// </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch4url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b1off: <span class="hljs-comment">// </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch4url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b2on: <span class="hljs-comment">//  </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch3url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b2off: <span class="hljs-comment">//  </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch3url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b3on: <span class="hljs-comment">// LED </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw3.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch2url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b3off: <span class="hljs-comment">// LED </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw3.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch2url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-comment">// Buttons room2 </span><font></font>
            <span class="hljs-keyword">case</span> R.id.r2b1on:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room2txt)+<span class="hljs-string">" &gt; "</span>+r2sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch6url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r2b1off:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room2txt)+<span class="hljs-string">" &gt; "</span>+r2sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch6url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-comment">// Buttons room3 </span><font></font>
            <span class="hljs-keyword">case</span> R.id.r3b1on:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room3txt)+<span class="hljs-string">" &gt; "</span>+r3sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch5url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r3b1off:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room3txt)+<span class="hljs-string">" &gt; "</span>+r3sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch5url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-comment">// Buttons room4 bedroom</span><font></font>
            <span class="hljs-keyword">case</span> R.id.r4b1on: <span class="hljs-comment">//    </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch8url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b1off: <span class="hljs-comment">//    </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch8url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b2on: <span class="hljs-comment">//    </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch7url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b2off: <span class="hljs-comment">//    </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch7url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b3on: <span class="hljs-comment">//   dimmer</span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw3.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch9url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b3off: <span class="hljs-comment">//   dimmer</span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw3.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch9url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-comment">// Buttons room5 corridor</span><font></font>
            <span class="hljs-keyword">case</span> R.id.r5b1on:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room5txt)+<span class="hljs-string">" &gt; "</span>+r5sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch1url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r5b1off:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room5txt)+<span class="hljs-string">" &gt; "</span>+r5sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch1url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r5b2on:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room5txt)+<span class="hljs-string">" &gt; "</span>+r5sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch0url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r5b2off:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room5txt)+<span class="hljs-string">" &gt; "</span>+r5sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch0url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// HTTP Query to backend in REST style</span><font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParseTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AsyncTask</span>&lt;<span class="hljs-title">Void</span>, <span class="hljs-title">Void</span>, <span class="hljs-title">String</span>&gt; </span>{<font></font>
        HttpURLConnection urlConnection = <span class="hljs-keyword">null</span>;<font></font>
        BufferedReader reader = <span class="hljs-keyword">null</span>;<font></font>
        String result = <span class="hljs-string">""</span>;<font></font>
        String BASIC_AUTH = <span class="hljs-string">"Basic "</span><font></font>
                + Base64.encodeToString((getString(R.string.login) + <span class="hljs-string">":"</span> + getString(R.string.pwd)).getBytes(), Base64.NO_WRAP);<font></font>
        <span class="hljs-meta">@Override</span><font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> String <span class="hljs-title">doInBackground</span><span class="hljs-params">(Void... params)</span> </span>{<font></font>
            <span class="hljs-comment">//    REST </span><font></font>
            <span class="hljs-keyword">try</span> {<font></font>
                URL url = <span class="hljs-keyword">new</span> URL(webiopiurl);<font></font>
                urlConnection = (HttpURLConnection) url.openConnection();<font></font>
                urlConnection.setRequestMethod(<span class="hljs-string">"POST"</span>);<font></font>
                urlConnection.setRequestProperty(<span class="hljs-string">"Authorization"</span>, BASIC_AUTH);<font></font>
                urlConnection.connect();<font></font>
                <span class="hljs-comment">//    backend webiopi</span><font></font>
                InputStream inputStream = urlConnection.getInputStream();<font></font>
                StringBuffer buffer = <span class="hljs-keyword">new</span> StringBuffer();<font></font>
                reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(inputStream));<font></font>
                String line;<font></font>
                <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-keyword">null</span>) {<font></font>
                    buffer.append(line);<font></font>
                }<font></font>
                result = buffer.toString();<font></font>
            } <span class="hljs-keyword">catch</span> (Exception e) {<font></font>
                e.printStackTrace();<font></font>
            }<font></font>
            <span class="hljs-keyword">return</span> result;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-meta">@Override</span><font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPostExecute</span><span class="hljs-params">(String str)</span> </span>{<font></font>
            <span class="hljs-keyword">super</span>.onPostExecute(str);<font></font>
            <span class="hljs-comment">//  ,    plain text ( JSON)</span><font></font>
            <span class="hljs-comment">//    log</span><font></font>
            Log.d(LOG_TAG, str);<font></font>
            <span class="hljs-comment">//  TOAST -   webiopi     MT1132</span><font></font>
            Toast.makeText(getApplicationContext(), str, Toast.LENGTH_SHORT).show();<font></font>
        }<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<a name="block4"></a><br>
<h4>      </h4><br>
   ,       / NooLite   ,         (/),    (    ).<br>
    :<br>
<ul>
<li>        </li>
<li>    </li>
</ul><br>
     bticino livinglight.        NooLite.<br>
<img src="https://habrastorage.org/files/f6e/6b0/d1a/f6e6b0d1a7b9428cbba0d6e6670c1cb9.jpg"><br>
<img src="https://habrastorage.org/files/57d/47e/4f9/57d47e4f9b90491980fa5cff309ec226.jpg"><br>
<b>      </b> <br>
<img src="https://habrastorage.org/files/d08/495/843/d08495843ec84300bc851d70e0b011ab.jpg"><br>
<b>  </b><br>
<img src="https://habrastorage.org/files/ceb/2c6/51a/ceb2c651a47145a2b51daab51abb32d6.png"><br>
<b>    </b><br>
<img src="https://habrastorage.org/files/128/1f8/00a/1281f800ac6e40dd829cdde1e7b7f3cf.png"><br>
  .  !</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de382689/">https://habr.com/ru/post/de382689/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de382677/index.html">Mein Internet der Dinge: Guest Castle (Teil 2)</a></li>
<li><a href="../de382679/index.html">Astronomen konnten Bilder des Lavasees auf der Oberfläche von Io, dem Satelliten des Jupiter, aufnehmen</a></li>
<li><a href="../de382681/index.html">5 Stunden Sojus 'Annäherung an die ISS - in einem halbstündigen Video auf YouTube</a></li>
<li><a href="../de382685/index.html">Schau über den Horizont hinaus</a></li>
<li><a href="../de382687/index.html">CERN-Wissenschaftler bereiten ein "Kraftfeld" vor, um Astronauten vor Strahlung zu schützen</a></li>
<li><a href="../de382693/index.html">Roskosmos-Satellit METEOR-M2 stürzte ab [Gerät wiederhergestellt]</a></li>
<li><a href="../de382695/index.html">Allgemeine Fusion</a></li>
<li><a href="../de382697/index.html">Virtuelle Realität und der Verbrauchermarkt</a></li>
<li><a href="../de382699/index.html">Die British Library bittet um Hilfe bei der Entschlüsselung der Gravur eines Schwertes aus dem 13. Jahrhundert</a></li>
<li><a href="../de382701/index.html">In dem Film wird "John Wick" einen Ego-Shooter für VR-Brillen machen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>