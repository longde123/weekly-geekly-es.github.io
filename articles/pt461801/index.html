<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÅ üèÜ üë©‚Äçüåæ DisplayPort-LVDS üñåÔ∏è üßïüèª üëºüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bom dia, Habr! 



 E, novamente, quero chamar sua aten√ß√£o para um projeto de conversor de hardware, mas agora o DisplayPort-LVDS √© constru√≠do em um (...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DisplayPort-LVDS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461801/">  Bom dia, Habr! <br><br><img src="https://habrastorage.org/webt/lc/hi/tw/lchitwtiomqhwgnl6wsndq_kydm.jpeg"><br><br>  E, novamente, quero chamar sua aten√ß√£o para um projeto de conversor de hardware, mas agora o DisplayPort-LVDS √© constru√≠do em um (!) Chip NXP. <br><a name="habracut"></a><br><h3>  Declara√ß√£o do problema </h3><br>  Desenvolva um simples conversor DisplayPort-LVDS sem firmware.  Implementa√ß√£o de hardware em uma base de elementos acess√≠vel.  O conversor deve ser universal, suportar v√°rios tipos de matrizes (com LVDS de canal √∫nico e duplo) e sinais de controle de tens√£o dos inversores.  Trabalho na faixa de temperatura industrial.  Em geral, como o HDMI-LVDS que foi desenvolvido anteriormente com o nome "AHL-14.3".  Eu tamb√©m queria realmente obter compatibilidade total entre esses controladores: pinagem, firmware EDID, dimens√µes gerais e dimens√µes para incorpora√ß√£o etc.  Para reduzir o custo do projeto, ele recusou interruptores DIP e suporte √† fonte de alimenta√ß√£o de 24V. <br><br><h3>  Requisitos b√°sicos </h3><br><ul><li>  dois canais LVDS (com a capacidade de alternar e usar um); </li><li>  modo de dois pixels de opera√ß√£o do conversor; </li><li>  suporte para matrizes de diferentes tamanhos de bits, idealmente de 6 a 10; </li><li>  tens√£o de opera√ß√£o do conversor 12V; </li><li>  tens√£o de opera√ß√£o do painel 3.3V, 5V, 12V; </li><li>  controle de brilho / luz de fundo: 3.3V com a capacidade de inverter; </li></ul><br><h3>  Requisitos de projeto </h3><br><ul><li>  configura√ß√£o simples (mec√¢nica) da prancha (jumpers com passo de 2 mm); </li><li>  as dimens√µes geom√©tricas da placa devem corresponder √† placa "AHL-14.3"; </li><li>  on / off, ajuste de brilho com bot√µes no quadro; </li><li>  Indica√ß√£o de ligar / desligar / firmware EDID. </li></ul><br><h3>  Procure uma solu√ß√£o </h3><br>  Pesquisando um pouco, percebi que n√£o existem tantas solu√ß√µes.  O chip PTN3460 imediatamente chamou minha aten√ß√£o, ele gostou das dimens√µes 7x7mm (56-VFQFN) em rela√ß√£o √† minha solu√ß√£o antiga (com HDMI), quando havia dois chips de 13x13mm nos pacotes S-PQFP-G100. <br><br>  Foi com ele (PTN3460) que ele decidiu iniciar a prototipagem do quadro (no entanto, ele parou para ser liberado, pois seu trabalho n√£o causou nenhuma reclama√ß√£o).  O chip PTN3460 est√° dispon√≠vel para opera√ß√£o em duas faixas de temperatura: de 0 a -40 graus. <br><br><img src="https://habrastorage.org/webt/cd/de/md/cddemdkjm-sgudln4ehm6m1hq1m.png"><br>  <i>Fig. 1.</i>  <i>Modelo 3D do controlador DisplayPort-LVDS top</i> <br><br><img src="https://habrastorage.org/webt/lr/p5/z6/lrp5z62fgtw8o5n57qofds_fj3q.png"><br>  <i>Fig. 2.</i>  <i>Modelo 3D do controlador inferior DisplayPort-LVDS</i> <br><br><h3>  Sele√ß√£o da base do elemento </h3><br>  O PTN3460 possui uma fia√ß√£o m√≠nima - s√£o literalmente 10 capacitores de cer√¢mica e tantos resistores de configura√ß√£o.  Consegui mais alguns deles, porque queria alcan√ßar o dispositivo mais universal com a configura√ß√£o de todas as pernas poss√≠veis. <br><br>  As tens√µes de 3,3V e 5V s√£o geradas pelos conversores STMicroelectronics (3A) ST1S10PHR - eles se comprovam h√° muito tempo e continuo a us√°-los em meus projetos (a prop√≥sito, eles tamb√©m s√£o bons alimentadores, mas j√° em 4A √© ST1S41).  O controlador, como na vers√£o anterior, √© STM32F100. <br><br>  J√° durante a depura√ß√£o e o refinamento, o software come√ßou a usar a EEPROM embutida para EDID.  Anteriormente, um chip era usado, como o AT24C02 (ou similar), onde, de fato, o EDID era armazenado.  O PTN3460 permite que voc√™ coloque o EDID dentro de si, o que economiza um pouco mais de custo. <br><br><img src="https://habrastorage.org/webt/me/ym/wt/meymwt6ejqfc3vjmb1a962uvepw.png"><br>  <i>Fig. 3.</i>  <i>Diagrama de fia√ß√£o PTN3460</i> <br><br><h3>  Controlar as configura√ß√µes da luz de fundo e do painel </h3><br>  Ligar a luz de fundo do painel e ajustar o brilho √© realizado com uma tens√£o de 3,3V.  A ativa√ß√£o ocorre fornecendo uma unidade l√≥gica a um pino espec√≠fico do inversor, controle de brilho - usando PWM.  Para controlar os bot√µes na placa, s√£o exibidos (tamb√©m h√° um conector para conectar um teclado externo).  O manipulador de bot√£o e o PWM s√£o implementados no controlador STM32F100, que tamb√©m controla a indica√ß√£o do LED (EDID on / off / firmware).  √â importante notar que existem dois tipos de controle de luz de fundo (PWM): brilho m√°ximo da unidade l√≥gica ou brilho m√°ximo do zero l√≥gico.  Nesse projeto, isso √© realizado alternando os jumpers com a designa√ß√£o correspondente na placa.  Um pino de 3,3V / 5V / 12V / GND (via jumpers) foi inserido no conector LVDS na placa.  As matrizes geralmente possuem pinos de controle: MAP (cart√£o de dados), BIT (sele√ß√£o de bits), MODE (modo normal e espelho) etc. Se voc√™ precisar controlar esses par√¢metros, poder√° inserir o pino da matriz correspondente no conector do conversor LVDS e alterar um deles. . <br><br><img src="https://habrastorage.org/webt/a1/ra/h2/a1rah2hmy67o81o7f2396kc8_ss.jpeg"><br>  <i>Fig. 4.</i>  <i>Apar√™ncia do Controlador DisplayPort-LVDS</i> <br><br><h3>  Configura√ß√£o e primeiro in√≠cio </h3><br>  A configura√ß√£o do conversor √© a seguinte: <br><br><ol><li>  O firmware do controlador √© realizado de acordo com o SWD padr√£o. </li><li>  Defina os par√¢metros EDID.  O mesmo programa ‚ÄúDeltacast E-EDID Editor‚Äù vem ao resgate, no qual especificamos os par√¢metros da matriz na folha de dados (e algumas vezes pelo m√©todo de sele√ß√£o, pois nem todos os fabricantes de matrizes se preocupam em listar todos os par√¢metros). </li></ol><br><img src="https://habrastorage.org/webt/fj/lt/a5/fjlta5qcqnpg7pt9woqgdflxo-y.png"><br>  <i>Fig. 5.</i>  <i>Aplicativo Deltacast E-EDID Editor</i> <br><br>  Como escrevi acima, queria obter compatibilidade total, inclusive com a parte do software.  No firmware do microcontrolador, tive que alterar o endere√ßo da EEPROM (n√£o alterei todos os controles GPIO), mas o programa EDID LOADER permaneceu inalterado.  O conversor est√° conectado ao PC via UART usando o adaptador USB-UART.  Em seguida, selecione porta COM, um arquivo com EDID e pressione o bot√£o do firmware.  Na placa, h√° uma indica√ß√£o do LED do firmware R_EE.  Quando ele apaga, o programa no PC emite mensagens sobre o final do firmware.  No caso de firmware mal sucedido, uma mensagem de erro falha. <br><br><img src="https://habrastorage.org/webt/ca/gg/rz/caggrztyokg39veyi2n0ugenhxa.png"><br>  <i>Fig. 6.</i>  <i>EDID LOADER app</i> <br><br>  No momento, v√°rias placas foram produzidas para testar hardware e software. <br><br>  A primeira itera√ß√£o resultou em v√°rias liga√ß√µes - usei os pares errados no conector DisplayPort e, assim, o dispositivo funcionou imediatamente, n√£o houve momentos cr√≠ticos.  A diretoria executou imediatamente em 4 camadas, a fim de estabelecer bons aterros sanit√°rios para alimentos e terras. <br><br><h3>  Benef√≠cios de desenvolvimento </h3><br><ul><li>  implementa√ß√£o de hardware do conversor; </li><li>  universalidade; </li><li>  simplicidade na instala√ß√£o. </li></ul><br>  Obrigado pela aten√ß√£o! <br><br>  PS.  Qualquer pessoa interessada pode ver o novo artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HDMI-LVDS.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Desenvolvimento em TSUMV59 de MStar</a> <br>  Este controlador possui menus de som e OSD a bordo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt461801/">https://habr.com/ru/post/pt461801/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt461781/index.html">"Ycombinator Startup School 2019." V√≠deo das tr√™s primeiras semanas</a></li>
<li><a href="../pt461785/index.html">Desvantagens do RISC-V</a></li>
<li><a href="../pt461787/index.html">Exibi√ß√£o de texto Android</a></li>
<li><a href="../pt461793/index.html">Ivan Ponomarev sobre a API do Kafka Streams na reuni√£o jug.msk.ru</a></li>
<li><a href="../pt461797/index.html">Contos de servi√ßo. Um post fr√≠volo sobre trabalho s√©rio</a></li>
<li><a href="../pt461803/index.html">Data Version Control (DVC): controle de vers√£o de dados e reprodutibilidade do experimento</a></li>
<li><a href="../pt461805/index.html">Aplicativo de Integra√ß√£o Monte Carlo em Renderiza√ß√£o</a></li>
<li><a href="../pt461807/index.html">Como as prioridades do pod em Kubernetes causaram o tempo de inatividade no Grafana Labs</a></li>
<li><a href="../pt461813/index.html">Not√≠cias do mundo do OpenStreetMap n¬∫ 470 (16.07.2019 - 22/07/2014)</a></li>
<li><a href="../pt461815/index.html">Uma revolu√ß√£o no design de fontes de alimenta√ß√£o para computadores meio s√©culo atr√°s</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>