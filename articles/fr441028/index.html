<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💆🏽 ☪️ 👳 Comment les chercheurs découvrent les bases de données ouvertes MongoDB et Elasticsearch 🎓 👏🏼 💭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a quelque temps, parmi les chercheurs en sécurité, il était très «à la mode» de trouver des stockages cloud AWS mal configurés avec toutes sortes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment les chercheurs découvrent les bases de données ouvertes MongoDB et Elasticsearch</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441028/"><p>  Il y a quelque temps, parmi les chercheurs en sécurité, il était très «à la mode» de trouver des stockages cloud AWS mal configurés avec toutes sortes d'informations confidentielles.  Ensuite, j'ai même publié une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">petite note</a> sur la découverte du stockage en nuage ouvert Amazon S3. </p><br><p>  Cependant, le temps passe et l’accent est mis sur la recherche de bases de données accessibles au public.  Plus de la moitié des cas connus de fuites de données majeures au cours de la dernière année sont des fuites de bases de données ouvertes (un examen des fuites pour 2018 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ). </p><br><p><img src="https://habrastorage.org/webt/qd/5n/0_/qd5n0_zxgdzy8vhi_tgddi8v9ws.jpeg"></p><br><p>  <em>Aujourd'hui, nous allons essayer de comprendre comment ces bases de données sont détectées par les chercheurs en sécurité ...</em> </p><a name="habracut"></a><br><blockquote>  Avis de non-responsabilité requis: cet article n'aborde ni ne soulève de problèmes juridiques et éthiques liés à la recherche et à l'identification de bases de données accessibles au public.  Toutes les informations ci-dessous doivent être considérées exclusivement comme éducatives et informatives. <cut></cut></blockquote><p>  Je ne découvrirai pas l'Amérique si je dis que les principaux outils pour trouver des bases de données ouvertes sont les moteurs de recherche spécialisés <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shodan</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Censys</a> .  Je dois dire tout de suite que ce ne sont pas des services gratuits et que vous devez payer vos non-roubles honnêtement gagnés pour accéder aux résultats de recherche complets (dans le cas de Shodan, c'est 59 $ / mois, et pour Censys - 99 $ / mois, et ce n'est que pour les packages de base minimum).  Les versions gratuites des moteurs de recherche limitent considérablement le nombre de résultats dans les résultats de recherche. </p><br><p>  En plus de la recherche classique de type Google utilisant la barre de recherche, ces moteurs de recherche offrent la possibilité de s'y connecter via l'API.  L'heureux propriétaire d'un abonnement payant recevra sa clé API.  Cela permet de faciliter considérablement la tâche de ratisser un tas d'ordures de recherche.  J'ai donné une liste de scripts utiles et de programmes d'automatisation de la recherche qui utilisent des clés API à la fin de cet article. </p><br><p><code> ,       ,      GitHub,     API-,       .</code> </p> <br><p>  Regardons le moteur de recherche Shodan comme un exemple de recherche de bases de données MongoDB et Elasticsearch ouvertes. </p><br><p>  La requête la plus simple et la plus évidente qui supplie est "MongoDB": </p><br><p><img src="https://habrastorage.org/webt/t0/cz/35/t0cz35wov0lcelzqhfxud4sexvm.png"></p><br><p>  Comme le montre la capture d'écran, cette demande nous a renvoyé tous les serveurs MongoDB indexés (sur le port par défaut 27017).  De plus, la plupart d'entre eux (dans la capture d'écran ce sont les trois premiers) seront des bases de données fermées, nécessitant des comptes pour la connexion.  Et ce n'est pas tout à fait ce qui nous intéresse.  Plus précisément, ce n'est pas du tout le cas. </p><br><p>  Compliquons un peu la requête en utilisant les filtres de recherche "all:" mongodb server information "all:" metrics "": </p><br><p><img src="https://habrastorage.org/webt/ds/al/1h/dsal1h5z6nbodykeozkerdhkoqa.png"></p><br><p>  Le résultat est déjà bien meilleur.  Toutes les bases de données trouvées étaient disponibles gratuitement au moment où elles ont été indexées par le moteur de recherche.  Avec un degré de probabilité élevé, vous pouvez vous y connecter aux adresses IP spécifiées à l'aide d'un gestionnaire pour MongoDB (par exemple, NoSQL Manager pour MongoDB ou Studio 3T pour MongoDB). </p><br><p>  Vous pouvez limiter la recherche à un pays.  Supposons que nous recherchons des MongoDB ouverts en Chine (requête "tous:" informations sur le serveur mongodb "tous:" métriques "pays:" cn ""): </p><br><p><img src="https://habrastorage.org/webt/0f/o_/x1/0fo_x1w4f_m2az4l9gzkk5fhrqa.png"></p><br><p>  Pour rechercher des bases de données Elasticsearch ouvertes, il est pratique d'utiliser la requête "port:" 9200 "all:" indices élastiques "": </p><br><p><img src="https://habrastorage.org/webt/5c/as/wo/5caswon2tfp9hoz9bizzm88zncs.png"></p><br><p>  Malheureusement, je n'ai pas trouvé de moyen de définir la condition de recherche dans la barre de recherche en fonction de la taille de la base de données.  Si vous savez comment faire cela (définissez un filtre sur les paramètres "totalSize" ou "sizeOnDisk" dans la barre de recherche), alors écrivez dans les commentaires. </p><br><p>  Vous pouvez appliquer des filtres plus complexes (restrictions sur la taille de la base de données, la date à laquelle le serveur est entré dans l'index, etc.) aux résultats de la recherche à l'aide de scripts et de programmes spécialisés.  Pour cela, vous aurez déjà besoin d'un accès payant et d'une clé API, comme je l'ai écrit ci-dessus. </p><br><p>  Voici une courte liste de ce qui pourrait être utile: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cli.shodan.io</a> est la console Shodan officielle.  En russe sur son utilisation peut être lu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">shodan-manual.com</a> - un guide de Shodan en russe. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/woj-ciech/LeakLooker</a> est un programme en python pour trouver des bases de données ouvertes (MongoDB, CouchDB, Elasticsearch, etc.). </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lampyre.io</a> est une interface graphique très puissante (et jusqu'à présent très boguée!) pour rechercher et visualiser ce qui a été trouvé.  Il a des modèles intégrés pour rechercher MongoDB et bien plus encore.  C'est en beta test avec toutes les conséquences ... </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">t.me/dataleak</a> (s'il est bloqué, alors <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tele.click/dataleak</a> ) est ma modeste chaîne Telegram dans laquelle je passe en revue les fuites d'informations et, en particulier, j'écris sur ce que les chercheurs en sécurité trouvent dans le domaine public.  C'est intéressant. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr441028/">https://habr.com/ru/post/fr441028/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr441018/index.html">Outils de développement et de spécification de programmes NanoCAD Mechanics</a></li>
<li><a href="../fr441020/index.html">Comment VTB est venu à une seule connaissance</a></li>
<li><a href="../fr441022/index.html">Erreurs courantes des passagers des chemins de fer et des compagnies aériennes</a></li>
<li><a href="../fr441024/index.html">Nous écrivons un robot pour un ou deux 1.0</a></li>
<li><a href="../fr441026/index.html">VMware NSX pour les plus petits. Partie 2. Configuration du pare-feu et du NAT</a></li>
<li><a href="../fr441030/index.html">Détection des attaques Web avec un autoencodeur Seq2Seq</a></li>
<li><a href="../fr441032/index.html">KeeBee Créer son propre clavier USB à partir de zéro</a></li>
<li><a href="../fr441034/index.html">6 points de croissance de conversion ou comment augmenter la confiance en utilisant un téléphone sur le site</a></li>
<li><a href="../fr441036/index.html">Comment donner et recevoir des commentaires si vous êtes moineau-sociophobus</a></li>
<li><a href="../fr441040/index.html">Génération d'icônes multi-plateformes multi-marques avec Sketch et un script Node.js - Partie # 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>