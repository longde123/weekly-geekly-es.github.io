<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎹 🌒 🐲 Analyse des tâches WTF en JavaScript 🏎️ 🌋 💃🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JavaScript est un langage spécial. Peu importe combien vous l'étudiez, il y aura toujours des moments qui feront même un professionnel chevronné comme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Analyse des tâches WTF en JavaScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479496/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e84/4d2/21a/e844d221aeb73fe9e21f3d3e37156562.png"></div><br><p>  JavaScript est un langage spécial.  Peu importe combien vous l'étudiez, il y aura toujours des moments qui feront même un professionnel chevronné commencer à gratter les navets. </p><br><p>  Cet article fournit quelques puzzles JavaScript liés à un comportement linguistique inhabituel.  Ils aideront quelqu'un à apprendre quelque chose de nouveau et quelqu'un pourra simplement rafraîchir ses connaissances. </p><br><h2>  Tâche 1 - "BANANE" </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e9a/71b/d5e/e9a71bd5e873e3720e78c0d805c154d5.png" width="684" height="352"></div><a name="habracut"></a><br><p> Ce tweet à l'époque a gagné en popularité dans le segment Twitter en anglais dédié à JavaScript.  Notamment parce qu'il n'est pas du tout évident de savoir ce qui se passe ici. </p><br><div class="spoiler">  <b class="spoiler_title">Solution</b> <div class="spoiler_text"><p>  Les «b» et «a» au début ne sont que des chaînes qui s'ajoutent à «ba».  Après "a", vous voyez deux signes plus (+).  Le premier est destiné à être ajouté, mais le second est un opérateur unaire qui convertit la chaîne qui le suit en nombre.  Étant donné que le deuxième «a» ne peut pas être converti en nombre, il est converti en «NaN». </p><br><p>  Ainsi nous avons: «ba» + «NaN» + «a» - «baNaNa».  toLowerCase nous donne insidieusement le résultat final - «banane». </p><br></div></div><br><h2>  Tâche 2 - Ajout de tableaux </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/26a/70f/be5/26a70fbe556a9ecddaf5961035a986c1.jpg" width="591" height="162"></div><br><p>  C'est une tâche simple, mais une personne qui ne connaît pas le fonctionnement de JavaScript peut être source de confusion. </p><br><div class="spoiler">  <b class="spoiler_title">Solution</b> <div class="spoiler_text"><p>  Tout d'abord, les tableaux sont convertis en chaînes - «1,2,3» et «4,5,6».  Le résultat de la concaténation de ces lignes sera la réponse finale - la chaîne "1,2,34,5,6". </p><br></div></div><br><h2>  Tâche 3 - fonction parseInt () </h2><br><p>  De toutes les tâches JavaScript, ce fut la plus difficile pour moi. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c2f/976/fd1/c2f976fd13953d262f7350e6e4fbc88a.jpg" width="530" height="168"></div><br><p>  Si probablement tout a été rencontré avec parseInt en JavaScript d'une manière ou d'une autre, moins de personnes connaissent déjà l'existence du deuxième paramètre optionnel «radix».  C'est la base du système numérique du premier argument. </p><br><div class="spoiler">  <b class="spoiler_title">Solution</b> <div class="spoiler_text"><p>  Le premier argument "null" est converti en chaîne.  Le premier caractère de cette chaîne «n» est converti en un nombre dans le système numérique avec la base 24. Le résultat de cette conversion est 23. </p><br><p>  parseInt continue d'analyser la chaîne caractère par caractère jusqu'à ce qu'il rencontre un caractère qu'il ne peut pas convertir en nombre.  Il s'agit du deuxième caractère de la chaîne - «u», car il n'y a pas un tel chiffre dans le système numérique avec la base 24. </p><br><p>  De cette façon: </p><br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) === <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(<span class="hljs-string"><span class="hljs-string">"null"</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(<span class="hljs-string"><span class="hljs-string">"null"</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) === <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(<span class="hljs-string"><span class="hljs-string">"n"</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(<span class="hljs-string"><span class="hljs-string">"n"</span></span>, <span class="hljs-number"><span class="hljs-number">24</span></span>) === <span class="hljs-number"><span class="hljs-number">23</span></span></code> </pre> <br></div></div><br><h2>  Tâche 4 - Numéros à virgule flottante de précision </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3f7/aed/76e/3f7aed76eff7d6992a88a4a2e390b456.jpg" width="583" height="166"></div><br><p>  Cela a l'air horrible, mais en toute honnêteté, à un degré ou à un autre, vous pouvez en rencontrer un similaire dans n'importe quelle langue qui utilise des calculs à virgule flottante. </p><br><div class="spoiler">  <b class="spoiler_title">Solution</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-number"><span class="hljs-number">0.1</span></span> + <span class="hljs-number"><span class="hljs-number">0.2</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 0.30000000000000004</span></span></code> </pre> <br><p>  Les constantes «0,2» et «0,3» du programme seront rapprochées de leurs valeurs «réelles» dans la représentation de la machine.  Et il se trouve que le double le plus proche de «0,2» est supérieur au nombre rationnel «0,2».  En revanche, le double le plus proche de «0,3» est inférieur au «0,3» rationnel. </p><br><p>  Ainsi, la somme de «0,1» et «0,2» dans le code est supérieure à la «0,3» rationnelle, et la constante «0,3» dans le code est inférieure à la «0,3» rationnelle. </p><br><p>  Remarque à l'hôtesse: n'utilisez jamais "===" ou "==" pour travailler avec des nombres à virgule flottante.  Utiliser à la place </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (abs(x - y) &lt; toleranceValue) { ... }</code> </pre> <br></div></div><br><hr><br><h1>  Conclusion </h1><br><p>  Oui, lorsque vous travaillez avec JavaScript, il y a beaucoup de moments WTF.  D'un autre côté, quelle autre langue peut donner autant de sensations inoubliables? </p><br><p>  Voici une liste de liens (en anglais) pour une étude approfondie des tâches de ce poste (et pas seulement): </p><br><ul><li>  <a href="">github.com/denysdovhan/wtfjs</a> </li><li>  <a href="https://stackoverflow.com/q/588004">Les mathématiques en virgule flottante sont-elles cassées?</a> </li><li>  <a href="http://0.30000000000000004.com/">Mathématiques à virgule flottante</a> </li><li>  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt">parseInt ()</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr479496/">https://habr.com/ru/post/fr479496/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr479480/index.html">SDK SARIF et ses erreurs</a></li>
<li><a href="../fr479482/index.html">SDK SARIF et ses erreurs</a></li>
<li><a href="../fr479486/index.html">Programmation hétérogène et oneAPI Toolkit. Une conférence improvisée d'experts Intel répond à vos questions</a></li>
<li><a href="../fr479488/index.html">D'un ordinateur portable - un serveur domestique avec alimentation redondante au routeur Mikrotik</a></li>
<li><a href="../fr479492/index.html">Informatique sans serveur basée sur OpenWhisk, partie 3</a></li>
<li><a href="../fr479498/index.html">Comment le temps linéaire se transforme en Windows en O (n²)</a></li>
<li><a href="../fr479502/index.html">Comment survivre à la période glaciaire la plus sévère de l'histoire de la Terre?</a></li>
<li><a href="../fr479504/index.html">Créer un client léger RDP basé sur Raspberry Pi</a></li>
<li><a href="../fr479508/index.html">PostgreSQL Antipatterns: JOIN et OR nuisibles</a></li>
<li><a href="../fr479510/index.html">PocketBook X Review - un énorme lecteur de 10,3 pouces avec un écran E Ink Carta Mobius et un boîtier métallique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>