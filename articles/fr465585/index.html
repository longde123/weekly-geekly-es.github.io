<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤜🏻 ™️ 🤥 Comment gérer React Data Grid via Redux 📉 👨🏽‍🚒 👐🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il s'agit d'une continuation de l'article précédent: Pourquoi écrire votre grille de données React en 2019 


 À quoi sert Redux? Les réponses sont no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment gérer React Data Grid via Redux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/directum/blog/465585/"><p>  Il s'agit d'une continuation de l'article précédent: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pourquoi écrire votre grille de données React en 2019</a> </p><br><p>  À quoi sert Redux?  Les réponses sont nombreuses.  Par exemple, pour travailler avec des données partagées dans différents composants React.  Mais vous pouvez prendre Redux comme un moyen de manipuler un composant.  Le look lui-même est intéressant: tout composant React peut contrôler un autre composant React via Redux. </p><br><p>  Prenez un composant React qui affiche les données sous forme de lignes et de colonnes (Data Grid, grid).  Quelle fonctionnalité peut-elle gérer?  La composition des colonnes et des lignes.  Attribution.  Ce serait bien de faire défiler les données. </p><br><p><img src="https://habrastorage.org/webt/20/bj/mw/20bjmwxgxqnfrbt-vdur7ijqzxq.png" alt="image"></p><a name="habracut"></a><br><p>  Par exemple, un certain composant React (certains composants) pourrait gérer la grille comme ceci: </p><br><ul><li>  afficher ces lignes et colonnes; </li><li>  mettre en évidence l'occurrence d'un tel mot; </li><li>  sélectionnez une telle ligne; </li><li>  faites défiler jusqu'à une certaine ligne. </li></ul><br><p>  La gestion des colonnes n'est pas difficile.  Il suffit de mettre les paramètres des colonnes dans Redux: noms, ordre, largeurs, mappage des données.  La grille prendra ces paramètres et s'appliquera.  L'approche des données est la même. </p><br><p>  Mais compliquons la tâche.  Supposons qu'il y ait beaucoup de lignes.  Ils ne peuvent pas être téléchargés à partir du serveur en même temps et ne peuvent pas être affichés en même temps.  Par conséquent, le chargement et le mappage des données portionnés sont nécessaires. </p><br><p>  Pour l'affichage des portions, nous prenons le défilement virtuel décrit dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article précédent</a> .  Et essayez de le croiser avec le chargement et le stockage des portions dans Redux.  Nous allons également permettre à d'autres composants de manipuler les données téléchargées et de faire défiler la position via Redux. </p><br><p>  Ce n'est pas une tâche abstraite, mais une vraie tâche du système ECM que nous développons: <br><img src="https://habrastorage.org/webt/du/lt/vu/dultvupolroa9rzddnlvh5sc7fu.png" alt="image"></p><br><p>  Organisez les exigences.  Que voulez-vous obtenir? </p><br><ul><li>  de sorte que lors du défilement, de nouvelles données soient chargées; </li><li>  pour que les données chargées soient dans Redux; </li><li>  de sorte que les portions chargées peuvent être manipulées à partir d'autres composants.  Via Redux, ajoutez-supprimez-modifiez des lignes, et la grille a détecté ces changements; </li><li>  de sorte que la position de défilement peut être contrôlée à partir d'autres composants.  Dans Redux, faites défiler jusqu'à la ligne souhaitée. </li></ul><br><p>  Nous considérerons ces tâches. </p><br><p>  Une petite digression: le défilement virtuel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de l'article précédent</a> vous permet de faire défiler rapidement vers n'importe quelle partie de la grille.  Par exemple, à la fin.  La grille doit charger la dernière partie des données, à l'exclusion de toutes les données intermédiaires, afin de ne pas extraire des milliers de lignes du serveur.  Par conséquent, les portions ne sont pas toujours chargées séquentiellement; elles peuvent être téléchargées à partir de différentes parties de la liste. </p><br><p>  Nous avons choisi le schéma suivant pour charger et stocker les données: <br><img src="https://habrastorage.org/webt/ky/s5/ls/kys5lsirygkr4wov9kboo7byvmk.png" alt="image"></p><br><p>  La grille de ce schéma est divisée en deux parties: les composants Présentation et Conteneur.  La présentation ne traite que de l'affichage des données - c'est la vue.  Les données sont affichées dans les pages (cela a été décrit dans un article précédent).  Le conteneur est responsable du chargement des données et de l'interaction avec Redux. </p><br><p>  Passons en revue les flèches du diagramme: </p><br><ol><li>  Presentational ne charge pas les données, il indique uniquement par rappel quelles données il lui manque pour afficher.  Presentational ne connaît pas Redux, il n'effectue pas d'actions de répartition et ne se connecte pas au référentiel Redux. </li><li>  Le conteneur est responsable du chargement des données.  Ce composant envoie une demande au serveur lors de l'appel de rappel.  Un conteneur peut demander plus de données qu'il n'en doit afficher afin de minimiser le nombre de demandes au serveur. </li><li>  Le serveur envoie des données. </li><li> Le conteneur envoie les données reçues à Redux.  Redux stocke toutes les parties de données téléchargées, pas seulement la dernière partie téléchargée. </li><li>  Dès que le prochain morceau de données entre dans Redux, le conteneur sortira tous les morceaux de Redux. </li><li>  Et donnez-leur une présentation.  La présentation n'est pas nécessaire pour dessiner toutes les données reçues, elle affiche uniquement ce qui tombe dans la fenêtre.  Dans le même temps, les données chargées et les pages rendues ne sont pas la même chose.  1000 enregistrements peuvent être chargés dans un bloc et 50 enregistrements sont affichés sur deux pages. </li></ol><br><p>  Je vais donner le pseudo-code de ce schéma: </p><br><pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GridContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Props</span></span></span><span class="hljs-class">&gt; </span></span>{ props: Props; render(): React.Element&lt;any&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag"> //     </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dataSource</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.props.data}</span></span></span></span><span class="xml"><span class="hljs-tag"> // </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Callback</span></span></span></span><span class="xml"><span class="hljs-tag">    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">loadData</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.props.loadData}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">; } }</span></span></code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">data</span></span>: state.data }; }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapDispatchToProps = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dispatch</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">loadData</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (skip: number, <span class="hljs-attr"><span class="hljs-attr">take</span></span>: number) =&gt; { <span class="hljs-comment"><span class="hljs-comment">//    . const page: Page = await load(skip, take); //     Redux. dispatch({ type: ADD_PAGE, page }); } }; }; export default connect(mapStateToProps, mapDispatchToProps)(GridContainer);</span></span></code> </pre> <br><p>  Types utilisés en pseudo-code: </p><br><pre> <code class="javascript hljs">type Props = { <span class="hljs-attr"><span class="hljs-attr">data</span></span>: DataSource, <span class="hljs-attr"><span class="hljs-attr">loadData</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">skip: number, take: number</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> }; type DataSource = { <span class="hljs-comment"><span class="hljs-comment">//   . pages: Array&lt;Page&gt;, //    . totalRowsCount: number }; type Page = { // ,    . startIndex: number, // . rows: Array&lt;Object&gt; };</span></span></code> </pre> <br><p>  Ils ont fait face à la première tâche - charger et stocker des données dans Redux par portions.  Passons maintenant à la manipulation.  La tâche la plus courante consiste à ajouter-supprimer-modifier des lignes.  Nous voulons que chaque composant de l'application Web puisse le faire.  Le schéma est simple: </p><br><p><img src="https://habrastorage.org/webt/ra/m2/hz/ram2hzzzo19ibzbv6imlfp7ycqm.png" alt="image"></p><br><p>  Certains composants sont des composants d'une application Web qui souhaitent gérer les données de la grille. </p><br><p>  Passons en revue le schéma: </p><br><ol><li>  Toutes les manipulations de données sont effectuées via des réducteurs Redux.  Pour ajouter-supprimer-changer la ligne, il suffit de faire correspondre l'action correspondante (ADD_ROW, DELETE_ROW, UPDATE_ROW).  Les réducteurs ajusteront les données dans le référentiel Redux. </li><li>  Dès que les données changent dans Redux, le conteneur de grille extrait les données actuelles de Redux. </li><li>  Et donnez-leur une présentation.  Mises à jour de présentation des pages rendues. </li></ol><br><h4 id="upravlenie-skrollingom-cherez-redux">  Défilement dans Redux </h4><br><p>  La gestion du défilement par programmation est une fonctionnalité nécessaire.  La situation la plus courante consiste à faire défiler jusqu'à l'entrée en surbrillance.  Par exemple, l'utilisateur crée une nouvelle entrée dans la liste.  Un enregistrement avec tri se trouve au milieu de la liste.  Vous devez le sélectionner par programme et le faire défiler.  Et ce serait bien de le faire via Redux. </p><br><p><img src="https://habrastorage.org/webt/vq/3h/xs/vq3hxs34zn9v6xngrppppx_xpfy.png" alt="image"></p><br><p>  La gestion des sélections via Redux n'est pas difficile, mais comment contrôlez-vous le défilement? <br>  Pour ce faire, dans le Redux Store, nous mettrons deux champs: </p><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">//  ,    . scrollToIndex: ?number, // ,    . scrollSignal: number</span></span></code> </pre> <br><p>  Le champ scrollToIndex est compréhensible.  Si vous souhaitez faire défiler, définissez le numéro de la ligne souhaitée dans scrollToIndex.  Ce numéro sera transféré dans la grille et la grille y défilera immédiatement: </p><br><p><img src="https://habrastorage.org/webt/s6/at/d9/s6atd9_ges34mcsefvwpsm_4a9a.png" alt="image"></p><br><p>  À quoi sert le champ scrollSignal?  Il résout le problème du défilement vers le même index.  Si nous avons déjà effectué le défilement du logiciel jusqu'à l'index 100, le défilement vers le même index ne fonctionnera plus.  Par conséquent, le champ scrollSignal est utilisé, lorsqu'il est modifié, la grille défilera à nouveau pour faire défiler jusqu'à l'index.  ScrollSignal est automatiquement incrémenté dans le réducteur lors du traitement d'une action SCROLL: </p><br><p><img src="https://habrastorage.org/webt/de/jn/vu/dejnvu3vdo_fe22juotercixk3e.png" alt="image"></p><br><p>  Pseudo-code de contrôle de défilement: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GridContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Props</span></span></span><span class="hljs-class">&gt; </span></span>{ props: Props; render(): React.Element&lt;any&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag"> //     </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dataSource</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.props.data}</span></span></span></span><span class="xml"><span class="hljs-tag"> //  ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">..</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">scrollToIndex</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.props.scrollToIndex}</span></span></span></span><span class="xml"><span class="hljs-tag"> // ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">scrollSignal</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.props.scrollSignal}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">; } }</span></span></code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">data</span></span>: state.data, <span class="hljs-attr"><span class="hljs-attr">scrollToIndex</span></span>: state.scrollToIndex, <span class="hljs-attr"><span class="hljs-attr">scrollSignal</span></span>: state.scrollSignal }; }; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> connect(mapStateToProps)(GridContainer);</code> </pre> <br><p>  Types utilisés en pseudo-code: </p><br><pre> <code class="javascript hljs">type Props = { <span class="hljs-attr"><span class="hljs-attr">data</span></span>: DataSource, <span class="hljs-attr"><span class="hljs-attr">scrollToIndex</span></span>: ?number, <span class="hljs-attr"><span class="hljs-attr">scrollSignal</span></span>: number };</code> </pre> <br><h4 id="zaklyuchenie-po-redux">  Conclusion (par Redux) </h4><br><p>  Bien entendu, les schémas d'interaction proposés avec Redux ne sont pas universels.  Ils sont adaptés à la grille que nous avons développée, car nous avons optimisé la grille pour ces schémas, fait l'API appropriée pour cela.  Ces schémas ne fonctionneront pour aucune grille tierce, prenez donc l'article comme exemple d'implémentation d'une interaction avec Redux. </p><br><h4 id="itogovoe-zaklyuchenie-po-1-i-2-state">  Conclusion finale (sur les articles 1 et 2) </h4><br><p>  Lors du développement de notre grille, il est venu à comprendre que la grille, idéalement, ne fait pas partie de notre application, mais un projet indépendant, qui mérite d'être publié sur github et développé.  Par conséquent, nous n'avons pas utilisé les termes de notre application dans le code et ajouté des dépendances inutiles.  Mais avec l'extension de la fonctionnalité, il devient de plus en plus difficile d'y adhérer, car nous ne l'avons pas alloué à un projet distinct, mais nous aurions dû le faire tout de suite.  Github est toujours dans les plans. </p><br><p>  La rédaction de votre propre grille a été la bonne décision pour nous.  Nous avons eu assez de temps pour implémenter tout ce que nous voulions (virtualisation, travail avec redux, chargement par lots, travail avec le clavier, travail avec colonnes, recherche similaire avec rétro-éclairage et bien plus).  Dans un premier temps, nous avons beaucoup investi dans un réseau tiers, dans l'espoir qu'il décolle dans nos situations.  En l'utilisant, nous avons compris comment les grilles fonctionnent en général, quels problèmes existent, comment les résoudre et ce que nous voulons finalement obtenir.  Et a pris sa décision. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr465585/">https://habr.com/ru/post/fr465585/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr465573/index.html">Toute la puissance d'IntelliJ IDEA sur l'exemple d'une langue (en images)</a></li>
<li><a href="../fr465575/index.html">Opérations de comparaison en C ++ 20</a></li>
<li><a href="../fr465577/index.html">Nouveaux types de micro-marquage pour les extraits interactifs avancés</a></li>
<li><a href="../fr465579/index.html">Création de chats d'entreprise et de vidéoconférences avec l'équipe Zextras</a></li>
<li><a href="../fr465583/index.html">Les détails d'une campagne malveillante pour les utilisateurs d'iPhone révélés</a></li>
<li><a href="../fr465587/index.html">Analyse: qu'est-ce que le marché OTC et quelles transactions y sont effectuées</a></li>
<li><a href="../fr465589/index.html">Guide de démarrage rapide du pilote et du PoC</a></li>
<li><a href="../fr465591/index.html">La conférence PHP Europe centrale annulée car il n'y avait pas de femmes parmi les intervenants</a></li>
<li><a href="../fr465595/index.html">La 5G vient à nous?</a></li>
<li><a href="../fr465597/index.html">Apprentissage du démarrage lent de STM8S. Partie 0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>