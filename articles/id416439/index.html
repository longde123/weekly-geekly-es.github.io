<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍🌾 👨‍🍳 👇🏽 iOS 12: pengelompokan notifikasi 🔻 👩🏽‍🎓 ☸️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini, seperti yang sebelumnya , dikhususkan untuk perubahan Notifikasi yang muncul di iOS 12. 



 Pada artikel terakhir saya berbicara tentang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>iOS 12: pengelompokan notifikasi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/e-Legion/blog/416439/"><p>  Artikel ini, seperti yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebelumnya</a> , dikhususkan untuk perubahan <strong>Notifikasi</strong> yang muncul di iOS 12. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fx/i6/9m/fxi69mfudubpnrldzj-w04z-j50.png" width="400"></div><br><p>  Pada artikel terakhir saya berbicara tentang inovasi umum, kali ini saya akan membahas pengelompokan notifikasi secara lebih rinci. </p><a name="habracut"></a><br><h3 id="gruppirovka-v-ios-12">  Pengelompokan di iOS 12 </h3><br><p>  Agar pemberitahuan yang berasal dari aplikasi Anda dikelompokkan dalam iOS 12, Anda tidak perlu melakukan apa pun, pengelompokan akan dilakukan secara otomatis.  Pemberitahuan di layar akan mulai menumpuk ketika jumlahnya mencapai 5. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kt/bi/ld/ktbild9jk0ey2gbbdbr4rhcvdow.png"></div><br><p>  Pengguna memiliki kesempatan untuk mempengaruhi pengelompokan melalui pengaturan sistem. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ui/an/df/uiandfufwzfcwfsm-fi4rrfamoa.png" width="300"></div><br><ul><li>  <strong>Otomatis</strong> (standar) - aplikasi mengontrol pengaturan pengelompokan. </li><li>  <strong>Oleh Aplikasi</strong> - pengaturan aplikasi diabaikan, semua pemberitahuan dari aplikasi ditambahkan ke satu tumpukan. </li><li>  <strong>Off</strong> - pengaturan aplikasi diabaikan, pengelompokan notifikasi dinonaktifkan. </li></ul><br><h3 id="nastroyka-gruppirovki">  Pengaturan pengelompokan </h3><br><p>  Kami dapat memengaruhi pengelompokan pesan hanya jika Bendera <strong>Otomatis</strong> digunakan dalam pengaturan.  Untuk melakukan ini, pemberitahuan harus menentukan parameter <strong>thread-id</strong> .  Kami juga meneruskan <strong>thread-id</strong> ke pemberitahuan <strong>subtitle</strong> untuk kejelasan: </p><br><pre><code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> content = <span class="hljs-type"><span class="hljs-type">UNMutableNotificationContent</span></span>() content.threadIdentifier = threadId content.subtitle = <span class="hljs-string"><span class="hljs-string">"Thread ID: \(threadId)"</span></span></code> </pre> <br><p>  Kami mengirim beberapa pesan dan melihat hasil pengelompokan: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kw/i5/si/kwi5sij_d57mjiwnnbyaanfwnbw.png" width="300"></div><br><p>  Anda juga dapat melewati <strong>utas-id</strong> untuk mendorong pemberitahuan: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"aps"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"alert"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span> : <span class="hljs-string"><span class="hljs-string">"Cat Title"</span></span> <span class="hljs-string"><span class="hljs-string">"body"</span></span> : <span class="hljs-string"><span class="hljs-string">"Cat Body"</span></span> } <span class="hljs-string"><span class="hljs-string">"thread-id"</span></span> : <span class="hljs-string"><span class="hljs-string">"all-cats"</span></span> } }</code> </pre> <br><p>  Saat Anda menentukan pengenal untuk pemberitahuan, jangan lupa untuk menentukannya di <strong>UNNotificationCategory</strong> , jika tidak, mereka tidak akan diproses dalam Ekstensi untuk pemberitahuan: </p><br><pre> <code class="hljs lisp">UNNotificationCategory(<span class="hljs-name"><span class="hljs-name">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"Cat-Category"</span></span>, actions: actions, intentIdentifiers: [<span class="hljs-string"><span class="hljs-string">"all-cats"</span></span>, <span class="hljs-string"><span class="hljs-string">"3-star-cats"</span></span>], options: [])</code> </pre> <br><p>  Untuk kategori, Anda dapat menentukan format pesan yang akan ditampilkan oleh pengguna di perangkat, ini adalah salah satu inovasi iOS 12. Anda hanya dapat melakukan ini ketika menginisialisasi kategori: </p><br><pre> <code class="hljs lisp">UNNotificationCategory(<span class="hljs-name"><span class="hljs-name">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"category-simple"</span></span>, actions: actions, intentIdentifiers: [<span class="hljs-string"><span class="hljs-string">"all-cats"</span></span>, <span class="hljs-string"><span class="hljs-string">"3-star-cats"</span></span>], hiddenPreviewsBodyPlaceholder: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, categorySummaryFormat: <span class="hljs-string"><span class="hljs-string">"%u     %@"</span></span>, options: [])</code> </pre> <br><p>  Parameter <strong>% u</strong> bertanggung jawab atas jumlah pesan dalam grup, itu dapat dimodifikasi menggunakan argumen <strong>summaryArgumentCount</strong> .  Misalnya, Anda menerbitkan pilihan kucing baru, di mana 10 gambar baru.  Tidak masuk akal untuk mengirim 10 senjata ke pengguna, Anda dapat mengirim satu pesan dengan penghitung yang setara dengan 10. Parameter <strong>% @</strong> menampilkan nilai <strong>ringkasan</strong> variabelArgument pada layar: </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> content = <span class="hljs-type"><span class="hljs-type">UNMutableNotificationContent</span></span>() content.summaryArgumentCount = <span class="hljs-number"><span class="hljs-number">10</span></span> content.summaryArgument = <span class="hljs-string"><span class="hljs-string">" "</span></span></code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hg/sm/ua/hgsmuaxk8n5cbuwbae3j97lzixa.png" width="300"></div><br><p>  Di setiap grup kami memiliki 3 pesan, tetapi karena fakta bahwa parameter <strong>summaryArgumentCount ditentukan</strong> , jumlah pesan ditampilkan sama dengan 20. Dan <strong>summaryArgument</strong> memungkinkan kami untuk menambahkan nama kategori yang menjadi tempat pemberitahuan push.  Tidak buruk, tetapi sekarang kami memiliki masalah lokalisasi. </p><br><h3 id="lokalizaciya">  Lokalisasi </h3><br><p>  Untuk mengimplementasikan tugas pelokalan, tambahkan <strong>File Stringdict</strong> ke proyek. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/op/sv/mf/opsvmfv0kdvvpgjgprijttimqnq.png" width="500"></div><br><p>  Ubah <strong>Kunci String Lokal</strong> ke <strong>NOTIFICATION_SUMMARY</strong> , jika tidak nilai-nilai dari kamus tidak akan diproses, terlepas dari kenyataan bahwa ketika string lokal diterima, kunci dengan nama kamus dilewatkan sebagai parameter.  Nilai yang tersisa ditunjukkan pada gambar: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ai/bv/kn/aibvknayyeg8842wwjr6_z0xrne.png" width="500"></div><br><p>  Di <strong>File Inspector</strong> untuk kamus, pilih <strong>Localize</strong> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xk/um/-2/xkum-2l7wcpms3hmoldgp2qvuvc.png" width="250"></div><br><p>  Kami menentukan file untuk pelokalan. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/to/nr/xk/tonrxkdqqhjo9a4g95zw_onvngq.png" width="500"></div><br><p>  Kami masuk ke pengaturan proyek dan menambahkan bahasa untuk melokalisasi <strong>Rusia (ru)</strong> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/12/ud/md/12udmdia1te9-koqhz4j2cpeaqm.png" width="400"></div><br><p>  Kelebihan file dapat dihapus dari proyek. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5f/1e/ql/5f1eqls9euqc1ukmddwaym1ev3e.png" width="400"></div><br><p>  Dalam kode, kita mendapatkan string yang dilokalkan dan meneruskannya sebagai parameter <strong>categorySummaryFormat</strong> : </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> summary = <span class="hljs-type"><span class="hljs-type">NSString</span></span>.localizedUserNotificationString(forKey: <span class="hljs-string"><span class="hljs-string">"NOTIFICATION_SUMMARY"</span></span>, arguments: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> category = <span class="hljs-type"><span class="hljs-type">UNNotificationCategory</span></span>(identifier: <span class="hljs-string"><span class="hljs-string">"Cat-Category"</span></span>, actions: actions, intentIdentifiers: [<span class="hljs-string"><span class="hljs-string">"all-cats"</span></span>, <span class="hljs-string"><span class="hljs-string">"3-star-cats"</span></span>], hiddenPreviewsBodyPlaceholder: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, categorySummaryFormat: summary, options: [])</code> </pre> <br><p>  Hasilnya, kami mendapatkan pelokalan aplikasi yang sangat baik. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/db/39/rb/db39rbutt3ygp3adnbmkzc2qfcg.png" width="300"></div><br><p>  Proyek yang dibuat untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel terakhir</a> telah diperbarui, kode dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github</a> .  Dua laporan di WWDC ditujukan untuk penerapan pemberitahuan: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apa yang Baru dalam Pemberitahuan Pengguna</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menggunakan Pemberitahuan yang Dikelompokkan</a> .  Kami akan dapat membahas inovasi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MBLT DEV 2018</a> di Moskow pada 28 September. </p><br><p>  Semoga minggu Anda menyenangkan!  ^ _ ^ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id416439/">https://habr.com/ru/post/id416439/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id416429/index.html">Prinsip Desain yang Dimaksudkan untuk Jakarta EE</a></li>
<li><a href="../id416431/index.html">Proyek blockchain terbaik. ICO Juli 2018 (pemungutan suara)</a></li>
<li><a href="../id416433/index.html">Tanyakan Ethan: Dapatkah kehilangan radiasi bintang menjelaskan energi gelap?</a></li>
<li><a href="../id416435/index.html">Mengapa otak manusia begitu efektif?</a></li>
<li><a href="../id416437/index.html">Apakah ada cukup bahan kimia di dunia es untuk menopang kehidupan di sana?</a></li>
<li><a href="../id416441/index.html">Pelacakan pitch, atau penentuan frekuensi nada dalam pidato, menggunakan Praat, YAAPT dan YIN sebagai contoh</a></li>
<li><a href="../id416443/index.html">9 rahasia ASP.NET Core</a></li>
<li><a href="../id416445/index.html">Webinar Skillbox: yang paling menarik - gratis</a></li>
<li><a href="../id416449/index.html">.NET Core + Docker di Raspberry Pi. Apakah ini legal?</a></li>
<li><a href="../id416451/index.html">Database Riset Microsoft Sekarang Tersedia untuk Semua Orang</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>