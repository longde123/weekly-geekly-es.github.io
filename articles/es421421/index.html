<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😐 🤱🏿 🧘🏾 LAppS: Medio millón de mensajes de 1KB-WebSocket por segundo con TLS en una CPU 😽 📗 🗼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Para aquellos que no saben: LAppS - Lua Application Server , es casi como nginx o apache, pero solo para el protocolo WebSocket, en lugar de HTTP. 


...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>LAppS: Medio millón de mensajes de 1KB-WebSocket por segundo con TLS en una CPU</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421421/"><p>  Para aquellos que no saben: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LAppS - Lua Application Server</a> , es casi como nginx o apache, pero solo para el protocolo WebSocket, en lugar de HTTP. </p><br><p>  HTTP solo se admite en el nivel de solicitud de actualización. </p><br><p>  Originalmente, LAppS se agudizó para una alta carga y escalabilidad vertical, y hoy ha alcanzado el máximo de sus capacidades en mi hardware (bueno, casi, puede optimizar aún más, pero será un trabajo largo y duro). </p><br><p>  Lo más importante, LAppS en términos de rendimiento de la pila de WebSocket ha superado la biblioteca uWebSockets, que se posiciona como la implementación más rápida de WebSocket. </p><br><p>  Interesado por favor debajo del gato. </p><a name="habracut"></a><br><p>  Han pasado un par de meses desde mi último artículo de <strong>LAppS</strong> , ese artículo no despertó interés.  Espero que este artículo les parezca más interesante a los Khabrovitas.  LAppS durante este tiempo ha hecho un camino bastante difícil hacia la versión 0.7.0, repleto de funcionalidad y ha crecido en términos de rendimiento (que se prometió anteriormente). </p><br><p>  Una de las características que apareció: un módulo cargable con la implementación de la parte del cliente del protocolo WebSocket, - cws. </p><br><p>  Gracias a este módulo, finalmente pude extraer todo de la computadora de mi casa y cargar LAppS de verdad. </p><br><p>  Las pruebas anteriores se llevaron a cabo utilizando el cliente ebs de la biblioteca websocketpp (se pueden encontrar más detalles en la página de github del proyecto), que no solo es lento, sino también difícil de paralelizar.  Las pruebas se llevaron a cabo simplemente: un grupo de clientes comenzó, los resultados de cada cliente se recopilaron utilizando awk y la aritmética simple arrojó resultados de rendimiento.  Los resultados fueron los siguientes: </p><br><table><thead><tr><th>  Servidor </th><th>  Numero de clientes </th><th>  Servidor RPS </th><th>  RPS por cliente </th><th>  carga útil (bytes) </th></tr></thead><tbody><tr><td>  LAppS 0.7.0 </td><td>  240 </td><td>  84997 </td><td>  354,154 </td><td>  128 </td></tr><tr><td>  uWebSockets (último) </td><td>  240 </td><td>  74172.7 </td><td>  309.053 </td><td>  128 </td></tr><tr><td>  LAppS 0.7.0 </td><td>  240 </td><td>  83627.4 </td><td>  348,447 </td><td>  512 </td></tr><tr><td>  uWebSockets (último) </td><td>  240 </td><td>  71024.4 </td><td>  295,935 </td><td>  512 </td></tr><tr><td>  LAppS 0.7.0 </td><td>  240 </td><td>  79270.1 </td><td>  330,292 </td><td>  1024 </td></tr><tr><td>  uWebSockets (último) </td><td>  240 </td><td>  66499.8 </td><td>  277.083 </td><td>  1024 </td></tr><tr><td>  LAppS 0.7.0 </td><td>  240 </td><td>  51621 </td><td>  215,087 </td><td>  8192 </td></tr><tr><td>  uWebSockets (último) </td><td>  240 </td><td>  45341,6 </td><td>  188,924 </td><td>  8192 </td></tr></tbody></table><br><p>  En esta prueba, así como en el número posterior de paquetes, de hecho, es el doble.  la medición se realiza en on_message y en el método on_message del cliente se envía un nuevo paquete del mismo tamaño.  Es decir  la solicitud del cliente y la respuesta del servidor son del mismo tamaño, y si considera la cantidad de tráfico procesado por el servidor, debe duplicar el resultado de RPS multiplicando por la carga útil y descuidando los encabezados, puede obtener una cantidad aproximada de tráfico en bytes. </p><br><p>  Obviamente, con la operación simultánea de 240 procesos de clientes, a LAppS (como uWebSockets) no le quedan muchos recursos de CPU. </p><br><p>  Miré varias implementaciones de clientes para WebSocket en Lua, y desafortunadamente no encontré un módulo simple y suficientemente productivo con el que pudiera cargar LAppS correctamente.  Por lo tanto, como siempre lo hizo su bicicleta. </p><br><p>  El módulo tiene una interfaz bastante simple e imita el comportamiento del navegador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WebSocket API</a> </p><br><p>  Un ejemplo simple de cómo trabajar con este módulo (un servicio para recibir transacciones con BitMEX): </p><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text"><pre><code class="lua hljs">bitmex={} bitmex.<span class="hljs-built_in"><span class="hljs-built_in">__index</span></span>=bitmex bitmex.init=<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> - bitmex.run=<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">--   BitMEX local websocket,errmsg=cws:new( "wss://www.bitmex.com/realtime", { ["onopen"]=function(handler) --   WebSocket    local result, errstr=cws:send(handler,[[{"op": "subscribe", "args": ["orderBookL2:XBTUSD"]}]],1); --    1 (OpCode 1 - ) if(not result) --     , -  then print("Error on websocket send at handler "..handler..": "..errstr); end end, ["onmessage"]=function(handler,message,opcode) print(message) --     BitMEX   . end, ["onerror"]=function(handler, message) --    print(message..". Socket FD: "..handler); end, ["onclose"]=function(handler) --     print("WebSocket "..handler.." is closed by peer."); end }); if(websocket == nil) --     then print(errmsg) else while not must_stop() do cws:eventLoop(); -- poll  end end end return bitmex;</span></span></code> </pre> </div></div><br><p>  Te advierto de inmediato, el módulo apareció solo hoy y está mal probado. </p><br><p>  Para las pruebas, escribí un servicio simple para LAppS y lo llamé el mismo <a href="">punto de referencia</a> sin pretensiones. </p><br><p>  Este servicio al principio crea 100 conexiones al servidor de eco WebSocket (sin importar cuál), y si la conexión es exitosa, envía un mensaje de 1 kb.  Cuando recibe un mensaje del servidor, lo devuelve. </p><br><p>  La computadora de mi casa: Intel® Core (TM) i7-7700 CPU @ 3.60GHz, microcódigo 0x5e <br>  Memoria: DIMM DDR4 Sincrónico Sin memoria intermedia (sin registrar) 2400 MHz (0.4 ns), Kingston KHX2400C15 / 16G </p><br><p>  Todas las pruebas se llevaron a cabo en este host local. </p><br><p>  Configuración de <a href="">eco de servicio</a> en LAppS: </p><br><pre> <code class="hljs cs"> <span class="hljs-string"><span class="hljs-string">"echo"</span></span>: { <span class="hljs-string"><span class="hljs-string">"auto_start"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"instances"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"internal"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"max_inbound_message_size"</span></span>: <span class="hljs-number"><span class="hljs-number">16777216</span></span>, <span class="hljs-string"><span class="hljs-string">"preload"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"protocol"</span></span>: <span class="hljs-string"><span class="hljs-string">"raw"</span></span>, <span class="hljs-string"><span class="hljs-string">"request_target"</span></span>: <span class="hljs-string"><span class="hljs-string">"/echo"</span></span> }</code> </pre> <br><p>  El parámetro de instancias requiere LAppS para iniciar dos servicios de eco paralelos. </p><br><p>  Configuración del servicio de referencia (cliente): </p><br><pre> <code class="hljs objectivec"> <span class="hljs-string"><span class="hljs-string">"benchmark"</span></span> : { <span class="hljs-string"><span class="hljs-string">"auto_start"</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"instances"</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">"internal"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"preload"</span></span> : [ <span class="hljs-string"><span class="hljs-string">"cws"</span></span>, <span class="hljs-string"><span class="hljs-string">"time"</span></span> ] }</code> </pre> <br><p>  Al inicio se crean 4 instancias del benchmark de servicio </p><br><h2 id="rezultat-s-vklyuchennym-tls">  Resultado con TLS habilitado </h2><br><table><thead><tr><th>  Servidor </th><th>  Numero de clientes </th><th>  Servidor RPS </th><th>  RPS por cliente </th><th>  carga útil (bytes) </th></tr></thead><tbody><tr><td>  LAppS 0.7.0-Upstream </td><td>  400 </td><td>  <strong>257828</strong> </td><td>  644,57 </td><td>  1024 </td></tr><tr><td>  nginx &amp; lua-resty-websocket 4 trabajadores </td><td>  400 </td><td>  <strong>33788</strong> </td><td>  84,47 </td><td>  1024 </td></tr><tr><td>  websocketpp </td><td>  400 </td><td>  <strong>9789.52</strong> </td><td>  24,47 </td><td>  1024 </td></tr></tbody></table><br><p>  uWebSockets no ha podido probar hasta el momento: el apretón de manos de TLS jura sobre SSLv3 (mi cliente usa TLSv1.2 y está cortado en el SSLv3 libreSSL que uso). </p><br><h2 id="rezultat-bez-tls">  Resultado sin TLS </h2><br><table><thead><tr><th>  Servidor </th><th>  Numero de clientes </th><th>  Servidor RPS </th><th>  RPS por cliente </th><th>  carga útil (bytes) </th></tr></thead><tbody><tr><td>  LAppS 0.7.0-upstream </td><td>  400 </td><td>  <strong>439700</strong> </td><td>  1099.25 </td><td>  1024 </td></tr><tr><td>  uWebSockets-upstream </td><td>  400 </td><td>  <strong>247549</strong> </td><td>  618,87 </td><td>  1024 </td></tr></tbody></table><br><p>  ¿Por qué en el encabezado de "medio millón" de mensajes, y en la prueba 257828?  Porque hay el doble de mensajes (como se explicó anteriormente). </p><br><p>  uWebsockets, muestra resultados poco envidiables en esta prueba, solo porque funciona en el 1er núcleo, la versión multiproceso de uWebSockets del repositorio del proyecto no funciona realmente, y cuando TLS está activado, tiene carrera de datos en la pila OpenSSL. </p><br><p>  Si imagina que uWebSockets funciona bien en 2 núcleos (como 2 servicios de eco LAppS), entonces se puede configurar condicionalmente 495098 RPS (solo el doble del resultado de la tabla). </p><br><p>  Pero debe tener en cuenta que el servidor de eco ( <a href="">uWebSockets</a> ) <a href="">no hace</a> nada con los datos recibidos, sino que los envía de inmediato.  LAppS pasa datos a la pila Lua correspondiente al servicio. </p><br><h1 id="chto-eschyo-novogo-poyavilos-v-lapps">  ¿Qué hay de nuevo en LAppS? </h1><br><ul><li>  Módulo de autenticación PAM pam_auth </li><li>  Módulo de cola de mensajes: mqr: para intercambiar mensajes entre servicios dentro del mismo servidor LAppS (para el intercambio multiservidor, debe usar algo ya existente, por ejemplo: RabbitMQ, mosquitto, etc.) </li><li>  Conexiones de red ACL </li></ul><br><p>  Todo esto se puede encontrar en la página <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">wiki</a> del proyecto. </p><br><p>  Bueno, para una merienda, para entendidos, qué hace LAppS exactamente durante esta prueba. </p><br><p>  Sin TLS </p><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text"><pre> <code class="hljs powershell">  iptables. <span class="hljs-number"><span class="hljs-number">4.98</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">ip_tables</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] ipt_do_table     <span class="hljs-number"><span class="hljs-number">3.80</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">.</span></span>] syscall_return_via_sysret       Lua  <span class="hljs-number"><span class="hljs-number">3.52</span></span>% lapps libluajit<span class="hljs-literal"><span class="hljs-literal">-5</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>.so.<span class="hljs-number"><span class="hljs-number">2.0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> [<span class="hljs-type"><span class="hljs-type">.</span></span>] lj_str_new    WebSocket  <span class="hljs-number"><span class="hljs-number">1.96</span></span>% lapps lapps [<span class="hljs-type"><span class="hljs-type">.</span></span>] WSStreamProcessing::WSStreamServerParser::parse     <span class="hljs-number"><span class="hljs-number">1.88</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] copy_user_enhanced_fast_string <span class="hljs-number"><span class="hljs-number">1.81</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] __fget <span class="hljs-number"><span class="hljs-number">1.61</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] tcp_ack <span class="hljs-number"><span class="hljs-number">1.49</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] _raw_spin_lock_irqsave <span class="hljs-number"><span class="hljs-number">1.48</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] sys_epoll_ctl <span class="hljs-number"><span class="hljs-number">1.45</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">xt_tcpudp</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] tcp_mt  LAppS <span class="hljs-number"><span class="hljs-number">1.35</span></span>% lapps lapps [<span class="hljs-type"><span class="hljs-type">.</span></span>] LAppS::IOWorker&lt;false, true&gt;::execute   <span class="hljs-number"><span class="hljs-number">1.28</span></span>% lapps lapps [<span class="hljs-type"><span class="hljs-type">.</span></span>] cws_eventloop ... <span class="hljs-number"><span class="hljs-number">1.27</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">nf_conntrack</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] __nf_conntrack_find_get.isra.<span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">1.14</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] __inet_lookup_established <span class="hljs-number"><span class="hljs-number">1.14</span></span>% lapps libluajit<span class="hljs-literal"><span class="hljs-literal">-5</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>.so.<span class="hljs-number"><span class="hljs-number">2.0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> [<span class="hljs-type"><span class="hljs-type">.</span></span>] lj_BC_TGETS      C++ <span class="hljs-number"><span class="hljs-number">1.01</span></span>% lapps lapps [<span class="hljs-type"><span class="hljs-type">.</span></span>] LAppS::Application&lt;false, true, (abstract::Application::Protocol)<span class="hljs-number"><span class="hljs-number">0</span></span>&gt;::execute ... <span class="hljs-number"><span class="hljs-number">0.98</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] ep_send_events_proc <span class="hljs-number"><span class="hljs-number">0.98</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] tcp_recvmsg <span class="hljs-number"><span class="hljs-number">0.96</span></span>% lapps libc<span class="hljs-literal"><span class="hljs-literal">-2</span></span>.<span class="hljs-number"><span class="hljs-number">26</span></span>.so [<span class="hljs-type"><span class="hljs-type">.</span></span>] __memmove_avx_unaligned_erms <span class="hljs-number"><span class="hljs-number">0.93</span></span>% lapps libc<span class="hljs-literal"><span class="hljs-literal">-2</span></span>.<span class="hljs-number"><span class="hljs-number">26</span></span>.so [<span class="hljs-type"><span class="hljs-type">.</span></span>] malloc <span class="hljs-number"><span class="hljs-number">0.92</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] tcp_transmit_skb <span class="hljs-number"><span class="hljs-number">0.88</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] sock_poll <span class="hljs-number"><span class="hljs-number">0.85</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">nf_conntrack</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] nf_conntrack_in <span class="hljs-number"><span class="hljs-number">0.83</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">nf_conntrack</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] tcp_packet <span class="hljs-number"><span class="hljs-number">0.79</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] do_syscall_64 <span class="hljs-number"><span class="hljs-number">0.78</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] ___slab_alloc <span class="hljs-number"><span class="hljs-number">0.78</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] _raw_spin_lock_bh <span class="hljs-number"><span class="hljs-number">0.73</span></span>% lapps libc<span class="hljs-literal"><span class="hljs-literal">-2</span></span>.<span class="hljs-number"><span class="hljs-number">26</span></span>.so [<span class="hljs-type"><span class="hljs-type">.</span></span>] _int_free <span class="hljs-number"><span class="hljs-number">0.69</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] __slab_free <span class="hljs-number"><span class="hljs-number">0.66</span></span>% lapps libcryptopp.so.<span class="hljs-number"><span class="hljs-number">5.6</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> [<span class="hljs-type"><span class="hljs-type">.</span></span>] CryptoPP::Rijndael::Base::UncheckedSetKey <span class="hljs-number"><span class="hljs-number">0.66</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] tcp_write_xmit <span class="hljs-number"><span class="hljs-number">0.65</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] sock_def_readable <span class="hljs-number"><span class="hljs-number">0.65</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] tcp_sendmsg_locked <span class="hljs-number"><span class="hljs-number">0.64</span></span>% lapps libc<span class="hljs-literal"><span class="hljs-literal">-2</span></span>.<span class="hljs-number"><span class="hljs-number">26</span></span>.so [<span class="hljs-type"><span class="hljs-type">.</span></span>] vfprintf     ( - bemchmark) <span class="hljs-number"><span class="hljs-number">0.64</span></span>% lapps lapps [<span class="hljs-type"><span class="hljs-type">.</span></span>] LAppS::ClientWebSocket::send ... <span class="hljs-number"><span class="hljs-number">0.64</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] tcp_v4_rcv <span class="hljs-number"><span class="hljs-number">0.63</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] __alloc_skb <span class="hljs-number"><span class="hljs-number">0.61</span></span>% lapps lapps [<span class="hljs-type"><span class="hljs-type">.</span></span>] std::_Sp_counted_base&lt;(__gnu_cxx::_Lock_policy)<span class="hljs-number"><span class="hljs-number">2</span></span>&gt;::_M_release <span class="hljs-number"><span class="hljs-number">0.61</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] _raw_spin_lock <span class="hljs-number"><span class="hljs-number">0.60</span></span>% lapps libc<span class="hljs-literal"><span class="hljs-literal">-2</span></span>.<span class="hljs-number"><span class="hljs-number">26</span></span>.so [<span class="hljs-type"><span class="hljs-type">.</span></span>] __memset_avx2_unaligned_erms <span class="hljs-number"><span class="hljs-number">0.60</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] kmem_cache_alloc_node <span class="hljs-number"><span class="hljs-number">0.59</span></span>% lapps libluajit<span class="hljs-literal"><span class="hljs-literal">-5</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>.so.<span class="hljs-number"><span class="hljs-number">2.0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> [<span class="hljs-type"><span class="hljs-type">.</span></span>] lj_tab_get <span class="hljs-number"><span class="hljs-number">0.59</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] __local_bh_enable_ip <span class="hljs-number"><span class="hljs-number">0.58</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] __dev_queue_xmit <span class="hljs-number"><span class="hljs-number">0.57</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] nf_hook_slow <span class="hljs-number"><span class="hljs-number">0.55</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] ep_poll_callback <span class="hljs-number"><span class="hljs-number">0.55</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] skb_release_data <span class="hljs-number"><span class="hljs-number">0.54</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] native_queued_spin_lock_slowpath <span class="hljs-number"><span class="hljs-number">0.54</span></span>% lapps libc<span class="hljs-literal"><span class="hljs-literal">-2</span></span>.<span class="hljs-number"><span class="hljs-number">26</span></span>.so [<span class="hljs-type"><span class="hljs-type">.</span></span>] cfree@GLIBC_2.<span class="hljs-number"><span class="hljs-number">2.5</span></span> <span class="hljs-number"><span class="hljs-number">0.53</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] ip_finish_output2 <span class="hljs-number"><span class="hljs-number">0.49</span></span>% lapps libluajit<span class="hljs-literal"><span class="hljs-literal">-5</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>.so.<span class="hljs-number"><span class="hljs-number">2.0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> [<span class="hljs-type"><span class="hljs-type">.</span></span>] lj_BC_RET <span class="hljs-number"><span class="hljs-number">0.49</span></span>% lapps libc<span class="hljs-literal"><span class="hljs-literal">-2</span></span>.<span class="hljs-number"><span class="hljs-number">26</span></span>.so [<span class="hljs-type"><span class="hljs-type">.</span></span>] __strlen_avx2 <span class="hljs-number"><span class="hljs-number">0.48</span></span>% lapps [<span class="hljs-type"><span class="hljs-type">kernel.vmlinux</span></span>] [<span class="hljs-type"><span class="hljs-type">k</span></span>] _raw_spin_unlock_irqrestore</code> </pre> </div></div><br><p>  Encontraremos 10 diferencias al trabajar con TLS </p><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text"><pre> <code class="hljs css"> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.73</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">syscall_return_via_sysret</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.49</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libcrypto</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">gcm_ghash_clmul</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.42</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libcrypto</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">aesni_ctr32_encrypt_blocks</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.74</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[ip_tables]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ipt_do_table</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.17</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libluajit-5</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lj_str_new</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.41</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libpthread-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.26</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">pthread_mutex_lock</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.34</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libssl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.45</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tls1_enc</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.32</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">fget</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libcrypto</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">getrn</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.06</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libc-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.26</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">memmove_avx_unaligned_erms</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.06</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">WSStreamProcessing</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::WSStreamServerParser</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::parse</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.05</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tcp_ack</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.02</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">copy_user_enhanced_fast_string</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.02</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[nf_conntrack]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">nf_conntrack_find_get</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.isra</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.11</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.98</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cws_eventloop</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.98</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">native_queued_spin_lock_slowpath</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.93</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libcrypto</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">aead_aes_gcm_open</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.92</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">LAppS</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::IOWorker</span></span>&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">true</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">true</span></span>&gt;<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::execute</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.91</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tcp_recvmsg</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.89</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sys_epoll_ctl</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.88</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libcrypto</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">aead_aes_gcm_seal</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.84</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">do_syscall_64</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">inet_lookup_established</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tcp_transmit_skb</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.79</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libpthread-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.26</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">pthread_mutex_unlock_usercnt</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.77</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> _<span class="hljs-selector-tag"><span class="hljs-selector-tag">raw_spin_lock_irqsave</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.76</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[xt_tcpudp]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tcp_mt</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.71</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libcrypto</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">aesni_encrypt</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.70</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> _<span class="hljs-selector-tag"><span class="hljs-selector-tag">raw_spin_lock</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.67</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ep_send_events_proc</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.66</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libcrypto</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ERR_clear_error</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.63</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sock_def_readable</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.62</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">LAppS</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::Application</span></span>&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">true</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">true</span></span>, (<span class="hljs-selector-tag"><span class="hljs-selector-tag">abstract</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::Application</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::Protocol)0</span></span>&gt;<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::execute</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.61</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libc-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.26</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">malloc</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.61</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[nf_conntrack]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">nf_conntrack_in</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.58</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libssl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.45</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ssl3_read_bytes</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.58</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libluajit-5</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lj_BC_TGETS</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.57</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tcp_write_xmit</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.56</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libssl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.45</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">do_ssl3_write</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.55</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">netif_receive_skb_core</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.54</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> ___<span class="hljs-selector-tag"><span class="hljs-selector-tag">slab_alloc</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.54</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libc-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.26</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> __<span class="hljs-selector-tag"><span class="hljs-selector-tag">memset_avx2_unaligned_erms</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.51</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> _<span class="hljs-selector-tag"><span class="hljs-selector-tag">raw_spin_lock_bh</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.51</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libcrypto</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">gcm_gmult_clmul</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.51</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[kernel.vmlinux]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sock_poll</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.48</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[nf_conntrack]</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[k]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">tcp_packet</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.48</span></span>% <span class="hljs-selector-tag"><span class="hljs-selector-tag">lapps</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">libc-2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.26</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.so</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[.]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cfree</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">GLIBC_2</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">2</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">5</span></span> <span class="hljs-number"><span class="hljs-number">0.48%</span></span> lapps libssl.so.<span class="hljs-number"><span class="hljs-number">45.0</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span> [.] SSL_read <span class="hljs-number"><span class="hljs-number">0.46%</span></span> lapps [kernel.vmlinux] [k] copy_user_generic_unrolled <span class="hljs-number"><span class="hljs-number">0.45%</span></span> lapps [kernel.vmlinux] [k] tcp_sendmsg_locked <span class="hljs-number"><span class="hljs-number">0.45%</span></span> lapps lapps [.] LAppS::ClientWebSocket::send <span class="hljs-number"><span class="hljs-number">0.44%</span></span> lapps libc-<span class="hljs-number"><span class="hljs-number">2.26</span></span>.so [.] _int_free <span class="hljs-number"><span class="hljs-number">0.44%</span></span> lapps libssl.so.<span class="hljs-number"><span class="hljs-number">45.0</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span> [.] ssl3_read_internal <span class="hljs-number"><span class="hljs-number">0.43%</span></span> lapps [kernel.vmlinux] [k] futex_wake <span class="hljs-number"><span class="hljs-number">0.42%</span></span> lapps libluajit-<span class="hljs-number"><span class="hljs-number">5.1</span></span>.so.<span class="hljs-number"><span class="hljs-number">2.0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span> [.] lj_tab_get <span class="hljs-number"><span class="hljs-number">0.42%</span></span> lapps libc-<span class="hljs-number"><span class="hljs-number">2.26</span></span>.so [.] vfprintf <span class="hljs-number"><span class="hljs-number">0.41%</span></span> lapps [kernel.vmlinux] [k] tcp_v4_rcv</code> </pre> </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es421421/">https://habr.com/ru/post/es421421/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es421411/index.html">Introducción a los módulos Go</a></li>
<li><a href="../es421413/index.html">Acceso adecuado a los métodos de interfaz predeterminados a través de la reflexión en Java 8, 9, 10</a></li>
<li><a href="../es421415/index.html">Magic Leap - basura triste</a></li>
<li><a href="../es421417/index.html">Cafetera para adictos al café, o cafetera móvil Wacaco</a></li>
<li><a href="../es421419/index.html">Oda al níquel "espumado", zafiros inexistentes y al viceministro soviético: icónico OTTO SX-P1 en Japón, Estados Unidos y la URSS</a></li>
<li><a href="../es421423/index.html">Enterprise DevOps: cómo una gran empresa recolecta microservicios</a></li>
<li><a href="../es421425/index.html">Domar y consolidar: la historia de mudarse a Oracle Supercluster</a></li>
<li><a href="../es421429/index.html">LSTM - Precios dinámicos ANN en el comercio minorista de artículos para el hogar</a></li>
<li><a href="../es421431/index.html">Gestión del tiempo o gestión eficaz del caos</a></li>
<li><a href="../es421433/index.html">Quedaba exactamente un día antes de que se iniciara el servidor.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>