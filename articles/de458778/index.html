<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍⚕️ 🚶🏿 👩🏻‍🚀 Satellite 6.5 Reporting Engine: Was und warum 🥛 🐊 👨🏾‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Red Hat Satellite ist eine Systemverwaltungslösung, mit der Sie Ihre Red Hat-Infrastruktur in physischen, virtuellen und Cloud-Umgebungen einfach bere...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Satellite 6.5 Reporting Engine: Was und warum</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/458778/">  Red Hat Satellite ist eine Systemverwaltungslösung, mit der Sie Ihre Red Hat-Infrastruktur in physischen, virtuellen und Cloud-Umgebungen einfach bereitstellen, skalieren und verwalten können.  Mit Satellite können Benutzer Systeme optimieren und aktualisieren, um ihren effizienten und sicheren Betrieb gemäß verschiedenen Standards sicherzustellen.  Durch die Automatisierung der meisten Aufgaben im Zusammenhang mit der Aufrechterhaltung der Systemleistung hilft Satellite Unternehmen, die Effizienz zu steigern, die Betriebskosten zu senken und auf strategische Geschäftsanforderungen schneller zu reagieren. <br><br><img src="https://habrastorage.org/webt/p6/ee/pg/p6eepgms_w-zy-guwiokfyxupgi.png" width="100%"><br><br>  Obwohl Sie grundlegende Verwaltungsaufgaben mit den in Ihrem Red Hat Enterprise Linux-Abonnement enthaltenen Red Hat-Diensten ausführen können, bietet Red Hat Satellite umfangreiche Funktionen zur Verwaltung des Lebenszyklus. <br><a name="habracut"></a><br>  Zu diesen Merkmalen gehören: <br><br><ul><li>  Installation von Patches; </li><li>  Abonnementverwaltung; </li><li>  Initialisierung; </li><li>  Konfigurationsmanagement. </li></ul><br>  Von einer einzigen Konsole aus können Sie Tausende von Systemen so einfach wie eine einzige verwalten, was die Verfügbarkeit und Zuverlässigkeit erhöht und Ihnen die Möglichkeit gibt, das System zu überwachen. <br><br>  <b>Und jetzt haben wir den neuen Red Hat Satellite 6.5!</b> <br><br>  Eines der coolen Dinge an Red Hat Satellite 6.5 ist die neue Berichts-Engine. <br><br>  Satellite Server fungiert häufig als Zentrum, in dem alle Informationen zu Red Hat-Unternehmenssystemen fließen. Mit dieser neuesten Engine können Sie Berichte erstellen und exportieren, die Informationen zu Satellite-Client-Hosts, Software-Abonnements und anwendbaren Softwarefehlern (zutreffende Errata) und enthalten usw.  Berichte werden in der eingebetteten Ruby-Sprache (ERB) programmiert. <br><br>  Satellite 6.5 wird mit vorgefertigten Berichten geliefert, und die Engine bietet Benutzern die Möglichkeit, diese Berichte anzupassen oder eigene zu erstellen.  Eingebettete Satellite 6.5-Berichte werden im CSV-Format erstellt. In diesem Beitrag wird jedoch gezeigt, wie Sie Berichte im HTML-Format erstellen können. <br><br><h3>  In Satellite 6.5 integrierte Berichte </h3><br>  Satellite 6.5 enthält vier integrierte Berichte: <br><br><ul><li>  <b>Anwendbare Errata</b> - eine Liste von Softwarefehlern (Errata), die auf Inhaltshosts behoben werden sollen (optional gefiltert nach Hosts oder Fehlern); </li><li>  <b>Hoststatus</b> - Bericht über den Status der Satellitenhosts (optional nach Hosts gefiltert); </li><li>  <b>Registrierte Hosts</b> - Informationen zu Satelliten-Hosts: IP-Adresse, Betriebssystemversion, Software-Abonnement (optional nach Hosts gefiltert); </li><li>  <b>Abonnements</b> - Informationen zu Software-Abonnements: Gesamtzahl der Abonnements, Anzahl der kostenlosen Abonnements, SKU-Codes (optional gefiltert nach Abonnementparametern). </li></ul><br>  Um einen Bericht zu erstellen, öffnen Sie das Menü <b>Monitor</b> , wählen Sie <b>Berichtsvorlagen aus</b> und klicken Sie auf die Schaltfläche Generieren rechts neben dem gewünschten Bericht.  Lassen Sie das Filterfeld leer, um alle Daten in den Bericht aufzunehmen, oder geben Sie dort etwas ein, um die Ergebnisse einzuschränken.  Wenn beispielsweise nur RHEL 8-Hosts im Bericht "Registrierte Hosts" angezeigt werden sollen, geben Sie den Filter <b>os = RedHat und os_major = 8 an</b> , wie im folgenden Screenshot gezeigt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wy/st/sx/wystsxebw9jp2lhfw1_uumewryq.png"></div><br><br>  Nachdem Sie den Bericht erstellt haben, können Sie ihn herunterladen und in einer Tabelle vom Typ LibreOffice Calc öffnen, die die Daten aus CSV importiert und in Spalten <b>einfügt</b> , z. B. als <b>anwendbarer Errata-</b> Bericht im folgenden Screenshot: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ej/hi/r5/ejhir5lbsdvnui2izjoptwz9zfi.png"></div><br><br>  Beachten Sie, dass die Option <b>Standard</b> in den Eigenschaften der eingebetteten Berichte aktiviert ist, sodass sie automatisch allen neuen Organisationen und Standorten hinzugefügt werden, die Sie in Satellite erstellen. <br><br><h3>  Anpassung eingebetteter Berichte </h3><br>  Lassen Sie uns die Anpassung am Beispiel des integrierten <b>Abonnementberichts</b> analysieren.  Standardmäßig spiegelt dieser Bericht die Gesamtzahl der Abonnements (1) sowie die Anzahl der verfügbaren, dh kostenlosen Abonnements (2) wider.  Wir werden eine weitere Spalte mit der Anzahl der verwendeten Abonnements hinzufügen, die als (1) - (2) definiert ist.  Wenn wir beispielsweise insgesamt 50 RHEL-Abonnements haben und 10 davon kostenlos sind, werden 40 Abonnements verwendet. <br><br>  Da das Bearbeiten eingebetteter Berichte blockiert ist und nicht empfohlen wird, sie zu ändern, müssen Sie den eingebetteten Bericht klonen, ihm einen neuen Namen geben und dann diese Klonkopie ändern. <br><br>  Wenn wir also den <b>Abonnementbericht</b> ändern möchten, müssen wir ihn zuerst klonen.  Öffnen Sie daher das Menü <b>Monitor</b> , wählen Sie <b>Berichtsvorlagen</b> und dann <b>Klonen</b> im Dropdown-Menü rechts neben der <b>Abonnementvorlage</b> .  Dann geben wir den Namen des Klonberichts ein (nennen wir ihn <b>benutzerdefinierte Abonnements</b> ) und fügen die Zeile <b>'Verwendet'</b> zwischen den Zeilen <b>Verfügbar</b> und <b>Menge hinzu</b> <b>: pool.quantity - pool.available,</b> - achten Sie auf das Komma am Ende der Zeile.  So sieht es im Screenshot aus: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xb/t3/kn/xbt3kna0dmqiyf09vi1kbcavguy.png"></div><br><br>  Dann klicken wir auf die Schaltfläche <b>Senden</b> , um zur Seite <b>Berichtsvorlagen zurückzukehren</b> .  Klicken <b>Sie dort</b> rechts neben dem soeben erstellten Bericht über <b>benutzerdefinierte Abonnements</b> auf die Schaltfläche <b>Generieren</b> .  Lassen Sie das Filterfeld Abonnements leer und klicken Sie auf <b>Senden</b> .  Danach wird ein Bericht erstellt und geladen, in dem eine von uns hinzugefügte Spalte " <b>Verwendet"</b> hinzugefügt wird. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pg/rb/bj/pgrbbj02lyatlvs70uahtwstlna.png"></div><br><br>  Die Hilfe für die eingebettete Ruby-Sprache befindet sich auf der Registerkarte <b>Hilfe</b> im Berichtsbearbeitungsfenster.  Es bietet einen Überblick über die Syntax sowie die verfügbaren Variablen und Methoden. <br><br><h3>  Erstellen Sie Ihren eigenen Bericht </h3><br>  Schauen wir uns nun an, wie wir anhand des Beispiels eines Ansible-Roles-Berichts, der Hosts in Satellite zugewiesen ist, eigene Berichte erstellen.  Öffnen Sie das Menü <b>Monitor</b> , klicken Sie auf <b>Berichtsvorlagen</b> und dann auf die Schaltfläche <b>Vorlage erstellen</b> .  Rufen Sie unseren Bericht <b>Ansible Roles Report an</b> und fügen Sie den folgenden ERB-Code ein: <br><br><pre><code class="plaintext hljs">&lt;%# name: Ansible Roles Report snippet: false template_inputs: - name: hosts required: false input_type: user description: Limit the report only on hosts found by this search query. Keep empty for report on all available hosts. advanced: false model: ReportTemplate -%&gt; &lt;% load_hosts(search: input('hosts'), includes: :ansible_roles).each_record do |host| -%&gt; &lt;% report_row({ 'Name': host.name, 'All Ansible Roles': host.all_ansible_roles }) -%&gt; &lt;% end -%&gt; &lt;%= report_render -%&gt;</code> </pre> <br>  Dieser Code generiert einen Bericht von Hosts, in dem das Attribut "all_ansible_roles" für sie angezeigt wird. <br><br>  Gehen Sie dann zur Registerkarte <b>Eingaben</b> und klicken Sie auf die Schaltfläche <b>+ Eingabe</b> hinzufügen.  Wir sagen, dass der Name <b>Hosts</b> ist und der Beschreibungstyp <b>Nach Hosts filtern (optional)</b> .  Klicken Sie dann auf <b>Senden</b> und dann auf die Schaltfläche <b>Generieren</b> rechts neben dem soeben erstellten Bericht.  Als Nächstes können Sie den <b>Hostfilter</b> festlegen oder auf Sofort <b>senden</b> klicken, um einen Bericht für alle Hosts zu erstellen.  Der generierte Bericht sieht in LibreOffice Calc ungefähr so ​​aus: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gx/hy/ju/gxhyjuquptsyrj45fiuc6rfqqo4.png"></div><br><br><h3>  HTML-Berichterstellung </h3><br>  Mit der Satellite Reporting Engine können Sie Berichte nicht nur im CSV-Format erstellen.  Als Beispiel erstellen wir einen eigenen Bericht basierend auf dem integrierten <b>Hoststatusbericht</b> , jedoch nur in Form einer HTML-Tabelle mit farbcodierten Zellen basierend auf dem Status.  Zu diesem <b>Zweck</b> klonen wir <b>Hoststatus</b> und ersetzen dann den ERB-Code durch den folgenden: <br><br><pre> <code class="plaintext hljs">&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Host Statuses&lt;/title&gt; &lt;style&gt; th { background-color: black; color: white; } td.green { background-color:#92d400; color:black; } td.yellow { background-color:#f0ab00; color:black; } td.red { background-color:#CC0000; color:black; } table,th,td { border-collapse:collapse; border: 1px solid black; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;table&gt; &lt;tr&gt; &lt;th&gt; Hostname &lt;/th&gt; &lt;th&gt; Status &lt;/th&gt; &lt;% load_hosts(search: input('hosts'), includes: :host_statuses).each_record do |host| -%&gt; &lt;% all_host_statuses_hash(host).each do |key, value| -%&gt; &lt;th&gt; &lt;%= key %&gt; &lt;/th&gt; &lt;% end -%&gt; &lt;% break -%&gt; &lt;% end -%&gt; &lt;/tr&gt; &lt;%- load_hosts(search: input('hosts'), includes: :host_statuses).each_record do |host| -%&gt; &lt;tr&gt; &lt;td&gt; &lt;%= host.name %&gt; &lt;/td&gt; &lt;% if host.global_status == 0 -%&gt; &lt;td class="green"&gt; OK &lt;/td&gt; &lt;% elsif host.global_status == 1 -%&gt; &lt;td class="yellow"&gt; Warning &lt;/td&gt; &lt;% else -%&gt; &lt;td class="red"&gt; Error (&lt;%= host.global_status %&gt;) &lt;/td&gt; &lt;% end -%&gt; &lt;% all_host_statuses_hash(host).each do |key, value| -%&gt; &lt;% if value == 0 -%&gt; &lt;td class="green"&gt; OK &lt;/td&gt; &lt;% elsif value == 1 -%&gt; &lt;td class="yellow"&gt; Warning &lt;/td&gt; &lt;% else -%&gt; &lt;td class="red"&gt; Error (&lt;%= value %&gt;) &lt;/td&gt; &lt;% end -%&gt; &lt;% end -%&gt; &lt;/tr&gt; &lt;% end -%&gt; &lt;/table&gt; &lt;/body&gt; &lt;/html&gt;</code> </pre><br>  Dieser Bericht generiert HTML, das im Browser ungefähr so ​​aussieht: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q0/fg/bo/q0fgboqcofiv2n6e8i_0zdl27t0.png"></div><br><br><h3>  Ausführen von Berichten über die Befehlszeile </h3><br>  Mit dem Befehl <b>hammer</b> wird der Bericht über die Befehlszeile ausgeführt, und das Dienstprogramm cron automatisiert diesen Vorgang. <br><br>  Verwenden Sie den Befehl hammer report-template generate —name "", zum Beispiel: <br><br><pre> <code class="plaintext hljs"># hammer report-template generate —name "Host statuses HTML"</code> </pre><br>  Der Inhalt des Berichts wird auf der Konsole angezeigt.  Informationen können in eine Datei umgeleitet und dann cron so eingerichtet werden, dass ein Shell-Skript zum Generieren eines Berichts ausgeführt und per E-Mail gesendet wird.  Das HTML-Format wird in E-Mail-Clients perfekt angezeigt, sodass Sie die regelmäßige Zustellung von Berichten an interessierte Parteien in einer bequemen Form zur Wahrnehmung organisieren können. <br><br>  Daher ist die Berichts-Engine in Satellite 6.5 ein leistungsstarkes Tool zum Exportieren wichtiger Daten, über die Unternehmen in Satellite verfügen.  Es ist sehr flexibel und ermöglicht es Ihnen, sowohl integrierte Berichte als auch deren überarbeitete Versionen zu verwenden.  Darüber hinaus können Benutzer ihre eigenen Berichte von Grund auf neu erstellen.  Details zur Satellite Reporting Engine finden Sie in unserem YouTube-Video. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b>9. Juli um 11:00 Uhr Moskauer Zeit Verpassen Sie nicht das Webinar über die neue Version von Red Hat Enterprise Linux 8</b></a> <br><br>  Unser Sprecher ist Aram Kananov, Manager für die Entwicklung von Red Hat-Plattformen und Steuerungssystemen in Europa, dem Nahen Osten und Afrika.  Die Arbeit von Aram bei Red Hat umfasst eine umfassende Analyse des Marktes, der Branche und der Wettbewerber sowie die Produktpositionierung und das Marketing für den Geschäftsbereich Plattform, einschließlich der Verwaltung des gesamten Lebenszyklus des gesamten Produkts von der Implementierung bis zum Endverbrauch. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de458778/">https://habr.com/ru/post/de458778/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de458764/index.html">Grundlegende agile Praktiken für technische und nichttechnische Teams im Jahr 2019</a></li>
<li><a href="../de458766/index.html">IronPython auf der Seite des Bösen: Wie wir einen Cyberangriff auf öffentliche Dienste in einem europäischen Land aufgedeckt haben</a></li>
<li><a href="../de458768/index.html">5-6 Gründe, zu GolangConf zu kommen</a></li>
<li><a href="../de458770/index.html">Die ganze Wahrheit über RTOS. Artikel 29. Unterbrechungen in Nucleus SE</a></li>
<li><a href="../de458774/index.html">Funktionales DBMS</a></li>
<li><a href="../de458782/index.html">Anpassung von Programmen für ZX Spectrum an TR-DOS mit modernen Mitteln. Teil 3</a></li>
<li><a href="../de458784/index.html">Übertragen Sie Projekte und Bibliotheken von Altium Designer an PADS Professional</a></li>
<li><a href="../de458786/index.html">Videospiel-Keeper halten die Spielkultur Schritt für Schritt aufrecht</a></li>
<li><a href="../de458788/index.html">Benutzerdefinierte Vorlagen in GTM: ein Beispiel</a></li>
<li><a href="../de458790/index.html">Einführung in CatBoost. Yandex-Bericht</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>