<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì£ üë©üèª‚Äç‚úàÔ∏è ü§±üèæ Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 13: Protocolos de red, parte 2 ü§ûüèæ üï∫üèª üóùÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnolog√≠a de Massachusetts. Conferencia Curso # 6.858. "Seguridad de los sistemas inform√°ticos". Nikolai Zeldovich, James Mickens. A√±o 2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 13: Protocolos de red, parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427771/"><h3>  Instituto de Tecnolog√≠a de Massachusetts.  Conferencia Curso # 6.858.  "Seguridad de los sistemas inform√°ticos".  Nikolai Zeldovich, James Mickens.  A√±o 2014 </h3><br>  Computer Systems Security es un curso sobre el desarrollo e implementaci√≥n de sistemas inform√°ticos seguros.  Las conferencias cubren modelos de amenazas, ataques que comprometen la seguridad y t√©cnicas de seguridad basadas en trabajos cient√≠ficos recientes.  Los temas incluyen seguridad del sistema operativo (SO), caracter√≠sticas, gesti√≥n del flujo de informaci√≥n, seguridad del idioma, protocolos de red, seguridad de hardware y seguridad de aplicaciones web. <br><br>  Lecci√≥n 1: "Introducci√≥n: modelos de amenaza" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 2: "Control de ataques de hackers" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 3: ‚ÄúDesbordamientos del b√∫fer: exploits y protecci√≥n‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 4: ‚ÄúSeparaci√≥n de privilegios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 5: ‚Äú¬øDe d√≥nde vienen los sistemas de seguridad?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> <br>  Lecci√≥n 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 7: ‚ÄúSandbox de cliente nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 8: "Modelo de seguridad de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 9: "Seguridad de aplicaciones web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 10: ‚ÄúEjecuci√≥n simb√≥lica‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 11: "Ur / Lenguaje de programaci√≥n web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 12: Seguridad de red <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 13: "Protocolos de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  <b>Estudiante: el</b> cliente no puede descifrar este ticket porque est√° cifrado con la clave de servicio. <br><br>  <b>Profesor:</b> s√≠, eso es realmente inteligente, ¬øno?  Tenemos la clave Kc, s que el cliente puede recibir, pero aqu√≠, en el ticket Tc, s, hay otra copia de esta clave, encriptada con Ks. <br><br><img src="https://habrastorage.org/webt/kl/5n/6e/kl5n6e4epx_expi1zev6grsj30y.jpeg"><br><br>  La raz√≥n por la que se hace esto es porque el servidor Kerberos realmente est√° tratando de asegurar la comunicaci√≥n del cliente con el otro tipo.  Por lo tanto, Kerberos crea una clave aleatoria Kc, sy le da una copia al cliente y otra al servidor con el que el cliente va a hablar.  Imagine que Kerberos simplemente llamar√≠a al servicio con las palabras: "oye, servicio, este tipo quiere hablar contigo, ¬°esta es la clave para esto!"  Esto ser√≠a lamentable porque el servidor Kerberos acceder√≠a al servicio una y otra vez en cada solicitud.  Entonces, KDS crea 2 copias de la clave de sesi√≥n: una para el cliente y la otra para TGS. <br><br>  Por lo tanto, en cambio, a los desarrolladores se les ocurri√≥ un buen truco, donde le proporcionan al cliente este boleto, y √©l no puede hacer nada con √©l excepto contactarlo con el servicio adecuado.  Y si este servicio tiene la clave Ks correcta, la descifrar√° y dir√°: "S√≠, esta es la misma clave que debo usar para hablar con este cliente".  Por lo tanto, ambos participantes en la conexi√≥n, el cliente y el servicio, establecer√°n una clave com√∫n para proteger su conexi√≥n. <br><br>  <b>Estudiante:</b> entonces, ¬øqu√© es TGS? <br><br>  <b>Profesor:</b> Hay dos puntos de vista sobre lo que es TGS.  Desde el punto de vista del cliente, este es solo otro servicio para el que puede obtener un boleto.  Cuantas m√°s funciones ofrezca este servicio, m√°s tickets proporcionar√°.  Esto es en realidad un servicio de entradas. <br><br>  <b>Estudiante: lo</b> siento, quise decir que tenemos un boleto llamado TGS. <br><br>  Profesor: oh, s√≠, lo siento, la inscripci√≥n tgs debajo de la flecha en este diagrama es solo una abreviatura de todo el bloque de grabaci√≥n, excepto el √≠ndice s en el par√°metro Tc, s, lo que significa que el nombre real de este servicio es TGS.  Puede imaginar que tenemos un servidor Kerberos, existe este servicio TGS y hay un servicio real al que desea acceder.  Entonces, primero tiene que pedirle a Kerberos que le d√© un ticket para obtener acceso a un servicio en particular. <br><br><img src="https://habrastorage.org/webt/hw/zr/hw/hwzrhw6lhgb-pvgkiesyon92txs.jpeg"><br><br>  Puede pedirle a Kerberos que le d√© un ticket directamente al servidor de archivos, y eso podr√≠a funcionar.  Pero para esto necesitar√≠a su Kc para descifrar y para el resto del tiempo usar el servidor.  En cambio, obtienes un boleto para el servicio especial de TGS.  Se ve igual que otros servicios, excepto que se coloca en una casilla separada.  Y estar√° encantado de darle m√°s boletos m√°s tarde sin volver a proporcionar su clave de cliente Kc original. <br><br>  <b>Estudiante:</b> es decir, su idea es que tan pronto como reciba un boleto de TGS, ¬øpuede deshacerse de su clave Kc? <br><br>  <b>Profesor:</b> s√≠, lo bueno de esto es que tan pronto como reciba este ticket Tc, s del servicio TGS, se deshar√° de la contrase√±a y la clave Kc.  Por lo tanto, tan pronto como inicie sesi√≥n en la estaci√≥n de trabajo Athena y despu√©s de un par de segundos reciba un ticket T, su contrase√±a se borrar√° de la memoria.  Entonces, incluso si alguien te agarra, selecciona la computadora y huye con √©l, todo lo que tiene es tu boleto.  Es bueno si puede obtener acceso a su informaci√≥n por 10 horas, o por la duraci√≥n del boleto, pero no por m√°s tiempo, porque la contrase√±a no se ha guardado y la pr√≥xima vez que ingrese "Athena" deber√° ingresarla nuevamente. <br><br>  La √∫nica vez que necesita una contrase√±a es cuando env√≠a una solicitud al servidor Kerberos, recibe esta respuesta con un ticket y la descifra.  Despu√©s de eso, puedes olvidarte de la contrase√±a.  Pero, por supuesto, no puede soltar la contrase√±a antes de usarla para descifrar. <br>  Por lo tanto, la primera interfaz superior C en nuestro esquema se utiliza para obtener un ticket con la clave inicial Kc, y la segunda interfaz inferior S se utiliza para acceder a los servicios, pero sin la necesidad de obtener la clave inicial Kc. <br><br><img src="https://habrastorage.org/webt/p_/sa/co/p_sacoagwvxlzixm2wmfkxcrax8.jpeg"><br><br>  Por lo tanto, ya hemos hablado sobre dos problemas espec√≠ficos del protocolo Kerberos, que, por as√≠ decirlo, est√°n integrados en √©l, lo que caus√≥ algunos inconvenientes.  Primero, los creadores asumieron que el cifrado tambi√©n proporcionar√≠a autenticaci√≥n o integridad del mensaje, pero esto no sucedi√≥.  Esta falla se ha corregido en Kerberos versi√≥n 5, donde se realiza la autenticaci√≥n expl√≠cita de mensajes.  En segundo lugar, para clientes arbitrarios, tuvieron la oportunidad de adivinar las contrase√±as de otras personas. <br><br>  ¬øC√≥mo se puede arreglar esto?  ¬øC√≥mo evitar ataques adivinando la contrase√±a en protocolos de este tipo?  Que podemos probar <br><br>  <b>Estudiante:</b> No estoy seguro, pero puedes intentar "saltear" la contrase√±a. <br><br>  <b>Profesor:</b> "salaz√≥n" simplemente significa que el cliente puede tener que descifrar la contrase√±a de diferentes maneras.  Pero esto no hace da√±o para tratar de recogerlo.  Por lo tanto, podr√≠a ser m√°s costoso construir un diccionario. <br><br>  <b>Estudiante:</b> puede intentar complicar la funci√≥n de calcular la contrase√±a. <br><br>  <b>Profesor:</b> s√≠, otra buena idea es hacer que el proceso de hash sea muy costoso.  Quiz√°s esto sea razonable.  Por lo tanto, si esta funci√≥n hash toma un segundo de tiempo de c√°lculo, como lo hicieron en el segundo laboratorio, en este caso, seleccionar contrase√±as ser√≠a una tarea muy costosa.  Esto parece un plan razonable: usar una combinaci√≥n de "salaz√≥n" y complicar el proceso de adivinanzas. <br><br>  Otra defensa puede ser complicar la respuesta.  Ha escuchado que en las primeras versiones del protocolo, el servidor Kerberos no ten√≠a idea de si el cliente correcto estaba accediendo a √©l o no.  Lo que podr√≠a hacer es proporcionar evidencia de que usted es el cliente correcto, es decir, cifrar la marca de tiempo actual con un hash de contrase√±a, o algo as√≠.  Luego, el servidor Kerberos podr√≠a verificar si estas cosas son correctas y, si coinciden, proporcionarle un ticket. <br><br>  Probablemente no desee agregar m√°s pasos de prueba, pero eso podr√≠a funcionar.  Por ahora, suponga que puede tomar una marca de tiempo y hacer un hash junto con la clave Kc, y tambi√©n simplemente agregar una marca de tiempo. <br><br><img src="https://habrastorage.org/webt/_w/z8/tc/_wz8tcsw1hrju-q5dmxqomp6jto.jpeg"><br><br>  En este caso, el servidor puede ver que tiene su clave Kc y tambi√©n puede cambiar la marca de tiempo actual.  Si recibe el mismo valor, probablemente la solicitud la realice el usuario correcto al que se puede enviar el ticket.  Si no, era la contrase√±a incorrecta. <br><br>  <b>Estudiante:</b> simplemente puede limitar la emisi√≥n de tickets si los servidores registran demasiadas solicitudes para su provisi√≥n. <br><br>  <b>Profesor:</b> muy cierto, podemos introducir una restricci√≥n.  Sin embargo, no hay ninguna raz√≥n para que un hacker solicite un ticket en el servidor m√°s de una vez.  Simplemente solicita un usuario espec√≠fico, recibe este bloque cifrado de √©l y puede intentar descifrarlo sin conexi√≥n tantas veces como lo desee, con diferentes contrase√±as sin una segunda solicitud.  Por lo tanto, creo que todo el punto de protecci√≥n es que el servidor de alguna manera reacciona a la cantidad de llamadas si el atacante solicita repetidamente el servidor, tratando de ingresar al sistema con diferentes contrase√±as.  En este caso, se puede alcanzar el l√≠mite de consulta, lo que proporcionar√° una mejor protecci√≥n contra la pirater√≠a. <br><br>  <b>Estudiante:</b> ¬øc√≥mo puede un atacante enviar una solicitud al servidor Kerberos? <br><br>  <b>Profesor:</b> Creo que podr√≠a reproducir el mensaje del usuario correcto, es decir, verlo, copiarlo, enviarlo y tambi√©n recibir una respuesta del servidor Kerberos.  Si un hacker escanea la red, puede interceptar el mensaje durante la transmisi√≥n.  Por lo tanto, limitar el n√∫mero de solicitudes es una medida temporal que solo aumenta ligeramente la seguridad.  Pero, por supuesto, si est√° mirando la red de otra persona, ver√° c√≥mo se devuelve este paquete desde el servidor, independientemente de lo que sucedi√≥ en la etapa de formaci√≥n de Tc, s.  Para que el hacker pueda ver la respuesta del servidor al cliente e intentar atacarlo. <br><br>  Probablemente haya esquemas m√°s complejos que podr√≠a desarrollar, pero no creo que Kerberos 5 implemente algo m√°s complicado que el plan que revisamos, lo que parece lo suficientemente bueno como para evitar que personas aleatorias intenten romper algo o usar el bruto forzar a descifrar una contrase√±a. <br><br>  <b>Estudiante:</b> suponga que puede proporcionar autenticaci√≥n u otra cosa para establecer una clave compartida.  Y luego puede cifrar esta cosa y la clave compartida con Kc. <br><br>  <b>Profesor:</b> s√≠, lo es.  Si realmente lo hace bien, entonces para esto hay un protocolo llamado Intercambio de clave autenticada por contrase√±a, PAKE, que realiza la autenticaci√≥n de contrase√±a.  Esto es exactamente lo que sucede en Kerberos. <br><br><img src="https://habrastorage.org/webt/dd/ls/ol/ddlsolffyiktm0e4cevjbd1ugei.jpeg"><br><br>  Puede ver en Google para qu√© sirven los protocolos SRP o PAKE.  Estos protocolos y sus elementos asociados funcionan mucho mejor con su tarea, en la que debe demostrar a ambas partes que ha instalado una nueva clave.  En este caso, ambas partes deben estar convencidas de la correcci√≥n mutua y de que no hay forma de adivinar esta contrase√±a fuera de l√≠nea y atacar el conjunto de paquetes de red que est√° observando, y as√≠ sucesivamente. <br><br>  Estos son protocolos que dependen en gran medida de la criptograf√≠a, por lo que es dif√≠cil explicar en la pizarra por qu√© funcionan. <br><br>  <b>Estudiante:</b> Una de las razones por las que los desarrolladores hicieron esto fue porque quer√≠an admitir la capacidad de enviar solo una contrase√±a.  Y los protocolos solo le permiten enviar una sola cosa como autenticador. <br><br>  <b>Profesor:</b> s√≠, hay muchos requisitos extra√±os que estos tipos tuvieron en cuenta.  Por supuesto, en la pr√°ctica, estos servidores pueden aceptar conexiones Kerberos y no Kerberos.  Y para las conexiones que no son de Kerberos, obtienes la imagen como si alguien se conectara a un servidor de correo pero no usara una estaci√≥n de trabajo Athena.  Solo quiere enviar su contrase√±a. <br><br><img src="https://habrastorage.org/webt/xm/qm/lm/xmqmlmiopbrwqm9zyulycz6apz4.jpeg"><br><br>  Y luego, el cliente de correo electr√≥nico aqu√≠, digamos, tomar√° esta contrase√±a y obtendr√° un ticket en su nombre solo para verificarla, lo que le permitir√° usar este cliente de correo electr√≥nico.  Por lo tanto, es probable que a√∫n desee Kerberos para verificar las contrase√±as de Kerberos.  No creo que esto est√© fuera de discusi√≥n porque, por supuesto, Kerberos 5 implementa estos hash de marca de tiempo y todo eso. <br><br>  Creo que una cosa m√°s a la que debe prestar atenci√≥n en los materiales de la conferencia es que los desarrolladores de Kerberos 4 eligieron un esquema de cifrado: DES, el algoritmo de cifrado m√°s popular de la √©poca.  Este es un cifrado de bloque sim√©trico, bastante r√°pido.  En ese momento, proporcionaba suficiente seguridad, y simplemente lo incorporaron al protocolo. <br><br>  Se supon√≠a que todo en Kerberos deb√≠a usar solo DES, o al menos todo en Kerberos versi√≥n 4. Esto se ha vuelto problem√°tico, porque ahora, 25-30 a√±os despu√©s, el cifrado DES es f√°cil de descifrar usando el m√©todo de fuerza bruta, ya que las claves de cifrado tienen tama√±o muy peque√±o: solo 56 bits. <br><br>  Por lo tanto, simplemente puede crear alg√∫n tipo de equipo de usuario que calcule de 2 a 56 grados de combinaciones y descubra la contrase√±a real.  Esto es lo que desea evitar en cualquier protocolo que se desarrolle hoy en d√≠a. <br><br>  Kerberos versi√≥n 5 admite varios esquemas de cifrado diferentes, incluidos AES y otros algoritmos criptogr√°ficos.  Esto parece una forma mucho mejor de garantizar la seguridad.  Por otro lado, MIT continu√≥ apoyando DES hace 2 a√±os, pero ahora lo ha rechazado, por lo que hoy su rector est√° protegido, al menos de este tipo de ataque.  Ahora veamos qu√© sucede en el servicio TGS del cual recibe un boleto.  La interacci√≥n con este servicio se ve un poco diferente. <br><br>  Por un lado, como cliente, va a hablar con √©l como si estuviera hablando con cualquier otro servicio habilitado para Kerberos.  Considere c√≥mo realiza su propia autenticaci√≥n con un ticket para una m√°quina.  Pero la respuesta que va a devolver es solo un boleto a alg√∫n otro principio, sobre la base del cual se comunicar√°, por ejemplo, con un servidor de archivos. <br><br>  Por lo tanto, los mensajes de nivel de protocolo se ver√°n as√≠: a la derecha dibujar√© TGS y a la izquierda, el cliente.  El cliente ya tiene un ticket para TGS, obtenido utilizando el protocolo que se muestra en la parte superior. <br><br><img src="https://habrastorage.org/webt/cj/cq/vy/cjcqvyserub_284vhbrrzie4v84.jpeg"><br><br>  Ahora el cliente enviar√° una combinaci√≥n de mensajes que demuestren que es el cliente correcto, y estos mensajes est√°n relacionados con la emisi√≥n de una solicitud sobre un principio espec√≠fico a trav√©s de TGS. <br><br>  Entonces, el cliente enviar√° un mensaje de este tipo a TGS: S es el servicio con el que se va a comunicar m√°s, puede ser un servidor de correo o de archivos, luego esto incluye el ticket del cliente Tc que recibi√≥ para tgs, encriptado usando la clave K tgs y un autenticador que est√° encriptado con la clave Kc, tgs com√∫n al cliente y al servicio TGS.  As√≠ es como se ve el mensaje que va a enviar a TGS: dice: "mire este mensaje, haga algo con √©l y responda con un ticket para este nuevo servicio S".  La respuesta aqu√≠ se ve casi igual que en la figura anterior, y de hecho es la misma: este es un ticket entre el cliente y este nuevo servicio, encriptado usando Ks.  Pero ahora se ha vuelto un poco diferente. <br><br><img src="https://habrastorage.org/webt/hl/hy/l2/hlhyl2wjl1jpd8oeptd4e3o9w0g.jpeg"><br><br>  En lugar del cifrado con la clave Kc, que el cliente debe haber olvidado desde entonces, ahora el cifrado se realiza utilizando la clave com√∫n Kc, tgs entre el cliente y el servicio TGS. <br><br>  ¬øC√≥mo determina el servidor lo que quiere el cliente y c√≥mo el servidor autentica al cliente?  El servidor TGS conoce su propia clave Ktgs, por lo que primero descifrar√° este mensaje Tc, tgs, mirar√° dentro del ticket y descubrir√° qu√© sucede.  ¬øPor qu√© necesitamos todos estos campos en el ticket?  ¬øPor qu√© es importante tener el nombre del servidor S en el ticket?  ¬øQu√© saldr√≠a mal si no tuvi√©ramos S? <br><br>  <b>Estudiante:</b> si no existiera, podr√≠a obtener permiso para usar cualquier servidor. <br><br>  <b>Profesor:</b> s√≠, lo es.  En general, es una buena idea hacer los protocolos de red para que pueda decir exactamente qu√© significa este mensaje.  En caso de que omita S, puede confiar en el hecho de que si usa un ticket para el S incorrecto, entonces tal vez tenga otras claves K y no podr√° realizar el descifrado o algo as√≠.  Entonces, ¬øparece una buena idea incluir el nombre del servicio para asegurarse de que el servidor que recibe estos tickets los descifra y comprueba si es un ticket para m√≠ o para otra persona? <br><br>  <b>Estudiante:</b> ¬øqu√© hace el cliente con la clave Ktgs recibida? <br><br>  <b>Profesor:</b> buena pregunta!  El cliente no tiene idea de qu√© es.  Porque es una clave de alto secreto.  Si lo supieras, podr√°s descifrar todos los Kerberos.  Entonces el cliente no tiene idea de qu√© es Ktgs. <br><br>  <b>Estudiante:</b> ¬øde d√≥nde viene este Ktgs? <br><br>  <b>Profesor:</b> el servidor Kerberos mismo genera para usted todo este mensaje, que ya tiene Tc, tgs y Ktgs, no lo crea usted mismo, simplemente c√≥pielo desde aqu√≠. <br><br>  Entonces, ¬øpor qu√© es tan importante el nombre del cliente?  Esto es f√°cil de resolver.  Si no pone el nombre del cliente en el ticket, el servidor recibe este mensaje, pero no tiene idea con qui√©n est√° tratando de hablar.  No sabe para qui√©n debe emitir un boleto, ni para usted ni para otra persona. <br><br>  ¬øQu√© pasa con los otros campos?  ¬øPor qu√© los desarrolladores insertan la direcci√≥n addr en el ticket de Tc?  Es solo la direcci√≥n IP del cliente, entonces, ¬øpor qu√© no usarla directamente? <br><br><img src="https://habrastorage.org/webt/jc/qr/ar/jcqrarc608ehufc4cs094r5xwqw.jpeg"><br><br>  Creo que el significado de esta soluci√≥n es el deseo de los desarrolladores de aumentar la seguridad.  Quer√≠an asegurarse de que si el cliente inici√≥ sesi√≥n desde alguna direcci√≥n IP, todo lo dem√°s en el mismo ticket proviene de la misma direcci√≥n IP.  Por ejemplo, si ha iniciado sesi√≥n desde alguna direcci√≥n IP, por ejemplo 18.26.4.9, cada conexi√≥n a un archivo o servidor de correo debe ser de la misma direcci√≥n IP.  De lo contrario, el servidor deber√≠a rechazar su conexi√≥n, ya que puede sugerir que alguien rob√≥ su boleto.  Por lo tanto, nos protegemos aqu√≠ contra el uso de boletos robados.  Si todav√≠a tiene el mismo ticket, est√° bien, pero si no utiliza la misma direcci√≥n IP, no tendr√° √©xito. <br><br>  Esto parece una idea err√≥nea en este momento, y Kerberos 5 todav√≠a usa un enfoque similar, aunque esto no es necesario.  De hecho, simplemente debe confiar en la criptograf√≠a en lugar de asegurar la direcci√≥n IP. <br><br>  Pero, ¬øcu√°l es el significado de la marca de tiempo y la marca de tiempo de vida en el boleto?  ¬øPara qu√© sirven y para qu√© sirven? <br><br>  <b>Estudiante:</b> son necesarios para evitar ataques de repetici√≥n. <br>  Profesor: los ataques de repetici√≥n nos ayudan a evitar el autenticador, porque esto se genera cada vez que realiza una nueva solicitud.  Pero, por otro lado, el ticket sigue siendo el mismo, por lo que esto, por supuesto, no interfiere con los ataques de repetici√≥n. <br><br>  <b>Estudiante:</b> esto evita que alguien robe su boleto y luego lo use para sus propios fines. <br>  Profesor: s√≠, esto simplemente limita el tiempo durante el cual el boleto es v√°lido, por lo que se reduce el da√±o de su robo.  La marca de tiempo es la hora en que recibi√≥ el boleto, y la vida √∫til muestra cu√°ntas horas es v√°lido este boleto desde la marca de tiempo inicial.  Por lo tanto, si intenta utilizarlo demasiado pronto o demasiado tarde, cualquier servidor deber√≠a rechazar dicho ticket utilizando el protocolo Kerberos.  Esto significa que cada servidor debe sincronizar su reloj. <br><br>  <b>Estudiante:</b> Usted dijo anteriormente que un cliente puede tirar su clave inicial, descartar Kc, pero debe almacenar los Kc recibidos de TGS. <br><br>  <b>Profesor:</b> s√≠, lo es, el cliente deja caer Kc despu√©s de iniciar sesi√≥n, pero debe mantener Kc, s. <br><br>  <b>Estudiante:</b> entonces, si alguien roba Kc, s, entonces tiene acceso ... <br><br> <b>:</b> ,  ,   ?  ,     Kc,tgs,  K? <br><br> <b>:</b>     K,s,          ,     K,      . <br><br><img src="https://habrastorage.org/webt/qu/ty/mo/qutymopzmr5tvwkronozrqzsprw.jpeg"><br><br> <b>:</b>  .      ,  Kc,s ‚Äî      ,    ,     .  ,       Tc,tgs,    .          ,       56     Kc,s.      .      ,     Tc,tgs ,    Kc,s    ,     - . <br><br> <b>:</b> ,  -      ‚Äî Tc,tgs,   Kc,tgs,    Kc,tgs,  Kc ‚Äî      . <br><br> <b>:</b> ,  -    ,       , ,           ,       10 .  Kc      ,      . <br><br> , ,           ,   IP-,      .  -     ,    ,     Kc,tgs,       TGS.         ‚Äî  ,  ,   ,     . <br><br>   ,   , ,       . ,      ,    .        TGS        , , PO12,  TGS        PO12.    ,    ,       Kc,s       .      ,     ,            .                Kc,s. <br><br><img src="https://habrastorage.org/webt/z2/o5/dz/z2o5dz1vnusna6yrhblr8uzutn0.jpeg"><br><br>       ,       ,         Tc,mail,     Kmail,        ,      , ,   5 ‚Äì DELETE 5,   Kc,mail. <br><br><img src="https://habrastorage.org/webt/qw/l1/br/qwl1brzfsy3qweaybqcpruubqao.jpeg"><br><br> ,          mail?              Kmail,          -  ,    ,   Kc,s,              Kerberos 5.         : ¬´,  C    ,     ¬ª. <br><br> <b>:</b>  Kerberos    Tc,tgs   Kc,s.    ? <br><br> <b>:</b>  Ac   .  ,         Kc,s,       ,  .  ,              . <br><br><img src="https://habrastorage.org/webt/ka/ib/mn/kaibmnrhnyzcsu2pc6zo5nwl8-a.jpeg"><br><br>  ,  Kerberos 4  ,     ,    , ,    ,            ,    ,   . <br><br>     ,        ,   , ,     .      ,           .    ,   ,               .        , ,   ,   ,      .       ,    . <br>     .        Kerberos,      ,   ,  Kerberos 4.             ,   -   . <br><br>  ,   , ,     ,   ,  Kerberos 4,   ,    ,        K,mail.     ,        . <br><br><img src="https://habrastorage.org/webt/np/z1/wq/npz1wqybnymufipj4de08rpms9i.jpeg"><br><br>    ,     ,   .      ,        ,    .   -    : ¬´,      ,           DELETE         5,       -  ¬ª. <br><br>  , Kerberos 5       -,     . , ,      ,   ,   ,     . <br><br> <b>:</b>    K,mail? <br><br> <b>:</b>      . <br><br><img src="https://habrastorage.org/webt/-t/ms/ii/-tmsii-dquroimeupnjef06p3uy.jpeg"><br><br>   ,  TGS   ,   ,   S ‚Äì   mail,    S    Tc,s ‚Äì   mail,   S   Kc,s ‚Äî    mail.    Kc,s    K,mail.      ,          . <br><br> <b>:</b>      K,mail? <br><br> <b>:</b> ,        ?   , ,          .   K,mail    ? <br><br> <b>:</b>     ? <br><br> <b>:</b> , ,     !               Kmail,       T,mail,          ,      .    ,     ,      . <br><br> ,              .        .    Kerberos    ,     ,       30  . <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por lo tanto, es inevitable que tengamos problemas que debe resolver. </font><font style="vertical-align: inherit;">Entonces, un problema interesante de Kerberos 4 se refiere al m√©todo de cifrar y autenticar mensajes para aplicaciones. </font><font style="vertical-align: inherit;">Consiste en el hecho de que aqu√≠ se usa la misma clave para encriptar mensajes del cliente al servidor y para mensajes de respuesta del servidor al cliente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54:00 min </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curso MIT "Seguridad de sistemas inform√°ticos". </font><font style="vertical-align: inherit;">Lecci√≥n 13: Protocolos de red, Parte 3</font></font></a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QOtA76ga_fY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La versi√≥n completa del curso est√° disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps hasta diciembre de forma gratuita</b> al pagar por un per√≠odo de seis meses, puede ordenar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los Estados Unidos!</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es427771/">https://habr.com/ru/post/es427771/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es427757/index.html">Puertas traseras de microc√≥digo ensambladas con procesador X86</a></li>
<li><a href="../es427759/index.html">Sobre la solvencia de los problemas de circunvalaci√≥n en tiempo polin√≥mico</a></li>
<li><a href="../es427761/index.html">Implementaci√≥n del algoritmo k-means (k-means) usando el ejemplo de trabajar con p√≠xeles</a></li>
<li><a href="../es427763/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 13: Protocolos de red, Parte 1</a></li>
<li><a href="../es427767/index.html">Situaci√≥n: en Canad√° propusieron introducir un impuesto a la transmisi√≥n; estamos discutiendo cu√°l es el problema</a></li>
<li><a href="../es427773/index.html">Escrib√≠ una extensi√≥n de navegador cruzado para pesta√±as, pero t√∫ no haces eso</a></li>
<li><a href="../es427775/index.html">Un bot disfrazado de programador corrige errores en el c√≥digo</a></li>
<li><a href="../es427779/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 13: Protocolos de red, Parte 3</a></li>
<li><a href="../es427781/index.html">¬øPor qu√© las organizaciones de cr√©dito?</a></li>
<li><a href="../es427783/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 14: "SSL y HTTPS", parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>