<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìÆ ü¶é ü§º D√©marrage rapide: Go + Apache Kafka + Redis üë®üèæ‚Äçüé§ üßî üë©üèø‚Äç‚öñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, par n√©cessit√©, j'ai parcouru toutes les offres d'emploi pour les d√©veloppeurs Go, et la moiti√© d'entre eux (au moins) mentionnent la plate-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©marrage rapide: Go + Apache Kafka + Redis</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441250/">  R√©cemment, par n√©cessit√©, j'ai parcouru toutes les offres d'emploi pour les d√©veloppeurs Go, et la moiti√© d'entre eux (au moins) mentionnent la plate-forme de traitement des messages <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Apache Kafka</a> et la base de donn√©es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Redis</a> NoSQL.  Eh bien, tout le monde, bien s√ªr, veut que le candidat connaisse Docker et d'autres comme lui.  Toutes ces exigences pour nous, qui ont vu les opinions des ing√©nieurs syst√®me, semblent en quelque sorte mesquines ou quelque chose.  Eh bien, en fait, en quoi une ligne diff√®re-t-elle d'une autre?  La situation avec les bases de donn√©es NoSQL est, bien s√ªr, plus diversifi√©e, mais elles semblent toujours plus simples que n'importe quel MS SQL Server.  Tout cela, bien s√ªr, est mon effet personnel, l'effet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dunning-Kruger</a> , mentionn√© √† plusieurs reprises sur le Habr√©. <br>  Donc, comme tous les employeurs l'exigent, il est n√©cessaire d'√©tudier ces technologies.  Mais commencer par lire toute la documentation du d√©but √† la fin n'est pas tr√®s int√©ressant.  √Ä mon avis, il est plus productif de lire l'introduction, de cr√©er un prototype fonctionnel, de corriger les erreurs, de rencontrer des probl√®mes, de les r√©soudre.  Et apr√®s tout cela, avec compr√©hension, lisez la documentation, ou m√™me un livre s√©par√©. <br><br><img src="https://habrastorage.org/webt/cn/q0/pd/cnq0pdshf1e8_dnfxpwrdkk46yc.jpeg"><br><br>  Ceux qui sont int√©ress√©s par un court laps de temps pour se familiariser avec les capacit√©s de base de ces produits, lisez la suite. <br><a name="habracut"></a><br>  Le programme de formation tiendra compte des chiffres.  Il se composera d'un g√©n√©rateur de grands nombres, d'un processeur de nombres, d'une file d'attente, d'un stockage de colonnes et d'un serveur Web. <br><br>  Pendant le d√©veloppement, les mod√®les de conception suivants seront appliqu√©s: <br><br><ul><li>  Convoyeur </li><li>  Pulv√©risateur ( <a href="">fan-out</a> ) </li><li>  Collecteur ( <a href="">fan-in</a> ) </li></ul><br>  L'architecture du syst√®me ressemblera √† ceci: <br><br><img src="https://habrastorage.org/webt/ns/sz/f2/nsszf2v5b5hozqdguchikxfugys.jpeg"><br><br>  Dans l'image, l'ovale indique le mod√®le de conception du convoyeur.  Je m'y attarderai plus en d√©tail. <br><br>  Le mod√®le ¬´convoyeur¬ª suppose que les informations se pr√©sentent sous la forme d'un flux et sont trait√©es par √©tapes.  Habituellement, il existe un g√©n√©rateur (source d'informations) et un ou plusieurs processeurs (processeurs d'informations).  Dans ce cas, le g√©n√©rateur sera un programme sur Go qui met en file d'attente de grands nombres al√©atoires.  Et le processeur (le seul) sera un programme qui prend les donn√©es de la file d'attente et effectue la factorisation.  Sur Go pur, ce mod√®le est assez facile √† impl√©menter en utilisant des canaux (chan).  Ci-dessus, il y a un lien vers mon github avec un exemple.  Ici, la file d'attente de messages jouera le r√¥le de canaux. <br><br>  Fan-In - Les mod√®les Fan-Out sont g√©n√©ralement utilis√©s ensemble et, tels qu'appliqu√©s √† Go, signifient la parall√©lisation des calculs √† l'aide de goroutines, suivie d'un r√©sum√© des r√©sultats et de leur transfert, par exemple, dans le pipeline.  Un lien vers un exemple est √©galement donn√© ci-dessus.  Encore une fois, le canal a √©t√© remplac√© par la file d'attente, les goroutins sont rest√©s en place. <br><br>  Maintenant, quelques mots sur Apache Kafka.  Kafka est un syst√®me de gestion des messages dot√© d'excellents outils de clustering, utilise un journal des transactions (exactement comme dans un SGBDR) pour stocker les messages et prend en charge √† la fois le mod√®le de file d'attente et le mod√®le √©diteur / abonn√©.  Ce dernier est atteint gr√¢ce √† des groupes de destinataires du message.  Chaque message ne re√ßoit qu'un seul membre du groupe (traitement parall√®le), mais le message sera remis une fois √† chaque groupe.  Il peut y avoir de nombreux groupes de ce type, ainsi que des destinataires au sein de chaque groupe. <br><br>  Pour travailler avec Kafka, j'utiliserai le package ¬´github.com/segmentio/kafka-go¬ª. <br>  Redis, d'autre part, est une base de donn√©es de colonnes de valeurs-cl√©s en m√©moire qui prend en charge la possibilit√© de stocker de mani√®re permanente des donn√©es.  Le type de donn√©es principal pour les cl√©s et les valeurs est les cha√Ænes, mais il en existe d'autres.  Redis est consid√©r√©e comme l'une des bases de donn√©es les plus rapides (ou les plus) de sa cat√©gorie.  Il est bon de stocker toutes sortes de statistiques, de m√©triques, de flux de messages, etc. <br>  Pour travailler avec Redis, j'utiliserai le package ¬´github.com/go-redis/redis¬ª. <br><br>  √âtant donn√© que cet article est un d√©marrage rapide, nous d√©ploierons les deux syst√®mes √† l'aide de Docker √† l'aide d'images pr√™tes √† l'emploi de DockerHub.  J'utilise docker-compose sur Windows 10 en mode conteneur sur une machine virtuelle Linux (cr√©√©e automatiquement par la machine virtuelle Docker) avec ce fichier docker-compose.yml comme ceci: <br><br><pre><code class="xml hljs">version: '2' services: zookeeper: image: wurstmeister/zookeeper ports: - "2181:2181" kafka: image: wurstmeister/kafka:latest ports: - "9092:9092" environment: KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1 KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181 KAFKA_CREATE_TOPICS: "Generated:1:1,Solved:1:1,Unsolved:1:1" KAFKA_DELETE_TOPIC_ENABLE: "true" volumes: - /var/run/docker.sock:/var/run/docker.sock redis: image: redis ports: - "6379:6379"</code> </pre> <br>  Enregistrez ce fichier, allez dans le r√©pertoire avec lui et ex√©cutez: <br><br><pre> <code class="bash hljs">docker-compose up -d</code> </pre> <br>  Trois conteneurs doivent t√©l√©charger et d√©marrer: Kafka (file d'attente), Zookeeper (serveur de configuration pour Kafka) et (Redis). <br><br>  Vous pouvez v√©rifier que les conteneurs fonctionnent √† l'aide de la commande: <br><br><pre> <code class="bash hljs">docker-compose ps</code> </pre> <br>  Cela devrait √™tre quelque chose comme: <br><br><pre> <code class="bash hljs">Name State Ports -------------------------------------------------------------------------------------- docker-compose_kafka_1 Up 0.0.0.0:9092-&gt;9092/tcp docker-compose_redis_1 Up 0.0.0.0:6379-&gt;6379/tcp docker-compose_zookeeper_1 Up 0.0.0.0:2181-&gt;2181/tcp, 22/tcp, 2888/tcp, 3888/tcp</code> </pre><br>  Selon le fichier yml, trois files d'attente devraient √™tre cr√©√©es automatiquement, vous pouvez les voir avec la commande: <br><br><pre> <code class="bash hljs">docker <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> kafka-container_kafka_1 /opt/kafka_2.12-2.1.0/bin/kafka-topics.sh --list --zookeeper zookeeper:2181</code> </pre> <br>  Il devrait y avoir des files d'attente (sujets - sujets en termes de Kafka) g√©n√©r√©es, r√©solues et non r√©solues. <br><br>  <a href="">Le g√©n√©rateur de donn√©es met</a> les num√©ros en file d'attente √† l'infini avec un retard al√©atoire.  Son code est extr√™mement simple.  Vous pouvez v√©rifier la pr√©sence de messages dans la file d'attente g√©n√©r√©e √† l'aide de la commande: <br><br><pre> <code class="bash hljs">docker <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> kafka-container_kafka_1 /opt/kafka_2.12-2.1.0/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic Generated --from-beginning</code> </pre><br>  Ensuite, le <a href="">processeur</a> - ici, vous devez faire attention √† la parall√©lisation du traitement des valeurs de la file d'attente dans le bloc de code suivant: <br><br><pre> <code class="go hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> wg sync.WaitGroup c := <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-comment"><span class="hljs-comment">//counter for { //       15     ctx, cancel := context.WithTimeout(context.Background(), 15*time.Second) defer cancel() //      //    -     m, err := r.ReadMessage(ctx) if err != nil { fmt.Println("3") fmt.Println(err) break } wg.Add(1) //       10      goCtx, goCcancel := context.WithTimeout(context.Background(), 10*time.Millisecond) defer goCcancel() //     () go process(goCtx, c, &amp;wg, m) c++ } //     wg.Wait()</span></span></code> </pre> <br>  √âtant donn√© que la lecture de la file d'attente de messages bloque le programme, j'ai cr√©√© un objet context.Context avec un d√©lai d'expiration de 15 secondes.  Ce d√©lai mettra fin au programme si la file d'attente est vide pendant une longue p√©riode. <br><br>  De plus, pour chaque gorutine qui factorise le nombre, la dur√©e de fonctionnement maximale est √©galement d√©finie.  Je voulais que les chiffres qui pouvaient prendre en compte soient √©crits dans une seule base de donn√©es.  Et les chiffres qui n'ont pas pu √™tre factoris√©s dans le temps imparti ont √©t√© transf√©r√©s vers une autre base de donn√©es. <br><br>  Pour d√©terminer l'heure approximative, le rep√®re a √©t√© utilis√©: <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BenchmarkFactorize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b *testing.B)</span></span></span></span> { ch := <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> []<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> factors []<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; bN; i++ { num := <span class="hljs-number"><span class="hljs-number">2345678901234</span></span> <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> factorize(num, ch) factors = &lt;-ch b.Logf(<span class="hljs-string"><span class="hljs-string">"\n%d   %+v\n\n"</span></span>, num, factors) } }</code> </pre> <br>  Les rep√®res dans Go sont des vari√©t√©s de tests et sont plac√©s dans un fichier contenant des tests.  Sur la base de cette mesure, le nombre maximum pour le g√©n√©rateur de nombres al√©atoires a √©t√© s√©lectionn√©.  Sur mon ordinateur, une partie des chiffres a eu le temps de prendre en compte, et une partie - pas. <br><br>  Les nombres qui pouvaient √™tre d√©compos√©s √©taient √©crits dans le DB n ¬∞ 0, les nombres non d√©compos√©s dans le DB n ¬∞ 1. <br>  Ici, je dois dire qu'√† Redis il n'y a pas de tables et de tables au sens classique.  Par d√©faut, le SGBD contient 16 bases de donn√©es disponibles pour le programmeur.  Ces bases diff√®rent par leur nombre - de 0 √† 15. <br><br>  La limite de temps pour les goroutines dans le processeur a √©t√© fournie en utilisant le contexte et l'instruction select: <br><br><pre> <code class="go hljs"> <span class="hljs-comment"><span class="hljs-comment">//   go factorize(n, outChan) var item data select { case factors = &lt;-outChan: { fmt.Printf("\ngoroutine #%d, input: %d, factors: %+v\n", counter, n, factors) item.Number = n item.Factors = factors err = storeSolved(item) if err != nil { fmt.Println("6") log.Fatal(err) } } case &lt;-ctx.Done(): { fmt.Printf("\ngoroutine #%d, input: %d, exited on context timeout\n", counter, n) err = storeUnsolved(n) if err != nil { fmt.Println("7") log.Fatal(err) } return nil } }</span></span></code> </pre> <br>  C'est une autre astuce de d√©veloppement typique sur Go.  Sa signification est que l'instruction select parcourt les canaux et ex√©cute le code correspondant au premier canal actif.  Dans ce cas, soit goroutine affichera le r√©sultat sur son canal, soit le canal contextuel avec un timeout se fermera.  Au lieu du contexte, vous pouvez utiliser un canal arbitraire qui agira en tant que gestionnaire et fournira l'arr√™t forc√© des goroutines. <br><br>  Les sous-programmes pour √©crire dans la base de donn√©es ex√©cutent la commande pour s√©lectionner la base de donn√©es souhait√©e (0 ou 1) et √©crire des paires de la forme (nombre - facteurs) pour les nombres analys√©s ou (nombre - nombre) pour les nombres non d√©compos√©s. <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">storeSolved</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(item data)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err error)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">//    0 cmd := redis.NewStringCmd("select", 0) err = client.Process(cmd) b, err := json.Marshal(item.Factors) err = client.Set(strconv.Itoa(item.Number), string(b), 0).Err() return err }</span></span></code> </pre> <br>  La derni√®re partie sera le <a href="">serveur Web</a> , qui affichera une liste de nombres d√©compos√©s et non d√©compos√©s sous forme json.  Il aura deux points d'extr√©mit√©: <br><br><pre> <code class="go hljs"> http.HandleFunc(<span class="hljs-string"><span class="hljs-string">"/solved"</span></span>, solvedHandler) http.HandleFunc(<span class="hljs-string"><span class="hljs-string">"/unsolved"</span></span>, unsolvedHandler)</code> </pre> <br>  Le gestionnaire de requ√™tes http qui re√ßoit des donn√©es de Redis et les renvoie sous json ressemble √† ceci: <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">solvedHandler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span></span></span> { w.Header().Set(<span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>, <span class="hljs-string"><span class="hljs-string">"application/json"</span></span>) w.Header().Set(<span class="hljs-string"><span class="hljs-string">"Access-Control-Allow-Origin"</span></span>, <span class="hljs-string"><span class="hljs-string">"*"</span></span>) w.Header().Set(<span class="hljs-string"><span class="hljs-string">"Access-Control-Allow-Methods"</span></span>, <span class="hljs-string"><span class="hljs-string">"GET"</span></span>) w.Header().Set(<span class="hljs-string"><span class="hljs-string">"Access-Control-Allow-Headers"</span></span>, <span class="hljs-string"><span class="hljs-string">"Accept, Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization"</span></span>) <span class="hljs-comment"><span class="hljs-comment">//   ‚Ññ0 -   cmd := redis.NewStringCmd("select", 0) err := client.Process(cmd) if err != nil { w.WriteHeader(http.StatusInternalServerError) return } //      keys := client.Keys("*") var solved []data var item data //          for _, key := range keys.Val() { item.Key = key val, err := client.Get(key).Result() if err != nil { w.WriteHeader(http.StatusInternalServerError) return } item.Val = val solved = append(solved, item) } //    JSON err = json.NewEncoder(w).Encode(solved) if err != nil { w.WriteHeader(http.StatusInternalServerError) return } }</span></span></code> </pre> <br>  Le r√©sultat de la demande √†: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">localhost / r√©solu</a> <br><br><pre> <code class="json hljs">[{ <span class="hljs-attr"><span class="hljs-attr">"Key"</span></span>: <span class="hljs-string"><span class="hljs-string">"1604388558816"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Val"</span></span>: <span class="hljs-string"><span class="hljs-string">"[1,2,3,227]"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"Key"</span></span>: <span class="hljs-string"><span class="hljs-string">"545232916387"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Val"</span></span>: <span class="hljs-string"><span class="hljs-string">"[1,545232916387]"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"Key"</span></span>: <span class="hljs-string"><span class="hljs-string">"1786301239076"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Val"</span></span>: <span class="hljs-string"><span class="hljs-string">"[1,2]"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"Key"</span></span>: <span class="hljs-string"><span class="hljs-string">"698495534061"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Val"</span></span>: <span class="hljs-string"><span class="hljs-string">"[1,3,13,641,165331]"</span></span> }]</code> </pre> <br>  Vous pouvez maintenant vous plonger dans la documentation et la litt√©rature sp√©cialis√©e.  J'esp√®re que l'article vous a √©t√© utile. <br><br>  Je demande aux experts de ne pas √™tre trop paresseux et de signaler mes erreurs. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr441250/">https://habr.com/ru/post/fr441250/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr441238/index.html">Programmation de l'anglais</a></li>
<li><a href="../fr441240/index.html">Ont-ils perdu des preuves d'une nouvelle physique au Grand collisionneur de hadrons?</a></li>
<li><a href="../fr441242/index.html">Centre de surveillance du r√©seau de communication: le nouvel √©tat ¬´d√©fenseur¬ª de Runet</a></li>
<li><a href="../fr441244/index.html">La vuln√©rabilit√© WinRar, non ferm√©e depuis 19 ans, vous permet de placer le fichier d√©compress√© √† n'importe quel endroit</a></li>
<li><a href="../fr441248/index.html">La Russie a pris la 9e place dans le classement SSL mondial, devant la Chine, le Danemark et la Suisse</a></li>
<li><a href="../fr441252/index.html">"Article de fellation": des scientifiques ont trait√© 109 heures de sexe oral pour d√©velopper une IA qui suce un membre</a></li>
<li><a href="../fr441254/index.html">S√©minaire ¬´Pourquoi nous sommes entr√©s en contact avec Kubernetes et ce que nous en retirons¬ª, 28 f√©vrier, Moscou</a></li>
<li><a href="../fr441258/index.html">Tra√ßage dynamique complet sous Linux √† l'aide d'eBPF et de bpftrace</a></li>
<li><a href="../fr441260/index.html">Comment les graphiques de r√©seaux neuronaux ont aid√©</a></li>
<li><a href="../fr441262/index.html">Les t√¢ches simples et longues √©liminent mieux les candidats que les t√¢ches courtes et complexes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>