<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üó®Ô∏è üôéüèª üíáüèº ‡§π‡§Æ GUI ‡§ï‡•ã 1C RAC ‡§Ø‡§æ ‡§´‡§ø‡§∞ Tcl / Tk ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§≤‡§ø‡§ñ‡§§‡•á ‡§π‡•à‡§Ç üßïüèª üëµüèº üëµüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‡§ú‡•à‡§∏‡§æ ‡§ï‡§ø ‡§Æ‡•à‡§Ç‡§®‡•á ‡§≤‡§ø‡§®‡§ï‡•ç‡§∏ ‡§Æ‡•á‡§Ç 1 ‡§∏‡•Ä ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡•ã‡§Ç ‡§ï‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§µ‡§ø‡§∑‡§Ø ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§∞‡•Ä ‡§ï‡•Ä ‡§π‡•à, ‡§Æ‡•à‡§Ç‡§®‡•á 1 ‡§∏‡•Ä ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•á ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ï‡•á ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§ú‡§®‡§ï ‡§ó‡•ç‡§∞‡§æ‡§´‡§ø‡§ï‡§≤ ‡§Æ‡§≤‡•ç‡§ü‡•Ä-‡§™...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>‡§π‡§Æ GUI ‡§ï‡•ã 1C RAC ‡§Ø‡§æ ‡§´‡§ø‡§∞ Tcl / Tk ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§≤‡§ø‡§ñ‡§§‡•á ‡§π‡•à‡§Ç</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415835/">  ‡§ú‡•à‡§∏‡§æ ‡§ï‡§ø ‡§Æ‡•à‡§Ç‡§®‡•á ‡§≤‡§ø‡§®‡§ï‡•ç‡§∏ ‡§Æ‡•á‡§Ç 1 ‡§∏‡•Ä ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡•ã‡§Ç ‡§ï‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§µ‡§ø‡§∑‡§Ø ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§∞‡•Ä ‡§ï‡•Ä ‡§π‡•à, ‡§Æ‡•à‡§Ç‡§®‡•á 1 ‡§∏‡•Ä ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•á ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ï‡•á ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§ú‡§®‡§ï ‡§ó‡•ç‡§∞‡§æ‡§´‡§ø‡§ï‡§≤ ‡§Æ‡§≤‡•ç‡§ü‡•Ä-‡§™‡•ç‡§≤‡•á‡§ü‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§ü‡•Ç‡§≤ ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≤‡§ó‡§æ‡§Ø‡§æ‡•§  ‡§î‡§∞ ‡§∏‡§æ‡§Ç‡§§‡•ç‡§µ‡§®‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ø‡§§‡§æ ‡§¶‡•å‡§°‡§º ‡§ï‡•á ‡§≤‡§ø‡§è GUI ‡§≤‡§ø‡§ñ‡§ï‡§∞ ‡§á‡§∏ ‡§ï‡§Æ‡•Ä ‡§ï‡•ã ‡§†‡•Ä‡§ï ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§≤‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§  ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§ï‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§ï‡•ã tcl / tk ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§ö‡•Å‡§®‡§æ ‡§ó‡§Ø‡§æ, ‡§Æ‡•á‡§∞‡•Ä ‡§∞‡§æ‡§Ø ‡§Æ‡•á‡§Ç, ‡§á‡§∏ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§â‡§™‡§Ø‡•Å‡§ï‡•ç‡§§‡•§  ‡§î‡§∞ ‡§Ö‡§¨, ‡§Æ‡•à‡§Ç ‡§á‡§∏ ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§ï‡•á ‡§ï‡•Å‡§õ ‡§¶‡§ø‡§≤‡§ö‡§∏‡•ç‡§™ ‡§™‡§π‡§≤‡•Å‡§ì‡§Ç ‡§ï‡•ã ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡•Å‡§§ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§ <br><a name="habracut"></a><br>  ‡§ï‡§æ‡§Æ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Ü‡§™‡§ï‡•ã tcl / tk ‡§î‡§∞ 1C ‡§µ‡§ø‡§§‡§∞‡§£ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à‡•§  ‡§î‡§∞ ‡§ú‡§¨ ‡§∏‡•á ‡§Æ‡•à‡§Ç‡§®‡•á ‡§§‡•Ä‡§∏‡§∞‡•á ‡§™‡§ï‡•ç‡§∑ ‡§ï‡•á ‡§™‡•à‡§ï‡•á‡§ú‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§ø‡§è ‡§¨‡§ø‡§®‡§æ ‡§¨‡•Å‡§®‡§ø‡§Ø‡§æ‡§¶‡•Ä tcl / tk ‡§µ‡§ø‡§§‡§∞‡§£ ‡§ï‡•Ä ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§Ç‡§∂ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡§æ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§≤‡§ø‡§Ø‡§æ, ‡§Æ‡•Å‡§ù‡•á ‡§∏‡§Ç‡§∏‡•ç‡§ï‡§∞‡§£ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§ó‡•Ä 8.6.7, ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ttk ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à - ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§ó‡•ç‡§∞‡§æ‡§´‡§ø‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§è‡§ï ‡§™‡•à‡§ï‡•á‡§ú, ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§π‡§Æ‡•á‡§Ç ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ttk :: TreeView ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§ó‡•Ä, ‡§Ø‡§π ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à ‡§°‡•á‡§ü‡§æ ‡§ï‡•ã ‡§ü‡•ç‡§∞‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§î‡§∞ ‡§§‡§æ‡§≤‡§ø‡§ï‡§æ (‡§∏‡•Ç‡§ö‡•Ä) ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§  ‡§á‡§∏‡§ï‡•á ‡§Ö‡§≤‡§æ‡§µ‡§æ, ‡§®‡§è ‡§∏‡§Ç‡§∏‡•ç‡§ï‡§∞‡§£ ‡§Æ‡•á‡§Ç, ‡§Ö‡§™‡§µ‡§æ‡§¶‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§Æ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à (‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§Æ‡§æ‡§Ç‡§°, ‡§ú‡§ø‡§∏‡•á ‡§¨‡§æ‡§π‡§∞‡•Ä ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ö‡§≤‡§æ‡§§‡•á ‡§∏‡§Æ‡§Ø ‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à)‡•§ <br><br>  ‡§è‡§ï ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ ‡§Æ‡•á‡§Ç ‡§ï‡§à ‡§´‡§æ‡§á‡§≤‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç (‡§π‡§æ‡§≤‡§æ‡§Ç‡§ï‡§ø ‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§è‡§ï ‡§∏‡•á ‡§π‡•ã‡§®‡•á ‡§∏‡•á ‡§∞‡•ã‡§ï‡§§‡§æ ‡§π‡•à): <br><br>  rac_gui.cfg - ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞‡•á‡§∂‡§® <br>  rac_gui.tcl - ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü‡§Ö‡§™ ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü <br>  ‡§ï‡§æ‡§Æ‡§ó‡§æ‡§∞ ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡§ø‡§ï‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü‡§Ö‡§™ ‡§™‡§∞ ‡§≤‡•ã‡§° ‡§ï‡•Ä ‡§ó‡§à ‡§´‡§æ‡§á‡§≤‡•á‡§Ç ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç: <br>  function.tcl - ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§´‡§º‡§æ‡§á‡§≤ <br>  gui.tcl - ‡§Æ‡•Å‡§ñ‡•ç‡§Ø GUI <br>  base.t64 ‡§Æ‡•á‡§Ç ‡§á‡§Æ‡•á‡§ú ‡§≤‡§æ‡§á‡§¨‡•ç‡§∞‡•á‡§∞‡•Ä <br><br>  ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡•á‡§Ç, rac_gui.tcl ‡§´‡§º‡§æ‡§á‡§≤, ‡§¶‡•Å‡§≠‡§æ‡§∑‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à, ‡§ö‡§∞ ‡§ï‡•ã ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à, ‡§Æ‡•â‡§°‡•ç‡§Ø‡•Ç‡§≤ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à, ‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à, ‡§î‡§∞ ‡§á‡§∏‡•Ä ‡§§‡§∞‡§π‡•§  ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§´‡§º‡§æ‡§á‡§≤ ‡§ï‡•Ä ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä: <br><br><div class="spoiler">  <b class="spoiler_title">rac_gui.tcl</b> <div class="spoiler_text"><pre><code class="hljs mel">#!/bin/sh <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> wish <span class="hljs-string"><span class="hljs-string">"$0"</span></span> -- <span class="hljs-string"><span class="hljs-string">"$@"</span></span> #    set dir(root) [<span class="hljs-keyword"><span class="hljs-keyword">pwd</span></span>] #   ,      set dir(work) [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $env(HOME) .rac_gui] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> $dir(work)] == <span class="hljs-number"><span class="hljs-number">0</span></span> } { <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> mkdir $dir(work) } #    set dir(lib) <span class="hljs-string"><span class="hljs-string">"[file join $dir(root) lib]"</span></span> #   ,   ,    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) rac_gui.cfg]] ==<span class="hljs-number"><span class="hljs-number">0</span></span>} { <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> copy [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join [<span class="hljs-keyword"><span class="hljs-keyword">pwd</span></span>] rac_gui.cfg] [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) rac_gui.cfg] } <span class="hljs-keyword"><span class="hljs-keyword">source</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) rac_gui.cfg] #    rac       #             #         <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> $rac_cmd] == <span class="hljs-number"><span class="hljs-number">0</span></span>} { set rac_cmd [tk_getOpenFile -initialdir $env(HOME) -<span class="hljs-keyword"><span class="hljs-keyword">parent</span></span> . -title <span class="hljs-string"><span class="hljs-string">"   rac"</span></span> -initialfile rac] <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> copy [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) rac_gui.cfg] [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) rac_gui.cfg.bak] set orig_file [open [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) rac_gui.cfg.bak] <span class="hljs-string"><span class="hljs-string">"r"</span></span>] set <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> [open [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) rac_gui.cfg] <span class="hljs-string"><span class="hljs-string">"w"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> {[gets $orig_file line] &gt;=<span class="hljs-number"><span class="hljs-number">0</span></span> } { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> <span class="hljs-string"><span class="hljs-string">"set rac_cmd*"</span></span> $line]} { puts $file <span class="hljs-string"><span class="hljs-string">"set rac_cmd $rac_cmd"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { puts $file $line } } close $file close $orig_file #<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"$host:$port"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) <span class="hljs-number"><span class="hljs-number">1</span></span>c_srv.cfg.bak] } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { puts <span class="hljs-string"><span class="hljs-string">"Found $rac_cmd"</span></span> } set cluster_user <span class="hljs-string"><span class="hljs-string">""</span></span> set cluster_pwd <span class="hljs-string"><span class="hljs-string">""</span></span> set agent_user <span class="hljs-string"><span class="hljs-string">""</span></span> set agent_pwd <span class="hljs-string"><span class="hljs-string">""</span></span> ## LOAD FILE ## #    gui.tcl       foreach modFile [lsort [glob -nocomplain [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(lib) *.tcl]]] { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> tail $modFile] ne <span class="hljs-string"><span class="hljs-string">"gui.tcl"</span></span>} { <span class="hljs-keyword"><span class="hljs-keyword">source</span></span> $modFile puts <span class="hljs-string"><span class="hljs-string">"Loaded module $modFile"</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">source</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(lib) gui.tcl] <span class="hljs-keyword"><span class="hljs-keyword">source</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) rac_gui.cfg] #      <span class="hljs-number"><span class="hljs-number">1</span></span> #     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) <span class="hljs-number"><span class="hljs-number">1</span></span>c_srv.cfg]] { set f [open [<span class="hljs-keyword"><span class="hljs-keyword">file</span></span> join $dir(work) <span class="hljs-number"><span class="hljs-number">1</span></span>c_srv.cfg] <span class="hljs-string"><span class="hljs-string">"RDONLY"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> {[gets $f line] &gt;=<span class="hljs-number"><span class="hljs-number">0</span></span>} { .frm_tree.tree insert {} end -id <span class="hljs-string"><span class="hljs-string">"server::$line"</span></span> -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"$line"</span></span> -values <span class="hljs-string"><span class="hljs-string">"$line"</span></span> } }</code> </pre> <br></div></div><br>  ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§î‡§∞ ‡§∞‡•á‡§∏ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ø‡§§‡§æ ‡§ï‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶, ‡§è‡§ï ‡§ó‡•ç‡§∞‡§æ‡§´‡§ø‡§ï‡§≤ ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§≤‡•â‡§®‡•ç‡§ö ‡§ï‡•Ä ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§  ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§á‡§Ç‡§ü‡§∞‡§´‡§º‡•á‡§∏ ‡§Æ‡•á‡§Ç ‡§§‡•Ä‡§® ‡§§‡§§‡•ç‡§µ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç: <br><br>  ‡§ü‡•Ç‡§≤‡§¨‡§æ‡§∞, ‡§™‡•á‡§°‡§º ‡§î‡§∞ ‡§∏‡•Ç‡§ö‡•Ä <br><br>  ‡§Æ‡•à‡§Ç‡§®‡•á 1 ‡§∏‡•Ä ‡§∏‡•á ‡§Æ‡§æ‡§®‡§ï ‡§µ‡§ø‡§Ç‡§°‡•ã‡§ú‡§º ‡§∏‡•ç‡§®‡•à‡§™ ‡§ï‡•á ‡§∏‡§Æ‡§æ‡§® "‡§™‡•á‡§°‡§º" ‡§ï‡•Ä ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§ï‡•ã ‡§∏‡§Ç‡§≠‡§µ ‡§¨‡§®‡§æ‡§Ø‡§æ‡•§ <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/6f4/b8c/d33/6f4b8cd334ab0d6d74650a41a073d599.png" alt="‡§õ‡§µ‡§ø"></a> <br><br>  ‡§á‡§∏ ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§ï‡•ã ‡§¨‡§®‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡•ã‡§° ‡§´‡§æ‡§á‡§≤ ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§π‡§ø‡§§ ‡§π‡•à <br><div class="spoiler">  <b class="spoiler_title">lib / gui.tcl</b> <div class="spoiler_text"><pre> <code class="hljs mel">#       #     topLevelGeometry    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[info <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> topLevelGeometry]} { wm geometry . $topLevelGeometry } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { wm geometry . <span class="hljs-number"><span class="hljs-number">1024</span></span>x768 } #   wm title . <span class="hljs-string"><span class="hljs-string">"1C Rac GUI"</span></span> wm iconname . <span class="hljs-string"><span class="hljs-string">"1C Rac Gui"</span></span> #   (   lib/imges.tcl) wm iconphoto . tcl wm protocol . WM_DELETE_WINDOW Quit wm overrideredirect . <span class="hljs-number"><span class="hljs-number">0</span></span> wm positionfrom . user ttk::style theme use clam #   set frm_tool [frame .frm_tool] pack $frm_tool -side left -fill y ttk::panedwindow .<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> -orient horizontal -style TPanedwindow pack .<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> -expand true -fill both pack propagate .<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> false ttk::<span class="hljs-keyword"><span class="hljs-keyword">button</span></span> $frm_tool.btn_add -command Add -<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> add_grey_32 ttk::<span class="hljs-keyword"><span class="hljs-keyword">button</span></span> $frm_tool.btn_del -command Del -<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> del_grey_32 ttk::<span class="hljs-keyword"><span class="hljs-keyword">button</span></span> $frm_tool.btn_edit -command Edit -<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> edit_grey_32 ttk::<span class="hljs-keyword"><span class="hljs-keyword">button</span></span> $frm_tool.btn_quit -command Quit -<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> quit_grey_32 pack $frm_tool.btn_add $frm_tool.btn_del $frm_tool.btn_edit -side top -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> pack $frm_tool.btn_quit -side bottom -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> #     set frm_tree [frame .frm_tree] ttk::scrollbar $frm_tree.hsb1 -orient horizontal -command [list $frm_tree.tree xview] ttk::scrollbar $frm_tree.vsb1 -orient vertical -command [list $frm_tree.tree yview] set tree [ttk::treeview $frm_tree.tree -show tree \ -xscrollcommand [list $frm_tree.hsb1 set] -yscrollcommand [list $frm_tree.vsb1 set]] <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $tree -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nsew <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm_tree.vsb1 -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm_tree.hsb1 -row <span class="hljs-number"><span class="hljs-number">1</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nsew <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> columnconfigure $frm_tree <span class="hljs-number"><span class="hljs-number">0</span></span> -weight <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> rowconfigure $frm_tree <span class="hljs-number"><span class="hljs-number">0</span></span> -weight <span class="hljs-number"><span class="hljs-number">1</span></span> #      bind $frm_tree.tree &lt;ButtonRelease&gt; <span class="hljs-string"><span class="hljs-string">"TreePress $frm_tree.tree"</span></span> #    () set frm_work [frame .frm_work] ttk::scrollbar $frm_work.hsb -orient horizontal -command [list $frm_work.tree_work xview] ttk::scrollbar $frm_work.vsb -orient vertical -command [list $frm_work.tree_work yview] set tree_work [ ttk::treeview $frm_work.tree_work \ -show headings -columns <span class="hljs-string"><span class="hljs-string">"par val"</span></span> -displaycolumns <span class="hljs-string"><span class="hljs-string">"par val"</span></span>\ -xscrollcommand [list $frm_work.hsb set] \ -yscrollcommand [list $frm_work.vsb set] ] #       $tree_work tag configure dark -background $color(dark_table_bg) $tree_work tag configure light -background $color(light_table_bg) #     <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $tree_work -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nsew <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm_work.vsb -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm_work.hsb -row <span class="hljs-number"><span class="hljs-number">1</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nsew <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> columnconfigure $frm_work <span class="hljs-number"><span class="hljs-number">0</span></span> -weight <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> rowconfigure $frm_work <span class="hljs-number"><span class="hljs-number">0</span></span> -weight <span class="hljs-number"><span class="hljs-number">1</span></span> pack $frm_tree $frm_work -side left -expand true -fill both #.<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> add $frm_tool -weight <span class="hljs-number"><span class="hljs-number">1</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> add $frm_tree -weight <span class="hljs-number"><span class="hljs-number">1</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">panel</span></span> add $frm_work -weight <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br></div></div><br>  ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§≤‡•ç‡§ó‡•ã‡§∞‡§ø‡§•‡•ç‡§Æ ‡§á‡§∏ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§π‡•à: <br><br>  1. ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§Æ‡•á‡§Ç, ‡§Ü‡§™‡§ï‡•ã ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§∏‡§∞‡•ç‡§µ‡§∞ (‡§Ø‡§æ‡§®‡•Ä, ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§∏‡§∞‡•ç‡§µ‡§∞ (linux ‡§Æ‡•á‡§Ç, ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•ã "" /opt / 1C/v8.3/x86_64/ras ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞-daemon ") ‡§∏‡•á ‡§ú‡•ã‡§°‡§º‡§®‡§æ ‡§π‡•ã‡§ó‡§æ‡•§ <br><br>  ‡§ê‡§∏‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, "+" ‡§¨‡§ü‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§ñ‡•Å‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§Æ‡•á‡§Ç, ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§™‡§§‡§æ ‡§î‡§∞ ‡§™‡•ã‡§∞‡•ç‡§ü ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/797/a05/385/797a05385f32c2155465159783107292.png" alt="‡§õ‡§µ‡§ø"><br><br>  ‡§â‡§∏‡§ï‡•á ‡§¨‡§æ‡§¶, ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§â‡§∏ ‡§ü‡•ç‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§§‡§æ ‡§π‡•à ‡§ú‡§ø‡§∏ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á, ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞‡•ç‡§∏ ‡§ï‡•Ä ‡§è‡§ï ‡§∏‡•Ç‡§ö‡•Ä ‡§ñ‡•Å‡§≤‡§§‡•Ä ‡§π‡•à ‡§Ø‡§æ ‡§è‡§ï ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§ <br><br>  2. ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§®‡§æ‡§Æ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á, ‡§á‡§∏‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§è‡§ï ‡§∏‡•Ç‡§ö‡•Ä ‡§ñ‡•Å‡§≤ ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§ <br><br>  3. ... <br><br>  ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§î‡§∞ ‡§á‡§§‡§®‡•á ‡§™‡§∞, ‡§Ö‡§∞‡•ç‡§•‡§æ‡§§‡•ç‡•§  ‡§®‡§Ø‡§æ ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§∏‡•Ç‡§ö‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§ï‡§æ ‡§ö‡§Ø‡§® ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§ü‡•Ç‡§≤‡§¨‡§æ‡§∞ ‡§Æ‡•á‡§Ç + ‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§®‡§Ø‡§æ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§Ç‡§µ‡§æ‡§¶ ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§ó‡§æ: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/beb/9b9/1a6/beb9b91a676ff556da29256fb37b78b3.png" alt="‡§õ‡§µ‡§ø"></a> <br><br>  ‡§ü‡•Ç‡§≤‡§¨‡§æ‡§∞ ‡§ï‡•á ‡§¨‡§ü‡§® ‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§Ö‡§∞‡•ç‡§•‡§æ‡§§‡•ç‡•§  ‡§™‡•á‡§°‡§º ‡§Ø‡§æ ‡§∏‡•Ç‡§ö‡•Ä ‡§ï‡•á ‡§ï‡§ø‡§∏ ‡§§‡§§‡•ç‡§µ ‡§ï‡§æ ‡§ö‡§Ø‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, ‡§á‡§∏ ‡§Ø‡§æ ‡§â‡§∏ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ‡•§ <br><br>  ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§ê‡§° ‡§¨‡§ü‡§® ("+") ‡§™‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç: <br><br>  ‡§¨‡§ü‡§® ‡§™‡•Ä‡§¢‡§º‡•Ä ‡§ï‡•ã‡§°: <br><br><pre> <code class="hljs mel">ttk::<span class="hljs-keyword"><span class="hljs-keyword">button</span></span> $frm_tool.btn_add -command Add -<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> add_grey_32</code> </pre> <br>  ‡§Ø‡§π‡§æ‡§Ç ‡§π‡§Æ ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§ú‡§¨ ‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, ‡§§‡•ã ‡§ê‡§° ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡•Ä ‡§ú‡§æ‡§è‡§ó‡•Ä, ‡§á‡§∏‡§ï‡§æ ‡§ï‡•ã‡§°: <br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> Add {} { <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> active_cluster host #     set id [.frm_tree.tree selection] #     set values [.frm_tree.tree item [.frm_tree.tree selection] -values] set key [lindex [split $id <span class="hljs-string"><span class="hljs-string">"::"</span></span>] <span class="hljs-number"><span class="hljs-number">0</span></span>] #           <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {$key eq <span class="hljs-string"><span class="hljs-string">""</span></span> || $key eq <span class="hljs-string"><span class="hljs-string">"server"</span></span>} { set host [ Add::server ] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } Add::$key .frm_tree.tree $host $values }</code> </pre> <br>  ‡§§‡•ã ‡§ó‡•Å‡§¶‡§ó‡•Å‡§¶‡•Ä ‡§ï‡•á ‡§´‡§æ‡§Ø‡§¶‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§è‡§ï ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§§‡§æ ‡§π‡•à - ‡§Ü‡§™ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§®‡§æ‡§Æ ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§ö‡§∞ ‡§ï‡•á ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§ï‡•ã ‡§™‡§æ‡§∞‡§ø‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç: <br><br><pre> <code class="hljs ruby">Add::$key .frm_tree.tree $host $values</code> </pre> <br>  ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Ø‡§¶‡§ø ‡§π‡§Æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§™‡§∞ ‡§™‡•ç‡§∞‡§π‡§æ‡§∞ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ "+" ‡§¶‡§¨‡§æ‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§ú‡•ã‡§°‡§º‡•á‡§Ç :: ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§≤‡•â‡§®‡•ç‡§ö ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ, ‡§Ø‡§¶‡§ø ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡•á‡§Ç :: ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§î‡§∞ ‡§á‡§∏‡•Ä ‡§§‡§∞‡§π (‡§Æ‡•à‡§Ç ‡§•‡•ã‡§°‡§º‡§æ ‡§≤‡§ø‡§ñ‡•Ç‡§Ç‡§ó‡§æ ‡§ï‡§ø ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï "‡§ö‡§æ‡§¨‡§ø‡§Ø‡§æ‡§Å" ‡§ï‡§π‡§æ‡§Ç ‡§∏‡•á ‡§Ü‡§§‡•Ä ‡§π‡•à‡§Ç‡•§ ‡§®‡•Ä‡§ö‡•á), ‡§∏‡•Ç‡§ö‡•Ä‡§¨‡§¶‡•ç‡§ß ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç ‡§ó‡•ç‡§∞‡§æ‡§´‡§ø‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç‡•§ <br><br>  ‡§ú‡•à‡§∏‡§æ ‡§ï‡§ø ‡§Ü‡§™‡§®‡•á ‡§¶‡•á‡§ñ‡§æ ‡§π‡•ã‡§ó‡§æ, ‡§´‡•â‡§∞‡•ç‡§Æ ‡§∂‡•à‡§≤‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§æ‡§® ‡§π‡•à‡§Ç - ‡§Ø‡§π ‡§Ü‡§∂‡•ç‡§ö‡§∞‡•ç‡§Ø ‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§µ‡•á ‡§è‡§ï ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç, ‡§Ö‡§ß‡§ø‡§ï ‡§∏‡§ü‡•Ä‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§´‡•â‡§∞‡•ç‡§Æ ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§´‡•ç‡§∞‡•á‡§Æ (‡§µ‡§ø‡§Ç‡§°‡•ã, ‡§¨‡§ü‡§®, ‡§õ‡§µ‡§ø, ‡§≤‡•á‡§¨‡§≤), ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ <div class="spoiler">  <b class="spoiler_title">AddTopLevel</b> <div class="spoiler_text"><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> AddToplevel {lbl img {win_name .add}} { set cmd <span class="hljs-string"><span class="hljs-string">"destroy $win_name"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [winfo <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> $win_name] {destroy $win_name} toplevel $win_name wm title $win_name $lbl wm iconphoto $win_name tcl #    ttk::label $win_name.lbl -<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> $img #     set frm [ttk::labelframe $win_name.frm -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> $lbl -labelanchor nw] <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> columnconfigure $frm <span class="hljs-number"><span class="hljs-number">0</span></span> -weight <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> rowconfigure $frm <span class="hljs-number"><span class="hljs-number">0</span></span> -weight <span class="hljs-number"><span class="hljs-number">1</span></span> #    set frm_btn [frame $win_name.frm_btn -border <span class="hljs-number"><span class="hljs-number">0</span></span>] ttk::<span class="hljs-keyword"><span class="hljs-keyword">button</span></span> $frm_btn.btn_ok -<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> ok_grey_24 -command { } ttk::<span class="hljs-keyword"><span class="hljs-keyword">button</span></span> $frm_btn.btn_cancel -command $cmd -<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> quit_grey_24 <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $win_name.lbl -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm_btn -row <span class="hljs-number"><span class="hljs-number">1</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky se -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> pack $frm_btn.btn_cancel -side right pack $frm_btn.btn_ok -side right -padx <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $frm }</code> </pre><br></div></div><br>  ‡§ï‡•â‡§≤ ‡§™‡•à‡§∞‡§æ‡§Æ‡•Ä‡§ü‡§∞: ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï, ‡§≤‡§æ‡§á‡§¨‡•ç‡§∞‡•á‡§∞‡•Ä ‡§∏‡•á ‡§Ü‡§á‡§ï‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§õ‡§µ‡§ø ‡§ï‡§æ ‡§®‡§æ‡§Æ (lib / images.tcl) ‡§î‡§∞ ‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§®‡§æ‡§Æ ‡§™‡•à‡§∞‡§æ‡§Æ‡•Ä‡§ü‡§∞ (‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü .add)‡•§  ‡§á‡§∏ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞, ‡§Ø‡§¶‡§ø ‡§π‡§Æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§î‡§∞ ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§∞‡•ã‡§ï‡•ç‡§§ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§≤‡•á‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§ï‡•â‡§≤ ‡§§‡§¶‡§®‡•Å‡§∏‡§æ‡§∞ ‡§π‡•ã‡§ó‡§æ: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">AddToplevel</span></span> <span class="hljs-string"><span class="hljs-string">"  "</span></span> server_grey_64</code> </pre> <br>  ‡§Ø‡§æ <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">AddToplevel</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> cluster_grey_64</code> </pre> <br>  ‡§ñ‡•à‡§∞, ‡§á‡§® ‡§â‡§¶‡§æ‡§π‡§∞‡§£‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡§§‡•á ‡§π‡•Å‡§è ‡§Æ‡•à‡§Ç ‡§â‡§® ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§¶‡§ø‡§ñ‡§æ‡§ä‡§Ç‡§ó‡§æ ‡§ú‡•ã ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§Ø‡§æ ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ê‡§° ‡§∏‡§Ç‡§µ‡§æ‡§¶ ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§ <br><br><div class="spoiler">  <b class="spoiler_title">:: ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</b> <div class="spoiler_text"><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> Add::server {} { <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> #    set frm [AddToplevel <span class="hljs-string"><span class="hljs-string">"  "</span></span> server_grey_64] #         label $frm.lbl_host -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> entry $frm.ent_host label $frm.lbl_port -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> entry $frm.ent_port $frm.ent_port insert end $default(port) <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_host -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_host -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_port -row <span class="hljs-number"><span class="hljs-number">1</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_port -row <span class="hljs-number"><span class="hljs-number">1</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> columnconfigure $frm <span class="hljs-number"><span class="hljs-number">0</span></span> -weight <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> rowconfigure $frm <span class="hljs-number"><span class="hljs-number">0</span></span> -weight <span class="hljs-number"><span class="hljs-number">1</span></span> #set frm_btn [frame .add.frm_btn -border <span class="hljs-number"><span class="hljs-number">0</span></span>] #     .add.frm_btn.btn_ok configure -command { set host [SaveMainServer [.add.frm.ent_host get] [.add.frm.ent_port get]] .frm_tree.tree insert {} end -id <span class="hljs-string"><span class="hljs-string">"server::$host"</span></span> -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"$host"</span></span> -values <span class="hljs-string"><span class="hljs-string">"$host"</span></span> destroy .add <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $host } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $frm }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">‡§ú‡•ã‡§°‡§º‡•á‡§Ç :: ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞</b> <div class="spoiler_text"><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> Add::<span class="hljs-keyword"><span class="hljs-keyword">cluster</span></span> {tree host values} { <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> lifetime_limit expiration_timeout session_fault_tolerance_level <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> max_memory_size max_memory_time_limit errors_count_threshold security_level <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> load_balancing_mode kill_problem_processes \ agent_user agent_pwd cluster_user cluster_pwd auth_agent <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {$agent_user ne <span class="hljs-string"><span class="hljs-string">""</span></span> &amp;&amp; $agent_pwd ne <span class="hljs-string"><span class="hljs-string">""</span></span>} { set auth_agent <span class="hljs-string"><span class="hljs-string">"--agent-user=$agent_user --agent-pwd=$agent_pwd"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { set auth_agent <span class="hljs-string"><span class="hljs-string">""</span></span> } #    () set lifetime_limit $default(lifetime_limit) set expiration_timeout $default(expiration_timeout) set session_fault_tolerance_level $default(session_fault_tolerance_level) set max_memory_size $default(max_memory_size) set max_memory_time_limit $default(max_memory_time_limit) set errors_count_threshold $default(errors_count_threshold) set security_level [lindex $default(security_level) <span class="hljs-number"><span class="hljs-number">0</span></span>] set load_balancing_mode [lindex $default(load_balancing_mode) <span class="hljs-number"><span class="hljs-number">0</span></span>] set frm [AddToplevel <span class="hljs-string"><span class="hljs-string">" "</span></span> cluster_grey_64] label $frm.lbl_host -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"  "</span></span> entry $frm.ent_host label $frm.lbl_port -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> entry $frm.ent_port $frm.ent_port insert end $default(port) label $frm.lbl_name -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> entry $frm.ent_name label $frm.lbl_secure_connect -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> ttk::combobox $frm.cb_security_level -textvariable security_level -values $default(security_level) label $frm.lbl_expiration_timeout -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"   :"</span></span> entry $frm.ent_expiration_timeout -textvariable expiration_timeout label $frm.lbl_session_fault_tolerance_level -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> entry $frm.ent_session_fault_tolerance_level -textvariable session_fault_tolerance_level label $frm.lbl_load_balancing_mode -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"  "</span></span> ttk::combobox $frm.cb_load_balancing_mode -textvariable load_balancing_mode \ -values $default(load_balancing_mode) label $frm.lbl_errors_count_threshold -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"    , %"</span></span> entry $frm.ent_errors_count_threshold -textvariable errors_count_threshold label $frm.lbl_processes -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">" :"</span></span> label $frm.lbl_lifetime_limit -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">" , ."</span></span> entry $frm.ent_lifetime_limit -textvariable lifetime_limit label $frm.lbl_max_memory_size -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"  , "</span></span> entry $frm.ent_max_memory_size -textvariable max_memory_size label $frm.lbl_max_memory_time_limit -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"    , ."</span></span> entry $frm.ent_max_memory_time_limit -textvariable max_memory_time_limit label $frm.lbl_kill_problem_processes -justify left -anchor nw -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"   "</span></span> checkbutton $frm.check_kill_problem_processes -variable kill_problem_processes -onvalue yes -offvalue no <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_host -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_host -row <span class="hljs-number"><span class="hljs-number">0</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_port -row <span class="hljs-number"><span class="hljs-number">1</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_port -row <span class="hljs-number"><span class="hljs-number">1</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_name -row <span class="hljs-number"><span class="hljs-number">2</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_name -row <span class="hljs-number"><span class="hljs-number">2</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_secure_connect -row <span class="hljs-number"><span class="hljs-number">3</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.cb_security_level -row <span class="hljs-number"><span class="hljs-number">3</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_expiration_timeout -row <span class="hljs-number"><span class="hljs-number">4</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_expiration_timeout -row <span class="hljs-number"><span class="hljs-number">4</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_session_fault_tolerance_level -row <span class="hljs-number"><span class="hljs-number">5</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_session_fault_tolerance_level -row <span class="hljs-number"><span class="hljs-number">5</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_load_balancing_mode -row <span class="hljs-number"><span class="hljs-number">6</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.cb_load_balancing_mode -row <span class="hljs-number"><span class="hljs-number">6</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_errors_count_threshold -row <span class="hljs-number"><span class="hljs-number">7</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_errors_count_threshold -row <span class="hljs-number"><span class="hljs-number">7</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_processes -row <span class="hljs-number"><span class="hljs-number">8</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_lifetime_limit -row <span class="hljs-number"><span class="hljs-number">9</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_lifetime_limit -row <span class="hljs-number"><span class="hljs-number">9</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_max_memory_size -row <span class="hljs-number"><span class="hljs-number">10</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_max_memory_size -row <span class="hljs-number"><span class="hljs-number">10</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_max_memory_time_limit -row <span class="hljs-number"><span class="hljs-number">11</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.ent_max_memory_time_limit -row <span class="hljs-number"><span class="hljs-number">11</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nsew -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.lbl_kill_problem_processes -row <span class="hljs-number"><span class="hljs-number">12</span></span> -column <span class="hljs-number"><span class="hljs-number">0</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">grid</span></span> $frm.check_kill_problem_processes -row <span class="hljs-number"><span class="hljs-number">12</span></span> -column <span class="hljs-number"><span class="hljs-number">1</span></span> -sticky nw -padx <span class="hljs-number"><span class="hljs-number">5</span></span> -pady <span class="hljs-number"><span class="hljs-number">5</span></span> #   .add.frm_btn.btn_ok configure -command { RunCommand <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-string"><span class="hljs-string">"cluster insert \ --host=[.add.frm.ent_host get] \ --port=[.add.frm.ent_port get] \ --name=[.add.frm.ent_name get] \ --expiration-timeout=$expiration_timeout \ --lifetime-limit=$lifetime_limit \ --max-memory-size=$max_memory_size \ --max-memory-time-limit=$max_memory_time_limit \ --security-level=$security_level \ --session-fault-tolerance-level=$session_fault_tolerance_level \ --load-balancing-mode=$load_balancing_mode \ --errors-count-threshold=$errors_count_threshold \ --kill-problem-processes=$kill_problem_processes \ $auth_agent $host"</span></span> Run::server $tree $host <span class="hljs-string"><span class="hljs-string">""</span></span> destroy .add } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $frm }</code> </pre> <br></div></div><br>  ‡§á‡§® ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§ï‡•ã‡§° ‡§ï‡•Ä ‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡§§‡•á ‡§∏‡§Æ‡§Ø, ‡§Ö‡§Ç‡§§‡§∞ ‡§®‡§ó‡•ç‡§® ‡§Ü‡§Ç‡§ñ‡•ã‡§Ç ‡§∏‡•á ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§§‡§æ ‡§π‡•à, ‡§Æ‡•à‡§Ç ‡§†‡•Ä‡§ï ‡§¨‡§ü‡§® ‡§ï‡•á ‡§π‡•à‡§Ç‡§°‡§≤‡§∞ ‡§™‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡•Ç‡§Ç‡§ó‡§æ‡•§  ‡§ü‡•Ä‡§ï‡•á ‡§Æ‡•á‡§Ç, ‡§ó‡•ç‡§∞‡§æ‡§´‡§ø‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•á ‡§ó‡•Å‡§£‡•ã‡§Ç ‡§ï‡•ã <i>‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞</i> ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§∞‡§®‡§ü‡§æ‡§á‡§Æ ‡§™‡§∞ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§  ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§¨‡§ü‡§® ‡§Ü‡§â‡§ü‡§™‡•Å‡§ü ‡§ï‡§Æ‡§æ‡§Ç‡§°: <br><br><pre> <code class="hljs mel">ttk::<span class="hljs-keyword"><span class="hljs-keyword">button</span></span> $frm_btn.btn_ok -<span class="hljs-keyword"><span class="hljs-keyword">image</span></span> ok_grey_24 -command { }</code> </pre> <br>  ‡§≤‡•á‡§ï‡§ø‡§® ‡§π‡§Æ‡§æ‡§∞‡•á ‡§∞‡•Ç‡§™‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§™‡§∞ ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="hljs bash"> .add.frm_btn.btn_ok configure -<span class="hljs-built_in"><span class="hljs-built_in">command</span></span> { RunCommand <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-string"><span class="hljs-string">"cluster insert \ --host=[.add.frm.ent_host get] \ --port=[.add.frm.ent_port get] \ --name=[.add.frm.ent_name get] \ --expiration-timeout=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$expiration_timeout</span></span></span><span class="hljs-string"> \ --lifetime-limit=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$lifetime_limit</span></span></span><span class="hljs-string"> \ --max-memory-size=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$max_memory_size</span></span></span><span class="hljs-string"> \ --max-memory-time-limit=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$max_memory_time_limit</span></span></span><span class="hljs-string"> \ --security-level=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$security_level</span></span></span><span class="hljs-string"> \ --session-fault-tolerance-level=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$session_fault_tolerance_level</span></span></span><span class="hljs-string"> \ --load-balancing-mode=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$load_balancing_mode</span></span></span><span class="hljs-string"> \ --errors-count-threshold=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$errors_count_threshold</span></span></span><span class="hljs-string"> \ --kill-problem-processes=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$kill_problem_processes</span></span></span><span class="hljs-string"> \ </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$auth_agent</span></span></span><span class="hljs-string"> </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$host</span></span></span><span class="hljs-string">"</span></span> Run::server <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> <span class="hljs-variable"><span class="hljs-variable">$host</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> destroy .add }</code> </pre><br>  ‡§â‡§™‡§∞‡•ã‡§ï‡•ç‡§§ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§Æ‡•á‡§Ç, "‡§≠‡§∞‡§æ ‡§π‡•Å‡§Ü" ‡§¨‡§ü‡§® ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ <br><br>  ‡§Ø‡§π‡§æ‡§Å ‡§Ø‡§π Tk ‡§Æ‡•á‡§Ç ‡§ó‡•ç‡§∞‡§æ‡§´‡§ø‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§¶‡§ø‡§∂‡§æ ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§µ‡§ø‡§∑‡§Ø‡§æ‡§Ç‡§§‡§∞ ‡§ï‡§∞‡§®‡•á ‡§≤‡§æ‡§Ø‡§ï ‡§π‡•à - ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§°‡•á‡§ü‡§æ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç (‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä, ‡§ï‡•â‡§Æ‡•ç‡§¨‡•ã‡§ï‡•ç‡§∏, ‡§ö‡•á‡§ï‡§¨‡§ü‡§®, ‡§á‡§§‡•ç‡§Ø‡§æ‡§¶‡§ø) ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§á‡§∏ ‡§§‡§∞‡§π ‡§ï‡•á ‡§è‡§ï ‡§™‡•à‡§∞‡§æ‡§Æ‡•Ä‡§ü‡§∞ ‡§ï‡•ã ‡§è‡§ï ‡§™‡§æ‡§† ‡§ö‡§∞ (textvariable) ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§™‡•á‡§∂ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§•‡§æ: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">entry</span></span> <span class="hljs-variable"><span class="hljs-variable">$frm</span></span>.ent_lifetime_limit -textvariable lifetime_limit</code> </pre> <br>  ‡§Ø‡§π ‡§ö‡§∞ ‡§µ‡•à‡§∂‡•ç‡§µ‡§ø‡§ï ‡§®‡§æ‡§Æ‡§∏‡•ç‡§•‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à ‡§î‡§∞ ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§  ‡§Ø‡§æ‡§®‡•Ä  ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§∏‡•á ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§ø‡§è ‡§ó‡§è ‡§™‡§æ‡§† ‡§ï‡•ã ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™‡§ï‡•ã ‡§ï‡•á‡§µ‡§≤ ‡§ö‡§∞ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∞‡•Ç‡§™ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§ï‡•ã ‡§™‡§¢‡§º‡§®‡§æ ‡§π‡•ã‡§ó‡§æ (‡§¨‡•á‡§∂‡§ï, ‡§¨‡§∂‡§∞‡•ç‡§§‡•á ‡§ï‡§ø ‡§Ø‡§π ‡§§‡§§‡•ç‡§µ ‡§¨‡§®‡§æ‡§§‡•á ‡§∏‡§Æ‡§Ø ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•ã)‡•§ <br><br>  ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§ø‡§è ‡§ó‡§è ‡§™‡§æ‡§† ‡§ï‡•ã ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§§‡§∞‡•Ä‡§ï‡§æ (‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü‡§ø ‡§ï‡•á ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è) ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡§æ ‡§π‡•à: <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.add</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.frm</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ent_name</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">get</span></span></code> </pre> <br>  ‡§á‡§® ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§µ‡§ø‡§ß‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§â‡§™‡§∞‡•ã‡§ï‡•ç‡§§ ‡§ï‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§ñ‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§ <br><br>  ‡§á‡§∏ ‡§¨‡§ü‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§§‡•á ‡§π‡•Å‡§è, ‡§á‡§∏ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§Æ‡•á‡§Ç, ‡§¶‡•å‡§°‡§º ‡§ï‡•á ‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§≤‡§æ‡§á‡§® ‡§ï‡•á ‡§∏‡§æ‡§• RunCommand ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§§‡§æ ‡§π‡•à: <br><br><pre> <code class="bash hljs">/opt/1C/v8.3/x86_64/rac cluster insert --host=localhost --port=1540 --name=dsdsds --expiration-timeout=0 --lifetime-limit=0 --max-memory-size=0 --max-memory-time-limit=0 --security-level=0 --session-fault-tolerance-level=0 --load-balancing-mode=performance --errors-count-threshold=0 --<span class="hljs-built_in"><span class="hljs-built_in">kill</span></span>-problem-processes=no localhost:1545</code> </pre> <br>  ‡§§‡•ã ‡§π‡§Æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§™‡§∞ ‡§Ü‡§è, ‡§ú‡•ã ‡§π‡§Æ‡§æ‡§∞‡•á ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Æ‡§æ‡§™‡§¶‡§Ç‡§°‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§¶‡•å‡§°‡§º ‡§ï‡•á ‡§∂‡•Å‡§≠‡§æ‡§∞‡§Ç‡§≠ ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§∏‡§æ‡§• ‡§π‡•Ä ‡§Ü‡§¶‡•á‡§∂‡•ã‡§Ç ‡§ï‡•á ‡§Ü‡§â‡§ü‡§™‡•Å‡§ü ‡§ï‡•ã ‡§∏‡•Ç‡§ö‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§Ø‡§¶‡§ø ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•ã ‡§§‡•ã ‡§¶‡•á‡§§‡§æ ‡§π‡•à: <br><br><div class="spoiler">  <b class="spoiler_title">RunCommand</b> <div class="spoiler_text"><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> RunCommand {root par} { <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> dir rac_cmd <span class="hljs-keyword"><span class="hljs-keyword">cluster</span></span> work_list_row_count agent_user agent_pwd cluster_user cluster_pwd puts <span class="hljs-string"><span class="hljs-string">"$rac_cmd $par"</span></span> set work_list_row_count <span class="hljs-number"><span class="hljs-number">0</span></span> #      # $rac -     # $par -      set pipe [open <span class="hljs-string"><span class="hljs-string">"|$rac_cmd $par"</span></span> <span class="hljs-string"><span class="hljs-string">"r"</span></span>] try { set lst <span class="hljs-string"><span class="hljs-string">""</span></span> set l <span class="hljs-string"><span class="hljs-string">""</span></span> #       <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> {[gets $pipe line]&gt;=<span class="hljs-number"><span class="hljs-number">0</span></span>} { #puts $line <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {$line eq <span class="hljs-string"><span class="hljs-string">""</span></span>} { lappend l $lst set lst <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { lappend lst [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> $line] } } close $pipe <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $l } on <span class="hljs-keyword"><span class="hljs-keyword">error</span></span> {result options} { #    ErrorParcing $result $options <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> } }</code> </pre> <br></div></div><br>  ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•á ‡§°‡•á‡§ü‡§æ ‡§ï‡•ã ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶, ‡§á‡§∏‡•á ‡§™‡•á‡§°‡§º ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ, ‡§á‡§∏‡§ï‡•á ‡§≤‡§ø‡§è, ‡§â‡§™‡§∞‡•ã‡§ï‡•ç‡§§ Add: server ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç, ‡§®‡§ø‡§Æ‡•ç‡§® ‡§ï‡•ã‡§° ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§π‡•à: <br><br><pre> <code class="hljs powershell">.frm_tree.tree insert {} <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"server::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$host</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$host</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$host</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br>  ‡§Ö‡§¨, ‡§ü‡•ç‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§®‡§æ‡§Æ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞, ‡§π‡§Æ‡•á‡§Ç ‡§â‡§∏ ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ï‡•Ä ‡§è‡§ï ‡§∏‡•Ç‡§ö‡•Ä ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§π‡•à, ‡§î‡§∞ ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞, ‡§π‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç (‡§∏‡§∞‡•ç‡§µ‡§∞, ‡§á‡§®‡•ç‡§´‡•ã‡§¨‡•á‡§∏, ‡§Ü‡§¶‡§ø) ‡§ï‡•Ä ‡§è‡§ï ‡§∏‡•Ç‡§ö‡•Ä ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§π‡•à‡•§  ‡§Ø‡§π ‡§ü‡•ç‡§∞‡•Ä‡§™‡•ç‡§∞‡•á‡§∏ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à (‡§´‡§º‡§æ‡§á‡§≤ lib / function.tcl): <br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> TreePress {tree} { <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> host server active_cluster infobase #    set id [$tree selection] #     SetGlobalVarFromTreeItems $tree $id #    , ..     set values [$tree item $id -values] set key [lindex [split $id <span class="hljs-string"><span class="hljs-string">"::"</span></span>] <span class="hljs-number"><span class="hljs-number">0</span></span>] #            #    Run Run::$key $tree $host $values }</code> </pre> <br>  ‡§§‡§¶‡§®‡•Å‡§∏‡§æ‡§∞, ‡§∞‡§® :: ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§ó‡§æ (‡§∞‡§® :: ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞, ‡§∞‡§® :: ‡§µ‡§∞‡•ç‡§ï_‡§∏‡•á‡§µ‡§∞, ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§∂‡§® ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§¶‡§ø)‡•§  ‡§Ø‡§æ‡§®‡•Ä  $ ‡§ï‡•Å‡§Ç‡§ú‡•Ä ‡§ö‡§∞ ‡§ï‡§æ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø <i>-id</i> ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§®‡§ø‡§∞‡•ç‡§¶‡§ø‡§∑‡•ç‡§ü ‡§™‡•á‡§°‡§º ‡§§‡§§‡•ç‡§µ ‡§®‡§æ‡§Æ ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§π‡•à‡•§ <br><br>  ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§™‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§Ç <br><br><div class="spoiler">  <b class="spoiler_title">‡§∞‡§® :: ‡§∏‡§∞‡•ç‡§µ‡§∞</b> <div class="spoiler_text"><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> Run::server {tree host values} { #      set lst [RunCommand server::$host <span class="hljs-string"><span class="hljs-string">"cluster list $host"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {$lst eq <span class="hljs-string"><span class="hljs-string">""</span></span>} {<span class="hljs-keyword"><span class="hljs-keyword">return</span></span>} set l [lindex $lst <span class="hljs-number"><span class="hljs-number">0</span></span>] #puts $lst #     .frm_work.tree_work <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> [ .frm_work.tree_work children {}] #   foreach cluster_list $lst { #     InsertItemsWorkList $cluster_list #   ()      foreach i $cluster_list { #puts $i set cluster_list [split $i <span class="hljs-string"><span class="hljs-string">":"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> [lindex $cluster_list <span class="hljs-number"><span class="hljs-number">0</span></span>]] eq <span class="hljs-string"><span class="hljs-string">"cluster"</span></span>} { set cluster_id [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> [lindex $cluster_list <span class="hljs-number"><span class="hljs-number">1</span></span>]] lappend <span class="hljs-keyword"><span class="hljs-keyword">cluster</span></span>($cluster_id) $cluster_id } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> [lindex $cluster_list <span class="hljs-number"><span class="hljs-number">0</span></span>]] eq <span class="hljs-string"><span class="hljs-string">"name"</span></span>} { lappend <span class="hljs-keyword"><span class="hljs-keyword">cluster</span></span>($cluster_id) [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> [lindex $cluster_list <span class="hljs-number"><span class="hljs-number">1</span></span>]] } } } #     foreach x [array names <span class="hljs-keyword"><span class="hljs-keyword">cluster</span></span>] { set id [lindex $cluster($x) <span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> { [$tree <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> <span class="hljs-string"><span class="hljs-string">"cluster::$id"</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span> } { $tree insert <span class="hljs-string"><span class="hljs-string">"server::$host"</span></span> end -id <span class="hljs-string"><span class="hljs-string">"cluster::$id"</span></span> -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">"[lindex $cluster($x) 1]"</span></span> -values <span class="hljs-string"><span class="hljs-string">"$id"</span></span> #     InsertClusterItems $tree $id } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> { [$tree <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> <span class="hljs-string"><span class="hljs-string">"agent_admins::$id"</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span> } { $tree insert <span class="hljs-string"><span class="hljs-string">"server::$host"</span></span> end -id <span class="hljs-string"><span class="hljs-string">"agent_admins::$id"</span></span> -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> -values <span class="hljs-string"><span class="hljs-string">"$id"</span></span> #InsertClusterItems $tree $id } }</code> </pre> <br></div></div><br>  ‡§Ø‡§π ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ RunCommand ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§∏‡•á ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡•Ä ‡§ó‡§à ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§∏‡§Ç‡§∏‡§æ‡§ß‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à, ‡§î‡§∞ ‡§∏‡§≠‡•Ä ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•Ä ‡§ö‡•Ä‡§ú‡•ã‡§Ç ‡§ï‡•ã ‡§™‡•á‡§°‡§º ‡§∏‡•á ‡§ú‡•ã‡§°‡§º ‡§¶‡•á‡§§‡•Ä ‡§π‡•à - ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞, ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§∞‡•Ç‡§ü ‡§§‡§§‡•ç‡§µ (‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏, ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§∏‡§∞‡•ç‡§µ‡§∞, ‡§∏‡§§‡•ç‡§∞, ‡§î‡§∞ ‡§á‡§∏‡•Ä ‡§§‡§∞‡§π)‡•§  ‡§Ø‡§¶‡§ø ‡§Ü‡§™ ‡§¨‡§æ‡§∞‡•Ä‡§ï‡•Ä ‡§∏‡•á ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§Ü‡§™ ‡§ï‡•â‡§≤ ‡§ï‡•ã InsertItemsWorkList ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§®‡•ã‡§ü‡§ø‡§∏ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§  ‡§á‡§∏‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ó‡•ç‡§∞‡§æ‡§´‡§º‡§ø‡§ï ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, ‡§ï‡§Ç‡§∏‡•ã‡§≤ ‡§Ø‡•Ç‡§ü‡§ø‡§≤‡§ø‡§ü‡•Ä ‡§∞‡•á‡§∏ ‡§ï‡•á ‡§Ü‡§â‡§ü‡§™‡•Å‡§ü ‡§ï‡•ã ‡§∏‡§Ç‡§∏‡§æ‡§ß‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§è‡§ï ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§µ‡•á‡§∞‡§ø‡§è‡§¨‡§≤ $ s ‡§™‡§∞ ‡§≤‡•å‡§ü‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§•‡§æ‡•§  ‡§Ø‡§π ‡§â‡§® ‡§∏‡•Ç‡§ö‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§è‡§ï ‡§∏‡•Ç‡§ö‡•Ä ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§¨‡•É‡§π‡§¶‡§æ‡§®‡•ç‡§§‡•ç‡§∞ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§Ö‡§≤‡§ó ‡§ï‡§ø‡§è ‡§ó‡§è ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•á ‡§ú‡•ã‡§°‡§º‡•á ‡§π‡•à‡§Ç‡•§ <br><br>  ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ï‡•Ä ‡§è‡§ï ‡§∏‡•Ç‡§ö‡•Ä: <br><br><pre> <code class="hljs powershell">svk@svk ~]<span class="hljs-variable"><span class="hljs-variable">$</span></span> /opt/<span class="hljs-number"><span class="hljs-number">1</span></span>C/v8.<span class="hljs-number"><span class="hljs-number">3</span></span>/x86_64/rac connection list -<span class="hljs-literal"><span class="hljs-literal">-cluster</span></span>=<span class="hljs-number"><span class="hljs-number">783</span></span>d2170<span class="hljs-literal"><span class="hljs-literal">-56c3</span></span><span class="hljs-literal"><span class="hljs-literal">-11e8</span></span><span class="hljs-literal"><span class="hljs-literal">-c586</span></span><span class="hljs-literal"><span class="hljs-literal">-fc75165efbb2</span></span> localhost:<span class="hljs-number"><span class="hljs-number">1545</span></span> connection : dcf5991c<span class="hljs-literal"><span class="hljs-literal">-7d24</span></span><span class="hljs-literal"><span class="hljs-literal">-11e8</span></span><span class="hljs-literal"><span class="hljs-literal">-1690</span></span><span class="hljs-literal"><span class="hljs-literal">-fc75165efbb2</span></span> conn<span class="hljs-literal"><span class="hljs-literal">-id</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span> host : svk.home <span class="hljs-keyword"><span class="hljs-keyword">process</span></span> : <span class="hljs-number"><span class="hljs-number">79</span></span>de2e16<span class="hljs-literal"><span class="hljs-literal">-56c3</span></span><span class="hljs-literal"><span class="hljs-literal">-11e8</span></span><span class="hljs-literal"><span class="hljs-literal">-c586</span></span><span class="hljs-literal"><span class="hljs-literal">-fc75165efbb2</span></span> infobase : <span class="hljs-number"><span class="hljs-number">00000000</span></span><span class="hljs-literal"><span class="hljs-literal">-0000</span></span><span class="hljs-literal"><span class="hljs-literal">-0000</span></span><span class="hljs-literal"><span class="hljs-literal">-0000</span></span><span class="hljs-literal"><span class="hljs-literal">-000000000000</span></span> application : <span class="hljs-string"><span class="hljs-string">"JobScheduler"</span></span> connected<span class="hljs-literal"><span class="hljs-literal">-at</span></span> : <span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-literal"><span class="hljs-literal">-07</span></span><span class="hljs-literal"><span class="hljs-literal">-01T14</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span>:<span class="hljs-number"><span class="hljs-number">51</span></span> session<span class="hljs-literal"><span class="hljs-literal">-number</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span> blocked<span class="hljs-literal"><span class="hljs-literal">-by</span></span><span class="hljs-literal"><span class="hljs-literal">-ls</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span> connection : b993293a<span class="hljs-literal"><span class="hljs-literal">-7d24</span></span><span class="hljs-literal"><span class="hljs-literal">-11e8</span></span><span class="hljs-literal"><span class="hljs-literal">-1690</span></span><span class="hljs-literal"><span class="hljs-literal">-fc75165efbb2</span></span> conn<span class="hljs-literal"><span class="hljs-literal">-id</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span> host : svk.home <span class="hljs-keyword"><span class="hljs-keyword">process</span></span> : <span class="hljs-number"><span class="hljs-number">79</span></span>de2e16<span class="hljs-literal"><span class="hljs-literal">-56c3</span></span><span class="hljs-literal"><span class="hljs-literal">-11e8</span></span><span class="hljs-literal"><span class="hljs-literal">-c586</span></span><span class="hljs-literal"><span class="hljs-literal">-fc75165efbb2</span></span> infobase : <span class="hljs-number"><span class="hljs-number">00000000</span></span><span class="hljs-literal"><span class="hljs-literal">-0000</span></span><span class="hljs-literal"><span class="hljs-literal">-0000</span></span><span class="hljs-literal"><span class="hljs-literal">-0000</span></span><span class="hljs-literal"><span class="hljs-literal">-000000000000</span></span> application : <span class="hljs-string"><span class="hljs-string">"JobScheduler"</span></span> connected<span class="hljs-literal"><span class="hljs-literal">-at</span></span> : <span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-literal"><span class="hljs-literal">-07</span></span><span class="hljs-literal"><span class="hljs-literal">-01T14</span></span>:<span class="hljs-number"><span class="hljs-number">48</span></span>:<span class="hljs-number"><span class="hljs-number">52</span></span> session<span class="hljs-literal"><span class="hljs-literal">-number</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span> blocked<span class="hljs-literal"><span class="hljs-literal">-by</span></span><span class="hljs-literal"><span class="hljs-literal">-ls</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  ‡§ö‡§ø‡§§‡•ç‡§∞‡§Æ‡§Ø ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç, ‡§Ø‡§π ‡§ï‡•Å‡§õ ‡§á‡§∏ ‡§§‡§∞‡§π ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§ó‡§æ: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/664/71d/737/66471d73799b3fa2801e751afe1bf6c2.png" alt="‡§õ‡§µ‡§ø"></a> <br><br>  ‡§â‡§™‡§∞‡•ã‡§ï‡•ç‡§§ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§≤‡•á‡§ñ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•á ‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§§‡§æ‡§≤‡§ø‡§ï‡§æ ‡§ï‡•ã ‡§≠‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§°‡•á‡§ü‡§æ ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à: <br><br><div class="spoiler">  <b class="spoiler_title">InsertItemsWorkList</b> <div class="spoiler_text"><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> InsertItemsWorkList {lst} { <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> work_list_row_count #      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [expr $work_list_row_count % <span class="hljs-number"><span class="hljs-number">2</span></span>] { set tag dark } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { set tag light } #      -  foreach i $lst { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [regexp -nocase -all -- {(\D+)(\s*?|)(:)(\s*?|)(.*)} $i <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> param v2 v3 v4 value] { lappend column_list [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> $param] lappend value_list [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> $value] } } #   .frm_work.tree_work configure -columns $column_list -displaycolumns $column_list .frm_work.tree_work insert {} end -values $value_list -tags $tag .frm_work.tree_work column #<span class="hljs-number"><span class="hljs-number">0</span></span> -stretch #   foreach j $column_list { .frm_work.tree_work heading $j -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> $j } incr work_list_row_count }</code> </pre> <br></div></div><br>  ‡§Ø‡§π‡§æ‡§Ç, ‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•á ‡§¨‡§ú‡§æ‡§Ø [‡§∏‡•ç‡§™‡•ç‡§≤‡§ø‡§ü $ str ":"], ‡§ú‡•ã ":" ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§Ö‡§≤‡§ó ‡§ï‡§ø‡§è ‡§ó‡§è ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ç‡§ó ‡§ï‡•ã ‡§§‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§è‡§ï ‡§∏‡•Ç‡§ö‡•Ä ‡§¶‡•á‡§§‡§æ ‡§π‡•à, ‡§è‡§ï ‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§Ö‡§≠‡§ø‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§≤‡§æ‡§ó‡•Ç ‡§π‡•ã‡§§‡•Ä ‡§π‡•à, ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§ï‡•Å‡§õ ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§¨‡•É‡§π‡§¶‡§æ‡§®‡•ç‡§§‡•ç‡§∞ ‡§≠‡•Ä ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ <br><br>  InsertClusterItems ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ (‡§ï‡§à ‡§∏‡§Æ‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§è‡§ï) ‡§¨‡§∏ ‡§™‡•á‡§°‡§º ‡§Æ‡•á‡§Ç ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§§‡§§‡•ç‡§µ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§á‡§∏‡•Ä ‡§™‡§π‡§ö‡§æ‡§®‡§ï‡§∞‡•ç‡§§‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§¨‡§æ‡§≤ ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•Ä ‡§è‡§ï ‡§∏‡•Ç‡§ö‡•Ä ‡§ú‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à <br><div class="spoiler">  <b class="spoiler_title">InsertClusterItems</b> <div class="spoiler_text"><pre> <code class="hljs powershell">proc InsertClusterItems {tree id} { set parent <span class="hljs-string"><span class="hljs-string">"cluster::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"infobases::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"servers::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"admins::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"managers::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-variable"><span class="hljs-variable">$id</span></span> <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"processes::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"workprocess-all"</span></span> <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"sessions::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"sessions-all"</span></span> <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"locks::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"blocks-all"</span></span> <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"connections::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"connections-all"</span></span> <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"profiles::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-variable"><span class="hljs-variable">$id</span></span> }</code> </pre><br></div></div><br>  ‡§Ü‡§™ ‡§á‡§∏ ‡§§‡§∞‡§π ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡•ã ‡§î‡§∞ ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™‡•ã‡§Ç ‡§™‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§π‡§æ‡§Ç ‡§Ø‡§π ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§ó‡§æ ‡§ï‡§ø ‡§Ü‡§™ ‡§ï‡•à‡§∏‡•á ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§® ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§°‡•Å‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§ü ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§∏‡•á ‡§õ‡•Å‡§ü‡§ï‡§æ‡§∞‡§æ ‡§™‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç: <br><br>  ‡§á‡§∏ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç, ‡§ú‡•ã‡§°‡§º‡§®‡§æ ‡§î‡§∞ ‡§ú‡§æ‡§Å‡§ö ‡§Æ‡§æ‡§•‡•á ‡§™‡§∞ ‡§π‡§≤ ‡§ï‡•Ä ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à: <br><br><div class="spoiler">  <b class="spoiler_title">InsertBaseItems</b> <div class="spoiler_text"><pre> <code class="hljs powershell">proc InsertBaseItems {tree id} { set parent <span class="hljs-string"><span class="hljs-string">"infobase::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> { [<span class="hljs-variable"><span class="hljs-variable">$tree</span></span> <span class="hljs-type"><span class="hljs-type">exists</span></span> <span class="hljs-string"><span class="hljs-string">"sessions::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span> } { <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"sessions::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> { [<span class="hljs-variable"><span class="hljs-variable">$tree</span></span> <span class="hljs-type"><span class="hljs-type">exists</span></span> <span class="hljs-string"><span class="hljs-string">"locks::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span> } { <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"locks::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> { [<span class="hljs-variable"><span class="hljs-variable">$tree</span></span> <span class="hljs-type"><span class="hljs-type">exists</span></span> <span class="hljs-string"><span class="hljs-string">"connections::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span> } { <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-string"><span class="hljs-string">"connections::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> } }</code> </pre><br></div></div><br>  ‡§î‡§∞ ‡§Ø‡§π‡§æ‡§Å ‡§¶‡•É‡§∑‡•ç‡§ü‡§ø‡§ï‡•ã‡§£ ‡§Ö‡§ß‡§ø‡§ï ‡§∏‡§π‡•Ä ‡§π‡•à: <br><br><div class="spoiler">  <b class="spoiler_title">InsertProfileItems</b> <div class="spoiler_text"><pre> <code class="hljs powershell">proc InsertProfileItems {tree id} { set parent <span class="hljs-string"><span class="hljs-string">"profile::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> set lst { {dir <span class="hljs-string"><span class="hljs-string">" "</span></span>} {com <span class="hljs-string"><span class="hljs-string">" COM-"</span></span>} {addin <span class="hljs-string"><span class="hljs-string">" "</span></span>} {module <span class="hljs-string"><span class="hljs-string">"   "</span></span>} {app <span class="hljs-string"><span class="hljs-string">" "</span></span>} {inet <span class="hljs-string"><span class="hljs-string">" "</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> i <span class="hljs-variable"><span class="hljs-variable">$lst</span></span> { append item [<span class="hljs-type"><span class="hljs-type">lindex</span></span> <span class="hljs-variable"><span class="hljs-variable">$i</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-string"><span class="hljs-string">"::</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> { [<span class="hljs-variable"><span class="hljs-variable">$tree</span></span> <span class="hljs-type"><span class="hljs-type">exists</span></span> <span class="hljs-variable"><span class="hljs-variable">$item</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span> } { <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> insert <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-literal"><span class="hljs-literal">-id</span></span> <span class="hljs-variable"><span class="hljs-variable">$item</span></span> <span class="hljs-literal"><span class="hljs-literal">-text</span></span> [<span class="hljs-type"><span class="hljs-type">lindex</span></span> <span class="hljs-variable"><span class="hljs-variable">$i</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-literal"><span class="hljs-literal">-values</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">"</span></span> } unset item } }</code> </pre> <br></div></div><br>  ‡§â‡§®‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ï‡§æ ‡§Ö‡§Ç‡§§‡§∞ ‡§ö‡§ï‡•ç‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§¶‡•ã‡§π‡§∞‡§æ‡§Ø‡§æ ‡§ï‡§Æ‡§æ‡§Ç‡§° (‡§è‡§∏) ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§  ‡§°‡•á‡§µ‡§≤‡§™‡§∞ ‡§ï‡•á ‡§µ‡§ø‡§µ‡•á‡§ï ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•å‡§® ‡§∏‡§æ ‡§¶‡•É‡§∑‡•ç‡§ü‡§ø‡§ï‡•ã‡§£ ‡§π‡•à‡•§ <br><br>  ‡§π‡§Æ‡§®‡•á ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§î‡§∞ ‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§ø‡§Ø‡§æ, ‡§Ø‡§π ‡§∏‡§Ç‡§™‡§æ‡§¶‡§® ‡§™‡§∞ ‡§∞‡•ã‡§ï ‡§ï‡§æ ‡§∏‡§Æ‡§Ø ‡§π‡•à‡•§  ‡§ö‡•Ç‡§Ç‡§ï‡§ø, ‡§Æ‡•Ç‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á, ‡§∏‡§Ç‡§™‡§æ‡§¶‡§® ‡§î‡§∞ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§π‡•Ä ‡§™‡•à‡§∞‡§æ‡§Æ‡•Ä‡§ü‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à (‡§Ö‡§™‡§µ‡§æ‡§¶ infobase ‡§π‡•à), ‡§∏‡§Ç‡§µ‡§æ‡§¶ ‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§∏‡§Æ‡§æ‡§® ‡§π‡•à‡§Ç‡•§  ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•â‡§≤ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§á‡§∏ ‡§§‡§∞‡§π ‡§¶‡§ø‡§ñ‡§§‡•Ä ‡§π‡•à: <br><br>  <i>Add :: $ key-&gt; AddToplevel</i> <br><br>  ‡§î‡§∞ ‡§á‡§∏ ‡§§‡§∞‡§π ‡§∏‡§Ç‡§™‡§æ‡§¶‡§® ‡§ï‡•á ‡§≤‡§ø‡§è: <br><br>  <i>‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç :: $ ‡§ï‡•Å‡§Ç‡§ú‡•Ä-&gt; ‡§ú‡•ã‡§°‡§º‡•á‡§Ç :: $ ‡§ï‡•Å‡§Ç‡§ú‡•Ä-&gt; AddTopLevel</i> <br><br>  ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§è‡§ï ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§ï‡•ã ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§®‡§æ, ‡§Ö‡§∞‡•ç‡§•‡§æ‡§§‡•ç‡•§  ‡§ü‡•ç‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§®‡§æ‡§Æ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á, ‡§ü‡•Ç‡§≤‡§¨‡§æ‡§∞ (‡§™‡•á‡§Ç‡§∏‡§ø‡§≤) ‡§Æ‡•á‡§Ç ‡§è‡§°‡§ø‡§ü ‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§è‡§Å ‡§î‡§∞ ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§´‡•â‡§∞‡•ç‡§Æ ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§π‡•ã‡§ó‡§æ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2bc/7c7/42b/2bc7c742bc0d7edfb9286002c6740d38.png" alt="‡§õ‡§µ‡§ø"><br><div class="spoiler">  <b class="spoiler_title">‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç :: ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞</b> <div class="spoiler_text"><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> Edit::<span class="hljs-keyword"><span class="hljs-keyword">cluster</span></span> {tree host values} { <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> lifetime_limit expiration_timeout session_fault_tolerance_level <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> max_memory_size max_memory_time_limit errors_count_threshold security_level <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> load_balancing_mode kill_problem_processes active_cluster \ agent_user agent_pwd cluster_user cluster_pwd auth <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {$cluster_user ne <span class="hljs-string"><span class="hljs-string">""</span></span> &amp;&amp; $cluster_pwd ne <span class="hljs-string"><span class="hljs-string">""</span></span>} { set auth <span class="hljs-string"><span class="hljs-string">"--cluster-user=$cluster_user --cluster-pwd=$cluster_pwd"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { set auth <span class="hljs-string"><span class="hljs-string">""</span></span> } #     set frm [Add::<span class="hljs-keyword"><span class="hljs-keyword">cluster</span></span> $tree $host $values] #     $frm configure -<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> set active_cluster $values #      set lst [RunCommand <span class="hljs-keyword"><span class="hljs-keyword">cluster</span></span>::$values <span class="hljs-string"><span class="hljs-string">"cluster info --cluster=$active_cluster $host"</span></span>] #   FormFieldsDataInsert $frm $lst #  ,    $frm.ent_host configure -state <span class="hljs-keyword"><span class="hljs-keyword">disable</span></span> $frm.ent_port configure -state <span class="hljs-keyword"><span class="hljs-keyword">disable</span></span> #   .add.frm_btn.btn_ok configure -command { RunCommand <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-string"><span class="hljs-string">"cluster update \ --cluster=$active_cluster $auth \ --name=[.add.frm.ent_name get] \ --expiration-timeout=$expiration_timeout \ --lifetime-limit=$lifetime_limit \ --max-memory-size=$max_memory_size \ --max-memory-time-limit=$max_memory_time_limit \ --security-level=$security_level \ --session-fault-tolerance-level=$session_fault_tolerance_level \ --load-balancing-mode=$load_balancing_mode \ --errors-count-threshold=$errors_count_threshold \ --kill-problem-processes=$kill_problem_processes \ $auth $host"</span></span> $tree <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> <span class="hljs-string"><span class="hljs-string">"cluster::$active_cluster"</span></span> Run::server $tree $host <span class="hljs-string"><span class="hljs-string">""</span></span> destroy .add } }</code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§ï‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞, ‡§∏‡§ø‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§ ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç, ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§π‡•à, ‡§∏‡§ø‡§µ‡§æ‡§Ø ‡§á‡§∏‡§ï‡•á ‡§ï‡§ø ‡§¨‡§ü‡§® ‡§π‡•à‡§Ç‡§°‡§≤‡§∞ ‡§ï‡•ã‡§° ‡§ï‡•ã ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à ‡§î‡§∞ FormFieldsDataInsert ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§π‡•à, ‡§ú‡•ã ‡§°‡•á‡§ü‡§æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡§§‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§ö‡§∞ ‡§ï‡•ã ‡§Ü‡§∞‡§Ç‡§≠ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à: </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FormFieldsDataInsert</font></font></b> <div class="spoiler_text"><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> FormFieldsDataInsert {frm lst} { foreach i [lindex $lst <span class="hljs-number"><span class="hljs-number">0</span></span>] { #      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [regexp -nocase -all -- {(\D+)(\s*?|)(:)(\s*?|)(.*)} $i <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> param v2 v3 v4 value] { #   regsub -all -- <span class="hljs-string"><span class="hljs-string">"-"</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> $param] <span class="hljs-string"><span class="hljs-string">"_"</span></span> entry_name #   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [winfo <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> $frm.ent_$entry_name] { $frm.ent_$entry_name <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> end $frm.ent_$entry_name insert end [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> $value <span class="hljs-string"><span class="hljs-string">"\""</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [winfo <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> $frm.cb_$entry_name] { <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> $entry_name set $entry_name [<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">trim</span></span> $value <span class="hljs-string"><span class="hljs-string">"\""</span></span>] } #     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [winfo <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> $frm.check_$entry_name] { <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> $entry_name <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {$value eq <span class="hljs-string"><span class="hljs-string">"0"</span></span>} { set $entry_name no } elseif {$value eq <span class="hljs-string"><span class="hljs-string">"1"</span></span>} { set $entry_name yes } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { set $entry_name $value } } } } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§á‡§∏ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç, ‡§è‡§ï ‡§î‡§∞ ‡§™‡•ç‡§≤‡§∏ tcl ‡§∏‡§æ‡§Æ‡§®‡•á ‡§Ü‡§Ø‡§æ - ‡§Ö‡§®‡•ç‡§Ø ‡§ö‡§∞ ‡§ï‡•á ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§ö‡§∞ ‡§®‡§æ‡§Æ‡•ã‡§Ç ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§§‡§ø‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§ </font></font> ‡§Ø‡§æ‡§®‡•Ä<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§≠‡§∞‡§®‡•á ‡§î‡§∞ ‡§µ‡•á‡§∞‡§ø‡§è‡§¨‡§≤‡•ç‡§∏ ‡§ï‡•ã ‡§Ü‡§∞‡§Ç‡§≠ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§î‡§∞ ‡§µ‡•á‡§∞‡§ø‡§è‡§¨‡§≤‡•ç‡§∏ ‡§ï‡•á ‡§®‡§æ‡§Æ, ‡§∞‡•á‡§∏ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ø‡§§‡§æ ‡§ï‡•á ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§≤‡§æ‡§á‡§® ‡§∏‡•ç‡§µ‡§ø‡§ö ‡§î‡§∞ ‡§ï‡•Å‡§õ ‡§Ö‡§™‡§µ‡§æ‡§¶‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•á ‡§Ü‡§â‡§ü‡§™‡•Å‡§ü ‡§Æ‡§æ‡§™‡§¶‡§Ç‡§°‡•ã‡§Ç ‡§ï‡•á ‡§®‡§æ‡§Æ‡•ã‡§Ç ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∞‡•Ç‡§™ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç - ‡§°‡•à‡§∂ ‡§ï‡•ã ‡§Ö‡§Ç‡§°‡§∞‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§¨‡§¶‡§≤ ‡§¶‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§Ö‡§®‡•Å‡§∏‡•Ç‡§ö‡§ø‡§§-‡§ú‡•â‡§¨-‡§á‡§®‡§ï‡§æ‡§∞</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§∏‡•á ‡§Æ‡•á‡§≤ ‡§ñ‡§æ‡§§‡•Ä ‡§π‡•à </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ent_scheduled_jobs_deny</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§î‡§∞ ‡§ö‡§∞ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scheduled_jobs_deny</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡•§ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§î‡§∞ ‡§∏‡§Ç‡§™‡§æ‡§¶‡§® ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Ö‡§≤‡§ó-‡§Ö‡§≤‡§ó ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç, ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§∏‡•Ç‡§ö‡§®‡§æ ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡§æ: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§Ü‡§à‡§¨‡•Ä ‡§è‡§°‡§ø‡§Ç‡§ó ‡§Ü‡§à‡§¨‡•Ä ‡§ú‡•ã‡§°‡§º‡§®‡§æ </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/473/f5c/beb/473f5cbeb4815916e0e8988bc97b873f.png" alt="‡§õ‡§µ‡§ø"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§è‡§°‡§ø‡§ü‡§ø‡§Ç‡§ó </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e9d/3d9/ff5/e9d3d9ff549d90d5bd783bbbe8f25f57.png" alt="‡§õ‡§µ‡§ø"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:: ‡§á‡§®‡•ç‡§´‡•ã‡§¨‡•á‡§∏ ‡§∏‡§Ç‡§™‡§æ‡§¶‡§® ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç, ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§´‡§º‡•Ä‡§≤‡•ç‡§°‡•ç‡§∏ ‡§´‡•â‡§∞‡•ç‡§Æ ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡•á ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç, ‡§á‡§∏‡§≤‡§ø‡§è ‡§Æ‡•à‡§Ç ‡§á‡§∏‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§ï‡•ã‡§° ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§∏‡§æ‡§¶‡•É‡§∂‡•ç‡§Ø ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ, ‡§Ö‡§®‡•ç‡§Ø ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡•ã‡§°‡§º‡§®‡•á, ‡§∏‡§Ç‡§™‡§æ‡§¶‡§®, ‡§π‡§ü‡§æ‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡•Ä ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç‡•§ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§ö‡•Ç‡§Ç‡§ï‡§ø ‡§â‡§™‡§Ø‡•ã‡§ó‡§ø‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§Ö‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡§∞‡•ç‡§µ‡§∞, ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞, ‡§á‡§®‡•ç‡§´‡•ã‡§¨‡•á‡§∏ ‡§Ü‡§¶‡§ø ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡•ã ‡§Ø‡§π ‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∞‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§Ø‡§æ ‡§∏‡•Ç‡§ö‡§®‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡§ø‡§∏ ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à, ‡§ï‡§à ‡§µ‡•à‡§∂‡•ç‡§µ‡§ø‡§ï ‡§ö‡§∞ ‡§™‡•á‡§∂ ‡§ï‡§ø‡§è ‡§ó‡§è ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§®‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§Æ‡§æ‡§® ‡§π‡§∞ ‡§¨‡§æ‡§∞ ‡§™‡•á‡§°‡§º ‡§ï‡•á ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§∏‡•á‡§ü ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§</font></font> ‡§Ø‡§æ‡§®‡•Ä<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§™‡•Å‡§®: ‡§Æ‡•Ç‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∏‡§≠‡•Ä ‡§Æ‡•Ç‡§≤ ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§ö‡§≤‡§§‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§ö‡§∞ ‡§∏‡•á‡§ü ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à: </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SetGlobalVarFromTreeItems</font></font></b> <div class="spoiler_text"><pre> <code class="hljs powershell">proc SetGlobalVarFromTreeItems {tree id} { global host server active_cluster infobase set parent [<span class="hljs-variable"><span class="hljs-variable">$tree</span></span> <span class="hljs-type"><span class="hljs-type">parent</span></span> <span class="hljs-variable"><span class="hljs-variable">$id</span></span>] set values [<span class="hljs-variable"><span class="hljs-variable">$tree</span></span> <span class="hljs-type"><span class="hljs-type">item</span></span> <span class="hljs-variable"><span class="hljs-variable">$id</span></span> -<span class="hljs-type"><span class="hljs-type">values</span></span>] set key [<span class="hljs-type"><span class="hljs-type">lindex</span></span> [<span class="hljs-type"><span class="hljs-type">split</span></span> <span class="hljs-variable"><span class="hljs-variable">$id</span></span> <span class="hljs-string"><span class="hljs-string">"::"</span></span>] <span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> -- <span class="hljs-variable"><span class="hljs-variable">$key</span></span> { server {set host <span class="hljs-variable"><span class="hljs-variable">$values</span></span>} work_server {set server <span class="hljs-variable"><span class="hljs-variable">$values</span></span>} cluster {set active_cluster <span class="hljs-variable"><span class="hljs-variable">$values</span></span>} infobase {set infobase <span class="hljs-variable"><span class="hljs-variable">$values</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> {<span class="hljs-variable"><span class="hljs-variable">$parent</span></span> eq <span class="hljs-string"><span class="hljs-string">""</span></span>} { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { SetGlobalVarFromTreeItems <span class="hljs-variable"><span class="hljs-variable">$tree</span></span> <span class="hljs-variable"><span class="hljs-variable">$parent</span></span> } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 ‡§∏‡•Ä ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§Ü‡§™‡§ï‡•ã ‡§™‡•ç‡§∞‡§æ‡§ß‡§ø‡§ï‡§∞‡§£ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ø‡§æ ‡§â‡§∏‡§ï‡•á ‡§¨‡§ø‡§®‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§ </font><font style="vertical-align: inherit;">‡§¶‡•ã ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§ï ‡§π‡•à‡§Ç - ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§è‡§ú‡•á‡§Ç‡§ü ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ï ‡§î‡§∞ ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ï‡•§ </font><font style="vertical-align: inherit;">‡§§‡§¶‡§®‡•Å‡§∏‡§æ‡§∞, ‡§∏‡§π‡•Ä ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§® ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ï ‡§≤‡•â‡§ó‡§ø‡§® ‡§î‡§∞ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§Ø‡•Å‡§ï‡•ç‡§§ 4 ‡§î‡§∞ ‡§µ‡•à‡§∂‡•ç‡§µ‡§ø‡§ï ‡§ö‡§∞ ‡§™‡•á‡§∂ ‡§ï‡§ø‡§è ‡§ó‡§è ‡§•‡•á‡•§</font></font> ‡§Ø‡§æ‡§®‡•Ä<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§Ø‡§¶‡§ø ‡§ï‡•ã‡§à ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ï ‡§ñ‡§æ‡§§‡§æ ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§Æ‡•á‡§Ç ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§π‡•à, ‡§§‡•ã ‡§≤‡•â‡§ó‡§ø‡§® ‡§î‡§∞ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡§Ç‡§µ‡§æ‡§¶ ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ, ‡§°‡•á‡§ü‡§æ ‡§ï‡•ã ‡§Æ‡•á‡§Æ‡•ã‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π‡•Ä‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ ‡§î‡§∞ ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§Æ‡•á‡§Ç ‡§°‡§æ‡§≤‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ‡•§ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§∏‡•á ‡§®‡§ø‡§™‡§ü‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§á‡§∏‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§π‡•à‡•§</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ErrorParcing</font></font></b> <div class="spoiler_text"><pre> <code class="hljs vbscript">proc ErrorParcing {<span class="hljs-built_in"><span class="hljs-built_in">err</span></span> opt} { global cluster_user cluster_pwd agent_user agent_pwd switch -<span class="hljs-built_in"><span class="hljs-built_in">regexp</span></span> -- $<span class="hljs-built_in"><span class="hljs-built_in">err</span></span> { <span class="hljs-string"><span class="hljs-string">"Cluster administrator is not authenticated"</span></span> { AuthorisationDialog <span class="hljs-string"><span class="hljs-string">" "</span></span> .auth_win.frm_btn.btn_ok configure -command { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> cluster_user [.auth_win.frm.ent_name <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> cluster_pwd [.auth_win.frm.ent_pwd <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>] destroy .auth_win } #RunCommand $root $par } <span class="hljs-string"><span class="hljs-string">"Central server administrator is not authenticated"</span></span> { AuthorisationDialog <span class="hljs-string"><span class="hljs-string">"  "</span></span> .auth_win.frm_btn.btn_ok configure -command { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> agent_user [.auth_win.frm.ent_name <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> agent_pwd [.auth_win.frm.ent_pwd <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>] destroy .auth_win } } <span class="hljs-string"><span class="hljs-string">"   "</span></span> { AuthorisationDialog <span class="hljs-string"><span class="hljs-string">" "</span></span> .auth_win.frm_btn.btn_ok configure -command { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> cluster_user [.auth_win.frm.ent_name <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> cluster_pwd [.auth_win.frm.ent_pwd <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>] destroy .auth_win } #RunCommand $root $par } <span class="hljs-string"><span class="hljs-string">"    "</span></span> { AuthorisationDialog <span class="hljs-string"><span class="hljs-string">"  "</span></span> .auth_win.frm_btn.btn_ok configure -command { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> agent_user [.auth_win.frm.ent_name <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> agent_pwd [.auth_win.frm.ent_pwd <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>] destroy .auth_win } } (.+) { tk_messageBox -type ok -icon <span class="hljs-keyword"><span class="hljs-keyword">error</span></span> -message <span class="hljs-string"><span class="hljs-string">"$err"</span></span> } } }</code> </pre> <br></div></div><br>  ‡§Ø‡§æ‡§®‡•Ä<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§Ü‡§¶‡•á‡§∂ ‡§ï‡•ç‡§Ø‡§æ ‡§¶‡•á‡§§‡§æ ‡§π‡•à, ‡§á‡§∏‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§è‡§ï ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§π‡•ã‡§ó‡•Ä‡•§ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§´‡§ø‡§≤‡§π‡§æ‡§≤, ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ 95 ‡§™‡•ç‡§∞‡§§‡§ø‡§∂‡§§ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡•Ä ‡§ó‡§à ‡§π‡•à, ‡§Ø‡§π ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§î‡§∞ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ =) ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§Æ ‡§ï‡•ã ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§®‡•Ä ‡§π‡•Å‡§à ‡§π‡•à‡•§ </font><font style="vertical-align: inherit;">‡§µ‡§π ‡§∏‡§¨ ‡§π‡•à‡•§ </font><font style="vertical-align: inherit;">‡§Æ‡•à‡§Ç ‡§ï‡•Å‡§ü‡§ø‡§≤ ‡§ï‡§•‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§æ‡§´‡•Ä ‡§Æ‡§æ‡§Å‡§ó‡§§‡§æ ‡§π‡•Ç‡§Å‡•§ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§ï‡•ã‡§° ‡§™‡§∞‡§Ç‡§™‡§∞‡§æ‡§ó‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§Ø‡§π‡§æ‡§Ç</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§â‡§™‡§≤‡§¨‡•ç‡§ß </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">‡§π‡•à</font></a><font style="vertical-align: inherit;"> ‡•§ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§Ö‡§¶‡•ç‡§Ø‡§§‡§®: ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§æ‡§Æ‡•§ </font><font style="vertical-align: inherit;">‡§Ö‡§¨ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ 100% ‡§≤‡§æ‡§ó‡•Ç ‡§π‡•à‡•§ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§Ö‡§¶‡•ç‡§Ø‡§§‡§® 2: ‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡•Ä ‡§î‡§∞ ‡§∞‡•Ç‡§∏‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø‡§ï‡§∞‡§£ ‡§ú‡•ã‡§°‡§º‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, win7 ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§Æ ‡§ï‡•Ä ‡§ú‡§æ‡§Å‡§ö ‡§ï‡•Ä ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à</font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/282/7b1/bdb/2827b1bdb698d0cc7341985b139981a6.png" alt="‡§õ‡§µ‡§ø"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi415835/">https://habr.com/ru/post/hi415835/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi415821/index.html">‡§µ‡•ç‡§Ø‡§æ‡§™‡§ï ‡§∏‡§Ç‡§≠‡§µ ‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§è‡§ï "‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü" ‡§ò‡§∞ ‡§ï‡•ã ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§§‡§∞‡•Ä‡§ï‡§æ</a></li>
<li><a href="../hi415823/index.html">FindFace, ‡§Æ‡§æ‡§§‡•ç‡§∞ ‡§®‡§∂‡•ç‡§µ‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§Ç‡§¶ ‡§π‡•ã ‡§ú‡§æ‡§§‡§æ ‡§π‡•à</a></li>
<li><a href="../hi415829/index.html">‡§°‡•á‡§ü‡§æ ‡§ï‡§ï‡•ç‡§∑‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§™‡§∞‡§ø‡§ö‡§Ø</a></li>
<li><a href="../hi415831/index.html">‡§∞‡•ã‡§∏‡§ï‡•ã‡§∏‡§Æ‡•ã‡§∏ ‡§ï‡•Ä ‡§®‡§à ‡§¶‡§∏ ‡§Ü‡§ú‡•ç‡§û‡§æ‡§è‡§Å</a></li>
<li><a href="../hi415833/index.html">Xamarin ‡§ï‡•á ‡§´‡§æ‡§Ø‡§¶‡•á ‡§î‡§∞ ‡§®‡•Å‡§ï‡§∏‡§æ‡§®</a></li>
<li><a href="../hi415837/index.html">‡§∏‡•å‡§∞ ‡§≤‡§æ‡§≤‡§ü‡•á‡§® ‡§ï‡§æ ‡§è‡§ï ‡§õ‡•ã‡§ü‡§æ ‡§∏‡§æ ‡§Ö‡§µ‡§≤‡•ã‡§ï‡§®</a></li>
<li><a href="../hi415839/index.html">‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§°‡•á‡§µ‡§≤‡§™‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡§ø‡§≤‡§ö‡§∏‡•ç‡§™ ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§™‡§æ‡§ö‡§® # 259 (25 ‡§ú‡•Ç‡§® - 1 ‡§ú‡•Å‡§≤‡§æ‡§à)</a></li>
<li><a href="../hi415841/index.html">‡§ï‡•à‡§∏‡•á ‡§π‡§Æ‡§®‡•á 1000r ‡§∏‡•á ‡§ö‡•Ä‡§®‡•Ä ‡§ï‡•à‡§Æ‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§ï‡•ç‡§≤‡§æ‡§â‡§° ‡§∏‡•á ‡§ú‡•ã‡§°‡§º‡§®‡§æ ‡§∏‡•Ä‡§ñ‡§æ‡•§ ‡§ï‡•ã‡§à ‡§≤‡§ï‡§°‡§º‡§π‡§æ‡§∞‡§æ ‡§î‡§∞ ‡§è‡§∏‡§è‡§Æ‡§è‡§∏ (‡§î‡§∞ ‡§≤‡§æ‡§ñ‡•ã‡§Ç ‡§°‡•â‡§≤‡§∞ ‡§¨‡§ö‡§æ‡§Ø‡§æ)</a></li>
<li><a href="../hi415843/index.html">315 ‡§∏‡§æ‡§≤ ‡§ï‡§æ ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó</a></li>
<li><a href="../hi415845/index.html">‡§à‡§•‡§® ‡§∏‡•á ‡§™‡•Ç‡§õ‡•á‡§Ç: ‡§π‡§Æ ‡§∏‡•å‡§∞ ‡§Æ‡§Ç‡§°‡§≤ ‡§ï‡•Ä ‡§Ü‡§Ø‡•Å ‡§ï‡•à‡§∏‡•á ‡§ú‡§æ‡§®‡§§‡•á ‡§π‡•à‡§Ç?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>