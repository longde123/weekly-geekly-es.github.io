<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ô¶Ô∏è ü§úüèø üéüÔ∏è Delegasi dan Acara di C # üë®üèæ‚Äçüè≠ üç¥ ‚úäüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Terjemahan artikel disiapkan khusus untuk siswa kursus "Pengembang C #" . 



 Apa acara di C #? 
 Suatu acara dapat digunakan untuk memberikan pember...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Delegasi dan Acara di C #</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/472094/">  <i>Terjemahan artikel disiapkan khusus untuk siswa kursus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Pengembang C #"</a></i> . <br><br><img src="https://habrastorage.org/webt/ir/yd/rp/irydrp5fqzvuhxdmpcokybn5gj4.png"><br><hr><br><h3>  Apa acara di C #? </h3><br>  Suatu acara dapat digunakan untuk memberikan pemberitahuan.  Anda dapat berlangganan ke acara tersebut jika Anda membutuhkan pemberitahuan ini.  Anda juga dapat membuat acara sendiri yang akan memberi tahu Anda bahwa sesuatu yang menarik perhatian Anda telah terjadi.  .NET Framework menawarkan tipe bawaan yang dapat Anda gunakan untuk membuat acara.  Menggunakan delegasi, ekspresi lambda, dan metode anonim, Anda dapat membuat dan menggunakan acara dengan nyaman. <br><a name="habracut"></a><br><h3>  Memahami Delegasi dalam C # </h3><br>  Di C #, delegasi membentuk blok bangunan dasar untuk acara.  Delegasi adalah tipe yang mendefinisikan tanda tangan suatu metode.  Misalnya, dalam C ++, ini bisa dilakukan dengan menggunakan pointer fungsi.  Di C #, Anda bisa membuat instance delegasi yang menunjuk ke metode lain.  Anda dapat memanggil metode ini melalui instance delegasi. <br><br>  Berikut ini adalah contoh menyatakan delegasi dan memanggil metode melalui itu. <br><br><h3>  Menggunakan delegasi dalam C # </h3><br><pre><code class="cs hljs">}<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">delegate</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MathDelegate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value2</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Add</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value2</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value1 + value2; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Subtract</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value2</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value1 - value2; } Console.ReadLine(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { MathDelegate mathDelegate = Add; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = mathDelegate(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); Console.WriteLine(result); <span class="hljs-comment"><span class="hljs-comment">// : 7 mathDelegate = Subtract; result = mathDelegate(5, 2); Console.WriteLine(result); // : 3 }</span></span></code> </pre> <br>  Seperti yang Anda lihat, kami menggunakan kata kunci delegasi untuk memberi tahu kompiler bahwa kami sedang membuat tipe delegasi. <br><br>  Sangat mudah untuk membuat instance delegasi bersama dengan pembuatan otomatis tipe delegasi baru. <br><br>  Anda juga dapat menggunakan kata kunci <i>baru</i> untuk membuat delegasi. <br><br>  <code>MathDelegate mathDelegate = new MathDelegate(Add)</code> ; <br><br>  Delegasi yang dipakai adalah objek;  Anda juga dapat menggunakannya dan memberikan argumen untuk metode lain. <br><br><h3>  Delegasi Multicast di C # </h3><br>  Fitur hebat lain dari delegasi adalah bahwa Anda dapat menggabungkan mereka bersama.  Ini disebut multicasting.  Anda dapat menggunakan operator + atau + = untuk menambahkan metode lain ke daftar panggilan dari instance delegasi yang ada.  Demikian pula, Anda juga dapat menghapus metode dari daftar panggilan menggunakan operator penetapan penurunan (- atau - =).  Fitur ini berfungsi sebagai dasar untuk acara di C #.  Berikut ini adalah contoh delegasi multicast. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> s</span></span></span><span class="hljs-function">)</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">" Hello, {0}!"</span></span>, s); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Goodbye</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> s</span></span></span><span class="hljs-function">)</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">" Goodbye, {0}!"</span></span>, s); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">delegate</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Del</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> s</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Del a, b, c, d; <span class="hljs-comment"><span class="hljs-comment">//   a    Hello: a = Hello; //   b    Goodbye: b = Goodbye; //    a  b - c: c = a + b; //  a    c,   d,       Goodbye: d = c - a; Console.WriteLine("Invoking delegate a:"); a("A"); Console.WriteLine("Invoking delegate b:"); b("B"); Console.WriteLine("Invoking delegate c:"); c("C"); Console.WriteLine("Invoking delegate d:"); d("D"); /* : Invoking delegate a: Hello, A! Invoking delegate b: Goodbye, B! Invoking delegate c: Hello, C! Goodbye, C! Invoking delegate d: Goodbye, D! */ Console.ReadLine(); } }</span></span></code> </pre> <br>  Ini dimungkinkan karena delegasi mewarisi dari kelas <code>System.MulticastDelegate</code> , yang pada gilirannya mewarisi dari <code>System.Delegate</code> .  Anda dapat menggunakan anggota yang ditentukan dalam kelas dasar ini untuk delegasi Anda. <br><br>  Misalnya, untuk mengetahui berapa banyak metode yang akan dipanggil oleh delegasi multicast, Anda dapat menggunakan kode berikut: <br><br><pre> <code class="plaintext hljs">int invocationCount = d.GetInvocationList().GetLength(0);</code> </pre> <br><h3>  Kovarian dan contravariance dalam C # </h3><br>  Saat Anda menetapkan metode untuk delegasi, tanda tangan metode tidak harus sama persis dengan delegasi.  Ini disebut kovarians dan contravariance.  Kovarian memungkinkan metode untuk memiliki tipe pengembalian yang lebih diturunkan dari yang didefinisikan dalam delegasi.  Contravariance memungkinkan metode dengan tipe-tipe parameter yang lebih sedikit diturunkan daripada tipe-tipe dalam delegasi. <br><br><h4>  Delegasikan Kovarian </h4><br>  Berikut ini adalah contoh kovarians, <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">delegate</span></span></span><span class="hljs-function"> TextWriter </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CovarianceDel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> StreamWriter </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MethodStream</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> StringWriter </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MethodString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { CovarianceDel del; del = MethodStream; del = MethodString; Console.ReadLine(); } }</code> </pre> <br>  Karena <code>StreamWriter</code> dan <code>StringWriter</code> mewarisi dari <code>TextWriter</code> , Anda dapat menggunakan <code>CovarianceDel</code> dengan kedua metode. <br><br><h4>  Kontravarians dalam delegasi </h4><br>  Berikut ini adalah contoh dari contravariance. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoSomething</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TextWriter textWriter</span></span></span><span class="hljs-function">)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">delegate</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ContravarianceDel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">StreamWriter streamWriter</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ContravarianceDel del = DoSomething; Console.ReadLine(); } }</code> </pre> <br>  Karena metode <code>DoSomething</code> dapat bekerja dengan <code>TextWriter</code> , tentu saja dapat bekerja dengan <code>StreamWriter</code> .  Karena contravariance, Anda dapat memanggil delegasi dan meneruskan turunan <code>StreamWriter</code> ke metode <code>DoSomething</code> . <br><br>  Anda dapat mempelajari lebih lanjut tentang konsep ini di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br><h3>  Ekspresi Lambda dalam C # </h3><br>  Terkadang seluruh tanda tangan metode mungkin memerlukan lebih banyak kode daripada isi metode itu sendiri.  Ada juga situasi di mana Anda perlu membuat seluruh metode hanya untuk menggunakannya sebagai delegasi. <br><br>  Untuk kasus ini, Microsoft telah menambahkan beberapa fitur baru di C #, seperti metode anonim di 2.0.  Di C # 3.0, segalanya menjadi lebih baik ketika ekspresi lambda ditambahkan.  Ekspresi Lambda adalah cara yang disukai saat menulis kode baru. <br><br>  Berikut ini adalah contoh sintaks lambda terbaru. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">class</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Program</span></span> { public delegate double MathDelegate(double value1, double value2); public static void Main() { MathDelegate mathDelegate = (x,y) =&gt; x + y; var result = mathDelegate(5, 2); Console.WriteLine(result); // : 7 mathDelegate = (x, y) =&gt; x - y; ; result = mathDelegate(5, 2); Console.WriteLine(result); // : 3 Console.ReadLine(); } }</code> </pre> <br>  Untuk membaca kode ini, Anda perlu menggunakan kata "mengikuti" dalam konteks sintaks lambda khusus.  Misalnya, ekspresi lambda pertama dalam contoh di atas bertuliskan "x dan y ikuti penambahan x dan y". <br><br>  Fungsi lambda tidak memiliki nama tertentu, tidak seperti metode.  Karena itu, lambda disebut fungsi anonim.  Anda juga tidak perlu secara eksplisit menentukan jenis nilai pengembalian.  Kompilator menganggapnya secara otomatis dari lambda Anda.  Dan dalam kasus contoh di atas, tipe parameter x dan y juga tidak ditentukan secara eksplisit. <br><br>  Anda dapat membuat lambda yang menjangkau beberapa operator.  Anda dapat melakukan ini dengan menambahkan kurung kurawal di sekitar pernyataan yang membentuk lambda, seperti yang ditunjukkan pada contoh di bawah ini. <br><br><pre> <code class="cs hljs">MathDelegate mathDelegate = (x,y) =&gt; { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Add"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x + y; };</code> </pre> <br>  Terkadang pengumuman delegasi untuk suatu acara tampak agak rumit.  Karena itu, .NET Framework memiliki beberapa tipe delegasi bawaan yang dapat Anda gunakan saat mendeklarasikan delegasi.  Dalam contoh MathDelegate, Anda menggunakan delegasi berikut: <br><br><pre> <code class="plaintext hljs">public delegate double MathDelegate(double value1, double value2);</code> </pre> <br>  Anda dapat mengganti delegasi ini dengan salah satu tipe <code>Func &lt;int, int, int&gt;</code> , yaitu <code>Func &lt;int, int, int&gt;</code> . <br><br>  seperti itu <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Func&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; mathDelegate = (x,y) =&gt; { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Add"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x + y; }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = mathDelegate(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); Console.WriteLine(result); <span class="hljs-comment"><span class="hljs-comment">// : 7 mathDelegate = (x, y) =&gt; x - y; ; result = mathDelegate(5, 2); Console.WriteLine(result); // : 3 Console.ReadLine(); } }</span></span></code> </pre> <br>  Jenis fungsi &lt;...&gt; dapat ditemukan di System namespace.  Mereka mewakili delegasi yang mengembalikan tipe dan mengambil dari 0 hingga 16 parameter.  Semua tipe ini diwarisi dari System.MulticaseDelegate sehingga Anda dapat menambahkan beberapa metode ke daftar panggilan. <br><br>  Jika Anda membutuhkan tipe delegasi yang tidak mengembalikan nilai, Anda bisa menggunakan tipe System.Action.  Mereka juga dapat mengambil dari 0 hingga 16 parameter, tetapi tidak mengembalikan nilai. <br><br>  Ini adalah contoh penggunaan tipe Action, <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Action&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; mathDelegate = (x,y) =&gt; { Console.WriteLine(x + y); }; mathDelegate(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-comment"><span class="hljs-comment">// : 7 mathDelegate = (x, y) =&gt; Console.WriteLine(x - y) ; mathDelegate(5, 2); // : 3 Console.ReadLine(); } }</span></span></code> </pre> <br>  Anda dapat mempelajari lebih lanjut tentang delegasi bawaan .NET di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Hal menjadi rumit ketika fungsi lambda Anda mulai merujuk ke variabel yang dideklarasikan di luar ekspresi lambda atau ini.  Biasanya, ketika kontrol meninggalkan ruang lingkup variabel, variabel menjadi tidak valid.  Tetapi bagaimana jika delegasi mengacu pada variabel lokal.  Untuk memperbaikinya, kompiler menghasilkan kode yang memperpanjang umur variabel yang ditangkap, setidaknya selama hidup delegasi yang paling lama hidup.  Ini disebut penutupan. <br><br>  Anda dapat mempelajari lebih lanjut tentang penutupan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://web.archive.org/web/20150707082707/">sini</a> . <br><br><h3>  Acara di C # </h3><br>  Pertimbangkan pola pengembangan populer - penerbit-pelanggan (pub / sub).  Anda dapat berlangganan ke suatu acara, dan kemudian Anda akan diberi tahu ketika penerbit acara memulai acara baru.  Sistem ini digunakan untuk membangun komunikasi yang lemah antar komponen dalam suatu aplikasi. <br><br>  Delegasi membentuk dasar untuk sistem acara di C #. <br><br>  Suatu acara adalah jenis delegasi khusus yang memfasilitasi pemrograman berorientasi acara.  Acara adalah anggota kelas yang tidak bisa dipanggil di luar kelas, terlepas dari penentu akses.  Jadi, misalnya, suatu peristiwa yang dinyatakan sebagai publik akan memungkinkan kelas lain menggunakan + = dan - = untuk acara ini, tetapi memicu suatu peristiwa (yaitu, memanggil delegasi) hanya diperbolehkan di kelas yang berisi acara tersebut.  Mari kita lihat sebuah contoh, <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// -  Pub public class Pub { // OnChange    callback-  public event Action OnChange = delegate { }; public void Raise() { // OnChange OnChange(); } }</span></span></code> </pre> <br>  Kemudian, metode di kelas lain dapat berlangganan acara dengan menambahkan salah satu metode tersebut ke delegasi acara: <br><br>  Berikut ini adalah contoh yang menunjukkan bagaimana suatu kelas dapat menyediakan delegasi terbuka dan menghasilkan suatu acara. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//   pub Pub p = new Pub(); //  Subscriber 1   OnChange p.OnChange += () =&gt; Console.WriteLine("Subscriber 1!"); //  Subscriber 2   OnChange p.OnChange += () =&gt; Console.WriteLine("Subscriber 2!"); //  p.Raise(); //   Raise()   callback-     Console.WriteLine("Press enter to terminate!"); Console.ReadLine(); } }</span></span></code> </pre> <br>  Bahkan jika acara tersebut dinyatakan sebagai <code>public</code> , itu tidak dapat dipicu secara langsung di mana pun kecuali di kelas di mana ia berada. <br><br>  Menggunakan kata kunci <code>event</code> , kompiler melindungi bidang kami dari akses yang tidak diinginkan. <br><br>  Dan juga <br><br>  Itu tidak mengizinkan penggunaan = (penugasan delegasi langsung).  Karenanya, kode Anda sekarang dilindungi dari risiko menghapus pelanggan sebelumnya dengan menggunakan = alih-alih + =. <br><br>  Selain itu, Anda mungkin memperhatikan sintaks inisialisasi bidang OnChange khusus untuk delegasi kosong, seperti <code>delegate { }</code> .  Ini memastikan bahwa bidang OnChange kami tidak pernah nol.  Oleh karena itu, kami dapat menghapus cek nol sebelum memanggil acara jika tidak ada anggota kelas lain yang membatalkannya. <br><br>  Ketika Anda menjalankan program di atas, kode Anda membuat instance baru Pub, berlangganan acara dengan dua cara berbeda, dan menghasilkan acara dengan memanggil p.Raise.  Kelas Pub sama sekali tidak mengetahui pelanggan mana pun.  Itu hanya menghasilkan suatu acara. <br><br>  Anda juga dapat membaca artikel saya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pola Desain C # Penerbit-Pelanggan,</a> untuk pemahaman yang lebih dalam tentang konsep ini. <br><br>  Nah, itu saja untuk saat ini.  Saya harap Anda mendapatkan idenya.  Terima kasih sudah membaca posting.  Harap beri tahu saya jika ada kesalahan atau perubahan yang diperlukan dalam komentar di bawah.  Terima kasih sebelumnya! <br><br><h3>  Tautan yang bermanfaat </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.c-sharpcorner.com/blogs/c-sharp-generic-delegates-func-action-and-predicate</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/covariance-contravariance</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://web.archive.org/web/20150707082707/">https://web.archive.org/web/20150707082707/http://diditwith.net/PermaLink,guid,235646ae-3476-4893-899d-105e4d48c25b.aspx</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id472094/">https://habr.com/ru/post/id472094/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id472078/index.html">Risiko Perbankan Terbuka</a></li>
<li><a href="../id472084/index.html">Kerentanan Smartphone</a></li>
<li><a href="../id472086/index.html">Menggunakan hukum psikologi gestalt dalam desain antarmuka pengguna</a></li>
<li><a href="../id472088/index.html">Bagaimana kami memilih ServiceDesk. Bagian 2</a></li>
<li><a href="../id472092/index.html">Fungsi PHP Tidak Aman</a></li>
<li><a href="../id472096/index.html">Android clicker berlangganan pengguna ke layanan berbayar</a></li>
<li><a href="../id472100/index.html">Shchyry Ukrainian Dunno atau Bagaimana Kiev tidak menebak</a></li>
<li><a href="../id472104/index.html">Habr Weekly # 23 / Terbang ke luar angkasa dan pikiran, Microsoft mengubur Windows Phone, warisan Matrix, permainan kertas</a></li>
<li><a href="../id472106/index.html">Membuat MacBook Pro 2018 T2 berfungsi dengan ArchLinux (dualboot)</a></li>
<li><a href="../id472110/index.html">Kami melewati tantangan RegexPlay 100%</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>