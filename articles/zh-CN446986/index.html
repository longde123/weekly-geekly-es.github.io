<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ»â€ğŸ« â›µï¸ ğŸ§›ğŸ» è¹²åœ¨é˜´å½±ä¸­æˆ–å¯»æ‰¾ä¸‹ä¸€ä¸ªä¸–ç•Œ â›ï¸ â›„ï¸ âš“ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ±‡ç¼–ç¨‹åºæ˜¯æˆ‘æœ€å–œæ¬¢çš„è¯­è¨€...ä½†æ˜¯å¯¿å‘½å¾ˆçŸ­ã€‚ 
 æˆ‘å°†ç»§ç»­ç ”ç©¶ä¸€äº›ç™¾å‰é¥¼çš„åˆé€‚é˜´å½±é—®é¢˜ã€‚ å‘å¸ƒåï¼Œ æˆ‘ä¸ºæ­¤ä¸»é¢˜è¿›è¡Œäº†ä¸€æ¬¡åˆä¸€æ¬¡çš„å†·å´ï¼Œä½†æ˜¯åŠ¨ä½œä¸å®Œå…¨çš„æ•ˆæœä¿ƒä½¿æˆ‘è¿”å›åˆ°åƒç´ ç¢ç‰‡ï¼Œå¹¶å®Œæˆäº†æ ¼å¼åƒ ã€‚ 

 è®¤è¯†æˆ‘è‡ªå·±ï¼Œæˆ‘æ•¢è‚¯å®šè¿™æ¬¾æ¸¸æˆå‡ ä¹ä¸ä¼šå¾—åˆ°ä½“ç°ï¼Œä½†æ˜¯ä¹Ÿè®¸æŸäº›å…¬ä¼—ä¼šå¯¹æˆ‘åœ¨è¿™æ¡æ£˜æ‰‹çš„é“è·¯ä¸Šæ‰€å–å¾—çš„æˆå°±...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è¹²åœ¨é˜´å½±ä¸­æˆ–å¯»æ‰¾ä¸‹ä¸€ä¸ªä¸–ç•Œ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446986/"><img src="https://habrastorage.org/webt/d-/wj/wu/d-wjwubdpihumypc3b7tv43ihzy.png"><br><blockquote> æ±‡ç¼–ç¨‹åºæ˜¯æˆ‘æœ€å–œæ¬¢çš„è¯­è¨€...ä½†æ˜¯å¯¿å‘½å¾ˆçŸ­ã€‚ </blockquote><br> æˆ‘å°†ç»§ç»­ç ”ç©¶ä¸€äº›ç™¾å‰é¥¼çš„åˆé€‚é˜´å½±é—®é¢˜ã€‚ å‘å¸ƒåï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æˆ‘</a>ä¸ºæ­¤ä¸»é¢˜è¿›è¡Œäº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸€æ¬¡åˆä¸€æ¬¡çš„</a>å†·å´ï¼Œä½†æ˜¯åŠ¨ä½œä¸å®Œå…¨çš„æ•ˆæœä¿ƒä½¿æˆ‘è¿”å›åˆ°åƒç´ ç¢ç‰‡ï¼Œå¹¶å®Œæˆäº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ ¼å¼åƒ</a> ã€‚ <br><br> è®¤è¯†æˆ‘è‡ªå·±ï¼Œæˆ‘æ•¢è‚¯å®šè¿™æ¬¾æ¸¸æˆå‡ ä¹ä¸ä¼šå¾—åˆ°ä½“ç°ï¼Œä½†æ˜¯ä¹Ÿè®¸æŸäº›å…¬ä¼—ä¼šå¯¹æˆ‘åœ¨è¿™æ¡æ£˜æ‰‹çš„é“è·¯ä¸Šæ‰€å–å¾—çš„æˆå°±æ„Ÿå…´è¶£ã€‚ å› æ­¤ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚ <br><a name="habracut"></a><br> åœ¨ä¸Šä¸€ä¸ªå‘¨æœŸçš„æœ«å°¾ï¼Œæˆ‘å¼€å§‹äº†è§£åˆ°ï¼Œåœ¨CPUä¸Šè®¡ç®—å›¾å½¢å·²ç»æ˜¯ä¸Šä¸ªä¸–çºªäº†ï¼Œä½†æ˜¯è‡ªç„¶çš„åšæŒè¦æ±‚ï¼šå¹¶éæ‰€æœ‰å¯èƒ½æ€§éƒ½è¢«ä½¿ç”¨äº†ï¼Œè¿˜æœ‰ä¸€äº›æœ‰è¶£çš„è§£å†³æ–¹æ¡ˆå¯ä¾›é€‰æ‹©ã€‚ <br><br> å…‰çº¿è¿½è¸ªä»æœªå®ç°ã€‚ æ›´å‡†ç¡®åœ°è¯´ï¼Œæ˜¯ä¸€ç§ç±»å‹ï¼Œå³å¯¹äºå›¾åƒçš„æ¯ä¸ªåƒç´ ï¼ˆåƒç´ å—ï¼‰éƒ½å‘å‡ºå…‰çº¿å¹¶ç¡®å®šå½“å‰ç‚¹çš„ç…§æ˜çº§åˆ«ã€‚ è¯¥ç®—æ³•æœ¬èº«å·²åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­è¿›è¡Œäº†æè¿°ï¼Œæ²¡æœ‰å¿…è¦è¿”å›ã€‚ å¯¹äºåå‘å…‰çº¿è·Ÿè¸ªï¼Œä»£ç ç”šè‡³æ›´åŠ ç®€åŒ–ï¼Œæ‰€æœ‰ä¸‰è§’å‡½æ•°éƒ½è¢«å®Œå…¨åˆ é™¤ï¼Œè¿™åœ¨å°†æ¥å¯èƒ½ä¼šæä¾›å¯æ¥å—çš„ç»“æœã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å¸•æ–¯å¡</b> <div class="spoiler_text"><pre><code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tile_size = <span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   tile_size1 : single = 0.03125; // 1/32 -    block_size = 4; // /    Size_X:Byte = 32; //    X Size_Y:Byte = 24; //    Y //--------------------------------- function is_no_empty(x,y:Integer):Integer; begin if (x&gt;=0) AND (x&lt;Size_X) AND (y&gt;=0) AND (y&lt;Size_Y) then begin if map[x,y]=1 then begin is_no_empty:=1; end else if map[x,y]=2 then begin is_no_empty:=2; end else is_no_empty:=0; end else is_no_empty:=-1; end; //--------------------------------- function crossing(r_view, x,y:Single; xi,yj, i,j:Integer):Byte; var di,dj,ddi,ddj :Shortint; //   k,i2,j2 :integer; //    key:Boolean; last_k, transp_key :Byte; sum_lenX,sum_lenY, Dx,Dy,Dx1,DY1, l :Single; //  sec1,cosec1, temp_x,temp_y, dx0,dy0 :Single; //   i0,j0 :Integer; //       begin temp_x := i*block_size; temp_y := j*block_size; i0 := trunc(temp_x * tile_size1); j0 := trunc(temp_y * tile_size1); l := sqrt(sqr(temp_y-y) + sqr(temp_x-x)) + 0.0000001; transp_key := 0; //     if is_no_empty(xi,yj)&gt;0 then inc(transp_key); if (xi=i0) and (yj=j0) then begin crossing := min(255,transp_key*64+ l * r_view); exit; end; dx0 := (temp_x-x)/l+0.0000001; dy0 := (temp_y-y)/l+0.0000001; key := False; last_k :=0; //   if dx0&lt;0 then begin di :=-1; ddi:= 0; end else begin di := 1; ddi:= 1; end; if dy0&lt;0 then begin dj :=-1; ddj:= 0; end else begin dj := 1; ddj:= 1; end; sum_lenX := 0; sum_lenY := 0; sec1 := 1/dx0; cosec1 := 1/dy0; //       Y temp_x := x-(xi+ddi) * tile_size ; temp_y := y-(yj+ddj) * tile_size ; Dx := sqrt(sqr(temp_x) + sqr(temp_x * sec1 * dy0)); DY := sqrt(sqr(temp_y) + sqr(temp_y * cosec1 * dx0)); //      Y Dx1 := abs(tile_size * sec1); Dy1 := abs(tile_size * cosec1); repeat if sum_lenX+DX &lt; sum_lenY+DY then begin xi += di; k := is_no_empty(xi,yj); sum_lenX += DX; if DX&lt;&gt;Dx1 then DX := Dx1; end else begin yj += dj; k := is_no_empty(xi,yj); sum_lenY += DY; if DY&lt;&gt;Dy1 then DY := Dy1; end; if key Then begin if (xi&lt;&gt;i2) Or (yj&lt;&gt;j2) then begin //  (  ) if last_k=1 then begin crossing := 255; exit; end; //   (  ) if transp_key&gt;2 then begin crossing := 255; exit; end; inc(transp_key); key:= false; end; end; if k&gt;0 then begin i2:=xi; j2:=yj; key:=true; last_k:=k; end; //    if (xi=i0) and (yj=j0) then begin crossing := min(255, transp_key*64+ l * r_view); exit; end; until k=-1; //     end; //--------------------------------- .................. x0:= mouse_x; y0:= mouse_y; //       x1 := x0 div tile_size; y1 := y0 div tile_size; koef := tile_size div block_size; //      (     ) for j:=0 to Size_Y * koef do for i:=0 to Size_X * koef do picture_mask.SetPixel(i, j, BGRA(0,0,0,crossing(x0, y0, x1, y1, i, j))); ..................</span></span></code> </pre> <br></div></div><br>  lasï¼Œç»“æœæ¯”é¢„æœŸçš„è¦å·®å¾—å¤šï¼Œå€¼å¾—å°†å›¾ç‰‡éƒ¨ç½²åˆ°å…¨å±çŠ¶æ€ï¼ŒFPSå¸Œæœ›å°†å…¶éƒ¨ç½²åˆ°å•ä½ã€‚ <br><br><img src="https://habrastorage.org/webt/to/b_/sa/tob_sau5axwf2lhnxxfswnfuuv8.png"><br><br> å°†åƒç´ åˆ†ç»„ä¸ºå®å—ä»¥å‡å°‘è®¡ç®—å¹¶åº”ç”¨åç»­çš„å¹³æ»‘å¤„ç†å¹¶ä¸èƒ½æ”¹å–„æ€§èƒ½ã€‚ å¦ç‡åœ°è¯´ï¼Œè¿™ç§æ•ˆæœæ ¹æœ¬ä¸å–œæ¬¢è¿™ä¸ªè¯ã€‚ <br><br><img src="https://habrastorage.org/webt/hj/s5/sr/hjs5srli3gslf1yuerzb8b2kjq4.png"><br><br> è¯¥ç®—æ³•æ˜¯å®Œå…¨å¹¶è¡Œçš„ï¼Œä½†æ˜¯ä½¿ç”¨å¤§é‡æµæ²¡æœ‰æ„ä¹‰ï¼Œå³ä½¿å›¾åƒè´¨é‡æ›´å¥½ï¼Œæ•ˆæœä¼¼ä¹ä¹Ÿæ¯”ä¸Šä¸€ç¯‡æ–‡ç« å·®å¾ˆå¤šã€‚ <br> äº‹å®è¯æ˜è¿™æ˜¯ä¸€ä¸ªæ­»èƒ¡åŒã€‚ æˆ‘ä¸å¾—ä¸æ‰¿è®¤ï¼ŒCPUåœ¨è®¡ç®—å›¾å½¢æ—¶åœ¨æˆ‘çœ¼ä¸­å·²ç»ç­‹ç–²åŠ›å°½ã€‚ çª—å¸˜ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">é¢˜å¤–è¯1</b> <div class="spoiler_text"> åœ¨è¿‡å»çš„åå¹´ä¸­ï¼Œé€šç”¨å¤„ç†å™¨çš„å¼€å‘å‡ ä¹æ²¡æœ‰è¿›å±•ã€‚ å¦‚æœç”¨æˆ·æ¥è¿‘ï¼Œåˆ™æ¯ä¸ªå†…æ ¸çš„æœ€å¤§å¯è§‚æ€§èƒ½æå‡ä¸è¶…è¿‡30ï¼…ã€‚ æ¸©å’Œåœ°è¯´ï¼Œè¿›æ­¥å¾®ä¸è¶³é“ã€‚ å¦‚æœæˆ‘ä»¬çœç•¥äº†çŸ¢é‡æŒ‡ä»¤é•¿åº¦çš„å»¶é•¿ï¼Œä»¥åŠä¼ é€å¸¦å—çš„æŸäº›åŠ é€Ÿï¼Œåˆ™è¿™æ˜¯å·¥ä½œæ ¸å¿ƒæ•°é‡çš„å¢åŠ ã€‚ ä½¿ç”¨çº¿ç¨‹è¿›è¡Œå®‰å…¨çš„å·¥ä½œä»ç„¶æ˜¯ä¸€ç§äº«å—ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰ä»»åŠ¡éƒ½èƒ½æˆåŠŸå¹¶è¡ŒåŒ–ã€‚ æˆ‘å¸Œæœ›æœ‰ä¸€ä¸ªå·¥ä½œæ ¸å¿ƒï¼Œå°½ç®¡åªæœ‰ä¸€ä¸ªï¼Œä½†å¦‚æœæœ‰çš„è¯ï¼Œå®ƒçš„é€Ÿåº¦è¦å¿«5åˆ°10ï¼Œä½†å¯æƒœçš„æ˜¯ï¼Œæ­£å¦‚ä»–ä»¬æ‰€è¯´ã€‚ <br> åœ¨å“ˆå¸ƒé›·ï¼ˆHabrÃ©ï¼‰ä¸Šï¼Œæœ‰ä¸€ç³»åˆ—ç²¾å½©çš„æ–‡ç« <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œé»‘æš—çš„â€œç¡…æ—¶ä»£â€ä¸­çš„ç”Ÿæ´»ï¼Œ</a>å®ƒè§£é‡Šäº†å½“å‰å±€åŠ¿çš„ä¸€äº›å…ˆå†³æ¡ä»¶ï¼Œä½†ä¹Ÿä»å¤©è€Œé™ã€‚ åœ¨æ¥ä¸‹æ¥çš„åå¹´ä¸­ï¼Œæ‚¨ä¸èƒ½æŒ‡æœ›æ¯ä¸ªå†…æ ¸çš„è®¡ç®—é‡ä¼šå¤§å¹…å¢åŠ ã€‚ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥æœŸå¾…GPUå†…æ ¸æ•°é‡åŠå…¶æ•´ä½“åŠ é€Ÿçš„è¿›ä¸€æ­¥å‘å±•ã€‚ å³ä½¿åœ¨æˆ‘çš„æ—§ç¬”è®°æœ¬ç”µè„‘ä¸Šï¼Œä¼°è®¡çš„æ€»GPUæ€§èƒ½ä¹Ÿæ¯”å•ä¸ªCPUçº¿ç¨‹é«˜20å€ã€‚ å³ä½¿æ‚¨æœ‰æ•ˆåœ°åŠ è½½äº†æ‰€æœ‰4ä¸ªå¤„ç†å™¨å†…æ ¸ï¼Œä¹Ÿæ¯”æˆ‘ä»¬æƒ³è¦çš„è¦å°‘å¾—å¤šã€‚ <br> æˆ‘å‘è¿‡å»çš„å›¾å½¢å¼€å‘äººå‘˜è¡¨ç¤ºæ•¬æ„ï¼Œä»–ä»¬åœ¨æ²¡æœ‰ç¡¬ä»¶åŠ é€Ÿå™¨çš„æƒ…å†µä¸‹åˆ¶ä½œäº†æ°ä½œï¼Œæ˜¯çœŸæ­£çš„å¤§å¸ˆã€‚ <br></div></div><br> å› æ­¤ï¼Œæˆ‘ä»¬å¤„ç†GPUã€‚ äº‹å®è¯æ˜ï¼Œåœ¨å®é™…å®è·µä¸­ï¼Œå¾ˆå°‘æœ‰äººä¼šç®€å•åœ°å°†å¤šè¾¹å½¢æ•£å¸ƒæˆå½¢çŠ¶ã€‚ æ‰€æœ‰æœ‰è¶£çš„äº‹ç‰©éƒ½æ˜¯ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç€è‰²å™¨</a>åˆ›å»ºçš„ã€‚ æŠ›å¼ƒäº†å®Œæˆçš„3Då¼•æ“ä¹‹åï¼Œæˆ‘è¯•å›¾æ·±å…¥ç ”ç©¶æŠ€æœ¯çš„æ‚å¿µã€‚ ç›¸åŒçš„å¤„ç†å™¨å’Œç›¸åŒçš„æ±‡ç¼–å™¨ï¼Œåªæœ‰ä¸€äº›æˆªçŸ­çš„æŒ‡ä»¤é›†å’Œå®ƒä»¬è‡ªå·±çš„å·¥ä½œç»†èŠ‚ã€‚ ä¸ºäº†è¿›è¡Œæµ‹è¯•ï¼Œæˆ‘åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GLSL</a>åœäº†ä¸‹æ¥ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GLSL</a>æ˜¯ä¸€ç§ç±»ä¼¼äºCçš„è¯­æ³•ï¼Œéå¸¸ç®€å•ï¼Œæä¾›äº†è®¸å¤šåŸ¹è®­è¯¾ç¨‹å’Œç¤ºä¾‹ï¼ŒåŒ…æ‹¬Habrã€‚ <br> ç”±äºæˆ‘é€šå¸¸ä¹ æƒ¯äºä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Pascal</a>è¿›è¡Œç¼–å†™ï¼Œå› æ­¤ä»»åŠ¡æ˜¯å¦‚ä½•è¿æ¥OpenGLã€‚ <br> åˆ°é¡¹ç›®ã€‚ æˆ‘è®¾æ³•æ‰¾åˆ°ä¸¤ç§è¿æ¥æ–¹å¼ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GLFW</a>åº“å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">dglOpenGL</a>å¤´æ–‡ä»¶ã€‚ é¦–å…ˆï¼Œæˆ‘å”¯ä¸€æ— æ³•è¿æ¥ç€è‰²å™¨ï¼Œä½†æ˜¯æ˜¾ç„¶è¿™æ˜¯ç”±äºæ‰‹çš„å¼¯æ›²é€ æˆçš„ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ç¦»é¢˜2</b> <div class="spoiler_text"> è®¸å¤šæœ‹å‹é—®æˆ‘ä¸ºä»€ä¹ˆç”¨Pascalå†™ä½œï¼Ÿ æ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸€ç§æ¿’ä¸´ç­ç»çš„è¯­è¨€ï¼Œå®ƒçš„ç¤¾åŒºæ­£åœ¨ç¨³æ­¥ä¸‹é™ï¼Œå‡ ä¹æ²¡æœ‰å‘å±•ã€‚ ä½çº§ç³»ç»Ÿå·¥ç¨‹å¸ˆæ›´å–œæ¬¢Cï¼Œä»¥åŠJavaï¼ŒPythonï¼ŒRubyæˆ–ç›®å‰å¤„äºé¡¶å³°çš„ä»»ä½•ç‰ˆæœ¬ã€‚ <br> å¯¹æˆ‘æ¥è¯´ï¼Œå¸•æ–¯å¡ï¼ˆPascalï¼‰ç±»ä¼¼äºåˆæ‹ã€‚ äºŒåå¹´å‰ï¼Œåœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Turbo Pascal 5.5æ—¶ä»£</a> ï¼Œå®ƒæ²‰å…¥æˆ‘çš„çµé­‚ï¼Œå¹¶ä¸€ç›´ä¸æˆ‘åŒè¡Œï¼Œæ— è®ºæ˜¯Delphiè¿˜æ˜¯æœ€è¿‘å‡ å¹´çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Lazarus</a> ã€‚ æˆ‘å–œæ¬¢è¿™ç§è¯­è¨€çš„å¯é¢„æµ‹æ€§ï¼Œç›¸å¯¹è¾ƒä½çš„çº§åˆ«ï¼ˆæ±‡ç¼–å™¨æ’å…¥å¹¶æŸ¥çœ‹å¤„ç†å™¨æŒ‡ä»¤ï¼‰ï¼Œä¸Cçš„å…¼å®¹æ€§ã€‚ä¸»è¦æ˜¯ä»£ç çš„æ±‡ç¼–å’Œæ‰§è¡Œæ²¡æœ‰é—®é¢˜ï¼Œä½†å®ƒå¹¶ä¸æµè¡Œï¼Œè¿‡æ—¶ä¸”æœ‰ä¸€äº›åŠŸèƒ½ï¼Œè¿™æ˜¯èƒ¡è¯´å…«é“ã€‚ æœ‰ä¼ è¨€è¯´ï¼Œæœ‰äº›äººä»ç„¶åœ¨å†™<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">LISP</a> ï¼Œä½†æ˜¯å¯¹ä»–æ¥è¯´ä¸€èˆ¬æ¥è¯´å·²ç»æœ‰åŠä¸ªä¸–çºªäº†ã€‚ <br></div></div><br> å› æ­¤ï¼Œè®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶å¼€å‘ã€‚ å¯¹äºæµ‹è¯•æ­¥éª¤ï¼Œæˆ‘ä»¬ä¸ä¼šé‡‡ç”¨ç²¾ç¡®çš„é€¼çœŸçš„é˜´å½±æ¨¡å‹ï¼Œè€Œæ˜¯å°è¯•å®ç°æˆ‘ä»¬ä¹‹å‰å°è¯•è¿‡çš„ä½†å…·æœ‰GPUæ€§èƒ½çš„æ¨¡å‹ï¼Œå› æ­¤å¯ä»¥è¿›è¡Œæ¸…æ™°çš„æ¯”è¾ƒã€‚ <br><br> æœ€åˆï¼Œæˆ‘æƒ³åˆ°ä½¿ç”¨ä¸‰è§’å½¢ä½œä¸ºå¯¹è±¡æ¥è·å¾—è¿‘ä¼¼æ­¤å½¢çŠ¶çš„é˜´å½±ã€‚ <br><br><img src="https://habrastorage.org/webt/up/ps/la/uppslarm4raiqopjfumiogecono.png"><br><br> è¦åˆ›å»ºåœ†æ»‘çš„æ•ˆæœï¼Œéœ€è¦å¤§é‡çš„å¤šè¾¹å½¢ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æœ€å°‘ä½¿ç”¨ä¸‰è§’å½¢ï¼Œä½¿ç”¨åƒç´ ç€è‰²å™¨åœ¨å½¢çŠ¶ä¸­åˆ›å»ºå­”ï¼Œè¯¥æ€ä¹ˆåŠã€‚ åœ¨è¯»äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸€ä½</a>å—äººå°Šæ•¬çš„å¤§å¸ˆçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡ç« </a>åï¼Œæˆ‘æƒ³åˆ°äº†è¿™ä¸ªä¸»æ„ï¼Œåœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™ç¯‡æ–‡ç« </a>ä¸­ï¼Œæœ‰æœºä¼šåˆ›é€ äº†ä¸€ä¸ªä½¿ç”¨ç€è‰²å™¨çš„çƒä½“ã€‚ <br><br><img src="https://habrastorage.org/webt/ph/hu/tg/phhutg9hwan_hlukufz4twdjp7i.png"><br><br> å¦‚æœå°†ä¸‰è§’å½¢æ‰©å±•åˆ°å±å¹•è¾¹ç•Œä¹‹å¤–ï¼Œåˆ™ç»“æœå¦‚ä¸‹ï¼š <br><br><img src="https://habrastorage.org/webt/80/tm/wy/80tmwydb6qratckw2hzzqpdanxk.png"><br><br> é˜´å½±çš„è¾¹ç•Œå˜å¾—éå¸¸åƒµç¡¬å¹¶ä¸”ä¹Ÿå‘ˆé˜¶æ¢¯çŠ¶ã€‚ ä½†æ˜¯æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åœ¨ä¸ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¶…é‡‡æ ·çš„</a>æƒ…å†µä¸‹è·å¾—å¯æ¥å—çš„ç»“æœï¼Œè¿™æ˜¯ä½¿ç”¨å¹³æ»‘çš„è¾¹æ¡†ã€‚ ä¸ºæ­¤ï¼Œè¯·ç¨å¾®æ›´æ”¹æ–¹æ¡ˆã€‚ ä¸åœ†åˆ‡çº¿ç›¸äº¤çš„å¤šè¾¹å½¢çš„è§’å°†å˜ä¸ºé€æ˜ã€‚ <br><br><img src="https://habrastorage.org/webt/r7/er/bg/r7erbgdvqlaxcwrtp7im6m6j97u.png"><br><br> ç»“æœæ›´å¥½ï¼Œä½†çœ‹èµ·æ¥ä»ç„¶ä¸è‡ªç„¶ã€‚ <br><br><img src="https://habrastorage.org/webt/k9/r8/qw/k9r8qw-kcrabolq1vqyqgvr5b8o.png"><br><br> åœ¨åœ†ä¸Šæ·»åŠ ä¸€ç‚¹å¹³æ»‘ä»¥ä½¿å…¶æŸ”å’Œï¼Œå¹¶å°†æ¸å˜çš„å½¢å¼ä»çº¿æ€§æ›´æ”¹ä¸ºå¹‚ã€‚ <br><br><img src="https://habrastorage.org/webt/s9/mo/a2/s9moa2rhsslrktn808o2cwoxiwy.png"><br><br> è¿™æ˜¯å¯ä»¥æ¥å—çš„ç»“æœã€‚ <br> æœ€åï¼Œæˆ‘ä»¬å°†å‘è¡¨å•æ·»åŠ æ¨¡ä»¿éšœç¢ç‰©çš„å¯¹è±¡ã€‚ <br><br><img src="https://habrastorage.org/webt/fo/f8/4c/fof84cbrg5n_kea_4k9js5tiqi4.png"><br><br><div class="spoiler">  <b class="spoiler_title">ç€è‰²å™¨ä»£ç </b> <div class="spoiler_text"> <code>//   <br> <br> #version 330 core <br> layout (location = 0) in vec2 aVertexPosition; <br> void main(void) { <br> gl_Position = vec4(aVertexPosition.xy, 0, 1.0); <br> } <br> <br> //   <br> <br> #version 330 core <br> layout (points) in; <br> layout (triangle_strip, max_vertices = 5) out; <br> uniform mat4 uModelViewMatrix; <br> uniform float uRadius; <br> uniform vec2 uHeroPoint; <br> out float fTransparency; <br> out vec2 vCenter; <br> void main(){ <br> vCenter = gl_in[0].gl_Position.xy; <br> vec2 d = uHeroPoint - vCenter; <br> float l = length(d); <br> float i = uRadius / l; <br> float ii = i*i; <br> float ij = i * sqrt(1 - ii); <br> vec2 p1 = vec2(vCenter.x + dx*ii - dy*ij , vCenter.y + dx*ij + dy*ii); <br> vec2 p2 = vec2(vCenter.x + dx*ii + dy*ij , vCenter.y - dx*ij + dy*ii); <br> d = uHeroPoint - p1; <br> vec2 p3 = vec2(p1 - d/length(d)*1000000); <br> d = uHeroPoint - p2; <br> vec2 p4 = vec2(p2 - d/length(d)*1000000); <br> fTransparency = 0; <br> gl_Position = uModelViewMatrix * vec4(p1, 0, 1); <br> EmitVertex(); <br> fTransparency = 1; <br> gl_Position = uModelViewMatrix * vec4(p3, 0, 1); <br> EmitVertex(); <br> gl_Position = uModelViewMatrix * vec4(vCenter, 0, 1); <br> EmitVertex(); <br> gl_Position = uModelViewMatrix * vec4(p4, 0, 1); <br> EmitVertex(); <br> fTransparency = 0; <br> gl_Position = uModelViewMatrix * vec4(p2, 0, 1); <br> EmitVertex(); <br> EndPrimitive(); <br> } <br> <br> //   <br> <br> #version 330 core <br> precision mediump float; <br> varying float fTransparency; <br> varying vec2 vCenter; <br> uniform float uRadius; <br> uniform vec2 uScreenHalfSize; <br> uniform float uShadowTransparency; <br> uniform float uShadowSmoothness; <br> out vec4 FragColor; <br> void main(){ <br> float l = distance(vec2((gl_FragCoord.xy - uScreenHalfSize.xy)/uScreenHalfSize.y), vCenter.xy); <br> if (l&lt;uRadius) {discard;} <br> else {FragColor = vec4(0, 0, 0, min(pow(fTransparency, uShadowSmoothness), (l-uRadius)/uRadius*10)*uShadowTransparency);} <br> } <br></code> <br></div></div><br> æˆ‘å¸Œæœ›å®ƒèƒ½æä¾›ä¿¡æ¯ <br><br> æ‚¨å‘å¾®çš„ä»†äººï¼Œåƒç´ æŠ˜ç£¨è€…ï¼Œé‡å»ºè€…ã€‚ <br><br> æˆ‘é™„ä¸Šä¸€ä¸ªå°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ ·ç‰‡</a> ã€‚  ï¼ˆEXE Windowsï¼‰ <br><br>  PSæ–‡ç« çš„æ ‡é¢˜åŒ…å«ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¤æ´»èŠ‚å½©è›‹</a> ï¼Œæ˜¯å¯¹ã€Š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Siala Chronicleã€‹</a>ä¸‰éƒ¨æ›²çš„å¼•ç”¨ã€‚ é˜¿åˆ—å…‹è°¢Â·ä½©éœå¤«ï¼ˆAlexei Pekhovï¼‰çš„ä¸€éƒ¨å¥‡å¹»é£æ ¼â€‹â€‹çš„å‡ºè‰²ä½œå“ï¼Œè®²è¿°äº†ç‰›è§’çš„ä¸å¹¸ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN446986/">https://habr.com/ru/post/zh-CN446986/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN446976/index.html">æ•°æ®å‹ç¼©æ‚–è®º</a></li>
<li><a href="../zh-CN446978/index.html">PIC12F1572ä¸Šç±»ä¼¼Breakuotçš„æ¸¸æˆ</a></li>
<li><a href="../zh-CN446980/index.html">å¦‚ä½•å‘å¸ƒæ‰‹æœºæ¸¸æˆè€Œä¸çŠ¯é”™è¯¯</a></li>
<li><a href="../zh-CN446982/index.html">CSä¸­å¿ƒæ¯•ä¸šç”Ÿå›å›½ä»»æ•™</a></li>
<li><a href="../zh-CN446984/index.html">å°†â€œå¤ªç©ºä¾µç•¥è€…â€çš„ç±»ä¼¼ç‰©å‹ç¼©åˆ°1 KBï¼ˆ1978å¹´åŸå§‹ä»·æ ¼ä¸º8ï¼‰</a></li>
<li><a href="../zh-CN446988/index.html">æˆ‘å¦‚ä½•æ•™æˆScala</a></li>
<li><a href="../zh-CN446990/index.html">å¤å¤æ§åˆ¶å°å’Œä»¿çœŸå™¨ä¸Šçš„è¾“å…¥å»¶è¿Ÿ</a></li>
<li><a href="../zh-CN446992/index.html">John Maedaï¼šâ€œå®é™…ä¸Šï¼Œè®¾è®¡å¹¶ä¸é‚£ä¹ˆé‡è¦â€</a></li>
<li><a href="../zh-CN446994/index.html">ç©ºé—´æ˜¯æ¨¡ç³Šçš„è®°å¿†</a></li>
<li><a href="../zh-CN446996/index.html">Pomodoroæ–¹æ³•å¹¶ä¸åƒå®ƒå¯èƒ½é‚£æ ·é…·</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>