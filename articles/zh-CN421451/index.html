<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚡 😨 🥒 如何保护您的孩子免受YouTube上的垃圾的干扰，并使用白名单频道制作自定义播放器 ✌🏻 🧗🏿 💫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="您可以就是否值得让幼儿使用平板电脑和智能手机这一问题争论很长时间。 有人说这对眼睛或心灵有害，对某些人来说，父母应该自己和孩子一起玩耍并阅读，而不要试图用小玩意儿挡住他们。 有什么特点，通常是那些没有自己的孩子的人说的。 而且他们不知道这是多么幸福-当孩子沉默至少半小时，不再破坏周围的一切，从容地躺...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>如何保护您的孩子免受YouTube上的垃圾的干扰，并使用白名单频道制作自定义播放器</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421451/"><p> 您可以就是否值得让幼儿使用平板电脑和智能手机这一问题争论很长时间。 有人说这对眼睛或心灵有害，对某些人来说，父母应该自己和孩子一起玩耍并阅读，而不要试图用小玩意儿挡住他们。 有什么特点，通常是那些没有自己的孩子的人说的。 而且他们不知道这是多么幸福-当孩子沉默至少半小时，不再破坏周围的一切，从容地躺在沙发上看动画片时。 还有一个论点-孩子们在父母之后重复地重复所有的事情，如果父母不断地用手坐在电话上，很难向孩子们解释为什么父母可以而不是他们。 </p><br><p><img src="https://habrastorage.org/webt/k3/y2/sz/k3y2szb9qvds9nza5bamfw1pb9w.jpeg"></p><br><p> 通常，您可以给我扔烂番茄，但我儿子已经三年没来了两天，他偶尔会躺在平板电脑上，在YouTube上看动画片。 </p><br><p> 不幸的是，我很快意识到孩子们的YouTube只是“ HELLY TRASH”。 关于它，甚至在哈布雷（Habré）上， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">也</a>已经<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">翻译了该文章</a> 。 儿童频道是某种无底的污水处理池，里面充满了vyrviglaznymi视频，例如“部署一百个同类产品惊奇”，“带有可怜的3D图形的愚蠢的韵律到嘈杂的音乐”和“在Beam NG中驾驶汽车的愚蠢的注释”。 由于某些原因，这一切对于年幼的孩子非常有吸引力，他们希望在推荐的视频中尽快看到这些视频。 而且YouTube不允许您管理推荐。 几分钟后，甚至给我儿子打开了装有“正常”漫画的平板电脑，我看着他两次点击建议，又如何找到这些该死的朱古力蛋，然后又开始粘在它们上。 </p><br><p> 我决定，这对我来说足够了。 他开始看到自己的应用程序，用于观看YouTube，可以让您选择频道列表并仅显示这些频道中的视频。 我是怎么做到的？ <a name="habracut"></a></p><br><p> 这是我们将与之搏斗的视频的一个示例。  Shitty将愚蠢的音乐制作成无意义的3D动画-观看次数达到1.42亿次。 出于某种原因，此类儿童视频被简单地僵化了；他们准备对其进行审查和修订。 </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YdZn3PXmFnE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p> 相比之下，克里斯·哈德菲尔德（Chris Hadfield）在国际空间站上的吉他上唱歌的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">最酷的视频</a>只有4,000万次观看，而<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">精彩的OK GO剪辑</a>具有真正的零重力（没有电缆和抠像，在特殊飞机上只有诚实的零重力）–只有1200万次，十倍更少。 </p><br><p> 顺便说一下，YouTube上的广告商<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">自己对儿童频道的受欢迎程度并不满意</a> ，因为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在儿童频道</a>上展示广告会浪费预算。 孩子们观看广告，有时他们甚至点击，但他们什么也没买，而且数百万的观看次数很快就花费了预算。 </p><br><h2 id="postanovka-zadachi"> 问题陈述 </h2><br><p> 我必须马上说，我没有设定为孩子制作难以理解的应用程序的任务。 这样的尝试已经存在，包括在集线器上的位置-一切都被连续剪切了，这样孩子就不能退出应用程序，买东西，打开浏览器等。 有带有硬件锁，禁用端口，自定义android shell和其他困难的选项（例如， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这是</a> 2012年<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的文章</a> ，该项目似乎仍然有效）。 但是，这对于已经在探索小工具的可能性的大一点的孩子来说是有意义的。 对于2-3岁的儿童，不需要特殊的保护，他们非常乐意观看视频，并且不时查看其他视频的预览。 最主要的是，这些视频应该是您所需要的，而不是YouTube所提供的（他将提供无尽的朱古力蛋和婴儿手指）。 </p><br><p> 需求清单由此产生： </p><br><ul><li> 自定义频道列表 </li><li> 保护它免受更改（而不是偶然的更改，因为狡猾的成年子女已经有了很多识别父母密码的方法） </li><li> 该应用程序本身类似于YouTube，它在左侧播放视频，在右侧播放一列缩略图，您可以单击 </li><li> 主要用例是通过视频随机戳，孩子通常不关心看什么 </li></ul><br><p> 同时，该应用程序包含两个主要部分：使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">YouTube数据API</a>搜索和设置频道，然后播放视频。 此外，目前，我发现了两个在自己的应用程序中播放视频的选项： </p><br><h2 id="youtube-android-player-api">  YouTube Android Player API </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://developers.google.com/youtube/android/player/</a> </p><br><p> 这是在Android应用程序中播放视频的官方方式。 要使其在用户设备上运行，必须已经安装了官方的YouTube应用程序，该应用程序的组成部分包括可以从其他应用程序使用的某些服务。 因此，此Player API只是一个小型库，可与单独安装的应用程序进行交互。 </p><br><p> 最初我使用它，但是经过一段时间的使用，结果证明他有一个严重的问题。 您不能真正在其中自定义播放器的外观，特别是要控制按钮（您只能完全隐藏整个东西，但同时也会丢失全屏模式按钮）。 播放器的控制面板上有一个错误的按钮“可以在YouTube上观看”，它会打开官方应用程序（必须在设备上），该应用程序已不再过滤。 孩子们很容易地（无论是偶然的还是偶然的）单击它，转到未过滤的应用程序，几分钟后，我已经再次听到“婴儿手指，婴儿手指在哪里”的声音，并且在屏幕上看到了某种扭曲的眼睛。 </p><br><p> 点击几下，孩子就会发现更多的垃圾。 超过9亿的观看次数！ </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YJyNoFkud6g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p> 因此，我拒绝了官方球员，以以下库的形式找到了他的替补球员。 </p><br><h2 id="android-youtube-player">  Android YouTube播放器 </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/PierfrancescoSoffritti/android-youtube-player</a> </p><br><p> 该库似乎是WebView的包装，该WebView通过其JavaScript API控制Web播放器。 好处-完全自定义界面的能力。 </p><br><p> 播放器的初始化不太明显，尤其是在从官方库切换之后： </p><br><ol><li> 了解com.pierfrancescosoffritti.androidyoutubeplayer.player.YouTubePlayerView类的视图 </li><li> 调用她的initialize（），传递监听器 </li><li> 在监听器上调用onInitSuccess方法（@Nonnull，最终的YouTubePlayer youTubePlayer），监听器将接收播放器对象的实例。 这是获得它的唯一方法。 至此，初始化过程与官方客户端的初始化过程相同 </li><li> 我们在播放器上调用addListener（）方法，将另一个侦听器传递给它（更多的侦听器给侦听器！） </li><li> 在此侦听器上调用onReady（）方法-仅在此刻之后，您才能下载和显示视频并使用播放器。 如果您错误地尝试将某些内容加载到onInitSuccess中，则该库将开始吐出奇怪的错误。 </li></ol><br><p> 您可以手动控制播放器的生命周期（在onPause（）中停止播放以及类似的操作），也可以将我们的视图注册为生命周期观察者（我们的Activity应该从AppCompatActivity继承）。 在这种情况下，库将接管整个例程。 </p><br><p> 库的另一个细微差别是缺少开箱即用的全屏支持。 默认情况下，播放器中有一个按钮，但不执行任何操作。 实际上，您必须手动执行全屏模式-隐藏男生，将播放器窗口最大化至全屏，然后将所有内容恢复原状。 如果您在播放器周围有某种复杂的界面，这可能会变得很简单。 我那里只有一个视频列表，很容易手动将其隐藏。 </p><br><p> 在库的示例中，有一个FullScreenHelper类，您可以从中获取所需的代码。 它的用法如下所示： </p><br><pre><code class="java">youTubePlayerView.addFullScreenListener(new YouTubePlayerFullScreenListener() {

            private final View rootLayout = findViewById(R.id.rootLayout);

            @Override
            public void onYouTubePlayerEnterFullScreen() {
                fullScreenHelper.enterFullScreen();
                rootLayout.setPadding(0, 0, 0, 0);
            }

            @Override
            public void onYouTubePlayerExitFullScreen() {
                fullScreenHelper.exitFullScreen();
                rootLayout.setPadding(8, 8, 8, 8);
                youTubePlayerView.getLayoutParams().height = LinearLayout.LayoutParams.MATCH_PARENT;
                  }
        });</code></pre><br>
<p>FullScreenHelper        .      (   ,  )   -      ,     .</p><br>
<p> -      ,      —    .      "  YouTube",     :</p><br>
<pre><code class="java">youTubePlayerView.getPlayerUIController().showFullscreenButton(true);
youTubePlayerView.getPlayerUIController().showYouTubeButton(false);</code></pre><br>
<p>      ,   ,     View  .. —             .</p><br>
<p>            youTubePlayer.loadVideo(url, startTime);</p><br>
<h2 id="poluchenie-spiskov-video-rabota-s-youtube-data-api">  ,   YouTube Data API</h2><br>
<p>URL    - .    YouTube   API,          .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>   Developer Console   .</p><br>
<p>      :         .   - ,         "Peppa Pig".   id (          id)  snippet       : , -, .</p><br>
<pre><code class="java"> YouTube.Search.List searchListByKeywordRequest = youTube.search().list("snippet,id");
 searchListByKeywordRequest.setMaxResults(10L);
 searchListByKeywordRequest.setQ("Peppa Pig");
 searchListByKeywordRequest.setType("channel,playlist");
 searchListByKeywordRequest.setKey("&lt;api key&gt;");
 SearchListResponse response = searchListByKeywordRequest.execute();</code></pre><br>
<p>       (    snippet  id)    . YouTube API      :       ,         .      - ( ,   ),       .           ,        . ..          5  (      2   sinppet  id).       ,   6 ,   13.    10 ,      21  .      ,   .</p><br>
<p>         :</p><br>
<pre><code class="java">YouTube.Search.List request = youTube.search().list("snippet,id");
request.setChannelId("&lt;channel id&gt;");
request.setType("video");
request.setMaxResults(50L);
request.setKey("&lt;api key&gt;");
SearchListResponse response = request.execute();</code></pre><br>
<p>      ,          ,      nextPageToken,    —     ,            .</p><br>
<pre><code class="java">if (response.getNextPageToken() != null) {
    request.setPageToken(response.getNextPageToken());
    response = request.execute();
}</code></pre><br>
<p>  API  ,       ,        ..</p><br>
<h2 id="opyt-ispolzovaniya"> </h2><br>
<p> ,     ,  .    ,      Google Play      .   :</p><br>
<ol>
<li>    .            .   " "          (""  " "), -      .</li>
<li>  —    .   ,     "     ",       ,    . </li>
<li>     .   ,               ,     —   .</li>
<li>       .   "     ",      ,              .</li>
<li>         .</li>
<li>   Pinned Mode —       ,            .</li>
</ol><br>
<p>  -  — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://play.google.com/store/apps/details?id=ru.sundogs.youtubekiosk</a>        ,    —     .       —       .         ,           ,    . </p><br>
<p> ,       ,       , -      (   ),     .    —       ,        .        .</p><br>
<p><strong>UPD</strong>:    ,          .             — ,  .     Play Market   ""</p><br>
<p><strong>UPD2</strong>:      ,        .   ,    ,             .</p><br>
<p><strong>UPD3</strong>:     ,     : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://channelwhitelist.tilda.ws</a>. , !</p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN421451/">https://habr.com/ru/post/zh-CN421451/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN421439/index.html">日本人推出了Exaflops超级计算机的原型处理器：该芯片如何工作</a></li>
<li><a href="../zh-CN421441/index.html">Embox开始攀登厄尔布鲁士峰</a></li>
<li><a href="../zh-CN421443/index.html">市场新手：Snom D385和D785 IP电话概述</a></li>
<li><a href="../zh-CN421445/index.html">我们正在用Lisp-II写一个简单的翻译器</a></li>
<li><a href="../zh-CN421447/index.html">Redmadrobot iOS聚会</a></li>
<li><a href="../zh-CN421453/index.html">情况：Sonos公开上市并可能“离开房间”</a></li>
<li><a href="../zh-CN421455/index.html">日本启动全球首例使用帕金森氏病的干细胞临床试验</a></li>
<li><a href="../zh-CN421461/index.html">Google脚本，文档和电子表格的时间跟踪器</a></li>
<li><a href="../zh-CN421463/index.html">天空的夜生活或寻找英仙座-处理</a></li>
<li><a href="../zh-CN421465/index.html">实践中的移动DevOps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>