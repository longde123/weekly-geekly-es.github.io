<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñ±Ô∏è üëéüèø ‚ÜïÔ∏è Erstellen Sie Ihren eigenen Gamecontroller üé• üóÉÔ∏è üïå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quelle der Inspiration 
 Auf Gaming-Ausstellungen zeigten die Entwickler von Objects in Space eine Demo ihres Spiels mit einem Controller im Cockpit e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen Sie Ihren eigenen Gamecontroller</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442816/"><h2>  Quelle der Inspiration </h2><br>  Auf Gaming-Ausstellungen zeigten die Entwickler von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">Objects in Space</a> eine Demo ihres Spiels mit einem Controller im Cockpit eines riesigen Raumschiffs.  Es wurde durch Beleuchtungstasten, analoge Ger√§te, Statusanzeigen, Schalter usw. erg√§nzt. Dies wirkt sich stark auf das Eintauchen in das Spiel aus: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e96/44d/1ad/e9644d1ad417a9a97f888feea64d0e8a.jpg"></div><br>  Auf der Website des Spiels wurde ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">Arduino-Tutorial</a> mit einer Beschreibung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">Kommunikationsprotokolls</a> f√ºr solche Controller ver√∂ffentlicht. <br><br>  <strong>Ich m√∂chte dasselbe f√ºr mein Spiel erstellen</strong> <br><br>  In diesem Beispiel werde ich ungef√§hr 40 US-Dollar ausgeben, um dem Cockpit eines Rennsimulators sch√∂ne, gro√üe und schwere Schalter hinzuzuf√ºgen.  Die Hauptkosten sind mit diesen Schaltern verbunden - wenn ich einfache Schalter / Kn√∂pfe verwenden w√ºrde, w√§re der Preis halb so hoch!  Dies ist eine echte Ausr√ºstung, die 240 Watt Leistung aush√§lt, und ich werde nur etwa 0,03 Watt davon abgeben. <br><br>  Warnung: Ich habe beschlossen, Geld zu sparen, und hinterlasse einen Link zu einer billigen chinesischen Website, auf der ich eine Reihe verschiedener Komponenten / Werkzeuge kaufe.  Einer der Nachteile beim Kauf billiger Komponenten besteht darin, dass sie h√§ufig keine Dokumentation enthalten. In diesem Artikel werde ich dieses Problem l√∂sen. <br><a name="habracut"></a><br><h2>  Hauptkomponenten </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">Arduino Mega2560</a> - 9 US-Dollar <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">Z√ºndschalter Racing Panel</a> - $ 26 <br></li><li>  Ein B√ºndel von Verbindungsdr√§hten ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">"m√§nnlich zu m√§nnlich"</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">"m√§nnlich zu weiblich"</a> usw.) - $ 2 </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f5c/e18/fb6/f5ce18fb6e69f6d2dd322d5295a8c7db.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c43/2d0/b89/c432d0b89b271194d7e3c72a96f4a458.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/454/485/de1/454485de13be106ba6733352efa8c249.jpg"></div><br><h2>  Ausgew√§hlte Werkzeuge </h2><br><ul><li>  L√∂tkolben ( <em>es lohnt sich, einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">guten zu</a> w√§hlen, aber es ist auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">billig,</a> mit der Arbeit fertig zu werden</em> ) </li><li>  L√∂ten ( <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit Kolophonium 60/40</a> - es ist leicht zu verarbeiten, obwohl es umweltsch√§dlich ist</em> .) <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schrumpfschlauch</a> ( <em>und industrieller Haartrockner, Haartrockner oder Feuerzeug</em> ) oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Isolierband</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klebepistole</a> ( <em>und Stangen daran</em> ) oder eine Art <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Epoxidharz</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multimeter</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zangen zum Abisolieren von Dr√§hten</a> oder einfach nur Scheren, wenn Sie Geld sparen m√ºssen. </li></ul><br><h2>  Software </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">Arduino IDE</a> zur Programmierung des Arduino Prozessors </li><li>  So erstellen Sie einen Controller, der als echter Hardware-USB-Controller / Joystick angezeigt wird: <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">FLIP</a> zum Flashen neuer Firmware im Arduino USB-Controller </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">Arduino-USB-</a> Bibliothek auf Github </li></ul></li><li>  So erstellen Sie einen Controller, mit dem das Spiel direkt kommuniziert ( <em>oder der als virtueller USB-Controller / Joystick angezeigt wird</em> ) <ul><li>  Meine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">ois_protocol</a> Bibliothek auf Github <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">VJoy-Treiber,</a> wenn Sie den Controller als virtuellen USB-Controller / Joystick verwenden m√∂chten. </li></ul></li></ul><br><h2>  Warnung </h2><br>  Ich habe in der High School Elektronik studiert, gelernt, wie man einen L√∂tkolben benutzt, gelernt, dass die roten Dr√§hte mit den roten und die schwarzen mit den schwarzen Dr√§hten verbunden werden m√ºssen ... Volt, Ampere, Widerstand und die Gleichungen, die sie verbinden - das ist alles, was meine formale Ausbildung in Elektronik ersch√∂pft hat. <br><br>  F√ºr mich war es ein Trainingsprojekt, daher k√∂nnte es schlechte Ratschl√§ge oder Fehler geben! <br><br><h1>  Teil 1. Controller zusammenbauen! </h1><br><h2>  Wir arbeiten mit Schaltern ohne Dokumentation ... </h2><br>  Wie oben erw√§hnt, kaufe ich billige Teile bei einem Einzelh√§ndler mit geringen Gewinnspannen. Als Erstes m√ºssen Sie herausfinden, wie diese Schalter / Tasten funktionieren. <br><br><h3>  Einfacher Druckknopf / Schalter </h3><br>  Mit der Taste ist alles einfach - es gibt keine LEDs und nur zwei Kontakte.  Schalten Sie das Multimeter in den Durchgangs- / W√§hlmodus ( <img src="https://habrastorage.org/getpro/habr/post_images/628/15d/e9f/62815de9fa4516b533fa2a44197455da.gif">  ) und ber√ºhren Sie die Sonden verschiedener Kontakte - OL (offener Regelkreis, offener Stromkreis) wird auf dem Bildschirm angezeigt: Dies bedeutet, dass keine Verbindung zwischen den beiden Sonden besteht.  Dann dr√ºcken wir die Taste und ber√ºhren immer noch die Kontaktsonden - etwa 0,1 Œ© sollten jetzt auf dem Bildschirm erscheinen und das Multimeter beginnt zu piepen ( <em>was darauf hinweist, dass zwischen den Sonden ein sehr geringer Widerstand besteht - ein geschlossener Stromkreis</em> ). <br><br>  Jetzt wissen wir, dass beim Dr√ºcken der Taste der Stromkreis geschlossen und beim Dr√ºcken ge√∂ffnet wird.  Im Diagramm kann dies als einfacher Schalter beschrieben werden: <img src="https://habrastorage.org/getpro/habr/post_images/ff1/078/8d9/ff10788d996450509595baba45cad58e.png"><br><br><h2>  Wir verbinden den Schalter mit Arduino </h2><br>  Suchen Sie zwei Pins auf der Arduino-Platine: GND und ‚Äû2‚Äú (oder eine andere beliebige Zahl - dies sind universelle E / A-Pins, die wir √ºber Software steuern k√∂nnen). <br><br>  Wenn wir den Schalter auf diese Weise anschlie√üen und dann Arduino anweisen, Pin 2 als INPUT-Pin zu konfigurieren, erhalten wir die links gezeigte Schaltung (in der Abbildung unten).  Wenn die Taste gedr√ºckt wird, wird Pin 2 direkt mit Masse / 0 V verbunden, und wenn sie gedr√ºckt wird, wird Pin 2 mit nichts verbunden.  Dieser Zustand ( <em>mit nichts verbunden</em> ) wird als "schwebend" (hochohmiger Zustand) bezeichnet, und dies ist leider keine sehr gute Bedingung f√ºr unsere Zwecke.  Wenn wir Daten von einem Kontakt in der Software lesen ( <em>mit digitalRead (2)</em> ), erhalten wir LOW, wenn der Kontakt geerdet ist, und ein unvorhersehbares Ergebnis (LOW oder HIGH), wenn der Kontakt schwebt! <br><br>  Um dies zu beheben, k√∂nnen wir den Kontakt so konfigurieren, dass er sich im INPUT_PULLUP-Modus befindet, der mit dem Widerstand im Prozessor verbunden wird und die rechts gezeigte Schaltung erstellt.  In dieser Schaltung hat Pin 2 bei ge√∂ffnetem Schalter einen Pfad von +5 V, sodass das Ergebnis beim Lesen immer HIGH ist.  Wenn der Schalter geschlossen ist, hat der Kontakt immer noch einen Pfad mit hohem Widerstand gegen +5 V sowie einen Pfad ohne Widerstand gegen Masse / 0 V, der ‚Äûgewinnt‚Äú. Wenn wir also den Kontakt lesen, erhalten wir ein NIEDRIG. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/450/a26/fa9/450a26fa93dae881e4f2aca3f68d52ad.png"></div><br>  F√ºr Softwareentwickler scheint die Reihenfolge umgekehrt zu sein - wenn wir auf die Schaltfl√§che klicken, lesen wir false / LOW und wenn gedr√ºckt, lesen wir true / HIGH. <br><br>  Sie k√∂nnen das Gegenteil tun, aber der Prozessor verf√ºgt nur √ºber integrierte Pull-Up-Widerst√§nde und es gibt keine Pull-Down-Widerst√§nde. Wir werden uns also an dieses Modell halten. <br><br>  Das einfachste Programm f√ºr Arduino, das den Status des Switches liest und dem PC seinen Status mitteilt, sieht ungef√§hr so ‚Äã‚Äãaus wie das unten gezeigte.  Sie k√∂nnen in der Arduino IDE auf die Schaltfl√§che zum Herunterladen klicken und dann den seriellen Monitor (im Men√º Extras) √∂ffnen, um die Ergebnisse anzuzeigen. <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Serial.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>); pinMode(<span class="hljs-number"><span class="hljs-number">2</span></span>, INPUT_PULLUP); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> state = digitalRead(pin); Serial.println( state == HIGH ? <span class="hljs-string"><span class="hljs-string">"Released"</span></span> : <span class="hljs-string"><span class="hljs-string">"Pressed"</span></span> ); delay(<span class="hljs-number"><span class="hljs-number">100</span></span>);<span class="hljs-comment"><span class="hljs-comment">//artifically reduce the loop rate so the output is at a human readable rate... }</span></span></code> </pre> <br><h2>  Andere Schalter fast ohne Dokumentation ... </h2><br><h3>  Dreipoliger LED-Schalter </h3><br>  Gl√ºcklicherweise sind auf den Hauptschaltern meines Panels drei Kontakte markiert: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/43a/9c1/8e7/43a9c18e7e7c13e8ce02744fe8320bb6.jpg"></div><br>  Ich bin mir nicht ganz sicher, wie es funktioniert, daher schalten wir das Multimeter wieder in den kontinuierlichen Modus und ber√ºhren alle Kontaktpaare, wenn der Schalter ein- und ausgeschaltet wird. Diesmal piept das Multimeter jedoch √ºberhaupt nicht, wenn wir die Sonden [GND] und [+] mit ‚Äû einschalten!  Die einzige Konfiguration, in der das Multimeter piept ( <em>eine Verbindung erkennt</em> ), ist, wenn der Schalter eingeschaltet ist und die Sonden eingeschaltet sind [+] und [Lampe]. <br><br>  Die LED im Schalter blockiert die Durchgangsmessungen. Aus den obigen Tests geht hervor, dass die LED direkt mit dem [GND] -Pin und nicht mit den Kontakten [+] und [Lampe] verbunden ist.  Als n√§chstes schalten wir das Multimeter in den Diodentestmodus (Symbol) <img src="https://habrastorage.org/getpro/habr/post_images/aa4/e65/abe/aa4e65abeb894a55aa7074cbb67543aa.jpg">  ) und √ºberpr√ºfen Sie das Kontaktpaar erneut, diesmal ist jedoch die Polarit√§t wichtig ( <em>rote und schwarze Sonde</em> ).  Wenn wir nun die rote Sonde an [Lampe] und die schwarze an [GND] anschlie√üen, leuchtet die LED auf und 2,25 V werden am Multimeter angezeigt.  Dies ist die Gleichspannung der Diode oder die minimale Spannung, die zum Einschalten erforderlich ist.  Unabh√§ngig von der Schalterstellung leuchtet die LED bei 2,25 V von [Lampe] bis [GND] auf.  Wenn wir die rote Sonde an [+] und die schwarze an [GND] anschlie√üen, leuchtet die LED nur, wenn der Schalter eingeschaltet ist. <br><br>  Aus diesen Messwerten k√∂nnen wir annehmen, dass die Innenseiten dieses Schalters ungef√§hr so ‚Äã‚Äãaussehen wie in der folgenden Abbildung: <br><br><ol><li>  [+] und [Lampe] werden kurzgeschlossen, wenn der Schalter ein- / geschlossen ist. <br></li><li>  Eine positive Spannung von [Lampe] bis [GND] leuchtet immer auf. <br></li><li>  Eine positive Spannung von [+] bis [GND] leuchtet die LED nur auf, wenn der Schalter eingeschaltet / geschlossen ist. </li></ol><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bd6/34a/728/bd634a728856e82e71eecafa5d42d8a4.png"></div><br>  Ehrlich gesagt k√∂nnen wir nur das Vorhandensein eines Widerstands erraten.  Die LED <strong>muss</strong> an den entsprechenden Widerstand angeschlossen werden, um den Strom zu begrenzen, da sie sonst durchbrennt.  Meins ist nicht ausgebrannt und es sieht so aus, als ob es richtig funktioniert.  Im Forum der Website des Verk√§ufers habe ich einen Beitrag gefunden, in dem es um einen installierten Widerstand geht, der bis zu 12 V unterst√ºtzt. Dies hat mir Zeit bei der √úberpr√ºfung / Berechnung eines geeigneten Widerstands gespart. <br><br><h3>  Wir verbinden den Schalter mit Arduino </h3><br>  Am einfachsten ist es, den Schalter mit Arduino zu verwenden und dabei den [Lampen] -Pin zu ignorieren: Verbinden Sie [GND] mit dem GND in Arduino und verbinden Sie [+] mit einem der nummerierten Arduino-Kontakte, z. B. 3. <br><br>  Wenn wir Pin 3 als INPUT_PULLUP konfigurieren ( <em>wie bei der vorherigen Schaltfl√§che</em> ), erhalten wir das unten gezeigte Ergebnis.  Oben links wird der Wert angezeigt, den wir durch Ausf√ºhren von "digitalRead (3)" im Arduino-Code erhalten. <br><br>  Wenn der Schalter ein- / geschlossen ist, lesen wir LOW und die LED leuchtet auf!  Um einen solchen Schalter in dieser Konfiguration zu verwenden, k√∂nnen wir denselben Arduino-Code wie im Schaltfl√§chenbeispiel verwenden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd5/cc5/8ba/fd5cc58ba50f376abbd42806718b0f92.png"></div><br><h3>  Probleme dieser L√∂sung </h3><br>  Nach dem Anschlie√üen an das Arduino sieht die gesamte Schaltung folgenderma√üen aus: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/92c/305/f91/92c305f91bf0cf6fac213e2eba1db65e.png"></div><br>  Hier k√∂nnen wir jedoch sehen, dass bei geschlossenem Schalter zus√§tzlich zu dem kleinen Strombegrenzungswiderstand vor der LED (ich nehme an, dass sein Widerstand 100 Ohm betr√§gt) auch ein Pull-up-Widerstand um 20 kOhm vorhanden ist, wodurch die durch die LED flie√üende Strommenge weiter reduziert wird.  Dies bedeutet, dass die LED zwar funktioniert, die LED jedoch nicht sehr hell ist. <br><br>  Ein weiterer Nachteil dieses Schemas ist, dass wir keine Softwaresteuerung √ºber die LED haben - sie wird eingeschaltet, wenn der Schalter eingeschaltet ist, und im umgekehrten Fall deaktiviert. <br><br>  Sie k√∂nnen sehen, was passiert, wenn wir den [Lampen] -Pin entweder an 0 V oder + 5 V anschlie√üen. <br><br>  Wenn [Lampe] an 0 V angeschlossen ist, leuchtet die LED st√§ndig ( <em>unabh√§ngig von der Schalterstellung</em> ) und die Arduino-Positionserkennung wird weiterhin durchgef√ºhrt.  Dadurch k√∂nnen wir die LED programmgesteuert deaktivieren! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a55/de7/6d3/a55de76d395358050d3c96139e47df73.png"></div><br>  Wenn [Lampe] an + 5V angeschlossen ist, leuchtet die LED st√§ndig ( <em>unabh√§ngig von der Position des Schalters</em> ) <strong>, die</strong> Erkennung der Arduino-Position ist jedoch unterbrochen - HIGH wird immer vom Kontakt abgelesen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/310/ea5/4a8/310ea54a861f7f89bc624261abd71ce5.png"></div><br><h3>  Wir verbinden diesen Schalter korrekt mit Arduino </h3><br>  Wir k√∂nnen die oben beschriebenen Einschr√§nkungen ( <em>geringer Strom / geringe Helligkeit der LED und mangelnde Programmsteuerung der LED</em> ) √ºberwinden, indem wir mehr Code schreiben!  Um den Konflikt zwischen der F√§higkeit zur Steuerung der LED und der dadurch unterbrochenen Positionserkennung zu l√∂sen, k√∂nnen wir die beiden Aufgaben zeitlich trennen, d. H. Die LED beim Lesen des Sensorkontakts (3) vor√ºbergehend ausschalten. <br><br>  Verbinden Sie zuerst den [Lampen] -Pin mit einem anderen Allzweck-Arduino-Pin, z. B. mit 4, damit Sie die Lampe steuern k√∂nnen. <br><br>  Um ein Programm zu erstellen, das die Position des Schalters korrekt liest und die LED steuert (wir lassen sie blinken), m√ºssen Sie nur die LED ausschalten, bevor Sie den Status des Schalters lesen.  Die LED erlischt nur einen Bruchteil einer Millisekunde, sodass das Flackern nicht wahrgenommen werden sollte: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pinSwitch = <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pinLed = <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//connect to the PC Serial.begin(9600); //connect our switch's [+] connector to a digital sensor, and to +5V through a large resistor pinMode(pinSwitch, INPUT_PULLUP); //connect our switch's [lamp] connector to 0V or +5V directly pinMode(pinLed, OUTPUT); } void loop() { int lampOn = (millis()&gt;&gt;8)&amp;1;//make a variable that alternates between 0 and 1 over time digitalWrite(pinLed, LOW);//connect our [lamp] to +0V so the read is clean int state = digitalRead(pinSwitch); if( lampOn ) digitalWrite(pinLed, HIGH);//connect our [lamp] to +5V Serial.println(state);//report the switch state to the PC }</span></span></code> </pre> <br>  In Arduino Mega k√∂nnen die Pins 2-13 und 44-46 die analogWrite-Funktion verwenden, die tats√§chlich keine Spannung von 0 V bis + 5 V erzeugt, sondern diese mithilfe einer Rechteckwelle approximiert.  Falls gew√ºnscht, k√∂nnen Sie damit die Helligkeit der LED steuern!  Dieser Code l√§sst das Licht pulsieren und nicht nur flackern: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lampState = (millis()&gt;&gt;<span class="hljs-number"><span class="hljs-number">1</span></span>)&amp;<span class="hljs-number"><span class="hljs-number">0xFF</span></span>;<span class="hljs-comment"><span class="hljs-comment">//make a variable that alternates between 0 and 255 over time digitalWrite(pinLed, LOW);//connect our [lamp] to +0V so the read is clean int state = digitalRead(pinSwitch); if( lampState &gt; 0 ) analogWrite(pinLed, lampState); }</span></span></code> </pre> <br><h2>  Montagetipps </h2><br>  Der Beitrag ist bereits ziemlich gro√ü, daher werde ich das L√∂t-Tutorial nicht hinzuf√ºgen. Sie k√∂nnen es googeln! <br><br>  Ich werde jedoch die grundlegendsten Tipps geben: <br><br><ul><li>  Stellen Sie beim Anschlie√üen von Dr√§hten mit gro√üen Metallkontakten zun√§chst sicher, dass der L√∂tkolben hei√ü ist, und erhitzen Sie den Metallkontakt eine Weile.  Die Bedeutung des L√∂tens besteht darin, durch Erstellen einer Legierung eine dauerhafte Verbindung herzustellen. Wenn jedoch nur ein Teil der Verbindung hei√ü ist, k√∂nnen Sie leicht eine ‚Äûkalte Verbindung‚Äú erhalten, die wie eine Verbindung aussieht, aber nicht tats√§chlich verbunden ist. <br></li><li>  Wenn Sie die beiden Dr√§hte verbinden, ziehen Sie <i>zuerst</i> einen Schrumpfschlauch an. Nach dem Anschlie√üen kann der Schlauch nicht mehr angelegt werden.  Dies scheint offensichtlich, aber ich vergesse es st√§ndig und muss anstelle der R√∂hre Klebeband verwenden ... Ziehen Sie die Schrumpfr√∂hre von der Verbindung weg, damit sie sich nicht vorzeitig erw√§rmt.  Schieben Sie das Rohr nach √úberpr√ºfung der L√∂tverbindung darauf und erhitzen Sie es. <br></li><li>  Die d√ºnnen kleinen Verbindungsdr√§hte, die ich am Anfang erw√§hnt habe, eignen sich gut f√ºr l√∂tfreie Verbindungen (zum Beispiel, wenn sie an ein Arduino angeschlossen sind!), Aber eher zerbrechlich.  Verwenden Sie nach dem L√∂ten eine Klebepistole, um sie zu befestigen und alle Spannungen von der Verbindung selbst zu entfernen.  Zum Beispiel k√∂nnen die roten Dr√§hte in der Abbildung unten w√§hrend des Betriebs versehentlich gezogen werden. Nach dem L√∂ten habe ich sie mit einem Tropfen Hei√ükleber befestigt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a0d/fa0/1d4/a0dfa01d48145b489d680cc6e7f43bc8.jpg"></div></li></ul><br><h1>  Teil 2. Wir verwandeln das Ger√§t in einen Gamecontroller! </h1><br>  Damit das Betriebssystem das Ger√§t als USB-Gaming-Controller erkennt, ben√∂tigen Sie einen recht einfachen Code. Leider m√ºssen Sie auch die Arduino USB-Chip-Firmware durch eine andere ersetzen, die hier abgerufen werden kann: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">https://github.com/harlequin-tech/arduino-usb</a> . <br><br>  Nach dem Hochladen dieser Firmware auf Arduino wird das Ger√§t jedoch zu einem USB-Joystick und ist kein Arduino mehr.  Um es neu zu programmieren, m√ºssen Sie daher die urspr√ºngliche Arduino-Firmware neu flashen.  Diese Iterationen sind ziemlich schmerzhaft - laden Sie den Arduino-Code, flashen Sie die Joystick-Firmware, testen Sie, flashen Sie die Arduino-Firmware, wiederholen Sie ... <br><br>  Ein Beispiel f√ºr ein Programm f√ºr Arduino, das mit dieser Firmware verwendet werden kann, ist unten dargestellt. Es konfiguriert drei Schaltfl√§chen als Eingaben, liest ihre Werte, kopiert die Werte in die von dieser Firmware erwartete Datenstruktur und sendet dann die Daten.  Abwaschen, einseifen, wiederholen. <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// define DEBUG if you want to inspect the output in the Serial Monitor // don't define DEBUG if you're ready to use the custom firmware #define DEBUG //Say we've got three buttons, connected to GND and pins 2/3/4 int pinButton1 = 2; int pinButton2 = 3; int pinButton3 = 4; void setup() { //configure our button's pins properly pinMode(pinButton1, INPUT_PULLUP); pinMode(pinButton2, INPUT_PULLUP); pinMode(pinButton3, INPUT_PULLUP); #if defined DEBUG Serial.begin(9600); #else Serial.begin(115200);//The data rate expected by the custom USB firmware delay(200); #endif } //The structure expected by the custom USB firmware #define NUM_BUTTONS 40 #define NUM_AXES 8 // 8 axes, X, Y, Z, etc typedef struct joyReport_t { int16_t axis[NUM_AXES]; uint8_t button[(NUM_BUTTONS+7)/8]; // 8 buttons per byte } joyReport_t; void sendJoyReport(struct joyReport_t *report) { #ifndef DEBUG Serial.write((uint8_t *)report, sizeof(joyReport_t));//send our data to the custom USB firmware #else // dump human readable output for debugging for (uint8_t ind=0; ind&lt;NUM_AXES; ind++) { Serial.print("axis["); Serial.print(ind); Serial.print("]= "); Serial.print(report-&gt;axis[ind]); Serial.print(" "); } Serial.println(); for (uint8_t ind=0; ind&lt;NUM_BUTTONS/8; ind++) { Serial.print("button["); Serial.print(ind); Serial.print("]= "); Serial.print(report-&gt;button[ind], HEX); Serial.print(" "); } Serial.println(); #endif } joyReport_t joyReport = {}; void loop() { //check if our buttons are pressed: bool button1 = LOW == digitalRead( pinButton1 ); bool button2 = LOW == digitalRead( pinButton2 ); bool button3 = LOW == digitalRead( pinButton3 ); //write the data into the structure joyReport.button[0] = (button1?0x01:0) | (button2?0x02:0) | (button3?0x03:0); //send it to the firmware sendJoyReport(joyReport) }</span></span></code> </pre> <br><h1>  Teil 3. Wir integrieren das Ger√§t in unser eigenes Spiel! </h1><br>  Wenn Sie die Kontrolle √ºber das Spiel haben, mit dem das Ger√§t interagieren soll, k√∂nnen Sie alternativ direkt mit dem Controller kommunizieren - Sie m√ºssen es nicht als Joystick f√ºr das Betriebssystem sichtbar machen!  Zu Beginn des Beitrags erw√§hnte ich Objekte im Raum;  Dies ist der Ansatz, den die Entwickler verwendet haben.  Sie erstellten ein einfaches ASCII-Kommunikationsprotokoll, mit dem der Controller und das Spiel miteinander kommunizieren k√∂nnen.  Listen Sie einfach die seriellen Anschl√ºsse des Systems auf ( <em>es handelt sich unter Windows um COM-Anschl√ºsse; sehen Sie √ºbrigens, <a href="" rel="external nofollow">wie schrecklich es in C aussieht</a></em> ), suchen Sie den Anschluss, an den das Ger√§t mit dem Namen ‚ÄûArduino‚Äú angeschlossen ist, und beginnen Sie √ºber diesen Link mit dem Lesen / Schreiben von ASCII. <br><br>  Auf der Arduino-Seite verwenden wir nur die Serial.print-Funktionen, die in den obigen Beispielen verwendet wurden. <br><br>  Zu Beginn dieses Beitrags habe ich auch meine Bibliothek zur L√∂sung dieses Problems erw√§hnt: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">https://github.com/hodgman/ois_protocol</a> . <br><br>  Es enth√§lt C ++ - Code, der in das Spiel integriert und als "Server" verwendet werden kann, und Arduino-Code, der im Controller ausgef√ºhrt werden kann, um ihn als "Client" zu verwenden. <br><br><h2>  Passen Sie Arduino an </h2><br>  In <a href="" rel="external nofollow">example_hardware.h habe</a> ich Klassen erstellt, um einzelne Schaltfl√§chen / Optionsfelder zu abstrahieren.  Beispiel: "Schalter" ist eine einfache Schaltfl√§che aus dem ersten Beispiel. "LedSwitch2Pin" ist ein Schalter mit einer gesteuerten LED aus dem zweiten Beispiel. <br><br>  Der Beispielcode f√ºr meine Schaltfl√§chenleiste ist in <a href="" rel="external nofollow">example.ino</a> . <br><br>  Nehmen wir als kleines Beispiel an, wir haben eine einzelne Schaltfl√§che, die an das Spiel gesendet werden muss, und eine spielgesteuerte LED.  Der erforderliche Arduino-Code sieht folgenderma√üen aus: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ois_protocol.h"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//instantiate the library OisState ois; //inputs are values that the game will send to the controller struct { OisNumericInput myLedInput{"Lamp", Number}; } inputs; //outputs are values the controller will send to the game struct { OisNumericOutput myButtonOutput{"Button", Boolean}; } outputs; //commands are named events that the controller will send to the game struct { OisCommand quitCommand{"Quit"}; } commands; int pinButton = 2; int pinLed = 3; void setup() { ois_setup_structs(ois, "My Controller", 1337, 42, commands, inputs, outputs); pinMode(pinButton, INPUT_PULLUP); pinMode(pinLed, OUTPUT); } void loop() { //read our button, send it to the game: bool buttonPressed = LOW == digitalRead(pin); ois_set(ois, outputs.myButtonOutput, buttonPressed); //read the LED value from the game, write it to the LED pin: analogWrite(pinLed, inputs.myLedInput.value); //example command / event: if( millis() &gt; 60 * 1000 )//if 60 seconds has passed, tell the game to quit ois_execute(ois, commands.quitCommand); //run the library code (communicates with the game) ois_loop(ois); }</span></span></span></span></code> </pre> <br><h2>  Passen Sie das Spiel an </h2><br>  Der Spielcode ist im Stil eines "einzelnen Headers" geschrieben.  Um die Bibliothek zu importieren, <a href="" rel="external nofollow">f√ºge oisdevice.h</a> in das Spiel ein. <br><br>  Schreiben Sie in eine einzelne CPP-Datei vor dem Ausf√ºhren des # include-Headers #define OIS_DEVICE_IMPL und #define OIS_SERIALPORT_IMPL. Dadurch wird der CPP-Datei der Quellcode der Klassen hinzugef√ºgt.  Wenn Sie √ºber eigene Anweisungen, Protokollierungen, Zeichenfolgen oder Vektoren verf√ºgen, k√∂nnen Sie vor dem Importieren des Headers mehrere andere OIS_ * -Makros definieren, um die Funktionen der Engine zu nutzen. <br><br>  Verwenden Sie den folgenden Code, um COM-Ports aufzulisten und eine Verbindung mit einem bestimmten Ger√§t herzustellen: <br><br><pre> <code class="cpp hljs">OIS_PORT_LIST portList; OIS_STRING_BUILDER sb; SerialPort::EnumerateSerialPorts(portList, sb, <span class="hljs-number"><span class="hljs-number">-1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> it = portList.begin(); it != portList.end(); ++it ) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> label = it-&gt;name + <span class="hljs-string"><span class="hljs-string">'('</span></span> + it-&gt;path + <span class="hljs-string"><span class="hljs-string">')'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-comment"><span class="hljs-comment">/*device selection choice*/</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> gameVersion = <span class="hljs-number"><span class="hljs-number">1</span></span>; OisDevice* device = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OisDevice(it-&gt;id, it-&gt;path, it-&gt;name, gameVersion, <span class="hljs-string"><span class="hljs-string">"Game Title"</span></span>); ... } }</code> </pre> <br>  Nachdem Sie eine OisDevice-Instanz erhalten haben, m√ºssen Sie regelm√§√üig die Poll-Member-Funktion aufrufen (z. B. in jedem Frame). Mit DeviceOutputs () k√∂nnen Sie den aktuellen Status der Controller-Ausgabe abrufen, mit PopEvents () Ger√§teereignisse verwenden und mit SetInput () Werte an das Ger√§t senden. <br><br>  Eine Beispielanwendung f√ºr all dies finden Sie hier: <a href="" rel="external nofollow">example_ois2vjoy / main.cpp</a> . <br><br><h1>  Teil 4. Was ist, wenn ich Teil 2 und 3 gleichzeitig m√∂chte? </h1><br>  Damit der Controller in anderen Spielen funktioniert (Teil 2), m√ºssen Sie Ihre eigene Firmware und ein Arduino-Programm installieren. Damit der Controller jedoch vollst√§ndig vom Spiel programmiert werden kann, haben wir die Standard-Arduino-Firmware und ein anderes Arduino-Programm verwendet.  Aber was ist, wenn wir beide M√∂glichkeiten gleichzeitig haben wollen? <br><br>  Die Beispielanwendung, zu der ich den obigen Link ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">ois2vjoy</a> ) gegeben habe, l√∂st dieses Problem. <br><br>  Diese Anwendung kommuniziert mit dem OIS-Ger√§t (dem Programm aus Teil 3) und konvertiert diese Daten dann auf dem PC in regul√§re Controller- / Joystick-Daten, die dann auf den <em>virtuellen</em> Controller / Joystick √ºbertragen werden.  Dies bedeutet, dass Sie Ihrem Controller erlauben k√∂nnen, die OIS-Bibliothek st√§ndig zu verwenden (es ist keine andere Firmware erforderlich). Wenn Sie sie als regul√§ren Controller / Joystick verwenden m√∂chten, f√ºhren Sie einfach die Anwendung ois2vjoy auf dem PC aus, der die Konvertierung durchf√ºhrt. <br><br><h1>  Teil 5. Fertigstellung </h1><br>  Ich hoffe, jemand fand diesen Artikel n√ºtzlich oder interessant.  Vielen Dank f√ºr das Lesen bis zum Ende! <br><br>  Wenn Sie neugierig sind, lade ich Sie ein, an der Entwicklung der Bibliothek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="external nofollow">ois_protocol teilzunehmen</a> !  Ich denke, es wird gro√üartig sein, ein einziges Protokoll zu entwickeln, das alle Arten von hausgemachten Controllern in Spielen unterst√ºtzt und Spiele dazu ermutigt, selbstgemachte Controller direkt zu unterst√ºtzen! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de442816/">https://habr.com/ru/post/de442816/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de442806/index.html">Das vorl√§ufige DUMP-2019-Programm ist fertig. Sprecher von Evil Martians, Tinkoff.ru, HTML Academy, SkyEng, 2GIS</a></li>
<li><a href="../de442808/index.html">Wir laden Sie zur Droid Party ein - einem Treffen, das sich praktischen Fragen der Entwicklung von Android-Anwendungen und -Ger√§ten widmet</a></li>
<li><a href="../de442810/index.html">Mythen der Popul√§rphysik, Fortsetzung: Schwerkraft</a></li>
<li><a href="../de442812/index.html">"Ich sehe keinen Grund, Python f√ºr die Arbeit mit Spark zu verwenden, au√üer Faulheit."</a></li>
<li><a href="../de442814/index.html">10 Jahre sind vergangen und niemand hat herausgefunden, wie man die Blockchain benutzt. Und wieder hier?</a></li>
<li><a href="../de442818/index.html">10 h√§ufige Fehler in schriftlichem Englisch und wie man damit umgeht</a></li>
<li><a href="../de442820/index.html">Benutzerdefinierte Coroutinen in Einheit mit Vorlieben und Kurtisanen</a></li>
<li><a href="../de442822/index.html">Rechenzentrum im Meer und im Orbit: Haben sie praktische Bedeutung?</a></li>
<li><a href="../de442824/index.html">Willkommen im Silicon Valley</a></li>
<li><a href="../de442826/index.html">Social Engineering als Dramaturgie oder was die Phishing-Dom√§ne und das Tschechow-Gewehr gemeinsam haben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>