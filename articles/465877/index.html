<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉ üïì üë©üèæ‚Äçü§ù‚Äçüë®üèª Seguridad de la informaci√≥n desde la nube: c√≥mo funciona la plataforma de servicios de ciberseguridad unificada üëÜ üêâ ü§õ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A finales del a√±o pasado, despu√©s de un acuerdo con Rostelecom, recibimos a nuestra disposici√≥n una plataforma SD-WAN / SDN basada en la nube para pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Seguridad de la informaci√≥n desde la nube: c√≥mo funciona la plataforma de servicios de ciberseguridad unificada</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/465877/"><img src="https://habrastorage.org/webt/up/fe/po/upfepor6uo1ei64ske5ajymh0gq.jpeg" alt="imagen"><br>  A finales del a√±o pasado, despu√©s de un acuerdo con Rostelecom, recibimos a nuestra disposici√≥n una plataforma SD-WAN / SDN basada en la nube para proporcionar servicios de IB a los clientes.  Nos conectamos con los proveedores del proyecto para entregar sus soluciones en forma virtualizada, y obtuvimos un enorme coloso, que llamamos Plataforma Unificada de Servicios de Ciberseguridad, o EPSC.  Su caracter√≠stica clave es la entrega de tecnolog√≠as de seguridad desde la nube con la posibilidad de una administraci√≥n centralizada: la implementaci√≥n y el cambio de una sola funci√≥n de red o transformaci√≥n global en todas las oficinas atendidas lleva solo unos minutos.  Hoy le contaremos m√°s sobre su arquitectura y "relleno". <br><a name="habracut"></a><br>  Pero antes de pasar por alto, algunas palabras sobre lo que el EPSC realmente sabe.  La plataforma incluye servicios: protecci√≥n de correo electr√≥nico (Secure Email Gateway, SEG) y aplicaciones web (Web Application Firewall, WAF), prevenci√≥n de intrusiones de red (Unified Threat Management, UTM) y Anti-DDoS.  Todos ellos se pueden utilizar tanto de forma simult√°nea como por separado, aqu√≠ para cada uno seg√∫n sus necesidades. <br><br><h2>  Envu√©lveme con tr√°fico, por favor.  Principios de trabajo. </h2><br>  En general: los dispositivos de enrutamiento del equipo de instalaciones del cliente (CPE) se instalan en todos los sitios del cliente.  CPE proporciona un t√∫nel seguro a nuestros centros de datos, a la plataforma EPSC.  Por lo tanto, solo el tr√°fico que se ha borrado en nuestro equipo de seguridad perimetral llega al cliente.  Al mismo tiempo, gracias a SD-WAN y a la tunelizaci√≥n, el proceso de entrega de tr√°fico a nuestra plataforma no depende de la red del proveedor que utilice el cliente. <br><br><img src="https://habrastorage.org/webt/pz/b4/d0/pzb4d097koq__lisd7bcasadzau.jpeg" alt="imagen"><br><br><h3>  Arquitectura de la plataforma </h3><br>  La infraestructura f√≠sica del EPSC son servidores x86 ordinarios con m√°quinas virtuales implementadas en ellos, conmutadores y enrutadores.  El punto es que puede administrar esta riqueza de manera flexible y central.  Y aqu√≠, dos palabras m√°gicas nos ayudan: VNF y MANO. <br><br>  VNF (Funci√≥n de red virtualizada) son funciones de red que se proporcionan a los usuarios finales (UTM, SEG y WAF).  MANO (Gesti√≥n y Orquestaci√≥n): un conjunto de herramientas para gestionar el ciclo de vida de las funciones virtualizadas.  Estas herramientas solo brindan esa centralizaci√≥n y orquestaci√≥n flexible, lo que le permite realizar cambios a una velocidad fundamentalmente diferente. <br><br>  Y ahora con m√°s detalle. <br><br>  En el borde de cada centro de datos hay un enrutador Nokia 7750 SR-12 con un rendimiento de 400 Gb / s: proporciona enrutamiento en el per√≠metro y dentro de la nube.  En un nivel inferior se encuentran los Conmutadores de columna Juniper 5100 con puertos de 40 Gb / s, que agregan todos los componentes de red de las capas inferiores. <br><br>  Una red virtual incluye dos segmentos: SD-WAN, que conecta el entorno de la nube a los sitios de los clientes, y SDN DC, una red definida por software dentro de la propia nube, a trav√©s de la cual se configuran los puertos, el direccionamiento IP, etc.  al crear una cadena de servicio. <br><br>  La parte del servidor consta de servidores de administraci√≥n de plataforma en la nube CloudBand, servidores de administraci√≥n SDN, servidores de administraci√≥n SD-WAN (VSD, VSC) y NSG-BR (enrutadores virtuales que terminan IPsec a trav√©s de t√∫neles de clientes VXLAN) o VXLAN, dependiendo de qu√© si el cifrado IPsec. <br><br>  El direccionamiento IP blanco para el tr√°fico de clientes se implementa sobre la base de 2 subredes con una m√°scara / 22 (1018 direcciones en cada subred): una de ellas se enruta a Internet y la otra a RSNet. <br><br><h3>  Tolerancia a fallos </h3><br>  Toda la infraestructura de la nube est√° reservada sobre la base de dos centros de datos geogr√°ficamente remotos en Mosc√∫, que operan en modo Activo - En espera.  Adem√°s, cualquier cadena de servicio (un conjunto de funciones para un cliente en particular) se implementa en cada una de ellas como un cl√∫ster.  En caso de emergencia, cuando se cambia de un nodo a otro, solo se pierden unos 10 paquetes.  Dado que a las personas est√∫pidas se les ocurri√≥ TCP, la p√©rdida no ser√° notable. <br><br><img src="https://habrastorage.org/webt/hz/m3/gg/hzm3gg-czupkjo99f-mizurxyam.jpeg" alt="imagen"><br><br>  En el futuro, planeamos una expansi√≥n geogr√°fica m√°s all√° de los Urales para reducir los retrasos en la transmisi√≥n de datos para las regiones.  Sin embargo, por hoy, incluso para Khabarovsk, los retrasos son solo de unos 200 ms: los clientes juegan con √©xito en Steam y ven videos de YouTube (de una revisi√≥n real sobre el servicio ÔÅä). <br><br>  En el futuro cercano ser√° posible conectar un CPE a dos WAN independientes.  El canal puede ser MPLS, Ethernet (cobre u √≥ptica seg√∫n el CPE utilizado), m√≥dem USB LTE, etc.  Por ejemplo, el canal principal puede ser de fibra √≥ptica, y el canal de respaldo puede ser inal√°mbrico (porque nadie es inmune a la excavadora del destino y los cables da√±ados).  Actualmente, es posible usar dos WAN, pero solo cuando se usan dos CPE en un cl√∫ster HA. <br><br><h3>  Cadenas de servicio </h3><br>  El cliente selecciona los par√°metros b√°sicos a trav√©s de la LC e inicia la formaci√≥n de la cadena de servicio: las interfaces de red se activan autom√°ticamente, se asignan direcciones IP y se bombean im√°genes VNF, dependiendo del ancho de banda seleccionado.  Por ejemplo, si orden√≥ FortiGate Firewall por 300 Mbit, se le asignar√°n autom√°ticamente 4 n√∫cleos, 8 GB de RAM, cierta cantidad de espacio en disco y la imagen se implementar√° autom√°ticamente en una configuraci√≥n de 0 d√≠as. <br><br>  El rendimiento de nuestra plataforma ahora est√° dise√±ado para 160 cadenas de servicio de 1 Gbit cada una, y est√° previsto escalar hasta 1000 cadenas de servicio de 50 Mbit cada una (ya que las cadenas de 1 Gbit ser√°n mucho menos populares, seg√∫n nuestra evaluaci√≥n de mercado). <br><br><h2>  CPE: mejor diluyente, ¬øs√≠ m√°s? </h2><br>  En realidad, para nuestro servicio, elegimos CPE "delgados" basados ‚Äã‚Äãen Nokia NSG-C y NSG-E200.  Son sutiles solo porque no pueden ejecutar VNF de terceros, pero de lo contrario tienen toda la funcionalidad necesaria para construir comunicaci√≥n entre sitios, t√∫neles (IPsec y VPN), sin embargo, se pueden usar soluciones de otros fabricantes para esta tarea.  Tambi√©n hay listas de control de acceso (ACL) para el filtrado: parte del tr√°fico se puede liberar localmente y parte se puede enviar para una limpieza fina al centro de datos EPSC, donde se implementan las funciones virtuales WAF, UTM y SEG. <br><br>  Adem√°s, el dispositivo puede realizar el Enrutamiento consciente de aplicaciones (AAR), es decir  priorizar el ancho de banda seg√∫n el tipo de tr√°fico utilizando mecanismos de inspecci√≥n profunda de paquetes (DPI).  Al mismo tiempo, las redes fijas y m√≥viles o su combinaci√≥n para diferentes tr√°ficos pueden usarse como canales de comunicaci√≥n. <br><br>  La activaci√≥n de CPE se basa en el principio de aprovisionamiento de cero contacto.  Es decir, todo es elemental: conectamos el CPE a Internet, conectamos una computadora port√°til desde la interfaz Ethernet interna, hacemos clic en el enlace de activaci√≥n, luego encendemos nuestra LAN en lugar de la computadora port√°til y todo funciona.  Adem√°s, en nuestra nube, el t√∫nel IPsec sobre VXLAN aumenta de forma predeterminada (es decir, el espacio de direcciones se a√≠sla primero y luego se canaliza). <br><br>  En general, la opci√≥n con un CPE delgado nos parece m√°s conveniente.  Con este enfoque, el cliente se salva de un posible bloqueo de proveedor y puede escalar la soluci√≥n en cualquier momento, sin contar con el grosor del CPE (50 Mbps). <br><br>  En el caso de un CPE grueso, entre otras cosas, tambi√©n implementa las funciones virtuales seleccionadas por el cliente, y en el centro de datos EPCC solo existe la gesti√≥n de la cadena de servicios.  La ventaja de este enfoque es que todo el tr√°fico se procesa localmente.  Al mismo tiempo, el costo de un dispositivo de este tipo es mucho mayor, y no puede hacer m√°s de un servicio espec√≠fico en √©l: debe comprar CPE adicionales.  S√≠, y puede olvidarse de los proveedores m√∫ltiples. <br><br>  Pero si el cliente tiene una plataforma bastante grande (oficina, sucursal) que pasa mucho tr√°fico a trav√©s de s√≠ mismo (m√°s de 200 Mbit / s), y quiere filtrar todo localmente, tiene sentido prestar atenci√≥n a la serie Nokia CPE NSG E300 (y superior) c Ancho de banda de 1 a 10 Gbps que admite virtualizaci√≥n (VNF). <br><br>  De forma predeterminada, SD-WAN re√∫ne todos los sitios del cliente en una red de malla completa, es decir, los conecta de acuerdo con el principio de "cada uno con cada uno" sin filtrado adicional.  Esto reduce los retrasos en el per√≠metro interno.  Sin embargo, es posible construir topolog√≠as m√°s complejas (estrella, estrella compleja, cuadr√≠culas de rango m√∫ltiple, etc.). <br><br><h2>  Operaci√≥n </h2><br>  Todos los VNF que est√°n en la nube est√°n actualmente disponibles en la cl√°sica doctrina MSSP, es decir, est√°n bajo nuestro control.  En el futuro, los clientes tendr√°n la oportunidad de gestionar estos servicios de forma independiente, pero es importante evaluar sus competencias con sensatez. <br>  Algunas funciones simples ahora est√°n parcialmente automatizadas.  Por ejemplo, en Secure Mail Gateway, una pol√≠tica est√° configurada de manera predeterminada, en la que el usuario recibe una lista de mensajes potencialmente relacionados con el correo no deseado una vez al d√≠a y puede decidir su destino por su cuenta. <br><br>  Algunos problemas y vulnerabilidades globales que est√°n siendo monitoreados por nuestro JSOC se cerrar√°n r√°pidamente, incluso para los clientes de EPSC.  Y aqu√≠ la posibilidad de una gesti√≥n centralizada de las pol√≠ticas y firmas es justo lo que necesitamos: esto proteger√° a los clientes de infecciones como Petya, NotPetya y otras. <br><br><h2>  Respuestas honestas a preguntas inc√≥modas. </h2><br>  De hecho, aunque creemos mucho en las ventajas del modelo de servicio, est√° claro que para muchos el concepto del sistema de correo electr√≥nico es demasiado inusual.  Lo que se nos pide con mayor frecuencia: <br><br>  <b>- FortiGate se encuentra en su centro de datos, es decir, ¬øver√° nuestro tr√°fico?</b> <br><br>  - No, no vemos tr√°fico.  FortiGate lo recibe en forma cifrada, lo descifra con la clave del cliente, lo comprueba y procesa con un antivirus continuo, lo cifra nuevamente con la misma clave y solo luego lo env√≠a a su red.  No tenemos opciones para acoplarnos en este proceso (a menos que participemos en ingenier√≠a inversa de soluciones de bases de datos rigurosas, pero es demasiado costoso ). <br><br>  <b>- ¬øEs posible guardar nuestra segmentaci√≥n de red al pasar a la nube?</b> <br><br>  - Y aqu√≠ hay una limitaci√≥n.  La segmentaci√≥n de red no es una historia turbia.  UTM es un cortafuegos l√≠mite de la red de un cliente en el que no se puede realizar la segmentaci√≥n, es decir, sus datos se env√≠an a un solo canal.  En cierto sentido, puede segmentar la red dentro de la ACL en el CPE estableciendo diferentes restricciones para diferentes sitios.  Pero si tiene aplicaciones comerciales que necesitan interactuar de manera diferente entre s√≠ a trav√©s del firewall, entonces a√∫n necesitar√° usar un FW separado para la segmentaci√≥n interna. <br><br>  <b>- ¬øQu√© pasar√° con nuestras direcciones IP cuando nos traslademos a la nube?</b> <br><br>  - En la mayor√≠a de los casos, deber√° cambiar sus direcciones IP blancas a las nuestras.  Una excepci√≥n es posible si tiene un proveedor de sistema aut√≥nomo no independiente (PI AS), asignado a usted, que puede ser re-anunciado por nosotros. <br><br>  A veces es m√°s l√≥gico elegir una opci√≥n compleja, por ejemplo, permitir el tr√°fico de usuarios a trav√©s de UTM y liberar otros segmentos de red directamente a Internet. <br><br>  <b>- ¬øY si necesita proteger un sitio alojado por un proveedor externo?</b> <br><br>  - CPE no pone all√≠.  Puede conectar WAF cambiando el registro ADNS: cambie la IP del sitio a la IP de la cadena de servicio, y luego el tr√°fico pasar√° por nuestra nube sin la ayuda de CPE. <br><br>  Si tiene otras preguntas, escriba los comentarios y trataremos de responderlas. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/465877/">https://habr.com/ru/post/465877/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../465861/index.html">"Nube" confidencial. Estamos buscando una alternativa a las soluciones abiertas.</a></li>
<li><a href="../465863/index.html">C√≥mo usar MIDI para web en resumen</a></li>
<li><a href="../465867/index.html">Reprogramamos el cajero e imprimimos en √©l Keanu Reeves</a></li>
<li><a href="../465869/index.html">Convertir modelos poligonales en representaci√≥n de l√≠mites: algoritmo y ejemplos de c√≥digo</a></li>
<li><a href="../465873/index.html">El problema que resuelves es m√°s importante que el c√≥digo que escribes</a></li>
<li><a href="../465879/index.html">¬øY qu√© hay de las cunas?</a></li>
<li><a href="../465885/index.html">¬øC√≥mo convertirse en un l√≠der Scrum Master y Rock the Team?</a></li>
<li><a href="../465889/index.html">C√≥mo fuimos sobre la eficiencia energ√©tica</a></li>
<li><a href="../465891/index.html">C√≥mo encontrar un nombre de producto o empresa usando Vepp como ejemplo</a></li>
<li><a href="../465893/index.html">Summ3r de h4ck 2019. Departamento de an√°lisis de seguridad</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>