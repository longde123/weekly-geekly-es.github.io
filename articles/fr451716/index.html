<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçü§ù‚Äçüë®üèæ üñºÔ∏è üòú Am√©lioration des performances logicielles avec les outils Intel pour les d√©veloppeurs. Mod√©lisation num√©rique des objets astrophysiques ‚ûñ üèø üêÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous commen√ßons une s√©rie d'articles d√©crivant diverses situations dans lesquelles l'utilisation d'outils Intel pour les d√©veloppeurs a consid√©rableme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Am√©lioration des performances logicielles avec les outils Intel pour les d√©veloppeurs. Mod√©lisation num√©rique des objets astrophysiques</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/451716/">  Nous commen√ßons une s√©rie d'articles d√©crivant diverses situations dans lesquelles l'utilisation d'outils Intel pour les d√©veloppeurs a consid√©rablement augment√© la vitesse du logiciel et am√©lior√© sa qualit√©. <br><br>  Notre premi√®re histoire s'est produite √† l'Universit√© de Novossibirsk, o√π les chercheurs ont d√©velopp√© un outil logiciel pour simuler num√©riquement les probl√®mes magn√©tohydrodynamiques pendant l'ionisation de l'hydrog√®ne.  Ce travail a √©t√© r√©alis√© dans le cadre du projet global de mod√©lisation d'objets astrophysiques <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AstroPhi</a> ;  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les processeurs Intel Xeon Phi</a> ont √©t√© utilis√©s comme plate-forme mat√©rielle.  Gr√¢ce √† l'utilisation d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Intel Advisor</a> et d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Intel Trace Analyzer and Collector</a> , les performances informatiques ont √©t√© multipli√©es par 3 et la vitesse de r√©solution d'un probl√®me est pass√©e d'une semaine √† deux jours. <br><br><img src="https://habrastorage.org/webt/ve/yz/on/veyzonsqtlwjzsvr8njnsasyu5c.png"><br><a name="habracut"></a><br><h2>  <font color="#0071c5">Description de la t√¢che</font> </h2><br>  La mod√©lisation math√©matique joue un r√¥le important en astrophysique moderne, comme dans toute science;  Il s'agit d'un outil universel pour √©tudier les processus √©volutifs non lin√©aires dans l'univers.  La mod√©lisation √† haute r√©solution de processus astrophysiques complexes n√©cessite d'√©normes ressources de calcul.  Le projet AstroPhi NSU d√©veloppe un code logiciel astrophysique pour les superordinateurs bas√© sur des processeurs Intel Xeon Phi.  Les √©tudiants apprennent √† √©crire des programmes de simulation pour un runtime extr√™mement parall√©lis√©, acqu√©rant des connaissances importantes dont ils auront ensuite besoin lorsqu'ils travailleront avec d'autres superordinateurs. <br><br>  La m√©thode de mod√©lisation num√©rique utilis√©e dans le projet pr√©sentait un certain nombre d'avantages importants: <br><br><ul><li>  manque de viscosit√© artificielle, </li><li>  Invariance galil√©enne, </li><li>  garantie de non-r√©duction de l'entropie, </li><li>  parall√©lisation simple </li><li>  extensibilit√© potentiellement infinie. </li></ul><br>  Les trois premiers facteurs sont essentiels √† une mod√©lisation r√©aliste des effets physiques significatifs des probl√®mes astrophysiques. <br><br>  L'√©quipe de recherche a cr√©√© un nouvel outil de mod√©lisation pour les architectures multi-parall√®les bas√© sur Intel Xeon Phi.  Sa t√¢che principale √©tait d'√©viter les goulots d'√©tranglement dans l'√©change de donn√©es entre les n≈ìuds et de simplifier au maximum le raffinement du code.  La solution de parall√©lisation utilise MPI, et pour la vectorisation, les instructions Intel Advanced Vector Extensions 512 (Intel AVX-512) ajoutent la prise en charge de SIMD 512 bits et permettent au programme d'emballer 8 nombres √† virgule flottante double pr√©cision ou 16 nombres simple pr√©cision (32 bits) ) aux vecteurs de 512 bits.  Ainsi, deux fois plus d'√©l√©ments de donn√©es sont trait√©s par instruction que lors de l'utilisation d'AVX / AVX2 et quatre fois plus que lors de l'utilisation de SSE. <br><br><img src="https://habrastorage.org/webt/sr/wp/-t/srwp-tbptms3rmbp_gcwucnq7lk.png"><br><br>  <i>Image avant optimisation.</i>  <i>Chaque point est un cycle de traitement.</i>  <i>Plus le point est grand et rouge, plus le cycle se poursuit et plus l'effet de son optimisation est perceptible.</i>  <i>Le point rouge se situe bien en dessous de la limite de bande passante DRAM et est calcul√© avec des performances inf√©rieures √† 1 GFLOP.</i>  <i>Il a un tr√®s grand potentiel d'am√©lioration.</i> <br><br><h2>  <font color="#0071c5">Optimisation du code</font> </h2><br>  Avant l'optimisation, le code avait certains probl√®mes avec les d√©pendances et les tailles des vecteurs.  L'objectif d'optimisation √©tait de supprimer les d√©pendances des vecteurs et d'am√©liorer les op√©rations de chargement des donn√©es en m√©moire en utilisant la taille optimale des vecteurs et des tableaux pour Xeon Phi.  Pour l'optimisation, nous avons utilis√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Intel Advisor</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Intel Trace Analyzer and Collector</a> , deux outils d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Intel Parallel Studio XE</a> . <br><br>  <b>Intel Advisor</b> est, comme son nom l'indique, un conseiller - un outil logiciel qui √©value le degr√© d'optimisation - la vectorisation (√† l'aide des instructions AVX ou SIMD) et la parall√©lisation pour obtenir des performances maximales.  Gr√¢ce √† cet outil, l'√©quipe a pu faire une analyse d'ensemble des cycles, en mettant en √©vidence ceux √† faible productivit√©, en indiquant le potentiel d'am√©lioration et en d√©terminant ce qui pourrait √™tre am√©lior√© et si le jeu en valait la chandelle.  Intel Advisor a tri√© les cycles par potentiel, ajout√© des messages √† la source pour une meilleure lisibilit√© du rapport du compilateur.  Il a √©galement fourni des informations importantes telles que les temps de cycle, les d√©pendances des donn√©es et les mod√®les d'acc√®s √† la m√©moire pour une vectorisation s√ªre et efficace. <br><br>  <b>Intel Trace Analyzer and Collector</b> est une autre fa√ßon d'optimiser votre code.  Il comprend le profilage des communications MPI et des fonctionnalit√©s d'analyse pour am√©liorer la mise √† l'√©chelle faible et forte.  Cet outil graphique a aid√© l'√©quipe √† comprendre le comportement MPI de l'application, √† trouver rapidement des goulots d'√©tranglement et, surtout, √† augmenter les performances de l'architecture Intel. <br><br><img src="https://habrastorage.org/webt/ab/iu/-c/abiu-cytfszydezm2llj5ftyemi.png"><br><br>  <i>Image apr√®s optimisation.</i>  <i>Pendant l'optimisation de la boucle rouge, les d√©pendances de vectorisation ont √©t√© supprim√©es, les op√©rations de chargement en m√©moire ont √©t√© optimis√©es, les tailles des vecteurs et des tableaux ont √©t√© adapt√©es pour les instructions Intel Xeon Phi et AVX-512.</i>  <i>Les performances sont pass√©es √† 190 GFLOPS, soit environ 200 fois.</i>  <i>Maintenant, il est au-dessus de la limite de DRAM et probablement limit√© par les caract√©ristiques du cache L2</i> <br><br><h2>  <font color="#0071c5">R√©sultat</font> </h2><br>  Ainsi, apr√®s toutes les am√©liorations et optimisations, l'√©quipe a atteint 190 performances GFLOPS avec une intensit√© arithm√©tique de 0,3 FLOP / b, une utilisation √† 100% et une bande passante m√©moire de 573 Go / s. <br><br><img src="https://habrastorage.org/webt/nv/gf/bu/nvgfbuvc9a7cdx0ej1vwh3m56ao.png"><br>  <i>Extrait de code optimis√©</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr451716/">https://habr.com/ru/post/fr451716/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr451696/index.html">Nous participons au r√©cent concours Telegram, √©crivons une application OpenGL ES sympa et ne gagnons rien</a></li>
<li><a href="../fr451702/index.html">Comment Stas et moi avons automatis√© l'usine en 2 mois</a></li>
<li><a href="../fr451704/index.html">Swift sous le capot: mise en ≈ìuvre g√©n√©rique</a></li>
<li><a href="../fr451708/index.html">Comment se pr√©parer au contr√¥le ILV des donn√©es personnelles: un guide complet</a></li>
<li><a href="../fr451710/index.html">Internet pour le r√©sident d'√©t√©. Nous obtenons la vitesse maximale dans les r√©seaux 4G. Partie 2. Choisir une antenne externe</a></li>
<li><a href="../fr451718/index.html">Cr√©er un assistant vocal</a></li>
<li><a href="../fr451720/index.html">Chargement de FIAS dans la base de donn√©es sur MSSQLSERVER par des moyens improvis√©s (SQLXMLBULKLOAD). Comment cela (probablement) n'a pas besoin d'√™tre fait</a></li>
<li><a href="../fr451722/index.html">Biblioth√®que de widgets asynchrones Qt-async</a></li>
<li><a href="../fr451724/index.html">Skyrmion √† skyrmion discord: skyrmions polaires tridimensionnels dans les ferro√©lastiques</a></li>
<li><a href="../fr451726/index.html">Vous cherchez du travail √† l'√©tranger: 7 conseils simples pour les professionnels de l'informatique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>