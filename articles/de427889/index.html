<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍤 😋 🐤 Falsch, falsch, falsch! Methoden zur DDoS-Minderung 🤙🏾 🤶🏻 🤰🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habr, dies ist eine Transkription der Leistung von CTO Qrator Labs Tyoma ximaera Gavrichenkova auf der RIPE77 in Amsterdam. Wir konnten seinen Namen n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Falsch, falsch, falsch! Methoden zur DDoS-Minderung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/qrator/blog/427889/"><blockquote>  Habr, dies ist eine Transkription der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Leistung von</a> CTO Qrator Labs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Tyoma ximaera</a> Gavrichenkova auf der RIPE77 in Amsterdam.  Wir konnten seinen Namen nicht unter Beibehaltung der Bedeutung ins Russische übersetzen und beschlossen daher, Habr beim Eintritt in den englischsprachigen Markt zu helfen, und ließen alles so, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wie es ist</a> </blockquote><img src="https://habrastorage.org/webt/fp/9z/e-/fp9ze-92xtogelu516pk48mp_5u.png"><br><br>  Dies ist ein Zitat von einer meiner Lieblingsbands.  Dave Gahan von Depeche Mode ist ein lebender Beweis dafür, dass man in 5 Minuten 65 Mal das Wort „falsch“ sagen kann und trotzdem ein Rockstar bleibt.  Mal sehen, ob es mir gelingt. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/we/va/x8/wevax8efvzvuroig-swl_rq4-3o.png"><br><br>  Wissen Sie, dass Menschen Geografie einfach lieben? <br><br><img src="https://habrastorage.org/webt/ea/fv/vk/eafvvksk3wibq7g46m5z_nfk684.png"><br><br>  All dies, wissen Sie, trendige Karten und Architekturpläne. <br><br>  Vielleicht ist dies der Hauptgrund, warum ich beim Lesen des StackExchange- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sicherheitsabschnitts</a> ständig auf denselben Ansatz zur Verhinderung von Cyberangriffen stoße. <br><br><img src="https://habrastorage.org/webt/co/us/pr/couspr0q1taydn6egsicb33mqic.png"><br><br>  Nehmen wir an, wir als Unternehmen erwarten nicht die spanische Inquisition, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pah</a> , chinesische Benutzer.  Warum beschränken wir den Zugriff nicht einfach von ihren IP-Adressen?  Wir sind am Ende nicht Facebook und unsere Dienste sind nur in einer begrenzten Anzahl von Regionen verfügbar.  Und tatsächlich ist Facebook auch in China nicht verfügbar. Warum sollten wir uns Sorgen machen? <br><br><img src="https://habrastorage.org/webt/tp/hy/hd/tphyhdr4rbwdrnj9pk1q1n6nl9u.png"><br><br>  Außerhalb der Welt der Informationstechnologie wird eine ähnliche Technik manchmal als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Redlining bezeichnet</a> .  Das Wesen dieses Phänomens ist wie folgt. <br><br>  Angenommen, Sie sind Direktor einer Taxiflotte oder Pizzeria.  Sie haben bestimmte Statistiken gesammelt, nach denen Ihr Kurier in einigen Stadtteilen möglicherweise ausgeraubt wird, oder es ist sehr wahrscheinlich, dass Ihr Auto zerkratzt wird.  Nun, Sie sammeln alle Mitarbeiter, zeichnen eine dicke rote Linie auf den Stadtplan und geben bekannt, dass Sie außerhalb der roten Grenze keine weiteren Dienstleistungen mehr erbringen.  (Aufgrund der strukturellen Merkmale der meisten amerikanischen Städte entspricht dies im Übrigen fast der Verweigerung von Dienstleistungen auf ethnischer Basis und wird als großes Problem angesehen.) <br><br>  Wir können dasselbe mit IP-Adressen tun, oder?  Jede IP-Adresse gehört zu einem beliebigen Land, daher gibt es eine offizielle Datenbank, die von der IETF und RIPE verwaltet wird und die die Zuweisung jeder IP-Adresse bestätigt. <br><br>  Falsch! <br><br><img src="https://habrastorage.org/webt/1b/3h/yr/1b3hyrmcivcy43z0fzkm6y-hjvw.png"><br><br>  Wenn wir uns nur auf technische Aspekte beschränken, fällt uns vorerst zunächst ein, dass Geobasen kommerzielle Produkte von Handelsunternehmen sind, von denen jedes Daten auf seine eigene, oft nicht ganz klare Weise sammelt.  Solche Produkte können für statistische oder andere Studien verwendet werden. Die Bereitstellung eines breiten Publikums für einen Produktionsdienst, der auf einem solchen Produkt basiert, ist jedoch aus unzähligen Gründen eine absolute Idiotie. <br><br>  Das Konzept des "Besitzes" einer IP-Adresse existiert überhaupt nicht.  Eine IP-Adresse ist keine Telefonnummer, ein regionaler Registrar überträgt sie nicht an Eigentum, was ausdrücklich in seinen Richtlinien festgelegt ist.  Wenn es eine Entität auf der Welt gibt, zu der IP-Adressen gehören, dann ist es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IANA</a> , kein Land oder Unternehmen. <br><br>  Nebenbei bemerkt, der Prozess des Schutzes (Ihres) Urheberrechts ist manchmal nur kompliziert geworden. <br><br><img src="https://habrastorage.org/webt/xo/_p/dx/xo_pdxwdjlnelmbykat9s8ws_d4.png"><br><br>  Natürlich kann ein Teil davon (wenn auch keineswegs alles) mit dem Aufkommen von IPv6 besser werden.  Jetzt sprechen wir jedoch über DDoS-Angriffe.  Die Ära des echten IPv6-DDoS ist noch nicht angebrochen, und wenn wir Erfahrungen sammeln, können völlig andere Situationen auftreten.  Im Allgemeinen ist es noch zu früh, um darüber nachzudenken. <br><br>  Aber zurück zu DDoS: Was ist, wenn wir sicher sind, dass die Gegenseite etwas eindeutig Bösartiges tut? <br><br><img src="https://habrastorage.org/webt/vy/6w/fz/vy6wfzr1n6liqmn7znsfrmr4l5m.png"><br><br>  Unser Setup: 40G-Verkehr, höchstwahrscheinlich DNS-Verkehr, da er von Port 53 stammt. <br><br>  Wie wir wissen, ist dieses Verhalten typisch für DDoS-Angriffe mit DNS-Verstärkung.  Verstärkungsangriffe verwenden einen anfälligen Server, um den Datenverkehr zu erhöhen, und die darin enthaltene Quell-IP-Adresse ist derselbe anfällige Server. <br><br><img src="https://habrastorage.org/webt/9y/ct/k1/9yctk1lasa2p9aapwhbvcw29pdw.png"><br><br>  Was ist, wenn wir die Technologie verwenden, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wir benötigen</a> , um den Zugriff auf diese anfälligen Server einzuschränken?  Lassen Sie all diese DNS-Reflektoren endlich patchen, damit sie keine Bedrohung mehr darstellen, oder? <br><br>  Nein, nicht so! <br><br><img src="https://habrastorage.org/webt/z6/hl/aj/z6hlajigelwyicqylgcxit_oee0.png"><br><br>  Das ist eine echte Geschichte.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die beschriebenen Ereignisse ereigneten sich 1987 in Minnesota</a> .  Auf Wunsch der Überlebenden wurden alle Namen geändert.  Aus Respekt vor den Toten wurden die restlichen Ereignisse genau so angezeigt, wie sie sich ereigneten. <br><br>  Das Unternehmen erhielt Face-by-Face-Gigabyte an DNS-Verkehr und entschied sich, diese mithilfe von IP-Adressen auf der schwarzen Liste zu verarbeiten. <br><br>  Nach zwei Stunden bemerkten die Angreifer dies irgendwie und änderten sofort das Angriffsmuster.  Ihre Fähigkeit, zuvor Amplifikationsangriffe durchzuführen, beruhte auf ihrer eigenen Fähigkeit, Pakete mit gefälschten Quell-IP-Adressen zu generieren. Daher machten sie dies weiterhin, jedoch auf etwas andere Weise. <br><br><img src="https://habrastorage.org/webt/to/d9/ef/tod9efspvvpyjarwjibaxqbkoio.png"><br><br>  Sie begannen, das Opfer direkt mit UDP-Verkehr mit Quellport 53 und gefälschten IP-Adressen aus dem gesamten IPv4-Adresspool zu überfluten.  Das vom Unternehmen verwendete NetFlow-Skript entschied, dass der Amplifikationsangriff andauerte, und begann, die Quellen zu verbieten. <br><br><img src="https://habrastorage.org/webt/hx/cj/le/hxcjlefpjwcitbj3dpa5oxwggls.png"><br><br>  Da Sie, wie Sie vielleicht vermutet haben, den gesamten IPv4-Adressraum in wenigen Stunden erraten können, dauerte es einige Zeit, bis die Netzwerkgeräte keinen Speicher mehr hatten und vollständig heruntergefahren wurden. <br><br>  Um die Situation zu verschärfen, sortierten die Angreifer zunächst die Endbenutzerpräfixe der beliebtesten und größten Breitbandanbieter in diesem Land, sodass die Website für Besucher lange vor dem vollständigen Denial-of-Service nicht zugänglich war. <br><br><img src="https://habrastorage.org/webt/nt/80/gg/nt80ggdl2uvvjiccltepih23hww.png"><br><br>  Es folgt eine Lektion: Generieren Sie keine Blacklists automatisch, wenn Sie die IP-Adresse der Angriffsquelle nicht überprüft haben.  Besonders bei Angriffen wie Verstärkung / Reflexion.  Sie scheinen nicht das zu sein, was sie wirklich sind. <br><br>  Danach bleibt die Frage. <br><br><img src="https://habrastorage.org/webt/td/mu/gi/tdmugigmusv1fscksxz8xqmndj4.png"><br><br>  Was ist, wenn wir zumindest bestätigen, dass sich ein böswilliger Verstärker tatsächlich auf der Remote-Ressource befindet?  Lassen Sie uns das Internet scannen und die IP-Adressen mit allen potenziellen Verstärkern sammeln.  Wenn wir dann einen von ihnen im Quellfeld des Pakets sehen, blockieren wir sie einfach - sie sind sowieso Verstärker, oder? <br><br>  Weißt du was?  Nicht so! <br><br><img src="https://habrastorage.org/webt/ki/rq/6k/kirq6kdzivfqttkpfv0i7on0vho.png"><br><br>  Es gibt eine Reihe von Gründen, von denen jeder argumentiert, dass dies niemals getan werden sollte.  Überall im Internet gibt es Millionen potenzieller Verstärker, und Sie können sich leicht täuschen lassen, indem Sie erneut eine übermäßige Anzahl von IP-Adressen blockieren.  IPv6-Internet ist im Allgemeinen nicht so einfach zu scannen. <br><br>  Aber was hier wirklich lustig ist, ist, dass in einer solchen Situation das Potenzial nicht nur falsch positiver, sondern auch falsch negativer Antworten zunimmt.  Dank was? <br><br><img src="https://habrastorage.org/webt/mn/zg/bf/mnzgbfp8pwegi6hw3kgsticd1gy.png"><br><br>  Redlining in anderen Netzwerken! <br><br>  Die Leute hassen Netzwerkscanner.  Sie blockieren sie, weil ihre glamouröse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IDS-</a> Ausrüstung Scanner als direkte Bedrohung kennzeichnet.  Sie blockieren Scanner auf millionenfache Weise, und ein Angreifer hat möglicherweise Zugriff auf Verstärker, mit denen Sie nichts tun können.  Niemand wird im Voraus fragen, wie weich und flauschig Ihr Scanner ist.  IDS hat kein Konzept wie einen „guten externen Scanner“. <br><br><img src="https://habrastorage.org/webt/cg/oj/iq/cgojiqcnfeuc9s4vpe0jcibuv0s.png"><br><br>  Hier sind die wichtigsten Ergebnisse: <br><ul><li>  Versuchen Sie nicht, schwarze Listen zu verwenden, ohne sicherzugehen, dass die Remote-Seite nicht gefälscht ist. </li><li>  Verwenden Sie keine Blacklists, wenn dies nicht möglich ist oder wenn es eine bessere Lösung gibt. </li><li>  Hören Sie schließlich auf, das Internet auf eine Weise zu brechen, für die es nicht ausgelegt ist! </li></ul><br>  Und denken Sie daran: Eine komplexe Entscheidung ist normalerweise besser als eine einfache, da einfache Entscheidungen in der Regel komplexe Konsequenzen haben. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427889/">https://habr.com/ru/post/de427889/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427873/index.html">3D-Konstruktionsdrucker für das College of Modern Technology</a></li>
<li><a href="../de427875/index.html">Hintergrund: „Internet Archive“ - Entstehungsgeschichte, Mission und Nebenprojekte</a></li>
<li><a href="../de427877/index.html">Rockstar-Programmiersprache: Wenn der Code wie Rock-Hit-Text aussieht</a></li>
<li><a href="../de427879/index.html">Wie ich von Python zu Julia gewechselt bin (und warum)</a></li>
<li><a href="../de427883/index.html">Einführung in Virtualisierung, Container und Kubernetes: 18 Cloud-Ressourcen</a></li>
<li><a href="../de427891/index.html">Millionen von Menschen können durch Sicherheitslücken in der Cisco WebEx Conference Platform angegriffen werden</a></li>
<li><a href="../de427893/index.html">Bloody Lola auf Omega 2 oder Python an Halloween würgen</a></li>
<li><a href="../de427895/index.html">Entfernen von Daten aus einer Shardable-Datenbank</a></li>
<li><a href="../de427897/index.html">Analyse eines Magnetresonanztomographen II: Metamaterialien in der MRT</a></li>
<li><a href="../de427899/index.html">JsonWriterSax - eine Bibliothek zum Erstellen von JSON</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>