<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßõüèø üë©üèø‚Äçüéì üïµüèø Lancement de ROS sur le robot auto-√©quilibrant EduMIP üë®üèº‚Äçüîß üëù üë£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©sentation 
 Cette publication fournit des instructions pour l'installation et l'ex√©cution du syst√®me d'exploitation du robot (ROS) sur le robot mob...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lancement de ROS sur le robot auto-√©quilibrant EduMIP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413677/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/8h/nj/tt/8hnjttadeo1bqubidyjqbs__zta.jpeg" width="300"></div><h4>  Pr√©sentation </h4><br>  Cette publication fournit des instructions pour l'installation et l'ex√©cution du syst√®me d'exploitation du robot (ROS) sur le robot mobile EduMIP.  EduMiP est un robot auto-√©quilibr√© construit autour d'un BeagleBone Black avec un microprocesseur embarqu√© et une cape de robotique Beaglebone Black d√©velopp√© par James Strawson et le professeur Thomas Bewley en coordination avec le laboratoire de robotique coordonn√©e de l'UCSD et leur personnel.  BeagleBone Blue, r√©cemment sorti mi-2017, combine les fonctionnalit√©s de BeagleBone Black et Robotics Cape en une seule carte.  Le professeur Bewley utilise ce robot dans son cours MAE144 - Embedded Control &amp; Robotics, Department of Mechanical and Aerospace Engineering, UCSD. <br>  Je r√©ponds aux questions dans les commentaires. <br><a name="habracut"></a><br><h4>  Liste des composants </h4><br>  Notez que vous avez besoin d'un Baglebone Blue ou de Beaglebone Black et Robotics Cape. <br><br><ul><li>  <b>Beaglebone Blue (BBBL)</b> : r√©cemment publi√© mi-2017, combine les fonctionnalit√©s de BeagleBone Black et Robotics Cape sur un ordinateur √† carte unique. <br><br><img src="https://habrastorage.org/webt/tj/1p/_z/tj1p_zumabntnzh4jqyoy4w3huy.png"></li><li>  <b>Beaglebone Black (BBB)</b> : plate-forme √† faible co√ªt prise en charge par la communaut√© pour les d√©veloppeurs et les amateurs, avec un processeur AR3 Cortex AM335x 1 GHz, 512 Mo de RAM DDR3, 4 Go d'emcc 8 bits √† bord. </li><li>  <b>Robotics Cape (BBB-RC)</b> : Beaglebone Black Robotics Cape est une carte d'E / S pour Beaglebone Black qui fournit plusieurs capteurs et une prise en charge mat√©rielle riche, y compris les √©l√©ments suivants: <br><br><ul><li>  Capteurs: <br><br><ul><li>  IMU √† 9 axes </li><li>  Barom√®tre </li></ul></li><li>  E / S: <br><br><ul><li>  4 encodeurs quadratiques </li><li>  4 pilotes de moteur √† pont en H </li><li>  8 sorties servo / ESC </li><li>  Interface radio DSM RC standard </li><li>  I2C UART ADC SPI GPIO PWM </li><li>  Contr√¥leur de charge de batterie au lithium polym√®re </li></ul></li></ul></li></ul><br><ul><li>  <b>Kit EduMIP</b> : Le kit comprend des moteurs √† courant continu, des engrenages, des encodeurs, des roues, des pi√®ces en plastique, des fils et des attaches. <br><img src="https://habrastorage.org/webt/x2/4z/se/x24zseh1x6idjkg-ytpfd684w-c.jpeg"></li><li>  <b>Carte Micro-SD</b> : Une <b>carte</b> micro-SD d'au moins 8 Go. </li><li>  <b>Image Ubuntu 16.04 LTS pour BeagleBone Black and Blue</b> : j Image reproduite avec l'aimable autorisation de Robert Nelson, Jeff O'Brian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Cette image contient ROS Kinetic avec ROS pr√©install√©, comme un poste de travail ros catkin avec des packages de base ros EduMIP avec des packages pr√©install√©s.  Voici deux images Ubuntu, assurez-vous que vous utilisez la bonne image: <br><br><ul><li>  Utilisez cette image pour BragleBonbne Blue: <br><br>  2018_02_03_beaglebone_blue_16p04_Ubuntu_LTS_EduMIP_ROS.img.zip </li><li>  Utilisez cette image pour BeagleBone Black Wireless + Robotics Cape: <br><br>  2018_02_03_beaglebone_black_wireless_16p04_Ubuntu_LTS_EduMIP_ROS.img.zip </li></ul><br>  Une image de 8 Go est compress√©e dans un fichier zip de 2,5 Go.  VOUS N'AVEZ PAS BESOIN DE D√âBALLER UN FICHIER ZIP.  Le programme (Etcher) peut le d√©compresser √† la vol√©e. </li><li>  <b>Cl√© USB</b> : utile pour les didacticiels du cours de programmation de syst√®mes robotiques.  Un bon mod√®le bon march√© est le Logitech Gamepad F310 </li></ul><br><h4>  Assemblage et test du kit EduMIP (partie du travail du cours de programmation des syst√®mes robotiques # 3) </h4><br>  G√©n√©rez et testez EduMIP comme suit.  Soyez prudent.  Soyez doux. <br><br>  1. <b>EduMIP Build</b> : Suivez les instructions de construction d'EduMIP √©tape par √©tape fournies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Regardez ma vid√©o de montage en russe: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3dvmGL0Sdj4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  2. <b>Quelques notes suppl√©mentaires:</b> <br><br><ul><li>  Une documentation suppl√©mentaire est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici.</a> </li><li>  <b>Si vous utilisez BEAGLEBONE BLACK + ROBOTIC CAPE, NE PAS M√âLANGER L'ALIMENTATION + 5V et + 9V:</b> BBB a un connecteur d'alimentation pour + 5V.  Robotics Cape a un connecteur d'alimentation ballel identique pour + 9V.  L'enfer </li><li>  Ne branchez pas l'alimentation + 9V directement dans le connecteur + 5V sur le BBB, le r√©sultat sera un BBB mort. </li><li>  <b>Coupez l'alimentation lorsque vous n'utilisez pas le robot:</b> lorsque vous n'utilisez pas EduMIP ou ne chargez pas la batterie: <br><br>  D√©branchez le c√¢ble de charge 12V d'EduMIP <br>  Avant de transporter le robot D√©branchez la batterie du cap Robotics. </li><li>  <b>NE PAS ENDOMMAGER le moteur et les</b> connecteurs <b>ENCODER: Les</b> connecteurs Robotics Cape pour les codeurs et les moteurs sont tr√®s petits. </li></ul><br><h4>  Configuration de Beaglebone Black / Blue et EduMIP (dans le cadre du cours ROS # 3) </h4><br>  Configurez votre Beaglebone Blue pour une utilisation dans EduMIP comme suit. <br><br>  1. <b>V√©rifiez votre carte BeagleBone Blue / Black:</b> avant d'assembler edumip, testez votre carte beaglebone blue - elle est livr√©e avec Debian Jessie install√©e sur son lecteur flash interne de 4 Go. <br><br><ol><li>  Suivez les instructions <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Pour installer les r√®gles udev sur votre PC Linux.  Utilisez cette page uniquement pour d√©couvrir comment prot√©ger les r√®gles UDEV sur votre PC LINUX, ignorez tout le reste. </li><li>  Apr√®s avoir install√© les r√®gles udev appropri√©es sur votre ordinateur Linux, il √©tablira une connexion Ethernet au BBB via la connexion USB via l'adaptateur Ethernet virtuel usb0.  Votre ordinateur h√¥te sera √† l'adresse IP 192.167.7.1 et BBB sera √† 192.168.7.2.  SSH de l'ordinateur h√¥te vers le BBB "ssh debian@192.168.7.2".  Le mot de passe par d√©faut pour "debian" est "temppwd". </li><li>  Chaque fois que vous avez fini de travailler avec BBBL et que vous √™tes pr√™t √† l'√©teindre, ne vous contentez pas de l'√©teindre - ex√©cutez la commande "sudo poweroff" pour √©teindre Linux et couper l'alimentation de la carte.  Une fois tous les voyants de la carte √©teints, il est normal de d√©connecter le c√¢ble USB. </li></ol><br>  2. <b>Installez et testez l'image Linux 8 Go Ubuntu 16.04 LTS avec prise en charge ROS et BBBL / EduMIP sur votre BBBL</b> : nous avons cr√©√© une image Ubuntu 8 Go qui prend en charge la cin√©tique ros et BBBL.  Votre kit EduMIP poss√®de une carte micro-SD vierge de 32 Go ou 64 Go. <br><br><ol><li>  T√©l√©chargement: l'image pr√™te √† l'emploi Ubuntu 16.04 pour la prise en charge ARM pour BBBL et ROS, voir ci-dessus pour les instructions intitul√©es ¬´Image Ubuntu 16.04 LTS pour beaglebone noir et bleu¬ª. </li><li>  Vous n'avez pas besoin de d√©compresser l'image archiv√©e. </li><li>  T√©l√©charger Etcher: t√©l√©chargez et installez Etcher sur votre ordinateur avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">etcher.io</a> -Etcher est un programme pour √©crire des images disque sur des cartes SD. </li><li>  Gravez l'image disque sur la carte micro-SD. </li><li>  Ins√©rez soigneusement la carte micro SD: Ins√©rez la carte micro SD dans la fente pour carte micro SD et le beaglebone.  NE LE REMPLACEZ PAS, IL FOURNIT TOUJOURS UNE TOUCHE DOUCE √Ä INSTALLER. </li><li>  T√©l√©chargez-le!  T√©l√©chargez BBBL √† partir d'une image de carte Micro-SD en la connectant √† un ordinateur √† l'aide d'un c√¢ble USB. <br><ol><li>  Si la carte Micro-SD contient une image de d√©marrage, alors BBBL d√©marrera √† partir d'elle, et non √† partir de son lecteur flash int√©gr√©. </li><li>  SSH sur BBBL ("ssh ubuntu@192.168.7.2" avec le mot de passe "temppwd") et assurez-vous que vous travaillez r√©ellement dans une image de 32 Go.  La commande df -h doit afficher au moins 2 Go d'espace libre et la commande htop doit afficher 1 Go du fichier d'√©change actif. </li></ol></li></ol><br>  3. <b>Test EduMIP</b> : v√©rifiez EduMIP en vous connectant en tant qu'utilisateur ubuntu avec le mot de passe ¬´temppwd¬ª comme suit: <br><br><ol><li>  <b>Remarque sur les messages d'erreur</b> : la derni√®re version de la biblioth√®que roboticscape, qui est t√©l√©charg√©e sur l'image Ubuntu que nous utilisons, contient des erreurs PRU qui affichent le message d'erreur <b>"ERREUR: pilote pru-rproc manquant"</b> lors de l'appel des biblioth√®ques roboticscape pour acc√©der au mat√©riel BBBL  Nous pouvons ignorer cet avertissement, il sera corrig√© dans une version ult√©rieure.  Attendez-vous √† voir l'un de ces avertissements lors de l'ex√©cution de programmes tels que rc_balance, rc_test_encoders, edumip_balance_ros, etc. <br><br>  Voici un exemple de ce message d'erreur: <br><br><pre><code class="hljs powershell">ubuntu@arm:~<span class="hljs-variable"><span class="hljs-variable">$</span></span> rc_test_imu ERROR: pru<span class="hljs-literal"><span class="hljs-literal">-rproc</span></span> driver missing <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-string"><span class="hljs-string">'test_imu -h'</span></span> to see other options Accel XYZ(m/s^<span class="hljs-number"><span class="hljs-number">2</span></span>) | Gyro XYZ (rad/s) | Mag Field XYZ(uT) | Temp (C) <span class="hljs-number"><span class="hljs-number">0.23</span></span> <span class="hljs-literal"><span class="hljs-literal">-3</span></span>.<span class="hljs-number"><span class="hljs-number">06</span></span> <span class="hljs-number"><span class="hljs-number">9.72</span></span> | <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-literal"><span class="hljs-literal">-0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">-0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> | <span class="hljs-number"><span class="hljs-number">22.9</span></span> <span class="hljs-literal"><span class="hljs-literal">-4</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-literal"><span class="hljs-literal">-54</span></span>.<span class="hljs-number"><span class="hljs-number">9</span></span> | <span class="hljs-number"><span class="hljs-number">37.9</span></span></code> </pre> </li><li>  <b>Test de l'encodeur</b> : ex√©cutez la commande rc_test_encoders et tournez un peu les roues - vous verrez des encodeurs E2 et E3 montrant la variation du nombre de tours. </li><li>  <b>Test moteur</b> : ex√©cutez la commande "rc_test_motors-D 0.1" - lorsque vous soulevez l'EduMIP, les deux roues doivent tourner dans des directions oppos√©es. </li><li>  <b>√âtalonnage du gyroscope</b> : placez l'EduMIP sur la table, immobile, et ex√©cutez la commande rc_calibrate_gyro et suivez les instructions.  Ce programme d'√©talonnage √©crit l'√©talonnage du gyroscope dans /var/lib/roboticscape/gyro.cal </li><li>  <b>Test du gyroscope</b> : ex√©cutez la commande "rc_test_imu" et assurez-vous que les donn√©es "Gyro XYZ (rad / s)" sont √©gales √† z√©ro (ou presque z√©ro). </li><li>  <b>Calibrage du magn√©tom√®tre</b> : ex√©cutez la commande "rc_calibrate_mag" et suivez les instructions - il vous sera demand√© de tenir l'EduMIP dans votre main et de le faire tourner ("tourner") dans toutes les orientations.  Ce programme d'√©talonnage √©crit le fichier d'√©talonnage du magn√©tom√®tre /var/lib/roboticscape/mag.cal </li><li>  <b>Test du magn√©tom√®tre</b> : ex√©cutez la commande rc_test_imu et v√©rifiez que les donn√©es du champ magn√©tique XYZ (uT) ne sont pas nulles.  L‚Äôamplitude du vecteur du champ magn√©tique de la Terre √† Baltimore et Woods Hole est d‚Äôenviron 52uT, mais ne vous inqui√©tez pas si votre magn√©tom√®tre semble un peu √©teint. <br><br>  Vous pouvez conna√Ætre la latitude, la longitude et l'intensit√© du champ magn√©tique pour Baltimore en entrant votre code postal sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette page Web</a> . </li><li>  <b>Test d'√©quilibrage EduMIP</b> : Ex√©cutez la commande ¬´rc_balance¬ª et mettez le robot en place.  Votre robot doit rester en place. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Vp46u8LSqu4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zPuyzaUQ4kU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></li></ol><br>  4. <b>Test ROS sur BBBL</b> <br><br><ol><li>  V√©rifiez le fichier .bashrc.  √Ä la fin, le fichier doit avoir les commandes suivantes dans l'ordre suivant: <br>  Tout d'abord, la commande ¬´source /opt/ros/kinetic/setup.bash¬ª pour configurer les variables d'environnement ROS. <br>  Deuxi√®mement, la commande "source ~ / catkin_ws / devel / setup.bash" pour ajouter l'espace de travail local catkin √† l'environnement ROS (cela s'appelle "superposition d'espace de travail"). </li><li>  Ex√©cutez la commande ¬´source .bashrc¬ª pour configurer les variables d'environnement ROS.  V√©rifiez-les avec la commande printenv / grep ROS. </li><li>  Assurez-vous que vous pouvez ex√©cuter roscore et d'autres utilitaires ROS. </li><li>  Assurez-vous que vous pouvez ex√©cuter "catkin_make" dans l'espace de travail BBBL ROS. </li><li>  Image v√©rifi√©e </li></ol><br>  5. <b>Mettre √† jour et tester le programme d'√©quilibre ROS EduMip</b> : <br><br><ol><li>  Si vous ne l'avez pas d√©j√† fait, calibrez le gyroscope EduMIP avec la commande "rc_calibrate_gyro" pendant que le robot est toujours sur la table. </li><li>  Connectez-vous √† EduMIP avec le nom d'utilisateur ¬´ubuntu¬ª et le mot de passe ¬´temppwd¬ª </li><li>  Configurer le Wi-Fi sur EduMIP: configurez votre Wi-Fi pour pouvoir cloner des paquets ROS √† partir de notre r√©f√©rentiel git. </li><li>  Si vous avez install√© l'image Ubuntu 16.04 pr√©install√©e comme d√©crit ci-dessus, vous aurez d√©j√† les packages ¬´edumip_msgs¬ª et ¬´edumip_ros_balance¬ª dans le r√©pertoire source de catkin worskace, c'est-√†-dire ~ / catkin_ws / src / edumip_msgs et ~ / catkin_ws / src / edumip_balance_ros.  <b>Mettez √† jour le package</b> edumip_balance_ros avec la commande ¬´cd ~ / catkin_ws / src / edumip_balance_ros¬ª et ¬´git pull¬ª pour t√©l√©charger le dernier code de ce package.  Si vous obtenez le message d'erreur "erreur: vos modifications locales dans les fichiers suivants seront √©cras√©es par la fusion: <br><br>  src / edumip_balance_ros.cpp Veuillez valider vos modifications ou les cacher avant de pouvoir fusionner. ", puis supprimez le fichier src / edumip_balance_ros.cpp interf√©rant et" git pull "√† nouveau. </li><li>  Si vos <b>edumip_msgs</b> et <b>edumip_balance_ros</b> ne sont pas d√©j√† dans le r√©pertoire <b>src</b> de l'espace de travail catkin de votre EduMIP (il devrait √™tre <b>~ / catkin_ws / src</b> ), alors <b>clonez</b> ces deux packages ROS dans <b>~ / catkin_ws / src</b> ): <br><ol><li>  Le package <b>edumip_msg</b> d√©finit le type de message personnalis√© edumip_msf / EduMipState pour EduMIP.  Ce package ne contient pas de code source, uniquement la d√©finition des messages et des communications CMakeLists.txt et package.xml.  Si votre ordinateur doit acc√©der √† ce type de message, vous devez √©galement cloner le projet sur votre ordinateur.  Ce package est ind√©pendant de l'architecture.  Ce paquet peut √™tre clon√© par git √† partir de cette <a href="">URL publique</a> . </li><li>  Le package <b>edumip_balance_ros</b> contient le noeud C ++ edumip_ros_node ROS.cpp, qui est une version du programme Rc-ified rc_balance.  L'image Linux que nous vous avons fournie a d√©j√† install√© les pilotes Robotics Cape et ROS.  Ce paquet peut √™tre clon√© par git √† partir de cette <a href="">URL publique</a> . </li></ol></li><li>  Cr√©ez ces deux packages √† l'aide de la commande catkin_make dans le r√©pertoire principal de l'espace de travail catkin. </li><li>  V√©rifiez que ROS conna√Æt d√©sormais les messages utilisateur d√©finis dans le package edumip_msgs avec la commande: rosmsg show edumip_msgs / EduMipState </li><li>  Ouvrez deux sessions ssh distantes sur EduMIP: <br><br>  Tout d'abord, dans le premier shell, lancez ¬´roslaunch edumip_balance_ros edumip_balance_ros¬ª <br>  Deuxi√®mement, dans le deuxi√®me shell, voir les rubriques ros et print topics / edumip / state. <br>  Mettez votre robot, il doit s'√©quilibrer. </li></ol><br>  6. <b>D√©sactivez correctement BBBL</b> : lorsque vous avez termin√© et que vous √™tes pr√™t √† d√©sactiver BBBL, ne vous contentez pas de l'√©teindre - ex√©cutez la commande "sudo poweroff" pour d√©sactiver Linux et couper l'alimentation de la carte.  Une fois toutes les LED de la carte √©teintes, vous pouvez d√©connecter le c√¢ble USB. <br><br><h4>  Quelques notes Linux utiles pour BBB et BBBL </h4><br><ul><li>  Les √©diteurs emacs et nano sont d√©j√† install√©s sur l'image BBB linux fournie pour ce tutoriel. </li><li>  L'utilitaire Linux "Locate" n'est pas install√© par d√©faut, mais vous pouvez l'installer √† l'aide de "sudo apt-get install Locate" et initialiser la base de donn√©es Locate avec la commande "sudo updatedb" (prend plusieurs minutes). </li><li>  Le serveur de temps NTP est install√© sur l'image BBB linux fournie pour cette le√ßon, mais il ne sera synchronis√© que si le BBB dispose d'une route vers Internet, par exemple, lorsque votre WIFi est activ√©.  Connexion r√©seau USB √† un ordinateur par d√©faut n'est pas achemin√© vers Internet.  Vous pouvez v√©rifier l'√©tat de ntp √† l'aide de la commande ntpq-p. </li></ul><br><h4>  Remarques sur la configuration de BeagleBone Black (BBB) ‚Äã‚Äãet beaglebone Blue (BBBL) avec Ununtu 16.04 et ROS </h4><br>  (Ils sont r√©pertori√©s ici √† titre de r√©f√©rence uniquement et ne devraient pas √™tre des √©tapes obligatoires pour terminer la t√¢che 3). <br><br>  <b>Connectez votre PC √† BBB via USB</b> <br><br><ul><li>  Suivez les instructions <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici.</a> </li><li>  Apr√®s avoir install√© les pilotes appropri√©s ou les r√®gles udev sur l'ordinateur h√¥te, il √©tablira une connexion Ethernet avec le BBB via la connexion USB via l'adaptateur Ethernet virtuel usb0.  Votre ordinateur h√¥te sera √† l'adresse IP 192.167.7.1 et BBB sera 192.168.7.2.  SSH de l'ordinateur h√¥te au BBB "ssh ubuntu@192.168.7.2".  Le mot de passe par d√©faut pour ubuntu est temppwd. </li></ul><br>  <b>Comment √©tablir une connexion Ethernet avec DNS et une route vers Internet externe</b> <br>  WiFi (BBBL, BBB sans fil, BBB Classic + adaptateur WiFi USB): <br><br><ul><li>  <b>WiFi en un tournemain</b> : suivez les instructions pour <b>connmanctl</b> list√©es dans les commentaires sur le fichier / etc / network / interfaces.  Pour lire les commentaires, utilisez la commande cat / etc / network / interfaces. </li><li>  <b>Remarque</b> : <b>connmanctl</b> ne prend pas en charge les r√©seaux d'entreprise tels que hopkins, mais il prend en charge les r√©seaux WPA / WPA2. </li><li>  <b>Remarque</b> : lors du chargement de l'adaptateur BBBL WiFi n'est pas toujours correct.  Si vous ne voyez pas ¬´wlan0¬ª dans la sortie de la commande ifconfig, essayez d'activer manuellement BBBL comme interface wlan0 en utilisant la commande ¬´ifconfig wlan0 up¬ª.  Ensuite, vous devriez voir wlan0 dans la sortie de la commande ifconfig. </li><li>  <b>Ifconfig</b> : utilisez la commande ifconfig pour voir toutes les interfaces r√©seau configur√©es (LAN, WiFi, USB, etc.) sur votre machine. </li><li>  <b>Iwconfig</b> : utilisez la commande ¬´iwconfig¬ª pour voir toutes les interfaces r√©seau WiFi configur√©es sur votre ordinateur. </li><li>  <b>Qui suis-je?</b>  Le moyen le plus simple de d√©terminer l'adresse IP (ou les adresses) d'une machine Linux consiste √† se connecter et √† utiliser la commande ifconfig. </li><li>  <b>Journ√©e de la marmotte Wifi!</b>  Malheureusement, BBBL ne se souvient pas actuellement des param√®tres WiFi. </li></ul><br>  La connexion WiFi pr√©f√©r√©e devrait √™tre comme BBBL et votre ordinateur est connect√© au m√™me point d'acc√®s Wi-Fi, vous pouvez donc acc√©der √† BBBL depuis votre ordinateur, et votre BBBL a acc√®s √† Internet pour git repos, etc. <br><br>  Vous pouvez √©galement vous connecter directement √† BBBL en l'utilisant comme point d'acc√®s Wi-Fi en connectant votre ordinateur au r√©seau Wi-Fi BeagleBone-XXXX, o√π XXXX est unique √† votre BBBL.  Le mot de passe WiFi est "BeagleBone". Il s'agit d'une simple connexion, mais ni BBBL ni votre ordinateur n'auront acc√®s √† Internet pour git repos, etc. Apr√®s la connexion, votre ordinateur aura une adresse IP de 192.168.XXX.XXX L'adresse IP BBBL sera 192.168.XXX.1 <br><br>  <b>Mise √† jour de votre distribution BBBL Ubuntu</b> <br><br>  Sur BBB, ex√©cutez les commandes Linux sudo apt update ET sudo apt dist-upgrade Linux <br><br>  <b>Installation du logiciel Robotics Cape sur BBBL</b> <br><br><ul><li>  La prise en charge de Robotics Cape / BBBL est d√©j√† disponible sur l'image Ubuntu pr√©configur√©e pour BBBL d√©crite ci-dessus, vous n'avez pas besoin de la r√©installer. </li><li>  Installation binaire sous Ubuntu 16.04 sur ARM: "sudo apt-get install roboticscape" </li><li>  Installation √† partir de la source </li></ul><br>  Vous souhaitez installer une copie du code source de la cape robotique et un exemple de code sur votre BBB.  Il est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Installation d'une copie dans le r√©pertoire personnel: <br><br>  "Cd ~" <br>  "Git clone <a href="">github.com/StrawsonDesign/Robotics_Cape_Installer.git</a> " <br><br>  Vous pouvez maintenant afficher le code source de la cape de robotique et suivre les instructions de compilation et d'installation de la biblioth√®que de cape de robotique et des exemples de programmes. <br><br>  <b>Installation de packages ROS de base pour EduMIP</b> <br><br>  Clonez ces deux d√©p√¥ts git dans votre r√©pertoire ~ / catkin_ws / src: <br><br><ul><li>  <a href="">git.lcsr.jhu.edu/lwhitco1/edumip_msgs.git</a> </li><li>  <a href="">git.lcsr.jhu.edu/lwhitco1/edumip_balance_ros.git</a> </li></ul><br>  cd vers ~ / catkin_ws et r√©cup√©rez les packages "catkin_make". <br><br>  Pour ex√©cuter le n≈ìud edumip_balance_ros, le programme a besoin des privil√®ges root.  La fa√ßon la plus simple de le faire est peut-√™tre de modifier les autorisations et la propri√©t√© du binaire compil√© √† l'aide de ces deux commandes (dans cet ordre) apr√®s l'avoir compil√©: <br><br><ul><li>  racine chown sudo: root ~ / catkin_ws / devel / lib / edumip_balance_ros </li><li>  sudo chmod u + s ~ / catkin_ws / devel / lib / edumip_balance_ros </li></ul><br>  Ex√©cutez le n≈ìud ROS edumip_balance_ros " <b>roslaunch edumip_balance_ros edumip_balance_ros.launch</b> ".  Le robot s'√©quilibrera, recevra des messages de vitesse de torsion de la commande topic / edumip / cmd et publiera son √©tat dans la rubrique topic / edumip / state ROS <br><br>  Si vous ne trouvez pas le <b>fichier de</b> d√©marrage <b>edumip_balance_ros.launch</b> dans le r√©pertoire ~ / catkin_ws / src / edumip_balance_ros / launch, vous devez alors "git pull" la derni√®re version de ce package, comme d√©crit ci-dessus, et recompiler la source avec "catkin_make". <br><br>  Voir le devoir de 3√®me semaine sur cette page web de cours pour plus d'informations sur l'utilisation de ces backages ROS: Programmation des syst√®mes de robot Semaine 3 <br><br><h4>  Remarques sur le d√©marrage d'EduMIP avec ROS </h4><br>  <b>Pourquoi est-ce que j'obtiens des erreurs d'autorisation lors de l'ex√©cution d'edumip_balance_ros et comment puis-je le corriger?</b> <br>  Lisez ceci si vous obtenez des erreurs comme ¬´ne peut pas ouvrir: <br><br>  / sys / devices / platform / ocp / ocp: H18_pinmux / state <br>  Pinmux: autorisation refus√©e ¬ªlors de l'ex√©cution d'edumip_balance_ros. <br><br>  Lors de la compilation du projet edumip_balance_ros sur edumip avec catkin_make, compilez le fichier ex√©cutable: <br><br>  "~ / catkin_ws / devel / lib / edumip_balance_ros / edumip_balance_ros" <br><blockquote>  ubuntu @ arm: ~ / catkin_ws $ ls -l devel / lib / edumip_balance_ros / <br>  272 au total <br>  -rwxrwxr-x 1 ubuntu ubuntu 278292 18 f√©v 18:48 edumip_balance_ros </blockquote><br>  Notez que le propri√©taire et le groupe du fichier sont ubuntu: ubuntu, et qu'il est ex√©cutable ("-rwxrwxr-x"). <br><br><div class="spoiler">  <b class="spoiler_title">Lorsque vous essayez d'ex√©cuter ce fichier r√©cemment compil√©, vous obtiendrez des erreurs d'autorisation, comme indiqu√© ci-dessous:</b> <div class="spoiler_text"><blockquote>  ubuntu @ arm: ~ / catkin_ws $ roslaunch edumip_balance_ros edumip_balance_ros.launch <br>  ... connexion √† /home/ubuntu/.ros/log/a271dd92-14dc-11e8-b293-dc5360d671c6/roslaunch-arm-2845.log <br>  V√©rification du r√©pertoire des journaux pour l'utilisation du disque.  Cela peut prendre un certain temps. <br>  Appuyez sur Ctrl-C pour interrompre <br>  V√©rification de l'utilisation du disque du fichier journal.  L'utilisation est &lt;1 Go. <br><br>  a lanc√© le serveur roslaunch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">192.168.10.102</a> : 37365 / <br><br>  SOMMAIRE <br>  ======== <br><br>  PARAM√àTRES <br>  * / rosdistro: cin√©tique <br>  * / rosversion: 12.1.12 <br><br>  NOEUDS <br>  / <br>  edumip_balance_ros_node (edumip_balance_ros / edumip_balance_ros) <br><br>  ROS_MASTER_URI = http: //192.168.10.101: 11311 <br><br>  processus [edumip_balance_ros_node-1]: a commenc√© avec pid [2874] <br>  [INFO] [1518979862.674565427]: Fichier /home/ubuntu/catkin_ws/src/edumip_balance_ros/src/edumip_balance_ros.cpp compil√© le 3 f√©vrier 2018 √† 19:38:02. <br>  ne peut pas ouvrir: / sys / devices / platform / ocp / ocp: H18_pinmux / state <br>  Pinmux: autorisation refus√©e <br>  ne peut pas ouvrir: / sys / devices / platform / ocp / ocp: C18_pinmux / state <br>  Pinmux: autorisation refus√©e <br>  ne peut pas ouvrir: / sys / devices / platform / ocp / ocp: U16_pinmux / state <br>  Pinmux: autorisation refus√©e <br>  ne peut pas ouvrir: / sys / devices / platform / ocp / ocp: D13_pinmux / state <br>  Pinmux: autorisation refus√©e <br>  ne peut pas ouvrir: / sys / devices / platform / ocp / ocp: J15_pinmux / state <br>  Pinmux: autorisation refus√©e <br>  ne peut pas ouvrir: / sys / devices / platform / ocp / ocp: H17_pinmux / state <br>  Pinmux: autorisation refus√©e <br>  AVERTISSEMENT: pilote PINMUX manquant <br>  Vous avez probablement besoin d'un noyau plus r√©cent <br>  Impossible d'ouvrir / dev / mem <br>  mmap_gpio_adc.c n'a pas r√©ussi √† initialiser gpio <br>  [INFO] [1518979862.806645002]: ERREUR: √©chec de l'initialisation de cape. <br>  Le processus [edumip_balance_ros_node-1] est mort [pid 2874, code de sortie 255, cmd / home / ubuntu / catkin_ws / devel / lib / edumip_balance_ros / edumip_balance_ros __name: = edumip_balance_ros_node __log: = / home / ubuntu / dd. 14dc-11e8-b293-dc5360d671c6 / edumip_balance_ros_node-1.log]. <br>  fichier journal: /home/ubuntu/.ros/log/a271dd92-14dc-11e8-b293-dc5360d671c6/edumip_balance_ros_node-1*.log <br>  tous les processus sur la machine sont morts, roslaunch se terminera <br>  arr√™t du moniteur de traitement ... <br>  ... arr√™t du moniteur de traitement termin√© <br>  fait </blockquote></div></div><br>  Le probl√®me ici est que votre ex√©cutable doit s'ex√©cuter en tant que root, et non en tant qu'utilisateur normal, pour acc√©der aux registres mat√©riels de BeagleBone. <br><br>  Apr√®s avoir compil√© edumip_ros_balance, vous pouvez modifier les autorisations root du fichier ex√©cutable (sudo chown root: root &lt;nom de fichier&gt;) et d√©finir son bit collant (sudo chmod u + s &lt;nom de fichier&gt;) en ex√©cutant le script suivant: <br><br>  "~ / catkin_ws / src / edumip_balance_ros / scripts / edumip_change_perms.sh" <br><br>  Si vous regardez ce script shell, vous verrez qu'il ex√©cute ces deux commandes: <br><blockquote>  racine chown sudo: root ~ / catkin_ws / devel / lib / edumip_balance_ros / edumip_balance_ros <br>  sudo chmod u + s ~ / catkin_ws / devel / lib / edumip_balance_ros / edumip_balance_ros </blockquote><br>  Apr√®s avoir ex√©cut√© ce script (il vous demandera le mot de passe sudo), les autorisations et les groupes du fichier ex√©cutable seront modifi√©s de ubuntu: ubuntu √† root: root, et son bit collant sera install√© (les autorisations √©taient auparavant "- rwxrwxr-x" et sont devenues "- rwsrwxr -x "): <br><blockquote>  ubuntu @ arm: ~ / catkin_ws $ ls -l devel / lib / edumip_balance_ros / <br>  272 au total <br>  -rwsrwxr-x 1 racine racine 278292 18 f√©vrier 18:48 edumip_balance_ros </blockquote><br>  Maintenant, lorsque vous ex√©cutez edumip_balance_ros, cela devrait fonctionner correctement, comme indiqu√© ci-dessous: <br><br><div class="spoiler">  <b class="spoiler_title">ubuntu @ arm: ~ $ roslaunch edumip_balance_ros edumip_balance_ros.launch</b> <div class="spoiler_text"><blockquote>  ubuntu @ arm: ~ $ roslaunch edumip_balance_ros edumip_balance_ros.launch <br>  ... connexion √† /home/ubuntu/.ros/log/a271dd92-14dc-11e8-b293-dc5360d671c6/roslaunch-arm-2099.log <br>  V√©rification du r√©pertoire des journaux pour l'utilisation du disque.  Cela peut prendre un certain temps. <br>  Appuyez sur Ctrl-C pour interrompre <br>  V√©rification de l'utilisation du disque du fichier journal.  L'utilisation est &lt;1 Go. <br><br>  a lanc√© le serveur roslaunch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">192.168.10.102</a> : 34253 / <br><br>  SOMMAIRE <br>  ======== <br><br>  PARAM√àTRES <br>  * / rosdistro: cin√©tique <br>  * / rosversion: 12.1.12 <br><br>  NOEUDS <br>  / <br>  edumip_balance_ros_node (edumip_balance_ros / edumip_balance_ros) <br><br>  ROS_MASTER_URI = http: //192.168.10.101: 11311 <br><br>  processus [edumip_balance_ros_node-1]: a commenc√© avec pid [2108] <br>  [INFO] [1518981653.978399507]: Fichier /home/ubuntu/catkin_ws/src/edumip_balance_ros/src/edumip_balance_ros.cpp compil√© le 3 f√©vrier 2018 √† 19:38:02. <br>  ERREUR: pilote pru-rproc manquant <br>  [INFO] [1518981654.104574860]: Contr√¥leur de boucle int√©rieure D1: <br><br>  commande: 2 <br>  timestep dt: 0,0100 <br>  -4,9450z¬≤ + 8,8620z + -3,9670 <br>  - 1,0000z¬≤ + -1,4810z + 0,4812 <br>  [INFO] [1518981654.107474727]: <br>  Contr√¥leur de boucle externe D2: <br><br>  commande: 2 <br>  timestep dt: 0,0100 <br>  0,1886z¬≤ + -0,3721z + 0,1835 <br>  - 1,0000z¬≤ + -1,8605z + 0,8605 <br>  [INFO] [1518981654.573431369]: <br>  Tenez votre MIP en position verticale pour commencer l'√©quilibrage </blockquote></div></div><br>  <b>ROS ne trouve pas mon package ROS</b> <br><br>  Si dans votre environnement ROS, il ne comprend pas que vous avez de nouveaux packages dans catkin_ws / src, essayez de mettre √† jour votre profil rospack avec la commande rospack profile et mettez √† jour le cache rosdep avec la commande rosdep update. <br><br>  <b>Compilation et liaison aux biblioth√®ques Robotics Cape "C"</b> <br><br>  La biblioth√®que Robotics Cape est pr√©install√©e sur l'image Ubuntu 16.04, disponible sur le lien fourni plus haut sur cette page.  Il a √©t√© install√© √† l'aide de la commande sudo apt-get install roboticscape. <br><br>  La biblioth√®que de cap robotique et les fichiers d'en-t√™te associ√©s sont d√©j√† install√©s sur EduMIP.  Lien vers les biblioth√®ques /usr/lib/libroboticscape.so et deux fichiers d'en-t√™te de niveau sup√©rieur rc_usefulincludes.h et roboticscape.h. <br><br>  Vous pouvez vous r√©f√©rer au projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">edumip_balance_ros</a> pour apprendre √† utiliser les fichiers d'en-t√™te C de cap robotique et la biblioth√®que de liens C avec le n≈ìud ROS C ++. <br><br>  Voir edumip_balance_ros / src / edumip_balance_ros.cpp pour voir comment inclure des fichiers d'en-t√™te C dans un programme C ++ avec la directive externe ¬´C¬ª. <br><br>  Voir edumip_balance_ros / CMakeLists.txt pour savoir comment lier votre programme √† la biblioth√®que roboticscape C. <br><br>  <b>Package Edumip_balance_ros</b> <br><br><ul><li>  Pour compiler le package <a href="">edumip_balance_ros</a> , <a href="">vous</a> devez √©galement installer le package <a href="">edumip_msgs</a> . </li><li>  Le package edumip_balance_ros ne se compilera pas sur votre ordinateur, il est uniquement destin√© √† la compilation sur EduMIP. </li></ul><br>  <b>Configuration horizontale EduMIP</b> <br><br>  Plusieurs √©quipes d'√©tudiants ont utilis√© EduMIP dans une configuration horizontale avec une roue pivotante. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ww/bq/yw/wwbqywxez62plhzy1rjeu0p-s_8.jpeg"></div><br>  Pour ce faire, vous devrez remplacer le projet ¬´edumip_balance_ros¬ª par votre propre nouveau code pour contr√¥ler les moteurs de roue, ainsi que pour lire et publier les encodeurs de roue.  Et hier, j'ai examin√© dans la salle de classe l'un des packages possibles, vous pouvez utiliser le package differentiel_drive ROS (http://wiki.ros.org/differential_drive).  Pour utiliser le package diff√©rentiel_drive, vous devez √©crire un nouveau n≈ìud C ++ pour edumip, qui (a) lit les encodeurs de roue et les publie par rubrique et (b) souscrit aux rubriques des commandes de moteur et des commandes de tension pour les moteurs de roue. <br><br><img src="https://habrastorage.org/webt/kv/zb/et/kvzbetynezcub7sclpdf5bq9kdu.jpeg"><br><br><img src="https://habrastorage.org/webt/ay/on/vb/ayonvbvtzgmccqeyu5rlmp604xm.jpeg"><br><br><img src="https://habrastorage.org/webt/vd/zt/gu/vdztguslq4mgpabge6ffbdbj-yu.jpeg"><br><br>  <b>P√©riph√©riques de port s√©rie</b> <br><br>  Afin d'interagir avec des capteurs sur un port s√©rie, comme un capteur √† ultrasons USB d√©montr√© en classe, vous devrez pouvoir ouvrir, lire et envoyer via des ports s√©rie. <br><br><img src="https://habrastorage.org/webt/ol/et/8g/olet8g926448yknxtl4zvn-bsiy.jpeg"><img src="https://habrastorage.org/webt/g4/y-/do/g4y-dov8fy2n99k2b1flozwbj0u.jpeg"><br><img src="https://habrastorage.org/webt/xt/b_/zu/xtb_zuhwmwpzfasvxwlilxrw3pa.jpeg"><br><br>  Bon package pour ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">package s√©rie ROS</a> .  Vous pouvez l'installer "sudo apt-get install ros-kinetic-serial". <br><br>  Exemple simple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> <br><br>  Une copie de src peut √™tre clon√©e dans l'espace de travail ROS √† l'aide de la commande git clone <a href="">github.com/wjwwood/serial.git</a> et compil√©e √† l'aide de catkin_make.  Le r√©pertoire examples contient des exemples plus complexes d'utilisation du port s√©rie avec le package s√©rie. <br><br>  Notez que ce package ros nomm√© "serial" n'est pas un package "rosserial".  Le package "s√©rie" est une biblioth√®que polyvalente l√©g√®re pour lire et envoyer des donn√©es sur des ports s√©rie.  "Rosserial" est un package pour coupler de petits appareils tels que Arduino √† mesure que les n≈ìuds se d√©veloppent. <br><br>  <b>Ajout du traducteur:</b> <br><br>  J'ai ajout√© mes photos et vid√©os √† l'article, ainsi que des photos des travaux des √©tudiants.  En g√©n√©ral, seule cette instruction est suffisante pour fonctionner, il est seulement souhaitable d'avoir au moins une exp√©rience minimale en ligne de commande Linux et une compr√©hension de base de l'architecture ROS.  Les scripts du robot sont √©crits en C. <br><br>  Vous pouvez poser des questions dans les commentaires, je lis et r√©ponds. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr413677/">https://habr.com/ru/post/fr413677/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr413665/index.html">Comment d√©terminer le volume de vos logs?</a></li>
<li><a href="../fr413667/index.html">Kaggle: Amazon from Space - astuces et hacks pour la formation des r√©seaux de neurones</a></li>
<li><a href="../fr413669/index.html">Samsung IT School: enseigner aux √©tudiants comment d√©velopper des applications mobiles</a></li>
<li><a href="../fr413673/index.html">Sur la question des performances des anciennes et nouvelles versions d'un n≈ìud</a></li>
<li><a href="../fr413675/index.html">Joker 2018: Club des d√©veloppeurs Java anonymes</a></li>
<li><a href="../fr413679/index.html">Angulaire 6. PWA. Modules de chargement paresseux. D√©ploiement automatique dans Firebase</a></li>
<li><a href="../fr413681/index.html">La technique de d√©veloppement de serveurs hautement fiables sur Go</a></li>
<li><a href="../fr413683/index.html">ILV a d√©bloqu√© 7 millions d'adresses IP. Rester verrouill√© 4 millions</a></li>
<li><a href="../fr413689/index.html">Debian + Postfix + Dovecot + Multidomain + SSL + IPv6 + OpenVPN + Multi-interfaces + SpamAssassin-learn + Bind</a></li>
<li><a href="../fr413691/index.html">Commencer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>