<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüë¶ üíñ üë©üèº‚Äçü§ù‚Äçüë©üèª Problemas de crescimento de inicializa√ß√£o - Monitoramento üëÇüèΩ üßôüèø üë©‚Äçüëß‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O fator tempo - a pontualidade da execu√ß√£o de ordens, trabalho, acordos - √© importante nos neg√≥cios. Clientes e parceiros esperam colabora√ß√£o previs√≠v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Problemas de crescimento de inicializa√ß√£o - Monitoramento</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436914/"><img src="https://habrastorage.org/webt/bv/sn/ws/bvsnwsj9i6gdcw9naqv5kypq5lm.jpeg"><br><br>  O fator tempo - a pontualidade da execu√ß√£o de ordens, trabalho, acordos - √© importante nos neg√≥cios.  Clientes e parceiros esperam colabora√ß√£o previs√≠vel e demorada.  Em um neg√≥cio tradicional, isso √© influenciado pelo trabalho dos funcion√°rios, pelas a√ß√µes dos fornecedores, pela localiza√ß√£o geogr√°fica da empresa, pela condi√ß√£o do equipamento e muito mais.  Localizar e controlar tudo isso √© uma tarefa dif√≠cil. <br><br>  Um pouco mais claro, tudo est√° no campo da TI.  Uma parte significativa dos processos pode ser automatizada e confiada a um programa ou script.  Melhor ainda, se o produto for implementado como um servi√ßo da Web - a principal li√ß√£o √© apoiar a disponibilidade e o desenvolvimento do produto. <br><a name="habracut"></a><br>  Um dos principais produtos da nossa empresa √© um servi√ßo da web.  Tudo come√ßou com a implementa√ß√£o da ideia de duas pessoas, depois a empresa cresceu: PM (ele tamb√©m √© programador da Web), programador de banco de dados, administrador de sistemas (com pouca experi√™ncia de desenvolvedor), testador e duas outras pessoas envolvidas em vendas e SEO.  O sistema √© implementado como uma interface da web e um banco de dados relacionado.  A utiliza√ß√£o do servi√ßo envolve depositar e retirar dinheiro armazenado em uma "moeda virtual".  Por seguran√ßa, o servidor da Web e o banco de dados s√£o implantados em seus servidores. <br><br>  Como o servi√ßo est√° conectado ao dinheiro, o n√≠vel de confian√ßa do usu√°rio no sistema √© importante.  Antes de tudo, √© uma quest√£o de seguran√ßa e prote√ß√£o do sistema contra hackers.  No entanto, √© dif√≠cil para um cliente comum (especialmente n√£o versado nos meandros da TI, protocolos seguros e criptografia) avaliar o n√≠vel de seguran√ßa do sistema.  Se uma situa√ß√£o negativa (hacking) n√£o ocorreu, o trabalho n√£o √© vis√≠vel. <br><br>  A acessibilidade do sistema √© mais √≥bvia para o cliente: se o usu√°rio transferiu uma certa quantia para a conta virtual e n√£o conseguiu fazer login no site v√°rias vezes, a credibilidade do sistema √© prejudicada e o cliente provavelmente est√° perdido (√†s vezes v√°rias ao mesmo tempo - o negativo se espalha rapidamente).  E √© improv√°vel que os usu√°rios envolvidos com grande dificuldade, encontrando um erro em vez da p√°gina principal do site, retornem tamb√©m. <br><br>  Compreender a seriedade disso n√£o veio imediatamente.  No in√≠cio, o n√∫mero de usu√°rios era pequeno, as capacidades do servidor e do canal eram abundantes e, portanto, as "falhas" eram raras.  Al√©m disso, a princ√≠pio, a funcionalidade era frequentemente testada e refinada para fins de otimiza√ß√£o, e o pr√≥prio desenvolvedor era respons√°vel por monitorar os servidores associados ao servi√ßo durante o hor√°rio de trabalho.  O n√∫mero de usu√°rios fora do hor√°rio de expediente era relativamente pequeno - os clientes de outros fusos hor√°rios estavam praticamente ausentes na √©poca. <br><br><img src="https://habrastorage.org/webt/pn/ge/hz/pngehztkwocjzfohfdnkehhn_mg.jpeg"><br><br>  Gradualmente, a parte principal do servi√ßo foi conclu√≠da.  As melhorias ficaram pequenas e, portanto, a aten√ß√£o principal dos desenvolvedores foi mudada para outro projeto.  A responsabilidade de controlar o sistema foi transferida para o administrador do sistema, al√©m de outras responsabilidades.  As notifica√ß√µes foram enviadas por email e SMS ao administrador no caso de uma falha no servidor.  Tais medidas naquele momento pareciam suficientes. <br><br>  O produto come√ßou a ganhar impulso e o n√∫mero de usu√°rios aumentou.  Novas id√©ias surgiram, algumas foram implementadas imediatamente, outras foram adiadas para o futuro.  O servi√ßo foi traduzido para outros idiomas e gradualmente entrou em novos mercados, o que, entre outros fatores, levou a um aumento no n√∫mero de usu√°rios √† noite.  A carga do servidor estava aumentando gradualmente, embora ainda estivesse longe do limite t√©cnico do ferro. <br><br>  Uma vez que a calma chegou ao fim.  Na noite de sexta a s√°bado, os usu√°rios come√ßaram a ter problemas para acessar a p√°gina principal do site, eles eram frequentemente encontrados pelo erro 503. O problema n√£o foi dif√≠cil, mas, como deveria, o administrador n√£o estava dispon√≠vel na noite de sexta-feira e, portanto, o SMS permaneceu n√£o lido.  No entanto, o problema foi resolvido de forma relativamente indolor.  O desenvolvedor tamb√©m recebeu um SMS e conseguiu passar e ativar o administrador e, ap√≥s 3 horas, o problema foi resolvido.  O tempo total de inatividade foi de 5 horas. <br><br><img src="https://habrastorage.org/webt/mp/uc/bu/mpucbujg8rxji9hwemyklas5pxs.jpeg"><br><br>  Na segunda-feira, houve uma an√°lise do que aconteceu.  A an√°lise dos dados de tr√°fego do site mostrou uma imagem desagrad√°vel - em uma sexta-feira ‚Äúproblem√°tica‚Äù, o tr√°fego diminuiu um ter√ßo em rela√ß√£o ao ano passado, mas quedas significativas no s√°bado e domingo foram ainda mais desagrad√°veis, apesar da aus√™ncia de problemas t√©cnicos nos dias de hoje, o tr√°fego caiu 15%. <br><br>  Isso refor√ßou o entendimento da necessidade de monitoramento 24 horas.  Do ponto de vista do software, escolhemos o <b>Zabbix</b> , que deveria ser instalado e configurado pelo administrador do sistema.  Demorou cerca de uma semana - o restante das tarefas n√£o foi a lugar nenhum e tudo foi feito em paralelo.  Havia uma pergunta organizacional - quem exatamente monitorar√°? <br><br><img src="https://habrastorage.org/webt/u3/na/cj/u3nacjwnnz6qz-tq1zi99jnjvby.jpeg"><br><br>  No come√ßo, eu tive que tomar essa decis√£o - mudar o hor√°rio de trabalho dos funcion√°rios existentes (daqueles que entenderam isso - ou seja, o administrador e o desenvolvedor do sistema) para que um por um algu√©m controlasse o servidor √† noite. <br>  Esta foi uma decis√£o for√ßada e n√£o durou muito.  Em primeiro lugar, o trabalho de duas pessoas ainda n√£o fornece controle 24 horas por dia - existem lacunas no tempo em que uma falha tamb√©m √© prov√°vel.  Em segundo lugar, poucas pessoas gostam de trabalhar √† noite e a insatisfa√ß√£o aumentou, al√©m disso, a distra√ß√£o do programador quase interrompeu o pr√≥prio desenvolvimento.  Portanto, depois de uma semana, abandonaram a ideia e come√ßaram a pensar mais. <br><br>  <b>Contrata√ß√£o de pessoal adicional para monitorar</b> <br><br>  Obviamente, essa decis√£o √© a mais intransigente - o controle constante das pessoas selecionadas fornece um bom resultado.  Mas trabalhar nesse modo exigiria uma busca por mais 3 administradores de sistema.  Al√©m disso, eles devem ser qualificados o suficiente para resolver problemas, mas a maior parte do tempo seria desperdi√ßada de qualquer maneira - a empresa √© pequena, h√° poucos servidores e n√£o haveria quase nada para ocup√°-los.  Al√©m disso, muitas pessoas tamb√©m precisam ser controladas, o que seria uma dor de cabe√ßa adicional. <br><br><img src="https://habrastorage.org/webt/jk/4n/2v/jk4n2vgbtd24rqz84fp10y6njks.jpeg"><br><br>  Ambas as op√ß√µes n√£o funcionaram.  N√£o foi poss√≠vel concentrar esfor√ßos e meios neles.  Mas a necessidade de monitoramento n√£o desapareceu.  Esse √© um dos problemas do crescimento - existe uma necessidade que n√£o pode ser realizada por conta pr√≥pria.  Como solu√ß√£o, chegamos a uma terceiriza√ß√£o. <br><br>  Durante a transi√ß√£o, surgiram d√∫vidas, sendo a principal a seguran√ßa e a confidencialidade das informa√ß√µes que se tornam dispon√≠veis para outra pessoa e a qualidade do servi√ßo, n√£o ser√° pior, pelo contr√°rio?  Mas √© mais uma quest√£o de encontrar um executor respons√°vel e assinar um NDA. <br><br>  Ent√£o, seguimos em frente, do lado t√©cnico n√£o foi dif√≠cil.  Um m√™s depois, decidimos verificar como as coisas estavam indo - verificando os logs nos servidores.  Estamos satisfeitos com os resultados - no m√™s houve tr√™s falhas graves que poderiam "colocar" o servidor novamente, mas os parceiros resolveram os problemas em meia hora.  Al√©m disso, todas as falhas ocorreram no intervalo de uma da manh√£ √†s quatro da manh√£ - um crescimento geogr√°fico gradual do produto afetado. <br><br>  O trabalho do administrador do sistema mudou e ficou mais calmo.  Sem se distrair com o monitoramento, ele se concentrou no DevOps.  Concentramos nossos esfor√ßos e o desenvolvimento acelerado.  Acabou por perceber o que foi adiado por um longo tempo, gra√ßas ao nosso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">parceiro</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt436914/">https://habr.com/ru/post/pt436914/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt436900/index.html">FunTech ML-meetup</a></li>
<li><a href="../pt436904/index.html">Limite de 32 K para dados na ROM dos microcontroladores AVR</a></li>
<li><a href="../pt436908/index.html">6 maneiras de ocultar dados em um aplicativo Android</a></li>
<li><a href="../pt436910/index.html">Dicas para criar fluxos de trabalho personalizados no GitLab CI</a></li>
<li><a href="../pt436912/index.html">Tend√™ncias de CRM de 2019: divertido de ler, perigoso de acreditar</a></li>
<li><a href="../pt436916/index.html">VShard - escala horizontal em Tarantool</a></li>
<li><a href="../pt436918/index.html">Criando um jogo para o Game Boy, parte 2</a></li>
<li><a href="../pt436920/index.html">Transpiler PAS2JS de Pascal para JavaScript: incompat√≠vel com Delphi e solu√ß√µes alternativas</a></li>
<li><a href="../pt436922/index.html">Otimizando o tempo de inicializa√ß√£o do Prometheus 2.6.0 com pprof</a></li>
<li><a href="../pt436924/index.html">Algumas palavras sobre a organiza√ß√£o de competi√ß√µes rob√≥ticas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>