<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçó üññüèΩ üë®üèæ Testen der Erstellung einer Komponentenbibliothek f√ºr Angular mit dem neuen Befehl f√ºr Angular / Cli - Bibliothek üçπ ‚ôüÔ∏è üë®üèΩ‚Äçüîß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn Projekte etwas mehr als eins werden, m√ºssen nicht nur einzelne Module mit Code, sondern auch die UI-Komponenten selbst irgendwie wiederverwendet ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Testen der Erstellung einer Komponentenbibliothek f√ºr Angular mit dem neuen Befehl f√ºr Angular / Cli - Bibliothek</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422051/"><p><img src="https://habrastorage.org/webt/vz/yy/8r/vzyy8r9awmadsuo40my_bkiwvgq.png"></p><br><p>  Wenn Projekte etwas mehr als eins werden, m√ºssen nicht nur einzelne Module mit Code, sondern auch die UI-Komponenten selbst irgendwie wiederverwendet werden.  Es gibt viele M√∂glichkeiten, das Problem zu l√∂sen - vom herk√∂mmlichen Kopieren und Einf√ºgen bis zum Einrichten eines separaten Projekts mit Tests, Dokumentation und sogar Blackjack. </p><br><p> Das Problem ist, dass die zweite Option einen erheblichen Vorbereitungsaufwand erfordert und jedes dieser Projekte einzigartig ist - mit eigenen Tools, mit denen sich jeder neue Entwickler erneut befassen muss.  Ende Juli schlug das Angular-Team eine eigene, umfassende L√∂sung f√ºr dieses Problem vor, indem es angular / cli einen neuen Befehl zum Erstellen von Bibliotheken hinzuf√ºgte - Bibliothek. </p><br><p>  Mal sehen, was daraus wurde. </p><br><p>  F√ºr Tests wurde die neueste stabile Version von Angular / Cli verwendet - 6.1.5 (09/04/2018) </p><a name="habracut"></a><br><h2 id="idealnyy-mir">  Perfekte Welt </h2><br><p>  In einer idealen Welt sollte alles bequem sein.  F√ºr die Komponentenbibliothek m√∂chte ich drei wichtige Punkte hervorheben </p><br><ul><li>  Einheitlichkeit der Projekte und schneller Start </li><li>  Entwicklungskomfort </li><li>  Einfache Verteilung </li></ul><br><h2 id="itak-nachem-so-starta">  Beginnen wir also von vorne. </h2><br><p>  Um eine eigene Bibliothek zu erstellen, m√ºssen Sie zwei Schritte ausf√ºhren: Erstellen Sie ein neues Projekt und f√ºgen Sie eine Bibliothek hinzu.  Erstellen Sie zun√§chst ein neues Projekt: </p><br><pre><code class="hljs scala">npx <span class="hljs-meta"><span class="hljs-meta">@angular</span></span>/cli<span class="hljs-meta"><span class="hljs-meta">@latest</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> mylibapp</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">npx</b> <div class="spoiler_text"><p>  Ich benutze npx, um cli nicht global zu installieren und npm run-Konstrukte zu vermeiden.  Wenn Sie npm Version 5.2 oder h√∂her haben, versuchen Sie es.  Lesen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> mehr </p></div></div><br><p>  Nach dem Ausf√ºhren des Befehls sehen wir ein Standardprojekt (f√ºr 6 Winkel, das sich von der 5. Version unterscheidet), in dem zwei Unterprojekte erstellt werden - das Haupt-Mylibapp und das Mylibapp-e2e.  Das Winkelprojekt selbst wird nun in angle.json beschrieben. </p><br><p><img src="https://habrastorage.org/webt/y2/c5/ta/y2c5tainati1vflp_ybvd3t2eci.png"></p><br><p>  Es gibt noch keine Bibliotheken. </p><br><p>  Und hier ist er die erste Einschr√§nkung.  Unser Name wird bereits vom Hauptprojekt √ºbernommen, und die Bibliothek zu benennen funktioniert auch nicht.  Wenn Sie die Bibliothek my-super-library benennen m√∂chten, m√ºssen Sie daher zuerst ein Projekt erstellen, das irgendwie anders aufgerufen werden sollte.  Zum Beispiel my-super-library-project.  Und erst dann erstellen Sie eine Bibliothek mit dem gew√ºnschten Namen. </p><br><p>  Erstellen Sie nun ein drittes Unterprojekt und generieren Sie eine Bibliothek. </p><br><pre> <code class="hljs vhdl">cd mylibapp npx ng <span class="hljs-keyword"><span class="hljs-keyword">generate</span></span> <span class="hljs-keyword"><span class="hljs-keyword">library</span></span> mylib <span class="hljs-comment"><span class="hljs-comment">--prefix mlb</span></span></code> </pre> <br><p>  Es ist nicht erforderlich, ein Pr√§fix anzugeben, aber es ist sehr w√ºnschenswert, sich nicht mit anderen Bibliotheken zu √ºberschneiden. </p><br><p><img src="https://habrastorage.org/webt/4x/jq/yf/4xjqyf4fibv_lks9vokgqkkyrri.png"></p><br><p>  Wie Sie sehen, wurde unsere dritte Bibliothek jetzt als drittes Unterprojekt hinzugef√ºgt.  Es hat seine eigenen separaten package.json, tsconfig und karma.conf.js, mit denen Sie es konfigurieren k√∂nnen, ohne bef√ºrchten zu m√ºssen, andere Projekte zu verletzen.  Auf Wunsch k√∂nnen wir √ºbrigens eine weitere Bibliothek hinzuf√ºgen, und es wird auch ein separates Teilprojekt sein.  Aber deshalb konnte die Bibliothek nicht durch ein v√∂llig separates Projekt unterschieden werden (wie zum Beispiel in .Net), das ich nicht kenne.  Und wenn es nicht schwierig ist, das e2e-Projekt von Hand zu entfernen, ist das Hauptprojekt nicht mehr vorhanden.  Infolgedessen wird zus√§tzlicher Code im Repository angezeigt, was nicht sehr gut ist. </p><br><p>  Nun wollen wir sehen, welche Werkzeuge wir sofort bekommen.  Dies ist ein Haufen Tslint + Codelyzer, Karma + Jasmin und Winkelmesser f√ºr e2e.  Das hei√üt,  Standard-Winkelprojekt, nichts Spezielles f√ºr die Bibliothek, die wir nicht mitgebracht haben.  Dies ist etwas seltsam, da einige Tools zum Anzeigen und Rendern von Komponenten (wie ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Storybook</a> ) einfach ein Muss sind.  Aber in Ordnung, wir gehen davon aus, dass sie uns hier einfach Spielraum gelassen haben. </p><br><p>  Lassen Sie uns die Tests und den Linter ausf√ºhren, um sicherzustellen, dass alles funktioniert. </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npm</span></span> test mylib npx ng lint mylib</code> </pre> <br><p>  F√ºr mich lief alles gut, aber Chrome wurde zum Testen verwendet, was auch seltsam ist.  Ich habe nichts gegen ihn, aber auf Build-Servern werden es nicht 90% sein.  Warum sie nicht denselben Puppenspieler benutzten, ist nicht klar. </p><br><p>  Zusammenfassend: </p><br><p>  Vorteile </p><br><ul><li>  Schneller Start eines neuen Projekts </li><li>  Einheitlicher Ansatz </li></ul><br><p>  Nachteile </p><br><ul><li>  Zus√§tzlicher Code im Projekt </li><li>  Offensichtliche Dinge m√ºssen mit Ihren H√§nden erledigt werden. </li></ul><br><p>  Bisher nichts Kritisches, wir graben weiter. </p><br><h2 id="razrabotka">  Entwicklung </h2><br><p>  Wir haben bereits einige der Komponenten im Lieferumfang enthalten. Schauen wir sie uns an.  Da wir keine speziellen Werkzeuge haben, werden wir das Hauptprojekt verwenden (hier stellt sich heraus, warum es ben√∂tigt wird).  Dazu m√ºssen wir die Bibliothek erstellen, das Bibliotheksmodul importieren und das Hauptprojekt starten. </p><br><div class="spoiler">  <b class="spoiler_title">etwas Code</b> <div class="spoiler_text"><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">npx</span></span> ng build mylib</code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { MylibModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mylib"</span></span>; ... @NgModule({ <span class="hljs-attr"><span class="hljs-attr">declarations</span></span>: [ AppComponent, ], <span class="hljs-attr"><span class="hljs-attr">imports</span></span>: [ BrowserModule, MylibModule ], <span class="hljs-attr"><span class="hljs-attr">providers</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">bootstrap</span></span>: [AppComponent] })</code> </pre> <br><pre> <code class="hljs pgsql">npm <span class="hljs-keyword"><span class="hljs-keyword">start</span></span></code> </pre> </div></div><br><p>  Nachdem alles erledigt ist, sehen wir unsere Komponente aus der Bibliothek.  Aber auch hier gibt es eine Nuance: Der √úberwachungsmodus f√ºr die Bibliothek wurde noch nicht ausgef√ºhrt. M√ºssen Sie den Bibliotheksaufbau jedes Mal selbst ausf√ºhren?  Die Uhr erscheint nur in Angular / CLI 6.2+.  Und nicht sofort, daf√ºr m√ºssen Sie in tsconfig.json ein neues Flag hinzuf√ºgen </p><br><p>  tsconfig.json </p><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"angularCompilerOptions"</span></span>: { <span class="hljs-string"><span class="hljs-string">"enableResourceInlining"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }</code> </pre> <br><p>  F√ºhren Sie dann den Build mit der √úberwachungsflagge aus: </p><br><pre> <code class="hljs pgsql">ng build mylib <span class="hljs-comment"><span class="hljs-comment">--watch</span></span></code> </pre> <br><p>  Wenn Sie aus irgendeinem Grund cli unter 6.2 verwenden, m√ºssen Sie es selbst erstellen, was ehrlich gesagt schlecht ist. </p><br><p>  F√ºgen wir nun eine neue Komponente hinzu.  F√ºhren Sie dazu den Standardbefehl generate component aus.  Da die Bibliothek nicht unser Hauptprojekt ist, m√ºssen Sie das Projektflag verwenden, was ebenfalls etwas √§rgerlich ist (aber wenn die Bibliothek eine unabh√§ngige L√∂sung war ...). </p><br><pre> <code class="hljs vhdl">npx ng <span class="hljs-keyword"><span class="hljs-keyword">generate</span></span> <span class="hljs-keyword"><span class="hljs-keyword">component</span></span> some-nice-image <span class="hljs-comment"><span class="hljs-comment">--project mylib</span></span></code> </pre> <br><p>  Erstellen Sie nun unter mylib / src den Assets-Ordner, f√ºgen Sie ein Bild hinzu und erstellen Sie die Bibliothek erneut, um das Ergebnis anzuzeigen.  Und dann erwartet uns eine weitere √úberraschung - es gibt kein Bild.  Es stellt sich heraus, dass die in der Bibliothek verwendeten Ressourcen nicht automatisch in den Build aufgenommen werden. Sie m√ºssen sie selbst kopieren (oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">so</a> ).  Und es scheint nicht be√§ngstigend zu sein, aber irgendwie nicht richtig. </p><br><p>  Aber das Sch√ºtteln von B√§umen sollte sofort funktionieren.  Lassen Sie uns eine weitere Komponente in der Bibliothek erstellen, diese jedoch nicht im Hauptprojekt verwenden.  Zusammenstellen des <strong>Hauptprojekts</strong> im Produktionsmodus </p><br><pre> <code class="hljs pgsql">npx build <span class="hljs-comment"><span class="hljs-comment">--prod</span></span></code> </pre> <br><p>  Und wir sehen, dass sich die Gr√∂√üe des Bundles nicht ge√§ndert hat.  Baumsch√ºtteln funktioniert wirklich mit Bibliotheken! </p><br><p>  Jetzt w√§re es sch√∂n zu versuchen, eine Art Sucht zu machen.  Da jedes Projekt eine eigene package.json hat, m√ºssen wir zuerst in den Bibliotheksordner gehen und den Befehl npm install ausf√ºhren </p><br><pre> <code class="hljs coffeescript"><span class="hljs-built_in"><span class="hljs-built_in">npm</span></span> i -D @drag13/<span class="hljs-keyword"><span class="hljs-keyword">when</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">npm</span></span> i @drag13/round-to</code> </pre> <br><p>  Ich habe sie absichtlich auf verschiedene Arten platziert, um zu √ºberpr√ºfen, wie der Packer sp√§ter damit umgehen w√ºrde.  Alles ist ohne Probleme eingestellt.  Wir versuchen zu sammeln und eine Warnung zu bekommen </p><br><blockquote>  Das Verteilen von npm-Paketen mit 'Abh√§ngigkeiten' wird nicht empfohlen.  Bitte ziehen Sie in Betracht, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">drag13</a> / round-to zu 'peerDependencies' hinzuzuf√ºgen oder es aus 'abh√§ngigkeiten' zu entfernen </blockquote><p>  <em>Das Verteilen von npm-Abh√§ngigkeitspaketen ist nicht w√ºnschenswert.</em>  <em>Bitte erw√§gen Sie, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">PeerDependencies Drag13</a> / Round-to-Abh√§ngigkeiten hinzuzuf√ºgen oder sie sogar aus Abh√§ngigkeiten zu entfernen</em> </p><br><p>  und dann der Fehler: </p><br><blockquote>  Die Abh√§ngigkeit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">drag13</a> / round-to muss explizit in die Whitelist aufgenommen werden </blockquote><p>  <em>Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Abh√§ngigkeit drag13</a> / round-to muss explizit zur Whitelist hinzugef√ºgt werden.</em> </p><br><p>  Dies ist bereits interessant, da die Bibliothek keine direkten Abh√§ngigkeiten haben m√∂chte.  Wir versuchen, unsere Sucht in den Bereich peerDependencies zu verlagern und wieder zusammenzusetzen - voila, alles funktioniert.  Dies bedeutet jedoch, dass die Installationsreihenfolge von Bibliotheken von Drittanbietern jetzt anders ist.  Legen Sie zuerst die Abh√§ngigkeit vom Hauptmodul ab und f√ºgen Sie die Stifte dann mit Stiften zum Abschnitt peerDependencies der Bibliothek hinzu. </p><br><p>  Der Rest funktioniert genauso wie in einem regul√§ren Angular-Projekt. </p><br><p>  Kurz zusammengefasst: </p><br><p>  Vorteile: </p><br><ul><li>  Wir arbeiten in einer vertrauten Umgebung mit vertrauten Teams </li><li>  Es wird aus dem Kasten gesch√ºttelt </li></ul><br><p>  Nachteile: </p><br><ul><li>  Um die Komponente zu sehen, m√ºssen Sie das gesamte Projekt verwenden </li><li>  Es gibt noch keinen √úberwachungsmodus </li><li>  Ressourcen m√ºssen manuell kopiert oder der Erstellungsprozess selbst konfiguriert werden. </li></ul><br><p>  Und zum Schluss gehen Sie zur Ver√∂ffentlichung </p><br><h2 id="publikaciya">  Posting </h2><br><p>  Hier stimmt alles.  Angular / cli verwendet das etablierte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ng-packgr zum Ver√∂ffentlichen,</a> das unseren Code unabh√§ngig in ein Paket kompiliert <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">,</a> das f√ºr die Ver√∂ffentlichung von npm geeignet ist, wobei die Dateieinstellung package.json (die nicht klein ist), die Minimierung und das Packen in verschiedenen Formaten (z. B. in UMD) weggelassen werden. . </p><br><p>  Um Ihr Paket zu ver√∂ffentlichen (oder zu sehen, was darin enthalten ist), m√ºssen Sie drei Befehle ausf√ºhren </p><br><pre> <code class="hljs pgsql">npx ng build <span class="hljs-comment"><span class="hljs-comment">--prod cd dist/mylib npm publish</span></span></code> </pre> <br><p>  Wenn Sie nicht ver√∂ffentlichen m√∂chten, ersetzen Sie den Ver√∂ffentlichungsbefehl durch pack </p><br><p>  Als Ergebnis habe ich Folgendes erhalten: </p><br><p><img src="https://habrastorage.org/webt/3h/_b/hb/3h_bhbz93wewuwvdnhclpt0z5sy.png"></p><br><p>  Schauen wir uns zun√§chst package.json an, das ganz anders aussieht als das urspr√ºngliche package.json unserer Bibliothek. </p><br><p><img src="https://habrastorage.org/webt/xu/g-/og/xug-ogiokkrxhddurgedhjjaejw.png"></p><br><p>  Wie Sie sehen k√∂nnen, hat packagr unsere devDependencies nicht gel√∂scht, obwohl einige dies tun.  Dar√ºber hinaus theoretisch zufrieden mit der Anzahl der Formate, die in package.json beschrieben sind (obwohl ich die H√§lfte davon nicht kenne). </p><br><p>  Das Paket enth√§lt ein minimiertes und ein nicht minimiertes Bundle im UMD-Format sowie mehrere weitere Bundles im internen Winkelformat (fesm5, fesm2015).  Vor allem aber wird der Kopf der Entwickler jetzt nicht mehr schaden, was einfach wunderbar ist. </p><br><p>  Kommen wir zu den Schlussfolgerungen. </p><br><p>  Vorteile: </p><br><ul><li>  Bequemlichkeit </li><li>  Nachdenklichkeit </li></ul><br><h2 id="itogo">  Insgesamt </h2><br><p>  Die L√∂sung war interessant, aber roh.  Der Start und die Ver√∂ffentlichung sind sehr bequem, aber es gibt noch Fragen zur Entwicklung.  Es ist besonders frustrierend, dass die Bibliothek jetzt kein eigenst√§ndiges Projekt ist, sondern eine Erg√§nzung des Hauptprojekts mit der M√∂glichkeit der Ver√∂ffentlichung. </p><br><p>  Auf der anderen Seite wurde ein gro√üer Teil der Arbeit erledigt, die Funktionalit√§t wird st√§ndig weiterentwickelt, und ich bin sicher, dass wir im Laufe der Zeit ein hervorragendes Werkzeug f√ºr die Entwicklung erhalten werden. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de422051/">https://habr.com/ru/post/de422051/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de422041/index.html">Neuronale Netze in Android, Google ML Kit und nicht nur</a></li>
<li><a href="../de422043/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 268 (27. August - 2. September)</a></li>
<li><a href="../de422045/index.html">So funktioniert ein Heimkino: 15 thematische Rezensionen und Anleitungen</a></li>
<li><a href="../de422047/index.html">Das R√§tsel der "Union"</a></li>
<li><a href="../de422049/index.html">Fehlerbehandlung in Go 2</a></li>
<li><a href="../de422053/index.html">ESP8266 + FLProg - Erstellen einer webbasierten Konfigurationsoberfl√§che</a></li>
<li><a href="../de422057/index.html">Forschung: Java ist die beliebteste Sprache in der Cloud - wer verwendet sie und warum?</a></li>
<li><a href="../de422059/index.html">Entladen Sie Daten in Excel. Zivilisiert</a></li>
<li><a href="../de422061/index.html">Kompakter Server mit angepasstem Code-Reload und SQL-Protokollen von einem Maven-Team f√ºr eine produktive Entwicklung</a></li>
<li><a href="../de422069/index.html">PHP Digest Nr. 138 (20. August - 2. September 2018)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>