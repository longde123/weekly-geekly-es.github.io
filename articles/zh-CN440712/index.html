<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>↩️ 👩🏽‍🔬 🚽 云只是某人的计算机 👨🏻‍⚖️ 👩🏾‍🤝‍👨🏿 🆓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="当我们在2013年推出Discourse时，我们对服务器的要求很高： 



- 1 GB内存 
- 快速双核CPU 
- 20 GB的快速固态驱动器 
 我并不是说廉价的共享cpanel服务器，而是具有这种特性的专用虚拟专用服务器。 

 这对我们来说已经足够了，因为在Internet的下一个十年...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>云只是某人的计算机</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440712/"> 当我们在2013年推出<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Discourse</a>时，我们对服务器的要求很高： <br><br><ul><li>  1 GB内存 </li><li> 快速双核CPU </li><li> 20 GB的快速固态驱动器 </li></ul><br> 我并不是说廉价的共享cpanel服务器，而是具有这种特性的<em>专用</em>虚拟专用服务器。 <br><br> 这对我们来说已经足够了，因为在Internet的下一个十年中，我们<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用Ruby编写了代码</a> 。 我立即预测具有这种特征的VPS的租赁价格将降至每月5美元，这要归功于Digital Ocean，它确实<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">发生在2018年1月</a> 。 <br><br> 云变得越来越便宜。 这并不奇怪，因为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">随着时间的流逝，铁的价格下降到零</a> 。 但这仍然是一片乌云，也就是说，它并不完全<em>便宜</em> 。 毕竟，这是您要为其支付租赁特权的其他人的计算机。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/43b/3eb/b04/43b3ebb0491111cf0276d3a73098c9b5.png"></div><br> 但是等等... <strong>如果您可以将计算机“置于云端”怎么办？</strong> <br><a name="habracut"></a><br> 这种解决方案是否不具有两种方法的优势？ 连接的可靠性加上极低的设备每月费用低？ 如果您觉得这很疯狂，那么您应该改变主意-Mac用户已经这样做<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了几年</a> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/529/423/d9a/529423d9a9bd18b9ac945a3b25f2121b.png"></div><br> 我认为这是可以理解的，为什么Mac用户在该领域处于最前沿，因为Apple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">几乎不生产服务器硬件</a> ，而PC世界一直是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">服务器硬件的事实标准</a> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b46/ccd/4d3/b46ccd4d3c7cc338525a0c97d2249671.jpg"></div><br> 考虑到云服务提供商的普遍性和发展水平，如今<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">并置真实服务器</a>的想法似乎<em>有点</em>争议。 我们还尝试了在不同主机配置下的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">微型PC搭配</a> 。 我仍然很好奇，为什么没有那么多提供小型PC配置服务的小型企业。 因为... <em>我认为它们必须存在</em> 。 <br><br> 最初，我写了关于2016年添加到我们Discourse基础架构中的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">踏板车计算机的信息</a> ，以及关于并行运行并置的我自己的实验。  <strong>经过三年的试验，我得出的结论是这些小盒子相当可靠</strong> ，但有一个警告，我将在评论中进行解释。 我仍然是微型PC配置的粉丝。 我非常喜欢它，以至于我整理出了2019年的新版本： <br><br><table><tbody><tr><td>  <b>2017年-$ 670</b> </td><td>  <b>2019年-820美元</b> </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">i7-7500u</a> <br>  2.7-3.5 Ghz，2c / 4t </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">i7-8750h</a> <br>  2.2-4.1 Ghz，6c / 12t </td></tr><tr><td>  16GB DDR3内存 </td><td>  32GB DDR4内存 </td></tr><tr><td>  500GB SATA固态硬盘 </td><td>  500GB NVMe固态硬盘 </td></tr></tbody></table><br> 今年的踏板车计算机<strong>的核心数量增加了三倍，内存增加了一倍，驱动器速度提高了三倍</strong> 。 这是孩子们在互联网上所说的... <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">绝对单位</a></em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/82e/b84/923/82eb849236ef1b31c27e7e08d2d49ee5.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2b1/0ac/30d/2b10ac30dcdbd42d45274666bf8d24fc.jpg" alt="2019踏板车计算机底部内部"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c07/fb5/f32/c07fb5f32e87008d9c0e4d2d323bc677.jpg" alt="2019踏板车计算机前后"></div><br> 此外，它还具有相当优雅的双面内部电路。 它有一个用于安装2.5英寸老式驱动器的插槽，以及内置的wi-fi，但您不会在我的照片中看到它们，因为我已将它们物理删除了。 <br><br> 我使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">推荐的稳定性测试和负载测试</a>检查了包装盒的可行性，尽管他们不得不更换一组有问题的RAM板条，但它们都顺利通过了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">测试</a> 。 基准测试显示了与平均海洋数字液滴相比的真实情况： <br><br>  <strong>核心表现</strong> <br><br> <code>sysbench cpu --cpu-max-prime=20000 run</code> <br> <br><table><tbody><tr><td> 液滴DO </td><td>  2,988 </td></tr><tr><td> 迷你电脑2017 </td><td>  4,800 </td></tr><tr><td> 迷你电脑2019 </td><td>  5,671 </td></tr></tbody></table><br>  <strong>多核性能</strong> <br><br> <code>sysbench cpu --cpu-max-prime=40000 --num-threads=8 run</code> <br> <br><table><tbody><tr><td> 液滴DO </td><td>  2,200 </td></tr><tr><td> 迷你电脑2017 </td><td>  5,588 </td></tr><tr><td> 迷你电脑2019 </td><td>  14,604 </td></tr></tbody></table><br>  <strong>磁盘速度</strong> <br><br> <code>dd bs=1M count=512 if=/dev/zero of=test conv=fdatasync</code> <br> <br> <code>hdparm -Tt /dev/sda</code> <br> <br><table><tbody><tr><td> 液滴DO </td><td>  701/8818/471 MB /秒 </td></tr><tr><td> 迷你电脑2017 </td><td>  444/12564/505 MB /秒 </td></tr><tr><td> 迷你电脑2019 </td><td>  1200/17919/3115 MB /秒 </td></tr></tbody></table><br>  <strong>重建话语</strong> <br><br> <code>time ./launcher rebuild app</code> <br> <br><table><tbody><tr><td> 液滴DO </td><td> 上午6:59 </td></tr><tr><td> 迷你电脑2017 </td><td>  3:41 </td></tr><tr><td> 迷你电脑2019 </td><td>  3:24 </td></tr></tbody></table><br> 能耗可能是个问题，因为2017版本的散热量（TDP）为15瓦，而当前版本的散热量为45瓦。 核心数量的三倍不会无影无踪！ 因此，我结合了<code>i7z</code> ， <code>stress</code>和我的个人<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">功率表</a>对所有东西进行了<code>i7z</code>测试。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/782/6e4/ea5/7826e4ea53982a726746b98c67a375bd.png"></div><br><table><tbody><tr><td>  （空闲登录） </td><td>  800兆赫 </td><td>  10瓦 </td></tr><tr><td> <code>stress --cpu 1</code> </td> <td>  4.1 GHz </td><td>  30瓦 </td></tr><tr><td> <code>stress --cpu 2</code> </td> <td>  4.1 GHz </td><td>  42瓦 </td></tr><tr><td> <code>stress --cpu 3</code> </td> <td>  4.0 GHz </td><td>  53瓦 </td></tr><tr><td> <code>stress --cpu 4</code> </td> <td>  3.9 GHz </td><td>  65瓦 </td></tr><tr><td> <code>stress --cpu 5</code> </td> <td>  3.7 GHz </td><td>  65瓦 </td></tr><tr><td> <code>stress --cpu 6</code> </td> <td>  3.5 GHz </td><td>  65瓦 </td></tr><tr><td> <code>stress --cpu 12</code> </td> <td>  3.3 GHz </td><td>  65瓦 </td></tr></tbody></table><br> 在低负载下执行典型任务时，我预计会看到约10-20瓦，而不会真正占用CPU。 请注意，当前版本的<code>mprime</code>的启动将功耗增加到75瓦，并且总时钟频率降低了3.1 GHz ...，我必须说，我学会了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>非常</em>害怕AVX2扩展</a> 。 <br><br>  （无需担心噪声。对于65 W的负载，这种主动冷却系统显然太强大了，因为即使在磁芯满负荷的情况下它也几乎不会旋转。它<em>非常</em>安静。） <br><br> 因此，我对以820美元的价格购买这辆车感到非常满意-它的速度非常快而且非常可靠。 但是托管费用呢？ 我的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">位置</a>提供商是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">EndOffice</a> ，它位于波士顿的郊区，提供非常实惠的Mini-PC托管价格：$ 29 /月。 <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/2e2/8ab/494/2e28ab494aaf4cd292d06f65dda0cf1e.png"></a> </div><br> 我个人为了减少冗余和以防万一，放置了三台Mini-PC。 对于多辆汽车的并置，提供折扣。 它们全部都安装在机架上并且正在运行。 当然，我在安装之前就安装了它们。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c27/dbd/4a3/c27dbd4a3022fd08b87bab34e19c69d3.jpg"></div><br> 让我们分析所有内容并比较Mini-PC主机托管和云的成本。 鉴于不断增加的CPU速度处于稳定状态，我相信这些机箱的五年有用工作将是一个现实的估计，但让我们保守一点，为了保证可靠性，我们需要三年的运行时间。 <br><br><ul><li> 售价880美元的Miini-PC，配备32 GB RAM，6个CPU，500 GB SSD </li><li>  120美元-税/交货/其他 </li><li>  29×12×3 = 1,044美元 </li></ul><br>  <strong>三年托管费为2,044美元</strong> 。  Digital Ocean上的图片是什么？ 根据<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">他们当前的价格表</a> ： <br><br><ul><li>  32 GB RAM，8个虚拟CPU，640 GB SSD </li><li>  160美元/月 </li><li>  160×12×3 = <strong>5,760美元</strong> </li></ul><br> 这种比较是不准确的，因为我们获得了额外的140 GB磁盘空间和2个额外的CPU，但是与我们专用的隔离CPU相比，这些处理器速度较慢，并且被多租户部分吸收。  （我很好奇，所以对于一个简短的测试，我以每月160美元的价格创建了一个新的DO实例.Sysbench分别显示4086和11760的结果，这比上面显示的Mini-PC 2019的结果要少得多。）如您所见， <strong>我们为云服务器付费几乎是三倍。</strong> <br><br> 我并不是说该解决方案适合每个人。 如果您只需要快速创建一台或两台服务器来进行测试和试验，但是绝对不想花钱组装和碰撞微型PC，那么毫无疑问，云中的服务器提供了前所未有的灵活性和冗余性。 但是，如果您<strong>几年来</strong>需要<strong>专用的计算资源</strong> ，那么将自己的小型个人云与<em>属于您</em>的机器组装在一起将不会只占成本的三分之一……但这也很方便。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a6/1ac/148/3a61ac1481ab4f677efad72180c34859.jpg"></div><br> 如果您也想参加这样的项目，则可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在亚马逊上以490美元的价格</a>购买<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我拥有的Partaker B18，也可以</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">通过速卖通直接从中国订购460美元</a> 。 根据自己的喜好添加内存和存储空间，建造一辆汽车，然后根据自己的喜好选择任何位置提供者。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN440712/">https://habr.com/ru/post/zh-CN440712/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN440700/index.html">内部数据科学“特种部队”</a></li>
<li><a href="../zh-CN440702/index.html">注意-气体！ 或我们如何进行非碳酸化智能合约</a></li>
<li><a href="../zh-CN440706/index.html">InoThings ++专业IoT会议-过去和将来</a></li>
<li><a href="../zh-CN440708/index.html">公开网络研讨会“工作：一个人，另一个人”</a></li>
<li><a href="../zh-CN440710/index.html">WebView的两个方面：关于项目的快速启动和个人数据的盗用</a></li>
<li><a href="../zh-CN440714/index.html">降低获取率如何影响我们（持卡人）</a></li>
<li><a href="../zh-CN440716/index.html">在伏尔加格勒实施最大的公共部门预先组装IDCS</a></li>
<li><a href="../zh-CN440718/index.html">Unity中的跨场景数据传输-将多值应用于简单游戏开发</a></li>
<li><a href="../zh-CN440720/index.html">我们在iOS中实现UI：我们改善，加速，扩展</a></li>
<li><a href="../zh-CN440722/index.html">Swift新手入门</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>