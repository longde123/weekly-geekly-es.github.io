<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•ï üöè üë©üèæ‚Äçü§ù‚Äçüë©üèΩ Usando todas as matrizes Flash do AccelStor em projetos VDI üíû üòè üçè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os desktops virtuais (VDIs) parecem ter uma enorme vantagem sobre os computadores pessoais comuns dos funcion√°rios. No entanto, na realidade, √© necess...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Usando todas as matrizes Flash do AccelStor em projetos VDI</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/accelstor/blog/438792/"><p>  Os desktops virtuais (VDIs) parecem ter uma enorme vantagem sobre os computadores pessoais comuns dos funcion√°rios.  No entanto, na realidade, √© necess√°rio um hardware muito produtivo e tamb√©m caro para que o ambiente virtual funcione a uma velocidade adequada e o VDI n√£o seja irritante no trabalho do pessoal.  Um dos gargalos da infraestrutura de VDI √© um sistema de armazenamento de dados: depende diretamente de seu desempenho se vale a pena entrar em contato com essa tecnologia ou n√£o. </p><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/8-/dm/qd/8-dmqddfowzapqkkshefod28oe8.jpeg"></div><br><a name="habracut"></a><br><h3>  Por que uma empresa precisa de VDI? </h3><br><p>  A tecnologia VDI pode simplificar e automatizar significativamente o gerenciamento da infraestrutura de TI dos locais de trabalho dos funcion√°rios da organiza√ß√£o.  A diferen√ßa das esta√ß√µes de trabalho e laptops tradicionais √© especialmente not√°vel com uma grande equipe.  Al√©m disso, o VDI √© uma excelente ferramenta para a entrega segura de ferramentas de trabalho dos funcion√°rios (a chamada √°rea de trabalho como servi√ßo) de qualquer local, extremamente popular em organiza√ß√µes com altos requisitos de seguran√ßa e / ou com uma extensa rede de ag√™ncias (medicina, bancos, educa√ß√£o, varejo, etc.). </p><br><p>  Se a infraestrutura VDI for implantada corretamente, muito em breve come√ßar√° a economizar dinheiro da empresa, reduzindo drasticamente o custo de manuten√ß√£o e reduzindo os pontos de vulnerabilidade devido √† consolida√ß√£o de equipamentos e software de TI.  Isso aumentar√° a flexibilidade ao adicionar novos empregos, onde quer que estejam. </p><br><h3>  Problemas ao implantar VDI </h3><br><p>  Como a VDI implica uma infinidade de usu√°rios que executam suas opera√ß√µes simultaneamente no local de trabalho, a infraestrutura de TI exige n√£o apenas alto desempenho de E / S, mas tamb√©m lat√™ncia ultra-baixa.  Se a "frenagem" ocorrer em algum lugar, √© altamente prov√°vel que isso cause um negativo para os usu√°rios e eles exigir√£o um retorno √†s esta√ß√µes de trabalho tradicionais.  E isso significa uma falha completa na implementa√ß√£o da VDI. </p><br><p>  De acordo com os relat√≥rios da IDC, as implementa√ß√µes de VDI mais desastrosas estavam relacionadas ao desempenho do sistema de armazenamento que n√£o podia fornecer E / S de alta velocidade para toda a infraestrutura.  Portanto, a escolha de sistemas de armazenamento com o desempenho necess√°rio √© talvez a tarefa mais importante no design da VDI.  E, note-se, um dos mais caros em termos de custo. </p><br><p>  Os sistemas de armazenamento de eixo e h√≠brido (discos mec√¢nicos + flash), como a pr√°tica demonstrou, n√£o s√£o adequados para projetos de VDI em larga escala, pois s√£o baseados no princ√≠pio de armazenar em cache as solicita√ß√µes de E / S para reduzir atrasos.  Mas o tamanho do cache n√£o √© infinito.  Assim que estiver cheio, os atrasos aumentar√£o, os usu√°rios ir√£o se "rebelar" e, considerar, o projeto ser√° dobrado.  De fato, os requisitos de lat√™ncia da VDI s√£o t√£o altos que mesmo os sistemas All Flash tradicionais baseados em RAID com cache NVMe ou NVRAM n√£o conseguem lidar com a carga. </p><br><p>  Nesses projetos, os sistemas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AccelStor</a> All Flash que n√£o possuem cache ser√£o muito bem-vindos: todos os dados s√£o gravados no SSD imediatamente ap√≥s algum rearranjo realizado em tempo real (grava√ß√£o s√≠ncrona).  A aus√™ncia de um cache significa const√¢ncia no desempenho, tanto em termos de IOPS e taxa de transfer√™ncia, quanto em lat√™ncias, que, note-se, j√° possuem desempenho impressionante. </p><br><h3>  Arquitetura otimizada para Flash </h3><br><p>  A tecnologia RAID foi desenvolvida no final dos anos 80 do s√©culo passado exclusivamente para o uso de drives de eixo tradicionais.  E hoje √© talvez a tecnologia mais amplamente utilizada com sucesso no campo de armazenamento de dados.  Por√©m, ao criar todos os sistemas Flash usando RAID, existem pelo menos dois problemas: </p><br><ul><li>  Os dados s√£o gravados no SSD em um local aleat√≥rio na unidade </li><li>  Os dados geralmente s√£o substitu√≠dos </li></ul><br><p>  Os sistemas All Flash do AccelStor funcionam de uma maneira completamente diferente, pois foram projetados especificamente para o uso eficiente de SSDs.  A base √© a tecnologia propriet√°ria <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FlexiRemap</a> , que n√£o usa cache e RAID.  10 anos de pesquisa e mais de 45 patentes revelam todo o potencial da mem√≥ria flash.  Gra√ßas ao apoio de uma gigante de TI como a Toshiba Memory e os pr√™mios de melhor show no Flash Memory Summit 2016, a tecnologia FlexiRemap √© verdadeiramente revolucion√°ria. </p><br><h3>  Por que FlexiRemap <sup>¬Æ</sup> ? </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A</a> tecnologia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FlexiRemap <sup>¬Æ</sup></a> recebeu esse nome apenas pela redistribui√ß√£o (remapeamento) dos blocos de dados antes de gravar no SSD.  Os dados s√£o agrupados em cadeias sequenciais e s√£o gravados em unidades em m√∫ltiplos de 4KB, ou seja,  no modo SSD mais confort√°vel.  Gra√ßas a essa abordagem, √© poss√≠vel obter indicadores de desempenho razoavelmente altos (at√© 700K IOPS para grava√ß√£o aleat√≥ria, at√© 1.1M IOPS para leitura e grava√ß√£o aleat√≥ria) sem usar um cache. </p><br><p>  A maioria dos sistemas de armazenamento baseados em RAID usa SSDs SAS caros, necess√°rios para trabalhar com dois controladores e, ao mesmo tempo, utilizam seu desempenho em apenas 10%.  O FlexiRemap <sup>¬Æ</sup> em combina√ß√£o com a arquitetura de cluster <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">compartilhado nada</a> usa SSDs SATA mais baratos e utiliza seu desempenho em 90%, o que significa, em √∫ltima an√°lise, menor custo de propriedade (TCO) e retorno mais r√°pido do investimento (ROI). </p><br><p>  Al√©m disso, observamos que os SSDs t√™m um ciclo de envelhecimento previs√≠vel associado √† quantidade de informa√ß√µes registradas neles.  E, ao contr√°rio dos sistemas RAID que possuem grandes custos indiretos nas opera√ß√µes de grava√ß√£o, a tecnologia FlexiRemap <sup>¬Æ</sup> grava dados apenas uma vez, aumentando a vida √∫til da unidade e diminuindo o mesmo TCO. </p><br><p>  Portanto, todos os sistemas Flash AccelStor com tecnologia FlexiRemap <sup>¬Æ</sup> s√£o √≥timos para projetos que usam E / S intensivas e exigem lat√™ncia ultra baixa.  Como VDI. </p><br><h3>  R√°pido retorno do investimento para armazenamento </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O AccelStor</a> fornece um modelo n√£o licenciado para seus dispositivos.  I.e.  o cliente obt√©m acesso a todas as tecnologias (clones, instant√¢neos, replica√ß√£o, desduplica√ß√£o, etc.) imediatamente e para sempre.  Al√©m disso, o suporte t√©cnico para dispositivos (e, √© claro, software) se estende por toda a vida √∫til da matriz, e n√£o apenas dentro do escopo da garantia / extens√£o da garantia.  Portanto, aqui, o indicador TCO pode ser reduzido significativamente. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zt/8c/4z/zt8c4zjzrs9fvwfqquprpkorwps.jpeg"></div><br><p>  O uso do algoritmo de deduplica√ß√£o (FlexiDedupe) reduz o espa√ßo de armazenamento usado pelos dados.  Conforme aplicado ao VDI, observamos que, para o clone vinculado, a taxa de compress√£o resultante pode facilmente chegar a 10: 1.  Como resultado, uma matriz totalmente preenchida em combina√ß√£o com desduplica√ß√£o e provisionamento din√¢mico pode fornecer o custo de um local de trabalho ativo na regi√£o de 30 USD. </p><br><h3>  Teste </h3><br><p>  AccelStor NeoSapphireTM Todos os sistemas Flash foram testados com o pacote Login VSI, que √© uma √≥tima ferramenta para medir o desempenho e a escalabilidade da infraestrutura VDI. </p><br><p>  O teste usou 500 √°reas de trabalho no modo clone vinculado no ambiente VMware Horizon View.  Todos eles estavam localizados no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">array NeoSapphire P710</a> (SSD 24x, 10G iSCSI, n√≥ √∫nico, grava√ß√£o sustentada IOPS de 700K) em 5 volumes de 2 TB cada, al√©m de um volume separado para r√©plicas.  A plataforma de alta densidade de 8 n√≥s da Supermicro foi a carga.  Um par de servidores separados e uma matriz All Flash (tamb√©m da AccelStor) continham a infraestrutura VDI e os sistemas de monitoramento de teste. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/1b/mr/8k/1bmr8kgrcfij_9lxsbuqalzwza4.jpeg"></div><br>  <i>Infraestrutura de equipamentos de teste</i> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/si/cw/ql/sicwqlw8aolrezfhsdntbgeefxe.jpeg"></div><br>  <i>Organiza√ß√£o da √°rea de trabalho virtual</i> <br><br><p>  Os desktops eram m√°quinas virtuais baseadas no Windows 10 Pro (build 1709) com a configura√ß√£o: 2x vCPU, 3,5 GB de RAM (100% reservado), 60 GB de disco r√≠gido.  Dois perfis de carga foram feitos.  Em termos de Login VSI, eles s√£o chamados de conhecimento e poder.  As diferen√ßas est√£o no grau de influ√™ncia nos recursos de computa√ß√£o e nos requisitos de E / S. </p><br><table><tbody><tr><th>  Trabalhador </th><th>  Conhecimento </th><th>  Poder </th></tr><tr><td>  Descri√ß√£o do produto </td><td>  Carga de estresse bem equilibrada com alta CPU, RAM e IO </td><td>  Carga de trabalho muito intensa, com estresse m√°ximo para o sistema, exigindo recursos muito grandes de CPU, RAM e IO </td></tr><tr><td>  Software usado </td><td>  Leitor de Adobe <br>  Freemind / java <br>  Internet Explorer <br>  MS Excel <br>  MS Outlook <br>  MS PowerPoint <br>  MS Word <br>  Visualizador de fotos <br>  7 zip <br></td><td>  Leitor de Adobe <br>  Freemind / java <br>  Internet Explorer <br>  MS Excel <br>  MS Outlook <br>  MS PowerPoint <br>  MS Word <br>  Visualizador de fotos <br>  7 zip <br>  Instale v√°rios aplicativos ao mesmo tempo <br></td></tr><tr><td>  Nota </td><td></td><td>  Arquivos maiores foram usados, para gr√°ficos - resolu√ß√£o maior </td></tr></tbody></table><br><p>  Para entender a carga t√≠pica, as figuras tamb√©m fornecem o consumo estimado de recursos por cada perfil (porcentagem em rela√ß√£o ao perfil de conhecimento): </p><br><table><tbody><tr><th>  Trabalhador </th><th>  Aplicativos abertos </th><th>  Uso da CPU </th><th>  Leituras de disco </th><th>  Grava√ß√µes em disco </th><th>  IOPS </th><th>  Mem√≥ria </th><th>  vCPU </th></tr><tr><td>  Conhecimento </td><td>  5-9 </td><td>  100% </td><td>  100% </td><td>  100% </td><td>  8,5 </td><td>  1.5GB </td><td>  2 vCPU </td></tr><tr><td>  Poder </td><td>  8-12 </td><td>  119% </td><td>  133% </td><td>  123% </td><td>  10,8 </td><td>  2GB </td><td>  2 vCPU </td></tr></tbody></table><br><p>  V√°rios modos de opera√ß√£o da infraestrutura VDI foram testados, cada um deles exercendo uma carga alta no array All Flash. </p><br><div class="spoiler">  <b class="spoiler_title">Testes</b> <div class="spoiler_text"><ul><li>  Provisioning - Implantando um pool de m√°quinas virtuais <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/20/hf/eu/20hfeucz75n5pzjs70qhrb-iibe.jpeg"></div></li><li>  Inicializando - carregando m√°quinas virtuais, emulando o in√≠cio do dia √∫til (a chamada tempestade de inicializa√ß√£o) <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/c-/gt/iz/c-gtiz5ubdrv7lod6niwryt_qcu.jpeg"></div></li><li>  Teste completo de login do VSI (Login) - um aumento gradual da carga nas m√°quinas virtuais para atingir um pico quando o desempenho come√ßa a diminuir devido √† falta de recursos (neste caso, cem por cento).  O pico n√£o foi atingido, a matriz All Flash √© capaz de fornecer desempenho para um n√∫mero maior de desktops, mesmo em configura√ß√µes de carga, como energia <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/tw/_s/qq/tw_sqqmpxutmabidbafysr1t3v8.jpeg"></div><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/j8/hb/df/j8hbdfanetvo9c5st7afuq0gyv8.jpeg"></div></li><li>  30 minutos em estado estacion√°rio - teste de estabilidade de 30 minutos com carga m√°xima <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/p5/xq/t0/p5xqt0lxs3vp5cy1zs-igjn2pja.jpeg"></div><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/vi/dc/uq/vidcuqbyxwmrezevhv2tjd0bbj8.jpeg"></div></li><li>  Desligar - encerre o pool de m√°quinas virtuais </li><li>  Atualiza√ß√£o de pool - retorne o disco do sistema operacional ao tamanho original </li></ul><br></div></div><br><p>  Como resultado, independentemente do modo de carregamento, foi mantido um tempo de resposta confort√°vel dentro das m√°quinas virtuais.  Ou seja, em outras palavras, isso significa que o usu√°rio se sentiria confort√°vel ao trabalhar com esse ambiente de trabalho. </p><br><table><tbody><tr><th>  Pool de √°rea de trabalho 500 clones </th><th>  Prazo de execu√ß√£o </th><th>  Atraso m√©dio </th></tr><tr><td>  Provisioning </td><td>  ~ 32 min </td><td>  0.59ms </td></tr><tr><td>  Inicializando </td><td>  ~ 2 min </td><td>  0.68ms </td></tr><tr><td>  Teste completo de login VSI (Login) </td><td>  50 min </td><td>  0.46ms </td></tr><tr><td>  30 minutos em estado estacion√°rio </td><td>  30 min </td><td>  0.56ms </td></tr><tr><td>  Desligar </td><td>  ~ 7 min </td><td>  0.45ms </td></tr><tr><td>  Atualiza√ß√£o da piscina </td><td>  ~ 14 min </td><td>  0.27ms </td></tr></tbody></table><br><p>  <i>Os resultados completos dos testes est√£o dispon√≠veis no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Login VSI</a> e no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AccelStor</a> .</i> </p><br><h2>  Conclus√£o </h2><br><blockquote>  Quando o desempenho do armazenamento realmente importa e o conjunto All Flash opera no centro da infraestrutura de VDI, os sistemas baseados na tecnologia FlexiRemap <sup>¬Æ</sup> fornecem a melhor rela√ß√£o pre√ßo / desempenho.  O uso do SSD corporativo SATA e um algoritmo interno para aumentar sua vida √∫til, juntamente com a baixa lat√™ncia do dispositivo como um todo, foi exatamente o que foi criado para uso em projetos de VDI em larga escala. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt438792/">https://habr.com/ru/post/pt438792/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt438778/index.html">@Pythonetc janeiro de 2019</a></li>
<li><a href="../pt438782/index.html">O FSB prop√¥s o lan√ßamento de cart√µes SIM russos e usa criptografia dom√©stica para 5G</a></li>
<li><a href="../pt438784/index.html">Problemas ao usar o servi√ßo Yandex.Metrica</a></li>
<li><a href="../pt438788/index.html">Monitoramento ambiental na sala do servidor (Bolid + Zabbix)</a></li>
<li><a href="../pt438790/index.html">A troca de criptomoedas QuadrigaCX n√£o doar√° US $ 137 milh√µes, apenas o diretor sabia a senha da loja e ele morreu.</a></li>
<li><a href="../pt438794/index.html">Detalhes do objeto JavaScript</a></li>
<li><a href="../pt438796/index.html">Parte 1 do Docker de aprendizagem: o b√°sico</a></li>
<li><a href="../pt438798/index.html">Como trabalhar com dados de intelig√™ncia cibern√©tica: aprendemos a coletar e identificar indicadores de comprometimento do sistema</a></li>
<li><a href="../pt438800/index.html">PHP Pear Hacked e Indispon√≠vel</a></li>
<li><a href="../pt438802/index.html">Programas de ver√£o para 2019 para ensinar programa√ß√£o de adolescentes no exterior</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>