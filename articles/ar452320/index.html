<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐จ๐ปโ๐ ๐ง๐ฟ MVCC-6. ุชูุธูู โ ๐ ๐ฅก</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏ ุจุฏุฃูุง ุจูุดููุงุช ูุชุนููุฉ ุจุงูุนุฒูุฉ ุ ููููุง ุจุงุณุชูุจุงุท ุญูู ุชูุธูู ุงูุจูุงูุงุช ุนูู ูุณุชูู ููุฎูุถ ุ ุซู ุชุญุฏุซูุง ุจุงูุชูุตูู ุนู ุฅุตุฏุงุฑุงุช ุงูุตู ูููู ูุชู ุงูุญุตูู ุนูู ููุทุงุช ูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MVCC-6. ุชูุธูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/452320/" style=";text-align:right;direction:rtl">  ููุฏ ุจุฏุฃูุง ุจูุดููุงุช ูุชุนููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุงูุนุฒูุฉ</a> ุ ููููุง ุจุงุณุชูุจุงุท ุญูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุธูู ุงูุจูุงูุงุช ุนูู ูุณุชูู ููุฎูุถ</a> ุ ุซู ุชุญุฏุซูุง ุจุงูุชูุตูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนู ุฅุตุฏุงุฑุงุช ุงูุตู</a> ูููู ูุชู ุงูุญุตูู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุทุงุช</a> ูู ุงูุฅุตุฏุงุฑุงุช. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุขุฎุฑ ูุฑุฉ</a> ุชุญุฏุซูุง ูููุง ุนู ุชุญุฏูุซุงุช HOT ูุงูุชูุธูู ูู ุงูุตูุญุฉ ุ ูุงูููู ุณูููู ูุธุฑุฉ ุนูู ุงูุชูุธูู ุงูุนุงุฏู ุงููุนุฑูู ุ <em>ุงููุจุชุฐูุฉ</em> .  ูุนู ุ ููุฏ ููุชุจ ุงููุซูุฑ ุนููุง ุจุงููุนู ุ ููู ุบูุฑ ุงููุญุชูู ุฃู ุฃููู ุดูุฆูุง ุฌุฏูุฏูุง ุ ููู ุงูุชูุงู ุงูุตูุฑุฉ ูุชุทูุจ ุงูุชุถุญูุฉ.  ูู ุตุจูุฑุง. <br><br><h1 style=";text-align:right;direction:rtl">  ุชูุธูู ุนุงุฏู (ูุฑุงุบ) </h1><br><h2 style=";text-align:right;direction:rtl">  ูุงุฐุง ุงูุชูุธูู ุชูุนู </h2><br>  ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ ุณุฑูุน ุ ูููู ูุง ูุญุฑุฑ ุณูู ุฌุฒุก ุจุณูุท ูู ุงููุณุงุญุฉ.  ุฅูู ูุนูู ุฏุงุฎู ููุณ ุงูุตูุญุฉ ุงูุฌุฏูููุฉ ููุง ูุคุซุฑ ุนูู ุงูููุงุฑุณ. <br><br>  ุชุชู ุนูููุฉ ุงูุชูุธูู ุงูุฑุฆูุณูุฉ "ุงูุนุงุฏูุฉ" ุจูุงุณุทุฉ ุฃูุฑ VACUUM ูุณูุณูููุง ุจุจุณุงุทุฉ ุงูุชูุธูู (ูุณูู ูุชุญุฏุซ ุนู ุงูุชูุธูู ุงูุชููุงุฆู ุจุดูู ูููุตู). <br><br>  ูุฐูู ุ ุชูุธูู ูุนุงูุฌ ุงูุฌุฏูู ุจุงููุงูู.  ููุธู ููุณ ููุท ุงูุฅุตุฏุงุฑุงุช ุบูุฑ ุงูุถุฑูุฑูุฉ ูู ุงูุณูุงุณู ุ ูููู ุฃูุถูุง ูุดูุฑ ุฅูููุง ูู ุฌููุน ุงููุคุดุฑุงุช. <br><br>  ุชุญุฏุซ ุงููุนุงูุฌุฉ ุจุงูุชูุงุฒู ูุน ุงูุฃูุดุทุฉ ุงูุฃุฎุฑู ูู ุงููุธุงู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุงุณุชุฎุฏุงู ุงูุฌุฏูู ูุงูููุงุฑุณ ุจุงูุทุฑููุฉ ุงููุนุชุงุฏุฉ ูููุฑุงุกุฉ ูุงูุชุบููุฑ (ููุน ุฐูู ุ ูุฅู ุงูุชูููุฐ ุงููุชุฒุงูู ูุฃูุงูุฑ ูุซู CREATE INDEX ู ALTER TABLE ูุจุนุถูุง ุงูุขุฎุฑ ุณูููู ูุณุชุญููุงู). <br><br>  ูุชู ุนุฑุถ ููุท ุงูุตูุญุงุช ุงูุชู ุญุฏุซ ูููุง ูุดุงุท ูุง ูู ุงูุฌุฏูู.  ููุฐุง ุงูุบุฑุถ ุ ูุชู ุงุณุชุฎุฏุงู ุฎุฑูุทุฉ ุฑุคูุฉ (ุฃุฐูุฑู ุจุฃู ุงูุตูุญุงุช ุงูุชู ุชุญุชูู ุนูู ุฅุตุฏุงุฑุงุช ูุฏููุฉ ููุท ูู ุงูุตููู ูุถูููุฉ ุฃู ุชููู ูุฑุฆูุฉ ูู ุฌููุน ููุทุงุช ุงูุจูุงูุงุช ุชู ูุถุน ุนูุงูุฉ ุนูููุง).  ุชุชู ูุนุงูุฌุฉ ุงูุตูุญุงุช ุงูุชู ูู ูุชู ุชูููุฒูุง ุนูู ุงูุฎุฑูุทุฉ ููุท ุ ุจูููุง ูุชู ุชุญุฏูุซ ุงูุฎุฑูุทุฉ ููุณูุง. <br><br>  ูู ูุฐู ุงูุนูููุฉ ุ ูุชู ุชุญุฏูุซ ุฎุฑูุทุฉ ุงููุณุงุญุฉ ุงูุญุฑุฉ ูุชุนูุณ ุงููุณุงุญุฉ ุงูุญุฑุฉ ุงูุชู ุชุธูุฑ ูู ุงูุตูุญุงุช. <br><a name="habracut"></a><br>  ูุงูุนุงุฏุฉ ุ ูู ุจุฅูุดุงุก ุฌุฏูู: <br><br><pre style=";text-align:right;direction:rtl"><code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> vac( id <span class="hljs-type"><span class="hljs-type">serial</span></span>, s <span class="hljs-type"><span class="hljs-type">char</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (autovacuum_enabled = <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> vac_s <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> vac(s); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> vac(s) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-string"><span class="hljs-string">'A'</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> vac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'B'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> vac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'C'</span></span>;</code> </pre> <br>  ุจุงุณุชุฎุฏุงู ุงููุนููุฉ <em>autov Vacuum_enabled ุ ูุทูุฆ</em> ุงูุชูุธูู ุงูุชููุงุฆู.  ุณูุชุญุฏุซ ุนู ุฐูู ูู ุงููุฑุฉ ุงููุงุฏูุฉ ุ ูููู ูู ุงูููุช ุงูุญุงูู - ูู ุฃุฌู ุงูุชุฌุงุฑุจ - ูู ุงูููู ุจุงููุณุจุฉ ููุง ุฅุฏุงุฑุฉ ุงูุชูุธูู ูุฏูููุง. <br><br>  ููุฌุฏ ุงูุขู ุซูุงุซุฉ ุฅุตุฏุงุฑุงุช ูู ุงูุตู ูู ุงูุฌุฏูู ุ ููุชู ุฑุจุท ูู ุฅุตุฏุงุฑ ูู ููุฑุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+----------+-----+-----+-------- (0,1) | normal | 4000 (c) | 4001 (c) | | | (0,2) (0,2) | normal | 4001 (c) | 4002 | | | (0,3) (0,3) | normal | 4002 | 0 (a) | | | (0,3) (3 rows)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'vac_s'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,1) 2 | (0,2) 3 | (0,3) (3 rows)</code> </pre><br>  ุจุนุฏ ุงูุชูุธูู ุ ุชุฎุชูู ุงูุฅุตุฏุงุฑุงุช "ุงูููุชุฉ" ููุง ููุฌุฏ ุณูู ูุณุฎุฉ ูุงุญุฏุฉ ุฐุงุช ุตูุฉ.  ููููุคุดุฑ ุฃูุถูุง ุฑุงุจุท ูุงุญุฏ ูุชุจูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">VACUUM</span></span> vac; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+-------+-----+-----+-------- (0,1) | unused | | | | | (0,2) | unused | | | | | (0,3) | normal | 4002 (c) | 0 (a) | | | (0,3) (3 rows)</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'vac_s'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,3) (1 row)</code> </pre><br>  ูุฑุฌู ููุงุญุธุฉ ุฃู ุฃูู ูุคุดุฑูู ูุฏ ุชูููุง ุญุงูุฉ ุบูุฑ ูุณุชุฎุฏูุฉ ุ ููู ููุช ุ ููุง ูู ุงูุญุงู ูุน ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ููุฑุฉ ุฃุฎุฑู ุนู ุฃูู ุงูุตููุฉ </h2><br>  ููู ูุญุฏุฏ PostgreSQL ุฅุตุฏุงุฑุงุช ุงูุตู ุงูุชู ูููู ุงุนุชุจุงุฑูุง "ููุชุฉ"ุ  ููุฏ ุฏุฑุณูุง ุจุงููุนู ููููู ุฃูู ุงููุนุงููุงุช ุนูุฏูุง ุชุญุฏุซูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนู</a> ููุทุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจูุงูุงุช</a> ุ ูููู ูุฐุง ููุถูุน ููู ูุฏุฑุฌุฉ ุฃูู ููุณ ุฎุทูุฆุฉ ูุชูุฑุงุฑูุง. <br><br>  ููุจุฏุฃ ุงูุชุฌุฑุจุฉ ุงูุณุงุจูุฉ ูุฑุฉ ุฃุฎุฑู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUNCATE</span></span> vac; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> vac(s) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-string"><span class="hljs-string">'A'</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> vac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'B'</span></span>;</code> </pre><br>  ูููู ูุจู ุชุญุฏูุซ ุงูุณุทุฑ ูุฑุฉ ุฃุฎุฑู ุ ุฏุน ูุนุงููุฉ ุฃุฎุฑู ุชุจุฏุฃ (ูููู ูุง ุชูุชูู).  ูู ูุซุงููุง ุ ุณุชุนูู ุนูู ูุณุชูู "ูุฑุงุกุฉ ููุชุฒู" ุ ููู ูุฌุจ ุฃู ุชุญุตู ุนูู ุฑูู ูุนุงููุฉ ุญูููู (ุบูุฑ ุงูุชุฑุงุถู).  ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุฃู ุชุชุบูุฑ ุฃู ุญุชู ุชููู ุจุนุถ ุงูุตููู ูู ุฃู ุฌุฏูู ุ ูููุณ ุจุงูุถุฑูุฑุฉ ูู vac: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span>; | =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">| s | ----- | FOO | BAR | (2 rows)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> vac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'C'</span></span>;</code> </pre><br>  ููุงู ุซูุงุซุฉ ุตููู ูู ุงูุฌุฏูู ูุซูุงุซุฉ ุงุฑุชุจุงุทุงุช ูู ุงูููุฑุณ.  ูุงุฐุง ูุญุฏุซ ุจุนุฏ ุงูุชูุธููุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">VACUUM</span></span> vac; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+----------+-----+-----+-------- (0,1) | unused | | | | | (0,2) | normal | 4005 (c) | 4007 (c) | | | (0,3) (0,3) | normal | 4007 (c) | 0 (a) | | | (0,3) (3 rows)</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'vac_s'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,2) 2 | (0,3) (2 rows)</code> </pre><br>  ููุงู ุฅุตุฏุงุฑุงู ูู ุงูุตู ุงููุชุจูู ูู ุงูุฌุฏูู: ูุฑุฑ ุงูุชูุธูู ุนุฏู ุฅููุงููุฉ ุญุฐู ุงูุฅุตุฏุงุฑ (0.2) ุญุชู ุงูุขู.  ุงูุณุจุจ ุ ุจุงูุทุจุน ุ ูู ูู ุฃูู ูุนุงููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูุงูุชู ูุชู ุชุญุฏูุฏูุง ูู ูุซุงููุง ุจูุนุงููุฉ ุบูุฑ ูุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> backend_xmin <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_stat_activity <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> pid = pg_backend_pid();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">| backend_xmin | -------------- | 4006 | (1 row)</code> </pre><br>  ููููู ุทูุจ ุงูุชูุธูู ููุชุญุฏุซ ุนูุง ูุญุฏุซ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">VACUUM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VERBOSE</span></span> vac;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">INFO: vacuuming "public.vac" INFO: index "vac_s" now contains 2 row versions in 2 pages DETAIL: 0 index row versions were removed. 0 index pages have been deleted, 0 are currently reusable. CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s. INFO: "vac": found 0 removable, 2 nonremovable row versions in 1 out of 1 pages DETAIL: 1 dead row versions cannot be removed yet, oldest xmin: 4006 There were 1 unused item pointers. Skipped 0 pages due to buffer pins, 0 frozen pages. 0 pages are entirely empty. CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s. VACUUM</code> </pre><br>  ูุฑุฌู ููุงุญุธุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุตุฏุงุฑุงู ุบูุฑ ูุงุจููู ููุฅุฒุงูุฉ - ุชู ุงูุนุซูุฑ ุนูู ูุณุฎุชูู ูู ุงูุฌุฏูู ูุง ูููู ุญุฐูููุง ุ </li><li style=";text-align:right;direction:rtl">  ูุง ูููู ุฅุฒุงูุฉ ุฅุตุฏุงุฑุงุช ุงูุตููู ุงูููุงุฆูุฉ ุจุนุฏ - ุจูุง ูู ุฐูู ุฅุตุฏุงุฑ "ููุช" ุ </li><li style=";text-align:right;direction:rtl">  ุฃูุฏู xmin ูุธูุฑ ุงูุฃูู ุงูุญุงูู. </li></ul><br>  ููุฑุฑ ุงูุงุณุชูุชุงุฌ ูุฑุฉ ุฃุฎุฑู: ุฅู ูุฌูุฏ ูุนุงููุงุช ุทูููุฉ ุงูุฃูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุบูุฑ ููุชููุฉ ุฃู ุทูููุฉ ุจุงููุนู) ูููู ุฃู ูุคุฏู ุฅูู ุชูุณูุน ุฌุฏุงูู (bloat) ุ ุจุบุถ ุงููุธุฑ ุนู ุนุฏุฏ ูุฑุงุช ุฅุฌุฑุงุก ุงูุชูุธูู.  ูุฐูู ุ ูู PostgreSQL ุ ูุชู ุฏูุฌ ุฃุญูุงู ุนูู OLTP ู OLAP ุจุดูู ุณูุฆ ูู ูุงุนุฏุฉ ุจูุงูุงุช ูุงุญุฏุฉ: ูู ุชุณูุญ ุงูุชูุงุฑูุฑ ุงูุชู ูุชู ุชุดุบูููุง ูุณุงุนุงุช ุจูุณุญ ุงูุฌุฏุงูู ุงูุชู ูุชู ุชุญุฏูุซูุง ุจุดูู ูุชูุฑุฑ ูู ุงูููุช ุงููุญุฏุฏ.  ูุฏ ูููู ุงูุญู ุงููุญุชูู ูู ุฅูุดุงุก ูุณุฎุฉ ูุชูุงุซูุฉ ูููุตูุฉ "ูุฅุนุฏุงุฏ ุงูุชูุงุฑูุฑ". <br><br>  ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุตููุฉ ุงูููุชูุญุฉ ุ ูุชุญูู ุงูุฃูู ูุชุตุญูุญ ุงููููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>;</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">VACUUM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VERBOSE</span></span> vac;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">INFO: vacuuming "public.vac" INFO: scanned index "vac_s" to remove 1 row versions DETAIL: CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s INFO: "vac": removed 1 row versions in 1 pages DETAIL: CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s INFO: index "vac_s" now contains 1 row versions in 2 pages DETAIL: 1 index row versions were removed. 0 index pages have been deleted, 0 are currently reusable. CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s. INFO: "vac": found 1 removable, 1 nonremovable row versions in 1 out of 1 pages DETAIL: 0 dead row versions cannot be removed yet, oldest xmin: 4008 There were 1 unused item pointers. Skipped 0 pages due to buffer pins, 0 frozen pages. 0 pages are entirely empty. CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s. VACUUM</code> </pre><br>  ุชุญุชูู ุงูุตูุญุฉ ุงูุขู ุนูู ุฃุญุฏุซ ุฅุตุฏุงุฑ ุญุงูู ูู ุงูุณุทุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+-------+-----+-----+-------- (0,1) | unused | | | | | (0,2) | unused | | | | | (0,3) | normal | 4007 (c) | 0 (a) | | | (0,3) (3 rows)</code> </pre><br>  ููุฌุฏ ุฃูุถูุง ุฅุฏุฎุงู ูุงุญุฏ ููุท ูู ุงูููุฑุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'vac_s'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,3) (1 row)</code> </pre><br><h2 style=";text-align:right;direction:rtl">  ูุง ูุฌุฑู ูู ุงูุฏุงุฎู </h2><br>  ูุฌุจ ุฃู ูุนุงูุฌ ุงูุชูุธูู ููุง ูู ุงูุฌุฏูู ูุงูููุงุฑุณ ูู ููุณ ุงูููุช ุ ูููุนู ุฐูู ุจุทุฑููุฉ ูุง ุชููุน ุชุดุบูู ุงูุนูููุงุช ุงูุฃุฎุฑู.  ููู ุชูุนู ุฐููุ <br><br>  ูู ุดูุก ูุจุฏุฃ <strong>ุจูุณุญ ุฌุฏูู</strong> (ูุน ูุฑุงุนุงุฉ ุฎุฑูุทุฉ ุงูุฑุคูุฉ ุ ููุง ุฐูุฑ ุจุงููุนู).  ูู ุตูุญุงุช ุงููุฑุงุกุฉ ุ ูุชู ุชุญุฏูุฏ ุงูุฅุตุฏุงุฑุงุช ุบูุฑ ุงูุถุฑูุฑูุฉ ูู ุงูุณูุงุณู ููุชู ูุชุงุจุฉ ูุนุฑูุงุชูุง (tid) ุฅูู ุตููู ุฎุงุต.  ุชูุน ุงููุฌููุนุฉ ูู ุงูุฐุงูุฑุฉ ุงููุญููุฉ ูุนูููุฉ ุงูุชูุธูู ุ  ูุชู ุชุฎุตูุต ุฌุฒุก ูู ุญุฌู <em>maintenance_work_mem</em> ูู.  ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ููุฐู ุงููุนููุฉ ูู 64 ููุบุงุจุงูุช.  ูุงุญุธ ุฃูู ูุชู ุชุฎุตูุต ูุฐู ุงูุฐุงูุฑุฉ ุนูู ุงูููุฑ ุจุงููุงูู ุ ูููุณ ุญุณุจ ุงูุญุงุฌุฉ.  ุตุญูุญ ุ ุฅุฐุง ูุงู ุงูุฌุฏูู ุตุบูุฑูุง ุ ูุณูุชู ุชุฎุตูุต ุงูุฌุฒุก ุงูุฃูู. <br><br>  ุจุนุฏ ุฐูู ุ ุฃุญุฏ ุดูุฆูู: ุฅูุง ุณูุตู ุฅูู ููุงูุฉ ุงูุฌุฏูู ุ ุฃู ุณุชูุชูู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ููุตููู.  ูู ุฃู ูู ุงูุญุงูุชูู ุ ุชุจุฏุฃ <strong>ูุฑุญูุฉ ุชูุธูู ุงูููุฑุณ</strong> .  ููููุงู ุจุฐูู ุ ูุชู <em>ูุญุต</em> <em>ูู</em> ูู ุงูููุงุฑุณ ุงูุชู ุชู ุฅูุดุงุคูุง ุนูู ุงูุฌุฏูู ุจุดูู <em>ูุงูู</em> ููุจุญุซ ุนู ุงูุณุฌูุงุช ุงูุชู ุชุดูุฑ ุฅูู ุงูุฅุตุฏุงุฑุงุช ุงููุฎุฒูุฉ ูู ุงูุตููู.  ูุชู ูุณุญ ุงูุณุฌูุงุช ุงูุชู ุชู ุงูุนุซูุฑ ุนูููุง ูู ุตูุญุงุช ุงูููุฑุณ. <br><br>  ูู ูุฐู ุงููุฑุญูุฉ ุ ูุญุตู ุนูู ุงูุตูุฑุฉ ุงูุชุงููุฉ: ูู ุงูููุงุฑุณ ูู ุชุนุฏ ููุงู ุฑูุงุจุท ูุฅุตุฏุงุฑุงุช ุบูุฑ ุถุฑูุฑูุฉ ูู ุงูุตููู ุ ููููุง ูุง ุชุฒุงู ููุฌูุฏุฉ ูู ุงูุฌุฏูู.  ูุฐุง ูุง ูุชุนุงุฑุถ ูุน ุฃู ุดูุก: ุนูุฏ ุชูููุฐ ุงุณุชุนูุงู ุ ุฅูุง ุฃููุง ูุง ูุตู ุฅูู ุฅุตุฏุงุฑุงุช ููุชุฉ ูู ุงูุตููู ุนูู ุงูุฅุทูุงู (ูุน ุฅููุงููุฉ ุงููุตูู ุฅูู ุงูููุฑุณ) ุ ุฃู ูุถุน ุนูุงูุฉ ุนูููุง ุนูุฏ ุงูุชุญูู ูู ุงูุฑุคูุฉ (ุนูุฏ ูุณุญ ุฌุฏูู). <br><br>  ุจุนุฏ ุฐูู ุ ุชุจุฏุฃ <strong>ูุฑุญูุฉ ุชูุธูู ุงูุทุงููุฉ</strong> .  ูุชู ูุญุต ุงูุฌุฏูู ูุฑุฉ ุฃุฎุฑู ููุฑุงุกุฉ ุงูุตูุญุงุช ุงูุถุฑูุฑูุฉ ุ ููุณุญ ุงูุฅุตุฏุงุฑุงุช ุงููุฎุฒูุฉ ูู ุงูุฎุทูุท ูููุง ุ ููุชุญุฑูุฑ ุงููุคุดุฑุงุช.  ูููููุง ุงูููุงู ุจุฐูู ูุฃูู ูุง ุชูุฌุฏ ุฑูุงุจุท ูู ุงูููุงุฑุณ ุจุนุฏ ุงูุขู. <br><br>  ุฅุฐุง ูู ูุชู ูุฑุงุกุฉ ุงูุฌุฏูู ุจุงููุงูู ูู ุงูุชูุฑูุฑุฉ ุงูุฃููู ุ ูุณูุชู ูุณุญ ุงููุตูููุฉ ููุชูุฑุฑ ูู ุดูุก ูู ุงูููุงู ุงูุฐู ุชููููุง ููู. <br><br>  ุจูุฐู ุงูุทุฑููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุฏุงุฆูุง ูุณุญ ุงูุฌุฏูู ูุฑุชูู. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุญุฐู ุงูุนุฏูุฏ ูู ุฅุตุฏุงุฑุงุช ุงูุตููู ุฃุซูุงุก ุงูุชูุธูู ุจุญูุซ ูุง ูููู ุฏูุฌูุง ุฌููุนูุง ูู ุฐุงูุฑุฉ <em>maintenance_work_mem</em> ุ ูุณูุชู ูุณุญ ุฌููุน ุงูููุงุฑุณ ุจุงููุงูู ุนุฏุฉ ูุฑุงุช ุญุณุจ ุงูุญุงุฌุฉ. </li></ul><br>  ุนูู ุงูุฌุฏุงูู ุงููุจูุฑุฉ ุ ูููู ุฃู ูุณุชุบุฑู ูุฐุง ููุชูุง ูุจูุฑูุง ูุฅูุดุงุก ุญูู ูุจูุฑ ุนูู ุงููุธุงู.  ุจุงูุทุจุน ุ ูู ูุชู ุญุธุฑ ุงูุทูุจุงุช ุ ููู ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ "ุงูุฅุถุงูู" ุบูุฑ ุณุงุฑ ุฃูุถูุง. <br><br>  ูุชุณุฑูุน ุงูุนูููุฉ ุ ูู ุงูููุทูู ุฅูุง ุงูุฏุนูุฉ ุฅูู ุงูุชูุธูู ุฃูุซุฑ ูู ูุฑุฉ (ุจุญูุซ ูุง ูุชู ูุณุญ ุนุฏุฏ ูุจูุฑ ุฌุฏูุง ูู ุฅุตุฏุงุฑุงุช ุงูุตู ูู ูู ูุฑุฉ) ุ ุฃู ุชุฎุตูุต ุงููุฒูุฏ ูู ุงูุฐุงูุฑุฉ. <br><br>  ุฃูุงุญุธ ุจูู ููุณูู ุฃูู ุงุจุชุฏุงุกู ูู ุงูุฅุตุฏุงุฑ 11 ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ูู</a> PostgreSQL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฎุทู ุนูููุงุช ูุณุญ ุงูููุฑุณุฉ</a> ุฅุฐุง ูู ููู ุฐูู ุถุฑูุฑููุง ุชูุงููุง.  ูุฐุง ูุฌุจ ุฃู ูุฌุนู ุงูุญูุงุฉ ุฃุณูู ูุฃุตุญุงุจ ุงูุฌุฏุงูู ุงููุจูุฑุฉ ุงูุชู ูุชู ูููุง ุฅุถุงูุฉ ุตููู ููุท (ูููู ูุง ูุชู ุชุบููุฑูุง). <br><br><h2 style=";text-align:right;direction:rtl">  ูุฑุงูุจุฉ </h2><br>  ููู ูููู ุฃู ุงูุชูุธูู ูุง ูุชูุงุดู ูุน ุงูุนูู ูุฑุฉ ูุงุญุฏุฉุ <br><br>  ููุฏ ุฑุฃููุง ุจุงููุนู ุงูุทุฑููุฉ ุงูุฃููู: ููููู ุงุณุชุฏุนุงุก ุฃูุฑ VACUUM ุจุงุณุชุฎุฏุงู VERBOSE.  ุซู ุณูุชู ุนุฑุถ ุงููุนูููุงุช ุนูู ูุฑุงุญู ุงูุนูู ุนูู ูุญุฏุฉ ุงูุชุญูู. <br><br>  ุซุงููุงู ุ ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 9.6 ุ ููุงู ุทุฑููุฉ ุนุฑุถ pg_stat_progress_v Vacuum ุ ูุงูุชู ุชุญุชูู ุฃูุถูุง ุนูู ุฌููุน ุงููุนูููุงุช ุงููุงุฒูุฉ. <br><br>  (ููุงู ุทุฑููุฉ ุซุงูุซุฉ - ูุนุฑุถ ุงููุนูููุงุช ูู ุณุฌู ุงูุฑุณุงุฆู ุ ูููู ูุฐุง ูุนูู ููุท ููุชูุธูู ุงูุชููุงุฆู ุ ูุงูุชู ุณุชุชู ููุงูุดุชูุง ูู ุงููุฑุฉ ุงููุงุฏูุฉ.) <br><br>  ุณูููู ุจุฅุฏุฑุงุฌ ุงููุฒูุฏ ูู ุงูุตููู ูู ุงูุฌุฏูู ุญุชู ูุณุชุบุฑู ุงูุชูุธูู ููุชูุง ููุญูุธูุง ุ ูุณูู ูููู ุจุชุญุฏูุซูุง ูููุง ุญุชู ูููู ููุงู ุดูุก ูุชุนูู ุจุงูุชูุธูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUNCATE</span></span> vac; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> vac(s) <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-string"><span class="hljs-string">'A'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> generate_series(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">500000</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> vac <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'B'</span></span>;</code> </pre><br>  ุชูููู ุญุฌู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ูุตููู ุงููุนุฑู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> maintenance_work_mem = <span class="hljs-string"><span class="hljs-string">'1MB'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_reload_conf();</code> </pre><br>  ูุจุฏุฃ ุงูุชูุธูู ุ ูุจูููุง ูุนูู ุ ุณููุชูู ุฅูู ุทุฑููุฉ ุงูุนุฑุถ pg_stat_progress_v Vacuum ุนุฏุฉ ูุฑุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">VACUUM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VERBOSE</span></span> vac;</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_stat_progress_vacuum \gx</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">| -[ RECORD 1 ]------+------------------ | pid | 6715 | datid | 41493 | datname | test | relid | 57383 | phase | vacuuming indexes | heap_blks_total | 16667 | heap_blks_scanned | 2908 | heap_blks_vacuumed | 0 | index_vacuum_count | 0 | max_dead_tuples | 174762 | num_dead_tuples | 174480</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_stat_progress_vacuum \gx</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">| -[ RECORD 1 ]------+------------------ | pid | 6715 | datid | 41493 | datname | test | relid | 57383 | phase | vacuuming indexes | heap_blks_total | 16667 | heap_blks_scanned | 5816 | heap_blks_vacuumed | 2907 | index_vacuum_count | 1 | max_dead_tuples | 174762 | num_dead_tuples | 174480</code> </pre><br>  ููุง ูุฑู ุนูู ูุฌู ุงูุฎุตูุต: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณู ุงููุฑุญูุฉ ุงูุญุงููุฉ (ุงููุฑุญูุฉ) - ุชุญุฏุซูุง ุนู ุซูุงุซ ูุฑุงุญู ุฑุฆูุณูุฉ ุ ูููู ุจุดูู ุนุงู ููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฒูุฏ</a> ูููุง ุ </li><li style=";text-align:right;direction:rtl">  ุฅุฌูุงูู ุนุฏุฏ ุตูุญุงุช ุงูุฌุฏูู (heap_blks_total) ุ </li><li style=";text-align:right;direction:rtl">  ุนุฏุฏ ุงูุตูุญุงุช ุงูุชู ุชู ุงูุฒุญู ุฅูููุง (heap_blks_scanned) ุ </li><li style=";text-align:right;direction:rtl">  ุนุฏุฏ ุงูุตูุญุงุช ุงูุชู ุชู ูุญููุง ุจุงููุนู (heap_blks_v Vacuumed) ุ </li><li style=";text-align:right;direction:rtl">  ุนุฏุฏ ูุฑุงุช ุงููุฑูุฑ ุญุณุจ ุงูููุฑุณ (index_vacuum_count). </li></ul><br>  ูุชู ุชุญุฏูุฏ ุงูุชูุฏู ุงูููู ุญุณุจ ูุณุจุฉ heap_blks_v Vacuumed ุฅูู heap_blks_total ุ ููู ุถุน ูู ุงุนุชุจุงุฑู ุฃู ูุฐู ุงููููุฉ ูุง ุชุชุบูุฑ ุจุณูุงุณุฉ ุ ูููู "jerkily" ุจุณุจุจ ุนูููุงุช ูุณุญ ุงูููุฑุณุฉ.  ููุน ุฐูู ุ ูุฌุจ ุฅููุงุก ุงูุงูุชูุงู ุงูุฑุฆูุณู ูุนุฏุฏ ุฏูุฑุงุช ุงูุชูุธูู - ูููุฉ ุฃูุจุฑ ูู 1 ุชุนูู ุฃู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ูู ุชูู ูุงููุฉ ูุฅููุงู ุงูุชูุธูู ูู ูุณุงุฑ ูุงุญุฏ. <br><br>  ููุธูุฑ ุฅุฎุฑุงุฌ ุงูุฃูุฑ VACUUM VERBOSE ุ ุงูุฐู ุชู ุฅููุงูู ุจุญููู ูุฐุง ุงูููุช ุ ุงูุตูุฑุฉ ุงููุจูุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">INFO: vacuuming "public.vac"</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">INFO: scanned index "vac_s" to remove 174480 row versions DETAIL: CPU: user: 0.50 s, system: 0.07 s, elapsed: 1.36 s INFO: "vac": removed 174480 row versions in 2908 pages DETAIL: CPU: user: 0.02 s, system: 0.02 s, elapsed: 0.13 s</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">INFO: scanned index "vac_s" to remove 174480 row versions DETAIL: CPU: user: 0.26 s, system: 0.07 s, elapsed: 0.81 s INFO: "vac": removed 174480 row versions in 2908 pages DETAIL: CPU: user: 0.01 s, system: 0.02 s, elapsed: 0.10 s</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">INFO: scanned index "vac_s" to remove 151040 row versions DETAIL: CPU: user: 0.13 s, system: 0.04 s, elapsed: 0.47 s INFO: "vac": removed 151040 row versions in 2518 pages DETAIL: CPU: user: 0.01 s, system: 0.02 s, elapsed: 0.08 s</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">INFO: index "vac_s" now contains 500000 row versions in 17821 pages DETAIL: 500000 index row versions were removed. 8778 index pages have been deleted, 0 are currently reusable. CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s. INFO: "vac": found 500000 removable, 500000 nonremovable row versions in 16667 out of 16667 pages DETAIL: 0 dead row versions cannot be removed yet, oldest xmin: 4011 There were 0 unused item pointers. 0 pages are entirely empty. CPU: user: 1.10 s, system: 0.37 s, elapsed: 3.71 s. VACUUM</code> </pre><br>  ููุง ููููู ุฃู ุชุฑู ุฃูู ูู ุงููุฌูู ูุงูุช ููุงู ุซูุงุซ ุชูุฑูุฑุงุช ูู ุฎูุงู ุงููุคุดุฑุงุช ุ ูู ูููุง ูุงู ุจูุณุญ 174ุ480 ูุคุดุฑูุง ุฅูู ุงูุฅุตุฏุงุฑุงุช ุงูููุชุฉ ูู ุงูุณูุงุณู.  ูู ุฃูู ูุฃุชู ูุฐุง ุงูุฑููุ  ูุณุชุบุฑู ุงุฑุชุจุงุท ูุงุญุฏ (tid) 6 ุจุงูุช ุ ู 1024 * 1024/6 = 174762 ูู ุงูุฑูู ุงูุฐู ูุฑุงู ูู pg_stat_progress_vacuum.max_dead_tuples.  ูู ุงููุงูุน ุ ูููู ุงุณุชุฎุฏุงูู ุฃูู ูู ุฐูู ุจูููู: ูู ุงููุถููู ุฃูู ุนูุฏ ูุฑุงุกุฉ ุงูุตูุญุฉ ุงูุชุงููุฉ ุ ูุฅู ุฌููุน ุงููุคุดุฑุงุช ุฅูู ุงูุฅุตุฏุงุฑุงุช "ุงูููุชุฉ" ุณูู ุชุชูุงุกู ุชูุงููุง ูู ุงูุฐุงูุฑุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุญููู </h2><br>  ุงูุชุญููู ุ ุฃู ุจูุนูู ุขุฎุฑ ุ ุฌูุน ุงููุนูููุงุช ุงูุฅุญุตุงุฆูุฉ ููุฎุทุท ุงูุงุณุชุนูุงู ุ ุบูุฑ ูุฑุชุจุท ุฑุณูููุง ุจุนูููุฉ ุงูุชูุธูู.  ููุน ุฐูู ุ ูููููุง ุฅุฌุฑุงุก ุงูุชุญููู ููุณ ููุท ูุน ูุฑูู ANALYZE ุ ูููู ุฃูุถูุง ุฏูุฌ ุงูุชูุธูู ูุน ุงูุชุญููู: VACUUM ANALYZE.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุฅุฌุฑุงุก ุงูุชูุธูู ุฃููุงู ุ ุซู ุงูุชุญููู - ูุง ุชุญุฏุซ ูููุฑุงุช. <br><br>  ูููู ุ ููุง ุณูุฑู ูุงุญููุง ุ ูุชู ุฅุฌุฑุงุก ุงูุชูุธูู ุงูุชููุงุฆู ูุงูุชุญููู ุงูุชููุงุฆู ูู ุนูููุฉ ูุงุญุฏุฉ ูุชุชู ุฅุฏุงุฑุชูุง ุจุทุฑููุฉ ููุงุซูุฉ. <br><br><h1 style=";text-align:right;direction:rtl">  ุงูุชูุธูู ุงููุงูู (ูุฑุงุบ ูุงูู) </h1><br>  ููุง ุฑุฃููุง ุ ูุญุฑุฑ ุงูุชูุธูู ุงูุชูููุฏู ูุณุงุญุฉ ุฃูุจุฑ ูู ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ ุ ูููู ุญุชู ูุง ูุญู ุงููุดููุฉ ุชูุงููุง ุฏุงุฆููุง. <br><br>  ุฅุฐุง ุฒุงุฏ ุญุฌู ุงูุฌุฏูู ุฃู ุงูููุฑุณ ุ ูุณุจุจ ูุง ุ ุจุดูู ูุจูุฑ ุ ูุณูู ูุคุฏู ุงูุชูุธูู ุงูููุชุธู ุฅูู ุชูููุฑ ูุณุงุญุฉ ุฏุงุฎู ุงูุตูุญุงุช ุงูุญุงููุฉ: ุณูู ุชุญุชูู ุนูู "ูุชุญุงุช" ุ ูุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง ุจุนุฏ ุฐูู ูุฅุฏุฑุงุฌ ุฅุตุฏุงุฑุงุช ุฌุฏูุฏุฉ ูู ุงูุตููู.  ููู ุนุฏุฏ ุงูุตูุญุงุช ูู ูุชุบูุฑ ุ ูุจุงูุชุงูู ุ ูู ูุฌูุฉ ูุธุฑ ูุธุงู ุงูุชุดุบูู ุ ุณุชุดุบู ุงููููุงุช ููุณ ุงููุณุงุญุฉ ุงูุชู ุดุบูุชูุง ุจุงูุถุจุท ูุจู ุงูุชูุธูู.  ููุฐุง ุณูุก ุจุณุจุจ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุญุต ุงููุงูู ูุฌุฏูู (ุฃู ููุฑุณ) ูุจุทุฆ ุ </li><li style=";text-align:right;direction:rtl">  ูุฏ ุชููู ููุงู ุญุงุฌุฉ ุฅูู ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ุฃูุจุฑ (ูุฃูู ูุชู ุชุฎุฒูู ุงูุตูุญุงุช ุ ูุงูุฎูุงุถ ูุซุงูุฉ ุงููุนูููุงุช ุงููููุฏุฉ) ุ </li><li style=";text-align:right;direction:rtl">  ูุฏ ูุธูุฑ ูุณุชูู "ุฅุถุงูู" ูู ุดุฌุฑุฉ ุงูููุฑุณ ุ ููุง ูุคุฏู ุฅูู ุฅุจุทุงุก ุงููุตูู ุฅูู ุงูููุฑุณ ุ </li><li style=";text-align:right;direction:rtl">  ุชุดุบู ุงููููุงุช ูุณุงุญุฉ ุฅุถุงููุฉ ุนูู ุงููุฑุต ูุงููุณุฎ ุงูุงุญุชูุงุทู. </li></ul><br>  (ุงูุงุณุชุซูุงุก ุงููุญูุฏ ูู ุงูุตูุญุงุช ุงูุชู ุชู ุชูุธูููุง ุจุงููุงูู ูู ููุงูุฉ ุงูููู - ูุซู ูุฐู ุงูุตูุญุงุช "ุชุนุถ" ุงูููู ูุชุนูุฏ ุฅูู ูุธุงู ุงูุชุดุบูู.) <br><br>  ุฅุฐุง ูุงูุช ูุดุงุฑูุฉ ุงููุนูููุงุช ุงููููุฏุฉ ูู ุงููููุงุช ุฃูู ูู ุงูุญุฏ ุงููุนููู ุ ููููู ูููุณุคูู ุฅุฌุฑุงุก ุชูุธูู ุฌุฏูู ูุงูู.  ูู ุงูููุช ููุณู ุ ูุชู ุฅุนุงุฏุฉ ุจูุงุก ุงูุฌุฏูู ูุฌููุน ูุคุดุฑุงุชู ุจุงููุงูู ูู ููุทุฉ ุงูุตูุฑ ุ ููุชู ุชุนุจุฆุฉ ุงูุจูุงูุงุช ุจุฃูุจุฑ ูุฏุฑ ูููู ูู ุงูุถุบุท (ุจุงูุทุจุน ุ ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงููุนููุฉ fillfactor).  ุนูุฏ ุฅุนุงุฏุฉ ุงูุจูุงุก ุ ูููู PostgreSQL ุจุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุฌุฏูู ุฃููุงู ุ ุซู ูู ูู ููุงุฑุณู.  ูุชู ุฅูุดุงุก ูููุงุช ุฌุฏูุฏุฉ ููู ูุงุฆู ุ ููู ููุงูุฉ ุนูููุฉ ุฅุนุงุฏุฉ ุงูุฅูุดุงุก ุ ูุชู ุญุฐู ุงููููุงุช ุงููุฏููุฉ.  ูุฑุฌู ููุงุญุธุฉ ุฃูู ูู ุนูููุฉ ุงูุนูู ุนูู ุงููุฑุต ุณูุชุทูุจ ูุณุงุญุฉ ุฅุถุงููุฉ. <br><br>  ููุชูุถูุญ ุ ุฃุฏุฎู ุนุฏุฏูุง ูู ุงูุตููู ูู ุงูุฌุฏูู ูุฑุฉ ุฃุฎุฑู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUNCATE</span></span> vac; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> vac(s) <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-string"><span class="hljs-string">'A'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> generate_series(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">500000</span></span>);</code> </pre><br>  ููููุฉ ุชูููู ูุซุงูุฉ ุงููุนูููุงุชุ  ููููุงู ุจุฐูู ุ ูู ุงููุฑูุญ ุงุณุชุฎุฏุงู ุงูููุญู ุงูุฎุงุต: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXTENSION</span></span> pgstattuple; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pgstattuple(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>) \gx</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">-[ RECORD 1 ]------+--------- table_len | 68272128 tuple_count | 500000 tuple_len | 64500000 tuple_percent | 94.47 dead_tuple_count | 0 dead_tuple_len | 0 dead_tuple_percent | 0 free_space | 38776 free_percent | 0.06</code> </pre><br>  ุชููู ุงููุธููุฉ ุจูุฑุงุกุฉ ุงูุฌุฏูู ุจุฃูููู ูุชุธูุฑ ุฅุญุตุงุฆูุงุช ุญูู ููุฏุงุฑ ุงููุณุงุญุฉ ุงูุชู ุชุดุบููุง ุงูุจูุงูุงุช ูู ุงููููุงุช.  ุงููุนูููุงุช ุงูุฑุฆูุณูุฉ ุงูุชู ููุชู ุจูุง ุงูุขู ูู ุงูุญูู tuple_percent: ุงููุณุจุฉ ุงููุฆููุฉ ุงูุชู ุชุดุบููุง ุงูุจูุงูุงุช ุงููููุฏุฉ.  ุฅูู ุฃูู ูู 100 ุจุณุจุจ ุงูุญูู ุงูุฒุงุฆุฏ ููุนูููุงุช ุงูุฎุฏูุฉ ุฏุงุฎู ุงูุตูุญุฉ ุ ููููู ูุน ุฐูู ูุฑุชูุน ููุบุงูุฉ. <br><br>  ุจุงููุณุจุฉ ุฅูู ุงูููุฑุณ ุ ูุชู ุนุฑุถ ูุนูููุงุช ุฃุฎุฑู ุ ูููู ุญูู avg_leaf_density ูู ููุณ ุงููุนูู: ุงููุณุจุฉ ุงููุฆููุฉ ูููุนูููุงุช ุงููููุฏุฉ (ูู ุงูุตูุญุงุช ุงููุฑููุฉ). <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pgstatindex(<span class="hljs-string"><span class="hljs-string">'vac_s'</span></span>) \gx</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">-[ RECORD 1 ]------+--------- version | 3 tree_level | 3 index_size | 72802304 root_block_no | 2722 internal_pages | 241 leaf_pages | 8645 empty_pages | 0 deleted_pages | 0 avg_leaf_density | 83.77 leaf_fragmentation | 64.25</code> </pre><br>  ูููุง ุญุฌู ุงูุฌุฏูู ูุงูููุฑุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_size_pretty(pg_table_size(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>)) table_size, pg_size_pretty(pg_indexes_size(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>)) index_size;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> table_size | index_size ------------+------------ 65 MB | 69 MB (1 row)</code> </pre><br>  ุงูุขู ุญุฐู 90 ูช ูู ุฌููุน ุงูุฎุทูุท.  ูุฎุชุงุฑ ุงูุตููู ููุญุฐู ุจุดูู ุนุดูุงุฆู ุ ุจุญูุซ ูุธู ุตู ูุงุญุฏ ุนูู ุงูุฃูู ูู ูู ุตูุญุฉ ุฐุงุช ุงูุงุญุชูุงู ุงููุจูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">DELETE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> vac <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> random() &lt; <span class="hljs-number"><span class="hljs-number">0.9</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">DELETE 450189</code> </pre><br>  ูุง ุญุฌู ุงูุฃุดูุงุก ุงูุชู ุณูููู ุนูููุง ุจุนุฏ ุงูุชูุธูู ุงูุนุงุฏูุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">VACUUM</span></span> vac; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_size_pretty(pg_table_size(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>)) table_size, pg_size_pretty(pg_indexes_size(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>)) index_size;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> table_size | index_size ------------+------------ 65 MB | 69 MB (1 row)</code> </pre><br>  ูุฑู ุฃู ุงูุญุฌู ูู ูุชุบูุฑ: ุงูุชูุธูู ุงูุนุงุฏู ูุง ูููู ุฃู ูููู ูู ุญุฌู ุงููููุงุช ุจุฃู ุดูู ูู ุงูุฃุดูุงู.  ุนูู ุงูุฑุบู ูู ุฃู ูุซุงูุฉ ุงููุนูููุงุช ุงูุฎูุถุช ุจุดูู ูุงุถุญ ุจูุญู 10 ูุฑุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> vac.tuple_percent, vac_s.avg_leaf_density <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pgstattuple(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>) vac, pgstatindex(<span class="hljs-string"><span class="hljs-string">'vac_s'</span></span>) vac_s;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> tuple_percent | avg_leaf_density ---------------+------------------ 9.41 | 9.73 (1 row)</code> </pre><br>  ุชุญูู ุงูุขู ููุง ูุญุฏุซ ุจุนุฏ ุงูุชูุธูู ุงููุงูู.  ูููุง ููู ุงููููุงุช ุงููุณุชุฎุฏูุฉ ุจูุงุณุทุฉ ุงูุฌุฏูู ูุงูููุงุฑุณ ุงูุขู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_relation_filepath(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>), pg_relation_filepath(<span class="hljs-string"><span class="hljs-string">'vac_s'</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_relation_filepath | pg_relation_filepath ----------------------+---------------------- base/41493/57392 | base/41493/57393 (1 row)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">VACUUM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span> vac; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_relation_filepath(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>), pg_relation_filepath(<span class="hljs-string"><span class="hljs-string">'vac_s'</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_relation_filepath | pg_relation_filepath ----------------------+---------------------- base/41493/57404 | base/41493/57407 (1 row)</code> </pre><br>  ุงูุขู ูุชู ุงุณุชุจุฏุงู ุงููููุงุช ุจุฃุฎุฑู ุฌุฏูุฏุฉ.  ุงูุฎูุถ ุญุฌู ุงูุฌุฏูู ูุงูููุฑุณ ุจุดูู ูุจูุฑ ุ ูุฒุงุฏุช ูุซุงูุฉ ุงููุนูููุงุช ููููุง ูุฐูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_size_pretty(pg_table_size(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>)) table_size, pg_size_pretty(pg_indexes_size(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>)) index_size;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> table_size | index_size ------------+------------ 6648 kB | 6480 kB (1 row)</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> vac.tuple_percent, vac_s.avg_leaf_density <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pgstattuple(<span class="hljs-string"><span class="hljs-string">'vac'</span></span>) vac, pgstatindex(<span class="hljs-string"><span class="hljs-string">'vac_s'</span></span>) vac_s;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> tuple_percent | avg_leaf_density ---------------+------------------ 94.39 | 91.08 (1 row)</code> </pre><br>  ูุฑุฌู ููุงุญุธุฉ ุฃู ูุซุงูุฉ ุงููุนูููุงุช ูู ุงูููุฑุณ ูุฏ ุงุฒุฏุงุฏุช ููุงุฑูุฉ ุจุงูุฃุตู.  ุชุนุฏ ุฅุนุงุฏุฉ ุฅูุดุงุก ููุฑุณ (ุดุฌุฑุฉ B) ูู ุงูุจูุงูุงุช ุงููุชุงุญุฉ ุฃูุซุฑ ุฑุจุญูุฉ ูู ุฅุฏุฑุงุฌ ุงูุจูุงูุงุช ูู ุณุทุฑ ููุฑุณ ููุฌูุฏ ุณุทุฑุงู. <br><br>  ูุธุงุฆู ุงูุชูุฏูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">pgstattuple</a> ุงุณุชุฎุฏููุง ูุฑุงุกุฉ ุงูุฌุฏูู ุจุฃูููู.  ุฅุฐุง ูุงู ุงูุฌุฏูู ูุจูุฑูุง ุ ููุฐุง ุบูุฑ ูุฑูุญ ุ ูุจุงูุชุงูู ููุงู ุฃูุถูุง ุฏุงูุฉ pgstattuple_approx ุ ุงูุชู ุชุชุฎุทู ุงูุตูุญุงุช ุงูุชู ุชู ูุถุน ุนูุงูุฉ ุนูููุง ูู ุฎุฑูุทุฉ ุงูุฑุคูุฉ ูุชุธูุฑ ุงูุฃุฑูุงู ุงูุชูุฑูุจูุฉ. <br><br>  ุงูุทุฑููุฉ ุงูุฃุณุฑุน ุ ููู ุงูุฃูู ุฏูุฉ ุ ูู ุชูุฏูุฑ ูุณุจุฉ ุญุฌู ุงูุจูุงูุงุช ุฅูู ุญุฌู ุงูููู ูู ุฏููู ุงููุธุงู.  ูููู ุงูุนุซูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู</a> ุฎูุงุฑุงุช ููุซู ูุฐู ุงูุงุณุชุนูุงูุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู ุงููููู</a> . <br><br>  ูุง ูุชุทูุจ ุงูุชูุธูู ุงููุงูู ุงุณุชุฎุฏุงููุง ููุชุธููุง ุ ูุฃูู ูุญุธุฑ ุชูุงููุง ูู ุงูุนูู ุจุงูุฌุฏูู (ุจูุง ูู ุฐูู ุงูุงุณุชุนูุงู ุนูู) ุทูุงู ูุฏุฉ ุนููู.  ูู ุงููุงุถุญ ุฃู ูุฐุง ูุฏ ูุง ูููู ููุจูููุง ุนูู ุฃู ูุธุงู ูุณุชุฎุฏู ุจูุดุงุท.  ุณูุชู ุงููุธุฑ ูู ุงูุฃููุงู ุจุดูู ูููุตู ุ ูููู ูู ุงูููุช ุงูุญุงูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณููุชุตุฑ</a> ุนูู ุฐูุฑ ุงูุชุฏุงุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">pg_repack</a> ุ ุงูุฐู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุบูู</a> ุงูุทุงููุฉ ููุชุฑุฉ ูุตูุฑุฉ ููุท ูู ููุงูุฉ ุงูุนูู. <br><br><h2 style=";text-align:right;direction:rtl">  ูุฑู ููุงุซูุฉ </h2><br>  ููุงู ุงูุนุฏูุฏ ูู ุงูุฃูุงูุฑ ุงูุชู ุชููู ุฃูุถูุง ุจุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุฌุฏุงูู ูุงูููุงุฑุณ ุจุงููุงูู ุ ููุฐุง ูุดุจู ุงูุชูุธูู ุงููุงูู.  ุฌููุนูู ูุญุธุฑูู ุงูุนูู ุชูุงููุง ูุน ุงูุฌุฏูู ุ ููููู ูุญุฐููู ูููุงุช ุงูุจูุงูุงุช ุงููุฏููุฉ ููููููู ุจุฅูุดุงุก ูููุงุช ุฌุฏูุฏุฉ. <br><br>  ูุดุจู ุงูุฃูุฑ CLUSTER ูู ูู ุดูุก ุฅูู VACUUM FULL ุ ููู ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ูุฑุชุจ ูุงุฏููุง ุฅุตุฏุงุฑ ุงูุณูุงุณู ููููุง ูุฃุญุฏ ุงููุคุดุฑุงุช ุงููุชููุฑุฉ.  ูุฐุง ูุนุทู ุงููุฌุฏูู ุงููุฏุฑุฉ ุนูู ุงุณุชุฎุฏุงู ุงููุตูู ุฅูู ุงูููุฑุณ ุจุดูู ุฃูุซุฑ ูุนุงููุฉ ูู ุจุนุถ ุงูุญุงูุงุช.  ููุน ุฐูู ุ ูุฌุจ ููู ุฃู ุงูุชุฌููุน ุบูุฑ ูุฏุนูู: ูุน ุงูุชุบููุฑุงุช ุงููุงุญูุฉ ุนูู ุงูุฌุฏูู ุ ุณูุชู ุงูุชูุงู ุงูุชุฑุชูุจ ุงููุนูู ูุฅุตุฏุงุฑุงุช ุงูุตู. <br><br>  ูุนูุฏ ุงูุฃูุฑ REINDEX ุฅูุดุงุก ููุฑุณ ูุงุญุฏ ุนูู ุฌุฏูู.  ูู ุงููุงูุน ุ ูุณุชุฎุฏู VACUUM FULL ู CLUSTER ูุฐุง ุงูุฃูุฑ ูุฅุนุงุฏุฉ ุฅูุดุงุก ุงูููุงุฑุณ. <br><br>  ูุนูู ุงูุฃูุฑ TRUNCATE ููุทููุงู ูุซู DELETE - ูุญุฐู ุฌููุน ุตููู ุงูุฌุฏูู.  ููู DELETE ุ ููุง ุชูุช ููุงูุดุชู ุจุงููุนู ุ ูุง ููุซู ุณูู ุฅุตุฏุงุฑ ุงูุตููู ุงููุญุฐููุฉ ุ ููุง ูุชุทูุจ ูุฒูุฏูุง ูู ุงูุชูุธูู.  ููุชุตุฑ TRUNCATE ุนูู ุฅูุดุงุก ููู ุฌุฏูุฏ ููุธูู.  ููุงุนุฏุฉ ุนุงูุฉ ุ ูุนูู ูุฐุง ุจุดูู ุฃุณุฑุน ุ ูููู ุถุน ูู ุงุนุชุจุงุฑู ุฃู TRUNCATE ุณูููุน ุงูุนูู ุชูุงููุง ูุน ุงูุฌุฏูู ุทูุงู ุงูููุช ุญุชู ููุงูุฉ ุงููุนุงููุฉ. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃู ุชุณุชูุฑ</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar452320/">https://habr.com/ru/post/ar452320/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar452310/index.html">ุฅุนุฏุงุฏ ูููุงุช ูุจูุนุงุช ุงูุดุจูุฉ ููุฃุฏูุงุช DO-RA</a></li>
<li><a href="../ar452312/index.html">ุณุชุฏูุน ุดุฑูุงุช ุงูุงุชุตุงูุงุช ุงูุจุฑูุทุงููุฉ ุชุนููุถุงุช ุงููุดุชุฑููู ุนู ูุทุน ุงูุงุชุตุงู</a></li>
<li><a href="../ar452314/index.html">ุชุตููู ุงููุณุชููุงุช ูุงููุนุจ roguelike ุนูู ุณุจูู ุงููุซุงู ูู Cogmind</a></li>
<li><a href="../ar452316/index.html">ูููุฉ Chang'e-4 - ูุชุงุฆุฌ ุงูููู ุงูููุฑู ุงูุฎุงูุณ: ูุดุงูู ูุน Yutu-2 rover ูุงูุชุดุงู ุนููู ุฌุฏูุฏ</a></li>
<li><a href="../ar452318/index.html">ุงุณุชุฎุฏุงู Firebase ูุชุฎุฒูู ุงูุตูุฑ ูุชุทุจูู Android</a></li>
<li><a href="../ar452322/index.html">ูู ูุฑูุฒ Google Cloud Next '19: ููุงุญุธุงุช ููุฏุงููุฉ ุนู ุงูุฑุฆูุณ ุงูุชูููุฐู</a></li>
<li><a href="../ar452328/index.html">ูุงุชุฑููุดูุง ุณู ูุธุงู ูุบุฉ ุทุจูุฉ ุงูุจุฑูุงูุฌ</a></li>
<li><a href="../ar452330/index.html">ููููุฉ ุฅุฌุฑุงุก ุงูุชุฎุทูุท ุงููุตูู ุงููุฑูู ุงูููุฒุนุฉ ูููุณ ุงููุณูุงุฑุ</a></li>
<li><a href="../ar452332/index.html">ูู ุงูุตุนุจ ุฃู ุชููู ูุดุฑู ูุดุฑูุน ููุชูุญ ุงููุตุฏุฑ</a></li>
<li><a href="../ar452334/index.html">ููู ุชุฎูู ููุณู ุนูู ุงูุฅูุชุฑูุช: ูุงุฑู ุจูู ุงูุฎุงุฏู ูุงูุฎุงุฏู ุงููููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>