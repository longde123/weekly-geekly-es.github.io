<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüöí ü§ë üëå Sobre o monitoramento üê¥ üôçüèª üèéÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O monitoramento √© a parte mais importante da sua infraestrutura. Monitorar √© o b√°sico dos engenheiros de sistema. No entanto, todo mundo tem seu pr√≥pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sobre o monitoramento</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437190/"><p><img src="https://habrastorage.org/webt/59/d4/cb/59d4cbf8177a6647815091.jpeg" alt="introdu√ß√£o"></p><br><p>  O monitoramento √© a parte mais importante da sua infraestrutura.  Monitorar √© o b√°sico dos engenheiros de sistema.  No entanto, todo mundo tem seu pr√≥prio jeito de entender.  Meu caminho consiste em nega√ß√£o.  raiva e aceita√ß√£o. </p><a name="habracut"></a><br><h2 id="denial">  Nega√ß√£o </h2><br><p><img src="https://habrastorage.org/webt/59/d4/c9/59d4c9a2be677406414602.png" alt="Nega√ß√£o"></p><br><p>  √â dif√≠cil de acreditar, mas h√° uma <em>sala de servidores</em> na foto. </p><br><p>  Era 2007. Eu estava estudando na CSU (Universidade Estadual de Chelyabinsk), no departamento de seguran√ßa da informa√ß√£o, no segundo ano.  Decidi me inscrever na CSU como assistente no laborat√≥rio de seguran√ßa da informa√ß√£o.  Era um trabalho tempor√°rio de meio per√≠odo.  Depois disso, em 2009, consegui mais um emprego permanente em meio per√≠odo em uma organiza√ß√£o comercial de produ√ß√£o como administrador de sistemas.  Naquela √©poca, eu n√£o sabia sobre o monitoramento, estava molhado atr√°s das orelhas e pensava que era poss√≠vel ser um her√≥i e resolver qualquer problema enfrentado.  Felizmente, foi um curto per√≠odo da minha vida, senti que estava errado. </p><br><h2 id="anger">  Raiva </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4d7/7ec/d85/4d77ecd851fd7480ec5857c7a5b58863.png" alt="Raiva"></p><br><p> 2010 foi um dos anos mais exaustivos.  Eu trabalhei para 2 empregadores;  cursos realizados;  estava preparando disserta√ß√£o de mestrado;  al√©m disso, eu era prefeito.  Sob press√£o da experi√™ncia, minha vis√£o sobre o monitoramento estava mudando.  Esse processo colidiu com a minha demiss√£o.  Antes de me formar, decidi me demitir e procurei um novo emprego.  A grande maioria dos entrevistadores ficou confusa porque eu era estudante.  No entanto, um deles concordou em me contratar, eu tinha um emprego permanente em tempo integral em uma empresa multinacional internacional.  Eu me formei;  Eu estava melhorando minhas habilidades e experi√™ncia, trabalhei para empresas de terceiriza√ß√£o.  A grande maioria de nossos projetos foram startups incr√≠veis e interessantes.  Nivelei extremamente minha qualifica√ß√£o, porque n√£o havia outras maneiras no caso de 400 servidores para uma √∫nica pessoa.  Eu havia trabalhado como DevOps antes de ser popular.  Eu me queimei no trabalho e decidi mudar de trabalho. </p><br><p>  Naquela √©poca, pensei, tivemos que monitorar tudo.  Foi realmente importante.  Todos devem receber notifica√ß√µes de monitoramento.  Al√©m disso, o conjunto de ferramentas de monitoramento estava mudando e melhorando.  Uma das primeiras implementa√ß√µes foram os scripts bash / PowerShell (espa√ßo livre, contagem de atualiza√ß√µes dispon√≠veis, status dos backups, etc.) e servi√ßos externos Red Alert, Lazy farmer (ferramenta interna para verifica√ß√£o do site).  Foi bom o suficiente em 2010-2011, no entanto, enfrentamos muitos problemas diferentes: </p><br><ul><li>  E-mail inferno. </li><li>  Atrasos imprevis√≠veis. </li><li>  Utiliza√ß√£o de recursos desconhecidos. </li></ul><br><p>  Decidimos facilitar um pouco nossa vida e escolher o Zabbix.  Monitoramos tudo: </p><br><ul><li>  Contagem de usu√°rios conectados ao wifi. </li><li>  Contagem de p√°ginas impressas. </li><li>  Contar t√∫neis VPN alived. </li><li>  Temperatura dos servidores. </li><li>  Carga na rede. </li><li>  etc ... </li></ul><br><p>  Al√©m disso, gostaria de compartilhar alguns dos problemas enfrentados: </p><br><ol><li>  Havia infraestruturas cruzadas distribu√≠das em DC e muitas m√©tricas.  Enfrentamos que, √†s vezes, as m√©tricas estavam ausentes.  N√≥s o corrigimos via proxy Zabbix. </li><li>  Se o t√∫nel da VPN falhar, receberemos uma tonelada de mensagens.  Configuramos depend√™ncias de infraestrutura. </li><li>  Automatizamos tarefas recorrentes.  ou seja, no caso de pouco espa√ßo livre, tentamos limp√°-lo automaticamente. </li><li>  Entendemos que era uma m√° id√©ia notificar algu√©m se a m√©trica m√©dia de carga da CPU seria superior a 95% durante 30 segundos; como resultado, adicionamos algo como per√≠odo limite. </li><li>  Verificamos cen√°rios cr√≠ticos para os neg√≥cios (por exemplo, login na web, pesquisa etc.). </li><li>  Adicionamos o Zabbix √†s integra√ß√µes do skype, por causa das opera√ß√µes de bate-papo. </li><li>  Quis custodiet ipsos custodes? </li><li>  etc ... </li></ol><br><h2 id="acceptance">  Aceita√ß√£o </h2><br><p><img src="https://habrastorage.org/webt/59/d4/ce/59d4ce1f30b05658361586.png" alt="Aceita√ß√£o"></p><br><p>  Um pouco mais tarde, entendi que, por um lado, os executivos n√£o se importam com RAM / CPU / IOPS.  Eles t√™m interesse no TTM (time to market) e nas m√©tricas de neg√≥cios, mas, por outro lado, o instinto de TI deve ser capaz de rastrear qualquer tipo de problema. </p><br><h1 id="takeaway">  Para viagem </h1><br><ul><li>  <strong>Nega√ß√£o</strong> .  Voc√™ n√£o deve monitorar nada, porque seus usu√°rios sinalizam se algo estranho ocorrer√°. </li><li>  <strong>Raiva</strong>  Voc√™ tem que monitorar tudo.  Voc√™ tem permiss√£o para notificar o CTO / CEO se a m√©trica m√©dia de carga da CPU for superior a 95% durante 30 segundos. </li><li>  <strong>Aceita√ß√£o</strong>  Os executivos n√£o se importam com RAM / CPU / IOPS.  Seu interesse pela TTM (time to market) e m√©tricas de neg√≥cios. </li></ul><br><p>  Zabbix tinha sido bom o suficiente, mas o mundo estava mudando.  Havia muitas abordagens modernas para o monitoramento. </p><br><ul><li>  √â poss√≠vel dividir o aplicativo de monitoramento monol√≠tico em diferentes n√≠veis: coletar, armazenar e apresentar. </li><li>  Neg√≥cios e TI devem operar exatamente os mesmos dados, mas devem considerar os dados de diferentes pontos de vista. </li><li>  N√£o existe uma bala de prata, significa que voc√™ deve personalizar suas solu√ß√µes. </li></ul><br><h1 id="ps">  PS </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Vers√£o russa</a> </li><li>  √â <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cruzamento</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt437190/">https://habr.com/ru/post/pt437190/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt437176/index.html">Aplicativo para iOS e Android na interface do usu√°rio Kotlin + Flutter</a></li>
<li><a href="../pt437180/index.html">JVM siberiana severa: √≥tima entrevista sobre o Excelsior JET</a></li>
<li><a href="../pt437182/index.html">Intercepta√ß√£o de chamada do sistema no m√≥dulo Linux-kernel</a></li>
<li><a href="../pt437184/index.html">Nikolay Durov 90% concluiu o desenvolvimento da plataforma Telegram Open Network</a></li>
<li><a href="../pt437186/index.html">Mon√≥lito para microsservi√ßos. Ponto de vista da infraestrutura</a></li>
<li><a href="../pt437194/index.html">Lista de verifica√ß√£o na nuvem ou como o cliente nos avaliou</a></li>
<li><a href="../pt437196/index.html">Global Game Jam 2019 (an√∫ncio)</a></li>
<li><a href="../pt437198/index.html">Global Game Jam 2019 (an√∫ncio)</a></li>
<li><a href="../pt437200/index.html">Como testamos o arrastar e soltar no HTML5</a></li>
<li><a href="../pt437202/index.html">SAPUI5 para manequins parte 3: um exerc√≠cio completo passo a passo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>