<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§úüèø ü§† üë∫ Noticias interesantes Vue 3 üçÄ üóº üë©üèø‚Äçü§ù‚Äçüë®üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En lugar del pr√≥logo 
 Vue se usa en todos los proyectos FunCorp. Monitoreamos de cerca el desarrollo del marco, mejoramos constantemente el proceso d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Noticias interesantes Vue 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/475968/"><h2>  En lugar del pr√≥logo </h2><br>  Vue se usa en todos los proyectos FunCorp.  Monitoreamos de cerca el desarrollo del marco, mejoramos constantemente el proceso de desarrollo e implementamos las mejores pr√°cticas.  Y, por supuesto, no pod√≠amos pasar y no traducir el art√≠culo de Philip Rakovsky, cofundador de VueStorefront, sobre las nuevas caracter√≠sticas de Vue 3 que afectan seriamente la escritura de c√≥digos. <br><br><img src="https://habrastorage.org/webt/ta/6z/aq/ta6zaqz4kxyqh_wh0zoo4zayqeo.png" alt="imagen"><br>  La √∫ltima vez vimos caracter√≠sticas que afectan el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rendimiento de Vue 3</a> .  Ya sabemos que las aplicaciones escritas en la nueva versi√≥n del marco funcionan muy r√°pidamente, pero el rendimiento no es el cambio m√°s importante.  Para la mayor√≠a de los desarrolladores, c√≥mo Vue 3 afecta la forma en que escribes el c√≥digo es mucho m√°s importante. <a name="habracut"></a><br><br>  Como habr√°s adivinado, Vue 3 tendr√° muchas caracter√≠sticas geniales.  Afortunadamente, el equipo de Vue ha agregado m√°s mejoras y adiciones que cambios importantes.  Debido a esto, la mayor√≠a de los desarrolladores que conocen Vue 2 deber√≠an sentirse c√≥modos r√°pidamente con la nueva sintaxis. <br><br>  Comencemos con una API de la que muchos de ustedes hayan o√≠do hablar. <br><br><h2>  API de composici√≥n </h2><br>  La API de composici√≥n es la caracter√≠stica m√°s comentada y mencionada de la pr√≥xima versi√≥n principal de Vue.  La sintaxis de la API de composici√≥n proporciona un enfoque completamente nuevo para organizar y reutilizar el c√≥digo. <br><br>  Ahora estamos creando componentes con una sintaxis llamada API de opciones.  Para agregar l√≥gica, creamos propiedades (opciones) en el objeto componente, por ejemplo, datos, m√©todos, calculados, etc.  La principal desventaja de este enfoque es que no es un c√≥digo JavaScript como tal.  Debe saber exactamente qu√© opciones est√°n disponibles en la plantilla y c√≥mo ser√°.  El compilador de Vue convierte las propiedades en c√≥digo JavaScript funcional para usted.  Debido a esta caracter√≠stica, no podemos utilizar la autocompletaci√≥n o la verificaci√≥n de tipos. <br><br>  La API de composici√≥n resuelve este problema y hace posible utilizar los mecanismos disponibles a trav√©s de las opciones que utilizan funciones comunes de JavaScript. <br>  El equipo de Vue describe la API de composici√≥n como "una API opcional basada en caracter√≠sticas que permite el uso flexible de la composici√≥n en la l√≥gica de componentes".  El c√≥digo escrito con la nueva API es m√°s f√°cil de leer, lo que facilita su comprensi√≥n. <br><br>  Para comprender c√≥mo funciona la nueva sintaxis, considere un ejemplo de un componente simple. <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"increment"</span></span></span><span class="hljs-tag">&gt;</span></span> Count is: {{ count }}, double is {{ double }}, click to increment. <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> { ref, computed, onMounted } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'vue'</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { setup() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> count = ref(</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">) </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> double = computed(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> count.value * </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">) </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">increment</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ count.value++ } onMounted(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">console</span></span></span><span class="javascript">.log(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'component mounted!'</span></span></span><span class="javascript">)) </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> { count, double, increment } } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Vamos a dividir el c√≥digo en partes y analizar lo que est√° sucediendo aqu√≠. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ref, computed, onMounted } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span></code> </pre> <br>  Como mencion√© anteriormente, la API de composici√≥n presenta las opciones de los componentes como funciones, por lo tanto, antes que nada, debemos importar las funciones necesarias.  En este ejemplo, necesitamos crear una propiedad reactiva usando la referencia calculada usando la calculada y acceder al enlace de ciclo de vida montado usando la funci√≥n onMounted. <br><br>  Puede que tenga una pregunta: ¬øcu√°l es este misterioso m√©todo de configuraci√≥n? <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { setup() {} }</code> </pre> <br>  En resumen, la configuraci√≥n es solo una funci√≥n que pasa propiedades y funciones a una plantilla.  Describimos todas las propiedades reactivas y calculadas, los ganchos del ciclo de vida y todos los observadores en la funci√≥n de configuraci√≥n, y luego los devolvemos para usar en la plantilla. <br><br>  Al hecho de que no volveremos de la configuraci√≥n, no habr√° acceso en la plantilla. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> count = ref(<span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br>  La propiedad reactiva de conteo se inicializa utilizando la funci√≥n ref.  Toma una primitiva u objeto y devuelve un enlace reactivo.  El valor pasado se almacenar√° en la propiedad de valor del enlace creado.  Por ejemplo, si queremos acceder al valor de count, necesitamos acceder expl√≠citamente a count.value. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> double = computed(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> count.value * <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">increment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ count.value++ }</code> </pre><br>  Entonces declaramos una propiedad doble calculada y una funci√≥n de incremento. <br><br><pre> <code class="javascript hljs">onMounted(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'component mounted!'</span></span>))</code> </pre> <br>  Usando el gancho onMounted, imprimimos un mensaje en la consola despu√©s de montar el componente para demostrar esta posibilidad. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { count, double, increment }</code> </pre> <br>  Para que las propiedades de conteo y doble y el m√©todo de incremento est√©n disponibles en la plantilla, los devolvemos desde el m√©todo de configuraci√≥n. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"increment"</span></span></span><span class="hljs-tag">&gt;</span></span> Count is: {{ count }}, double is {{ double }}. Click to increment. <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Y voila!  Tenemos acceso a las propiedades y m√©todos desde la configuraci√≥n, como si se hubieran declarado a trav√©s de la antigua API de opciones. <br><br>  Este es un ejemplo simple, similar podr√≠a escribirse f√°cilmente usando la API de Opciones. <br>  Pero la ventaja de la nueva API de composici√≥n no est√° tanto en la capacidad de escribir c√≥digo en un estilo diferente, sino en las posibilidades abiertas para reutilizar la l√≥gica. <br><br><h2>  Reutilizando c√≥digo con la API de composici√≥n </h2><br>  Echemos un vistazo m√°s de cerca a los beneficios de la nueva API de composici√≥n, por ejemplo, para reutilizar c√≥digo.  Ahora, si queremos usar alg√∫n c√≥digo en varios componentes, tenemos dos opciones: mixins y ranuras de √°mbito.  Ambas opciones tienen sus inconvenientes. <br><br>  Queremos extraer la funcionalidad del contador y reutilizarlo en otros componentes.  Aqu√≠ hay un ejemplo de c√≥mo se puede hacer esto usando la API existente y la nueva API. <br><br>  Para comenzar, considere la implementaci√≥n usando mixins. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> CounterMixin <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./mixins/counter'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">mixins</span></span>: [CounterMixin] }</code> </pre> <br>  El mayor problema con este enfoque es que no sabemos nada sobre lo que se agrega a nuestro componente.  Esto dificulta la comprensi√≥n y puede generar conflictos con las propiedades y m√©todos existentes. <br><br>  Ahora considere las tragamonedas con un alcance limitado. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Counter</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ count, increment }"</span></span></span><span class="hljs-tag">&gt;</span></span> {{ count }} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"increment"</span></span></span><span class="hljs-tag">&gt;</span></span>Increment<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Counter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Cuando usamos slots, sabemos exactamente a qu√© propiedades tenemos acceso a trav√©s de la directiva v-slot, que es bastante simple de entender.  La desventaja de este enfoque es que solo podemos acceder a los datos del componente Contador. <br><br>  Ahora considere una implementaci√≥n usando la API de composici√≥n. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">useCounter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> count = ref(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">increment</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ count.value++ } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { count, incrememt } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { setup () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { count, increment } = useCounter() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { count, increment } } }</code> </pre> <br>  Se ve mucho m√°s elegante, ¬øverdad?  No estamos limitados por una plantilla o alcance, y sabemos exactamente qu√© propiedades de contador est√°n disponibles.  Y debido al hecho de que useCounter es solo una funci√≥n que devuelve datos, como un bono agradable obtenemos la finalizaci√≥n del c√≥digo en el editor.  Aqu√≠ no hay magia, por lo que el editor puede ayudarnos con la verificaci√≥n de tipos y dar pistas. <br><br>  El uso de bibliotecas de terceros tambi√©n se ve mejor.  Por ejemplo, si queremos usar Vuex, podemos importar expl√≠citamente la funci√≥n useStore y no obstruir el prototipo de Vue con esta propiedad. $ Store.  Este enfoque le permite deshacerse de manipulaciones adicionales en complementos. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { commit, dispatch } = useStore()</code> </pre> <br>  Si desea obtener m√°s informaci√≥n sobre la API de composici√≥n y sus aplicaciones, le recomiendo leer un documento en el que el equipo de Vue explica los motivos para crear una nueva API y ofrece casos en los que ser√° √∫til.  Tambi√©n hay un repositorio maravilloso con ejemplos del uso de la API de composici√≥n de Thorsten L√ºnborg, uno de los miembros del equipo central de Vue. <br><br><h2>  Cambios de configuraci√≥n y montaje </h2><br>  Hay otros cambios importantes en el nuevo Vue en la forma en que construimos y configuramos nuestra aplicaci√≥n.  Veamos un ejemplo. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./App.vue'</span></span> Vue.config.ignoredElements = [<span class="hljs-regexp"><span class="hljs-regexp">/^app-/</span></span>] Vue.use(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>) Vue.mixin(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>) Vue.component(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>) Vue.directive(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">h</span></span></span><span class="hljs-function"> =&gt;</span></span> h(App) }).$mount(<span class="hljs-string"><span class="hljs-string">'#app'</span></span>)</code> </pre> <br>  Ahora estamos utilizando el objeto global Vue para configurar y crear nuevas instancias de Vue.  Cualquier cambio que realicemos en el objeto Vue afectar√° las instancias y componentes finales. <br><br>  Veamos c√≥mo funcionar√° esto en Vue 3. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createApp } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./App.vue'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = createApp(App) app.config.ignoredElements = [<span class="hljs-regexp"><span class="hljs-regexp">/^app-/</span></span>] app.use(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>) app.mixin(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>) app.component(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>) app.directive(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>) app.mount(<span class="hljs-string"><span class="hljs-string">'#app'</span></span>)</code> </pre> <br>  Como ya not√≥, la configuraci√≥n se refiere a una instancia de Vue espec√≠fica creada con createApp. <br><br>  Esto hace que nuestro c√≥digo sea m√°s legible, reduce la posibilidad de problemas inesperados con complementos de terceros.  Ahora, cualquier biblioteca de terceros que modifique el objeto Vue global puede afectar su aplicaci√≥n en un lugar inesperado (especialmente si es un mixin global), lo cual es imposible en Vue 3. <br><br>  Estos cambios <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se discuten</a> en el RFC, y quiz√°s en el futuro la implementaci√≥n ser√° diferente. <br><br><h2>  Fragmentos </h2><br>  Otra caracter√≠stica genial con la que podemos contar en Vue 3. <br>  ¬øQu√© son los fragmentos? <br>  Actualmente, un componente solo puede tener un elemento ra√≠z, lo que significa que el siguiente c√≥digo no funcionar√°. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Hello<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>World<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  La raz√≥n es que la instancia de Vue que se esconde detr√°s de cada componente solo se puede adjuntar a un elemento DOM.  Ahora hay una manera de crear un componente con varios elementos ra√≠z: para esto necesita escribir un componente en un estilo funcional que no necesite su propia instancia de Vue. <br><br>  Resulta que el mismo problema existe en la comunidad React, se resolvi√≥ utilizando el elemento Fragment virtual. <br><br>  Se ve as√≠: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Columns</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">React.Fragment</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">World</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">td</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">React.Fragment</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); } }</span></span></code> </pre> <br>  A pesar de que Fragment parece un elemento DOM normal, es virtual y no se crear√° en el √°rbol DOM.  Con este enfoque, podemos usar la funcionalidad de un √∫nico elemento ra√≠z sin crear un elemento adicional en el DOM. <br><br>  ¬°Ahora puede usar fragmentos en Vue 2, pero usando la biblioteca vue-fragments, y en Vue 3 funcionar√°n de inmediato! <br><br><h2>  Suspenso </h2><br>  Otra gran idea del ecosistema React que se implementar√° en Vue 3 es Suspense. <br><br>  Suspenso pausa la representaci√≥n de componentes y muestra un c√≥digo auxiliar hasta que se cumplan ciertas condiciones.  En Vue London, Ewan Yu toc√≥ por casualidad Suspenso y revel√≥ la API que podemos esperar en el futuro.  El componente de suspenso tendr√° 2 ranuras: para contenido y para trozo. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Suspense</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Suspended-component</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> #</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fallback</span></span></span><span class="hljs-tag">&gt;</span></span> Loading... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Suspense</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  El c√≥digo auxiliar se mostrar√° hasta que el componente &lt;Componente suspendido /&gt; est√© listo.  El componente Suspenso tambi√©n puede esperar cargar el componente asincr√≥nico o realizar algunas acciones asincr√≥nicas en la funci√≥n de configuraci√≥n. <br><br><h2>  M√∫ltiples modelos v </h2><br>  v-model es una directiva con la que puede usar el enlace bidireccional.  Podemos pasar la propiedad reactiva y cambiarla dentro del componente. <br><br>  Somos conocidos por trabajar con elementos de formulario. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"property"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  ¬øPero sab√≠as que v-model se puede usar con cualquier componente?  Debajo del cap√≥, v-model simplemente reenv√≠a el par√°metro de valor y escucha el evento de entrada. <br><br>  Puede reescribir el ejemplo anterior utilizando esta sintaxis de la siguiente manera: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"property"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-on:input</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"property = $event.target.value"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  Incluso puede cambiar los nombres de propiedad y eventos predeterminados utilizando la opci√≥n de modelo: <br><br><pre> <code class="javascript hljs">model: { <span class="hljs-attr"><span class="hljs-attr">prop</span></span>: <span class="hljs-string"><span class="hljs-string">'checked'</span></span>, <span class="hljs-attr"><span class="hljs-attr">event</span></span>: <span class="hljs-string"><span class="hljs-string">'change'</span></span> }</code> </pre> <br>  Como puede ver, la directiva v-model puede ser un "az√∫car sint√°ctico" muy √∫til si queremos utilizar la uni√≥n bidireccional en nuestros componentes.  Desafortunadamente, solo puede haber un modelo v por componente. <br><br>  Afortunadamente, en Vue 3 este problema se resolver√°.  Podemos pasar el nombre a v-model y usar tanto v-model como sea necesario. <br><br>  Ejemplo de uso: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InviteeForm</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-model:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"inviteeName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-model:email</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"inviteeEmail"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  Estos cambios <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se discuten</a> en el RFC, y quiz√°s en el futuro la implementaci√≥n ser√° diferente. <br><br><h2>  Portales </h2><br>  Los portales son componentes creados para representar contenido fuera de la jerarqu√≠a del componente actual.  Esta es tambi√©n una de las caracter√≠sticas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">implementadas en React</a> .  En la documentaci√≥n de React, los portales se describen de la siguiente manera: "Los portales le permiten representar elementos secundarios en un nodo DOM que est√° fuera de la jerarqu√≠a DOM del componente principal". <br><br>  Los portales son excelentes para implementar componentes como ventanas modales, ventanas emergentes y todos aquellos que deben mostrarse en la parte superior de la p√°gina. <br><br>  Al usar portales, puede estar seguro de que los estilos del componente primario no afectar√°n al componente secundario.  Tambi√©n te ahorrar√° hacks sucios del √≠ndice z. <br><br>  Para cada portal, debemos especificar el destino en el que se debe mostrar el contenido del portal. <br><br>  La siguiente es una opci√≥n de implementaci√≥n en la biblioteca portal-vue, que agrega portales a Vue 2. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">portal</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"destination"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>This slot content will be rendered wherever the portal-target with name 'destination' is located.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">portal</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">portal-target</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"destination"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- This component can be located anywhere in your App. The slot content of the above portal component wilbe rendered here. --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">portal-target</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Y en Vue 3, esta caracter√≠stica estar√° lista para usar. <br><br><h2>  Nueva directiva personalizada API </h2><br>  La API de directiva personalizada cambiar√° un poco en Vue 3 para que coincida mejor con el ciclo de vida del componente.  La creaci√≥n de directivas ser√° m√°s intuitiva y, por lo tanto, m√°s f√°cil de comprender y aprender para los principiantes. <br><br>  Ahora la declaraci√≥n de la directiva del usuario se ve as√≠: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MyDirective = { bind(el, binding, vnode, prevVnode) {}, inserted() {}, update() {}, componentUpdated() {}, unbind() {} }</code> </pre> <br>  Y en Vue 3 se ver√° as√≠: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MyDirective = { beforeMount(el, binding, vnode, prevVnode) {}, mounted() {}, beforeUpdate() {}, updated() {}, beforeUnmount() {}, <span class="hljs-comment"><span class="hljs-comment">// new unmounted() {} }</span></span></code> </pre> <br>  Aunque estos son cambios importantes, se pueden usar con una compilaci√≥n Vue compatible. <br><br>  Esta API tambi√©n se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">discute</a> y puede cambiar en el futuro. <br><br><h2>  Resumen </h2><br>  Junto a la innovaci√≥n significativa, la API de composici√≥n, podemos encontrar varias mejoras m√°s peque√±as.  Obviamente, Vue se est√° moviendo hacia la mejora de la experiencia del desarrollador, hacia API simplificadoras e intuitivas.  Tambi√©n es genial ver que el equipo de Vue decidi√≥ agregar muchas ideas al n√∫cleo del marco que ya est√°n implementadas en bibliotecas de terceros. <br><br>  La lista anterior contiene solo las mejoras y cambios m√°s importantes en la API.  Si desea aprender sobre otros, consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el repositorio de RFC</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/475968/">https://habr.com/ru/post/475968/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../475948/index.html">JH Rainwater "C√≥mo pastar gatos" (segunda parte): todo lo que queda por dominar t√©cnicas</a></li>
<li><a href="../475950/index.html">¬øPor qu√© un robot debe limitarse a recoger pelotas de golf? Tambi√©n hay tenis</a></li>
<li><a href="../475956/index.html">C√≥mo creamos la tecnolog√≠a de reconocimiento √≥ptico de texto. OCR en Yandex</a></li>
<li><a href="../475958/index.html">La historia de c√≥mo la ni√±a se reuni√≥ en TI</a></li>
<li><a href="../475960/index.html">Asistente de voz de hogar inteligente AHURATUS</a></li>
<li><a href="../475974/index.html">C√≥mo hicimos un hackathon en el tren y qu√© sali√≥ de √©l</a></li>
<li><a href="../475978/index.html">¬øPara qu√© es la sede del tren?</a></li>
<li><a href="../475980/index.html">Baja conectividad, arquitectura y organizaci√≥n del equipo.</a></li>
<li><a href="../475982/index.html">Como aprender un idioma extranjero</a></li>
<li><a href="../475986/index.html">Descripci√≥n general del lector PocketBook 740 Pro: 7.8 pulgadas, audio y protecci√≥n IPX8</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>