<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♈️ 🐒 🧚🏽 Kami membuat router dan NAS pada satu prosesor 🤛🏾 🍤 😞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini memiliki sekuel . 


 Saya mendapat "server rumah" di Linux hanya beberapa tahun setelah saya membeli komputer. Sekarang, sejak saat itu l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami membuat router dan NAS pada satu prosesor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477810/"><p>  Artikel ini memiliki <a href="https://habr.com/ru/post/478924/">sekuel</a> . </p><br><p>  Saya mendapat "server rumah" di Linux hanya beberapa tahun setelah saya membeli komputer.  Sekarang, sejak saat itu lebih dari lima belas tahun telah berlalu dan sebagian besar waktu ini saya memiliki semacam komputer tambahan kedua di rumah.  Suatu ketika, ketika tiba saatnya untuk memperbaruinya, saya berpikir: mengapa saya perlu router terpisah, jika saya sudah memiliki komputer gratis?  Lagi pula, kemudian untuk waktu yang lama, di nol, bagi banyak orang itu adalah konfigurasi standar. </p><br><p>  Memang: hari ini untuk ini Anda bisa mendapatkan mesin virtual yang terpisah, maju ke sana kartu USB atau PCI Wi-Fi.  Dan sebagai OS, Anda dapat menggunakan MikroTik RouterOS dalam satu gerakan, mendapatkan perangkat lunak tingkat perusahaan dengan sedikit uang. </p><a name="habracut"></a><br><h3 id="vstuplenie">  Entri </h3><br><p>  Saya akan menguraikan tujuan dan sasaran saya pada saat saya baru memulai proyek: </p><br><ol><li>  Perakitan harus terdiri dari komponen standar yang paling umum.  Ini berarti bahwa tidak ada motherboard dengan ukuran selain mATX / mini-ITX dan case rendah di mana kartu ukuran penuh tidak cocok </li><li>  Seharusnya ada banyak ruang disk, tetapi keranjangnya sendiri di bawah 2,5 " </li><li>  Modularitas akan mengarah pada penghematan setelah beberapa saat - setelah semua, kartu Wi-Fi standar lama 5 dapat dengan mudah diubah menjadi 7 </li><li>  Mendukung setidaknya beberapa kendali jarak jauh, sehingga Anda dapat memahami mengapa sistem tidak naik, tanpa menghubungkan monitor dan keyboard secara fisik ke sesuatu yang berdiri tinggi dan jauh </li><li>  Kebebasan penuh dalam memilih OS dan dukungannya untuk semua komponen penting dalam OS apa pun </li><li>  Performa tinggi.  Bosan menunggu Deluge untuk "hidup" .torrent ke dalam beberapa ribu file atau enkripsi dihidupkan, itu mengarah pada penurunan kecepatan di bawah disk atau koneksi jaringan. </li><li>  Keindahan visual dan akurasi perakitan </li><li>  Kekompakan tertinggi.  Ukuran ideal adalah konsol game modern. </li></ol><br><p>  Saya akan segera memperingatkan Anda bahwa jika Anda percaya bahwa dalam artikel di bawah ini saya akan memberi tahu Anda cara menyelesaikan semua poin, Anda sangat naif dan Anda sebaiknya membeli Synology atau tempat di cloud. <br>  Faktanya, saya tidak melihat sesuatu yang tidak realistis dalam keputusan seperti itu, hanya saja saya mungkin tidak mempelajari seluruh penawaran dengan cukup baik, dan mungkin karena pasar untuk NAS yang dirakit sendiri telah lama menurun dan komponen untuk tujuan ini semakin kecil dan lebih murah. </p><br><h3 id="nemnogo-o-softe">  Sedikit tentang perangkat lunak </h3><br><p>  Baru-baru ini, saya menjadi sangat malas sehingga saya bahkan tidak ingin mengkonfigurasi KVM sendiri, jadi saya memutuskan untuk mencoba melihat apa yang tidak diseret, yang diiklankan LinusTechTips sebagai GUI yang nyaman untuk mengkonfigurasi KVM dan sebagai perangkat lunak yang baik untuk NAS secara keseluruhan.  Karena saya terlalu malas untuk mencari-cari dengan mdadm - tidak terbunuh membunuh dua burung dengan satu batu. </p><br><h3 id="sborka">  Majelis </h3><br><h4 id="korpus">  Perumahan </h4><br><p>  Kemudian tiba, secara mengejutkan, bagian paling sulit dari merakit NAS sementara pada komponen standar: memilih kasing!  Seperti yang saya katakan, saat-saat ketika dengan pintu, di belakang ada keranjang dengan disk sudah lama hilang.  Dan saya masih benar-benar ingin menggunakan Seagate lima belas milimeter sebagai disk (pada saat penulisan, kapasitas maksimum adalah 5TB).  Mereka diam dan mengambil sedikit ruang.  Sementara 5TB sudah cukup bagi saya. </p><br><p>  Jelas, motherboard menginginkan miniITX, karena sepertinya satu slot ekspansi sudah cukup. </p><br><p>  Ternyata ada casing yang seukuran netbook, tetapi hanya ada satu tempat untuk 2.5 dan case "lainnya", di mana sudah ada beberapa 3,5 dari ukuran yang sesuai.  Bagian tengah sama sekali tidak ada.  Bahkan untuk uang.  Ada sesuatu pada Ali, tetapi itu dihentikan (SELALU memeriksa Ali untuk mencari hal-hal yang tidak biasa, kadang-kadang orang Cina telah menemukan segalanya dan memasukkannya ke dalam produksi massal).  Dalam beberapa forum kecil, saya membaca tentang SilverStone CS01B-HS, tetapi harganya tidak cocok dengan kategori anggaran sama sekali.  Bosan dengan pencarian, saya memesannya di Amazon melalui Shipito, yang sepenuhnya gagal pada poin ketiga dari tugas teknis. </p><br><p>  Tapi sekarang Anda tidak perlu khawatir tentang anggaran sama sekali! </p><br><p>  Saya menyarankan Anda untuk segera membuat model 3D dari perumahan Dream Anda dan menyalakannya pada mesin CNC aluminium nyata.  Ini akan sedikit lebih mahal daripada silverstone, tetapi seribu kali lebih menyenangkan.  Bagikan saja nanti di github! </p><br><h4 id="processor">  CPU </h4><br><p>  Tentu saja, saya ingin mengambil AMD sebagai prosesor, 2019 ada di halaman, hanya mereka yang tidak mempelajari shtud secara mendalam.  Tapi, mencoba memenuhi poin empat "Dukungan untuk remote control", saya menemukan AMD hanya Ryzen DASH dan memahami bahwa dalam hal ini Anda harus memilih Intel. </p><br><p>  Selanjutnya, semuanya seperti biasa: Yandex.Market, filter, googling mudah untuk masalah anak-anak dan pengiriman besok di dalam MKAD gratis. </p><br><h4 id="matplata">  Papan induk </h4><br><p>  Dari motherboard, sebenarnya, pilihannya adalah dari satu - Gigabyte GA-Q170TN. </p><br><p>  Saya tidak tahu mengapa slot ekspansi hanya x4, tetapi jika di masa depan Anda ingin meletakkan kartu jaringan sepuluh-gigabyte di sana, akan ada stok yang cukup (tetapi Anda tidak akan dapat menghubungkan penyimpanan yang memberikan kinerja seperti itu). </p><br><p>  Dari plus besar: dua slot miniPCI-E.  MikroTik merilis semua kartu Wi-Fi-nya (dan kami membutuhkannya, karena mereka hanya didukung di RouterOS) dalam format miniPCI-E, dan kemungkinan besar akan dirilis untuk beberapa tahun lagi, karena ini adalah standar utama mereka untuk kartu ekspansi.  Misalnya, Anda dapat membeli modul <a href="https://mikrotik.com/product/r11e_lora8" rel="nofollow">LoRaWAN</a> mereka dan dengan mudah mendapatkan dukungan untuk perangkat dengan LoRa. </p><br><p>  Dua Ethernet, tetapi 1 Gbps.  Pada 2017, saya mengajukan undang-undang yang melarang penjualan motherboard dengan kecepatan Ethernet hingga 4 Gbps, tetapi tidak berhasil mengumpulkan jumlah tanda tangan yang diperlukan untuk lewatnya filter kota. </p><br><h4 id="diski">  Disk </h4><br><p>  Kami mengambil dua STDR5000200 sebagai disk.  Untuk beberapa alasan, harganya lebih murah daripada ST5000LM000, yang sebenarnya ada di sana.  Setelah pembelian, kami memeriksa, membongkar, mendapatkan ST5000LM000 dan terhubung melalui SATA.  Dalam hal garansi, Anda mengambilnya dan menyerahkannya, menerima disk baru sebagai imbalan (saya tidak bercanda, saya melakukannya). </p><br><p>  Saya tidak menggunakan NVMe SSD, mungkin di masa depan, jika perlu. </p><br><p>  Intel dalam tradisi terbaiknya menyebar: tidak ada cukup dukungan di motherboard, dukungan vPro juga diperlukan dalam prosesor, dan Anda akan bosan mencari tabel kompatibilitas.  Dengan beberapa keajaiban, saya menemukan bahwa saya membutuhkan minimal i5-7500.  Tetapi karena tidak ada lagi batasan pada anggaran, saya berdamai. </p><br><p>  Saya tidak melihat sesuatu yang menarik dalam komponen yang tersisa, mereka dapat diganti dengan analog apa pun, jadi di sini adalah tabel umum dengan harga pada saat pembelian: </p><br><div class="scrollable-table"><table><thead><tr><th>  Nama </th><th>  Jumlah </th><th>  Harga </th><th>  Biaya </th></tr></thead><tbody><tr><td>  DDR4 SO-DIMM Krusial 2400MHz PC4-19200 CL17 - 4Gb CT4G4SFS624A </td><td>  2 </td><td>  1 259 </td><td>  2,518 </td></tr><tr><td>  Seagate STDR5000200 </td><td>  2 </td><td>  8 330 </td><td>  16 660 </td></tr><tr><td>  SilverStone CS01B-HS </td><td>  1 </td><td>  $ 159 + $ 17 (pengiriman dari Amazon) + $ 80 (pengiriman ke Rusia) = $ 256 </td><td>  16.830 </td></tr><tr><td>  Pengontrol PCI-E Espada FG-EST14A-1-BU01 </td><td>  1 </td><td>  2 850 </td><td>  2 850 </td></tr><tr><td>  Unit catu daya SFX 300 W Diamlah SFX POWER 2 BN226 </td><td>  1 </td><td>  4160 </td><td>  4160 </td></tr><tr><td>  Kingston SSD 240GB SUV500MS / 240G {mSATA} </td><td>  1 </td><td>  2,770 </td><td>  2,770 </td></tr><tr><td>  Intel Core i5-7500 </td><td>  1 </td><td>  10.000 </td><td>  10.000 </td></tr><tr><td>  GIGABYTE GA-Q170TN </td><td>  1 </td><td>  9 720 </td><td>  9 720 </td></tr><tr><td>  MikroTik R11e-5HacT </td><td>  1 </td><td>  3.588 </td><td>  3.588 </td></tr><tr><td>  Antena </td><td>  3 </td><td>  358 </td><td>  1.074 </td></tr><tr><td>  RouterOS Level 4 Lisensi </td><td>  1 </td><td>  $ 45 </td><td>  2 925 </td></tr><tr><td>  Batalkan Lisensi Dasar </td><td>  1 </td><td>  $ 59 </td><td>  3 835 </td></tr></tbody></table></div><br><p>  Total 66.930 rubel.  Poin tiga tentang bagian ekonomi dari masalah ini telah hancur, tetapi gagasan bahwa dalam sepuluh tahun besi ini masih akan mampu melaksanakan tugas yang ditugaskan menghangatkan jiwa. </p><br><p>  Menyiapkan perangkat lunak itu cukup mudah, bagus, ia memilikinya: 95% dapat diklik dengan mouse dalam satu malam.  Saya bisa menggambarkannya dalam artikel terpisah jika menarik, karena tidak semuanya sempurna, tetapi tidak ada masalah non-google yang tidak dapat diselesaikan.  Misalnya, tidak mudah untuk menyingkirkan adapter Ethernet berkabel di RouterOS, karena daftar peralatan yang didukungnya agak langka. </p><br><h3 id="vyvody-posle-prohozhdeniya-granicy-v-sto-dney-uptime">  Kesimpulan setelah melewati batas uptime seratus hari </h3><br><ol><li>  vPro tidak diperlukan untuk tujuan ini.  Ini sangat mempersempit pilihan motherboard dan prosesor, dan untuk penggunaan di rumah Anda memerlukan kabel ekstensi HDMI nirkabel dan keyboard nirkabel.  Dalam kasus ekstrim (server berada di ruang bawah tanah di bawah lempengan beton bertulang) - gunakan kabel ekstensi twisted pair. </li><li>  10 gigabit dibutuhkan kemarin.  Hard drive rata-rata dari tahun 2010 berbunyi lebih cepat dari 120 megabita per detik, di mana jaringan gigabit tidak cukup.  Dan kami akan meletakkan cache SSD, yang dapat membatasi 1,25 GB / s. </li><li>  Korps memakan seperempat dari anggaran.  Ini tidak bisa diterima. </li><li>  Prosesor cepat di NAS / router - lebih dibutuhkan daripada yang tampak pada awalnya </li><li>  UNRAID adalah perangkat lunak yang sangat baik, ada semua yang diperlukan dan tidak ada yang tidak diperlukan.  Anda membayar sekali, jika Anda membutuhkan lebih banyak disk - mereka hanya meminta perbedaan dalam biaya lisensi. </li></ol><br><p>  Bekas AC saya memberikan sekitar 20 megabit dengan enkripsi terowongan VPN diaktifkan.  Sekarang hanya satu inti i5-7500 sudah cukup untuk memberikan gigabit. </p><br><img src="https://habrastorage.org/webt/m1/i-/kb/m1i-kbxxfxmtko2p9bec5neooaq.png"><br><h3 id="ps">  PS </h3><br><p>  Saya sangat senang jika Anda membaca sampai akhir dan itu menarik bagi Anda!  Silakan ajukan pertanyaan jika ada sesuatu yang tidak jelas.  Saya bisa benar-benar lupa. </p><br><p>  Saya akan segera menjawab yang sudah jelas: </p><br><p>  <strong>- Mengapa semua ini, Anda bisa membeli Synology?</strong> <br>  "Ya, dan aku menyarankanmu untuk melakukannya."  Ini lebih sederhana, lebih cepat, lebih murah dan lebih dapat diandalkan.  Artikel untuk penggemar yang tahu mengapa mereka membutuhkan fitur tambahan. </p><br><p>  <strong>- Mengapa tidak FreeNAS, adakah segala sesuatu yang ada di UNRAID, tetapi gratis?</strong> <br>  - Sayangnya, open source sudah sangat berbeda.  FreeNAS ditulis oleh programmer penggajian yang persis sama.  Dan jika Anda mendapatkan tenaga mereka secara gratis, maka produk akhirnya adalah Anda.  Atau mereka akan segera berhenti membayar investor. </p><br><p>  <strong>- Anda dapat melakukan segalanya di Linux murni dan menghemat lebih banyak!</strong> <br>  - Ya.  Begitu saya melakukannya.  Tapi mengapa?  Bagi saya, pengaturan jaringan di Linux selalu menjadi masalah.  Biarkan itu tetap Pengawas Komputer.  Dan RouterOS sepenuhnya memecahkan masalah kelas ini.  Hal yang sama dengan MD RAID: meskipun fakta bahwa mdadm tidak memungkinkan Anda untuk membuat kesalahan bodoh, saya masih kehilangan data.  Dan unRAID tidak membiarkan Anda menekan tombol yang salah.  Sekali lagi, Anda tidak perlu membuang waktu untuk mengkonfigurasi repositori secara manual. </p><br><p>  <strong>- Tapi Anda masih menginstal ubuntu yang biasa di mesin virtual!</strong> <br>  - Demi ini, semuanya dimulai.  Sekarang Anda memiliki AWS pribadi Anda dengan kecepatan maksimum menghubungkan ke penyimpanan Anda, jaringan rumah dan Internet pada saat yang sama, yang tidak ada yang bisa memberi Anda.  Dan layanan apa yang harus dijalankan di mesin virtual ini terserah Anda. </p><br><p>  <strong>- Masalah apa pun di rumah segera tidak ada Wi-Fi, tidak ada internet, tidak ada penyimpanan.</strong> <br>  - Router cadangan berbohong untuk 1.000 rubel, dan tidak ada yang bisa dilakukan dari drive.  Sepanjang waktu, kecuali disk dan pendingin, tidak ada yang rusak.  Bahkan nettop biasa telah bekerja 24/7 selama hampir sepuluh tahun dan terasa hebat sekarang.  Bertahan dua disk. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id477810/">https://habr.com/ru/post/id477810/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id477788/index.html">PHP Mitap di Ivanovo</a></li>
<li><a href="../id477790/index.html">Bagaimana Sistem Satelit Galileo terputus karena Kebingungan Organisasi dan Masalah Lainnya</a></li>
<li><a href="../id477792/index.html">Kapan menang adalah profil Anda</a></li>
<li><a href="../id477804/index.html">Jalan menuju kecerdasan alami</a></li>
<li><a href="../id477808/index.html">Kami menyingkirkan peringatan yang mengganggu saat memasuki server terminal</a></li>
<li><a href="../id477812/index.html">Tinjauan undang-undang Rusia untuk melindungi infrastruktur informasi penting</a></li>
<li><a href="../id477814/index.html">Apakah ada virus di bawah Mac?</a></li>
<li><a href="../id477816/index.html">Cara mencari pekerjaan dengan kontrak yang bagus</a></li>
<li><a href="../id477818/index.html">Bagaimana cara menjadi Ilmuwan Data pada tahun 2019</a></li>
<li><a href="../id477820/index.html">VMware, Hyper-V, OpenStack, Kubernetes, Swarm - pemantauan dari satu antarmuka tunggal di Quest Foglight</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>