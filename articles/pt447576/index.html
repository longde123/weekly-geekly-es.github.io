<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥔 👩‍👩‍👧‍👧 👩‍💼 Desenvolvimento de JavaScript responsável, parte 1 ⛑️ 👸🏽 ⛹🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os números nos dizem que o crescimento do código JavaScript afeta negativamente o desempenho dos projetos da web. Se isso continuar mais, muito em bre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desenvolvimento de JavaScript responsável, parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/447576/">  Os números nos dizem que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://">crescimento do</a> código JavaScript afeta negativamente o desempenho dos projetos da web.  Se isso continuar mais, muito em breve, ao carregar a página do meio, pelo menos 400 Kb de código JS serão transferidos.  E essa é apenas a quantidade de dados transferidos.  Como outros recursos de texto, o código JavaScript é quase sempre transmitido em um formato compactado.  A compactação é provavelmente a única coisa que geralmente é feita corretamente ao transferir o código do servidor para o cliente. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/cbe/89c/0eb/cbe89c0eb2f6ea78726730bc7dfba6ed.jpg" alt="imagem"></a> <br><br>  Infelizmente, embora reduzir o tempo de transferência de determinados recursos contribua seriamente para o que chamamos de "desempenho", a compactação não afeta o tempo que o navegador leva para analisar e processar o script depois que ele é totalmente carregado. . <br><a name="habracut"></a><br>  Se o servidor enviar 400 KB de código JS compactado para o cliente, a quantidade real de código que o navegador precisa processar após descompactar os dados recebidos estará na área de megabytes.  O quão bem os dispositivos diferentes lidam com esse tipo de trabalho depende dos próprios dispositivos.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Muito foi</a> escrito sobre isso, mas só podemos dizer com certeza que o tempo necessário para analisar a quantidade de código bastante usual para o seu tempo varia muito entre dispositivos diferentes. <br><br>  Veja, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">esse</a> meu projeto simples.  Durante o carregamento da página, cerca de 23 Kb de código JS não compactado são transferidos para o cliente.  O Chrome, rodando no MacBook Pro, lançado em meados de 2017, processa essa quantidade bastante pequena de código em cerca de 25 ms.  No smartphone <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Nokia 2</a> Android, no entanto, um número semelhante se expande para 190 ms.  Isso não quer dizer que seja muito pequeno, mas, de qualquer forma, a página se torna interativa com rapidez suficiente. <br><br>  Agora, uma pergunta importante.  O que você acha, como um simples smartphone Nokia 2 gerencia páginas médias modernas?  De fato - simplesmente horrível.  A navegação em páginas da Web, mesmo em uma conexão rápida à Internet, força o usuário a ter paciência, pois trabalhar com páginas carregadas com código JavaScript só é possível após um período de espera pesado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/02f/eed/ec5/02feedec5d7773ad8a84b7160c77bbf7.png"></div><br>  <i><font color="#999999">Visão geral de desempenho do Nokia 2 ao visualizar uma página que contém uma grande quantidade de código JS, cujo processamento bloqueia o encadeamento principal</font></i> <br><br>  Embora os dispositivos com os quais eles usam para navegar nas páginas da Web e as redes através das quais os dados são transmitidos tenham melhorado significativamente nos últimos anos, estudos mostram que todas essas melhorias são "consumidas" por grandes quantidades de código JS incluído nas páginas.  Precisamos usar o JavaScript com responsabilidade.  A responsabilidade começa com a compreensão do que estamos criando e como fazemos. <br><br>
<h2>  <font color="#3AC1EF">Comparação da ideologia de "sites" e "aplicativos"</font> </h2><br>  Coisas estranhas acontecem com termos imprecisos que usamos para nomear alguma coisa, embora seus significados, em um nível intuitivo, sejam claros para todos.  Às vezes, sobrecarregamos o significado da palavra “abelha”, chamando-a de “abelhas” e vespas, mesmo que a diferença entre abelhas e vespas seja muito significativa.  Levar em consideração essas diferenças pode levar ao fato de que as “abelhas” e “vespas” agirão de maneira diferente.  Por exemplo, vamos destruir um ninho de vespas, mas se estamos falando de abelhas, os insetos são muito mais úteis e vulneráveis, provavelmente o ninho localizado no lugar errado provavelmente não será destruído, mas transferido para algum lugar. <br><br>  Liberdade semelhante pode ser observada na maneira como usamos os termos "site" e "aplicativo da web".  As diferenças entre esses conceitos são muito menos óbvias do que as diferenças entre vespas reais e abelhas, mas se esses conceitos forem combinados, isso pode levar a consequências muito desagradáveis.  Os problemas começam quando nos permitimos algo, dependendo se um projeto é "apenas um site" ou "um aplicativo da Web completo".  Se você estiver criando um site de informações para uma empresa, provavelmente não dependerá de uma estrutura poderosa para gerenciar alterações no DOM ou implementar o roteamento no cliente.  No mínimo, espero que sim.  O uso de ferramentas inadequadas para resolver certos problemas não só prejudicará quem usará o site, mas provavelmente também afetará muito o processo de desenvolvimento. <br><br>  Ao desenvolver um aplicativo da Web, tudo parece diferente.  Instalamos pacotes, que são acompanhados pela adição de centenas, senão milhares, de dependências ao projeto.  Além disso, nem temos certeza da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">segurança de</a> alguns deles.  Escrevemos configurações complexas para empacotadores.  Ao trabalhar em um ambiente de desenvolvimento louco e onipresente, você precisa de conhecimento e atenção para garantir que o que foi coletado seja rápido, que o projeto funcione onde deve funcionar.  Em caso de dúvida, execute o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">comando npm ls --prod</a> no diretório raiz do seu projeto e veja se você pode nomear o propósito de usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tudo o</a> que esse comando exibe.  Mesmo que você possa fazer isso, isso não se aplica a scripts de terceiros.  Estou certo de que vários desses scripts também são usados ​​no seu projeto. <br><br>  Esquecemos que sites e aplicativos da web ocupam o mesmo "nicho ecológico".  Ambos estão sob a mesma influência do ambiente, que consiste em uma variedade de redes e dispositivos.  Tais restrições não desaparecerão se decidirmos chamar o que estamos desenvolvendo como um "aplicativo", e os dispositivos de nossos usuários não se tornarão magicamente muito mais rápidos se chamarmos o "site" de "aplicativo". <br><br>  É nossa responsabilidade descobrir quem usa o que criamos. Devemos levar em conta o fato de que as condições sob as quais diferentes usuários se conectam à Internet podem diferir daquelas em que confiamos.  Ao criar algo, precisamos conhecer o objetivo para o qual estamos criando e, depois disso, devemos desenvolver o que ajuda a alcançar esse objetivo - mesmo que o desenvolvimento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">não</a> seja <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um empreendimento tão empolgante</a> . <br><br>  Isso significa a necessidade de reavaliar nossa dependência do JavaScript e como seu uso, em particular em detrimento do HTML e CSS, pode nos levar ao uso de padrões irracionais que prejudicam o desempenho e a acessibilidade dos projetos da Web. <br><br><h2>  <font color="#3AC1EF">Não permita que estruturas imponham padrões irracionais a você</font> </h2><br>  Testemunhei a descoberta de coisas estranhas nas bases de código quando trabalhei com equipes, dependendo das estruturas, para ajudá-las a serem mais produtivas.  Muitas dessas descobertas têm uma coisa em comum: a maneira como são escritas geralmente leva a problemas com a disponibilidade e o desempenho dos sites.  Por exemplo, considere o seguinte componente React: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { validateEmail } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"helpers/validation"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SignupForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (props) {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updateEmail = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updateEmail.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.email = <span class="hljs-string"><span class="hljs-string">""</span></span>;  }  updateEmail (event) {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({      <span class="hljs-attr"><span class="hljs-attr">email</span></span>: event.target.value    });  }  handleSubmit () {    <span class="hljs-comment"><span class="hljs-comment">//      -      if (validateEmail(this.state.email)) {      // ...    }  }  render () {    return (      &lt;div&gt;        &lt;span class="email-label"&gt;Enter your email:&lt;/span&gt;        &lt;input type="text" id="email" onChange={this.updateEmail} /&gt;        &lt;button onClick={this.handleSubmit}&gt;Sign Up&lt;/button&gt;      &lt;/div&gt;    );  } }</span></span></code> </pre> <br>  Aqui você encontra vários problemas importantes relacionados à acessibilidade do projeto: <br><br><ol><li>  Um formulário que não usa o elemento <code>&lt;form&gt;</code> não é mais um formulário.  De fato, você pode corrigir isso simplesmente especificando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">papel = "formulário" do elemento</a> pai <code>&lt;div&gt;</code> , mas se você criar um formulário e o que vemos definitivamente parecer um formulário, use o elemento <code>&lt;form&gt;</code> , configurando-o de acordo atribui <code>action</code> e <code>method</code> .  O atributo <code>action</code> desempenha um papel crucial aqui, pois permite que o formulário faça pelo menos algo, mesmo que o JavaScript não esteja disponível (naturalmente, se o componente foi renderizado no servidor). </li><li>  A <code>&lt;span&gt;</code> não substitui a <code>&lt;label&gt;</code> , que fornece alguns recursos relacionados à disponibilidade de projetos que o <code>&lt;span&gt;</code> não possui. </li><li>  O elemento <code>&lt;button&gt;</code> sem o atributo <code>type="submit"</code> é apenas um botão, clicando no qual chama o manipulador de eventos associado a ele.  Se queremos fazer alguma coisa com os dados antes de enviar o formulário, precisamos atribuir o atributo <code>type="submit"</code> ao botão e mover o código do manipulador de eventos <code>onClick</code> para o manipulador de eventos do formulário <code>onSubmit</code> . </li><li>  A propósito, por que usar o JavaScript para verificar endereços de email, enquanto o HTML5 coloca à nossa disposição controles que oferecem suporte à verificação de dados de entrada em quase todos os navegadores - até o IE10?  Aqui vemos uma oportunidade perdida de aproveitar a funcionalidade que já está no navegador e aplicar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tipo de elemento</a> apropriado, bem como o atributo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">necessário</a> .  No entanto, usando essas construções, lembre-se de que a configuração de sua interação normal com os leitores de tela exigirá <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algum esforço</a> . </li></ol><br>  Considerando o exposto, refatoramos o código do componente: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SignupForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (props) {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } handleSubmit (event) {   <span class="hljs-comment"><span class="hljs-comment">//    ,         XHR   // (      ,     ,     JS).   event.preventDefault();   //  … } render () {   return (     &lt;form method="POST" action="/signup" onSubmit={this.handleSubmit}&gt;       &lt;label for="email" class="email-label"&gt;Enter your email:&lt;/label&gt;       &lt;input type="email" id="email" required /&gt;       &lt;button type="submit"&gt;Sign Up&lt;/button&gt;     &lt;/form&gt;   ); } }</span></span></code> </pre> <br>  Agora, o fato de esse componente renderizar não apenas se torna mais acessível, mas menos código JS é usado para implementar a mesma funcionalidade de antes.  Em um mundo que literalmente se afogou em JavaScript, livrar-se de algumas linhas de código deve ser visto como algo positivo.  O navegador nos oferece <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">muitas oportunidades</a> , e precisamos nos esforçar para usá-las o mais rápido possível. <br><br>  Não quero dizer aqui que problemas com acessibilidade de páginas surgem exclusivamente ao usar determinadas estruturas.  Quero dizer, confiando demais em JavaScript, o desenvolvedor, como resultado, simplesmente perderá muitos recursos importantes de HTML e CSS.  Essas lacunas no conhecimento geralmente levam a erros; além disso, nem suspeitamos desses erros.  As estruturas podem ser ferramentas úteis que aumentam a produtividade do desenvolvedor, mas o estudo constante dos recursos das tecnologias básicas da Web é extremamente importante na criação de produtos convenientes e utilizáveis, independentemente das ferramentas auxiliares usadas em seu desenvolvimento. <br><br><h2>  <font color="#3AC1EF">Confie no poder da plataforma web e dê um futuro brilhante a seus projetos</font> </h2><br>  Como estamos falando de estruturas, deve-se notar que a plataforma web, por si só, também é uma estrutura enorme.  Conforme mostrado na seção anterior, nos encontramos em uma posição melhor se pudermos confiar nos padrões estabelecidos para trabalhar com os recursos de marcação e navegador.  Uma alternativa para esses recursos padrão é inventá-los novamente.  Desnecessário dizer que essa "invenção" está repleta de dificuldades consideráveis.  Mas e se esses problemas, cada um à sua maneira, fossem resolvidos pelos autores de todos os pacotes JavaScript que instalamos? <br><br><h3>  <font color="#3AC1EF">Applications Aplicações de página única</font> </h3><br>  Um dos pontos fracos dos desenvolvedores que eles podem pagar facilmente é o uso do modelo de aplicativo de página única (SPA), mesmo nos projetos para os quais esse modelo não é adequado.  Obviamente, esses projetos se beneficiam do fato de serem percebidos pelos usuários como mais produtivos devido ao roteamento realizado pelo cliente.  Mas quais são as desvantagens de usar o modelo SPA?  Os recursos internos de navegação da página do navegador, embora construídos em um modelo síncrono, oferecem ao projeto muitas vantagens.  Uma delas é que o gerenciamento do histórico de visitas é realizado através da implementação de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">especificações complexas</a> .  Usuários sem JavaScript, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">desabilitados ou não</a> , não perderão a capacidade de trabalhar com o projeto.  Para que um aplicativo de uma página esteja disponível em navegadores com JavaScript desativado, repentinamente acontece que uma atenção considerável deve ser dada à renderização do servidor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/53d/522/b04/53d522b04f07c6c8e4fb377f620e5148.png"></div><br>  <i><font color="#999999">Comparação de diferentes opções para carregar um aplicativo experimental em um canal de comunicação lento.</font></i>  <i><font color="#999999">A renderização do aplicativo à esquerda depende completamente do JavaScript.</font></i>  <i><font color="#999999">O aplicativo à direita é renderizado no servidor, mas depois usa no cliente o método <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hydrate ()</a> para conectar os componentes à marcação já criada no servidor</font></i> <br><br>  Aqui você pode ver que o aplicativo, que é renderizado no cliente, por alguns segundos mostra ao usuário uma tela em branco e exibe a interface finalizada. <br><br>  Um aplicativo que é renderizado no servidor e operacional no cliente exibe rapidamente os principais elementos da interface, mas você pode usá-lo após aproximadamente o mesmo tempo que o aplicativo que é renderizado inteiramente no cliente. <br><br>  A disponibilidade do aplicativo também sofre se o roteador localizado no cliente não puder informar o usuário sobre o que foi alterado na página que ele está visualizando.  Isso pode forçar o usuário a confiar em tecnologias de assistência para descobrir o que exatamente mudou na página. Como resultado, o trabalho do usuário com o site é muito mais complicado. <br><br>  Além disso, você pode encontrar imediatamente nosso antigo inimigo - uma carga excessiva no sistema.  Alguns roteadores clientes são muito pequenos.  Mas se você criar um projeto no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">React</a> , usar um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">roteador</a> compatível e, possivelmente, uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">biblioteca</a> para gerenciar o estado do aplicativo, isso significa que você deve aceitar que ele contenha uma certa quantidade de código de serviço, do qual você não pode chegar a lugar algum.  Nomeadamente, neste caso, são aproximadamente 135 Kb desse código.  Analise cuidadosamente os projetos que você está criando e se o roteamento do cliente vale a carga adicional no sistema.  Geralmente acontece que é melhor recusar o sistema de roteamento do cliente. <br><br>  Se você está preocupado com os sentimentos do usuário, se deseja que o site pareça rápido para ele, pode confiar no atributo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">rel = prefetch</a> link, que permite organizar o pré-carregamento de documentos da mesma fonte.  O uso desse atributo tem um enorme impacto na melhoria do desempenho do projeto, percebido pelos usuários, pois as páginas vinculadas ao uso desse atributo, quando você clica nesses links, são instantaneamente carregadas do cache.  Além disso, como o pré-carregamento de dados tem baixa prioridade, é improvável que concorra pela largura de banda com recursos importantes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/186/561/5a6/1865615a66b7643a81e2544c90b89644.png"></div><br>  <i><font color="#999999">O código HTML mencionado por escrito / é pré-carregado quando você visita a página principal do site.</font></i>  <i><font color="#999999">Quando um usuário clica no link correspondente, o código HTML é carregado instantaneamente no cache do navegador</font></i> <br><br>  O principal problema que pode surgir com as páginas de pré-carregamento e das quais você precisa estar ciente é que esse carregamento pode se tornar um desperdício de tempo e recursos.  Para resolvê-lo, você pode, por exemplo, usar o pequeno script <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quicklink</a> do Google, que atenua esse problema.  Ele verifica se o cliente atual está usando uma conexão lenta, se o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modo de economia de dados</a> está <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ativado</a> e, por padrão, permite evitar o pré-carregamento de materiais de fontes diferentes da fonte da página. <br><br>  Para fazer com que o site pareça rápido aos olhos dos usuários que o visitam muitas vezes, você pode usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">profissionais de serviço</a> .  Eles podem ser usados ​​independentemente de o projeto usar ou não um sistema de roteamento de clientes, considerando que você está familiarizado com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">alguns dos recursos dos</a> profissionais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de</a> serviço.  Ao executar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cache de rota por</a> meio de profissionais de serviço, obtemos muitas das mesmas vantagens características para o download antecipado de alguns links, mas temos possibilidades muito mais extensas para trabalhar com solicitações e respostas.  Se você percebe seu site como um "aplicativo" ou não, equipá-lo com um técnico de serviço é provavelmente um exemplo de um dos casos de uso de JavaScript mais críticos do nosso tempo. <br><br><h3>  <font color="#3AC1EF">AvaJavaScript não foi projetado para layout</font> </h3><br>  Se instalarmos um pacote JS projetado para resolver problemas relacionados aos layouts de página, é hora de sermos muito cuidadosos e nos perguntarmos o que estamos tentando alcançar com este pacote.  O CSS foi criado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">especificamente</a> para criar layouts de página. Para usá-lo de maneira eficaz, você não precisa de abstrações.  A maioria das tarefas de criação de layouts que eles tentam resolver usando JavaScript, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">colocar</a> elementos, alinhar, ajustar seus tamanhos, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">manipular texto</a> ou até mesmo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">criar layouts</a> completamente usando JavaScript, agora pode ser realizada usando CSS.  Ferramentas modernas para criar layouts como Flexbox e Grid são bem suportadas pelos navegadores, portanto, não precisamos desenvolver projetos baseados em estruturas para trabalhar com layouts.  A propósito, CSS também é uma estrutura.  Quando temos à disposição uma oportunidade como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">solicitações de propriedade</a> , a melhoria progressiva dos layouts para apoiar novos meios de sua formação, como se vê, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">não</a> é <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tão difícil</a> . <br><br><pre> <code class="plaintext hljs">/*   , ,   ,        CSS Grid. */ /*  @supports  ,     CSS Grid,     . */ @supports (display: grid) { /*      */ @media (min-width: 40em) {   /*       CSS Grid */ } }</code> </pre> <br>  Usar o JavaScript para resolver os problemas de criação de layouts de página e personalização de aparência não é novidade.  Foi o que fizemos em 2009, quando vivíamos em uma atmosfera de auto-engano, dizendo que todos os sites deveriam se parecer no IE6 e nos navegadores mais avançados da época.  Se hoje, em 2019, continuamos a desenvolver sites para que eles tenham a mesma aparência em todos os navegadores, isso significa que precisamos reconsiderar nossos objetivos.  Sempre haverá alguns navegadores que precisam ser suportados e que não possuem os mesmos recursos que os navegadores mais modernos.  A completa semelhança externa de projetos em todas as plataformas não é apenas um desperdício de energia, é também um inimigo fundamental da ideia de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">melhorias progressivas</a> . <br><br><h2>  <font color="#3AC1EF">Bottom line: eu não vou me tornar um assassino de JavaScript</font> </h2><br>  Não me interpretem mal, eu não pertenço aos inimigos do JavaScript.  Graças a essa linguagem, construí uma carreira e, para ser honesto, o JavaScript, há mais de dez anos, me traz muito prazer.  Como em qualquer relacionamento de longo prazo, quanto mais tempo passo trabalhando com JavaScript, melhor eu o conheço.  É uma linguagem madura, com muitos recursos, que a cada ano está melhorando. <br><br>  No entanto, às vezes parece-me que algo deu errado em nosso relacionamento com JavaScript.  Eu o critico.  Ou, mais precisamente, eu critico a tendência atual de considerar o JavaScript a principal ferramenta de criação de sites, que é usada em primeiro lugar, sem olhar para mais nada.  Quando analisei outro pacote que parecia uma guirlanda de Natal confusa, ficou claro para mim que a web estava intoxicada com JavaScript.  Recorremos a esse idioma por quase qualquer motivo, mesmo nos casos em que as circunstâncias não exigem isso.  Às vezes, penso em quão severas podem ser as consequências dessa atitude em relação à JS. <br><br>  Eu pretendo continuar escrevendo sobre JavaScript e desenvolvimento web, para continuar procurando maneiras de usar racionalmente as tecnologias web.  Esperamos que juntos melhoremos a web moderna. <br><br>  <b>Caros leitores!</b>  Você acha que a Web moderna está realmente sobrecarregada com o código JavaScript? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/b4/fn/f5/b4fnf52x9i3mn80tttdafqtvkfe.jpeg"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt447576/">https://habr.com/ru/post/pt447576/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt447566/index.html">Os cientistas mostraram pela primeira vez uma "foto" real de um buraco negro</a></li>
<li><a href="../pt447568/index.html">Entrevista com o astronauta Alexander Laveikin sobre cinema espacial, sobrecargas de 20 unidades e pouso suave</a></li>
<li><a href="../pt447570/index.html">GoLand 2019.1: análise de desempenho de código, Smart Step Into, refatoração da Extract Interface, Nilness Analyzer e mais</a></li>
<li><a href="../pt447572/index.html">Energia, calor e água: parte dois</a></li>
<li><a href="../pt447574/index.html">Notas do freelancer: Desenvolvendo o primeiro aplicativo nativo do React</a></li>
<li><a href="../pt447578/index.html">Acelerando o JavaScript usando o tipo de dados Definir</a></li>
<li><a href="../pt447580/index.html">Caça a ameaças ou como se defender contra ameaças de 5%</a></li>
<li><a href="../pt447582/index.html">Rusatom: impressão 3D em metal na Rússia</a></li>
<li><a href="../pt447584/index.html">Anatomia do "Centro de Dados Espaciais". Servidor altíssimo: olhar sob o capô</a></li>
<li><a href="../pt447586/index.html">Interpolação avançada de strings no Swift 5.0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>