<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•î üë©‚Äçüë©‚Äçüëß‚Äçüëß üë©‚Äçüíº Desenvolvimento de JavaScript respons√°vel, parte 1 ‚õëÔ∏è üë∏üèΩ ‚õπüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os n√∫meros nos dizem que o crescimento do c√≥digo JavaScript afeta negativamente o desempenho dos projetos da web. Se isso continuar mais, muito em bre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desenvolvimento de JavaScript respons√°vel, parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/447576/">  Os n√∫meros nos dizem que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://">crescimento do</a> c√≥digo JavaScript afeta negativamente o desempenho dos projetos da web.  Se isso continuar mais, muito em breve, ao carregar a p√°gina do meio, pelo menos 400 Kb de c√≥digo JS ser√£o transferidos.  E essa √© apenas a quantidade de dados transferidos.  Como outros recursos de texto, o c√≥digo JavaScript √© quase sempre transmitido em um formato compactado.  A compacta√ß√£o √© provavelmente a √∫nica coisa que geralmente √© feita corretamente ao transferir o c√≥digo do servidor para o cliente. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/cbe/89c/0eb/cbe89c0eb2f6ea78726730bc7dfba6ed.jpg" alt="imagem"></a> <br><br>  Infelizmente, embora reduzir o tempo de transfer√™ncia de determinados recursos contribua seriamente para o que chamamos de "desempenho", a compacta√ß√£o n√£o afeta o tempo que o navegador leva para analisar e processar o script depois que ele √© totalmente carregado. . <br><a name="habracut"></a><br>  Se o servidor enviar 400 KB de c√≥digo JS compactado para o cliente, a quantidade real de c√≥digo que o navegador precisa processar ap√≥s descompactar os dados recebidos estar√° na √°rea de megabytes.  O qu√£o bem os dispositivos diferentes lidam com esse tipo de trabalho depende dos pr√≥prios dispositivos.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Muito foi</a> escrito sobre isso, mas s√≥ podemos dizer com certeza que o tempo necess√°rio para analisar a quantidade de c√≥digo bastante usual para o seu tempo varia muito entre dispositivos diferentes. <br><br>  Veja, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">esse</a> meu projeto simples.  Durante o carregamento da p√°gina, cerca de 23 Kb de c√≥digo JS n√£o compactado s√£o transferidos para o cliente.  O Chrome, rodando no MacBook Pro, lan√ßado em meados de 2017, processa essa quantidade bastante pequena de c√≥digo em cerca de 25 ms.  No smartphone <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Nokia 2</a> Android, no entanto, um n√∫mero semelhante se expande para 190 ms.  Isso n√£o quer dizer que seja muito pequeno, mas, de qualquer forma, a p√°gina se torna interativa com rapidez suficiente. <br><br>  Agora, uma pergunta importante.  O que voc√™ acha, como um simples smartphone Nokia 2 gerencia p√°ginas m√©dias modernas?  De fato - simplesmente horr√≠vel.  A navega√ß√£o em p√°ginas da Web, mesmo em uma conex√£o r√°pida √† Internet, for√ßa o usu√°rio a ter paci√™ncia, pois trabalhar com p√°ginas carregadas com c√≥digo JavaScript s√≥ √© poss√≠vel ap√≥s um per√≠odo de espera pesado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/02f/eed/ec5/02feedec5d7773ad8a84b7160c77bbf7.png"></div><br>  <i><font color="#999999">Vis√£o geral de desempenho do Nokia 2 ao visualizar uma p√°gina que cont√©m uma grande quantidade de c√≥digo JS, cujo processamento bloqueia o encadeamento principal</font></i> <br><br>  Embora os dispositivos com os quais eles usam para navegar nas p√°ginas da Web e as redes atrav√©s das quais os dados s√£o transmitidos tenham melhorado significativamente nos √∫ltimos anos, estudos mostram que todas essas melhorias s√£o "consumidas" por grandes quantidades de c√≥digo JS inclu√≠do nas p√°ginas.  Precisamos usar o JavaScript com responsabilidade.  A responsabilidade come√ßa com a compreens√£o do que estamos criando e como fazemos. <br><br>
<h2>  <font color="#3AC1EF">Compara√ß√£o da ideologia de "sites" e "aplicativos"</font> </h2><br>  Coisas estranhas acontecem com termos imprecisos que usamos para nomear alguma coisa, embora seus significados, em um n√≠vel intuitivo, sejam claros para todos.  √Äs vezes, sobrecarregamos o significado da palavra ‚Äúabelha‚Äù, chamando-a de ‚Äúabelhas‚Äù e vespas, mesmo que a diferen√ßa entre abelhas e vespas seja muito significativa.  Levar em considera√ß√£o essas diferen√ßas pode levar ao fato de que as ‚Äúabelhas‚Äù e ‚Äúvespas‚Äù agir√£o de maneira diferente.  Por exemplo, vamos destruir um ninho de vespas, mas se estamos falando de abelhas, os insetos s√£o muito mais √∫teis e vulner√°veis, provavelmente o ninho localizado no lugar errado provavelmente n√£o ser√° destru√≠do, mas transferido para algum lugar. <br><br>  Liberdade semelhante pode ser observada na maneira como usamos os termos "site" e "aplicativo da web".  As diferen√ßas entre esses conceitos s√£o muito menos √≥bvias do que as diferen√ßas entre vespas reais e abelhas, mas se esses conceitos forem combinados, isso pode levar a consequ√™ncias muito desagrad√°veis.  Os problemas come√ßam quando nos permitimos algo, dependendo se um projeto √© "apenas um site" ou "um aplicativo da Web completo".  Se voc√™ estiver criando um site de informa√ß√µes para uma empresa, provavelmente n√£o depender√° de uma estrutura poderosa para gerenciar altera√ß√µes no DOM ou implementar o roteamento no cliente.  No m√≠nimo, espero que sim.  O uso de ferramentas inadequadas para resolver certos problemas n√£o s√≥ prejudicar√° quem usar√° o site, mas provavelmente tamb√©m afetar√° muito o processo de desenvolvimento. <br><br>  Ao desenvolver um aplicativo da Web, tudo parece diferente.  Instalamos pacotes, que s√£o acompanhados pela adi√ß√£o de centenas, sen√£o milhares, de depend√™ncias ao projeto.  Al√©m disso, nem temos certeza da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">seguran√ßa de</a> alguns deles.  Escrevemos configura√ß√µes complexas para empacotadores.  Ao trabalhar em um ambiente de desenvolvimento louco e onipresente, voc√™ precisa de conhecimento e aten√ß√£o para garantir que o que foi coletado seja r√°pido, que o projeto funcione onde deve funcionar.  Em caso de d√∫vida, execute o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">comando npm ls --prod</a> no diret√≥rio raiz do seu projeto e veja se voc√™ pode nomear o prop√≥sito de usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tudo o</a> que esse comando exibe.  Mesmo que voc√™ possa fazer isso, isso n√£o se aplica a scripts de terceiros.  Estou certo de que v√°rios desses scripts tamb√©m s√£o usados ‚Äã‚Äãno seu projeto. <br><br>  Esquecemos que sites e aplicativos da web ocupam o mesmo "nicho ecol√≥gico".  Ambos est√£o sob a mesma influ√™ncia do ambiente, que consiste em uma variedade de redes e dispositivos.  Tais restri√ß√µes n√£o desaparecer√£o se decidirmos chamar o que estamos desenvolvendo como um "aplicativo", e os dispositivos de nossos usu√°rios n√£o se tornar√£o magicamente muito mais r√°pidos se chamarmos o "site" de "aplicativo". <br><br>  √â nossa responsabilidade descobrir quem usa o que criamos. Devemos levar em conta o fato de que as condi√ß√µes sob as quais diferentes usu√°rios se conectam √† Internet podem diferir daquelas em que confiamos.  Ao criar algo, precisamos conhecer o objetivo para o qual estamos criando e, depois disso, devemos desenvolver o que ajuda a alcan√ßar esse objetivo - mesmo que o desenvolvimento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n√£o</a> seja <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um empreendimento t√£o empolgante</a> . <br><br>  Isso significa a necessidade de reavaliar nossa depend√™ncia do JavaScript e como seu uso, em particular em detrimento do HTML e CSS, pode nos levar ao uso de padr√µes irracionais que prejudicam o desempenho e a acessibilidade dos projetos da Web. <br><br><h2>  <font color="#3AC1EF">N√£o permita que estruturas imponham padr√µes irracionais a voc√™</font> </h2><br>  Testemunhei a descoberta de coisas estranhas nas bases de c√≥digo quando trabalhei com equipes, dependendo das estruturas, para ajud√°-las a serem mais produtivas.  Muitas dessas descobertas t√™m uma coisa em comum: a maneira como s√£o escritas geralmente leva a problemas com a disponibilidade e o desempenho dos sites.  Por exemplo, considere o seguinte componente React: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { validateEmail } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"helpers/validation"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SignupForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (props) {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updateEmail = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updateEmail.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.email = <span class="hljs-string"><span class="hljs-string">""</span></span>;  }  updateEmail (event) {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({      <span class="hljs-attr"><span class="hljs-attr">email</span></span>: event.target.value    });  }  handleSubmit () {    <span class="hljs-comment"><span class="hljs-comment">//      -      if (validateEmail(this.state.email)) {      // ...    }  }  render () {    return (      &lt;div&gt;        &lt;span class="email-label"&gt;Enter your email:&lt;/span&gt;        &lt;input type="text" id="email" onChange={this.updateEmail} /&gt;        &lt;button onClick={this.handleSubmit}&gt;Sign Up&lt;/button&gt;      &lt;/div&gt;    );  } }</span></span></code> </pre> <br>  Aqui voc√™ encontra v√°rios problemas importantes relacionados √† acessibilidade do projeto: <br><br><ol><li>  Um formul√°rio que n√£o usa o elemento <code>&lt;form&gt;</code> n√£o √© mais um formul√°rio.  De fato, voc√™ pode corrigir isso simplesmente especificando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">papel = "formul√°rio" do elemento</a> pai <code>&lt;div&gt;</code> , mas se voc√™ criar um formul√°rio e o que vemos definitivamente parecer um formul√°rio, use o elemento <code>&lt;form&gt;</code> , configurando-o de acordo atribui <code>action</code> e <code>method</code> .  O atributo <code>action</code> desempenha um papel crucial aqui, pois permite que o formul√°rio fa√ßa pelo menos algo, mesmo que o JavaScript n√£o esteja dispon√≠vel (naturalmente, se o componente foi renderizado no servidor). </li><li>  A <code>&lt;span&gt;</code> n√£o substitui a <code>&lt;label&gt;</code> , que fornece alguns recursos relacionados √† disponibilidade de projetos que o <code>&lt;span&gt;</code> n√£o possui. </li><li>  O elemento <code>&lt;button&gt;</code> sem o atributo <code>type="submit"</code> √© apenas um bot√£o, clicando no qual chama o manipulador de eventos associado a ele.  Se queremos fazer alguma coisa com os dados antes de enviar o formul√°rio, precisamos atribuir o atributo <code>type="submit"</code> ao bot√£o e mover o c√≥digo do manipulador de eventos <code>onClick</code> para o manipulador de eventos do formul√°rio <code>onSubmit</code> . </li><li>  A prop√≥sito, por que usar o JavaScript para verificar endere√ßos de email, enquanto o HTML5 coloca √† nossa disposi√ß√£o controles que oferecem suporte √† verifica√ß√£o de dados de entrada em quase todos os navegadores - at√© o IE10?  Aqui vemos uma oportunidade perdida de aproveitar a funcionalidade que j√° est√° no navegador e aplicar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tipo de elemento</a> apropriado, bem como o atributo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">necess√°rio</a> .  No entanto, usando essas constru√ß√µes, lembre-se de que a configura√ß√£o de sua intera√ß√£o normal com os leitores de tela exigir√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algum esfor√ßo</a> . </li></ol><br>  Considerando o exposto, refatoramos o c√≥digo do componente: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SignupForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (props) {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleSubmit.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } handleSubmit (event) {   <span class="hljs-comment"><span class="hljs-comment">//    ,         XHR   // (      ,     ,     JS).   event.preventDefault();   //  ‚Ä¶ } render () {   return (     &lt;form method="POST" action="/signup" onSubmit={this.handleSubmit}&gt;       &lt;label for="email" class="email-label"&gt;Enter your email:&lt;/label&gt;       &lt;input type="email" id="email" required /&gt;       &lt;button type="submit"&gt;Sign Up&lt;/button&gt;     &lt;/form&gt;   ); } }</span></span></code> </pre> <br>  Agora, o fato de esse componente renderizar n√£o apenas se torna mais acess√≠vel, mas menos c√≥digo JS √© usado para implementar a mesma funcionalidade de antes.  Em um mundo que literalmente se afogou em JavaScript, livrar-se de algumas linhas de c√≥digo deve ser visto como algo positivo.  O navegador nos oferece <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">muitas oportunidades</a> , e precisamos nos esfor√ßar para us√°-las o mais r√°pido poss√≠vel. <br><br>  N√£o quero dizer aqui que problemas com acessibilidade de p√°ginas surgem exclusivamente ao usar determinadas estruturas.  Quero dizer, confiando demais em JavaScript, o desenvolvedor, como resultado, simplesmente perder√° muitos recursos importantes de HTML e CSS.  Essas lacunas no conhecimento geralmente levam a erros; al√©m disso, nem suspeitamos desses erros.  As estruturas podem ser ferramentas √∫teis que aumentam a produtividade do desenvolvedor, mas o estudo constante dos recursos das tecnologias b√°sicas da Web √© extremamente importante na cria√ß√£o de produtos convenientes e utiliz√°veis, independentemente das ferramentas auxiliares usadas em seu desenvolvimento. <br><br><h2>  <font color="#3AC1EF">Confie no poder da plataforma web e d√™ um futuro brilhante a seus projetos</font> </h2><br>  Como estamos falando de estruturas, deve-se notar que a plataforma web, por si s√≥, tamb√©m √© uma estrutura enorme.  Conforme mostrado na se√ß√£o anterior, nos encontramos em uma posi√ß√£o melhor se pudermos confiar nos padr√µes estabelecidos para trabalhar com os recursos de marca√ß√£o e navegador.  Uma alternativa para esses recursos padr√£o √© invent√°-los novamente.  Desnecess√°rio dizer que essa "inven√ß√£o" est√° repleta de dificuldades consider√°veis.  Mas e se esses problemas, cada um √† sua maneira, fossem resolvidos pelos autores de todos os pacotes JavaScript que instalamos? <br><br><h3>  <font color="#3AC1EF">Applications Aplica√ß√µes de p√°gina √∫nica</font> </h3><br>  Um dos pontos fracos dos desenvolvedores que eles podem pagar facilmente √© o uso do modelo de aplicativo de p√°gina √∫nica (SPA), mesmo nos projetos para os quais esse modelo n√£o √© adequado.  Obviamente, esses projetos se beneficiam do fato de serem percebidos pelos usu√°rios como mais produtivos devido ao roteamento realizado pelo cliente.  Mas quais s√£o as desvantagens de usar o modelo SPA?  Os recursos internos de navega√ß√£o da p√°gina do navegador, embora constru√≠dos em um modelo s√≠ncrono, oferecem ao projeto muitas vantagens.  Uma delas √© que o gerenciamento do hist√≥rico de visitas √© realizado atrav√©s da implementa√ß√£o de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">especifica√ß√µes complexas</a> .  Usu√°rios sem JavaScript, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">desabilitados ou n√£o</a> , n√£o perder√£o a capacidade de trabalhar com o projeto.  Para que um aplicativo de uma p√°gina esteja dispon√≠vel em navegadores com JavaScript desativado, repentinamente acontece que uma aten√ß√£o consider√°vel deve ser dada √† renderiza√ß√£o do servidor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/53d/522/b04/53d522b04f07c6c8e4fb377f620e5148.png"></div><br>  <i><font color="#999999">Compara√ß√£o de diferentes op√ß√µes para carregar um aplicativo experimental em um canal de comunica√ß√£o lento.</font></i>  <i><font color="#999999">A renderiza√ß√£o do aplicativo √† esquerda depende completamente do JavaScript.</font></i>  <i><font color="#999999">O aplicativo √† direita √© renderizado no servidor, mas depois usa no cliente o m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hydrate ()</a> para conectar os componentes √† marca√ß√£o j√° criada no servidor</font></i> <br><br>  Aqui voc√™ pode ver que o aplicativo, que √© renderizado no cliente, por alguns segundos mostra ao usu√°rio uma tela em branco e exibe a interface finalizada. <br><br>  Um aplicativo que √© renderizado no servidor e operacional no cliente exibe rapidamente os principais elementos da interface, mas voc√™ pode us√°-lo ap√≥s aproximadamente o mesmo tempo que o aplicativo que √© renderizado inteiramente no cliente. <br><br>  A disponibilidade do aplicativo tamb√©m sofre se o roteador localizado no cliente n√£o puder informar o usu√°rio sobre o que foi alterado na p√°gina que ele est√° visualizando.  Isso pode for√ßar o usu√°rio a confiar em tecnologias de assist√™ncia para descobrir o que exatamente mudou na p√°gina. Como resultado, o trabalho do usu√°rio com o site √© muito mais complicado. <br><br>  Al√©m disso, voc√™ pode encontrar imediatamente nosso antigo inimigo - uma carga excessiva no sistema.  Alguns roteadores clientes s√£o muito pequenos.  Mas se voc√™ criar um projeto no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">React</a> , usar um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">roteador</a> compat√≠vel e, possivelmente, uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">biblioteca</a> para gerenciar o estado do aplicativo, isso significa que voc√™ deve aceitar que ele contenha uma certa quantidade de c√≥digo de servi√ßo, do qual voc√™ n√£o pode chegar a lugar algum.  Nomeadamente, neste caso, s√£o aproximadamente 135 Kb desse c√≥digo.  Analise cuidadosamente os projetos que voc√™ est√° criando e se o roteamento do cliente vale a carga adicional no sistema.  Geralmente acontece que √© melhor recusar o sistema de roteamento do cliente. <br><br>  Se voc√™ est√° preocupado com os sentimentos do usu√°rio, se deseja que o site pare√ßa r√°pido para ele, pode confiar no atributo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">rel = prefetch</a> link, que permite organizar o pr√©-carregamento de documentos da mesma fonte.  O uso desse atributo tem um enorme impacto na melhoria do desempenho do projeto, percebido pelos usu√°rios, pois as p√°ginas vinculadas ao uso desse atributo, quando voc√™ clica nesses links, s√£o instantaneamente carregadas do cache.  Al√©m disso, como o pr√©-carregamento de dados tem baixa prioridade, √© improv√°vel que concorra pela largura de banda com recursos importantes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/186/561/5a6/1865615a66b7643a81e2544c90b89644.png"></div><br>  <i><font color="#999999">O c√≥digo HTML mencionado por escrito / √© pr√©-carregado quando voc√™ visita a p√°gina principal do site.</font></i>  <i><font color="#999999">Quando um usu√°rio clica no link correspondente, o c√≥digo HTML √© carregado instantaneamente no cache do navegador</font></i> <br><br>  O principal problema que pode surgir com as p√°ginas de pr√©-carregamento e das quais voc√™ precisa estar ciente √© que esse carregamento pode se tornar um desperd√≠cio de tempo e recursos.  Para resolv√™-lo, voc√™ pode, por exemplo, usar o pequeno script <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quicklink</a> do Google, que atenua esse problema.  Ele verifica se o cliente atual est√° usando uma conex√£o lenta, se o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modo de economia de dados</a> est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ativado</a> e, por padr√£o, permite evitar o pr√©-carregamento de materiais de fontes diferentes da fonte da p√°gina. <br><br>  Para fazer com que o site pare√ßa r√°pido aos olhos dos usu√°rios que o visitam muitas vezes, voc√™ pode usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">profissionais de servi√ßo</a> .  Eles podem ser usados ‚Äã‚Äãindependentemente de o projeto usar ou n√£o um sistema de roteamento de clientes, considerando que voc√™ est√° familiarizado com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">alguns dos recursos dos</a> profissionais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de</a> servi√ßo.  Ao executar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cache de rota por</a> meio de profissionais de servi√ßo, obtemos muitas das mesmas vantagens caracter√≠sticas para o download antecipado de alguns links, mas temos possibilidades muito mais extensas para trabalhar com solicita√ß√µes e respostas.  Se voc√™ percebe seu site como um "aplicativo" ou n√£o, equip√°-lo com um t√©cnico de servi√ßo √© provavelmente um exemplo de um dos casos de uso de JavaScript mais cr√≠ticos do nosso tempo. <br><br><h3>  <font color="#3AC1EF">AvaJavaScript n√£o foi projetado para layout</font> </h3><br>  Se instalarmos um pacote JS projetado para resolver problemas relacionados aos layouts de p√°gina, √© hora de sermos muito cuidadosos e nos perguntarmos o que estamos tentando alcan√ßar com este pacote.  O CSS foi criado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">especificamente</a> para criar layouts de p√°gina. Para us√°-lo de maneira eficaz, voc√™ n√£o precisa de abstra√ß√µes.  A maioria das tarefas de cria√ß√£o de layouts que eles tentam resolver usando JavaScript, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">colocar</a> elementos, alinhar, ajustar seus tamanhos, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">manipular texto</a> ou at√© mesmo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">criar layouts</a> completamente usando JavaScript, agora pode ser realizada usando CSS.  Ferramentas modernas para criar layouts como Flexbox e Grid s√£o bem suportadas pelos navegadores, portanto, n√£o precisamos desenvolver projetos baseados em estruturas para trabalhar com layouts.  A prop√≥sito, CSS tamb√©m √© uma estrutura.  Quando temos √† disposi√ß√£o uma oportunidade como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">solicita√ß√µes de propriedade</a> , a melhoria progressiva dos layouts para apoiar novos meios de sua forma√ß√£o, como se v√™, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n√£o</a> √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">t√£o dif√≠cil</a> . <br><br><pre> <code class="plaintext hljs">/*   , ,   ,        CSS Grid. */ /*  @supports  ,     CSS Grid,     . */ @supports (display: grid) { /*      */ @media (min-width: 40em) {   /*       CSS Grid */ } }</code> </pre> <br>  Usar o JavaScript para resolver os problemas de cria√ß√£o de layouts de p√°gina e personaliza√ß√£o de apar√™ncia n√£o √© novidade.  Foi o que fizemos em 2009, quando viv√≠amos em uma atmosfera de auto-engano, dizendo que todos os sites deveriam se parecer no IE6 e nos navegadores mais avan√ßados da √©poca.  Se hoje, em 2019, continuamos a desenvolver sites para que eles tenham a mesma apar√™ncia em todos os navegadores, isso significa que precisamos reconsiderar nossos objetivos.  Sempre haver√° alguns navegadores que precisam ser suportados e que n√£o possuem os mesmos recursos que os navegadores mais modernos.  A completa semelhan√ßa externa de projetos em todas as plataformas n√£o √© apenas um desperd√≠cio de energia, √© tamb√©m um inimigo fundamental da ideia de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">melhorias progressivas</a> . <br><br><h2>  <font color="#3AC1EF">Bottom line: eu n√£o vou me tornar um assassino de JavaScript</font> </h2><br>  N√£o me interpretem mal, eu n√£o perten√ßo aos inimigos do JavaScript.  Gra√ßas a essa linguagem, constru√≠ uma carreira e, para ser honesto, o JavaScript, h√° mais de dez anos, me traz muito prazer.  Como em qualquer relacionamento de longo prazo, quanto mais tempo passo trabalhando com JavaScript, melhor eu o conhe√ßo.  √â uma linguagem madura, com muitos recursos, que a cada ano est√° melhorando. <br><br>  No entanto, √†s vezes parece-me que algo deu errado em nosso relacionamento com JavaScript.  Eu o critico.  Ou, mais precisamente, eu critico a tend√™ncia atual de considerar o JavaScript a principal ferramenta de cria√ß√£o de sites, que √© usada em primeiro lugar, sem olhar para mais nada.  Quando analisei outro pacote que parecia uma guirlanda de Natal confusa, ficou claro para mim que a web estava intoxicada com JavaScript.  Recorremos a esse idioma por quase qualquer motivo, mesmo nos casos em que as circunst√¢ncias n√£o exigem isso.  √Äs vezes, penso em qu√£o severas podem ser as consequ√™ncias dessa atitude em rela√ß√£o √† JS. <br><br>  Eu pretendo continuar escrevendo sobre JavaScript e desenvolvimento web, para continuar procurando maneiras de usar racionalmente as tecnologias web.  Esperamos que juntos melhoremos a web moderna. <br><br>  <b>Caros leitores!</b>  Voc√™ acha que a Web moderna est√° realmente sobrecarregada com o c√≥digo JavaScript? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/b4/fn/f5/b4fnf52x9i3mn80tttdafqtvkfe.jpeg"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt447576/">https://habr.com/ru/post/pt447576/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt447566/index.html">Os cientistas mostraram pela primeira vez uma "foto" real de um buraco negro</a></li>
<li><a href="../pt447568/index.html">Entrevista com o astronauta Alexander Laveikin sobre cinema espacial, sobrecargas de 20 unidades e pouso suave</a></li>
<li><a href="../pt447570/index.html">GoLand 2019.1: an√°lise de desempenho de c√≥digo, Smart Step Into, refatora√ß√£o da Extract Interface, Nilness Analyzer e mais</a></li>
<li><a href="../pt447572/index.html">Energia, calor e √°gua: parte dois</a></li>
<li><a href="../pt447574/index.html">Notas do freelancer: Desenvolvendo o primeiro aplicativo nativo do React</a></li>
<li><a href="../pt447578/index.html">Acelerando o JavaScript usando o tipo de dados Definir</a></li>
<li><a href="../pt447580/index.html">Ca√ßa a amea√ßas ou como se defender contra amea√ßas de 5%</a></li>
<li><a href="../pt447582/index.html">Rusatom: impress√£o 3D em metal na R√∫ssia</a></li>
<li><a href="../pt447584/index.html">Anatomia do "Centro de Dados Espaciais". Servidor alt√≠ssimo: olhar sob o cap√¥</a></li>
<li><a href="../pt447586/index.html">Interpola√ß√£o avan√ßada de strings no Swift 5.0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>