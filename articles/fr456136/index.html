<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöµüèº üë©üèº‚ÄçüöÄ üëéüèª Pourquoi faisons-nous Enterprise Service Mesh? ü§î üõ´ üïô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Service Mesh est un mod√®le architectural bien connu pour int√©grer des microservices et passer √† l'infrastructure cloud. Aujourd'hui, dans le monde des...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pourquoi faisons-nous Enterprise Service Mesh?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/456136/">  Service Mesh est un mod√®le architectural bien connu pour int√©grer des microservices et passer √† l'infrastructure cloud.  Aujourd'hui, dans le monde des conteneurs cloud, il est assez difficile de s'en passer.  Plusieurs impl√©mentations de maillage de services open source sont d√©j√† disponibles sur le march√©, mais leur fonctionnalit√©, leur fiabilit√© et leur s√©curit√© sont loin d'√™tre toujours suffisantes, en particulier en ce qui concerne les exigences des grandes soci√©t√©s financi√®res √† travers le pays.  Par cons√©quent, chez Sbertech, nous avons d√©cid√© de personnaliser Service Mesh et voulons parler de ce qui est cool dans Service Mesh, de ce qui n'est pas tr√®s et de ce que nous allons en faire. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/610/635/fbf/610635fbfe1b4214c5598679e06bf4aa.png"><br><a name="habracut"></a><br>  La popularit√© du mod√®le Service Mesh augmente avec la popularit√© de la technologie cloud.  Il s'agit d'une couche d'infrastructure d√©di√©e qui simplifie l'interaction entre les diff√©rents services r√©seau.  Les applications cloud modernes se composent de centaines, voire de milliers de ces services, chacun pouvant avoir des milliers de copies. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/394/a6f/ca9/394a6fca966e4ef70ad205c6eb79af34.png"><br><br>  L'interaction entre ces services et leur gestion est une t√¢che cl√© de Service Mesh.  En fait, il s'agit d'un mod√®le de r√©seau √† partir d'une vari√©t√© de procurations, g√©r√© de mani√®re centralis√©e et ex√©cutant un ensemble de fonctions tr√®s utiles. <br><br>  <i>Au niveau du proxy (plan de donn√©es):</i> <br><br><ul><li>  Attribuer et distribuer des politiques de routage et d'√©quilibrage du trafic <br></li><li>  Distribution de cl√©s, certificats, jetons <br></li><li>  Collecte de t√©l√©m√©trie, formation de m√©triques de surveillance <br></li><li>  Int√©gration avec l'infrastructure de s√©curit√© et de surveillance <br></li></ul><br>  <i>Au niveau du plan de contr√¥le:</i> <br><br><ul><li>  Appliquer des politiques de routage et d'√©quilibrage du trafic <br></li><li>  Gestion des relances et des timeouts, d√©finition des n≈ìuds ¬´morts¬ª (coupure de circuits), gestion des situations d√©faillantes (injection de d√©fauts) et maintien de la r√©silience des services √† travers d'autres m√©canismes <br></li><li>  Authentification / autorisation d'appel <br></li><li>  Jeter les m√©triques (observabilit√©) <br></li></ul><br>  Le cercle des utilisateurs int√©ress√©s par le d√©veloppement de cette technologie est tr√®s large - des petites startups aux grandes soci√©t√©s Internet, par exemple PayPal. <br><br><h2>  √Ä quoi sert Service Mesh dans le secteur des entreprises? </h2><br>  L'utilisation de Service Mesh pr√©sente de nombreux avantages √©vidents.  Tout d'abord, c'est juste pratique pour les d√©veloppeurs: <i>une plate-forme technologique appara√Æt</i> pour √©crire du code qui simplifie consid√©rablement l'int√©gration dans l'infrastructure cloud du fait que la couche de transport est compl√®tement isol√©e de la logique d'application. <br><br>  De plus, <i>Service Mesh simplifie la relation entre fournisseurs et consommateurs.</i>  Aujourd'hui, il est beaucoup plus facile pour les fournisseurs et les consommateurs de l'API de se mettre d'accord sur des interfaces et des contrats par eux-m√™mes, sans impliquer un interm√©diaire d'int√©gration sp√©cial et un arbitre pour cela - un bus de services d'entreprise.  Cette approche affecte de mani√®re significative deux indicateurs.  La vitesse de mise sur le march√© de nouvelles fonctionnalit√©s (time-to-market) augmente, mais en m√™me temps le co√ªt de la solution augmente, car l'int√©gration doit se faire de mani√®re ind√©pendante.  L'utilisation de Service Mesh par les √©quipes de d√©veloppement commercial permet de maintenir l'√©quilibre ici.  En cons√©quence, les fournisseurs d'API peuvent se concentrer exclusivement sur le composant d'application de leur service et le publier simplement dans le maillage de service - l'API deviendra imm√©diatement disponible pour tous les clients, et la qualit√© d'int√©gration sera pr√™te pour la production et ne n√©cessitera pas une seule ligne de code suppl√©mentaire. <br><br>  Un autre avantage est que le <i>d√©veloppeur, en utilisant le Service Mesh, se concentre uniquement sur les fonctionnalit√©s de l'entreprise</i> - sur le produit, et non sur la composante technologique de son service.  Par exemple, vous n'avez pas √† penser au fait que dans une situation o√π le service sera appel√© sur le r√©seau, quelque part la connexion peut se rompre.  En outre, Service Mesh permet d'√©quilibrer le trafic entre les copies du m√™me service: si l'une des copies ¬´meurt¬ª, le syst√®me bascule tout le trafic vers les copies actives restantes. <br><br>  <i>Service Mesh</i> est <i>une bonne base pour cr√©er des applications distribu√©es</i> , qui cache au client les d√©tails de la fourniture d'appels √† ses services √† la fois en interne et en externe.  Toutes les applications qui utilisent Service Mesh sont isol√©es sur la couche transport √† la fois du r√©seau et les unes des autres: il n'y a pas de connexion entre elles.  Dans ce cas, le d√©veloppeur obtient un contr√¥le total sur leurs services. <br><br>  Il convient de noter que la <i>mise √† jour des applications distribu√©es dans un environnement o√π Service Mesh est utilis√© devient de plus en plus facile.</i>  Par exemple, le d√©ploiement bleu / vert, dans lequel deux environnements d'application sont disponibles pour l'installation, dont l'un n'est pas mis √† jour et est en mode veille.  La restauration de la version pr√©c√©dente en cas d'√©chec de la lib√©ration est effectu√©e par un routeur sp√©cial, dont le r√¥le est parfaitement pris en charge par Service Mesh <i>.</i>  Vous pouvez utiliser la <i>version Canary</i> pour ex√©cuter dans la nouvelle version - basculez seulement 10% du trafic ou des demandes du groupe de clients pilotes vers la nouvelle version.  Le trafic principal passe √† l'ancienne version, rien ne casse. <br><br>  <i>Service Mesh nous donne √©galement un contr√¥le SLA en temps r√©el</i> .  Le syst√®me de procurations distribu√©es ne permettra pas d'inonder le service lorsqu'un des clients d√©passe le quota qui lui est attribu√©.  Si la bande passante de l'API est limit√©e, personne ne pourra l'√©trangler avec un grand nombre de transactions: le Service Mesh est en face du service et ne permet pas de trafic suppl√©mentaire.  Il va tout simplement battre dans la couche d'int√©gration, et les services eux-m√™mes continueront de fonctionner sans s'en rendre compte. <br><br>  Si l'entreprise souhaite r√©duire les co√ªts de d√©veloppement de solutions d'int√©gration, Service Mesh aide √©galement: <i>vous pouvez passer √† sa version open-source √† partir de produits commerciaux</i> .  Notre Enterprise Service Mesh est bas√© sur la version open source de Service Mesh. <br><br>  Un autre avantage est la <i>disponibilit√© d'un ensemble complet de services d'int√©gration</i> .  √âtant donn√© que toute int√©gration est construite √† travers cette couche interm√©diaire, nous pouvons g√©rer tout le trafic d'int√©gration et les connexions entre les applications qui forment le c≈ìur de m√©tier de l'entreprise.  C'est tr√®s pratique. <br><br>  Enfin, <i>Service Mesh conduit l'entreprise √† passer √† une infrastructure dynamique.</i>  Maintenant, beaucoup se tournent vers la conteneurisation.  Scier un monolithe en microservices, c'est beau de tout mettre en ≈ìuvre - le sujet est √† la hausse.  Mais lorsque vous essayez de transf√©rer sur une nouvelle piste un syst√®me qui est en production depuis de nombreuses ann√©es, vous rencontrez imm√©diatement un certain nombre de probl√®mes: tout mettre dans des conteneurs et le d√©ployer sur la plate-forme n'est pas facile.  Et l'impl√©mentation, la synchronisation et l'interaction de ces composants distribu√©s est un autre sujet difficile.  Comment vont-ils communiquer entre eux?  Y aura-t-il des √©checs en cascade?  Service Mesh vous permet de r√©soudre certains de ces probl√®mes et de faciliter la migration de l'ancienne architecture vers la nouvelle, car vous pouvez oublier la logique de l'√©change r√©seau. <br><br><h2>  Pourquoi personnaliser le maillage de service </h2><br>  Dans notre entreprise, des centaines de syst√®mes et de modules coexistent et le temps d'ex√©cution est tr√®s charg√©.  Ainsi, un sch√©ma simple, lorsqu'un syst√®me en appelle un autre et re√ßoit une r√©ponse, ne suffit pas, car en production, nous en voulons plus.  De quoi avez-vous besoin de plus d'un maillage de service d'entreprise? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca4/0e3/e24/ca40e3e2437875712025691aa5c340e3.png"><br><br><h3>  Service de traitement d'√©v√©nements </h3><br>  Imaginez que nous devons faire un traitement d'√©v√©nement en temps r√©el - un syst√®me qui analyse en temps r√©el les actions du client et peut imm√©diatement lui faire une offre pertinente.  Pour impl√©menter cette fonctionnalit√©, un <i>mod√®le architectural appel√© architecture √©v√©nementielle (EDA) est utilis√©</i> .  Aucun des services Mesh concern√©s ne prend en charge de tels mod√®les de mani√®re native, mais cela est tr√®s important, en particulier pour la banque! <br><br>  Il est √©trange que l'appel de proc√©dure distante (RPC) prenne en charge toutes les versions du Service Mesh, et ils ne sont pas amis avec EDA.  Parce que Service Mesh est un semblant d'int√©gration distribu√©e moderne, et EDA est un mod√®le architectural tr√®s pertinent qui vous permet de faire des choses uniques en termes d'exp√©rience client. <br><br>  Notre Enterprise Service Mesh devrait r√©soudre ce probl√®me.  De plus, nous voulons y voir la mise en ≈ìuvre de la livraison garantie, du streaming et du traitement d'√©v√©nements int√©gr√© √† l'aide d'une vari√©t√© de filtres et de mod√®les. <br><br><h3>  Service de transfert de fichiers </h3><br>  En plus d'EDA, ce serait bien de pouvoir transf√©rer des fichiers: √† l'√©chelle de l'entreprise, tr√®s souvent seule l'int√©gration de fichiers est possible.  En particulier, le mod√®le architectural ETL est utilis√© (Extraire, Transformer, Charger - ¬´extraire, transformer, charger¬ª).  Dans ce document, en r√®gle g√©n√©rale, tout le monde √©change des fichiers exclusivement: ils utilisent des donn√©es volumineuses, ce qui n'est pas pratique pour ins√©rer des demandes distinctes.  La possibilit√© de prendre en charge nativement les transferts de fichiers dans l'Enterprise Service Mesh offre la flexibilit√© dont les besoins m√©tier. <br><br><h3>  Service d'orchestration </h3><br>  Dans les grandes organisations, il y a presque toujours des √©quipes diff√©rentes qui fabriquent des produits diff√©rents.  Par exemple, dans une banque, certaines √©quipes travaillent avec des d√©p√¥ts, tandis que d'autres travaillent avec des produits de cr√©dit, et il y a beaucoup de tels cas.  Ce sont des personnes diff√©rentes, des √©quipes diff√©rentes qui fabriquent leurs produits, d√©veloppent leurs API et les fournissent √† d'autres.  Et tr√®s souvent il y a un besoin pour la composition de ces services, ainsi que la mise en ≈ìuvre de la logique complexe de l'appel s√©quentiel de l'ensemble d'API.  Pour r√©soudre ce probl√®me, une solution est n√©cessaire dans la couche d'int√©gration, ce qui simplifiera toute cette logique composite (appel de plusieurs API, d√©crivant le chemin des requ√™tes, etc.).  Il s'agit du service d'orchestration dans l'Enterprise Service Mesh. <br><br><h3>  AI et ML </h3><br>  Lorsque les microservices communiquent via une seule couche d'int√©gration, Service Mesh, bien s√ªr, sait tout sur les appels de chaque service.  Nous collectons la t√©l√©m√©trie: qui a appel√© qui, quand, combien de temps, combien de fois, etc.  Lorsqu'il existe des centaines de milliers de ces services et des milliards d'appels, tout cela s'accumule et forme des Big Data.  Ces donn√©es peuvent √™tre analys√©es √† l'aide de l'IA, de l'apprentissage automatique, etc., puis effectuer des t√¢ches utiles en fonction des r√©sultats de l'analyse.  Il conviendrait de transf√©rer au moins partiellement √† l'intelligence artificielle la gestion de tout ce trafic r√©seau et appels applicatifs int√©gr√©s au Service Mesh. <br><br><h3>  Service de passerelle API </h3><br>  En r√®gle g√©n√©rale, Service Mesh dispose de serveurs proxy et de services qui s‚Äôacc√®dent mutuellement √† l‚Äôint√©rieur du p√©rim√®tre de confiance.  Mais il existe √©galement des contreparties externes.  Les exigences API pour ce groupe de consommateurs sont beaucoup plus s√©rieuses.  Nous divisons cette t√¢che en deux parties principales. <br><br><ul><li>  <i>La s√©curit√©</i>  Probl√®mes li√©s aux ddos, vuln√©rabilit√© des protocoles, applications, syst√®mes d'exploitation, etc. <br></li><li>  <i>L'√©chelle</i> .  Lorsque la facture d'API qui doit √™tre remise aux clients atteint des milliers voire des centaines de milliers, il existe un besoin pour certains moyens de g√©rer cet ensemble d'API.  Vous devez surveiller en permanence l'API: fonctionnent-elles ou non, dans quel √©tat, quel trafic est en cours, quelles statistiques, etc.  La passerelle API doit g√©rer cette t√¢che, ce qui rend l'ensemble du processus g√©rable et s√©curis√©.  Gr√¢ce √† ce composant, l'Enterprise Service Mesh apprend √† publier les API internes et externes sans trop de difficult√©. <br></li></ul><br><h3>  Service d'assistance pour des protocoles et formats de donn√©es sp√©cifiques (passerelle AS) </h3><br>  Actuellement, la plupart des solutions Service Mesh ne peuvent fonctionner en mode natif qu'avec le trafic HTTP et HTTP2 ou en mode tronqu√© au niveau TCP / IP.  Enterprise Service Mesh poss√®de de nombreux autres protocoles de transfert de donn√©es tr√®s sp√©cifiques.  Certains syst√®mes peuvent utiliser des courtiers de messages, d'autres sont int√©gr√©s au niveau de la base de donn√©es.  Si l'entreprise poss√®de SAP, elle peut √©galement utiliser son propre syst√®me d'int√©gration.  Et tout cela fonctionne et constitue une partie importante de l'entreprise. <br><br>  Vous ne pouvez pas simplement dire: "Abandonnons l'h√©ritage et cr√©ons de nouveaux syst√®mes qui peuvent utiliser le maillage de service."  Pour se faire des amis de tous les anciens syst√®mes avec de nouveaux (sur l'architecture de microservice), les syst√®mes qui peuvent utiliser Service Mesh auront besoin d'une sorte d'adaptateur, d'interm√©diaire et de passerelle.  D'accord, ce serait bien s'il √©tait livr√© dans une bo√Æte avec le service.  La passerelle AS peut prendre en charge n'importe quelle option d'int√©gration.  Imaginez, vous installez simplement l'Enterprise Service Mesh, et il est pr√™t √† interagir avec tous les protocoles dont vous avez besoin.  Pour nous, cette approche est tr√®s importante. <br><br>  <i>C'est ainsi que nous pr√©sentons la version d'entreprise de Service Mesh (Enterprise Service Mesh).</i>  <i>La personnalisation d√©crite r√©sout la plupart des probl√®mes qui se posent lorsque vous essayez d'utiliser des versions open source pr√™tes √† l'emploi de la plate-forme d'int√©gration.</i>  <i>Apparue il y a quelques ann√©es √† peine, l'architecture Service Mesh continue d'√©voluer et nous sommes heureux de pouvoir contribuer √† son d√©veloppement.</i>  <i>Nous esp√©rons que notre exp√©rience vous sera utile.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr456136/">https://habr.com/ru/post/fr456136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr456126/index.html">Comptez une tonne d'argent et faites de l'exploration dans la mine: comment les robots ont d√©j√† trouv√© une place parmi nous</a></li>
<li><a href="../fr456128/index.html">MBLT19 :: retour</a></li>
<li><a href="../fr456130/index.html">Comment r√©soudre les probl√®mes NP-hard en utilisant des algorithmes param√©tr√©s</a></li>
<li><a href="../fr456132/index.html">√Ä propos de l'enregistrement de bogues ou de la recherche d'un chat</a></li>
<li><a href="../fr456134/index.html">Faites confiance mais v√©rifiez! Comment tester votre mod√®le √† l'aide du cloud IBM (Watson OpenScale)</a></li>
<li><a href="../fr456140/index.html">D√©couvrez Codeception 3.0</a></li>
<li><a href="../fr456144/index.html">KubeCon EU 2019: 10 r√©sultats cl√©s</a></li>
<li><a href="../fr456146/index.html">DevOps en d√©veloppement: automatisation du code d'application web</a></li>
<li><a href="../fr456148/index.html">News de la semaine: Facebook refuse Huawei dans les applications, Aurora OS au lieu d'Android, sanctions mini√®res</a></li>
<li><a href="../fr456150/index.html">Petite petite joie # 4: Radon - la qualit√© du code mesur√©e en chiffres</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>