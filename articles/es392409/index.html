<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¥üèæ üßôüèº üÄÑÔ∏è Transmisiones de Node.js: los ingenieros de Google encontraron una vulnerabilidad en los scripts de NPM ‚õπüèº üö´ üïì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Desarrolladores de Node.js, ejecuten el comando `npm install` bajo su propio riesgo y recuerden que el gusano autopropagante camina libremente por el ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Transmisiones de Node.js: los ingenieros de Google encontraron una vulnerabilidad en los scripts de NPM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/392409/"><img align="left" src="https://habrastorage.org/getpro/geektimes/post_images/505/0b8/afb/5050b8afb034d32446c33b1bfedcdb41.jpg" alt="imagen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desarrolladores de Node.js, ejecuten el comando `npm install` bajo su propio riesgo y recuerden que el gusano autopropagante camina libremente por el ecosistema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nunca puede suponer que un archivo descargado de Internet es seguro. </font><font style="vertical-align: inherit;">Esto es cierto para NPM, el administrador de paquetes est√°ndar de Node.js. </font><font style="vertical-align: inherit;">La vulnerabilidad en la instalaci√≥n de scripts permite a un atacante crear un gusano autopropagante que puede pasar a trav√©s de paquetes NPM.</font></font><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Esto es posible porque un paquete NPM puede pasar f√°cilmente a trav√©s de la mayor√≠a del ecosistema por s√≠ mismo", escribe el desarrollador de Google Sam Sakoni en su art√≠culo "Exponiendo NPM Hydra". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como en otros administradores de paquetes, NPM admite scripts de "ciclo de vida" que pueden ser ejecutados por comandos externos en el sistema como el usuario actual. Aunque estos scripts a menudo son √∫tiles y se usan para limpiar archivos despu√©s del proceso de instalaci√≥n, compilar m√≥dulos binarios y crear autom√°ticamente archivos de configuraci√≥n, pueden ser peligrosos al mismo tiempo, ya que pueden realizar cambios en el sistema al ejecutar varios comandos.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Es posible que los paquetes de NPM escritos con intenci√≥n maliciosa, durante la instalaci√≥n, ejecuten secuencias de comandos que est√°n integradas en otros paquetes, que a su vez se publican en el registro y otros paquetes creados por el usuario", escribe el blog oficial de NPM en un art√≠culo. Sin embargo, la compa√±√≠a informa que los beneficios de usar estos scripts superan los riesgos de una amenaza potencial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La publicaci√≥n minimiza el riesgo y llama la atenci√≥n sobre los paquetes que est√°n "limpios desde el principio", pero no todos est√°n "cien por ciento" seguros de esto. El art√≠culo de Sakoni, a excepci√≥n de algunas soluciones alternativas, no deja en claro c√≥mo asegurarse de que los paquetes que instalan los usuarios no sean lo que esperaban. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"NPM no puede garantizar que su registro de paquetes sea seguro", se√±ala el art√≠culo. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gusano se filtra a trav√©s de dependencias de paquetes</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El gusano aprovecha tres caracter√≠sticas en NPM: versiones sem√°nticas (semver), publicaci√≥n en un registro centralizado y privilegios para un usuario que inicia sesi√≥n autom√°ticamente. Porque el usuario permanece autorizado hasta que inicie sesi√≥n manualmente. Cualquiera que inicie sesi√≥n y ejecute la instalaci√≥n permite que otros m√≥dulos ejecuten una amplia variedad de comandos. Mientras no haya un enlace a versiones espec√≠ficas, los paquetes pueden actualizarse a nuevas versiones, y cada uno de ellos puede ejecutar c√≥digo. Y finalmente, pueden enviar paquetes al servidor de registro central, desde donde otros pueden instalarlos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El ataque de gusano se basa en la ingenier√≠a social para la infecci√≥n inicial y las "mejoras" antes mencionadas pueden moverse libremente por el ecosistema.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero, el atacante enga√±a al propietario del paquete NPM para que instale el paquete infectado en su sistema. Puede ser phishing o cualquier otro ataque similar. Una vez instalado, crea una versi√≥n "troyana" del paquete del propietario del m√≥dulo NPM y establece un gancho para iniciar el gusano donde sea que est√© instalado. El m√≥dulo modificado publicado en la cuenta del propietario se convierte en el punto de partida para la infecci√≥n de todos sus paquetes, lanzando el m√≥dulo troyano como una dependencia. El gusano crea nuevas versiones de m√≥dulos en la cuenta con el comentario "correcci√≥n de errores", y ahora, cuando est√° instalado, se puede ejecutar el c√≥digo de autopropagaci√≥n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por un ejemplo. Phonegap tiene 463 dependencias intermedias. Y 276 cuentas NPM individuales pueden actualizar versiones de sus paquetes. Ahora, solo una persona de estos 276 es suficiente para que el gusano contin√∫e infectando a todos los que instalaron el paquete desde el proyecto PhoneGap, dice Sakoni. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NPM niega riesgos</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si bien el agujero no se ha cerrado, una nota sobre la vulnerabilidad del Equipo de preparaci√≥n para emergencias inform√°ticas de los Estados Unidos destaca varias soluciones para sortear el peligro. Utilizan la opci√≥n "-noir-scripts" cuando instalan nuevas dependencias, cierran versiones con "npm-shrinkwrap" y alientan a los usuarios cuyos m√≥dulos est√°n constantemente desvinculados de NPM.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las organizaciones que usan NPM en sus entornos deben ejecutar un espejo de registro NPM local y evitar que los usuarios individuales instalen directamente dependencias del registro principal. Deben verificar regularmente el registro local y asegurarse de que los archivos maliciosos no est√©n en la lista de dependencias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sakoni recomend√≥ establecer el tiempo de vencimiento de los tokens y obligar a los usuarios a salir de NPM despu√©s de un cierto per√≠odo de tiempo. En una publicaci√≥n de blog, la compa√±√≠a no describi√≥ estas recomendaciones, pero anunci√≥ otras soluciones para minimizar los riesgos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una idea es complicar la publicaci√≥n de m√≥dulos, si el usuario no es consciente del peligro, esto puede ser una autenticaci√≥n de dos factores. Todav√≠a puede trabajar con compa√±√≠as que brindan protecci√≥n, ofreciendo este √∫ltimo para verificar los m√≥dulos, pero hasta ahora esto no es posible. Por el momento, la compa√±√≠a monitorea los paquetes que se actualizan con frecuencia, ya que el gusano puede ser detectado por lanzamientos muy frecuentes de nuevas versiones, pero conf√≠an m√°s en los usuarios que ellos mismos notificar√°n los paquetes sospechosos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Sin duda, si muchos usuarios intentan publicar masivamente paquetes maliciosos en concierto, estar√°n disponibles en el registro de NPM", dijo el blog. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conf√≠a pero verifica</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ser√°n unos d√≠as dif√≠ciles para NPM. La identificaci√≥n de paquetes maliciosos publicados es su "tal√≥n de Aquiles". En el debate actual sobre el tema de la regulaci√≥n por parte del gerente de los paquetes eliminados del registro. La eliminaci√≥n por parte del desarrollador de un paquete de NPM la semana pasada, rompiendo as√≠ muchos proyectos que dependen de √©l. Tambi√©n es bastante sencillo registrar su c√≥digo con el nombre del m√≥dulo remoto. Cualquiera que haya asignado el nombre de otra persona puede configurar el c√≥digo a cualquier usuario, que depende del original.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En los √∫ltimos d√≠as, Reddit y GitHub han estado discutiendo mucho sobre la confianza en los desarrolladores, el soporte de los paquetes que crearon y si comenzar√°n a crear c√≥digo malicioso. </font><font style="vertical-align: inherit;">En el ecosistema global, esta es una suposici√≥n peligrosa, porque si uno de esos desarrolladores quiere romper mucho c√≥digo, tendr√° que confrontar a toda la comunidad. </font><font style="vertical-align: inherit;">Sin embargo, debe haber formas de instalar m√≥dulos de forma segura, puede ser una firma digital u otros m√©todos para verificar la seguridad y la correcci√≥n del c√≥digo. </font><font style="vertical-align: inherit;">Mientras tanto, solo queda sentir la alarma cada vez que ejecuta el comando `npm install`. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Art√≠culo original: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.infoworld.com/article/3048526/security/nodejs-alert-google-engineer-finds-flaw-in-npm-scripts.html</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es392409/">https://habr.com/ru/post/es392409/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es392399/index.html">Espruino: JavaScript en el microcontrolador</a></li>
<li><a href="../es392401/index.html">El misterioso Planeta X podr√≠a ser capturado por el Sol desde otro sistema estelar</a></li>
<li><a href="../es392403/index.html">Likbez en dispositivos Xiaomi presentados en AliExpress</a></li>
<li><a href="../es392405/index.html">Los cient√≠ficos pudieron controlar la velocidad del escarabajo implantando electrodos en sus m√∫sculos</a></li>
<li><a href="../es392407/index.html">Microsoft comenz√≥ a enviar la versi√≥n HoloLens para desarrolladores y lanz√≥ un emulador</a></li>
<li><a href="../es392413/index.html">HyperX presenta los nuevos auriculares para juegos Cloud Revolver</a></li>
<li><a href="../es392415/index.html">Apple ha presentado una solicitud de patente para relojes inteligentes para Apple Watch</a></li>
<li><a href="../es392419/index.html">Implementaci√≥n de tareas rob√≥ticas en la plataforma KUKA youBot, parte 1</a></li>
<li><a href="../es392421/index.html">AliExpress DJI quadcopters el 1 de abril: ¬øuna broma?</a></li>
<li><a href="../es392423/index.html">Fotos espaciales de la semana</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>