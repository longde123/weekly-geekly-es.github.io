<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСйЁЯП╜тАНЁЯдЭтАНЁЯСиЁЯП╝ ЁЯТХ ЁЯСйЁЯП┐тАНЁЯПн PPM-to-USB рдПрдбрд╛рдкреНрдЯрд░ STM32F3Discovery рдкрд░, рдпрд╛ рд╣рдо рд╡рд┐рдорд╛рди рдореЙрдбрд▓ рдХрдВрд╕реЛрд▓ рдХреЛ STM32Cube рдХреЗ рд╕рд╛рде HID рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдХреЗ рд░реВрдк рдореЗрдВ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ ЁЯРЯ ЁЯР┤ ЁЯМ┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рдКрдВрдЧрд╛ рдХрд┐ рдХреИрд╕реЗ:
 

- STM32CubeMX рдореЗрдВ рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдмрдирд╛рдПрдВ рдФрд░ рдмрд╛рд╣рд░реА рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдкрдХрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдХрд░реЗрдВред 
- рдПрдХ рд╡рд┐рдорд╛рди рдореЙрдбрд▓ рдХрдВрд╕реЛрд▓ рд╕...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PPM-to-USB рдПрдбрд╛рдкреНрдЯрд░ STM32F3Discovery рдкрд░, рдпрд╛ рд╣рдо рд╡рд┐рдорд╛рди рдореЙрдбрд▓ рдХрдВрд╕реЛрд▓ рдХреЛ STM32Cube рдХреЗ рд╕рд╛рде HID рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдХреЗ рд░реВрдк рдореЗрдВ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/384813/"><img src="https://habrastorage.org/files/42a/e17/45b/42ae1745bcc442529f2839504fdf51f4.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рдКрдВрдЧрд╛ рдХрд┐ рдХреИрд╕реЗ:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STM32CubeMX рдореЗрдВ рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдмрдирд╛рдПрдВ рдФрд░ рдмрд╛рд╣рд░реА рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдкрдХрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЯрд╛рдЗрдорд░ рд╕реЗрдЯ рдХрд░реЗрдВред </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рд╡рд┐рдорд╛рди рдореЙрдбрд▓ рдХрдВрд╕реЛрд▓ рд╕реЗ рдкреАрдкреАрдПрдо рд╕рд┐рдЧреНрдирд▓ рдХреЛ рдбрд┐рдХреЛрдб рдХрд░реЗрдВред </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STM32 рдкрд░ рдорд╛рдирд╡ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдмрдирд╛рдПрдВ рдФрд░ рдЕрдкрдиреЗ рдЫрд┐рдкрд╛рдИ рд░рд┐рдкреЛрд░реНрдЯ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдХреЛ рд▓рд┐рдЦреЗрдВред </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рд░реЗрд╕рд┐рдВрдЧ рдХреНрд╡рд╛рдбрд░реЛрдХреЙрдкреНрдЯрд░ рдкрд░ рдПрдХ рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рдореЗрдВ рдЙрдбрд╝рд╛рди рднрд░реЗрдВред </font><font style="vertical-align: inherit;">:)</font></font></li>
</ul><a name="habracut"></a><br>
<h3><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рд╕реНрддрд╛рд╡рдирд╛</font></font></b></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓ рд╣реА рдореЗрдВ, 250 рд╡реАрдВ рд╢реНрд░реЗрдгреА (рдПрдлрдкреАрд╡реА - рдлрд░реНрд╕реНрдЯ рдкрд░реНрд╕рди рд╡реНрдпреВ) рдХреЗ рдХреНрд╡рд╛рдбреНрд░реЛрдХреЙрдкреНрдЯрд░реЛрдВ рдкрд░ рдПрдлрдкреАрд╡реА рджреМрдбрд╝ рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рд▓реЛрдХрдкреНрд░рд┐рдпрддрд╛ рд╣рд╛рд╕рд┐рд▓ рдХрд░ рд░рд╣реА рд╣реИред </font><font style="vertical-align: inherit;">250 рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдорддрд▓рдм рд╣реИ рддрд┐рд░рдЫреЗ рдореЛрдЯрд░реЛрдВ рдХреА рдХреБрд▓реНрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА, рдЫреЛрдЯреЗ рдкреИрдВрддрд░реЗрдмрд╛рдЬрд╝реА рдХреЛрдкрд░реНрд╕ рдХреА рдЦрд╛рд╕рд┐рдпрддред </font><font style="vertical-align: inherit;">рдРрд╕реЗ рдЙрдкрдХрд░рдг рдЯрд┐рдХрд╛рдК рдХрд╛рд░реНрдмрди рдлреНрд░реЗрдо рдкрд░ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ рдЬреЛ рдЧрд┐рд░рдиреЗ рдФрд░ рдЯрдХрд░рд╛рдиреЗ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдПрдХ рдмрдбрд╝реЗ рдХрджрдо (рдмреНрд▓реЗрдб рдХреЗ рдЭреБрдХрд╛рд╡ рдХреЗ рдХреЛрдг) рдХреЗ рд╕рд╛рде 5-6 рдЗрдВрдЪ рдХреЗ рд╡реНрдпрд╛рд╕ рд╡рд╛рд▓реЗ рдкреНрд░реЛрдкреЗрд▓рд░реНрд╕ рдХреЛ рд╕рдмрд╕реЗ рдЧрддрд┐рд╢реАрд▓ рдЙрдбрд╝рд╛рди рдХреЗ рд▓рд┐рдП рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдореЛрдЯрд░реНрд╕ рдкрд░ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдПрдирд╛рд▓реЙрдЧ рд╣реЗрдбрд┐рдВрдЧ рдХреИрдордХреЙрд░реНрдбрд░ рд╕реЗ рдЫрд╡рд┐ рдХреЛ 5.8 рдЧреАрдЧрд╛рд╣рд░реНрдЯреНрдЬ рдХреА рдЖрд╡реГрддреНрддрд┐ рдкрд░ рдкрд╛рдпрд▓рдЯ рдпрд╛ рдореЙрдирд┐рдЯрд░ рдХреЗ рд╡реАрдбрд┐рдпреЛ рдЧреНрд▓рд╛рд╕ рдкрд░ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЪреВрдВрдХрд┐ рд╡рд╛рдИрдлрд╝рд╛рдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбрд┐рдЬрд┐рдЯрд▓ рдЯреНрд░рд╛рдВрд╕рдорд┐рд╢рди рдПрдХ рд▓рдВрдмреА рджреЗрд░реА (200-300 рдПрдордПрд╕) рдмрдирд╛рддрд╛ рд╣реИ, рд╡реАрдбрд┐рдпреЛ рд╣рдореЗрд╢рд╛ рдПрдХ рдПрдирд╛рд▓реЙрдЧ рдЪреИрдирд▓ рдкрд░ рдкреНрд░рд╕рд╛рд░рд┐рдд рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╢рд╛рдирджрд╛рд░ рдХреНрд▓рд┐рдк рд░рд┐рдХреЙрд░реНрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХреНрд╢рди рдХреИрдорд░реЛрдВ рдХреЛ рдмреЛрд░реНрдб (GoPro, Mobius, SJcam, Xiaomi Yi, рдЖрджрд┐) рдореЗрдВ рд▓рдЧрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img width="40%" src="https://habrastorage.org/files/727/722/0e5/7277220e5a8c4b749415d16d28091648.jpg"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдБ FPV copters рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рд░реЛрдорд╛рдВрдЪрдХ рд╡реАрдбрд┐рдпреЛ рд╣реИрдВ:</font></font></b><div class="spoiler_text"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://www.youtube.com/embed/NsxyV-kgfio%3Ffeature%3Doembed&amp;usg=ALkJrhhGCM8psLZeWXm4xm1wEskO_EQm1A" frameborder="0" allowfullscreen=""></iframe><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://www.youtube.com/embed/1MBW8zoZUR4%3Ffeature%3Doembed&amp;usg=ALkJrhhXw9s2j65vop23aLmDDJzUFoMLRQ" frameborder="0" allowfullscreen=""></iframe><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://www.youtube.com/embed/70pusNNunMA%3Ffeature%3Doembed&amp;usg=ALkJrhjlhOjy_DWHHv9zwQDy78SUGCT8pw" frameborder="0" allowfullscreen=""></iframe></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдкрдиреЗ рдорд┐рдиреА рдХреНрд╡рд╛рдбреНрд░реЛрдХреЙрдкреНрдЯрд░ рдХреЗ рдирд┐рд░реНрдорд╛рдг рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рдПрдХ рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рдореЗрдВ рдЙрдбрд╝рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ рдФрд░ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ рдХрд┐ рдХреНрдпрд╛ рдореИрдВ рдПрдлрдкреАрд╡реА рджреМрдбрд╝ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦреВрдВрдЧрд╛ред рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рд▓рд┐рдП, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPV FreeRider</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдЕрдиреБрдХреВрд▓ рд╣реИ </font><font style="vertical-align: inherit;">ред рдпрд╣ рд╕рд╕реНрддреА рд╣реИ, рдПрдХ рдореБрдлреНрдд рдбреЗрдореЛ рд╕рдВрд╕реНрдХрд░рдг рд╣реИ рдФрд░ рдЕрдиреБрднрд╡реА рдкрд╛рдпрд▓рдЯреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЙрдбрд╝рд╛рди рдХреЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдпрд╛рдВрддреНрд░рд┐рдХреА рдХрд╛ рдмрд╣реБрдд рд╕рдЯреАрдХ рд░реВрдк рд╕реЗ рдЕрдиреБрдХрд░рдг рдХрд░рддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдк рдХреАрдмреЛрд░реНрдб рд╕реЗ рдпрд╛ рдЬреЙрдпрд╕реНрдЯрд┐рдХ рд╕реЗ рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рдореЗрдВ рд╡рд┐рдорд╛рди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдХреАрдмреЛрд░реНрдб рдкрд╛рдпрд▓рдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЦрд░рд╛рдм рд░реВрдк рд╕реЗ рдЕрдиреБрдХреВрд▓ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдмрдЯрди рдХреЗрд╡рд▓ рдПрдХ рдЕрд╕рддрдд рдорд╛рди рд╕рдВрдЪрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдмрдЯрди рджрдмрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ / рджрдмрд╛рдпрд╛ рдирд╣реАрдВ рдЧрдпрд╛ рд╣реИ) рдФрд░ рд╕реБрдЪрд╛рд░реВ рд░реВрдк рд╕реЗ рдмрджрд▓рддреЗ рдордзреНрдпрд╡рд░реНрддреА рдореВрд▓реНрдпреЛрдВ рдХреЛ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд░рдирд╛ рдЕрд╕рдВрднрд╡ рд╣реИред рдПрдирд╛рд▓реЙрдЧ рд╕реНрдЯрд┐рдХреНрд╕ рдХреЗ рд╕рд╛рде рдЧреЗрдо рдХрдВрд╕реЛрд▓ рд╕реЗ рдЬреЙрдпрд╕реНрдЯрд┐рдХреНрд╕ рдмрд╣реБрдд рдмреЗрд╣рддрд░ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдирдХреЗ рдкрд╛рд╕ рдПрдХ рдмрд╣реБрдд рдЫреЛрдЯреА рдЫрдбрд╝реА рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддреА рд╣реИред рдПрдХ рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдЖрджрд░реНрд╢ рд╡рд┐рдХрд▓реНрдк рдПрдХ рд╡рд┐рд╢реЗрд╖ рдПрдбреЗрдкреНрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдЬреБрдбрд╝рд╛ рдПрдХ рд╡рд┐рдорд╛рди рдореЙрдбрд▓ рдХрдВрд╕реЛрд▓ рд╣реИ, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдЗрд╕реЗ рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдХреЗ рд░реВрдк рдореЗрдВ рджреЗрдЦрддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореЗрд░реЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдХреНрд╡рд╛рдбреНрд░реЛрдХреЙрдкреНрдЯрд░ рдерд╛, рдЬреЛ рдЗрддреНрдореАрдирд╛рди рд╕реЗ рдлрд╝реНрд▓рд╛рдЗрдЯ рдФрд░ рдлрд╝реЛрдЯреЛрдЧреНрд░рд╛рдлрд╝реА рдХреЗ рд▓рд┐рдП рдЗрдХрдЯреНрдард╛ рд╣реБрдЖ, рд▓реЗрдХрд┐рди рд░реЗрд╕рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдмрдбрд╝рд╛ рдФрд░ рднрд╛рд░реА рдерд╛ред рддрджрдиреБрд╕рд╛рд░, рдПрдХ рд░рд┐рдореЛрдЯ рдХрдВрдЯреНрд░реЛрд▓ рдерд╛ - рдЯрд░реНрдирдЬреА 9 рдПрдХреНрд╕ (рдкрд╣рд▓реЗ рдЪрд┐рддреНрд░рдг рдореЗрдВ)ред рдкреАрдЫреЗ рдХреА рддрд░рдл, рдЗрд╕рдореЗрдВ рдПрдХ рдПрдбреЗрдкреНрдЯрд░ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдиреЗрдХреНрдЯрд░ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдкреАрдкреАрдПрдо рд╕рд┐рдЧреНрдирд▓ рдЖрдЙрдЯрдкреБрдЯ рд╣реИред рдпрд╣ рд╕рдВрдХреЗрдд 1 рд╕реЗ 2 рдорд┐рд▓реАрд╕реЗрдХрдВрдб рдХреЗ рдЕрдВрддрд░рд╛рд▓ рдХреЗ рд╕рд╛рде рдПрдХ рдЫреЛрдЯреА рдирд╛рдбрд╝реА рд╣реИ, рдЬрд┐рд╕рдХреА рдЕрд╡рдзрд┐ рдирд┐рдпрдВрддреНрд░рдг рдХреА рд╕реНрдерд┐рддрд┐ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ (рдбрд┐рдХреЛрдбрд┐рдВрдЧ рдкрд░ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ)ред</font></font><br>
<br>
<div style="text-align:center;"><img width="33%" src="https://habrastorage.org/files/68b/cc1/4f0/68bcc14f02164d51a17401da82253df4.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЭреЗ рдХрд╣рдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ PPM рд╕реЗ USB рддрдХ рдХреЗ рд░рд┐рдореЛрдЯ рдХрдВрдЯреНрд░реЛрд▓ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдбрд╛рдкреНрдЯрд░реЛрдВ рдХреЛ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рдФрд░ рдЗрдиреНрд╣реЗрдВ рдореБрдЦреНрдп рдФрд░ рдореБрдЦреНрдп рдХреЗ рд╕рд╛рде рдмреЗрдЪрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдлреНрд▓реИрд╢ рдбреНрд░рд╛рдЗрд╡ рдлреЙрд░реНрдо рдлреИрдХреНрдЯрд░ рдореЗрдВ рдПрдХ рд╕рдорд╛рди рдПрдбреЙрдкреНрдЯрд░ рдЪреАрди рдореЗрдВ $ 5 рдХреЗ рд▓рд┐рдП рдЦрд░реАрджрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рд░реВрд╕реА рд╕реНрдЯреЛрд░реНрд╕ рдореЗрдВ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рдорд╣рдВрдЧрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">AVR рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдкрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдУрдкрди-рд╕реЛрд░реНрд╕</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдбреЗрдкреНрдЯрд░ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрдЯ</font></a><font style="vertical-align: inherit;"> рднреА рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рддреБрд░рдВрдд рдЙрдбрд╝рд╛рди рднрд░рдиреЗ рдХреА рддреАрд╡реНрд░ рдЗрдЪреНрдЫрд╛ рдореЗрд░реЗ рд▓рд┐рдП рджреЗрд░ рд╢рд╛рдо рдХреЛ рдЖрдИ, рдЬрдм рд╕рднреА рдореЙрд╕реНрдХреЛ рд╡рд┐рдорд╛рди рдореЙрдбрд▓ рд╕реНрдЯреЛрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмрдВрдж рдереЗред </font><font style="vertical-align: inherit;">рдореИрдВ рд╕реБрдмрд╣ рдЗрдВрддрдЬрд╛рд░ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рдПрдЯреАрдореЗрдЧрд╛ рдХреЗ рд╕рд╛рде рдмреЛрд░реНрдб рдХреЛ рдЬрд╣рд░ рдФрд░ рдорд┐рд▓рд╛рдк рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рд╕рдордп рдирд╣реАрдВ рдерд╛, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдПрд╕рдЯреАрдПрдо 32 рдПрдл 3 рдбрд┐рд╕реНрдХреЛрд╡рд░реА рдмреЛрд░реНрдб рдкрд░ рдкреАрдкреАрдПрдо-рдпреВрдПрд╕рдмреА рдПрдбрд╛рдкреНрдЯрд░ рдмрдирд╛рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЬреЛ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдерд╛ рдФрд░ рдмрд╕ рд╣рд╛рде рдореЗрдВ рдерд╛ред</font></font><br>
<br>
<h3><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ</font></font></b></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдбреЗрдкреНрдЯрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">STM32F3Discovery</a>.     STM32,     USB,   . </li>
<li>  c - 3,5     ( Turnigy)   BLS-,   ,   ( Discovery).</li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">STM32CubeMX</a>. </li>
<li>IDE    ARM.   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Keil uVision 5</a>.          32 ,      .</li>
<li> Turnigy 9X     PPM-.       FlySky FS-i6.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдбрд┐рд╕реНрдХрд╡рд░реА рдбрд┐рдмрдЧ рдмреЛрд░реНрдб рдХрд╛рдлреА рдорд╣рдВрдЧреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╡рд░реНрдгрд┐рдд F3 рдХреА рд▓рд╛рдЧрдд рд▓рдЧрднрдЧ $ 20 рд╣реИ рдФрд░ рдЗрд╕ рддрд░рд╣ рдХреА рд╕рд░рд▓ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХреА рдХреНрд╖рдорддрд╛рдПрдВ рдмреЗрдорд╛рдиреА рд╣реИрдВред </font><font style="vertical-align: inherit;">рдореИрдВрдиреЗ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдХреНрдпреЛрдВрдХрд┐ рд▓рд┐рдЦрдиреЗ рдХреЗ рд╕рдордп рдпрд╣ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ USB рдХреЗ рд╕рд╛рде рдПрдХрдорд╛рддреНрд░ рдмреЛрд░реНрдб рдерд╛ рдЬреЛ рдореБрдЭреЗ рдШрд░ рдкрд░ рдорд┐рд▓рд╛ рдерд╛ред </font><font style="vertical-align: inherit;">рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдЗрд╕реЗ рдЕрднреА рддрдХ рдирд╣реАрдВ рдЦрд░реАрджрд╛ рд╣реИ, рдореИрдВ рдЖрдкрдХреЛ рд╕рд▓рд╛рд╣ рджреЗ рд╕рдХрддрд╛ рд╣реВрдВ рдХрд┐ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 3 рдХреЗ рд▓рд┐рдП AliExpress рд╕реЗ STM32F103C8T6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рд╕рд╛рде рд▓рдШреБ рдмреЛрд░реНрдбреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ </font><font style="vertical-align: inherit;">рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ рдПрдХ рдПрд╕рдЯреА-рд▓рд┐рдВрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ред </font><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд▓реЗрдЦ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╕реЗ рднрд┐рдиреНрди рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдЬрдм рддрдХ рд╢реБрд░реБрдЖрдд рдореЗрдВ рдПрдХ рдФрд░ рдирд┐рдпрдВрддреНрд░рдХ рдЪреБрдирдирд╛ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реЛрдЧрд╛, рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рдЧреБрдВрдЬрдпрдорд╛рди рдпрдВрддреНрд░ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрдВ рдФрд░ рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рдкрд┐рдирдЖрдЙрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред</font></font><br>
<br>
<div style="text-align:center;"><img width="30%" src="https://habrastorage.org/files/cf1/88d/0a1/cf188d0a1da94acfb233350ff94830ae.jpg"></div><br>
<br>
<a name="cube"></a><h3><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STM32CubeMX рдореЗрдВ рдПрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдирд╛</font></font></b></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
STM32Cube рдПрдХ рдкреИрдХреЗрдЬ рд╣реИ рдЬрд┐рд╕реЗ STMicroelectronics рджреНрд╡рд╛рд░рд╛ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рддрд╛рдХрд┐ STM32 рдбрд┐рд╡рд╛рдЗрд╕ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдЬреАрд╡рди рдЖрд╕рд╛рди рд╣реЛ рд╕рдХреЗред рдЗрд╕рдореЗрдВ CubeMX рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдЙрдкрдпреЛрдЧрд┐рддрд╛, HAL рдбреНрд░рд╛рдЗрд╡рд░ рдФрд░ рдорд┐рдбрд▓рд╡реЗрдпрд░ рдШрдЯрдХ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CubeMX</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдФрд░ рдмрд╛рд╣реНрдп рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдХрд░рдг рд╣реИред рдЖрд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ рдирд┐рдпрдВрддреНрд░рдХ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ, рдЖрд╡рд╢реНрдпрдХ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП рдмрдХреНрд╕реЗ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ, рдореЗрдиреВ рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдореЛрдб рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдХрдИ рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рд╡рд╛рдВрдЫрд┐рдд рдорд╛рди рджрд░реНрдЬ рдХрд░реЗрдВред CubeMX рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЙрддреНрдкрдиреНрди рдХрд░реЗрдЧрд╛ рдФрд░ рдЖрд╡рд╢реНрдпрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЛ рдЗрд╕рд╕реЗ рдЬреЛрдбрд╝ рджреЗрдЧрд╛ред рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдбреЗрд╡рд▓рдкрд░ рдХреЗрд╡рд▓ рдЖрд╡реЗрджрди рдХрд╛ рддрд░реНрдХ рд▓рд┐рдЦреЗрдЧрд╛ред </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдЪрдПрдПрд▓ рдбреНрд░рд╛рдЗрд╡рд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдПрдмреНрд╕реНрдЯреНрд░реЗрдХреНрд╢рди рд▓реЗрдпрд░) рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рдореЙрдбреНрдпреВрд▓ рдФрд░ рдмрд╛рд╣реНрдп рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдПрдкреАрдЖрдИ рд╣реИред HAL рдЖрдкрдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдКрдкрд░реА рдкрд░рдд рдХреЛ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬреЛ рдбреЗрд╡рд▓рдкрд░ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рд╕реЗ рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ STM32 рдирд┐рдпрдВрддреНрд░рдХ рдкрд░рд┐рд╡рд╛рд░реЛрдВ рдХреЗ рдмреАрдЪ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛрдб рдХреЛ рдпрдерд╛рд╕рдВрднрд╡ рдкреЛрд░реНрдЯреЗрдмрд▓ рдмрдирд╛рддрд╛ рд╣реИред </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Middlewares</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдпрд╛ рдордзреНрдпрд╡рд░реНрддреА рдШрдЯрдХреЛрдВ, рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо FreeRTOS, рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо, рдпреВрдПрд╕рдмреА рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ, рдЯреАрд╕реАрдкреА / рдЖрдИрдкреА, рдЖрджрд┐ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рд╢рд╛рдорд┐рд▓</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЕрдм рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд▓рд┐рдЦрдиреЗ рдХреЗ рдмрдЬрд╛рдп "рдорд╛рдЙрд╕ рдХреЗ рд╕рд╛рде рдкреНрд░реЛрдЧреНрд░рд╛рдо" рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рд╕рд╛рджрдЧреА рдФрд░ рд╕реБрд╡рд┐рдзрд╛ рдЗрд╕ рддрдереНрдп рдХреЛ рд░рджреНрдж рдирд╣реАрдВ рдХрд░рддреА рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдкреНрд░рд▓реЗрдЦрди рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЦрд╛рд╕рдХрд░ рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдЬрд╣рд╛рдВ рдЖрдкрдХреЛ рдЕрдзрд┐рдХрддрдо рдЧрддрд┐, рдиреНрдпреВрдирддрдо рдмрд┐рдЬрд▓реА рдХреА рдЦрдкрдд рдХреЛ рдирд┐рдЪреЛрдбрд╝рдиреЗ рдпрд╛ рдЧреИрд░-рдорд╛рдирдХ рдореЛрдб рдореЗрдВ рдмрд╛рд╣реНрдп рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </font><font style="vertical-align: inherit;">STM32Cube рдЕрднреА рддрдХ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреА рд╕рднреА рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ 100% рдХрд╡рд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЖ рд░рд╣рд╛ рд╣реИред </font><font style="vertical-align: inherit;">STMicroelectronics рд╕рдордп-рд╕рдордп рдкрд░ рдХреНрдпреВрдм рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИ, рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдмрдЧреНрд╕ рдХреЛ рдареАрдХ рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреНрдпреВрдм рд╕реНрдерд╛рдкрд┐рдд рд╣реИ, рддреЛ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдпрд╣ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рд╣реИред</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реЗрдЯрд┐рдВрдЧреНрд╕</font></font></b></h5><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/acf/6b2/4fc/acf6b24fc6c449f58c2be3b9ce9d1c1e.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд┐рдпрдВрддреНрд░рдХ рдХреА рдкрд╕рдВрдж рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред STM32CubeMX рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирдпрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">ред </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MCU рдЪрдпрдирдХрд░реНрддрд╛</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЯреИрдм рдкрд░, </font><font style="vertical-align: inherit;">рдЖрдк рдлрд╝рд┐рд▓реНрдЯрд░ рд╕реЗ рд╡рд╛рдВрдЫрд┐рдд рдирд┐рдпрдВрддреНрд░рдХ рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЪреВрдВрдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕рдорд╛рдкреНрдд рдбрд┐рдмрдЧ рдмреЛрд░реНрдб рд╣реИ, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреЛрд░реНрдб рдЪрдпрдирдХрд░реНрддрд╛</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЯреИрдм рдкрд░ </font><font style="vertical-align: inherit;">, рд╣рдореЗрдВ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STM32F3Discovery</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓рдЧрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред рдПрдХ рдмреЛрд░реНрдб рдЪреБрдирдиреЗ рдХреЗ рдмрд╛рдж, рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдФрд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдкрд┐рди рдХреЗ рд╕рд╛рде рдирд┐рдпрдВрддреНрд░рдХ рдХреА рдПрдХ рдЫрд╡рд┐ рджрд┐рдЦрд╛рдИ рджреЗрдЧреАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЦрд┐рдбрд╝рдХреА рдХреЗ рдКрдкрд░реА рд╣рд┐рд╕реНрд╕реЗ рдореЗрдВ рдЪрд╛рд░ рдмрдбрд╝реЗ рдЯреИрдм рд╣реИрдВ: </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд┐рдирдЖрдЙрдЯ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдкрд┐рди рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдФрд░ рдкреНрд░реАрд╕реЗрдЯрд┐рдВрдЧ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдПред рд╣рдо рдлрд┐рд▓рд╣рд╛рд▓ рдЗрд╕ рдкрд░ рдХрд╛рдпрдо рд╣реИрдВред </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд▓реЙрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдХреНрд▓реЙрдХ рд╕реЗрдЯрд┐рдВрдЧ, рдкреАрдПрд▓рдПрд▓, рдбрд┐рд╡рд╛рдЗрдбрд░ред </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдмрд╛рд╣реНрдп рдЙрдкрдХрд░рдгреЛрдВ рдФрд░ рдорд┐рдбрд▓рд╡реЗрдпрд░ рдХреЗ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рдиред</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╛рд╡рд░ рдХрдВрдЬрдореНрдкрд╢рди рдХреИрд▓рдХреБрд▓реЗрдЯрд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рджреНрд╡рд╛рд░рд╛ рдЙрдкрднреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдмрд┐рдЬрд▓реА рдХреА рдЧрдгрдирд╛ред </font><i><font style="vertical-align: inherit;">рдкрд┐рдирдЖрдЙрдЯ</font></i></font><br>
<br>
<img src="https://habrastorage.org/files/d02/a54/3a7/d02a543a7fe148d99d67ae83ad6a8fc9.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдЯреИрдм рдкрд░ рдмрд╛рдПрдВ рдореЗрдиреВ рдореЗрдВ, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдк</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╡рд╛рдВрдЫрд┐рдд рдмрд╛рд╣реНрдп рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ </font><i><font style="vertical-align: inherit;">рдХрд░</font></i><font style="vertical-align: inherit;"> рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдирд┐рдпрдВрддреНрд░рдХ рд╕рд░реНрдХрд┐рдЯ рдкрд░ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рдХрд┐рд╕реА рднреА рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред рдмрд╛рдИрдВ рдУрд░ рдХреБрдЫ рдЖрдЗрдЯрдо рдкреНрд░рддреАрдХ рд╣реИрдВред рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдореЙрдбреНрдпреВрд▓ (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ ADC, DAC, OPAMP2, RTC) рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдм рдЕрдкреВрд░реНрдг рд░реВрдк рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЙрдирдХреЗ рдХреБрдЫ рдЖрдЙрдЯрдкреБрдЯ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдиреНрдп рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рд╣реИрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдирд┐рдпрдВрддреНрд░рдХ рд╕рд░реНрдХрд┐рдЯ рдкрд░ рд╣рд░реЗ рд░рдВрдЧ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рдкрд┐рди рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдП рдЧрдП рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЪреВрдВрдХрд┐ рд╣рдордиреЗ рд╕реНрдЯреНрд░реИрдкрд┐рдВрдЧ рдХреЗ рдмрд┐рдирд╛ рдПрдХ рдирдВрдЧреЗ рдирд┐рдпрдВрддреНрд░рдХ рдХреЛ рдирд╣реАрдВ рдЪреБрдирд╛, рд▓реЗрдХрд┐рди рдПрдХ рддреИрдпрд╛рд░ рдХрд┐рдП рдЧрдП F3- рдбрд┐рд╕реНрдХрд╡рд░реА рдбрд┐рдмрдЧрд┐рдВрдЧ рдмреЛрд░реНрдб рдореЗрдВ рд╕реЗ рдХреБрдЫ рдЖрдЙрдЯрдкреБрдЯ рдкрд╣рд▓реЗ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдиреАрд▓рд╛ рдмрдЯрди PA0 рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реИ, рдФрд░ PE8 ... 15 рд╕реЗ рдПрд▓ рдИ рдбреАред </font><font style="vertical-align: inherit;">рд╡реЗ рдкрд┐рди рдЬрд┐рдирдХреЗ рд▓рд┐рдП рдХреБрдЫ рдмрд╛рд╣рд░реА рдЙрдкрдХрд░рдг рдбрд┐рд╕реНрдХрд╡рд░реА рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реИрдВ, рдХреЛ рдирд╛рд░рдВрдЧреА рдореЗрдВ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЙрдирдХреЗ рд▓рд┐рдП рдкрд░рд┐рдзреАрдп рдореЙрдбреНрдпреВрд▓ рдЕрднреА рддрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд┐рдП рдЧрдП рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдпреЗ USB рдХреЗ рд▓рд┐рдП рдкрд┐рди, рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рд░реЗрдЬрд╝реЛрдирд░реЗрдЯрд░, SPI рдФрд░ I2C рдХреЗ рд▓рд┐рдП gyroscope рдФрд░ рдХрдореНрдкрд╛рд╕, USB рдХреЗ рд▓рд┐рдП DP рдФрд░ DM рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдЧреНрд░реЗ рдирд┐рд╖реНрдХрд░реНрд╖реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЙрдирдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рд╣рдо рдЕрдкрдиреЗ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрд╡реЗрджрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрдирдкреБрдЯ рдЪрдпрди</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рджрд╛рд▓реЛрдВ рдХреА рдЕрд╡рдзрд┐ рдкрд░ рдХрдмреНрдЬрд╛ рдХрд░рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЗрдирдкреБрдЯ рдХреЛ рдХрд┐рд╕реА рднреА рдЯрд╛рдЗрдорд░ рдХреЗ рдПрдХ рдЪреИрдирд▓ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЯрд░реНрдирдЬреА 9 рдПрдХреНрд╕ рдХреЗ рд╕рд╛рде рд╕рд┐рдЧреНрдирд▓ рд╕реНрддрд░ рдПрд╕рдЯреАрд╡реА 32 рдХреА рдЖрдкреВрд░реНрддрд┐ рд╡реЛрд▓реНрдЯреЗрдЬ рдХреА рддрд░рд╣ 3.3 рд╡реА рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди 5 рд╡реА рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдо рд╡реЛрд▓реНрдЯреЗрдЬ рд╡рд┐рднрдХреНрдд рдХреЛ рдорд┐рд▓рд╛рдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЖрд▓рд╕реА рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдПрдХ рдЗрдирдкреБрдЯ рдЪреБрдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ 5 рд╡реА рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ (рдЗрди рдЖрджрд╛рдиреЛрдВ рдХреЛ 5 рд╡реА-рд╕рд╣рд┐рд╖реНрдгреБ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ)ред </font><font style="vertical-align: inherit;">рдкрд┐рди </font><i><font style="vertical-align: inherit;">рдФрд░ рдкрд┐рди рд╡рд┐рд╡рд░рдг</font></i><font style="vertical-align: inherit;"> рдЕрдиреБрднрд╛рдЧ рдореЗрдВ STM32F303VCT6 рдкрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЗрдЯрд╛рд╢реАрдЯ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдЙрдкрдпреБрдХреНрдд рдкрд┐рди рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">STM32F3 рдореЗрдВ рдХрдИ рдЯрд╛рдЗрдорд░ рд╣реИрдВ, рд╡реЗ рд▓рдЧрднрдЧ рд╕рднреА рдкрд┐рдиреЛрдВ рдореЗрдВ рдмрд┐рдЦрд░реЗ рд╣реБрдП рд╣реИрдВред </font><font style="vertical-align: inherit;">рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╡рд┐рдХрд▓реНрдк рдкреАрд╕реА 6 рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ 5 рд╡реЛрд▓реНрдЯ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЬреАрдПрдирдбреА рдХреЗ рдмрдЧрд▓ рдореЗрдВ рдмреЛрд░реНрдб рдХреЗ рдирд┐рдЪрд▓реЗ рдмрд╛рдПрдВ рдХреЛрдиреЗ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕ рдкрд┐рди рдХреЛ 3rd рдЯрд╛рдЗрдорд░ TIM3_CH1 рдХреЗ 1 рдЪреИрдирд▓ рдХреЛ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВред</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/eb7/4b2/67e/eb74b267e70140b9842408158de617e8.png"></div><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдШрдбрд╝реА рдХреА рд╕реЗрдЯрд┐рдВрдЧ</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпреВрдПрд╕рдмреА рдХреЗ рд▓рд┐рдП, рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рдмрд╣реБрдд рд╕реНрдерд┐рд░ рдЖрд╡реГрддреНрддрд┐ рдкрд░ рджреЗрдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рд▓рдЧрднрдЧ рд╕рднреА рдпреВрдПрд╕рдмреА рдЙрдкрдХрд░рдгреЛрдВ рдореЗрдВ рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рд░рд┐рд╕рд╛рдЗрдЬрд╝рд░ рд╣реЛрддреЗ рд╣реИрдВред рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдЖрд░рд╕реА рдЬрдирд░реЗрдЯрд░ рдХреА рдЖрд╡реГрддреНрддрд┐ рд╕реНрдерд┐рд░рддрд╛ рдпреВрдПрд╕рдмреА рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИред рд▓реЗрдХрд┐рди STM32F3 рдбрд┐рд╕реНрдХрд╡рд░реА рдмреЛрд░реНрдб рдкрд░, рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рд▓рд╛рд▓рдЪреА рдереЗ рдФрд░ рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рдирд╣реАрдВ рдбрд╛рд▓рддреЗ рдереЗред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдЧрд░ рдЖрдк рдзреНрдпрд╛рди рд╕реЗ рдЕрдзреНрдпрдпрди </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд░реНрдХрд┐рдЯ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ </font><i><font style="vertical-align: inherit;">MCO</font></i><font style="vertical-align: inherit;"> рд╕рдВрдХреЗрдд рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ </font><font style="vertical-align: inherit;">рдЗрдирдкреБрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PF0-OSC_IN</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЬрд╣рд╛рдВ рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП </font><font style="vertical-align: inherit;">ред рдпрд╣ рдПрд╕рдЯреА-рд▓рд┐рдВрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рд╕реЗ рдЙрд╕реА рдмреЛрд░реНрдб рдкрд░ рдЖрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рд╣реИред </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рдкреНрд░рдпреЛрдХреНрддрд╛ рдореИрдиреБрдЕрд▓</font></a><font style="vertical-align: inherit;"> рдореЗрдВ F3 рдбрд┐рд╕реНрдХрд╡рд░реА (UM1570) рдХреЗ рд▓рд┐рдП </font><i><font style="vertical-align: inherit;">рдУрдПрд╕рд╕реА рдШрдбрд╝реА</font></i><font style="vertical-align: inherit;"> рдЕрдиреБрднрд╛рдЧ </font><font style="vertical-align: inherit;">рдХрд╛ рдХрд╣рдирд╛ рд╣реИ рдХрд┐ 8 рдореЗрдЧрд╛рд╣рд░реНрдЯреНрдЬ рдХреА рдЬрд╛ рд░рд╣реА рд╣реИ </font><font style="vertical-align: inherit;">рднреЗрдЬрд╛ </font><font style="vertical-align: inherit;">рдЗрд╕ рд▓рд╛рдЗрди рдХреЗ рд▓рд┐рдПред</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<img width="30%" src="https://habrastorage.org/files/b5c/234/80f/b5c23480ffca498d8e52e6fef4c0892f.png"><img width="65%" src="https://habrastorage.org/files/c00/160/fb8/c00160fb809b4c7190390d8a8ccd3ac6.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рдмрд╛рд╣рд░реА рд╕реНрд░реЛрдд рд╕реЗ рджреЗрдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕ рд╡рд┐рдзрд╛ рдХреЛ рдмрд╛рдИрдкрд╛рд╕ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдореЗрдВ рдкрд░рд┐рдзреАрдп рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдиреВ рдореЗрдВ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд░рд╕реАрд╕реА</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдиреБрднрд╛рдЧ, </font><font style="vertical-align: inherit;">clocking рдХреЗ рд▓рд┐рдП </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рд╛рдИ рд╕реНрдкреАрдб рдШрдбрд╝реА,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЪрдпрди </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╛рдИрдкрд╛рд╕ рдШрдбрд╝реА рд╕реНрд░реЛрдд</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br>
<img src="https://habrastorage.org/files/934/7e5/17e/9347e517e21540a88c922d35d881c009.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдШрдбрд╝реА рд╕реЗрдЯрд┐рдВрдЧ рдкрд░ рдЖрдЧреЗ рдмрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдкрд░рд┐рдзреАрдп рдореЗрдиреВ рдореЗрдВ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдПрдХ рдпреВрдПрд╕рдмреА рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░реЗрдЧрд╛ред </font></font><br>
<br>
<img src="https://habrastorage.org/files/597/c20/ddb/597c20ddbe2e4c2898c90db97110e454.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рдЖрдк рдЕрдЧрд▓реЗ рдмрдбрд╝реЗ рдЯреИрдм рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд▓реЙрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред рдпрд╣рд╛рдВ рд╣рдо рдПрдХ рд╡рд┐рд╢рд╛рд▓ рдЖрд░реЗрдЦ рджреЗрдЦреЗрдВрдЧреЗ, рдЬреЛ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдореЗрдВ рдХреМрди рд╕реЗ рдШрдбрд╝реА рд╕рдВрдХреЗрдд рдореМрдЬреВрдж рд╣реИрдВ, рдЬрд╣рд╛рдВ рд╕реЗ рд╡реЗ рдЖрддреЗ рд╣реИрдВ, рд╡реЗ рдХреИрд╕реЗ рд╢рд╛рдЦрд╛ рдХрд░рддреЗ рд╣реИрдВ, рдЧреБрдгрд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдкреАрд▓реЗ рд░рдВрдЧ рдореЗрдВ, рдореИрдВрдиреЗ рдЙрди рдорд╛рдкрджрдВрдбреЛрдВ рдкрд░ рдкреНрд░рдХрд╛рд╢ рдбрд╛рд▓рд╛, рдЬрд┐рди рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </font></font><br>
<br>
<img src="https://habrastorage.org/files/1a5/9a8/596/1a59a8596d434c1f8d09ee5e8335adee.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрдирдкреБрдЯ рдЖрд╡реГрддреНрддрд┐ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрдирдкреБрдЯ рдлреНрд░рд┐рдХреНрд╡реЗрдВрд╕реА</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8 рдореЗрдЧрд╛рд╣рд░реНрдЯреНрдЬ рд╣реИред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо </font><font style="vertical-align: inherit;">рдЖрдВрддрд░рд┐рдХ рд╕реНрд░реЛрдд рдХреЗ рдмрдЬрд╛рдп рдмрд╛рд╣рд░реА рд╕реНрд░реЛрдд рд╕реЗ рдШрдбрд╝реА рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП </font><i><font style="vertical-align: inherit;">HSE</font></i><font style="vertical-align: inherit;"> (рд╣рд╛рдИ рд╕реНрдкреАрдб рдПрдХреНрд╕рдЯрд░реНрдирд▓) рдХреЛ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PLL рд╕реЛрд░реНрд╕ Mux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реНрд╡рд┐рдЪ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font><i><font style="vertical-align: inherit;">рдкреАрдПрд▓рдПрд▓</font></i><font style="vertical-align: inherit;"> - рдЪрд░рдг рд▓реЙрдХ рд▓реВрдк, рдпрд╛ рдкреАрдПрд▓рдПрд▓ - рдЪрд░рдг-рд▓реЙрдХ рд▓реВрдк, рдХрдИ рдмрд╛рд░ рдмрд╛рд╣рд░реА рдЖрд╡реГрддреНрддрд┐ рдХреЛ рдЧреБрдгрд╛ рдХрд░рдиреЗ рдХрд╛ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред </font><i><font style="vertical-align: inherit;">PLLMul</font></i><font style="vertical-align: inherit;"> рдЧреБрдгрдХ </font><font style="vertical-align: inherit;">рдХреЛ 9 рдкрд░ </font><i><font style="vertical-align: inherit;">рд╕реЗрдЯ рдХрд░реЗрдВред</font></i><font style="vertical-align: inherit;"> рдлрд┐рд░ рд╣рдо STM32F303 - 72 рдореЗрдЧрд╛рд╣рд░реНрдЯреНрдЬ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрддрдо рд╕рдВрднрд╡ рдЖрд╡реГрддреНрддрд┐ рддрдХ рдкрд╣реБрдВрдЪ рдЬрд╛рдПрдВрдЧреЗред </font><i><font style="vertical-align: inherit;">рд╕рд┐рд╕реНрдЯрдо рдХреНрд▓реЙрдХ </font></i><i><font style="vertical-align: inherit;">рдордХреНрд╕ PLLCLK</font></i><font style="vertical-align: inherit;"> рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП </font><i><font style="vertical-align: inherit;">рддрд╛рдХрд┐</font></i><font style="vertical-align: inherit;"> рдШрдбрд╝реА рдХреА рдЖрд╡реГрддреНрддрд┐ PLL рдХреЗ рд╕рд╛рде рдЧреБрдгрд╛ рд╣реЛред </font><font style="vertical-align: inherit;">
рдпреВрдПрд╕рдмреА рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП, 48 рдореЗрдЧрд╛рд╣рд░реНрдЯреНрдЬ рдХреА рдЬрд░реВрд░рдд рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпреВрдПрд╕рдмреА рдХреЗ рд╕рд╛рдордиреЗ 1.5 рдбрд┐рд╡рд╛рдЗрдбрд░ рд▓рдЧрд╛рдПрдВред </font><font style="vertical-align: inherit;">
рдЖрд╡реГрддреНрддрд┐ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APB1 рдЯрд╛рдЗрдорд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд░реНрдХрд┐рдЯ рдХреЗ рдмрд╛рдИрдВ рдУрд░ </font><i><font style="vertical-align: inherit;">рджреЗрдЦрддрд╛ рд╣реИ</font></i><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдпрд╣ рдЯрд╛рдЗрдорд░ рдкрд░ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рдХреЛрдИ рдЖрд╡реГрддреНрддрд┐ рдЧрд▓рдд рддрд░реАрдХреЗ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХреА рдЧрдИ рд╣реИ, рддреЛ рдЕрдзрд┐рдХрддрдо рд╕рдВрднрд╡ рдорд╛рди рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ рдпрд╛ рд╕реНрд╡рд┐рдЪ рдПрдХ рдЕрдорд╛рдиреНрдп рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣реИрдВ, рддреЛ CubeMX рдЗрд╕ рд╕реНрдерд╛рди рдХреЛ рд▓рд╛рд▓ рд░рдВрдЧ рдореЗрдВ рдЙрдЬрд╛рдЧрд░ рдХрд░реЗрдЧрд╛ред</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯрд╛рдЗрдорд░ рд╕реЗрдЯрд┐рдВрдЧ</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд▓реНрд╕ рдЕрд╡рдзрд┐ рдХреЛ рдорд╛рдкрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЗрдирдкреБрдЯ рдХреИрдкреНрдЪрд░ рдореЛрдб рдореЗрдВ TIM3 рдЯрд╛рдЗрдорд░ рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗред рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрджрд░реНрдн рдореИрдиреБрдЕрд▓</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдзрд╛рд░рд╛ рдХреЗ рддрд╣рдд </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рдорд╛рдиреНрдп рдЙрджреНрджреЗрд╢реНрдп рдЯрд╛рдЗрдорд░ (TIM2 / TIM3 / TIM4),</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╡рд╣рд╛рдБ рдПрдХ рдЪрд┐рддреНрд░ рдЯрд╛рдЗрдорд░ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реБрдЖ рд╣реИред рд░рдВрдЧреЛрдВ рдХреЗ рд╕рд╛рде, рдореИрдВрдиреЗ рдЗрдирдкреБрдЯ рдХреИрдкреНрдЪрд░ рдореЛрдб рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрдХреЗрддреЛрдВ рдФрд░ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдкрд░ рдкреНрд░рдХрд╛рд╢ рдбрд╛рд▓рд╛ред </font></font><br>
<br>
<img src="https://habrastorage.org/files/e76/54c/ea5/e7654cea52cb46c891e5a73e91068b71.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд░реЗ рд░рдВрдЧ рдореЗрдВ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдШрдбрд╝реА рд╕рдВрдХреЗрдд рд╕реАрдПрдирдЯреА рдХрд╛рдЙрдВрдЯрд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рддрд╛ рд╣реИ рдФрд░ 1 рд╣рд░ рдШрдбрд╝реА рдЪрдХреНрд░ рджреНрд╡рд╛рд░рд╛ рдЗрд╕рдХреЗ рдореВрд▓реНрдп рдореЗрдВ рд╡реГрджреНрдзрд┐ рдХрд░рддрд╛ рд╣реИред </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реАрд╕реНрдХреВрд▓рд░ рдкреАрдПрд╕рд╕реА</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдбрд┐рд╡рд╛рдЗрдбрд░ рдореЗрдВ, </font><font style="vertical-align: inherit;">рдзреАрдореА рдЖрд╡реГрддреНрддрд┐ рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП </font><font style="vertical-align: inherit;">рдШрдбрд╝реА рдХреА рдЖрд╡реГрддреНрддрд┐ рдШрдЯ рд╕рдХрддреА рд╣реИред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ </font><font style="vertical-align: inherit;">рдмрд╛рд╣рд░реА рд╕рд┐рдЧреНрдирд▓ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIMx_CH1 рдкрд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЗрдирдкреБрдЯ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдЬ рдбрд┐рдЯреЗрдХреНрдЯрд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдЗрдирдкреБрдЯ рд╕рд┐рдЧреНрдирд▓ рдХреЗ рдХрд┐рдирд╛рд░реЛрдВ рдХреЛ рдкрд╣рдЪрд╛рдирддрд╛ рд╣реИ - 0 рд╕реЗ 1 рддрдХ рдпрд╛ 1 рд╕реЗ 0. рддрдХ рд╕рдВрдХреНрд░рдордгреЛрдВ рдХреЛ рджрд░реНрдЬ рдХрд░рддрд╛ рд╣реИред рдХрд┐рдирд╛рд░реЗ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рддреЗ рд╕рдордп, рдпрд╣ рдкреАрд▓реЗ рд░рдВрдЧ рдореЗрдВ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдП рдЧрдП рджреЛ рдХрдорд╛рдВрдб рднреЗрдЬрддрд╛ рд╣реИ: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CNT</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛рдЙрдВрдЯрд░ рдХреЗ рдорд╛рди </font><font style="vertical-align: inherit;">рдХреЛ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрдкреНрдЪрд░ / 1 рд░рдЬрд┐рд╕реНрдЯрд░ (CCR1)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CC1I</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЗрдВрдЯрд░рдкреНрдЯ </font><i><font style="vertical-align: inherit;">рдХреЙрд▓ рдХреА </font></i><i><font style="vertical-align: inherit;">рддреБрд▓рдирд╛</font></i><font style="vertical-align: inherit;"> рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрд▓реЗрд╡ рдореЛрдб рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓рд┐рдП рдПрдХ рдХрдорд╛рдВрдб </font><font style="vertical-align: inherit;">, рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CNT</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдорд╛рди </font><font style="vertical-align: inherit;">0 рдкрд░ рд░реАрд╕реЗрдЯ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рд╕реЗ рдЙрд▓рдЯреА рдЧрд┐рдирддреА рд╢реБрд░реВ рд╣реЛрддреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣рд╛рдБ рдПрдХ рд╕рдордп рд░реЗрдЦрд╛ рдореЗрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЪрд┐рддреНрд░рдг рд╣реИ:</font></font><br>
<br>
<img width="50%" src="https://habrastorage.org/files/3b5/80b/ab0/3b580bab0b894981b8d28eadd9f444b2.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдм рдХреЛрдИ рдмрд╛рдзрд╛ рдЙрддреНрдкрдиреНрди рд╣реЛрддреА рд╣реИ, рддреЛ рд╣рдо рдкрдХрдбрд╝реЗ рдЧрдП рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░реЗрдВрдЧреЗред рдпрджрд┐ рдЗрдирдкреБрдЯ рджрд╛рд▓реЗрдВ рдмрд╣реБрдд рдмрд╛рд░ рдЖрддреА рд╣реИрдВ, рдФрд░ рдмрд╛рдзрд╛ рд╣реИрдВрдбрд▓рд░ рдореЗрдВ рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдХреНрд░рд┐рдпрд╛рдПрдВ рдмрд╣реБрдд рд▓рдВрдмреА рд╣реЛрддреА рд╣реИрдВ, рддреЛ рдкрд┐рдЫрд▓реЗ рдПрдХ рдХреЛ рдкрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд╕реАрд╕реАрдЖрд░ 1 рдХреЗ рдореВрд▓реНрдп рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдЬрдм рдЖрдк CCR1 рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдореЗрдореЛрд░реА рдореЗрдВ рднрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдУрд╡рд░рдХреИрдкреНрдЯреНрдпреЛрд░ рдлреНрд▓реИрдЧ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдиреЗ рдпрд╛ рдбреАрдПрдордП (рдбрд╛рдпрд░реЗрдХреНрдЯ рдореЗрдореЛрд░реА рдПрдХреНрд╕реЗрд╕) рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдирд╛рдбрд╝реА рдХреА рдЕрд╡рдзрд┐ 1 рдорд┐рд▓реАрд╕реЗрдХрдВрдб рд╣реЛрддреА рд╣реИ, рдФрд░ рдЗрдВрдЯрд░рдкреНрдЯ рд╣реИрдВрдбрд▓рд░ рд╕рд░рд▓ рдФрд░ рдЫреЛрдЯрд╛ рд╣реЛрдЧрд╛, рдЗрд╕рд▓рд┐рдП рдУрд╡рд░рд░рд╛рдЗрдЯрд┐рдВрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рдВрддрд╛ рди рдХрд░реЗрдВред </font><i><font style="vertical-align: inherit;">рдЬрд╛рдУ</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╛рдкрд╕ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pinout</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЯреИрдм </font><font style="vertical-align: inherit;">рдФрд░ рд╕реЗрдЯ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIM3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЯрд╛рдЗрдорд░ </font><font style="vertical-align: inherit;">рдореЗрдВ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╛рд╣реНрдп рдЙрдкрдХрд░рдгреЛрдВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдиреВ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br>
<img src="https://habrastorage.org/files/437/703/50b/43770350badf4efcb4d02a11ea2f9db0.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрд▓реЗрд╡ рдореЛрдб: рд░реАрд╕реЗрдЯ рдореЛрдб</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХрд┐рд╕реА рдШрдЯрдирд╛ рдореЗрдВ рдЯрд╛рдЗрдорд░ рдХреЛ 0. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреНрд░рд╛рдЗрдЧрд░ рд╕реНрд░реЛрдд рдкрд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд░реАрд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </font><i><font style="vertical-align: inherit;">: TI1FP1</font></i><font style="vertical-align: inherit;"> - рдЯрд╛рдЗрдорд░ рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдФрд░ рд╕реНрдЯрд╛рд░реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдШрдЯрдирд╛ TI1 рдЗрдирдкреБрдЯ рд╕реЗ рдХреИрдкреНрдЪрд░ рдХрд┐рдП рдЧрдП рд╕рд┐рдЧреНрдирд▓ рдПрдЬ рд╣реИред </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд▓реЙрдХрд╕реЛрд░реНрд╕: рдЖрдВрддрд░рд┐рдХ рдШрдбрд╝реА</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдЯрд╛рдЗрдорд░ рдХреЛ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рдЖрдВрддрд░рд┐рдХ рдЬрдирд░реЗрдЯрд░ рд╕реЗ рджреЗрдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪреИрдирд▓ 1: рдЗрдирдкреБрдЯ рдХреИрдкреНрдЪрд░ рдбрд╛рдпрд░реЗрдХреНрдЯ рдореЛрдб</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - CCR1 рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ 1 рдЪреИрдирд▓ рд╕реЗ рдЗрдВрдЯрд░рд╡рд▓ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдЧрд▓реЗ рдмрдбрд╝реЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЯреИрдм рдкрд░, рд╣рдо </font><font style="vertical-align: inherit;">рдЕрддрд┐рд░рд┐рдХреНрдд рдЯрд╛рдЗрдорд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХрд░реЗрдВрдЧреЗред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/db8/b67/8d8/db8b678d8f7846c9af081a0bfdb0d7b1.png"></div><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/63b/6ac/c06/63b6acc06716451399d01566635d2f87.png"></div><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реАрд╕реНрдХреВрд▓рд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рдЯрд╛рдЗрдорд░ рдбрд┐рд╡рд╛рдЗрдбрд░ рд╣реИред рдпрджрд┐ рдпрд╣ 0 рд╣реИ, рддреЛ рдлреНрд░реАрдХреНрд╡реЗрдВрд╕реА рдХреЛ рд╕реАрдзреЗ рдХреНрд▓реЙрдХ рдмрд╕ APB рдХреНрд▓реЙрдХ - 72 MHz рд╕реЗ рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрджрд┐ рдкреНрд░реАрд╕реНрдХреВрд▓рд░ 1 рд╣реИ, рддреЛ рдЖрд╡реГрддреНрддрд┐ 2 рд╕реЗ рд╡рд┐рднрд╛рдЬрд┐рдд рд╣реЛрддреА рд╣реИ рдФрд░ 36 рдореЗрдЧрд╛рд╣рд░реНрдЯреНрдЬ рдмрди рдЬрд╛рддреА рд╣реИред рд╡рд┐рднрд╛рдЬрдХ рдХреЛ 71 рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЖрд╡реГрддреНрддрд┐ 72 рд╕реЗ рд╡рд┐рднрд╛рдЬрд┐рдд рд╣реЛред рдлрд┐рд░ рдЯрд╛рдЗрдорд░ рдЖрд╡реГрддреНрддрд┐ 1 рдореЗрдЧрд╛рд╣рд░реНрдЯреНрдЬ рд╣реЛрдЧреА рдФрд░ рдЕрдВрддрд░рд╛рд▓ рдХреЛ 1 рдорд╛рдЗрдХреНрд░реЛрд╕реЗрдХрдВрдб рдХреЗ рд╕рдВрдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдорд╛рдкрд╛ рдЬрд╛рдПрдЧрд╛ред </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рдЙрдВрдЯрд░ рдЕрд╡рдзрд┐</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдЕрдзрд┐рдХрддрдо рд╕рдВрднрд╡ 16-рдмрд┐рдЯ рдорд╛рди 0xFFFF рд╕реЗрдЯ рдХрд░реЗрдВред рд╕рдордп рд╕реНрд▓реЙрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд╡рдзрд┐ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкреАрдбрдмреНрд▓реВрдПрдо рдХреЗ рд▓рд┐рдПред рд▓реЗрдХрд┐рди рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд╡рдзрд┐ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ, рд╣рдо рдЗрд╕реЗ рдХрд┐рд╕реА рднреА рдЗрдирдкреБрдЯ рджрд╛рд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдмрдбрд╝реЗ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдирддреЗ рд╣реИрдВред </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Polarity Selection: рдлрд╝реЙрд▓рд┐рдВрдЧ рдПрдЬ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдЯрд╛рдЗрдорд░ рд╕рд┐рдЧреНрдирд▓ рдЗрдирдкреБрдЯ рд╕рд┐рдЧреНрдирд▓ рдХреЗ рдЧрд┐рд░рддреЗ рд╣реБрдП рдХрд┐рдирд╛рд░реЗ рдкрд░ рдХреИрдкреНрдЪрд░ рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗред </font><i><font style="vertical-align: inherit;">рдПрдирд╡реАрдЖрдИрд╕реА рд╕реЗрдЯрд┐рдВрдЧреНрд╕</font></i></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдЯреИрдм рдкрд░, </font><font style="vertical-align: inherit;">рдПрдХ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЙрд╡ рд▓рдЧрд╛рдПрдВ</font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIM3 рд╡реИрд╢реНрд╡рд┐рдХ рд╡реНрдпрд╡рдзрд╛рди</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рддрд╛рдХрд┐ рддреАрд╕рд░реА рдЯрд╛рдЗрдорд░ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдШрдЯрдирд╛рдУрдВ рдореЗрдВ рдПрдХ рд╡реНрдпрд╡рдзрд╛рди рдЙрддреНрдкрдиреНрди рд╣реЛред</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗрдЯрдЕрдк</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА рдиреЛрдЯ рдХрд┐рдпрд╛ рд╣реИ рдХрд┐ рдирд┐рдпрдВрддреНрд░рдХ рдПрдХ рдпреВрдПрд╕рдмреА рдбрд┐рд╡рд╛рдЗрд╕ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдХреЗ рдмрд╛рдж рд╕реЗ рдЬреЙрдпрд╕реНрдЯрд┐рдХ HID рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд╡рд░реНрдЧ рдореЗрдВ рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдЖрддрд╛ рд╣реИ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Middlewares&gt; USB_DEVICE рдореЗрдиреВ,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЪрдпрди </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реНрдпреВрдорди рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдХреНрд▓рд╛рд╕ (HID): рдХрдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП FS рдЖрдИрдкреА</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдлрд┐рд░ CubeMX HID рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдЧрд╛ред </font></font><br>
<br>
<img src="https://habrastorage.org/files/3fe/080/472/3fe0804729bd4b2f995c5f32a9173d47.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдЗрдП </font><font style="vertical-align: inherit;">, </font><i><font style="vertical-align: inherit;">Middlewares</font></i><font style="vertical-align: inherit;"> рдЕрдиреБрднрд╛рдЧ рдореЗрдВ </font><i><font style="vertical-align: inherit;">рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди</font></i><font style="vertical-align: inherit;"> рдЯреИрдм рдкрд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB_DEVICE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗрдЯрд┐рдВрдЧреНрд╕ </font><font style="vertical-align: inherit;">рдкрд░ рдЬрд╛рдПрдВ </font><font style="vertical-align: inherit;">:</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/574/ba7/dde/574ba7dde3794ce4911f955e628f7ce7.png"></div><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рдХреНрд░реЗрддрд╛ рдЖрдИрдбреА</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрддреНрдкрд╛рдж рдЖрдИрдбреА</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреЛ 16-рдмрд┐рдЯ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рд╣реИрдВ рдЬреЛ рдпреВрдПрд╕рдмреА рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдореЙрдбрд▓ рдХреЗ рд▓рд┐рдП рдЕрджреНрд╡рд┐рддреАрдп рд╣реИрдВред VID рдбрд┐рд╡рд╛рдЗрд╕ рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ, рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдирд┐рд░реНрдорд╛рддрд╛ PID рдЕрд╕рд╛рдЗрди рдХрд░рддрд╛ рд╣реИ, рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╡рд┐рдЪрд╛рд░реЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджреЗрд╢рд┐рддред рдореБрдЭреЗ VID рдФрд░ PID рдХреА рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реВрдЪреА рдирд╣реАрдВ рдорд┐рд▓реА, рдореБрдЭреЗ рдХреЗрд╡рд▓ </font><font style="vertical-align: inherit;">рдЙрддреНрд╕рд╛рд╣реА рд▓реЛрдЧреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдЖрдзрд╛рд░</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдорд┐рд▓рд╛ </font><font style="vertical-align: inherit;">ред рдЕрдкрдиреА рдЦреБрдж рдХреА рд╡реЗрдВрдбрд░ рдЖрдИрдбреА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usb.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ USB рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдлреЛрд░рдо рдореЗрдВ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рдЬрд╛рдирд╛ рд╣реЛрдЧрд╛</font></a><font style="vertical-align: inherit;"> рдФрд░ рдХреБрдЫ рд╣рдЬрд╝рд╛рд░ рдбреЙрд▓рд░ рдХрд╛ рднреБрдЧрддрд╛рди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдЫреЛрдЯреА рдХрдВрдкрдирд┐рдпрд╛рдБ рдпрд╛ рдУрдкрди-рд╕реЛрд░реНрд╕ рдбреЗрд╡рд▓рдкрд░ рдЬреЛ рдЕрдкрдирд╛ VID рдирд╣реАрдВ рдЦрд░реАрдж рд╕рдХрддреЗ, USB рдЪрд┐рдк рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рддреМрд░ рдкрд░ рдЕрдкрдиреЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП VID / PID рдЬреЛрдбрд╝реА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рддрд░рд╣ рдХреА рд╕реЗрд╡рд╛ рдХреА рдкреЗрд╢рдХрд╢ рдХреА рдЬрд╛рддреА рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдлрдЯреАрдбреАрдЖрдИ рдпрд╛ рд╕рд┐рд▓рд┐рдХреЙрди рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рдЖрдк рджреЛ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдПрдХ рд╣реА VID / PID рд╕реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХрд╛рд░ рдХрд╛ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдПрдХ HID рдбрд┐рд╡рд╛рдЗрд╕ рд╣реИ рдФрд░ рджреВрд╕рд░рд╛ рдорд╛рд╕ рд╕реНрдЯреЛрд░реЗрдЬ рд╣реИ), рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдЙрдирдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рдбреНрд░рд╛рдЗрд╡рд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдЧрд╛, рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдХрдо рд╕реЗ рдХрдо рдПрдХ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рд╡рд┐рднрд┐рдиреНрди рдбрд┐рд╡рд╛рдЗрд╕ рдореЙрдбрд▓ рдХреЗ рд▓рд┐рдП VID / PID рдЬреЛрдбрд╝реЗ рдЕрджреНрд╡рд┐рддреАрдп рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЪреВрдБрдХрд┐ рд╣рдо рдЕрдкрдиреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдХрд░рдг рдирд╣реАрдВ рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВ, рд╣рдо рдЗрд╕реЗ рдмреЗрдЪрдиреЗ рдФрд░ рд╡рд┐рддрд░рд┐рдд рдирд╣реАрдВ рдХрд░рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ, рд╣рдо VID 0x0483 рдХреЛ рдЫреЛрдбрд╝ рджреЗрдВрдЧреЗ, рдЬреЛ STMicroelectronics рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ, рдФрд░ рд╣рдо рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ PID рдХреЗ рд╕рд╛рде рдЖрдПрдВрдЧреЗред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, CubeMX HID рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд▓рд┐рдП PID 0x5710 рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдЗрд╕реЗ рдмрджрд▓реЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 0x57FF рдХреЗ рд╕рд╛рдеред </font><i><font style="vertical-align: inherit;">рдЙрддреНрдкрд╛рдж рд╕реНрдЯреНрд░рд┐рдВрдЧ</font></i><font style="vertical-align: inherit;"> рдХреЛ </font><i><font style="vertical-align: inherit;">STM32 PPM-USB рдПрдбрд╛рдкреНрдЯрд░ рд╕реЗ</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдмрджрд▓реЗрдВ</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдпрд╣ рдирд╛рдо рд╡рд┐рдВрдбреЛрдЬ рдХрдВрдЯреНрд░реЛрд▓ рдкреИрдирд▓ рдореЗрдВ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред рд╣рдо рдЕрднреА рд╕реАрд░рд┐рдпрд▓ рдирдВрдмрд░ (S \ N) рдирд╣реАрдВ рдмрджрд▓реЗрдВрдЧреЗред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдм Windows рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ VID, PID рдФрд░ S \ N рдХреЗ рд╕рдВрдпреЛрдЬрди рдХреЗ рд╕рд╛рде рдПрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИ, рдЬреЛ рдкрд╣рд▓реЗ рдирд╣реАрдВ рджреЗрдЦрд╛ рд╣реИ, рддреЛ рд╕рд┐рд╕реНрдЯрдо рдЗрд╕рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдбреНрд░рд╛рдЗрд╡рд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред рдпрджрд┐ VID, PID рдФрд░ S \ N рдХреЗ рд╕рдВрдпреЛрдЬрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдкрд╣рд▓реЗ рд╣реА рдХрд┐рдпрд╛ рдЬрд╛ рдЪреБрдХрд╛ рд╣реИ, рддреЛ Windows рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкрд╣рд▓реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдбреНрд░рд╛рдЗрд╡рд░ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рджреЗрддрд╛ рд╣реИред рдЖрдк рдЗрд╕реЗ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм рдЖрдк рдлреНрд▓реИрд╢ рдбреНрд░рд╛рдЗрд╡ рдХреЛ рдпреВрдПрд╕рдмреА рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВред рдкрд╣рд▓реА рдмрд╛рд░ рдХрдиреЗрдХреНрдЯ рдФрд░ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдореЗрдВ рдХреБрдЫ рд╕рдордп рд▓рдЧрддрд╛ рд╣реИред рдмрд╛рдж рдХреЗ рдХрдиреЗрдХреНрд╢рди рдкрд░, рдбреНрд░рд╛рдЗрд╡ рд▓рдЧрднрдЧ рддреБрд░рдВрдд рдХрд╛рдо рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рдЖрдк рдПрдХ рд╣реА рдореЙрдбрд▓ рдХреЗ рдлреНрд▓реИрд╢ рдбреНрд░рд╛рдЗрд╡ рдХрд╛ рдПрдХ рдФрд░ рдЙрджрд╛рд╣рд░рдг рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдПрдХ рдЕрд▓рдЧ рд╕реАрд░рд┐рдпрд▓ рдирдВрдмрд░ рдХреЗ рд╕рд╛рде, рд╕рд┐рд╕реНрдЯрдо рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдбреНрд░рд╛рдЗрд╡рд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдЧрд╛, рднрд▓реЗ рд╣реА рдЙрд╕рдХреЗ рдкрд╛рд╕ рдПрдХ рд╣реА VID рдФрд░ PID рд╣реЛред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ рд╕рдордЭрд╛рдКрдВрдЧрд╛ рдХрд┐ рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХреНрдпреЛрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдкрдиреЗ рдЕрдкрдиреЗ VID, PID рдФрд░ S \ N рдХреЗ рд╕рд╛рде STM32 рдкрд░ USB рдорд╛рдЙрд╕ рдмрдирд╛рдпрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд┐рдпрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ VID, PID рдФрд░ S \ N рдХреЛ рдмрджрд▓реЗ рдмрд┐рдирд╛ USB рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдмрдирд╛рдпрд╛ рд╣реИ, рддреЛ Windows рдирдП рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдПрдХ рдорд╛рдЙрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдиреБрднрд╡ рдХрд░реЗрдЧрд╛ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╣реИ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдбреНрд░рд╛рдЗрд╡рд░ рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рддрджрдиреБрд╕рд╛рд░, рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рдЕрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдмрджрд▓рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ VID / PID рдХреЛ рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рдд рдЫреЛрдбрд╝рдХрд░, рдЗрд╕рдХреЗ рд╕реАрд░рд┐рдпрд▓ рдирдВрдмрд░ рдХреЛ рдмрджрд▓рдирд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВред</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDE рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЬрдирд░реЗрд╢рди</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдВрддрд┐рдо рд╕реЗрдЯрд┐рдВрдЧ рдЬреЛ рдЖрдкрдХреЛ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд╡рд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЬрдирд░реЗрд╢рди рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╣реИрдВред рдпрд╣ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрдЯ -&gt; рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">... рд╡рд╣рд╛рдВ рд╣рдо рдирд╛рдо, рдЧрдВрддрд╡реНрдп рдлрд╝реЛрд▓реНрдбрд░ рдФрд░ рд╡рд╛рдВрдЫрд┐рдд рдЖрдИрдбреАрдИ рд╕реЗрдЯ рдХрд░реЗрдВрдЧреЗ, рдЬрд┐рд╕рдХреЗ рддрд╣рдд CubeMX рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░реЗрдЧрд╛ред рдореИрдВрдиреЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MDK-ARM V5 рдХреЛ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЪреБрдирд╛ </font><font style="vertical-align: inherit;">, рдХреНрдпреЛрдВрдХрд┐ рдореИрдВ Keil uVision 5 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб рдЬрдирд░реЗрдЯрд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЯреИрдм рдкрд░, </font><font style="vertical-align: inherit;">рдЖрдк </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗрд╡рд▓ рдЖрд╡рд╢реНрдпрдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдлрд╝рд╛рдЗрд▓реЛрдВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреА </font><i><font style="vertical-align: inherit;">рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдХреЙрдкреА</font></i><font style="vertical-align: inherit;"> рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">рддрд╛рдХрд┐ </font><font style="vertical-align: inherit;">рдЕрдирд╛рд╡рд╢реНрдпрдХ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдЕрд╡реНрдпрд╡рд╕реНрдерд┐рдд рди рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмрдЯрди рджрдмрд╛рдПрдВ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрдЯ -&gt; рдХреЛрдб рдЬрдирд░реЗрдЯ рдХрд░реЗрдВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред CubeMX рдХреЛрдб рдХреЗ рд╕рд╛рде рдПрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдЧрд╛ рдЬрд┐рд╕реЗ Keil uVision рдореЗрдВ рдЦреЛрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдмрд┐рдирд╛ рд╕рдВрдХрд▓рд┐рдд рдФрд░ рдлреНрд▓реИрд╢ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Main.c</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓ </font><font style="vertical-align: inherit;">рдореЗрдВ </font><i><font style="vertical-align: inherit;">рдореБрдЦреНрдп (рд╢реВрдиреНрдп)</font></i><font style="vertical-align: inherit;"> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдШрдбрд╝реА, рдкреЛрд░реНрдЯреНрд╕, рдЯрд╛рдЗрдорд░ рдФрд░ USB рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрдВрдХреНрд╢рдиреНрд╕ рдкрд╣рд▓реЗ рд╣реА рдбрд╛рд▓реЗ рдЬрд╛ рдЪреБрдХреЗ рд╣реИрдВред рдЙрдирдореЗрдВ, рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдореЙрдбреНрдпреВрд▓ рдХреЛ рдЙрди рдореЛрдбреНрд╕ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдо CubeMX рдореЗрдВ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред </font></font><br>
<br>
<img src="https://habrastorage.org/files/fb6/a32/393/fb6a323933734c7cb3ac4e11550d7420.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рддрд░рд╣ рдХреЗ рдХреЛрдб рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рдЕрдХреНрд╕рд░ рдкрд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">/* USER CODE BEGIN 0 */</span><font></font>
(...)<font></font>
<span class="hljs-comment">/* USER CODE END 0 */</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрди рдЕрдиреБрднрд╛рдЧреЛрдВ рдореЗрдВ рдЕрдкрдирд╛ рдХреЛрдб рдПрдореНрдмреЗрдб рдХрд░реЗрдЧрд╛ред рдпрджрд┐ CubeMX рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реА-рдЬрдирд░реЗрдЯрд┐рдВрдЧ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдСрдкреНрд╢рди рд╕рдХреНрд╖рдо </font><i><font style="vertical-align: inherit;">рд╣реЛрдиреЗ рдкрд░ рдпреВрдЬрд░ рдХреЛрдб рд░рдЦреЗрдВ</font></i><font style="vertical-align: inherit;"> , рддреЛ рдЗрди рд▓рд╛рдЗрдиреЛрдВ рдХреЗ рдмреАрдЪ рд╕рдВрд▓рдЧреНрди рдХреЛрдб рдХрд┐рд╕реА рдореМрдЬреВрджрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреА рд╕реЗрдХрдВрдбрд░реА рдЬрдирд░реЗрд╢рди рдХреЗ рджреМрд░рд╛рди рдУрд╡рд░рд░рд╛рдЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдХреЗрд╡рд▓ CubeMX рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рдЕрдиреБрднрд╛рдЧ рд╕рд╣реЗрдЬреЗ рдЧрдП рд╣реИрдВред рдЕрдиреБрднрд╛рдЧ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ * USER CODE * /</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдЦреЛ рдЬрд╛рдПрдЧрд╛ред рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ IDE рдореЗрдВ рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреЗ рдмрд╛рдж рдЖрдк CubeMX рдкрд░ рд▓реМрдЯрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдФрд░ рдирдИ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рд╕рд╛рде рдлрд┐рд░ рд╕реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЬреЗрдирд░реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдореИрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреА рдмреИрдХрдЕрдк рдХреЙрдкреА рдмрдирд╛рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UVision ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлреНрд▓реИрд╢ -&gt; рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдлреНрд▓реИрд╢ рдЯреВрд▓реНрд╕</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">рдореЗрдВ рдлрд░реНрдорд╡реЗрдпрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ </font><font style="vertical-align: inherit;">рдореИрдВ рдЖрдкрдХреЛ </font><i><font style="vertical-align: inherit;">рдлреНрд▓реИрд╢</font></i><font style="vertical-align: inherit;"> рд╡рд┐рдХрд▓реНрдк рдХреЗ </font><i><font style="vertical-align: inherit;">рдмрд╛рдж рд░реАрд╕реЗрдЯ</font></i><font style="vertical-align: inherit;"> рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрд╛рдХрд┐ рдЪрдордХрдиреЗ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рд╢реБрд░реВ рд╣реЛ рдЬрд╛рдПред </font><font style="vertical-align: inherit;">рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдпрд╣ рдЕрдХреНрд╖рдо рд╣реИ, рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдЪрдордХрддреА рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рдмреЛрд░реНрдб рдкрд░ рд░реАрд╕реЗрдЯ рдмрдЯрди рджрдмрд╛рдирд╛ рд╣реЛрдЧрд╛ред</font></font><br>
<br>
<img src="https://habrastorage.org/files/1e1/a3d/20d/1e1a3d20dd994c1787f8a8758fcd200e.png"><br>
<br>
<a name="ppm"></a><h3><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреАрдкреАрдПрдо рдбрд┐рдХреЛрдбрд┐рдВрдЧ</font></font></b></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PPM - рдкрд▓реНрд╕ рдкреЛрдЬреАрд╢рди рдореЙрдбреНрдпреВрд▓реЗрд╢рди - рдПрдпрд░рдХреНрд░рд╛рдлреНрдЯ рдореЙрдбрд▓ рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ рдореЗрдВ рдмрд╣реБрдд рд╡реНрдпрд╛рдкрдХ, рд╕рдВрдЪрд░рд┐рдд рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдХреВрдЯрдиреЗ рдХреА рдПрдХ рд╡рд┐рдзрд┐ред </font><font style="vertical-align: inherit;">рдпрд╣ рджрд╛рд▓реЛрдВ рдХрд╛ рдПрдХ рдХреНрд░рдо рд╣реИ, рд╕рдордп рдЕрдВрддрд░рд╛рд▓ рдЬрд┐рд╕рдХреЗ рдмреАрдЪ рд╕рдВрдЪрд░рд┐рдд рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдореВрд▓реНрдпреЛрдВ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img width="80%" src="https://habrastorage.org/files/905/3ec/257/9053ec2573f8438b9a3053f2ef408739.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдХрдВрд╕реЛрд▓ рдкреНрд░реЗрд╖рд┐рдд рд░реЗрдбрд┐рдпреЛ рдореЙрдбреНрдпреВрд▓ рдХреЛ рд╕реВрдЪрдирд╛ рднреЗрдЬрддрд╛ рд╣реИ, рдЬреЛ рдкреАрдЫреЗ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдбрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИред рдХрдИ рд░рд┐рд╕реАрд╡рд░ рдЬрд┐рдиреНрд╣реЗрдВ рдмреЛрд░реНрдб рдкрд░ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡реЗ рдкреАрдкреАрдПрдо рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдлреНрд▓рд╛рдЗрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рд▓рд┐рдП рдХрдВрдЯреНрд░реЛрд▓ рд╕рд┐рдЧреНрдирд▓ рдЯреНрд░рд╛рдВрд╕рдорд┐рдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд▓рдЧрднрдЧ рдХрд┐рд╕реА рднреА рдХрдВрд╕реЛрд▓ рдореЗрдВ рдЯреНрд░реЗрдирд░-рдЫрд╛рддреНрд░ рдореЛрдб рдореЗрдВ рджреВрд╕рд░рд╛ рдХрдВрд╕реЛрд▓ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдФрд░ рдХрдВрд╕реЛрд▓ рдХреЛ рдПрдХ рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдиреЗрдХреНрдЯрд░ рд╣реИрдВ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ рдкреАрдкреАрдПрдо рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдПрдХ рддрд░реНрдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рдХреЗ рд╕рд╛рде рдЯрд░реНрдирдЬреА 9 рдПрдХреНрд╕ рдХреЗ рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рдЖрдЙрдЯрдкреБрдЯ рд╕реЗ рдПрдХ рд╕рдВрдХреЗрдд рд▓рд┐рдЦрддреЗ рд╣реИрдВ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/53e/da5/319/53eda5319a6d45b59ee6e265de445992.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкреНрд░рддреНрдпреЗрдХ рдЕрдиреБрдХреНрд░рдо рд░рд┐рдореЛрдЯ рдкрд░ рдирд┐рдпрдВрддреНрд░рдг рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдХреЛ рдПрдиреНрдХреЛрдб рдХрд░рддрд╛ рд╣реИред рдЖрдорддреМрд░ рдкрд░ рдкрд╣рд▓реЗ рдЪрд╛рд░ рдорд╛рди (рдЬрд┐рд╕реЗ рдЪреИрдирд▓ рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ) рдПрдирд╛рд▓реЙрдЧ рд╕реНрдЯрд┐рдХреНрд╕ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдмрд╛рдж рд╡рд╛рд▓реЗ рдЯреЙрдЧрд▓ рд╕реНрд╡рд┐рдЪ рдпрд╛ рдкреЛрдЯреЗрдВрд╢рд┐рдпреЛрдореАрдЯрд░ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛрддреЗ рд╣реИрдВред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдирд┐рдпрдВрддреНрд░рдг рдХреА рдиреНрдпреВрдирддрдо рд╕реНрдерд┐рддрд┐ рдЕрдВрддрд░рд╛рд▓ 1000 ╬╝s рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ, рдЕрдзрд┐рдХрддрдо - 2000 ╬╝s, рдФрд╕рдд рд╕реНрдерд┐рддрд┐ - 1500 ╬╝sред рджрд╛рд▓реЛрдВ рдХреЗ рджрд╛рдиреЗ, рдпрд╛ рддрдЦреНрддреЗ, рдХрд╛рдлреА рд▓рдВрдмреЗ рдЕрдВрддрд░рд╛рд▓ рд╕реЗ рдЕрд▓рдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ 20-25 рдПрдордПрд╕ рдХреА рдЕрд╡рдзрд┐ рдХреЗ рд╕рд╛рде рдЪрд▓рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдЗрдП рд╕рдВрдХреЗрдд рдкрд░ рдХрд░реАрдм рд╕реЗ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/703/86d/84e/70386d84efe24577a958767f8c5b7ae9.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рддреАрди рдЫрдбрд╝реЗрдВ рддрдЯрд╕реНрде рд╕реНрдерд┐рддрд┐ (1, 3, 4) рдореЗрдВ рд╣реИрдВ, рдФрд░ рдПрдХ рдЪрд░рдо рд╕реНрдерд┐рддрд┐ (2) рдореЗрдВ рд╣реИред </font><font style="vertical-align: inherit;">рддреАрди рдЯреЙрдЧрд▓ рд╕реНрд╡рд┐рдЪ рдмрдВрдж рд╣реИрдВ (5, 6, 7), рдФрд░ рдЖрдЦрд┐рд░реА рдЪрд╛рд▓реВ рд╣реИ (8)ред </font><font style="vertical-align: inherit;">рдПрдХ рдПрдбреЙрдкреНрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╕реАрдХреНрд╡реЗрдВрд╕ рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдорд╛рдиреЛрдВ рдХреЛ рдПрдХ рдЕрд░реИ рдореЗрдВ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдЬреЙрдпрд╕реНрдЯрд┐рдХ рд╕реЗ рдХрдорд╛рдВрдб рдХреЗ рд░реВрдк рдореЗрдВ рдпреВрдПрд╕рдмреА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреЗрдЬрдирд╛ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЪрд▓реЛ рдПрдХ рдкрд▓реНрд╕ рдЕрдиреБрдХреНрд░рдо рдбрд┐рдХреЛрдбрд░ рд▓рд┐рдЦрддреЗ рд╣реИрдВред</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡реНрдпрд╡рдзрд╛рди рдХреЛ рдкрдХрдбрд╝рдирд╛</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Main.c </font><font style="vertical-align: inherit;">
рдореЗрдВ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдХреЗ рдмрд╛рдж </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реВрдк рдХрд░рддреЗ рд╕рдордп</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореБрдЦреНрдп рд╕реЗ рдкрд╣рд▓реЗ </font><i><font style="vertical-align: inherit;">,</font></i><font style="vertical-align: inherit;"> рдЪреИрдирд▓ 1 рд╕реЗ рдЗрдирдкреБрдЯ рдХреИрдкреНрдЪрд░ рдХреИрдкреНрдЪрд░ рдореЛрдб рдореЗрдВ TIM3 рдЯрд╛рдЗрдорд░ рд╢реБрд░реВ рдХрд░реЗрдВ, рдХреИрдкреНрдЪрд░ рд░реБрдХрд╛рд╡рдЯ рдХреА рдкреАрдврд╝реА рдХреЗ рд╕рд╛рдеред </font><font style="vertical-align: inherit;">рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, HAL рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:</font></font><br>
<br>
<pre><code class="cpp hljs">HAL_TIM_IC_Start_IT(&amp;htim3, TIM_CHANNEL_1);
</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Htim3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рд╕рдВрд░рдЪрдирд╛ </font><font style="vertical-align: inherit;">рдореЗрдВ рдШреЛрд╖рд┐рдд </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.c</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрд░рдВрднреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдорд╛рдирдХреЛрдВ, рд╕рдВрдХреЗрдд рд╕рднреА рдЯрд╛рдЗрдорд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП (рдХрд╛рдЙрдВрдЯрд░ рдореВрд▓реНрдп, рд╡рд┐рднрдХреНрдд, рд╕рднреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕, рдмрд╛рдзрд╛ рдЭрдВрдбреЗ), рд╕реВрдЪрдХ: TIM3 рдЯрд╛рдЗрдорд░ рд╣реИрдВрдбрд▓рд░ рд╣реИ, рдЬреЛ рд╕рднреА рд╕рдВрд░рдЪрдирд╛рдУрдВ рдФрд░ рдЪрд░ рдЯрд╛рдЗрдорд░ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВ рдПрдХ рд╣реИрдВрдбрд▓рд░ DMA рдкрд░ рдЬреЛ рдЗрд╕ рдЯрд╛рдЗрдорд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЖрджрд┐ред рдбреЗрд╡рд▓рдкрд░ рдХреЛ рдпрд╣ рджреЗрдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдХреМрди рд╕реЗ рдмрд┐рдЯреНрд╕ рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ рд╣реИрдВ рдЬреЛ рдХрд┐ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╕реЗрдЯ рдФрд░ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВред рд╣реИрдВрдбрд▓рд░ рдХреЛ рдПрдЪрдПрдПрд▓ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдкрд╛рд╕ рдХрд░рдирд╛ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред рдмрд╛рдХреА рдкреБрд╕реНрддрдХрд╛рд▓рдп рдЦреБрдж рдХрд░реЗрдВрдЧреЗред </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">STM32F3xx HAL рдбреНрд░рд╛рдЗрд╡рд░</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЗ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд╡рд┐рд╡рд░рдг</font></a><font style="vertical-align: inherit;"> рдореЗрдВ рдПрдЪрдПрдПрд▓ рд╕рдВрд░рдЪрдирд╛ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХреЛ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(UM1786)ред рдпрд╣ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдПрдЪрдПрдПрд▓ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╕реНрд╡рдпрдВ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдкреНрд░рд▓реЗрдЦрд┐рдд рд╣реИрдВред рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ HAL рдЯрд╛рдЗрдорд░ рдХреЗ рд▓рд┐рдП рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЖрдк </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stm32f3xx_hal_tim.h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stm32f3xx_hal_tim.c рдлрд╝рд╛рдЗрд▓реЛрдВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЛ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рдзрд╛ рдХреЗ рд▓рд┐рдП рдЬреЛ TIM3 рдЯрд╛рдЗрдорд░ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIM3_IRQHandler</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣реИрдВрдбрд▓рд░ </font><i><font style="vertical-align: inherit;">рдХрд╣рд▓рд╛рддрд╛ рд╣реИ</font></i><font style="vertical-align: inherit;"> ред рдпрд╣ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stm32f3xx_it.c</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ </font><font style="vertical-align: inherit;">, рдмрджрд▓реЗ рдореЗрдВ, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HAL_TIM_IRQHandler</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣реИрдВрдбрд▓рд░ </font><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">рд╕рднреА рдЯрд╛рдЗрдорд░ рдХреЗ рд▓рд┐рдП рдорд╛рдирдХ, рдЗрд╕реЗ </font><i><font style="vertical-align: inherit;">рдХрд╣рд╛ рдЬрд╛рддрд╛</font></i><font style="vertical-align: inherit;"> рд╣реИ, рдФрд░ htim3 рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реВрдЪрдХ рдЗрд╕реЗ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">TIM3_IRQHandler</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span><font></font><span class="hljs-function">
</span>{<font></font>
  <span class="hljs-comment">/* USER CODE BEGIN TIM3_IRQn 0 */</span><font></font>
<font></font>
  <span class="hljs-comment">/* USER CODE END TIM3_IRQn 0 */</span><font></font>
  HAL_TIM_IRQHandler(&amp;htim3);<font></font>
  <span class="hljs-comment">/* USER CODE BEGIN TIM3_IRQn 1 */</span><font></font>
<font></font>
  <span class="hljs-comment">/* USER CODE END TIM3_IRQn 1 */</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рд╣рдо </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HAL_TIM_IRQHandler</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stm32f3xx_hal_tim.c рдХреЗ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдВрджрд░ </font><font style="vertical-align: inherit;">рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдПрдХ рд╡рд┐рд╢рд╛рд▓ рд╣реИрдВрдбрд▓рд░ рджреЗрдЦрддреЗ рд╣реИрдВ рдЬреЛ рдЯрд╛рдЗрдорд░ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдкреНрдЯ рдлреНрд▓реИрдЧ рдХреА рдЬрд╛рдБрдЪ рдХрд░рддрд╛ рд╣реИ, рдХреЙрд▓рдмреИрдХ-рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдХрд╛рд░рдг рдмрдирддрд╛ рд╣реИ рдФрд░ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рдмрд╛рдж рдзреНрд╡рдЬ рдХреЛ рд╕рд╛рдлрд╝ рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдХреЛрдИ рдХреИрдкреНрдЪрд░ рдЗрд╡реЗрдВрдЯ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реЛрддрд╛ рд╣реИ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рддреЛ рдпрд╣ </font><i><font style="vertical-align: inherit;">HAL_TIM_IC_CaptureCallback</font></i><font style="vertical-align: inherit;"> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦ рд░рд╣рд╛ рд╣реИ:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function">__weak <span class="hljs-keyword">void</span> <span class="hljs-title">HAL_TIM_IC_CaptureCallback</span><span class="hljs-params">(TIM_HandleTypeDef *htim)</span></span><font></font><span class="hljs-function">
</span>{<font></font>
<span class="hljs-comment">/* NOTE : This function Should not be modified, when the callback is needed, the __HAL_TIM_IC_CaptureCallback could be implemented in the user file</span><font></font><span class="hljs-comment">
*/</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╣рдо рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.c</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, </font><font style="vertical-align: inherit;">рдЗрд╕ рдХреЙрд▓рдмреИрдХ </font><font style="vertical-align: inherit;">рдХреЛ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int main (рд╢реВрдиреНрдп)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рдВрдХреНрд╢рди рд╕реЗ рдкрд╣рд▓реЗ рдбрд╛рд▓реЗрдВ </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">HAL_TIM_IC_CaptureCallback</span><span class="hljs-params">(TIM_HandleTypeDef *htim)</span></span><font></font><span class="hljs-function">
</span>{<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ рдпрд╣ рджреЗрдЦрдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ рдХрд┐ рд╡реНрдпрд╡рдзрд╛рди рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдХрд┐рд╕реА рдПрдХ рдирд┐рд╖реНрдХрд░реНрд╖ рдкрд░ рдЗрд╕реЗ рддреНрд╡рд░рд┐рдд рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝реЗрдВ:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">HAL_TIM_IC_CaptureCallback</span><span class="hljs-params">(TIM_HandleTypeDef *htim)</span></span><font></font><span class="hljs-function">
</span>{<font></font>
  HAL_GPIO_WritePin(GPIOE, GPIO_PIN_8, GPIO_PIN_SET);<font></font>
  __nop();__nop();__nop();__nop();__nop();__nop();<font></font>
  HAL_GPIO_WritePin(GPIOE, GPIO_PIN_8, GPIO_PIN_RESET);<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PE8 рдкрд┐рди рдХреЛ рдкрд╣рд▓реЗ рд╣реА рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд┐рдпрд╛ рдЬрд╛ рдЪреБрдХрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╕реНрд╡рд┐рдЪ рдСрди рдФрд░ рдСрдл рдХрд░рдиреЗ рдХреЗ рдмреАрдЪ, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__nop ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд┐рд░реНрджреЗрд╢ рдбрд╛рд▓реЗ рдЬрд╛рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">, рдЬреЛ 1 рдШрдбрд╝реА рдЪрдХреНрд░ рдореЗрдВ рджреЗрд░реА рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдореЗрд░рд╛ $ 8 рдЪреАрдиреА рд▓реЙрдЬрд┐рдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ 24 рдореЗрдЧрд╛рд╣рд░реНрдЯреНрдЬ рдкрд░ рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ 72 рдореЗрдЧрд╛рд╣рд░реНрдЯреНрдЬ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рд╕реЗ рдмрд╣реБрдд рдХрдо рдкрд▓реНрд╕ рдирд╣реАрдВ рдЫреЛрдбрд╝рддрд╛ред </font><font style="vertical-align: inherit;">рдЕрдм рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░реЗрдВ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt; рд▓рдХреНрд╖реНрдп рдмрдирд╛рдПрдВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлреНрд▓реИрд╢</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд┐рдпрдВрддреНрд░рдХ рд╕реЗ рдкреВрдЫреЗрдВ </font><i><font style="vertical-align: inherit;">-&gt; рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ</font></i><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рд╣рдо PPM рдХреЛ рджреВрд░рд╕реНрде рд╕реЗ PC6 рд╕реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рдФрд░ рджреЗрдЦреЗрдВ рдХрд┐ PC6 рдФрд░ PE8 рдкрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/abf/64c/e2c/abf64ce2c6874057933df9edb58dff8f.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреЙрд▓рдмреИрдХ рдХреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рд╣реА рдХреНрд╖рдгреЛрдВ рдореЗрдВ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ - рдареАрдХ рдЗрд╕рдХреЗ рдмрд╛рдж рдЗрдирдкреБрдЯ рд╕рд┐рдЧреНрдирд▓ 1 рд╕реЗ 0. рддрдХ рд╕рдВрдХреНрд░рдордг рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП, рд╕рдм рдХреБрдЫ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрдкреНрдЪрд░ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдВ рдФрд░ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░реЗрдВ</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрддрдирд╛ рд╣реИ рдХрд┐ рдпрд╣ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рдкрд░ рдХрдмреНрдЬрд╛ рдХрд░ рд▓рд┐рдпрд╛ рдореВрд▓реНрдп рдЬреЛрдбрд╝ рджреЗрдЧрд╛ рд╣рдо рдХреЙрд▓рдмреИрдХ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВрдЧреЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">captured_value</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрдлрд░ </font><font style="vertical-align: inherit;">рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рддред рдпрджрд┐ рдЯрд╛рдЗрдорд░ рдмрд╣реБрдд рдмрдбрд╝реЗ рдореВрд▓реНрдп (5000 ╬╝s рд╕реЗ рдЕрдзрд┐рдХ) рдкрд░ рдХрдмреНрдЬрд╛ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдПрдХ рдард╣рд░рд╛рд╡ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдкреИрдХреЗрдЯ рдХреЛ рдЗрд╕рдХреА рд╕рдВрдкреВрд░реНрдгрддрд╛ рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рдЗрд╕реЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдП рдЧрдП рдорд╛рди </font><font style="vertical-align: inherit;">5 рддрддреНрд╡реЛрдВ </font><font style="vertical-align: inherit;">рдХреЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rc_data</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд░рдгреА </font><font style="vertical-align: inherit;">рдореЗрдВ </font><font style="vertical-align: inherit;">рдЬреЛрдбрд╝реЗ рдЬрд╛рддреЗ </font><font style="vertical-align: inherit;">рд╣реИрдВред рдкрд╣рд▓реЗ рдЪрд╛рд░ рдореЗрдВ, рдЫрдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рд╕реАрдорд╛ рддрдХ рдХрдо рд╣реЛ рдЬрд╛рддреА рд╣реИ [0; 1000], рдкрд╛рдВрдЪрд╡реЗрдВ рдореЗрдВ, рд╡реНрдпрдХреНрддрд┐рдЧрдд рдмрд┐рдЯреНрд╕ рдХреЛ рдЯреЙрдЧрд▓ рд╕реНрд╡рд┐рдЪ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдЧреЗрдордкреИрдб рдкрд░ рдмрдЯрди рджрдмрд╛рдиреЗ рдХреЗ рд░реВрдк рдореЗрдВ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреА рдЬрд╛рдПрдЧреАред</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">uint16_t</span> captured_value[<span class="hljs-number">8</span>] = {<span class="hljs-number">0</span>};<font></font>
<span class="hljs-keyword">uint16_t</span> rc_data[<span class="hljs-number">5</span>] = {<span class="hljs-number">0</span>};<font></font>
<span class="hljs-keyword">uint8_t</span> pointer = <span class="hljs-number">0</span>;<font></font>
<span class="hljs-keyword">uint8_t</span> data_ready = <span class="hljs-number">0</span>;<font></font>
<font></font>
...<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">HAL_TIM_IC_CaptureCallback</span><span class="hljs-params">(TIM_HandleTypeDef *htim)</span></span><font></font><span class="hljs-function">
</span>{<font></font>
    <span class="hljs-keyword">uint8_t</span> i;<font></font>
    <span class="hljs-keyword">uint16_t</span> temp;<font></font>
    <span class="hljs-comment">//     </span><font></font>
    temp = HAL_TIM_ReadCapturedValue(htim, TIM_CHANNEL_1);<font></font>
    <span class="hljs-comment">//    , ,  </span><font></font>
    <span class="hljs-keyword">if</span> ((temp &gt; <span class="hljs-number">5000</span>) &amp;&amp; (!data_ready))<font></font>
    {<font></font>
        pointer = <span class="hljs-number">0</span>;<font></font>
        <span class="hljs-comment">//        [0;1000]</span><font></font>
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (captured_value[i] &lt; <span class="hljs-number">1000</span>)<font></font>
                captured_value[i] = <span class="hljs-number">1000</span>;<font></font>
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (captured_value[i] &gt; <span class="hljs-number">2000</span>)<font></font>
                captured_value[i] = <span class="hljs-number">2000</span>;<font></font>
            rc_data[i] = captured_value[i]<span class="hljs-number">-1000</span>;<font></font>
        };<font></font>
        <span class="hljs-comment">//     </span><font></font>
        rc_data[<span class="hljs-number">4</span>] = <span class="hljs-number">0</span>;<font></font>
        <span class="hljs-keyword">if</span> (captured_value[<span class="hljs-number">4</span>] &gt; <span class="hljs-number">1500</span>)<font></font>
            rc_data[<span class="hljs-number">4</span>] |= (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">4</span>);<font></font>
        <span class="hljs-keyword">if</span> (captured_value[<span class="hljs-number">5</span>] &gt; <span class="hljs-number">1500</span>)<font></font>
            rc_data[<span class="hljs-number">4</span>] |= (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">5</span>);<font></font>
        <span class="hljs-keyword">if</span> (captured_value[<span class="hljs-number">6</span>] &gt; <span class="hljs-number">1500</span>)<font></font>
            rc_data[<span class="hljs-number">4</span>] |= (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">6</span>);<font></font>
        <span class="hljs-keyword">if</span> (captured_value[<span class="hljs-number">7</span>] &gt; <span class="hljs-number">1500</span>)<font></font>
            rc_data[<span class="hljs-number">4</span>] |= (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">7</span>);<font></font>
        data_ready = <span class="hljs-number">1</span>;<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span> <span class="hljs-comment">//      </span><font></font>
    {<font></font>
        captured_value[pointer] = temp;<font></font>
        pointer++;<font></font>
    };<font></font>
    <span class="hljs-keyword">if</span> (pointer == <span class="hljs-number">8</span>) <span class="hljs-comment">//   </span><font></font>
        pointer = <span class="hljs-number">0</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЭреЗ рд╕рдордЭрд╛рдПрдВ рдХрд┐ рдореИрдВрдиреЗ рдмрдЯрдиреЛрдВ рдХреЛ рдирд┐рдЪрд▓реЗ 4 рдмрд┐рдЯреНрд╕ рдореЗрдВ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдкрд╛рдВрдЪрд╡реЗрдВ рд╕реЗ рдЖрдард╡реЗрдВ рдмрд┐рдЯреНрд╕ рдХреЗ рдЕрдиреБрд░реВрдк рд░рдЦрд╛ред рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рдореЗрдВ, рдпрд╣ Xbox рд╕реЗ рдПрдХ рдЧреЗрдордкреИрдб рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдмрдЯрди LB, RB, рд╕реНрдЯрд╛рд░реНрдЯ рдФрд░ рдмреИрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЙрдирдХреА рд╕рдВрдЦреНрдпрд╛ 5 рд╕реЗ 8. рд╣реЛрддреА рд╣реИ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ред рдореБрдЦреНрдп рд▓реВрдк рдореЗрдВ, data_ready рдзреНрд╡рдЬ рдХреЛ рд▓рдЧрд╛рддрд╛рд░ рдШреБрдорд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдбреЗрдЯрд╛ рднреЗрдЬрд╛ рдЬрд╛рдПрдЧрд╛ред</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)<font></font>
{<font></font>
  <span class="hljs-keyword">if</span> (data_ready)<font></font>
  {<font></font>
    <span class="hljs-comment">//      </span><font></font>
    data_ready = <span class="hljs-number">0</span>;<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рд░рд┐рдореЛрдЯ рдХрдВрдЯреНрд░реЛрд▓ рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ, рдлрд┐рд░ рд╕реЗ рд╕рдВрдХрд▓рд┐рдд рдХрд░реЗрдВ рдФрд░ рдлрд┐рд░ рд╕реЗ рдбрд┐рдмрдЧ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд░реЗрдВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ рдлрд┐рд░ </font><i><font style="vertical-align: inherit;">рдбрд┐рдмрдЧ рд╕рддреНрд░ рд╢реБрд░реВ рдХрд░реЗрдВ -&gt; рдбреАрдмрдЧ рд╕рддреНрд░ рдкреНрд░рд╛рд░рдВрдн / рдмрдВрдж рдХрд░реЗрдВ</font></i><font style="vertical-align: inherit;"> ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЯреНрд░реИрдХрд┐рдВрдЧ рдЪрд░ рдХреЗ рд▓рд┐рдП рд╡рд┐рдВрдбреЛ рдЦреЛрд▓реЗрдВ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt; рджреЗрдЦреЗрдВ рд╡рд┐рдВрдбреЛрдЬ -&gt; 1 рджреЗрдЦреЗрдВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font><i><font style="vertical-align: inherit;">рд╡рд╣рд╛рдВ </font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрдкреНрдЪрд░ рдХрд┐рдпрд╛ </font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧрдпрд╛_рд╡реЗрд▓реНрдпреВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font><i><font style="vertical-align: inherit;">рдЖрд░рд╕реА_рдбреЗрдЯрд╛</font></i><font style="vertical-align: inherit;"> рдЬреЛрдбрд╝реЗрдВ </font><font style="vertical-align: inherit;">ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреАрдмрдЧ -&gt; рд░рди</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдбрд┐рдмрдЧрд┐рдВрдЧ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">рдФрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ, рдмреНрд░реЗрдХрдкреЙрдЗрдВрдЯ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд┐рдирд╛ рднреА, рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рд╕реНрдЯрд┐рдХреНрд╕ рдХреЗ рдмрд╛рдж рдирдВрдмрд░ рдХреИрд╕реЗ рдмрджрд▓рддреЗ рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/5cf/7da/c9c/5cf7dac9c152498e89ea3948a8549efb.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдЧрд▓рд╛, рдЖрдкрдХреЛ рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдХрдорд╛рдВрдб рдХреЗ рд░реВрдк рдореЗрдВ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдбреЗрдЯрд╛ рднреЗрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред</font></font><br>
<br>
<h3><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HID рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ рдФрд░ HID рд░рд┐рдкреЛрд░реНрдЯ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдмрдирд╛рдПрдВ</font></font></b></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USB HID (рд╣реНрдпреВрдорди рдЗрдВрдЯрд░рдлреЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕) рдорд╛рдирд╡-рдХрдВрдкреНрдпреВрдЯрд░ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдПрдХ рд╡рд░реНрдЧ рд╣реИред рдЗрдирдореЗрдВ рдХреАрдмреЛрд░реНрдб, рдЪреВрд╣реЗ, рдЬреЙрдпрд╕реНрдЯрд┐рдХ, рдЧреЗрдордкреИрдб, рдЯрдЪ рдкреИрдирд▓ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рдЫрд┐рдкрд╛рдИ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдореБрдЦреНрдп рд▓рд╛рдн рдпрд╣ рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХрд┐рд╕реА рднреА рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╡рд┐рд╢реЗрд╖ рдбреНрд░рд╛рдЗрд╡рд░реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ: рд╡рд┐рдВрдбреЛрдЬ, рдУрдПрд╕ рдПрдХреНрд╕, рдПрдВрдбреНрд░реЙрдЗрдб рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЖрдИрдУрдПрд╕ (рдпреВрдПрд╕рдмреА-рд▓рд╛рдЗрдЯрдирд┐рдВрдЧ рдПрдбрд╛рдкреНрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ)ред рдПрдХ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HID рдХреЗ рд▓рд┐рдП</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рдбрд┐рд╡рд╛рдЗрд╕ рдХреНрд▓рд╛рд╕ рдкрд░рд┐рднрд╛рд╖рд╛</font></a><font style="vertical-align: inherit;"> рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред PPM- USB рдПрдбреЙрдкреНрдЯрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдореЗрдВ рдЬреЛ рдореБрдЦреНрдп рдмрд╛рдд рдЬрд╛рдирдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рд╡рд╣ рд╣реИ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HID рд░рд┐рдкреЛрд░реНрдЯ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HID рд░рд┐рдкреЛрд░реНрдЯ рдбреЗрд╕рдХреНрд░рд┐рдкреНрдЯрд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреНрдпрд╛ </font><i><font style="vertical-align: inherit;">рд╣реИрдВ</font></i><font style="vertical-align: inherit;"> ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HID рдбрд┐рд╡рд╛рдЗрд╕ рдПрдХ рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдмрд╛рдЗрдЯ рдкреИрдХреЗрдЯ рднреЗрдЬрддрд╛ рд╣реИред рдРрд╕рд╛ рдкреНрд░рддреНрдпреЗрдХ рдкреИрдХреЗрдЬ рдПрдХ рдЫрд┐рдкрд╛рдИ рд░рд┐рдкреЛрд░реНрдЯ рд╣реИред рдбрд┐рд╡рд╛рдЗрд╕ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдбреЗрдЯрд╛ рдкреНрд░рд╛рд░реВрдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реВрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрдм рд╡рд╣ рдЬреЛрдбрд╝рддрд╛ рд╣реИ, рдПрдХ рдЫрд┐рдкрд╛рдИ рд░рд┐рдкреЛрд░реНрдЯ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рднреЗрдЬ рд░рд╣рд╛ рд╣реИ, рдПрдХ рдкреИрдХреЗрдЯ рд╡рд┐рд╡рд░рдг рдЬреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкреИрдХреЗрдЯ рдореЗрдВ рдХрд┐рддрдиреЗ рдмрд╛рдЗрдЯреНрд╕ рд╣реИрдВ рдФрд░ рдкреИрдХреЗрдЯ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рдЗрдЯ рдФрд░ рдмрд┐рдЯ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдорд╛рдЙрд╕ рдХреА рдЫрд┐рдкрд╛рдИ рд░рд┐рдкреЛрд░реНрдЯ рдореЗрдВ рдЪрд╛рд░ рдмрд╛рдЗрдЯреНрд╕ рд╣реЛрддреЗ рд╣реИрдВ: рдкрд╣рд▓реЗ рдмрд╛рдЗрдЯ рдореЗрдВ рджрдмрд╛рдП рдЧрдП рдмрдЯрдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИ, рджреВрд╕рд░реЗ рдФрд░ рддреАрд╕рд░реЗ рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рдПрдХреНрд╕ рдФрд░ рд╡рд╛рдИ рдХреЗ рд╕рд╛рде рдХрд░реНрд╕рд░ рдХрд╛ рд╕рд╛рдкреЗрдХреНрд╖ рд╕рдВрдЪрд▓рди рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЪреМрдереЗ рдмрд╛рдЗрдЯ рдореЗрдВ рд╕реНрдХреНрд░реЙрд▓ рд╡реНрд╣реАрд▓ рдХрд╛ рд░реЛрдЯреЗрд╢рди рд╣реЛрддрд╛ рд╣реИред рд░рд┐рдкреЛрд░реНрдЯ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдХреЛ рдбрд┐рд╡рд╛рдЗрд╕ рдХрдВрдЯреНрд░реЛрд▓рд░ рдореЗрдореЛрд░реА рдореЗрдВ рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдПрдХ рд╕рд░рдгреА рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img width="35%" src="https://habrastorage.org/files/22f/dd2/aa6/22fdd2aa67154365a6f89f6a2f7f2798.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдмрдирд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рд╢рдмреНрджрд╛рд╡рд▓реА рдкрд░ рдЕрд▓рдЧ рд╕реЗ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред рдЕрдВрдЧреНрд░реЗрдЬреА рднрд╛рд╖рд╛ рдХреЗ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рджреЛ рд╢рдмреНрдж рд╕рд╛рдорд╛рдиреНрдп рд╣реИрдВ - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЙрдпрд╕реНрдЯрд┐рдХ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреЗрдордкреИрдб</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЙрдпрд╕реНрдЯрд┐рдХ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╢рдмреНрдж </font><i><font style="vertical-align: inherit;">рдХреЛ</font></i><font style="vertical-align: inherit;"> рдЖрдорддреМрд░ рдкрд░ рдореИрдирд┐рдкреБрд▓реЗрдЯрд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдПрдХ рд╣рд╛рде рд╕реЗ рдкрдХрдбрд╝рдХрд░ рдЕрд▓рдЧ-рдЕрд▓рдЧ рджрд┐рд╢рд╛рдУрдВ рдореЗрдВ рдЭреБрдХрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреЗрдордкреИрдб</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рдбрд┐рд╡рд╛рдЗрд╕ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдмрдЯрди рдФрд░ рд╕реНрдЯрд┐рдХ рджреЛ рд╣рд╛рдереЛрдВ рд╕реЗ рд▓рдЧреЗ рд╣реЛрддреЗ рд╣реИрдВред рд░реВрд╕реА рдмреЛрд▓рдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдорддреМрд░ рдкрд░ рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдХреЛ рдХрд╣рддреЗ рд╣реИрдВ, рдФрд░ рджреВрд╕рд░рд╛ред HID рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд╡рд┐рд╡рд░рдг рдореЗрдВ рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдФрд░ рдЧреЗрдордкреИрдб рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рд╣реИред рд╡рд┐рдорд╛рди рдореЙрдбрд▓ рдХрдВрд╕реЛрд▓ рдЧреЗрдордкреИрдб рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдЙрджреНрджреЗрд╢реНрдп рдореЗрдВ рдЕрдзрд┐рдХ рд╕рдорд╛рди рд╣реИ, рдЗрд╕рд▓рд┐рдП рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдореИрдВ рдХрднреА-рдХрднреА "рдЧреЗрдордкреИрдб" рд╢рдмреНрдж рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реВрдВрдЧрд╛ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рдПрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЬреЗрдирд░реЗрдЯ рдХрд┐рдпрд╛, рдЬрд┐рд╕рд╕реЗ рдпрд╣ рд╕рдВрдХреЗрдд рдорд┐рд▓рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдбрд┐рд╡рд╛рдЗрд╕ рд╣реНрдпреВрдорди рдЗрдВрдЯрд░рдлреЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рддрд░рд╣ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдПрдХ USB HID рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реИ рдФрд░ рдПрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдбреЗрд╕рд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкрд╣рд▓реЗ рд╣реА рдЬреЗрдирд░реЗрдЯ рд╣реЛ рдЪреБрдХрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usbd_hid.c</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ </font><font style="vertical-align: inherit;">, рдорд╛рдЙрд╕ рд░рд┐рдкреЛрд░реНрдЯ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ:</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HID_Mouse_Report_Descriptor</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs">__ALIGN_BEGIN <span class="hljs-keyword">static</span> <span class="hljs-keyword">uint8_t</span> HID_MOUSE_ReportDesc[HID_MOUSE_REPORT_DESC_SIZE]  __ALIGN_END =<font></font>
{<font></font>
  <span class="hljs-number">0x05</span>,   <span class="hljs-number">0x01</span>,<font></font>
  <span class="hljs-number">0x09</span>,   <span class="hljs-number">0x02</span>,<font></font>
  <span class="hljs-number">0xA1</span>,   <span class="hljs-number">0x01</span>,<font></font>
  <span class="hljs-number">0x09</span>,   <span class="hljs-number">0x01</span>,<font></font>
<font></font>
  <span class="hljs-number">0xA1</span>,   <span class="hljs-number">0x00</span>,<font></font>
  <span class="hljs-number">0x05</span>,   <span class="hljs-number">0x09</span>,<font></font>
  <span class="hljs-number">0x19</span>,   <span class="hljs-number">0x01</span>,<font></font>
  <span class="hljs-number">0x29</span>,   <span class="hljs-number">0x03</span>,<font></font>
<font></font>
  <span class="hljs-number">0x15</span>,   <span class="hljs-number">0x00</span>,<font></font>
  <span class="hljs-number">0x25</span>,   <span class="hljs-number">0x01</span>,<font></font>
  <span class="hljs-number">0x95</span>,   <span class="hljs-number">0x03</span>,<font></font>
  <span class="hljs-number">0x75</span>,   <span class="hljs-number">0x01</span>,<font></font>
<font></font>
  <span class="hljs-number">0x81</span>,   <span class="hljs-number">0x02</span>,<font></font>
  <span class="hljs-number">0x95</span>,   <span class="hljs-number">0x01</span>,<font></font>
  <span class="hljs-number">0x75</span>,   <span class="hljs-number">0x05</span>,<font></font>
  <span class="hljs-number">0x81</span>,   <span class="hljs-number">0x01</span>,<font></font>
<font></font>
  <span class="hljs-number">0x05</span>,   <span class="hljs-number">0x01</span>,<font></font>
  <span class="hljs-number">0x09</span>,   <span class="hljs-number">0x30</span>,<font></font>
  <span class="hljs-number">0x09</span>,   <span class="hljs-number">0x31</span>,<font></font>
  <span class="hljs-number">0x09</span>,   <span class="hljs-number">0x38</span>,<font></font>
<font></font>
  <span class="hljs-number">0x15</span>,   <span class="hljs-number">0x81</span>,<font></font>
  <span class="hljs-number">0x25</span>,   <span class="hljs-number">0x7F</span>,<font></font>
  <span class="hljs-number">0x75</span>,   <span class="hljs-number">0x08</span>,<font></font>
  <span class="hljs-number">0x95</span>,   <span class="hljs-number">0x03</span>,<font></font>
<font></font>
  <span class="hljs-number">0x81</span>,   <span class="hljs-number">0x06</span>,<font></font>
  <span class="hljs-number">0xC0</span>,   <span class="hljs-number">0x09</span>,<font></font>
  <span class="hljs-number">0x3c</span>,   <span class="hljs-number">0x05</span>,<font></font>
  <span class="hljs-number">0xff</span>,   <span class="hljs-number">0x09</span>,<font></font>
<font></font>
  <span class="hljs-number">0x01</span>,   <span class="hljs-number">0x15</span>,<font></font>
  <span class="hljs-number">0x00</span>,   <span class="hljs-number">0x25</span>,<font></font>
  <span class="hljs-number">0x01</span>,   <span class="hljs-number">0x75</span>,<font></font>
  <span class="hljs-number">0x01</span>,   <span class="hljs-number">0x95</span>,<font></font>
<font></font>
  <span class="hljs-number">0x02</span>,   <span class="hljs-number">0xb1</span>,<font></font>
  <span class="hljs-number">0x22</span>,   <span class="hljs-number">0x75</span>,<font></font>
  <span class="hljs-number">0x06</span>,   <span class="hljs-number">0x95</span>,<font></font>
  <span class="hljs-number">0x01</span>,   <span class="hljs-number">0xb1</span>,<font></font>
<font></font>
  <span class="hljs-number">0x01</span>,   <span class="hljs-number">0xc0</span><font></font>
};<font></font>
</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЫрд┐рдкрд╛рдИ рд░рд┐рдкреЛрд░реНрдЯ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдмрдирд╛рдирд╛ рдмреЗрд╣рдж рд╕рдордп рд▓реЗрдиреЗ рд╡рд╛рд▓рд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдХрд╛рд░реНрдп рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдЙрдкрдХрд░рдг рд╣реИ рдЬрд┐рд╕реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HID Descriptor Tool</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (DT) </font><font style="vertical-align: inherit;">рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЖрдкрдХреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рд╕рд╛рде рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдЖрдк рд╡рд┐рднрд┐рдиреНрди рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд░реНрдгрдирдХрд░реНрддрд╛рдУрдВ рдХреЗ рдХрдИ рдЙрджрд╛рд╣рд░рдг рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/a3c/6fd/07c/a3c6fd07c997415ab94ba603edda628d.png"></div><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдБ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдорд╛рдЙрд╕ рдФрд░ рдХреАрдмреЛрд░реНрдб (рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ) рдХреЗ рд▓рд┐рдП рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рдПрдЪрдЖрдИрдбреА рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рд░реЗ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рдореЗрдВ рдПрдХ</font></a><font style="vertical-align: inherit;"> рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд▓реЗрдЦ рд╣реИред рдореИрдВ рдЖрдкрдХреЛ рд░реВрд╕реА рдореЗрдВ рдмрддрд╛рдКрдВрдЧрд╛ рдХрд┐ рдЧреЗрдордкреИрдб рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реИрдВрдбрд▓ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрдВрд╕реЛрд▓ рджреНрд╡рд╛рд░рд╛ рднреЗрдЬреА рдЧрдИ рдЫрд┐рдкрд╛рдИ-рд░рд┐рдкреЛрд░реНрдЯ рдореЗрдВ рдПрдирд╛рд▓реЙрдЧ рд╕реНрдЯрд┐рдХреНрд╕ рдХреЗ рджреЛ рдЕрдХреНрд╖реЛрдВ рдХреЗ рд▓рд┐рдП рдЪрд╛рд░ 16-рдмрд┐рдЯ рдорд╛рди рдФрд░ рдмрдЯрдиреЛрдВ рдХреЗ рд▓рд┐рдП 16 рдПрдХ-рдмрд┐рдЯ рдорд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рдХреБрд▓ 10 рдмрд╛рдЗрдЯреНрд╕ред DT рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдЗрд╕рдХрд╛ рд╣реИрдВрдбрд▓ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛:</font></font><br>
<br>
<pre><code class="cpp hljs">    <span class="hljs-number">0x05</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">// USAGE_PAGE (Generic Desktop)</span><font></font>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x05</span>,                    <span class="hljs-comment">// USAGE (Game Pad)</span><font></font>
    <span class="hljs-number">0xa1</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">// COLLECTION (Application)</span><font></font>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   USAGE (Pointer)</span><font></font>
    <span class="hljs-number">0xa1</span>, <span class="hljs-number">0x00</span>,                    <span class="hljs-comment">//   COLLECTION (Physical)</span><font></font>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x30</span>,                    <span class="hljs-comment">//     USAGE (X)</span><font></font>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x31</span>,                    <span class="hljs-comment">//     USAGE (Y)</span><font></font>
    <span class="hljs-number">0x15</span>, <span class="hljs-number">0x00</span>,                    <span class="hljs-comment">//     LOGICAL_MINIMUM (0)</span><font></font>
    <span class="hljs-number">0x26</span>, <span class="hljs-number">0xe8</span>, <span class="hljs-number">0x03</span>,              <span class="hljs-comment">//     LOGICAL_MAXIMUM (1000)</span><font></font>
    <span class="hljs-number">0x75</span>, <span class="hljs-number">0x10</span>,                    <span class="hljs-comment">//     REPORT_SIZE (16)</span><font></font>
    <span class="hljs-number">0x95</span>, <span class="hljs-number">0x02</span>,                    <span class="hljs-comment">//     REPORT_COUNT (2)</span><font></font>
    <span class="hljs-number">0x81</span>, <span class="hljs-number">0x02</span>,                    <span class="hljs-comment">//     INPUT (Data,Var,Abs)</span><font></font>
    <span class="hljs-number">0xc0</span>,                          <span class="hljs-comment">//   END_COLLECTION</span><font></font>
    <span class="hljs-number">0xa1</span>, <span class="hljs-number">0x00</span>,                    <span class="hljs-comment">//   COLLECTION (Physical)</span><font></font>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x33</span>,                    <span class="hljs-comment">//     USAGE (Rx)</span><font></font>
    <span class="hljs-number">0x09</span>, <span class="hljs-number">0x34</span>,                    <span class="hljs-comment">//     USAGE (Ry)</span><font></font>
    <span class="hljs-number">0x15</span>, <span class="hljs-number">0x00</span>,                    <span class="hljs-comment">//     LOGICAL_MINIMUM (0)</span><font></font>
    <span class="hljs-number">0x26</span>, <span class="hljs-number">0xe8</span>, <span class="hljs-number">0x03</span>,              <span class="hljs-comment">//     LOGICAL_MAXIMUM (1000)</span><font></font>
    <span class="hljs-number">0x75</span>, <span class="hljs-number">0x10</span>,                    <span class="hljs-comment">//     REPORT_SIZE (16)</span><font></font>
    <span class="hljs-number">0x95</span>, <span class="hljs-number">0x02</span>,                    <span class="hljs-comment">//     REPORT_COUNT (2)</span><font></font>
    <span class="hljs-number">0x81</span>, <span class="hljs-number">0x02</span>,                    <span class="hljs-comment">//     INPUT (Data,Var,Abs)</span><font></font>
    <span class="hljs-number">0xc0</span>,                          <span class="hljs-comment">//   END_COLLECTION</span><font></font>
    <span class="hljs-number">0x05</span>, <span class="hljs-number">0x09</span>,                    <span class="hljs-comment">//   USAGE_PAGE (Button)</span><font></font>
    <span class="hljs-number">0x19</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   USAGE_MINIMUM (Button 1)</span><font></font>
    <span class="hljs-number">0x29</span>, <span class="hljs-number">0x10</span>,                    <span class="hljs-comment">//   USAGE_MAXIMUM (Button 16)</span><font></font>
    <span class="hljs-number">0x15</span>, <span class="hljs-number">0x00</span>,                    <span class="hljs-comment">//   LOGICAL_MINIMUM (0)</span><font></font>
    <span class="hljs-number">0x25</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   LOGICAL_MAXIMUM (1)</span><font></font>
    <span class="hljs-number">0x75</span>, <span class="hljs-number">0x01</span>,                    <span class="hljs-comment">//   REPORT_SIZE (1)</span><font></font>
    <span class="hljs-number">0x95</span>, <span class="hljs-number">0x10</span>,                    <span class="hljs-comment">//   REPORT_COUNT (16)</span><font></font>
    <span class="hljs-number">0x81</span>, <span class="hljs-number">0x02</span>,                    <span class="hljs-comment">//   INPUT (Data,Var,Abs)</span><font></font>
    <span class="hljs-number">0xc0</span>                           <span class="hljs-comment">// END_COLLECTION</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдорд╛рдЙрд╕ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрдо рднрдпрднреАрдд рдирд╣реАрдВ рджрд┐рдЦрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдкрдВрдХреНрддрд┐ рдХрд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ, рддреЛ рд╕рдм рдХреБрдЫ рдХрд╛рдлреА рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ рдФрд░ рддрд╛рд░реНрдХрд┐рдХ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдкрдпреЛрдЧ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдЖрдЧреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреИрд╕реЗ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдкрдпреЛрдЧ рдХреЗ рдХрдИ рдкреНрд░рдХрд╛рд░ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рд╕рдореВрд╣реЛрдВ рдореЗрдВ рдХреНрд░рдордмрджреНрдз рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдЙрдкрдпреЛрдЧ рдкреГрд╖реНрдаред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рд╕рдВрдмрдВрдзрд┐рдд USAGE_PAGE рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЫрд┐рдкрд╛ рдЙрдкрдпреЛрдЧ рддрд╛рд▓рд┐рдХрд╛рдУрдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рд╡рд┐рд╡рд░рдгрдХ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ, рд╣рдо рд╕рдВрдХреЗрдд рджреЗрддреЗ рд╣реИрдВ рдХрд┐ рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USAGE_PAGE (рд╕рд╛рдорд╛рдиреНрдп рдбреЗрд╕реНрдХрдЯреЙрдк) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдкрдпреЛрдЧ (рдЧреЗрдо рдкреИрдб)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдВрдХрд▓рди рдХрдИ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреЛ рдЬреЛрдбрд╝рддрд╛ рд╣реИред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рднреМрддрд┐рдХ рд╕рдВрдЧреНрд░рд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЬреНрдпрд╛рдорд┐рддреАрдп рдмрд┐рдВрджреБ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдПрдирд╛рд▓реЙрдЧ рд╕реНрдЯрд┐рдХред </font><font style="vertical-align: inherit;">рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рдВрдЧреНрд░рд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд┐рднрд┐рдиреНрди рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдПрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдПрдХреАрдХреГрдд рдЯреНрд░реИрдХрдкреИрдб рд╡рд╛рд▓реЗ рдХреАрдмреЛрд░реНрдб рдореЗрдВ рджреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╕рдВрдЧреНрд░рд╣ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдо рдХреЗрд╡рд▓ рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рд╕рдВрдЧреНрд░рд╣ рдПрдХ рд╣реЛрдЧрд╛:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдХрд▓рди (рдЖрд╡реЗрджрди) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
END_COLLECTION</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрд╕рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рдпрд╣ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╕рдВрдЪрд╛рд░рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рддрддреНрд╡реЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">рдкреЙрдЗрдВрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЪреВрд╣реЗ, рдЬреЙрдпрд╕реНрдЯрд┐рдХ, рдЧреЗрдордкреИрдб, рдбрд┐рдЬрд┐рдЯрд╛рдЗрдЬрд╝рд░ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ (рд╕реВрдЪрдХ)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рд╕рдВрдпреБрдХреНрдд рд▓рд╛рдареА рдХреЗ рд╡рд┐рд╡рд░рдг рд╣реИрдВ:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдХрд▓рди (рднреМрддрд┐рдХ)</font></font><br>
 <blockquote>USAGE (X)<br>
 USAGE (Y)<br>
 LOGICAL_MINIMUM (0)<br>
 LOGICAL_MAXIMUM (1000)<br>
 REPORT_SIZE (16)<br>
 REPORT_COUNT (2)<br>
 INPUT (Data,Var,Abs)</blockquote>END_COLLECTION</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣рд╛рдВ рдЙрдкрдпреЛрдЧ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рджреЛ рдЕрдХреНрд╖реЛрдВ, рдПрдХреНрд╕ рдФрд░ рд╡рд╛рдИ рдХреЗ рд╕рд╛рде рд╡рд┐рдЪрд▓рди рдорд╛рдиреЛрдВ рдХрд╛ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">LogICAL_MINIMUM рдФрд░ LOGICAL_MAXIMUM рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕реАрдорд╛ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдкреНрд░реЗрд╖рд┐рдд рдореВрд▓реНрдп рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
REPORT_COUNT рдФрд░ REPORT_SIZE рдХреНрд░рдорд╢рдГ, рдХрд┐рддрдиреЗ рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдХрд┐рд╕ рдЖрдХрд╛рд░ рдореЗрдВ рд╣рдо рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдХрд░рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ, рдЕрд░реНрдерд╛рддреН рджреЛ 16-рдмрд┐рдЯ рд╕рдВрдЦреНрдпрд╛ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
INPUT (рдбреЗрдЯрд╛, рд╡рд╛рд░, ABS) рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдбреЗрдЯрд╛ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдЖрддрд╛ рд╣реИ, рдФрд░ рдпреЗ рдбреЗрдЯрд╛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдореВрд▓реНрдп рдирд┐рд░рдкреЗрдХреНрд╖ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрд░реНрд╕рд░ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдЙрд╕ рд╕реЗ рд╕рд╛рдкреЗрдХреНрд╖ рдореВрд▓реНрдп рдЖрддреЗ рд╣реИрдВред рдХрднреА-рдХрднреА рдбреЗрдЯрд╛ рдХреЛ рдХреЙрдиреНрд╕реНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рди рдХрд┐ рд╡рд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВред рдЧреИрд░-рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдЯреНрд╕ рдХреЛ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рддреАрди рдмрдЯрди рдХреЗ рд╕рд╛рде рдПрдХ рдорд╛рдЙрд╕ рд░рд┐рдкреЛрд░реНрдЯ рдореЗрдВ, рдмрдЯрди рдХреЗ рд▓рд┐рдП 3 рдмрд┐рдЯреНрд╕ рд╡рд░ рдФрд░ рдХрд╛рдВрд╕реНрдЯ рдХреЗ 5 рдмрд┐рдЯреНрд╕ рдХреЛ рдПрдХ рдЖрдХрд╛рд░ рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдЖрдХрд╛рд░ рдХреЗ рдкреВрд░рдХ рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдПрдХреНрд╕ рдФрд░ рд╡рд╛рдИ рдХреБрд▓реНрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдПрдХ рд╕рд╛рде рд╕рдореВрд╣реАрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЙрдирдХреЗ рдкрд╛рд╕ рдПрдХ рд╣реА рдЖрдХрд╛рд░ рд╣реИ, рдПрдХ рд╣реА рд╕реАрдорд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдПрдХ рд╣реА рдПрдирд╛рд▓реЙрдЧ рд╕реНрдЯрд┐рдХ рдХреЛ рдкреНрд░рддреНрдпреЗрдХ рдЕрдХреНрд╖ рдХрд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реБрдП, рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдРрд╕рд╛ рд╡рд┐рд╡рд░рдгрдХ рдкрд┐рдЫрд▓реЗ рдПрдХ рдХреЗ рд╕рдорд╛рди рдХрд╛рдо рдХрд░реЗрдЧрд╛:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдХрд▓рди (рднреМрддрд┐рдХ)</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ (X) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 LOGICAL_MINIMUM (0) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 LOGICAL_MAXIMUM (1000) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 REPORT_SIZE (16) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 REPORT_COUNT (1) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 INPUT (рдбреЗрдЯрд╛, рд╡рд╛рд░, ABS)</font></font></blockquote><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ (Y) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 LOGICAL_MINIMUM (0) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 LOGICAL_MAXIMUM (1000) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 REPORT_SIZE (16) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 REPORT_COUNT (1) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 INPUT (рдбреЗрдЯрд╛, рд╡рд╛рд░, ABS)</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END_COLLECTION</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд╣рд▓реА рдЫрдбрд╝реА рдХреЗ рдмрд╛рдж, рджреВрд╕рд░реА рдПрдирд╛рд▓реЙрдЧ рдЫрдбрд╝реА рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреА рдХреБрд▓реНрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХрд╛ рдПрдХ рдЕрд▓рдЧ рдЙрдкрдпреЛрдЧ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдЙрдиреНрд╣реЗрдВ рдкрд╣рд▓реА рдЫрдбрд╝реА рд╕реЗ рдЕрд▓рдЧ рдХрд░ рд╕рдХреЗрдВ - Rx рдФрд░ Ry:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдХрд▓рди (рднреМрддрд┐рдХ)</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 USAGE </font><font style="vertical-align: inherit;">(Rx) </font><font style="vertical-align: inherit;">USAGE </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 (Ry) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LOGICAL_MINIMUM (0) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 LOGICAL_MAXIMUM (1000) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 REPORT_SIZE (16) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 REPORT_COUNT (2) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 INPUT (рдбреЗрдЯрд╛, рд╡рд╛рд░, ABS)</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END_COLLECTION</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рдЖрдкрдХреЛ рдЧреЗрдордкреИрдб рдХреЗ рдХреБрдЫ рдмрдЯрди рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕реЗ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USAGE_PAGE (рдмрдЯрди) USAGE (рдмрдЯрди </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USAGE (рдмрдЯрди 2) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USAGE (рдмрдЯрди 3) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USAGE (рдмрдЯрди 2)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдкрдпреЛрдЧ рд░реЗрдВрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рд╣реА рдкреНрд░рдХрд╛рд░ рдХреЗ рдмрдЯрди рдХреА рдмреЛрдЭрд┐рд▓ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХреЛ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USAGE_PAGE (рдмрдЯрди) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USAGE_MINIMUM (рдмрдЯрди 1) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USAGE_MAXIMUM (рдмрдЯрди 16)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмрдЯрди рджреНрд╡рд╛рд░рд╛ рдкреНрд░реЗрд╖рд┐рдд рдбреЗрдЯрд╛ 16 рдПрдХрд▓-рдмрд┐рдЯ рдорд╛рди рд╣реИрдВ, рдЬреЛ 0 рд╕реЗ 1 рддрдХ рднрд┐рдиреНрди рд╣реИрдВ:</font></font><br>
<blockquote>LOGICAL_MINIMUM (0)<br>
LOGICAL_MAXIMUM (1)<br>
REPORT_SIZE (1)<br>
REPORT_COUNT (16)<br>
INPUT (Data,Var,Abs)</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдореЗрдВ рд▓рд╛рдЗрдиреЛрдВ рдХрд╛ рдХреНрд░рдо рд╕рдЦреНрдд рдирд╣реАрдВ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, Logical_Minimum рдФрд░ Logical_Maximum рдЙрдкрдпреЛрдЧ (рдмрдЯрди) рд╕реЗ рдкрд╣рд▓реЗ рд▓рд┐рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдпрд╛ Report_Size рдФрд░ Report_Count рдХреЛ рд╕реНрд╡реИрдк рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдЗрдирдкреБрдЯ рдХрдорд╛рдВрдб рдореЗрдВ рдбреЗрдЯрд╛ рдЯреНрд░рд╛рдВрд╕рдлрд░ (рдЙрдкрдпреЛрдЧ, рдорд┐рдорд┐рдордо, рдЕрдзрд┐рдХрддрдо, рдЖрдХрд╛рд░, рдЧрдгрдирд╛) рдХреЗ рд▓рд┐рдП рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдм рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ рдмрдирддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ </font><font style="vertical-align: inherit;">рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╛рд░реНрд╕ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдЪреЗрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рд╕рдм рдХреБрдЫ рдХреНрд░рдо рдореЗрдВ рд╣реИ, рддреЛ рдЗрд╕реЗ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдПрдЪ рдХреЗ рд╕рд╛рде рдирд┐рд░реНрдпрд╛рдд рдХрд░реЗрдВред рдореЗрдВ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usbd_hid.c</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓ </font><i><font style="vertical-align: inherit;">,</font></i><font style="vertical-align: inherit;"> рдПрдХ рдирдпрд╛ рдПрдХ рдХреЗ рд╕рд╛рде рд╡рд░реНрдгрдирдХрд░реНрддрд╛ рдХреА рдЬрдЧрд╣ рдФрд░ рдореЗрдВ рд╕рдорд╛рдпреЛрдЬрд┐рдд </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usbd_hid.h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЗ рдЖрдХрд╛рд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HID_MOUSE_REPORT_DESC_SIZE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╡рд░реНрдгрдирдХрд░реНрддрд╛ </font><font style="vertical-align: inherit;">74 61 рддрдХ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд░рд┐рдкреЛрд░реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data_ready</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЭрдВрдбрд╛ </font><font style="vertical-align: inherit;">ред рдЗрд╕рдХреЗ рд▓рд┐рдП</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.c рд╣рдо </font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usbd_hid.h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ </font><i><font style="vertical-align: inherit;">рдХреЛ</font></i><font style="vertical-align: inherit;"> рд╢рд╛рдорд┐рд▓ </font><i><font style="vertical-align: inherit;">рдХрд░реЗрдВрдЧреЗ</font></i><font style="vertical-align: inherit;"> рдФрд░ рдореБрдЦреНрдп рд▓реВрдк рдореЗрдВ рд╣рдо рд░рд┐рдкреЛрд░реНрдЯ рднреЗрдЬрдиреЗ рд╡рд╛рд▓реЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░реЗрдВрдЧреЗред </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rc_data</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрд░реЗ </font><font style="vertical-align: inherit;">рдЯрд╛рдЗрдк uint16 рдХрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕рдХреЗ рд▓рд┐рдП рдкреЙрдЗрдВрдЯрд░ рдХреЛ 8-рдмрд┐рдЯ рдкреНрд░рдХрд╛рд░ рдореЗрдВ рдбрд╛рд▓рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ 5 рдХреЗ рдмрдЬрд╛рдп 10 рдЖрдХрд╛рд░ рдкрд╛рд╕ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"usbd_hid.h"</span></span><font></font>
...<font></font>
<span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)<font></font>
{<font></font>
  <span class="hljs-keyword">if</span> (data_ready)<font></font>
  {<font></font>
    USBD_HID_SendReport(&amp;hUsbDeviceFS, (<span class="hljs-keyword">uint8_t</span>*)rc_data, <span class="hljs-number">10</span>);<font></font>
    data_ready = <span class="hljs-number">0</span>;<font></font>
  };<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдлреНрд▓реИрд╢ рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<h3><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрдиреЗрдХреНрд╢рди рдФрд░ рдЙрдкрдпреЛрдЧ</font></font></b></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USB рдХреЗрдмрд▓ рдХреЛ ST-LINK USB рдХрдиреЗрдХреНрдЯрд░ рд╕реЗ USER USB рдХрдиреЗрдХреНрдЯрд░ рд╕реЗ рдлрд┐рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред </font><font style="vertical-align: inherit;">рд╡рд┐рдВрдбреЛрдЬ рдирдП рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдЧрд╛ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЖрдЗрдП рдХреЛ рдЬрд╛рдиреЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рдпрдВрддреНрд░рдг рдХрдХреНрд╖ -&gt; рдбрд┐рд╡рд╛рдЗрд╕ рдФрд░ рдкреНрд░рд┐рдВрдЯрд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ рдПрдХ рдЧреЗрдордкреИрдб рдЖрдЗрдХрди рдХреЗ рд╕рд╛рде рд╣рдорд╛рд░реЗ STM32 рдпреВрдПрд╕рдмреА-рдкреАрдкреАрдПрдо рдПрдбрд╛рдкреНрдЯрд░ рдбрд┐рд╡рд╛рдЗрд╕ рджреЗрдЦреЗрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/1ee/5ad/846/1ee5ad84654545dfbcec807073ef8207.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдореЗрдВ, рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╕реНрдЯрд┐рдХ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдХреНрд░реЙрд╕ рдлрд╝реАрд▓реНрдб рдореЗрдВ рдХреИрд╕реЗ рдШреВрдорддрд╛ рд╣реИ рдФрд░ рдХреЙрд▓рдо рд╣рд┐рд▓рддрд╛ рд╣реИ, рдФрд░ рдмрдЯрди рдкреНрд░рддреАрдХ рдЯреЙрдЧрд▓ рд╕реНрд╡рд┐рдЪ рд╕реЗ рдКрдкрд░ рдкреНрд░рдХрд╛рд╢ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЕрдВрд╢рд╛рдВрдХрди рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╡рд┐рд╡рд░рдгрдХ рдореЗрдВ рдиреНрдпреВрдирддрдо рдФрд░ рдЕрдзрд┐рдХрддрдо рдорд╛рди рдкрд╣рд▓реЗ рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдП рдЧрдП рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/52c/4b0/9db/52c4b09db3074871b917aa74b3375de6.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FPV FreeRider рд╢реБрд░реВ рдХрд░рдХреЗ, рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдХреИрд╕реЗ рдЦреАрдВрдЪреА рдЧрдИ рд╡рд░реНрдЪреБрдЕрд▓ рдЧреЗрдордкреИрдб рдкрд░ рдореБрдЦреНрдп рд╕реНрдХреНрд░реАрди рдкрд░ рд╕реНрдЯрд┐рдХ рд╣рдорд╛рд░реЗ рд░рд┐рдореЛрдЯ рдХрдВрдЯреНрд░реЛрд▓ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЪрд▓рддреА рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдХреБрд▓реНрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЛ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдирд╣реАрдВ рд╕реМрдВрдкрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдЖрдк рдЙрдиреНрд╣реЗрдВ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрд▓рд┐рдмреНрд░реЗрдЯ рдирд┐рдпрдВрддреНрд░рдХ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдкреБрди: рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд░рд┐рдореЛрдЯ рдХрдВрдЯреНрд░реЛрд▓ рдХреЗ рдмрдЯрди рдХреЗ рд╕рдВрдЧрдд рдЯреЙрдЧрд▓ рд╕реНрд╡рд┐рдЪ рдХрд╛ рдЙрдкрдпреЛрдЧ рдлрд╝реНрд▓рд╛рдЗрдЯ рдореЛрдбреНрд╕ (рдПрдХреНрд░реЛрдмреИрдЯрд┐рдХ / рд╕реНрдЯреИрдмрд┐рд▓рд╛рдЗрдЬрд╝реНрдб) рдХреЛ рд╕реНрд╡рд┐рдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреИрдорд░рд╛ рд╡реНрдпреВ (рдмреЛрд░реНрдб / рдЬрд╝рдореАрди рд╕реЗ) рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ, рд╢реБрд░реБрдЖрдд рд╕реЗ рдлрд╝реНрд▓рд╛рдЗрдЯ рд╢реБрд░реВ рдХрд░реЗрдВ рдпрд╛ рдереЛрдбрд╝реА рджреЗрд░ рдХреЗ рд▓рд┐рдП рджреМрдбрд╝ рдЪрд╛рд▓реВ рдХрд░реЗрдВред</font></font><br>
<br>
<div style="text-align:center;"><img width="70%" src="https://habrastorage.org/files/153/bc2/3a8/153bc23a87bd4fedad1dd9b04c2aae22.png"></div><br>
<br>
<h3><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдбрд╝рд╛рди рднрд░реА!</font></font></b></h3><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://www.youtube.com/embed/ilMeTba4EOE%3Ffeature%3Doembed&amp;usg=ALkJrhhZuN82-0t4rDp8Dy3qN97hzgmy_Q" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡реАрдбрд┐рдпреЛ рдкрд░ - рдореЗрд░реЗ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рдХрдИ рджрд┐рдиреЛрдВ рдХрд╛ рдкрд░рд┐рдгрд╛рдоред рдЬрдм рдореИрдВ рдСрдЯреЛ-рд▓реЗрд╡рд▓рд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдЙрдбрд╝рд╛рди рднрд░ рд░рд╣рд╛ рд╣реВрдВ, рдФрд░ рдПрдХреНрд░реЛрдмреИрдЯрд┐рдХ рдореЛрдб рдореЗрдВ рдирд╣реАрдВ, рдЬреИрд╕рд╛ рдХрд┐ рдПрдлрдкреАрд╡реА рд░реЗрд╕рд┐рдВрдЧ рдХреЗ рд╕рднреА рд╕реНрд╡рд╛рдореА рдХрд░рддреЗ рд╣реИрдВред рдПрдХреНрд░реЛ рдореЛрдб рдореЗрдВ, рдпрджрд┐ рдЖрдк рдЫрдбрд╝реЗрдВ рдЫреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдХреЛрдкреНрдЯрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХреНрд╖реИрддрд┐рдЬ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдирд╣реАрдВ рд▓реМрдЯрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЙрд╕реА рдХреЛрдг рдкрд░ рдЙрдбрд╝рдирд╛ рдЬрд╛рд░реА рд░рдЦрддрд╛ рд╣реИ рдЬрдм рдЙрд╕рдиреЗ рдЙрдбрд╝рд╛рди рднрд░реА рдереАред рдПрдХреНрд░реЛ рдореЛрдб рдореЗрдВ рдкреНрд░рдмрдВрдзрди рдХрд░рдирд╛ рдЕрдзрд┐рдХ рдХрдард┐рди рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рдЕрдзрд┐рдХ рдЧрддрд┐, рдЧрддрд┐рд╢реАрд▓рддрд╛, рд╣рд╡рд╛ рдореЗрдВ рдЙрдерд▓-рдкреБрдерд▓ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдКрдкрд░ рдХреА рдУрд░ рдЙрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Charpu рдорд╛рд╕реНрдЯрд░реНрд╕</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореИрдВ рдЕрднреА рднреА рдмрд╣реБрдд рджреВрд░ рд╣реВрдВ, рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдЬрд╛рд░реА рд░рдЦрд╛ рд╣реИ рдФрд░ рдореИрдВ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ рдХрд┐ рдПрдХ рд░реЗрд╕рд┐рдВрдЧ рдорд┐рдиреА рдХреЙрдкреНрдЯрд░ рдХреЗ рд╡рд┐рдЪрд╛рд░ рдиреЗ рдореБрдЭреЗ рдФрд░ рднреА рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдкреА рджреАред </font><font style="vertical-align: inherit;">рдФрд░ рдЬрд▓реНрдж рд╣реА, рдореИрдВ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕рдХреЗ рдирд┐рд░реНрдорд╛рдг рдФрд░ рдЙрдбрд╝рд╛рдиреЛрдВ рдореЗрдВ рд▓рдЧрд╛ рд░рд╣реВрдВрдЧрд╛, рдЬреЛ рдЕрдм рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдХрдареЛрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛ рдореЗрдВ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрд░реНрдШрдЯрдирд╛рдУрдВ, рдЯреВрдЯреЗ рд╣реБрдП рдкреНрд░реЛрдкреЗрд▓рд░, рдЯреВрдЯреА рд╣реБрдИ рдореЛрдЯрд░реЛрдВ рдФрд░ рдмреИрдЯрд░реА рдХреЛ рдЬрд▓рд╛рдХрд░ рдирд╖реНрдЯ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдпрд╣ рдЕрдиреНрдп рд▓реЗрдЦреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╖рдп рд╣реИ :)</font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреЗрдЗрд▓ uVision 5 рдФрд░ STM32CubeMX рдХреЗ рд▓рд┐рдП рдкрд░рд┐рдпреЛрдЬрдирд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд╣реИ</font></a><font style="vertical-align: inherit;"> ред</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi384813/">https://habr.com/ru/post/hi384813/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi384801/index.html">рдкреЛрдореНрдкреЗрдИ рдХрд╛ рдЕрдВрддрд┐рдо рджрд┐рди: рдЗрддрд╛рд▓рд╡реА рд╡реИрдЬреНрдЮрд╛рдирд┐рдХреЛрдВ рдиреЗ рдЖрдкрджрд╛ рдХреЗ рд╢рд┐рдХрд╛рд░ рд▓реЛрдЧреЛрдВ рдХреЗ рдЕрд╡рд╢реЗрд╖реЛрдВ рдХреЛ рд╕реНрдХреИрди рдХрд┐рдпрд╛</a></li>
<li><a href="../hi384803/index.html">рдкреЙрд▓ рдЧреНрд░рд╛рд╣рдо: рдСрд░реНрдЧреЗрдирд┐рдХ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдХреЗ рд▓рд┐рдП рд╡рд┐рдЪрд╛рд░</a></li>
<li><a href="../hi384805/index.html">IFixit рдХреЗ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮреЛрдВ рдиреЗ AppleTV рдХреЛ рдлрд╛рдбрд╝ рджрд┐рдпрд╛, рдФрд░ Apple рдиреЗ AppStore рд╕реЗ iFixit рдРрдк рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛</a></li>
<li><a href="../hi384809/index.html">рдХрд╛рдЧрдЬ рдпрд╛ "рд╕рдВрдЦреНрдпрд╛"? рджреЛрдиреЛрдВ: NeoLAB рдХрдиреНрд╡рд░реНрдЬреЗрдВрд╕ Neo smartpen N2 рд╕реНрдорд╛рд░реНрдЯ рдкреЗрди рдХреА рд╕рдореАрдХреНрд╖рд╛</a></li>
<li><a href="../hi384811/index.html">рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдХреА рд░рд╛рдп: рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ рдореЗрдВ рдЕрд░реНрдзрдЪрд╛рд▓рдХ рд╕рд╛рдордЧреНрд░реА</a></li>
<li><a href="../hi384815/index.html">рдмрд╛рд▓ рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХреА рд╢рд╛рдВрддрд┐ рдХреЗ рд▓рд┐рдП рдлрд╝реЛрди: bb-mobile рд╕рдорд╛рдЪрд╛рд░</a></li>
<li><a href="../hi384817/index.html">рд╣рдЬрд╛рд░реЛрдВ рдЕрдкреЛрд▓реЛ рддрд╕реНрд╡реАрд░реЗрдВ рдлрд╝реНрд▓рд┐рдХрд░ рдкрд░ рдЕрдкрд▓реЛрдб рдХреА рдЧрдИрдВ</a></li>
<li><a href="../hi384819/index.html">"рдмреБрд░рд╛рдИ рдирд╣реАрдВ рд╣реЛрдиреЗ" рдХреЗ рдмрдЬрд╛рдп, "Google" рдЕрдм "рд╕рд╣реА рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ"</a></li>
<li><a href="../hi384821/index.html">рдЫрд╛рддреНрд░ рдиреЗ рдПрдХ рджрд╕реНрддрд╛рдиреЗ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЬреЛ рднрд╛рд╖рдг рд╡рд┐рдХрд╛рд░реЛрдВ рд╡рд╛рд▓реЗ рд▓реЛрдЧреЛрдВ рдХреЛ рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛</a></li>
<li><a href="../hi384823/index.html">рдореЛрдмрд╛рдЗрд▓ рдЧреЗрдореНрд╕ рдХреЛ рдмрдврд╝рд╛рд╡рд╛ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЧреИрд░-рдорд╛рдирдХ рддрд░реАрдХреЗ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>