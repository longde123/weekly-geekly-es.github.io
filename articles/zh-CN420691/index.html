<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™ğŸ» ğŸ–– ğŸ›ƒ åŸºç»´ Xamarin ååº”æœ¬æœºã€‚ ä¸‰ä¸ªæ¡†æ¶-ä¸€ä¸ªå®éªŒ ã€°ï¸ ğŸ§—ğŸ¿ ğŸ‘©ğŸ»â€ğŸ”§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="é—®å€™å¤§å®¶ï¼ åœ¨å¯¹æˆ‘çš„æ–‡ç« çš„è¯„è®ºä¸­è¿›è¡Œäº†æ¿€çƒˆçš„è®¨è®ºåï¼Œ Kivyæˆä¸ºäº†è·¨å¹³å°å¼€å‘ç¬¬ä¸€å·çš„é©´æ¡†æ¶ ï¼Œå¹¶ä¸”å€¼å¾—ä¸€æçš„æ˜¯ ï¼Œæˆ‘ä»¬ï¼ˆ Mirimon ï¼Œ SeOd ï¼‰è®¤ä¸ºï¼Œå°†æˆ‘ä»¬å’Œè¯»è€…è¿›è¡Œæ¯”è¾ƒï¼Œå¯¹Kivyæ¥è¯´å°†æ˜¯ä¸€ä»¶æœ‰è¶£çš„äº‹æƒ…ï¼Œ Xamarin.Formså’ŒReact Nativeï¼Œåœ¨å®ƒä»¬ä¸Šç¼–å†™ç›¸åŒçš„åº”ç”¨ç¨‹åº...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åŸºç»´ Xamarin ååº”æœ¬æœºã€‚ ä¸‰ä¸ªæ¡†æ¶-ä¸€ä¸ªå®éªŒ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420691/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zs/ph/zy/zsphzyh0mmbmfwzsfmkdi5tff4w.png"></div><br> é—®å€™å¤§å®¶ï¼ åœ¨å¯¹æˆ‘çš„æ–‡ç« çš„è¯„è®ºä¸­è¿›è¡Œäº†æ¿€çƒˆçš„è®¨è®ºåï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Kivyæˆä¸ºäº†è·¨å¹³å°å¼€å‘ç¬¬ä¸€å·çš„é©´æ¡†æ¶</a> ï¼Œå¹¶ä¸”<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å€¼å¾—ä¸€æçš„æ˜¯</a> ï¼Œæˆ‘ä»¬ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Mirimon</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">SeOd</a> ï¼‰è®¤ä¸ºï¼Œå°†æˆ‘ä»¬å’Œè¯»è€…è¿›è¡Œæ¯”è¾ƒï¼Œå¯¹Kivyæ¥è¯´å°†æ˜¯ä¸€ä»¶æœ‰è¶£çš„äº‹æƒ…ï¼Œ Xamarin.Formså’ŒReact Nativeï¼Œåœ¨å®ƒä»¬ä¸Šç¼–å†™ç›¸åŒçš„åº”ç”¨ç¨‹åºï¼Œå¹¶åœ¨HabrÃ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸Š</a>å‘è¡¨ç›¸åº”çš„æ–‡ç« ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨GitHubä¸Šä½¿ç”¨èåœï¼Œ</a>å¹¶è¯šå®åœ°å‘Šè¯‰æ‚¨å®æ–½è¿‡ç¨‹ä¸­é‡åˆ°äº†å“ªäº›å›°éš¾ã€‚ åœ¨æ”¶é›†äº†Telegramå¹¶è®¨è®ºäº†è¯¦ç»†ä¿¡æ¯ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹å·¥ä½œã€‚ <a name="habracut"></a><br><br> ä¸ºäº†è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬å†³å®šç¼–å†™ä¸€ä¸ªå…·æœ‰ä¸‰ä¸ªå±å¹•çš„ç®€å•ä»»åŠ¡è®¡åˆ’ç¨‹åºã€‚ ä»¥æ¯”æˆ‘ä»¬é€‰æ‹©çš„ç¤ºä¾‹æ›´ä¸ºåºå¤§çš„ç¤ºä¾‹æ¥ç®€åŒ–å½“ä»Šè¿™ä¸‰ä¸ªå¹³å°çš„çŠ¶æ€ï¼Œå› ä¸ºæ¯ä¸ªäººéƒ½åœ¨å¿™äºè‡ªå·±çš„é¡¹ç›®/å·¥ä½œ/åœ¨å®¶ä¸­ï¼Œè¿™å¤ªé•¿äº†ã€‚ å°½ç®¡æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¾ˆç®€å•ï¼Œä½†æ˜¯å®ƒå¯ä»¥è®©æ‚¨æ¸…æ¥šåœ°æ¼”ç¤ºæ¯ç§ç¯å¢ƒä¸‹åº”ç”¨ç¨‹åºå¼€å‘çš„åŸç†ï¼Œä½¿ç”¨æ•°æ®ï¼ŒUIç­‰ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸‰ä¸ªæ¡†æ¶-ä¸€ä¸ªå®éªŒã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>Xamarin.Formsã€‚</b></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>ç¬¬äºŒéƒ¨åˆ†</b></a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸‰ä¸ªæ¡†æ¶-ä¸€ä¸ªå®éªŒã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>ååº”æœ¬æœºã€‚</b></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>ç¬¬ä¸‰éƒ¨åˆ†</b></a> <br><br> æœ¬æ–‡æ˜¯è¯¥å‘¨æœŸçš„ç¬¬ä¸€ç¯‡ï¼Œå› æ­¤æˆ‘æƒ³ä»æˆ‘ä»¬è‡ªå·±ç»˜åˆ¶çš„ToRå¼€å§‹ï¼Œä»¥ä¾¿å¾—å‡ºç±»ä¼¼çš„ç»“æœã€‚ <br><br><h3> é€‰é¡¹TKï¼š </h3><br><ul><li> æ³¨é‡Šåº”æŒ‰é¡¹ç›®è¿›è¡Œç»„ç»‡ã€‚ </li><li> æ³¨é‡Šå¯ä»¥ç”±å…¶ä»–äººæ·»åŠ ï¼Œå› æ­¤å¿…é¡»æŒ‡å‡ºæ³¨é‡Šçš„ä½œè€… </li><li> å¿…é¡»æ·»åŠ /åˆ é™¤/ç¼–è¾‘é¡¹ç›®å†…çš„æ³¨é‡Šã€‚ </li><li> å¤‡æ³¨å†…å®¹åº”ä¸ºå¤§å°ï¼Œä½†ä¸å¾—è¶…è¿‡150åƒç´  </li><li> åˆ é™¤ç¬”è®°åº”åŒæ—¶é€šè¿‡ç¬”è®°æœ¬èº«çš„ä¸Šä¸‹æ–‡èœå•å’Œæ»‘åŠ¨ </li></ul><br><h3> ä¸€ä¸ªç¤ºä¾‹UIåº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·ï¼š </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9a/59/pe/9a59pegwbpwor9yytkfxwxqd_ue.png"></div><br><div class="spoiler">  <b class="spoiler_title">å¼€å§‹ä¹‹å‰ï¼Œè¯·å…ˆå¯¹Kivyè¿›è¡Œä¸€äº›å¸®åŠ©ï¼š</b> <div class="spoiler_text">  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Kivy</a>æ˜¯ä¸€ä¸ªåŸºäºOpenGL ES 2çš„ï¼Œç”¨Python / Cythonç¼–ç¨‹è¯­è¨€ç¼–å†™çš„è·¨å¹³å°å›¾å½¢æ¡†æ¶ï¼Œæ—¨åœ¨åˆ›å»ºç°ä»£ç”¨æˆ·ç•Œé¢ï¼Œæ›´ä¾§é‡äºä½¿ç”¨è§¦æ‘¸è®¾å¤‡ã€‚</i>  <i>Kivyåº”ç”¨ç¨‹åºå¯åœ¨Linuxï¼ŒOS Xï¼ŒWindowsï¼ŒAndroidï¼ŒiOSå’ŒRapberry Piç­‰å¹³å°ä¸Šè¿è¡Œã€‚</i>  <i>åœ¨å¼€å‘ä¸­ï¼Œæ‚¨å¯ä»¥è®¿é—®ä»è¯·æ±‚åˆ°NumPyå’ŒOpenCVçš„å„ç§Pythonåº“ã€‚</i>  <i>Kivyå¯ä»¥é€šè¿‡PyJNIusï¼ˆAndroidï¼‰å’ŒPyOBJusï¼ˆiOSï¼‰æ¥è®¿é—®å‡ ä¹æ‰€æœ‰æœ¬æœºç§»åŠ¨APIï¼ˆGPSï¼Œç›¸æœºï¼ŒåŠ é€Ÿåº¦è®¡ï¼ŒAndroidçš„Google APIï¼‰ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨å°†Java / Objective-Cä»£ç åŒ…è£…åœ¨Pythonä¸­ã€‚</i> <i><br><br></i>  <i>å¥‡å¼‚æœå¿«ã€‚</i>  <i>è¿™é€‚ç”¨äºåº”ç”¨ç¨‹åºå¼€å‘å’Œåº”ç”¨ç¨‹åºæ‰§è¡Œé€Ÿåº¦ã€‚</i>  <i>æ‰€æœ‰å…³é”®åŠŸèƒ½éƒ½åœ¨Cçº§åˆ«å®ç°ã€‚</i>  <i>Kivyè¿˜ä¼šåœ¨æœ‰æ„ä¹‰çš„åœ°æ–¹ä½¿ç”¨GPUã€‚</i>  <i>GPUå®Œæˆäº†å¤§éƒ¨åˆ†å·¥ä½œï¼Œä»è€Œå¤§å¤§æé«˜äº†æ€§èƒ½ã€‚</i> <i><br><br></i>  <i>Kivyéå¸¸çµæ´»ã€‚</i>  <i>è¿™æ„å‘³ç€Kivyçš„å¿«é€Ÿå‘å±•ä½¿æ‚¨å¯ä»¥ç«‹å³é€‚åº”æ–°æŠ€æœ¯ã€‚</i>  <i>Kivyå¼€å‘äººå‘˜åå¤æ·»åŠ äº†å¯¹æ–°çš„å¤–éƒ¨è®¾å¤‡å’Œè½¯ä»¶åè®®çš„æ”¯æŒï¼Œæœ‰æ—¶ç”šè‡³åœ¨å…¶å‘å¸ƒä¹‹å‰ã€‚</i>  <i>Kivyå¯ä»¥ä¸è®¸å¤šä¸åŒçš„ç¬¬ä¸‰æ–¹è§£å†³æ–¹æ¡ˆç»“åˆä½¿ç”¨ã€‚</i>  <i>ä¾‹å¦‚ï¼Œåœ¨Windowsä¸Šï¼ŒKivyæ”¯æŒWM_TOUCHï¼Œè¿™æ„å‘³ç€ä»»ä½•å…·æœ‰Windows 7 Penï¼†Touché©±åŠ¨ç¨‹åºçš„è®¾å¤‡éƒ½å¯ä»¥ä¸Kivyä¸€èµ·ä½¿ç”¨ã€‚</i>  <i>åœ¨OS Xä¸Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å…·æœ‰Multi-Touchæ”¯æŒçš„Appleè®¾å¤‡ï¼Œä¾‹å¦‚è§¦æ§æ¿å’Œé¼ æ ‡ã€‚</i>  <i>åœ¨Linuxä¸Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨HIDè¾“å…¥è¾“å…¥äº‹ä»¶ã€‚</i>  <i>æ­¤å¤–ï¼ŒKivyæ”¯æŒTUIOï¼ˆå¯è¯†åˆ«ç”¨æˆ·ç•Œé¢å¯¹è±¡ï¼‰å’Œè®¸å¤šå…¶ä»–è¾“å…¥æºã€‚</i> <i><br><br></i>  <i>æ‚¨å¯ä»¥ç”¨å‡ è¡Œä»£ç ç¼–å†™ä¸€ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºã€‚</i>  <i>Kivyç¨‹åºæ˜¯ä½¿ç”¨Pythonç¼–ç¨‹è¯­è¨€åˆ›å»ºçš„ï¼Œè¯¥è¯­è¨€å…·æœ‰å¹¿æ³›çš„åŠŸèƒ½å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†æ˜“äºä½¿ç”¨ã€‚</i>  <i>æ­¤å¤–ï¼ŒKivyå¼€å‘äººå‘˜è¿˜åˆ›å»ºäº†è‡ªå·±çš„GUIæ ‡è®°è¯­è¨€ï¼Œä»¥åˆ›å»ºå¤æ‚çš„è‡ªå®šä¹‰GUIã€‚</i>  <i>ä½¿ç”¨è¯¥è¯­è¨€ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿé…ç½®ï¼Œè¿æ¥å’Œç»„ç»‡åº”ç”¨ç¨‹åºçš„å…ƒç´ ã€‚</i> <i><br><br></i>  <i>è€Œä¸”ï¼Œæ˜¯çš„ï¼ŒKivyæ˜¯å®Œå…¨å…è´¹çš„ã€‚</i>  <i>æ‚¨å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨å®ƒï¼</i>  <i>åœ¨å•†ä¸šäº§å“æˆ–å¼€æ”¾æºä»£ç ä¸­ã€‚</i> <br></div></div><br> æˆ‘å°†æä¾›æ‰€æœ‰åº”ç”¨ç¨‹åºä»£ç ï¼Œå¹¶å……åˆ†è¯¦ç»†åœ°å±•ç¤ºä¸ºç§»åŠ¨å¹³å°å¼€å‘æ—¶å¦‚ä½•å®ç°è¿™äº›å…ƒç´ ã€‚ ä½œä¸ºä¸€ä¸ªIDEï¼Œæˆ‘å§‹ç»ˆä½¿ç”¨<i>PyCharm</i> ï¼Œå®ƒå®Œç¾æ”¯æŒ<b>Kvè¯­è¨€</b>è¯­æ³•-ä¸€ç§ç‰¹æ®Šçš„DSLè¯­è¨€ï¼Œç”¨äºç¼–å†™åº”ç”¨ç¨‹åºçš„UIè¡¨ç¤ºã€‚ è¯¥åº”ç”¨ç¨‹åºçš„æ¡†æ¶æ˜¯ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CreatorKivyProject</a>æ§åˆ¶å°å®ç”¨ç¨‹åºåˆ›å»ºçš„ï¼Œè¯¥å®ç”¨ç¨‹åºä½¿ç”¨MVVMæ¨¡æ¿æä¾›äº†åŸºæœ¬å±å¹•ã€‚ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i5/de/m1/i5dem1ryi468aeeeo60_tjnxpke.png"></div><br>  <b>baseclass</b>æ–‡ä»¶å¤¹åœ¨<i>Kvè¯­è¨€çš„</i> <b>kv</b>æ¥å£æè¿°æ–‡ä»¶ä¸­åŒ…å«ç”¨Pythonç¼–ç¨‹è¯­è¨€å®ç°çš„å°éƒ¨ä»¶å’Œæ§ä»¶çš„é€»è¾‘ã€‚  <b>applibs</b>ç›®å½•ç”¨äºç¬¬ä¸‰æ–¹åº“ï¼Œåœ¨<b>data</b>æ–‡ä»¶å¤¹ä¸­æœ‰åª’ä½“å†…å®¹ï¼Œæ•°æ®åº“å’Œå…¶ä»–æ•°æ®ã€‚  <b>main.py</b>æ–‡ä»¶æ˜¯åº”ç”¨ç¨‹åºçš„å…¥å£ã€‚ é™¤äº†å¯åŠ¨UI <b>TodoListï¼ˆï¼‰å¤–ï¼Œ</b>ä»–ä»€ä¹ˆéƒ½ä¸åš<b>ã€‚è¿è¡Œï¼ˆï¼‰</b>æ¸²æŸ“ï¼Œæ•è·é”™è¯¯ï¼ˆå¦‚æœå‘ç”Ÿï¼‰å¹¶æ˜¾ç¤ºä¸€ä¸ªçª—å£ä»¥å‘é€é”™è¯¯æŠ¥å‘Šï¼Œè¯¥æŠ¥å‘Šç”±<i>CreatorKivyProject</i>å®ç”¨ç¨‹åºè‡ªåŠ¨åˆ›å»ºï¼Œä¸ç¼–å†™æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ— å…³ï¼Œå› æ­¤ä¸äºˆè€ƒè™‘ã€‚ <br><br> å¸¦æœ‰ç¨‹åºä»£ç çš„<b>todolist.py</b>æ–‡ä»¶å®ç°äº†<b>TodoList</b>ç±»ï¼Œè¯¥ç±»åŠ è½½ç•Œé¢å¸ƒå±€ï¼Œåˆå§‹åŒ–å…¶å®ä¾‹ï¼Œç›‘è§†è®¾å¤‡çš„ç¡¬é”®äº‹ä»¶å¹¶è¿”å›æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå±å¹•ï¼Œè¯¥å±å¹•åœ¨â€œæ´»åŠ¨â€ç®¡ç†å™¨ä¸­åˆ—å‡ºã€‚ åœ¨<b>TodoListï¼ˆï¼‰ã€‚Runï¼ˆï¼‰ä¹‹å</b> ï¼Œå°†è°ƒç”¨<b>æ„å»º</b>å‡½æ•°ï¼Œå¹¶è¿”å›å°†åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„å°éƒ¨ä»¶ã€‚ <br><br> ä¾‹å¦‚ï¼Œæ˜¾ç¤ºå¸¦æœ‰å›¾åƒçš„å•ä¸ªå±å¹•çš„ç®€å•ç¨‹åºçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1e/dc/wi/1edcwilpi3ejmykf6qiqjvhftcy.png"></div><br> è¿™æ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç±»çš„å›¾ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sv/9j/8n/sv9j8npirktg3qeglec4vclue4i.png"></div><br><div class="spoiler">  <b class="spoiler_title">todolist.pyï¼š</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- import os from kivy.app import App from kivy.lang import Builder from kivy.core.window import Window from kivy.factory import Factory from libs.applibs.kivymd.theming import ThemeManager from libs.dataBase import DataBase class TodoList(App, DataBase): title = 'Todo List' icon = 'icon.png' theme_cls = ThemeManager() theme_cls.primary_palette = 'BlueGrey' def __init__(self, **kvargs): super(TodoList, self).__init__(**kvargs) Window.bind(on_keyboard=self.eventsProgram) Window.softinput_mode = 'below_target' self.Window = Window self.pathToBase = '%s/data/dataProjects.json' % self.directory self.nameAuthor = u' ' def build(self): self.setDataProjects() self.loadAllKvFiles(os.path.join(self.directory, 'libs', 'uix', 'kv')) self.rootScreen = Factory.RootScreen() #    #  Activity. self.activityManager = self.rootScreen.ids.activityManager self.listProjectsActivity = self.rootScreen.ids.listProjectsActivity self.listNotesActivity = self.rootScreen.ids.listNotesActivity self.addNewNoteActivity = self.rootScreen.ids.addNewNoteActivity return self.rootScreen def loadAllKvFiles(self, directory_kv_files): for kv_file in os.listdir(directory_kv_files): kv_file = os.path.join(directory_kv_files, kv_file) if os.path.isfile(kv_file): Builder.load_file(kv_file) def on_start(self): self.listProjectsActivity.setListProjects(self) def eventsProgram(self, instance, keyboard, keycode, text, modifiers): if keyboard in (1001, 27): if self.activityManager.current == 'add new note activity': self.activityManager.backActivity( 'list notes activity', self.addNewNoteActivity.ids.floatingButton) if self.activityManager.current == 'list notes activity': self.activityManager.current = 'list project activity' return True</span></span></code> </pre> <br></div></div><br> æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä»…åŒ…å«ä¸‰ä¸ª<i>Activity</i> ï¼Œå³å±å¹•ç®¡ç†å™¨ï¼ˆ <i>ScreenMenager</i> ï¼‰ï¼Œæˆ‘ä»¬å°†å…¶è¿”å›åˆ°<b>æ„å»º</b>åŠŸèƒ½ï¼Œè´Ÿè´£<b>åˆ‡æ¢</b> ï¼š <br><br><pre> <code class="hljs scala">#:<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">ListProjectsActivity</span></span> libs.uix.baseclass.<span class="hljs-type"><span class="hljs-type">ListProjectsActivity</span></span>.<span class="hljs-type"><span class="hljs-type">ListProjectsActivity</span></span> #:<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">ListNotesActivity</span></span> libs.uix.baseclass.<span class="hljs-type"><span class="hljs-type">ListNotesActivity</span></span>.<span class="hljs-type"><span class="hljs-type">ListNotesActivity</span></span> #:<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">AddNewNoteActivity</span></span> libs.uix.baseclass.<span class="hljs-type"><span class="hljs-type">AddNewNoteActivity</span></span>.<span class="hljs-type"><span class="hljs-type">AddNewNoteActivity</span></span> #:<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">ActivityManager</span></span> libs.uix.baseclass.<span class="hljs-type"><span class="hljs-type">ActivityManager</span></span>.<span class="hljs-type"><span class="hljs-type">ActivityManager</span></span> &lt;<span class="hljs-type"><span class="hljs-type">RootScreen</span></span><span class="hljs-meta"><span class="hljs-meta">@BoxLayout</span></span>&gt;: orientation: <span class="hljs-symbol"><span class="hljs-symbol">'vertica</span></span>l' spacing: dp(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-type"><span class="hljs-type">ActivityManager</span></span>: id: activityManager <span class="hljs-type"><span class="hljs-type">ListProjectsActivity</span></span>: id: listProjectsActivity <span class="hljs-type"><span class="hljs-type">ListNotesActivity</span></span>: id: listNotesActivity <span class="hljs-type"><span class="hljs-type">AddNewNoteActivity</span></span>: id: addNewNoteActivity</code> </pre><br> å½“åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œå°†é¦–å…ˆå®‰è£…åœ¨ActivityManagerä¸­æŒ‡å®šçš„Activityã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæ˜¯<i>ListProjectsActivity</i> ã€‚ åœ¨ç”¨äºé¡¹ç›®å’Œä»»åŠ¡åˆ—è¡¨çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä½¿ç”¨äº†<i>ScrollView</i> ã€‚ å°½ç®¡å®ƒæ›´æ­£ç¡®<i>-RecycleView</i> ã€‚ å› ä¸ºç¬¬ä¸€ä¸ªï¼Œå¦‚æœæœ‰ä¸€ç™¾å¤šä¸ªå¸–å­å’Œé¡¹ç›®ï¼Œé‚£å°±åšä¸åˆ°ã€‚ æ›´å‡†ç¡®åœ°è¯´ï¼Œå‘ˆç°åˆ—è¡¨å°†èŠ±è´¹å¾ˆé•¿æ—¶é—´ã€‚  <i>RecycleView</i>å…è®¸<i>æ‚¨</i>å‡ ä¹ç«‹å³æ˜¾ç¤ºä»»æ„é•¿åº¦çš„åˆ—è¡¨ã€‚ ä½†æ˜¯ç”±äºåœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œå¯¹äºå¤§å‹åˆ—è¡¨ï¼Œæ‚¨éƒ½å¿…é¡»ä½¿ç”¨å°†åŠ¨æ€æ•°æ®åŠ è½½åˆ°åˆ—è¡¨ä¸­æˆ–è¿›è¡Œåˆ†é¡µçš„æ–¹æ³•ï¼Œä½†è¿™åœ¨TORä¸­æ²¡æœ‰è¿›è¡Œè®¨è®ºï¼Œå› æ­¤æˆ‘ä½¿ç”¨<i>ScrollView</i> ã€‚ ç¬¬äºŒä¸ªåŸå› æ˜¯æˆ‘å¤ªæ‡’äº†ï¼Œæ— æ³•é‡åš<i>RecycleView</i>ä¸‹çš„åˆ—è¡¨ï¼ˆå®ƒåœ¨ä½¿ç”¨ä¸Šä¸<i>ScrollViewæ ¹æœ¬</i>ä¸åŒï¼‰ï¼Œè€Œä¸”æ—¶é—´ä¸å¤šï¼Œå› ä¸ºæ•´ä¸ªåº”ç”¨ç¨‹åºæ˜¯åœ¨å››ä¸ªå°æ—¶å†…æŠ½çƒŸå’Œå–å’–å•¡ä¼‘æ¯çš„ã€‚ <br><br> å¸¦æœ‰é¡¹ç›®åˆ—è¡¨ï¼ˆListProjectsActivity.kvå’ŒListProjectsActivity.pyï¼‰çš„å¼€å§‹å±å¹•å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4g/lu/i4/4glui4eyzptivo76zrmmqj_amqw.png"></div><br> ç”±äºListProjectsActivityå±å¹•çš„å¸ƒå±€å·²ç»æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œå› æ­¤æˆ‘å°†æ˜¾ç¤ºå…¶æ§ä»¶ç±»çš„å¤–è§‚ï¼š <br><br><pre> <code class="hljs pgsql"># -*- coding: utf<span class="hljs-number"><span class="hljs-number">-8</span></span> -*- <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.screenmanager <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Screen <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Activity <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> libs.uix.baseclass.InputDialog <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> InputDialog <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> . ProjectItem <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ProjectItem <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ListProjectsActivity(Activity): objApp = App.get_running_app() def setListProjects(self, objApp): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> nameProject <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> objApp.dataProjects.keys(): self.ids.layoutContainer.add_widget(ProjectItem(projectName=nameProject)) def createNewProject(self, projectName): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> projectName <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> projectName.isspace(): self.ids.layoutContainer.add_widget(ProjectItem(projectName=projectName)) self.objApp.addProjectInBase(projectName) def deleteProject(self, instance): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> projectName <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.objApp.dataProjects: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> instance.projectName == projectName: self.objApp.deleteProjectFromBase(projectName) break def showDialogCreateProject(self, *args): InputDialog( title=<span class="hljs-string"><span class="hljs-string">' '</span></span>, hintText=<span class="hljs-string"><span class="hljs-string">' '</span></span>, textButtonCancel=<span class="hljs-string"><span class="hljs-string">''</span></span>, textTuttonOk=<span class="hljs-string"><span class="hljs-string">''</span></span>, eventsCallback=self.createNewProject).<span class="hljs-keyword"><span class="hljs-keyword">show</span></span>()</code> </pre><br> å¯¹è¯æ¡†è°ƒç”¨ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bt/t1/kj/btt1kjdoddave7eoowlvhxigdpq.png"></div><br> åœ¨å·¥ä½œä¸­ï¼Œè°ƒç”¨çª—å£å¹¶åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®å°†å¦‚ä¸‹æ‰€ç¤ºï¼š <br><table><tbody><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/te/gh/hm/teghhm6op9paveubdsjwh0m_d60.gif"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/uz/v7/hl/uzv7hllrtghzrnw-rj0i7e7xnds.gif"></div></td></tr></tbody></table><br> æˆ‘å°†ä¸è®¨è®ºæœ‰å…³åº”ç”¨ç¨‹åºæ•°æ®çš„é—®é¢˜ï¼Œå› ä¸ºæ•°æ®æ˜¯ä»¥ä¸‹å½¢å¼çš„å¸¸è§„å­—å…¸ <br><br><pre> <code class="python hljs">{<span class="hljs-string"><span class="hljs-string">"Name Project"</span></span>: [{<span class="hljs-string"><span class="hljs-string">"pathToAvatar"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"nameDate"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"nameAuthor"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"textNote"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>}]}</code> </pre> <br> å¹¶ä¸”ä½œä¸ºç®€å•çš„jsonæ–‡ä»¶å­˜å‚¨åœ¨<b>æ•°æ®</b>ç›®å½•ä¸­ã€‚ <br><br> è®©æˆ‘ä»¬çœ‹çœ‹å¸¦æœ‰é¡¹ç›®åç§°çš„é¡¹ç›®æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨Kivyé€šè¿‡æ»‘åŠ¨ä»åˆ—è¡¨ä¸­åˆ é™¤é¡¹ç›®ï¼Ÿ ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¿…é¡»ä»<i>SwipeToDelete</i>åº“çš„<i>SwipeBehavior</i>ç±»ç»§æ‰¿åˆ—è¡¨<i>ä¸­å°</i>éƒ¨ä»¶çš„è¡Œä¸ºï¼š <br><br>  <b>ProjectItemActivity.py</b> <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.properties <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> StringProperty <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.boxlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BoxLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> libs.applibs.swipetodelete <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SwipeBehavior <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProjectItemActivity</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(SwipeBehavior, BoxLayout)</span></span></span><span class="hljs-class">:</span></span> projectName = StringProperty() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_touch_down</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, touch)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.collide_point(touch.x, touch.y): self.move_to = self.x, self.y <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> super(ProjectItemActivity, self).on_touch_down(touch) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_touch_move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, touch)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.collide_point(touch.x, touch.y): self.reduce_opacity() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> super(ProjectItemActivity, self).on_touch_move(touch) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_touch_up</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, touch)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.collide_point(touch.x, touch.y): self.check_for_left() self.check_for_right() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> super(ProjectItemActivity, self).on_touch_up(touch)</code> </pre><br> ä»¥åŠKvæ ‡è®°ä¸­çš„é¡¹ç›®é¡¹è¯´æ˜ï¼š <br><br>  <b>ProjectItemActivity.kv</b> <br><pre> <code class="hljs css">&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">ProjectItemActivity</span></span>&gt;: <span class="hljs-selector-tag"><span class="hljs-selector-tag">swipe_rectangle</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">self</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.x</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">self</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.y</span></span> , <span class="hljs-selector-tag"><span class="hljs-selector-tag">self</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.width</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">self</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.height</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">swipe_timeout</span></span>: 1000000 <span class="hljs-selector-tag"><span class="hljs-selector-tag">swipe_distance</span></span>: 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">event_after_swipe</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.listActivity</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.deleteProject</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OneLineListItem</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">text</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">root</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.projectName</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on_press</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.listActivity</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.setNotesProject</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">root</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.projectName</span></span>)</code> </pre><br> é€šå¸¸ï¼ŒKivyä¸­çš„æ¯ä¸ªå°éƒ¨ä»¶éƒ½å…·æœ‰<b><i>on_touch</i></b>æ–¹æ³•ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•æ•è·å±å¹•ä¸Šå‘ç”Ÿçš„ä»»ä½•äº‹ä»¶ã€‚ è¿™æ˜¯å¯ç”¨äº‹ä»¶åˆ—è¡¨çš„ä¸€å°éƒ¨åˆ†ï¼š <br><br><pre> <code class="python hljs">[<span class="hljs-string"><span class="hljs-string">'double_tap_time'</span></span>, <span class="hljs-string"><span class="hljs-string">'grab_state'</span></span>, <span class="hljs-string"><span class="hljs-string">'is_double_tap'</span></span>, <span class="hljs-string"><span class="hljs-string">'is_mouse_scrolling'</span></span>, <span class="hljs-string"><span class="hljs-string">'is_touch'</span></span>, <span class="hljs-string"><span class="hljs-string">'is_triple_tap'</span></span>, <span class="hljs-string"><span class="hljs-string">'move'</span></span>, <span class="hljs-string"><span class="hljs-string">'push'</span></span>, <span class="hljs-string"><span class="hljs-string">'push_attrs'</span></span>, <span class="hljs-string"><span class="hljs-string">'push_attrs_stack'</span></span>, <span class="hljs-string"><span class="hljs-string">'scale_for_screen'</span></span>, <span class="hljs-string"><span class="hljs-string">'time_end'</span></span>, <span class="hljs-string"><span class="hljs-string">'time_start'</span></span>, <span class="hljs-string"><span class="hljs-string">'time_update'</span></span>, <span class="hljs-string"><span class="hljs-string">'triple_tap_time'</span></span>, <span class="hljs-string"><span class="hljs-string">'ungrab'</span></span>, <span class="hljs-string"><span class="hljs-string">'update_time_end'</span></span>]</code> </pre><br><table><tbody><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/zz/bl/rl/zzblrlviduost-tycdnpvs-xyy0.gif"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/bd/dv/ml/bddvmlttyqkolsl5a-cy2r9a6vc.gif"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/nm/i0/fw/nmi0fw493_feuoafuwzbm4xr7hm.gif"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/kj/yr/9a/kjyr9axwzdywc3tdgkm_eyq9tzo.gif"></div></td></tr></tbody></table><br> ä¸ºAndroidå®ç°ä¸Šä¸‹æ–‡èœå•... <br><br> è¿™é‡Œä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºè¿™åªæ˜¯ä¸€ä¸ªæ ‡å‡†çš„DropDownå°éƒ¨ä»¶ã€‚ ç”±äºæ‚¨å¯ä»¥åœ¨è‡ªå·±çš„æƒ³è±¡åŠ›èŒƒå›´å†…è‡ªå®šä¹‰Kivyä¸­çš„æ‰€æœ‰å°éƒ¨ä»¶å’Œæ§ä»¶ï¼Œå› æ­¤æˆ‘å¾ˆå®¹æ˜“è·å¾—äº†ä¸€ä¸ªæ¼‚äº®çš„èœå•ã€‚ å·¦è¾¹æ˜¯åŸºæœ¬çš„DropDownï¼Œå³è¾¹æ˜¯æˆ‘çš„ï¼š <br><table><tbody><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/9r/wh/nm/9rwhnm1vtqz-z9sbkosz-69rnrs.gif"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/hp/oz/xt/hpozxtujdyich9u4u9oh3wmasdw.gif"></div></td></tr></tbody></table><br> ä¸Šä¸‹æ–‡èœå•åˆ—è¡¨çš„å¸ƒå±€ï¼š <br><br>  <b>ContextMenuAndroidActivity.kv</b> <br><pre> <code class="hljs pgsql">#:<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MDSeparator libs.applibs.kivymd.card.MDSeparator #:<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MenuItem libs.applibs.animdropdown.MenuItem &lt;ContextMenuAndroidActivity&gt;: MenuItem: <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> menu: root on_press: root.tapOnItem(self.text) MDSeparator: MenuItem: <span class="hljs-type"><span class="hljs-type">text</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> menu: root on_press: root.tapOnItem(self.text)</code> </pre><br> ä¸Šä¸‹æ–‡èœå•çš„è½¯ä»¶éƒ¨åˆ†ï¼š <br><br>  <b>ContextMenuAndroidActivity.kv</b> <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.clock <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Clock <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> libs.applibs.animdropdown <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AnimMenuDropDown <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContextMenuAndroidActivity</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(AnimMenuDropDown)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tapOnItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, textItem)</span></span></span><span class="hljs-function">:</span></span> objApp = App.get_running_app() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> textItem == <span class="hljs-string"><span class="hljs-string">''</span></span>: objApp.listActivity.deletePost() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: objApp.activityManager.current = <span class="hljs-string"><span class="hljs-string">'add new note activity'</span></span> Clock.schedule_once(objApp.addNewNoteActivity.editNote, <span class="hljs-number"><span class="hljs-number">.5</span></span>)</code> </pre><br> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»<i>animdropdown</i>åº“ä¸­å¯¼å…¥<i>MenuDropDown</i>æŒ‰é’®ï¼Œå¹¶å‘<i>å…¶</i>ä¼ é€’ä¸Šä¸‹æ–‡èœå•çš„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°æ‰€éœ€çš„å±å¹•ä¸­ã€‚ åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œè¿™æ˜¯ä¾¿ç­¾å¡å³ä¾§çš„æŒ‰é’®ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/27/qr/jt/27qrjtfka-i1bjmtzte93q2iefm.png"></div><br> æ ‡è®°æ´»åŠ¨å¡æ³¨é‡Šï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aq/bt/tx/aqbttxbii2mhh-jo6ispppmo6ks.png"></div><br> åŸºç±»<b>NoteActivity</b> ï¼š <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.properties <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> StringProperty <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.boxlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BoxLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> libs.applibs.animdropdown <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MenuButton <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> libs.applibs.swipetodelete <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SwipeBehavior <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> . ContextMenu <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ContextMenu <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NoteActivity</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(SwipeBehavior, BoxLayout)</span></span></span><span class="hljs-class">:</span></span> nameDate = StringProperty() textNote = StringProperty() pathToAvatar = StringProperty() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kwargs)</span></span></span><span class="hljs-function">:</span></span> super(NoteActivity, self).__init__(**kwargs) self.objApp = App.get_running_app() menuButton = MenuButton( dropdown_cls=ContextMenu, icon=<span class="hljs-string"><span class="hljs-string">'dots-vertical'</span></span>, _on_dropdown_fnc=self.setCurrentPost) self.ids.titleBox.add_widget(menuButton) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCurrentPost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args)</span></span></span><span class="hljs-function">:</span></span> self.objApp.listNotesActivity.checkCurentPost = self</code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ir/y9/vi/iry9vibv89ycgb70uwcb6rensce.png"></div><br>  <b>ListNotesActivityçš„</b>è½¯ä»¶å®ç°ï¼š <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- from kivy.app import App from kivy.uix.screenmanager import Screen as Activity from kivy.properties import ObjectProperty from . NoteActivity import NoteActivity class ListNotesActivity(Activity): checkCurentPost = ObjectProperty() objApp = App.get_running_app() def clearList(self): if self.objApp.activityManager.current == 'list project activity': self.ids.layoutContainer.clear_widgets() def addNewNote(self, objApp): objApp.activityManager.current = 'add new note activity' def setDefaultcheckCurentPost(self): self.checkCurentPost = lambda x: None def setNotesProject(self, nameProject): self.ids.toolBar.title = nameProject for dataProject in self.objApp.dataProjects[nameProject][1]: self.ids.layoutContainer.add_widget(NoteActivity( textNote=dataProject['textNote'], nameDate=dataProject['nameDate'], pathToAvatar=dataProject['pathToAvatar'])) def deletePost(self, instance=None): #  . if not self.checkCurentPost: checkCurentPost = instance else: checkCurentPost = self.checkCurentPost self.ids.layoutContainer.remove_widget(self.checkCurentPost) nameProject = self.ids.toolBar.title self.objApp.deleteNoteFromBase(nameProject, checkCurentPost.textNote) def checkScroll(self): if self.checkCurentPost and type(self.checkCurentPost) is not NoteActivity: self.checkCurentPost(self)</span></span></code> </pre><br> å¦‚ä½•ç®¡ç†åº”ç”¨ç¨‹åºçš„æ´»åŠ¨ï¼Ÿ ä¸ºäº†ä»ä¸€ä¸ªæ´»åŠ¨åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ´»åŠ¨ï¼Œæˆ‘ä»¬å¿…é¡»å‘å±å¹•ç®¡ç†å™¨æŒ‡ç¤ºæ–°æ´»åŠ¨çš„åç§°ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ListNotesActivity</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Activity)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addNewNote</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args)</span></span></span><span class="hljs-function">:</span></span> self.objApp.activityManager.current = <span class="hljs-string"><span class="hljs-string">'add new note activity'</span></span></code> </pre><br>  ...å…¶ä¸­<i><b>â€œæ·»åŠ æ–°ç¬”è®°æ´»åŠ¨â€æ˜¯æ·»åŠ æ–°ç¬”è®°çš„æ´»åŠ¨çš„</b></i>åç§°ã€‚ <br><br>  <b>AddNewNoteActivityæ´»åŠ¨çš„</b>å±å¹•å’Œå¸ƒå±€ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6m/wc/pd/6mwcpd7f5dswgcy8vgcehomb7ci.png"></div><br> åŸºç±»ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.animation <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Animation <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.screenmanager <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Screen <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Activity <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dp <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> libs.uix.baseclass.NoteActivity <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> NoteActivity <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AddNewNoteActivity</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Activity)</span></span></span><span class="hljs-class">:</span></span> objApp = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> edit = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> oldTextNote = <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animationButton</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.objApp = App.get_running_app() self.ids.toolBar.title = self.objApp.listNotesActivity.ids.toolBar.title Animation(size=(dp(<span class="hljs-number"><span class="hljs-number">56</span></span>), dp(<span class="hljs-number"><span class="hljs-number">56</span></span>)), d=<span class="hljs-number"><span class="hljs-number">.5</span></span>, t=<span class="hljs-string"><span class="hljs-string">'in_out_cubic'</span></span>).start(self.ids.floatingButton) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addNewNotes</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, textNote)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.edit: nameProject = self.ids.toolBar.title self.objApp.addEditNoteInBase(nameProject, textNote, self.oldTextNote) self.objApp.activityManager.backActivity(<span class="hljs-string"><span class="hljs-string">'list notes activity'</span></span>, self.ids.floatingButton) self.objApp.listNotesActivity.checkCurentPost.textNote = textNote self.edit = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.objApp.listNotesActivity.ids.layoutContainer.add_widget( NoteActivity( textNote=textNote, nameDate=<span class="hljs-string"><span class="hljs-string">'%s\n%s'</span></span> % ( self.objApp.nameAuthor, self.objApp.getDate()), pathToAvatar=<span class="hljs-string"><span class="hljs-string">'data/images/avatar.png'</span></span>)) self.objApp.addNoteInBase(self.ids.toolBar.title, textNote, <span class="hljs-string"><span class="hljs-string">'data/images/avatar.png'</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">editNote</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, interval)</span></span></span><span class="hljs-function">:</span></span> self.edit = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> self.ids.textInput.text = self.objApp.listNotesActivity.checkCurentPost.textNote self.oldTextNote = self.ids.textInput.text</code> </pre><br> ä¸ºäº†ç»™æŒ‰é’®æ·»åŠ åŠ¨ç”»æ•ˆæœï¼Œæˆ‘ä½¿ç”¨äº†<b>on_enter</b>äº‹ä»¶ï¼Œè¯¥äº‹ä»¶åœ¨å±å¹•ä¸Šå®‰è£…äº†Activityæ—¶å¼•å‘ï¼š <br><br> åœ¨æ ‡è®°ä¸­ï¼š <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AddNewNoteActivity</span></span></span><span class="hljs-tag">&gt;</span></span> on_enter: root.animationButton()</code> </pre><br> åœ¨Pythonä»£ç ä¸­ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AddNewNoteActivity</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Activity)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animationButton</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> Animation(size=(dp(<span class="hljs-number"><span class="hljs-number">56</span></span>), dp(<span class="hljs-number"><span class="hljs-number">56</span></span>)), d=<span class="hljs-number"><span class="hljs-number">.5</span></span>, t=<span class="hljs-string"><span class="hljs-string">'in_out_cubic'</span></span>).start(self.ids.floatingButton)</code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/we/fj/lq/wefjlq6o_4ohxersgl96zebkxo4.gif"></div><br> ä¸Xamarin.Formsä¸åŒï¼ŒKivyä¸­çš„UIåˆ°å¤„çœ‹èµ·æ¥éƒ½æ˜¯ä¸€æ ·çš„ã€‚ å› æ­¤ï¼Œå¦‚æœè¦ä¸ºä¸¤ä¸ªå¹³å°ï¼ˆAndroidå’ŒiOSï¼‰ç¼–å†™åº”ç”¨ç¨‹åºï¼Œåˆ™åœ¨æ ‡è®°ç•Œé¢å¹¶æŒ‡å®šå°éƒ¨ä»¶çš„å±æ€§æ—¶åº”è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ã€‚ æˆ–ä¸ºä¸¤ä¸ªå¹³å°åšä¸¤ä¸ªæ ‡è®°ï¼ˆé€»è¾‘ä¿æŒä¸å˜ï¼‰ã€‚ è¿™æ ·åšæ˜¯æœ‰å¥½å¤„çš„ï¼Œå› ä¸ºUIå‘ˆç°å’Œäº‹ä»¶ä¸å¹³å°çš„åŠŸèƒ½æ— å…³ï¼Œå› æ­¤æ‚¨æ— éœ€ä½¿ç”¨æœ¬æœºAPIæ¥æ§åˆ¶è¿™äº›æ“ä½œï¼Œä»è€Œä½¿æ‚¨çš„åº”ç”¨ç¨‹åºå‡ ä¹å¯ä»¥åœ¨ä»»ä½•å¹³å°ä¸Šè½»æ¾æ‰§è¡Œã€‚ æ‰€æœ‰å›¾å½¢éƒ½æ˜¯ä½¿ç”¨GPUä¸Šçš„æœ¬æœºOpenGLå’ŒSDL2è°ƒç”¨æ¸²æŸ“çš„ï¼Œè¿™ä½¿æ‚¨å¯ä»¥å¿«é€Ÿç»˜åˆ¶èœå•ï¼ŒæŒ‰é’®å’Œå…¶ä»–å›¾å½¢ç•Œé¢ï¼ŒåŒ…æ‹¬2Då’Œ3Då›¾å½¢ã€‚ <br><br> è¯¥åº”ç”¨ç¨‹åºä½¿ç”¨Android UI MaterialDesignã€‚ ä¾‹å¦‚ï¼Œæˆ‘çš„ä¸Šä¸€ä¸ªé¡¹ç›®å…·æœ‰è‡ªé€‚åº”æ¥å£ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rm/de/xt/rmdextdb8krmw5ylbk2o7zwailk.png" width="600" height="400"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ev/pv/3_/evpv3_f2ht9oqh3cs7m4htfqdiq.png" width="600" height="400"></div><br> è¿™æ˜¯ææ–™è®¾è®¡é£æ ¼çš„å¯èƒ½æ€§çš„è¯æ˜ï¼š <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br> å°±åƒæˆ‘è¯´çš„é‚£æ ·ï¼ŒKivyä¸ä½¿ç”¨æœ¬æœºAPIæ¥å‘ˆç°UIï¼Œå› æ­¤å®ƒå…è®¸æ‚¨ä½¿ç”¨<b><i>å±å¹•</i></b>æ¨¡å—æ¥æ¨¡æ‹Ÿå„ç§æ¨¡å‹çš„è®¾å¤‡å’Œå¹³å°ã€‚ ä½¿ç”¨å¿…è¦çš„å‚æ•°è¿è¡Œé¡¹ç›®å°±è¶³å¤Ÿäº†ï¼Œè¿™æ ·å°±å¯ä»¥åƒåœ¨çœŸå®è®¾å¤‡ä¸Šè¿è¡Œä¸€æ ·åœ¨è®¡ç®—æœºä¸Šæ‰“å¼€ç»è¿‡æµ‹è¯•çš„åº”ç”¨ç¨‹åºçš„çª—å£ã€‚ å¬èµ·æ¥å¾ˆå¥‡æ€ªï¼Œä½†æ˜¯ç”±äºKivyåœ¨å‘ˆç°UIæ—¶æ˜¯ä»å¹³å°ä¸­æŠ½è±¡å‡ºæ¥çš„ï¼Œå› æ­¤æ¶ˆé™¤äº†å¯¹ç¹çç¼“æ…¢çš„ä»¿çœŸå™¨è¿›è¡Œæµ‹è¯•çš„éœ€æ±‚ã€‚ è¿™ä»…é€‚ç”¨äºUIã€‚ ä¾‹å¦‚ï¼Œæœ¬æ–‡ä¸­æè¿°çš„æµ‹è¯•åº”ç”¨ç¨‹åºå·²ä½¿ç”¨<b><i>-må±å¹•</i></b>å‚æ•°è¿›è¡Œäº†æµ‹è¯•<b><i>ï¼šdroid2ï¼Œportraitï¼Œscale = .75</i></b>ä¸€å¯¹ä¸€å¯¹åº”äºæˆ‘çš„çœŸå®è®¾å¤‡ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å±å¹•æ¨¡å—å‚æ•°çš„å®Œæ•´åˆ—è¡¨ï¼š</b> <div class="spoiler_text"><pre> <code class="python hljs">devices = { <span class="hljs-comment"><span class="hljs-comment"># device: (name, width, height, dpi, density) 'onex': ('HTC One X', 1280, 720, 312, 2), 'one': ('HTC One', 1920, 1080, 468, 3), 'onesv': ('HTC One SV', 800, 480, 216, 1.5), 's3': ('Galaxy SIII', 1280, 720, 306, 2), 'note2': ('Galaxy Note II', 1280, 720, 267, 2), 'droid2': ('Motorola Droid 2', 854, 480, 240, 1.5), 'xoom': ('Motorola Xoom', 1280, 800, 149, 1), 'ipad': ('iPad (1 and 2)', 1024, 768, 132, 1), 'ipad3': ('iPad 3', 2048, 1536, 264, 2), 'iphone4': ('iPhone 4', 960, 640, 326, 2), 'iphone5': ('iPhone 5', 1136, 640, 326, 2), 'xperiae': ('Xperia E', 480, 320, 166, 1), 'nexus4': ('Nexus 4', 1280, 768, 320, 2), 'nexus7': ('Nexus 7 (2012 version)', 1280, 800, 216, 1.325), 'nexus7.2': ('Nexus 7 (2013 version)', 1920, 1200, 323, 2), # taken from design.google.com/devices # please consider using another data instead of # a dict for autocompletion to work # these are all in landscape 'phone_android_one': ('Android One', 854, 480, 218, 1.5), 'phone_htc_one_m8': ('HTC One M8', 1920, 1080, 432, 3.0), 'phone_htc_one_m9': ('HTC One M9', 1920, 1080, 432, 3.0), 'phone_iphone': ('iPhone', 480, 320, 168, 1.0), 'phone_iphone_4': ('iPhone 4', 960, 640, 320, 2.0), 'phone_iphone_5': ('iPhone 5', 1136, 640, 320, 2.0), 'phone_iphone_6': ('iPhone 6', 1334, 750, 326, 2.0), 'phone_iphone_6_plus': ('iPhone 6 Plus', 1920, 1080, 400, 3.0), 'phone_lg_g2': ('LG G2', 1920, 1080, 432, 3.0), 'phone_lg_g3': ('LG G3', 2560, 1440, 533, 3.0), 'phone_moto_g': ('Moto G', 1280, 720, 327, 2.0), 'phone_moto_x': ('Moto X', 1280, 720, 313, 2.0), 'phone_moto_x_2nd_gen': ('Moto X 2nd Gen', 1920, 1080, 432, 3.0), 'phone_nexus_4': ('Nexus 4', 1280, 768, 240, 2.0), 'phone_nexus_5': ('Nexus 5', 1920, 1080, 450, 3.0), 'phone_nexus_5x': ('Nexus 5X', 1920, 1080, 432, 2.6), 'phone_nexus_6': ('Nexus 6', 2560, 1440, 496, 3.5), 'phone_nexus_6p': ('Nexus 6P', 2560, 1440, 514, 3.5), 'phone_samsung_galaxy_note_4': ('Samsung Galaxy Note 4', 2560, 1440, 514, 3.0), 'phone_samsung_galaxy_s5': ('Samsung Galaxy S5', 1920, 1080, 372, 3.0), 'phone_samsung_galaxy_s6': ('Samsung Galaxy S6', 2560, 1440, 576, 4.0), 'phone_sony_xperia_c4': ('Sony Xperia C4', 1920, 1080, 400, 2.0), 'phone_sony_xperia_z_ultra': ('Sony Xperia Z Ultra', 1920, 1080, 348, 2.0), 'phone_sony_xperia_z1_compact': ('Sony Xperia Z1 Compact', 1280, 720, 342, 2.0), 'phone_sony_xperia_z2z3': ('Sony Xperia Z2/Z3', 1920, 1080, 432, 3.0), 'phone_sony_xperia_z3_compact': ('Sony Xperia Z3 Compact', 1280, 720, 313, 2.0), 'tablet_dell_venue_8': ('Dell Venue 8', 2560, 1600, 355, 2.0), 'tablet_ipad': ('iPad', 1024, 768, 132, 1.0), 'tablet_ipad_mini': ('iPad Mini', 1024, 768, 163, 1.0), 'tablet_ipad_mini_retina': ('iPad Mini Retina', 2048, 1536, 326, 2.0), 'tablet_ipad_pro': ('iPad Pro', 2732, 2048, 265, 2.0), 'tablet_ipad_retina': ('iPad Retina', 2048, 1536, 264, 2.0), 'tablet_nexus_10': ('Nexus 10', 2560, 1600, 297, 2.0), 'tablet_nexus_7_12': ('Nexus 7 12', 1280, 800, 216, 1.3), 'tablet_nexus_7_13': ('Nexus 7 13', 1920, 1200, 324, 2.0), 'tablet_nexus_9': ('Nexus 9', 2048, 1536, 288, 2.0), 'tablet_samsung_galaxy_tab_10': ('Samsung Galaxy Tab 10', 1280, 800, 148, 1.0), 'tablet_sony_xperia_z3_tablet': ('Sony Xperia Z3 Tablet', 1920, 1200, 282, 2.0), 'tablet_sony_xperia_z4_tablet': ('Sony Xperia Z4 Tablet', 2560, 1600, 297, 2.0)TodoList() app.run() }</span></span></code> </pre><br></div></div><br> æœ€åå¯ä»¥è¯´ä»€ä¹ˆï¼Ÿ  Kivyå¥½å—ï¼Ÿ æ— ç–‘ä¸é”™ï¼ å¦‚æœæ‚¨äº†è§£å‡ºè‰²çš„Pythonç¼–ç¨‹è¯­è¨€ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åŒæ ·å‡ºè‰²çš„Kivyæ¡†æ¶è½»æ¾åœ°ä¸ºç§»åŠ¨ï¼ˆä¸ä»…æ˜¯ï¼‰å¹³å°åˆ¶ä½œåº”ç”¨ç¨‹åºã€‚ <br><br>  <b>ä½¿ç”¨Kivyæ¡†æ¶å¼€å‘åº”ç”¨ç¨‹åºçš„ä¼˜åŠ¿ï¼š</b> <br><br><ul><li> ç”±äºæˆ‘ä»¬æ­£åœ¨å¤„ç†Pythonï¼Œå› æ­¤åº”ç”¨ç¨‹åºçš„å¼€å‘é€Ÿåº¦æ¯”ä»»ä½•å…¶ä»–ç¼–ç¨‹è¯­è¨€æˆ–æ¡†æ¶çš„å¼€å‘é€Ÿåº¦å¿«å‡ å€ã€‚ </li><li> æ‚¨å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„æˆç™¾ä¸Šåƒä¸ªç°æˆçš„Pythonåº“ï¼š <b>OpenCVï¼ŒDjangoï¼ŒFlaskï¼ŒNumPyï¼Œffmpegï¼Œsqlite3ï¼Œlxml</b>ä»¥åŠå…¶ä»–æ•°åƒç§ã€‚ </li><li> ç”±äºKivyä½¿ç”¨OpenGLå’ŒGPUä»¥åŠå…¶è‡ªå·±çš„å°éƒ¨ä»¶å’Œæ§ä»¶æ¥æ¸²æŸ“å›¾å½¢ï¼Œå› æ­¤UIæ¸²æŸ“é€Ÿåº¦éå¸¸å¿«ï¼Œæ‚¨å®Œå…¨å¯ä»¥å…é™¤å¤´ç—›ï¼Œè¿™åœ¨å…¶ä»–æ¡†æ¶ä¸­ä¹Ÿå­˜åœ¨ï¼Œè¿™äº›æ¡†æ¶éœ€è¦æ·±å…¥äº†è§£æœ¬æœºéƒ¨åˆ†ä»¥å®ç°ç•Œé¢çš„æŸäº›éƒ¨åˆ†ã€‚ </li><li> ä»…åœ¨éœ€è¦è®¿é—®ç‰¹å®šå¹³å°åŠŸèƒ½ï¼ˆä»…åœ¨çœŸæ­£çš„è·¨å¹³å°æ¡†æ¶ä¸­æ ¹æœ¬ä¸å­˜åœ¨ï¼‰çš„åœ°æ–¹ä½¿ç”¨æœ¬æœºï¼šä¾‹å¦‚ï¼Œè®¿é—®åœ°ç†ä½ç½®ï¼Œè®¿é—®æ‘„åƒå¤´ï¼Œè“ç‰™æŠ€æœ¯... <br><br> ä½¿ç”¨PyJniuså®ç°å¯¹æœ¬åœ°Android APIçš„è®¿é—®ä»¥è·å–IMEIå’Œè®¾å¤‡æ¨¡å‹ï¼š </li></ul><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_get_model_android</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> jnius <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> autoclass Build = autoclass(<span class="hljs-string"><span class="hljs-string">'android.os.Build'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str(Build.DEVICE) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_get_imei_android</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> jnius <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> autoclass Service = autoclass(<span class="hljs-string"><span class="hljs-string">'org.renpy.android.PythonActivity'</span></span>).mActivity Context = autoclass(<span class="hljs-string"><span class="hljs-string">'android.content.Context'</span></span>) TelephonyManager = Service.getSystemService(Context.TELEPHONY_SERVICE) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str(TelephonyManager.getDeviceId())</code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fw/bi/pm/fwbipmzqlt4iebzxbaap4f_-e0y.gif"></div><br> ä¾‹å¦‚ï¼Œç”¨Javaå®ç°æœ¬æœºæ¥æ”¶IMEIè®¾å¤‡çš„å®ç°ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.Context; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.telephony.TelephonyManager; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetImeiAndroid</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getImeiAndroid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ TelephonyManager tm = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE); String IMEINumber = tm.getDeviceId(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IMEINumber; } }</code> </pre><br><ul><li> å¯¹äºAndroidï¼Œæ‚¨å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ç¬¬ä¸‰æ–¹jaråº“ã€‚ </li><li> æ‚¨å®Œå…¨æ‹¥æœ‰å±å¹•ä¸Šå‘ç”Ÿçš„æ‰€æœ‰äº‹ä»¶ï¼šè§¦æ‘¸ï¼Œå¤šç‚¹è§¦æ‘¸ï¼Œæ»‘åŠ¨ï¼Œæ‰“å­”å’Œå…¶ä»–äº‹ä»¶ï¼Œè€Œæ— éœ€ä½¿ç”¨æœ¬æœºï¼Œå› æ­¤ï¼Œè¿™æ˜¯Kivyä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚ </li></ul><br><div class="spoiler">  <b class="spoiler_title">è§¦æ‘¸è®¾å¤‡ä¸­çš„KivyåŠŸèƒ½ï¼š</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://player.vimeo.com/video/45240986" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://player.vimeo.com/video/40730046" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://player.vimeo.com/video/25680681" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/u4NRu7mBXtA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  <b>å°½ç®¡å…·æœ‰æ‰€æœ‰ä¼˜ç‚¹ï¼Œä½†Kivyæœ‰å‡ ä¸ªç¼ºç‚¹ï¼š</b> <br><br><ul><li>  â€œå†·å¯åŠ¨â€çš„é€Ÿåº¦ï¼Œå³ä»éƒ¨ç½²æ‰€æœ‰åº“çš„é‚£ä¸€åˆ»èµ·é¦–æ¬¡å¯åŠ¨åº”ç”¨ç¨‹åºçš„é€Ÿåº¦å°±ç›¸å½“é•¿ã€‚ åç»­çš„æ˜¯æ™®é€šçš„ï¼Œä½†æ¯”æœ¬åœ°çš„é•¿ï¼Œè¿™è¦å–å†³äºç§»åŠ¨è®¾å¤‡çš„å¤„ç†å™¨è´Ÿè½½ã€‚ </li><li> ä½¿ç”¨åˆ—è¡¨ã€‚ æ‚¨å¯ä»¥åœ¨åŠç§’å†…æ˜¾ç¤ºå¤§å°ä¸º100,000é¡¹çš„åˆ—è¡¨ï¼ˆä¾‹å¦‚ï¼Œç”¨æˆ·å¡ç‰‡ï¼Œå±•ç¤ºæŸœï¼ŒæŠ¥ä»·ï¼‰ï¼Œä½†æœ‰ä¸€ä¸ªæ¡ä»¶-æ‰€æœ‰å¡ç‰‡çš„é«˜åº¦å¿…é¡»ç›¸åŒã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ˜¾ç¤ºçš„æ˜¯å¼•æ–‡åˆ—è¡¨ï¼Œä½†é¢„å…ˆåŒ…å«æœªçŸ¥æ•°é‡çš„æ–‡æœ¬ï¼Œä½†å…¨éƒ¨æ˜¾ç¤ºï¼Œåˆ™ä¸€æ¬¡ä¸èƒ½æ˜¾ç¤ºåå¤šä¸ªç‚¹ï¼Œå› ä¸ºè¿™å¤§çº¦éœ€è¦10åˆ°15ç§’ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ»šåŠ¨åˆ—è¡¨æ—¶ï¼Œæ‚¨å°†å¿…é¡»åˆ†åˆ«åŠ è½½10-15ä¸ªé¡¹ç›®ã€‚ </li><li> æ— æ³•æ˜¾ç¤ºè¶…è¿‡6500ä¸ªå­—ç¬¦çš„æ–‡æœ¬ï¼ˆ3.5é¡µæ‰“å°æ–‡æœ¬ï¼‰-æˆ‘ä»¬å¾—åˆ°é»‘å±ã€‚ è§£å†³æ–¹æ³•æ˜¯å…ˆå°†æ–‡æœ¬åˆ†å¼€ï¼Œç„¶åå°†å…¶ç²˜åˆåœ¨ä¸€èµ·ï¼Œä½†è¿™ä¼¼ä¹ä»æ˜¯ä¸€ä¸ªæ‹æ–ã€‚ ä½†æ˜¯ï¼Œä¸æ¸…æ¥šä¸€æ¬¡ä¼šå‘è°è¾“å‡ºè¿™æ ·å¤§é‡çš„æ–‡æœ¬ã€‚ ç‰¹åˆ«æ˜¯åœ¨ç§»åŠ¨å¹³å°æ–¹é¢ã€‚ </li></ul><br>  â†’ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœ‰å…³åŸºç»´çš„æ›´å¤šæ–‡ç« </a> <br><br> æ¥è‡ªKivyå¼€å‘äººå‘˜<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„è™šæ‹Ÿæœº</a> ï¼ˆZenCODEçš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼‰å·²å‡†å¤‡å°±ç»ªï¼Œå¹¶å·²é…ç½®ä¸ºä¸¤ä¸ªPythonåˆ†æ”¯éƒ½æ„å»ºé¡¹ç›®ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN420691/">https://habr.com/ru/post/zh-CN420691/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN420679/index.html">Mail.Rué›†å›¢çš„æ–°Pythonè¯¾ç¨‹</a></li>
<li><a href="../zh-CN420681/index.html">AMD ThreadRipper 2ï¼šé¦–æ¬¡ä»‹ç»</a></li>
<li><a href="../zh-CN420685/index.html">ä¿®å¤å¹¶ä¸­å’Œï¼šæˆ‘ä»¬å¦‚ä½•é©¯æœé“¶ã€‚ å…³äºæ°´æ€èŒå‰‚çš„è¯</a></li>
<li><a href="../zh-CN420687/index.html">ä½¿ç”¨VSä»£ç åœ¨Azure IoTä¸­å¿ƒä¸­è°ƒç”¨REST API [+æœ‰ç”¨çš„ææ–™]</a></li>
<li><a href="../zh-CN420689/index.html">æ¸¸æˆè®¾è®¡å¸ˆä»é›¶å¼€å§‹ï¼šå¦‚ä½•å¼€å§‹æ²¡æœ‰ç»éªŒçš„æ¸¸æˆ</a></li>
<li><a href="../zh-CN420693/index.html">Mail.Ruç»„åœ¨Technostreamé¢‘é“ä¸Šçš„Javaå¼€å‘è¯¾ç¨‹</a></li>
<li><a href="../zh-CN420695/index.html">é›·ï¼šä½¿ç”¨äººå·¥æ™ºèƒ½çš„åˆ†å¸ƒå¼ç³»ç»Ÿ</a></li>
<li><a href="../zh-CN420697/index.html">PHPå’ŒMySQLçš„æ°¸æ’ä¸»é¢˜</a></li>
<li><a href="../zh-CN420701/index.html">æ±‡ä¸°é“¶è¡Œé‚€è¯·å‚åŠ 8æœˆ29æ—¥ä¸¾è¡Œçš„æ¸¸æˆè®¾è®¡è®²åº§æ™šä¼š</a></li>
<li><a href="../zh-CN420703/index.html">â€œè°ˆåˆ¤ä¸è´¥ã€‚ å“ˆä½›æ³•</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>