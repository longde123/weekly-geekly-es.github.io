<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ‘©ğŸ»â€ğŸ³ ğŸ© å¦‚ä½•ä»¥åŠä¸ºä»€ä¹ˆåœ¨gitä¸­å·æ ‘ ğŸ•• ğŸˆ² ğŸº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è®¨è®ºä½¿ç”¨gitçš„ä¸€ä¸ªæœ‰ç”¨ä½†é²œä¸ºäººçŸ¥çš„æŠ€å·§-å¦‚ä½•ä½¿ç”¨å¦ä¸€ä¸ªæäº¤ä¸­çš„æ ‘è½»æ¾åˆ›å»ºä¸€ä¸ªæäº¤ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œå¦‚ä½•åœ¨åˆ†æ”¯ä¸Šè·å–é¡¹ç›®çš„æœŸæœ›çŠ¶æ€ï¼ˆå¦‚æœè¯¥çŠ¶æ€ä¹‹å‰å·²ç»å­˜åœ¨äºå­˜å‚¨åº“ä¸­çš„æŸä¸ªä½ç½®ï¼‰ã€‚ å°†ç»™å‡ºå‡ ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä¼˜é›…åœ°è§£å†³ä¸€äº›å®é™…é—®é¢˜ã€‚ ç‰¹åˆ«æ˜¯ï¼Œæˆ‘å°†è®¨è®ºæˆ‘å‘ç°çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥å¤§å¤§ç®€åŒ–åœ¨é‡æ–°è®¾ç½®åŸº...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å¦‚ä½•ä»¥åŠä¸ºä»€ä¹ˆåœ¨gitä¸­å·æ ‘</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433748/"><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/gu/kk/lu/gukklu2hqqy4qrjdnixfkmligiq.jpeg" alt="æ ‘æœ¨"></a> </p><br><p> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è®¨è®ºä½¿ç”¨gitçš„ä¸€ä¸ªæœ‰ç”¨ä½†é²œä¸ºäººçŸ¥çš„æŠ€å·§-å¦‚ä½•ä½¿ç”¨å¦ä¸€ä¸ªæäº¤ä¸­çš„æ ‘è½»æ¾åˆ›å»ºä¸€ä¸ªæäº¤ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œå¦‚ä½•åœ¨åˆ†æ”¯ä¸Šè·å–é¡¹ç›®çš„æœŸæœ›çŠ¶æ€ï¼ˆå¦‚æœè¯¥çŠ¶æ€ä¹‹å‰å·²ç»å­˜åœ¨äºå­˜å‚¨åº“ä¸­çš„æŸä¸ªä½ç½®ï¼‰ã€‚ å°†ç»™å‡ºå‡ ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä¼˜é›…åœ°è§£å†³ä¸€äº›å®é™…é—®é¢˜ã€‚ ç‰¹åˆ«æ˜¯ï¼Œæˆ‘å°†è®¨è®ºæˆ‘å‘ç°çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥å¤§å¤§ç®€åŒ–åœ¨é‡æ–°è®¾ç½®åŸºå‡†æœŸé—´çº æ­£å¤šä¸ªå†²çªçš„æ–¹æ³•ã€‚ å¦å¤–ï¼Œæœ¬æ–‡æ˜¯åœ¨å®è·µä¸­ç†è§£gitæäº¤å†…å®¹çš„å¥½æ–¹æ³•ã€‚ </p><a name="habracut"></a><br><h3 id="soderzhanie">  <strong>ç›®å½•å†…å®¹</strong> </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç†è®ºéƒ¨åˆ†ã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…³äºæäº¤å’Œæ ‘</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">gitæäº¤æ ‘</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®è·µéƒ¨åˆ†</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">1.ä¸å¦ä¸€ä¸ªåˆ†æ”¯åŒæ­¥</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2.ä¸¤ä¸ªåˆ†æ”¯çš„æ¯”è¾ƒ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">3.åˆ†æ”¯åå‘</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">4.éƒ¨åˆ†åè½¬</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">5.äººå·¥åˆå¹¶</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">6aã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é€šè¿‡åˆå¹¶é‡æ–°è®¾ç½®æ–¹æ³•-æè¿°</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">6bã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é€šè¿‡åˆå¹¶é‡æ–°è®¾ç½®æ–¹æ³•-è„šæœ¬</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">7.åˆ«å</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç»“è®º</a> </p><br><a name="theory"></a><br><h3 id="teoreticheskaya-chast-pro-kommity-i-derevya">  <strong>ç†è®ºéƒ¨åˆ†ã€‚</strong>  <strong>å…³äºæäº¤å’Œæ ‘</strong> </h3><br><p> æäº¤å¯èƒ½æ˜¯gitä¸­æœ€åŸºæœ¬çš„æ¦‚å¿µï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒçš„ç»„æˆã€‚ æ¯ä¸ªæäº¤éƒ½æœ‰å…¶è‡ªå·±çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œè¯¥æ ‡è¯†ç¬¦ä»¥å“ˆå¸Œå½¢å¼è¡¨ç¤ºï¼Œä¾‹å¦‚<strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">5e45ecb</a></strong> ã€‚ å¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œäº†è§£äº†å“ˆå¸Œï¼Œå°±å¯ä»¥çœ‹åˆ°å…¶å†…å®¹ã€‚ </p><br><pre><code class="bash hljs">git cat-file -p 5e45ecb</code> </pre> <br><pre> <code class="plaintext hljs">tree 8640790949c12690fc71f9abadd7b57ec0539376 parent 930741d1f5fd2a78258aa1999bb4be897ba3d015 author Mark Tareshawty &lt;tareby...@github.com&gt; 1542718283 -0500 committer Mark Tareshawty &lt;tareby...@github.com&gt; 1542718283 -0500 gpgsig -----BEGIN PGP SIGNATURE----- ... -----END PGP SIGNATURE----- Fix scoping so that we don't break the naming convention</code> </pre> <br><p> ä»¥ä¸‹å‡ è¡Œæ˜¯æäº¤çš„å…¨éƒ¨å†…å®¹ï¼š </p><br><ul><li> æ ‘-æŒ‡å‘ç‰¹å®šé¡¹ç›®çŠ¶æ€çš„é“¾æ¥ </li><li>  parent-é“¾æ¥åˆ°çˆ¶æäº¤ </li><li> ä½œè€…-æœ€åˆæäº¤çš„ä½œè€…+æ—¥æœŸ </li><li>  committer-æ­¤æäº¤çš„åˆ›å»ºè€…+æ—¥æœŸ </li><li>  gpgsig-æ•°å­—ç­¾åï¼ˆå¦‚æœæœ‰ï¼‰ </li><li> æ¶ˆæ¯-æäº¤æ–‡æœ¬ </li></ul><br><p> è®©æˆ‘æé†’æ‚¨ï¼Œgitä¸­çš„æäº¤ï¼ˆä¸å…¶ä»–VCSä¸åŒï¼‰æ²¡æœ‰æè¿°æ‰€åšçš„æ›´æ”¹ã€‚ æ°æ°ç›¸åï¼šæ¯æ¬¡æäº¤éƒ½æè¿°äº†æ•´ä¸ªé¡¹ç›®çš„ç‰¹å®šçŠ¶æ€ï¼Œè€Œæˆ‘ä»¬æ‰€åšçš„æ›´æ”¹å®é™…ä¸Šæ˜¯ä¸å…ˆå‰çŠ¶æ€ç›¸æ¯”çš„åŠ¨æ€è®¡ç®—å·®å¼‚ã€‚ è¿˜å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‰€æœ‰æäº¤éƒ½æ˜¯ä¸å¯å˜çš„ï¼ˆä¾‹å¦‚ï¼Œä¸å¯å˜çš„ï¼‰ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨rebase / cherry-pick / amendå¯ä»¥åˆ›å»ºç»å¯¹çš„æ–°æäº¤ã€‚ </p><br><p> æ ‘ï¼ˆæ ‘ï¼‰-å®é™…ä¸Šï¼Œå®ƒåªæ˜¯ä¸€ä¸ªå…·æœ‰ç‰¹å®šä¸å˜å†…å®¹çš„æ–‡ä»¶å¤¹ã€‚ æ ‘ç±»å‹çš„å¯¹è±¡åŒ…å«å…·æœ‰ç‰¹å®šå†…å®¹ï¼ˆæ–‘ç‚¹ï¼‰å’Œå­æ–‡ä»¶å¤¹ï¼ˆæ ‘ï¼‰çš„æ–‡ä»¶åˆ—è¡¨ã€‚ æ¯ä¸ªæäº¤æ‰€æŒ‡å‘çš„æ ‘æ˜¯é¡¹ç›®çš„æ ¹æ–‡ä»¶å¤¹ï¼Œæˆ–è€…æ˜¯å…¶ç‰¹å®šçŠ¶æ€ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">æŸ¥çœ‹æ ‘å†…å®¹</b> <div class="spoiler_text"><p> å¯¹äºå…¶ä»–ä»»ä½•å¯¹è±¡ï¼ˆæäº¤/æ ‘/ blobï¼‰ï¼Œéƒ½å¯ä»¥é‡‡ç”¨å®Œå…¨ç›¸åŒçš„æ–¹å¼è¿›è¡Œæ“ä½œï¼Œå¹¶ä¸”è¶³ä»¥é‡‡ç”¨å‰å‡ ä¸ªå”¯ä¸€çš„å“ˆå¸Œå­—ç¬¦ï¼š8640790949c12690fc71f9abadd7b57ec0539376-&gt; 8640790ã€‚ </p><br><pre> <code class="bash hljs">git cat-file -p 8640790</code> </pre> <br><pre> <code class="bash hljs">100644 blob 7ab08294a46f158c51460be3e7df6a190e15023b .env.example 100644 blob 0a1a4d1ad9ff3f35b67678ca893811e91b423af5 .gemset 040000 tree 033aa38ce0eab11fe229067c14ccce95e2b8b601 .github 100644 blob ca49bb7ffa6273b0be4ce7ba1accba456032fb11 .gitignore 100644 blob c99d2e7396e14ac072c63ec8419d9b8fede28d86 .rspec 100644 blob 65e77a2f59f635a8f24eb4714e8e43745c5c0eb9 .rubocop.yml 100644 blob 8e8299dcc068356889b365e23c948b92c6dfcd78 .ruby-version 100644 blob 19028f9885948aca2ba61f9d062e9dc21c21ad03 .stylelintrc.json 100644 blob 2f7a032fbc3f4f7195bfd91cb33889a684b572b9 .travis.yml 100644 blob 121615722a6c206a9fe24b9a1c9b647662a460d2 ARCHITECTURE.md 100644 blob 898195daeea0bbf8c5930deeaf1020ba8abab34a Gemfile 100644 blob de7ca707f9fe9172db941b65cdacaba7e024fc06 Gemfile.lock 100644 blob e6ff62fefd071b1a8ca279bae94ddbc4dd17b7a3 Gruntfile.js 100644 blob 0cac5b30fb32d36cce2aeb7d936be7b6207d68c7 MIT-LICENSE.txt 100644 blob c2c566e8cc3d440d3ee8041b79cded416db28136 Procfile 100644 blob d1fb2f575380e1e093a4d82e3f19e51f0b99a0a1 Procfile.dev 100644 blob 3a88e138f10fa65bd2cfe1a1d3292348205508b5 README.md 100644 blob 5366e6e073cc426518894cc379d3a07cf3c9cfb3 Rakefile 100644 blob e6d3d2d3e9d5122c5f75bbeee8ed0917ad38c131 app.json 040000 tree 94f83cf03bd6f1cf14672034877b14604744b7a2 app 040000 tree d4d859e82564250b4c4f2047de21e089e7555475 bin 100644 blob 1f71007621f17334fd6f2dd71c87b7a16867119c config.ru 040000 tree 9e8e4bf5ec44541aefff544672b94ca8a9d07bbf config 040000 tree 31b8d0e1fa2bb789dbd6319e04fc9f115952cf2a db 040000 tree 38e7a13e0e772c2a13e46d2007e239f679045bee doc 040000 tree a6e35ded8b35837660cf786e637912377f845515 lib 040000 tree d564d0bc3dd917926892c55e3706cc116d5b165e <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> 100644 blob 843523565ddee5e00f580d9c4e37fc2478fdaecc package-lock.json 100644 blob 791ee833ad316d75b1d2c83a64a3053fc952d254 package.json 040000 tree 4645317c52675d9889f89b26f4dd4d2ae1d8cbad public 040000 tree 31d3f8ae4a4ffe62787134642743ed32a35dbae2 resources 040000 tree 807ffa29868ef9c25ddb4b4126a4bb7f1b041bf0 script 040000 tree 4c3bf9a7f3679ba059b0f1c214a500d197546462 spec 040000 tree 136c8174412345531a9542cafef25ce558d2664f <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> 040000 tree e6524eafe066819e4181bc56c503320548d8009b vendor</code> </pre> </div></div><br><p> è¿™å®é™…ä¸Šæ˜¯gitå¦‚ä½•å·¥ä½œçš„æœ€é‡è¦ç‰¹å¾ï¼Œæäº¤æ ‡è¯†ç¬¦å®é™…ä¸Šæ˜¯å…¶å†…å®¹çš„å“ˆå¸Œã€‚ å°±åƒåµŒå…¥å…¶ä¸­çš„å¯¹è±¡ï¼ˆæ ‘ï¼Œæ–‘ç‚¹ï¼‰çš„å“ˆå¸Œä¸€æ ·ã€‚ </p><br><p> ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹å½“æˆ‘ä»¬è¿™æ ·åšæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ </p><br><pre> <code class="bash hljs">git commit -m <span class="hljs-string"><span class="hljs-string">"Fixed bug"</span></span></code> </pre> <br><p> æ­¤å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°æäº¤ï¼Œæ•è·ä»¥ä¸‹å†…å®¹ï¼š </p><br><ul><li> æš‚å­˜é¡¹ç›®çš„çŠ¶æ€ï¼ˆå¦å­˜ä¸ºæ–°çš„æ ‘å¯¹è±¡å¹¶é‡‡ç”¨å…¶å“ˆå¸Œå€¼ï¼‰ </li><li> é“¾æ¥åˆ°å½“å‰ï¼ˆçˆ¶ï¼‰æäº¤ </li><li> ä½œè€…+æäº¤è€…+ä¸¤ä¸ªæ—¥æœŸ </li><li> æäº¤æ–‡å­— </li></ul><br><p> å…¨éƒ¨ä¿å­˜ï¼Œæ•£åˆ—ï¼Œå¹¶è·å¾—æ–°çš„æäº¤å¯¹è±¡ã€‚ ç„¶åï¼Œå›¢é˜Ÿä¼šè‡ªåŠ¨å°†å½“å‰åˆ†æ”¯æŒ‡é’ˆå¼•å‘åˆ°è¯¥åˆ†æ”¯ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">å…³äºæœ¯è¯­çš„ä¸€ç‚¹ç‚¹</b> <div class="spoiler_text"><p> ä¼—æ‰€å‘¨çŸ¥ï¼Œtreeæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒ…å«è¿‡å»æŸä¸ªæ—¶åˆ»çš„é¡¹ç›®çŠ¶æ€-ä½¿ç”¨æ­¤æ ‘åˆ›å»ºæäº¤æ—¶ã€‚ </p><br><p> å·¥ä½œæ–‡ä»¶å¤¹ç§°ä¸ºå·¥ä½œæ ‘/å·¥ä½œå‰¯æœ¬/å·¥ä½œç›®å½•ï¼Œè¿™å¾ˆåˆé€»è¾‘ã€‚ </p><br><p> æˆ‘ä»¬è¿˜å…·æœ‰-æš‚å­˜åŒºåŸŸ/ç´¢å¼•-å‡†å¤‡å¥½çš„æ›´æ”¹åŒºåŸŸã€‚  <strong>ä½†ä»é€»è¾‘ä¸Šè®²ï¼Œè¿™ä¹Ÿæ˜¯ä¸€æ£µæ ‘</strong> ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´ï¼Œæ˜¯æäº¤ä¸ºæ ‘æ—¶ä¿å­˜çš„çŠ¶æ€ã€‚ å› æ­¤ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè°ƒç”¨åˆ†çº§æ ‘ä¼šæ›´åˆä¹é€»è¾‘ã€‚ </p></div></div><br><a name="commit-tree"></a><br><h3 id="git-commit-tree">  <strong>gitæäº¤æ ‘</strong> </h3><br><p> æœ€åï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æè¿°æ‰€éœ€çš„<strong>git commit-tree</strong>å‘½ä»¤ã€‚ å½¢å¼ä¸Šï¼Œè¿™æ˜¯ä½çº§å‘½ä»¤ä¹‹ä¸€ï¼Œå› æ­¤å¾ˆå°‘æåŠå’Œä½¿ç”¨ã€‚ æˆ‘ä»¬ä¸ä¼šè€ƒè™‘ä¸å…¶å…³è”çš„å…¶ä»–ä½çº§å‘½ä»¤ï¼ˆä¾‹å¦‚git write-treeï¼Œgit-update-indexï¼Œå®ƒä»¬ä¹Ÿç§°ä¸ºç®¡é“å‘½ä»¤ï¼‰ã€‚ æˆ‘ä»¬åªå¯¹ä¸€ä¸ªç‰¹å®šçš„ç»“æœæ„Ÿå…´è¶£ï¼šä½¿ç”¨æ­¤å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°ä»ä»»ä½•å…¶ä»–æäº¤ä¸­å¤åˆ¶ï¼ˆé‡ç”¨ï¼‰é¡¹ç›®çŠ¶æ€æ ‘ã€‚ </p><br><p> çœ‹å¥¹çš„æŒ‘æˆ˜ </p><br><pre> <code class="bash hljs">git commit-tree 4c835c2 -m <span class="hljs-string"><span class="hljs-string">"Fixed bug"</span></span> -p a8fc5e3</code> </pre> <br><pre> <code class="plaintext hljs">d9aded78bf57ca906322e26883644f5f36cfdca5</code> </pre> <br><p>  git commit-treeå‘½ä»¤ä¹Ÿå¯ä»¥è¿›è¡Œæäº¤ï¼Œä½†æ˜¯ä»¥ä½çº§æ–¹å¼è¿›è¡Œã€‚ åœ¨è¿™é‡Œï¼Œæ‚¨å¿…é¡»æ˜¾å¼æŒ‡å®šå·²ç»å­˜åœ¨çš„æ ‘ï¼ˆæ ‘ï¼‰4c835c2ä»¥åŠåˆ°çˆ¶æäº¤a8fc5e3çš„é“¾æ¥ã€‚ å¹¶ä¸”å®ƒè¿”å›æ–°æäº¤d9aded7çš„å“ˆå¸Œï¼Œå¹¶ä¸”åˆ†æ”¯çš„ä½ç½®æ²¡æœ‰æ›´æ”¹ï¼ˆå› æ­¤ï¼Œæ­¤æäº¤ä¼¼ä¹å·²å†»ç»“ï¼‰ã€‚ </p><br><a name="practice"></a><br><h3 id="prakticheskaya-chast">  <strong>å®è·µéƒ¨åˆ†</strong> </h3><br><p> ä»¥ä¸‹ç®€å•çš„å­˜å‚¨åº“ä¸­æ¼”ç¤ºäº†ä½¿ç”¨æ­¤å‘½ä»¤çš„ç¤ºä¾‹ã€‚ </p><br><img src="https://habrastorage.org/webt/ft/ot/to/ftottogtrm5xmyiqmbz1_loijuy.png"><br><p> å®ƒåŒ…å«ä¸‰ä¸ªåˆ†æ”¯ï¼š </p><br><p> ä¸»-ä¸»åˆ†æ”¯ <br>  alpha-æˆ‘ä»¬å·¥ä½œæ‰€åœ¨çš„åˆ†æ”¯ <br>  beta-å…ˆå‰åœåœ¨masterä¸­çš„åˆ†æ”¯ </p><br><p> æ‰€æœ‰æ“ä½œéƒ½æ˜“äºåœ¨æœ¬åœ°é‡å¤ï¼Œå› æ­¤åªéœ€å…‹éš†å­˜å‚¨åº“ï¼Œè¿›å…¥alphaåˆ†æ”¯ï¼Œç„¶åæ‰§è¡Œç¤ºä¾‹ä¸­çš„å‘½ä»¤å°±è¶³å¤Ÿäº†ã€‚ æ­¤åˆå§‹çŠ¶æ€æ˜¯æ‰€æœ‰ç¤ºä¾‹å…±æœ‰çš„ã€‚ </p><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/capslocky/git-commit-tree-example.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ./git-commit-tree-example/ git checkout alpha</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">åœ¨çª—æˆ·ä¸‹</b> <div class="spoiler_text"><p> æ‰€æœ‰å‘½ä»¤ï¼ˆåŒ…æ‹¬è„šæœ¬ï¼‰ä¹Ÿåœ¨Windowsä¸‹è¿è¡Œã€‚ æ‚¨åªéœ€è¦åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­æ‰“å¼€bashç»ˆç«¯ï¼Œä¾‹å¦‚è¿™æ · </p><br><pre> <code class="plaintext hljs">"C:\Program Files\Git\git-bash.exe" --cd="D:\path\project"</code> </pre> </div></div><br><a name="z1"></a><br><h3 id="1-sinhronizaciya-s-drugoy-vetkoy">  <strong>1.ä¸å¦ä¸€ä¸ªåˆ†æ”¯åŒæ­¥</strong> </h3><br><p> æŒ‘æˆ˜ï¼š <br> å°†<strong>alpha</strong>åˆ†æ”¯ä¸Šçš„é¡¹ç›®çŠ¶æ€ä¸<strong>beta</strong>åˆ†æ”¯åŒæ­¥ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‚¨éœ€è¦åœ¨<strong>alpha</strong>åˆ†æ”¯ä¸Šåˆ›å»ºè¿™æ ·çš„æ–°æäº¤ï¼Œä»¥ä¾¿é¡¹ç›®çŠ¶æ€å˜å¾—ä¸<strong>beta</strong>åˆ†æ”¯ä¸Šçš„å®Œå…¨ç›¸åŒã€‚ </p><br><p> å…·ä½“è€Œè¨€ï¼Œè¿™ç§ä»»åŠ¡ä¸å¤ªå¯èƒ½å‡ºç°ï¼Œä½†è¿™æ˜¯æœ€åˆé€‚çš„æ–¹æ³•æ¥æ¼”ç¤ºè¯¥æ–¹æ³•ã€‚ </p><br><p> æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯è·å–betaåˆ†æ”¯æŒ‡å‘çš„ç°æœ‰æ ‘ï¼Œç„¶åä»alphaåˆ†æ”¯çš„æ–°æäº¤ä¸­ä»…æŒ‡å‘å®ƒã€‚ ç”±äºè¿™æ˜¯ç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œå› æ­¤å°†å……åˆ†è¯¦ç»†åœ°è€ƒè™‘å…¶æ‰€æœ‰é€»è¾‘ã€‚ </p><br><p> é¦–å…ˆï¼Œæ‰¾åˆ°betaåˆ†æ”¯æŒ‡å‘çš„æäº¤å“ˆå¸Œï¼š </p><br><pre> <code class="bash hljs">git rev-parse origin/beta</code> </pre> <br><pre> <code class="bash hljs">280c30ff81a574f8dd41721726cf60b22fb2eced</code> </pre> <br><p>  <strong>280c30f-</strong>ä»…éœ€è¾“å…¥å‰å‡ ä¸ªå­—ç¬¦ </p><br><p> ç°åœ¨é€šè¿‡é€šè¿‡git cat-fileæ˜¾ç¤ºæäº¤çš„å†…å®¹æ¥æ‰¾åˆ°å…¶æ ‘çš„å“ˆå¸Œï¼š </p><br><pre> <code class="bash hljs">git cat-file -p 280c30f</code> </pre> <br><pre> <code class="plaintext hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a &lt;--- parent 560b449675513bc8f8f4d6cda56a922d4e36917a author Baur &lt;atanov...@gmail.com&gt; 1540619512 +0600 committer Baur &lt;atanov...@gmail.com&gt; 1540619512 +0600 Added info about windows</code> </pre> <br><p>  <strong>3c1afe7-</strong>è¿™æ˜¯æˆ‘ä»¬éœ€è¦çš„æ ‘ </p><br><p> ç°åœ¨ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæŒ‡å‘è¯¥æ ‘çš„æäº¤ï¼Œå¹¶ä½¿ç”¨çˆ¶æäº¤æ¥æŒ‡ç¤ºå½“å‰æäº¤ï¼š </p><br><pre> <code class="bash hljs">git commit-tree 3c1afe7 -m <span class="hljs-string"><span class="hljs-string">"Synced with branch 'beta'"</span></span> -p HEAD</code> </pre> <br><pre> <code class="bash hljs">eb804d403d4ec0dbeee36aa09da706052a7cc687</code> </pre> <br><p> å°±æ˜¯è¿™æ ·ï¼Œæäº¤å·²åˆ›å»ºï¼Œå›¢é˜Ÿè·å¾—äº†å“ˆå¸Œå€¼ã€‚ è€Œä¸”ï¼Œæ­¤å€¼å°†å§‹ç»ˆæ˜¯å”¯ä¸€çš„ï¼Œå› ä¸ºå®ƒä¸ä»…æ˜¯æ ¹æ®æ ‘è®¡ç®—çš„ï¼Œè€Œä¸”è¿˜æ ¹æ®ä½œè€…å’Œæ—¶é—´æ¥è®¡ç®—çš„ã€‚ åªè¦æäº¤ä¸è¿›å…¥ä»»ä½•åˆ†æ”¯ï¼Œæäº¤æœ¬èº«å°±ä¼šè¢«å†»ç»“ã€‚ å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œåªéœ€è¾“å…¥å‰å‡ ä¸ªå­—ç¬¦å°±è¶³å¤Ÿäº†ï¼š <strong>eb804d4</strong> ï¼Œè¿™ä¸ª<strong>å€¼</strong>å¯¹äºæ¯ç§æƒ…å†µéƒ½æ˜¯å”¯ä¸€çš„ï¼Œæˆ‘å°†å…¶æŒ‡å®šä¸º<strong>xxxxxxx</strong> ã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å®ƒçš„å†…å®¹ï¼š </p><br><pre> <code class="bash hljs">git cat-file -p xxxxxxx</code> </pre> <br><pre> <code class="plaintext hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a &lt;--- parent 64fafc79e8f6d22f5226490daa5023062299fd6c author Peter &lt;peter...@gmail.com&gt; 1545230299 +0600 committer Peter &lt;peter...@gmail.com&gt; 1545230299 +0600 Synced with branch 'beta'</code> </pre> <br><p> å¤ªå¥½äº†ï¼Œå®ƒå…·æœ‰ä¸origin / betaåˆ†æ”¯ä¸Šçš„æäº¤ç›¸åŒçš„æ ‘ã€‚ å¹¶ä¸”ç”±äºæ­¤æäº¤æ˜¯å½“å‰åˆ†æ”¯çš„ç›´æ¥åä»£ï¼Œå› æ­¤è¦å°†å…¶åŒ…æ‹¬åœ¨åˆ†æ”¯ä¸­ï¼Œåªéœ€è¿›è¡Œå¿«è¿›åˆå¹¶ </p><br><pre> <code class="bash hljs">git merge --ff xxxxxxx</code> </pre> <br><pre> <code class="plaintext hljs">Updating 64fafc7..xxxxxxx Fast-forward Azure.txt | 3 --- Bill.txt | 6 +----- Linus.txt | 15 +++++++++++++++ 3 files changed, 16 insertions(+), 8 deletions(-)</code> </pre> <br><p> åšå®Œäº† ç°åœ¨ï¼Œalphaåˆ†æ”¯ä¸Šçš„é¡¹ç›®çŠ¶æ€ä¸betaåˆ†æ”¯ä¸Šçš„çŠ¶æ€å®Œå…¨ç›¸åŒã€‚  <strong>[æ›´æ–°]</strong>å¦‚æœæ‚¨æŸ¥çœ‹æ­¤æäº¤æ¯•ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ï¼šå®ƒé¢ å€’äº†alphaåˆ†æ”¯çš„æ‰€æœ‰è‡ªèº«æäº¤ï¼ˆæ›´æ”¹ï¼‰ï¼Œå¹¶æ·»åŠ äº†betaåˆ†æ”¯ç›¸å¯¹äºå…¶å…±åŒç¥–å…ˆæäº¤çš„æ‰€æœ‰å”¯ä¸€æäº¤ï¼ˆæ›´æ”¹ï¼‰ã€‚ </p><br><img src="https://habrastorage.org/webt/6r/cp/9j/6rcp9jjsridsnn297yjyhaa3e-e.png"><br><a name="z2"></a><br><h3 id="2-sravnenie-dvuh-vetok">  <strong>2.ä¸¤ä¸ªåˆ†æ”¯çš„æ¯”è¾ƒ</strong> </h3><br><p> æŒ‘æˆ˜ï¼š <br> æ¯”è¾ƒ<strong>alpha</strong>åˆ†æ”¯å’Œ<strong>beta</strong>åˆ†æ”¯ã€‚ </p><br><p> ç¬¬ä¸€ä¸ªç¤ºä¾‹æ˜¾ç¤ºåˆ›å»ºçš„æäº¤æ˜¾ç¤ºæ‰€æœ‰æ›´æ”¹ï¼Œè¿™æ˜¯ä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´çš„å®é™…å·®å¼‚ã€‚ é€šè¿‡æ­¤å±æ€§ï¼Œå¯ä»¥è½»æ¾åœ°å°†ä¸€ä¸ªåˆ†æ”¯ä¸å¦ä¸€ä¸ªåˆ†æ”¯è¿›è¡Œæ¯”è¾ƒã€‚ åˆ›å»ºç¬¬ä¸‰ä¸ªä¸´æ—¶åˆ†æ”¯å¹¶åœ¨å…¶ä¸­è¿›è¡Œç±»ä¼¼çš„æäº¤å°±è¶³å¤Ÿäº†ã€‚ </p><br><p> å› æ­¤ï¼Œé¦–å…ˆï¼Œå°†Alphaåˆ†æ”¯è¿”å›å…¶åŸå§‹çŠ¶æ€ </p><br><pre> <code class="bash hljs">git reset --hard origin/alpha</code> </pre> <br><p> è®©æˆ‘ä»¬åœ¨å½“å‰åˆ†æ”¯ä¸Šåˆ›å»ºä¸€ä¸ªä¸´æ—¶åˆ†æ”¯å¹¶å°†å…¶ç«™ç«‹ </p><br><pre> <code class="bash hljs">git checkout -b temp</code> </pre> <br><p> å‰©ä¸‹çš„å·¥ä½œä¸å‰é¢çš„ç¤ºä¾‹ç›¸åŒã€‚ ä½†æ˜¯è¿™æ¬¡æˆ‘ä»¬å°†ç¢°é¢ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ç‰¹æ®Šè¯­æ³•æ¥è®¿é—®æäº¤æ ‘<strong>origin / beta ^ {tree}</strong>æˆ–ç›¸åŒçš„<strong>280c30f ^ {tree}</strong> ã€‚ </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree origin/beta^{tree} -m <span class="hljs-string"><span class="hljs-string">"Diff with branch 'beta'"</span></span> -p HEAD)</code> </pre> <br><p> å®Œæˆï¼Œæœ¬è´¨ä¸Šæˆ‘ä»¬å®ç°ä¸ºä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´çš„æäº¤å·®å¼‚ </p><br><pre> <code class="bash hljs">git show</code> </pre> <br><pre> <code class="bash hljs">git diff alpha origin/beta</code> </pre> <br><p> å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå­˜å‚¨åº“ä¸­çš„ä»»ä½•ä¸¤ä¸ªæäº¤ï¼ˆçŠ¶æ€ï¼‰åˆ›å»ºè¿™æ ·çš„â€œæ¯”è¾ƒâ€æäº¤ã€‚ </p><br><img src="https://habrastorage.org/webt/bd/eq/nt/bdeqntgdkpows5ly0zc7ahzjgf8.png"><br><a name="z3"></a><br><h3 id="3-revert-vetki">  <strong>3.åˆ†æ”¯åå‘</strong> </h3><br><p> æŒ‘æˆ˜ï¼š <br> å›æ»šæœ€è¿‘çš„å‡ æ¬¡æäº¤ã€‚ </p><br><p> è®©æˆ‘ä»¬å›åˆ°alphaåˆ†æ”¯å¹¶åˆ é™¤tempåˆ†æ”¯ </p><br><pre> <code class="bash hljs">git checkout alpha git branch -D temp</code> </pre> <br><p> å‡è®¾æˆ‘ä»¬éœ€è¦å›æ»šalphaåˆ†æ”¯ä¸Šçš„æœ€åä¸¤æ¬¡æäº¤ã€‚ æœ‰ä¸¤ç§ç»å…¸çš„æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼š </p><br><ol><li> è¿è¡Œgit revertä¸¤æ¬¡-æ¯æ¬¡æäº¤ </li><li>  git resetï¼Œå³é‡ç½®åˆ†æ”¯ä½ç½® </li></ol><br><p> ä½†æ˜¯æ‚¨å¯ä»¥é€šè¿‡ç¬¬ä¸‰ç§æ–¹å¼æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼š </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree 7a714bf^{tree} -m <span class="hljs-string"><span class="hljs-string">"Reverted to commit 7a714bf"</span></span> -p HEAD)</code> </pre> <br><p> è¿™å°†æ·»åŠ ä¸€ä¸ªæ–°æäº¤ï¼Œè¯¥æ–°æäº¤å°†å›æ»šå‰ä¸¤ä¸ªæäº¤çš„æ›´æ”¹ã€‚ ä¸ç¬¬ä¸€ç§æ–¹æ³•ä¸åŒï¼Œå³ä½¿æ‚¨éœ€è¦å›æ»šæœ€ååæ¬¡æäº¤ï¼Œä¹Ÿåªä¼šåˆ›å»ºä¸€ä¸ªæäº¤ã€‚  git resetæ–¹æ³•çš„åŒºåˆ«åœ¨äºæˆ‘ä»¬ä¸ä»åˆ†æ”¯æœ¬èº«æŠ›å‡ºè¿™äº›æäº¤ã€‚ </p><br><p> æ­¤å¤–ï¼Œå¦‚æœæ‚¨éœ€è¦è¿”å›åˆ†æ”¯çš„åŸå§‹çŠ¶æ€ï¼Œåˆ™å¯ä»¥ç”¨ç›¸åŒçš„æ–¹å¼å®Œæˆ </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree 64fafc7^{tree} -m <span class="hljs-string"><span class="hljs-string">"Reverted back to commit 64fafc7"</span></span> -p HEAD)</code> </pre> <br><p> åŒæ—¶ï¼Œè¿™ä¸¤ä¸ªæäº¤å°†ä¿ç•™åœ¨åˆ†æ”¯çš„å†å²è®°å½•ä¸­ï¼Œæ ¹æ®è¯¥å†å²è®°å½•ï¼Œå¯ä»¥çœ‹åˆ°è¯¥åˆ†æ”¯å·²å›æ»šå¹¶è¿”å›ã€‚ </p><br><img src="https://habrastorage.org/webt/2a/w_/g_/2aw_g_0m9m2vf8zs9sqh_c4ozw8.png"><br><a name="z4"></a><br><h3 id="4-chastichnyy-revert">  <strong>4.éƒ¨åˆ†åè½¬</strong> </h3><br><p> æŒ‘æˆ˜ï¼š <br> åœ¨æœ€è¿‘çš„å‡ æ¬¡æäº¤ä¸­å°†æ›´æ”¹å›æ»šåˆ°æŸäº›æ–‡ä»¶ã€‚ </p><br><p> å†æ¬¡ï¼Œå°†Alphaåˆ†æ”¯è¿”å›å…¶åŸå§‹çŠ¶æ€ </p><br><pre> <code class="bash hljs">git reset --hard origin/alpha</code> </pre> <br><p>  alphaåˆ†æ”¯åŒ…å«3ä¸ªæäº¤ï¼Œæ¯ä¸ªæäº¤éƒ½å¯¹Bill.txtæ–‡ä»¶è¿›è¡Œäº†æ›´æ”¹ï¼Œåœ¨æœ€åä¸€æ¬¡æäº¤ä¸­ï¼Œè¿˜æ·»åŠ äº†Azure.txtæ–‡ä»¶ã€‚ å‡è®¾æˆ‘ä»¬éœ€è¦å°†å¯¹æœ€å2æ¬¡æäº¤çš„æ›´æ”¹å›æ»šåˆ°Bill.txtæ–‡ä»¶ï¼Œè€Œä¸æ¶‰åŠä»»ä½•å…¶ä»–æ–‡ä»¶ã€‚ </p><br><p> é¦–å…ˆï¼Œå›æ»šæ‰€æœ‰æ–‡ä»¶2æäº¤ </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree 7a714bf^{tree} -m <span class="hljs-string"><span class="hljs-string">"any text"</span></span> -p HEAD)</code> </pre> <br><p> æ¥ä¸‹æ¥ï¼Œå°†åˆ†æ”¯è¿”å›åˆ°ä¸Šä¸€ä¸ªæäº¤ï¼Œä½†ä¸å½±å“ç£ç›˜ä¸Šé¡¹ç›®çš„çŠ¶æ€ </p><br><pre> <code class="bash hljs">git reset HEAD~1</code> </pre> <br><p> ç°åœ¨ï¼Œåªéœ€è¶³å¤Ÿå¿…è¦çš„æ–‡ä»¶å¹¶æäº¤ï¼Œå°±å¯ä»¥ä¸¢å¼ƒå…¶ä»–æ›´æ”¹ã€‚ </p><br><pre> <code class="bash hljs">git add Bill.txt git commit -m <span class="hljs-string"><span class="hljs-string">"Reverted file Bill.txt to 7a714bf"</span></span> git reset --hard HEAD</code> </pre> <br><img src="https://habrastorage.org/webt/0p/8g/yy/0p8gyybuacise2ffx4qka3relhw.png"><br><a name="z5"></a><br><h3 id="5-iskustvennyy-merge">  <strong>5.äººå·¥åˆå¹¶</strong> </h3><br><p> æŒ‘æˆ˜ï¼š <br> å°†ä¸€ä¸ªåˆ†æ”¯å¢åŠ åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ï¼Œä»¥è·å¾—é¢„å®šç»“æœã€‚ </p><br><p> æƒ³è±¡ä¸€ä¸‹è¿™ç§æƒ…å†µã€‚ åœ¨ç”Ÿäº§ä¸­å·²æ£€æµ‹åˆ°ä¸€ä¸ªä¸¥é‡çš„é”™è¯¯ï¼Œå¹¶ä¸”ä¸å¾€å¸¸ä¸€æ ·ï¼Œéœ€è¦ç´§æ€¥ä¿®å¤ã€‚ ä½†æ˜¯ï¼Œå°šä¸æ¸…æ¥šéœ€è¦èŠ±è´¹å¤šå°‘æ—¶é—´æ¥ç ”ç©¶å®ƒå¹¶åšå‡ºæ­£ç¡®çš„ä¿®è¡¥ç¨‹åºï¼Œå› æ­¤è¿…é€Ÿåˆ¶ä½œäº†ä¸€ä¸ªä¸´æ—¶ä¿®è¡¥ç¨‹åºï¼Œè¯¥ä¿®è¡¥ç¨‹åºéš”ç¦»äº†ä¸é—®é¢˜æ¨¡å—çš„äº¤äº’ã€‚ å› æ­¤ï¼Œåœ¨masteråˆ†æ”¯ä¸­ï¼Œå°†å‡ºç°å¸¦æœ‰æ­¤ä¸´æ—¶è¡¥ä¸çš„æäº¤ï¼Œå¹¶ä¸”ä¸€æ®µæ—¶é—´åï¼Œè€Œä¸æ˜¯åœ¨masterä¸­æäº¤ï¼Œæ‚¨éœ€è¦å¤„ç†ä¸€ä¸ªå·²ç»æˆç†Ÿçš„ä¿®è¡¥ç¨‹åºã€‚ </p><br><p> å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆå¹¶masterä¸­çš„alphaåˆ†æ”¯ï¼Œä½†æ˜¯å½“ä»alphaåˆ†æ”¯çš„æ‰€æœ‰å”¯ä¸€æ›´æ”¹éƒ½ä»ä¸Šæ–¹æ·»åŠ åˆ°masterä¸­å¹¶ä¸”å­˜åœ¨å†²çªæ—¶ï¼Œè¿™ä¸åº”è¯¥æ˜¯ä¼ ç»Ÿçš„åˆå¹¶ï¼Œå¹¶ä¸”æˆ‘ä»¬å¿…é¡»ç”¨alphaåˆ†æ”¯å®Œå…¨è¦†ç›–masterã€‚ </p><br><p> é¦–å…ˆï¼Œè®©æˆ‘ä»¬å›æƒ³ä¸€ä¸‹åˆå¹¶æäº¤çš„å…¨éƒ¨å«ä¹‰-å®é™…ä¸Šæ˜¯ç›¸åŒçš„æ™®é€šæäº¤ï¼Œä½†æ˜¯å®ƒåªæœ‰ä¸¤ä¸ªçˆ¶æäº¤ï¼Œå¦‚æœæ‚¨æŸ¥çœ‹å…¶å†…å®¹ï¼ˆå…¶æ ‘çš„å½¢æˆæ–¹å¼æ˜¯ä¸€ä¸ªå•ç‹¬çš„é—®é¢˜ï¼‰ï¼Œå°±å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ã€‚ ã€‚ ç”±è°å†³å®šè°æ˜¯ç®€å•çš„-ç¬¬ä¸€æ¬¡çˆ¶æäº¤è¢«è®¤ä¸ºæ˜¯ä¸»è¦æäº¤ã€‚ </p><br><pre> <code class="plaintext hljs">git cat-file -p 7229df8</code> </pre> <br><pre> <code class="bash hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a parent fd54ab7dde87593b9892b6d1ffbf1afd39ba6f9e parent 280c30ff81a574f8dd41721726cf60b22fb2eced author Baur &lt;atanov...@gmail.com&gt; 1540619579 +0600 committer Baur &lt;atanov...@gmail.com&gt; 1540619592 +0600 Merge branch <span class="hljs-string"><span class="hljs-string">'beta'</span></span> into <span class="hljs-string"><span class="hljs-string">'master'</span></span></code> </pre> <br><p> é‡ç½®å½“å‰çš„Alphaåˆ†æ”¯å¹¶åˆ‡æ¢åˆ°æ¯ç‰ˆ </p><br><pre> <code class="bash hljs">git reset --hard origin/alpha git checkout master</code> </pre> <br><p> ç°åœ¨æ˜¯åŒä¸€ä¸ªå›¢é˜Ÿï¼Œä½†æ˜¯æœ‰<strong>ä¸¤ä¸ª</strong>çˆ¶æäº¤ </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree alpha^{tree} -m <span class="hljs-string"><span class="hljs-string">"Merge 'alpha' into 'master', but take 'alpha' tree"</span></span> -p HEAD -p alpha)</code> </pre> <br><p> å®Œæˆåï¼Œæˆ‘ä»¬åœ¨masterä¸­æš‚å­˜äº†alphaåˆ†æ”¯ï¼Œå¹¶ä¸”ä¸å¿…åˆ é™¤ä¸´æ—¶ä»£ç å¹¶è§£å†³å†²çªï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦é‡å†™æœ€æ–°çš„æ›´æ”¹å³å¯ã€‚ </p><br><img src="https://habrastorage.org/webt/y3/qa/p_/y3qap_rct5emnkmqfirrhtmhmlg.png"><br><p> å®é™…ä¸Šï¼Œä¸ä»å¦ä¸€æ¬¡æäº¤å¤åˆ¶çš„æ ‘åˆ›å»ºåˆå¹¶å¹¶ä¸å¥‡æ€ªã€‚ ä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œæ˜¯å› ä¸ºgitæ˜¯ä¸€ç§éå¸¸çµæ´»çš„å·¥å…·ï¼Œå®ƒä½¿æ‚¨å¯ä»¥å®ç°ç”¨äºå¤„ç†åˆ†æ”¯å’Œå­˜å‚¨åº“çš„å¤šç§æ–¹æ³•ã€‚ ä½†æ˜¯ï¼Œæœ€å¸¸è§çš„ç¤ºä¾‹è¿˜æ˜¯ä»ä¸€å¼€å§‹å°±åœ¨æˆ‘ä»¬çš„å­˜å‚¨åº“ä¸­-å°è¯•è‡ªå·±è§£æå®ƒæˆ–æ‰“å¼€ç ´åå™¨ä»¥é˜…è¯»è¯´æ˜ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">æ‰°æµæ¿</b> <div class="spoiler_text"><p> è®©æˆ‘ä»¬æ³¨æ„ä¸€ä¸‹betaåˆ†æ”¯æ˜¯å¦‚ä½•è¢«æ‰¼æ€å›masterçš„ã€‚ åœ¨å…¶ä¸­å‡ºç°ä¸¤æ¬¡æäº¤æœŸé—´ï¼Œmasteråˆ†æ”¯æœ¬èº«ä¸­æ²¡æœ‰æ–°çš„æäº¤ã€‚ è¿™æ„å‘³ç€åœ¨ä¸»ç‰ˆä¸­ä½¿ç”¨åˆå¹¶betaæ—¶ï¼Œç”±äºåŒæ—¶å‘ç”Ÿæ›´æ”¹ï¼Œå› æ­¤æ’é™¤äº†ä»»ä½•å†²çªã€‚ </p><br><img src="https://habrastorage.org/webt/ld/b2/9c/ldb29c4suiipfkkwc4qmozqxc9i.png"><br><img src="https://habrastorage.org/webt/mb/c8/za/mbc8za3pa9q9hmlcuvblb1holzk.png"><br><p> å¦‚æœæˆ‘ä»¬è¿›è¡Œäº†git merge betaï¼Œåˆ™å°†å‘ç”Ÿå¿«è¿›åˆå¹¶ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é»˜è®¤</a>è¡Œä¸ºï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œmasteråˆ†æ”¯å°†ä¸betaåˆ†æ”¯å¤„äºåŒä¸€æäº¤ï¼Œå¹¶ä¸”ä¸ä¼šè¿›è¡Œåˆå¹¶æäº¤ã€‚ å°±åƒè¿™æ ·ï¼š </p><br><img src="https://habrastorage.org/webt/sb/xb/ir/sbxbirjlbr69iwl0e6qfymenwb0.png"><br><p> ä½†æ˜¯è¿™é‡Œæ²¡æœ‰ä½¿ç”¨git merge beta --no-ffå‘½ä»¤è¿›è¡Œå¿«é€Ÿåˆå¹¶ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå°½ç®¡æ²¡æœ‰å¿…è¦ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¼ºåˆ¶åˆ›å»ºäº†åˆå¹¶æäº¤ã€‚ è€Œä¸”ç”±äºçŸ¥é“äº†å°†æ¥åˆå¹¶æ‰€éœ€çš„é¡¹ç›®æœ€ç»ˆçŠ¶æ€-è¿™æ˜¯ä¸€ä¸ªbetaæ ‘ï¼Œgitåªéœ€å°†æŒ‡å‘è¯¥æ ‘çš„é“¾æ¥å¤åˆ¶åˆ°æ–°æäº¤ä¸­ï¼š </p><br><pre> <code class="bash hljs">git cat-file -p origin/beta</code> </pre> <br><pre> <code class="bash hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a &lt;--- parent 560b449675513bc8f8f4d6cda56a922d4e36917a author Baur &lt;atanov...@gmail.com&gt; 1540619512 +0600 committer Baur &lt;atanov...@gmail.com&gt; 1540619512 +0600 Added info about windows</code> </pre> <br><pre> <code class="bash hljs">git cat-file -p 7229df8</code> </pre> <br><pre> <code class="bash hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a &lt;--- parent fd54ab7dde87593b9892b6d1ffbf1afd39ba6f9e parent 280c30ff81a574f8dd41721726cf60b22fb2eced author Baur &lt;atanov...@gmail.com&gt; 1540619579 +0600 committer Baur &lt;atanov...@gmail.com&gt; 1540619592 +0600 Merge branch <span class="hljs-string"><span class="hljs-string">'beta'</span></span> into <span class="hljs-string"><span class="hljs-string">'master'</span></span></code> </pre> </div></div><br><a name="z6a"></a><br><h3 id="6a-metod-rebase-cherez-merge---opisanie">  <strong>6aã€‚</strong>  <strong>é€šè¿‡åˆå¹¶é‡æ–°è®¾ç½®æ–¹æ³•-æè¿°</strong> </h3><br><p> æŒ‘æˆ˜ï¼š <br> æœ‰å¿…è¦å»ºç«‹ä¸€ä¸ªâ€œå¤§é‡â€çš„rebaseåˆ†æ”¯ï¼ˆåœ¨ä¸åŒçš„æäº¤ä¸Šæœ‰å¾ˆå¤šå†²çªï¼‰ã€‚ </p><br><p>  gitä¸­æœ‰ä¸€ä¸ªç»å…¸çš„holivarä¸»é¢˜-rebase vs mergeã€‚ ä½†æ˜¯æˆ‘ä¸ä¼šèƒ¡æ‰¯ã€‚ ç›¸åï¼Œæˆ‘å°†è°ˆè°ˆå¦‚ä½•åœ¨æ­¤ä»»åŠ¡èŒƒå›´å†…ç»“è¯†ä»–ä»¬ã€‚ </p><br><p> é€šå¸¸ï¼Œgitæ˜¯ç»è¿‡ä¸“é—¨è®¾è®¡çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æœ‰æ•ˆåœ°è¿›è¡Œåˆå¹¶ã€‚ å½“æˆ‘æ¥åˆ°å·¥ä½œæµåŸºäºrebaseçš„é¡¹ç›®æ—¶ï¼Œæˆ‘ç¬¬ä¸€æ¬¡æ„Ÿåˆ°ä¸èˆ’æœå’Œä¸å¯»å¸¸ï¼Œç›´åˆ°æˆ‘å¼€å‘å‡ºå¯ä»¥ç®€åŒ–gitæ—¥å¸¸å·¥ä½œçš„æŠ€æœ¯ã€‚ å…¶ä¸­ä¹‹ä¸€æ˜¯æˆ‘è¿›è¡Œå¤§é‡åŸºå‡†è°ƒæ•´çš„åŸå§‹æ–¹æ³•ã€‚ </p><br><p> å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¼€å‘æ—¶é‡æ–°è®¾ç½®alphaåˆ†æ”¯ï¼Œä»¥ä¾¿ä»¥åå°†å…¶ä¸betaåˆ†æ”¯ä¸€æ ·ç²¾ç¾åœ°è¿›è¡ŒæŸ“è‰²ã€‚ å¦‚æœæˆ‘ä»¬åƒå¾€å¸¸ä¸€æ ·å¼€å§‹å˜åŸºï¼Œåˆ™ç¬¬ä¸€æ¬¡æäº¤å’Œæœ€åä¸€æ¬¡æäº¤å°†åœ¨ä¸¤ä¸ªä¸åŒçš„åœ°æ–¹äº§ç”Ÿä¸¤ä¸ªä¸åŒçš„å†²çªã€‚ ä½†æ˜¯ï¼Œå¦‚æœä¸è¿›è¡ŒåŸºç¡€è°ƒæ•´è€Œåªæ˜¯è¿›è¡Œåˆå¹¶ï¼Œåˆ™ä¸€æ¬¡åˆå¹¶æäº¤ä¸­çš„ä¸€ä¸ªä½ç½®åªä¼šæœ‰ä¸€ä¸ªå†²çªã€‚ </p><br><p> å¦‚æœæ‚¨æƒ³ç¡®ä¿è¿™ä¸€ç‚¹ï¼Œæˆ‘ä¼šåœ¨æ‰°æµæ¿ä¸‹æ–¹æä¾›ç°æˆçš„å›¢é˜Ÿã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">éšè—æ–‡å­—</b> <div class="spoiler_text"><p> ä½¿åˆ†æ”¯æ¢å¤åˆ°åŸå§‹çŠ¶æ€ </p><br><pre> <code class="bash hljs">git checkout master git reset --hard origin/master git checkout alpha git reset --hard origin/alpha</code> </pre> <br><p> åˆ›å»ºå¹¶ç«™åœ¨alpha-rebase-conflictsåˆ†æ”¯ä¸Šï¼Œå¹¶ä»¥masterä¸ºåŸºç¡€ </p><br><pre> <code class="bash hljs">git checkout -b alpha-rebase-conflicts git rebase master</code> </pre> <br><p> å„ç§æäº¤éƒ½ä¼šæœ‰å†²çªï¼ŒåŒ…æ‹¬å¹»å½±å†²çªã€‚ </p><br><p> ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°è¯•åˆå¹¶ï¼Œå›åˆ°alphaåˆ†æ”¯å¹¶åˆ é™¤è¯¥åˆ†æ”¯ä»¥è¿›è¡Œå˜åŸºã€‚ </p><br><pre> <code class="bash hljs">git checkout alpha git branch -D alpha-rebase-conflicts</code> </pre> <br><p> åˆ‡æ¢åˆ°æ¯ç‰ˆå¹¶è¿›è¡Œåˆå¹¶ </p><br><pre> <code class="bash hljs">git checkout master git merge alpha</code> </pre> <br><p> åªæœ‰ä¸€ä¸ªç®€å•çš„å†²çªï¼Œæˆ‘ä»¬å°†å…¶çº æ­£å¹¶æ‰§è¡Œ </p><br><pre> <code class="bash hljs">git add Bill.txt git commit -m <span class="hljs-string"><span class="hljs-string">"Merge branch 'alpha' into 'master'"</span></span></code> </pre> <br><p>  MargeæˆåŠŸå®Œæˆã€‚ </p></div></div><br><p>  Gitå†²çªæ˜¯æˆ‘ä»¬ç”Ÿæ´»ä¸­å¾ˆè‡ªç„¶çš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸ªç®€å•çš„ä¾‹å­è¡¨æ˜ï¼Œå°±æ­¤è€Œè¨€ï¼Œåˆå¹¶ç»å¯¹æ¯”é‡æ–°è®¾ç½®æ›´ä¸ºæ–¹ä¾¿ã€‚ åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™ç§å·®å¼‚æ˜¯é€šè¿‡èŠ±è´¹å¤§é‡æ—¶é—´å’Œç²¾åŠ›æ¥è¡¡é‡çš„ã€‚ å› æ­¤ï¼Œä¾‹å¦‚ï¼Œå­˜åœ¨ä¸€ä¸ªæ¨¡ç³Šçš„å»ºè®®ï¼Œå³åœ¨åˆå¹¶ä¹‹å‰å°†åŠŸèƒ½åˆ†æ”¯çš„æ‰€æœ‰æäº¤å‹ç¼©ä¸ºä¸€ä¸ªæäº¤ã€‚ </p><br><p> è¿™ç§æ–¹æ³•çš„æƒ³æ³•æ˜¯è¿›è¡Œä¸€ä¸ªä¸´æ—¶çš„éšè—åˆå¹¶ï¼Œåœ¨è¯¥åˆå¹¶ä¸­æˆ‘ä»¬å°†ç«‹å³è§£å†³æ‰€æœ‰å†²çªã€‚ è®°ä½ç»“æœï¼ˆæ ‘ï¼‰ã€‚ æ¥ä¸‹æ¥ï¼Œè¿è¡Œå¸¸è§„çš„å˜åŸºï¼Œä½†æ˜¯é€‰æ‹©â€œè‡ªåŠ¨è§£å†³å†²çªï¼Œé€‰æ‹©æˆ‘ä»¬çš„æ›´æ”¹â€ã€‚ æœ€åï¼Œå‘åˆ†æ”¯æ·»åŠ ä¸€ä¸ªé¢å¤–çš„æäº¤ï¼Œè¿™å°†è¿˜åŸæ­£ç¡®çš„æ ‘ã€‚ </p><br><p> è®©æˆ‘ä»¬å¼€å§‹å§ã€‚ åŒæ ·ï¼Œå°†ä¸¤ä¸ªåˆ†æ”¯éƒ½æ¢å¤åˆ°å…¶åŸå§‹çŠ¶æ€ã€‚ </p><br><pre> <code class="bash hljs">git checkout master git reset --hard origin/master git checkout alpha git reset --hard origin/alpha</code> </pre> <br><p> è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä¸´æ—¶åˆ†æ”¯ä¸´æ—¶æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­è¿›è¡Œåˆå¹¶ã€‚ </p><br><pre> <code class="bash hljs">git checkout -b temp git merge origin/master</code> </pre> <br><p> å†²çªã€‚ </p><br><p> è®©æˆ‘ä»¬ç…§å¸¸è§£å†³Bill.txtæ–‡ä»¶ä¸­çš„ä¸€ä¸ªç®€å•å†²çªï¼ˆåœ¨ä»»ä½•ç¼–è¾‘å™¨ä¸­ï¼‰ã€‚ <br> è¯·æ³¨æ„ï¼Œä¸rebaseä¸€æ ·ï¼Œåªæœ‰ä¸€ä¸ªå†²çªï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªå†²çªã€‚ </p><br><pre> <code class="bash hljs">git add Bill.txt git commit -m <span class="hljs-string"><span class="hljs-string">"Merge branch 'origin/master' into 'temp'"</span></span></code> </pre> <br><p> æˆ‘ä»¬è¿”å›åˆ°alphaåˆ†æ”¯ï¼Œä¸ºè‡ªåŠ¨è§£å†³æ‰€æœ‰å†²çªåšå¥½åŸºç¡€ï¼Œå¹¶å°†tempåˆ†æ”¯å¸¦å…¥çŠ¶æ€ï¼Œå¹¶åˆ é™¤tempåˆ†æ”¯æœ¬èº«ã€‚ </p><br><pre> <code class="bash hljs">git checkout alpha git rebase origin/master -X theirs git merge --ff $(git commit-tree temp^{tree} -m <span class="hljs-string"><span class="hljs-string">"Fix after rebase"</span></span> -p HEAD) git branch -D temp</code> </pre> <br><img src="https://habrastorage.org/webt/0c/dh/ou/0cdhoulztbrr4eskxlrotkxgjg0.png"><br><p> æœ€åï¼Œå¤§å¸ˆä¸­ç²¾ç¾çš„mergim alphaã€‚ </p><br><pre> <code class="bash hljs">git checkout master git merge alpha --no-ff --no-edit</code> </pre> <br><img src="https://habrastorage.org/webt/jj/aw/om/jjawom3amg15ki9ob7_osbahzdo.png"><br><p> è¯·æ³¨æ„ï¼Œå°½ç®¡masterï¼Œalphaå’Œremote tempåˆ†æ”¯éƒ½æ˜¯ä¸‰ä¸ªä¸åŒçš„æäº¤ï¼Œä½†å®ƒä»¬éƒ½æŒ‡å‘åŒä¸€æ£µæ ‘ã€‚ </p><br><p> è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹ï¼š </p><br><ul><li> æ²¡æœ‰æ¯ä¸ªå†²çªæäº¤çš„æ‰‹åŠ¨æ›´æ­£-å†²çªä¼šè‡ªåŠ¨è§£å†³ã€‚ è¿™æ ·çš„ä¸­é—´æäº¤å¯èƒ½æ— æ³•ç¼–è¯‘ã€‚ </li><li> åœ¨æ¯ä¸ªåŸºç¡€ä¸Šæ·»åŠ ï¼ˆä½†ä¸æ€»æ˜¯ï¼‰é¢å¤–æäº¤ </li></ul><br><p> ä¼˜ç‚¹ï¼š </p><br><ul><li> æˆ‘ä»¬åªè§£å†³å®é™…å†²çªï¼ˆæ²¡æœ‰å¹»å½±å†²çªï¼‰ </li><li> æ‰€æœ‰å†²çªä»…ä¿®å¤ä¸€æ¬¡ã€‚ </li><li> å‰ä¸¤ç‚¹èŠ‚çœæ—¶é—´ </li><li> ä¿å­˜äº†æäº¤å’Œæ‰€æœ‰æ›´æ”¹çš„å®Œæ•´å†å²è®°å½•ï¼ˆä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥è¿›è¡Œé€‰æ‹©ï¼‰ </li><li> è¯¥æ–¹æ³•ä»¥è„šæœ¬çš„å½¢å¼å®ç°ï¼Œå¹¶ä¸”åœ¨å¿…è¦æ—¶å§‹ç»ˆå¯ä»¥ç”¨äºå˜åŸºï¼ˆå®ƒä¸éœ€è¦ä»»ä½•æœ‰å…³æ ‘çš„çŸ¥è¯†ï¼Œç­‰ç­‰ï¼‰ã€‚ </li></ul><br><a name="z6b"></a><br><h3 id="6b-metod-rebase-cherez-merge---skript">  <strong>6bã€‚</strong>  <strong>é€šè¿‡åˆå¹¶é‡æ–°è®¾ç½®æ–¹æ³•-è„šæœ¬</strong> </h3><br><p> è¯¥è„šæœ¬å‘å¸ƒåœ¨è¿™é‡Œï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">//github.com/capslocky/git-rebase-via-merge</a> </p><br><p> è®©æˆ‘ä»¬åœ¨ç¤ºä¾‹ä¸­æ£€æŸ¥å…¶å·¥ä½œã€‚ åŒæ ·ï¼Œå°†ä¸¤ä¸ªåˆ†æ”¯éƒ½æ¢å¤åˆ°åŸå§‹çŠ¶æ€ </p><br><pre> <code class="bash hljs">git checkout master git reset --hard origin/master git checkout alpha git reset --hard origin/alpha</code> </pre> <br><p> ä¸‹è½½è„šæœ¬å¹¶ä½¿å…¶å¯æ‰§è¡Œ </p><br><pre> <code class="bash hljs">curl -L https://git.io/rebase-via-merge -o ~/git-rebase-via-merge.sh chmod +x ~/git-rebase-via-merge.sh</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">çª—æˆ·</b> <div class="spoiler_text"><p> è¯¥æ–‡ä»¶å°†æ˜¾ç¤ºåœ¨è¿™é‡Œï¼šCï¼š\ Users \ç”¨æˆ·å\ git-rebase-via-merge.sh </p></div></div><br><p> æ›´æ”¹æ‚¨éœ€è¦ä¸ºå…¶é‡æ–°è®¾ç½®åŸºç¡€çš„é»˜è®¤åˆ†æ”¯ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦origin / master </p><br><pre> <code class="bash hljs">nano ~/git-rebase-via-merge.sh</code> </pre> <br><pre> <code class="bash hljs">default_base_branch=<span class="hljs-string"><span class="hljs-string">'origin/master'</span></span></code> </pre> <br><p> æˆ‘ä»¬è¿˜åˆ›å»ºå¹¶ç«™åœ¨ä¸€ä¸ªä¸´æ—¶åˆ†æ”¯ä¸Šï¼Œä»¥å…ç¢°åˆ°alphaåˆ†æ”¯æœ¬èº« </p><br><pre> <code class="bash hljs">git checkout -b alpha-rebase-test</code> </pre> <br><p> ç°åœ¨ï¼Œæ‚¨å¯ä»¥è¿è¡Œè„šæœ¬ï¼ˆè€Œä¸æ˜¯ä¼ ç»Ÿçš„git rebaseèµ·æº/ä¸»æœåŠ¡å™¨ï¼‰ </p><br><pre> <code class="bash hljs">~/git-rebase-via-merge.sh</code> </pre> <br><img src="https://habrastorage.org/webt/hi/nx/fw/hinxfwidwz65f9et23qqn9daxdi.png"><br><div class="spoiler">  <b class="spoiler_title">è„šæœ¬ç»“æœ</b> <div class="spoiler_text"><pre> <code class="bash hljs">$ ~/git-rebase-via-merge.sh This script will perform rebase via merge. Current branch: alpha-rebase-test (64fafc7) Base branch: origin/master (9c6b60a) Continue (c) / Abort (a) c Auto-merging Bill.txt CONFLICT (content): Merge conflict <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Bill.txt Automatic merge failed; fix conflicts and <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> commit the result. You have at least one merge conflict. Fix all conflicts <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the following files, stage them up and <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> <span class="hljs-string"><span class="hljs-string">'c'</span></span>: Bill.txt Continue (c) / Abort (a) c [detached HEAD 785d49e] Hidden temp commit to save result of merging <span class="hljs-string"><span class="hljs-string">'origin/master'</span></span> into <span class="hljs-string"><span class="hljs-string">'alpha-rebase-test'</span></span> as detached head. Merge succeeded on hidden commit: 785d49e Starting rebase automatically resolving any conflicts <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> favor of current branch. First, rewinding head to replay your work on top of it... Auto-merging Bill.txt [detached HEAD a680316] Added <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of windows Author: Baur &lt;atanov...@gmail.com&gt; Date: Sat Oct 27 11:45:50 2018 +0600 1 file changed, 6 insertions(+), 3 deletions(-) Committed: 0001 Added <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of windows Auto-merging Bill.txt [detached HEAD dcd34a8] Replaced <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of windows Author: Baur &lt;atanov...@gmail.com&gt; Date: Sat Oct 27 11:55:42 2018 +0600 1 file changed, 4 insertions(+), 5 deletions(-) Committed: 0002 Replaced <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of windows Auto-merging Bill.txt [detached HEAD 8d6d82c] Added file about Azure and info about Windows 10 Author: Baur &lt;atanov...@gmail.com&gt; Date: Sat Oct 27 12:06:27 2018 +0600 2 files changed, 5 insertions(+), 3 deletions(-) create mode 100644 Azure.txt Committed: 0003 Added file about Azure and info about Windows 10 All <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Restoring project state from hidden merge with single additional commit. Updating 8d6d82c..268b320 Fast-forward Bill.txt | 4 ++++ 1 file changed, 4 insertions(+) Done.</code> </pre> </div></div><br><p>       </p><br><pre> <code class="bash hljs">~/git-rebase-via-merge.sh origin/develop</code> </pre> <br><p>   ,  ours / theirs     : </p><br><p> ours â€”       (HEAD) <br> theirs â€”      (, origin/develop) </p><br><p>      rebase â€”    . </p><br><a name="z7"></a><br><h3 id="7-alias"> <strong>7. </strong> </h3><br><p>    git       . </p><br><p>      . </p><br><pre> <code class="bash hljs">git config alias.copy <span class="hljs-string"><span class="hljs-string">'!git merge --ff $(git commit-tree ${1}^{tree} -p HEAD -m "Tree copy from ${1}")'</span></span></code> </pre> <br><p>     git copy xxx,  xxx â€”    . </p><br><pre> <code class="bash hljs">git copy xxx</code> </pre> <br><p>        </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree xxx^{tree} -p HEAD -m <span class="hljs-string"><span class="hljs-string">"Tree copy from xxx"</span></span>)</code> </pre> <br><p>  </p><br><pre> <code class="bash hljs">git copy a8fc5e3</code> </pre> <br><pre> <code class="bash hljs">git copy origin/beta</code> </pre> <br><pre> <code class="bash hljs">git copy HEAD~3</code> </pre> <br><p>           git amend. </p><br><pre> <code class="bash hljs">git commit --amend -m <span class="hljs-string"><span class="hljs-string">"Just for test"</span></span></code> </pre> <br><p>   : </p><br><pre> <code class="bash hljs">git commit --amend</code> </pre> <br><a name="end"></a><br><h3 id="zaklyuchenie"> <strong></strong> </h3><br><p>   ,           ,      .    ,   .  â€”  .    , ,   .           .   "  "  "   "   .         ( ,   devops), ,   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN433748/">https://habr.com/ru/post/zh-CN433748/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN433734/index.html">å”çº³å¾·Â·å…‹åŠªæ–¯ï¼ˆDonald Knuthï¼‰ï¼šâ€œå¹´é•¿çš„åŒå¿—ä»¬æ‰“ç½‘çƒï¼Œæˆ‘ä»¬æ˜¯çƒã€‚ ä»–ä»¬æ‰“æˆ‘ä»¬ï¼Œå¾ˆä¼¤äººã€‚â€ ï¼ˆ11,12 / 97ï¼‰</a></li>
<li><a href="../zh-CN433738/index.html">ä¸Šå¤ï¼šæˆ‘ä»¬æœªé€‰æ‹©çš„MS-DOSä¸‹çš„æ¸¸æˆ</a></li>
<li><a href="../zh-CN433740/index.html">å›½å®¶æœé©¬å–æ¶ˆä¸‰è¯»å›½å®¶æ¼«æ¸¸</a></li>
<li><a href="../zh-CN433742/index.html">æ¶¡è½®å–·æ°”</a></li>
<li><a href="../zh-CN433746/index.html">è¯»æ¨¡å› çš„é©¬å°”ç“¦å°”</a></li>
<li><a href="../zh-CN433750/index.html">æˆ‘ä»¬å¦‚ä½•åœ¨å…‹æ‹‰æ–¯è¯ºäºšå°”æ–¯å…‹åº¦è¿‡å†¬å­£å­¦æ ¡â€œæ•°å­—åµŒå…¥å¼ç³»ç»Ÿâ€</a></li>
<li><a href="../zh-CN433752/index.html">ç–¯ç‹‚çš„å¡æ¡‘å¾·ï¼ˆCrazy Cassanderï¼‰è°ˆä¿„ç½—æ–¯æ¸¸æˆè®¾è®¡æ•™è‚²çš„ç»†å¾®å·®åˆ«</a></li>
<li><a href="../zh-CN433754/index.html">Slackç¦æ­¢ä»å…‹é‡Œç±³äºšå¼€æˆ·</a></li>
<li><a href="../zh-CN433756/index.html">é­…åŠ›Androidã€‚ æœ‰å…³ç§»åŠ¨è‡ªåŠ¨åŒ–çš„ä¿¡æ¯æŠ¥å‘Š</a></li>
<li><a href="../zh-CN433758/index.html">ä»¿ç”Ÿå‡ä½“ï¼šé€šè¿‡è®¾è®¡è‡ªæˆ‘è¡¨è¾¾</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>