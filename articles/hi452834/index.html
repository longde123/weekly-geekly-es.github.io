<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯзЭ тЪТя╕П ЁЯЫГ рдкрддрд▓рд╛ рдорд╛рдЗрдХреНрд░реЛрдлреНрд░рд╛рдорд╡рд░реНрдХ ЁЯСйЁЯП╝тАНЁЯПл ЁЯПВЁЯП╛ ЁЯзФ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="25 рдЕрдкреНрд░реИрд▓, 2019 рдХреЛ, рд╕реНрд▓рд┐рдо рдорд╛рдЗрдХреНрд░реЛрдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рдирдП рдкреНрд░рдореБрдЦ alpha рд╕рдВрд╕реНрдХрд░рдг рдиреЗ рджрд┐рди рдХреА рд░реЛрд╢рдиреА рджреЗрдЦреА, рдФрд░ 18 рдордИ рдХреЛ рдпрд╣ beta рдмрдврд╝ рдЧрдпрд╛ред рдореЗрд░рд╛ рд╕реБрдЭрд╛рд╡ рд╣реИ рдХрд┐ рдЖрдк рдирдП рд╕рдВрд╕реНрдХрд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкрддрд▓рд╛ рдорд╛рдЗрдХреНрд░реЛрдлреНрд░рд╛рдорд╡рд░реНрдХ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452834/"><p> 25 рдЕрдкреНрд░реИрд▓, 2019 рдХреЛ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрд▓рд┐рдо</a> рдорд╛рдЗрдХреНрд░реЛрдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рдирдП рдкреНрд░рдореБрдЦ <code>alpha</code> рд╕рдВрд╕реНрдХрд░рдг рдиреЗ рджрд┐рди рдХреА рд░реЛрд╢рдиреА рджреЗрдЦреА, рдФрд░ 18 рдордИ рдХреЛ рдпрд╣ <code>beta</code> рдмрдврд╝ рдЧрдпрд╛ред  рдореЗрд░рд╛ рд╕реБрдЭрд╛рд╡ рд╣реИ рдХрд┐ рдЖрдк рдирдП рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рдЦреБрдж рдХреЛ рдкрд░рд┐рдЪрд┐рдд рдХрд░реЗрдВред </p><br><p>  рдХрдЯреМрддреА рдХреЗ рддрд╣рдд: </p><br><ul><li>  рдврд╛рдВрдЪреЗ рдХреЗ рдирд╡рд╛рдЪрд╛рд░реЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ </li><li>  рд╕реНрд▓рд┐рдо -4 рдкрд░ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдЖрд╡реЗрджрди рд▓рд┐рдЦрдирд╛ </li><li>  рд╕реНрд▓рд┐рдо рдПрдВрдб <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">PhpStorm</a> рджреЛрд╕реНрддреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ <a name="habracut"></a></li></ul><br><h2 id="novoe-v-slim-4">  рд╕реНрд▓рд┐рдо 4 рдореЗрдВ рдирдпрд╛ </h2><br><p>  рд╕рдВрд╕реНрдХрд░рдг 3 рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдкреНрд░рдореБрдЦ рдирд╡рд╛рдЪрд╛рд░: </p><br><ul><li>  PHP рдХрд╛ рдиреНрдпреВрдирддрдо рд╕рдВрд╕реНрдХрд░рдг 7.1 рд╣реИ; </li><li>  PSR-15 (рдорд┐рдбрд▓рд╡реЗрдпрд░) рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди; </li><li>  Http рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ред  рдХрд┐рд╕реА рднреА PSR-7 рд╕рдВрдЧрдд рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд┐рдореНрдкрд▓</a> рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╣рдЯрд╛ рджрд┐рдпрд╛ред  рдЕрдкрдиреЗ рдкрд╕рдВрджреАрджрд╛ PSR-11 рд╕рдВрдЧрдд рдХрдВрдЯреЗрдирд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ; </li><li>  рдЖрдкрдХреЗ рд░рд╛рдЙрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ (рдкрд╣рд▓реЗ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">FastRoute</a> рдХреЛ рдЫреЛрдбрд╝рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рдерд╛); </li><li>  рддреНрд░реБрдЯрд┐ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди; </li><li>  рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЙрддреНрдкрд╛рджрди рдХрд╛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди; </li><li>  рдЖрд╡реЗрджрди рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдХрд╛рд░рдЦрд╛рдирд╛; </li><li>  рд╣рдЯрд╛рдП рдЧрдП рд╕реЗрдЯрд┐рдВрдЧреНрд╕; </li><li>  рд╕реНрд▓рд┐рдо рдЕрдм рдПрдХ рдЦрд╛рд▓реА рд╕реНрдЯреНрд░рд┐рдВрдЧ рдкрд░ <code>default_mimetype</code> рд╕реЗрдЯ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ <code>ini_set('default_mimetype', '')</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <code>php.ini</code> рдпрд╛ рдЕрдкрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛; </li><li>  рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдиреБрд░реЛрдз рд╣реИрдВрдбрд▓рд░ рдЕрдм рдХреЗрд╡рд▓ рдЕрдиреБрд░реЛрдз рдСрдмреНрдЬреЗрдХреНрдЯ (рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, рдпрд╣ рдЕрдиреБрд░реЛрдз рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ) рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред </li></ul><br><h3 id="kak-teper-sozdat-prilozhenie">  рдЕрдм рдЖрд╡реЗрджрди рдХреИрд╕реЗ рдмрдирд╛рдПрдВ? </h3><br><p>  рддреАрд╕рд░реЗ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдирд╛ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд╕реЗ рджреЗрдЦрд╛ рдЧрдпрд╛: </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ServerRequestInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">App</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $settings = [ <span class="hljs-string"><span class="hljs-string">'addContentLengthHeader'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, ]; $app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> App([<span class="hljs-string"><span class="hljs-string">'settings'</span></span> =&gt; $settings]); $app-&gt;get(<span class="hljs-string"><span class="hljs-string">'/hello/{name}'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ServerRequestInterface $request, ResponseInterface $response, array $args)</span></span></span><span class="hljs-function"> </span></span>{ $name = $args[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]; $response-&gt;getBody()-&gt;write(<span class="hljs-string"><span class="hljs-string">"Hello, $name"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $response; }); $app-&gt;run();</code> </pre> <br><p>  рдЕрдм рдЖрд╡реЗрджрди рдирд┐рд░реНрдорд╛рддрд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ: </p><br><div class="scrollable-table"><table><thead><tr><th>  рдкреИрд░рд╛рдореАрдЯрд░ </th><th>  рдЯрд╛рдЗрдк </th><th>  рдЕрдирд┐рд╡рд╛рд░реНрдп </th><th>  рд╡рд┐рд╡рд░рдг </th></tr></thead><tbody><tr><td>  $ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ </td><td> <code>Psr\Http\Message\ResponseFactoryInterface</code> </td> <td>  рд╣рд╛рдВ </td><td>  PSR-17 рд╕рдВрдЧрдд рд╕рд░реНрд╡рд░ http рдЕрдиреБрд░реЛрдз рдХрд╛рд░рдЦрд╛рдирд╛ </td></tr><tr><td>  $ рдХрдВрдЯреЗрдирд░ </td><td> <code>\Psr\Container\ContainerInterface</code> </td> <td>  рдирд╣реАрдВ </td><td>  рдирд┐рд░реНрднрд░рддрд╛ рдХрдВрдЯреЗрдирд░ </td></tr><tr><td>  $ callableResolver </td><td> <code>\Slim\Interfaces\CallableResolverInterface</code> </td> <td>  рдирд╣реАрдВ </td><td>  рдХреЙрд▓рдмреИрдХ рд╣реИрдВрдбрд▓рд░ </td></tr><tr><td>  $ рдорд╛рд░реНрдЧрдХреЙрд▓реЗрдХреНрдЯрд░ </td><td> <code>\Slim\Interfaces\RouteCollectorInterface</code> </td> <td>  рдирд╣реАрдВ </td><td>  рд░реВрдЯрд░ </td></tr><tr><td>  $ рдорд╛рд░реНрдЧ </td><td> <code>\Slim\Interfaces\RouteResolverInterface</code> </td> <td>  рдирд╣реАрдВ </td><td>  рд░реВрдЯрд┐рдВрдЧ рдкрд░рд┐рдгрд╛рдо рд╣реИрдВрдбрд▓рд░ </td></tr></tbody></table></div><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдЕрдм рдЖрдк рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдлрд╝реИрдХреНрдЯрд░реА <code>\Slim\Factory\AppFactory</code> рдХреЗ рд╕реНрдерд┐рд░ <code>create</code> рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br>  рдпрд╣ рд╡рд┐рдзрд┐ рдЗрдирдкреБрдЯ рдХреЗ рд╕рдорд╛рди рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддреА рд╣реИ, рдХреЗрд╡рд▓ рд╡реЗ рд╕рднреА рд╡реИрдХрд▓реНрдкрд┐рдХ рд╣реИрдВред </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ServerRequestInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $app-&gt;get(<span class="hljs-string"><span class="hljs-string">'/hello/{name}'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ServerRequestInterface $request, ResponseInterface $response)</span></span></span><span class="hljs-function"> </span></span>{ $name = $request-&gt;getAttribute(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); $response-&gt;getBody()-&gt;write(<span class="hljs-string"><span class="hljs-string">"Hello, $name"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $response; }); $app-&gt;run();</code> </pre> <br><h3 id="vernite-mne-404-oshibku">  рдореБрдЭреЗ 404 рддреНрд░реБрдЯрд┐рдпрд╛рдВ рд╡рд╛рдкрд╕ рджреЗрдВ! </h3><br><p>  рдпрджрд┐ рд╣рдо рдПрдХ рдЧреИрд░-рдореМрдЬреВрдж рдкреГрд╖реНрда рдЦреЛрд▓рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ <code>500</code> рдХрд╛ рдПрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛрдб рдорд┐рд▓рддрд╛ рд╣реИ, рди рдХрд┐ <code>404</code> ред  рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <code>\Slim\Middleware\ErrorMiddleware</code> рдХрдиреЗрдХреНрдЯ <code>\Slim\Middleware\ErrorMiddleware</code> </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ServerRequestInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">ErrorMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ErrorMiddleware( $app-&gt;getCallableResolver(), $app-&gt;getResponseFactory(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> ); $app-&gt;add($middleware); $app-&gt;get(<span class="hljs-string"><span class="hljs-string">'/hello/{name}'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ServerRequestInterface $request, ResponseInterface $response)</span></span></span><span class="hljs-function"> </span></span>{ $name = $request-&gt;getAttribute(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); $response-&gt;getBody()-&gt;write(<span class="hljs-string"><span class="hljs-string">"Hello, $name"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $response; }); $app-&gt;run();</code> </pre> <br><h3 id="middleware">  middleware </h3><br><p>  рдорд┐рдбрд▓рд╡реЗрдпрд░ рдХреЛ рдЕрдм PSR-15 рд▓рд╛рдЧреВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЕрдкрд╡рд╛рдж рдХреЗ рд░реВрдк рдореЗрдВ, рдЖрдк рдлрд╝рдВрдХреНрд╢рдВрд╕ рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЛ <code>process()</code> <code>\Psr\Http\Server\MiddlewareInterface</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреА рд╡рд┐рдзрд┐ рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ServerRequestInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Server</span></span>\<span class="hljs-title"><span class="hljs-title">RequestHandlerInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $app-&gt;add(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ServerRequestInterface $request, RequestHandlerInterface $handler)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ResponseInterface</span></span></span><span class="hljs-function"> </span></span>{ $response = $handler-&gt;handle($request); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $response-&gt;withHeader(<span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>, <span class="hljs-string"><span class="hljs-string">'application/json'</span></span>); }); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><p>  рд╣рд╕реНрддрд╛рдХреНрд╖рд░ <code>($request, $response, $next)</code> рдЕрдм рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИ </p><br><h3 id="kak-zhit-bez-nastroek">  рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдмрд┐рдирд╛ рдХреИрд╕реЗ рд░рд╣реЗрдВ? </h3><br><p>  рдЖрдк рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдмрд┐рдирд╛ рд░рд╣ рд╕рдХрддреЗ рд╣реИрдВред  рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдЙрдкрдХрд░рдг рд╣рдореЗрдВ рдЗрд╕рдореЗрдВ рдорджрдж рдХрд░реЗрдВрдЧреЗред </p><br><p>  <strong><code>httpVersion</code></strong> рдФрд░ <strong><code>responseChunkSize</code></strong> </p><br><p>  рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рд▓рд┐рдП <code>httpVersion</code> рд╕реЗрдЯрд┐рдВрдЧ рдЬрд┐рдореНрдореЗрджрд╛рд░ рдереАред <br>  рдЬрдм рдХрд┐рд╕реА рдмреНрд░рд╛рдЙрдЬрд░ рдХреЛ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рд░рд┐рд╕реНрдкрд╛рдВрд╕ рдмреЙрдбреА рд╕реЗ рдкрдврд╝реЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рддреНрдпреЗрдХ рдЪрдВрдХ рдХрд╛ рд╕рд╛рдЗрдЬ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдЕрдм рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдЙрддреНрддрд░ рдХреЗ рдПрдорд┐рдЯрд░ рдХреЛ рд╕реМрдВрдкрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдЗрдорд░рддреА рд▓рд┐рдЦрд┐рдП </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// /src/ResponseEmitter.php namespace App; use Psr\Http\Message\ResponseInterface; use Slim\ResponseEmitter as SlimResponseEmitter; class ResponseEmitter extends SlimResponseEmitter { private $protocolVersion; public function __construct(string $protocolVersion = '1.1', int $responseChunkSize = 4096) { $this-&gt;protocolVersion = $protocolVersion; parent::__construct($responseChunkSize); } public function emit(ResponseInterface $response) : void{ parent::emit($response-&gt;withProtocolVersion($this-&gt;protocolVersion)); } }</span></span></code> </pre> <br><p>  рд╣рдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseEmitter</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $serverRequestFactory = \Slim\Factory\ServerRequestCreatorFactory::create(); $request = $serverRequestFactory-&gt;createServerRequestFromGlobals(); <span class="hljs-comment"><span class="hljs-comment">// ...     $response = $app-&gt;handle($request); $emitter = new ResponseEmitter('2.0', 4096); $emitter-&gt;emit($response);</span></span></code> </pre> <br><p> <strong><code>outputBuffering</code></strong> </p> <br><p>  рдЗрд╕ рд╕реЗрдЯрд┐рдВрдЧ рдиреЗ рдЖрдЙрдЯрдкреБрдЯ рдмрдлрд░рд┐рдВрдЧ рдХреЛ рдЪрд╛рд▓реВ / рдмрдВрдж рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреАред  рдорд╛рди рд╕реЗрдЯ рдХрд░рдирд╛: </p><br><ul><li>  <code>false</code> - рдмрдлрд░рд┐рдВрдЧ рдмрдВрдж рдХрд░ рджреА рдЧрдИ рд╣реИ (рд╕рднреА рдХреЙрд▓ <code>echo</code> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <code>print</code> рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рдХреЛ рдирдЬрд░рдЕрдВрджрд╛рдЬ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) </li><li>  <code>'append'</code> - рд╕рднреА рдХреЙрд▓ <code>echo</code> , <code>print</code> рд╕реНрдЯреЗрдЯрдореЗрдВрдЯреНрд╕ рдХреЛ рд░рд┐рд╕реНрдкреЙрдиреНрд╕ рдмреЙрдбреА рдХреЗ рдмрд╛рдж рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  <code>'prepend'</code> - рд╕рднреА рдХреЙрд▓ <code>echo</code> , <code>print</code> рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рдХреЛ рд░рд┐рд╕реНрдкреЙрдиреНрд╕ рдмреЙрдбреА рд╕реЗ рдкрд╣рд▓реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ </li></ul><br><p>  <code>\Slim\Middleware\OutputBufferingMiddleware</code> рдбреЗрд╡рд▓рдкрд░реНрд╕ рдиреЗ рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреЛ <code>\Slim\Middleware\OutputBufferingMiddleware</code> рдХреЗ рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рдмрджрд▓рдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ <code>\Slim\Middleware\OutputBufferingMiddleware</code> , рдЬрд┐рд╕рдореЗрдВ рдПрдХ PSR-17 рд╕рдВрдЧрдд рд╕реНрдЯреНрд░реАрдо рдлреИрдХреНрдЯрд░реА рдФрд░ рдПрдХ рдореЛрдб рдЬреЛ <code>append</code> рдпрд╛ <code>prepend</code> рдмрд░рд╛рдмрд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, <code>prepend</code> </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">Psr17</span></span>\<span class="hljs-title"><span class="hljs-title">SlimPsr17Factory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">OutputBufferingMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OutputBufferingMiddleware(SlimPsr17Factory::getStreamFactory(), OutputBufferingMiddleware::APPEND); $app-&gt;add($middleware); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><p> <strong><code>determineRouteBeforeAppMiddleware</code></strong> </p> <br><p>  рдЗрд╕ рд╕реЗрдЯрд┐рдВрдЧ рдиреЗ рдорд┐рдбрд┐рд▓рд╡реЗрдпрд░ рдореЗрдВ рдЕрдиреБрд░реЛрдз рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реЗ рд╡рд░реНрддрдорд╛рди рдорд╛рд░реНрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдмрдирд╛ рджрд┐рдпрд╛ </p><br><p>  рдПрдХ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ <code>\Slim\Middleware\RoutingMiddleware</code> </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">RoutingMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutingMiddleware($app-&gt;getRouteResolver()); $app-&gt;add($middleware); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><p> <strong><code>displayErrorDetails</code></strong> </p> <br><p>  рд╕реЗрдЯрд┐рдВрдЧ рдореЗрдВ рддреНрд░реБрдЯрд┐ рд╡рд┐рд╡рд░рдг рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИред  рдбрд┐рдмрдЧрд┐рдВрдЧ рдХрд░рддреЗ рд╕рдордп, рдпрд╣ рдЬреАрд╡рди рдХреЛ рдЖрд╕рд╛рди рдмрдирд╛рддрд╛ рд╣реИред </p><br><p>  рдпрд╛рдж рд░рдЦреЗрдВ <code>\Slim\Middleware\ErrorMiddleware</code> ?  рдпрд╣рд╛рдБ рдпрд╣ рд╣рдорд╛рд░реА рдорджрдж рдХрд░реЗрдЧрд╛! </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">ErrorMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ErrorMiddleware( $app-&gt;getCallableResolver(), $app-&gt;getResponseFactory(), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-comment"><span class="hljs-comment">//        false, //   false //    ); $app-&gt;add($middleware); // ...     $app-&gt;run();</span></span></code> </pre> <br><p> <strong><code>addContentLengthHeader</code></strong> </p> <br><p>  рдЗрд╕ рд╕реЗрдЯрд┐рдВрдЧ рдиреЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдмреЙрдбреА рдореЗрдВ рдбреЗрдЯрд╛ рд╡реЙрд▓реНрдпреВрдо рдХреЗ рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде <code>Content-Length</code> рд╣реЗрдбрд░ рдХреЗ рдСрдЯреЛ-рдПрдбрд┐рд╢рди рдХреЛ рд╕рдХреНрд╖рдо / рдЕрдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреА </p><br><p>  рдорд┐рдбрд▓рд╡реЗрдпрд░ рд╡рд┐рдХрд▓реНрдк <code>\Slim\Middleware\ContentLengthMiddleware</code> </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">ContentLengthMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ContentLengthMiddleware(); $app-&gt;add($middleware); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><p> <strong><code>routerCacheFile</code></strong> </p> <br><p>  рдЕрдм рдЖрдк рд╕реАрдзреЗ рд░рд╛рдЙрдЯрд░ рдХреИрд╢ рдлрд╝рд╛рдЗрд▓ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $app-&gt;getRouteCollector()-&gt;setCacheFile(<span class="hljs-string"><span class="hljs-string">'/path/to/cache/router.php'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><h2 id="sozdanie-prilozheniya-na-slim-4">  рд╕реНрд▓рд┐рдо -4 рдкрд░ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдирд╛ </h2><br><p>  рд░реВрдкрд░реЗрдЦрд╛ рдкрд░ рдХрд░реАрдм рд╕реЗ рдирдЬрд╝рд░ рдбрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рдЖрд╡реЗрджрди рд▓рд┐рдЦреЗрдВрдЧреЗред </p><br><p>  рдЖрд╡реЗрджрди рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рд░реНрдЧ рд╣реЛрдВрдЧреЗ: </p><br><ul><li>  <code>/hello/{name}</code> - рд╕реНрд╡рд╛рдЧрдд рдкреГрд╖реНрда; </li><li>  <code>/</code> - рдкреГрд╖реНрда <code>/hello/world</code> рд▓рд┐рдП рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд </li><li>  рдЕрдиреНрдп рдорд╛рд░реНрдЧ 404 рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдХрд╕реНрдЯрдо рдкреГрд╖реНрда рд▓реМрдЯрд╛рдПрдВрдЧреЗред </li></ul><br><p>  рдирд┐рдпрдВрддреНрд░рдХ рдореЗрдВ рддрд░реНрдХ рд╣реЛрдЧрд╛, рд╣рдо рдкреГрд╖реНрда рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреНрд╡реАрдЧ</a> рдЯреЗрдореНрдкрд▓реЗрдЯ рдЗрдВрдЬрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рд╕реНрддреБрдд рдХрд░реЗрдВрдЧреЗ <br>  рдПрдХ рдмреЛрдирд╕ рдХреЗ рд░реВрдк рдореЗрдВ, рдорд╛рд░реНрдЧреЛрдВ рдХреА рд╕реВрдЪреА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реА рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рд╕рд┐рдореНрдлрдиреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрдВрд╕реЛрд▓</a> рдШрдЯрдХ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдХрдВрд╕реЛрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЬреЛрдбрд╝реЗрдВ </p><br><h3 id="shag-0-ustanovka-zavisimostey">  рдЪрд░рдг 0. рдирд┐рд░реНрднрд░рддрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </h3><br><p>  рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: </p><br><ul><li>  рдорд╛рдЗрдХреНрд░реЛрдлрд╝реНрд░рд╛рдорд╡рд░реНрдХ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрддрд▓рд╛ / рдкрддрд▓рд╛</a> ; </li><li>  рдХрдВрдЯреЗрдирд░ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ (PSR-11) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">psr / рдХрдВрдЯреЗрдирд░ рдХрд╛</a> рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди; </li><li>  http- рд╕рдВрджреЗрд╢ рдЗрдВрдЯрд░рдлреЗрд╕ (PSR-7) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://packagist.org/packages/psr/">psr / http-message рдХрд╛</a> рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди; </li><li>  http-message factory (PSR-17) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://packagist.org/packages/psr/">psr / http-factory</a> рдХреЗ рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди; </li><li>  рдЯреЗрдореНрдкрд▓реЗрдЯ рдЗрдВрдЬрди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯрд╣рдиреА / рдЯрд╣рдиреА</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд┐рдореНрдлрдиреА / рдХрдВрд╕реЛрд▓</a> рдХрдВрд╕реЛрд▓ рдПрдкреНрд▓реАрдХреЗрд╢рдиред </li></ul><br><p>  рдореИрдВрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрд▓реНрдЯреНрд░рд╛-рд▓рд╛рдЗрдЯ / рдХрдВрдЯреЗрдирд░</a> рдХреЛ рдирд┐рд░реНрднрд░рддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрдВрдЯреЗрдирд░</a> рдХреЗ рд░реВрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореЗрдВ рдЪреБрдирд╛</a> , рд╣рд▓реНрдХреЗ, рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдФрд░ рдорд╛рдирдХ рдХреЗ рдЕрдиреБрд░реВрдкред <br>  PSR-7 рдФрд░ PSR-17 рд╕реНрд▓рд┐рдо рдбреЗрд╡рд▓рдкрд░реНрд╕ рдПрдХ рдкреИрдХреЗрдЬ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрд▓рд┐рдо / ps7</a> рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред  рд╣рдо рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ </p><br><blockquote>  рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдВрдЧреАрддрдХрд╛рд░</a> рдкреИрдХреЗрдЬ рдкреНрд░рдмрдВрдзрдХ рдкрд╣рд▓реЗ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рд╣реИред </blockquote><p>  рд╣рдо рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдмрдирд╛рддреЗ рд╣реИрдВ ( <code>/path/to/project</code> рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛) рдФрд░ рдЙрд╕ рдкрд░ рдЬрд╛рдПрдВред </p><br><p>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рд╛рдордЧреНрд░реА рдХреЗ рд╕рд╛рде рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ <code>composer.json</code> рдлрд╝рд╛рдЗрд▓ рдЬреЛрдбрд╝реЗрдВ: </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"require"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"php"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=7.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"slim/slim"</span></span>: <span class="hljs-string"><span class="hljs-string">"4.0.0-beta"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"slim/psr7"</span></span>: <span class="hljs-string"><span class="hljs-string">"~0.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ultra-lite/container"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"symfony/console"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"twig/twig"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.10"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"autoload"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"psr-4"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"App\\"</span></span>: <span class="hljs-string"><span class="hljs-string">"app"</span></span> } } }</code> </pre> <br><p>  рдФрд░ рдХрдорд╛рдВрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ </p><br><pre> <code class="plaintext hljs">composer install</code> </pre> <br><p>  рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдкреИрдХреЗрдЬ рд╣реИрдВ рдФрд░ рдХреНрд▓рд╛рд╕ рдСрдЯреЛрд▓реИрдбрд░ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдпрджрд┐ рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">git рдХреЗ</a> рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рддреЛ <code>.gitignore</code> рдлрд╝рд╛рдЗрд▓ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рд╡рд╣рд╛рдВ <code>vendor</code> рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдЬреЛрдбрд╝реЗрдВ (рдФрд░ рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рдЖрдкрдХреЗ IDE рдХреА рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА) </p><br><pre> <code class="plaintext hljs">/.idea/* /vendor/*</code> </pre> <br><p>  рдореИрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">PhpStorm</a> IDE рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реВрдВ <del>  рдФрд░ рдЗрд╕ рдкрд░ рдЧрд░реНрд╡ рд╣реИ </del>  ред  рдПрдХ рдЖрд░рд╛рдорджрд╛рдпрдХ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП, рдХрдВрдЯреЗрдирд░ рдФрд░ рдЖрдИрдбреАрдИ рдХреЗ рд╕рд╛рде рджреЛрд╕реНрддреА рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред <br>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреА рдЬрдбрд╝ рдореЗрдВ, <code>.phpstorm.meta.php</code> рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдБ рдФрд░ рд╡рд╣рд╛рдБ рдирд┐рдореНрди рдХреЛрдб рд▓рд┐рдЦреЗрдВ: </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// .phpstorm.meta.php namespace PHPSTORM_META { override( \Psr\Container\ContainerInterface::get(0), map([ '' =&gt; '@', ]) ); }</span></span></code> </pre> <br><p>  рдпрд╣ рдХреЛрдб рдЖрдИрдбреАрдИ рдХреЛ рдмрддрд╛рдПрдЧрд╛ рдХрд┐ рдЬрд┐рд╕ рд╡рд╕реНрддреБ рдХреЗ рд▓рд┐рдП <code>\Psr\Container\ContainerInterface</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ, <code>get()</code> рд╡рд┐рдзрд┐ рдПрдХ рдХреНрд▓рд╛рд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдпрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд▓реМрдЯрд╛ рджреЗрдЧреА рдЬрд┐рд╕рдХрд╛ рдирд╛рдо рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><h3 id="shag-1-karkas-prilozheniya">  рдЪрд░рдг 1. рдЖрд╡реЗрджрди рдлреНрд░реЗрдорд╡рд░реНрдХ </h3><br><p>  рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдВ рдЬреЛрдбрд╝реЗрдВ: </p><br><ul><li>  <code>app</code> - рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛрдбред  рд╣рдо рд╡рд░реНрдЧ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рдирд╛рдорд╕реНрдерд╛рди рдХреЛ рдЗрд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВрдЧреЗ; </li><li>  <code>bin</code> - рдХрдВрд╕реЛрд▓ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛; </li><li>  <code>config</code> - рдпрд╣рд╛рдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╛рдЗрд▓реЗрдВ рд╣реЛрдВрдЧреА; </li><li>  <code>public</code> - рд╡реЗрдм рдкрд░ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдЦреЛрд▓реА рдЧрдИ (рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдмрд┐рдВрджреБ, рд╢реИрд▓рд┐рдпреЛрдВ, рдЬреЗрдПрд╕, рдЪрд┐рддреНрд░, рдЖрджрд┐); </li><li>  <code>template</code> - <code>template</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛; </li><li>  <code>var</code> рд╡рд┐рднрд┐рдиреНрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╣реИред  рд▓реЙрдЧреНрд╕, рдХреИрд╢, рд▓реЛрдХрд▓ рд╕реНрдЯреЛрд░реЗрдЬ рдЗрддреНрдпрд╛рджрд┐ред </li></ul><br><p>  рдФрд░ рдлрд╛рдЗрд▓реЗрдВ: </p><br><ul><li>  <code>config/app.ini</code> - рдореБрдЦреНрдп рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди; </li><li>  <code>config/app.local.ini</code> - <code>local</code> рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЗ рд▓рд┐рдП рд╡рд┐рдиреНрдпрд╛рд╕; </li><li>  <code>app/Support/CommandMap.php</code> - рдЖрд▓рд╕реА рд▓реЛрдбрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрдВрд╕реЛрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрдорд╛рдВрдб рдХреА рдореИрдкрд┐рдВрдЧред </li><li>  <code>app/Support/Config.php</code> - рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╡рд░реНрдЧ (рддрд╛рдХрд┐ рдЖрдИрдбреАрдИ рдЬрд╛рдирддрд╛ рд╣реИ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреМрди рд╕рд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИ)ред </li><li>  <code>app/Support/NotFoundHandler.php</code> - 404 рддреНрд░реБрдЯрд┐ рд╣реИрдВрдбрд▓рд░ рд╡рд░реНрдЧред </li><li>  <code>app/Support/ServiceProviderInterface.php</code> - рд╕реЗрд╡рд╛ рдкреНрд░рджрд╛рддрд╛ рдХрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ред </li><li>  <code>app/Provider/AppProvider.php</code> - рдЖрд╡реЗрджрди рдХрд╛ рдореБрдЦреНрдп рдкреНрд░рджрд╛рддрд╛ред </li><li>  <code>bootstrap.php</code> - рдХрдВрдЯреЗрдирд░ рдЕрд╕реЗрдВрдмрд▓реА; </li><li>  <code>bin/console</code> - рдХрдВрд╕реЛрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ; </li><li>  <code>public/index.php</code> - рд╡реЗрдм рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХрд╛ рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБред </li></ul><br><div class="spoiler">  <b class="spoiler_title">config / app.ini</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">;   slim.debug=Off ;   templates.dir=template ;   templates.cache=var/cache/template</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">config / app.local.ini</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">;        .       ;        slim.debug=On ;       templates.cache=</code> </pre> </div></div><br><p>  рдЕрд░реЗ рд╣рд╛рдБ, рдпрд╣ рдЕрднреА рднреА рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЛ рдмрд╛рд╣рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫрд╛ рд╣реИ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддрд╛ рд╣реИред  рдЖрдЦрд┐рд░рдХрд╛рд░, рд╡рд╣рд╛рдБ рджрд┐рдЦрд╛рд╡реЗ / рдкрд╛рд╕рд╡рд░реНрдб рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдХреИрд╢ рднреА рдмрд╛рд╣рд░ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">.gitignore</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">/.idea/* /config/* /vendor/* /var/cache/* !/config/app.ini !/var/cache/.gitkeep</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">рдПрдкреНрд▓рд┐рдХреЗрд╢рди / рд╕рдорд░реНрдерди / CommandMap.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Support/CommandMap.php namespace App\Support; class CommandMap { /** *  .   =&gt;    * @var string[] */ private $map = []; public function set(string $name, string $value) { $this-&gt;map[$name] = $value; } /** * @return string[] */ public function getMap() { return $this-&gt;map; } }</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">рдПрдкреНрд▓рд┐рдХреЗрд╢рди / рд╕рдорд░реНрдерди / config.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Support/Config.php namespace App\Support; class Config { /** * @var string[] */ private $config = []; public function __construct(string $dir, string $env, string $root) { if (!is_dir($dir)) return; /* *    */ $config = (array)parse_ini_file($dir . DIRECTORY_SEPARATOR . 'app.ini', false); /* *      */ $environmentConfigFile = $dir . DIRECTORY_SEPARATOR . 'app.' . $env . '.ini'; if (is_readable($environmentConfigFile)) { $config = array_replace_recursive($config, (array)parse_ini_file($environmentConfigFile, false)); } /* * ,      */ $dirs = ['templates.dir', 'templates.cache']; foreach ($config as $name=&gt;$value) { $this-&gt;config[$name] = $value; } /* *      */ foreach ($dirs as $parameter) { $value = $config[$parameter]; if (mb_strpos($value, '/') === 0) { continue; } if (empty($value)) { $this-&gt;config[$parameter] = null; continue; } $this-&gt;config[$parameter] = $root . DIRECTORY_SEPARATOR . $value; } } public function get(string $name) { return array_key_exists($name, $this-&gt;config) ? $this-&gt;config[$name] : null; } }</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">рдПрдкреНрд▓рд┐рдХреЗрд╢рди / рд╕рдорд░реНрдерди / NotFoundHandler.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Support/NotFoundHandler.php namespace App\Support; use Psr\Http\Message\ResponseFactoryInterface; use Psr\Http\Message\ResponseInterface; use Psr\Http\Message\ServerRequestInterface; use Slim\Interfaces\ErrorHandlerInterface; use Throwable; class NotFoundHandler implements ErrorHandlerInterface { private $factory; public function __construct(ResponseFactoryInterface $factory) { $this-&gt;factory = $factory; } /** * @param ServerRequestInterface $request * @param Throwable $exception * @param bool $displayErrorDetails * @param bool $logErrors * @param bool $logErrorDetails * @return ResponseInterface */ public function __invoke(ServerRequestInterface $request, Throwable $exception, bool $displayErrorDetails, bool $logErrors, bool $logErrorDetails): ResponseInterface { $response = $this-&gt;factory-&gt;createResponse(404); return $response; } }</span></span></code> </pre> </div></div><br><p>  рдЕрдм рдЖрдк PhpStorm рдХреЛ рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд┐рдЦрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рд╕ рдХреБрдВрдЬреА рдореЗрдВ рдХреБрдВрдЬреА рд╣реИ рдФрд░ рд╡реЗ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рд╣реИрдВ </p><br><div class="spoiler">  <b class="spoiler_title">.phpstorm.meta.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// .phpstorm.meta.php namespace PHPSTORM_META { override( \Psr\Container\ContainerInterface::get(0), map([ '' =&gt; '@', ]) ); override( \App\Support\Config::get(0), map([ 'slim.debug' =&gt; 'bool', 'templates.dir' =&gt; 'string|false', 'templates.cache' =&gt; 'string|false', ]) ); }</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">рдПрдкреНрд▓рд┐рдХреЗрд╢рди / рд╕рдорд░реНрдерди / ServiceProviderInterface.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Support/ServiceProviderInterface.php namespace App\Support; use UltraLite\Container\Container; interface ServiceProviderInterface { public function register(Container $container); }</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">рдПрдкреНрд▓рд┐рдХреЗрд╢рди / рдкреНрд░рджрд╛рддрд╛ / AppProvider.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Provider/AppProvider.php namespace App\Provider; use App\Support\CommandMap; use App\Support\Config; use App\Support\NotFoundHandler; use App\Support\ServiceProviderInterface; use Psr\Container\ContainerInterface; use Psr\Http\Message\ResponseFactoryInterface; use Slim\CallableResolver; use Slim\Exception\HttpNotFoundException; use Slim\Interfaces\CallableResolverInterface; use Slim\Interfaces\RouteCollectorInterface; use Slim\Interfaces\RouteResolverInterface; use Slim\Middleware\ErrorMiddleware; use Slim\Middleware\RoutingMiddleware; use Slim\Psr7\Factory\ResponseFactory; use Slim\Routing\RouteCollector; use Slim\Routing\RouteResolver; use UltraLite\Container\Container; class AppProvider implements ServiceProviderInterface { public function register(Container $container) { /* *     */ $container-&gt;set(CommandMap::class, function () { return new CommandMap(); }); /* *   http- */ $container-&gt;set(ResponseFactory::class, function () { return new ResponseFactory(); }); /* *    http-   */ $container-&gt;set(ResponseFactoryInterface::class, function (ContainerInterface $container) { return $container-&gt;get(ResponseFactory::class); }); /* *     */ $container-&gt;set(CallableResolver::class, function (ContainerInterface $container) { return new CallableResolver($container); }); /* *        */ $container-&gt;set(CallableResolverInterface::class, function (ContainerInterface $container) { return $container-&gt;get(CallableResolver::class); }); /* *   */ $container-&gt;set(RouteCollector::class, function (ContainerInterface $container) { $router = new RouteCollector( $container-&gt;get(ResponseFactoryInterface::class), $container-&gt;get(CallableResolverInterface::class), $container ); return $router; }); /* *      */ $container-&gt;set(RouteCollectorInterface::class, function (ContainerInterface $container) { return $container-&gt;get(RouteCollector::class); }); /* *     */ $container-&gt;set(RouteResolver::class, function (ContainerInterface $container) { return new RouteResolver($container-&gt;get(RouteCollectorInterface::class)); }); /* *        */ $container-&gt;set(RouteResolverInterface::class, function (ContainerInterface $container) { return $container-&gt;get(RouteResolver::class); }); /* *    404 */ $container-&gt;set(NotFoundHandler::class, function (ContainerInterface $container) { return new NotFoundHandler($container-&gt;get(ResponseFactoryInterface::class)); }); /* *  middleware   */ $container-&gt;set(ErrorMiddleware::class, function (ContainerInterface $container) { $middleware = new ErrorMiddleware( $container-&gt;get(CallableResolverInterface::class), $container-&gt;get(ResponseFactoryInterface::class), $container-&gt;get(Config::class)-&gt;get('slim.debug'), true, true); $middleware-&gt;setErrorHandler(HttpNotFoundException::class, $container-&gt;get(NotFoundHandler::class)); return $middleware; }); /* *  middleware  */ $container-&gt;set(RoutingMiddleware::class, function (ContainerInterface $container) { return new RoutingMiddleware($container-&gt;get(RouteResolverInterface::class)); }); } }</span></span></code> </pre> </div></div><br><p>  рд╣рдордиреЗ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд░реВрдЯрд┐рдВрдЧ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рджрд┐рдпрд╛, рддрд╛рдХрд┐ рд╣рдо рдЗрд╕рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХреЗрдВ рдФрд░ рдмрд┐рдирд╛ рдХрд┐рд╕реА <code>\Slim\App</code> рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд┐рдП рдмрд┐рдирд╛ред </p><br><div class="spoiler">  <b class="spoiler_title">bootstrap.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// bootstrap.php require_once __DIR__ . DIRECTORY_SEPARATOR . 'vendor' . DIRECTORY_SEPARATOR . 'autoload.php'; use App\Support\ServiceProviderInterface; use App\Provider\AppProvider; use App\Support\Config; use UltraLite\Container\Container; /* *   */ $env = getenv('APP_ENV'); if (!$env) $env = 'local'; /* *   */ $config = new Config(__DIR__ . DIRECTORY_SEPARATOR . 'config', $env, __DIR__); /* *  - */ $providers = [ AppProvider::class, ]; /* *    */ $container = new Container([ Config::class =&gt; function () use ($config) { return $config;}, ]); /* *   */ foreach ($providers as $className) { if (!class_exists($className)) { /** @noinspection PhpUnhandledExceptionInspection */ throw new Exception('Provider ' . $className . ' not found'); } $provider = new $className; if (!$provider instanceof ServiceProviderInterface) { /** @noinspection PhpUnhandledExceptionInspection */ throw new Exception($className . ' has not provider'); } $provider-&gt;register($container); } /* *   */ return $container;</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">рдмрд┐рди / рд╕рд╛рдВрддреНрд╡рдирд╛</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env php &lt;?php // bin/console use App\Support\CommandMap; use Psr\Container\ContainerInterface; use Symfony\Component\Console\Application; use Symfony\Component\Console\CommandLoader\ContainerCommandLoader; use Symfony\Component\Console\Input\ArgvInput; use Symfony\Component\Console\Output\ConsoleOutput; /** @var ContainerInterface $container */ $container = require dirname(__DIR__) . DIRECTORY_SEPARATOR . 'bootstrap.php'; $loader = new ContainerCommandLoader($container, $container-&gt;get(CommandMap::class)-&gt;getMap()); $app = new Application(); $app-&gt;setCommandLoader($loader); /** @noinspection PhpUnhandledExceptionInspection */ $app-&gt;run(new ArgvInput(), new ConsoleOutput());</span></span></code> </pre> </div></div><br><p>  рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдирд╛ рдЙрдЪрд┐рдд рд╣реИ </p><br><pre> <code class="plaintext hljs">chmod +x ./bin/console</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">public / index.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// public/index.php use Psr\Container\ContainerInterface; use Psr\Http\Message\ResponseFactoryInterface; use Slim\App; use Slim\Interfaces\CallableResolverInterface; use Slim\Interfaces\RouteCollectorInterface; use Slim\Interfaces\RouteResolverInterface; use Slim\Middleware\ErrorMiddleware; use Slim\Middleware\RoutingMiddleware; use Slim\Psr7\Factory\ServerRequestFactory; /** @var ContainerInterface $container */ $container = require dirname(__DIR__) . DIRECTORY_SEPARATOR . 'bootstrap.php'; $request = ServerRequestFactory::createFromGlobals(); Slim\Factory\AppFactory::create(); $app = new App( $container-&gt;get(ResponseFactoryInterface::class), $container, $container-&gt;get(CallableResolverInterface::class), $container-&gt;get(RouteCollectorInterface::class), $container-&gt;get(RouteResolverInterface::class) ); $app-&gt;add($container-&gt;get(RoutingMiddleware::class)); $app-&gt;add($container-&gt;get(ErrorMiddleware::class)); $app-&gt;run($request);</span></span></code> </pre> </div></div><br><p>  рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВред <br>  рдХрдВрд╕реЛрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">./bin/console</code> </pre> <br><p>  рдЬрд╡рд╛рдм рдореЗрдВ, <code>symfony/console</code> рдШрдЯрдХ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рд╛рдЧрдд рд╡рд┐рдВрдбреЛ рджреЛ рдЙрдкрд▓рдмреНрдз рдХрдорд╛рдВрдб - <code>help</code> рдФрд░ <code>list</code> рд╕рд╛рде рджрд┐рдЦрд╛рдИ рджреЗрдиреА рдЪрд╛рд╣рд┐рдПред </p><br><pre> <code class="plaintext hljs">Console Tool Usage: command [options] [arguments] Options: -h, --help Display this help message -q, --quiet Do not output any message -V, --version Display this application version --ansi Force ANSI output --no-ansi Disable ANSI output -n, --no-interaction Do not ask any interactive question -v|vv|vvv, --verbose Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug Available commands: help Displays help for a command list Lists commands</code> </pre> <br><p>  рдЕрдм рд╡реЗрдм рд╕рд░реНрд╡рд░ рд╢реБрд░реВ рдХрд░реЗрдВред </p><br><pre> <code class="plaintext hljs">php -S localhost:8080 -t public public/index.php</code> </pre> <br><p>  рдФрд░ рд▓реЛрдХрд▓рд╣реЛрд╕реНрдЯ рдкрд░ рдХреЛрдИ рднреА рдпреВрдЖрд░рдПрд▓ рдЦреЛрд▓реЗрдВ: 8080ред <br>  рд╕рднреА рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдХреЛрдб <code>404</code> рдФрд░ рдПрдХ рдЦрд╛рд▓реА рдирд┐рдХрд╛рдп рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╡рд╛рдкрд╕ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред <br>  рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреЛрдИ рд░реВрдЯ рд╕реВрдЪреАрдмрджреНрдз рдирд╣реАрдВ рд╣реИред </p><br><p>  рдпрд╣ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд░реЗрдВрдбрд░ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ, рдЯреЗрдореНрдкреНрд▓реЗрдЯ, рдХрдВрдЯреНрд░реЛрд▓рд░ рдФрд░ рд╕реЗрдЯ рд░реВрдЯ рд▓рд┐рдЦрдиреЗ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред </p><br><h3 id="shag-2-render">  рдЪрд░рдг 2. рд░реЗрдВрдбрд░ </h3><br><p>  рдЯреЗрдореНрдкрд▓реЗрдЯ <code>template/layout.twig</code> рдЬреЛрдбрд╝реЗрдВ <code>template/layout.twig</code> ред  рдпрд╣ рд╕рднреА рдкреГрд╖реНрдареЛрдВ рдХреЗ рд▓рд┐рдП рдореВрд▓ рдЯреЗрдореНрдкрд▓реЗрдЯ рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рдЯреЗрдореНрдкрд▓реЗрдЯ / рд▓реЗрдЖрдЙрдЯ</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">{# template/layout.twig #} &lt;!DOCTYPE html&gt; &lt;html lang="en"&gt; &lt;head&gt; &lt;title&gt;{% block title %}Slim demo{% endblock %}&lt;/title&gt; &lt;/head&gt; &lt;body&gt; {% block content %}{% endblock %} &lt;/body&gt; &lt;/html&gt;</code> </pre> </div></div><br><p>  рдПрдХ рд╕реНрд╡рд╛рдЧрдд рдкреГрд╖реНрда <code>template/hello.twig</code> рдЬреЛрдбрд╝реЗрдВ <code>template/hello.twig</code> </p><br><div class="spoiler">  <b class="spoiler_title">рдЯреЗрдореНрдкрд▓реЗрдЯ / hello.twig</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">{# template/hello.twig #} {% extends 'layout.twig' %} {% block title %}Slim demo::hello, {{ name }}{% endblock %} {% block content %} &lt;h1&gt;Welcome!&lt;/h1&gt; &lt;p&gt;Hello, {{ name }}!&lt;/p&gt; {% endblock %}</code> </pre> </div></div><br><p>  рдФрд░ рдПрд░рд░ рдкреЗрдЬ <code>template/err404.twig</code> </p><br><div class="spoiler">  <b class="spoiler_title">рдЯреЗрдореНрдкреНрд▓реЗрдЯ / рдЧрд╝рд▓рддреА рд╕реЗ ред404</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">{# template/err404.twig #} {% extends 'layout.twig' %} {% block title %}Slim demo::not found{% endblock %} {% block content %} &lt;h1&gt;Error!&lt;/h1&gt; &lt;p&gt;Page not found =(&lt;/p&gt; {% endblock %}</code> </pre> </div></div><br><p>  рд░реЗрдВрдбрд░рд┐рдВрдЧ рдкреНрд░рджрд╛рддрд╛ <code>app/Provider/RenderProvider.php</code> </p><br><div class="spoiler">  <b class="spoiler_title">рдПрдкреНрд▓рд┐рдХреЗрд╢рди / рдкреНрд░рджрд╛рддрд╛ / RenderProvider.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Provider/RenderProvider.php namespace App\Provider; use App\Support\Config; use App\Support\ServiceProviderInterface; use Psr\Container\ContainerInterface; use Twig\Environment; use Twig\Loader\FilesystemLoader; use UltraLite\Container\Container; class RenderProvider implements ServiceProviderInterface { public function register(Container $container) { $container-&gt;set(Environment::class, function (ContainerInterface $container) { $config = $container-&gt;get(Config::class); $loader = new FilesystemLoader($config-&gt;get('templates.dir')); $cache = $config-&gt;get('templates.cache'); $options = [ 'cache' =&gt; empty($cache) ? false : $cache, ]; $twig = new Environment($loader, $options); return $twig; }); } }</span></span></code> </pre> </div></div><br><p>  рдкреНрд░рджрд╛рддрд╛ рдХреЛ рдмреВрдЯрд╕реНрдЯреНрд░реИрдк рдореЗрдВ рдЪрд╛рд▓реВ рдХрд░реЗрдВ </p><br><div class="spoiler">  <b class="spoiler_title">bootstrap.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// bootstrap.php // ... use App\Provider\RenderProvider; // ... $providers = [ // ... RenderProvider::class, // ... ]; // ...</span></span></code> </pre> </div></div><br><p>  404 рддреНрд░реБрдЯрд┐ рд╣реИрдВрдбрд▓рд░ рдореЗрдВ рд░реЗрдВрдбрд░ рдЬреЛрдбрд╝реЗрдВ </p><br><div class="spoiler">  <b class="spoiler_title">рдПрдкреНрд▓рд┐рдХреЗрд╢рди / рд╕рдорд░реНрдерди / NotFoundHandler.php (DIFF)</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">--- a/app/Support/NotFoundHandler.php +++ b/app/Support/NotFoundHandler.php @@ -8,15 +8,22 @@ use Psr\Http\Message\ResponseInterface; use Psr\Http\Message\ServerRequestInterface; use Slim\Interfaces\ErrorHandlerInterface; use Throwable; +use Twig\Environment; +use Twig\Error\LoaderError; +use Twig\Error\RuntimeError; +use Twig\Error\SyntaxError; class NotFoundHandler implements ErrorHandlerInterface { private $factory; - public function __construct(ResponseFactoryInterface $factory) + private $render; + + public function __construct(ResponseFactoryInterface $factory, Environment $render) { $this-&gt;factory = $factory; + $this-&gt;render = $render; } /** @@ -26,10 +33,14 @@ class NotFoundHandler implements ErrorHandlerInterface * @param bool $logErrors * @param bool $logErrorDetails * @return ResponseInterface + * @throws LoaderError + * @throws RuntimeError + * @throws SyntaxError */ public function __invoke(ServerRequestInterface $request, Throwable $exception, bool $displayErrorDetails, bool $logErrors, bool $logErrorDetails): ResponseInterface { $response = $this-&gt;factory-&gt;createResponse(404); + $response-&gt;getBody()-&gt;write($this-&gt;render-&gt;render('err404.twig')); return $response; } }</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">рдПрдкреНрд▓рд┐рдХреЗрд╢рди / рдкреНрд░рджрд╛рддрд╛ / AppProvider.php (DIFF)</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">--- a/app/Provider/AppProvider.php +++ b/app/Provider/AppProvider.php @@ -19,6 +19,7 @@ use Slim\Middleware\RoutingMiddleware; use Slim\Psr7\Factory\ResponseFactory; use Slim\Routing\RouteCollector; use Slim\Routing\RouteResolver; +use Twig\Environment; use UltraLite\Container\Container; class AppProvider implements ServiceProviderInterface @@ -99,7 +100,7 @@ class AppProvider implements ServiceProviderInterface *    404 */ $container-&gt;set(NotFoundHandler::class, function (ContainerInterface $container) { - return new NotFoundHandler($container-&gt;get(ResponseFactoryInterface::class)); + return new NotFoundHandler($container-&gt;get(ResponseFactoryInterface::class), $container-&gt;get(Environment::class)); }); /*</span></span></code> </pre> </div></div><br><p>   404   . </p><br><h3 id="shag-3-kontrollery">  3.  </h3><br><p>      <br>     2: </p><br><ul><li> <code>app/Controller/HomeController.php</code> тАФ   </li><li> <code>app/Controller/HelloController.php</code> тАФ   </li></ul><br><p>        (  URL ),     тАФ  (  html) </p><br><div class="spoiler"> <b class="spoiler_title">app/Controller/HomeController.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Controller/HomeController.php namespace App\Controller; use Psr\Http\Message\ResponseInterface; use Psr\Http\Message\ServerRequestInterface; use Slim\Interfaces\RouteParserInterface; class HomeController { /** * @var RouteParserInterface */ private $router; public function __construct(RouteParserInterface $router) { $this-&gt;router = $router; } public function index(ServerRequestInterface $request, ResponseInterface $response) { $uri = $this-&gt;router-&gt;fullUrlFor($request-&gt;getUri(), 'hello', ['name' =&gt; 'world']); return $response -&gt;withStatus(301) -&gt;withHeader('location', $uri); } }</span></span></code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">app/Controller/HelloController.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Controller/HelloController.php namespace App\Controller; use Psr\Http\Message\ResponseInterface; use Psr\Http\Message\ServerRequestInterface; use Twig\Environment as Render; use Twig\Error\LoaderError; use Twig\Error\RuntimeError; use Twig\Error\SyntaxError; class HelloController { /** * @var Render */ private $render; public function __construct(Render $render) { $this-&gt;render = $render; } /** * @param ServerRequestInterface $request * @param ResponseInterface $response * @return ResponseInterface * @throws LoaderError * @throws RuntimeError * @throws SyntaxError */ public function show(ServerRequestInterface $request, ResponseInterface $response) { $response-&gt;getBody()-&gt;write($this-&gt;render-&gt;render('hello.twig', ['name' =&gt; $request-&gt;getAttribute('name')])); return $response; } }</span></span></code> </pre> </div></div><br><p>  ,   </p><br><div class="spoiler"> <b class="spoiler_title">app/Provider/WebProvider.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Provider/WebProvider.php namespace App\Provider; use App\Controller\HelloController; use App\Controller\HomeController; use App\Support\ServiceProviderInterface; use Psr\Container\ContainerInterface; use Slim\Interfaces\RouteCollectorInterface; use Slim\Interfaces\RouteCollectorProxyInterface; use Twig\Environment; use UltraLite\Container\Container; class WebProvider implements ServiceProviderInterface { public function register(Container $container) { /* *   */ $container-&gt;set(HomeController::class, function (ContainerInterface $container) { return new HomeController($container-&gt;get(RouteCollectorInterface::class)-&gt;getRouteParser()); }); $container-&gt;set(HelloController::class, function (ContainerInterface $container) { return new HelloController($container-&gt;get(Environment::class)); }); /* *   */ $router = $container-&gt;get(RouteCollectorInterface::class); $router-&gt;group('/', function(RouteCollectorProxyInterface $router) { $router-&gt;get('', HomeController::class . ':index')-&gt;setName('index'); $router-&gt;get('hello/{name}', HelloController::class . ':show')-&gt;setName('hello'); }); } }</span></span></code> </pre> </div></div><br><p>       </p><br><div class="spoiler"> <b class="spoiler_title">bootstrap.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// bootstrap.php // ... use App\Provider\WebProvider; // ... $providers = [ // ... WebProvider::class, // ... ]; // ...</span></span></code> </pre> </div></div><br><p>    - ( )... </p><br><pre> <code class="plaintext hljs">php -S localhost:8080 -t public public/index.php</code> </pre> <br><p> тАж    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://localhost:8080</a>  ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://localhost:8080/hello/world</a> </p><br><p>     world'. <br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://localhost:8080/hello/ivan</a>    ivan'. </p><br><p>  , , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://localhost:8080/helo/world</a>       404 . </p><br><h3 id="shag-4-konsolnaya-komanda">  4.   </h3><br><p>   <code>route:list</code> </p><br><div class="spoiler"> <b class="spoiler_title">app/Command/RouteListCommand.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Command/RouteListCommand.php namespace App\Command; use Slim\Interfaces\RouteCollectorInterface; use Symfony\Component\Console\Command\Command; use Symfony\Component\Console\Input\InputInterface; use Symfony\Component\Console\Output\OutputInterface; use Symfony\Component\Console\Style\SymfonyStyle; class RouteListCommand extends Command { /* *    ,        */ const NAME = 'route:list'; /** * @var RouteCollectorInterface */ private $router; public function __construct(RouteCollectorInterface $router) { $this-&gt;router = $router; parent::__construct(); } protected function configure() { $this-&gt;setName(self::NAME) -&gt;setDescription('List of routes.') -&gt;setHelp('List of routes.') ; } protected function execute(InputInterface $input, OutputInterface $output) { $io = new SymfonyStyle($input, $output); $io-&gt;title('Routes'); $rows = []; $routes = $this-&gt;router-&gt;getRoutes(); if (!$routes) { $io-&gt;text('Routes list is empty'); return 0; } foreach ($routes as $route) { $rows[] = [ 'path' =&gt; $route-&gt;getPattern(), 'methods' =&gt; implode(', ', $route-&gt;getMethods()), 'name' =&gt; $route-&gt;getName(), 'handler' =&gt; $route-&gt;getCallable(), ]; } $io-&gt;table( ['Route', 'Methods', 'Name', 'Handler'], $rows ); return 0; } }</span></span></code> </pre> </div></div><br><p>   ,           </p><br><div class="spoiler"> <b class="spoiler_title">app/Provider/CommandProvider.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Provider/CommandProvider.php namespace App\Provider; use App\Command\RouteListCommand; use App\Support\CommandMap; use App\Support\ServiceProviderInterface; use Psr\Container\ContainerInterface; use Slim\Interfaces\RouteCollectorInterface; use UltraLite\Container\Container; class CommandProvider implements ServiceProviderInterface { public function register(Container $container) { /* *       */ $container-&gt;set(RouteListCommand::class, function (ContainerInterface $container) { return new RouteListCommand($container-&gt;get(RouteCollectorInterface::class)); }); /* *        */ $container-&gt;get(CommandMap::class)-&gt;set(RouteListCommand::NAME, RouteListCommand::class); } }</span></span></code> </pre> </div></div><br><p>    </p><br><div class="spoiler"> <b class="spoiler_title">bootstrap.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// bootstrap.php // ... use App\Provider\CommandProvider; // ... $providers = [ // ... CommandProvider::class, // ... ]; // ...</span></span></code> </pre> </div></div><br><p>     ... </p><br><pre> <code class="plaintext hljs">./bin/console route:list</code> </pre> <br><p> тАж    : </p><br><pre> <code class="plaintext hljs">Routes ====== --------------- --------- ------- ------------------------------------- Route Methods Name Handler --------------- --------- ------- ------------------------------------- / GET index App\Controller\HomeController:index /hello/{name} GET hello App\Controller\HelloController:show --------------- --------- ------- -------------------------------------</code> </pre> <br><p> , ,  ! </p><br><p>    , Slim тАФ         <code>routes.php</code> (   ),        .  тАФ     ,   ,   . </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">     </a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi452834/">https://habr.com/ru/post/hi452834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi452824/index.html">рдХрд╛рдВрдЪ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рджрд░реНрд╢реА рдЦрд░реАрдж рдХреЗ рджрд╕рд┐рдпреЛрдВ: рдЙрд▓рдЭрди рд╕реБрд▓рдЭрд╛рдирд╛</a></li>
<li><a href="../hi452826/index.html">рдЕрдВрдЧреНрд░реЗрдЬреА рд╡реНрдпрд╛рдХрд░рдгред рдерд╛рди рдмрдирд╛рдо рдлрд┐рд░ - рдХреИрд╕реЗ рд╕рдордЭреЗрдВ рдХрд┐ рдХрд┐рд╕ рд╢рдмреНрдж рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ</a></li>
<li><a href="../hi452828/index.html">рдорд┐рд╢рди рдЗрдореНрдкреЙрд╕рд┐рдмрд▓: рдПрдХ рд╡рд┐рджреЗрд╢реА рджреЗрд╢ рдореЗрдВ рдЕрдкрдирд╛ рдкрд╣рд▓рд╛ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдЖрдпреЛрдЬрди рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../hi452830/index.html">рдмрд┐рдЧ рдмреИрдВрдЧ рд╕реНрдкрд╛рд░реНрдХреНрд╕</a></li>
<li><a href="../hi452832/index.html">рдирд╛рд╕рд╛ рдХреЗ рдирдП рдЪрдВрджреНрд░ рдХрд╛рд░реНрдпрдХреНрд░рдо "рдЖрд░реНрдЯреЗрдорд┐рд╕" (рдЖрд░реНрдЯреЗрдорд┐рд╕) рдХреЗ рд▓рд┐рдП рдкреВрд░реА рдпреЛрдЬрдирд╛</a></li>
<li><a href="../hi452836/index.html">рд╡реЗрдм рдЙрдкрдХрд░рдг, рдпрд╛ рдПрдХ рдкреЗрдВрдЯрд░ рдХрд╣рд╛рдВ рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ?</a></li>
<li><a href="../hi452838/index.html">Azure API рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ Office 365 рдХреЗ рд╕рд╛рде 3CX рдПрдХреАрдХрд░рдг</a></li>
<li><a href="../hi452840/index.html">VMware EMPOWER 2019 рд╕рдореНрдореЗрд▓рди: рдкрд╣рд▓реЗ рджрд┐рди рдХреИрд╕рд╛ рд░рд╣рд╛</a></li>
<li><a href="../hi452842/index.html">SMPP - рдкреАрдпрд░-рдЯреВ-рдкреАрдпрд░ рд╢реЙрд░реНрдЯ рдореИрд╕реЗрдЬ рдкреНрд░реЛрдЯреЛрдХреЙрд▓</a></li>
<li><a href="../hi452844/index.html">рдкрд░рд┐рд╡рд░реНрддрди рдпрд╛ рдЕрдкрд╡рд┐рддреНрд░рддрд╛: рджреВрд░рд╕рдВрдЪрд╛рд░ рдСрдкрд░реЗрдЯрд░реЛрдВ рдХреЛ "рдбрд┐рдЬрд┐рдЯрд╛рдЗрдЬрд╝" рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>