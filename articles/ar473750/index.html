<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โฏ๏ธ ๐จ๐พโ๐ซ โ๏ธ Stereopi + WebRTC = ุงูุชุญูู ุนู ุจุนุฏ ูู ุงูููุฒู ๐จ๐ฟโ๐จ ๐ต๐พ ๐ฉ๐ฟโ๐จ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุจุฏุก ุ ููุฏูู youtube ููุงุณุชููุงู: 


 ุชุญุฐูุฑ: ุงููุดุฑูุน ูู ุงูููุฏูู ูู ูุฌุฑุฏ ุนููุฉ ูููู ุฅุฌุฑุงุคูุง ููููุง ููุจุฑูุงูุฌ ุงูุชุนูููู ุงููุงุฑุฏ ูู ุงูููุงูุฉ ูููุง ูุชุนูู ุจุงูุฑุคูุฉ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Stereopi + WebRTC = ุงูุชุญูู ุนู ุจุนุฏ ูู ุงูููุฒู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473750/" style=";text-align:right;direction:rtl">  ููุจุฏุก ุ ููุฏูู youtube ููุงุณุชููุงู: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/z9gSZwVMybc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  ุชุญุฐูุฑ: ุงููุดุฑูุน ูู ุงูููุฏูู ูู ูุฌุฑุฏ ุนููุฉ ูููู ุฅุฌุฑุงุคูุง ููููุง ููุจุฑูุงูุฌ ุงูุชุนูููู ุงููุงุฑุฏ ูู ุงูููุงูุฉ ูููุง ูุชุนูู ุจุงูุฑุคูุฉ ุงููุฌุณูุฉ ู "ุงูููุนุทูุงุช ุงูุฑุฃุณูุฉ".  ูุง ูุชู ุชุถููู ุงูุฏุจุงุจุงุช ูุน ุฌูุงุฒ ุงูุชุญูู ุนู ุจุนุฏ xbox. <br><br>  ุนูู ุงูุฑุบู ูู ุงููุถูุญ ุ ูุฅู ุงููุตุฉ ุงููุฒููุฉ ููุคูู ุงููุดุฑูุน ุนูู ุงูููุฏูู ูุชูุงูุฑ ุงูุฑูุงุจุท ุ ููุณุช ุนูู ุงูููุฑ ูุนุฑูุฉ ููู ูุนูู ูู ุดูุก.  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฌูุน ุดูุก ูุดุงุจู ูุจุชูุณูู ุฃูุซุฑ ููุงุกูุฉ ุ ููู ุงููุณุชุญุณู ุฃู ุชูุฑุฃ. <br><a name="habracut"></a><br>  * ุณุฃููู ููุฑุงู ุจุงูุญุฌุฒ ุ ูุงูุดุฎุต ุงูููุฌูุฏ ุนูู ุงูููุฏูู ูุน YouTube ููุณ ูุฃููููุง ุจุงููุณุจุฉ ูู ุ ููู ุฃุญูู ุฃูุฉ ุจูุงูุงุช ุณุฑูุฉ ุ ููุง ูู ุญุงูุฉ ูุดุฑูุนู ุงูุขู ุ ูุง ุฃุนุฑู. <br>  ** ูู ูุชุญูู ูู ุญุฑูุฉ ุงูุฑูุจูุช ุนูู ุงูุชูุช ุนูู ุงูุณุทุญ ูู ุฎูุงู ุฌูุงุฒ ุงูุชุญูู ุนู ุจุนุฏ ูู ุฃุฌูุฒุฉ ุฅูุณ ุจููุณ โโุ ููุฐุง ูููู ุงูุชุนุงูู ูุนู ุจุดูู ูุณุชูู. <br>  *** ูู ูุถูู ูุง ุชุฑูู ุฃุญุฐูุฉ ุงูุจุงุณุช ุ ูุฃู ุงููุดุฑูุน ูุง ูุฒุงู ููุฏ ุงูุชุทููุฑ. <br><br>  ูุฐูู ุ ูุญู ููุชููู ุจุฃูุฑูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููููุฉ ุงูุญุตูู ุนูู ุตูุฑุฉ ุณุชูุฑูู ุนูู ุงููุงุชู ูู ุฎูุฐุฉ ุ </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุงูุชุญูู ูู ุงููุงูููุงุช ุนู ุทุฑูู ููุจ ุงูุฑุฃุณ. </li></ul><br>  ูุจุฏู ุงูููููู ุงููุณุชุฎุฏู ูู ุงูููุฏูู ุ ุฅุฐุง ุชู ุชูุฎูุตู ุ ููุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  2 ุงูุชูุช ุจู ุฅุฑุณุงู ุฏูู ุงูููุฏูู ุฅูู ุงูุดุจูุฉ ูู ูุงููุฑุงุชูู ุนุจุฑ ุฎุฏูุงุช webrtc ุ </li><li style=";text-align:right;direction:rtl">  ููุจู ุงููุงุชู (ูู ุงูุฎูุฐุฉ) ุชุฏููุงุช ูู ุชุทุจูููู ูุชุทุงุจููู ุนูู ุงููุงุชู - ุชุทุจููุงุช ุชุนููู. </li><li style=";text-align:right;direction:rtl">  ูู ุงูููุช ููุณู ุ ูุชุญูู ุงููุงุชู ูู ุงูุฎูุงุฏู ุงููุชุตูุฉ ุจุชูุช ุงูุนููู. </li></ul><br>  ูู ุดูุก ุจุณูุท.  ููู ุฏูุงุจูู ุ ููุง ุชุนูููู ุ ูู ูู ุงูุชูุงุตูู ูุงููุถุงููุงุช ุ ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุญุชุงุฌ ุฅูู ุชุดุบูู 2 ุงูุชูุช ุ ููุฑุงูุจุฉ ุฅุนุฏุงุฏุงุช 2 ุงููุงููุฑุงุช ุ ุงูุชูุช ุงูุทุงูุฉ * 2. </li><li style=";text-align:right;direction:rtl">  ุชุทุจููุงุช ุชุนููู ุชูุฒูู ุจุงุณุชูุฑุงุฑ ูู ุงููุงุชู ุ ุนููู ูุญุงุฐุงุฉ ุงูุตูุฑ ุนูู ุงูุดุงุดุฉ. </li><li style=";text-align:right;direction:rtl">  ... </li></ul><br>  ูุฐูู ุ ุณูู ูููู ุฅูู stereopi ุ ูุญุณู ุงูุญุธ ุ ุธูุฑุช ูู ุงููุชุงุฌุฑ ุงูุฑูุณูุฉ (ุขูู ุฃูุง ุชุฎุชูู ุจุนุฏ ูุฐุง ุงูููุดูุฑ): <br><br><img src="https://habrastorage.org/webt/s6/i6/ko/s6i6kofd62jzd_5omvxr5ngafai.jpeg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Stereopi</a> ูู ุชุทููุฑ ููุงุทููุง ุ ุงูุฐู ูููู ุงูุขู ุจุบุฒู ุงูุณูู ุจูุดุงุท. <br><br>  ุณุญุฑูุง ูุฃุชู ูู ุงูุงุณู - ููููู ุชูุตูู ูุงููุฑุชู CSI raspberry pi ูู ููุณ ุงูููุช.  ูู ุงูููุช ููุณู ุ ูู ูุฐุง ูุนูู ุนูู ุฃุณุงุณ ูุงุญุฏ ุงูุชูุช ูุญุฏุฉ ุญุณุงุจ ุจู.  ูุณูุก ุงูุญุธ ุ ูุง ูุชู ุชุถููู ุงููุญุฏุฉ ููุณูุง ูู ุงูุญุฒูุฉ ุ ูุฌุจ ุนููู ุดุฑุงุฆูุง ุจููุณู. <br><br>  ุญูู stereopi ููุงู ููุงูุงุช ุนู ุญุจุฑู. <br><br>  ุณูุญุชุงุฌ ููู ุฅูู ุฏููุชู ููุฏูู ูุงูุชุญูู ูู ุงูุฎูุงุฏู ูู ุฎูุงู GPIO. <br>  ููุงุนุฏุฉ ูู stereopi ุ ุณูู ูุณุชุฎุฏู Raspberry Pi Compute Module 3+. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ ุณุชูุฑูุจู </h3><br>  ุจุนุฏ ุชุฌููุน stereopi (ุฃุฏุฎู ูุญุฏุฉ ุญุณุงุจ ูู stereopi ุ ุงููุงููุฑุงุช) ุ ุงููุฃ ุงูุจุฑูุงูุฌ. <br><br>  ูุณุชุฎุฏู ุงูุตูุฑุฉ ุงูุฌุงูุฒุฉ ููุญุฏุฉ ุญุณุงุจ ุงูุชูุช ุจู - Raspbian (ุงูุชุฏุงุฏ).  ููู ูุชููุฑุฉ ูู stereopi.com - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุตูุฑุฉ Raspbian Stretch OpenCV ุ Google Drive</a> <br>  ููุก ูุน ุงูุชูุช. <br><br>  ุฅุฐุง ูุงูุช ููุงู ุตุนูุจุงุช ูู ุงูุชุนุจุฆุฉ ุ ูุฐูุจ ุงูุขุฎุฑูู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">wiki stereopi</a> . <br><br><h3 style=";text-align:right;direction:rtl">  ุชุซุจูุช webrtc. </h3><br>  ูู ุจุชุซุจูุช ุจุฑูุงูุฌ webrtc ุนูู ุฌูุงุฒ stereopi.  ููุงุฏ ุงูุชุซุจูุช ูุฃุฎูุฐุฉ ุฌุฒุฆููุง ูู ูุฐู ุงูุตูุญุฉ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุซุจูุช ูู ARM (Raspberry Pi)</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><br></a> <br><br>  ุณูุชุฌูุจ ุงูุชุนูููุงุช ุบูุฑ ุงูุถุฑูุฑูุฉ ุงูููุฌูุฏุฉ ุจุงููุนู ูู ุงูุตูุญุฉ ุฃุนูุงู ููููู ุจุจุณุงุทุฉ ุจุชุซุจูุช ูู ูุง ูู ูุทููุจ. <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">curl http://www.linux-projects.org/listing/uv4l_repo/lpkey.asc | sudo apt-key add - sudo nano /etc/apt/sources.list deb http://www.linux-projects.org/listing/uv4l_repo/raspbian/stretch stretch main sudo apt-get update sudo apt-get install uv4l uv4l-raspicam sudo apt-get install uv4l-raspicam-extras sudo raspi-config  Anvanced Options  Memory Split   256   enter sudo apt-get install uv4l-server uv4l-uvc uv4l-xscreen uv4l-mjpegstream uv4l-dummy uv4l-raspidisp sudo apt-get install uv4l-webrtc sudo apt-get install uv4l-demos sudo apt-get install uv4l-xmpp-bridge sudo apt-get install uv4l-raspidisp-extras</code> </pre> <br>  ุฃูุช ุงูุขู ุจุญุงุฌุฉ (ูู ุงูุฅุฑุดุงุฏุงุช ุงูููุฌูุฏุฉ) ูุฅูุดุงุก ููุงุชูุญ ssl ุ ูุฃู Chrome ูุฏ ูุง ูุนุฑุถ ุงูููุฏูู ุนุจุฑ ุงุชุตุงู http (ุนุจุฑ https ููุท): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">openssl genrsa -out selfsign.key 2048 &amp;&amp; openssl req -new -x509 -key selfsign.key -out selfsign.crt -sha256</code> </pre> <br>  * ุนูุฏ ุฅูุดุงุก ุงูููุงุชูุญ ุ ุณูุชู ุทุฑุญ ุฃุณุฆูุฉ ุญูู ุงูุดุฑูุฉ ุฃู ุงูููุทูุฉ ุฃู ูุง ุฅูู ุฐูู.  - ููููู ุงูุฅุฌุงุจุฉ ุนูููุง ุจุดูู ุชุนุณูู. <br><br>  ูุฌุจ ูุถุน ุงูููุงุชูุญ ุงูุชู ุชู ุฅูุดุงุคูุง (selfsign.key ู selfsign.crt ูู ุงููุฌูุฏ ุงูุญุงูู) ูู ุงููุฌูุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">/etc/ssl/private/</code> </pre> <br>  ูุชู ุชุฎุฒูู ุฌููุน ุฅุนุฏุงุฏุงุช webrtc ูู ููููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">/etc/uv4l/uv4l-raspicam.conf /etc/uv4l/uv4l-raspidisp.conf</code> </pre> <br>  ุญุชู ูุง ุชุชุนุจ ูู ูุงุฆูุฉ ุงูุนูุงุตุฑ ูู ุงููููุงุช ุงูุชู ุชุญุชุงุฌ ุฅูู ุฃู ุชููู ุบูุฑ ูุฏูุฌุฉ ุฃู <br>  ูุฅุตูุงุญ ุ ุงููุชุงุจุฉ ููู ูููุงุช ุงูุฅุนุฏุงุฏุงุช ุจุงุณุชุฎุฏุงู uv4l-raspicam.conf ู uv4l-raspidisp.conf. <br><br>  ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชูุช ูุชุณุฌูู ุงูุฏุฎูู ุฅูู ุงูุชูุช ุงูููููุฉ ุงูููุฑูุฉ ุจุงุณุชุฎุฏุงู chrome: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">https://192.168.1.100:8080</code> </pre> <br>  WebRTC ูู ูุญุจู ุงูุฅููุงููุงุช ุ ููููุง ุณููุชุตุฑ ุนูู ุดูุก ูุงุญุฏ - ุณููุชูู ุฅูู ุนูุงูุฉ ุชุจููุจ webrtc: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุตูุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xb/9w/0n/xb9w0n4cdh6a5qubyikt2a_i-rk.jpeg"><br></div></div><br>  ุงูุขู ุชุญูู ููุง ุฅุฐุง ูุงู ุงูููุฏูู ูุนูู ูุน stereopi. <br><br>  ุงุถุบุท ุนูู ุฒุฑ "ุงูุงุชุตุงู" ูู ุฃุณูู ุตูุญุฉ ุงูููุจ ุนูู ุงููุงุชู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุตูุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ku/ma/qe/kumaqevmecfns1h4jbtclaf8kme.jpeg"><br></div></div><br>  ูุฌุจ ุฃู ูุธูุฑ ููุฏูู ูู ูุงููุฑุงุช ุงูุงุณุชุฑูู. <br><br>  ุงููุฑ ุนูู ุฒุฑ "ููุก ุงูุดุงุดุฉ" ุฃุณูู ุงููุงูุฐุฉ ูุน ุงูุตูุฑุฉ ูู ูุงููุฑุงุช ุงูููุจ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุตูุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3k/uk/kq/3kukkqkafem9f_uhtxpw9g3bfpo.jpeg"><br></div></div><br>  * ูุง ุชูู ุจุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ุนูู ุงููุงุชู!  ุฅุฐุง ุงุณุชูุฑ ุญุฏูุซ ุฐูู ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ูุชู ุงูุนูููุงุช ุนูู ุงูุชูุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">sudo killall uv4l</code> </pre> <br>  ูุฃุนุฏ ุชุดุบูู ุงูุฎุฏูุงุช ุนููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">sudo service uv4l_raspidisp restart sudo service uv4l_raspicam restart</code> </pre> <br>  ุซู ูุฑุฉ ุฃุฎุฑู ุ ุนูู ุงูุตูุญุฉ ูู ูุชุตูุญ <u>ุงููุงุชู ุ</u> ุงููุฑ ููู "ุงุชุตุงู". <br>  ** ูู ุชุนูู ุงูููุงููุฉ ุฅุฐุง ูู ุชูู ููุงู ูุงููุฑุง ูุชุตูุฉ ุจุชูุช ุงูุนููู. <br><br><h3 style=";text-align:right;direction:rtl">  ุณูุชุนุงูู ูุน ุงููุงูููุงุช. </h3><br>  ูุฅุฏุงุฑุฉ ุงููุงูููุงุช ุนูู ุงูุชูุช ูู ุงููุงุชู ุ ุชุญุชุงุฌ ุฅูู ุฑูุฒ ุณูุชู ุชุดุบููู ุนูู ุงูุชูุช ูุงูุฅุฌุฑุงุกุงุช ุนูู ุงููุงุชู. <br><br>  ููู ุฃููุงู ุ ุฏุนููุง ููุฑุฑ ุงููุงูููุงุช.  ูุณุชุฎุฏู ููุฏูู YouTube ุงููุงูููุงุช ุงููุชุตูุฉ ูุจุงุดุฑุฉ ุจู ุงูุชูุช gpio.  ูุธุฑูุง ูุฃู ุงููุงูููุงุช ููุฎูุถุฉ ุงูุทุงูุฉ ุ ูููููู ุชุนููู ุงููุงูููุชูู ุนูู ุงูุชูุช gpio.  ูููู ุจุณูููุฉ ุชูููุฐ ูุฐู ุงูุญูู ุนูู ุฎูุงุฏู sg-90.  ุฅููู ูุง ูุทุงูุจูู ุจุงูุชุบุฐูุฉ ุ ูููู ููุณูุง ุฌูุฏูู ุจุดูู ุฎุงุต ููุฃุญูุงู.  ูู ุญูุซ ุงููุจุฏุฃ ุ ููุจุบู ุฃู ุชููู ูุงููุฉ ูุนูุฏ ุชุนููู ูุน ุงุซููู ูู ุงููุงููุฑุงุช ูู stereopi.  ูููู ุดุฑุงุก gimbal ููุณู ุนูู ููุณ aliexpress ุ ููุจุญุซ ุนู "pan-tilt".  ููุน ุฐูู ุ ูุฅู ูุฐู ุงููุงูููุงุช ูุฏููุง ุฃูุถุง ูุงูุต ุฎุทูุฑ - ููู "ุชุฑุชุนุด ูุน ุงูุฎูู".  ูุฐุง ูู ุงูุชุฃุซูุฑ ุงูุฐู ููุงุญุธู ูุคูู ููุฏูู YouTube.  ููุงุฐุง ูุญุฏุซ ูุฐุง ููุงุฐุง ุชูุนู ุจู ูู ููุธุฑ ููุง. <br><br>  ูู ุญุงูุชูุง ุ ูุชู ุงุณุชุฎุฏุงู ุงููุงูููุงุช mg-996n ูููุตู ุงูุฑูุจูุช ุ ูุงูุชู ุขูู ุฃูุง ูุญุชุงุฌ ุฅูููุง ูู ุงููุณุชูุจู ุงููุฑูุจ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุตูุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/j-/4o/fz/j-4ofzk-_biqa67nt5ro2hln5hu.jpeg"><br></div></div><br>  * Mg-996N ูุง "ูุฑุชุนุฏ". <br><br>  ูุญุชูู Stereopi ุนูู ุชุฎุทูุท gpio ูุดุงุจู ูููุนูุงุฑ ุงูููุฌูุฏ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชูุช 3</a> . <br><br>  ูุฐูู ุ ุณูู ุชุฐูุจ ุฃุณูุงู ุงูุฅุดุงุฑุฉ ูู ุงููุงูููุงุช ุฅูู gpio ุ ููู ุงูุฃูุถู ุฃู ุชุฃุฎุฐ 5V ููุณ ูู ุงูุชูุช ุ ูููู ูู ุงูุฌุงูุจ ุ ูุงูุฌูุน ุจูู GND serv ูุน GND ุงูุชูุช ู GND ูู ูุตุฏุฑ ุฎุงุฑุฌู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุขู ุฃูู ุดูุก ูู ุงูุจุฑูุฌูุงุช </h3><br>  ูู ุงูุชูุช ุ ูุญุชุงุฌ ุฅูู ุดูุทุงู ุ ูููู ููุณ ุฅูู Lermontov ุ ูููู pigpio.  ูุง ุชุญุชุงุฌ ุฅูู ุงุชุฎุงุฐ ุฃู ุฎุทูุงุช ุฎุงุตุฉ ูุชููููู ุ ุงูุดูุก ุงูุฑุฆูุณู ูู ูุนุฑูุฉ ุฃูู ูุนููุฉ ุนูู ุงููููุฐ 8888 ููุฌุจ ุนููู ุชุดุบููู ุฃููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo systemctl start pigpiod.service</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ูู ุจุฅูุดุงุก ููู ูุฏูุฑ ุงูุฎูุงุฏู ุ ููุณุชูุจู ุงูุจูุงูุงุช ูู ุงูููุจุณ ุ ูุงูุฐู ููุดุฆู ุจููุณู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">datachannel_server_tele.py</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># python 3 # Taken from: # https://stackoverflow.com/questions/45364877/interpreting-keypresses-sent-to-raspberry-pi-through-uv4l-webrtc-datachannel # based on: # https://raspberrypi.stackexchange.com/questions/29480/how-to-use-pigpio-to-control-a-servo-motor-with-a-keyboard # public domain # systemctl status pigpiod.service # sudo systemctl start pigpiod.service # goto http://raspberrypi:8080/stream/webrtc and press Call! # video from raspberry pi appear # run from cmd raspberry: sudo python3 datachannel_server.py # turn on gps on phone # put V on 'send device orientation' from phone import socket import time import pigpio import os import re import json socket_path = '/tmp/uv4l.socket' try: os.unlink(socket_path) except OSError: if os.path.exists(socket_path): raise s = socket.socket(socket.AF_UNIX, socket.SOCK_SEQPACKET) ROLL_PIN = 4 #gpio PITCH_PIN = 17 #gpio ! not phisical pin YAW_PIN = 15 MIN_PW = 1000 # 0 degree MID_PW = 1500 # 90 degree MAX_PW = 2000 # 180 degree print ('socket_path: %s' % socket_path) s.bind(socket_path) s.listen(1) def cleanup(): pi.set_servo_pulsewidth(ROLL_PIN, 0) pi.set_servo_pulsewidth(PITCH_PIN, 0) pi.set_servo_pulsewidth(YAW_PIN, 0) pi.stop() while True: print ('awaiting connection...') connection, client_address = s.accept() print ('client_address %s' % client_address) try: print ('established connection with', client_address) pi = pigpio.pi() #pi = pigpio.pi('soft', 9080) rollPulsewidth = MID_PW pitchPulsewidth = MID_PW yawPulsewidth = MID_PW pi.set_servo_pulsewidth(ROLL_PIN, rollPulsewidth) pi.set_servo_pulsewidth(PITCH_PIN, pitchPulsewidth) pi.set_servo_pulsewidth(YAW_PIN, yawPulsewidth) while True: try: data = json.loads(connection.recv(200).decode('utf-8')) # dict except ValueError: # no data return continue # data #{"do":{"alpha":0.1,"beta":-0.3,"gamma":-0.2,"absolute":false}, # "dm":{"x":0,"y":0,"z":-0.2,"gx":0,"gy":0,"gz":-9.6,"alpha":-0.1,"beta":-0.1,"gamma":0.1} #print ('received message"%s"' % data) #print ('received message"%s"' % data['dm']['x']) # coordinate x from data #print ('received message"%s"' % data['dm']['y']) # coordinate y from data time.sleep(0.01) key1 = float(data['do']['alpha']) # os x 0 to 360 degree #key2 = float(data['do']['beta']) # os y #print(key1) #print(key2) rollPW = rollPulsewidth pitchPW = pitchPulsewidth yawPW = yawPulsewidth pitchPW = key1*5+500 print ('x: '+str(pitchPW)) #if pitchPW &gt; MAX_PW: # pitchPW = MAX_PW #elif pitchPW &lt; MIN_PW: # pitchPW = MIN_PW #rollPW = int(key2 + 1000) #print ('y: '+ str(int(rollPW))) #if rollPW &gt; MAX_PW: # rollPW = MAX_PW #elif rollPW &lt; MIN_PW: # rollPW = MIN_PW if rollPW != rollPulsewidth: rollPulsewidth = rollPW pi.set_servo_pulsewidth(ROLL_PIN, rollPulsewidth) if pitchPW != pitchPulsewidth: pitchPulsewidth = pitchPW pi.set_servo_pulsewidth(PITCH_PIN, pitchPulsewidth) if yawPW != yawPulsewidth: yawPulsewidth = yawPW pi.set_servo_pulsewidth(YAW_PIN, yawPulsewidth) #if data: #print ('echo data to client') #connection.sendall(str(data)) #else: #print ('no more data from', client_address) #break finally: # Clean up the connection cleanup() connection.close()</span></span></code> </pre><br></div></div><br>  ูุชู ุชุฑู ุงูุชุนูููุงุช ูู ุงููุต ูููู ูู ุฃูู ุฃุชู ุงูุฑูุฒ ููุงุฐุง ูููู ุชุตุญูุญู. <br>  ุงููุนูู ุงูุนุงู ููุฑูุฒ ูู ููุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงูุจุฏุงูุฉ ุ ูุชู ุชุนููู ุงููุงูููุงุช ุฅูู ุงููููู ุงูุฃูุณุท. </li><li style=";text-align:right;direction:rtl">  ููุฌุฏ 3 ุฏุจุงุจูุณ (gpio) ูุชู ุชุนููู ุฃุณูุงู ุฅุดุงุฑุฉ ุงููุงูููุงุช ุนูููุง.  ูู ุญุงูุชูุง ุ 2 ุฏุจุงุจูุณ (ุชุนููู 2 ุงููุงูููุงุช). </li><li style=";text-align:right;direction:rtl">  ูุชู ุงูุชุญูู gpio ูู ุฎูุงู ุชุทุจูู ุฅุดุงุฑุฉ ูู ูุทุงู PWM ูู 1000 ุฅูู 2000. </li><li style=";text-align:right;direction:rtl">  ูุตู ุฎุท ูู ุงููุงุชู ุ ูุงูุฐู ูุชู ุชุญูููู ุจูุงุณุทุฉ json (ููููู ุงูููุงู ุจุดูุก ุขุฎุฑ) ุ ุซู ูุชู ุฃุฎุฐ ุงููููุชูู x ู y ููู.  ุจุนุฏ ุฐูู ุ ูุชู ุชุฑุฌูุฉ ูุฐู ุงูููู ุฅูู ููู PWM ูุชุฏููุฑ ุงููุงูููุงุช. </li></ul><br>  * ุงููุดููุฉ ูู ุฃู x ูุฃุฎุฐ ุงูููู ูู 0 ุฅูู 360 (ูุฏูุฑ ุงููุงุชู ุญูู ูุญูุฑู) ุ ูุซู y.  ููุฌุจ ุฑุจุท ูุฐู ุงูููู ุจู PWM ุ ูุงูุชู ุชุฃุฎุฐ ุงูููู ูู 1000 ุฅูู 2000. ูุณุชุฎุฏู ุงูุฑูุฒ ุงูุตูุบุฉ pitchPW = key1 * 5 + 500.  500 ูู ุงูุญุฏ ุงูุฃุฏูู ููููุฉ ูุถุงุนูุงุช PWM (ุนูู ุงูุฑุบู ูู ุฃู ุงูุงูุชุฑุงุถ ูู 1000 ูู ุงูููุฏ).  ูุงูุถุฑุจ ูู 5 ูุดุฑูุท.  ูุฌุจ ุชุญุณูู ูุฐู ุงูููุทุฉ ุ ูุฃูู ูู x = 360 ุ ุชููู ูููุฉ PWM ุฃุนูู ุจุนุฏุฉ ูุฑุงุช ูู ุงูุญุฏ ุงูุฃูุตู.  ุงููุงูููุงุช ูุญููุฉ ูู ุชุฌุงูุฒ ุงูุญุฏ ุงูุฃูุตู ูุฒูุงูุง ุงูุฏูุฑุงู ูุชุฌูุจ ุงูุถุฑุฑ ุ ูููู ูุฐุง ููุณ ููุชุนูุง ููุบุงูุฉ. <br><br>  ูู ุจุชุดุบูู ุงูููุฏ ูู ูุญุทุฉ ุงูุชูุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">sudo python3 datachannel_server_tele.py</code> </pre> <br>  ุณูููู ุจุชุดุบูู ูุธุงู ุชุญุฏูุฏ ุงูููุงูุน ุงูุนุงููู (GPS) ุนูู ุงููุงุชู (ูุญุชูู ูู ูุงุชู ุนูู ุฃููููุฉ ููุงุจูุฉ ูู ุงูุฅุนุฏุงุฏุงุช) ูุณูุณุชูุฑ ูู ุงุณุชุฎุฏุงู ุงูุชูุช ip. <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">https://192.168.1.100:8080/stream/webrtc</code> </pre> <br>  ุงููุฑ ููู "ุงูุงุชุตุงู".  ุจุนุฏ ุฅูุดุงุก ุงูุงุชุตุงู ุ ุนูู ุงููุงุชู ูู ุงููุชุตูุญ ุนูู ุงูุตูุญุฉ ุ ุชุญูู ูู "ุฅุฑุณุงู ุฒูุงูุง ุงุชุฌุงู ุงูุฌูุงุฒ ุฃููุง ูุจูุชุง ูุฌุงูุง". <br><br>  ุณุชุฐูุจ ููู x ุฅูู ุงููุญุทุฉ ุงูุทุฑููุฉ ุจุงุณุชุฎุฏุงู ุงูุจุฑูุงูุฌ ุงููุตู.  ูุฅุฐุง ููุช ุจุชุฏููุฑ ุงููุงุชู ุ ูุณูุชุบูุฑูู. <br>  ุณูู ุงููุงูููุงุช ุชุชุญุฑู ุฃูุถุง. <br><br>  * ุญุงููุง ูุงุญุฏ ูููู (ูุงูุซุงูู ูู ุนูู ุจูุง). <br><br>  <b>ูู ุงูููุงูุขุช ุงููุทููุฉ ูููุฑ ูู webrtc ุงููุฑุตุฉ</b> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุง ูุดุจู telebridge ุจูู ุงููุงุชู ูุงูุชูุช (ุงููุญุงูุฑ ุงูุฎุงุต ุจู ุณูููู ุถุฎูุง) ุ </li><li style=";text-align:right;direction:rtl">  ุจุซ ุงูุตูุช ูู ููุง ุงูุงุชุฌุงููู (ูู ูุชู ุงุฎุชุจุงุฑู ุ ูููู ูุคุฎุฐ ูู ุงูุงุนุชุจุงุฑ ูู ุงูุฅุนุฏุงุฏุงุช) ุ </li><li style=";text-align:right;direction:rtl">  ุชุฏูู ุฅูู ุตูุญุฉ ููุจ ุ ููุชููุจ ูู 3D. </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ููุงููุฉ ุฌูุงุนูุฉ ูู ุงูุนุฏูุฏ ูู ุงูุฃุตุฏูุงุก (jitsi meet). </li><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ุฅุนุฏุงุฏุงุช ุงููุงููุฑุง ุฃุซูุงุก ุงูุชููู ุนุจุฑ ูุงุฌูุฉ ุงูููุจ (ููุงุฐุง ุงูุชุฏููุฑ! ู ูุง ูุนูู). </li></ul><br><h3 style=";text-align:right;direction:rtl">  ุงูุขู ุนู ุงูุญุฒู. </h3><br>  1. Shalturit ุนู ุทุฑูู ุฑุจุท ุงุซููู ูู ุงููุงููุฑุงุช ุงููุฎุชููุฉ ูุน ุนููู ุงูุณูู ุนูู ุญุงูู ุงููุฏุฑุณุฉ ูู ุชูุฌุญ.  ุงุชุถุญ ุฃู ุงูุฃุณูุงู ููุง ุนููู ูุฎุชููุฉ.  ูุญุชุงุฌ ุฅูู ููุณ ุงูููุน ูู ุงููุงููุฑุง: <br><br><img src="https://habrastorage.org/webt/zr/pi/9w/zrpi9wndfiwh8hgujdkziwglo9g.jpeg"><br><br>  2. ูู ููู ูู ุงููููู ุชูุณูุน ุงูุตูุฑุฉ ูู ูุงููุฑุงุช ุงูุงุณุชุฑูู ูู ุฎูุงู ุฅุนุฏุงุฏุงุช ูุงุฌูุฉ ุงูููุจ webrtc.  ูู ุญูู ุฃู ุงูุตูุฑ ุถููุฉ ุ ูุซู ุงูุณุฑุงููู ุงููุฑูุณูุฉ. <br><br><img src="https://habrastorage.org/webt/34/6e/ci/346eci0gjn3p77octhoy_njgfxs.jpeg"><br><br>  3. ููุชุตุฑ ูุถุงุนูุงุช MG996N ุนูู ุฒูุงูุง ุงูุฏูุฑุงู -180.  ูู ุงููุงูุน - 160. ุฑุจูุง ููุตุญ ุดุฎุต ูุง ุจู 360 ุ ูููู ุจุฏูู ุฏูุฑุงู ูุณุชูุฑ. <br><br>  4. ุงูุจุฑูุงูุฌ ูุชุทูุจ ุทุญู. <br><br>  5. ูุฏุงุก ููุน ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุฏูู ูุฅุนุงุฏุฉ ุงูุงุชุตุงู. <br><br>  ููุญู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">uv4l-raspicam.conf</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">uv4l-raspidisp.conf</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar473750/">https://habr.com/ru/post/ar473750/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar473728/index.html">ุชูููุฐ ูููุฐุฌู ููุฑุตุฏ. ูููููุงู ุณูููู</a></li>
<li><a href="../ar473732/index.html">ุชุงุฑูุฎ ุงูุงุญุชูุงู ูู ุจูุงุก ุดุจูุฉ ุงููุงุจู ุชุญุช ุงููุทุจ ุงูุดูุงูู ู 1 ูููุงุฑ ุฏููุงุฑ</a></li>
<li><a href="../ar473740/index.html">CreateRemoteThread ููุธุงู ุงูุชุดุบูู Linux</a></li>
<li><a href="../ar473742/index.html">ุทุงุจุนุงุช Epson ุงูููุฏุณูุฉ ููุธุงูู CAD ู GIS ูุจุถุน ูููุงุช ุญูู "ุงูุชุตููู ุงูููู"</a></li>
<li><a href="../ar473748/index.html">ููุญูู ุจูุฒูุฑ ูู ุฎุฏูุฉ ุงูุงูุชุตุงุฏููู ุงูุนูู</a></li>
<li><a href="../ar473752/index.html">ูุง ุงูุฎุทุฃ ูู ุงููุณุฎ ุนูุฏ ุงููุชุงุจุฉ ููุธุงู Linux ุนูุฏ ุงููุณุฎ</a></li>
<li><a href="../ar473756/index.html">HTTPS DNS - ุญู ูุตู ูุฎุทุฃ</a></li>
<li><a href="../ar473760/index.html">Psss ุ ูุฑูุฏ ุจุนุถ ูุตุต ุชูููููุฌูุง ุงููุนูููุงุช ุงูุฑููุจุฉุ</a></li>
<li><a href="../ar473762/index.html">ุงูุนูู ููุณ ุฐุฆุจูุง ุ ุงูุฌุฒุก 1. ุงูุจุญุซ ุนู ูุธููุฉ: 9 ููุงุช HR-a</a></li>
<li><a href="../ar473764/index.html">ุงูุทุฑุฏ ูู ุจุงูู ุงููุดุฑูุน ุงูููุถู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>