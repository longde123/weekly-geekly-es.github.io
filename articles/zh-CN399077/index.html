<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔊 👩🏾‍🤝‍👨🏽 👨‍👨‍👦‍👦 来自旧苏联计算器的增强现实眼镜 🏔️ 🔣 🧑🏻‍🤝‍🧑🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="增强现实护目镜真是太酷了！是的，仍然很难说这是智能手机还是昂贵的玩具这样的必需品。考虑一个有趣的专业用途智能眼镜项目，该项目可简化电工/电子工程师的工作。让我们用arduins和3d打印机以旧的DIY风格制作它。
 
 每个做过一点电子产品的人至少都知道什么是万用表以及如何使用它。没什么复杂的-我们...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>来自旧苏联计算器的增强现实眼镜</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/399077/"><div style="text-align:center;"><img src="https://habrastorage.org/files/b21/094/997/b21094997d2b45dca48405658641d250.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
增强现实护目镜真是太酷了！是的，仍然很难说这是智能手机还是昂贵的玩具这样的必需品。考虑一个有趣的专业用途智能眼镜项目，该项目可简化电工/电子工程师的工作。让我们用arduins和3d打印机以旧的DIY风格制作它。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
每个做过一点电子产品的人至少都知道什么是万用表以及如何使用它。没什么复杂的-我们采用两个探针，设置测量模式，戳戳并查看显示屏上的结果。尽管它很简单，但是在专业实践中，每只手都有一个手写笔，并且测量设备根本无处可放，并且您必须以各种方式将所有东西抛出来才能将其固定在某个地方。这给工作带来了极大的不便，并且由于笨拙和高压力，还导致了明亮的烟火。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阿兰·莫尔（Alain Mauer）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">想，为什么不使用Google Glass等增强现实技术在眼前显示万用表的测量结果。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/lkl6yVauCKg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他开发了自己的智能眼镜项目，该项目基于Arduino Pro Micro控制器，对角线为0.66英寸（1.68厘米）的小型显示器以及蓝牙模块。</font></font><br>
<br>
<img src="https://habrastorage.org/files/c5b/5b4/8f5/c5b5b48f55d241f89d190bc05cc5f016.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设备外壳在3-d打印机上打印，所有详细信息都可以</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在项目页面上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，正如您从文章标题中已经猜到的那样，将不会按照现成的说明来描述零件的组装，相反，我将展示如何从我在电子垃圾堆中发现的零件组装该设备。我们将从微型显示器开始。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/9b6/b4d/010/9b6b4d0109704ed2b1a9eeddbfea895a.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 原则上，中国同志非常便宜地出售这种屏幕，但此时黑色星期五过去的马戏团清楚地表明，等待时间会很长。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，在垃圾桶里翻腾，我发现了一个旧的苏联计算器B3-21，它具有良好的微型八段指示器。</font></font><br>
<br>
<img src="https://habrastorage.org/files/e18/085/a32/e18085a32ce24cdda28ea7315d7e0db0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
别说了抬起正义的怒气，将手从键盘上移开。为了指标，我不会打破这种稀有性。几年前，我从垃圾场中保存了三个这样的实例。他们中的两个差不多完好无损，我把它们交给了收藏家。后者只是带有指示器的板形式的残骸，而计算器本身的“大脑”位于另一侧，野蛮人和军团将其分开。</font></font><br>
<br>
<img src="https://habrastorage.org/files/d6a/a10/323/d6aa103234df410ebb26ed075cbd24d6.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从照片中可以看到，计算器中只有三个指示器，它们是由DIP-14封装制成的。每个指示器有五个符号，每个有七个段，另加一个点。轻轻焊接并放在面包板上。尺寸设计比原始设计的微型显示器大很多。</font></font><br>
<br>
<img src="https://habrastorage.org/files/ad0/aed/503/ad0aed50382c45d39ce16765248433e3.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于白天着火时找不到这些指标的文件，因此我们将使用一些技巧来确定引脚排列。表盘/电阻模式下的许多万用表都会向探针提供足够的电压，以使LED或类似指示器发出微弱的光。通过轮流考虑所有结论，我们找到了必要的阳极（+）和阴极（-）。后者由负责这五个字符中每个字符的数字表示。</font></font><br>
<br>
<img src="https://habrastorage.org/files/f27/34b/ee7/f2734bee7a484bfba5c52d0ef9a77bc7.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，为了管理这些指示器中的两个，您将需要一个微控制器及其仅18个端口。卷起嘴唇并使用移位寄存器74HC595。它们每个都有八个输出，并且仅连接到三个控制器端口。最简单的网络连接方案：</font></font><br>
<br>
<img src="https://habrastorage.org/files/e9f/69b/9c3/e9f69b9c33ad4d2c882fbceac365e70a.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在较小的情况下，我将其中两个添加到了设计中。第一个控制段，第二个控制符号。字符多于寄存器输出，因为将不使用底行中的两个极端字符，这在原则上并不令人恐惧，因为我计划在顶行以数字形式显示测量值，而在底下的度量单位中使用三个字符就足够了。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
用于显示字符的代码是一个字节，在第一个寄存器中，被点燃的段负责每个字节；在第二个寄存器中，被点燃的字符负责每个字节。</font><font style="vertical-align: inherit;">此类字节通常也以十六进制表示法表示。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指标段的说明性示例</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/227/c69/f30/227c69f3011d409f8fcbccb5fc3952a0.gif"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为控制器，我使用了中文Arduino Nano。它比Micro版本略胜一筹，也非常适合原始外壳。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们连接到arduino并检查指示器的操作。</font></font><br>
<br>
<img src="https://habrastorage.org/files/6bc/9ad/701/6bc9ad70197f450881c88ce0a034f222.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
成功检查之后，是时候考虑该显示内容了。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在原始项目中，作者使用了“智能”万用表OWON B35T，它具有内置的蓝牙接口并可以通过它发送测量结果。</font></font><br>
<br>
<img src="https://habrastorage.org/files/60c/a88/946/60ca8894609b43988140f25fc515e2fd.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不用担心，我们将抽出更便宜，更旧的Mastech MS8250B，它具有USB接口。</font></font><br>
<br>
<img src="https://habrastorage.org/files/6e6/6bf/cec/6e66bfcece4447fcb6ed98a3031b03cd.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们对该器件进行了反向工程，发现接口是在单独的板上制作的，该板上与电路的其余部分光学隔离。在这里，他们不是使用臭名昭著的光耦合器，而是使用了真正的红外对光和光电二极管。它们之间的距离是如此之大，您当然可以测量高达千伏的电压，而不必担心烧毁计算机。在板上，您可以看到CP2102芯片，它是UART→USB转换器，这是非常成功的，因为任何arduinka都从通讯座知道UART协议。</font></font><br>
<br>
<img src="https://habrastorage.org/files/e06/d2b/15b/e06d2b15b4a34c71a3b492ff00ac40e9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
操作原理简单而琐碎，CP2102芯片由USB供电，IR LED同时亮起，这使万用表知道它已连接到计算机，然后计算机开始响应，其LED随即闪烁，从而发送测量数据。我们将此卡通连接到计算机，并使用ComPort Toolkit看到它发送的内容：</font></font><br>
<br>
<img src="https://habrastorage.org/files/cbc/80a/f22/cbc80af22ba64626ba699f3b13bb7221.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
是的，似乎完全是胡说八道。显然，中国同志没有使用9600的标准速度。我们配备了逻辑分析仪（兼容Saleae-logic），并仔细研究了信号。 Saleae软件非常出色，可以根据起始位的长度自动确定UART的速度。</font></font><br>
<br>
<img src="https://habrastorage.org/files/47b/0a8/09d/47b0a809df4d45eaa52ece79e3e0cd46.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析仪将速度明确定义为2400。我们在终端中设置了正确的速度并查看输出，疯狂地单击万用表模式以收集更多不同的数据。</font></font><br>
<br>
<img src="https://habrastorage.org/files/ff4/a76/b62/ff4a76b62cf8472696a38767f4507140.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
好吧，虽然还不清楚他发送的内容，但已经出现了一些模式。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗示</font></font></b><div class="spoiler_text">     ,    123456789ABCDE.        ,      .  —     .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我通过汇编表格测量了几种不同的电阻。</font></font><br>
<img src="https://habrastorage.org/files/81d/3b1/93b/81d3b193b0b5445aa2611ef22a0b9a9b.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
研究了表格之后，我意识到了万用表如何对测量数据进行编码。</font><font style="vertical-align: inherit;">您可以独立考虑这个问题，因为不耐烦的是这里的解决方案：</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">决定</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/cfe/87f/ef5/cfe87fef5d69432eb94abc1dbb0f0edc.jpg"><br>
<br>
     ,             ,     ,       .     ,          .     ,  0   7D,  2  5B.  ,     .          .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
只需将控制器放在万用表的主体中，该控制器将打开红外LED，通过UART接收测量数据，并将其发送到眼镜。</font><font style="vertical-align: inherit;">在这种情况下，纯粹是为了测试技术，我在那里放了一个大arduino，因为小的突然</font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结束了</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/2c1/670/a8b/2c1670a8b8fb426397630c4c35ae0866.gif"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了将万用表与眼镜连接起来，我使用了便宜的433MHz无线电模块。 ，这是您可以做出的最糟糕的决定，但这只是眼前的事情。</font></font><br>
<br>
<img src="https://habrastorage.org/files/c22/5f7/d6b/c225f7d6bfa24261bf60d51b34b91c72.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将显示器，控制器，接收器和电池放入印刷盒中我们</font></font><br>
<br>
<img src="https://habrastorage.org/files/b35/b5e/430/b35b5e430c294f57bf7ecd9d26932d1c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必须努力处理光学部件。在我的区域找不到像作者这样的塑料镜子。我不是切割玻璃的大师，因为尽管有种种迷信，我还是打破了一个小镜子，在流水下将合适的碎片变成了所需的形状。</font></font><br>
<br>
<img src="https://habrastorage.org/files/0ff/cfe/6be/0ffcfe6be3a14047a3211fb6cbaa2df2.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在此阶段，我建议您返回本文的开头并刷新设备的设计。镜头在这里起着巨大的作用-它聚焦在眼睛上的图像来自显示屏。根据其类型和位置，取决于数字在眼睛的哪个焦点上将清晰可见。当然，我没有找到相同的镜头，因为我使用的是便宜的单筒望远镜中常用的塑料。就我而言，我将其放置在镜子和指示器之间，以找到最佳对焦位置。为了制作反射器，我将CD分开，用碎布擦掉数据，然后简单地切出合适的一块。组装后，我们得到了梦the以求的设备。</font></font><br>
<br>
<img src="https://habrastorage.org/files/9a2/24c/1a2/9a224c1a24624c6e84db14b814dbcc05.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于使用了错误的透镜，以及指示器的尺寸大于显示屏的尺寸，因此在反射镜的顶行只有四个字符可见，而底行并未完全掉落。在照片中，相机传达的色彩过亮，实际上，数字变得更加暗淡。</font></font><br>
<br>
<img src="https://habrastorage.org/files/bb4/25a/9e7/bb425a9e7c324a5d97d4da6914de8982.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常，相机在反射镜上拍摄图像是很成问题的，此外，它始终会看到聚焦的数字，这肯定与现实不符。连接万用表并查看其工作原理。</font></font><br>
<br>
<img src="https://habrastorage.org/files/58b/5b1/a9b/58b5b1a9b8694edebe7566f8e86908cb.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尽管眼睛可以看到两条线，但相机很难捕捉到它们。使用生成的设备看起来像这样：</font></font><br>
<br>
<img src="https://habrastorage.org/files/46d/5af/384/46d5af3843f64ac29edbb560c5710878.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
测量结果为6.73伏。</font><font style="vertical-align: inherit;">如您所见，由于某种原因开发了这些LED指示器的苏联工程师将该点放置在不太方便的位置，但是可以再次认为是运气，因为在万用表中该点完全位于符号的左侧。</font><font style="vertical-align: inherit;">好吧，但这是一个习惯问题。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，以我的表现，该设备是一个非常集体的农场，但是即使以这种形式，它的使用也很有趣。 las，原来的计算器来的指示器却被认为是中等的选择，因为在正常照明下，这些数字实际上是不可见的。我也不建议无线电模块：发射器会迅速将电池放下，连接仍然会保持稳定。好吧，可能是任何增强现实眼镜的主要缺点是焦点。为了使图像叠加在注视指向的对象顶部，必须注意适当的聚焦。问题是眼睛在不断地改变它，从而失去了所有的“魔术”。我希望此类设备的制造商正在努力解决此问题，并且有朝一日，我们将在专业活动中充分享受增强现实的好处。</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN399077/">https://habr.com/ru/post/zh-CN399077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN399067/index.html">以色列开发人员能够教导AI在真人快打中击败人类</a></li>
<li><a href="../zh-CN399069/index.html">Openbox-товары – еще один способ сэкономить, покупая дорогую электронику</a></li>
<li><a href="../zh-CN399071/index.html">完全解开我的背包：Mishiko智能项圈的首次发布</a></li>
<li><a href="../zh-CN399073/index.html">封闭的宇宙如何形成？上一篇文章的续篇</a></li>
<li><a href="../zh-CN399075/index.html">麻省理工学院开发了一款小型摩托车</a></li>
<li><a href="../zh-CN399081/index.html">Rubetek：通过组合设备来创造舒适度和安全性</a></li>
<li><a href="../zh-CN399083/index.html">Путин попросил правительство подумать о введении НДС на покупки в зарубежных интернет-магазинах</a></li>
<li><a href="../zh-CN399085/index.html">通用汽车和IBM已开发出具有汽车人工智能的多媒体系统</a></li>
<li><a href="../zh-CN399087/index.html">TechnoLive：Maxim Samoilenko如何在成千上万的竞争对手中推广您的游戏</a></li>
<li><a href="../zh-CN399089/index.html">刷新魔方机器人组装速度的新纪录</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>