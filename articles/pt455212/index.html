<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç∫ üé≥ üî¶ Desempenho de aplicativos de rede Linux. 1. Introdu√ß√£o ü•ö üå∫ ü§Ωüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os aplicativos da Web agora s√£o amplamente utilizados, e o HTTP √© a maior parte de todos os protocolos de transporte. Estudando as nuances do desenvol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desempenho de aplicativos de rede Linux. 1. Introdu√ß√£o</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455212/"> Os aplicativos da Web agora s√£o amplamente utilizados, e o HTTP √© a maior parte de todos os protocolos de transporte.  Estudando as nuances do desenvolvimento de aplicativos da Web, a maioria deles presta muito pouca aten√ß√£o ao sistema operacional em que esses aplicativos realmente s√£o executados.  A separa√ß√£o entre desenvolvimento (Dev) e opera√ß√£o (Ops) s√≥ piorou as coisas.  Mas com a dissemina√ß√£o da cultura DevOps, os desenvolvedores come√ßam a assumir a responsabilidade de lan√ßar seus aplicativos na nuvem, por isso √© muito √∫til que eles se familiarizem completamente com o back-end do sistema operacional.  Isso √© especialmente √∫til se voc√™ estiver tentando implantar um sistema para milhares ou dezenas de milhares de conex√µes simult√¢neas. <br><br>  Limita√ß√µes nos servi√ßos da web s√£o muito semelhantes √†s limita√ß√µes em outros aplicativos.  Seja balanceadores de carga ou servidores de banco de dados, todos esses aplicativos t√™m problemas semelhantes em um ambiente de alto desempenho.  Compreender essas limita√ß√µes fundamentais e como super√°-las em geral ajudar√° a avaliar o desempenho e a escalabilidade de seus aplicativos da web. <br><br>  Estou escrevendo esta s√©rie de artigos em resposta a perguntas de jovens desenvolvedores que desejam se tornar arquitetos de sistemas bem informados.  √â imposs√≠vel entender claramente os m√©todos de otimiza√ß√£o de aplicativos Linux sem se aprofundar no b√°sico de como eles funcionam no n√≠vel do sistema operacional.  Embora existam muitos tipos de aplicativos, nesta s√©rie eu quero explorar aplicativos de rede, n√£o os de desktop, como um navegador ou editor de texto.  Este material √© destinado a desenvolvedores e arquitetos que desejam entender como os programas Linux ou Unix funcionam e como estrutur√°-los para obter alto desempenho. <br><a name="habracut"></a><br>  O Linux √© um sistema operacional de <i>servidor</i> e, na maioria das vezes, seus aplicativos s√£o executados nesse SO espec√≠fico.  Embora eu diga "Linux", na maioria das vezes voc√™ pode assumir com seguran√ßa que todos os sistemas operacionais semelhantes ao Unix s√£o geralmente usados.  No entanto, n√£o testei o c√≥digo que o acompanha em outros sistemas.  Portanto, se voc√™ est√° interessado no FreeBSD ou OpenBSD, o resultado pode variar.  Quando tento algo espec√≠fico do Linux, aponto. <br><br>  Embora voc√™ possa usar esse conhecimento para criar um aplicativo a partir do zero, e ele ser√° perfeitamente otimizado, √© melhor n√£o.  Se voc√™ escrever um novo servidor Web em C ou C ++ para o aplicativo de neg√≥cios da sua organiza√ß√£o, este poder√° ser seu √∫ltimo dia de trabalho.  No entanto, o conhecimento da estrutura desses aplicativos ajudar√° na sele√ß√£o dos programas existentes.  Voc√™ pode comparar sistemas baseados em processos com sistemas baseados em encadeamento e baseados em eventos.  Voc√™ entender√° e entender√° por que o Nginx funciona melhor que o Apache httpd, por que um aplicativo Python baseado em Tornado pode atender a mais usu√°rios do que um aplicativo Python baseado em Django. <br><br><h1>  ZeroHTTPd: Ferramenta de Aprendizagem </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://github.com/shuveb/zero">ZeroHTTPd</a> √© um servidor web que escrevi do zero em C como uma ferramenta de treinamento.  N√£o possui depend√™ncias externas, incluindo acesso ao Redis.  N√≥s executamos nossas pr√≥prias rotinas Redis.  Veja abaixo para mais detalhes. <br><br>  Embora possamos discutir a teoria por um longo tempo, n√£o h√° nada melhor do que escrever c√≥digo, execut√°-lo e comparar todas as arquiteturas de servidor.  Este √© o m√©todo mais √≥bvio.  Portanto, escreveremos um servidor Web ZeroHTTPd simples usando cada modelo: com base em processos, threads e eventos.  Vamos verificar cada um desses servidores e ver como eles funcionam em compara√ß√£o.  O ZeroHTTPd √© implementado em um √∫nico arquivo C. O servidor baseado em eventos inclui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uthash</a> , uma excelente implementa√ß√£o de tabela de hash que √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">enviada</a> em um √∫nico arquivo de cabe√ßalho.  Em outros casos, n√£o h√° depend√™ncias, para n√£o complicar o projeto. <br><br>  Existem muitos coment√°rios no c√≥digo para ajudar a resolv√™-lo.  Sendo um servidor web simples em algumas linhas de c√≥digo, o ZeroHTTPd tamb√©m √© uma estrutura m√≠nima de desenvolvimento web.  Possui funcionalidade limitada, mas √© capaz de produzir arquivos est√°ticos e p√°ginas "din√¢micas" muito simples.  Devo dizer que o ZeroHTTPd √© adequado para aprender a criar aplicativos Linux de alto desempenho.  Em geral, a maioria dos servi√ßos da Web espera por solicita√ß√µes, verifica-as e processa-as.  √â exatamente isso que o ZeroHTTPd far√°.  Esta √© uma ferramenta de aprendizado, n√£o uma ferramenta de produ√ß√£o.  Ele n√£o √© bom em lidar com erros e √© improv√°vel que se orgulhe das melhores pr√°ticas de seguran√ßa (ah, sim, eu usei o <code>strcpy</code> ) ou dos truques abstrusos de C. Mas espero que ele fa√ßa bem seu trabalho. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cd0/fd7/c03/cd0fd7c03567dcb48c1e615a63a19c48.png"><br>  <i><font color="gray">P√°gina inicial do ZeroHTTPd.</font></i>  <i><font color="gray">Pode produzir diferentes tipos de arquivos, incluindo imagens</font></i> <br><br><h1>  Pedido de Livro de Visitas </h1><br>  Aplicativos web modernos geralmente n√£o se limitam a arquivos est√°ticos.  Eles t√™m intera√ß√µes complexas com v√°rios bancos de dados, caches, etc. Portanto, criaremos um aplicativo da Web simples chamado ‚ÄúLivro de Visitas‚Äù, onde os visitantes deixam entradas com seus nomes.  O livro de visitas salva as entradas deixadas anteriormente.  H√° tamb√©m um balc√£o de visitantes na parte inferior da p√°gina. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/997/b6b/39e/997b6b39e116c216a13422e1a3fcd7b6.png"><br>  <i><font color="gray">Aplicativo Web de Livro de Visitas ZeroHTTPd</font></i> <br><br>  As entradas do contador de visitantes e do livro de visitas s√£o armazenadas no Redis.  Para comunica√ß√£o com o Redis, procedimentos pr√≥prios s√£o implementados; eles s√£o independentes de uma biblioteca externa.  Eu n√£o sou um grande f√£ de codificar c√≥digos internos quando existem solu√ß√µes publicamente dispon√≠veis e bem testadas.  Mas o objetivo do ZeroHTTPd √© estudar o desempenho do Linux e o acesso a servi√ßos externos, enquanto o atendimento de solicita√ß√µes HTTP afeta seriamente o desempenho.  Devemos controlar totalmente as comunica√ß√µes com o Redis em cada uma de nossas arquiteturas de servidor.  Em uma arquitetura, usamos chamadas de bloqueio, em outras, usamos procedimentos baseados em eventos.  O uso de uma biblioteca cliente Redis externa n√£o dar√° esse controle.  Al√©m disso, nosso pequeno cliente Redis executa apenas algumas fun√ß√µes (obter, configurar e aumentar uma chave; obter e adicionar a uma matriz).  Al√©m disso, o protocolo Redis √© excepcionalmente elegante e simples.  Ele nem precisa ser ensinado especialmente.  O fato de o protocolo executar todo o trabalho em cerca de cem linhas de c√≥digo indica o qu√£o bem pensado √©. <br><br>  A figura a seguir mostra o aplicativo quando o cliente (navegador) solicita <code>/guestbookURL</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f4/6cc/bb0/9f46ccbb030a53a1822678afac4e518f.png"><br>  <i><font color="gray">O mecanismo do aplicativo de livro de visitas</font></i> <br><br>  Quando voc√™ precisa emitir uma p√°gina do livro de visitas, h√° uma chamada para o sistema de arquivos para ler o modelo na mem√≥ria e tr√™s chamadas de rede para o Redis.  O arquivo de modelo cont√©m a maior parte do conte√∫do HTML da p√°gina na captura de tela acima.  Tamb√©m existem espa√ßos reservados especiais para a parte din√¢mica do conte√∫do: contador de registros e visitantes.  N√≥s os obtemos do Redis, os inserimos na p√°gina e fornecemos ao cliente conte√∫do completo.  Uma terceira chamada para Redis pode ser evitada porque Redis retorna um novo valor de chave quando incrementado.  No entanto, para o nosso servidor com uma arquitetura ass√≠ncrona baseada em eventos, muitas chamadas de rede s√£o um bom teste para fins de treinamento.  Assim, descartamos o valor de retorno da Redis sobre o n√∫mero de visitantes e solicitamos em uma chamada separada. <br><br><h1>  Arquiteturas de servidor ZeroHTTPd </h1><br>  Estamos construindo sete vers√µes do ZeroHTTPd com a mesma funcionalidade, mas com arquiteturas diferentes: <br><br><ul><li>  Iterativo <br></li><li>  Servidor fork (um processo filho por solicita√ß√£o) <br></li><li>  Servidor pr√©-fork (processos de pr√©-bifurca√ß√£o) <br></li><li>  Servidor com threads (uma thread por solicita√ß√£o) <br></li><li>  Servidor com pr√©-threading <br></li><li>  Arquitetura baseada em <code>poll()</code> <br></li><li>  Arquitetura Epoll </li></ul><br>  Medimos o desempenho de cada arquitetura carregando o servidor com solicita√ß√µes HTTP.  Por√©m, ao comparar arquiteturas com um alto grau de paralelismo, o n√∫mero de solicita√ß√µes aumenta.  Testamos tr√™s vezes e consideramos a m√©dia. <br><br><h1>  Metodologia de teste </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/d37/97d/a33/d3797da3301e7b3d8b9e93fbfb3aeafa.png"><br>  <i><font color="gray">Instala√ß√£o para teste de estresse ZeroHTTPd</font></i> <br><br>  √â importante que, ao executar testes, todos os componentes n√£o funcionem na mesma m√°quina.  Nesse caso, o sistema operacional carrega custos adicionais de planejamento, uma vez que os componentes competem pela CPU.  Medir a sobrecarga do sistema operacional de cada uma das arquiteturas de servidor selecionadas √© um dos objetivos mais importantes deste exerc√≠cio.  Adicionar mais vari√°veis ‚Äã‚Äãser√° prejudicial ao processo.  Portanto, a configura√ß√£o na figura acima funciona melhor. <br><br><h3>  O que cada um desses servidores faz </h3><br><ul><li>  load.unixism.net: aqui executamos <code>ab</code> , o utilit√°rio Apache Benchmark.  Ele gera a carga necess√°ria para testar nossas arquiteturas de servidor. <br></li><li>  nginx.unixism.net: √†s vezes queremos executar mais de uma inst√¢ncia de um programa de servidor.  Para isso, o servidor Nginx com as configura√ß√µes apropriadas funciona como um balanceador de carga vindo de <i>ab</i> para os processos do servidor. <br></li><li>  zerohttpd.unixism.net: aqui executamos nossos programas de servidor em sete arquiteturas diferentes, uma de cada vez. <br></li><li>  redis.unixism.net: o daemon Redis est√° em execu√ß√£o neste servidor, onde as entradas s√£o armazenadas no livro de visitas e no contador de visitantes. </li></ul><br>  Todos os servidores s√£o executados em um √∫nico n√∫cleo do processador.  A id√©ia √© avaliar o desempenho m√°ximo de cada arquitetura.  Como todos os programas de servidor s√£o testados no mesmo hardware, este √© o n√≠vel b√°sico para compar√°-los.  Minha configura√ß√£o de teste consiste em servidores virtuais alugados da Digital Ocean. <br><br><h3>  O que estamos medindo? </h3><br>  Voc√™ pode medir diferentes indicadores.  Avaliamos o desempenho de cada arquitetura nessa configura√ß√£o, carregando servidores com solicita√ß√µes em diferentes n√≠veis de simultaneidade: a carga cresce de 20 para 15.000 usu√°rios simult√¢neos. <br><br><h1>  Resultados do teste </h1><br>  O diagrama a seguir mostra o desempenho de servidores em diferentes arquiteturas em diferentes n√≠veis de simultaneidade.  O eixo y √© o n√∫mero de solicita√ß√µes por segundo, o eixo x s√£o conex√µes paralelas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f5/01a/a17/4f501aa1794e1d9eddc4f57fad5e96d3.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ff7/9bc/306/ff79bc306edde1b6f1bc39b4d2aeaa38.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b30/b9b/322/b30b9b322ec0d8fa20bfc5e7010a7a5d.png"><br><br>  Abaixo est√° uma tabela com os resultados. <br><br><div class="scrollable-table"><table><tbody><tr><td></td><td colspan="7">  pedidos por segundo </td></tr><tr><td>  <strong>simultaneidade</strong> </td><td>  <strong>iterativo</strong> </td><td>  <strong>garfo</strong> </td><td>  <strong>pr√© garfo</strong> </td><td>  <strong>transmiss√£o</strong> </td><td>  <strong>pr√©-streaming</strong> </td><td>  <strong>sondagem</strong> </td><td>  <strong>epoll</strong> </td></tr><tr><td>  20 </td><td>  7 </td><td>  112 </td><td>  2100 </td><td>  1800 </td><td>  2250 </td><td>  1900 </td><td>  2050 </td></tr><tr><td>  50. </td><td>  7 </td><td>  190 </td><td>  2200 </td><td>  1700 </td><td>  2200 </td><td>  2000 </td><td>  2000 </td></tr><tr><td>  100 </td><td>  7 </td><td>  245 </td><td>  2200 </td><td>  1700 </td><td>  2200 </td><td>  2150 </td><td>  2100 </td></tr><tr><td>  200 </td><td>  7 </td><td>  330 </td><td>  2300 </td><td>  1750 </td><td>  2300 </td><td>  2200 </td><td>  2100 </td></tr><tr><td>  300 </td><td>  - </td><td>  380 </td><td>  2200 </td><td>  1800 </td><td>  2400 </td><td>  2250 </td><td>  2150 </td></tr><tr><td>  400 </td><td>  - </td><td>  410 </td><td>  2200 </td><td>  1750 </td><td>  2600 </td><td>  2000 </td><td>  2000 </td></tr><tr><td>  500 </td><td>  - </td><td>  440 </td><td>  2300 </td><td>  1850 </td><td>  2700 </td><td>  1900 </td><td>  2212 </td></tr><tr><td>  600 </td><td>  - </td><td>  460 </td><td>  2400 </td><td>  1800 </td><td>  2500 </td><td>  1700 </td><td>  2519 </td></tr><tr><td>  700 </td><td>  - </td><td>  460 </td><td>  2400 </td><td>  1600 </td><td>  2490 </td><td>  1550 </td><td>  2607 </td></tr><tr><td>  800 </td><td>  - </td><td>  460 </td><td>  2400 </td><td>  1600 </td><td>  2540 </td><td>  1400 </td><td>  2553 </td></tr><tr><td>  900 </td><td>  - </td><td>  460 </td><td>  2300 </td><td>  1600 </td><td>  2472 </td><td>  1200 </td><td>  2567 </td></tr><tr><td>  1000 </td><td>  - </td><td>  475 </td><td>  2300 </td><td>  1700 </td><td>  2485 </td><td>  1150 </td><td>  2439 </td></tr><tr><td>  1500 </td><td>  - </td><td>  490 </td><td>  2400 </td><td>  1550 </td><td>  2620 </td><td>  900 </td><td>  2479 </td></tr><tr><td>  2000 </td><td>  - </td><td>  350 </td><td>  2400 </td><td>  1400 </td><td>  2396 </td><td>  550 </td><td>  2200 </td></tr><tr><td>  2500 </td><td>  - </td><td>  280 </td><td>  2100 </td><td>  1300 </td><td>  2453 </td><td>  490 </td><td>  2262 </td></tr><tr><td>  3000 </td><td>  - </td><td>  280 </td><td>  1900 </td><td>  1250 </td><td>  2502 </td><td>  ampla dissemina√ß√£o </td><td>  2138 </td></tr><tr><td>  5000 </td><td>  - </td><td>  ampla dissemina√ß√£o </td><td>  1600 </td><td>  1100 </td><td>  2519 </td><td>  - </td><td>  2235 </td></tr><tr><td>  8000 </td><td>  - </td><td>  - </td><td>  1200 </td><td>  ampla dissemina√ß√£o </td><td>  2451 </td><td>  - </td><td>  2100 </td></tr><tr><td>  10.000 </td><td>  - </td><td>  - </td><td>  ampla dissemina√ß√£o </td><td>  - </td><td>  2200 </td><td>  - </td><td>  2200 </td></tr><tr><td>  11.000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  2200 </td><td>  - </td><td>  2122 </td></tr><tr><td>  12.000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  970 </td><td>  - </td><td>  1958 </td></tr><tr><td>  13.000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  730 </td><td>  - </td><td>  1897 </td></tr><tr><td>  14.000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  590 </td><td>  - </td><td>  1466 </td></tr><tr><td>  15.000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  532 </td><td>  - </td><td>  1281 </td></tr></tbody></table></div><br>  Pode ser visto no gr√°fico e na tabela que, acima de 8000 solicita√ß√µes simult√¢neas, restam apenas dois jogadores: pr√©-fork e epoll.  √Ä medida que a carga aumenta, o servidor baseado em pesquisa executa pior que o servidor de streaming.  A arquitetura pr√©-threading compete com o epoll: isso √© uma prova de qu√£o bem o kernel do Linux planeja um grande n√∫mero de threads. <br><br><h1>  C√≥digo-fonte ZeroHTTPd </h1><br>  O c√≥digo fonte do ZeroHTTPd est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://github.com/shuveb/zero">aqui</a> .  Cada arquitetura possui um diret√≥rio separado. <br><br><pre>  ZeroHTTPd
 ‚îÇ
 01‚îÄ‚îÄ 01_iterative
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 ‚îú‚îÄ‚îÄ 02_forking
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 03‚îÄ‚îÄ 03_preforking
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 04‚îÄ‚îÄ 04_threading
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 05‚îÄ‚îÄ 05_prethreading
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 06‚îÄ‚îÄ 06_poll
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 07‚îÄ‚îÄ 07_epoll
 ‚îÇ ‚îî‚îÄ‚îÄ main.c
 Make‚îÄ‚îÄ Makefile
 ‚îú‚îÄ‚îÄ p√∫blico
 Index ‚îú‚îÄ‚îÄ index.html
 T ‚îî‚îÄ‚îÄ tux.png
 ‚îî‚îÄ‚îÄ modelos
     ‚îî‚îÄ‚îÄ livro de visitas
         ‚îî‚îÄ‚îÄ index.html </pre><br>  Al√©m de sete diret√≥rios para todas as arquiteturas, h√° mais dois no diret√≥rio de n√≠vel superior: p√∫blico e modelos.  O primeiro cont√©m o arquivo index.html e a imagem da primeira captura de tela.  Outros arquivos e pastas podem ser colocados l√°, e o ZeroHTTPd deve emitir esses arquivos est√°ticos sem problemas.  Se o caminho no navegador corresponder ao da pasta p√∫blica, o ZeroHTTPd procurar√° o arquivo index.html nesse diret√≥rio.  O conte√∫do do livro de visitas √© gerado dinamicamente.  Ele possui apenas a p√°gina principal e seu conte√∫do √© baseado no arquivo 'templates / guestbook / index.html'.  ZeroHTTPd adiciona facilmente p√°ginas din√¢micas para expans√£o.  A id√©ia √© que os usu√°rios possam adicionar modelos a esse diret√≥rio e estender o ZeroHTTPd conforme necess√°rio. <br><br>  Para criar todos os sete servidores, execute <code>make all</code> do diret√≥rio de n√≠vel superior - e todas as builds aparecer√£o nesse diret√≥rio.  Os execut√°veis ‚Äã‚Äãprocuram os diret√≥rios p√∫blico e de modelos no diret√≥rio de onde s√£o executados. <br><br><h1>  API do Linux </h1><br>  Para entender as informa√ß√µes nesta s√©rie de artigos, n√£o √© necess√°rio conhecer bem a API do Linux.  No entanto, eu recomendo ler mais sobre este t√≥pico, existem muitos recursos de refer√™ncia na Web.  Embora abordemos v√°rias categorias de APIs do Linux, nosso foco ser√° principalmente em processos, encadeamentos, eventos e pilha de rede.  Al√©m de livros e artigos sobre a API do Linux, tamb√©m recomendo a leitura de mana para chamadas do sistema e fun√ß√µes de biblioteca usadas. <br><br><h1>  Desempenho e escalabilidade </h1><br>  Uma observa√ß√£o sobre desempenho e escalabilidade.  Teoricamente, n√£o h√° conex√£o entre eles.  Voc√™ pode ter um servi√ßo da web que funcione muito bem, com um tempo de resposta de alguns milissegundos, mas n√£o √© escal√°vel.  Da mesma forma, pode haver um aplicativo da Web com uma execu√ß√£o insuficiente que leva alguns segundos para responder, mas √© escal√°vel para dezenas para lidar com dezenas de milhares de usu√°rios simult√¢neos.  No entanto, a combina√ß√£o de alto desempenho e escalabilidade √© uma combina√ß√£o muito poderosa.  Aplicativos de alto desempenho geralmente usam recursos economicamente e, assim, atendem efetivamente a usu√°rios mais concorrentes no servidor, reduzindo custos. <br><br><h1>  Tarefas de CPU e E / S </h1><br>  Por fim, sempre existem dois tipos poss√≠veis de tarefas na computa√ß√£o: para E / S e CPU.  Receber solicita√ß√µes via Internet (E / S de rede), manuten√ß√£o de arquivos (E / S de rede e disco), comunica√ß√£o com o banco de dados (E / S de rede e disco) s√£o todas a√ß√µes de E / S.  Algumas consultas ao banco de dados podem carregar um pouco a CPU (classificando, calculando a m√©dia de um milh√£o de resultados etc.).  A maioria dos aplicativos da web √© limitada pelo m√°ximo de E / S poss√≠vel, e o processador raramente √© usado na capacidade total.  Quando voc√™ v√™ que algumas CPUs usam muitas CPUs, isso provavelmente √© um sinal de arquitetura de aplicativo ruim.  Isso pode significar que os recursos da CPU s√£o gastos no controle do processo e na altern√¢ncia de contexto - e isso n√£o √© totalmente √∫til.  Se voc√™ estiver executando algo como processamento de imagem, convers√£o de √°udio ou aprendizado de m√°quina, o aplicativo precisar√° de recursos poderosos da CPU.  Mas para a maioria das aplica√ß√µes n√£o √© assim. <br><br><h1>  Mais sobre arquiteturas de servidor </h1><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte I. Arquitetura Iterativa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte II</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Servidores de garfo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte III</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Servidores pr√©-fork</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte IV</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Servidores com Threads</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte V. Servidores com Pr√©-Cria√ß√£o de Encadeamentos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte VI</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Arquitetura baseada em pesquisas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte VII</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Arquitetura Epoll</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt455212/">https://habr.com/ru/post/pt455212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt455200/index.html">Importa√ß√£o din√¢mica em JavaScript</a></li>
<li><a href="../pt455202/index.html">Big data em gerenciamento de hot√©is: o uso n√£o pode ser ignorado</a></li>
<li><a href="../pt455204/index.html">A escotilha da sonda Soyuz MS-14 acabou sendo estreita para o rob√¥ FEDOR</a></li>
<li><a href="../pt455206/index.html">5 perguntas para uma r√°pida pesquisa de emprego na Alemanha</a></li>
<li><a href="../pt455210/index.html">Cart√µes e caixas-pretas: como os caixas eletr√¥nicos s√£o invadidos hoje</a></li>
<li><a href="../pt455214/index.html">Stanford, parece que temos um problema ...</a></li>
<li><a href="../pt455216/index.html">Medidor de velocidade Doppler</a></li>
<li><a href="../pt455218/index.html">Abordagem Ecossist√™mica √† Tecnologia Empresarial</a></li>
<li><a href="../pt455224/index.html">M√∫sica Finger: Tocar qualquer coisa com SpecDrums de Sphero</a></li>
<li><a href="../pt455226/index.html">Por que aplicar um linguista aplicado?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>