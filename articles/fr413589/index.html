<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåû ü•ñ üëê Revue de code: exp√©rience r√©ussie ‚úàÔ∏è üêè üë©üèø‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a une tonne d'informations sur Internet sur les revues de code: 



- comment un examen du code de quelqu'un d'autre affecte la culture de l'entr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Revue de code: exp√©rience r√©ussie</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alconost/blog/413589/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/ys/rj/od/ysrjodtlql3rs6zqknt8a4qtvjg.jpeg"></a> <br><br>  Il y a une tonne d'informations sur Internet sur les revues de code: <br><br><ul><li>  comment un examen du code de quelqu'un d'autre affecte la culture de l'entreprise </li><li>  Contr√¥les de s√©curit√© r√©glementaires </li><li>  manuels abr√©g√©s </li><li>  longues listes de recommandations </li><li>  revue de code d'un point de vue interpersonnel </li><li>  pourquoi ai-je besoin d'une r√©vision du code </li><li>  m√©thodes √©prouv√©es </li><li>  en savoir plus sur les m√©thodes √©prouv√©es </li><li>  statistiques: dans quelle mesure la r√©vision du code aide √† d√©tecter les bogues </li><li>  exemples d'erreurs commises lors de la r√©vision du code </li></ul><br>  Oui, bien s√ªr, il existe des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">livres</a> sur ce sujet.  En un mot, cet article d√©crit comment la r√©vision du code est organis√©e par Palantir.  Dans les organisations dont la culture n'accepte pas un tel examen par les pairs, il peut √™tre utile de lire d'abord le brillant essai de Karl E. Wiegers, The Code Revision <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">with a Human Face,</a> puis d'essayer de suivre ce guide. <br><br>  Ce texte est extrait des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">recommandations d'am√©lioration</a> de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">qualit√© bas√©es</a> sur le travail avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Baseline</a> , notre outil de contr√¥le qualit√© du code Java.  Il couvre les sujets suivants: <br><br><ul><li>  Pourquoi, quoi et quand essayons-nous de r√©aliser la r√©vision du code <br></li><li>  Pr√©paration du code pour r√©vision <br></li><li>  Ex√©cution de la revue de code <br></li><li>  Exemples de r√©vision de code <br></li></ul><br>  <b>Traduit en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Alconost</a></b> <a name="habracut"></a><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/1fe/be2/b3e1febe2172047ec7dafed2a92e3026.png"><br>  <font color="#0096d6"><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">XKCD</a> Comic <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">'Code Quality', copi√© sous licence CC BY-NC 2.5</a></i></font> <br><br><h2>  La motivation </h2><br>  Nous sommes engag√©s dans la r√©vision du code (RC) pour am√©liorer la qualit√© du code et voulons ainsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">influencer positivement la culture d'√©quipe et d'entreprise.</a>  Par exemple: <br><br><ul><li>  <b>Les auteurs du code sont motiv√©s</b> car ils savent que leur √©quipe de relecteurs tiendra compte de leur demande de changement: l'auteur essaie de nettoyer la rugosit√©, de suivre le plan d'action et d'am√©liorer globalement l'ensemble du commit.  Lorsque des coll√®gues reconnaissent votre professionnalisme dans l'√©criture de code - pour de nombreux programmeurs, c'est l'occasion d'√™tre fiers d'eux-m√™mes. <br></li><li>  <b>Le partage des connaissances</b> aide l'√©quipe de d√©veloppement de plusieurs mani√®res: <br></li></ul><br>  - Dans le cadre du RK, il est clairement indiqu√© quelle partie de la fonctionnalit√© a √©t√© ajout√©e / modifi√©e / supprim√©e afin qu'√† l'avenir, les membres de l'√©quipe puissent compter sur le travail d√©j√† effectu√©. <br><br>  - L'auteur du code peut utiliser une technique ou un algorithme sur lequel les examinateurs eux-m√™mes apprendront quelque chose.  Dans l'ensemble, une r√©vision du code aide √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©lever la barre de la qualit√© dans toute l'organisation</a> . <br><br>  - Les examinateurs peuvent conna√Ætre les techniques de programmation ou la base de code elle-m√™me qui permettront d'am√©liorer ou de consolider les modifications apport√©es;  par exemple, quelqu'un peut en m√™me temps d√©velopper ou modifier exactement la m√™me opportunit√©. <br><br>  - Un contact et une communication positifs renforcent les liens sociaux entre les membres de l'√©quipe. <br><br><ul><li>  <b>En raison de la coh√©rence</b> de la base de code, le code lui-m√™me est beaucoup plus facile √† lire et √† comprendre.  Il est plus facile de pr√©venir les bogues et de promouvoir la collaboration entre les programmeurs install√©s et nomades. <br></li><li>  Il est difficile pour l'auteur du code de juger de la <b>lisibilit√© de</b> sa propre cr√©ation, et pour le r√©viseur, c'est juste facile, car il ne voit pas dans quel contexte se situe ce code.  Le code lisible par l'homme est plus facile √† r√©utiliser, il contient moins de bogues et est plus durable. <br></li><li>  <b>Les erreurs al√©atoires</b> (par exemple les fautes de frappe), ainsi que <b>les erreurs structurelles</b> (par exemple le code non ex√©cutable, les erreurs de logique ou d'algorithmes, les probl√®mes de performances et d'architecture) sont souvent beaucoup plus faciles √† d√©tecter par un critique pointilleux qui regarde le code de c√¥t√©.  Selon la recherche, m√™me une revue de code courte et non officielle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">affecte de</a> mani√®re significative <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la qualit√© du code et l'occurrence de bogues</a> . <br></li><li>  <b>Les exigences de conformit√©</b> et les cadres r√©glementaires n√©cessitent souvent des examens obligatoires.  Un examen du code est un excellent moyen d'√©viter les probl√®mes de s√©curit√© courants.  Si les exigences de s√©curit√© dans cet environnement ou par rapport √† cette opportunit√© sont augment√©es, alors l'examen sera recommand√© (ou m√™me demand√©) par des satrapes des autorit√©s r√©glementaires (un bon exemple est le guide <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OWASP</a> ). </li></ul><br><h2>  Que chercher </h2><br>  Il n'y a pas de r√©ponse claire √† cette question et chaque √©quipe de d√©veloppement doit se mettre d'accord sur sa propre approche.  Certaines √©quipes pr√©f√®rent v√©rifier les √©ventuelles modifications apport√©es √† la branche principale de d√©veloppement, tandis que d'autres prennent en compte le ¬´seuil de trivialit√©¬ª, au-del√† duquel la v√©rification est obligatoire.  Dans ce cas, vous devez trouver un √©quilibre entre l'utilisation efficace du temps du programmeur (√† la fois l'auteur et le r√©viseur de code) et le maintien de la qualit√© du code.  Dans certains contextes stricts, il est parfois n√©cessaire de tout v√©rifier, m√™me les modifications les plus triviales, dans le code. <br><br>  Les r√®gles de r√©vision du code sont les m√™mes pour tout le monde: m√™me si vous √™tes le d√©veloppeur le plus exp√©riment√© de l'√©quipe, cela ne signifie pas que votre code ne n√©cessite pas de r√©vision.  M√™me si (parfois cela arrive) le code est parfait, la revue ouvre des opportunit√©s de mentorat et de coop√©ration, et, au moins, aide √† regarder la base de code sous diff√©rents points de vue. <br><br><h2>  Quand v√©rifier </h2><br>  Un examen du code devrait avoir lieu apr√®s la r√©ussite des v√©rifications automatiques (tests, conception, autres √©tapes de l'int√©gration continue), mais avant la fusion du nouveau code avec la branche principale du r√©f√©rentiel.  Habituellement, nous n'avons pas recours √† une v√©rification formelle de l'ensemble des modifications apport√©es au code depuis la derni√®re version. <br><br>  Pour les modifications complexes qui doivent √™tre ajout√©es √† la branche principale du code en tant qu'unit√© unique, mais si √©tendues qu'elles ne peuvent pas r√©ellement √™tre couvertes en une seule v√©rification, essayez une r√©vision en plusieurs phases.  Nous cr√©ons la branche principale / grande fonctionnalit√© et un certain nombre de branches secondaires (par exemple, fonctionnalit√© / grande fonctionnalit√©-api, fonctionnalit√© / grande fonctionnalit√©-test, etc.), chacune d'entre elles encapsulant un sous-ensemble de la fonctionnalit√© commune, et chacune de ces branches v√©rifi√© par rapport √† la branche principale de fonctionnalit√© / grande fonctionnalit√©.  Une fois que toutes les branches secondaires ont √©t√© fusionn√©es en fonction / grande fonctionnalit√©, cr√©ez une revue de code pour injecter cette derni√®re dans la branche principale. <br><br><h2>  Pr√©paration du code pour r√©vision </h2><br>  L'auteur du code est tenu de fournir le code de la revue sous une forme digestible, afin de ne pas prendre de temps suppl√©mentaire aux relecteurs et de ne pas les d√©motiver: <br><br><ul><li>  <b>Port√©e et taille</b> .  Les changements doivent porter sur un champ d'application √©troit, bien d√©fini et autosuffisant, enti√®rement couvert par l'examen.  Par exemple, les modifications peuvent √™tre li√©es √† l'impl√©mentation de certaines fonctionnalit√©s ou corrections de bogues.  De brefs changements sont pr√©f√©rables aux longs.  Si la revue contient du mat√©riel qui inclut des modifications dans plus de ~ 5 fichiers, ou n√©cessite plus de 1 √† 2 jours pour l'enregistrement, ou si la revue elle-m√™me peut prendre plus de 20 minutes, essayez de diviser le mat√©riel en plusieurs fragments autonomes et de les v√©rifier s√©par√©ment.  Par exemple, un d√©veloppeur peut soumettre une modification qui d√©finit l'API d'une nouvelle fonctionnalit√© en termes d'interfaces et de documentation, puis ajouter une deuxi√®me modification qui d√©crit les impl√©mentations de ces interfaces. <br></li><li>  Vous devez envoyer uniquement du mat√©riel <b>complet, test√© ind√©pendamment</b> (utilisez diff) et <b>test√© ind√©pendamment</b> .  Pour gagner du temps sur le r√©viseur, testez les modifications soumises (c'est-√†-dire ex√©cutez la suite de tests) et assurez-vous que le code passe tous les assemblages, ainsi que tous les tests et toutes les √©tapes du contr√¥le qualit√©, √† la fois localement et sur des serveurs d'int√©gration continue, <i>puis s√©lectionnez uniquement examinateurs</i> . <br></li><li>  <b>La refactorisation des changements</b> ne devrait pas affecter le comportement et vice versa;  les changements qui affectent le comportement ne doivent pas impliquer une refactorisation ou un reformatage du code.  Il y a plusieurs bonnes raisons √† cela: <br></li></ul><br>  - Les modifications li√©es au refactoring affectent g√©n√©ralement de nombreuses lignes de code dans de nombreux fichiers - par cons√©quent, ce code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ne</a> sera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pas v√©rifi√© avec autant de soin</a> .  Des changements de comportement impr√©vus peuvent s'infiltrer dans la base de code, et personne ne le remarquera m√™me. <br><br>  - Les changements majeurs associ√©s au refactoring violent les m√©canismes de mouvement, de s√©lection et autres "magie" associ√©s au contr√¥le de source.  Il est tr√®s difficile d'annuler un tel changement de comportement qui a √©t√© effectu√© apr√®s l'ach√®vement de la refactorisation qui couvrait l'ensemble du r√©f√©rentiel. <br><br>  - Le temps de travail co√ªteux qu'une personne consacre √† la r√©vision du code devrait aller v√©rifier la logique du programme, et non les diff√©rends concernant le style, la syntaxe ou la mise en forme du code.  Nous pr√©f√©rons r√©soudre ces probl√®mes √† l'aide d'outils automatis√©s, en particulier, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Checkstyle</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TSLint</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Baseline</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Prettier</a> , etc. <br><br><h2>  Valider les messages </h2><br>  Voici un exemple de message de validation comp√©tent, con√ßu conform√©ment √† la norme largement utilis√©e: <br><br><pre><code class="hljs 1c"> ( <span class="hljs-number"><span class="hljs-number">80</span></span> )    ,  , <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .   <span class="hljs-number"><span class="hljs-number">72</span></span> .     <span class="hljs-built_in"><span class="hljs-built_in"></span></span>     ,    ‚Äî   .   <span class="hljs-built_in"><span class="hljs-built_in"></span></span>,       (<span class="hljs-keyword"><span class="hljs-keyword"></span></span>   );     ,  rebase,    .  -   : ¬´ ¬ª,  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ¬´ ¬ª  <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ¬´ ¬ª.      -,  , ,  git merge  git revert.      .    .</code> </pre> <br>  Essayez de d√©crire les modifications apport√©es lors de la validation, et comment exactement ces modifications sont effectu√©es: <br><br><pre> <code class="hljs 1c">&gt; . <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  .    . &gt; .  jcsv- <span class="hljs-keyword"><span class="hljs-keyword"></span></span>    IntelliJ</code> </pre><br><h2>  Rechercher des r√©viseurs </h2><br>  G√©n√©ralement, l'auteur d'une validation recherche un ou deux r√©viseurs qui connaissent la base de code.  Souvent, √† ce titre, le chef de projet ou l'ing√©nieur principal.  Il est conseill√© au propri√©taire du projet de s'abonner √† son propre projet afin de recevoir des notifications de nouvelles r√©visions de code.  Avec la participation de trois r√©viseurs ou plus, une r√©vision du code s'av√®re souvent improductive ou contre-productive, car diff√©rents r√©viseurs peuvent proposer des changements mutuellement contradictoires.  Cela peut indiquer un d√©saccord fondamental sur la mise en ≈ìuvre correcte, et de tels probl√®mes ne devraient pas √™tre r√©solus lors de la r√©vision du code, mais lors d'une r√©union prolong√©e √† laquelle toutes les parties int√©ress√©es participent en personne ou en mode vid√©oconf√©rence. <br><br><h2>  Ex√©cution de la revue de code </h2><br>  Un examen de code est un point de synchronisation entre diff√©rents membres de l'√©quipe, il peut donc potentiellement arr√™ter le travail.  Par cons√©quent, la r√©vision du code doit √™tre op√©rationnelle (prendre environ plusieurs heures, pas plusieurs jours), et les membres de l'√©quipe et les dirigeants doivent √™tre conscients du temps qu'il faudra pour v√©rifier et prioriser le temps qui lui est allou√© en cons√©quence.  S'il vous semble que vous n'avez pas le temps de terminer la r√©vision √† temps, informez-en imm√©diatement l'auteur du commit afin qu'il puisse vous trouver un rempla√ßant. <br><br>  La r√©vision doit √™tre assez approfondie pour que le r√©viseur puisse expliquer le changement √† un autre d√©veloppeur avec suffisamment de d√©tails.  Nous veillerons donc √† ce que les d√©tails de la base de code soient connus d'au moins deux, et non d'un seul. <br><br>  En tant que r√©viseur, vous devez respecter les normes de qualit√© du code et le maintenir √† un niveau √©lev√©.  Une r√©vision de code est plus un art qu'une science.  Cela ne peut √™tre appris qu'en pratique.  Un r√©viseur exp√©riment√© doit d'abord essayer de laisser ses coll√®gues moins exp√©riment√©s changer et les laisser √™tre les premiers √† r√©viser.  Si l'auteur a suivi les r√®gles ci-dessus (en particulier celles li√©es √† l'auto-test et √† l'ex√©cution pr√©liminaire du code), alors c'est ce que le r√©viseur doit faire attention lors de la r√©vision: <br><br><h3>  But </h3><br><ul><li>  <b>Le code atteint-il l'objectif fix√© par l'auteur?</b>  Tout changement doit avoir une raison sp√©cifique (nouvelle fonctionnalit√©, refactoring, correction de bug, etc.).  Le code propos√© nous conduit-il vraiment √† cet objectif? <br></li><li>  <b>Posez des questions.</b>  Les fonctions et les classes doivent √™tre justifi√©es.  Si leur affectation au r√©viseur n'est pas claire, cela signifie peut-√™tre que le code devrait √™tre r√©√©crit ou soutenu par des commentaires ou des tests. <br></li></ul><br><h3>  Impl√©mentation </h3><br><ul><li>  <b>R√©fl√©chissez √† la fa√ßon dont vous r√©soudriez ce probl√®me.</b>  Sinon, pourquoi?  Votre code g√®re-t-il davantage de cas (limites)?  Peut-√™tre que c'est plus court / plus facile / plus propre / plus rapide / plus s√ªr, et fonctionnellement pas pire?  Peut-√™tre avez-vous remarqu√© une r√©gularit√© profonde qui n'est pas couverte par le code existant? <br></li><li>  <b>Voyez-vous la possibilit√© de cr√©er des abstractions utiles?</b>  Si le code est partiellement dupliqu√©, cela signifie souvent qu'un √©l√©ment plus abstrait ou g√©n√©ral de la fonction peut en √™tre extrait, qui peut ensuite √™tre r√©utilis√© dans d'autres contextes. <br></li><li>  <b>Pensez comme un adversaire, cependant, restez gentil.</b>  Essayez de ¬´rattraper¬ª les auteurs qui ont coup√© des coins ou qui manquent des cas sp√©cifiques en lan√ßant des configurations / donn√©es d'entr√©e probl√©matiques qui cassent leur code. <br></li><li>  <b>Pensez aux biblioth√®ques ou au code de travail pr√™t √† l'emploi.</b>  Si quelqu'un r√©impl√©mente la fonctionnalit√© existante - ce n'est pas seulement parce qu'il ne conna√Æt pas l'existence d'une solution toute faite.  Parfois, du code ou des fonctionnalit√©s sont intentionnellement r√©invent√©s - par exemple, pour √©viter les d√©pendances.  Dans ce cas, cela doit √™tre clairement comment√© dans le code.  Cette fonctionnalit√© est-elle d√©j√† fournie dans une biblioth√®que existante? <br></li><li>  <b>Le changement correspond-il aux mod√®les standard?</b>  Dans les bases de code existantes, des r√©gularit√©s sont souvent trac√©es li√©es aux conventions de d√©nomination, √† la d√©composition de la logique du programme, aux d√©finitions des types de donn√©es, etc.  Il est g√©n√©ralement souhaitable que toutes les modifications soient mises en ≈ìuvre conform√©ment aux mod√®les existants. <br></li><li>  <b>Des d√©pendances qui surviennent lors de la compilation ou lors de l'ex√©cution (en particulier entre les sous-projets) sont-elles ajout√©es lors d'une modification?</b>  Nous recherchons la faible coh√©rence du code de nos produits, c'est-√†-dire que nous essayons de permettre un minimum de d√©pendances.  Les modifications li√©es aux d√©pendances et au syst√®me de g√©n√©ration doivent √™tre v√©rifi√©es particuli√®rement attentivement. <br></li></ul><br><h3>  Lisibilit√© et style </h3><br><ul><li>  <b>Pensez √† la fa√ßon dont vous lisez ce code.</b>  Pouvez-vous saisir ses concepts assez rapidement?  Est-il raisonnablement pr√©sent√©, est-il facile de garder une trace des noms des variables et des m√©thodes?  Puis-je tracer du code sur plusieurs fichiers ou fonctions?  Avez-vous d√©j√† √©t√© d√©rang√© par un nom incoh√©rent quelque part? <br></li><li>  <b>Le code est-il conforme aux directives de programmation et de style bien connues?</b>  Le code sort-il de l'ensemble du projet par style, conventions de d√©nomination d'API, etc.?  Comme mentionn√© ci-dessus, nous essayons de r√©soudre les diff√©rends stylistiques √† l'aide d'outils automatiques. <br></li><li>  <b>Le code a-t-il des listes de t√¢ches (TODO)?</b>  Les listes de t√¢ches s'accumulent simplement dans le code et finissent par se transformer en ballast.  Attribuez √† l'auteur de soumettre un ticket √† GitHub Issues ou JIRA et associez un num√©ro de t√¢che √† TODO.  Il ne devrait pas y avoir de code comment√© dans la modification propos√©e. <br></li></ul><br><h3>  Support d'utilisation </h3><br><ul><li>  <b>Lisez les tests.</b>  S'il n'y a pas de tests dans le code, mais qu'ils devraient √™tre l√†, demandez √† l'auteur d'en √©crire quelques-uns.  Les fonctionnalit√©s vraiment non test√©es sont rares, et les impl√©mentations de fonctionnalit√©s non test√©es - malheureusement, souvent.  V√©rifiez les tests eux-m√™mes: couvrent-ils des cas int√©ressants?  Est-il pratique de les lire?  La couverture globale du test diminue-t-elle apr√®s ce test?  R√©fl√©chissez √† la fa√ßon dont ce code pourrait √©chouer.  Les normes de conception de test et le code de base sont souvent diff√©rents, mais les normes de test sont √©galement importantes. <br></li><li>  <b>L'examen de ce fragment pr√©sente-t-il un risque de rupture du code de test, du code d'effraction ou des tests d'int√©gration?</b>  Souvent, un tel examen n'est pas effectu√© avant la validation / fusion, mais si de tels cas sont n√©glig√©s, tout le monde en souffrira.  Faites attention aux choses suivantes: suppression des utilitaires ou modes de test, modification de la configuration, modifications de la disposition / structure de l'artefact. <br></li><li>  <b>Ce changement viole-t-il la compatibilit√© descendante?</b>  Dans l'affirmative, est-il possible d'apporter cette modification √† la version √† ce stade, ou doit-elle √™tre report√©e √† une version ult√©rieure?  Les violations peuvent inclure des modifications de la base de donn√©es ou de son sch√©ma, des modifications des API publiques, des modifications du flux de t√¢ches au niveau de l'utilisateur, etc. <br></li><li>  <b>Ce code n√©cessite-t-il des tests d'int√©gration?</b>  Parfois, le code ne peut pas √™tre correctement v√©rifi√© en utilisant uniquement des tests unitaires, surtout s'il interagit avec des syst√®mes ou une configuration externes. <br></li><li>  <b>Laissez des commentaires sur la documentation de ce code, des commentaires et des messages de validation.</b>  De nombreux commentaires obstruent le code et signifient que les messages de validation d√©routent ceux qui doivent ensuite travailler avec le code.  Ce n'est pas toujours le cas, mais des commentaires de qualit√© et des messages de validation au fil du temps vous seront certainement utiles.  (N'oubliez pas que vous avez vu un commentaire ou un message de validation magnifique ou tout simplement horrible.) <br></li><li>  <b>La documentation externe a-t-elle √©t√© mise √† jour?</b>  Si le LISEZMOI, le CHANGELOG ou toute autre documentation est conserv√© pour votre projet, est-il mis √† jour pour refl√©ter les modifications apport√©es?  Une documentation obsol√®te peut √™tre plus nocive que nulle, et il sera plus co√ªteux de corriger des erreurs √† l'avenir que d'apporter des modifications maintenant. <br></li></ul><br>  N'oubliez pas de louer le code concis / lisible / efficace / beau.  Au contraire, rejeter ou rejeter un code propos√© pour r√©vision n'est pas impoli.  Si le changement est excessif ou insignifiant - rejetez-le en expliquant la raison.  Si le changement vous semble inacceptable en raison d'une ou plusieurs erreurs fatales - rejetez-le, encore une fois, avec raison.  Parfois, le meilleur r√©sultat d'une r√©vision de code est de dire ¬´faisons-le compl√®tement diff√©remment¬ª ou ¬´ne le faisons pas du tout¬ª. <br><br>  Respect√© par les pairs.  Bien que la position de l'adversaire soit saine, vous ne vous √™tes pas rendu compte de cette opportunit√© et vous ne pouvez pas tout d√©cider pour lui.  Si vous ne pouvez pas obtenir une opinion √©valu√©e par les pairs sur le code, organisez une consultation en temps r√©el et √©coutez l'opinion d'une troisi√®me personne. <br><br><h3>  La s√©curit√© </h3><br>  Assurez-vous que tous les points de terminaison API sont correctement autoris√©s et authentifi√©s conform√©ment aux r√®gles adopt√©es dans le reste de la base de code.  Recherchez d'autres failles courantes, par exemple: configuration faible, entr√©es d'utilisateurs malveillants, entr√©es de journal manquantes, etc.  En cas de doute, montrez le code √©valu√© par les pairs √† un professionnel de la s√©curit√©. <br><br><h3>  Commentaires: concis, poli, incitatif </h3><br>  L'examen doit √™tre concis, soutenu dans un style neutre.  Critiquez le code, pas l'auteur.  Si quelque chose n'est pas clair - demandez des √©claircissements et ne pr√©sumez pas que le tout r√©side dans l'ignorance de l'auteur.  √âvitez les pronoms possessifs, en particulier dans les jugements de valeur: ¬´ <i>mon</i> code fonctionnait avant <i>vos</i> changements¬ª, ¬´il y a un bug dans <i>votre</i> m√©thode¬ª, etc.  Ne coupez pas l'√©paule: ¬´√ßa <i>ne</i> marchera <i>pas du tout</i> ¬ª, ¬´le r√©sultat est <i>toujours</i> incorrect¬ª. <br><br>  Essayez de faire la distinction entre les recommandations (par exemple, ¬´Recommandation: extraire la m√©thode, cela rendra le code plus clair¬ª), les modifications n√©cessaires (par exemple, ¬´Ajouter un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">remplacement</a> ¬ª), et les opinions qui n√©cessitent une clarification ou une discussion (par exemple, ¬´ce comportement est-il vrai? ? Si oui, veuillez ajouter un commentaire expliquant la logique. ¬ª)  Essayez de mettre des liens ou des pointeurs vers une description d√©taill√©e du probl√®me. <br><br>  Lorsque vous avez termin√© la r√©vision du code, indiquez dans quelle mesure la r√©action √† vos commentaires que vous attendez de l'auteur est d√©taill√©e, souhaitez-vous r√©p√©ter la r√©vision une fois les modifications apport√©es, par exemple: ¬´Vous pouvez t√©l√©charger le code en toute s√©curit√© dans la branche principale apr√®s ces corrections mineures¬ª ou ¬´Veuillez noter mes commentaires et faites-moi savoir quand je pourrai revoir le code. ¬ª <br><br><h2>  Examiner la r√©ponse </h2><br>  La r√©vision du code, en particulier, vise √† am√©liorer la demande de modifications propos√©e par l'auteur;  par cons√©quent, ne prenez pas l'hostilit√© des recommandations de l'examinateur, prenez-les au s√©rieux, m√™me si vous n'√™tes pas d'accord avec elles.  R√©pondez √† tout commentaire, m√™me √† l'habituel ¬´ACK¬ª (approuv√©) ou ¬´termin√©¬ª (termin√©).  Expliquez pourquoi vous avez pris telle ou telle d√©cision, pourquoi vous avez certaines fonctions dans votre code, etc.  Si vous ne parvenez pas √† un avis commun avec le r√©viseur, organisez une consultation en temps r√©el et √©coutez l'avis d'un tiers sp√©cialiste. <br><br>  Les corrections doivent √™tre corrig√©es dans la m√™me branche, mais dans un commit s√©par√©.  Si vous respectez les validations au stade de la r√©vision, il sera plus difficile pour le r√©viseur de suivre les modifications. <br><br>  La politique de fusion de code est diff√©rente pour diff√©rentes √©quipes.  Dans certaines entreprises, la fusion de code n'est approuv√©e que par le propri√©taire du projet; dans d'autres, un participant peut le faire apr√®s que son code a √©t√© examin√© et approuv√©. <br><br><h3>  Examen du code t√™te-√†-t√™te </h3><br>  En r√®gle g√©n√©rale, les outils de type diff asynchrones, tels que Reviewable, Gerrit ou GitHub, sont parfaits pour les r√©visions de code.  Si nous parlons d'un examen complexe ou d'un examen, dont les participants diff√®rent consid√©rablement en termes d'exp√©rience ou de professionnalisme, il peut √™tre plus efficace d'effectuer un examen personnellement - soit assis ensemble devant un moniteur ou un projecteur, ou √† distance, via des outils de vid√©oconf√©rence ou de partage d'√©cran. <br><br><h2>  Des exemples </h2><br>  Dans les exemples suivants, les commentaires des r√©viseurs dans les listes sont saisis √† l'aide de <br><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">//R: ...</span></span></code> </pre> <br><br><h3>  D√©nomination incoh√©rente </h3><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyClass</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> countTotalPageVisits; <span class="hljs-comment"><span class="hljs-comment">//R:    private int uniqueUsersCount; }</span></span></code> </pre><br><h3>  Signatures de m√©thode incoh√©rentes </h3><br><pre> <code class="hljs php"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> Optional#empty},  s   . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Optional&lt;String&gt; extractString(String s); <span class="hljs-comment"><span class="hljs-comment">/**  null,  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> s}   . */</span></span> <span class="hljs-comment"><span class="hljs-comment">//R:    :    // Optional&lt;&gt; public String rewriteString(String s); }</span></span></code> </pre><br><h3>  Utilisation de la biblioth√®que </h3><br><pre> <code class="hljs vhdl">//R:     MapJoiner   Guava <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> joinAndConcatenate(<span class="hljs-keyword"><span class="hljs-keyword">Map</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">map</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> keyValueSeparator, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> keySeparator);</code> </pre><br><h3>  Pr√©f√©rences personnelles </h3><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dayCount; <span class="hljs-comment"><span class="hljs-comment">//R: :   numFoo   fooCount;   ,         </span></span></code> </pre><br><h3>  Bugs </h3><br><pre> <code class="hljs perl">//R:    numIterations+<span class="hljs-number"><span class="hljs-number">1</span></span> ‚Äì    ? <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ‚Äì     numIterations? <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt;= numIterations; ++i) { ... }</code> </pre><br><h3>  Consid√©rations architecturales </h3><br><pre> <code class="hljs objectivec">otherService.call(); <span class="hljs-comment"><span class="hljs-comment">//R: ,      OtherService.    ?</span></span></code> </pre> <br>  <b>√Ä propos du traducteur</b> <br><br>  L'article a √©t√© traduit par Alconost. <br><br>  Alconost <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">localise des jeux</a> , des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">applications et des sites</a> dans 70 langues.  Traducteurs en langue maternelle, tests linguistiques, plateforme cloud avec API, localisation continue, chefs de projet 24/7, tout format de ressources de cha√Æne. <br><br>  Nous r√©alisons √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des vid√©os de publicit√© et de formation</a> - pour les sites qui vendent, pr√©sentent des images, de la publicit√©, des formations, des teasers, des explicateurs, des bandes-annonces pour Google Play et l'App Store. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Plus de d√©tails</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr413589/">https://habr.com/ru/post/fr413589/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr413579/index.html">Nous allons mettre un mot sur la d√©composition du code: programmation contextuelle</a></li>
<li><a href="../fr413581/index.html">Le test d'autod√©charge de plusieurs ann√©es du l√©gendaire Eneloop</a></li>
<li><a href="../fr413583/index.html">Les anciens partenaires BeGet et Reg.ru exigent une v√©rification mutuelle</a></li>
<li><a href="../fr413585/index.html">Collaboration Hansen: bonne ou rien (partie 2)</a></li>
<li><a href="../fr413587/index.html">√âvaluation de la couverture de test d'un projet Java en utilisant Apache Ignite comme exemple</a></li>
<li><a href="../fr413591/index.html">Robotique industrielle - 57 ans! Rappelez-vous d'o√π vient le d√©compte</a></li>
<li><a href="../fr413593/index.html">Continuer √† conqu√©rir le fond de la mer. Microsoft et son projet de centre de donn√©es sous-marin Natick 2</a></li>
<li><a href="../fr413597/index.html">¬´Dernier recours¬ª ou pourquoi la premi√®re conception de la base de donn√©es est n√©cessaire</a></li>
<li><a href="../fr413599/index.html">Il y a S.L.O.N.a en plusieurs parties. Introduisez ITAM et ne vous √©touffez pas</a></li>
<li><a href="../fr413601/index.html">Le centre de donn√©es de Microsoft chauffe-t-il la mer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>