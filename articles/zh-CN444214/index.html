<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♿️ 🚥 👩‍🍳 Kiwi.com如何测试1000个Python项目 😪 📋 👆🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本文的原始英文版在这里 。 

 这是莫斯科Python Conf ++中Alex Viscreanu演讲的标题。 演出开始还有两个星期，但是我当然已经问过Alex一切了，在这件事之下我将分享剧透和后台来准备这份报告：什么样的开源Zoo会对我们的Python代码做什么以及与mypy同志有何不同。 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kiwi.com如何测试1000个Python项目</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/444214/">  <i>本文的原始英文版<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a> 。</i> <br><br> 这是莫斯科Python Conf ++中Alex Viscreanu演讲的标题。 演出开始还有两个星期，但是我当然已经问过Alex一切了，在这件事之下我将分享剧透和后台来准备这份报告：什么样的开源Zoo会对我们的Python代码做什么以及与mypy同志有何不同。 <br><br>  <b>-告诉我一些有关奇异果的信息，您在公司中做什么？</b> <br><br>  Kiwi.com是一家拥有秘密调味料的在线旅行社。 该公司于2012年在捷克共和国以Skypicker的名称成立，并于2016年更名，并移至Kiwi.com。  Kiwi.com现在是欧洲最大的五家机票整合商之一。 <br><br>  Kiwi.com对用户的一个很酷的功能是，我们为通常无法一起使用的航空公司找到了连接选项，并在连接时解决了各种问题。 <br><br><blockquote> 为了评估我们的规模，这是Kiwi.com上的数字：每日搜索量超过90,000,000，每天有25,000个销售席位，以及超过1,500万个可用航班组合。 </blockquote><a name="habracut"></a><br> 对于我来说，我是一名全职开发人员，从西班牙移居到捷克共和国，在Kiwi.com工作。 我在后端使用Python，在前端使用JavaScript和各种动物园，例如Backbone.js，Angular，Vue.js。 <br><br> 在Kiwi.com，我加入了基础架构团队，因此我主要为开发人员<b>开发和维护内部工具</b> 。 这项工作需要有关基础架构管理和部署工具的深入知识，我想我们可以说我实际上是在进行<b>DevOps，而Dev部分则略有偏差</b> 。 <br><br>  <strong>-Kiwi中有多少Python开发人员？</strong>  <strong>您正在使用Python执行哪些项目？</strong> <br><br> 我们有<strong>350</strong>多个<strong>开发人员</strong> ，其中每天有200个使用Python。  Kiwi.com具有<strong>微服务架构</strong> ，每个团队负责多项服务。 我认为不能说其中之一是最重要的，或者所有开发人员都在做一件事情。 而且，后端有封闭的代码，我不能过多地谈论它。 <br><br> 但是我们在GitHub上有一些有趣的开源项目： <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><strong>Phoenix</strong></a> -Slack中用于通知事件的工具； </li><li>  Crane-直接从GitLab部署到Rancher的脚本； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><strong>Zoo</strong></a>是一组较小的服务，但是它们仍然非常有用。 </li></ul><br>  <b>-CI / CD和部署基础架构如何？</b> <br><br> 我们将<b>GitLab</b>用作源代码存储库，当然， <b>GitLab CI</b>与其集成得最好。 这是一个很好的解决方案，它很灵活，可以让您建立生产性管道。 借助一堆GitLab CI和我们的Crane工具，我们只需单击一个按钮即可将项目部署在不同的环境中（如果有胆量，则可以全自动进行）。 <br><br> 我们为所有CI提供了一系列EC2自动缩放实例。 因此，您可以轻松地根据需要添加电源，并且节省时间，而无需在下班时间保持未使用的服务器。 <br><br> 我们正在<b>Rancher</b>的帮助下对基础架构进行编排， <b>Rancher</b>在我们的工作量和条件下都证明了自己的完美。 <br><br>  <b>-似乎您更喜欢Python。</b>  <b>您是否使用其他任何语言？</b> <br><br> 第二种最常用的语言是<b>JavaScript</b> ，主要用于前端和GraphQL API。 此外，还有适用于Android应用程序的Kotlin和Java。  iOS的Swift和Objective-C；  GoLang在某些地方用于大量服务，而C / C ++用于航班搜索引擎。 <br><br>  <b>-您提到了开源项目The Zoo。</b>  <b>为什么猕猴桃是开源项目？</b>  <b>您有什么好处？</b> <br><br> 像许多其他公司一样，我们在开发的几乎所有产品中都使用开源。 这听起来像是陈词滥调，但是当您得到很多时，最好给一些回报。  <b>这是对集体知识的贡献</b> ，可以帮助我们所有人前进。 <br><br> 除了我们将从开源中发布的内容中受益之外，它对我们也很有用。 其他人可以从完全不同的角度看待产品，并提供我们没有想到或怀疑的东西。 <br><br>  <b>-告诉我们更多有关动物园的信息。</b>  <b>您要检查多少个存储库？</b> <br><br> 我们在内部GitLab中有大约1300个存储库，在公共GitHub中有大约100个存储库。 总数接近<b>1500</b> 。 <br><br> 即使服务未在The Zoo中注册，我们也会扫描每个存储库。 这个想法是，首先，分析越多，结论越准确；其次，当将来该服务连接到The Zoo时，我们将已经拥有有关过去行为的数据。 <br><br>  <b>-令人印象深刻的数字！</b>  <b>您通常会发现多少个错误？</b>  <b>你还记得一些特别的收获吗？</b> <br><br> 现在，在我们的数据库中， <b>发现了</b>大约<b>26,000个问题</b> ，即每个项目大约20个问题。 没错，大多数不是“问题—问题”，而只是建议。 <br><br><blockquote> 当您可以自动捕获重大错误时，这很棒。 </blockquote><br> 通常，在其中一个存储库中发现一些问题之后，新的检查就会出现在The Zoo中。 如果在我们看来也可以在其他地方出现，请在“动物园”中进行一次新检查。 只是为了轻松确定受影响的项目，并确保我们可以尽快修复所有错误。 <br><br> 您不应期望The Zoo找到严重的安全漏洞或复杂的代码问题。 我们为它们提供了其他工具，即使我们在平台中实现它们，也值得在The Zoo之前检测到关键错误。 而是需要这样做，以便在所有存储库中遵循一条准则。 <br><br>  <b>-也就是说，Zoo本身没有任何默认检查吗？</b>  <b>您是否需要它，以便开发人员可以方便地编写他想要的任何支票？</b>  <b>您已经创建了Zoo，并且正在使用它进行很多测试。</b>  <b>你能举一些例子吗？</b> <br><br> 没错， <b>The Zoo是一个平台</b> ，每个人都可以在其中编写自己的测试。 我们的检查适合于我们相当具体的配置，但是我们也想打开它们。 <br><br> 正如我所说，检查是基于我们服务中发现的问题。 它们的范围从README建议到更复杂的配置检查，例如nginx。 <br><br>  <b>-听起来像任何大公司的“必备”！</b>  <b>您会在莫斯科Python Conf ++ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">报告</a>中更详细地说明这一点吗？</b> <br><br> 我认为如何使在所有存储库中轻松快速地运行测试将变得更加有趣。 但是，当然，我会告诉您我们在Kiwi.com上检查的内容。 我希望这对会议嘉宾有用。 <br><br> 我敦促每个人尝试“动物园”，玩弄它，编写自己的支票，从而扩大一般的知识库。 我相信您可以在其中找到适合您的东西。 <br><br>  <b>-谢谢！</b>  <b>最后，如果您可以回溯5年，您会给自己关于Python的哪些建议？</b> <br><br> 这并不容易。我只是一年半以前才开始用Python 3编写代码，但是对于我自己来说，我强烈建议尽早开始编写。  <b>Python 3是该语言的自然演变</b> ；它定义了基础知识。 现在，我将永远不会再回到Python 2上来。问题的意义不仅在于对它的支持即将结束，而且在很大程度上，我已经习惯了新版本的功能。 <br><br> 时光倒流，我会would着这段时间遇到的一些优秀图书馆，以及仍在学习中的一些良好实践。 <br><br><blockquote>  4月5日到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Moscow Python Conf ++</a>来了解使用这个有趣的开源项目的细节，也许还可以借鉴Kiwi的经验。 <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN444214/">https://habr.com/ru/post/zh-CN444214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN444200/index.html">问题解决会议</a></li>
<li><a href="../zh-CN444204/index.html">在Python中引入测试。 第三部分</a></li>
<li><a href="../zh-CN444206/index.html">3月27日，莫斯科-JavaScript MeetUP</a></li>
<li><a href="../zh-CN444208/index.html">为什么企业需要良好的代码？</a></li>
<li><a href="../zh-CN444212/index.html">关于C ++ Siberia 2019中的函数式编程的对话</a></li>
<li><a href="../zh-CN444216/index.html">三天之内，莫斯科Python Conf ++：Bobuk会谈论什么？现在谁将在并行的大厅中表演？</a></li>
<li><a href="../zh-CN444220/index.html">Kiwi如何测试1000个Python项目</a></li>
<li><a href="../zh-CN444222/index.html">围绕敌人。 如何偏执地计划工作</a></li>
<li><a href="../zh-CN444226/index.html">@Pythonetc编译2019年2月</a></li>
<li><a href="../zh-CN444228/index.html">我的电报频道@pythonetc的提示和技巧，2019年2月</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>