<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèáüèæ üßíüèæ ü§µüèΩ Fonctions de param√©trage DPI üë®üèº‚Äç‚öïÔ∏è üêØ üïµÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article ne traite pas du param√®tre DPI complet et de tout ce qui est li√© ensemble, et la valeur scientifique du texte est minime. Mais il d√©crit l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fonctions de param√©trage DPI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453260/">  Cet article ne traite pas du param√®tre DPI complet et de tout ce qui est li√© ensemble, et la valeur scientifique du texte est minime.  Mais il d√©crit le moyen le plus simple de contourner le DPI, que de nombreuses entreprises n'ont pas pris en compte. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/26a/bde/904/26abde9044d04b3aa66680858a755901.jpg" alt="image"><br><a name="habracut"></a><br>  <i>Avertissement n ¬∞ 1: cet article est de nature scientifique, n'encourage personne √† faire quoi que ce soit et √† l'utiliser.</i>  <i>L'id√©e est bas√©e sur l'exp√©rience personnelle et toutes les co√Øncidences sont al√©atoires.</i> <br><br>  <i>Avertissement num√©ro 2: l'article ne r√©v√®le pas les secrets de l'Atlantide, la recherche du Saint Graal et autres myst√®res de l'univers, tout le mat√©riel est dans le domaine public et peut avoir √©t√© d√©crit plus d'une fois sur Habr√©.</i>  <i><s>(Je n'ai pas trouv√©, je serai reconnaissant pour le lien)</s></i> <br><br>  Pour ceux qui lisent les avertissements, commen√ßons. <br><br><h3>  Qu'est-ce que le DPI? </h3><br>  DPI ou Deep Packet Inspection - une technologie permettant d'accumuler des donn√©es statistiques, de v√©rifier et de filtrer les paquets r√©seau en analysant non seulement les en-t√™tes de paquets, mais √©galement le contenu complet du trafic aux niveaux du mod√®le OSI √† partir du deuxi√®me et plus haut, ce qui vous permet de d√©tecter et de bloquer les virus, de filtrer les informations qui ne r√©pondent pas aux crit√®res sp√©cifi√©s . <br><br>  Il existe deux types de connexions DPI d√©crites par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">ValdikSS</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur github</a> : <br><blockquote>  <b>DPI passif</b> <br><br>  DPI connect√© au r√©seau du fournisseur en parall√®le (pas dans la coupe) soit via un s√©parateur optique passif ou en utilisant la mise en miroir du trafic provenant des utilisateurs.  Une telle connexion ne ralentit pas la vitesse du r√©seau du fournisseur en cas de performances DPI insuffisantes, c'est pourquoi elle est utilis√©e par les grands fournisseurs.  DPI avec ce type de connexion ne peut techniquement d√©tecter qu'une tentative de demande de contenu interdit, mais pas l'arr√™ter.  Pour contourner cette restriction et bloquer l'acc√®s au site interdit, DPI envoie un paquet HTTP sp√©cialement con√ßu √† l'utilisateur demandant l'URL bloqu√©e avec une redirection vers la page de raccord du fournisseur, comme si la ressource demand√©e avait elle-m√™me envoy√© une telle r√©ponse (l'adresse IP et la s√©quence TCP de l'exp√©diteur sont falsifi√©es).  En raison du fait que le DPI est physiquement plus proche de l'utilisateur que du site demand√©, la r√©ponse falsifi√©e atteint le p√©riph√©rique de l'utilisateur plus rapidement que la r√©ponse r√©elle du site. <br><br>  <b>DPI actif</b> <br><br>  DPI actif - DPI connect√© au r√©seau du fournisseur de la mani√®re habituelle, comme tout autre p√©riph√©rique r√©seau.  Le fournisseur configure le routage de sorte que le DPI re√ßoive le trafic des utilisateurs vers des adresses IP ou des domaines bloqu√©s, et le DPI d√©cide d√©j√† d'autoriser ou de bloquer le trafic.  Le DPI actif peut v√©rifier le trafic sortant et entrant, cependant, si le fournisseur utilise uniquement le DPI pour bloquer les sites du registre, il est le plus souvent configur√© pour analyser uniquement le trafic sortant. </blockquote><br>  Non seulement l'efficacit√© de blocage du trafic, mais √©galement la charge DPI d√©pendent du type de connexion, il y a donc la possibilit√© de ne pas v√©rifier tout le trafic, mais seulement certains: <br><blockquote>  <b>DPI normal</b> <br><br>  Un DPI ¬´normal¬ª est un DPI qui filtre un certain type de trafic uniquement sur les ports les plus courants pour ce type.  Par exemple, un DPI ¬´normal¬ª d√©tecte et bloque le trafic HTTP interdit uniquement sur le port 80 et le trafic HTTPS sur le port 443. Ce type de DPI ne suivra pas le contenu interdit si vous envoyez une demande avec une URL bloqu√©e √† une IP non bloqu√©e ou √† un port non standard. <br><br>  <b>DPI complet</b> <br><br>  Contrairement au DPI ¬´normal¬ª, ce type de DPI classe le trafic ind√©pendamment de l'adresse IP et du port.  Ainsi, les sites bloqu√©s ne s'ouvriront pas m√™me si vous utilisez un serveur proxy sur un port compl√®tement diff√©rent et une adresse IP non bloqu√©e. </blockquote><br><h3>  Utilisation DPI </h3><br>  Afin de ne pas r√©duire le taux de transfert de donn√©es, vous devez utiliser le DPI passif "Normal", qui vous permet de  bloquer tout?  ressources, la configuration par d√©faut ressemble √† ceci: <br><br><ul><li>  Filtre HTTP sur le port 80 uniquement </li><li>  HTTPS sur le port 443 uniquement </li><li>  BitTorrent uniquement sur les ports 6881-6889 </li></ul><br>  Mais les probl√®mes commencent, si la <b>ressource utilise un port diff√©rent pour ne pas perdre d'utilisateurs</b> , alors vous devrez v√©rifier chaque paquet, par exemple, vous pouvez citer: <br><br><ul><li>  HTTP fonctionne sur les ports 80 et 8080 </li><li>  HTTPS sur les ports 443 et 8443 </li><li>  BitTorrent sur tout autre groupe </li></ul><br>  Pour cette raison, vous devrez soit basculer vers Active DPI, soit utiliser le blocage √† l'aide d'un serveur DNS suppl√©mentaire. <br><br><h3>  Blocage DNS </h3><br>  Une fa√ßon de bloquer l'acc√®s √† une ressource est d'intercepter une requ√™te DNS √† l'aide d'un serveur DNS local et de renvoyer l'adresse IP du ¬´stub¬ª √† l'utilisateur, plut√¥t que la ressource requise.  Mais cela ne donne pas un r√©sultat garanti, car il est possible d'emp√™cher l'usurpation d'adresse: <br><br>  <b>Option 1: Modification du fichier d'h√¥tes (pour le bureau)</b> <br><br>  Le fichier hosts fait partie int√©grante de tout syst√®me d'exploitation, ce qui vous permet de toujours l'utiliser.  Pour acc√©der √† la ressource, l'utilisateur doit: <br><br><ol><li>  Trouver l'adresse IP de la ressource requise </li><li>  Ouvrez le fichier d'h√¥tes pour modification (des droits d'administrateur sont requis) situ√© dans: <br><ul><li>  Linux: / etc / hosts </li><li>  Windows:% WinDir% \ System32 \ drivers \ etc \ hosts </li></ul></li><li>  Ajoutez une ligne au format: &lt;adresse IP&gt; &lt;nom de la ressource&gt; </li><li>  Enregistrer les modifications </li></ol><br>  L'avantage de cette m√©thode est sa complexit√© et les conditions requises pour avoir des droits d'administrateur. <br><br>  <b>Option 2: DoH (DNS sur HTTPS) ou DoT (DNS sur TLS)</b> <br><br>  Ces m√©thodes vous permettent de prot√©ger la requ√™te DNS √† l'aide du chiffrement contre l'usurpation d'identit√©, mais l'impl√©mentation n'est pas prise en charge par toutes les applications.  Consid√©rez la facilit√© de configuration de DoH pour Mozilla Firefox version 66 par l'utilisateur: <br><br><ol><li>  Allez √† <a href="">propos de: config</a> dans Firefox </li><li>  Confirmer que l'utilisateur assume tous les risques </li><li>  Modifiez la valeur du param√®tre <b>network.trr.mode</b> en: <ul><li>  0 - d√©sactiver TRR </li><li>  1 - s√©lection automatique </li><li>  2 - activer DoH par d√©faut </li></ul></li><li>  Modifiez le param√®tre <b>network.trr.uri</b> en s√©lectionnant le serveur DNS <br><ul><li>  DNS Cloudflare: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mozilla.cloudflare-dns.com/dns-query</a> </li><li>  DNS Google: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dns.google.com/experimental</a> </li></ul></li><li>  Modifiez le param√®tre <b>network.trr.boostrapAddress</b> en: <br><ul><li>  Si Cloudflare DNS est s√©lectionn√©: 1.1.1.1 </li><li>  Si Google DNS est s√©lectionn√©: 8.8.8.8 </li></ul></li><li>  Modifiez la valeur du param√®tre <b>network.security.esni.enabled</b> sur <b>true</b> </li><li>  V√©rifier les param√®tres √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cloudflare</a> </li></ol><br>  Bien que cette m√©thode soit plus complexe, elle ne n√©cessite pas de droits d'administrateur pour l'utilisateur et il existe de nombreuses autres fa√ßons de prot√©ger une requ√™te DNS qui ne sont pas d√©crites dans cet article. <br><br>  <b>Option 3 (pour les appareils mobiles):</b> <br><br>  Utilisation de l'application de Cloudflare pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Android</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IOS</a> . <br><br><h3>  <s>Test</s> </h3> <s><br></s>  <s>Pour v√©rifier le manque d'acc√®s aux ressources, un domaine bloqu√© sur le territoire de la F√©d√©ration de Russie a √©t√© temporairement achet√©:</s> <s><br><br></s> <ul><li>  <s>V√©rification HTTP + 80 ports</s> </li><li>  <s>V√©rification HTTP + port 8080</s> </li><li>  <s>V√©rifiez le port HTTPS + 443</s> </li><li>  <s>V√©rifiez le port HTTPS + 8443</s> </li></ul><br><h3>  Conclusion </h3><br>  J'esp√®re que cet article sera utile et encouragera non seulement les administrateurs √† comprendre le sujet plus en d√©tail, mais indiquera √©galement clairement que les <b>ressources seront toujours du c√¥t√© de l'utilisateur, et la recherche de nouvelles solutions devrait en faire partie int√©grante.</b> <br><br><h4>  Liens utiles </h4><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Impl√©mentation de la norme SNI crypt√©e dans Firefox</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solution de contournement DPI autonome</a> </li></ul><br><div class="spoiler">  <b class="spoiler_title">Ajout en dehors de l'article</b> <div class="spoiler_text">  Le test Cloudflare ne peut pas √™tre r√©ussi sur le r√©seau Tele2, et un DPI correctement configur√© bloquera l'acc√®s au site de test. <br>  PS Jusqu'√† pr√©sent, c'est le premier fournisseur √† bloquer correctement les ressources. <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr453260/">https://habr.com/ru/post/fr453260/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr453248/index.html">Artemis Lunar Mission - lancement de la production de l'√©l√©ment principal de la station orbitale lunaire Lunar Gateway</a></li>
<li><a href="../fr453252/index.html">Comment nous avons fait le programme du club Sportmaster</a></li>
<li><a href="../fr453254/index.html">√Ä propos du code de GOST, Grasshopper, son SBox et les graines perdues</a></li>
<li><a href="../fr453256/index.html">SObjectizer-5.6.0: couper en direct pour continuer √† grandir</a></li>
<li><a href="../fr453258/index.html">Cr√©ation d'une p√©dale de r√©verb√©ration √† l'aide de puces PT2399 (partie 1)</a></li>
<li><a href="../fr453262/index.html">O√π sont stock√©es vos constantes sur le microcontr√¥leur CortexM (en utilisant le compilateur IAR C ++ comme exemple)</a></li>
<li><a href="../fr453264/index.html">Virtuali-tee: un ¬´T-shirt m√©dical¬ª qui ne couvre pas mais expose</a></li>
<li><a href="../fr453272/index.html">Sponsors GitHub: une nouvelle fa√ßon de contribuer √† l'open source</a></li>
<li><a href="../fr453274/index.html">Commission cach√©e Yandex.Money dans Samsung Pay</a></li>
<li><a href="../fr453276/index.html">Arduino et temporisation interrompt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>