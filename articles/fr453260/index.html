<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏇🏾 🧒🏾 🤵🏽 Fonctions de paramétrage DPI 👨🏼‍⚕️ 🐯 🕵️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article ne traite pas du paramètre DPI complet et de tout ce qui est lié ensemble, et la valeur scientifique du texte est minime. Mais il décrit l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fonctions de paramétrage DPI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453260/">  Cet article ne traite pas du paramètre DPI complet et de tout ce qui est lié ensemble, et la valeur scientifique du texte est minime.  Mais il décrit le moyen le plus simple de contourner le DPI, que de nombreuses entreprises n'ont pas pris en compte. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/26a/bde/904/26abde9044d04b3aa66680858a755901.jpg" alt="image"><br><a name="habracut"></a><br>  <i>Avertissement n ° 1: cet article est de nature scientifique, n'encourage personne à faire quoi que ce soit et à l'utiliser.</i>  <i>L'idée est basée sur l'expérience personnelle et toutes les coïncidences sont aléatoires.</i> <br><br>  <i>Avertissement numéro 2: l'article ne révèle pas les secrets de l'Atlantide, la recherche du Saint Graal et autres mystères de l'univers, tout le matériel est dans le domaine public et peut avoir été décrit plus d'une fois sur Habré.</i>  <i><s>(Je n'ai pas trouvé, je serai reconnaissant pour le lien)</s></i> <br><br>  Pour ceux qui lisent les avertissements, commençons. <br><br><h3>  Qu'est-ce que le DPI? </h3><br>  DPI ou Deep Packet Inspection - une technologie permettant d'accumuler des données statistiques, de vérifier et de filtrer les paquets réseau en analysant non seulement les en-têtes de paquets, mais également le contenu complet du trafic aux niveaux du modèle OSI à partir du deuxième et plus haut, ce qui vous permet de détecter et de bloquer les virus, de filtrer les informations qui ne répondent pas aux critères spécifiés . <br><br>  Il existe deux types de connexions DPI décrites par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">ValdikSS</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur github</a> : <br><blockquote>  <b>DPI passif</b> <br><br>  DPI connecté au réseau du fournisseur en parallèle (pas dans la coupe) soit via un séparateur optique passif ou en utilisant la mise en miroir du trafic provenant des utilisateurs.  Une telle connexion ne ralentit pas la vitesse du réseau du fournisseur en cas de performances DPI insuffisantes, c'est pourquoi elle est utilisée par les grands fournisseurs.  DPI avec ce type de connexion ne peut techniquement détecter qu'une tentative de demande de contenu interdit, mais pas l'arrêter.  Pour contourner cette restriction et bloquer l'accès au site interdit, DPI envoie un paquet HTTP spécialement conçu à l'utilisateur demandant l'URL bloquée avec une redirection vers la page de raccord du fournisseur, comme si la ressource demandée avait elle-même envoyé une telle réponse (l'adresse IP et la séquence TCP de l'expéditeur sont falsifiées).  En raison du fait que le DPI est physiquement plus proche de l'utilisateur que du site demandé, la réponse falsifiée atteint le périphérique de l'utilisateur plus rapidement que la réponse réelle du site. <br><br>  <b>DPI actif</b> <br><br>  DPI actif - DPI connecté au réseau du fournisseur de la manière habituelle, comme tout autre périphérique réseau.  Le fournisseur configure le routage de sorte que le DPI reçoive le trafic des utilisateurs vers des adresses IP ou des domaines bloqués, et le DPI décide déjà d'autoriser ou de bloquer le trafic.  Le DPI actif peut vérifier le trafic sortant et entrant, cependant, si le fournisseur utilise uniquement le DPI pour bloquer les sites du registre, il est le plus souvent configuré pour analyser uniquement le trafic sortant. </blockquote><br>  Non seulement l'efficacité de blocage du trafic, mais également la charge DPI dépendent du type de connexion, il y a donc la possibilité de ne pas vérifier tout le trafic, mais seulement certains: <br><blockquote>  <b>DPI normal</b> <br><br>  Un DPI «normal» est un DPI qui filtre un certain type de trafic uniquement sur les ports les plus courants pour ce type.  Par exemple, un DPI «normal» détecte et bloque le trafic HTTP interdit uniquement sur le port 80 et le trafic HTTPS sur le port 443. Ce type de DPI ne suivra pas le contenu interdit si vous envoyez une demande avec une URL bloquée à une IP non bloquée ou à un port non standard. <br><br>  <b>DPI complet</b> <br><br>  Contrairement au DPI «normal», ce type de DPI classe le trafic indépendamment de l'adresse IP et du port.  Ainsi, les sites bloqués ne s'ouvriront pas même si vous utilisez un serveur proxy sur un port complètement différent et une adresse IP non bloquée. </blockquote><br><h3>  Utilisation DPI </h3><br>  Afin de ne pas réduire le taux de transfert de données, vous devez utiliser le DPI passif "Normal", qui vous permet de  bloquer tout?  ressources, la configuration par défaut ressemble à ceci: <br><br><ul><li>  Filtre HTTP sur le port 80 uniquement </li><li>  HTTPS sur le port 443 uniquement </li><li>  BitTorrent uniquement sur les ports 6881-6889 </li></ul><br>  Mais les problèmes commencent, si la <b>ressource utilise un port différent pour ne pas perdre d'utilisateurs</b> , alors vous devrez vérifier chaque paquet, par exemple, vous pouvez citer: <br><br><ul><li>  HTTP fonctionne sur les ports 80 et 8080 </li><li>  HTTPS sur les ports 443 et 8443 </li><li>  BitTorrent sur tout autre groupe </li></ul><br>  Pour cette raison, vous devrez soit basculer vers Active DPI, soit utiliser le blocage à l'aide d'un serveur DNS supplémentaire. <br><br><h3>  Blocage DNS </h3><br>  Une façon de bloquer l'accès à une ressource est d'intercepter une requête DNS à l'aide d'un serveur DNS local et de renvoyer l'adresse IP du «stub» à l'utilisateur, plutôt que la ressource requise.  Mais cela ne donne pas un résultat garanti, car il est possible d'empêcher l'usurpation d'adresse: <br><br>  <b>Option 1: Modification du fichier d'hôtes (pour le bureau)</b> <br><br>  Le fichier hosts fait partie intégrante de tout système d'exploitation, ce qui vous permet de toujours l'utiliser.  Pour accéder à la ressource, l'utilisateur doit: <br><br><ol><li>  Trouver l'adresse IP de la ressource requise </li><li>  Ouvrez le fichier d'hôtes pour modification (des droits d'administrateur sont requis) situé dans: <br><ul><li>  Linux: / etc / hosts </li><li>  Windows:% WinDir% \ System32 \ drivers \ etc \ hosts </li></ul></li><li>  Ajoutez une ligne au format: &lt;adresse IP&gt; &lt;nom de la ressource&gt; </li><li>  Enregistrer les modifications </li></ol><br>  L'avantage de cette méthode est sa complexité et les conditions requises pour avoir des droits d'administrateur. <br><br>  <b>Option 2: DoH (DNS sur HTTPS) ou DoT (DNS sur TLS)</b> <br><br>  Ces méthodes vous permettent de protéger la requête DNS à l'aide du chiffrement contre l'usurpation d'identité, mais l'implémentation n'est pas prise en charge par toutes les applications.  Considérez la facilité de configuration de DoH pour Mozilla Firefox version 66 par l'utilisateur: <br><br><ol><li>  Allez à <a href="">propos de: config</a> dans Firefox </li><li>  Confirmer que l'utilisateur assume tous les risques </li><li>  Modifiez la valeur du paramètre <b>network.trr.mode</b> en: <ul><li>  0 - désactiver TRR </li><li>  1 - sélection automatique </li><li>  2 - activer DoH par défaut </li></ul></li><li>  Modifiez le paramètre <b>network.trr.uri</b> en sélectionnant le serveur DNS <br><ul><li>  DNS Cloudflare: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mozilla.cloudflare-dns.com/dns-query</a> </li><li>  DNS Google: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dns.google.com/experimental</a> </li></ul></li><li>  Modifiez le paramètre <b>network.trr.boostrapAddress</b> en: <br><ul><li>  Si Cloudflare DNS est sélectionné: 1.1.1.1 </li><li>  Si Google DNS est sélectionné: 8.8.8.8 </li></ul></li><li>  Modifiez la valeur du paramètre <b>network.security.esni.enabled</b> sur <b>true</b> </li><li>  Vérifier les paramètres à l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cloudflare</a> </li></ol><br>  Bien que cette méthode soit plus complexe, elle ne nécessite pas de droits d'administrateur pour l'utilisateur et il existe de nombreuses autres façons de protéger une requête DNS qui ne sont pas décrites dans cet article. <br><br>  <b>Option 3 (pour les appareils mobiles):</b> <br><br>  Utilisation de l'application de Cloudflare pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Android</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IOS</a> . <br><br><h3>  <s>Test</s> </h3> <s><br></s>  <s>Pour vérifier le manque d'accès aux ressources, un domaine bloqué sur le territoire de la Fédération de Russie a été temporairement acheté:</s> <s><br><br></s> <ul><li>  <s>Vérification HTTP + 80 ports</s> </li><li>  <s>Vérification HTTP + port 8080</s> </li><li>  <s>Vérifiez le port HTTPS + 443</s> </li><li>  <s>Vérifiez le port HTTPS + 8443</s> </li></ul><br><h3>  Conclusion </h3><br>  J'espère que cet article sera utile et encouragera non seulement les administrateurs à comprendre le sujet plus en détail, mais indiquera également clairement que les <b>ressources seront toujours du côté de l'utilisateur, et la recherche de nouvelles solutions devrait en faire partie intégrante.</b> <br><br><h4>  Liens utiles </h4><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Implémentation de la norme SNI cryptée dans Firefox</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solution de contournement DPI autonome</a> </li></ul><br><div class="spoiler">  <b class="spoiler_title">Ajout en dehors de l'article</b> <div class="spoiler_text">  Le test Cloudflare ne peut pas être réussi sur le réseau Tele2, et un DPI correctement configuré bloquera l'accès au site de test. <br>  PS Jusqu'à présent, c'est le premier fournisseur à bloquer correctement les ressources. <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr453260/">https://habr.com/ru/post/fr453260/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr453248/index.html">Artemis Lunar Mission - lancement de la production de l'élément principal de la station orbitale lunaire Lunar Gateway</a></li>
<li><a href="../fr453252/index.html">Comment nous avons fait le programme du club Sportmaster</a></li>
<li><a href="../fr453254/index.html">À propos du code de GOST, Grasshopper, son SBox et les graines perdues</a></li>
<li><a href="../fr453256/index.html">SObjectizer-5.6.0: couper en direct pour continuer à grandir</a></li>
<li><a href="../fr453258/index.html">Création d'une pédale de réverbération à l'aide de puces PT2399 (partie 1)</a></li>
<li><a href="../fr453262/index.html">Où sont stockées vos constantes sur le microcontrôleur CortexM (en utilisant le compilateur IAR C ++ comme exemple)</a></li>
<li><a href="../fr453264/index.html">Virtuali-tee: un «T-shirt médical» qui ne couvre pas mais expose</a></li>
<li><a href="../fr453272/index.html">Sponsors GitHub: une nouvelle façon de contribuer à l'open source</a></li>
<li><a href="../fr453274/index.html">Commission cachée Yandex.Money dans Samsung Pay</a></li>
<li><a href="../fr453276/index.html">Arduino et temporisation interrompt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>