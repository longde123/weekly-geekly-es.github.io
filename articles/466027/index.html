<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï∑Ô∏è üôáüèΩ üï∫üèº El libro "El camino de Python. Cintur√≥n negro para desarrollo, escalado, prueba y despliegue ‚Äù üçö üç§ üßî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola habrozhiteli! Python Path le permite perfeccionar sus habilidades profesionales y aprender lo m√°s posible sobre las capacidades del lenguaje de p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El libro "El camino de Python. Cintur√≥n negro para desarrollo, escalado, prueba y despliegue ‚Äù</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/466027/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/kq/of/aw/kqofawsaidazmnefdopvktmtxei.jpeg" align="left" alt="imagen"></a>  Hola habrozhiteli!  Python Path le permite perfeccionar sus habilidades profesionales y aprender lo m√°s posible sobre las capacidades del lenguaje de programaci√≥n m√°s popular.  Aprender√° a escribir c√≥digo efectivo, crear los mejores programas en un tiempo m√≠nimo y evitar errores comunes.  Es hora de familiarizarse con la inform√°tica y la memorizaci√≥n de subprocesos m√∫ltiples, obtener asesoramiento experto en el campo del dise√±o de API y bases de datos, y tambi√©n mirar dentro de Python para ampliar su comprensi√≥n del lenguaje.  Debe comenzar un proyecto, trabajar con versiones, organizar pruebas autom√°ticas y elegir un estilo de programaci√≥n para una tarea espec√≠fica.  Luego, continuar√° estudiando declaraciones efectivas de funciones, seleccionar√° estructuras de datos y bibliotecas adecuadas, crear√° programas, paquetes y optimizar√° los programas a nivel de bytecode. <br><a name="habracut"></a><br><h3>  Extracto  Ejecutando pruebas en paralelo </h3><br>  Ejecutar suites de prueba puede llevar mucho tiempo.  Esto es una ocurrencia com√∫n en proyectos grandes cuando un conjunto de pruebas tarda minutos en completarse.  Por defecto, pytest ejecuta pruebas secuencialmente, en un orden espec√≠fico. <br><br>  Dado que la mayor√≠a de las computadoras tienen procesadores de m√∫ltiples n√∫cleos, puede acelerar si separa las pruebas para ejecutarlas en m√∫ltiples n√∫cleos. <br><br>  Para esto, pytest tiene un complemento pytest-xdist que se puede instalar usando pip.  Este complemento extiende la l√≠nea de comando pytest con el argumento ‚Äì‚Äìnumprocesses (abreviado ‚Äìn), que toma el n√∫mero de n√∫cleos utilizados como argumento.  El lanzamiento de pytest ‚Äìn 4 ejecutar√° el conjunto de pruebas en cuatro procesos paralelos, manteniendo un equilibrio entre la carga de n√∫cleos disponibles. <br><br>  Debido al hecho de que la cantidad de n√∫cleos puede variar, el complemento tambi√©n acepta la palabra clave autom√°tica como valor.  En este caso, la cantidad de n√∫cleos disponibles se devolver√° autom√°ticamente. <br><br><h3>  Crear objetos usados ‚Äã‚Äãen pruebas usando accesorios </h3><br>  En las pruebas unitarias, a menudo es necesario realizar un conjunto de operaciones est√°ndar antes y despu√©s de ejecutar la prueba, y estas instrucciones involucran ciertos componentes.  Por ejemplo, puede necesitar un objeto que exprese el estado de configuraci√≥n de la aplicaci√≥n, y debe inicializarse antes de cada prueba, y luego restablecerse a sus valores iniciales despu√©s de la ejecuci√≥n.  Del mismo modo, si la prueba depende de un archivo temporal, este archivo debe crearse antes de la prueba y eliminarse despu√©s.  Dichos componentes se llaman <i>accesorios</i> .  Se instalan antes de probar y desaparecen despu√©s de su ejecuci√≥n. <br><br>  En pytest, los accesorios se declaran como funciones simples.  La funci√≥n de dispositivo debe devolver el objeto deseado para que, al probar d√≥nde se usa, se pueda usar este objeto. <br><br>  Aqu√≠ hay un ejemplo de un accesorio simple: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest @pytest.fixture <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">database</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &lt;some database connection&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(database)</span></span></span><span class="hljs-function">:</span></span> database.insert(<span class="hljs-number"><span class="hljs-number">123</span></span>)</code> </pre> <br>  El dispositivo de base de datos es utilizado autom√°ticamente por cualquier prueba que tenga el argumento de la base de datos en su lista.  La funci√≥n test_insert () recibir√° el resultado de la funci√≥n database () como primer argumento y utilizar√° este resultado como lo considere conveniente.  Con este uso de accesorios, no necesita repetir el c√≥digo de inicializaci√≥n de la base de datos varias veces. <br><br>  Otra caracter√≠stica com√∫n de las pruebas de c√≥digo es la capacidad de eliminar lo superfluo despu√©s de la operaci√≥n del dispositivo.  Por ejemplo, cierre la conexi√≥n de la base de datos.  La implementaci√≥n de un dispositivo como generador agregar√° funcionalidad para limpiar objetos verificados (Listado 6.5). <br><br><blockquote><h4>  Listado 6.5.  Borrar un objeto verificado </h4><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest @pytest.fixture <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">database</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> db = &lt;some database connection&gt; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> db db.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(database)</span></span></span><span class="hljs-function">:</span></span> database.insert(<span class="hljs-number"><span class="hljs-number">123</span></span>)</code> </pre> </blockquote>  Como usamos la palabra clave de rendimiento e hicimos un generador de la base de datos, el c√≥digo despu√©s de la declaraci√≥n de rendimiento se ejecuta solo al final de la prueba.  Este c√≥digo cerrar√° la conexi√≥n de la base de datos al final de la prueba. <br><br>  Cerrar la conexi√≥n de la base de datos para cada prueba puede ocasionar un desperdicio injustificado de potencia inform√°tica, ya que otras pruebas pueden usar una conexi√≥n ya abierta.  En este caso, puede pasar el argumento de alcance al decorador de dispositivos, especificando su alcance: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest @pytest.fixture(scope=<span class="hljs-string"><span class="hljs-string">"module"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">database</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> db = &lt;some database connection&gt; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> db db.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(database)</span></span></span><span class="hljs-function">:</span></span> database.insert(<span class="hljs-number"><span class="hljs-number">123</span></span>)</code> </pre> <br>  Al especificar el par√°metro scope = "module", usted inicializ√≥ el dispositivo una vez para todo el m√≥dulo, y ahora estar√° disponible una conexi√≥n de base de datos abierta para todas las funciones de prueba que lo soliciten. <br><br>  Puede ejecutar un c√≥digo general antes o despu√©s de la prueba, definiendo los dispositivos como usados ‚Äã‚Äãautom√°ticamente con la palabra clave autouse, en lugar de especificarlos como un argumento para cada funci√≥n de prueba.  La concreci√≥n de la funci√≥n pytest.fixture () utilizando el argumento True, la palabra clave autouse, asegura que los dispositivos se invoquen cada vez antes de ejecutar la prueba en el m√≥dulo o clase donde se declara. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest @pytest.fixture(autouse=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">change_user_env</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> curuser = os.environ.get(<span class="hljs-string"><span class="hljs-string">"USER"</span></span>) os.environ[<span class="hljs-string"><span class="hljs-string">"USER"</span></span>] = <span class="hljs-string"><span class="hljs-string">"foobar"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> os.environ[<span class="hljs-string"><span class="hljs-string">"USER"</span></span>] = curuser <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_user</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> os.getenv(<span class="hljs-string"><span class="hljs-string">"USER"</span></span>) == <span class="hljs-string"><span class="hljs-string">"foobar"</span></span>&lt;/source     .  ,    :     ,      ,       . &lt;h3&gt;  &lt;/h3&gt;           ,    ,   ,         .          Gnocchi,    . Gnocchi      &lt;i&gt;storage API&lt;/i&gt;.    Python          .       ,      API   .        ,      (    storage API),  ,       .   ,   &lt;i&gt; &lt;/i&gt;,     ,        .  <span class="hljs-number"><span class="hljs-number">6.6</span></span>          ,    :    mysql,   ‚Äî  postgresql. &lt;blockquote&gt;&lt;h4&gt; <span class="hljs-number"><span class="hljs-number">6.6</span></span>.      &lt;/h4&gt; &lt;source lang=<span class="hljs-string"><span class="hljs-string">"python"</span></span>&gt;<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> myapp @pytest.fixture(params=[<span class="hljs-string"><span class="hljs-string">"mysql"</span></span>, <span class="hljs-string"><span class="hljs-string">"postgresql"</span></span>]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">database</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request)</span></span></span><span class="hljs-function">:</span></span> d = myapp.driver(request.param) d.start() <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> d d.stop() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(database)</span></span></span><span class="hljs-function">:</span></span> database.insert(<span class="hljs-string"><span class="hljs-string">"somedata"</span></span>)</code> </pre>  El dispositivo del controlador recibe dos valores diferentes como par√°metro: los nombres de los controladores de la base de datos que admite la aplicaci√≥n.  test_insert se ejecuta dos veces: una para la base de datos MySQL y la segunda para la base de datos PostgreSQL.  Esto facilita volver a tomar la misma prueba, pero con diferentes escenarios, sin agregar nuevas l√≠neas de c√≥digo. <br><br><h3>  Pruebas gestionadas con objetos ficticios </h3><br>  Los objetos ficticios (o trozos, objetos simulados) son objetos que imitan el comportamiento de los objetos de aplicaciones reales, pero en un estado especial y controlado.  Son m√°s √∫tiles para crear entornos que describan minuciosamente las condiciones para la prueba.  Puede reemplazar todos los objetos, excepto el probado, con objetos ficticios y aislarlo, as√≠ como crear un entorno para la prueba de c√≥digo. <br><br>  Un caso de uso es crear un cliente HTTP.  Es casi imposible (o m√°s bien, incre√≠blemente dif√≠cil) crear un servidor HTTP en el que pueda ejecutar todas las situaciones y escenarios para cada valor posible.  Los clientes HTTP son especialmente dif√≠ciles de probar para escenarios de error. <br><br>  La biblioteca est√°ndar tiene un comando simulado para crear un objeto ficticio.  Comenzando con Python 3.3, simulacro se ha integrado con la biblioteca unittest.mock.  Por lo tanto, puede usar el fragmento de c√≥digo a continuaci√≥n para proporcionar compatibilidad con versiones anteriores entre Python 3.3 y anteriores: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mock <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> ImportError: <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mock</code> </pre> <br>  La biblioteca simulada es muy f√°cil de usar.  Cualquier atributo disponible para el objeto mock.Mock se crea din√°micamente en tiempo de ejecuci√≥n.  A cualquier atributo se le puede asignar cualquier valor.  En el Listado 6.7, simulacro se usa para crear un objeto ficticio para el atributo ficticio. <br><blockquote><h4>  Listado 6.7.  Accediendo al atributo mock.Mock </h4><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mock &gt;&gt;&gt; m = mock.Mock() &gt;&gt;&gt; m.some_attribute = <span class="hljs-string"><span class="hljs-string">"hello world"</span></span> &gt;&gt;&gt; m.some_attribute <span class="hljs-string"><span class="hljs-string">"hello world"</span></span></code> </pre> </blockquote>  Tambi√©n puede crear din√°micamente un m√©todo para un objeto mutable, como en el Listado 6.8, donde crea un m√©todo ficticio que siempre devuelve 42 y toma lo que quiera como argumento. <br><blockquote><h4>  Listado 6.8.  Crear un m√©todo para el objeto ficticio simulado. </h4><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mock &gt;&gt;&gt; m = mock.Mock() &gt;&gt;&gt; m.some_method.return_value = <span class="hljs-number"><span class="hljs-number">42</span></span> &gt;&gt;&gt; m.some_method() <span class="hljs-number"><span class="hljs-number">42</span></span> &gt;&gt;&gt; m.some_method(<span class="hljs-string"><span class="hljs-string">"with"</span></span>, <span class="hljs-string"><span class="hljs-string">"arguments"</span></span>) <span class="hljs-number"><span class="hljs-number">42</span></span></code> </pre> </blockquote>  Solo un par de l√≠neas, y el objeto mock.Mock ahora tiene un m√©todo some_method (), que devuelve 42. Toma cualquier tipo de argumento, mientras que no hay verificaci√≥n de cu√°l es el argumento. <br><br>  Los m√©todos generados din√°micamente tambi√©n pueden tener efectos secundarios (intencionales).  Para no ser solo m√©todos repetitivos que devuelven un valor, se pueden definir para ejecutar c√≥digo √∫til. <br><br>  El listado 6.9 crea un m√©todo ficticio que tiene un efecto secundario: muestra la cadena "hola mundo". <br><blockquote><h4>  Listado 6.9.  Crear un m√©todo para un simulacro. Objeto simulado con un efecto secundario </h4><br><pre> <code class="python hljs"> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mock &gt;&gt;&gt; m = mock.Mock() &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print_hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... print(<span class="hljs-string"><span class="hljs-string">"hello world!"</span></span>) ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">43</span></span> ... ‚ù∂ &gt;&gt;&gt; m.some_method.side_effect = print_hello &gt;&gt;&gt; m.some_method() hello world! <span class="hljs-number"><span class="hljs-number">43</span></span> ‚ù∑ &gt;&gt;&gt; m.some_method.call_count <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </blockquote>  Asignamos una funci√≥n completa al atributo some_method ‚ù∂.  T√©cnicamente, esto le permite implementar un escenario m√°s complejo en la prueba, debido al hecho de que puede incluir cualquier c√≥digo necesario para la prueba en el objeto ficticio.  A continuaci√≥n, debe pasar este objeto a la funci√≥n que lo espera. <br><br>  El atributo ‚ù∑ call_count es una manera f√°cil de verificar la cantidad de veces que se ha llamado a un m√©todo. <br><br>  La biblioteca simulada utiliza el patr√≥n de verificaci√≥n de acci√≥n: esto significa que despu√©s de la prueba debe asegurarse de que las acciones reemplazadas por dummies se realizaron correctamente.  El listado 6.10 aplica el m√©todo afirmar () a objetos ficticios para realizar estas comprobaciones. <br><blockquote><h4>  Listado 6.10.  M√©todos de verificaci√≥n de llamadas </h4><br><pre> <code class="python hljs"> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mock &gt;&gt;&gt; m = mock.Mock() ‚ù∂ &gt;&gt;&gt; m.some_method(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'bar'</span></span>) &lt;Mock name=<span class="hljs-string"><span class="hljs-string">'mock.some_method()'</span></span> id=<span class="hljs-string"><span class="hljs-string">'26144272'</span></span>&gt; ‚ù∑ &gt;&gt;&gt; m.some_method.assert_called_once_with(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'bar'</span></span>) &gt;&gt;&gt; m.some_method.assert_called_once_with(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, ‚ù∏mock.ANY) &gt;&gt;&gt; m.some_method.assert_called_once_with(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'baz'</span></span>) Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; File <span class="hljs-string"><span class="hljs-string">"/usr/lib/python2.7/dist-packages/mock.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">846</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> assert_cal led_once_with <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.assert_called_with(*args, **kwargs) File <span class="hljs-string"><span class="hljs-string">"/usr/lib/python2.7/dist-packages/mock.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">835</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> assert_cal led_with <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> AssertionError(msg) AssertionError: Expected call: some_method(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'baz'</span></span>) Actual call: some_method(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'bar'</span></span>)</code> </pre> </blockquote>  Creamos m√©todos con argumentos foo y bar como pruebas llamando al m√©todo ‚ù∂.  Una manera f√°cil de probar las llamadas a objetos ficticios es utilizar los m√©todos afirmar_callados (), como aseguir_callados_con_con () ‚ù∑.  Para estos m√©todos, debe pasar los valores que espera usar al llamar al m√©todo ficticio.  Si los valores pasados ‚Äã‚Äãdifieren de los utilizados, simulacro genera una excepci√≥n AssertionError.  Si no sabe qu√© argumentos se pueden pasar, use mock.ANY como el valor de ‚ù∏;  reemplazar√° cualquier argumento pasado al m√©todo ficticio. <br><br>  La biblioteca simulada tambi√©n se puede utilizar para reemplazar una funci√≥n, m√©todo u objeto de un m√≥dulo externo.  En el Listado 6.11, reemplazamos la funci√≥n os.unlink () con nuestra propia funci√≥n ficticia. <br><blockquote><h4>  Listado 6.11.  Usando mock.patch </h4><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mock &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fake_os_unlink</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(path)</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> IOError(<span class="hljs-string"><span class="hljs-string">"Testing!"</span></span>) ... &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> mock.patch(<span class="hljs-string"><span class="hljs-string">'os.unlink'</span></span>, fake_os_unlink): ... os.unlink(<span class="hljs-string"><span class="hljs-string">'foobar'</span></span>) ... Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> fake_os_unlink IOError: Testing!</code> </pre> </blockquote>  Cuando se usa como administrador de contexto, mock.patch () reemplaza la funci√≥n de destino con la que seleccionamos.  Esto es necesario para que el c√≥digo ejecutado dentro del contexto utilice el m√©todo corregido.  Usando el m√©todo mock.patch (), puede modificar cualquier parte del c√≥digo externo, forz√°ndolo a comportarse de manera tal que pruebe todas las condiciones de la aplicaci√≥n (Listado 6.12). <br><blockquote><h4>  Listado 6.12.  Usando mock.patch () para probar muchos comportamientos </h4><br><pre> <code class="python hljs"> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mock <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WhereIsPythonError</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Exception)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> ‚ù∂ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_python_still_a_programming_language</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: r = requests.get(<span class="hljs-string"><span class="hljs-string">"http://python.org"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> IOError: <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> r.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Python is a programming language'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> r.content <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> WhereIsPythonError(<span class="hljs-string"><span class="hljs-string">"Something bad happened"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_fake_get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(status_code, content)</span></span></span><span class="hljs-function">:</span></span> m = mock.Mock() m.status_code = status_code m.content = content <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fake_get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fake_get <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">raise_get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> IOError(<span class="hljs-string"><span class="hljs-string">"Unable to fetch url %s"</span></span> % url) ‚ù∑ @mock.patch(<span class="hljs-string"><span class="hljs-string">'requests.get'</span></span>, get_fake_get( <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-string"><span class="hljs-string">'Python is a programming language for sure'</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_python_is</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> is_python_still_a_programming_language() <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> @mock.patch(<span class="hljs-string"><span class="hljs-string">'requests.get'</span></span>, get_fake_get( <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-string"><span class="hljs-string">'Python is no more a programming language'</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_python_is_not</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> is_python_still_a_programming_language() <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> @mock.patch(<span class="hljs-string"><span class="hljs-string">'requests.get'</span></span>, get_fake_get(<span class="hljs-number"><span class="hljs-number">404</span></span>, <span class="hljs-string"><span class="hljs-string">'Whatever'</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_bad_status_code</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> pytest.raises(WhereIsPythonError): is_python_still_a_programming_language() @mock.patch(<span class="hljs-string"><span class="hljs-string">'requests.get'</span></span>, raise_get) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_ioerror</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> pytest.raises(WhereIsPythonError): is_python_still_a_programming_language()</code> </pre> </blockquote><br><br>  El Listado 6.12 implementa un caso de prueba que busca todas las instancias de <i>Python es una</i> cadena de <i>lenguaje de programaci√≥n</i> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">python.org</a> ‚ù∂.  No hay ninguna opci√≥n en la que la prueba no encuentre ninguna l√≠nea determinada en la p√°gina web seleccionada.  Para obtener un resultado negativo, debe cambiar la p√°gina, pero esto no se puede hacer.  Pero con la ayuda de simulacro, puede ir al truco y cambiar el comportamiento de la solicitud para que devuelva una respuesta ficticia con una p√°gina ficticia que no contiene una cadena dada.  Esto le permitir√° probar un escenario negativo en el que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">python.org</a> no contiene una cadena determinada y asegurarse de que el programa maneja dicho caso correctamente. <br><br>  Este ejemplo usa la versi√≥n de decorador mock.patch () .  El comportamiento del objeto ficticio no cambia, y fue m√°s f√°cil establecer un ejemplo en el contexto de una funci√≥n de prueba. <br><br>  El uso de un objeto ficticio ayudar√° a simular cualquier problema: el servidor devuelve un error 404, un error de E / S o un error de retraso de la red.  Podemos asegurarnos de que el c√≥digo devuelva los valores correctos o arroje la excepci√≥n correcta en cada caso, lo que garantiza el comportamiento esperado del c√≥digo. <br><br><h3>  Identificar c√≥digo no probado con cobertura </h3><br>  Una gran adici√≥n a las pruebas unitarias es la herramienta de cobertura. [La cobertura del c√≥digo es una medida utilizada en las pruebas.  Muestra el porcentaje del c√≥digo fuente del programa que se ejecut√≥ durante el proceso de prueba <i>ed.</i>  ], que encuentra piezas de c√≥digo no probadas.  Utiliza an√°lisis de c√≥digo y herramientas de seguimiento para identificar las l√≠neas que se ejecutaron.  En las pruebas unitarias, puede revelar qu√© partes del c√≥digo se reutilizaron y cu√°les no se utilizaron en absoluto.  Es necesario crear pruebas, y la capacidad de descubrir qu√© parte del c√≥digo que olvid√≥ cubrir con las pruebas hace que este proceso sea m√°s agradable. <br><br>  Instale el m√≥dulo de cobertura a trav√©s de pip para poder usarlo a trav√©s de su shell. <br><br><blockquote><h4>  NOTA </h4><br>  El comando tambi√©n se puede llamar cobertura de python si el m√≥dulo se instala a trav√©s del instalador de su sistema operativo.  Un ejemplo de esto es el sistema operativo Debian. </blockquote><br><br>  Usar cobertura fuera de l√≠nea es bastante simple.  Muestra aquellas partes del programa que nunca se inician y se convierten en un "peso muerto", un c√≥digo que no se puede eliminar sin cambiar la funcionalidad del programa.  Todas las herramientas de prueba que se discutieron anteriormente en el cap√≠tulo est√°n integradas con la cobertura. <br><br>  Cuando use pytest, instale el complemento pytest-cov a trav√©s de pip install pytest-pycov y agregue algunos interruptores para generar una salida detallada del c√≥digo no probado (Listado 6.13). <br><blockquote><h4>  Listado 6.13.  Usando pytest y cobertura </h4><br><pre> <code class="python hljs">$ pytest --cov=gnocchiclient gnocchiclient/tests/unit ---------- coverage: platform darwin, python <span class="hljs-number"><span class="hljs-number">3.6</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>-final<span class="hljs-number"><span class="hljs-number">-0</span></span> ----------- Name Stmts Miss Branch BrPart Cover --------------------------- gnocchiclient/__init__.py <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>% gnocchiclient/auth.py <span class="hljs-number"><span class="hljs-number">51</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">49</span></span>% gnocchiclient/benchmark.py <span class="hljs-number"><span class="hljs-number">175</span></span> <span class="hljs-number"><span class="hljs-number">175</span></span> <span class="hljs-number"><span class="hljs-number">36</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>% --snip-- --------------------------- TOTAL <span class="hljs-number"><span class="hljs-number">2040</span></span> <span class="hljs-number"><span class="hljs-number">1868</span></span> <span class="hljs-number"><span class="hljs-number">424</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>% === passed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">5.00</span></span> seconds ===</code> </pre> </blockquote>  La opci√≥n --cov habilita la salida del informe de cobertura al final de la prueba.  Debe pasar el nombre del paquete como argumento para que el complemento filtre correctamente el informe.  La salida contendr√° l√≠neas de c√≥digo que no se han ejecutado, lo que significa que no se han probado.  Todo lo que le queda es abrir el editor y escribir una prueba para este c√≥digo. <br><br>  El m√≥dulo de cobertura es a√∫n mejor: le permite generar informes claros en formato HTML.  Simplemente agregue -‚Äìcov-report-html y las p√°ginas HTML aparecer√°n en el directorio <i>htmlcov</i> desde donde ejecuta el comando.  Cada p√°gina mostrar√° qu√© partes del c√≥digo fuente se estaban ejecutando o no. <br><br>  Si desea ir m√°s all√°, use ‚Äì-cover-fail-under-COVER_MIN_PERCENTAGE, lo que har√° que el conjunto de pruebas falle si no cubre el porcentaje m√≠nimo de c√≥digo.  Aunque un gran porcentaje de cobertura es un buen objetivo, y las herramientas de prueba son √∫tiles para obtener informaci√≥n sobre el estado de la cobertura de prueba, el porcentaje en s√≠ mismo no es muy informativo.  La Figura 6.1 muestra un ejemplo de informe de cobertura que muestra el porcentaje de cobertura. <br><br>  Por ejemplo, cubrir el c√≥digo con pruebas al 100% es un objetivo digno, pero esto no significa necesariamente que el c√≥digo se haya probado completamente.  Este valor solo muestra que se cumplen todas las l√≠neas de c√≥digo del programa, pero no indica que se hayan probado todas las condiciones. <br><br>  Vale la pena usar la informaci√≥n de cobertura para expandir el conjunto de pruebas y crearlos para el c√≥digo que no se ejecuta.  Esto simplifica el soporte del proyecto y mejora la calidad general del c√≥digo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d_/af/vl/d_afvlajlx_9ctds7yfu7ef_2ds.png" alt="imagen"></div><br><br><h3>  Sobre el autor </h3><br>  <i>Julien Danju</i> ha estado pirateando software gratuito durante unos veinte a√±os, y ha estado desarrollando programas Python durante casi doce a√±os.  Actualmente lidera el equipo de dise√±o de la plataforma de nube distribuida basada en OpenStack, que posee la mayor base de datos de c√≥digo abierto existente de Python, con aproximadamente dos millones y medio de l√≠neas de c√≥digo.  Antes de desarrollar servicios en la nube, Julien cre√≥ el administrador de ventanas y contribuy√≥ al desarrollo de muchos proyectos, como Debian y GNU Emacs. <br><br><h3>  Sobre el editor de ciencias </h3><br>  <i>Mike Driscoll ha estado</i> programando en Python por m√°s de una d√©cada.  Durante mucho tiempo, escribi√≥ sobre Python en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">The Mouse vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El pit√≥n</a> .  Autor de varios libros de Python: Python 101, Python Interviews e ReportLab: Procesamiento de PDF con Python.  Puedes encontrar a Mike en Twitter y en GitHub: @driscollis. <br><br>  ¬ªSe puede encontrar m√°s informaci√≥n sobre el libro en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el sitio web del editor</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Contenidos</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Extracto</a> <br><br>  Cup√≥n de 25% de descuento para vendedores ambulantes - <b>Python</b> <br><br>  Tras el pago de la versi√≥n en papel del libro, se env√≠a un libro electr√≥nico por correo electr√≥nico. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466027/">https://habr.com/ru/post/466027/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466001/index.html">Feng Shui "m√≥vil", o dormimos correctamente (caf√©, cucarachas e intolerancia en Habr√©)</a></li>
<li><a href="../466015/index.html">Un poco m√°s sobre trigonometr√≠a en inform√°tica</a></li>
<li><a href="../466017/index.html">Livy: el eslab√≥n perdido en la cadena de Python Hadoop Spark Airflow</a></li>
<li><a href="../466019/index.html">ABBYY Mobile Web Capture: fotos de alta calidad de documentos directamente en el navegador de su tel√©fono inteligente</a></li>
<li><a href="../466021/index.html">C√≥mo le ense√±√© a Yandex.Alice a hablar sobre juguetes sexuales</a></li>
<li><a href="../466029/index.html">C√≥mo convertir una computadora cu√°ntica en un generador de n√∫meros aleatorios perfecto</a></li>
<li><a href="../466031/index.html">La misi√≥n √©pica de DeepMind para resolver el problema cient√≠fico m√°s complejo</a></li>
<li><a href="../466033/index.html">C√≥mo involucrar a un equipo en la b√∫squeda de ideas y obtener mucho m√°s que ideas</a></li>
<li><a href="../466039/index.html">Bibliotecas PHP para comercio electr√≥nico: trabajando con ATOL y Payture, analizando c√≥digos GS1 y otras tareas</a></li>
<li><a href="../466041/index.html">El primer evento fuera de l√≠nea del C√≠rculo de desarrolladores de Facebook: comunidad de Mosc√∫ - Evento de lanzamiento</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>