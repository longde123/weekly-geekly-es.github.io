<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò∂ ü¶Ç üë®üèæ‚Äçüéì Servicios hu√©rfanos: el reverso de la arquitectura (micro) de servicios üßòüèø ü§ù üò∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El director de operaciones del portal de Banki.ru, Andrei Nikolsky, dijo en la conferencia DevOpsDays Moscow del a√±o pasado sobre los servicios hu√©rfa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Servicios hu√©rfanos: el reverso de la arquitectura (micro) de servicios</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/scienceman_events/blog/471146/">  El director de operaciones del portal de Banki.ru, Andrei Nikolsky, dijo en la conferencia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DevOpsDays Moscow</a> del a√±o pasado sobre los servicios hu√©rfanos: c√≥mo identificar a un hu√©rfano en la infraestructura, qu√© servicios malos son, qu√© hacer con ellos y c√≥mo ser si nada ayuda. <br><br>  Debajo del corte est√° la versi√≥n de texto del informe. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/j9I4oeEXBO8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br>  Hola colegas  Mi nombre es Andrey, lidero la operaci√≥n en Banki.ru. <br><br>  Tenemos excelentes servicios, estos son servicios monol√≠ticos, hay servicios en un sentido m√°s cl√°sico, hay servicios muy peque√±os.  En la terminolog√≠a de mis trabajadores y campesinos, digo que si el servicio es simple y peque√±o, entonces es micro, y si no es muy simple y no peque√±o, entonces es solo un servicio. <br><br><h3>  <b>Servicio Pros</b> </h3><br>  Revisar√© r√°pidamente las ventajas de los servicios. <br><br><img src="https://habrastorage.org/webt/ji/xj/_u/jixj_uxelvtokkt54xoul15fsnu.png"><br><br>  El primero es escalar.  Puede hacer algo r√°pidamente en el servicio y comenzar la producci√≥n.  Has llegado tr√°fico, has clonado el servicio.  Todav√≠a tienes tr√°fico, todav√≠a clonaste y vives con √©l.  Este es un buen bono y, en principio, cuando comenzamos, se consideraba el m√°s importante entre nosotros, ¬øpor qu√© hacemos todo esto? <br><br><img src="https://habrastorage.org/webt/lc/oq/d3/lcoqd397ppryaemtruvd7awdoxe.png"><br><br>  En segundo lugar, el desarrollo aislado, cuando tiene varios equipos de desarrollo, varios desarrolladores diferentes en cada equipo, y cada equipo detecta alg√∫n tipo de servicio. <br><br>  Hay un matiz con los equipos.  Los desarrolladores son diferentes.  Y hay, por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">personas-copos de nieve</a> .  La primera vez que vi esto con Maxim Dorofeev.  A veces la gente tiene copos de nieve en algunos equipos, y otros no.  Esto hace que los diferentes servicios que se utilizan en la empresa sean un poco desiguales. <br><br><img src="https://habrastorage.org/webt/_k/nk/ml/_knkmlyetdgucwl7bkuxuvtpahe.png"><br><br>  Mira la foto: es un buen desarrollador, tiene grandes manos, puede hacer mucho.  El principal problema es de d√≥nde crecen estas manos. <br><br><img src="https://habrastorage.org/webt/-6/li/zn/-6liznhfxdjynboqueccoayiat8.png"><br><br>  Los servicios permiten utilizar diferentes lenguajes de programaci√≥n que son m√°s adecuados para diferentes tareas.  Algunos servicios en Go, algunos en Erlang, algunos en Ruby, algunos en PHP, algunos en Python.  En general, puede dar una vuelta muy amplia.  Tambi√©n hay matices aqu√≠. <br><br><img src="https://habrastorage.org/webt/7h/ob/ka/7hobkajsj1y7nsdqr1sfoqt7ljo.jpeg"><br><br>  La arquitectura orientada a servicios se trata principalmente de devops.  Es decir, si no tiene automatizaci√≥n, no hay un proceso de implementaci√≥n, si configura con sus manos, sus configuraciones pueden cambiar de una instancia de servicio a una instancia, y tiene que ir all√≠ para hacer algo, entonces est√° en el infierno. <br><br>  Por ejemplo, tiene 20 servicios y necesita implementar con sus manos, tiene 20 consolas y simult√°neamente presiona "enter", como un ninja.  Esto no es muy bueno. <br><br>  Si tiene un servicio despu√©s de la prueba (si hay pruebas, por supuesto), y tambi√©n necesita terminarlo con un archivo para que funcione en producci√≥n, tambi√©n tengo malas noticias para usted. <br><br>  Si conf√≠a en los servicios espec√≠ficos de Amazon y trabaja en Rusia, hace dos meses tambi√©n ten√≠a "Todo est√° en llamas, estoy bien, todo est√° bien". <br><br><img src="https://habrastorage.org/webt/vu/z0/u6/vuz0u6eenpfaob592_jtdrnpp8e.png"><br><br>  Utilizamos Ansible para la automatizaci√≥n de la implementaci√≥n, Puppet para la convergencia, Bamboo para la automatizaci√≥n de la implementaci√≥n, Confluence para describirlo de alguna manera. <br><br>  No me detendr√© en esto en detalle, porque el informe trata m√°s sobre la pr√°ctica de las interacciones y no sobre la implementaci√≥n t√©cnica. <br><br><img src="https://habrastorage.org/webt/dg/c5/cz/dgc5cz_nevmer6hzgcxjj1tqe5g.png"><br><br>  Por ejemplo, tuvimos problemas de que Puppet en el servidor funciona con Ruby 2, y algunas aplicaciones se escribieron bajo Ruby 1.8, y juntas no funcionan.  All√≠ ocurre alg√∫n tipo de jamba.  Y cuando necesita mantener varias versiones de Ruby en la misma m√°quina, generalmente tiene problemas. <br><br>  Por ejemplo, le damos a cada desarrollador una plataforma en la que hay casi todo lo que tenemos, todos los servicios que se pueden desarrollar para que tenga un entorno aislado, pueda descomponerlo y construirlo como quiera. <br><br>  Sucede que necesita alg√∫n tipo de paquete especialmente compilado con soporte para algo all√≠.  Esto es lo suficientemente duro.  He escuchado un informe donde la imagen de la ventana acoplable pesa 45 GB.  En Linux, por supuesto, es m√°s simple, todo es m√°s peque√±o all√≠, pero de todos modos, no habr√° suficientes lugares. <br><br>  Bueno, hay dependencias conflictivas cuando tienes una parte de un proyecto dependiendo de la biblioteca de una versi√≥n, otra parte del proyecto en una versi√≥n diferente y las bibliotecas no se agrupan en absoluto. <br><br><img src="https://habrastorage.org/webt/9m/dr/vn/9mdrvnnkajxl_8cxfmj79ukk8dk.png"><br><br>  Tenemos sitios y servicios en PHP 5.6, nos avergonzamos de ellos, pero qu√© hacer.  Este es nuestro √∫nico sitio.  Hay sitios y servicios en PHP 7, hay m√°s, no nos avergonzamos.  Y cada desarrollador tiene su propia base, donde felizmente corta. <br><br>  Si escribe en la empresa en un idioma, entonces tres m√°quinas virtuales por desarrollador, suena normal.  Si tiene diferentes lenguajes de programaci√≥n, la situaci√≥n empeora. <br><br><img src="https://habrastorage.org/webt/mp/np/b0/mpnpb0q-gcmneomvazzs_1gd4-w.jpeg"><br><br>  Tiene sitios y servicios sobre esto, sobre esto, luego otra plataforma para Go, una plataforma para Ruby, otra Redis en el lateral.  Como resultado, todo esto se convierte en un gran campo de apoyo, y todo el tiempo, algo de esto puede romperse. <br><br><img src="https://habrastorage.org/webt/cb/cq/u_/cbcqu_ynjcnffa0fepuvln_gib8.png"><br><br>  Por lo tanto, reemplazamos los bollos del lenguaje de programaci√≥n con el uso de diferentes marcos, ya que los marcos en PHP son bastante diferentes, tienen capacidades diferentes, comunidades diferentes y soporte diferente.  Y puede escribir un servicio para que ya tenga algo listo. <br><br><h3>  <b>Cada servicio tiene su propio equipo.</b> </h3><br><img src="https://habrastorage.org/webt/zp/nc/6m/zpnc6mlp098fx0xriegr8mwn1jm.png"><br><br>  Nuestra principal ventaja, que cristaliz√≥ durante varios a√±os, es que cada servicio tiene su propio equipo.  Esto es conveniente para un proyecto grande, puede ahorrar tiempo en la documentaci√≥n, los gerentes conocen bien su proyecto. <br><br>  Las tareas de soporte se pueden lanzar perfectamente.  Por ejemplo, el servicio de seguros se averi√≥.  E inmediatamente el equipo de seguros va a reparar. <br><br>  Las nuevas funciones se crean r√°pidamente, porque cuando tiene un servicio at√≥mico, puede atornillar algo r√°pidamente. <br><br>  Y cuando interrumpi√≥ su servicio, y esto sucede inevitablemente, no lastim√≥ los servicios de otra persona, y los desarrolladores con partes de otros equipos no recurren a usted y no dicen: "Aw, no hagas eso. <br><br><img src="https://habrastorage.org/webt/34/hw/ro/34hwroxdvr056crrpgakpbk2f1g.png"><br><br>  Como siempre, hay matices.  Tenemos equipos estables, los gerentes est√°n clavados en el equipo.  Hay documentos claros, los gerentes vigilan de cerca todo esto.  Cada equipo con un gerente tiene varios servicios, y hay un punto espec√≠fico de competencia. <br><br>  Si los equipos est√°n flotando (esto tambi√©n se usa a veces con nosotros), existe un buen m√©todo llamado mapa estelar. <br><br><img src="https://habrastorage.org/webt/lu/01/uq/lu01uqtz9m1qqsp-dndyetupouq.png"><br><br>  Tienes una lista de servicios y personas.  Un asterisco significa que una persona es experta en este servicio, un libro significa que una persona est√° estudiando este servicio.  La tarea del hombre es cambiar un peque√±o libro por un asterisco.  Y si no hay nada escrito enfrente del servicio, entonces comienzan los problemas, de los cuales continuar√© hablando. <br><br><h3>  <b>¬øC√≥mo aparecen los servicios hu√©rfanos?</b> </h3><br><img src="https://habrastorage.org/webt/eh/rx/97/ehrx971egg-nuycxtteb8q824wo.jpeg"><br><br>  El primer problema, la primera forma, para obtener un servicio hu√©rfano en su infraestructura es despedir personas.  ¬øAlguien ha sucedido cuando llegan los plazos de las empresas antes de evaluar las tareas?  A veces sucede que los plazos son ajustados y simplemente no hay tiempo suficiente para la documentaci√≥n.  "Debemos entregar el servicio a la producci√≥n, luego lo agregaremos". <br><br>  Si el equipo es peque√±o, sucede que hay un desarrollador que escribe todo, el resto est√° en las alas.  "Escrib√≠ la arquitectura b√°sica, me das las interfaces".  Luego, en alg√∫n momento, el gerente, por ejemplo, se va.  Y durante este per√≠odo, cuando el gerente se ha ido, y a√∫n no se ha designado uno nuevo, los propios desarrolladores deciden hacia d√≥nde se est√° moviendo el servicio, qu√© est√° pasando all√≠.  Y como sabemos (volvamos unas diapositivas), en algunos equipos hay personas con copos de nieve, a veces un copo de nieve.  Luego renuncia, y recibimos un servicio hu√©rfano. <br><br><img src="https://habrastorage.org/webt/rh/ro/qw/rhroqwez4ltwh8a5petmhcvszi4.png"><br><br>  Al mismo tiempo, las tareas de soporte y de negocios no desaparecen, sino que se instalan en la cartera de pedidos.  Si hubo errores arquitect√≥nicos durante el desarrollo del servicio, tambi√©n se resuelven en el trabajo atrasado.  El servicio se degrada lentamente. <br><br><h3>  <b>¬øC√≥mo identificar a un hu√©rfano?</b> </h3><br>  Esta lista describe bien la situaci√≥n.  ¬øQui√©n aprendi√≥ algo en la infraestructura? <br><br><img src="https://habrastorage.org/webt/4r/gy/nv/4rgynviquavl_b6pmfr85mhzybo.png"><br><br>  Acerca de las soluciones documentadas: hay un servicio y, en general, funciona, tiene un manual de dos p√°ginas, c√≥mo trabajar con √©l, pero nadie sabe c√≥mo funciona en su interior. <br><br>  O, por ejemplo, hay alg√∫n tipo de acortador de enlaces.  Por ejemplo, ahora usamos tres acortadores de enlaces para diferentes prop√≥sitos en diferentes servicios.  Estas son las consecuencias. <br><br><img src="https://habrastorage.org/webt/sm/ka/0f/smka0fa5trizu6rxhzit6e-6fj0.png"><br><br>  Ahora ser√© el capit√°n de la evidencia.  ¬øQu√© hay que hacer?  Primero, debe transferir el servicio a otro gerente, a otro equipo.  Si el l√≠der de su equipo a√∫n no ha renunciado, entonces en este otro equipo, cuando comprenda que el servicio es como un hu√©rfano, debe incluir a alguien que entienda al menos algo sobre √©l. <br><br>  Lo principal: debe tener procedimientos de transmisi√≥n escritos en sangre.  En nuestro caso, generalmente sigo esto, porque necesito que esto funcione.  Los gerentes necesitan que esto se entregue r√°pidamente, y lo que le suceder√° m√°s tarde no es tan importante para ellos. <br><br><img src="https://habrastorage.org/webt/6b/wy/5p/6bwy5pd9qqzaki4jfyo0qimq8tk.png"><br><br>  La siguiente forma de hacer un hu√©rfano es "Hag√°moslo de forma externa, ser√° m√°s r√°pido y luego lo transferiremos al equipo".  Est√° claro que todos tienen algunos planes en el equipo, la cola.  A menudo, un cliente comercial piensa que un proveedor externo har√° lo mismo que el departamento t√©cnico de la empresa.  Aunque sus motivadores son diferentes.  El outsourcing tiene soluciones tecnol√≥gicas extra√±as y soluciones algor√≠tmicas extra√±as. <br><br><img src="https://habrastorage.org/webt/3o/iv/zg/3oivzgpkzi_5akenrhhsfl9r8h8.png"><br><br>  Por ejemplo, ten√≠amos un servicio en el que Sphinx estaba en varios lugares inesperados.  M√°s tarde te contar√© lo que ten√≠a que hacer. <br><br>  Los subcontratistas tienen marcos auto-escritos.  Esto es solo PHP desnudo con copiar y pegar del proyecto anterior, donde puedes encontrar todo.  Muletas grandes en los scripts de despliegue, cuando necesita cambiar varias l√≠neas en alg√∫n archivo con algunos scripts de Bash complejos, mientras que estos scripts de despliegue son llamados por un tercer script.  Como resultado, cambia el sistema de implementaci√≥n, elige otra cosa, salta y su servicio no funciona.  Porque hab√≠a 8 enlaces m√°s para poner entre diferentes carpetas.  O sucede que mil registros funcionan, pero cien mil se han ido. <br><br>  Continuar√© al capit√°n.  Aceptar un servicio de outsourcing es un procedimiento que se requiere.  ¬øQui√©n ha pasado que llega un servicio de un proveedor externo, pero no se acepta en ning√∫n lado?  Esto no es, por supuesto, tan popular como un servicio hu√©rfano, pero a√∫n as√≠. <br><br><img src="https://habrastorage.org/webt/ak/8j/lh/ak8jlhfoevrsvkv4d-y1rfu8gri.png"><br><br>  El servicio debe ser verificado, el servicio debe ser revisado, las contrase√±as deben ser cambiadas.  Tuvimos un caso cuando el servicio nos arroj√≥, all√≠ el panel de administraci√≥n "if login == 'admin' &amp;&amp; password == 'admin' ..." est√° escrito directamente en el c√≥digo.  ¬øNos sentamos y pensamos, y la gente escribe esto en 2018? <br><br>  Probar el volumen de almacenamiento tambi√©n es imprescindible.  Debe ver lo que suceder√° en cien mil registros, incluso antes de comenzar este servicio en alg√∫n lugar de la producci√≥n. <br><br><img src="https://habrastorage.org/webt/mc/k2/qa/mck2qagxhsslsxcojjpekfludq4.png"><br><br>  Enviar el servicio para su revisi√≥n no debe avergonzarse.  Cuando dice: "No aceptaremos este servicio, tenemos 20 tareas, h√°galas, luego aceptaremos", esto es normal.  La conciencia no debe doler por el hecho de que sustituye a un gerente o que una empresa gasta dinero.  El negocio gastar√° m√°s. <br><br>  Tuvimos un caso cuando decidimos hacer un proyecto piloto sobre outsourcing. <br><br><img src="https://habrastorage.org/webt/fo/cm/be/focmbesdalmj5fa1ia9_lkpxss4.png"><br><br>  Se entreg√≥ a tiempo, y este fue el √∫nico criterio de calidad.  Por lo tanto, hicieron otro proyecto piloto, ni siquiera uno piloto.  Estos servicios fueron aceptados, dijeron de manera administrativa, aqu√≠ est√° su c√≥digo, aqu√≠ hay un equipo, aqu√≠ est√° su gerente.  Los servicios realmente ya han comenzado a obtener ganancias.  Adem√°s, de hecho, se quedaron hu√©rfanos, nadie comprende c√≥mo funcionan y los gerentes, de todas las formas posibles, rechazan sus tareas. <br><br><img src="https://habrastorage.org/webt/z6/lo/mn/z6lomn7i2eknkjah0pquashtywu.png"><br><br>  Existe otro concepto excelente: el desarrollo partidista.  Cuando un departamento, por regla general, es un departamento de marketing, quieren probar una hip√≥tesis y ordenar la subcontrataci√≥n de todo el servicio.  El tr√°fico comienza a derramarse sobre √©l, cierran documentos, firman actos con el contratista, entran en funcionamiento y dicen: "Dudes, tenemos un servicio aqu√≠, ya tiene tr√°fico, nos trae dinero, vamos a tomarlo".  Somos: "Oppa, c√≥mo es eso". <br><br><img src="https://habrastorage.org/webt/bw/g-/vj/bwg-vjk4-tvz3574ib3mbjw18ue.png"><br><br>  Y una forma m√°s de obtener un servicio hu√©rfano: cuando un equipo se carga repentinamente, la gerencia dice: "Transmidamos el servicio de este equipo a otro equipo, tiene menos carga".  Y luego nos transferiremos al tercer equipo, y cambiaremos al gerente.  Y al final, nuevamente tenemos un hu√©rfano. <br><br><h3>  <b>¬øCu√°l es el problema con los hu√©rfanos?</b> </h3><br><img src="https://habrastorage.org/webt/_o/-3/ux/_o-3uxqtu_lh_cmgfg8mf6pousc.png"><br><br>  Qui√©n no sabe, este fue el barco de la l√≠nea que Wasa cri√≥ en Suecia, famoso por el hecho de que se hundi√≥ 5 minutos despu√©s del lanzamiento.  Y el rey de Suecia, por cierto, no ejecut√≥ a nadie por esto.  Fue construido por dos generaciones de ingenieros que no pudieron construir tales barcos.  El efecto natural. <br><br>  El barco podr√≠a hundirse, por cierto, mucho peor, por ejemplo, cuando el rey lo montara en alg√∫n lugar en una tormenta.  Y entonces, se ahog√≥ de inmediato, de acuerdo con la c√°rcel, es bueno fallar temprano. <br><br>  Si fallamos temprano, generalmente no hay problemas.  Por ejemplo, durante la aceptaci√≥n enviaron para su revisi√≥n.  Y si ya hemos fallado en la producci√≥n, cuando se invierte el dinero, puede haber problemas.  Las consecuencias, como se les llama en los negocios. <br><br>  Por qu√© servicios hu√©rfanos peligrosos: <br><br><ul><li>  El servicio puede romperse de repente. </li><li>  El servicio se repara durante mucho tiempo o no se repara en absoluto. </li><li>  Problemas de seguridad. </li><li>  Problemas con mejoras y actualizaciones. </li><li>  Si se rompe un servicio importante, la reputaci√≥n de la empresa se ve afectada. </li></ul><br><h3>  <b>¬øQu√© hacer con los servicios para hu√©rfanos?</b> </h3><br><img src="https://habrastorage.org/webt/3k/ex/8v/3kex8vjbf7clzd9jbktsfzjclby.png"><br><br>  Una vez m√°s, qu√© hacer.  En primer lugar, debe haber documentaci√≥n.  Durante 7 a√±os en Banki.ru me ense√±aron que los evaluadores no deber√≠an hablar con los desarrolladores, y la operaci√≥n no deber√≠a hablar con todos.  Es necesario verificar. <br><br><img src="https://habrastorage.org/webt/dx/rc/ub/dxrcubcmw-ybkov8kdag3cz2rzs.png"><br><br>  En segundo lugar, es necesario escribir esquemas de interacci√≥n, porque sucede que los servicios que no son bien recibidos contienen dependencias de las que nadie habl√≥.  Por ejemplo, los desarrolladores ponen el servicio en su clave para algunos Yandex.Maps o Dadata.  Te has quedado sin l√≠mite, todo se ha roto y no sabes lo que sucedi√≥ en absoluto.  Todos estos rastrillos deben describirse: el servicio utiliza Dadata, Sms, algo m√°s. <br><br><img src="https://habrastorage.org/webt/hy/6o/ki/hy6okizhuhhwibejacdgchvoo68.png"><br><br>  En tercer lugar, trabajar con la deuda t√©cnica.  Cuando haces muletas o aceptas el servicio y dices que hay que hacer algo, debes asegurarte de que lo hagan.  Porque entonces puede resultar que el peque√±o agujero no sea tan peque√±o y que caigas all√≠. <br><br>  Con las tareas arquitect√≥nicas, tuvimos una historia sobre Sphinx.  En uno de los servicios, Sphinx se utiliz√≥ para ingresar a las listas.  Solo una lista de paginaci√≥n, pero se reindex√≥ todas las noches.  Se compil√≥ a partir de dos √≠ndices: uno se index√≥ todas las noches en grande, y todav√≠a hab√≠a un peque√±o √≠ndice que se atornillaba.  Todos los d√≠as, con una probabilidad del 50%, bombardear√° o no, durante el c√°lculo, el √≠ndice estaba latiendo y las noticias dejaron de actualizarse en la p√°gina principal.  Al principio fueron 5 minutos, mientras el √≠ndice se volvi√≥ a indexar, luego el √≠ndice creci√≥ y, en alg√∫n momento, comenz√≥ a volver a indexarse ‚Äã‚Äã40 minutos.  Cuando lo cortamos, soltamos un suspiro de alivio, porque estaba claro que pasar√≠a un poco m√°s de tiempo, y nuestro √≠ndice se volver√≠a a indexar a tiempo completo.  Ser√° un archivo para nuestro portal, ocho horas no hay noticias, eso es todo, el negocio se ha mantenido. <br><br><h3>  <b>Plan de trabajo con servicio hu√©rfano.</b> </h3><br><img src="https://habrastorage.org/webt/ox/ny/wq/oxnywqk2gpyoczjewhrt_ngsiz0.png"><br><br>  De hecho, es muy dif√≠cil de hacer, porque devops se trata de comunicaci√≥n.  Quiero estar en buenas relaciones con mis colegas, y cuando golpeas a colegas y gerentes con regulaciones en la cabeza, pueden tener sentimientos contradictorios por las personas que hacen esto. <br><br>  Adem√°s de todos estos puntos, hay otra cosa importante: para cada servicio espec√≠fico, para cada secci√≥n espec√≠fica del procedimiento de implementaci√≥n, las personas espec√≠ficas deben ser responsables.  Cuando no hay personas y tienes que atraer a otras personas, para estudiar todo, se vuelve dif√≠cil. <br><br><img src="https://habrastorage.org/webt/6o/-d/co/6o-dcolwznowrvatclrcvbvau0a.png"><br><br>  Si todo esto no ayuda, y el servicio hu√©rfano sigue siendo hu√©rfano, nadie quiere llev√°rselo, la documentaci√≥n no est√° escrita, el equipo que fue llamado a este servicio se niega a hacer algo, hay una manera f√°cil de rehacer todo . <br><br>  Es decir, toma los requisitos del servicio de nuevo y escribe un nuevo servicio, mejor, en una mejor plataforma, sin soluciones tecnol√≥gicas extra√±as.  Y migrar a √©l en la batalla. <br><br><img src="https://habrastorage.org/webt/_j/f2/wk/_jf2wkfeybtdq4xty4syofgx1ei.png"><br><br>  Tuvimos una situaci√≥n cuando tomamos el servicio en Yii 1 y nos dimos cuenta de que no pod√≠amos desarrollarlo m√°s, porque nos hab√≠amos quedado sin desarrolladores que pueden escribir bien en Yii 1. Todos los desarrolladores escriben bien en la tercera Symfony.  Que hacer  Nos tomamos el tiempo, asignamos el equipo, asignamos el gerente, reescribimos el proyecto y cambiamos el tr√°fico sin problemas. <br><br>  Despu√©s de eso, el antiguo servicio se puede eliminar.  Este es mi procedimiento favorito, cuando necesita tomar y limpiar alg√∫n servicio del sistema de administraci√≥n de configuraci√≥n y luego ir a ver que todos los autos en la producci√≥n han sido reembolsados, para que los desarrolladores no tengan rastros.  El repositorio en el git permanece. <br><br>  Esto es todo de lo que quer√≠a hablar, estoy listo para discutir, el tema es hol√≠stico, muchos flotaron en √©l. <br><br>  <b>En las diapositivas se trataba del hecho de que unificaste los idiomas.</b>  <b>Un ejemplo fue el cambio de tama√±o de las im√°genes.</b>  <b>Pero, ¬øes realmente necesario tener un idioma dif√≠cil?</b>  <b>Porque cambiar el tama√±o de las im√°genes en PHP, bueno, realmente podr√≠as hacerlo en Golang.</b> <br><br>  De hecho, esto no es necesario, como todas las pr√°cticas.  Quiz√°s, en algunos casos, incluso indeseable.  Pero debe comprender que si tiene 50 personas en el departamento t√©cnico, 45 de ellos son desarrolladores de PHP, otros 3 son devops que pueden hacer Python, Ansible, Puppet y algo as√≠, y solo uno de ellos escribe en algunos Vaya al servicio para cambiar el tama√±o de las im√°genes, luego cuando se vaya, el examen se ir√° con √©l.  Y al mismo tiempo, deber√° buscar un desarrollador espec√≠fico del mercado que conozca este idioma, especialmente si es raro.  Es decir, desde un punto de vista organizativo, esto es problem√°tico.  Desde el punto de vista de los desarrolladores, no solo necesitar√° clonar un conjunto de libros de jugadas ya listos para usar para implementar servicios, sino que deber√° volver a escribirlos. <br><br>  Ahora estamos viendo el servicio en Node.js, y ser√° solo una plataforma cercana para cada desarrollador con un idioma separado.  Pero nos sentamos pensando que el juego val√≠a la pena.  Es decir, la pregunta aqu√≠ es sentarse y pensar. <br><br>  <b>¬øC√≥mo monitorea sus servicios?</b>  <b>¬øC√≥mo recolecta y rastrea los registros?</b> <br><br>     Elasticsearch    Kibana,     ,     ,    . - Lumberjack, -  -,    .        ,    Telegraf    - . <br><br> <b>   Puppet  Ansible   ?</b> <br><br>   ,     ,  ‚Äî Puppet,  Ansible.    ,   . Ansible ‚Äî      , Puppet ‚Äî      ,        ,  Puppet   .  ,        ,   ,       ,         - .    . <br><br> <b>   ?       Ansible,   Puppet?</b> <br><br>    ,      ,       - .   ,  Puppet      - ,  Ansible  , ,        . <br><br> <b>      Ruby.  ?</b> <br><br>       ,         .     ,     Ruby,     ,    . <br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este a√±o, la conferencia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DevOpsDays Mosc√∫</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se llevar√° a cabo el 7 de diciembre en Technopolis. </font><font style="vertical-align: inherit;">Hasta el 11 de noviembre, aceptamos solicitudes de informes. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Env√≠enos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">correo electr√≥nico</font></a><font style="vertical-align: inherit;"> si quiere hablar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La inscripci√≥n para los participantes est√° abierta, ¬°√∫nete!</font></font><br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/471146/">https://habr.com/ru/post/471146/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../471134/index.html">Python vs JavaScript: ¬øCu√°l te puede beneficiar m√°s?</a></li>
<li><a href="../471136/index.html">La primera gran reuni√≥n de la comunidad Scala en Rusia, tal como fue</a></li>
<li><a href="../471138/index.html">Programaci√≥n en pareja en Vineti</a></li>
<li><a href="../471140/index.html">Preparaci√≥n para la certificaci√≥n profesional de primavera. Descanso de primavera</a></li>
<li><a href="../471142/index.html">12 caracter√≠sticas de ES10 en 12 ejemplos simples</a></li>
<li><a href="../471150/index.html">‚ÄúC√≥mo gestionar intelectuales. Yo, nerds y geeks "(versi√≥n electr√≥nica gratuita del libro)</a></li>
<li><a href="../471154/index.html">Regreso a la escuela: c√≥mo entrenar a probadores de mano para hacer frente a las pruebas autom√°ticas</a></li>
<li><a href="../471158/index.html">ID @ Xbox en Rusia: expandiendo los horizontes de los juegos</a></li>
<li><a href="../471160/index.html">Problema al instalar Ruby on Rails a fines de 2019</a></li>
<li><a href="../471162/index.html">Anuncio de soporte para la edici√≥n nativa de port√°tiles Jupyter en VS Code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>