<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛰️ 💆🏻 🔼 Créer une clé RFID universelle pour les interphones 🅱️ 🍙 🔱</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salutations à tous ceux qui s'intéressent au thème des clés électroniques de cross-country. En vérité, je n'ai pas moi-même suivi les nouvelles dans c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Créer une clé RFID universelle pour les interphones</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485104/">  Salutations à tous ceux qui s'intéressent au thème des clés électroniques de cross-country.  En vérité, je n'ai pas moi-même suivi les nouvelles dans ce domaine depuis longtemps.  Mais je veux publier mon développement il y a trois ans, car il est facile à répéter et peut intéresser quelqu'un.  L'essentiel: au lieu d'une douzaine de clés avec des codes tout-terrain et seulement des codes, toutes les clés peuvent être transportées dans un petit appareil. <br><br><img src="https://habrastorage.org/webt/fb/8l/s4/fb8ls4ydh-hfj8zheobot3rzac4.jpeg"><br><a name="habracut"></a><br><blockquote> Avis de non-responsabilité: répétez - je ne demande pas, pour l'assemblage et l'utilisation - vous êtes responsable, je partage des informations uniquement à des fins d'information.  Par exemple, pour aider les entreprises qui fournissent des services de haut-parleurs sur porte à réparer les «trous» à temps, s'ils sont détectés à l'aide de l'appareil. </blockquote><h3>  1. Qu'est-ce que c'est?  Que pouvez-vous? </h3><br>  L'appareil que j'ai récupéré en 2017 n'est rien d'autre qu'un spoofer pour une clé RFID d'interphone fonctionnant à une fréquence de 125 kHz.  Le mot «spoofer» dans ce cas signifie que l'appareil, en fait n'étant pas une clé, l'emprunte et les interphones répondent en conséquence. <br><br>  L'appareil peut transmettre tous les codes clés enregistrés dans sa mémoire.  Certains codes peuvent être trouvés sur le Web pour les «clés tout-terrain», je les ai d'abord insérés dans le firmware.  Mais avec une certaine habileté et envie, vous pouvez insérer dans le firmware les codes de toutes les clés RFID que vous utilisez (si elles fonctionnent à une fréquence de 125 kHz), et ainsi pouvoir remplacer un tas de porte-clés par un seul appareil. <br><br>  Je sais que dans l'immensité du Web, il existe un grand nombre de circuits de tels appareils.  Mon objectif était de créer la version la plus simple de toutes les versions disponibles.  Que cela ait réussi ou non - jugez par vous-même. <br><br><h3>  2. Quelles compétences devez-vous posséder pour répéter ce projet? </h3><br>  Tout d'abord, les compétences de travail avec Arduino: avoir un environnement de développement installé, pouvoir télécharger le firmware sur la carte, installer des bibliothèques, des pilotes, c'est tout.  Ensuite.  Il y a un endroit dans le projet où sans soudure - enfin, rien.  Parce que - vous avez besoin de bras droits et d'un fer à souder avec des consommables.  Savoir lire les schémas électriques (ou leurs similitudes).  Eh bien, des compétences en programmation en C ++, afin de pouvoir personnaliser l'appareil.  Mais c'est déjà facultatif. <br><br><h3>  3. Quelles pièces sont nécessaires et comment les monter? </h3><br><div class="spoiler">  <b class="spoiler_title">Sans plus attendre, voici un schéma de l'appareil:</b> <div class="spoiler_text">  Désolé pour le fait que "pas selon GOST" - je dessine dans drawio, car la seule alternative gratuite et pratique est Visio, et maintenant je n'utilise que des logiciels sous licence.  Mais, je suppose, tout est déjà très clair. <br></div></div><img src="https://habrastorage.org/webt/kc/yi/aj/kcyiaj5fxxrfkup1gvkcpuydeo4.jpeg"><br><br>  Comme vous pouvez le voir, la nomenclature de la version de base ressemble à ceci: <br><br><ol><li>  Arduino Nano (ou tout autre Dunya à portée de main); </li><li>  Clé RFID EM4100 (au lieu de l'inductance); </li><li>  transistor npn (tout ce qui est trouvé, les fréquences ici ne sont pas très élevées); </li><li>  Résistance 10K; </li><li>  Condensateur 560 pF (meilleur CMS, vous pouvez souder directement dans le boîtier à partir de la clé); </li><li>  batterie lithium-ion - au goût; </li><li>  trois boutons tactiles; </li><li>  Écran OLED avec interface I2C; </li><li>  module de charge pour liIon; </li><li>  Convertisseur DC-DC élévateur avec sortie 5V. </li></ol><br>  Le schéma d'alimentation peut être n'importe lequel, juste pour avoir suffisamment d'Arduino pour démarrer.  Périphériques d'E / S - de même: le firmware peut facilement être adapté aux boutons / affichages disponibles (lien vers github - juste en dessous).  La version actuelle du micrologiciel est écrite pour l'écran OLED et les boutons tactiles (tirés de considérations de "pas de rebond"). <br><br>  Vous pouvez également collecter un échantillon de test sur une planche à pain sans soudure.  Aucune instruction particulière n'est requise ici, à l'exception de ce qu'il faut faire avec «inductance».  À ce sujet - plus en détail. <br><br><img src="https://habrastorage.org/webt/sy/ro/ex/syroexqy--g9u-ahq7pkixsbnbm.jpeg"><br><br>  La clé, similaire à celle de la photo, peut être obtenue auprès de n'importe quel maître local ou commandée sur Ali.  Il y a un couvercle sur le corps de la clé, qui doit être soigneusement ouvert lorsque vous atteignez le remplissage: <br><br><img src="https://habrastorage.org/webt/qw/nb/nh/qwnbnhclovyh7kqngg-cndj9tb4.jpeg"><br><br>  Il s'agit d'une bobine et d'une puce mémoire avec deux pads sur les côtés.  Les résultats de la bobine sont soudés uniquement à ces plots.  Tout cela est inondé d'une fine couche de thermopolymère élastique (d'aspect et de propriétés similaires à l'adhésif gelé B7000).  Pour obtenir une bobine, j'ai fait ce qui suit.  Prenant un couteau de bureau, j'ai pressé doucement un textolite avec une lame entre les coussinets et le microcircuit.  Il a séparé le microcircuit de la bobine et l'a jeté.  Ensuite, avec un fer à souder, j'ai doucement (afin de ne pas souder les fils fins de la bobine) brûlé le thermopolymère sur les plots, permettant de numéroter davantage. <br><br><img src="https://habrastorage.org/webt/oj/1o/mb/oj1ombm7birbshlzihfzk2qrfw4.jpeg"><br><br>  Avant de souder, vous devez mesurer la résistance de la bobine, en vous assurant qu'elle n'est pas à l'air libre.  Si tout est en ordre, alors il vaut mieux assembler comme ceci: soudez d'abord le condensateur SMD aux plots (il devrait bien s'emboîter entre eux), puis les jambes du transistor et à la fin - la résistance à la base.  Tout cela peut être soigneusement monté dans le boîtier de clé.  Les fils de la "terre" et la base du transistor sont soudés en dernier. <br><br><img src="https://habrastorage.org/webt/bn/uv/5p/bnuv5pbwssqmaoddge7uvgueekk.jpeg"><br><br>  Ensuite, faites un trou dans le couvercle de clé pour ces fils et fermez le trousseau, lui donnant une apparence presque originale.  Pour assembler sur une planche à pain sans soudure, vous devez souder les connecteurs à broches aux fils (ou tout simplement les déchirer afin de pouvoir les insérer facilement dans la planche à pain). <br><br><h3>  4. Firmware, test et configuration </h3><br>  Comme promis, un <a href="https://github.com/VladimirMozg/RFID_125kHz_spoofer" rel="nofollow">lien vers le référentiel du</a> projet.  Les fichiers du firmware se trouvent dans le dossier My_125_kHz_spoofer_v.03. <br><br>  Après avoir assemblé et téléchargé le firmware, l'appareil est prêt à l'emploi.  Pour vous assurer que cela fonctionne, il n'est pas du tout nécessaire de rechercher un interphone - vous pouvez vous en tirer avec le module chinois de lecture des clés RFID, qui s'appelle le RDM6300 et une autre carte Arduino (bien que ce soit plus facile pour n'importe qui).  J'ai également mis le firmware du module RDM6300, qui affiche le code clé traduit dans le même format que celui inclus dans le firmware du spoofer, dans le référentiel du projet.  Schéma de connexion du lecteur - au même endroit. <br><br>  Procédure de test à l'aide du lecteur RDM6300: <br><br><ol><li>  Assurez-vous que le lecteur fonctionne en maintenant l'une des touches disponibles à 125 kHz sur l'antenne (les données seront transmises au port COM); </li><li>  Sélectionnez le code clé d'intérêt dans le menu du spoofer; </li><li>  Apportez l'antenne au lecteur.  Si le lecteur lit la même clé que celle spécifiée dans le firmware - tout a fonctionné!  Sinon - vérifiez le schéma, recherchez où se trouve l'erreur, éliminez-la et commencez par le point 1. </li></ol><br><h3>  5. Ce qui peut être changé dans le firmware et ce qui est préférable de ne pas toucher </h3><br>  Étant donné que le firmware a été moulé sur la base de <a href="https://toschprod.wordpress.com/2013/08/05/rfid-spoofer/" rel="nofollow">ce code, ce qui n'est pas très clair pour moi,</a> les fonctions vitales qui ne peuvent pas être modifiées en ce moment sont complètement, j'ai mis un onglet séparé functions.ino.  Le reste du programme sert uniquement à fournir à l'utilisateur une opportunité pratique d'appeler la fonction EmulateCard (enfin, et quelques lignes de code avant). <br><br>  Vous pouvez ajouter vos clés au tableau uint64_t universalID [] situé sur la ligne 75 du code.  Étant donné que je n'ai pas «défini» le nombre total de clés dans la mémoire de l'appareil et que certaines fonctions sont liées à cette constante, lors de l'ajout de ma propre clé, vous devez également modifier les limites dans lesquelles la variable keyNumber est responsable du choix de la clé.  Et bien n'oubliez pas d'ajouter votre clé dans le menu.  En général, tout est humide, mais si vous voulez, je le répète, ce n'est pas difficile à comprendre. <br><br><h3>  6. Ce qui pourrait être amélioré dans l'appareil </h3><br><ol><li>  Ajoutez la prise en charge des clés iButton (au moins la plus courante de Dallas). </li><li>  Ajouter l'émulation de touches fonctionnant à une fréquence de 13,5 MHz (si je comprends bien, soit en portant un flan réinscriptible et le module RC522, soit techniquement difficile grâce à une émulation réelle). </li><li>  Ajoutez des lecteurs iButton, RDM6300 et RC522 à l'appareil pour le rendre encore plus universel. </li></ol><br>  Qui réussira - écrivez sur les résultats.  Je ne vais pas revenir sur le développement de ce jouet dans un futur proche) <br><br><h3>  7. Histoire de la création </h3><br>  J'étais dans la cour à l'automne 2017.  En tant qu'étudiante de deuxième année, je languissais dans des questions non résolues d'autodétermination.  Autrement dit, ballotté au sujet de l'oisiveté et cherchait quelque chose à faire.  En conséquence, il a décidé de terminer ses anciens projets d'ingénierie au détriment de la visite de l'université. <br><br>  Le temps dans la cour était tout simplement luxueux.  Et quoi de mieux que de s'asseoir sur le toit d'un gratte-ciel par une fraîche nuit d'automne, de boire du thé dans un thermos et de contempler l'agitation de la ville nocturne sous vos pieds? .. <br><br>  Dans l'après-midi, il n'est pas difficile d'accéder à n'importe quel immeuble de grande hauteur - l'ingénierie sociale de la série "Bonjour, une enquête sociale sur la qualité du travail de la société de gestion pour le <i>nom du</i> journal local" fonctionne très bien, et en fait, les locataires ne se soucient pas que quelqu'un entre avec eux dans l'entrée.  La nuit, autre chose.  Et j'ai aimé grimper sur les toits soit au coucher du soleil, soit la nuit ... Un problème a mûri, que j'ai résolu de la manière décrite ci-dessus. <br><br>  Si je me souviens bien, les informations sur ces appareils n'ont pas été trouvées immédiatement.  La recherche de mots-clés «cracker intercom» sur Google n'a presque rien donné.  Adéquat a commencé à être quand je comprenais un peu la technologie RFID, et j'ai commencé à poser des questions plus significatives, telles que "émulateur RFID", "RFID multykey", "RFID spoofer". <br><br>  En conséquence, il s'est avéré trouver deux articles décents en anglais sur le sujet.  Dans l'un, l'auteur a décrit comment, basé sur l'Arduino, une clé était plutôt confuse du point de vue matériel, et dans le second c'était tout de même, mais sans la source, mais avec un matériel très simple.  Ayant raison de penser que puisque les deux circuits sont connectés à l'antenne avec une broche Arduino, j'ai décidé de croiser une solution matérielle simple et open source.  C'était possible, mais pas la première fois). <br><br>  La photo au début de cet article est loin de la première version de l'appareil.  Le premier était sur la planche à pain et fonctionnait via le port COM.  Je me souviens comment les passants m'ont fait comprendre à tous points de vue que <i>j'avais l'air suspect</i> quand je me tenais à la porte d'un immeuble à plusieurs étages avec un ordinateur portable ouvert et que je voyais quelque chose dans l'interphone. <br><br>  Ensuite, il y a eu plusieurs versions plus compactes, que j'ai rassemblées et démontées par souci d'intérêt.  L'avant-dernier a volé l'un des personnages principaux de <a href="https://habr.com/ru/post/483614/">mon précédent article.</a>  La version actuelle a été compilée le 29 janvier de cette année, entre les leçons que j'enseigne dans mon cercle.  Il a été assemblé uniquement dans le but de m'assurer que je n'ai mal informé personne, et le firmware avec le circuit a fonctionné. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485104/">https://habr.com/ru/post/fr485104/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485092/index.html">Validation des données dans les applications iOS</a></li>
<li><a href="../fr485094/index.html">Microservices avec Spring Boot. Partie 3. Création d'un microservice de conversion de devises</a></li>
<li><a href="../fr485098/index.html">La conception peut-elle affecter la vitesse de livraison?</a></li>
<li><a href="../fr485100/index.html">Où aller: les prochains événements gratuits pour les développeurs à Moscou (30 janvier - 15 février)</a></li>
<li><a href="../fr485102/index.html">Topleaked: un outil pour détecter les fuites de mémoire</a></li>
<li><a href="../fr485108/index.html">Statistiques des spécialistes PMI certifiés en Russie au 01/10/2020</a></li>
<li><a href="../fr485110/index.html">Mon expérience du travail à distance efficace</a></li>
<li><a href="../fr485118/index.html">Clean Code par Robert Martin. Abstrait. Comment écrire du code clair et beau?</a></li>
<li><a href="../fr485120/index.html">Ajoutez une API JSON très rapide à notre application.</a></li>
<li><a href="../fr485122/index.html">La rubrique «Lisez des articles pour vous». Octobre - décembre 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>