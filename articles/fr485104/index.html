<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ∞Ô∏è üíÜüèª üîº Cr√©er une cl√© RFID universelle pour les interphones üÖ±Ô∏è üçô üî±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salutations √† tous ceux qui s'int√©ressent au th√®me des cl√©s √©lectroniques de cross-country. En v√©rit√©, je n'ai pas moi-m√™me suivi les nouvelles dans c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cr√©er une cl√© RFID universelle pour les interphones</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485104/">  Salutations √† tous ceux qui s'int√©ressent au th√®me des cl√©s √©lectroniques de cross-country.  En v√©rit√©, je n'ai pas moi-m√™me suivi les nouvelles dans ce domaine depuis longtemps.  Mais je veux publier mon d√©veloppement il y a trois ans, car il est facile √† r√©p√©ter et peut int√©resser quelqu'un.  L'essentiel: au lieu d'une douzaine de cl√©s avec des codes tout-terrain et seulement des codes, toutes les cl√©s peuvent √™tre transport√©es dans un petit appareil. <br><br><img src="https://habrastorage.org/webt/fb/8l/s4/fb8ls4ydh-hfj8zheobot3rzac4.jpeg"><br><a name="habracut"></a><br><blockquote> Avis de non-responsabilit√©: r√©p√©tez - je ne demande pas, pour l'assemblage et l'utilisation - vous √™tes responsable, je partage des informations uniquement √† des fins d'information.  Par exemple, pour aider les entreprises qui fournissent des services de haut-parleurs sur porte √† r√©parer les ¬´trous¬ª √† temps, s'ils sont d√©tect√©s √† l'aide de l'appareil. </blockquote><h3>  1. Qu'est-ce que c'est?  Que pouvez-vous? </h3><br>  L'appareil que j'ai r√©cup√©r√© en 2017 n'est rien d'autre qu'un spoofer pour une cl√© RFID d'interphone fonctionnant √† une fr√©quence de 125 kHz.  Le mot ¬´spoofer¬ª dans ce cas signifie que l'appareil, en fait n'√©tant pas une cl√©, l'emprunte et les interphones r√©pondent en cons√©quence. <br><br>  L'appareil peut transmettre tous les codes cl√©s enregistr√©s dans sa m√©moire.  Certains codes peuvent √™tre trouv√©s sur le Web pour les ¬´cl√©s tout-terrain¬ª, je les ai d'abord ins√©r√©s dans le firmware.  Mais avec une certaine habilet√© et envie, vous pouvez ins√©rer dans le firmware les codes de toutes les cl√©s RFID que vous utilisez (si elles fonctionnent √† une fr√©quence de 125 kHz), et ainsi pouvoir remplacer un tas de porte-cl√©s par un seul appareil. <br><br>  Je sais que dans l'immensit√© du Web, il existe un grand nombre de circuits de tels appareils.  Mon objectif √©tait de cr√©er la version la plus simple de toutes les versions disponibles.  Que cela ait r√©ussi ou non - jugez par vous-m√™me. <br><br><h3>  2. Quelles comp√©tences devez-vous poss√©der pour r√©p√©ter ce projet? </h3><br>  Tout d'abord, les comp√©tences de travail avec Arduino: avoir un environnement de d√©veloppement install√©, pouvoir t√©l√©charger le firmware sur la carte, installer des biblioth√®ques, des pilotes, c'est tout.  Ensuite.  Il y a un endroit dans le projet o√π sans soudure - enfin, rien.  Parce que - vous avez besoin de bras droits et d'un fer √† souder avec des consommables.  Savoir lire les sch√©mas √©lectriques (ou leurs similitudes).  Eh bien, des comp√©tences en programmation en C ++, afin de pouvoir personnaliser l'appareil.  Mais c'est d√©j√† facultatif. <br><br><h3>  3. Quelles pi√®ces sont n√©cessaires et comment les monter? </h3><br><div class="spoiler">  <b class="spoiler_title">Sans plus attendre, voici un sch√©ma de l'appareil:</b> <div class="spoiler_text">  D√©sol√© pour le fait que "pas selon GOST" - je dessine dans drawio, car la seule alternative gratuite et pratique est Visio, et maintenant je n'utilise que des logiciels sous licence.  Mais, je suppose, tout est d√©j√† tr√®s clair. <br></div></div><img src="https://habrastorage.org/webt/kc/yi/aj/kcyiaj5fxxrfkup1gvkcpuydeo4.jpeg"><br><br>  Comme vous pouvez le voir, la nomenclature de la version de base ressemble √† ceci: <br><br><ol><li>  Arduino Nano (ou tout autre Dunya √† port√©e de main); </li><li>  Cl√© RFID EM4100 (au lieu de l'inductance); </li><li>  transistor npn (tout ce qui est trouv√©, les fr√©quences ici ne sont pas tr√®s √©lev√©es); </li><li>  R√©sistance 10K; </li><li>  Condensateur 560 pF (meilleur CMS, vous pouvez souder directement dans le bo√Ætier √† partir de la cl√©); </li><li>  batterie lithium-ion - au go√ªt; </li><li>  trois boutons tactiles; </li><li>  √âcran OLED avec interface I2C; </li><li>  module de charge pour liIon; </li><li>  Convertisseur DC-DC √©l√©vateur avec sortie 5V. </li></ol><br>  Le sch√©ma d'alimentation peut √™tre n'importe lequel, juste pour avoir suffisamment d'Arduino pour d√©marrer.  P√©riph√©riques d'E / S - de m√™me: le firmware peut facilement √™tre adapt√© aux boutons / affichages disponibles (lien vers github - juste en dessous).  La version actuelle du micrologiciel est √©crite pour l'√©cran OLED et les boutons tactiles (tir√©s de consid√©rations de "pas de rebond"). <br><br>  Vous pouvez √©galement collecter un √©chantillon de test sur une planche √† pain sans soudure.  Aucune instruction particuli√®re n'est requise ici, √† l'exception de ce qu'il faut faire avec ¬´inductance¬ª.  √Ä ce sujet - plus en d√©tail. <br><br><img src="https://habrastorage.org/webt/sy/ro/ex/syroexqy--g9u-ahq7pkixsbnbm.jpeg"><br><br>  La cl√©, similaire √† celle de la photo, peut √™tre obtenue aupr√®s de n'importe quel ma√Ætre local ou command√©e sur Ali.  Il y a un couvercle sur le corps de la cl√©, qui doit √™tre soigneusement ouvert lorsque vous atteignez le remplissage: <br><br><img src="https://habrastorage.org/webt/qw/nb/nh/qwnbnhclovyh7kqngg-cndj9tb4.jpeg"><br><br>  Il s'agit d'une bobine et d'une puce m√©moire avec deux pads sur les c√¥t√©s.  Les r√©sultats de la bobine sont soud√©s uniquement √† ces plots.  Tout cela est inond√© d'une fine couche de thermopolym√®re √©lastique (d'aspect et de propri√©t√©s similaires √† l'adh√©sif gel√© B7000).  Pour obtenir une bobine, j'ai fait ce qui suit.  Prenant un couteau de bureau, j'ai press√© doucement un textolite avec une lame entre les coussinets et le microcircuit.  Il a s√©par√© le microcircuit de la bobine et l'a jet√©.  Ensuite, avec un fer √† souder, j'ai doucement (afin de ne pas souder les fils fins de la bobine) br√ªl√© le thermopolym√®re sur les plots, permettant de num√©roter davantage. <br><br><img src="https://habrastorage.org/webt/oj/1o/mb/oj1ombm7birbshlzihfzk2qrfw4.jpeg"><br><br>  Avant de souder, vous devez mesurer la r√©sistance de la bobine, en vous assurant qu'elle n'est pas √† l'air libre.  Si tout est en ordre, alors il vaut mieux assembler comme ceci: soudez d'abord le condensateur SMD aux plots (il devrait bien s'embo√Æter entre eux), puis les jambes du transistor et √† la fin - la r√©sistance √† la base.  Tout cela peut √™tre soigneusement mont√© dans le bo√Ætier de cl√©.  Les fils de la "terre" et la base du transistor sont soud√©s en dernier. <br><br><img src="https://habrastorage.org/webt/bn/uv/5p/bnuv5pbwssqmaoddge7uvgueekk.jpeg"><br><br>  Ensuite, faites un trou dans le couvercle de cl√© pour ces fils et fermez le trousseau, lui donnant une apparence presque originale.  Pour assembler sur une planche √† pain sans soudure, vous devez souder les connecteurs √† broches aux fils (ou tout simplement les d√©chirer afin de pouvoir les ins√©rer facilement dans la planche √† pain). <br><br><h3>  4. Firmware, test et configuration </h3><br>  Comme promis, un <a href="https://github.com/VladimirMozg/RFID_125kHz_spoofer" rel="nofollow">lien vers le r√©f√©rentiel du</a> projet.  Les fichiers du firmware se trouvent dans le dossier My_125_kHz_spoofer_v.03. <br><br>  Apr√®s avoir assembl√© et t√©l√©charg√© le firmware, l'appareil est pr√™t √† l'emploi.  Pour vous assurer que cela fonctionne, il n'est pas du tout n√©cessaire de rechercher un interphone - vous pouvez vous en tirer avec le module chinois de lecture des cl√©s RFID, qui s'appelle le RDM6300 et une autre carte Arduino (bien que ce soit plus facile pour n'importe qui).  J'ai √©galement mis le firmware du module RDM6300, qui affiche le code cl√© traduit dans le m√™me format que celui inclus dans le firmware du spoofer, dans le r√©f√©rentiel du projet.  Sch√©ma de connexion du lecteur - au m√™me endroit. <br><br>  Proc√©dure de test √† l'aide du lecteur RDM6300: <br><br><ol><li>  Assurez-vous que le lecteur fonctionne en maintenant l'une des touches disponibles √† 125 kHz sur l'antenne (les donn√©es seront transmises au port COM); </li><li>  S√©lectionnez le code cl√© d'int√©r√™t dans le menu du spoofer; </li><li>  Apportez l'antenne au lecteur.  Si le lecteur lit la m√™me cl√© que celle sp√©cifi√©e dans le firmware - tout a fonctionn√©!  Sinon - v√©rifiez le sch√©ma, recherchez o√π se trouve l'erreur, √©liminez-la et commencez par le point 1. </li></ol><br><h3>  5. Ce qui peut √™tre chang√© dans le firmware et ce qui est pr√©f√©rable de ne pas toucher </h3><br>  √âtant donn√© que le firmware a √©t√© moul√© sur la base de <a href="https://toschprod.wordpress.com/2013/08/05/rfid-spoofer/" rel="nofollow">ce code, ce qui n'est pas tr√®s clair pour moi,</a> les fonctions vitales qui ne peuvent pas √™tre modifi√©es en ce moment sont compl√®tement, j'ai mis un onglet s√©par√© functions.ino.  Le reste du programme sert uniquement √† fournir √† l'utilisateur une opportunit√© pratique d'appeler la fonction EmulateCard (enfin, et quelques lignes de code avant). <br><br>  Vous pouvez ajouter vos cl√©s au tableau uint64_t universalID [] situ√© sur la ligne 75 du code.  √âtant donn√© que je n'ai pas ¬´d√©fini¬ª le nombre total de cl√©s dans la m√©moire de l'appareil et que certaines fonctions sont li√©es √† cette constante, lors de l'ajout de ma propre cl√©, vous devez √©galement modifier les limites dans lesquelles la variable keyNumber est responsable du choix de la cl√©.  Et bien n'oubliez pas d'ajouter votre cl√© dans le menu.  En g√©n√©ral, tout est humide, mais si vous voulez, je le r√©p√®te, ce n'est pas difficile √† comprendre. <br><br><h3>  6. Ce qui pourrait √™tre am√©lior√© dans l'appareil </h3><br><ol><li>  Ajoutez la prise en charge des cl√©s iButton (au moins la plus courante de Dallas). </li><li>  Ajouter l'√©mulation de touches fonctionnant √† une fr√©quence de 13,5 MHz (si je comprends bien, soit en portant un flan r√©inscriptible et le module RC522, soit techniquement difficile gr√¢ce √† une √©mulation r√©elle). </li><li>  Ajoutez des lecteurs iButton, RDM6300 et RC522 √† l'appareil pour le rendre encore plus universel. </li></ol><br>  Qui r√©ussira - √©crivez sur les r√©sultats.  Je ne vais pas revenir sur le d√©veloppement de ce jouet dans un futur proche) <br><br><h3>  7. Histoire de la cr√©ation </h3><br>  J'√©tais dans la cour √† l'automne 2017.  En tant qu'√©tudiante de deuxi√®me ann√©e, je languissais dans des questions non r√©solues d'autod√©termination.  Autrement dit, ballott√© au sujet de l'oisivet√© et cherchait quelque chose √† faire.  En cons√©quence, il a d√©cid√© de terminer ses anciens projets d'ing√©nierie au d√©triment de la visite de l'universit√©. <br><br>  Le temps dans la cour √©tait tout simplement luxueux.  Et quoi de mieux que de s'asseoir sur le toit d'un gratte-ciel par une fra√Æche nuit d'automne, de boire du th√© dans un thermos et de contempler l'agitation de la ville nocturne sous vos pieds? .. <br><br>  Dans l'apr√®s-midi, il n'est pas difficile d'acc√©der √† n'importe quel immeuble de grande hauteur - l'ing√©nierie sociale de la s√©rie "Bonjour, une enqu√™te sociale sur la qualit√© du travail de la soci√©t√© de gestion pour le <i>nom du</i> journal local" fonctionne tr√®s bien, et en fait, les locataires ne se soucient pas que quelqu'un entre avec eux dans l'entr√©e.  La nuit, autre chose.  Et j'ai aim√© grimper sur les toits soit au coucher du soleil, soit la nuit ... Un probl√®me a m√ªri, que j'ai r√©solu de la mani√®re d√©crite ci-dessus. <br><br>  Si je me souviens bien, les informations sur ces appareils n'ont pas √©t√© trouv√©es imm√©diatement.  La recherche de mots-cl√©s ¬´cracker intercom¬ª sur Google n'a presque rien donn√©.  Ad√©quat a commenc√© √† √™tre quand je comprenais un peu la technologie RFID, et j'ai commenc√© √† poser des questions plus significatives, telles que "√©mulateur RFID", "RFID multykey", "RFID spoofer". <br><br>  En cons√©quence, il s'est av√©r√© trouver deux articles d√©cents en anglais sur le sujet.  Dans l'un, l'auteur a d√©crit comment, bas√© sur l'Arduino, une cl√© √©tait plut√¥t confuse du point de vue mat√©riel, et dans le second c'√©tait tout de m√™me, mais sans la source, mais avec un mat√©riel tr√®s simple.  Ayant raison de penser que puisque les deux circuits sont connect√©s √† l'antenne avec une broche Arduino, j'ai d√©cid√© de croiser une solution mat√©rielle simple et open source.  C'√©tait possible, mais pas la premi√®re fois). <br><br>  La photo au d√©but de cet article est loin de la premi√®re version de l'appareil.  Le premier √©tait sur la planche √† pain et fonctionnait via le port COM.  Je me souviens comment les passants m'ont fait comprendre √† tous points de vue que <i>j'avais l'air suspect</i> quand je me tenais √† la porte d'un immeuble √† plusieurs √©tages avec un ordinateur portable ouvert et que je voyais quelque chose dans l'interphone. <br><br>  Ensuite, il y a eu plusieurs versions plus compactes, que j'ai rassembl√©es et d√©mont√©es par souci d'int√©r√™t.  L'avant-dernier a vol√© l'un des personnages principaux de <a href="https://habr.com/ru/post/483614/">mon pr√©c√©dent article.</a>  La version actuelle a √©t√© compil√©e le 29 janvier de cette ann√©e, entre les le√ßons que j'enseigne dans mon cercle.  Il a √©t√© assembl√© uniquement dans le but de m'assurer que je n'ai mal inform√© personne, et le firmware avec le circuit a fonctionn√©. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485104/">https://habr.com/ru/post/fr485104/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485092/index.html">Validation des donn√©es dans les applications iOS</a></li>
<li><a href="../fr485094/index.html">Microservices avec Spring Boot. Partie 3. Cr√©ation d'un microservice de conversion de devises</a></li>
<li><a href="../fr485098/index.html">La conception peut-elle affecter la vitesse de livraison?</a></li>
<li><a href="../fr485100/index.html">O√π aller: les prochains √©v√©nements gratuits pour les d√©veloppeurs √† Moscou (30 janvier - 15 f√©vrier)</a></li>
<li><a href="../fr485102/index.html">Topleaked: un outil pour d√©tecter les fuites de m√©moire</a></li>
<li><a href="../fr485108/index.html">Statistiques des sp√©cialistes PMI certifi√©s en Russie au 01/10/2020</a></li>
<li><a href="../fr485110/index.html">Mon exp√©rience du travail √† distance efficace</a></li>
<li><a href="../fr485118/index.html">Clean Code par Robert Martin. Abstrait. Comment √©crire du code clair et beau?</a></li>
<li><a href="../fr485120/index.html">Ajoutez une API JSON tr√®s rapide √† notre application.</a></li>
<li><a href="../fr485122/index.html">La rubrique ¬´Lisez des articles pour vous¬ª. Octobre - d√©cembre 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>