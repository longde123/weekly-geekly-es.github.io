<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßì ü§ôüèΩ üß° Environnement moderne pour les applications React Native üì± üîÖ üç£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, nous verrons comment configurer un environnement React Native en utilisant expo-cli , Typescript et Jest . 

 Typo nous aidera √† √©vi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Environnement moderne pour les applications React Native</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466497/">  Dans cet article, nous verrons comment configurer un environnement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">React Native en</a> utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">expo-cli</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Typescript</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jest</a> . <br><br>  <b>Typo</b> nous aidera √† √©viter les erreurs de d√©veloppement et √† √©crire une application mobile plus efficace. <br><br>  Les d√©veloppements modernes permettent d'int√©grer Typescript dans l'environnement de d√©veloppement.  Nous pouvons √©galement utiliser VS Code, qui prend parfaitement en charge Typescript. <br><br>  De plus, l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">int√©gration</a> avec <b>React Native</b> nous donnera l'opportunit√© d'utiliser le service d'auto-compl√©tion, la navigation dans le code et le refactoring. <br><br>  <b>Expo</b> est une suite d'outils qui simplifie la cr√©ation d'applications natives de React.  Dans ce didacticiel, je vais vous montrer comment cr√©er rapidement des applications natives React √† l'aide d'Expo. <br><br><img src="https://habrastorage.org/webt/li/er/ad/lieradalolbqjf1mkogsekiyrrm.png"><br><a name="habracut"></a><br><h2>  Cr√©er un projet </h2><br>  Tout d'abord, installez √† partir de Yarn toutes les d√©pendances n√©cessaires pour cr√©er le mod√®le d'application. <br><br>  <i>fil global add expo-cli</i> <br><br>  Ensuite, nous initialisons l'application React Native et s√©lectionnons le mod√®le Typescript vide. <br><pre><code class="plaintext hljs">~/ expo init exampleApp ? Choose a template: expo-template-blank-typescript Please enter a few initial configuration values. Read more: https://docs.expo.io/versions/latest/workflow/configuration/ ¬∑ 100% completed ? Yarn v1.15.2 found. Use Yarn to install dependencies? Yes</code> </pre> <br>  Nous pouvons maintenant d√©marrer le projet et commencer √† d√©velopper l'application. <br><br>  <i>cd exampleApp</i> <i><br></i>  <i>d√©but de fil</i> <br><br><h2>  Configuration de Tslint </h2><br>  Nous allons configurer tslint pour utiliser correctement VSCode ou un autre √©diteur et voir les erreurs au stade du d√©veloppement.  De cette fa√ßon, nous assurerons un style de code uniforme et √©viterons sa complication. <br><br>  Tout d'abord, nous installons le package tslint dans le r√©pertoire global: <br>  <i>fil global ajouter tslint</i> <br><br>  Ensuite, cr√©ez la configuration tslint: <br>  <i>tslint --init</i> <br><br>  Cette commande cr√©era le fichier tslint.json avec la configuration suivante: <br><pre> <code class="plaintext hljs">{ "extends": ["tslint:recommended"], "jsRules": {}, "rules": {}, "rulesDirectory": [] }</code> </pre> <br>  Ensuite, v√©rifiez simplement les fichiers dactylographi√©s en utilisant notre configuration: <br>  <i>tslint 'src / ** / *. ts'</i> <br><br>  Apr√®s cela, VS Code utilisera automatiquement le fichier de configuration pour valider le code dans l'√©diteur.  Les erreurs de saisie seront affich√©es dans l'√©diteur lors du d√©veloppement de l'application. <br><br>  Aussi, pour plus de commodit√©, ajoutez des commandes pour le fil.  Ils peuvent √™tre utilis√©s pour le d√©veloppement local ou pour la v√©rification au stade de l'int√©gration continue. <br>  "Scripts": { <br>  "Lint": "tslint '* .ts *'" <br>  } <br><br>  Tslint prend √©galement en charge la possibilit√© d'√©tendre les r√®gles de validation en installant des plugins.  √Ä ce stade, nous ajouterons le support eslint pour les r√®gles. <br>  fil ajouter tslint-eslint-rules --dev <br><br>  Pour ajouter un plugin √† la configuration tslint, ajoutez simplement le nom du plugin au champ extend: <br><br><pre> <code class="plaintext hljs">"extends": [ "tslint:recommended", "tslint-eslint-rules" ]</code> </pre> <br><h2>  Tests Jest et Typescript </h2><br>  Jest est un framework pour tester le code Javascript.  Il facilite le test, le support et le d√©veloppement d'une application React Native. <br><br>  Vous devez d'abord installer le framework et ajouter la prise en charge du typage, car la base de code est √©crite avec la prise en charge de la frappe statique. <br><br>  <i>ajout de fil --dev jest ts-jest @ types / jest</i> <i><br></i> <br>  Il vaut √©galement la peine d'installer des packages suppl√©mentaires: <br><ul><li>  <b>ts-jest</b> - traiter et compiler le code de test dactylographi√© en javascript </li><li>  <b>@ types / jest</b> - ajoute des types de l'environnement Jest </li><li>  <b>react-native-testing-library</b> - permet de rendre les composants React sans se lier au DOM </li></ul><br>  Et la derni√®re √©tape consiste √† cr√©er un fichier de configuration pour les tests: <br><br>  <i>config ts-jest: init</i> <i><br></i> <br>  Cette commande va g√©n√©rer un fichier de configuration √† partir du mod√®le.  Nous allons le changer un peu pour l'environnement React Native.  Le fichier ressemblera √† ceci: <br><br><pre> <code class="plaintext hljs">module.exports = { jest: { preset: "react-native", transform: { "^.+\\.js$": "./node_modules/react-native/jest/preprocessor.js", "\\.(ts|tsx)$": "ts-jest" }, globals: { "ts-jest": { tsConfig: "tsconfig.json" } }, moduleFileExtensions: ["ts", "tsx", "js"], testRegex: "(/__tests__/.*|\\.(test|spec))\\.(ts|tsx|js)$" } };</code> </pre><br>  Et enfin, ajoutez la commande pour ex√©cuter les tests dans package.json: <br><br>  <i>Test: test de fil</i> <br><br><h2>  Nous √©crivons des tests pour Jest </h2><br>  Essayons d'√©crire un exemple de tests pour Jest.  Pour ce faire, cr√©ez le fichier App.test.tsx: <br><br><pre> <code class="plaintext hljs">export const helloFn = (name?: String = "World") =&gt; `Hello, ${$name}`; describe("hello function", () =&gt; { it("should return `hello world`", () =&gt; { expect(helloFn()).toEqual(`Hello, World`); }); it("should return `hello name`", () =&gt; { expect(helloFn("Zuck")).toEqual(`Hello, Zuck`); }); });</code> </pre><br>  Pour ex√©cuter les tests, ex√©cutez la commande de fil cr√©√©e pr√©c√©demment: <br><br><pre> <code class="plaintext hljs">yarn test PASS ./App.test.tsx hello function ‚úì should return `hello world` (4ms) ‚úì should return `hello name` (1ms) Test Suites: 1 passed, 1 total Tests: 2 passed, 2 total Snapshots: 0 total Time: 1.316s Ran all test suites. Done in 2.74s.</code> </pre><br>  Tous les tests ont r√©ussi.  Mais pour l'instant, nous ne pouvons pas √©crire de tests pour les composants.  Essayons d'√©tendre notre environnement pour tester les composants React Native. <br>  Nous aurons besoin d'un package suppl√©mentaire - <b>react-test-renderer.</b>  Il fournit un moteur de rendu sp√©cial pour React qui donne une structure Javascript dans sa sortie.  Ainsi, nous n'avons pas besoin de configurer DOM ou de modules natifs dans un environnement de test. <br><br>  <i>ajout de fil -D react-test-renderer</i> <br><br>  Ensuite, mettez √† jour notre fichier App.test.tsx avec un simple test pour le composant App.tsx. <br><br><pre> <code class="plaintext hljs">import React from "react"; import renderer from "react-test-renderer"; import App from "./App"; describe("App", () =&gt; { it("should display welcome message", () =&gt; { const tree = renderer.create(&lt;App /&gt;); expect(tree.toJSON()).toMatchSnapshot(); expect(tree.root.findByType("Text").children).toContain( "Open up App.tsx to start working on your app!" ); }); });</code> </pre><br>  Nous pouvons tester des composants natifs dans un environnement de test.  Dans cet exemple, nous avons obtenu un tableau d'enfants √† partir de la balise Text.  Il s'agit d'un composant natif du package React Native. <br><br><h2>  Conclusion </h2><br>  Cette pile technologique nous a permis de cr√©er rapidement un environnement pour d√©velopper des applications natives.  La logique m√©tier utilisant des types statiques rend l'application plus stable.  Le typage fort de Typescript permet √©galement d'√©viter les erreurs de codage. <br>  Le d√©veloppement des tests dans Jest pour les composants natifs de React est exactement le m√™me que pour une application React standard. <br><br>  J'esp√®re que cet article vous aidera √† surmonter la phase initiale de configuration de l'environnement pour le d√©veloppement d'applications React Native. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466497/">https://habr.com/ru/post/fr466497/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466485/index.html">Voitures √©lectriques des ann√©es 90. Partie 1. Fr√®res Citro√´n et Peugeot</a></li>
<li><a href="../fr466489/index.html">Des ing√©nieurs cor√©ens sugg√®rent d'utiliser Hololens comme alternative aux cloisons de bureau</a></li>
<li><a href="../fr466491/index.html">Projet d'entra√Ænement √† Godot - Pong (Partie 2) Cr√©ation et mise en place du ballon</a></li>
<li><a href="../fr466493/index.html">Docker: Pour commencer. Attention D√©ployer</a></li>
<li><a href="../fr466495/index.html">Comment ne pas se tromper avec la concurrence dans Go</a></li>
<li><a href="../fr466499/index.html">C / C ++ de Python (ctypes)</a></li>
<li><a href="../fr466501/index.html">Actions Github et construction multiplateforme</a></li>
<li><a href="../fr466503/index.html">Slurm DevOps. Deuxi√®me jour. IaC, tests d'infrastructure et ¬´Slurm inspire!¬ª</a></li>
<li><a href="../fr466505/index.html">YIMP - Panneau de configuration pour Yii 2 sur Bootstrap 4</a></li>
<li><a href="../fr466509/index.html">Un regard √† l'int√©rieur: le processus de l'appareil au travail et l'adaptation dans Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>