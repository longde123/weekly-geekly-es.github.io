<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🏭 💣 👋🏿 用于假人的SAPUI5第3部分：完整的分步练习 💧 👋🏿 🔹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="介绍与回顾 


 在上一篇博客文章中 ，我们学习了如何过滤，排序和分组表。 这是每个CRUD应用程序的基本方面，因为大多数时候用户必须处理数百个记录。 
 本练习将涵盖什么 


 通过本系列博客文章的第3部分，我们将学习如何利用SplitApp UI控件创建一个Master-Detail应用程序...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>用于假人的SAPUI5第3部分：完整的分步练习</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437202/"><p><img src="https://habrastorage.org/webt/f_/1e/85/f_1e85uxxgb8ffaoa_8kdmqnce8.png"></p><br><h3 id="introduction--recap"> 介绍与回顾 </h3><br><p> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上一篇博客文章中</a> ，我们学习了如何过滤，排序和分组表。 这是每个CRUD应用程序的基本方面，因为大多数时候用户必须处理数百个记录。 </p><br><h3 id="what-will-be-covered-on-this-exercise"> 本练习将涵盖什么 </h3><br><p> 通过本系列博客文章的第3部分，我们将学习如何利用SplitApp UI控件创建一个Master-Detail应用程序，以及如何正确配置该应用程序的清单以处理路线和目标。 </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SplitApp</a> ：允许您创建主从应用程序的UI控件（用作App控件的替代品） </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">路由</a> ：我们将配置manifest.json以正确处理应用程序的路由 </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ObjectHeader</a> ：允许用户轻松识别特定对象的控件。 对象标题标题是对象的关键标识符，可以使用其他文本和图标进一步将其与其他对象区分开 </li><li> 导航到详细信息视图并绑定元素上下文：您将学习如何导航和打开详细信息页面并将当前（详细信息的）视图绑定到新上下文 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">列表</a> ：在母版页中，我们将使用列表来显示BusinessPartner，因为我们将拥有更少的空间 </li></ul><a name="habracut"></a><br><h3 id="lets-code"> 让我们编码 </h3><br><ul><li> 创建一个App.view.xml，将我们的SplitApp控件放到这里 </li><li> 配置manifest.json文件以使用新的App视图，并创建两条路线（包含目标），这些路线将同时用于主导航和详细导航 </li><li> 创建一个BusinessPartnerList.xml.view并将Home.view.xml内容的所有内容移到此处 </li><li> 删除FilterBar并转换列表中的表。 别着急，到目前为止，您学到的所有内容都将在详细信息页面内使用 </li><li> 当用户单击BusinessPartner项时，将导航添加到详细信息页面 </li><li> 创建一个BusinessPartnerDetail.view.xml页面，以将合作伙伴信息（无法添加到列表项中）显示在与所选合作伙伴关联的ObjectHeader和SaleOrders中（放入表中） </li></ul><br><h3 id="splitapp">  Splitapp </h3><br><p>  SplitApp是需要创建主从应用程序时使用的完美控件。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/e07/0f7/6c6/e070f76c6570e6b3f7d46b85bd8f9b97.png"></p><br><p>  SplitApp将根据用户设备调整其行为。 在台式机和平板电脑上，它将显示两个页面，而如果用户使用智能手机，则每次仅显示一页。 </p><br><h3 id="manifestjson">  manifest.json </h3><br><p> 现在您需要做的就是更新配置文件： </p><br><ul><li>  rootView：我们需要更新viewName以使用刚刚创建的新App.view.xml </li><li> 路由/配置：我们需要使用当前的SplitApp ID更新controlId值 </li><li> 路由：我们需要在“母版和详细信息”页面上添加路由。 对于每条路线，我们还需要创建一个目标视图。 </li></ul><br><p> 这是最终结果的示例 </p><br><p><img src="https://habrastorage.org/webt/yy/pp/uk/yyppuke7zbamebtasjzp8hqqanu.png"></p><br><p> 要了解路由和目标元素的每个配置字段，您应该遵循演练的“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">导航和路由”</a>部分。 </p><br><h3 id="businesspartnerlist"> 业务合作伙伴列表 </h3><br><p> 这将是我们的母版页，其中将在列表中呈现BusinessPartner记录。 在列表上方，您应该始终放置一个SearchField，以便使用显示在StandardListItem中的值来过滤列表。 </p><br><p> 当用户单击其中一项时，将触发导航，并且路由器（框架的一部分）将自动加载清单中定义的路由目标。 对于每个目标，您都指定了一个相关视图，该视图也将由框架加载。 </p><br><p> 这是应该如何处理： </p><br><pre><code class="plaintext hljs">onItemPress: function(oEvent) { var oItem = oEvent.getParameter("listItem"); var sBusinessPartnerID = oItem.getBindingContext().getProperty("BusinessPartnerID"); this.getOwnerComponent().getRouter().navTo("TargetBusinessPartnerDetail", { BusinessPartnerID: sBusinessPartnerID }, !Device.system.phone ); }</code> </pre> <br><p> 从项目绑定上下文中获取BusinessPartnerID（该ID是BusinessPartnerSet的主键，因此将用于访问合作伙伴详细信息很重要）。 </p><br><p> 通过框架路由器的navTo方法导航到我们的详细信息页面，并将BusinessPartnerID作为参数传递（您已经在manifest.json中定义了此路由，还记得吗？） </p><br><h3 id="businesspartnerdetail">  BusinessPartnerDetail </h3><br><p> 我们在业务合作伙伴的详细信息页面上。 当框架加载View和相关Controller时，要做的重要一件事是在加载正确的路由时附加我们的逻辑。 为此，我们需要在BusinessPartnerDetail控制器的onInit代码中实现一些代码，如下所示： </p><br><pre> <code class="plaintext hljs">onInit: function () { var oRouter = sap.ui.core.UIComponent.getRouterFor(this); oRouter.getRoute("TargetBusinessPartnerDetail").attachMatched(this.__onRouteMatched, this); }, __onRouteMatched: function(oEvent) { var that = this; this.getView().bindElement({ path: "/BusinessPartnerSet('" + oEvent.getParameter("arguments").BusinessPartnerID + "')", events : { dataRequested: function () { that.getView().setBusy(true); }, dataReceived: function () { that.getView().setBusy(false); } } }); }</code> </pre> <br><p> 这样做很重要，否则我们将无法访问通过bindElement加载合作伙伴详细信息所需的正确BusinessPartnerID。 </p><br><p>  bindElement允许我们的视图“移动”到新路径“ / BusinessPartnerSet（'12345678'）”的绑定，该路径包含合作伙伴详细信息的相对值。 </p><br><p> 在“详细信息”页面中，我们希望在ObjectHeader中显示合作伙伴的详细信息（我们无法在列表内显示）。 </p><br><p> 在ObjectHeader下面，我们将显示一个表，以显示附加到BusinessPartner的所有SaleOrder（请查看XML清单中的NavigationProperty ToSalesOrder）。 </p><br><p> 对于每个SaleOrder，我们将显示： </p><br><ul><li> 带注释的OrderID（ObjectIdentifier） </li><li>  LifecycleStatusDescription（ObjectStatus，颜色将由格式化程序处理） </li><li>  BillingStatusDescription（ObjectStatus，颜色将由格式化程序处理） </li><li>  DeliveryStatusDescription（ObjectStatus，颜色将由格式化程序处理） </li><li>  GrossAmount（用于正确处理国家/地区货币的ObjectNumber） </li><li>  NetAmount（用于正确处理国家/地区货币的ObjectNumber） </li><li>  TaxAmount（用于正确处理国家/地区货币的ObjectNumber） </li><li>  CreatedAt（格式正确） </li></ul><br><p> 有关表中使用的UI控件的补充说明： </p><br><ul><li>  ObjectIdentifier是一种显示控件，使用户能够轻松识别特定对象。  ObjectIdentifier标题是对象的关键标识符，其他文本和图标可用于进一步将其与其他对象区分开。 </li><li>  ObjectStatus允许您根据状态值（可能为错误，警告，成功或无）为文本着色。 </li><li>  ObjectNumber控件显示对象的数字和数字单位属性。 可以使用语义颜色显示数字，以向用户提供有关对象的其他含义。 组合价格和货币或数字与单位计量单位非常有用 </li></ul><br><h3 id="conclusion-and-whats-next-in-part-4"> 结论以及第4部分的下一步？ </h3><br><p> 如果您想查看最终结果，可以直接转到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHub Project</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">step_3分支</a> 。 </p><br><p> 在下一部分中，我们将向我们的SaleOrder的SaleOrderItem添加第二个向下钻取导航，并添加一个DELETE操作！ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN437202/">https://habr.com/ru/post/zh-CN437202/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN437190/index.html">关于监控</a></li>
<li><a href="../zh-CN437194/index.html">云检查清单，或客户如何评价我们</a></li>
<li><a href="../zh-CN437196/index.html">Global Game Jam 2019（公告）</a></li>
<li><a href="../zh-CN437198/index.html">Global Game Jam 2019（公告）</a></li>
<li><a href="../zh-CN437200/index.html">我们如何测试HTML5中的拖放</a></li>
<li><a href="../zh-CN437204/index.html">Backblaze发布了2018年HDD可靠性统计数据</a></li>
<li><a href="../zh-CN437206/index.html">Yandex开始销售自己的车载计算机</a></li>
<li><a href="../zh-CN437208/index.html">Debian仍然拒绝使用HTTPS</a></li>
<li><a href="../zh-CN437210/index.html">AccelStor-全闪存工作的自己的看法</a></li>
<li><a href="../zh-CN437212/index.html">我们邀请您参加2月12日举行的电子竞技营销培训课程的介绍</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>