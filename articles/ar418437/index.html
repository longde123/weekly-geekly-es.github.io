<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐫 🍹 👨🏻‍🌾 فريق OC للإنقاذ ☠️ 👩🏽‍🌾 🌚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="إذا كنت مميزًا في OpenShift ، فمن غير المرجح أن تكشف هذه المشاركة الكثير لك. ولكن إذا كنت قد بدأت للتو في إتقانها ، فستوفر لك الكثير من الوقت والأعصاب...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>فريق OC للإنقاذ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/418437/" style=";text-align:right;direction:rtl">  إذا كنت مميزًا في OpenShift ، فمن غير المرجح أن تكشف هذه المشاركة الكثير لك.  ولكن إذا كنت قد بدأت للتو في إتقانها ، فستوفر لك الكثير من الوقت والأعصاب.  لقد طلبنا من Jorge Tudela González de Riancho ، وهو مستشار سحابي في مكتب Red Hat الإسباني ، لكتابة بعض الاختراقات في الحياة لمرفق <b>oc</b> . <br><br><img src="https://habrastorage.org/webt/zh/kf/gi/zhkfgilrrxy812dtaohqdmq2yp4.jpeg" width="100%"><br><br>  هذا فريق رائع ، ومدروس جيدًا ، وقوي ، ومرن ، وكما سترى ، يحتوي على العديد من الميزات المخفية التي تستحق المحاولة. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  1. الأهم أولاً: تصحيح الأخطاء </h3><br>  عندما لا أعرف ما يحدث ، أو تظهر لي رسالة خطأ غير مفهومة ، أستخدم دائمًا علامة <b>--loglevell</b> ، والتي تتيح <b>تسجيل الدخول</b> إلى stderr.  بناءً على قيمة هذه العلامة ، يمكنك رؤية مكالمات Curl API Rest أو محتويات استجابات API Rest أو حتى معلومات أكثر تفصيلاً. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/a8/ar/vh/a8arvhttnjslfgroilh4yokkhfy.png"></div><br><br> <code>$ oc --loglevel 7 get pod <br> ... <br> I0216 21:24:12.027793 973 cached_discovery.go:72] returning cached discovery info from /home/jtudelag/.kube/192.168.42.77_8443/v1/serverresources.json <br> I0216 21:24:12.028046 973 round_trippers.go:383] GET https://192.168.42.77:8443/api/v1/namespaces/myproject/pods <br> I0216 21:24:12.028052 973 round_trippers.go:390] Request Headers: <br> I0216 21:24:12.028057 973 round_trippers.go:393] Accept: application/json <br> I0216 21:24:12.028061 973 round_trippers.go:393] User-Agent: oc/v1.7.6+a08f5eeb62 (linux/amd64) kubernetes/c84beff <br> I0216 21:24:12.053230 973 round_trippers.go:408] Response Status: 200 OK in 25 milliseconds <br> I0216 21:24:12.055143 973 cached_discovery.go:119] returning cached discovery info from /home/jtudelag/.kube/192.168.42.77_8443/servergroups.json <br> I0216 21:24:12.055228 973 cached_discovery.go:72] returning cached discovery info from /home/jtudelag/.kube/192.168.42.77_8443/authentication.k8s.io/v1/serverresources.json <br> I0216 21:24:12.055288 973 cached_discovery.go:72] <br> ... <br></code> <br>  على سبيل المثال ، يكون المستوى 9 ملائمًا للغاية عندما تقوم بتصحيح كائن OCP ، لأنه يسمح لك بمشاهدة التصحيح نفسه (محتويات طلب واجهة برمجة التطبيقات). <br><br>  إذا قام التصحيح ، على سبيل المثال ، بتغيير تسمية الخدمة إلى "app: hello-jorge" ، فستبدو كما يلي: <br><br> <code>$ oc --loglevel 9 edit svc hello-openshift <br> ... <br> I0216 21:33:15.786463 1389 request.go:994] Request Body: {"metadata":{"labels":{"app":"hello-jorge"}}} <br> I0216 21:33:15.786590 1389 round_trippers.go:386] curl -k -v -XPATCH -H "Accept: application/json" -H "Content-Type: application/strategic-merge-patch+json" -H "User-Agent: oc/v1.7.6+a08f5eeb62 (linux/amd64) kubernetes/c84beff" https://192.168.42.77:8443/api/v1/namespaces/myproject/services/hello-openshift <br> I0216 21:33:15.797185 1389 round_trippers.go:405] PATCH https://192.168.42.77:8443/api/v1/namespaces/myproject/services/hello-openshift 200 OK in 10 milliseconds <br> ... <br></code> <br>  <b>ملاحظة</b>  في أوقات اليأس ، بدلاً من تسعة ، يمكنك أن تقود عدة في وقت واحد.  لن يتغير إخراج الأمر <b>oc</b> من هذا ، ولكنه قد يشعر بتحسن بالنسبة لك. <br><br> <code>$ oc --loglevel 9999 get pod <br></code> <br><h3 style=";text-align:right;direction:rtl">  2. سو - </h3><br>  نعم ، لقد فهمت بشكل صحيح.  يمكن تشغيل الأمر <b>oc</b> بالنيابة عن مستخدم آخر ، أو باستخدام لغة OCP ، استخدم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">انتحال الهوية</a> .  بالطبع ، مع الحقوق المناسبة.  ولهذا ، يكفي استخدام علامة <b>--as</b> . <br><br>  على سبيل المثال: <br><br> <code>#     jorge <br> $ oc --as=jorge get pods <br></code> <br>  لا يعمل انتحال الهوية للمستخدمين فحسب ، بل أيضًا للمجموعات: <br><br> <code>#     developers <br> $ oc --as-group=developers get pods <br></code> <br>  انتحال الهوية مفيد في مجموعة متنوعة من الحالات.  على سبيل المثال ، عندما تحتاج إلى التحقق مما إذا كان يمكن للمستخدم تنفيذ إجراء واحد أو آخر ، أو معرفة ما <b>يمثله</b> الأمر <b>oc</b> له.  يساعد انتحال الهوية أيضًا كثيرًا في الخلط بين الأدوار والأذونات. <br><br><h3 style=";text-align:right;direction:rtl">  3. Whoami </h3><br>  ربما يكون فريق <b>oc whoami</b> مألوفًا للجميع.  خاصة علامة <b>-t</b> ، والتي تسمح لك بالحصول على رمز الوسائط للمستخدم / الجلسة الحالية.  ولكن ماذا لو كان لديك رمز مميز ولكنك لست مالكه؟ <br><br>  في هذه الحالة ، يمكنك تسجيل الدخول إلى OpenShift باستخدام هذا الرمز المميز ، ثم تشغيل <b>الأمر oc whoami</b> .  على الرغم من ذلك ، انتظر ، يمكنك معرفة اسم المالك على الفور عن طريق تمرير الرمز المميز إلى <b>الأمر who whoami oc</b> كوسيطة ثالثة بدون أي علامات. <br><br>  انظر: <br> <code>#   <br> $ token=$(oc whoami -t) <br> <br> #     <br> $ oc whoami $token <br> jorge <br></code> <br><h3 style=";text-align:right;direction:rtl">  4. تصحيح oc </h3><br>  كما تعلم ، يمكن تشغيل الصدفة في جراب يعمل.  في بعض الأحيان يكون من المفيد عمل نسخة كاملة من تكوين لوحة التشغيل واستكشاف الأخطاء وإصلاحها من خلال الصدفة.  هذه هي الطريقة الافتراضية المسماة. <br><br>  الآن ألق نظرة على ما تسمح لك خيارات <b>تصحيح أخطاء oc</b> القيام به: يمكنك تشغيل الحاوية كجذر أو أي مستخدم آخر ؛  يمكنك تشغيله على العقدة المحددة أو يمكنك تشغيله ليس صدفة ، ولكن أمر آخر. <br><br>  في هذه الحالة ، يجب عليك تحديد العاصمة الصحيحة ، على سبيل المثال: <br> <code>#  shell  pod' dc/jorge <br> $ oc debug dc/jorge <br> <br> #   ,   root <br> $ oc debug --as-root=true dc/jorge <br></code> <br><h3 style=";text-align:right;direction:rtl">  5. شرح oc </h3><br>  تحتوي كائنات OpenShift / Kubernetes في بعض الأحيان على عدد كبير من الحقول.  عند البحث عن أمثلة لتعريفات هذه الكائنات ، غالبًا ما يتعين عليك اللجوء إلى وثائق OCP أو مصادر أساسية أخرى.  ومع ذلك ، يمكنك استخدام الأمر <b>oc شرح</b> كذلك. <br><br>  يعرض هذا الأمر وثائق عن الموارد وحقولها ، وهو أمر مفيد جدًا عند الإعلان عن كائنات OCP جديدة أو في الحالات التي لا يمكنك فيها الوصول إلى وثائق OCP الرسمية. <br><br>  على سبيل المثال ، إليك كيفية الحصول على وثائق pod ووصف حقول التقارب: <br><br><pre style=";text-align:right;direction:rtl"> # الحصول على مساعدة على جراب
 $ oc شرح الجراب
 الوصف:
 Pod هي مجموعة من الحاويات التي يمكن تشغيلها على مضيف.  يتم إنشاء هذا المورد من قبل العملاء وجدولته على المضيفين.

 الحقول:
   بيانات التعريف &lt;كائن&gt;
     بيانات تعريف الكائن القياسي.  مزيد من المعلومات:
     http://releases.k8s.io/HEAD/docs/devel/api-conventions.md#metadata

   المواصفات &lt;الكائن&gt;
     تحديد السلوك المطلوب للجراب.  مزيد من المعلومات:
     http://releases.k8s.io/HEAD/docs/devel/api-conventions.md#spec-and-status

   الحالة &lt;كائن&gt;
     أحدث حالة لوحظ جراب.  قد لا تكون هذه البيانات محدثة.
     يسكنها النظام.  للقراءة فقط.  مزيد من المعلومات:
     http://releases.k8s.io/HEAD/docs/devel/api-conventions.md#spec-and-status

   apiVersion &lt;string&gt;
     يعرّف APIVersion المخطط المُنسَّخ لهذا التمثيل
     الكائن.  يجب على الخوادم تحويل المخططات المعترف بها إلى أحدث الداخلية
     القيمة ، وقد يرفض القيم غير المعترف بها.  مزيد من المعلومات:
     http://releases.k8s.io/HEAD/docs/devel/api-conventions.md#resources

   نوع &lt;سلسلة&gt;
     النوع هو قيمة سلسلة تمثل مورد REST لهذا الكائن
     يمثل.  قد تستنتج الخوادم هذا من نقطة النهاية التي يرسلها العميل
     طلبات.  لا يمكن التحديث.  في CamelCase.  مزيد من المعلومات:
     http://releases.k8s.io/HEAD/docs/devel/api-conventions.md#types-kinds

 # احصل على وصف حقل التقارب
 $ oc شرح pod.spec.affinity
 الموارد: التقارب &lt;الكائن&gt;

 الوصف:
     إذا تم تحديد ذلك ، فإن قيود الجدولة في الجراب

    التقارب عبارة عن مجموعة من قواعد جدولة التقارب.

 الحقول:
   عقدة التقارب &lt;كائن&gt;
     يصف قواعد جدولة تقارب العقدة للجراب.

   podAffinity &lt;كائن&gt;
     يصف قواعد جدولة تقارب الجراب (على سبيل المثال ، يشترك في تحديد موقع هذا الجراب في
     العقدة نفسها ، المنطقة ، إلخ.  مثل بعض الكبسولات الأخرى.

   podAntiAffinity &lt;كائن&gt;
     يصف قواعد الجدولة المضادة للجاذبية (على سبيل المثال ، تجنب وضع هذا الجراب
     في نفس العقدة أو المنطقة ، إلخ.  مثل بعض الكبسولات الأخرى.
</pre><br><h3 style=";text-align:right;direction:rtl">  6. نسيان grep ، awk ، قطع ، إلخ. </h3><br>  ميزة أخرى رائعة لأمر <b>oc</b> هي وظائف تنسيق الإخراج المضمنة.  <b>الجميع</b> يعرف عن <b>خيارات -o json</b> أو <b>-o yaml</b> ، لكن العلم <b>-o</b> له العديد من الخيارات الأخرى. <br><br>  ربما تكون <b>أقوىها</b> هي <b>go-template</b> و <b>jsonpath</b> : <br><br> <code>json|yaml|wide|name|custom-columns=...|custom-columns-file=...|go-template=...|go-template-file=...|jsonpath=...|jsonpath-file=... <br></code> <br>  لنفترض أنك تريد معرفة الخدمة التي يقدمها مسار معين (مسار تسجيل عامل الميناء): <br><br> <code>#  ,  ,       my-docker-registry.example.com <br> $ oc get routes -o=go-template='{{range .items}}{{if eq .spec.host "my-docker-registry.example.com"}}{{.metadata.name}}{{end}}{{end}}' <br> docker-registry <br></code> <br>  أو لنفترض أنك بحاجة إلى معرفة استراتيجية نشر جهاز التوجيه DC: <br><br> <code>#     <br> $ oc get dc router -o=go-template='{{ .spec.strategy.type }}' <br> Rolling <br></code> <br>  كما ترون ، <b>oc</b> هو فريق رائع.  من المؤكد أنه يستحق اللعب به ، لأنه أحد أروع الأشياء في OpenShift. <br><br>  إذا كنت ترغب في معرفة المزيد حول الميزات المثيرة للاهتمام في OpenShift ، فإننا نوصيك بالاطلاع على مدونة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Red Hat Developer</a> - هنا لن تجد فقط مقالات من مطورينا حول أي موضوع تقريبًا ، ولكن أيضًا كتالوج ضخم من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الأدبيات المجانية</a> .  ويمكنك تحديث <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">منشوراتنا حول كيفية نشر Minishift على الكمبيوتر المحمول وبدء العيش</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar418437/">https://habr.com/ru/post/ar418437/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar418423/index.html">المنزل الذكي: بعد جديد للراحة والسعي للتميز. الجزء الأول</a></li>
<li><a href="../ar418427/index.html">فهرسة الجوال أولاً. كيف ولماذا سيتغير الرسم البياني للرابط؟</a></li>
<li><a href="../ar418429/index.html">تجربتي في العمل لدور المدرب الرشيق في أوروبا ، الجزء الثاني</a></li>
<li><a href="../ar418431/index.html">مشاكل وهمية - جذر البرمجيات السيئة</a></li>
<li><a href="../ar418433/index.html">4 أغسطس بيتر. أول دراجة هوائية للمبرمجين</a></li>
<li><a href="../ar418439/index.html">أساسيات تطبيق الويب التقدمية</a></li>
<li><a href="../ar418441/index.html">أساسيات تصعيد امتيازات Windows</a></li>
<li><a href="../ar418443/index.html">GObject: التغليف ، الاستنساخ ، الاستبطان</a></li>
<li><a href="../ar418445/index.html">قنوات Django - الإجابة على شبكة الإنترنت الحديثة</a></li>
<li><a href="../ar418447/index.html">لماذا أصبحت موسكو Python Conf ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>