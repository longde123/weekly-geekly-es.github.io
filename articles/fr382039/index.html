<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖐🏿 👩🏽‍🤝‍👨🏻 🚴🏻 Mise à jour du micrologiciel antivol Starline E90 👩🏿‍💻 🏉 🙅🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il se trouve que toute chose devient plus intéressante pour moi si elle peut être connectée à un ordinateur. Et si des avantages pratiques découlent d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mise à jour du micrologiciel antivol Starline E90</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/382039/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il se trouve que toute chose devient plus intéressante pour moi si elle peut être connectée à un ordinateur. Et si des avantages pratiques découlent d'un tel «quartier», c'est doublement un avantage! Cependant, tout cela est une préface, et l'essentiel est le suivant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a quelque temps, j'ai acheté une alarme Starline E90 pour ma voiture. Presque immédiatement après l'achat, il est devenu clair que ce modèle d'alarme a plusieurs révisions qui diffèrent dans la version du firmware et, probablement, dans le matériel. L'appareil que j'ai acheté est sorti en 2013, respectivement, il n'avait pas le dernier firmware, et quel genre de geek n'aime pas les dernières versions du logiciel! Comme il s'est avéré plus tard, la version du firmware de mon alarme de voiture peut être mise à jour assez facilement. Attention, sous les captures d'écran de chat!</font></font><br>
<br>
<img src="https://habrastorage.org/files/d79/6e2/360/d796e236078d4e46a439a61c8b1ad44e.jpg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En me promenant sur Internet, je suis tombé sur des informations selon lesquelles les revendeurs officiels Starline et les installateurs d'alarmes ont la possibilité de mettre à jour les versions du firmware, et, ce qui est important, cela ne nécessite pas JTAG, comme je le pensais. Pour mettre à jour le logiciel, le fabricant fournit au centre de soins de voiture un programmateur connecté à un ordinateur via une interface USB, et l'alarme de voiture peut être programmée à l'aide de ce programmeur séparément - «sur la table» ou installée dans une voiture, se connectant au programmateur via un câble standard utilisé pour se connecter émetteur-récepteur - un module monté sur le pare-brise pour la communication avec une alarme porte-clés. Et le logiciel pour l'ordinateur (ci-après dénommé le «Flasher») qui met directement à jour le firmware,Disponible en téléchargement sur le site Web du fabricant. Et j'ai décidé "juste en cas d'incendie" de le télécharger.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au début, je supposais que le programmeur utilise du matériel spécial spécialement développé par le fabricant pour exclure les mises à jour de micrologiciel «illégales», très probablement avec une interface comme SPI, avec cryptage, clés d'accès et autres fonctionnalités. </font><font style="vertical-align: inherit;">Mais je n'aurais rien appris de nouveau pour moi si je n'avais pas remarqué lors de l'installation du "flasher" que le package de distribution comprend et le pilote est installé sur ... Le convertisseur USB-UART CP2102 habituel!</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation du pilote</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/91e/579/270/91e579270306490db20810cfdfcb5b43.png"><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attention! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous ne pouvez répéter tout ce qui est décrit ci-dessous qu'à vos propres risques et périls, l'auteur de cet article n'assume aucune responsabilité pour d'éventuels dommages, retrait de garantie, incendie, noyade, inondation et autres catastrophes qui pourraient tomber sur vous et votre voiture après lecture. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depuis un certain temps maintenant, j'avais à portée de main un module bon marché commandé pour DX, assemblé juste sur cette puce. </font><font style="vertical-align: inherit;">Après avoir inséré le sifflet USB dans le port de l'ordinateur et exécuté le programme, j'ai vu sur l'écran de mon moniteur que le clignotant avait trouvé le programmeur:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmeur détecté</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/f65/f71/f9e/f65f71f9e1894c35a0383a30308c5b37.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, il est devenu clair qu'il y a une chance de se connecter aux alarmes de voiture et de voir ce qui se passe. </font><font style="vertical-align: inherit;">À l'aide d'un multimètre, en composant le fil se connectant à la "masse" de la voiture, j'ai défini la position du contact commun (terre) dans la prise de connexion du module radio et, en spécifiant la position des circuits RX et TX avec un oscilloscope, j'ai assemblé le circuit suivant:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schéma initial</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/856/d70/f52/856d70f52f334d4e857052849843ce22.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai connecté le circuit assemblé à un ordinateur, appliqué une tension de 12V de l'alimentation à l'alarme, lancé le clignotant et, à ma joie, rien n'a explosé, mais au contraire, l'alarme a été détectée avec succès:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Appareil détecté en mode configuration</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/4a6/cfd/40a/4a6cfd40a7af4f2a95e70c559f43b719.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais, hélas, il n'a pas été possible de configurer les fonctions d'alarme à l'aide du Flasher - on m'a donné un message indiquant que la version du logiciel flashée dans mon matériel était trop ancienne. </font><font style="vertical-align: inherit;">J'ai essayé de cliquer sur le bouton inactif «Mettre à jour le micrologiciel», mais il y a également eu un échec - il s'est avéré que pour mettre à niveau le micrologiciel, vous devez déplacer un commutateur sur l'adaptateur d'origine. </font><font style="vertical-align: inherit;">Il serait possible de s'y attarder et de programmer les réglages de l'alarme «à l'ancienne» à l'aide d'un porte-clés, mais cela a été long, gênant, et j'ai également été encouragé par le sentiment que la solution était quelque part à proximité, et j'ai décidé d'aller plus loin.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Préparation du programmateur d'origine pour faire clignoter l'alarme</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/9a3/a34/c89/9a3a34c89c62473da6b75cc0f0fcb4a1.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai suggéré que puisque le fabricant n'a pas réinventé la roue et utilisé une solution éprouvée pour communiquer avec l'ordinateur, je n'ai pratiquement pas choisi quelque chose de plus compliqué que de court-circuiter les broches du connecteur pour terre, ou pour la nourriture. </font><font style="vertical-align: inherit;">Et littéralement après quelques tentatives, le schéma de connexion de l'appareil a légèrement changé et le Flasher a signalé la détection d'une alarme en mode de mise à jour logicielle. </font><font style="vertical-align: inherit;">Il s'est avéré que vous n'avez vraiment besoin que de connecter l'une des broches du connecteur au circuit de masse. </font><font style="vertical-align: inherit;">Avant cela, reconnectez l'alimentation de l'alarme et le module USB à l'ordinateur.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schéma de connexion pour le mode de mise à jour du firmware</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/634/47c/67e/63447c67e44b47eeb21b88a1b0d53527.jpg"><br>
<img src="https://habrastorage.org/files/a21/eb8/526/a21eb8526e714b6493259a07e688f27c.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, une question technique - cliquez sur "Mettre à jour le firmware", sélectionnez le fichier du firmware parmi ceux inclus avec le Flasher. </font><font style="vertical-align: inherit;">Dans ce cas, le fichier doit correspondre à la version du logiciel que nous voulons et au type de processeur. </font><font style="vertical-align: inherit;">Quelques dizaines de secondes, et le Flasher a signalé que le firmware était terminé.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Progression du firmware</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/279/ed0/d7c/279ed0d7cc4644f796baf33d3ae17bdc.png"><br>
<img src="https://habrastorage.org/files/b64/5d5/134/b645d51349bf4a01a2fe35a96a86de6e.png"><br>
<img src="https://habrastorage.org/files/5f1/dec/e37/5f1dece376a142eb880b268b6a89ec8e.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir déconnecté le cavalier «firmware» au sol, j'ai rebranché l'alimentation de l'alarme et le module USB. </font><font style="vertical-align: inherit;">Le clignotant a détecté avec succès une alarme avec un nouveau firmware, et après avoir cliqué sur le bouton "Paramètres", j'ai eu accès au menu des paramètres, ce qui était nécessaire!</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nouveau firmware et menu de paramètres</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/b30/7c6/62e/b307c662e29a4ccebbb5486e08157f87.png"><br>
<img src="https://habrastorage.org/files/779/ff6/547/779ff65478c74341ab9108198dcb65eb.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semblerait que pour d'autres modèles du système antivol de la marque Starline, il sera possible d'essayer d'appliquer la solution que j'ai trouvée, à condition que la version initiale du firmware ait un bootloader. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci au fabricant de ne pas être devenu trop sophistiqué et d'avoir laissé une échappatoire ouverte aux utilisateurs ordinaires. Tous les centres de service ne s'engageront pas à reflasher l'alarme, et en effet cette procédure ne sera probablement pas gratuite. J'ai donc réussi à gagner un peu de temps, d'argent, tout en ayant de l'expérience et de la bonne humeur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci pour l'attention!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MISE À JOUR: à en juger par les informations du site Web du fabricant, les modèles d'alarme suivants doivent être flashés en utilisant une méthode similaire: StarLine i95, StarLine i95 Lux et systèmes StarLine de 4e génération. </font><font style="vertical-align: inherit;">Et à en juger par les fichiers de firmware installés avec le Flasher, la liste est mise à jour pour les modèles suivants: D94 / 64, B94 / 64, A94 / 64, A93 / 63, E91 / 61, E90 / 60, T94, i95 LUX, i95, i95 ECO, AX3.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr382039/">https://habr.com/ru/post/fr382039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr382027/index.html">Plus d'un million de minutes de vidéos historiques associées à la presse associée apparaissent sur YouTube</a></li>
<li><a href="../fr382029/index.html">Vengeance d'une voiture électrique: le début du 21e siècle</a></li>
<li><a href="../fr382033/index.html">Компания Dell объявила о готовности серийного выпуска самых современных SSD накопителей, что за этим скрывается?</a></li>
<li><a href="../fr382035/index.html">La Cour européenne a décidé de ne pas imposer de transactions de TVA sur les bitcoins</a></li>
<li><a href="../fr382037/index.html">STAR WARS Knights of the Old Republic II 10 ans plus tard sur Linux et OS X</a></li>
<li><a href="../fr382041/index.html">Son # 26 - Podcast sur l'audio et l'écosystème sonore</a></li>
<li><a href="../fr382045/index.html">GTX 980Ti - Titan Killer</a></li>
<li><a href="../fr382047/index.html">Visite des toilettes de l'ISS [Voice Over Vert Dider]</a></li>
<li><a href="../fr382049/index.html">Comment explorer les planètes à l'aide de la lumière</a></li>
<li><a href="../fr382051/index.html">Pourquoi déclarer le colis pochta.fi aux douanes finlandaises?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>