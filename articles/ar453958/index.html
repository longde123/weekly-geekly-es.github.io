<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😯 ☣️ 🏴‍☠️ المستودعات الاحتكارية: من فضلك 🔐 🥢 ⚽️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="تم إعداد ترجمة لهذه المادة لطلاب دورة ممارسات وأدوات DevOps في مشروع OTUS التعليمي. 



 يجب عليك اختيار مستودع أحادي ، لأن السلوك الذي يروج له في فرق...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>المستودعات الاحتكارية: من فضلك</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/453958/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zb/qs/gu/zbqsgutqkd38ocudlbvzx5zeldc.png" alt="صورة"></p><br><p style=";text-align:right;direction:rtl">  <em>تم إعداد ترجمة لهذه المادة لطلاب <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">دورة ممارسات وأدوات DevOps في</a> مشروع <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">OTUS</a> التعليمي.</em> </p><br><hr><br><p style=";text-align:right;direction:rtl">  يجب عليك اختيار مستودع أحادي ، لأن السلوك الذي يروج له في فرقك هو الشفافية والمسؤولية الجماعية ، لا سيما عندما تنمو الفرق.  في أي حال ، سيكون عليك الاستثمار في الأدوات ، ولكن من الأفضل دائمًا أن يكون السلوك الافتراضي هو السلوك الذي تريد رؤيته في الأوامر الخاصة بك. <a name="habracut"></a></p><br><h1 id="pochemu-my-govorim-ob-etom" style=";text-align:right;direction:rtl">  لماذا نتحدث عن هذا؟ </h1><br><p style=";text-align:right;direction:rtl">  كتب مات كلاين مقالاً ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"Monorepos: من فضلك لا تفعل!"</a>  (تعليق المترجم: الترجمة على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">محور "المستودعات الإحيائية: من فضلك لا"</a> ).  أحب مات ، أعتقد أنه ذكي جدًا ، ويجب عليك قراءة وجهة نظره.  قام في الأصل بتغريد الاستطلاع: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/x2/pl/sm/x2plsmnmw3xzn-hoeo7ksirx1rm.png" alt="صورة"></p><br><p style=";text-align:right;direction:rtl">  <em>الترجمة:</em> <br>  <em>في يوم رأس السنة الجديدة ، سوف أجادل حول مدى سخافة المستودعات الاحتكارية.</em>  <em>2019 بدأ دون أن يلاحظها أحد.</em>  <em>بروح هذا ، أنا أقدم لكم مسحًا.</em>  <em>من هم المتعصبين الكبار؟</em>  <em>أنصار:</em> <br>  - <em>Monorepository</em> <br>  - <em>الصدأ</em> <br>  - <em>مسح خاطئ / كل من هؤلاء وتلك</em> </p><br><p style=";text-align:right;direction:rtl">  كان جوابي: "أنا حرفيًا كل من هؤلاء الأشخاص."  بدلاً من التحدث عن أي نوع من أنواع أدوية Rust ، دعونا نتعرف على سبب اعتقادي أنه مخطئ في المستودعات الأحادية.  قليلا عن نفسك.  أنا مدير قسم البرامج في الشيف.  لدينا حوالي 100 مهندس ، قاعدة كود من حوالي 11-12 سنة ، و 4 منتجات رئيسية.  جزء من هذا الكود موجود في مستودع البيانات (موضع البدء) ، وجزء في مستودع التخزين (موضع عملي الحالي). </p><br><p style=";text-align:right;direction:rtl">  قبل البدء: سيتم تطبيق كل وسيطة أقتبسها هنا على كلا النوعين من المستودعات.  في رأيي ، لا توجد أي أسباب فنية تجعلك تختار نوعًا أو آخر من المستودعات.  يمكنك جعل أي نهج العمل.  أنا سعيد بالتحدث عن هذا ، لكنني لست مهتمًا بالأسباب التقنية المصطنعة التي تجعل المرء متفوقًا على الآخر. </p><br><p style=";text-align:right;direction:rtl">  وأنا أتفق مع الجزء الأول من وجهة نظر مات: </p><br><p style=";text-align:right;direction:rtl">  <em>لأنه على نطاق واسع ، سوف يحل المخزون الموحل جميع المشاكل نفسها التي يحلها المستودع ، ولكن في الوقت نفسه يستفزك إلى تماسك قوي للرمز الخاص بك ويتطلب بذل جهود لا تصدق لزيادة قابلية تطوير نظام التحكم في الإصدار الخاص بك.</em> </p><br><p style=";text-align:right;direction:rtl">  يجب عليك حل نفس المشكلات ، بغض النظر عما إذا كنت تختار مستودعًا أو مستودعًا متعددًا أم لا.  كيف يمكنك الافراج عن الإصدارات؟  ما هو نهجك للتحديثات؟  متوافق مع الوراء؟  التبعيات عبر المشروع؟  ما الأساليب المعمارية مقبولة؟  كيف تدير البنية الأساسية للبناء والاختبار؟  القائمة لا حصر لها.  وسوف تحل كل منهم كلما كبرت.  لا يوجد جبن مجاني. </p><br><p style=";text-align:right;direction:rtl">  أعتقد أن حجة مات تشبه الآراء التي يشاركها العديد من المهندسين (والمديرين) والتي أحترمها.  يحدث هذا من وجهة نظر المهندس الذي يعمل على المكون ، أو من الفريق الذي يعمل على المكون.  تسمع أشياء مثل: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  قاعدة الشفرة مرهقة - لا أحتاج إلى كل هذه المهملات. </li><li style=";text-align:right;direction:rtl"> هذا أصعب للاختبار لأنني يجب أن أتحقق من كل هذا غير المرغوب فيه الذي لا أحتاج إليه. </li><li style=";text-align:right;direction:rtl">  من الأصعب العمل مع التبعيات الخارجية. </li><li style=";text-align:right;direction:rtl">  أحتاج إلى أنظمة التحكم في الإصدار الظاهري الخاصة بي. </li></ul><br><p style=";text-align:right;direction:rtl">  بالطبع ، كل هذه النقاط معقولة.  يحدث هذا في كلتا الحالتين - في مستودع البيانات لديّ أمتعتي الخاصة ، إلى جانب العنصر المطلوب للتجميع ... قد أحتاج إلى أشياء أخرى أيضًا.  لذلك ، "أنا فقط" أقوم بإنشاء أدوات تحقق من المشروع بأكمله.  أو أنا أقوم بإنشاء مستودع أحادي وهمية مع وحدات فرعية.  يمكننا المشي طوال اليوم حول هذا.  لكنني أعتقد أن حجة مات تفتقد السبب الرئيسي ، والذي تحولت إلى حد كبير لصالح المونوريبوزيتوري: </p><br><h1 id="on-provociruet-obschenie-i-pokazyvaet-problemy" style=";text-align:right;direction:rtl">  إنه يثير التواصل ويظهر المشاكل. </h1><br><p style=";text-align:right;direction:rtl">  عندما نتشارك في المستودعات ، فإننا نضع في الواقع مشكلة تنسيق وشفافية.  هذا يتوافق مع طريقة تفكيرنا في الفرق (خاصة الطريقة التي يفكر بها المشاركون الأفراد): نحن مسؤولون عن مكون معين.  نحن نعمل في عزلة نسبية.  تم تثبيت الحدود على فريقي والمكون (المكونات) الذي نعمل عليه. </p><br><p style=";text-align:right;direction:rtl">  مع تعقيد الهندسة المعمارية ، لم يعد بإمكان فريق واحد إدارته بمفرده.  عدد قليل جدا من المهندسين يحتفظون بالنظام بأكمله.  لنفترض أنك تتحكم في مكون شائع A ، والذي تستخدمه الأوامر B و C و D. يعيد تكوين فريق A ، ويحسن واجهة برمجة التطبيقات ، ويغير أيضًا التنفيذ الداخلي.  نتيجة لذلك ، التغييرات إلى الوراء غير متوافقة.  ما النصيحة التي تقدمها؟ </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ابحث عن جميع الأماكن التي يتم فيها استخدام واجهة برمجة التطبيقات القديمة. </li><li style=";text-align:right;direction:rtl">  هل هناك أماكن لا يمكن فيها استخدام واجهة برمجة التطبيقات الجديدة؟ </li><li style=";text-align:right;direction:rtl">  هل يمكنك إصلاح واختبار المكونات الأخرى للتأكد من أنها لا تنكسر؟ </li><li style=";text-align:right;direction:rtl">  هل تستطيع هذه الفرق التحقق من تغييراتك الآن؟ </li></ul><br><p style=";text-align:right;direction:rtl">  يرجى ملاحظة أن هذه الأسئلة مستقلة عن نوع المستودع.  ستحتاج إلى إيجاد فرق B و C و D. ستحتاج إلى التحدث معهم ومعرفة الوقت وفهم أولوياتهم.  على الأقل نأمل أن تفعل ذلك. </p><br><p style=";text-align:right;direction:rtl">  لا أحد يريد فعل ذلك.  هذا أقل متعة بكثير من مجرد إصلاح API لعنة.  كل هذا إنسان ومربك.  في المستودع ، يمكنك ببساطة إجراء تغييرات ، وتقديم مراجعة لأولئك الذين يعملون على هذا المكون (ربما لا يكون B أو C أو D) ، والمضي قدمًا.  يمكن للفرق B و C و D البقاء ببساطة على نسختها الحالية.  سيتم تحديثها عندما يدركون عبقريتك! </p><br><p style=";text-align:right;direction:rtl">  في مستودع واحد ، يتم نقل المسؤولية بشكل افتراضي.  يغير الفريق "أ" المكون الخاص به ، وإذا لم يكن دقيقًا ، فإنه يكسر على الفور B و C و D. هذا يؤدي إلى ظهور B و C و D في الباب A ، ويتساءل لماذا كسر الفريق A التجميع.  هذا يعلم أ أنه لا يمكنهم تخطي قائمتي أعلاه.  يجب أن يتحدثوا عما سيفعلونه.  هل يمكن لـ B و C و D التحرك؟  ماذا لو كان بإمكان B و C ، لكن D كان وثيق الصلة بالتأثير الجانبي للخوارزمية القديمة؟ </p><br><p style=";text-align:right;direction:rtl">  ثم نحتاج إلى التحدث عن كيفية الخروج من هذا الموقف: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  دعم واجهات برمجة التطبيقات الداخلية متعددة ، في حين سيتم وضع علامة الخوارزمية القديمة عفا عليها الزمن حتى D يمكن التوقف عن استخدامه. </li><li style=";text-align:right;direction:rtl">  دعم إصدارات متعددة من الإصدارات ، واحد مع الواجهة القديمة ، واحد مع الجديد. </li><li style=";text-align:right;direction:rtl">  تأخر إصدار التغييرات على A حتى يقبلها B و C و D. </li></ol><br><p style=";text-align:right;direction:rtl">  لنفترض أننا حددنا 1 ، عدة واجهات برمجة التطبيقات.  في هذه الحالة ، لدينا قطعتين من التعليمات البرمجية.  القديم والجديد.  مفيد جدا في بعض الحالات.  نرجع الرمز القديم إلى الوراء ونضع علامة عليه على أنه متقادم ونتفق على جدول زمني لإزالته باستخدام الأمر D ، وهو مطابق تمامًا لـ poly وللمتحف. </p><br><p style=";text-align:right;direction:rtl">  لإطلاق العديد من الإصدارات ، نحن بحاجة إلى فرع.  الآن لدينا مكونان - A1 و A2.  يستخدم الفريقان B و C A2 ، ويستخدم D A1.  نحتاج إلى أن يكون كل مكون جاهزًا للإصدار ، لأنه قبل التمكن من المضي قدمًا ، قد تكون هناك حاجة إلى تحديثات الأمان وإصلاحات الأخطاء الأخرى.  في المستودع ، يمكننا إخفاؤه في فرع طويل العمر يشعر بأنه جيد.  في المستودع الأحادي ، نفرض الشفرة في الوحدة النمطية الجديدة.  سيظل على الفريق D إجراء تغييرات على المكون "القديم".  يمكن للجميع رؤية التكلفة التي ندفعها هنا - لدينا الآن ضعف هذا الرمز ، وأي إصلاحات الأخطاء التي تنطبق على A1 و A2 يجب تطبيقها على كل منهما.  مع اقتراب استخدام الفروع في المستودع ، يتم إخفاء ذلك خلف الكرز.  نحن نعتبر التكلفة أقل لأنه لا يوجد تكرار.  من الناحية العملية ، تكون التكلفة هي نفسها: ستنشئ وتحرر وتحافظ على قاعدتي كود متطابقتين أساسًا حتى يمكنك حذف أحدهما.  الفرق هو أنه في المستودع ، يكون هذا الألم مباشرًا وهو مرئي.  <strong>هذا هو أسوأ وجيدة.</strong> </p><br><p style=";text-align:right;direction:rtl">  أخيرًا ، وصلنا إلى النقطة الثالثة.  الافراج عن تأخير.  من المحتمل أن تؤدي التغييرات التي أجراها A إلى تحسين حياة الفريق A. إنها مهمة ، ولكنها ليست ملحة.  هل يمكننا فقط الصمود؟  في المستودع ، نحن ندفع هذا لتعزيز قطعة أثرية.  بالطبع ، نحن نتحدث عن هذا الفريق D. فما عليك سوى البقاء على الإصدار القديم حتى تلحق بك!  هذا يضع لعبة الجبان.  يواصل الفريق "أ" العمل على مكونه ، متجاهلاً حقيقة أن "الفريق د" يستخدم إصدارًا قديمًا بشكل متزايد (هذه مشكلة للفريق "د" ، فهي غبية).  في هذه الأثناء ، يتحدث الفريق D بشكل سيء عن موقف الفريق A المهمل تجاه استقرار الشفرة ، إذا تحدثوا عن ذلك على الإطلاق.  أشهر تمر.  أخيرًا ، يقرر فريق D إلقاء نظرة على خيار الترقية ، ولكن لا يوجد سوى المزيد من التغييرات على A.  بالكاد يتذكر الفريق "أ" متى وكيف كسروا "دال". التحديث أكثر إيلامًا وسيستغرق وقتًا أطول.  الذي يرسلها إلى أسفل مزيد من المكدس الأولوية.  حتى ذلك اليوم ، حتى نواجه مشكلة أمنية في A ، مما يجبرنا على إنشاء فرع.  يجب على الفريق "أ" العودة في الوقت المناسب ، والعثور على اللحظة التي كان فيها D مستقرًا ، وحل المشكلة هناك وجعلها جاهزة للإصدار.  <strong>هذا هو الخيار الفعلي الذي يتخذه الناس ، وهو الأسوأ إلى حد بعيد.</strong>  يبدو أن هذا أمر جيد لكل من الفريقين A و D ، طالما أننا يمكن أن نتجاهل بعضنا البعض. </p><br><p style=";text-align:right;direction:rtl">  في monorepository ، والثالث هو في الحقيقة ليس خيارا.  أنت مجبر على التعامل مع الموقف بإحدى طريقتين.  تحتاج إلى معرفة تكاليف وجود فرعين الإصدار.  تعرف على كيفية حماية نفسك من التحديثات التي تعطل التوافق مع الإصدارات السابقة.  لكن الشيء الرئيسي: <em>لا يمكنك تجنب محادثة صعبة.</em> </p><br><p style=";text-align:right;direction:rtl">  في تجربتي ، عندما تصبح الفرق كبيرة ، لم يعد بالإمكان وضع النظام بأكمله في الاعتبار ، وهذا هو الجزء الأكثر أهمية.  تحتاج إلى تحسين وضوح الخلافات في النظام.  يجب أن تعمل بنشاط لجعل الفرق تغض النظر عن مكوناتها وتلقي نظرة على عمل الفرق والمستهلكين الآخرين. </p><br><p style=";text-align:right;direction:rtl">  نعم ، يمكنك إنشاء أدوات ستحاول حل مشكلة المستودعات المتعددة.  لكن تجربتي في تدريس التوصيل المستمر والأتمتة في الشركات الكبيرة تخبرني بما يلي: السلوك الافتراضي دون استخدام أدوات إضافية هو السلوك الذي تتوقع رؤيته.  <strong>السلوك الافتراضي للمستودع هو العزلة ، هذه هي بيت القصيد.</strong>  <strong>السلوك الافتراضي لمستودع أحادي هو المسؤولية والشفافية المشتركة ، وهذه هي النقطة الأساسية.</strong>  في كلتا الحالتين ، سأقوم بإنشاء أداة من شأنها تخفيف الزوايا الحادة.  كقائد ، سأختار مستودعًا أحاديًا في كل مرة ، لأن الأدوات يجب أن تعزز الثقافة التي أريدها ، والثقافة تأتي من قرارات صغيرة والعمل اليومي للفريق. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar453958/">https://habr.com/ru/post/ar453958/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar453942/index.html">حول الأخلاقيات مع مثال PMI Codex</a></li>
<li><a href="../ar453944/index.html">البق ملثمين في embedd</a></li>
<li><a href="../ar453950/index.html">من المفترض أن تكون هنا! 22 عامًا من إطلاق اللعبة الأسطورية Duke Nukem 3D</a></li>
<li><a href="../ar453952/index.html">"نضج الطلب": أليكسي فيدوروف حول مؤتمر جديد حول الأنظمة الموزعة</a></li>
<li><a href="../ar453956/index.html">متحف DataArt. محطة الفيديو ADM-3A. السيارة ثقيلة وموثوقة وذبح</a></li>
<li><a href="../ar453960/index.html">Global DevOps Bootcamp 2019 في موسكو</a></li>
<li><a href="../ar453962/index.html">RxSwift و Coroutines في Kotlin - تطوير اختياري للهاتف المحمول من AGIMA و GeekBrains</a></li>
<li><a href="../ar453964/index.html">OOP في اللغة R (الجزء 1): فصول S3</a></li>
<li><a href="../ar453968/index.html">تخلص من ممارسات مراجعة الكود السامة</a></li>
<li><a href="../ar453970/index.html">نكتب عكس socks5 الوكيل على بوويرشيل</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>