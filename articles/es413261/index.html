<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§™ üë®üèº‚Äçüíº üë± Como funciona la b√∫squeda üìÄ üìµ üéñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola nombre de usuario Todos los d√≠as nos enfrentamos a la b√∫squeda de varios datos. Casi todos los sitios web con mucha informaci√≥n ahora tienen una ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como funciona la b√∫squeda</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hh/blog/413261/">  Hola nombre de usuario  Todos los d√≠as nos enfrentamos a la b√∫squeda de varios datos.  Casi todos los sitios web con mucha informaci√≥n ahora tienen una b√∫squeda.  La b√∫squeda se realiza en computadoras dom√©sticas, en tel√©fonos m√≥viles, en varios tipos de software.  Por supuesto, si le preguntas a cualquier desarrollador acerca de la b√∫squeda en t√©rminos de tecnolog√≠a, inmediatamente se te ocurrir√° buscar el√°stico, lucene o sphinx.  Hoy quiero mirar con usted "bajo el cap√≥" de una b√∫squeda de texto completo y descubrir una primera aproximaci√≥n de c√≥mo funciona, utilizando el ejemplo de hh.ru. <br><br><img src="https://habrastorage.org/webt/pn/cf/l7/pncfl7qsqbg5otgxyayrynymija.png" alt="imagen"><br><a name="habracut"></a><br>  <i>Descargo de responsabilidad: este art√≠culo no es el √∫nico punto de vista verdadero y sirve solo como un punto de introducci√≥n para una familiarizaci√≥n inicial con el trabajo de b√∫squeda de texto y algunas opciones para implementar sus partes individuales.</i> <br><br>  Si observa los detalles de la b√∫squeda, adem√°s de la parte obvia en forma de una cadena de b√∫squeda, puede ver mucho m√°s: <br><br><ul><li>  pista (ella sugiere) </li><li>  contador de resultados de b√∫squeda (contador), </li><li>  varios tipos de clasificaci√≥n (clasificaci√≥n), </li><li>  facetas: caracter√≠sticas agrupadas de documentos, por ejemplo, el metro en el que se encuentra una vacante, que tambi√©n realiza la funci√≥n de filtros (filtros), </li><li>  sin√≥nimos </li><li>  paginaci√≥n </li><li> fragmento (fragmento): una peque√±a descripci√≥n del documento en la emisi√≥n, </li><li>  etc. </li></ul><br><img src="https://habrastorage.org/webt/bl/hy/so/blhyso9n80pgxke6lh-rggoft74.jpeg" alt="imagen"><br><br>  Y todo esto tiene un prop√≥sito: satisfacer la necesidad del usuario de encontrar la informaci√≥n correcta de la manera m√°s r√°pida y relevante posible.  Por ejemplo, el filtrado es importante para limitar los resultados de b√∫squeda, en nuestro caso puede ser un filtro por la experiencia, ubicaci√≥n o empleo del candidato.  Las facetas son √∫tiles para mostrar cu√°ntas vacantes hay en cada rango de salario.  Tambi√©n es importante complementar las consultas y documentos con sin√≥nimos para que, a pedido del "desarrollador de Java", puedan encontrar documentos de "desarrollador de Java". <br><br>  Adem√°s de la b√∫squeda en s√≠, siempre hay una gran cantidad de componentes que facilitan la vida del usuario: un tutor responsable de corregir los errores o una respuesta m√°s segura que genera consultas m√°s adecuadas cuando interact√∫a con la barra de b√∫squeda.  En algunos casos, es importante poder reformular la solicitud.  Por ejemplo, mueva una parte de la solicitud a los filtros: desde la solicitud "Programador de Mosc√∫", Mosc√∫ se puede sacar al filtro por ciudad. <br><br><h3>  1. B√°sico </h3><br>  Ahora al grano.  La b√∫squeda en s√≠ se divide en dos grandes etapas: <br><br><ul><li>  indexaci√≥n (procesamiento de documentos y disposici√≥n de acuerdo con estructuras de √≠ndice especiales, para que pueda realizar r√°pidamente la b√∫squeda en s√≠), </li><li>  b√∫squeda (aplicaci√≥n de filtros, b√∫squeda booleana, clasificaci√≥n, etc.). </li></ul><br><h3>  1.1.  Indexaci√≥n </h3><br>  Una ligera digresi√≥n l√≠rica.  Adem√°s, presentar√© el concepto de t√©rmino, ya que es habitual llamar a la unidad m√≠nima de indexaci√≥n y consulta.  Esta es la unidad que se almacenar√° en el diccionario √≠ndice.  Puede ser una palabra reducida a su forma normal de palabra o base, n√∫mero, correo electr√≥nico, letra n-gramas u otra cosa.  Normalmente, un t√©rmino incluye un campo en el que se indexa o en el que se realiza una b√∫squeda. <br><br>  Primero, debe convertir los documentos de entrada en un conjunto de t√©rminos y filtrar palabras de detenci√≥n.  Pueden ser como palabras frecuentes: preposiciones, conjunciones, interjecciones y otras cosas, por ejemplo, caracteres especiales que no queremos buscar.  Para que la b√∫squeda funcione con diferentes formas de palabras, durante el proceso de indexaci√≥n usualmente traemos todas las palabras a un estado b√°sico.  Por lo general, se utiliza uno de los dos procedimientos: derivaci√≥n: el proceso de aislar la base de una palabra (desarrollo-&gt; desarrollo) o lematizaci√≥n: el proceso de llevar una palabra a su forma normal (habilidades-&gt; habilidad). <br><br><h3>  1.2 Estructuras de √≠ndice </h3><br>  La forma m√°s popular de representar un √≠ndice es un √≠ndice invertido.  De hecho, este es un tipo de tabla hash, donde la clave es un t√©rmino, y el valor es una lista de documentos (generalmente una lista de identificaci√≥n de documento llamada lista de publicaciones) en la que este t√©rmino est√° presente.  Por lo general, un √≠ndice invertido consta de dos partes: un diccionario (diccionario de t√©rminos) y listas de documentos para cada t√©rmino (lista de publicaciones): <br><br><img src="https://habrastorage.org/webt/k1/zf/te/k1zftetx905m-wguaytcovdbx-i.png" alt="imagen"><br><br>  Adem√°s, el √≠ndice puede contener informaci√≥n sobre las posiciones de los t√©rminos en el documento (√≠ndice de posici√≥n), que ser√° √∫til al buscar t√©rminos a una cierta distancia, en particular con consultas de frases, sobre la frecuencia de los t√©rminos, lo que ayudar√° a clasificar y construir un plan de consulta.  Pero m√°s sobre eso a continuaci√≥n. <br><br><h3>  1.2.1 Diccionario de t√©rminos </h3><br>  El diccionario almacena todos los t√©rminos que existen en el √≠ndice y est√° dise√±ado para encontrar r√°pidamente enlaces a una lista de documentos.  Hay varias opciones para almacenar un diccionario: <br><br><ul><li>  Una tabla hash, donde el t√©rmino es la clave, y el valor es un enlace a una lista de documentos de este t√©rmino. </li><li>  Una lista ordenada por la cual puede buscar por b√∫squeda binaria. </li><li>  √Årbol de prefijo (trie). </li></ul><br>  La forma m√°s √≥ptima es la √∫ltima opci√≥n, porque  Tiene varias ventajas.  En primer lugar, en una gran cantidad de t√©rminos, el √°rbol de prefijos ocupar√° mucha menos memoria, porque las partes repetidas de los prefijos se almacenar√°n solo una vez.  En segundo lugar, inmediatamente tenemos la oportunidad de hacer solicitudes de prefijo.  Y en tercer lugar, dicho √°rbol puede comprimirse combinando partes no ramificadas. <br><br><img src="https://habrastorage.org/webt/lx/zn/1z/lxzn1zanyrwmc_cxbwvl6qv3bie.png" alt="imagen"><br><br>  Por supuesto, un √°rbol de prefijos puede no ser la √∫nica estructura para almacenar t√©rminos en un √≠ndice.  Por ejemplo, un √°rbol de sufijos tambi√©n puede estar cerca, lo que a su vez ser√° m√°s √≥ptimo para consultas con comodines (consultas de la forma po * sql). <br><br><h3>  1.2.2 Lista de publicaciones </h3><br>  La lista de documentos es una lista ordenada de identificadores de documentos, que permite realizar algunas optimizaciones con ella.  Por lo general, almacena en s√≠ mismo no solo una lista de documentos en los que aparece el t√©rmino, sino tambi√©n las posiciones (publicaciones) en las que aparece.  Esto resuelve varios problemas a la vez: sabemos de inmediato cu√°ntas veces aparece una palabra en un documento, podemos hacer frases y consultas con una cierta distancia entre los t√©rminos, cruzando varias listas de documentos a la vez y observando las posiciones de los t√©rminos. <br><br><img src="https://habrastorage.org/webt/7-/1v/lv/7-1vlvh3ycm7xm6kxlcu-stygos.png" alt="imagen"><br><br>  Por ejemplo, en esta lista por el t√©rmino <b>scala</b> en el sexto documento del <b>t√≠tulo, la</b> palabra aparece 4 veces, en las posiciones 2, 15, 18 y 25. <br><br><h3>  1.2.3 Documentos con m√∫ltiples campos </h3><br>  La mayor parte del documento consta de varios campos, al menos desde el nombre del documento y su cuerpo.  Esto ayuda cuando se buscan partes individuales del documento y cuando el t√©rmino es significativo al clasificar (por ejemplo, el t√©rmino que aparece en el t√≠tulo puede considerarse m√°s significativo). <br><br>  Adem√°s, en el √≠ndice, generalmente no solo se almacenan los campos de texto, sino que tambi√©n se pueden almacenar signos de documentos, algunos valores num√©ricos, etc. El almacenamiento en el √≠ndice generalmente toma la forma de {field-term}. <br><br><img src="https://habrastorage.org/webt/hk/zt/kq/hkztkq81x0tcc_twzuj_93qha34.png" alt="imagen"><br><br>  Por ejemplo, si toma una vacante, tendr√° varios campos a la vez: nombre, descripci√≥n, empresa, n√≥mina, ciudad y la experiencia necesaria.  Esto es necesario para que el usuario pueda buscar convenientemente no solo por el nombre y el texto de la empresa, sino que tambi√©n pueda filtrar por salario y experiencia, ver cu√°ntas vacantes hay en su ciudad y ciudades vecinas, o incluso buscar vacantes para una empresa en particular. <br><br><h3>  1.3 Compresi√≥n y optimizaci√≥n de √≠ndices </h3><br>  La velocidad del trabajo es importante para la b√∫squeda, por lo tanto, la mayor√≠a de las operaciones de b√∫squeda de √≠ndice generalmente se realizan en RAM.  Para hacer esto, es muy importante aplicar una serie de optimizaciones al √≠ndice, que lo ajustar√° a un tama√±o de memoria limitado.  Adem√°s de esto, generalmente se aplican varias optimizaciones, que le permiten moverse por el √≠ndice a una velocidad m√°s alta cuando busca, omitiendo partes innecesarias de √©l. <br><br><h3>  1.3.1 Compresi√≥n Delta </h3><br>  Como recordamos que la lista de documentos por t√©rmino (tambi√©n conocida como lista de publicaciones) est√° ordenada, la primera idea de c√≥mo comprimirla es hacer una lista con los desplazamientos de identificaci√≥n de los documentos en lugar de la lista con documentos de identificaci√≥n.  En una lista espec√≠fica de 6 identificadores, se ver√° as√≠: <br><br><img src="https://habrastorage.org/webt/xo/oe/ww/xooewwppo3g9vpm8wj3wxnmudyw.png" alt="imagen"><br><br>  Por lo tanto, avanzando por la lista, siempre calcularemos el identificador actual a partir del valor anterior obtenido.  Por ejemplo, al segundo desplazamiento 3, agregamos el primer valor 2 y obtenemos id 5, al tercer 4 agregamos 5 y obtenemos 9 y as√≠ sucesivamente.  Con una gran cantidad de documentos, esto funciona muy bien, especialmente en combinaci√≥n con otro m√©todo de compresi√≥n: registrar n√∫meros de formato variable. <br><br><h3>  1.3.2 VarByte y VarInt </h3><br>  Esta es una forma de almacenar cada elemento de la lista individual en la memoria para que ocupe la cantidad m√≠nima de espacio.  Por ejemplo, si las primeras tres compensaciones caben en solo 1 byte, entonces no hay necesidad de tomar m√°s.  Teniendo en cuenta que nuestra lista no contiene documentos de identificaci√≥n, sino deltas, la compresi√≥n ser√° muy efectiva.  En esta representaci√≥n de n√∫meros, el primer bit de cada byte es el indicador de si la representaci√≥n del n√∫mero actual termina en este byte. <br><br><img src="https://habrastorage.org/webt/xv/xq/xy/xvxqxy_wswvxsehxyy3heca4csg.png" alt="imagen"><br><br>  Si el primer bit del byte 0 es el √∫ltimo byte del n√∫mero, si 1 no lo es. <br><br><h3>  1.3.3 Saltar lista / Saltar tabla </h3><br>  Una lista de omisi√≥n es una de las estructuras para moverse r√°pidamente por una lista de documentos de un determinado t√©rmino, omitiendo una parte innecesaria de la lista.  La idea es almacenar enlaces a elementos distantes de la lista en el disco frente a la lista misma, porque despu√©s de la compresi√≥n no podemos decir d√≥nde se ubicar√°n exactamente los documentos 100 o 200.  Por ejemplo, esto es conveniente cuando hay una consulta de dos t√©rminos, donde un t√©rmino se encontrar√° con frecuencia, y el segundo, por el contrario, ser√° raro, y la lista de documentos comenzar√° solo con la identificaci√≥n n√∫mero 200 del documento.  Luego, si hay una lista con pases para la primera lista, podemos ahorrar tiempo al movernos y omitir inmediatamente el bloque innecesario de identificadores. <br><br><img src="https://habrastorage.org/webt/59/8w/cf/598wcfm9ouioywtepy1tueyern8.png" alt="imagen"><br><br><h3>  1.4 Solicitudes </h3><br><h3>  1.4.0 Consulta de plazo </h3><br>  El tipo de solicitud m√°s simple en el que solo necesitamos encontrar la lista apropiada de documentos y emitir documentos ordenados despu√©s de la clasificaci√≥n. <br>  Por ejemplo, de esta manera encontramos una lista de posiciones para <b>Java</b> : <br><br><img src="https://habrastorage.org/webt/fv/uv/l7/fvuvl7xxpopw0klzphutaijdbje.png" alt="imagen"><br><br><h3>  1.4.1 Consultas booleanas (y, o, no) </h3><br>  La b√∫squeda booleana es una de las partes m√°s importantes en la recuperaci√≥n de informaci√≥n que encontramos en todas partes.  Toda la b√∫squeda booleana se basa en una combinaci√≥n de AND, OR y NOT.  Por ejemplo, cuando buscamos una consulta en dos palabras: <b>java android</b> , de hecho, en una b√∫squeda simple, se convertir√° en <b>java AND android</b> .  Y esto significa que queremos encontrar todos los documentos que contienen ambas palabras. <br><br>  Vale la pena mencionar de inmediato c√≥mo se mueve por la lista de documentos.  Dado que las listas de documentos para cada t√©rmino est√°n ordenadas, generalmente hay dos formas de desplazarse por las listas: desplazarse secuencialmente por los documentos, pasarlos uno por uno o pasar directamente a un documento espec√≠fico, omitiendo los que no son necesarios (por ejemplo, cuando la primera lista es mucho m√°s peque√±a) , y no necesitamos pasar por un gran bloque de documentos en la segunda lista).  En este caso, primero usamos el puntero de los punteros de salto para que la segunda lista se mueva lo m√°s cerca posible de la identificaci√≥n del documento deseado, y luego nos movemos a √©l linealmente. <br><br>  En el momento de la b√∫squeda, sucede lo siguiente: en el √≠ndice de los t√©rminos java y android hay listas de documentos, luego se hace una intersecci√≥n en ellos, es decir, encontramos documentos que contienen ambos t√©rminos.  Con esta b√∫squeda, ambos m√©todos para moverse por las listas se utilizan para cruzar m√°s r√°pido. <br><br><img src="https://habrastorage.org/webt/ug/jl/rf/ugjlrfbdm4vo7bv0xxsfx7nuapg.png" alt="imagen"><br><br>  Con las consultas OR del formulario java OR scala, donde necesitamos encontrar todos los documentos que contienen al menos uno de los t√©rminos, la situaci√≥n es diferente: aqu√≠ no necesitamos que el t√©rmino est√© en todas las listas de documentos a la vez.  Pero hay consultas con varios operadores OR, y luego puede ocurrir la condici√≥n para un n√∫mero m√≠nimo de coincidencias, por ejemplo, puede haber una consulta java OR scala O cotlin O clojure con al menos dos coincidencias, y luego deber√≠amos mostrar todos los documentos que contienen al menos dos palabras de la consulta . <br><br>  En este caso, el mont√≥n funciona de manera m√°s eficiente.  Podemos almacenar enlaces a iteradores de cada una de las listas y obtener el elemento m√≠nimo para el tiempo constante.  Despu√©s de tomar el elemento m√≠nimo, eliminamos el iterador del mont√≥n, damos un paso adelante y lo agregamos nuevamente al mont√≥n.  Puede almacenar por separado el candidato actual que se agregar√° al resultado y al contador, cu√°ntas veces se reuni√≥ y en el momento en que el candidato diferir√° del elemento m√≠nimo en el mont√≥n, vea si pasamos por el n√∫mero m√≠nimo de coincidencias en la operaci√≥n.  Y agregue a la lista final de resultados o descarte el documento. <br><br><img src="https://habrastorage.org/webt/mn/o9/px/mno9pxfv5n91v7ilooaln719_s0.png" alt="imagen"><br><br><h3>  1.4.2 Prefijo / comodines </h3><br>  A veces queremos encontrar todos los documentos que contienen una palabra que comienza con un prefijo espec√≠fico.  En tales casos, la solicitud de prefijo nos ayudar√°, que se ver√° como <b>jav *</b> .  Una solicitud de prefijo funciona muy bien cuando el diccionario se implementa en un √°rbol de prefijos, y luego llegamos al anidamiento del prefijo y tomamos todos los t√©rminos que se encuentran a continuaci√≥n. <br><br><h3>  1.4.3 Consultas sobre frases y consultas cercanas </h3><br>  Hay momentos en los que necesita encontrar la frase completa, por ejemplo, "desarrollador de Java", o encontrar palabras entre las cuales no habr√° m√°s que unas pocas palabras, por ejemplo, "Java" y "desarrollador", entre las cuales no hay m√°s de 2 palabras, para que pueda encontrar documentos que contengan java android kotlin developer.  Para esto, se utilizan adicionalmente listas de posiciones de palabras en cada documento. <br><br><img src="https://habrastorage.org/webt/s_/aa/x8/s_aax8ar79jyhyk87misztsg57s.png" alt="imagen"><br><br>  En el momento de cruzar las listas de documentos, todo es igual que con la operaci√≥n AND.  Pero despu√©s de que el documento se encuentra en ambas listas, se realiza una verificaci√≥n adicional: que los t√©rminos est√°n a la distancia correcta entre s√≠, por la diferencia en la posici√≥n (posici√≥n). <br><br><h3>  1.4.4 Plan de solicitud </h3><br>  Por lo general, antes de la ejecuci√≥n de la solicitud en s√≠, se construye su plan.  Esto sucede para optimizar la ejecuci√≥n de la solicitud y hacer optimizaciones tales como una lista con omisiones para la lista de documentos. <br><br>  La forma m√°s f√°cil de optimizar su consulta es cruzar las listas de documentos en orden creciente.  Por lo tanto, no desperdiciaremos el desperdicio de documentos de listas grandes que no est√°n en listas peque√±as. <br><br>  Por ejemplo, analicemos la consulta <b>android AND java AND sql</b> .  Digamos que hay 10 documentos en la lista de Android, en sql - 20 y en java - 100. En este caso, es mejor cruzar primero las listas m√°s peque√±as, y la consulta optimizada se ver√° como <b>(android AND sql) AND java</b> . <br><br>  En el caso de OR, lo m√°s simple es contar el n√∫mero de documentos en la intersecci√≥n como la suma de dos listas potencialmente intersectadas. <br><br><h3>  1.4.5 Extensi√≥n de consulta - Sin√≥nimos </h3><br>  Adem√°s de lo que el usuario ingresa en la barra de b√∫squeda, generalmente la b√∫squeda intenta expandir la consulta para encontrar documentos m√°s relevantes.  Se puede usar mucho para expandir la b√∫squeda: el historial de consultas del usuario, algunos datos personalizados sobre √©l y m√°s.  Pero adem√°s de todo esto, tambi√©n hay una forma universal de expandir la solicitud: sin√≥nimos. <br><br>  En este caso, al escribir documentos en el √≠ndice, el t√©rmino se reemplaza con un "enlace" en el diccionario de sin√≥nimos: <br><br><img src="https://habrastorage.org/webt/ej/cy/_m/ejcy_m-mukw_j8qjmnqoy-qreb8.png" alt="imagen"><br><br>  Lo mismo sucede al convertir una solicitud.  Por ejemplo, cuando solicitamos un <b>gerente de ventas</b> , la solicitud en realidad se ve as√≠: <br><br><img src="https://habrastorage.org/webt/_z/pp/oo/_zppoo52_gvvdyytz3bsxldxmrc.png" alt="imagen"><br><br>  Por lo tanto, en la respuesta recibiremos no solo los documentos que contienen el gerente de ventas, sino tambi√©n aquellos que contienen el agente de ventas y las ventas. <br><br><h3>  1.5 Filtrado </h3><br><h3>  1.5.1 Filtro de rango r√°pido </h3><br>  A veces queremos filtrar algo por un rango de valores, por ejemplo, por experiencia en a√±os.  Supongamos que queremos encontrar todas las vacantes con la experiencia requerida de 3 a 11 a√±os.  La primera decisi√≥n es hacer una solicitud con todas las opciones del rango, combin√°ndolas a trav√©s de OR.  Pero el problema es que puede haber demasiados valores.  Una forma de resolver este problema es registrar el valor con varias precisi√≥n a la vez: <br><br><img src="https://habrastorage.org/webt/ti/2j/nm/ti2jnmqh8bvj2xoq6by86agw2-q.png" alt="imagen"><br><br>  En este caso, almacenaremos 5 valores de precisi√≥n: un a√±o (lo consideraremos como el valor inicial), dos, cuatro, ocho y diecis√©is. <br><br>  Luego, al grabar, suceder√° lo siguiente: por ejemplo, al grabar un documento con un requisito de experiencia de 6 a√±os, registramos el valor inmediatamente con toda precisi√≥n: <br><br><img src="https://habrastorage.org/webt/g8/so/l0/g8sol0rss7iadolb1-xqxy2e7pm.png" alt="imagen"><br><br>  Al filtrar "de 3 a 11 a√±os", sucede lo siguiente: seleccionamos solo los valores que necesitamos en la precisi√≥n requerida, y obtenemos solo 3 valores en lugar de 8 y obtenemos la consulta <b>(valor real == 3) OR (precisi√≥n 4 == 4) OR (precisi√≥n 4 == 8)</b> <br><br><img src="https://habrastorage.org/webt/4v/7u/bq/4v7ubqnlcqa9scgl7tq17m7b8ai.png" alt="imagen"><br><br><h3>  1.5.2 M√°scaras de bits </h3><br>  Las m√°scaras de bits son una parte integral de un √≠ndice.  El uso m√°s importante es el filtrado de documentos eliminados.  Cuando elimina un documento del √≠ndice, la eliminaci√≥n f√≠sica no ocurre de inmediato.  Se escribe una estructura especial al lado del √≠ndice, donde cada bit significa la identificaci√≥n del documento en el √≠ndice, y cuando se elimina, se eleva un bit, y al buscar, estos documentos se filtran y no caen en la salida. <br><br>  Tambi√©n puede usar m√°scaras de bits para establecer permisos para cada usuario para ciertos documentos y almacenar en cach√© filtros populares individuales.  Entonces, por lo general, las m√°scaras de bits se almacenan por separado del √≠ndice. <br><br>  Por ejemplo, tenemos filtros populares: la ciudad de Mosc√∫, solo a tiempo parcial, sin experiencia laboral.  Luego, antes de la solicitud, podemos obtener las m√°scaras de bits ya guardadas para estos documentos, agregarlas y obtener la m√°scara de bits final, que documentos pasan por estos tres filtros, ahorrando as√≠ tiempo en el filtrado. <br><br><img src="https://habrastorage.org/webt/cg/g7/cm/cgg7cmb42j_ugjkcna4fqyi2bqu.png" alt="imagen"><br><br><h3>  2. Ranking </h3><br>  Como recordamos, la tarea principal de la b√∫squeda es obtener la informaci√≥n m√°s relevante en el tiempo m√≠nimo.  Y en esto seremos ayudados por la clasificaci√≥n de documentos despu√©s de filtrar los documentos por consulta de texto y aplicar los filtros y derechos necesarios. <br><br>  La forma m√°s f√°cil y econ√≥mica de clasificar es simplemente ordenar los documentos por fecha.  En algunos sistemas, esto se hizo anteriormente, por ejemplo, en las noticias o en anuncios de bienes ra√≠ces, por lo que al usuario se le mostraron primero los √∫ltimos documentos. <br><br>  A veces, se puede usar un modelo de clasificaci√≥n por la cantidad de palabras encontradas en un documento, por ejemplo, cuando no hay tantos documentos y queremos encontrar todos los documentos en los que se encuentra al menos una de las palabras de consulta.  En este caso, aquellos documentos en los que se encuentran todas las palabras de la consulta o m√°s de ellas ser√°n m√°s relevantes. <br><br>  Por supuesto, en la actualidad, estos m√©todos ya se han vuelto irrelevantes, y es m√°s probable que se puedan atribuir a la historia del problema. <br><br><h3>  2.1 TF-IDF </h3><br>  TF-IDF (t√©rmino frecuencia - frecuencia de documento inversa) es una de las f√≥rmulas de clasificaci√≥n m√°s b√°sicas y m√°s utilizadas.  La esencia de la f√≥rmula es reducir los t√©rminos utilizados en todas partes, por ejemplo, preposiciones e interjecciones, y hacer t√©rminos m√°s significativos que sean raros, mostrando as√≠ los primeros documentos con t√©rminos m√°s raros y m√°s significativos de la consulta.  Ahora separemos la f√≥rmula en partes: <br><br>  <b>TF (frecuencia de t√©rmino)</b> es la frecuencia del t√©rmino que aparece en el documento.  Se calcula simplemente: <br><br>  <i>TF term `java` = n√∫mero de t√©rmino` java` en el documento / n√∫mero de todos los t√©rminos en el documento</i> <i><br></i> <br>  <b>IDF (frecuencia de documento inversa)</b> : la inversa de la frecuencia con la que aparece la palabra en la colecci√≥n de documentos.  Ayuda a reducir el peso de las palabras de uso com√∫n. <br><br>  <i>IDF (`java`) = log (n√∫mero de documentos en la colecci√≥n / n√∫mero de documentos en los que aparece el t√©rmino` java`)</i> <br><br>  Adem√°s, para obtener el TF-IDF del t√©rmino java, solo necesitamos multiplicar los valores de TF e IDF obtenidos.    ,     ,          .     , ,  developer       ,     ,    java developer       . <br><br><h3> 2.2   </h3><br>      ,      ,    .        ,     ,    ,     . <br><br><h3> 2.3 BM25  BM* </h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BM25</a> (Okapi best match 25)      TF-IDF         .     BM25F,             (    ). <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>B</mi><mi mathvariant=&quot;normal&quot;>M</mi><mn>25</mn></mrow><mo>=</mo><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>w</mi></munderover><mfrac><mrow><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>+</mo><mi>k</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x22C5;</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>T</mi><mi mathvariant=&quot;normal&quot;>F</mi></mrow><mi>i</mi></msub><mo>&amp;#x22C5;</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>I</mi><mi mathvariant=&quot;normal&quot;>D</mi><mi mathvariant=&quot;normal&quot;>F</mi></mrow><mi>i</mi></msub></mrow><mrow><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>T</mi><mi mathvariant=&quot;normal&quot;>F</mi></mrow><mi>i</mi></msub><mo>+</mo><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>b</mi><mo>+</mo><mi>b</mi><mfrac><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>D</mi><mi mathvariant=&quot;normal&quot;>L</mi></mrow><mrow><mi>a</mi><mi>v</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>D</mi><mi mathvariant=&quot;normal&quot;>L</mi></mrow></mrow></mfrac><mo stretchy=&quot;false&quot;>)</mo></mrow></mfrac><mspace linebreak=&quot;newline&quot; /><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>I</mi><mi mathvariant=&quot;normal&quot;>D</mi><mi mathvariant=&quot;normal&quot;>F</mi></mrow><mi>i</mi></msub><mo>=</mo><mfrac><mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>l</mi><mi mathvariant=&quot;normal&quot;>o</mi><mi mathvariant=&quot;normal&quot;>g</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mfrac><mrow><mi>N</mi><mo>&amp;#x2212;</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mi>n</mi></mfrac><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>l</mi><mi mathvariant=&quot;normal&quot;>o</mi><mi mathvariant=&quot;normal&quot;>g</mi></mrow><mi>N</mi></mrow></mfrac></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="14.467ex" viewBox="0 -1662 33095.6 6228.9" role="img" focusable="false" style="vertical-align: -10.607ex; max-width: 638px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(8356,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-42" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-4D" x="708" y="0"></use><g transform="translate(1626,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-35" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-3D" x="2904" y="0"></use><g transform="translate(3961,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJSZ2-2211" x="0" y="0"></use><g transform="translate(147,-1090)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-31" x="1124" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-77" x="663" y="1627"></use></g><g transform="translate(5405,0)"><g transform="translate(286,0)"><rect stroke="none" width="10569" height="60" x="0" y="220"></rect><g transform="translate(1127,720)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-2B" x="1112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-6B" x="2112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-29" x="2634" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-22C5" x="3246" y="0"></use><g transform="translate(3746,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-46" x="722" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-69" x="1945" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-22C5" x="5689" y="0"></use><g transform="translate(6190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-44" x="361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-46" x="1126" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-69" x="2516" y="-213"></use></g></g><g transform="translate(60,-862)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-46" x="722" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-69" x="1945" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-2B" x="1942" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-6B" x="2943" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-28" x="3464" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-31" x="3854" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-2212" x="4576" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-62" x="5577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-2B" x="6229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-62" x="7230" y="0"></use><g transform="translate(7659,0)"><g transform="translate(120,0)"><rect stroke="none" width="2160" height="60" x="0" y="220"></rect><g transform="translate(588,407)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-44" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-4C" x="764" y="0"></use></g><g transform="translate(59,-391)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-76" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-67" x="1014" y="0"></use><g transform="translate(1057,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-44" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-4C" x="764" y="0"></use></g></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-29" x="10059" y="0"></use></g></g></g></g><g transform="translate(12175,-3602)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-44" x="361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-46" x="1126" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-69" x="2516" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-3D" x="2401" y="0"></use><g transform="translate(3180,0)"><g transform="translate(397,0)"><rect stroke="none" width="5046" height="60" x="0" y="220"></rect><g transform="translate(60,823)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-6C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-67" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-28" x="1279" y="0"></use><g transform="translate(1669,0)"><g transform="translate(120,0)"><rect stroke="none" width="2627" height="60" x="0" y="220"></rect><g transform="translate(60,465)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-2212" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-6E" x="1667" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-2B" x="2267" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-31" x="3046" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-6E" x="1557" y="-488"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-29" x="4536" y="0"></use></g><g transform="translate(1439,-686)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-6C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMAIN-67" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/company/hh/blog/413261/&amp;usg=ALkJrhgYe8mg-qdT56qnxpOyjJjrK55CBQ#MJMATHI-4E" x="1279" y="0"></use></g></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">B</mi><mi mathvariant="normal">M</mi><mn>25</mn></mrow><mo>=</mo><munderover><mo>‚àë</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>w</mi></munderover><mfrac><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>k</mi><mo stretchy="false">)</mo><mo>‚ãÖ</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">T</mi><mi mathvariant="normal">F</mi></mrow><mi>i</mi></msub><mo>‚ãÖ</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">I</mi><mi mathvariant="normal">D</mi><mi mathvariant="normal">F</mi></mrow><mi>i</mi></msub></mrow><mrow><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">T</mi><mi mathvariant="normal">F</mi></mrow><mi>i</mi></msub><mo>+</mo><mi>k</mi><mo stretchy="false">(</mo><mn>1</mn><mo>‚àí</mo><mi>b</mi><mo>+</mo><mi>b</mi><mfrac><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">D</mi><mi mathvariant="normal">L</mi></mrow><mrow><mi>a</mi><mi>v</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">D</mi><mi mathvariant="normal">L</mi></mrow></mrow></mfrac><mo stretchy="false">)</mo></mrow></mfrac><mspace linebreak="newline"></mspace><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">I</mi><mi mathvariant="normal">D</mi><mi mathvariant="normal">F</mi></mrow><mi>i</mi></msub><mo>=</mo><mfrac><mrow><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">l</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">g</mi></mrow><mo stretchy="false">(</mo><mfrac><mrow><mi>N</mi><mo>‚àí</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mi>n</mi></mfrac><mo stretchy="false">)</mo></mrow><mrow><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">l</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">g</mi></mrow><mi>N</mi></mrow></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1">\mathrm{BM25} = \sum_{i=1}^w \frac{(1 + k) \cdot \mathrm{TF}_i \cdot \mathrm{IDF}_i}{\mathrm{TF}_i + k(1 - b + b \frac{\mathrm{DL}}{avg\mathrm{DL}})} \\ \mathrm{IDF}_i = \frac{\mathrm{log} (\frac{N - n + 1}{n})}{\mathrm{log} N}</script></p><br><br><h3> 2.4    </h3><br>       , : <br><br><ul><li> DFR (divergence from randomness), </li><li> IBS (information-based models), </li><li> LM Dirichlet, </li><li> Jelinek-Mercer. </li></ul><br><h3> 2.5    </h3><br>          ,   ,        .              ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a>    . <br><br><h3> 2.6 Top k    </h3><br>            ,   .    ,       ,         . <br><br>     ,            .          <b>top k</b> . <br><br>       ‚Äî  .    k,  k  <b>  *   </b> .           heap.       n*log(n)    k. <br><br>           . ,        ,          ,   10    12,    score    10        score  .        ,      n ‚Äî (n*page size)  . <br><br><h3> 3.    </h3><br><h3> 3.1  </h3><br>        ‚Äî   .         , . <br><br>      ,        :    ,        ,       .  ,    .             .     (     ,        ).            (merge). <br><br>         ,     ,       : <br><br><img src="https://habrastorage.org/webt/2c/ec/gx/2cecgxgu5eyuhtaffs50anmywoa.png" alt="imagen"><br><br>       .            ,       ,   , -     . <br><br><h3> 3.2   (megre) </h3><br>        ‚Äî  .         ¬´¬ª ‚Äî      .      ,      ,        (    ). <br><br><img src="https://habrastorage.org/webt/ey/yv/n9/eyyvn9msvqryhqm3lh_rh9o4vv8.png" alt="imagen"><br><br>     ,    ,   ,       .      : <br><br><ul><li>     , </li><li>      (,           2 ), </li><li>      (,        ). </li></ul><br><h3> 4.   </h3><br>         ,    ,           .         ,  -     (,            . .).   ,      ,       ,    . <br><br><img src="https://habrastorage.org/webt/m0/jy/od/m0jyodvmhfv6vz093nofc5axnmk.png" alt="imagen"><br><br><h3> 4.1    </h3><br>           (,  hh     ,   ),     .        . <br><br>    ,        ,    . -,     ,          . -,     ,          ,         . <br><br><h3> 4.2   </h3><br>           ,       .        ,            . <br><br>    ,       hh,  <i> </i> ,        ,   -    : <br><br><img src="https://habrastorage.org/webt/bq/mo/cb/bqmocbqmz-t3kuyhddye_d04iy0.png" alt="imagen"><br><br><h3> 5.  ‚Ä¶    </h3><br>    ,      ,         ,    .   ,     :   , , ,      ,     ,         (highlight),   .      ,    ,        ,   top k . <br><br>     : <br><br><ul><li>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Introduction to Information Retrieval</a>     </li><li>         lucene ( elasticsearch)  sphinx </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ver los informes de Andrei Aksenov, por ejemplo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esto</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ven a estudiar a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la escuela de programadores hh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y escucha conferencias sobre la b√∫squeda :)</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eso es todo, gracias a todos por su atenci√≥n, es interesante escuchar sus comentarios y preguntas. </font></font><br><br><h3>  PS </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Me gustar√≠a expresar mi agradecimiento a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gdanschin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;">ayudarme a</font></a><font style="vertical-align: inherit;"> escribir este art√≠culo.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es413261/">https://habr.com/ru/post/es413261/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es413247/index.html">¬øPor qu√© monitorear los sistemas de almacenamiento?</a></li>
<li><a href="../es413249/index.html">Escribir un m√≥dulo de kernel de Linux: I2C</a></li>
<li><a href="../es413251/index.html">Reacci√≥n en cadena de la polimerasa y Vladivostok</a></li>
<li><a href="../es413253/index.html">Richard Hamming: Cap√≠tulo 21. Fibra √≥ptica</a></li>
<li><a href="../es413255/index.html">Richard Hamming: Cap√≠tulo 27. Datos inv√°lidos</a></li>
<li><a href="../es413265/index.html">A la casa de ba√±os con IT</a></li>
<li><a href="../es413267/index.html">10 cualidades imprescindibles a tener en cuenta para un gerente de producto novato</a></li>
<li><a href="../es413269/index.html">C√≥mo las m√°quinas analizan big data: una introducci√≥n a los algoritmos de agrupamiento</a></li>
<li><a href="../es413271/index.html">Sin contrase√±as: c√≥mo funciona el sistema de autenticaci√≥n en un registro distribuido</a></li>
<li><a href="../es413273/index.html">Gesti√≥n de los requisitos de productos de TI dentro de la empresa.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>