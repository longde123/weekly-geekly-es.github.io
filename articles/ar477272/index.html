<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จโ๐ง ๐ณ๏ธ ๐ค๐ฟ ุฃูู ููุฏูุฉ ุฅูู AssemblyScript ๐ ๐ซ ๐ฉ๐ฝโ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุธูุฑ ุฏุนู WebAssembly (Wasm) ูู ุงููุชุตูุญุงุช ูุคุฎุฑูุง ูุณุจููุง. ูููู ูุฐู ุงูุชูููููุฌูุง ูููููุง ุฃู ุชุฒูุฏ ูู ุฅููุงููุงุช ุงูููุจ ุ ููุง ูุฌุนููุง ููุตุฉ ูุงุฏุฑุฉ ุนูู ุฏุนู ูุซู ูุฐู ุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฃูู ููุฏูุฉ ุฅูู AssemblyScript</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/477272/" style=";text-align:right;direction:rtl">  <a href="https://webassembly.org/">ุธูุฑ</a> ุฏุนู <a href="https://webassembly.org/">WebAssembly</a> (Wasm) ูู ุงููุชุตูุญุงุช ูุคุฎุฑูุง ูุณุจููุง.  ูููู ูุฐู ุงูุชูููููุฌูุง ูููููุง ุฃู ุชุฒูุฏ ูู ุฅููุงููุงุช ุงูููุจ ุ ููุง ูุฌุนููุง ููุตุฉ ูุงุฏุฑุฉ ุนูู ุฏุนู ูุซู ูุฐู ุงูุชุทุจููุงุช ุงูุชู ุนุงุฏุฉ ูุง ุชุนุชุจุฑ ุณุทุญ ููุชุจ. <br><br>  ูููู ุฃู ูููู ุฅุชูุงู WebAssembly ูููุฉ ุดุงูุฉ ููุทูุฑู ุงูููุจ.  ููุน ุฐูู ุ ูููู ุงููุญูู ุงูุจุฑูุฌู <a href="https://assemblyscript.org/">AssemblyScript</a> ุชุญุณูู ุงููููู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pw/p4/91/pwp491ryabgnwblabon5slwooey.jpeg"></div><br>  ููุฏู ูุคูู ุงูููุงู ุ ุงูุฐู ููุดุฑู ุชุฑุฌูุฉ ุงูููู ุ ุงูุญุฏูุซ ุฃููุงู ุนู ุณุจุจ ููู WebAssembly ุชูููุฉ ูุงุนุฏุฉ ููุบุงูุฉ ุ ุซู ูููู ูุธุฑุฉ ุนูู ููู ูููู ูู AssemblyScript ุงููุณุงุนุฏุฉ ูู ูุชุญ ุฅููุงูุงุช Wasm. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">WebAssembly</font> </h2><br>  ูููู ุฃู ูุณูู WebAssembly ูุบุฉ ููุฎูุถุฉ ุงููุณุชูู ูููุชุตูุญุงุช.  ุฅูู ูููุญ ุงููุทูุฑูู ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ุชุนูููุงุช ุจุฑูุฌูุฉ ูุชุฌููุนูุง ุฅูู ุดูุก ุขุฎุฑ ุบูุฑ JavaScript.  ูุชูุญ ุฐูู ููุจุฑุงูุฌ ุงููุถูููุฉ ูู ุตูุญุงุช ุงูููุจ ุฃู ุชุนูู ุจุงูุณุฑุนุฉ ููุณูุง ุงูุชู ุชุนูู ุจูุง ุงูุชุทุจููุงุช ุงูุฃุตููุฉ ููุฎุชูู ุงูููุตุงุช.  ุชุนูู ูุซู ูุฐู ุงูุจุฑุงูุฌ ูู ุจูุฆุฉ ูุญุฏูุฏุฉ ูุขููุฉ. <br><br>  ุดุงุฑู ููุซูู ุงููุฑู ุงููุณุคููุฉ ุนู ุชุทููุฑ ุฌููุน ุงููุชุตูุญุงุช ุงูุฑุงุฆุฏุฉ (Chrome ู Firefox ู Safari ู Edge) ูู ุฅูุดุงุก ูุนูุงุฑ WebAssembly.  ูุงุชูููุง ุนูู <a href="https://lists.w3.org/Archives/Public/public-webassembly/2017Feb/0002.html">ุจููุฉ</a> ุงููุธุงู ูู ุฃูุงุฆู ุนุงู 2017.  ุงูุขู ุฌููุน ุงููุชุตูุญุงุช ุงููุฐููุฑุฉ ุฃุนูุงู ุชุฏุนู WebAssembly.  ูู ุงููุงูุน ุ ูููู ุงุณุชุฎุฏุงู ูุฐู ุงูุชูููููุฌูุง ูู <a href="https://caniuse.com/">ุญูุงูู 87 ูช ูู</a> ุงููุชุตูุญุงุช. <br><br>  ุฑูุฒ WebAssembly ููุฌูุฏ ุจุงูุชูุณูู ุงูุซูุงุฆู.  ูุฐุง ูุนูู ุฃู ูุซู ูุฐุง ุงูุฑูุฒ ุฃุตุบุฑ ูู ููุฏ JavaScript ููุงุซู ููุชู ุชุญูููู ุจุดูู ุฃุณุฑุน.  ูููู ุชูุฏูู Wasm-code ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู <a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Understanding_the_text_format">ุชูุณูู ูุตู</a> ุ ุญุชู ูุชููู ุงููุงุณ ูู ูุฑุงุกุชู ูุชุญุฑูุฑู. <br><br>  ุนูุฏูุง ุธูุฑ ูุนูุงุฑ WebAssembly ูุฃูู ูุฑุฉ ุ ุธู ุจุนุถ ุงููุทูุฑูู ุฃูู ูููู ุฃู ูุญู ูุญู JavaScript ููุตุจุญ ุงููุบุฉ ุงูุฑุฆูุณูุฉ ููููุจ.  ูููู ูููุธุฑ ุฅูู WebAssembly ูุฃุฏุงุฉ ุฌุฏูุฏุฉ ุชุชูุงูู ุจุดูู ุฌูุฏ ูุน ุงููุธุงู ุงูุฃุณุงุณู ุงูุญุงูู ููููุจ.  ูุฐุง ูู ุฃุญุฏ <a href="https://webassembly.org/docs/high-level-goals/">ุฃูุฏุงูู ุฐุงุช ุงูุฃููููุฉ</a> . <br><br>  ุจุฏูุงู ูู ุงุณุชุจุฏุงู JavaScript ุญูุซ ุชู ุงุณุชุฎุฏุงู ูุฐู ุงููุบุฉ ููุชุฑุฉ ุทูููุฉ ูุจูุฌุงุญ ุ ูููุฑ WebAssembly ูุฑุตูุง ุฌุฏูุฏุฉ ูุซูุฑุฉ ููุทูุฑู ุงูููุจ.  ุตุญูุญ ุฃู ุฑูุฒ Wasm ูุง ูุชูุชุน ุจูุตูู ูุจุงุดุฑ ุฅูู DOM ุ ูุฐูู ุณุชุณุชูุฑ ูุนุธู ูุดุงุฑูุน ุงูููุจ ุงูุญุงููุฉ ูู ุงุณุชุฎุฏุงู JavaScript.  ูุฐู ุงููุบุฉ ุ ุนูู ูุฏุงุฑ ุณููุงุช ูู ุงูุชุทููุฑ ูุงูุชุญุณูู ุ ุณุฑูุนุฉ ุจุงููุนู.  ู WebAssembly ูู ุชุทุจููุงุชู ุงูุฎุงุตุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃูุนุงุจ. </li><li style=";text-align:right;direction:rtl">  ุงูุญุณุงุจุงุช ุงูุนูููุฉ ุ ุงููุฑุฆูุงุช ุ ุงููุญุงูุงุฉ. </li><li style=";text-align:right;direction:rtl">  ุชุทุจููุงุช CAD. </li><li style=";text-align:right;direction:rtl">  ุชุญุฑูุฑ ุงูุตูุฑ ูููุงุทุน ุงูููุฏูู. </li></ul><br>  ูู ูุฐู ุงูุงุณุชุฎุฏุงูุงุช ุงูุฎุงุตุฉ ุจู Wasm ูุชู ุชูุญูุฏูุง ุญุณุจ ูุง ุชุนุชุจุฑ ุงูุชุทุจููุงุช ุงูุฎุงุตุฉ ุจูู ุนุงุฏุฉ ุณุทุญ ููุชุจ.  ูููู ูุธุฑูุง ูุญูููุฉ ุฃู WebAssembly ูุณูุญ ูู ุจุงููุตูู ุฅูู ูุณุชูู ูู ุงูุฃุฏุงุก ูุฑูุจูุง ูู ุงููุณุชูู ุงูุฃุตูู ุ ูููู ุงูุขู ุชูููุฐ ุงูุนุฏูุฏ ูู ุงูุชุทุจููุงุช ุงูููุงุซูุฉ ุจุงุณุชุฎุฏุงู ุงููุธุงู ุงูุฃุณุงุณู ููููุจ. <br><br>  ูููู WebAssembly ุงูุงุณุชูุงุฏุฉ ูู ูุดุงุฑูุน ุงูููุจ ุงูุญุงููุฉ.  ูุซุงู ุนูู <a href="https://www.figma.com/">ุฐูู</a> ูุดุฑูุน <a href="https://www.figma.com/">Figma</a> .  ุจูุถู ุงุณุชุฎุฏุงู Wasm ุ ุชู ุชุญุณูู ููุช ุงูุชุญููู ููุฐุง ุงููุดุฑูุน ุจุดูู ูุจูุฑ.  ุฅุฐุง ูุงู ูููุน ุงูููุจ ูุณุชุฎุฏู ุชุนูููุฉ ุจุฑูุฌูุฉ ุชุคุฏู ุนูููุงุช ุญุณุงุจูุฉ ุซูููุฉ ุ ููู ุฃุฌู ุชุญุณูู ุฃุฏุงุก ูุฐุง ุงููููุน ุ ููู ุงูููุทูู ุงุณุชุจุฏุงู ูุฐุง ุงูุฑูุฒ ููุท ุจุชูุงุธุฑูุฉ WebAssembly. <br><br>  ูุฏ ุชุฑุบุจ ูู ูุญุงููุฉ ุงุณุชุฎุฏุงู WebAssembly ูู ูุดุงุฑูุนู ุงูุฎุงุตุฉ.  ูููู ุชุนูู ูุฐู ุงููุบุฉ ููุชุงุจุชูุง <a href="https://blog.scottlogic.com/2018/04/26/webassembly-by-hand.html">ุนูู ุงูููุฑ</a> .  ูููู ุ ูุน ุฐูู ุ ุชู ุชุทููุฑ WebAssembly ุฃุตูุงู ููุฏู <a href="https://github.com/appcypher/awesome-wasm-langs">ุชุฌููุน</a> ููุบุงุช ุฃุฎุฑู.  ุชู <a href="https://webassembly.org/docs/c-and-c%2B%2B/">ุชุตูููู</a> ุจุฏุนู ุฌูุฏ ูู C ู C ++.  ุธูุฑ <a href="">ุฏุนู ุชุฌุฑูุจู ูู</a> Was ูู Go 1.11.  ูุชู ุจุฐู ุงููุซูุฑ ูู ุงูุฌูุฏ ูู ูุชุงุจุฉ ุชุทุจููุงุช Wasm ูู <a href="https://www.rust-lang.org/what/wasm">Rust</a> . <br><br>  ููู ูู ุงููููู ุชูุงููุง ุฃูุง ูุฑุบุจ ูุทูุฑู ุงูููุจ ูู ุชุนูู C ุฃู C ++ ุฃู Go ุฃู Rust ููุท ูุงุณุชุฎุฏุงู WebAssembly.  ูุงุฐุง ููุนูููุ  ูููู ุฃู ุชุนุทู ุงูุฅุฌุงุจุฉ ุนูู ูุฐุง ุงูุณุคุงู AssemblyScript. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">AssemblyScript</font> </h2><br>  AssemblyScript ูู ูุชุฑุฌู ูุญูู ููุฏ TypeScript ุฅูู ููุฏ WebAssembly.  TypeScript ูู ูุบุฉ ุชู ุชุทููุฑูุง ุจูุงุณุทุฉ Microsoft.  ูุฐู ูุฌููุนุฉ ุดุงููุฉ ูู ุฌุงูุง ุณูุฑูุจุช ุ ุชุชููุฒ ุจุฏุนู ูุญุณูู ูู ุงูููุน ูุจุนุถ ุงูููุฒุงุช ุงูุฃุฎุฑู.  ุฃุตุจุญ TypeScript ูุบุฉ <a href="https://insights.stackoverflow.com/survey/2019">ุดุนุจูุฉ</a> ุฅูู ุญุฏ ูุง.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู AssemblyScript ูุงุฏุฑ ุนูู ุงูุชุญููู ุฅูู Wasm ููุท ูุฌููุนุฉ ูุญุฏูุฏุฉ ูู ุจููุงุช TypeScript.  ูุฐุง ูุนูู ุฃูู ุญุชู ุฃู ุดุฎุต ุบูุฑ ูุทูุน ุนูู TypeScript ููููู ุฃู ูุชุนูู ุจุณุฑุนุฉ ูุฐู ุงููุบุฉ ุจูุณุชูู ูููู ููุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ูููููุง AssemblyScript. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ุจุงููุธุฑ ุฅูู ุฃู TypeScript ูุดุจู JavaScript ุฅูู ุญุฏ ูุจูุฑ ุ ูููููุง ุงูููู ุฃู ุชูููุฉ AssemblyScript ุชุณูุญ ููุทูุฑู ุงูููุจ ุจุฏูุฌ ูุญุฏุงุช Wasm ุจุณูููุฉ ูู ูุดุงุฑูุนูู ุฏูู ุงูุญุงุฌุฉ ุฅูู ุชุนูู ูุบุฉ ุฌุฏูุฏุฉ ุชูุงููุง. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ูุซุงู</font> </h2><br>  ุฏุนูุง ููุชุจ ุฃูู ูุญุฏุฉ AssemblyScript ุงูุฎุงุตุฉ ุจูุง.  ูููู ุงูุนุซูุฑ ุนูู ุฌููุน ุงูููุฏ ุงูุฐู ุณููุงูุดู ุงูุขู ุนูู <a href="https://github.com/dguo/assemblyscript-demo">ุฌูุซุจ</a> .  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly">ูุฏุนู</a> WebAssembly ุ ูุญุชุงุฌ ุฅูู <a href="https://nodejs.org/">Node.js</a> 8 ุนูู ุงูุฃูู. <br><br>  ุฅูุดุงุก ุฏููู ุฌุฏูุฏ ุ ุชููุฆุฉ ูุดุฑูุน npm ูุชุซุจูุช AssemblyScript: <br><br><pre style=";text-align:right;direction:rtl"><code class="javascript hljs">mkdir assemblyscript-demo cd assemblyscript-demo npm init npm install --save-dev github:AssemblyScript/assemblyscript</code> </pre> <br>  ูุงุญุธ ุฃูู ูุฌุจ ุชุซุจูุช AssemblyScript ูุจุงุดุฑุฉ ูู <a href="https://github.com/AssemblyScript/assemblyscript">ูุณุชูุฏุน GitHub</a> ูููุดุฑูุน.  ูู ูุชู ูุดุฑ AssemblyScript ุจุนุฏ ูู npm ุ ูุฃู ุงููุทูุฑูู <a href="https://github.com/AssemblyScript/assemblyscript/issues/442">ูุง ูุนุชุจุฑููู</a> ุฌุงูุฒูุง ููุงุณุชุฎุฏุงู ุนูู ูุทุงู ูุงุณุน. <br><br>  <code>asinit</code> ูููุงุช ูุณุงุนุฏุฉ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <code>asinit</code> ุงููุชุถูู ูู AssemblyScript: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">npx asinit .</code> </pre> <br>  ุงูุขู ูุณู <code>scripts</code> ูุฏููุง <code>package.json</code> ูุฌุจ ุฃู ุชุฃุฎุฐ ุงูุดูู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{  <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: {    <span class="hljs-string"><span class="hljs-string">"asbuild:untouched"</span></span>: <span class="hljs-string"><span class="hljs-string">"asc assembly/index.ts -b build/untouched.wasm -t build/untouched.wat --sourceMap --validate --debug"</span></span>,    <span class="hljs-string"><span class="hljs-string">"asbuild:optimized"</span></span>: <span class="hljs-string"><span class="hljs-string">"asc assembly/index.ts -b build/optimized.wasm -t build/optimized.wat --sourceMap --validate --optimize"</span></span>,    <span class="hljs-string"><span class="hljs-string">"asbuild"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run asbuild:untouched &amp;&amp; npm run asbuild:optimized"</span></span>  } }</code> </pre> <br>  <code>index.js</code> ููู <code>index.js</code> ุงูููุฌูุฏ ูู ุงููุฌูุฏ ุงูุฌุฐุฑ ูููุดุฑูุน ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"fs"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> compiled = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebAssembly.Module(fs.readFileSync(__dirname + <span class="hljs-string"><span class="hljs-string">"/build/optimized.wasm"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imports = {  <span class="hljs-attr"><span class="hljs-attr">env</span></span>: {    abort(_msg, _file, line, column) {       <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">"abort called at index.ts:"</span></span> + line + <span class="hljs-string"><span class="hljs-string">":"</span></span> + column);    }  } }; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(<span class="hljs-built_in"><span class="hljs-built_in">module</span></span>, <span class="hljs-string"><span class="hljs-string">"exports"</span></span>, {  <span class="hljs-attr"><span class="hljs-attr">get</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebAssembly.Instance(compiled, imports).exports });</code> </pre> <br>  ูุชูุญ ูู ูุฐุง ุชุถููู ูุญุฏุงุช WebAssembly ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ requ.  ูุฐุง - ุจููุณ ุทุฑููุฉ ุชูุตูู ูุญุฏุงุช JavaScript ุงููุนุชุงุฏุฉ. <br><br>  ูุญุชูู ูุฌูุฏ <code>assembly</code> ุนูู ููู <code>index.ts</code> .  ูุฏููุง ุดูุฑุฉ ุงููุตุฏุฑ ููุชูุจุฉ ูููุง ูููุงุนุฏ AssemblyScript.  ุดูุฑุฉ ุงูุบููุงู ุงูุชู ูุชู ุฅูุดุงุคูุง ุชููุงุฆููุง ูู ูุธููุฉ ุจุณูุทุฉ ูุฅุถุงูุฉ ุฑูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a: i32, b: i32</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i32</span></span></span><span class="hljs-function"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b; }</code> </pre> <br>  ุฑุจูุง ููุช ุชุชููุน ุชูููุน ุฏุงูุฉ ููุงุซูุฉ ูุชุจุฏู ููุฃููุง <code>add(a: number, b: number): number</code> .  ูุฐูู ุณูุจุฏู ุฅุฐุง ูุงู ููุชูุจูุง ูู ุจุฑูุงูุฌ TypeScript ุงูุนุงุฏู.  ูููู ููุง ุ ุจุฏูุงู ูู ููุน <code>number</code> ุ ูุชู <code>i32</code> ููุน <code>i32</code> .  ูุญุฏุซ ูุฐุง ูุฃู ููุฏ AssemblyScript ูุณุชุฎุฏู <a href="https://docs.assemblyscript.org/basics/types">ุฃููุงุน WebAssembly</a> ูุญุฏุฏุฉ <a href="https://docs.assemblyscript.org/basics/types">ููุฃุนุฏุงุฏ</a> ุงูุตุญูุญุฉ ูุฃุฑูุงู <a href="https://docs.assemblyscript.org/basics/types">ุงููุงุตูุฉ</a> ุงูุนุงุฆูุฉ ุ ุจุฏูุงู ูู ููุน <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html">ุงูุฑูู</a> ุงูุนุงู ูู TypeScript. <br><br>  ูููู ุจุชุฌููุน ุงููุดุฑูุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">npm run asbuild</code> </pre> <br>  ูุฌุจ ุฃู ุชุธูุฑ ุงููููุงุช ุงูุชุงููุฉ ูู ูุฌูุฏ ุงูุฅูุดุงุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">optimized.wasm optimized.wasm.map optimized.wat untouched.wasm untouched.wasm.map untouched.wat</code> </pre> <br>  ููุงู ุฅุตุฏุงุฑุงุช ูุญุณูุฉ ูููุชุธูุฉ ููุชุฌููุน.  ูุนุทููุง ูู ุฅุตุฏุงุฑ ูู ุงูุชุฌููุน ููููุง .wasm ุซูุงุฆููุง ุ <a href="https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Use_a_source_map">ูุฎุฑูุทุฉ ุฎุฑูุทุฉ</a> .wasm.map ุ ูุชูุซูููุง ูุตููุง ููุฑูุฒ ุงูุซูุงุฆู ูู ููู .wat.  ุงูุนุฑุถ ุงูุชูุฏููู ูุงุฎุชุจุงุฑ ุฑูุฒ Wasm ูุฎุตุต ูููุจุฑูุฌ ุ ููููุง ูู ููุธุฑ ุญุชู ุฅูู ูุฐุง ุงูููู.  ูู ุงููุงูุน ุ ุฃุญุฏ ุฃุณุจุงุจ ุงุณุชุฎุฏุงู AssemblyScript ูู ุฃูู ููุบู ุงูุญุงุฌุฉ ููุนูู ูุน ุฑูุฒ Wasm. <br><br>  ุงูุขู ูููู ุจุชุดุบูู Node.js ูู ูุถุน REPL ูุชุฃูุฏ ูู ุฃู ูุญุฏุฉ Wasm ุงููุชุฑุฌูุฉ ูููู ุงุณุชุฎุฏุงููุง ุจููุณ ุทุฑููุฉ ุงุณุชุฎุฏุงู ุฃู ูุญุฏุฉ JS ุนุงุฏูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">$ node Welcome to Node.js v12<span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>. Type <span class="hljs-string"><span class="hljs-string">".help"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> add = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./index'</span></span>).add; <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> &gt; add(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre> <br>  ุจุดูู ุนุงู ุ ูุฐุง ูู ูู ูุง ููุฒู ูุงุณุชุฎุฏุงู ุชูููุฉ WebAssembly ูู Node.js. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุชุฌููุฒ ูุดุฑูุน ูุน ุจุฑูุงูุฌ ูุตู ูุฑุงูุจ</font> </h2><br>  ูุฅุนุงุฏุฉ ุฅูุดุงุก ุงููุญุฏุฉ ุงูููุทูุฉ ุชููุงุฆููุง ุฃุซูุงุก ุงูุชุทููุฑ ุนูุฏ ุฅุฌุฑุงุก ุชุบููุฑุงุช ุนูููุง ุ ุฃูุตู ุจุงุณุชุฎุฏุงู ุงูุญุฒูุฉ <a href="https://github.com/Qard/onchange">onchange</a> .  ุงูุญูููุฉ ูู ุฃู AssemblyScript <a href="https://github.com/AssemblyScript/assemblyscript/issues/624">ููุณ ูุฏูู ุจุนุฏ</a> ูุธุงู ุฎุงุต ุจู ููุฑุงูุจุฉ ุชุบููุฑุงุช ุงููููุงุช.  ุชุซุจูุช ุงูุญุฒูุฉ onchange: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">npm install --save-dev onchange</code> </pre> <br>  ุฅุถุงูุฉ <code>asbuild:watch</code> ุงูุจุฑูุงูุฌ ุงููุตู ุฅูู <code>package.json</code> .  <a href="https://github.com/Qard/onchange">ูุชู</a> ุชุถููู <a href="https://github.com/Qard/onchange">ุนูุงูุฉ</a> <code>-i</code> ูู ุงูุฃูุฑ ุจุญูุซ ุชุจุฏุฃ ุนูููุฉ ุงูุฅูุดุงุก ูุฑุฉ ูุงุญุฏุฉ ุนูุฏูุง ูุชู ุงุณุชุฏุนุงุก ุงูุจุฑูุงูุฌ ุงููุตู ุ ูุจู ุญุฏูุซ ุฃู ุฃุญุฏุงุซ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{  <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: {    <span class="hljs-string"><span class="hljs-string">"asbuild:untouched"</span></span>: <span class="hljs-string"><span class="hljs-string">"asc assembly/index.ts -b build/untouched.wasm -t build/untouched.wat --sourceMap --validate --debug"</span></span>,    <span class="hljs-string"><span class="hljs-string">"asbuild:optimized"</span></span>: <span class="hljs-string"><span class="hljs-string">"asc assembly/index.ts -b build/optimized.wasm -t build/optimized.wat --sourceMap --validate --optimize"</span></span>,    <span class="hljs-string"><span class="hljs-string">"asbuild"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run asbuild:untouched &amp;&amp; npm run asbuild:optimized"</span></span>,    <span class="hljs-string"><span class="hljs-string">"asbuild:watch"</span></span>: <span class="hljs-string"><span class="hljs-string">"onchange -i 'assembly/**/*' -- npm run asbuild"</span></span>  } }</code> </pre> <br>  ุงูุขู ุ ุจุฏูุงู ูู ุชุดุบูู ุงูุฃูุฑ <code>asbuild</code> ุจุงุณุชูุฑุงุฑ ุ ูุง <code>asbuild:watch</code> ุณูู ุชุดุบูู <code>asbuild:watch</code> ูุฑุฉ ูุงุญุฏุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุฅูุชุงุฌูุฉ</font> </h2><br>  ุณููุชุจ ุงุฎุชุจุงุฑูุง ุจุณูุทูุง ูุชูููู ูุณุชูู ุฃุฏุงุก ุฑูุฒ Wasm.  ูุชูุซู ุงููุทุงู ุงูุฑุฆูุณู ูู WebAssembly ูู ุญู ุงูููุงู ุงูุชู ุชุณุชุฎุฏู ุงููุนุงูุฌ ุจุดูู ููุซู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฐู ูู ููุน ูู ุงูุญุณุงุจุงุช "ุงูุซูููุฉ".  ูููู ุจุฅูุดุงุก ูุธููุฉ ุชูุชุดู ูุง ุฅุฐุง ูุงู ุนุฏุฏ ูุนูู ุฃููู. <br><br>  ูุธูุฑ ุชูููุฐ JS ุงูุฃุณุงุณู ููุธููุฉ ููุงุซูุฉ ุฃุฏูุงู.  ูุชู ุชุฑุชูุจูุง ุจูู ุจุณุงุทุฉ ุ ุญูุซ ุชููู ุจุงูุชุญูู ูู ุงูุฑูู ุจุงูููุฉ ุงูุบุงุดูุฉ ุ ูููู ูุฃุบุฑุงุถูุง ุ ูููู ูุฐุง ููุงุณุจูุง ุ ูุธุฑูุง ูุฃูู ูุคุฏู ูุจุงูุบ ูุจูุฑุฉ ูู ุงูุญุณุงุจุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isPrime</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x &lt; <span class="hljs-number"><span class="hljs-number">2</span></span>) {        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>;    }    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">2</span></span>; i &lt; x; i++) {        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x % i === <span class="hljs-number"><span class="hljs-number">0</span></span>) {            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>;        }    }    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  ูุธููุฉ ููุงุซูุฉ ุ ููุชูุจุฉ ูู ุฃุฌู ูุชุฑุฌู AssemblyScript ุ ุชุจุฏู ูู ููุณูุง ุชูุฑูุจุง.  ุงููุฑู ุงูุฑุฆูุณู ูู ูุฌูุฏ ุชุนูููุงุช ุชูุถูุญูุฉ ูู ุงูููุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isPrime</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x: u32</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span><span class="hljs-function"> </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x &lt; <span class="hljs-number"><span class="hljs-number">2</span></span>) {        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>;    }    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i: u32 = <span class="hljs-number"><span class="hljs-number">2</span></span>; i &lt; x; i++) {        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x % i === <span class="hljs-number"><span class="hljs-number">0</span></span>) {            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>;        }    }    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  ูุชุญููู ุฃุฏุงุก ุงูููุฏ ุ ุณูุณุชุฎุฏู ุญุฒูุฉ <a href="https://benchmarkjs.com/">Benchmark.js</a> .  ุชุซุจูุชู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">npm install --save-dev benchmark</code> </pre> <br>  ูู <code>benchmark.js</code> ููู <code>benchmark.js</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Benchmark = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'benchmark'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> assemblyScriptIsPrime = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./index'</span></span>).isPrime; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isPrime</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">2</span></span>; i &lt; x; i++) {        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x % i === <span class="hljs-number"><span class="hljs-number">0</span></span>) {            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>;        }    }    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> suite = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Benchmark.Suite; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> startNumber = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stopNumber = <span class="hljs-number"><span class="hljs-number">10000</span></span>; suite.add(<span class="hljs-string"><span class="hljs-string">'AssemblyScript isPrime'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = startNumber; i &lt; stopNumber; i++) {        assemblyScriptIsPrime(i);    } }).add(<span class="hljs-string"><span class="hljs-string">'JavaScript isPrime'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = startNumber; i &lt; stopNumber; i++) {        isPrime(i);    } }).on(<span class="hljs-string"><span class="hljs-string">'cycle'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(event.target)); }).on(<span class="hljs-string"><span class="hljs-string">'complete'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fastest = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.filter(<span class="hljs-string"><span class="hljs-string">'fastest'</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> slowest = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.filter(<span class="hljs-string"><span class="hljs-string">'slowest'</span></span>);    <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> difference = (fastest.map(<span class="hljs-string"><span class="hljs-string">'hz'</span></span>) - slowest.map(<span class="hljs-string"><span class="hljs-string">'hz'</span></span>)) / slowest.map(<span class="hljs-string"><span class="hljs-string">'hz'</span></span>) * <span class="hljs-number"><span class="hljs-number">100</span></span>;    <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${fastest.map(</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'name'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string"> is ~</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${difference.toFixed(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">% faster.`</span></span>); }).run();</code> </pre> <br>  ุฅููู ูุง ุชูููุช ูู ุงูุญุตูู ุนููู ุจุนุฏ ุชุดุบูู ุงูุฃูุฑ <code>node benchmark</code> ุงูุนูุฏู ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">AssemblyScript isPrime x <span class="hljs-number"><span class="hljs-number">74.00</span></span> ops/sec ยฑ<span class="hljs-number"><span class="hljs-number">0.43</span></span>% (<span class="hljs-number"><span class="hljs-number">76</span></span> runs sampled) JavaScript isPrime x <span class="hljs-number"><span class="hljs-number">61.56</span></span> ops/sec ยฑ<span class="hljs-number"><span class="hljs-number">0.30</span></span>% (<span class="hljs-number"><span class="hljs-number">64</span></span> runs sampled) AssemblyScript isPrime is ~<span class="hljs-number"><span class="hljs-number">20.2</span></span>% faster.</code> </pre> <br>  ููุง ุชุฑูู ุ ูุงู ุชุทุจูู AssemblyScript ููุฎูุงุฑุฒููุฉ ุฃุณุฑุน ุจูุณุจุฉ 20ูช ูู ุชุทุจูู JS.  ููุน ุฐูู ุ ูุงุญุธ ุฃู ูุฐุง ุงูุงุฎุชุจุงุฑ ูู ุนูุงูุฉ <a href="https://stackoverflow.com/a/2842707/1481479">ุชุฌุงุฑูุฉ ุตุบูุฑุฉ</a> .  ูุง ุชุนุชูุฏ ูุซูุฑุง ุนูู ูุชุงุฆุฌูุง. <br><br>  ูู ุฃุฌู ุงูุนุซูุฑ ุนูู ูุชุงุฆุฌ ุฃูุซุฑ ููุซูููุฉ ูุจุญุซ ุฃุฏุงุก ูุดุงุฑูุน AssemblyScript - ุฃูุตู ุจุฅููุงุก ูุธุฑุฉ ุนูู <a href="https://jtiscione.github.io/webassembly-wave/index.html">ูุฐู</a> ุงููุนุงููุฑ <a href="https://jtiscione.github.io/webassembly-wave/index.html">ููุฐู</a> . <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุจุงุณุชุฎุฏุงู ูุญุฏุฉ Wasm ุนูู ุตูุญุฉ ููุจ</font> </h2><br>  ุฏุนูุง ูุณุชุฎุฏู ูุญุฏุฉ Wasm ุงูุฎุงุตุฉ ุจูุง ุนูู ุตูุญุฉ ุงูููุจ.  ูุจุฏุฃ ุจุฅูุดุงุก ููู <code>index.html</code> ุจุงููุญุชููุงุช ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">&lt;!DOCTYPE html&gt; &lt;html&gt;    &lt;head&gt;        &lt;meta charset="utf-8" /&gt;        &lt;title&gt;AssemblyScript isPrime demo&lt;/title&gt;    &lt;/head&gt;    &lt;body&gt;        &lt;form id="prime-checker"&gt;            &lt;label for="number"&gt;Enter a number to check if it is prime:&lt;/label&gt;            &lt;input name="number" type="number" /&gt;            &lt;button type="submit"&gt;Submit&lt;/button&gt;        &lt;/form&gt;        &lt;p id="result"&gt;&lt;/p&gt;        &lt;script src="demo.js"&gt;&lt;/script&gt;    &lt;/body&gt; &lt;/html&gt;</code> </pre> <br>  ุงูุขู ูู ุจุฅูุดุงุก ููู <code>demo.js</code> ุงูุฐู ูุธูุฑ <code>demo.js</code> ุฃุฏูุงู.  ููุงู <a href="https://developers.google.com/web/updates/2018/04/loading-wasm">ุงูุนุฏูุฏ ูู ุงูุทุฑู</a> ูุชุญููู ูุญุฏุงุช WebAssembly.  ุงูุฃูุซุฑ ููุงุกุฉ ูู ุชุฌููุน ูุชููุฆุฉ ููู ูู ูุถุน ุงูุชุฏูู ุจุงุณุชุฎุฏุงู ูุธููุฉ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/instantiateStreaming">WebAssembly.instantiateStreaming</a> .  ูุฑุฌู ููุงุญุธุฉ ุฃููุง ุณูุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุชุนุฑูู ูุธููุฉ <a href="https://docs.assemblyscript.org/details/debugging">ุงูุฅุฌูุงุถ</a> ุ ูุงูุชู ุชุณูู ุฅุฐุง ูู <a href="https://docs.assemblyscript.org/basics/environment">ูุชู</a> ุชูููุฐ <a href="https://docs.assemblyscript.org/basics/environment">ุนุจุงุฑุฉ ูุง</a> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; {    <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> importObject = {        <span class="hljs-attr"><span class="hljs-attr">env</span></span>: {            abort(_msg, _file, line, column) {                <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">"abort called at index.ts:"</span></span> + line + <span class="hljs-string"><span class="hljs-string">":"</span></span> + column);            }        }    };    <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> WebAssembly.instantiateStreaming(        fetch(<span class="hljs-string"><span class="hljs-string">"build/optimized.wasm"</span></span>),        importObject    );    <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isPrime = <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.instance.exports.isPrime;    <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">"#result"</span></span>);    <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">"#prime-checker"</span></span>).addEventListener(<span class="hljs-string"><span class="hljs-string">"submit"</span></span>, event =&gt; {        event.preventDefault();        result.innerText = <span class="hljs-string"><span class="hljs-string">""</span></span>;        <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> number = event.target.elements.number.value;        result.innerText = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${number}</span></span></span><span class="hljs-string"> is </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${isPrime(number) ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'not '</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">prime.`</span></span>;    }); })();</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ูู ุจุชุซุจูุช ุญุฒูุฉ <a href="https://github.com/nbluis/static-server">ุฎุงุฏู ุซุงุจุช</a> .  ูุญุชุงุฌ ุฅูู ุฎุงุฏู ูุธุฑูุง ูุฃูู ูู ุฃุฌู ุงุณุชุฎุฏุงู ูุธููุฉ <code>WebAssembly.instantiateStreaming</code> ุ ูุฌุจ ุตูุงูุฉ ุงููุญุฏุฉ ุงูููุทูุฉ ุจุงุณุชุฎุฏุงู ููุน MIME <code>application/wasm</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">npm install --save-dev <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>-server</code> </pre> <br>  ุฃุถู ุงูุจุฑูุงูุฌ ุงููุตู ุงูููุงุณุจ ุฅูู <code>package.json</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{  <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: {    <span class="hljs-string"><span class="hljs-string">"serve-demo"</span></span>: <span class="hljs-string"><span class="hljs-string">"static-server"</span></span>  } }</code> </pre> <br>  ุงูุขู <code>npm run serve-demo</code> ุงูุฃูุฑ <code>npm run serve-demo</code> ูุงูุชุญ ุนููุงู URL ุงูุฎุงุต ุจุงููุถูู ุงููุญูู ูู ุงููุชุตูุญ.  ุฅุฐุง ููุช ุจุฅุฏุฎุงู ุฑูู ูุนูู ูู ุงููููุฐุฌ ุ ููููู ูุนุฑูุฉ ูุง ุฅุฐุง ูุงู ุจุณูุทูุง ุฃู ูุง.  ุงูุขู ุ ูู ุชุทููุฑ AssemblyScript ุ ูุทุนูุง ุดูุทูุง ุทูููุงู ูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฅูู ุงุณุชุฎุฏุงูู ูู Node.js ูุนูู ุตูุญุฉ ููุจ. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุงููุชุงุฆุฌ</font> </h2><br>  WebAssembly ุ ูุจุงูุชุงูู AssemblyScript ุ ุบูุฑ ูุงุฏุฑ ุนูู ุชุณุฑูุน ุฃู ูููุน ุจุทุฑููุฉ ุณุญุฑูุฉ ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ููู Wasm ูู ููู ููููุงู ุจุชุณุฑูุน ูู ุดูุก ุนูู ุงูุฅุทูุงู.  ูุฐู ุงูุชูููุฉ ุฑุงุฆุนุฉ ูุฃููุง ุชูุชุญ ุงูุทุฑูู ุฃูุงู ุงูููุจ ูุฃููุงุน ุฌุฏูุฏุฉ ูู ุงูุชุทุจููุงุช. <br><br>  ุดูุก ููุงุซู ูููู ุฃู ููุงู ุนู AssemblyScript.  ุชุนูู ูุฐู ุงูุชูููุฉ ุนูู ุชุณููู ุงููุตูู ุฅูู WebAssembly ูุนุฏุฏ ูุจูุฑ ูู ุงููุทูุฑูู.  ูุณูุญ ุ ุนูุฏ ุฅูุดุงุก ุชุนูููุงุช ุจุฑูุฌูุฉ ุจูุบุฉ ูุฑูุจุฉ ูู JavaScript ุ ุจุงุณุชุฎุฏุงู ุฅููุงููุงุช WebAssembly ูุญู ุงููุดููุงุช ุงูุญุณุงุจูุฉ ุงููุนูุฏุฉ. <br><br>  <b>ุฃุนุฒุงุฆู ุงููุฑุงุก!</b>  ููู ููููู ุชูููู ุงุญุชูุงูุงุช ุงุณุชุฎุฏุงู AssemblyScript ูู ูุดุงุฑูุนูุ <br><br><div style="text-align:center;;text-align:right;direction:rtl"> <a href="https://ruvds.com/vps_start/"><img src="https://habrastorage.org/webt/-o/2e/tu/-o2etuqogwhmdnmysb9_vivc9v4.png"></a> </div><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar477272/">https://habr.com/ru/post/ar477272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar477256/index.html">ุชู ุชุฃุฌูู ุฃูู ุฅุทูุงู ูุงูู ูู OneWeb ุนูู ูุฑูุจุฉ ุงูุฅุทูุงู Soyuz ุงูุนุงู ุงูููุจู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฅุทูุงู ูุฑูุจุฉ ุงูุฅุทูุงู Angara</a></li>
<li><a href="../ar477262/index.html">Androids ูู ุดุฑูุฉ Promobot. ุนุฑุถ ุงูุฌุงูุจ</a></li>
<li><a href="../ar477264/index.html">ุชุญููุช ุญูุงุฑุฉ ุฅูู ุฑูุจูุช ูุณุชูู ูุงุฏุฑ ุนูู ุญูุฑ ุงูุฎูุงุฏู ุจุดูู ูุณุชูู</a></li>
<li><a href="../ar477266/index.html">ููุฎุต ุงูููุงุฏ ุงูุทุงุฒุฌุฉ ูู ุนุงูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ููุฃุณุจูุน ุงููุงุถู ุฑูู 390 (18-24 ููููุจุฑ 2019)</a></li>
<li><a href="../ar477268/index.html">ุงูุจุญุซ ุงูุฃูุซู ุงูุญู ุนูู ุฌูุซุจ</a></li>
<li><a href="../ar477274/index.html">ููู ุชุชุฎูุต ูู ููุฏ CSS ุบูุฑ ุงููุณุชุฎุฏูุ ุงูุฌุฒุก 1</a></li>
<li><a href="../ar477276/index.html">ููู ุชุชุฎูุต ูู ููุฏ CSS ุบูุฑ ุงููุณุชุฎุฏูุ ุงูุฌุฒุก 2</a></li>
<li><a href="../ar477278/index.html">ุงุฎุชุจุงุฑ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ</a></li>
<li><a href="../ar477282/index.html">Profiling Go ุฑูุฒ ุงููุดุฑูุน ูุญู ูุดููุงุช ุชุฎุตูุต ุงูุฐุงูุฑุฉ</a></li>
<li><a href="../ar477284/index.html">ููุงุฐุง ูุชุทูุจ JavaScript ูุถุนูุง ุตุงุฑููุงุ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>