<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå∂Ô∏è üèñÔ∏è üê§ Audio via Bluetooth: informations les plus d√©taill√©es sur les profils, les codecs et les appareils üö≠ üìö üé´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article est √©galement disponible en russe / Cet article est √©galement disponible en russe 

 Le march√© de masse des smartphones sans prise audio 3...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Audio via Bluetooth: informations les plus d√©taill√©es sur les profils, les codecs et les appareils</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456182/"><img src="https://imgs.xkcd.com/comics/standards.png" alt="Bande dessin√©e XKCD. Comment les normes prolif√®rent. SITUATION: il existe 14 normes concurrentes. Geek: 14?! Ridicule! Nous devons d√©velopper une norme universelle couvrant tous les cas d'utilisation de chacun. La petite amie de Geek: ouais! BIENT√îT: Situation: il existe 15 normes concurrentes."><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cet article est √©galement disponible en russe / Cet article est √©galement disponible en russe</a> <br><br>  Le march√© de masse des smartphones sans prise audio 3,5 mm a chang√© l'industrie des √©couteurs, les √©couteurs sans fil Bluetooth sont devenus le principal moyen d'√©couter de la musique et de communiquer en mode casque pour de nombreux utilisateurs. <br>  Les fabricants d'appareils Bluetooth divulguent rarement les sp√©cifications d√©taill√©es des produits, et les articles audio Bluetooth sur Internet sont contradictoires et parfois incorrects.  Ils ne parlent pas de toutes les fonctionnalit√©s et publient souvent les m√™mes fausses informations. <br>  Essayons de comprendre le protocole, les capacit√©s des piles Bluetooth, des √©couteurs et des haut-parleurs, des codecs Bluetooth pour la musique et la parole, d√©couvrons ce qui affecte la qualit√© de l'audio transmis et le retard, apprenons √† capturer et d√©coder des informations sur les codecs pris en charge et autres caract√©ristiques de l'appareil. <br><br>  <b>TL; DR</b> : <br><br><ul><li>  Le codec SBC est OK </li><li>  Les √©couteurs ont leur propre √©galiseur par codec et configuration de post-traitement </li><li>  aptX n'est pas aussi bon que les publicit√©s le disent </li><li>  LDAC est un fluff marketing </li><li>  La qualit√© audio de la voix est toujours faible </li><li>  Les navigateurs sont capables d'ex√©cuter des encodeurs audio compil√©s sur WebAssembly √† partir de C en utilisant emscripten, et ils ne seront m√™me pas en retard. </li></ul><br><a name="habracut"></a><br><br><br><br><h1>  Musique via Bluetooth </h1>  Les composants fonctionnels de Bluetooth sont d√©finis par des profils - des caract√©ristiques document√©es formalis√©es dans des sp√©cifications.  La musique Bluetooth est transmise √† l'aide d'un profil de transmission audio A2DP de haute qualit√©.  La norme A2DP a √©t√© adopt√©e en 2003 et n'a pas chang√© radicalement depuis lors. <br>  Le profil standardise un codec obligatoire - SBC, un codec √† faible complexit√© de calcul cr√©√© sp√©cifiquement pour Bluetooth, et 3 codecs suppl√©mentaires.  On peut √©galement utiliser des codecs sp√©cifiques au fournisseur de votre propre impl√©mentation, non inclus dans A2DP. <br><br>  Depuis juin 2019, nous vivons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans la bande dessin√©e XKCD</a> avec 14 codecs A2DP: <br><br><ul><li>  <b>SBC</b> ‚Üê inclus dans A2DP, pris en charge par tous les appareils </li><li>  <b>MPEG-1/2 Layer 1/2/3</b> ‚Üê inclus dans A2DP: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MP3</a> largement connu, courant dans la t√©l√©vision num√©rique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MP2</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MP1</a> obsol√®te </li><li>  <b>MPEG-2/4 AAC</b> ‚Üê inclus dans A2DP </li><li>  <b>ATRAC</b> ‚Üê Ancien codec de Sony, inclus dans A2DP </li><li>  <b>LDAC</b> ‚Üê Le nouveau codec de Sony </li><li>  <b>aptX</b> ‚Üê codec de 1988 </li><li>  <b>aptX HD</b> ‚Üê identique √† aptX mais avec un profil d'encodage diff√©rent </li><li>  <b>aptX Low Latency</b> ‚Üê <s>codec totalement diff√©rent, pas d'impl√©mentation logicielle</s> aptX avec tampon inf√©rieur </li><li>  <b>aptX Adaptive</b> ‚Üê un autre codec Qualcomm </li><li>  <b>FastStream</b> ‚Üê pseudo-codec, modification bidirectionnelle SBC </li><li>  <b>HWA LHDC</b> ‚Üê Le nouveau codec de Huawei </li><li>  <b>Samsung HD</b> ‚Üê pris en charge par 2 appareils </li><li>  <b>Samsung Scalable</b> ‚Üê pris en charge par 2 appareils </li><li>  <b>Samsung UHQ-BT</b> ‚Üê pris en charge par 3 appareils </li></ul><br><br>  Vous vous demandez peut-√™tre pourquoi nous avons besoin d'un codec en premier lieu, si Bluetooth a <abbr title="D√©bit de donn√©es am√©lior√©">EDR</abbr> , qui vous permet de transf√©rer des donn√©es √† 2 ou 3 Mb / s alors que le PCM 16 bits non compress√© √† deux canaux ne n√©cessite que 1,4 Mb / s? <br><br><h1>  Transfert de donn√©es Bluetooth </h1>  Il existe deux types de transfert de donn√©es dans Bluetooth: Asynchronous Connection Less (ACL) pour le transfert asynchrone sans √©tablir de connexion et Synchronous Connection Oriented (SCO), pour le transfert synchrone avec √©tablissement de la connexion. <br>  La transmission de donn√©es utilise un sch√©ma de r√©partition dans le temps et modifie le canal de fr√©quence pour chaque paquet de donn√©es transmis (Frequency-Hop / Time-Division-Duplex, FH / TDD).  Le temps est divis√© en intervalles de 625 microsecondes, appel√©s intervalles.  L'un des appareils transmet en nombre pair de fentes, l'autre - en nombre impair.  Un paquet transmis peut occuper 1, 3 ou 5 emplacements, selon la taille des donn√©es et le mode de transmission.  Si le paquet est suffisamment gros et que plusieurs modes de transmission de cr√©neau sont utilis√©s, les donn√©es sont ex√©cut√©es dans des cr√©neaux pairs et impairs jusqu'√† la fin de la transmission.  En une seconde, vous pouvez recevoir et envoyer jusqu'√† 1600 paquets si chacun d'eux occupe 1 emplacement et que les deux appareils transmettent et re√ßoivent en continu des donn√©es. <br><br>  Les taux de transfert de 2 ou 3 Mbps pour EDR trouv√©s dans les annonces et sur le site Web Bluetooth sont le taux de transfert de donn√©es de canal maximum de toutes les donn√©es au total (y compris les en-t√™tes techniques de tous les protocoles pour les donn√©es √† encapsuler) dans deux directions simultan√©ment.  Le taux de transfert de donn√©es r√©el variera consid√©rablement. <br><br>  La m√©thode asynchrone est utilis√©e pour la diffusion de musique en continu, utilisant presque toujours des paquets de type 2-DH5 et 3-DH5, qui transportent la quantit√© maximale de donn√©es dans les modes EDR √† 2 Mb / s et 3 Mb / s respectivement et occupent 5 cr√©neaux temporels. <br><br>  Repr√©sentation sch√©matique de la transmission utilisant 5 slots par un appareil et 1 slot par un autre (DH5 / DH1): <br><img src="https://habrastorage.org/webt/ym/iz/rj/ymizrjjo_3mwd8eo_p--wooe5om.png" alt="5 cr√©neaux de transmission, dont chacun est transmis pendant 625 microsecondes, et un cr√©neau de r√©ception, √©galement 625 microsecondes. 3,75 millisecondes au total."><br><br>  En raison du principe de partage du temps, nous devons attendre un intervalle de temps de 625 microsecondes apr√®s avoir transmis un paquet si le deuxi√®me appareil ne nous transmet rien ou transmet un petit paquet, et plus de temps si le deuxi√®me appareil effectue la transmission en gros paquets.  Si plusieurs appareils sont connect√©s au t√©l√©phone (par exemple, un casque, une montre intelligente et un bracelet de fitness), le temps de transmission est partag√© entre tous. <br><br>  Le streaming audio A2DP n√©cessite l'encapsulation dans un protocole de transport sp√©cial L2CAP et AVDTP qui d√©duit 16 octets de la quantit√© maximale possible de charge utile audio dans le paquet. <br><div class="scrollable-table"><table><tbody><tr><th>  Type de paquet </th><th>  Montant de l'emplacement </th><th>  Max octets par paquet </th><th>  Octets de charge utile A2DP max. </th><th>  D√©bit binaire maximal A2DP </th></tr><tr><td>  2-dh3 </td><td>  3 </td><td>  367 </td><td>  351 </td><td>  936 Ko / s </td></tr><tr><td>  3-dh3 </td><td>  3 </td><td>  552 </td><td>  536 </td><td>  1429 ko / s </td></tr><tr><td>  2-DH5 </td><td>  5 </td><td>  679 </td><td>  663 </td><td>  1414 ko / s </td></tr><tr><td>  3-dh5 </td><td>  5 </td><td>  1021 </td><td>  1005 </td><td>  2143 ko / s </td></tr></tbody></table></div>  1414 et 1429 kbps ne sont tout simplement pas suffisants pour transmettre du son non compress√© dans des conditions r√©elles, avec une bande de 2,4 GHz bruyante et des donn√©es de service occasionnelles.  L'EDR 3 Mbps exige de la puissance de transmission et un rapport signal / bruit, donc m√™me en mode 3-DH5 aucune transmission PCM confortable n'est possible, car il y aura toujours des interruptions √† court terme et tout fonctionnera plus ou moins fiable uniquement √† une distance de quelques m√®tres. <br>  En pratique, m√™me le flux audio √† 990 kb / s (LDAC 990 kb / s) n'est pas trivial √† transmettre de mani√®re fiable. <br><br>  Revenons aux codecs. <br><br><h2>  Sbc </h2>  Ce codec est obligatoire pour tous les appareils prenant en charge la norme A2DP.  Le meilleur et le pire codec en m√™me temps. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Taux d'√©chantillonnage </th><th>  Profondeur de bits </th><th>  D√©bit binaire </th><th>  Prise en charge de l'encodage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  16, 32, 44,1, 48 kHz </td><td>  16 bits </td><td>  10-1500 ko / s </td><td>  Tous les appareils </td><td>  Tous les appareils </td></tr></tbody></table></div><br><br>  SBC est un codec simple et rapide sur le plan des calculs avec un mod√®le psychoacoustique primitif (avec un masquage auditif simple) utilisant la modulation adaptative par impulsions cod√©es (APCM). <br>  La sp√©cification A2DP recommande d'utiliser deux profils: qualit√© moyenne et haute qualit√©. <br><img src="https://hsto.org/webt/4b/ry/lo/4brylotdopfu9mh3whbmrmmmy0k.png" alt="Tableau avec profils de qualit√© moyenne et de haute qualit√©. Les valeurs sp√©cifi√©es sont bitpool, longueur de trame et d√©bit binaire. Pour st√©r√©o commune 44,1 kHz. Qualit√© moyenne: bitpool = 35, longueur de trame = 83, d√©bit binaire = 229. Haute qualit√©: bitpool = 53, longueur de trame = 119, d√©bit binaire = 328."><br><br>  Le codec poss√®de de nombreux param√®tres qui vous permettent de contr√¥ler le retard algorithmique, le nombre d'√©chantillons dans le bloc et l'algorithme d'allocation de bits, mais presque toujours les param√®tres utilis√©s dans la sp√©cification sont utilis√©s partout: <abbr title="M√©thode de codage de la st√©r√©o en tant que partie commune du signal et la diff√©rence entre les canaux √©conomise de l'espace">Joint Stereo</abbr> , 8 bandes de fr√©quences, 16 blocs dans l'audio trame, m√©thode d'allocation des bits de <abbr title="Masquage sonore silencieux en pr√©sence de sons forts, en tenant compte de la nature non lin√©aire de l'audition humaine">Loudness</abbr> . <br>  SBC peut ajuster dynamiquement le param√®tre bitpool, ce qui affecte directement le d√©bit binaire.  Si la radio est obstru√©e, que les paquets sont perdus ou que les appareils sont √©loign√©s, la source audio peut r√©duire le pool de bits pour √©viter les perturbations audio jusqu'√† ce que la connexion soit √† nouveau stable. <br><br>  Les fabricants de la plupart des √©couteurs d√©finissent la valeur maximale du param√®tre bitpool sur 53, ce qui limite le d√©bit √† 328 kilobits par seconde lors de l'utilisation du profil recommand√©. <br>  M√™me si le fabricant d'√©couteurs a d√©fini la valeur maximale du pool de bits au-dessus de 53 (ce qui est vrai, par exemple, pour Beats Solo¬≥, JBL Everest Elite 750NC, Apple AirPods, ainsi que pour certains r√©cepteurs et unit√©s principales de voiture), la plupart des syst√®mes d'exploitation ne permettront pas d'utiliser des d√©bits binaires plus √©lev√©s en raison des limites internes des piles Bluetooth. <br>  En outre, certains fabricants d√©finissent une valeur de pool de bits maximale faible pour certains appareils.  Par exemple, dans Bluedio T, il est √©gal √† 39, dans Samsung Gear IconX, il est de 37, ce qui donne une mauvaise qualit√© sonore. <br><br>  Les limitations artificielles ont √©t√© introduites dans les piles Bluetooth probablement en raison du nombre insuffisant de tests de certification et de l'incompatibilit√© de certains appareils avec de grandes valeurs Bitpool ou des profils atypiques, m√™me s'ils signalent leur prise en charge.  Il √©tait plus facile pour les d√©veloppeurs de restreindre les options √† des valeurs bonnes connues d'un profil recommand√©, plut√¥t que de cr√©er une base de donn√©es de p√©riph√©riques incompatibles.  Bien qu'ils le fassent maintenant pour d'autres fonctions qui ne fonctionnent pas correctement. <br><br>  SBC alloue dynamiquement des bits de quantification pour les bandes de fr√©quences, agissant de bas en haut, avec diff√©rents poids.  Si le d√©bit binaire entier a √©t√© utilis√© pour les fr√©quences basses et moyennes, les fr√©quences sup√©rieures seront coup√©es (remplac√©es par du silence). <br><br>  Exemple de SBC 328 kbps.  L'audio d'origine est en haut, l'audio encod√© SBC est en bas.  Les pistes sont commut√©es pour comparaison.  Le flux audio dans le fichier vid√©o est compress√© √† l'aide du codec sans perte FLAC.  L'utilisation de FLAC dans le conteneur mp4 n'est pas officiellement normalis√©e, c'est pourquoi l'audio peut ne pas √™tre lu dans votre navigateur (devrait fonctionner dans les derni√®res versions de Chrome et Firefox de bureau).  Si vous n'avez pas de son, vous pouvez t√©l√©charger le fichier et l'ouvrir dans n'importe quel lecteur vid√©o. <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/8yrssu.mp4" type="video/mp4"></video></div></div></div>  <i><font color="#666666">ZZ Top - Sharp Dressed Man</font></i> <br><br>  Le moment de la commutation est visible sur le spectrogramme: SBC coupe p√©riodiquement les sons calmes au-dessus de 17,5 kHz et n'alloue aucun bit pour une bande sup√©rieure √† 20 kHz.  Le spectrogramme est cliquable (1,7 Mo). <br> <a href=""><img src="https://habrastorage.org/webt/-n/0l/rq/-n0lrqlg47cvwkdux2tn2swevsw.jpeg" alt="image"></a> <br><br>  Je n'entends pas la diff√©rence entre l'original et le SBC sur cette piste. <br><br>  Prenons quelque chose de plus r√©cent et simulons la qualit√© audio des √©couteurs Samsung Gear IconX avec Bitpool 37 (en haut est le flux d'origine, en bas SBC 239 kbps, FLAC est utilis√© pour l'audio). <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/r561g5.mp4" type="video/mp4"></video></div></div></div>  <i><font color="#666666">Indulgence personnelle sans esprit - T√©moin</font></i> <br><br>  J'entends des gr√©sillements, un effet st√©r√©o plus petit et un "cliquetis" d√©sagr√©able de voix √† haute fr√©quence. <br><br>  Pour r√©sumer, SBC est un codec tr√®s flexible: il peut √™tre configur√© pour une faible latence, offre une excellente qualit√© audio √† des d√©bits √©lev√©s (452+ kb / s) et est assez bon pour la plupart des gens en haute qualit√© standard (328 kb / s) .  Cependant, il y a quelques raisons pour lesquelles le codec est tristement c√©l√®bre pour sa faible qualit√© sonore: la norme A2DP ne d√©finit pas de profils fixes (il ne donne que des recommandations), les d√©veloppeurs de piles Bluetooth fixent des limites artificielles sur Bitpool, les param√®tres de l'audio transmis ne sont pas affich√©s dans l'interface utilisateur, et les fabricants de casques sont libres de d√©finir leurs param√®tres et de ne jamais sp√©cifier la valeur Bitpool dans les caract√©ristiques techniques du produit. <br>  Le param√®tre bitpool affecte directement le d√©bit binaire uniquement dans un profil.  La m√™me valeur de pool de bits de 53 peut produire √† la fois le d√©bit binaire de 328 kbps avec le profil de haute qualit√© recommand√© et 1212 kbps en mode <abbr title="Mode de codage de canal, dans lequel le pool de bits entier est utilis√© pour chaque canal s√©par√©ment, doublant efficacement le d√©bit binaire">Dual Channel</abbr> et 4 bandes de fr√©quence, c'est pourquoi les auteurs du syst√®me d'exploitation ont √©galement d√©fini des limites de bitrate en plus du bitpool.  Je suppose que la situation est survenue en raison de la faille de la norme A2DP: il fallait n√©gocier le d√©bit, pas le bitpool. <br><br>  Tableau des fonctionnalit√©s SBC prises en charge dans diff√©rents syst√®mes d'exploitation: <br><div class="scrollable-table"><table><tbody><tr><th>  OS </th><th>  Taux d'√©chantillonnage </th><th>  Limite maximale de pool de bits </th><th>  Limite de d√©bit binaire max </th><th>  D√©bit typique </th><th>  Prise en charge dynamique du pool de bits </th></tr><tr><td>  <b>Windows 10</b> </td><td>  44,1 kHz </td><td>  53 </td><td>  512 kb / s </td><td>  328 kb / s </td><td>  ‚úì * </td></tr><tr><td>  <b>Linux (BlueZ + PulseAudio)</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  64 (pour les connexions entrantes), 53 (pour les connexions sortantes) </td><td>  Aucune limite </td><td>  328 kb / s </td><td>  ‚úì * </td></tr><tr><td>  <b>macOS High Sierra</b> </td><td>  44,1 kHz </td><td>  64, 53 par d√©faut *** </td><td>  Inconnu </td><td>  328 kb / s </td><td>  ‚úó </td></tr><tr><td>  <b>Android 4.4-9</b> </td><td>  44,1 / 48 kHz ** </td><td>  53 </td><td>  328 kb / s </td><td>  328 kb / s </td><td>  ‚úó </td></tr><tr><td>  <b>Android 4.1-4.3.1</b> </td><td>  44,1, 48 kHz ** </td><td>  53 </td><td>  229 ko / s </td><td>  229 ko / s </td><td>  ‚úó </td></tr><tr><td>  <b>Blackberry OS 10</b> </td><td>  48 kHz </td><td>  53 </td><td>  Aucune limite </td><td>  328 kb / s </td><td>  ‚úó </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> Bitpool diminue, mais n'augmente pas automatiquement en cas de conditions de transmission variables.</font></i>  <i><font color="#666666">Pour restaurer Bitpool, vous devez arr√™ter la lecture, attendre quelques secondes et red√©marrer l'audio.</font></i> <i><font color="#666666"><br></font></i>  <i><font color="#666666"><b>**</b> La valeur par d√©faut d√©pend des param√®tres de pile sp√©cifi√©s lors de la compilation du firmware.</font></i>  <i><font color="#666666">Dans Android 8 / 8.1, la fr√©quence n'est que de 44,1 kHz ou 48 kHz, selon les param√®tres lors de la compilation, d'autres versions prennent en charge simultan√©ment 44,1 kHz et 48 kHz.</font></i> <i><font color="#666666"><br></font></i>  <i><font color="#666666"><b>***</b> La valeur de Bitpool peut √™tre ajust√©e √† l'aide du logiciel Bluetooth Explorer.</font></i> <br><br><h2>  aptX et aptX HD </h2>  aptX est un codec simple et rapide de calcul, sans psychoacoustique, qui utilise la modulation adaptative de code d'impulsion diff√©rentielle ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ADPCM</a> ).  Il est apparu vers 1988 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la</a> date de d√©p√¥t du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">brevet</a> est f√©vrier 1988).  Avant Bluetooth, il √©tait principalement utilis√© pour les √©quipements audio sans fil professionnels.  Actuellement d√©tenue par Qualcomm, elle n√©cessite des licences et des frais de licence.  Depuis 2014: paiement unique de 6 000 $ et 1 $ par appareil, pour des lots allant jusqu'√† 10 000 appareils ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">source</a> , page 16). <br><br>  Le codec n'a qu'un seul param√®tre: la fr√©quence d'√©chantillonnage.  Bien qu'il existe √©galement une option de configuration du num√©ro / mode de canal, tous les appareils que je connais ne prennent en charge que la st√©r√©o (70+ mod√®les). <br><br><div class="scrollable-table"><table><tbody><tr><th>  Codec </th><th>  Taux d'√©chantillonnage </th><th>  Profondeur de bits </th><th>  D√©bit </th><th>  Prise en charge de l'encodage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  <b>aptX</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  16 bits </td><td>  128/256/352/384 kb / s (selon la fr√©quence d'√©chantillonnage) </td><td>  Windows 10 (ordinateur de bureau et mobile), macOS, Android 4.4 + / 7 *, Blackberry OS 10 </td><td>  Grande vari√©t√© d'appareils (en mat√©riel) </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> Les versions jusqu'√† 7 n√©cessitent une modification de la pile Bluetooth.</font></i>  <i><font color="#666666">Le codec n'est pris en charge que si le fabricant de l'appareil Android a autoris√© l'utilisation du codec de Qualcomm (si le syst√®me d'exploitation comprend des biblioth√®ques de codage incluses).</font></i> <br><br>  aptX divise l'audio en 4 bandes de fr√©quences et les quantifie avec le m√™me nombre de bits en continu: 8 bits pour 0-5,5 kHz, 4 bits pour 5,5-11 kHz, 2 bits pour 11-16,5 kHz, 2 bits pour 16,5-22 kHz ( pour une fr√©quence d'√©chantillonnage de 44,1 kHz). <br><br>  Exemple audio aptX (haut - audio original, bas - audio encod√© aptX, spectrogrammes des canaux gauches uniquement, son en FLAC): <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/06eohy.mp4" type="video/mp4"></video></div></div></div><br>  Les fr√©quences sup√©rieures sont un peu plus rouges, mais la diff√©rence n'est pas audible. <br><br>  En raison de la distribution fixe des bits de quantification, le codec ne peut pas ¬´transf√©rer les bits¬ª aux fr√©quences qui en ont le plus besoin.  Contrairement √† SBC, aptX ne ¬´coupera¬ª pas les fr√©quences, mais leur ajoutera du bruit de quantification, r√©duisant la plage dynamique de l'audio. <br><br>  Nous ne devons pas supposer que l'utilisation, par exemple, de 2 bits pour une bande r√©duit la plage dynamique √† 12 dB: ADPCM permet d'utiliser jusqu'√† 96 dB de plage dynamique, m√™me avec 2 bits de quantification, mais uniquement avec un certain type de signal . <br>  ADPCM stocke la diff√©rence entre la valeur actuelle et la valeur suivante en repr√©sentation num√©rique, au lieu d'utiliser la valeur absolue, comme dans PCM.  Cela r√©duit les exigences relatives au nombre de bits n√©cessaires pour stocker les m√™mes informations (sans perte) ou presque les m√™mes (avec une erreur d'arrondi relativement faible).  Pour r√©duire les erreurs d'arrondi, des tables de facteurs sont appliqu√©es. <br>  Lors de la cr√©ation du codec, les auteurs ont calcul√© les coefficients ADPCM sur un ensemble de fichiers audio musicaux.  Plus le signal audio est proche de l'ensemble de musique sur lequel les tables ont √©t√© construites, moins les erreurs de quantification (bruit) sont g√©n√©r√©es par aptX. <br><br>  Pour cette raison, les tests synth√©tiques produiront toujours des r√©sultats pires que la musique.  J'ai fait un exemple synth√©tique sp√©cial dans lequel aptX fonctionne mal - une onde sinuso√Ødale de 12,4 kHz (haut - signal original, bas - aptX. Son en FLAC. Viol d'oreille, diminuez le volume!): <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/kterhd.mp4" type="video/mp4"></video></div></div></div><br>  Graphique du spectre: <br><img src="https://habrastorage.org/webt/i1/p9/gr/i1p9grptgcwou7hf7f21yydddxa.png" alt="Graphique du spectre, niveau de bruit maximum - -55 dB"><br><br>  Le bruit est clairement audible. <br><br>  Cependant, si vous g√©n√©rez une onde sinuso√Ødale avec une amplitude plus petite afin qu'elle soit plus silencieuse, le bruit deviendra √©galement plus silencieux, ce qui indique une large plage dynamique: <br><img src="https://habrastorage.org/webt/qe/ti/km/qetikmcmqkiusrwtxdftmlvn_ii.png" alt="Graphique du spectre, niveau de bruit maximum - -75 dB"><br><br>  Pour entendre la diff√©rence entre une piste musicale originale et une piste compress√©e, vous pouvez inverser l'un des signaux et ajouter des pistes aux canaux respectifs.  Cette approche est incorrecte en g√©n√©ral et ne donnerait pas de r√©sultats appropri√©s avec des codecs plus complexes, mais pour les codecs de classe ADPCM, l'utilisation de cette m√©thode est raisonnable. <br>  <a href="">La diff√©rence entre l'audio original et le codage aptX</a> <br>  La diff√©rence quadratique moyenne des signaux est au niveau de -37,4 dB, ce qui n'est pas beaucoup pour une telle musique compress√©e. <br><br><h3>  aptX HD </h3>  aptX HD n'est pas un codec autonome - c'est un profil d'encodage aptX am√©lior√©.  Les changements affectent le nombre de bits allou√©s pour le codage des bandes de fr√©quences: 10 bits pour 0-5,5 kHz, 6 bits pour 5,5-11 kHz, 4 bits pour 11-16,5 kHz, 4 bits pour 16,5-22 kHz (valeurs pour 44,1 kHz) . <br><br><div class="scrollable-table"><table><tbody><tr><th>  Codec </th><th>  Taux d'√©chantillonnage </th><th>  Profondeur de bits </th><th>  D√©bit </th><th>  Prise en charge de l'encodage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  <b>aptX HD</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  24 bits </td><td>  192/384/529/576 kb / s (selon le taux d'√©chantillonnage) </td><td>  Android 8 + * </td><td>  Certains p√©riph√©riques audio (dans le mat√©riel) </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> Les versions jusqu'√† 7 n√©cessitent une modification de la pile Bluetooth.</font></i>  <i><font color="#666666">Le codec n'est pris en charge que si le fabricant de l'appareil Android a autoris√© l'utilisation du codec de Qualcomm (si le syst√®me d'exploitation comprend des biblioth√®ques de codage incluses).</font></i> <br><br>  Ce codec est moins courant que aptX: il semble exiger une licence distincte de Qualcomm et des frais de licence distincts. <br><br>  R√©p√©tons l'exemple avec une onde sinuso√Ødale de 12,4 kHz: <br><img src="https://habrastorage.org/webt/zj/be/u6/zjbeu69hd_pqm-valjq895lcoei.png" alt="Graphique du spectre, niveau de bruit maximum - -72 dB"><br><br>  Beaucoup mieux qu'avec aptX, mais toujours bruyant. <br><br><br><h2>  aptX Low Latency </h2>  La version √† faible latence d'aptX n'est pas un codec autonome.  Il ne diff√®re que par les param√®tres de latence et de tampons appliqu√©s du c√¥t√© de l'unit√© audio.  En plus de cela, c'est un aptX habituel. <br>  Il a √©t√© con√ßu pour une transmission audio interactive √† faible latence (films, jeux), o√π le retard sonore ne peut pas √™tre r√©gl√© par programme.  Il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">impl√©mentation du logiciel de pilote Dell disponible pour les puces Bluetooth Intel</a> .  Il est √©galement pris en charge par les √©metteurs, les r√©cepteurs, les √©couteurs et les haut-parleurs, mais pas les smartphones. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Taux d'√©chantillonnage </th><th>  D√©bit </th><th>  Prise en charge de l'encodage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  44,1 kHz </td><td>  352 kb / s </td><td>  Windows avec pilote Dell et certains √©metteurs (en mat√©riel) </td><td>  Certains p√©riph√©riques audio (dans le mat√©riel) </td></tr></tbody></table></div><br><br><h2>  Aac </h2>  AAC, ou Advanced Audio Coding, est un codec de calcul sophistiqu√© avec un mod√®le psychoacoustique complexe.  Il est largement utilis√© pour l'audio sur Internet, le deuxi√®me codec le plus populaire apr√®s le MP3.  Licence et frais de licence requis: paiement unique de 15 000 $ (ou 1 000 $ pour les entreprises de moins de 15 employ√©s) + 0,98 $ pour les 500 000 premiers appareils ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">source</a> ). <br>  Le codec est normalis√© dans les sp√©cifications MPEG-2 et MPEG-4 et, malgr√© une incr√©dulit√© fr√©quente, n'appartient pas √† Apple. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Taux d'√©chantillonnage </th><th>  D√©bit </th><th>  Prise en charge de l'encodage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  8 - 96 kHz </td><td>  8 - 576 kb / s (pour st√©r√©o), 256 - 320 kb / s (typique pour Bluetooth) </td><td>  macOS, Android 7 + *, iOS </td><td>  Grande vari√©t√© d'appareils (en mat√©riel) </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> uniquement sur les appareils dont les fabricants ont pay√© des redevances</font></i> <br><br>  iOS et macOS contiennent le meilleur encodeur Apple AAC disponible √† ce jour, produisant la meilleure qualit√© audio possible.  Android utilise le deuxi√®me meilleur encodeur Fraunhofer FDK AAC, mais peut √©galement utiliser divers encodeurs mat√©riels int√©gr√©s dans la plate-forme (SoC) avec une qualit√© d'encodage inconnue.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Selon des tests r√©cents publi√©s sur le site Web SoundGuys</a> , la qualit√© de l'encodage AAC sur diff√©rents t√©l√©phones Android varie consid√©rablement: <br> <a href=""><img src="https://www.soundguys.com/wp-content/uploads/2018/10/aac-enhanced-view-fr-1200x788.jpg" alt="Trac√© du spectre de codage AAC de divers appareils mobiles. Le Huawei P20 Pro a une forte baisse dans la r√©gion de 14 kHz, dans LG V30 - dans la r√©gion de 16 kHz, dans Samsung Note 8 - 17 kHz, dans Apple iPhone 7 - 19 kHz."></a> <br><br>  La plupart des p√©riph√©riques audio sans fil ont un d√©bit binaire maximal de 320 kbps pour AAC, certains ne prennent en charge que 256 kbps.  Les autres d√©bits sont extr√™mement rares. <br>  AAC offre une excellente qualit√© √† des d√©bits binaires de 320 et 256 kb / s, mais est sujet √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des pertes de g√©n√©ration</a> sur du contenu d√©j√† compress√©, mais il est difficile d'entendre les diff√©rences entre l'original et AAC 256 kb / s sur iOS, m√™me avec plusieurs encodages cons√©cutifs.  Pour les MP3 320 kbps encod√©s en AAC 256 kbps, la perte peut √™tre n√©glig√©e. <br>  Comme avec tout autre codec Bluetooth, toute musique est d'abord d√©cod√©e puis cod√©e avec un codec.  Lorsque vous √©coutez de la musique au format AAC, elle est d'abord d√©cod√©e par le syst√®me d'exploitation, puis de nouveau encod√©e en AAC, pour une transmission via Bluetooth.  Cela est n√©cessaire pour m√©langer plusieurs flux audio tels que la musique et les notifications de nouveaux messages.  iOS ne fait pas exception.  Vous pouvez trouver beaucoup de d√©clarations selon lesquelles iOS ne transcode pas la musique au format AAC pour la transmission via Bluetooth, ce qui est incorrect. <br><br>  AAC a de nombreuses extensions de la m√©thode de codage standard.  L'un d'eux - Scalable To Lossless (SLS) - est normalis√© pour Bluetooth et vous permet de transf√©rer de l'audio sans perte.  Malheureusement, aucun support SLS n'a pu √™tre trouv√© sur les appareils existants.  Une extension pour r√©duire le d√©lai de transmission AAC-LD (Low Delay) n'est pas standardis√©e pour Bluetooth. <br><br><br><h2>  MP1 / 2/3 </h2>  Les codecs MPEG-1/2 Partie 3 sont constitu√©s de MP3 bien connus et largement utilis√©s, du MP2 moins r√©pandu (utilis√© principalement dans la t√©l√©vision et la radio num√©riques) et du MP1 compl√®tement inconnu. <br><br>  Les anciens codecs MP1 et MP2 ne sont pas du tout pris en charge, je n'ai trouv√© aucun casque ni aucune pile Bluetooth qui les encoderait ou les d√©coder. <br>  Le d√©codage MP3 est pris en charge par certains √©couteurs, mais l'encodage n'est pris en charge sur aucune pile de syst√®me d'exploitation moderne.  Il semble que la pile BlueSoleil tierce pour Windows puisse encoder MP3 si vous √©ditez manuellement le fichier de configuration, mais sur mon installation, cela conduit √† BSoD sur Windows 10. Le r√©sultat: vous ne pouvez pas r√©ellement utiliser un codec pour l'audio Bluetooth. <br>  Auparavant, en 2006-2008, avant que la norme A2DP ne soit largement utilis√©e dans les appareils, les gens √©coutaient de la musique MP3 sur le casque Nokia BH-501 via le programme MSI BluePlayer, qui √©tait disponible sur Symbian et Windows Mobile.  A cette √©poque, l'architecture OS des smartphones permettait d'acc√©der √† de nombreuses fonctions de bas niveau, il √©tait m√™me possible d'installer une pile Bluetooth tierce sur Windows Mobile. <br><br>  Le dernier brevet du codec MP3 a expir√©, l'utilisation du codec ne n√©cessite pas de frais de licence depuis le 23 avril 2017. <br><br><blockquote>  Si le brevet le plus ancien mentionn√© dans les r√©f√©rences susmentionn√©es est pris √† titre de mesure, la technologie MP3 est devenue sans brevet aux √âtats-Unis le 16 avril 2017 lorsque le brevet am√©ricain 6 009 399, d√©tenu et administr√© par Technicolor, a expir√©. </blockquote>  <i><font color="#666666">Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.iis.fraunhofer.de/en/ff/amm/prod/audiocodec/audiocodecs/mp3.html</a></font></i> <br><br><div class="scrollable-table"><table><tbody><tr><th>  Taux d'√©chantillonnage </th><th>  D√©bit </th><th>  Prise en charge de l'encodage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  16 √† 48 kHz </td><td>  8 √† 320 kb / s </td><td>  Non pris en charge partout </td><td>  Certains p√©riph√©riques audio (dans le mat√©riel) </td></tr></tbody></table></div><br><br><h2>  LDAC </h2>  Nouveau codec ¬´Hi-Res¬ª de Sony, activement promu, qui prend en charge des taux d'√©chantillonnage jusqu'√† 96 kHz et une profondeur de 24 bits, avec un d√©bit jusqu'√† 990 kbps.  Il est annonc√© comme un codec audiophile, en remplacement des codecs Bluetooth existants.  Il a une fonction adaptative de d√©bit qui r√®gle le d√©bit en fonction des conditions de transmission radio. <br><br>  L'encodeur LDAC ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libldac</a> ) est inclus dans la distribution Android standard, l'encodage est pris en charge sur tout smartphone Android √† partir de la version OS 8. Les d√©codeurs logiciels ne sont pas disponibles gratuitement et la sp√©cification du codec n'est pas accessible au grand public, cependant, √† premi√®re vue au niveau de l'encodeur, les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composants</a> internes sont similaires au codec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ATRAC9</a> de Sony utilis√© sur PlayStation 4 et Vita: tous deux fonctionnent dans le domaine fr√©quentiel, utilisent une transform√©e en cosinus discr√®te modifi√©e (MDCT) et une compression Huffman. <br>  LDAC divise l'audio en 12 ou 16 bandes de fr√©quences: 12 pour 44,1 et 48 kHz, 16 pour 88,2 et 96 kHz. <br><br>  LDAC est pris en charge presque exclusivement uniquement par les √©couteurs Sony.  Le d√©codage LDAC se trouve parfois sur les √©couteurs et les DAC d'autres fabricants, mais tr√®s rarement. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Taux d'√©chantillonnage </th><th>  D√©bit </th><th>  Prise en charge de l'encodage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  44,1 - 96 kHz </td><td>  303/606/909 kb / s (pour 44,1 et 88,2 kHz), 330/660/990 kb / s (pour 48 et 96 kHz) </td><td>  Android 8+ </td><td>  Certains √©couteurs Sony et certains appareils d'autres fabricants (en mat√©riel) </td></tr></tbody></table></div><br><br>  Le marketing LDAC ¬´Hi-Res codec¬ª nuit √† ses propri√©t√©s techniques: il n'est pas judicieux de d√©penser le d√©bit binaire pour coder et transmettre des fr√©quences qui ne sont pas audibles √† l'oreille humaine et une profondeur de bits plus √©lev√©e lorsqu'il n'est toujours pas possible de compresser sans perte de l'audio de qualit√© CD.  Heureusement, le codec a deux modes de fonctionnement: la transmission audio CD et la transmission audio haute r√©solution.  Dans le premier cas, seuls 44,1 kHz / 16 bits sont transmis par voie hertzienne. <br><br>  √âtant donn√© que le d√©codeur logiciel LDAC n'est pas disponible gratuitement, il n'est pas possible de tester le codec sans dispositifs suppl√©mentaires qui d√©codent LDAC.  Selon les r√©sultats du test LDAC sur le DAC avec son support, que les ing√©nieurs de SoundGuys.com ont connect√© via la sortie num√©rique et enregistr√© le son de sortie des signaux de test, le LDAC 660 et 990 kbit / s en mode qualit√© CD fournit un signal rapport bruit / bruit l√©g√®rement meilleur que celui d'aptX HD.  C'est un bon r√©sultat. <br><br> <a href=""><img src="https://www.soundguys.com/wp-content/uploads/2018/10/LDAC-990-CD-Noise-Floor.jpg" alt="Profil de bruit LDAC CD 990 kbit / s"></a> <br>  <i><font color="#666666">Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.soundguys.com/ldac-ultimate-bluetooth-guide-20026</a></font></i> <br><br>  LDAC prend √©galement en charge le d√©bit binaire dynamique en dehors des profils √©tablis - de 138 kbps √† 990 kbps, mais pour autant que je sache, Android n'utilise que des profils standardis√©s de 303/606/909 et 330/660/990 kbps. <br><br><h2>  Autres codecs </h2>  Les autres codecs A2DP ne sont pas largement utilis√©s.  Leur prise en charge est soit presque totalement absente, soit uniquement disponible sur certains mod√®les de casques et smartphones. <br>  Le codec ATRAC normalis√© A2DP n'a jamais √©t√© utilis√© comme codec Bluetooth, m√™me par Sony.  Les codecs Samsung HD, Samsung Scalable et Samsung UHQ-BT ont une prise en charge tr√®s limit√©e des appareils d'√©mission et de r√©ception.  HWA LHDC est trop nouveau et ne prend en charge que trois (?) P√©riph√©riques. <br><br><br><h1>  Prise en charge du codec des p√©riph√©riques audio </h1>  Tous les fabricants ne publient pas des informations pr√©cises sur les codecs pris en charge par certains √©couteurs, haut-parleurs, r√©cepteurs ou √©metteurs sans fil.  Parfois, il arrive que certains codecs ne soient pris en charge que pour la transmission mais pas pour la r√©ception (pertinent pour les √©metteurs-r√©cepteurs combin√©s), bien que le fabricant d√©clare simplement ¬´prise en charge¬ª, sans aucune note (je suppose que des licences distinctes pour les encodeurs et les d√©codeurs sont √† bl√¢mer) .  Dans les appareils les moins chers, vous ne pouvez jamais trouver le support d√©clar√© pour aptX. <br><br>  Malheureusement, les codecs pris en charge ne sont affich√©s nulle part sur la plupart des interfaces du syst√®me d'exploitation.  Les informations sur le codec actuellement utilis√© ne sont pr√©sentes que sur Android, √† partir de la version 8, et macOS.  Cependant, m√™me dans ces syst√®mes d'exploitation, seuls les codecs pris en charge par le t√©l√©phone / ordinateur et les √©couteurs seront affich√©s. <br><br>  Comment savoir quels codecs le p√©riph√©rique prend en charge?  En capturant et en analysant le vidage du trafic avec les options de n√©gociation A2DP! <br>  Cela peut √™tre fait sous Linux, macOS et Android.  Sous Linux, vous pouvez utiliser Wireshark ou hcidump, dans macOS Bluetooth Explorer peut √™tre utilis√© et sous Android, utilisez la fonction de sauvegarde de vidage Bluetooth HCI disponible dans les outils de d√©veloppement.  Vous obtiendrez un vidage au format btsnoop, qui pourrait √™tre ouvert dans l'analyseur Wireshark. <br>  <b>REMARQUE</b> : vous devrez vous connecter du smartphone / ordinateur au casque pour capturer le vidage correct, et non l'inverse (peu importe √† quel point cela semble idiot)!  Les √©couteurs peuvent √©galement √©tablir une connexion avec le smartphone ou le PC, auquel cas ils demanderont une liste de codecs au t√©l√©phone et ne divulgueront pas leur propre ensemble de codecs.  Pour vous assurer de capturer un vidage correct, dissociez d'abord l'appareil, puis, pendant l'enregistrement du vidage, jumelez le t√©l√©phone avec les √©couteurs. <br><br>  Utilisez le filtre d'affichage suivant pour masquer le trafic non pertinent: <br><pre><code class="plaintext hljs">btavdtp.signal_id</code> </pre> <br><br>  En cons√©quence, vous devriez voir quelque chose de similaire: <br> <a href=""><img src="https://habrastorage.org/webt/fv/ku/xs/fvkuxsqcdwtxznupploqmldv9qm.png" alt="Wireshark avec un vidage charg√© et un filtre pour afficher la commande A2DP GetCapabilities"></a> <br><br>  En cliquant sur la commande GetCapabilities, vous pouvez obtenir des informations d√©taill√©es sur le codec. <br> <a href=""><img src="https://habrastorage.org/webt/7s/9a/xa/7s9axaeztya_dr2irptfi68ejxs.png" alt="Caract√©ristiques de l'un des √©l√©ments s√©lectionn√©s. L'ID du codec est visible."></a> <br><br>  Wireshark ne conna√Æt pas tous les identificateurs de codec, donc certains des codecs devront √™tre d√©chiffr√©s manuellement, selon le tableau des identificateurs ci-dessous: <br><pre> <code class="plaintext hljs">Mandatory: 0x00 - SBC Optional: 0x01 - MPEG-1,2 (aka MP3) 0x02 - MPEG-2,4 (aka AAC) 0x04 - ATRAC Vendor specific: 0xFF 0x004F 0x01 - aptX 0xFF 0x00D7 0x24 - aptX HD 0xFF 0x000A 0x02 - aptX Low Latency 0xFF 0x00D7 0x02 - aptX Low Latency 0xFF 0x000A 0x01 - FastStream 0xFF 0x012D 0xAA - LDAC 0xFF 0x0075 0x0102 - Samsung HD 0xFF 0x0075 0x0103 - Samsung Scalable Codec 0xFF 0x053A 0x484C - Savitech LHDC 0xFF 0x000A 0x0104 - The CSR True Wireless Stereo v3 Codec ID for AAC 0xFF 0x000A 0x0105 - The CSR True Wireless Stereo v3 Codec ID for MP3 0xFF 0x000A 0x0106 - The CSR True Wireless Stereo v3 Codec ID for aptX</code> </pre> <br>  Vous pouvez savoir si votre appareil prend en charge EDR 3 Mbps en utilisant le filtre suivant: <br><pre> <code class="plaintext hljs">bthci_evt.code==0x0b</code> </pre> <br><img src="https://habrastorage.org/webt/jj/qy/ph/jjqyphb07cjqmqgrqirhqmueula.png" alt="image"><br><br>  Afin de ne pas analyser les vidages manuellement, j'ai fait un service qui analysera tout automatiquement: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">btcodecs.valdikss.org.ru</a> <br><br>  Le logiciel Windows <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bluetooth Tweaker</a> simple mais utile affiche les codecs pris en charge et actuellement utilis√©s en plus des autres fonctionnalit√©s. <br>  Les utilisateurs Linux peuvent √©galement utiliser l'utilitaire avinfo du package BlueZ. <br><br><br><h1>  Comparaison de codecs.  Quel codec est le meilleur? </h1>  Chaque codec a ses avantages et ses inconv√©nients. <br>  aptX et aptX HD utilisent des profils cod√©s en dur qui ne peuvent pas √™tre modifi√©s sans modifier l'encodeur et le d√©codeur.  Ni le smartphone ni le fabricant du casque ne peuvent modifier le d√©bit binaire ou les facteurs de codage d'aptX.  Qualcomm, le propri√©taire du codec, distribue l'encodeur de r√©f√©rence sous forme de biblioth√®que aux licenci√©s.  Ces faits sont le point fort d'aptX - vous savez √† l'avance quelle qualit√© de son vous obtiendrez, pas de mais. <br><br>  SBC, au contraire, a de nombreux param√®tres ajustables, un d√©bit dynamique (l'encodeur peut r√©duire le param√®tre bitpool si la radio est encombr√©e), et n'a pas de profils cod√©s en dur, mais uniquement la "qualit√© moyenne" et la "haute qualit√©" recommand√©es qui ont √©t√© ajout√©es √† la sp√©cification A2DP en 2003. La ¬´haute qualit√©¬ª n'est plus aussi √©lev√©e selon les normes modernes, et la plupart des piles Bluetooth ne permettent pas d'utiliser des param√®tres qui sont meilleurs que dans le profil ¬´haute qualit√©¬ª, bien qu'il n'y ait pas de technique limitations pour cela. <br>  Bluetooth SIG ne fournit pas d'encodeur de r√©f√©rence SBC sous la forme d'une biblioth√®que et les fabricants l'impl√©mentent eux-m√™mes. <br>  Ce sont les faiblesses de SBC - il n'est jamais clair √† l'avance quelle qualit√© sonore doit √™tre attendue d'un appareil particulier.  SBC peut produire √† la fois une qualit√© sonore faible et tr√®s √©lev√©e, mais cette derni√®re est inaccessible sans d√©sactiver ni contourner les limitations artificielles des piles Bluetooth. <br><br>  La situation avec AAC est ambigu√´: d'une part, th√©oriquement, le codec devrait produire une qualit√© qui ne se distingue pas de l'original, mais la pratique, √† en juger par les tests du laboratoire SoundGuys sur diff√©rents appareils Android, n'est pas confirm√©e.  Tr√®s probablement, la faute est sur les encodeurs audio mat√©riels de faible qualit√© int√©gr√©s dans divers chipsets t√©l√©phoniques.  Il est logique d'utiliser AAC uniquement sur les appareils Apple;  avec Android, vous feriez mieux de rester avec aptX / HD et LDAC. <br><br>  Les appareils qui prennent en charge des codecs alternatifs sont g√©n√©ralement de meilleure qualit√©, tout simplement parce qu'il n'est pas logique de payer des redevances pour des appareils tr√®s bon march√© et de faible qualit√© pour utiliser ces codecs.  Selon mes tests, SBC sonne tr√®s bien sur du mat√©riel de haute qualit√©. <br><br>  J'ai cr√©√© un service Web qui encode l'audio en SBC, aptX et aptX HD en temps r√©el, directement dans votre navigateur.  Vous pouvez l'utiliser pour tester ces codecs audio sans r√©ellement transmettre l'audio via Bluetooth, sur les √©couteurs filaires, les haut-parleurs et votre musique pr√©f√©r√©e, et √©galement modifier les param√®tres d'encodage directement pendant la lecture audio: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">btcodecs.valdikss.org.ru/sbc-encoder</a> <br>  Le service utilise les biblioth√®ques de codage SBC du projet BlueZ et libopenaptx de ffmpeg, qui sont compil√©es dans WebAssembly et JavaScript √† partir de C via emscripten, pour une ex√©cution dans un navigateur.  Qui aurait pu r√™ver d'un tel avenir! <br><br>  Voici √† quoi √ßa ressemble: <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/9e9q8f.mp4" type="video/mp4"></video></div></div></div><br>  Remarquez comment le niveau de bruit change apr√®s 20 kHz pour diff√©rents codecs.  Aucune fr√©quence sup√©rieure √† 20 kHz pr√©sente dans le fichier MP3 d'origine. <br><br>  Essayez de changer de codec et voyez si vous pouvez entendre la diff√©rence entre l'original, SBC 53 Joint Stereo (le profil standard et le plus courant) et aptX / aptX HD. <br><br><br><h2>  Mais je peux entendre la diff√©rence entre les codecs <i>dans un casque</i> ! </h2>  Les personnes qui n'entendent pas la diff√©rence entre les codecs lors d'un test via un service Web affirment qu'elles l'entendent lors de l'√©coute de musique avec un casque Bluetooth.  Malheureusement, ce n'est pas une blague ou un effet placebo: la diff√©rence est vraiment audible, mais elle n'est pas caus√©e par une diff√©rence <i>de codecs</i> . <br><br>  La grande majorit√© des chipsets audio Bluetooth utilis√©s pour recevoir des appareils sans fil sont √©quip√©s d'un processeur de signal num√©rique (DSP) qui impl√©mente un √©galiseur, un <abbr title="Compresseur + Expander = Compander. Utilis√© pour am√©liorer le rapport signal / bruit.">compandeur</abbr> , un prolongateur st√©r√©o et d'autres choses con√ßues pour am√©liorer (ou changer) le son.  Les fabricants de mat√©riel Bluetooth peuvent configurer le DSP <i>pour chaque codec s√©par√©ment</i> , et lors du basculement entre les codecs, l'auditeur sentira qu'il peut entendre la diff√©rence de performance des codecs alors qu'en r√©alit√© il √©coute diff√©rents param√®tres DSP. <br><br> <a href=""><img src="https://habrastorage.org/webt/0j/75/rv/0j75rvrbutguojyxx9yu0s-uang.png" alt="Dans l'image: DECODEUR - Egaliseur param√©trique - am√©lioration st√©r√©o - compander - post mastering - gain de sortie"></a> <br>  <i><font color="#666666">Pipeline de traitement audio Kalimba DSP dans les SoC CSR / Qualcomm</font></i> <br><br><img src="https://habrastorage.org/webt/1h/_n/dd/1h_nddksnmupgey54su2xzblmgm.png" alt="Dans l'image: les cases √† cocher activent diff√©rentes fonctions DSP s√©par√©ment pour chaque codec."><br>  <i><font color="#666666">Activation de diverses fonctions DSP pour chaque codec et sortie s√©par√©ment</font></i> <br><br>  Certains appareils du segment premium sont √©quip√©s d'un logiciel qui vous permet d'ajuster les param√®tres DSP, mais la plupart des √©couteurs moins chers n'ont pas cette fonction, et les utilisateurs ne peuvent pas d√©sactiver le post-traitement du son √† l'aide d'outils standard. <br><br><br><h2>  Caract√©ristiques fonctionnelles des appareils </h2>  La version actuelle de la norme A2DP a une fonction de <b>contr√¥le du volume absolu</b> permettant de contr√¥ler le gain de sortie avec des commandes sp√©ciales en utilisant le protocole AVRCP, au lieu de r√©duire par programme le volume du flux audio lui-m√™me.  Si vous modifiez le volume du casque et que le changement n'est pas synchronis√© avec le volume du t√©l√©phone, cela signifie que votre casque ou votre t√©l√©phone ne prend pas en charge cette fonction.  Dans ce cas, il est logique de toujours √©couter de la musique au volume maximum sur le t√©l√©phone, en ajustant le volume r√©el avec les boutons du casque - le rapport signal / bruit sera meilleur et la qualit√© audio <i>devrait √™tre</i> plus √©lev√©e. <br>  En r√©alit√©, il y a des situations tristes.  Par RealForce OverDrive D1, les √©couteurs utilisent un compandeur puissant pour SBC et une augmentation de volume entra√Æne une augmentation du niveau des sons faibles, et le volume des sons forts ne change pas (la compression du signal se produit).  Pour cette raison, il est n√©cessaire de r√©gler le volume sur l'ordinateur √† environ la moiti√©, dans ce cas il n'y a pratiquement aucun effet de compression. <br>  Selon mes observations, tous les √©couteurs avec codecs suppl√©mentaires prennent en charge la fonction de contr√¥le du volume absolu, ce qui est probablement l'une des exigences pour la certification des codecs. <br><br>  Certains √©couteurs prennent en charge la <b>connexion de deux appareils en m√™me temps</b> .  Cela permet, par exemple, d'√©couter de la musique depuis un ordinateur et de recevoir des appels depuis un t√©l√©phone.  Cependant, vous devez savoir que les codecs alternatifs sont d√©sactiv√©s dans ce mode, et seul SBC est utilis√©. <br><br>  La fonction <b>AVDTP 1.3 Delay Reporting</b> permet aux √©couteurs de signaler un retard √† un appareil √©metteur qui joue r√©ellement le son.  Cela permet d'ajuster la synchronisation de l'audio avec la vid√©o tout en regardant des fichiers vid√©o: si la congestion radio se produit, l'audio ne sera pas en retard sur la vid√©o, mais au contraire, la vid√©o sera ralentie par le lecteur vid√©o jusqu'√† ce que l'audio et la vid√©o soient synchronis√© √† nouveau. <br>  La fonction est prise en charge par de nombreux √©couteurs, Android 9+ et Linux avec PulseAudio 12.0+.  Je ne suis pas au courant de la prise en charge dans d'autres syst√®mes d'exploitation. <br><br><br><h1>  Communication duplex via Bluetooth.  Transmisson vocal. </h1>  Synchronous Connection Oriented (SCO) et sa version am√©lior√©e Enhanced Synchronous Connection Oriented (eSCO) sont les modes utilis√©s pour la transmission vocale Bluetooth.  Le mode vous permet de transmettre le son et la voix strictement dans l'ordre, avec une vitesse sym√©trique d'envoi et de r√©ception, sans attendre la confirmation de la transmission et la r√©exp√©dition des paquets.  Cela r√©duit le d√©lai global de transmission de l'audio sur le canal radio, mais impose de s√©rieuses restrictions sur la quantit√© de donn√©es transmises par unit√© de temps et affecte n√©gativement la qualit√© de l'audio. <br>  Lorsque ce mode est utilis√©, la voix du microphone et l'audio sont transmis au casque avec la m√™me qualit√©. <br>  Le transfert des donn√©es lui-m√™me est normalis√© par le profil HSP, qui d√©crit √©galement des fonctions suppl√©mentaires, telles que le fonctionnement des boutons de contr√¥le du volume, le d√©crochage du combin√© et le raccrochage. <br>  Malheureusement, √† partir de 2019, la qualit√© de la transmission vocale via Bluetooth est encore m√©diocre, et on ne sait pas pourquoi Bluetooth SIG ne fait rien √† ce sujet. <br><br><h5>  CVSD </h5>  Le codec de transfert de parole de base <abbr title="Modulation delta √† pente variable en continu">CVSD a</abbr> √©t√© normalis√© en 2002 et est pris en charge par tous les appareils Bluetooth bidirectionnels.  Il fournit une transmission audio avec une fr√©quence d'√©chantillonnage de 8 kHz, ce qui correspond √† la qualit√© de la t√©l√©phonie filaire conventionnelle. <br><br>  <a href="">Un exemple d'enregistrement dans ce codec</a> . <br><br><h5>  mSBC </h5>  Un codec mSBC suppl√©mentaire a √©t√© normalis√© en 2009, et en 2010, des puces l'utilisaient d√©j√† pour la transmission vocale.  mSBC est largement pris en charge par divers appareils. <br>  Ce n'est pas un codec autonome, mais le SBC habituel de la norme A2DP, avec un profil de codage fixe: 16 kHz, mono, bitpool 26. <br><br>  <a href="">Un exemple d'enregistrement dans ce codec</a> . <br><br>  Pas g√©nial, mais bien meilleur que CVSD, bien qu'il soit toujours d√©sagr√©able de l'utiliser pour communiquer via Internet, surtout lorsque vous utilisez des √©couteurs pour communiquer dans le jeu - le son du jeu sera √©galement transmis √† une fr√©quence d'√©chantillonnage de 16 kHz . <br><br><h6>  Faststream </h6>  CSR a d√©cid√© de d√©velopper l'id√©e de r√©utiliser SBC.  Pour contourner les limites du protocole SCO et utiliser des d√©bits binaires plus √©lev√©s, CSR est all√© dans l'autre sens - ils ont ajout√© la prise en charge de l'audio SBC bidirectionnel dans la norme A2DP de transmission audio unidirectionnelle, et l'ont appel√© ¬´FastStream¬ª. <br><br>  FastStream transmet un son st√©r√©o de 44,1 ou 48 kHz aux haut-parleurs avec un d√©bit binaire de 212 kbps.  16 kHz avec un d√©bit binaire de 72 kbps (l√©g√®rement meilleur que celui du mSBC) est utilis√© pour transmettre l'audio √† partir d'un microphone.  De tels param√®tres sont beaucoup mieux adapt√©s √† la communication dans les jeux en ligne - le son du jeu et les co√©quipiers seront de haute qualit√©. <br><br>  <a href="">Un exemple d'enregistrement dans ce codec</a> (+ <a href="">audio du micro, le m√™me que dans mSBC</a> ). <br><br>  La soci√©t√© a trouv√© un hack int√©ressant, mais en raison du fait qu'il contredit la norme A2DP, seuls certains √©metteurs de la soci√©t√© le prennent en charge (qui fonctionnent comme une carte audio USB et non comme un appareil Bluetooth), mais il n'a pas re√ßu prise en charge dans la pile Bluetooth.  Le nombre d'√©couteurs avec prise en charge FastStream n'est cependant pas si petit. <br><br>  Pour le moment, le support FastStream n'est disponible que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sous la forme d'un patch pour Linux PulseAudio</a> de Pali Roh√°r, qui n'est pas inclus dans la branche principale du programme. <br><br><h5>  aptX Low Latency </h5>  √Ä la grande surprise, aptX Low Latency prend √©galement en charge l'audio bidirectionnel, impl√©mentant le m√™me principe que FastStream. <br>  Il n'y a aucun moyen d'utiliser cette fonctionnalit√© du codec n'importe o√π - il n'y a pas de support pour le d√©codage √† faible latence dans aucun syst√®me d'exploitation et dans aucune pile Bluetooth que je connaisse. <br><br><br><h1>  Bluetooth 5, Classic et Low Energy </h1>  Il y a beaucoup de confusion autour des sp√©cifications et des versions de Bluetooth en raison de la pr√©sence de deux normes incompatibles sous une m√™me marque, qui sont toutes deux largement utilis√©es √† des fins diff√©rentes. <br><br>  Il existe deux protocoles Bluetooth diff√©rents et incompatibles: Bluetooth Classic et Bluetooth Low Energy (LE, √©galement appel√© Bluetooth Smart).  Il existe √©galement un troisi√®me protocole, Bluetooth High Speed, mais il n'est pas courant et n'est pas utilis√© dans les appareils m√©nagers. <br><br>  √Ä partir de Bluetooth 4.0, les changements dans les sp√©cifications se sont concentr√©s principalement sur Bluetooth Low Energy, tandis que la version classique n'a re√ßu que des am√©liorations mineures. <br><br>  Liste des changements entre Bluetooth 4.2 et Bluetooth 5: <br><blockquote>  9 CHANGEMENTS DE v4.2 √Ä 5.0 <br><br>  9.1 NOUVELLES FONCTIONNALIT√âS <br><br>  Plusieurs nouvelles fonctionnalit√©s sont introduites dans la version Bluetooth Core Specification 5.0.  Les principaux axes d'am√©lioration sont: <br>  ‚Ä¢ Masque de disponibilit√© des emplacements (SAM) <br>  ‚Ä¢ 2 Msym / s PHY pour LE <br>  ‚Ä¢ LE longue port√©e <br>  ‚Ä¢ Publicit√© non connectable √† cycle de service √©lev√© <br>  ‚Ä¢ Extensions publicitaires LE <br>  ‚Ä¢ Algorithme de s√©lection de canal LE # 2 <br>  9.1.1 Fonctionnalit√©s ajout√©es dans CSA5 - Int√©gr√©es dans v5.0 <br>  ‚Ä¢ Puissance de sortie plus √©lev√©e </blockquote>  <i><font color="#666666">Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.bluetooth.org/docman/handlers/DownloadDoc.ashx?doc_id=421043</a> (page 291)</font></i> <br><br>  Un seul changement a affect√© la version Classic dans les sp√©cifications de Bluetooth 5: la prise en charge de la technologie Slot Availability Mask (SAM), con√ßue pour am√©liorer le partage des fr√©quences radio.  Toutes les autres modifications affectent uniquement Bluetooth LE (il en va de m√™me pour une puissance de sortie sup√©rieure). <br><br>  <b>Tous</b> les appareils audio utilisent uniquement Bluetooth Classic.  Les √©couteurs et les haut-parleurs ne peuvent pas √™tre connect√©s via Bluetooth Low Energy.  Il n'y a pas de norme pour la transmission audio √† l'aide de LE.  La norme A2DP, utilis√©e pour transmettre un son de haute qualit√©, ne fonctionne que via Bluetooth Classic, et il n'y a pas d'√©quivalent dans LE. <br><br>  Pour r√©sumer: acheter des appareils audio avec Bluetooth 5 uniquement √† cause de la nouvelle version du protocole n'a pas de sens.  Bluetooth 4.0 / 4.1 / 4.2 dans le contexte de la transmission audio fonctionnera de la m√™me mani√®re. <br>  Si l'annonce du nouveau casque mentionne un rayon doubl√© et une consommation d'√©nergie r√©duite gr√¢ce au Bluetooth 5, alors sachez qu'ils ne se comprennent pas ou vous induisent en erreur.  Pas √©tonnant, m√™me les fabricants de puces Bluetooth confondent la diff√©rence entre les deux normes, et certaines puces Bluetooth 5 ne prennent en charge la cinqui√®me version que pour LE et utilisent 4.2 pour Classic. <br><br><h1>  Latence de transmission audio </h1>  La quantit√© de latence (d√©calage) dans l'audio d√©pend de nombreux facteurs: la taille du tampon dans la biblioth√®que audio, dans la pile Bluetooth et dans le p√©riph√©rique de lecture lui-m√™me, le retard algorithmique du codec. <br><br>  Le retard des codecs simples, comme SBC, aptX et aptX HD est assez petit, environ 3-6 ms, ce qui peut √™tre n√©glig√©, mais des codecs complexes, tels que AAC et LDAC peuvent donner un retard notable.  Le retard algorithmique AAC pour 44,1 kHz est de 60 ms.  LDAC - environ 30 ms (par une analyse grossi√®re du code source. Je peux me tromper, mais pas beaucoup.) <br><br>  Le retard total d√©pend fortement du p√©riph√©rique de lecture, de son chipset et de sa m√©moire tampon.  Pendant les tests, j'ai obtenu un √©cart de 150 √† 250 ms sur diff√©rents appareils (avec le codec SBC).  Si nous supposons que les p√©riph√©riques prenant en charge les codecs suppl√©mentaires aptX, AAC et LDAC utilisent des composants de meilleure qualit√© et une petite taille de m√©moire tampon, nous obtenons les valeurs de latence typiques suivantes: <br><br>  SBC: 150-250 ms <br>  aptX: 130-180 ms <br>  AAC: 190-240 ms <br>  LDAC: 160-210 ms <br><br>  Permettez-moi de vous rappeler: aptX Low Latency n'est pas pris en charge dans les syst√®mes d'exploitation, c'est pourquoi un d√©lai inf√©rieur ne peut √™tre obtenu qu'avec un ensemble √©metteur + r√©cepteur ou √©metteur + casque / haut-parleur, et tous les appareils doivent prendre en charge ce codec. <br><br><br><h1>  Les probl√®mes de certifications, logos et appareils </h1>  Comment distinguer un appareil audio de haute qualit√© de l'artisanat bon march√©?  Par l'apparence, en premier lieu! <br><br>  Les √©couteurs, haut-parleurs et r√©cepteurs chinois bon march√© ont: <br><ol><li>  Aucun mot ¬´Bluetooth¬ª sur la bo√Æte et l'appareil, le plus souvent remplac√© par ¬´Sans fil¬ª et ¬´BT¬ª </li><li>  Pas de logo Bluetooth <img src="https://habrastorage.org/webt/qt/oi/0w/qtoi0wu5qzqnx7xzmgmqjdoijjk.png" alt="Logo Bluetooth" height="32" width="32">  sur bo√Æte ou appareil </li><li>  Pas de LED bleue clignotante </li></ol><br>  L'absence de ces √©l√©ments indique que l'appareil n'est pas certifi√©, ce qui signifie qu'il est potentiellement probl√©matique ou de mauvaise qualit√©.  Par exemple, les √©couteurs Bluedio ne sont pas certifi√©s par Bluetooth et ne sont pas enti√®rement conformes √† la sp√©cification A2DP.  Ils n'auraient pas r√©ussi le processus de certification. <br><br>  Examinons plusieurs appareils et bo√Ætes: <br> <a href=""><img src="https://habrastorage.org/webt/e4/qa/rr/e4qarrce8fcjv8wwu46aiyib3oa.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/ba/06/vb/ba06vbcolhpvuie2xlbgnvsycd0.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/mw/1b/t1/mw1bt1hp0cz11xuilzyz0a70dca.jpeg"></a> <br><br>  Ce sont tous des appareils non certifi√©s.  Les instructions peuvent avoir le logo et le nom "Bluetooth", mais le plus important - ces √©l√©ments doivent √™tre pr√©sents sur l'appareil ou la bo√Æte elle-m√™me. <br><br>  Si vos √©couteurs ou haut-parleurs disent "Ze bluetooth dewise est connect√© avec succ√®s", cela ne dit pas non plus que la qualit√© est bonne: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/TOFbsbGpIWk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><br><h1>  Conclusion </h1>  Le Bluetooth peut-il remplacer compl√®tement les √©couteurs et les casques filaires?  Probablement, mais au prix d'une voix de faible qualit√©, d'une latence accrue dans la transmission du son, ce qui peut √™tre g√™nant dans les jeux, et d'une multitude de codecs propri√©taires qui n√©cessitent des frais de licence et augmentent le co√ªt final des smartphones et des √©couteurs. <br><br>  La commercialisation de codecs alternatifs est tr√®s forte: aptX et LDAC sont pr√©sent√©s comme un remplacement tant attendu du SBC ¬´obsol√®te et mauvais¬ª, qui est loin d'√™tre aussi mauvais qu'on le pense g√©n√©ralement. <br><br>  Il s'est av√©r√© que les limitations artificielles des piles Bluetooth sur SBC peuvent √™tre contourn√©es, de sorte que le SBC sera √† √©galit√© avec aptX HD.  J'ai pris l'initiative et fait un patch pour le firmware LineageOS: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Modification de la pile Bluetooth pour am√©liorer le son des √©couteurs sans codecs AAC, aptX et LDAC</a> <br><br>  Vous trouverez plus d'informations sur les codecs sur les sites Web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SoundGuys</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SoundExpert</a> . <br><br>  <b>Bonus:</b> <a href="">encodeur de r√©f√©rence SBC, informations sur le flux binaire A2DP et fichiers de test</a> .  Ce fichier √©tait auparavant publi√© publiquement sur le site Web de Bluetooth, mais il n'est d√©sormais disponible que pour ceux qui ont rejoint Bluetooth SIG. <br><br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr456182/">https://habr.com/ru/post/fr456182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr456170/index.html">Comment cr√©er une application financi√®re: 5 API pour aider le d√©veloppeur</a></li>
<li><a href="../fr456172/index.html">Partie 2: RocketChip: connexion de la RAM</a></li>
<li><a href="../fr456174/index.html">Comment organiser un hackathon en tant qu'√©tudiant 101. Deuxi√®me partie</a></li>
<li><a href="../fr456178/index.html">Th√®mes et styles Android sans magie. Et comment les cuisiner avec SwitchCompat</a></li>
<li><a href="../fr456180/index.html">Comment ai-je trouv√© ma premi√®re vuln√©rabilit√©?</a></li>
<li><a href="../fr456184/index.html">Radio d√©finie par logiciel - comment √ßa marche? Partie 8</a></li>
<li><a href="../fr456186/index.html">CS231n: R√©seaux de neurones convolutifs pour la reconnaissance de formes</a></li>
<li><a href="../fr456188/index.html">Jeton, jeton d'actualisation et cr√©ation d'un wrapper asynchrone pour une demande REST</a></li>
<li><a href="../fr456192/index.html">Des monolithes aux microservices: l'exp√©rience de M.Video-Eldorado et MegaFon</a></li>
<li><a href="../fr456194/index.html">Aide-m√©moire sur les structures de donn√©es Go</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>