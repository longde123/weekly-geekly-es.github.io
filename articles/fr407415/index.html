<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔋 🐳 👌🏼 Raspberry Pi transmettant des signaux radio: test ✒️ 👩🏼‍🤝‍👨🏻 ⏸️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut les geektimes. 

 Récemment, j'avais besoin d'un émetteur radio de faible puissance pour des expériences à domicile. Il n'y avait rien de conven...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Raspberry Pi transmettant des signaux radio: test</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/407415/">  Salut les geektimes. <br><br>  Récemment, j'avais besoin d'un émetteur radio de faible puissance pour des expériences à domicile.  Il n'y avait rien de convenable à portée de main, puis je me suis souvenu de la méthode décrite il y a quelques années sur les sites de radio amateur - pour utiliser le Raspberry Pi directement comme émetteur.  La méthode n'est pas nouvelle et est connue depuis plusieurs années, mais il semble qu'elle n'ait jamais été décrite comme des geektimes (ou j'ai mal regardé), et une enquête auprès d'amis a montré que personne ne connaît cette méthode de transmission. <br><br>  Corrigez ce moment. <br><br><img src="https://habrastorage.org/webt/59/e2/92/59e292a7eeeb3384497549.jpeg"><br><br>  Tester son fonctionnement est sous cat. <br><a name="habracut"></a><br><h2>  Principe </h2><br>  Les ordinateurs modernes fonctionnent à des fréquences d'horloge très élevées, et tout générateur est en fait un émetteur de faible puissance.  En modifiant par programme la fréquence du multiplicateur d'horloge PLLD sur le Raspberry Pi, vous pouvez directement transmettre un signal radio à partir de la jambe du microprocesseur.  La méthode a été testée pour la première fois <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en 2013</a> , après quoi le concept a été développé, et maintenant plusieurs projets peuvent être trouvés sur Github: vous pouvez transférer différents types de signaux, AM, FM, CW, SSB, WSPR, DCF77, et même des images à balayage lent (SSTV).  Vous pouvez même transférer Stereo FM avec RDS, même dans certains programmes, il y a un support pour USB Audio, qui vous permet d'utiliser le Raspberry Pi comme <s>bug et comme</s> microphone radio. <br><br>  Bien sûr, la puissance de sortie est faible et est d'environ 10 mW.  Mais néanmoins, cela fonctionne.  Et à la note paranoïaque: oui, un ordinateur moderne peut hypothétiquement transmettre un signal radio directement depuis la carte.  Certes, la portée n'est pas élevée et un tel signal ne dépassera pas la pièce suivante.  Néanmoins, en tant que méthode hypothétique de fuite d'informations, une telle méthode a lieu. <br><br>  Comment cela fonctionne, commençons les tests. <br><br><h2>  Test </h2><br>  En tant que sujet de test, Raspberry Pi3 a été pris et le programme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rpitx</a> a été <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">installé</a> .  Au lieu d'une antenne, un morceau de fil de la maquette a été placé sur le GPIO18. <br><br><div class="spoiler">  <b class="spoiler_title">La photo</b> <div class="spoiler_text">  Comme vous pouvez le voir, rien de plus :) <br><img src="https://habrastorage.org/webt/59/e2/8b/59e28b156aaa2112356245.jpeg"><br></div></div><br>  En tant qu'analyseur de spectre, le SDRPlay SDRPlay v2 a été utilisé.  Il a également vérifié si la fréquence testée était libre, s'il y avait des signaux ou des négociations. <br><br><h3>  1. Mode VFO </h3><br>  Dans ce mode, un signal simple est transmis à la fréquence indiquée: <br><br><pre><code class="hljs powershell">sudo ./rpitx <span class="hljs-literal"><span class="hljs-literal">-m</span></span> VFO <span class="hljs-operator"><span class="hljs-operator">-f</span></span> <span class="hljs-number"><span class="hljs-number">235000000</span></span></code> </pre> <br>  L'activation de l '«émetteur» prend quelques secondes, après quoi un pic <i>à environ</i> la fréquence indiquée est visible sur l'écran SDR. <br><br><img src="https://habrastorage.org/webt/59/e2/71/59e271e5745f0835335278.jpeg"><br><br>  Comme vous pouvez le voir, en plus du pic central, il y en a, hélas, de nombreux latéraux.  L'essentiel est que, comme tout microprocesseur, le Raspberry Pi transmet en temps réel un <b>signal rectangulaire</b> .  Ce qui a un tas d'harmoniques, et au lieu d'une seule fréquence, tout un tas d'ordures vole dans l'air à toutes les fréquences multiples.  Sur le SDR, vous pouvez voir que les interférences de la transmission "volent" à travers le spectre, jusqu'à gigahertz. <br><br>  Avec une puissance de 10mW, ce n'est pas un problème, mais <b>une observation importante en</b> découle: le désir de connecter un amplificateur de puissance au Raspberry Pi serait une mauvaise idée.  Ou vous devez utiliser le filtre passe-bas, qui coupera les fréquences plus élevées, mais dans ce cas, toute l'essence de la simplicité de l'idée est perdue. <br><br><h3>  2. Mode FM étroit </h3><br>  Le même programme peut transférer un fichier wav en mode FM étroit, qui peut être utilisé, par exemple, pour écouter des stations de radio portables. <br><br>  Créez d'abord un fichier de données - convertissez le fichier en données IQ: <br><br><pre> <code class="hljs objectivec">./pifm sampleaudio.wav <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.fm</code> </pre> <br>  Nous commençons le transfert: <br><br><pre> <code class="hljs powershell">sudo ./rpitx <span class="hljs-literal"><span class="hljs-literal">-m</span></span> RF <span class="hljs-literal"><span class="hljs-literal">-i</span></span> out.fm <span class="hljs-operator"><span class="hljs-operator">-f</span></span> <span class="hljs-number"><span class="hljs-number">235000000</span></span></code> </pre> <br>  Mais comme je n'ai pas essayé, le son n'a pas fonctionné, seuls les «sticks» sur le spectre.  Soit le programme ne prend pas en charge Raspberry Pi 3, soit il contient une autre erreur. <br><br><h3>  3. Mode WFM </h3><br>  Pour transmettre une radio FM à part entière, il existe un programme PiFmRds, qui peut être téléchargé à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partir de guthub</a> .  Contrairement à la version précédente, le programme utilise une broche différente, GPIO4, donc "l'antenne" a dû être réorganisée. <br><br>  Exécutez le programme à partir de la ligne de commande: <br><br><pre> <code class="hljs powershell">sudo ./pi_fm_rds <span class="hljs-literal"><span class="hljs-literal">-audio</span></span> sound.wav <span class="hljs-literal"><span class="hljs-literal">-freq</span></span> <span class="hljs-number"><span class="hljs-number">87.0</span></span></code> </pre> <br>  Ça marche ... mais le son est très haut et grinçant, en fréquence supérieure à 2 fois, comme dans les personnages du dessin animé Disney.  Par la méthode de piquer scientifique, je sélectionne le paramètre ppm (correction), la ligne de commande s'est révélée comme ceci: <br><br><pre> <code class="hljs powershell">sudo ./pi_fm_rds <span class="hljs-literal"><span class="hljs-literal">-audio</span></span> sound.wav <span class="hljs-literal"><span class="hljs-literal">-freq</span></span> <span class="hljs-number"><span class="hljs-number">87.0</span></span> <span class="hljs-literal"><span class="hljs-literal">-ppm</span></span> <span class="hljs-literal"><span class="hljs-literal">-320000</span></span></code> </pre> <br>  Il s'est avéré que la fréquence de transmission a également baissé de près de mégahertz, et le spectre est deux fois plus large que celui d'une station normale normale: <br><br><img src="https://habrastorage.org/webt/59/e2/87/59e287ebab387807682607.jpeg"><br><br>  La qualité sonore est similaire à celle d'un combiné, mais en principe, elle est assez lisible.  Étonnamment, la portée s'est avérée assez bonne, dans tout l'appartement, le signal a été capté en toute confiance sur un récepteur FM ordinaire.  Et ce, d'ailleurs, sur une antenne totalement incohérente dont l'efficacité est extrêmement faible.  Soit dit en passant, en utilisant une méthode spéciale de transmission WSPR à bande étroite et des antennes accordées, avec 10 mW de puissance, la radio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">amateur a</a> réussi à transmettre un signal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">à une distance pouvant atteindre 2000 km</a> . <br><br><h2>  Conclusions </h2><br>  La méthode de transfert est plutôt intéressante, comme la preuve de concept.  Il n'était pas possible d'obtenir une bonne qualité sonore, et il y avait quelque chose d'incompréhensible avec les fréquences, l'écart était très fort.  Mais le fait que seule une méthode logicielle, sans aucun "matériel" externe, il soit possible de transmettre des signaux sous n'importe quelle forme de modulation, avec une fréquence allant jusqu'à 500 MHz, est assez intéressant.  Eh bien, dans la pratique, si vous avez besoin d'un générateur simple et de faible puissance, cette méthode peut être utile. <br><br>  Pour ceux qui veulent répéter l'expérience, quelques conseils: <br><br>  - N'utilisez pas d'antennes court-circuitées - un court-circuit dans la broche endommagera le Raspberry Pi.  Un simple morceau de fil, dans le meilleur des cas, une antenne dipôle, suffit, la longueur de la "moustache" peut être calculée dans n'importe quelle calculatrice en ligne. <br>  - N'utilisez pas d'amplificateur de puissance - le signal contient trop de bruit et interférera avec d'autres services. <br><br>  Si vous le souhaitez, vous pouvez également trouver de nombreux didacticiels vidéo avec une démonstration sur youtube, par exemple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">celui-ci</a> . <br><br>  Toutes les expériences réussies. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr407415/">https://habr.com/ru/post/fr407415/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr407405/index.html">Projecteur de poche Cinemood Storyteller: le cinéma pour enfants dans la paume de votre main</a></li>
<li><a href="../fr407407/index.html">SNES Classic Mini - revue des nouvelles consoles "rétro" de Nintendo</a></li>
<li><a href="../fr407409/index.html">Oubliez Ilona - les prévisions pour les entreprises basées sur l'intelligence artificielle ne sont pas si effrayantes</a></li>
<li><a href="../fr407411/index.html">Sélectionnez et assemblez un clavier à 60%</a></li>
<li><a href="../fr407413/index.html">Des drones aident à suivre l'avancement des fouilles lors de la construction de l'hôpital</a></li>
<li><a href="../fr407417/index.html">Poutine a ordonné la libération de la crypto-monnaie russe - Crypto-monnaie</a></li>
<li><a href="../fr407419/index.html">Eh, marteau, jetons un coup d'œil: comment dans Salyut-7 ils ont fait une fiction non scientifique au lieu du cinéma historique</a></li>
<li><a href="../fr407423/index.html">Un peu sur le lien entre la pensée systémique et l'autopoïèse</a></li>
<li><a href="../fr407425/index.html">Sept erreurs majeures commises par les auteurs de prévisions d'IA</a></li>
<li><a href="../fr407427/index.html">Rendre l'éclairage domestique un peu plus intelligent</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>