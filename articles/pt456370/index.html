<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÜüèª üå∏ üåô Implementar QoS no armazenamento Qsan ü•ê üòÅ üçÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A QoS de tecnologia (qualidade de servi√ßo) na infraestrutura de rede √© conhecida h√° muito tempo. Mais tarde, algoritmos semelhantes encontraram aplica...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Implementar QoS no armazenamento Qsan</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skilline/blog/456370/"><p>  A QoS de tecnologia (qualidade de servi√ßo) na infraestrutura de rede √© conhecida h√° muito tempo.  Mais tarde, algoritmos semelhantes encontraram aplica√ß√£o no campo do armazenamento de dados, tornando-se o padr√£o para sistemas que aspiram ao mercado corporativo.  No armazenamento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Qsan,</a> essa funcionalidade ficou dispon√≠vel relativamente recentemente com o advento da vers√£o de firmware 1.4.0. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yu/1x/ks/yu1xkspg6iuscrl6j5xrlg86gf4.png"></div><a name="habracut"></a><br><p>  A pr√≥pria id√©ia de definir prioridades para v√°rias tarefas (ou seja, essa √© a ess√™ncia dos algoritmos de QoS) deve-se ao acesso igual aos recursos dos hosts.  Se o desempenho geral do armazenamento for suficiente, as freq√ºentes explos√µes de atividade de determinados servi√ßos poder√£o ser compensadas pelo requisito de desempenho reduzido de outros aplicativos.  No entanto, na vida real, v√°rios servi√ßos cr√≠ticos de armazenamento geralmente est√£o localizados no mesmo sistema de armazenamento de uma s√≥ vez.  Se voc√™ confiar no acesso igual aos recursos, a "frenagem" de pelo menos um deles poder√° ocorrer devido ao trabalho de outros aplicativos. </p><br><p>  Al√©m de aplicativos produtivos que s√£o cr√≠ticos para os indicadores de desempenho, os ambientes de armazenamento para desenvolvedores tamb√©m podem estar localizados em sistemas de armazenamento, que tamb√©m devem ter desempenho limitado para n√£o interferir no trabalho principal.  Al√©m disso, sempre h√° trabalhos de manuten√ß√£o programada e n√£o programada em sistemas que tamb√©m exigem certos recursos, afastando-os dos principais servi√ßos.  Portanto, os aplicativos de classifica√ß√£o localizados no sistema de armazenamento de acordo com sua prioridade de acesso aos recursos em termos de desempenho ser√£o muito √∫teis. </p><br><p>  Em termos de configura√ß√£o da QoS, duas pol√≠ticas principais podem ser distinguidas: </p><br><ul><li>  Definir valores m√°ximos (limite superior) </li><li>  Definir os valores m√≠nimos desejados (restri√ß√£o "bottom") </li></ul><br><p>  Para QoS, um deles √© selecionado.  Se necess√°rio, voc√™ sempre pode alterar as configura√ß√µes em tempo real.  As pol√≠ticas de QoS se aplicam a volumes individuais. </p><br><p>  Os valores m√°ximos s√£o IOPS e largura de banda.  O valor padr√£o √© Ilimitado (ilimitado).  Se valores espec√≠ficos forem definidos, o desempenho ser√° limitado por esses n√∫meros. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/p3/6v/d6/p36vd65tcj-3lpz_6ob0luwacys.png"></div><br><p>  Se voc√™ usar a restri√ß√£o "a partir de baixo", dever√° definir a prioridade de acesso aos recursos: baixa, m√©dia ou alta.  Em caso de alta prioridade, voc√™ tamb√©m pode definir o valor m√≠nimo desejado para o par√¢metro Tempo de resposta.  Este par√¢metro n√£o √© em v√£o designado como desej√°vel, porque  sua conquista est√° longe de ser sempre poss√≠vel devido √† configura√ß√£o dos inversores utilizados e √† carga atual no sistema. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/im/j-/iaimj--bat0jkq38mdeduc2vgae.png"></div><br><h2>  Verifica√ß√£o nos neg√≥cios </h2><br><p>  Como banco de ensaio, usamos um servidor conectado diretamente ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sistema de</a> armazenamento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">XS5224</a> por meio da interface Fibre Channel.  O armazenamento foi preenchido com discos NL-SAS 7.2K montados em 3 conjuntos RAID-0.  Um volume foi criado em cada um dos conjuntos, totalizando 3 volumes.  A carga foi o teste do IOmeter. </p><br><h3>  Usando a prioridade de acesso ao recurso </h3><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/8w/zp/g7/8wzpg78tybbyvpyiszhlffnqxna.png"></div>  <i>Configura√ß√µes de QoS</i> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/fr/q0/fy/frq0fyhinva8acqemiilwxqodae.png"></div>  <i>Resultados do teste</i> <br><br><p>  √â claramente visto que, ao alterar a prioridade, o desempenho √© redistribu√≠do na ordem correspondente. </p><br><h3>  Usando o acesso priorit√°rio aos recursos, indicando o tempo de acesso desejado </h3><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/30/nf/a7/30nfa7lh_w5uni0pd9dhv1aucse.png"></div>  <i>Configura√ß√µes de QoS</i> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/wh/an/wq/whanwqhwwx9-kzxmy3qg7xbtx2o.png"></div>  <i>Resultados do teste</i> <br><br><p>  Ao alterar a prioridade, o desempenho √© redistribu√≠do na ordem apropriada.  Para Vol-1, o valor do Tempo de resposta tende aos 25ms especificados, mas n√£o o atinge devido √† falta de desempenho do grupo RAID. </p><br><h3>  Usando o limite de IOPS </h3><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ik/ht/5h/ikht5hjbnfzz9twg-f50luxv-bm.png"></div>  <i>Configura√ß√µes de QoS</i> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/-r/eu/p4/-reup4gi_qwxee6pznutmuo8a58.png"></div>  <i>Resultados do teste</i> <br><br><p>  Com desempenho limitado no IOPS para alguns volumes, o restante dos volumes obt√©m um aumento na velocidade devido √† disponibilidade de recursos. </p><br><h3>  Usando limites de largura de banda </h3><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yb/3p/hk/yb3phkfac48xabjozsc4h7pgojq.png"></div>  <i>Configura√ß√µes de QoS</i> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/n6/ts/nh/n6tsnhrcnollithw-e3wrnzbbq8.png"></div>  <i>Resultados do teste</i> <br><br><p>  Quando o desempenho da largura de banda √© limitado, o desempenho de volumes individuais tamb√©m aumenta devido aos recursos liberados. </p><br><blockquote>  A funcionalidade de QoS no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">armazenamento Qsan</a> √© uma das principais ferramentas para aumentar a produtividade equilibrando e priorizando.  Como os testes mostraram, os algoritmos funcionam de maneira bastante previs√≠vel.  Tamb√©m √© importante observar que a funcionalidade de QoS √© totalmente gratuita.  E pode ser usado n√£o apenas em sistemas rec√©m-adquiridos, mas tamb√©m em sistemas de armazenamento, que est√£o em opera√ß√£o h√° muito tempo, atualizando o firmware. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt456370/">https://habr.com/ru/post/pt456370/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt456354/index.html">Como coletamos caixas de TV</a></li>
<li><a href="../pt456358/index.html">Os 13 artigos mais infames do ano passado</a></li>
<li><a href="../pt456362/index.html">Designer de n√≠vel 6: como motivamos e desenvolvemos designers</a></li>
<li><a href="../pt456366/index.html">Como projetei a caixa LED HEART</a></li>
<li><a href="../pt456368/index.html">Executando transa√ß√µes p√∫blicas e privadas no blockchain JPMorgan Quorum usando Web3</a></li>
<li><a href="../pt456372/index.html">SimbirSoft convida profissionais de TI para o ver√£o intensivo de 2019</a></li>
<li><a href="../pt456374/index.html">Estruturas de dados de estado de blockchain do Plasma Cash</a></li>
<li><a href="../pt456376/index.html">N√£o √© uma bota primavera: uma vis√£o geral das alternativas</a></li>
<li><a href="../pt456380/index.html">Dia Aberto da Faculdade de Programa√ß√£o em Netologia</a></li>
<li><a href="../pt456382/index.html">Colabora√ß√£o e automa√ß√£o no frontend. O que aprendemos com 13 escolas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>