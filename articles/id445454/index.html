<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçÅ üöµ üë®‚Äçüëß‚Äçüë¶ Raspberry Pi Nol Di Dalam Handy Tech Active Star Tampilan Braille 40 üà∏ üò• üíÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penulis menempatkan Raspberry Pi Zero, "peluit" Bluetooth dan kabel di dalam layar Braille Handy Tech Active Star 40 yang baru. Port USB internal memb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Raspberry Pi Nol Di Dalam Handy Tech Active Star Tampilan Braille 40</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445454/"><img src="https://habrastorage.org/webt/5i/vv/tl/5ivvtlnh3-qi8x3gtk0kzgczlt4.jpeg"><br><br>  Penulis menempatkan Raspberry Pi Zero, "peluit" Bluetooth dan kabel di dalam layar Braille Handy Tech Active Star 40 yang baru. Port USB internal memberikan daya.  Hasilnya adalah komputer non-monitor mandiri pada ARM dengan sistem operasi Linux, dilengkapi dengan keyboard dan layar braille.  Anda dapat mengisi / menyalakannya melalui USB, termasuk.  dari bank daya atau pengisi daya surya.  Oleh karena itu, dapat mengeluarkan daya listrik tidak selama beberapa jam, tetapi selama beberapa hari. <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/so/yo/ky/soyokywncc6nvduroz7wnbngtly.jpeg"><br><br><h1>  Diferensiasi dimensi tampilan braille </h1><br>  Pertama-tama, mereka memiliki panjang string yang berbeda.  Perangkat 60 dan yang lebih akrab baik ketika bekerja dengan komputer desktop, 40 perangkat nyaman untuk dibawa dengan laptop.  Sekarang ada tampilan Braille yang terhubung ke smartphone dan tablet, dengan panjang string 14 atau 18 keakraban. <br><br>  Di masa lalu, tampilan braille cukup besar.  40-familiar, misalnya, memiliki dimensi dan berat laptop 13 inci.  Sekarang, dengan jumlah yang sama keakraban, mereka cukup mini untuk meletakkan layar di depan laptop, bukan laptop di layar. <br><br>  Ini, tentu saja, lebih baik, tetapi tetap tidak nyaman untuk menyimpan dua perangkat terpisah di pangkuan Anda.  Ketika Anda bekerja di meja, tidak ada keluhan, tetapi perlu diingat bahwa laptop itu disebut laptop dengan cara yang berbeda dan mencoba untuk membenarkan namanya, karena ternyata tampilan miniatur 40 kursi bahkan kurang nyaman. <br><br>  Jadi penulis menunggu rilis model baru yang telah lama dijanjikan dalam seri Handy Tech Star.  Kembali pada tahun 2002, model Handy Tech Braille Star 40 sebelumnya dirilis, di mana area tubuh cukup untuk menempatkan laptop di atas.  Dan jika tidak cocok, dudukan yang dapat ditarik disediakan.  Sekarang model ini digantikan oleh Active Star 40, hampir sama, tetapi dengan elektronik yang ditingkatkan. <br><br><img src="https://habrastorage.org/webt/mx/tx/ba/mxtxbaqpjfxzn_j_utlp5i8nxom.jpeg"><br><br>  Dan dudukan yang bisa ditarik tetap: <br><br><img src="https://habrastorage.org/webt/6-/ds/hq/6-dshqxvtaajiaqqddsv9jnyqaa.jpeg"><br><br>  Tetapi hal yang paling nyaman dalam hal baru adalah reses kira-kira seukuran smartphone (lihat KDPV).  Ini terbuka ketika platform bergerak kembali.  Ternyata tidak nyaman menyimpan smartphone di sana, tetapi entah bagaimana Anda perlu menggunakan kompartemen kosong, yang di dalamnya bahkan disediakan output daya. <br><br>  Hal pertama yang penulis kemukakan adalah meletakkan Raspberry Pi di sana, tetapi ketika display dibeli, ternyata dengan "raspberry" dudukan, yang menutup kompartemen, tidak masuk.  Sekarang, jika papan itu hanya 3 mm lebih tipis ... <br><br>  Tetapi seorang rekan berbicara tentang pelepasan Raspberry Pi Zero, yang ternyata sangat kecil sehingga dua akan masuk ke dalam kompartemen ... atau bahkan mungkin tiga.  Segera dipesan bersama dengan kartu memori 64 GB, Bluetooth, peluit dan kabel Micro USB.  Beberapa hari kemudian, semua ini tiba, dan teman-teman yang terlihat membantu penulis membuat peta.  Semuanya segera bekerja sebagaimana mestinya. <br><br><h1>  Apa yang dilakukan untuk ini? </h1><br>  Di bagian belakang Handy Tech Active Star 40 terdapat dua port USB untuk perangkat seperti keyboard.  Termasuk keyboard kecil yang dipasang secara magnetis.  Saat keyboard terhubung, dan layar itu sendiri berfungsi melalui Bluetooth, komputer juga mengenalinya sebagai keyboard Bluetooth. <br><br>  Dengan demikian, jika Anda menghubungkan "peluit" Bluetooth ke Raspberry Pi Zero yang ditempatkan di kompartemen smartphone, ia akan dapat berkomunikasi dengan layar Braille melalui Bluetooth menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">BRLTTY</a> , dan jika Anda juga menyambungkan keyboard ke layar, "Malinka" akan berfungsi dan dengan dia. <br><br>  Tapi itu belum semuanya.  Malinka sendiri, pada gilirannya, dapat mengakses Internet melalui Bluetooth PAN dari perangkat apa pun yang mendukungnya.  Penulis mengatur smartphone dan komputernya di rumah dan di tempat kerja, tetapi di masa depan ia berencana untuk mengadaptasi satu lagi "raspberry" untuk ini - yang klasik, bukan Zero, yang terhubung ke Ethernet dan "peluit" Bluetooth lainnya. <br><br><h1>  BlueZ 5 dan PAN </h1><br>  Cara mengkonfigurasi PAN menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">BlueZ</a> tidak jelas.  Penulis menemukan skrip pyhton bt-pan (lihat di bawah) yang memungkinkan Anda mengkonfigurasi PAN tanpa GUI. <br><br>  Dengannya, Anda dapat mengonfigurasi server dan klien.  Setelah menerima perintah D-Bus yang sesuai ketika bekerja dalam mode klien, ia menciptakan perangkat jaringan bnep0 baru segera setelah membuat koneksi ke server.  Biasanya, DHCP digunakan untuk menetapkan alamat IP ke antarmuka ini.  Dalam mode server, BlueZ membutuhkan nama perangkat jembatan yang dapat ditambahkan oleh budak untuk menghubungkan setiap klien.  Mengkonfigurasi alamat untuk perangkat bridge dan memulai server DHCP plus IP masking pada bridge biasanya adalah semua yang diperlukan. <br><br><h1>  Titik Akses PAN Bluetooth dengan Systemd </h1><br>  Untuk mengkonfigurasi jembatan, penulis menerapkan systemd-networkd: <br><br>  File /etc/systemd/network/pan.netdev <br><br><pre><code class="plaintext hljs">[NetDev] Name=pan Kind=bridge ForwardDelaySec=0</code> </pre> <br>  File /etc/systemd/network/pan.network <br><br><pre> <code class="plaintext hljs">[Match] Name=pan [Network] Address=0.0.0.0/24 DHCPServer=yes IPMasquerade=yes</code> </pre> <br>  Sekarang Anda perlu memaksa BlueZ untuk mengkonfigurasi profil NAP.  Ternyata utilitas reguler BlueZ 5.36 tidak dapat dilakukan.  Jika penulis salah, perbaiki: mlang (tahu cara menggerakkan telinga) guru buta (terkadang akses dan kuantum) <br><br>  Tapi dia menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">posting blog</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">skrip Python</a> untuk melakukan panggilan yang diperlukan ke D-Bus. <br><br>  Untuk kenyamanan, penulis menggunakan layanan Systemd untuk menjalankan skrip dan memeriksa resolusi ketergantungan. <br><br>  File /etc/systemd/system/pan.service <br><br><pre> <code class="plaintext hljs">[Unit] Description=Bluetooth Personal Area Network After=bluetooth.service systemd-networkd.service Requires=systemd-networkd.service PartOf=bluetooth.service [Service] Type=notify ExecStart=/usr/local/sbin/pan [Install] WantedBy=bluetooth.target</code> </pre> <br>  File / usr / local / sbin / pan <br><br><pre> <code class="plaintext hljs">#!/bin/sh # Ugly hack to work around #787480 iptables -F iptables -t nat -F iptables -t mangle -F iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE exec /usr/local/sbin/bt-pan --systemd --debug server pan</code> </pre> <br>  File kedua tidak diperlukan jika Debian memiliki IPMasquerade = dukungan (lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="># 787480</a> ). <br><br>  Setelah menjalankan <i>systemctl daemon-reload</i> dan <i>systemctl restart perintah systemd-networkd,</i> Anda dapat memulai Bluetooth PAN dengan perintah <i>systemctl start pan</i> <br><br><h1>  Klien PAN Bluetooth Menggunakan Systemd </h1><br>  Sisi klien juga mudah dikonfigurasi menggunakan Systemd. <br><br>  File /etc/systemd/network/pan-client.network <br><br><pre> <code class="plaintext hljs">[Match] Name=bnep* [Network] DHCP=yes</code> </pre> <br>  File /etc/systemd/system/pan@.service <br><br><pre> <code class="plaintext hljs">[Unit] Description=Bluetooth Personal Area Network client [Service] Type=notify ExecStart=/usr/local/sbin/bt-pan --debug --systemd client %I --wait</code> </pre> <br>  Sekarang, setelah mem-boot ulang konfigurasi, Anda dapat terhubung ke jalur akses Bluetooth yang ditentukan seperti ini: <br><br><pre> <code class="plaintext hljs">systemctl start pan@00:11:22:33:44:55</code> </pre> <br><h1>  Pemasangan baris perintah </h1><br>  Tentu saja, server dan klien harus dikonfigurasikan setelah memasangkannya melalui Bluetooth.  Di server, Anda perlu menjalankan bluetoothctl dan berikan perintah: <br><br><pre> <code class="plaintext hljs">power on agent on default-agent scan on scan off pair XX:XX:XX:XX:XX:XX trust XX:XX:XX:XX:XX:XX</code> </pre> <br>  Setelah memulai pemindaian, tunggu beberapa detik hingga perangkat yang Anda butuhkan muncul dalam daftar.  Tuliskan alamatnya dan gunakan dengan mengeluarkan perintah pasangan, dan jika perlu, perintah kepercayaan. <br><br>  Klien harus melakukan hal yang sama, tetapi perintah trust tidak akan diperlukan untuk memastikan.  Server memerlukannya untuk menerima koneksi pada profil NAP tanpa konfirmasi manual oleh pengguna. <br><br>  Penulis tidak yakin apakah ini urutan optimal dari perintah.  Mungkin yang diperlukan hanyalah memasangkan klien dengan server dan menjalankan perintah trust di server, tetapi dia belum mencobanya. <br><br><h1>  Mengaktifkan Profil Bluetooth HID </h1><br>  Diperlukan bahwa "Malinka" mengenali keyboard yang terhubung ke layar Braille oleh kawat, dan sudah diteruskan oleh layar itu sendiri melalui Bluetooth.  Ini dilakukan dengan cara yang sama, hanya alih-alih <i>agen pada</i> Anda perlu memberikan perintah <i>agen KeyboardOnly</i> , dan bluetoothctl akan menemukan perangkat dengan profil HID. <br><br><h1>  Tetapi mengkonfigurasi Bluetooth melalui baris perintah agak rumit </h1><br>  Meskipun penulis berhasil mengkonfigurasi semuanya, ia memahami bahwa mengkonfigurasi BlueZ melalui baris perintah tidak nyaman.  Pada awalnya, dia berpikir bahwa agen hanya diperlukan untuk memasukkan kode PIN, tetapi ternyata, misalnya, untuk mengaktifkan profil HID kita harus mengetikkan "agen KeyboardOnly".  Anehnya, untuk meluncurkan Bluetooth PAN, Anda perlu memanjat repositori untuk mencari skrip yang diinginkan.  Dia ingat bahwa dalam versi BlueZ sebelumnya ada alat <i>pand</i> siap <i>pakai</i> untuk ini - di mana dia melakukannya di BlueZ 5?  Tiba-tiba, solusi baru muncul, tidak dikenal oleh penulis, tetapi berbaring di permukaan? <br><br><h1>  Performa </h1><br>  Kecepatan transfer data sekitar 120 kbps, yang cukup memadai.  Prosesor ARM 1 GHz sangat cepat untuk antarmuka baris perintah.  Penulis masih berencana untuk menggunakan ssh dan emacs pada perangkat. <br><br><h1>  Font dan Resolusi Layar Konsol </h1><br>  Resolusi layar default yang digunakan oleh framebuffer pada Raspberry Pi Zero agak aneh: fbset melaporkan bahwa resolusi itu 656x416 piksel (tentu saja, monitor tidak terhubung).  Dengan font konsol 8x16, 82 karakter per baris dan 26 baris diperoleh. <br><br>  Tidak nyaman untuk bekerja dengan tampilan Braille 40 karakter dalam mode ini.  Juga, penulis ingin karakter Unicode ditampilkan di Braille.  Untungnya, Linux mendukung 512 karakter, dan di sebagian besar font konsol ada 256. Dengan konsol-setup, Anda dapat menggunakan dua font 256-karakter secara bersamaan.  Penulis menambahkan baris berikut ke file / etc / default / console-setup: <br><br><pre> <code class="plaintext hljs">SCREEN_WIDTH=80 SCREEN_HEIGHT=25 FONT="Lat15-Terminus16.psf.gz brl-16x8.psf"</code> </pre> <br>  Catatan: agar font brl-16x8.psf tersedia, Anda harus menginstal konsol-braille. <br><br><h1>  Apa selanjutnya </h1><br>  Ada jack 3.5mm pada layar Braille, tetapi penulis tidak mengetahui adapter untuk menghapus audio dari Mini-HDMI.  Penulis tidak dapat menggunakan kartu suara yang dibangun ke dalam "raspberry" (aneh, penerjemah yakin bahwa tidak ada di Zero, tetapi ada cara untuk mengeluarkan suara PWM ke GPIO).  Ia berencana untuk menggunakan hub USB-OTG dan menghubungkan kartu eksternal dan mengeluarkan suara ke speaker yang terpasang di layar Braille.  Untuk beberapa alasan, dua kartu eksternal tidak berfungsi, sekarang dia mencari perangkat yang sama pada chipset lain. <br><br>  Juga tidak nyaman untuk mematikan "raspberry" secara manual, tunggu beberapa detik dan matikan layar Braille.  Dan semua karena ketika terputus, ia menghilangkan daya dari konektor di kompartemen.  Penulis berencana untuk meletakkan baterai penyangga kecil di kompartemen dan, melalui GPIO, menginformasikan "raspberry" tentang mematikan layar sehingga mulai menyelesaikan pekerjaan.  UPS miniatur. <br><br><h1>  Gambar sistem </h1><br>  Jika Anda memiliki tampilan braille yang sama, dan Anda ingin melakukan hal yang sama dengannya, penulis siap memberikan gambar sistem yang siap pakai (berdasarkan Peregangan Raspbian).  Menulis kepadanya tentang ini di alamat di atas.  Jika ada banyak orang yang mau, bahkan mungkin untuk menghasilkan set yang mencakup semua yang Anda butuhkan untuk perubahan seperti itu. <br><br><h1>  Ucapan Terima Kasih </h1><br>  Terima kasih kepada Dave Mielke untuk mengoreksi teks. <br><br>  Terima kasih kepada Simon Kainz untuk ilustrasi fotonya. <br><br>  Terima kasih kepada rekan-rekan di Graz Technical University untuk pengenalan cepat penulis ke dunia Raspberry Pi. <br><br>  PS Kicauan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pertama</a> penulis tentang topik ini (tidak terbuka - penerjemah) dibuat hanya lima hari sebelum publikasi asli artikel ini, dan kita dapat mengasumsikan bahwa, dengan pengecualian masalah suara, tugas tersebut secara praktis diselesaikan.  Ngomong-ngomong, penulis mengedit versi final teks dari "tampilan Braille swasembada" yang dibuat olehnya, menghubungkannya melalui SSH ke komputer di rumah. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id445454/">https://habr.com/ru/post/id445454/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id445444/index.html">Pembaruan Modul Surya Berkinerja Tinggi dari REC dan Trina (Solar)</a></li>
<li><a href="../id445446/index.html">Bagaimana kami menggunakan replikasi yang ditangguhkan untuk pemulihan bencana dengan PostgreSQL</a></li>
<li><a href="../id445448/index.html">Mengkonfigurasi penerimaan otomatis sertifikat allowencrypt menggunakan buruh pelabuhan di linux</a></li>
<li><a href="../id445450/index.html">Ekstensi browser untuk toster.ru</a></li>
<li><a href="../id445452/index.html">Gudang yang berguna dengan Eloquent?</a></li>
<li><a href="../id445456/index.html">Cari pada 1 TB / s</a></li>
<li><a href="../id445458/index.html">Electronic Arts akan berurusan dengan 350 karyawan dan "mengurangi kehadirannya" di Rusia</a></li>
<li><a href="../id445460/index.html">Interaktivitas bebas gadget</a></li>
<li><a href="../id445464/index.html">Mengurangi ukuran sampel data eksperimental tanpa kehilangan informasi</a></li>
<li><a href="../id445466/index.html">Selamat, Imagine Cup, Final Champions Regional EMEA: Team Finderr dari Inggris! Tim Rusia berada di urutan ketiga</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>