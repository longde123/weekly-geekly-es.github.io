<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤˜ğŸ¿ ğŸ· ğŸï¸ Pengalaman pengembangan SPA di VueJS + Nuxt ğŸ”´ ğŸ¹ ğŸ‘…</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perusahaan kami terutama bergerak dalam pengembangan toko online dan kami ingin berbagi pengalaman kami dalam mengembangkan proyek pada sekelompok Vue...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pengalaman pengembangan SPA di VueJS + Nuxt</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414137/">  Perusahaan kami terutama bergerak dalam pengembangan toko online dan kami ingin berbagi pengalaman kami dalam mengembangkan proyek pada sekelompok VueJS + Nuxt + Laravel. <br><a name="habracut"></a><br>  Artikel ini akan membahas bagaimana kami memutuskan untuk menerapkan toko online sebagai SPA: bagaimana kami sampai pada ini, kesulitan, kemudahan. <br><br>  Situs yang akan dibahas adalah toko online yang hampir klasik dengan katalog, filter, pencarian, keranjang, akun pribadi, mis.  hampir semua yang ada di toko.  Proyek ini memiliki logika, harga, dan pemetaan yang berbeda untuk badan hukum dan individu. <br><br><h4>  Mengapa SPA </h4><br>  Sebelum proyek saat ini, pengalaman kami dalam mengembangkan aplikasi satu halaman hanya terdiri dari beberapa proyek internal.  Dan dalam banyak hal, SPA bagi kami adalah kuda hitam. <br><br>  Tidak ada pemahaman yang jelas tentang masalah yang terkait dengan pertumbuhan proyek, promosi seo dan stabilitas, ketika, sebagai pengalaman dan proses jangka panjang dalam pembuatan situs biasa, mereka tidak mengajukan pertanyaan dalam menyelesaikan masalah ini. <br><br>  Pilihan pendekatan menyebabkan perdebatan yang cukup panas di perusahaan kami, baik skala dan argumen dipenuhi dan keputusan itu sangat sulit.  Pengembang kami memutuskan untuk mengumpulkan prototipe beberapa halaman proyek dan melihat kesulitan apa yang akan timbul dengan setiap pendekatan.  Pendekatan ini membantu kami dengan solusi akhir.  Prototipe membantu menunjukkan bahwa mengelola keadaan situs (katalog, keranjang, checkout, dll.) Jauh lebih nyaman dan menyebabkan lebih sedikit masalah dalam versi SPA.  Kecepatan pengembangan dan interaksi antara huruf dan pemrogram telah meningkat secara signifikan karena Anda tidak perlu mentransfer tata letak, cukup tambahkan logika ke komponen yang sudah jadi.  Masalah yang mungkin kita temui juga menjadi lebih jelas dan ini mendorong tindakan lebih lanjut.  Sebelum kami adalah pilihan teknologi. <br><br>  Di luar jendela adalah musim panas 2017. Di twitter dan di media, perselisihan tidak surut, yang masih lebih baik, cerewet atau bereaksi.  Kantor kami tidak lulus tren ini.  Para pengembang juga dibagi menjadi dua kubu, masing-masing dengan argumennya sendiri.  Sebelum itu, kita masing-masing telah bekerja dengan kedua teknologi tersebut. <br>  Seseorang telah menjadi lebih dekat dengan jsx, seseorang lebih suka html atau pesek yang lebih akrab, seseorang percaya bahwa kekekalan membantu untuk memantau dan mengelola keadaan aplikasi dengan lebih baik, bagi sebagian orang tampaknya merupakan komplikasi yang berlebihan.  Di sisi lain, setiap kerangka memberi kita kesempatan untuk membuat komponen file tunggal, dan untuk keduanya sudah ada perpustakaan yang cukup stabil dengan satu set semua fungsi yang diperlukan untuk kita (ssr, manajemen keadaan global, perutean, manajemen data meta).  Untuk bereaksi itu adalah nextjs, dan untuk vue itu adalah nuxtjs.  Nuxt pada saat seleksi masih dalam versi beta, tetapi cukup stabil.  Karena  proses pengembangan dibangun sedemikian rupa sehingga kita awalnya memiliki tata letak, dan kemudian membangun bagian backend dan mentransfer tata letak halaman ke frontend, pilihan kerangka kerja itu cukup sederhana.  Kami memilih vue dan nuxtjs, karena  diputuskan untuk membuat situs dan meluncurkan api secara paralel.  Dengan pendekatan ini, akan lebih mudah untuk segera membuat komponen dan menambahkan logika.  Desainer tata letak kami mengambil pendekatan yang lebih dekat untuk membuat html biasa. <br><br><h4>  Sedikit tentang backend </h4><br>  Dalam hal solusi server dan secara umum pilihan teknologi untuk membangun backend, kami menggunakan cara yang lebih akrab.  Bahasa itu dipilih php, yang kami gunakan kerangka laravel.  Semuanya berputar pada nginx.  Sebagai solusi database kami memiliki mysql. <br><br><h4>  Mulai dari pengembangan, paket bekas dan masalah </h4><br>  Nuxt menyediakan paket yang sangat memuaskan bagi kami untuk mengelola status aplikasi (vuex) dan perutean (vue-router).  Oleh karena itu, mulai merakit proyek dan memasang logika ke komponen dapat segera dimulai, dan kemudian, sesuai kebutuhan, mencari paket yang kami butuhkan.  Pertama-tama, tentu saja, saya membutuhkan solusi untuk berkomunikasi dengan bagian backend.  Untuk melakukan ini, axios dipilih, yang sudah standar untuk semua orang, dan nuxt-axios-module wrapper di atasnya.  Kami juga segera membantu proyek untuk tidak tersesat di lingkungan dan berjalan di setiap lingkungan dengan konfigurasi yang diinginkan - pilih dotenv dan pembungkus modul nuxt-dotenv-module.  Untuk memulai pengembangan, ini sudah cukup dan proses tata letak telah dimulai. <br><br>  Jeda pertama terjadi ketika perlu menambahkan slider gambar ke tata letak.  "Di mana slider-slider saya, saya ingin jquery" terdengar dari sisi tata letak ruangan.  Tinjauan cepat atas solusi yang sudah jadi mengungkapkan beberapa slider yang cocok untuk kami.  Tapi hampir semua orang terseret dalam ketergantungan dalam bentuk jquery, yang tidak ingin saya tambahkan ke bundel jadi, sehingga menambah ukurannya.  Beberapa paket tidak mendukung rendering server, yang juga penting bagi kami.  Akibatnya, pilihan jatuh pada penembak jitu-besar, yang sepenuhnya memenuhi persyaratan kami dan bahkan lebih sedikit.  Setelah slider terkunci, perancang tata letak kami tetap bingung untuk waktu yang lama.  â€œHanya itu, apakah aku harus melakukan hal lain?  Cukup tentukan daftar gambar dan berfungsi? " <br><br>  Berikutnya adalah pilihan komponen untuk memilih tanggal.  Ada lebih banyak keberuntungan  bungkus untuk flatpickr tercinta kami dengan cepat ditemukan.  Yang tersisa hanyalah menatanya sedikit. <br><br>  Di beberapa tempat di situs ada peta.  Tetapi, karena  kami tidak membutuhkan detail dan elaborasi peta yang sempurna, tidak ada pilihan antara layanan.  Namun demikian, pada saat pengembangan, dan bahkan sekarang, tidak ada solusi yang idealnya memenuhi semua kebutuhan kita.  Berdasarkan semua pro dan kontra, google maps dan wrapper vue2-google-maps dipilih.  Paket ini cukup besar dan menarik banyak hal yang tidak perlu bagi kami, tetapi menyelesaikan masalah dengan baik. <br><br>  Dalam beberapa bentuk, kami memiliki bidang untuk memasukkan telepon.  Pengguna perlu membantu memasukkan telepon, karena ada terlalu banyak opsi untuk format, dan kemudian bekerja di masa depan dengan data yang dimasukkan dalam format tunggal lebih mudah.  Karena itu, Anda memerlukan topeng.  Saya ingin menggunakan topeng teks yang sudah akrab, dan di sini kami beruntung, mereka sudah memiliki solusi untuk vue - vue-text-mask. <br><br>  Paket-paket ini mencakup hampir semua persyaratan kami.  Yang tersisa hanyalah melacak klik di luar komponen, yang membantu vue-klik-luar.  Kami menerapkan pengguliran cepat ke atas halaman menggunakan vue-backtotop.  Untuk bekerja dengan tanggal, gunakan momen. <br><br><h4>  Ukuran bundel terakhir dan dari mana 1 megabyte berasal </h4><br>  Harus diingat bahwa kriteria penting ketika memilih paket adalah bobotnya. <br><br>  Di tengah proyek, kami memutuskan untuk menganalisis tugas akhir dan melihat dimensi perakitan.  Hasilnya, secara sederhana, mengejutkan.  Ukuran geng app.js hanya lebih dari 950kb gzip.  Tim analisis run npm memberi kami grafik yang indah dengan ukuran semua modul, dari mana kami menyadari bahwa beberapa modul menarik dependensi yang tidak perlu dalam bentuk jquery, lodash, dll.  Mereka harus menolak paket-paket ini dan menemukan alternatifnya.  Saat ini, ukuran seluruh bundel adalah 480kb gzip. <br><br><img src="https://habrastorage.org/webt/d9/q5/wo/d9q5woogma0yygvlzimwhk8eu6w.png"><br><br>  Perhatikan dependensi dan secara berkala periksa ukuran aplikasi Anda. <br><br><h4>  Halaman pemuatan awal dan data diperoleh dengan api </h4><br>  Nuxt memberikan peluang yang nyaman untuk mengisi data toko di sisi server sebelum memuat klien.  Untuk ini, tindakan nuxtServerInit digunakan.  Sepertinya ini untuk kita: <br><br><img src="https://habrastorage.org/webt/bs/1t/yc/bs1tycfomfmwwuq8mbegz8movug.png"><br><br>  Karena kami menggunakan kategori dan beberapa entitas lain dalam beberapa komponen sekaligus, lebih mudah bagi kami untuk mendapatkannya segera dan meletakkannya di toko. <br><br>  Tapi di sini ada masalah dengan ukuran json yang Anda dapatkan.  Karena server mengirim semua data yang diterima ke klien untuk rendering awal, ukuran html mungkin terlalu besar.  Kami menemukan ini ketika dalam kategori kami mulai mentransfer gambar, deskripsi, dan bidang lain yang tidak perlu bagi kami di semua halaman milik masing-masing kategori.  Ukuran json lebih dari 2mb.  Untungnya, ini dapat dengan mudah diperbaiki dengan menghapus bidang yang tidak perlu dari data yang diberikan server. <br><br><h4>  Memori bocor </h4><br>  Setelah beberapa waktu, aplikasi pada server pengujian kami, kami mulai mengamati peningkatan konsumsi memori yang tidak wajar.  pm2 menempati hingga 90% dari semua memori server dan aplikasi mogok secara berkala.  Pada halaman github nuxt sudah menggantung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">beberapa masalah</a> dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">masalah</a> yang sama. <br><br>  Masalah muncul ketika kami membuat beberapa permintaan dalam metode asyncData di halaman kami. <br><br><img src="https://habrastorage.org/webt/6c/1j/pr/6c1jprerb-bhjbaekqpft8xqmig.png"><br><br>  Untungnya, pengembang nuxt dengan cepat menyelesaikan masalah ini, dan saat ini prosesnya menghabiskan sekitar 40mb memori. <br><br><h4>  Masalah yang menarik dan solusinya </h4><br>  <b>Artikel Komponen</b> <br>  Pada panel kontrol situs, dimungkinkan untuk menambahkan artikel dan memasukkan berbagai blok ke dalam konten artikel, misalnya, blok dengan barang. <br><br><img src="https://habrastorage.org/webt/09/tj/vz/09tjvzsjrrxk5sux44dhsxrvxty.png"><br><br>  HTML yang berasal dari server terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/q_/-r/kx/q_-rkxht2vmhwby6ckddpwn3pqk.png"><br><br>  $ product-4 menunjukkan bahwa komponen Product.vue dengan pengenal 4 harus menggantikan pointer ini. Vue memberikan kita kemungkinan yang luas untuk merender komponen menggunakan metode render.  Pertama, kami mencari semua referensi ke pointer ke komponen dalam html yang telah tiba dan kami memperoleh data yang dibutuhkan untuk menampilkan komponen ini.  Selanjutnya, kami membagi seluruh html menjadi pohon.  Perpustakaan himalaya membantu kami dalam hal ini.  Dan kemudian kami mengumpulkan html kembali dengan mengganti pointer dengan komponen yang sudah jadi. <br><br>  ... Dan tidak ada cukup kekuatan untuk menulis artikel) Mereka mulai menulis artikel di musim panas 2017 selama pengembangan proyek, dan sudah musim panas 2018 di halaman, proyek telah diluncurkan dan artikel belum dirilis. <br>  Karena itu, kami menerbitkan apa yang telah kami kumpulkan, tetapi kami masih memiliki banyak topik dan pengamatan menarik. <br>  Jika itu akan menarik - tulis, suka)) Nah, apa lagi yang menarik untuk didengar, yang Anda lewatkan. <br><br>  Saya ingin mengatakan bahwa proyek ini sudah berjalan sekitar 4 bulan.  Tidak ada masalah khusus dengan itu, dan kecepatan situs sangat mengesankan dan membedakannya dari toko lain. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id414137/">https://habr.com/ru/post/id414137/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id414127/index.html">Instal 3CX di hosting untuk 2,99 Euro / bulan. dalam 10 menit</a></li>
<li><a href="../id414129/index.html">Magister Ilmu Komputer Teoritis di St. Petersburg State University</a></li>
<li><a href="../id414131/index.html">Efek frekuensi sinyal pada energi tautan radio di ruang bebas</a></li>
<li><a href="../id414133/index.html">Desain game puzzle dengan contoh In The Shadows</a></li>
<li><a href="../id414135/index.html">Bagaimana porting game ke PSVita meningkatkan kinerja secara keseluruhan</a></li>
<li><a href="../id414139/index.html">Pelepasan proxy MTProto tidak resmi dengan Python, fitur protokol</a></li>
<li><a href="../id414141/index.html">7 aturan untuk mendesain papan sirkuit tercetak</a></li>
<li><a href="../id414149/index.html">Alasan buruknya suara sebagian besar smartphone Android</a></li>
<li><a href="../id414151/index.html">Intisari Fintech: bank akan melaporkan kerusakan akibat serangan peretas, Western Union menolak untuk bekerja dengan cryptocurrency</a></li>
<li><a href="../id414155/index.html">Sistem Acara di Unity3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>