<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐พ ๐จ๐ผโ๐จ ๐๐ฟ ุงูุชุฌููุน ุงูุฏููุงูููู ููุดุฑ ุตูุฑ Docker ุจุงุณุชุฎุฏุงู werf ุจุงุณุชุฎุฏุงู ูููุน ูุซุงู ูููุซุงุฆู ุงูุชู ุชู ุฅุตุฏุงุฑูุง ๐ธ ๐ฑ ๐ซ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏ ุชุญุฏุซูุง ุจุงููุนู ุนู ุฃุฏุงุฉ gitOps werf ุงูุฎุงุตุฉ ุจูุง ุฃูุซุฑ ูู ูุฑุฉ ุ ููููุง ููุฏ ูุฐู ุงููุฑุฉ ูุดุงุฑูุฉ ุชุฌุฑุจุฉ ุจูุงุก ุงููููุน ูุน ูุซุงุฆู ุงููุดุฑูุน - werf.io (ูุณุฎุชู ุงูุฑูุณูุฉ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุชุฌููุน ุงูุฏููุงูููู ููุดุฑ ุตูุฑ Docker ุจุงุณุชุฎุฏุงู werf ุจุงุณุชุฎุฏุงู ูููุน ูุซุงู ูููุซุงุฆู ุงูุชู ุชู ุฅุตุฏุงุฑูุง</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/478690/" style=";text-align:right;direction:rtl">  ููุฏ ุชุญุฏุซูุง ุจุงููุนู ุนู ุฃุฏุงุฉ gitOps werf ุงูุฎุงุตุฉ ุจูุง ุฃูุซุฑ <a href="https://github.com/flant/werf">ูู ูุฑุฉ</a> ุ ููููุง ููุฏ ูุฐู ุงููุฑุฉ ูุดุงุฑูุฉ ุชุฌุฑุจุฉ ุจูุงุก ุงููููุน ูุน ูุซุงุฆู ุงููุดุฑูุน - <a href="https://werf.io/">werf.io</a> (ูุณุฎุชู ุงูุฑูุณูุฉ ูู <a href="https://ru.werf.io/">ru.werf.io</a> ).  ูุฐุง ูููุน ุซุงุจุช ุซุงุจุช ุ ูููู ุงูุชุฌููุน ูุซูุฑ ููุงูุชูุงู ูุฃูู ูุจูู ุจุงุณุชุฎุฏุงู ุนุฏุฏ ุฏููุงูููู ูู ุงููุทุน ุงูุฃุซุฑูุฉ. <br><br><img src="https://habrastorage.org/webt/m_/ox/od/m_oxod8ckyfsipscttspcn5opd8.png"><br><br>  ุงูุชูู ุฅูู ุงููุฑูู ุงูุฏูููุฉ ูู ุจููุฉ ุงููููุน: ุฅูุดุงุก ูุงุฆูุฉ ุนุงูุฉ ูุฌููุน ุงูุฅุตุฏุงุฑุงุช ูุงูุตูุญุงุช ุงูุชู ุชุญุชูู ุนูู ูุนูููุงุช ุญูู ุงูุฅุตุฏุงุฑุงุช ุ ุฅูุฎ.  - ูุญู ูู ููุนู.  ุจุฏูุงู ูู ุฐูู ุ ูุฑูุฒ ุนูู ูุดููุงุช ูููุฒุงุช ุงูุชุฌููุน ุงูุฏููุงูููู ููููููุง ุนูู ุนูููุงุช CI / CD ุงููุตุงุญุจุฉ. <a name="habracut"></a><br><br><h2 style=";text-align:right;direction:rtl">  ููุฏูุฉ: ููู ูุชู ุชุฑุชูุจ ุงููููุน </h2><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูุชู ุชุฎุฒูู ูุซุงุฆู werf ูุน ุฑูุฒูุง.  ูุฐุง ูุฌุนู ุจุนุถ ูุชุทูุจุงุช ุงูุชุทููุฑ ุงูุชู ุชุชุฌุงูุฒ ูุทุงู ูุฐู ุงูููุงูุฉ ุจุดูู ุนุงู ุ ูููู ุนูู ุงูุฃูู ูููููุง ุฃู ูููู ูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ููุจุบู ุชุญุฑูุฑ ูุธุงุฆู werf ุงูุฌุฏูุฏุฉ ุฏูู ุชุญุฏูุซ ุงููุซุงุฆู ุ ูุนูู ุงูุนูุณ ูู ุฐูู ุ ูุฅู ุฃู ุชุบููุฑุงุช ูู ุงููุซุงุฆู ุชุนูู ุฅุตุฏุงุฑ ูุณุฎุฉ ุฌุฏูุฏุฉ ูู werf ุ </li><li style=";text-align:right;direction:rtl">  ูุญุชูู ุงููุดุฑูุน ุนูู ุชุทููุฑ ููุซู ุฅูู ุญุฏ ูุง: ูุฏ ุชุธูุฑ ุฅุตุฏุงุฑุงุช ุฌุฏูุฏุฉ ุนุฏุฉ ูุฑุงุช ูู ุงูููู ุ </li><li style=";text-align:right;direction:rtl">  ุฃู ูุดุฑ ูุฏูู ููููุน ูุญุชูู ุนูู ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุงููุซุงุฆู ูููู ูููุงู ุนูู ุงูุฃูู ุ </li><li style=";text-align:right;direction:rtl">  ุงุนุชูุฏ ุงููุดุฑูุน ููุฌ <a href="https://ru.werf.io/releases.html">ุงูุฅุตุฏุงุฑ</a> ุงูุฏูุงูู ุ ูุน 5 ูููุงุช ููุงุณุชูุฑุงุฑ.  ุชุชุถูู ุนูููุฉ ุงูุฅุทูุงู ูุฑูุฑูุง ูุชุชุงูููุง ููุฅุตุฏุงุฑุงุช ุนุจุฑ ุงููููุงุช ูู ุฃุฌู ุฒูุงุฏุฉ ุงูุซุจุงุช: ูู ุฃููุง ุฅูู ูุงุฏุฉ ุตูุจุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุญุชูู ุงููููุน ุนูู ุฅุตุฏุงุฑ ุจุงููุบุฉ ุงูุฑูุณูุฉ "ูุนูุด ููุชุทูุฑ" (ุฃู ุ ูุชู ุชุญุฏูุซ ูุญุชูุงู) ุจุงูุชูุงุฒู ูุน ุงูุฅุตุฏุงุฑ ุงูุฑุฆูุณู (ุฃู ุ ุงูุฅูุฌููุฒูุฉ). </li></ul><br>  ูุฅุฎูุงุก ูู ูุฐุง "ุงููุทุจุฎ ุงูุฏุงุฎูู" ูู ุงููุณุชุฎุฏู ุ ูููุฏู ูู ูุง "ูุนูู ููุท" ุ ูููุง ุจุนูู <b>ุฃุฏุงุฉ ุชุซุจูุช ูุชุญุฏูุซ ูููุตูุฉ ููุฑู</b> - ููุฐุง ูู <a href="https://github.com/flant/multiwerf">ูุชุนุฏุฏ ุงูุทุจูุงุช</a> .  ูููู ุงูุฅุดุงุฑุฉ ุฅูู ุฑูู ุงูุฅุตุฏุงุฑ ูููุงุฉ ุงูุงุณุชูุฑุงุฑ ุงูุชู ุชููู ุฌุงูุฒูุง ููุงุณุชุฎุฏุงู ุ ูุณูุชุญูู multiwerf ููุง ุฅุฐุง ูุงู ููุงู ุฅุตุฏุงุฑ ุฌุฏูุฏ ุนูู ุงูููุงุฉ ูุชูุฒููู ุฅุฐุง ูุฒู ุงูุฃูุฑ. <br><br>  ูุชููุฑ ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู werf ูู ูู ููุงุฉ ูู ูุงุฆูุฉ ุงุฎุชูุงุฑ ุงูุฅุตุฏุงุฑ ุนูู ุงููููุน.  ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ูุชุญ ุฅุตุฏุงุฑ ุงูููุงุฉ ุงูุฃูุซุฑ ุซุจุงุชูุง ููุฅุตุฏุงุฑ ุงูุฃุฎูุฑ ุนูู <a href="https://werf.io/documentation/">werf.io/documentation</a> - ูุชู ููุฑุณุชูุง ุฃูุถูุง ุจูุงุณุทุฉ ูุญุฑูุงุช ุงูุจุญุซ.  ุชุชููุฑ ูุซุงุฆู ุงูููุงุฉ ุนูู ุนูุงููู ูุฑุฏูุฉ (ุนูู ุณุจูู ุงููุซุงู ุ <a href="https://werf.io/v1.0-beta/documentation/">werf.io/v1.0-beta/documentation ููุฅุตุฏุงุฑ</a> ุงูุชุฌุฑูุจู 1.0). <br><br>  ุงููุฌููุน ุ ูุญุชูู ุงููููุน ุนูู ุงูุฅุตุฏุงุฑุงุช ุงูุชุงููุฉ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฌุฐุฑ (ููุชุญ ุจุดูู ุงูุชุฑุงุถู) </li><li style=";text-align:right;direction:rtl">  ููู ููุงุฉ ุชุญุฏูุซ ูุดุทุฉ ููู ุฅุตุฏุงุฑ (ุนูู ุณุจูู ุงููุซุงู ุ <a href="https://werf.io/v1.0-beta/">werf.io/v1.0-beta</a> ). </li></ol><br>  ูุฅูุดุงุก ุฅุตุฏุงุฑ ูุนูู ูู ูููุน ูู ุงูุญุงูุฉ ุงูุนุงูุฉ ุ ูููู <code>jekyll build</code> ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช <a href="https://jekyllrb.com/">Jekyll</a> ุนู ุทุฑูู ุชุดุบูู ุงูุฃูุฑ ุงูููุงุณุจ ( <code>jekyll build</code> ) ูู ุฏููู <code>/docs</code> ููุณุชูุฏุน werf ุ ุจุนุฏ ุงูุชุจุฏูู ุฅูู ุนูุงูุฉ Git ููุฅุตุฏุงุฑ ุงููุทููุจ. <br><br>  ูุจูู ููุท ูุฅุถุงูุฉ ูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ููุณูุง (werf) ุชุณุชุฎุฏู ููุชุฌููุน ุ </li><li style=";text-align:right;direction:rtl">  ุชุณุชูุฏ ุนูููุงุช CI / CD ุฅูู GitLab CI ุ </li><li style=";text-align:right;direction:rtl">  ููู ูุฐุง ุ ุจุงูุทุจุน ุ ูุนูู ูู Kubernetes. </li></ul><br><h2 style=";text-align:right;direction:rtl">  ุงูููุงู </h2><br>  ูููู ุงูุขู ุจุตูุงุบุฉ ุงูููุงู ุงูุชู ุชุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฌููุน ุงูุชูุงุตูู ุงูููุถุญุฉ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุชุบููุฑ ุฅุตุฏุงุฑ werf ุนูู ุฃู ููุงุฉ ุชุญุฏูุซ ุ <b>ูุฌุจ ุชุญุฏูุซ ุงููุซุงุฆู ุงูููุฌูุฏุฉ ุนูู ุงููููุน ุชููุงุฆููุง</b> . </li><li style=";text-align:right;direction:rtl">  ููุชุทููุฑ ุ ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู <b>ุนุฑุถ ุงูุฅุตุฏุงุฑุงุช ุงูุฃูููุฉ ูููููุน ูู</b> ุญูู ูุขุฎุฑ. </li></ol><br>  ูุฌุจ ุฅุฌุฑุงุก ุฅุนุงุฏุฉ ุชุฌููุน ุงููููุน ุจุนุฏ ุชุบููุฑ ุงูุฅุตุฏุงุฑ ุนูู ุฃู ููุงุฉ ูู ุนูุงูุงุช Git ุงูููุงุจูุฉ ุ ูููู ูู ุนูููุฉ ุจูุงุก ุงูุตูุฑุฉ ุ ุณูุญุตู ุนูู ุงูููุฒุงุช ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ูุงุฆูุฉ ุงูุฅุตุฏุงุฑุงุช ุนูู ุงููููุงุช ุชุชุบูุฑ ุ ููู ุงูุถุฑูุฑู ููุท ุฅุนุงุฏุฉ ุชุฌููุน ุงููุซุงุฆู ูููููุงุช ุงูุชู ุชู ุชุบููุฑ ุงูุฅุตุฏุงุฑ ูููุง.  ุจุนุฏ ูู ุดูุก ุ ุฅุนุงุฏุฉ ุชุฌููุน ูู ุดูุก ูุฑุฉ ุฃุฎุฑู ููุณุช ุฌูููุฉ ุฌุฏุงู. </li><li style=";text-align:right;direction:rtl">  ูุฏ ุชุฎุชูู ูุฌููุนุฉ ุงููููุงุช ููุฅุตุฏุงุฑุงุช.  ูู ููุช ูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ูุง ูููู ุงูุฅุตุฏุงุฑ ุงูููุฌูุฏ ุนูู ุงููููุงุช ุฃูุซุฑ ุซุจุงุชูุง ูู ุงูุฅุตุฏุงุฑ 1.1 ูููุตูู ุงููุจูุฑ ุ ูููู ุจูุฑูุฑ ุงูููุช ุณูู ุชุธูุฑ - ุฃูุง ุชุบูุฑ ุงูุชุฌููุน ูุฏูููุง ูู ูุฐู ุงูุญุงูุฉุ </li></ul><br>  ุงุชุถุญ ุฃู <b>ุงูุชุฌููุน ูุนุชูุฏ ุนูู ุชุบููุฑ ุงูุจูุงูุงุช ุงูุฎุงุฑุฌูุฉ</b> . <br><br><h2 style=";text-align:right;direction:rtl">  ุชุทุจูู </h2><br><h3 style=";text-align:right;direction:rtl">  ุงุฎุชูุงุฑ ุงูููุฌ </h3><br>  ุจุฏูุงู ูู ุฐูู ุ ููููู ุชุดุบูู ูู ุฅุตุฏุงุฑ ูุทููุจ ูุน ุฌุฑุงุจ ูููุตู ูู Kubernetes.  ูุชุถูู ูุฐุง ุงูุฎูุงุฑ ุนุฏุฏูุง ุฃูุจุฑ ูู ุงููุงุฆูุงุช ูู ุงููุชูุฉ ุ ูุงูุฐู ุณูููู ูุน ุฒูุงุฏุฉ ุนุฏุฏ ุฅุตุฏุงุฑุงุช werf ุงูุซุงุจุชุฉ.  ููุฐุง ุจุฏูุฑู ููุทูู ุนูู ุฎุฏูุฉ ุฃูุซุฑ ุชุนููุฏูุง: ููู ุฅุตุฏุงุฑ ุฎุงุฏู HTTP ุฎุงุต ุจู ุ ูุน ุญูููุฉ ุตุบูุฑุฉ.  ุจุงูุทุจุน ุ ูุฐุง ูุณุชูุฒู ุชูุงููู ุฃุนูู ููููุงุฑุฏ. <br><br>  ุฐูุจูุง ุนูู ุทุฑูู <b>ุชุฌููุน ุฌููุน ุงูุฅุตุฏุงุฑุงุช ุงููุงุฒูุฉ ูู ุตูุฑุฉ ูุงุญุฏุฉ</b> .  ุชูุฌุฏ ุงุญุตุงุฆูุงุช ูุฌูุนุฉ ูุฌููุน ุฅุตุฏุงุฑุงุช ุงููููุน ูู ุญุงููุฉ ูุน NGINX ุ ูุชุฃุชู ุญุฑูุฉ ุงููุฑูุฑ ุฅูู ุงููุดุฑ ุงูููุงุจู ูู ุฎูุงู NGINX Ingress.  ุจููุฉ ุจุณูุทุฉ - ุชุทุจูู ุนุฏูู ุงูุญุงูุฉ - ุชุฌุนู ูู ุงูุณูู ุชูุณูุน ูุทุงู ุงูุชูุฒูุน (ุญุณุจ ุงูุญูู) ุจุงุณุชุฎุฏุงู Kubernetes ููุณู. <br><br>  ููู ูููู ุฃูุซุฑ ุฏูุฉ ุ ูุฌูุน ุตูุฑุชูู: ูุงุญุฏุฉ ูุฏุงุฆุฑุฉ ุงูุฅูุชุงุฌ ุ ูุงูุซุงููุฉ ูุฏุงุฆุฑุฉ ุงูุชุทููุฑ.  ูุชู ุงุณุชุฎุฏุงู (ุฅุทูุงู) ุตูุฑุฉ ุฅุถุงููุฉ ููุท ุนูู ุฏุงุฆุฑุฉ ุงูุชุทููุฑ ูุน ุงูุตูุฑุฉ ุงูุฑุฆูุณูุฉ ูุชุญุชูู ุนูู ุฅุตุฏุงุฑ ุงููููุน ูู ุงูุชุฒุงู ุงููุฑุงุฌุนุฉ ุ ููุชู ุชูููุฐ ุงูุชูุฌูู ุจููููุง ุจุงุณุชุฎุฏุงู ููุงุฑุฏ Ingress. <br><br><h3 style=";text-align:right;direction:rtl">  werf vs git clone ูุงูุชุญู </h3><br>  ููุง ุฐูุฑูุง ุณุงุจููุง ุ ูู ุฃุฌู ุฅูุดุงุก ุงุญุตุงุฆูุงุช ุงููููุน ูุฅุตุฏุงุฑ ูุนูู ูู ุงููุซุงุฆู ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ูู ุฎูุงู ุงูุชุจุฏูู ุฅูู ุนูุงูุฉ ูุณุชูุฏุน ุงูููุงุจูุฉ.  ูููู ูููุฑุก ุฃูุถูุง ุงูููุงู ุจุฐูู ุนู ุทุฑูู ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน ูู ูู ูุฑุฉ ุฃุซูุงุก ุงูุชุฌููุน ุ ูุงุฎุชูุงุฑ ุงูุนูุงูุงุช ุงูููุงุณุจุฉ ูู ุงููุงุฆูุฉ.  ููุน ุฐูู ุ ููุฐู ุนูููุฉ ูุณุชูููุฉ ููููุงุฑุฏ ุฅูู ุญุฏ ูุง ุ ุนูุงูุฉ ุนูู ุฐูู ุ ุชุชุทูุจ ูุชุงุจุฉ ุชุนูููุงุช ุบูุฑ ุชุงููุฉ ... ูุงูุต ุฎุทูุฑ ุขุฎุฑ - ูุน ูุฐุง ุงูููุฌ ูุง ุชูุฌุฏ ุทุฑููุฉ ูุชุฎุฒูู ุดูุก ูุคูุช ุฃุซูุงุก ุงูุชุฌููุน. <br><br>  ููุง ุชุฃุชู ุฃุฏุงุฉ werf ููุณุงุนุฏุชู ูู ุชูููุฐ <b>ุงูุชุฎุฒูู ุงููุคูุช ุงูุฐูู</b> ูุชุณูุญ ุจุงุณุชุฎุฏุงู <a href="https://ru.werf.io/documentation/configuration/stapel_image/git_directive.html"><b>ุงููุณุชูุฏุนุงุช ุงูุฎุงุฑุฌูุฉ</b></a> .  ุณูุคุฏู ุงุณุชุฎุฏุงู werf ูุฅุถุงูุฉ ุฑูุฒ ูู ุงููุณุชูุฏุน ุฅูู ุชุณุฑูุน ุนูููุฉ ุงูุฅูุดุงุก ุจุดูู ูุจูุฑ  ุชููู werf ุฃุณุงุณูุง ุจุงุณุชูุณุงุฎ ุงููุณุชูุฏุน ูุฑุฉ ูุงุญุฏุฉ ุ ุซู <i>ูุชู</i> <code>fetch</code> <i>ููุท</i> ุฅุฐุง ูุฒู ุงูุฃูุฑ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุนูุฏ ุฅุถุงูุฉ ุจูุงูุงุช ูู ุงููุณุชูุฏุน ุ ูููููุง ููุท ุชุญุฏูุฏ ุงูุฃุฏูุฉ ุงููุงุฒูุฉ (ูู ุญุงูุชูุง ุ ูุฐุง ูู ุฏููู <code>docs</code> ) ุ ููุง ูููู ุจุดูู ูุจูุฑ ูู ูููุฉ ุงูุจูุงูุงุช ุงููุถุงูุฉ. <br><br>  ูุธุฑูุง ูุฃู Jekyll ูู ุฃุฏุงุฉ ูุตููุฉ ูุชุฌููุน ุงูุฅุญุตุงุฆูุงุช ูููุณุช ุถุฑูุฑูุฉ ูู ุงูุตูุฑุฉ ุงูููุงุฆูุฉ ุ ูุณูููู ูู ุงูููุทูู ุชุฌููุนูุง ูู <a href="https://ru.werf.io/documentation/configuration/stapel_artifact.html">ูุทุนุฉ ุฃุซุฑูุฉ</a> ุ <b>ูุงุณุชูุฑุงุฏ ูุชูุฌุฉ</b> ุงูุชุญููู ุงูุจุฑูุฌู <b>ููุท</b> ุฅูู ุงูุตูุฑุฉ ุงูููุงุฆูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุชุงุจุฉ werf.yaml </h3><br>  ูุฐูู ุ ูุฑุฑูุง ุฃู ูููู ุจุชุฌููุน ูู ุฅุตุฏุงุฑ ูู ูุทุนุฉ ุฃุซุฑูุฉ ูููุตูุฉ.  ููุน ุฐูู ุ <b>ูุง ูุนุฑู ูู ูู ูุฐู ุงููุทุน ุงููููุฉ ุณุชููู ุฃุซูุงุก ุงูุชุฌููุน</b> ุ ูุจุงูุชุงูู ูุง ูููููุง ูุชุงุจุฉ ุชูููู ุชุฌููุน ุซุงุจุช (ุจุงููุนูู ุงูุฏููู ูููููุฉ ุ ูุง ูุฒุงู ุจุฅููุงููุง ุฐูู ุ ูููู ูู ูููู ูุนุงููุง ุชูุงููุง). <br><br>  ูุชูุญ ูู werf ุงุณุชุฎุฏุงู <a href="https://ru.werf.io/documentation/configuration/introduction.html">ููุงูุจ Go</a> ูู ููู ุงูุชูููู ุงูุฎุงุต ุจู ( <code>werf.yaml</code> ) ุ ููุฐุง ูุฌุนู ูู ุงููููู <b>ุฅูุดุงุก ุชููุฆุฉ "</b> <code>werf.yaml</code> <b>"</b> ุงุนุชูุงุฏูุง ุนูู ุงูุจูุงูุงุช ุงูุฎุงุฑุฌูุฉ (ูุง ุชุญุชุงุฌู!).  ุงูุจูุงูุงุช ุงูุฎุงุฑุฌูุฉ ูู ุญุงูุชูุง ูู ูุนูููุงุช ุญูู ุงูุฅุตุฏุงุฑุงุช ูุงูุฅุตุฏุงุฑุงุช ุ ูุงูุชู ุนูู ุฃุณุงุณูุง ูุฌูุน ุงูุนุฏุฏ ุงูุถุฑูุฑู ูู ุงููุทุน ุงูุฃุซุฑูุฉ ููุชูุฌุฉ ูุฐูู ุ ูุญุตู ุนูู ุตูุฑุชูู: <code>werf-doc</code> ู <code>werf-dev</code> ููุนูู ุนูู ูุณุงุฑุงุช ูุฎุชููุฉ. <br><br>  ูุชู ุชูุฑูุฑ ุงูุจูุงูุงุช ุงูุฎุงุฑุฌูุฉ ูู ุฎูุงู ูุชุบูุฑุงุช ุงูุจูุฆุฉ.  ููุง ูู ุชูููููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>RELEASES</code> - ุณุทุฑ ูุน ูุงุฆูุฉ ุงูุฅุตุฏุงุฑุงุช ูุงูุฅุตุฏุงุฑ ุงูุญุงูู ุงูููุงุจู ูู werf ุ ูู ุดูู ูุงุฆูุฉ ุ ููุตููุฉ ุจูุณุงูุฉ ุ ุจุงูุชูุณูู <code>&lt;_&gt;%&lt;_&gt;</code> .  ูุซุงู: <code>1.0%v1.0.4-beta.20</code> </li><li style=";text-align:right;direction:rtl">  <code>CHANNELS</code> - ุณุทุฑ ูุญุชูู ุนูู ูุงุฆูุฉ ูู ุงููููุงุช ูุงูุฅุตุฏุงุฑ ุงูุญุงูู ุงูููุงุจู ูู werf ุ ูู ุดูู ูุงุฆูุฉ ุฐุงุช ูุฑุงุบ ููู ูู ุงูุชูุณูู <code>&lt;&gt;%&lt;_&gt;</code> .  ูุซุงู: <code>1.0-beta%v1.0.4-beta.20 1.0-alpha%v1.0.5-alpha.22</code> </li><li style=";text-align:right;direction:rtl">  <code>ROOT_VERSION</code> - ุฅุตุฏุงุฑ ุฅุตุฏุงุฑ werf ููุนุฑุถ ุจุดูู ุงูุชุฑุงุถู ุนูู ุงููููุน (ููุณ ูู ุงูุถุฑูุฑู ุฏุงุฆููุง ุนุฑุถ ุงููุซุงุฆู ูุฃุนูู ุฑูู ุฅุตุฏุงุฑ).  ูุซุงู: <code>v1.0.4-beta.20</code> </li><li style=";text-align:right;direction:rtl">  <code>REVIEW_SHA</code> - ุชุฌุฒุฆุฉ ุงูุงูุชุฒุงู ุจุงููุฑุงุฌุนุฉ ุงูุชู ุชุญุชุงุฌ ูููุง ุฅูู ุชุฌููุน ุฅุตุฏุงุฑ ุญููุฉ ุงูุงุฎุชุจุงุฑ. </li></ul><br>  ุณูุชู ููุคูุง ูุฐู ุงููุชุบูุฑุงุช ูู ุฎุท ุฃูุงุจูุจ GitLab CI ุ ูููู ุจุงูุถุจุท ูู ููุถุญ ุฃุฏูุงู. <br><br>  ุฃููุงู ููุจู ูู ุดูุก ุ ูู ุฃุฌู ุงูุฑุงุญุฉ ุ ูููู ุจุชุนุฑูู ูุชุบูุฑุงุช Go-template ูู <code>werf.yaml</code> ุชุนููู ููู ููุง ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">{{ $_ := set . <span class="hljs-string"><span class="hljs-string">"WerfVersions"</span></span> (cat (env <span class="hljs-string"><span class="hljs-string">"CHANNELS"</span></span>) (env <span class="hljs-string"><span class="hljs-string">"RELEASES"</span></span>) | splitList <span class="hljs-string"><span class="hljs-string">" "</span></span>) }} {{ $Root := . }} {{ $_ := set . <span class="hljs-string"><span class="hljs-string">"WerfRootVersion"</span></span> (env <span class="hljs-string"><span class="hljs-string">"ROOT_VERSION"</span></span>) }} {{ $_ := set . <span class="hljs-string"><span class="hljs-string">"WerfReviewCommit"</span></span> (env <span class="hljs-string"><span class="hljs-string">"REVIEW_SHA"</span></span>) }}</code> </pre> <br>  ูุตู ูุทุนุฉ ุฃุซุฑูุฉ ูุชุฌููุน ุงุญุตุงุฆูุงุช ุฅุตุฏุงุฑ ุงููููุน ูู ููุณู ุนููููุง ุจุงููุณุจุฉ ูุฌููุน ุงูุญุงูุงุช ุงูุชู ูุญุชุงุฌูุง (ุจูุง ูู ุฐูู ุฅูุดุงุก ุฅุตุฏุงุฑ ุงูุฌุฐุฑ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฅุตุฏุงุฑ ุฏุงุฆุฑุฉ dev).  ูุฐูู ุ ุณูุถุนูุง ูู ูุชูุฉ ูููุตูุฉ ุจุงุณุชุฎุฏุงู ุฏุงูุฉ ุงูุชุนุฑูู - ูุฅุนุงุฏุฉ ุงุณุชุฎุฏุงููุง ูุงุญููุง ูุน <code>include</code> .  ุณูููู ุจุชูุฑูุฑ ุงููุณุงุฆุท ุงูุชุงููุฉ ุฅูู ุงููุงูุจ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>Version</code> - ุฅุตุฏุงุฑ ุชู ุฅูุดุงุคู (ุงุณู ุงูุนูุงูุฉ) ุ </li><li style=";text-align:right;direction:rtl">  <code>Channel</code> - ุงุณู ููุงุฉ ุงูุชุญุฏูุซ ุงูุชู ูุชู ุฅูุดุงุก ุงูุฃุฏุงุฉ ุจูุง ุ </li><li style=";text-align:right;direction:rtl">  <code>Commit</code> - ุชุฌุฒุฆุฉ ุงูุชุฌุฒุฆุฉ ุฅุฐุง ุชู ุฅูุดุงุก ูุทุนุฉ ุฃุซุฑูุฉ ููุฑุงุฌุนุฉ ุงูุงูุชุฒุงู ุ </li><li style=";text-align:right;direction:rtl">  ุงูุณูุงู. </li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุทุนุฉ ุฃุซุฑูุฉ ูุตู ุงููุงูุจ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="go hljs">{{- define <span class="hljs-string"><span class="hljs-string">"doc_artifact"</span></span> -}} {{- $Root := index . <span class="hljs-string"><span class="hljs-string">"Root"</span></span> -}} artifact: doc-{{ .Channel }} from: jekyll/builder:<span class="hljs-number"><span class="hljs-number">3</span></span> mount: - from: build_dir to: /usr/local/bundle ansible: install: - shell: | export PATH=/usr/jekyll/bin/:$PATH - name: <span class="hljs-string"><span class="hljs-string">"Install Dependencies"</span></span> shell: bundle install args: executable: /bin/bash chdir: /app/docs beforeSetup: {{- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> .Commit }} - shell: echo <span class="hljs-string"><span class="hljs-string">"Review SHA - {{ .Commit }}."</span></span> {{- end }} {{- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> eq .Channel <span class="hljs-string"><span class="hljs-string">"root"</span></span> }} - name: <span class="hljs-string"><span class="hljs-string">"releases.yml HASH: {{ $Root.Files.Get "</span></span>releases.yml<span class="hljs-string"><span class="hljs-string">" | sha256sum }}"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">copy</span></span>: content: | {{ $Root.Files.Get <span class="hljs-string"><span class="hljs-string">"releases.yml"</span></span> | indent <span class="hljs-number"><span class="hljs-number">8</span></span> }} dest: /app/docs/_data/releases.yml {{- <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> }} - file: path: /app/docs/_data/releases.yml state: touch {{- end }} - file: path: <span class="hljs-string"><span class="hljs-string">"{{`{{ item }}`}}"</span></span> state: directory mode: <span class="hljs-number"><span class="hljs-number">0777</span></span> with_items: - /app/main_site/ - /app/ru_site/ - file: dest: /app/docs/pages_ru/cli state: link src: /app/docs/pages/cli - shell: | echo -e <span class="hljs-string"><span class="hljs-string">"werfVersion: {{ .Version }}\nwerfChannel: {{ .Channel }}"</span></span> &gt; /tmp/_config_additional.yml export PATH=/usr/jekyll/bin/:$PATH {{- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> and (ne .Version <span class="hljs-string"><span class="hljs-string">"review"</span></span>) (ne .Channel <span class="hljs-string"><span class="hljs-string">"root"</span></span>) }} {{- $_ := set . <span class="hljs-string"><span class="hljs-string">"BaseURL"</span></span> ( printf <span class="hljs-string"><span class="hljs-string">"v%s"</span></span> .Channel ) }} {{- <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ne .Channel <span class="hljs-string"><span class="hljs-string">"root"</span></span> }} {{- $_ := set . <span class="hljs-string"><span class="hljs-string">"BaseURL"</span></span> .Channel }} {{- end }} jekyll build -s /app/docs -d /app/_main_site/{{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> .BaseURL }} --baseurl /{{ .BaseURL }}{{ end }} --config /app/docs/_config.yml,/tmp/_config_additional.yml jekyll build -s /app/docs -d /app/_ru_site/{{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> .BaseURL }} --baseurl /{{ .BaseURL }}{{ end }} --config /app/docs/_config.yml,/app/docs/_config_ru.yml,/tmp/_config_additional.yml args: executable: /bin/bash chdir: /app/docs git: - url: https:<span class="hljs-comment"><span class="hljs-comment">//github.com/flant/werf.git to: /app/ owner: jekyll group: jekyll {{- if .Commit }} commit: {{ .Commit }} {{- else }} tag: {{ .Version }} {{- end }} stageDependencies: install: ['docs/Gemfile','docs/Gemfile.lock'] beforeSetup: '**/*' includePaths: 'docs' excludePaths: '**/*.sh' {{- end }}</span></span></code> </pre> </div></div><br>  ูุฌุจ ุฃู ูููู ุงุณู ูุทุนุฉ ุฃุซุฑูุฉ ูุฑูุฏูุง.  ูููููุง ุชุญููู ุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนู ุทุฑูู ุฅุถุงูุฉ ุงุณู ุงูููุงุฉ (ูููุฉ ุงููุชุบูุฑ <code>.Channel</code> ) ูุงุญูุฉ ูุงุณู ูุทุนุฉ ุฃุซุฑูุฉ: <code>artifact: doc-{{ .Channel }}</code> .  ููู ุนููู ุฃู ุชููู ุฃูู ุนูุฏ ุงูุงุณุชูุฑุงุฏ ูู ุงููุทุน ุงูุฃุซุฑูุฉ ุ ุณุชุญุชุงุฌ ุฅูู ุงูุฑุฌูุน ุฅูู ููุณ ุงูุฃุณูุงุก. <br><br>  ุนูุฏ ูุตู ูุทุนุฉ ุฃุซุฑูุฉ ุ <a href="https://ru.werf.io/documentation/configuration/stapel_image/mount_directive.html">ูุชู ุงุณุชุฎุฏุงู</a> ููุฒุฉ werf ูุซู <a href="https://ru.werf.io/documentation/configuration/stapel_image/mount_directive.html">mount</a> .  ูุณูุญ ูู ุงูุชุซุจูุช ุจุงุณุชุฎุฏุงู ุฏููู ุฎุฏูุฉ <code>build_dir</code> ุจุญูุธ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช Jekyll ุจูู ุฎุทูุท ุงูุฃูุงุจูุจ ุ ููุง <b>ูุณุฑุน ุนูููุฉ ุฅุนุงุฏุฉ ุงูุจูุงุก ุจุดูู ูุจูุฑ</b> . <br><br>  ุฑุจูุง ูุงุญุธุช ุฃูุถูุง ุงุณุชุฎุฏุงู ููู <code>releases.yml</code> - ูุฐุง ูู ููู YAML ูุน ุจูุงูุงุช ุงูุฅุตุฏุงุฑ ุงููุทููุจุฉ ูู <a href="https://github.com/flant/werf">github.com</a> (ุงูุฃุฏุงุฉ ุงูุชู ุชู ุงูุญุตูู ุนูููุง ุนู ุทุฑูู ุชูููุฐ ุฎุท ุงูุฃูุงุจูุจ).  ุชููู ููุงู ุญุงุฌุฉ ุนูุฏ ุชุฌููุน ุงููููุน ุ ูููู ูู ุณูุงู ุงูููุงูุฉ ุ ูุญู ููุชููู ุจุญูููุฉ ุฃู <b>ูุทุนุฉ ุฃุซุฑูุฉ ูุงุญุฏุฉ ููุท ุ ููู ูุทุนุฉ ุฃุซุฑูุฉ</b> ููุณุฎุฉ ุฅุตุฏุงุฑ ุงููููุน <b>ุ</b> ุชุนุชูุฏ ุนูู ุญุงูุชูุง (ูู ุงูุฃุนูุงู ุงููููุฉ ุงูุฃุฎุฑู ูุง ุชููู ููุงู ุญุงุฌุฉ ุฅูููุง). <br><br>  ูุชู ุชุทุจูู ุฐูู ุจุงุณุชุฎุฏุงู ุนุงูู ุงูุชุดุบูู <code>if</code> go ู <code>{{ $Root.Files.Get "releases.yml" | sha256sum }}</code>  <code>{{ $Root.Files.Get "releases.yml" | sha256sum }}</code> ูู ูุฑุญูุฉ <a href="https://ru.werf.io/documentation/reference/stages_and_images.html">ุงููุณุฑุญ</a> .  ูุนูู ูุฐุง ูุงูุชุงูู: ุนูุฏ ุชุฌููุน ูุทุนุฉ ุฃุซุฑูุฉ ูุฅุตุฏุงุฑ ุงูุฌุฐุฑ (ุงููุชุบูุฑ <code>.Channel</code> ูู <code>root</code> ) ุ ูุคุซุฑ ุชุฌุฒุฆุฉ ููู <code>.Channel</code> ุนูู ุชูููุน ุงููุฑุญูุฉ ุจุฃููููุง ุ ูุฃูู ุนูุตุฑ ูู ููููุงุช ุงุณู Ansible job (ูุนููุฉ <code>name</code> ).  ูุจุงูุชุงูู ุ ุนูุฏ ุชุบููุฑ <b>ูุญุชููุงุช</b> ููู <code>releases.yml</code> ุ ุณูุชู ุฅุนุงุฏุฉ ุจูุงุก ุงูุฃุฏุงุฉ ุงูููุงุจูุฉ. <br><br>  ุงูุชุจู ุฃูุถูุง ููุนูู ูุน ูุณุชูุฏุน ุฎุงุฑุฌู.  ุชุชู ุฅุถุงูุฉ ุฏููู <code>/docs</code> ููุท ุฅูู ุตูุฑุฉ ูุทุนุฉ ุฃุซุฑูุฉ ูู <a href="">ูุณุชูุฏุน werf</a> ุ <a href="">ูููููุง</a> ูููุนููุงุช ุงูุชู ุชู ุชูุฑูุฑูุง ุ ุชุชู ุฅุถุงูุฉ ุจูุงูุงุช ุงูุนูุงูุฉ ุงููุงุฒูุฉ ุฃู ุงูุชุฒุงู ุงููุฑุงุฌุนุฉ ุนูู ุงูููุฑ. <br><br>  ูุงุณุชุฎุฏุงู ูุงูุจ artifact ูุฅูุดุงุก ูุตู artifact ููุฅุตุฏุงุฑุงุช ุงููููููุฉ ูู ุงููููุงุช ูุงูุฅุตุฏุงุฑุงุช ุ ููุธู ุญููุฉ ุนูู ุงููุชุบูุฑ <code>.WerfVersions</code> ูู <code>werf.yaml</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">{{ <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> .WerfVersions -}} {{ $VersionsDict := splitn <span class="hljs-string"><span class="hljs-string">"%"</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> . -}} {{ dict <span class="hljs-string"><span class="hljs-string">"Version"</span></span> $VersionsDict._1 <span class="hljs-string"><span class="hljs-string">"Channel"</span></span> $VersionsDict._0 <span class="hljs-string"><span class="hljs-string">"Root"</span></span> $Root | include <span class="hljs-string"><span class="hljs-string">"doc_artifact"</span></span> }} --- {{ end -}}</code> </pre> <br>  ูุฃู  ุณูู ุชููุฏ ุงูุญููุฉ ุงูุนุฏูุฏ ูู ุงููุทุน ุงูุฃุซุฑูุฉ (ูุฃูู ุฐูู) ุ ูู ุงูุถุฑูุฑู ูุฑุงุนุงุฉ ุงููุงุตู ุจููููุง - ุงูุชุณูุณู <code>---</code> (ููุฒูุฏ ูู ุงููุนูููุงุช ุญูู ุจูุงุก ุฌููุฉ ููู ุงูุชูููู ุ ุงูุธุฑ <a href="https://ru.werf.io/documentation/configuration/introduction.html">ุงููุซุงุฆู</a> ).  ููููุง ููุง ุชู ุชุญุฏูุฏู ูุณุจููุง ุ ุนูุฏ ุงุณุชุฏุนุงุก ุงููุงูุจ ูู ุญููุฉ ุ ูููู ุจุชูุฑูุฑ ูุนููุงุช ุงูุฅุตุฏุงุฑ ูุนููุงู URL ูุณูุงู ุงูุฌุฐุฑ. <br><br>  ูุจุงููุซู ุ ูููู ุจุฏูู ุญููุฉ ุ ูุฏุนู ูุงูุจ ูุทุนุฉ ุฃุซุฑูุฉ ุฅูู "ุงูุญุงูุงุช ุงูุฎุงุตุฉ": ููุฅุตุฏุงุฑ ุงูุฌุฐุฑ ุ ููุฐูู ุงูุฅุตุฏุงุฑ ูู ุงูุงูุชุฒุงู ุงููุฑุงุฌุนุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">{{ dict <span class="hljs-string"><span class="hljs-string">"Version"</span></span> .WerfRootVersion <span class="hljs-string"><span class="hljs-string">"Channel"</span></span> <span class="hljs-string"><span class="hljs-string">"root"</span></span> <span class="hljs-string"><span class="hljs-string">"Root"</span></span> $Root | include <span class="hljs-string"><span class="hljs-string">"doc_artifact"</span></span> }} --- {{- <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> .WerfReviewCommit }} {{ dict <span class="hljs-string"><span class="hljs-string">"Version"</span></span> <span class="hljs-string"><span class="hljs-string">"review"</span></span> <span class="hljs-string"><span class="hljs-string">"Channel"</span></span> <span class="hljs-string"><span class="hljs-string">"review"</span></span> <span class="hljs-string"><span class="hljs-string">"Commit"</span></span> .WerfReviewCommit <span class="hljs-string"><span class="hljs-string">"Root"</span></span> $Root | include <span class="hljs-string"><span class="hljs-string">"doc_artifact"</span></span> }} {{- end }}</code> </pre> <br>  ูุฑุฌู ููุงุญุธุฉ ุฃูู ูู ูุชู ุฌูุน <code>.WerfReviewCommit</code> ุงููุฑุงุฌุนุฉ ุฅูุง ุฅุฐุง ุชู <code>.WerfReviewCommit</code> ูุชุบูุฑ <code>.WerfReviewCommit</code> . <br><br>  ุงููุทุน ุงูุฃุซุฑูุฉ ุฌุงูุฒุฉ - ุญุงู ููุช ุงูุงุณุชูุฑุงุฏ! <br><br>  ุงูุตูุฑุฉ ุงูููุงุฆูุฉ ุ ุงููุตููุฉ ููุชุดุบูู ูู Kubernetes ุ ูู NGINX ุนุงุฏูุฉ ุ ุญูุซ <code>nginx.conf</code> ููู ุชูููู ุฎุงุฏู <code>nginx.conf</code> ูู ุงูุฃุนูุงู ุงููููุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ูุทุนุฉ ุฃุซุฑูุฉ ูู ุงูุฅุตุฏุงุฑ ุงูุฌุฐุฑ ูููููุน ุ ูุญุชุงุฌ ุฅูู ุชูุฑุงุฑ ุงูุญููุฉ ุนูู ุงููุชุบูุฑ <code>.WerfVersions</code> ูุงุณุชูุฑุงุฏ ูุทุน ุฃุซุฑูุฉ ูุฅุตุฏุงุฑุงุช ุงููููุงุช ูุงูุฅุตุฏุงุฑุงุช + ูุงุญุธ ูุงุนุฏุฉ ุชุณููุฉ ุงููุทุน ุงูุฃุซุฑูุฉ ุงูุชู ุงุนุชูุฏูุงูุง ุณุงุจููุง.  ูุธุฑูุง ูุฃู ูู ูุทุนุฉ ุฃุซุฑูุฉ ุชุฎุฒู ุฅุตุฏุงุฑุงุช ุงููููุน ุจูุบุชูู ุ ูุฅููุง ูุณุชูุฑุฏูุง ูู ุงูุฃูุงูู ุงูุชู ูููุฑูุง ุงูุชูููู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุตู ุตูุฑุฉ werf-doc ุงูููุงุฆูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="go hljs">image: werf-doc from: nginx:stable-alpine ansible: setup: - name: <span class="hljs-string"><span class="hljs-string">"Setup /etc/nginx/nginx.conf"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">copy</span></span>: content: | {{ .Files.Get <span class="hljs-string"><span class="hljs-string">".werf/nginx.conf"</span></span> | indent <span class="hljs-number"><span class="hljs-number">8</span></span> }} dest: /etc/nginx/nginx.conf - file: path: <span class="hljs-string"><span class="hljs-string">"{{`{{ item }}`}}"</span></span> state: directory mode: <span class="hljs-number"><span class="hljs-number">0777</span></span> with_items: - /app/main_site/assets - /app/ru_site/assets <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>: - artifact: doc-root add: /app/_main_site to: /app/main_site before: setup - artifact: doc-root add: /app/_ru_site to: /app/ru_site before: setup {{ <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> .WerfVersions -}} {{ $VersionsDict := splitn <span class="hljs-string"><span class="hljs-string">"%"</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> . -}} {{ $Channel := $VersionsDict._0 -}} {{ $Version := $VersionsDict._1 -}} - artifact: doc-{{ $Channel }} add: /app/_main_site to: /app/main_site/v{{ $Channel }} before: setup {{ end -}} {{ <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> .WerfVersions -}} {{ $VersionsDict := splitn <span class="hljs-string"><span class="hljs-string">"%"</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> . -}} {{ $Channel := $VersionsDict._0 -}} {{ $Version := $VersionsDict._1 -}} - artifact: doc-{{ $Channel }} add: /app/_ru_site to: /app/ru_site/v{{ $Channel }} before: setup {{ end -}}</code> </pre> </div></div><br>  ุชุญุชูู ุงูุตูุฑุฉ ุงูุฅุถุงููุฉ ุ ุงูุชู ูุชู ุนุฑุถูุง ุ ุฅูู ุฌุงูุจ ุงูุตูุฑุฉ ุงูุฑุฆูุณูุฉ ุ ุนูู ุฏุงุฑุฉ dev ุ ุนูู ูุณุฎุชูู ููุท ูู ุงููููุน: ุงูุฅุตุฏุงุฑ ูู ูุฑุงุฌุนุฉ ุงูุงูุชุฒุงู ูุงูุฅุตุฏุงุฑ ุงูุฌุฐุฑ ูููููุน (ุชูุฌุฏ ุฃุตูู ุนุงูุฉ ุ ูุฅุฐุง ููุช ุชุชุฐูุฑ ุ ููู ุจุฅุตุฏุงุฑ ุงูุจูุงูุงุช).  ูุจุงูุชุงูู ุ ูุฅู ุงูุตูุฑุฉ ุงูุฅุถุงููุฉ ูู ุงูุตูุฑุฉ ุงูุฑุฆูุณูุฉ ุณุชุฎุชูู ููุท ูู ูุณู ุงูุงุณุชูุฑุงุฏ (ูุจุงูุทุจุน ุ ูู ุงูุงุณู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">image: werf-dev ... import: - artifact: doc-root add: /app/_main_site to: /app/main_site before: setup - artifact: doc-root add: /app/_ru_site to: /app/ru_site before: setup {{- if .WerfReviewCommit }} - artifact: doc-review add: /app/_main_site to: /app/main_site/review before: setup - artifact: doc-review add: /app/_ru_site to: /app/ru_site/review before: setup {{- end }}</code> </pre> <br>  ููุง ูู ูุฐููุฑ ุฃุนูุงู ุ ูู ูุชู ุฅูุดุงุก ูุทุนุฉ ุฃุซุฑูุฉ ูุงูุชุฒุงู ุงููุฑุงุฌุนุฉ ููุท ุนูุฏูุง ูุจุฏุฃ <code>REVIEW_SHA</code> ูุชุบูุฑ ุงูุจูุฆุฉ <code>REVIEW_SHA</code> .  ูุฏ ูุง ูููู ูู ุงููููู ุฅูุดุงุก ุตูุฑุฉ werf-dev ุนูู ุงูุฅุทูุงู ุฅุฐุง ูู ููู ููุงู <code>REVIEW_SHA</code> ุจูุฆุฉ <code>REVIEW_SHA</code> ุ ูููู ุญุชู ูุชู <a href="https://ru.werf.io/documentation/reference/cleaning_process.html">ุชูุธูู ุณูุงุณุงุช</a> werf ุงููุณุชูุฏุฉ ุฅูู werf ูุตูุฑ Docker ููุนูู ูุน ุตูุฑุฉ werf-dev ุ ูุฅููุง ูุชุฑููุง ูุชู ุฌูุนูุง ููุท ูุน ูุทุนุฉ ุฃุซุฑูุฉ ุฅุตุฏุงุฑ ุงูุฌุฐุฑ (ุนูู ุฃู ุญุงู ุ ุชุฌููุนูุง ุจุงููุนู) ุ ูุชุจุณูุท ูููู ุฎุท ุงูุฃูุงุจูุจ. <br><br>  ุงูุฌูุนูุฉ ุฌุงูุฒุฉ!  ููุฑ ุฅูู CI / CD ูุงููุฑูู ุงูุฏูููุฉ ุงููุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุฎุท ุฃูุงุจูุจ ูู GitLab CI ูููุฒุงุช ุงูุชุฌููุน ุงูุฏููุงูููู </h3><br>  ุนูุฏ ุจุฏุก ุงูุชุฌููุน ุ ูุญุชุงุฌ ุฅูู ุชุนููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุณุชุฎุฏูุฉ ูู <code>werf.yaml</code> .  ูุง ููุทุจู ูุฐุง ุนูู ูุชุบูุฑ REVIEW_SHA ุ ุงูุฐู ุณูููู ุจุชุนูููู ุนูุฏ ุงุณุชุฏุนุงุก ุฎุท ุงูุฃูุงุจูุจ ูู ุฎุทุงู GitHub. <br><br>  ุณูููู ุจุฅูุดุงุก ุงูุจูุงูุงุช ุงูุฎุงุฑุฌูุฉ ุงูุถุฑูุฑูุฉ ูู ุงูุจุฑูุงูุฌ ุงููุตู Bash ุงูุฎุงุต ุจู create_artifacts ุ ูุงูุฐู ุณููุชุฌ ุนูู ุชุญุตููุงู GitLab ูู ุฎุท ุฃูุงุจูุจ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>releases.yml</code> ููู ูุน ุจูุงูุงุช ุงูุฅุตุฏุงุฑ ุ </li><li style=";text-align:right;direction:rtl">  ููู <code>common_envs.sh</code> ูุญุชูู ุนูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุชุตุฏูุฑ. </li></ul><br>  ุณุชุฌุฏ ูุญุชููุงุช ููู <code>generate_artifacts</code> ูู <a href="https://github.com/flant/examples/tree/master/2020/01-dynamic-build">ูุณุชูุฏุน ูุซุงููุง</a> .  ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ููุณ ููุถูุน ุงูููุงูุฉ ุ ูููู ููู <code>common_envs.sh</code> ููู ุจุงููุณุจุฉ ููุง ุ ูุฃู  ุนูู werf ูุนุชูุฏ ุนููู.  ูุซุงู ุนูู ูุญุชููุงุชู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> RELEASES=<span class="hljs-string"><span class="hljs-string">'1.0%v1.0.6-4'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> CHANNELS=<span class="hljs-string"><span class="hljs-string">'1.0-alpha%v1.0.7-1 1.0-beta%v1.0.7-1 1.0-ea%v1.0.6-4 1.0-stable%v1.0.6-4 1.0-rock-solid%v1.0.6-4'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ROOT_VERSION=<span class="hljs-string"><span class="hljs-string">'v1.0.6-4'</span></span></code> </pre> <br>  ููููู ุงุณุชุฎุฏุงู ุฅุฎุฑุงุฌ ูุซู ูุฐุง ุงูุจุฑูุงูุฌ ุงููุตู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณุชุฎุฏุงู ูุธููุฉ Bash <code>source</code> . <br><br>  ูุงูุขู ุจุงููุณุจุฉ ููุฌุฒุก ุงููุฑุญ.  ููู ุชุนูู ูู ูู ุชุทุจููุงุช <code>werf.yaml</code> ููุดุฑูุง ุจุดูู ุตุญูุญ ุ ูุฌุจ ุฃู ุชุฌุนู <code>werf.yaml</code> <b>ููุณู</b> <b>ูุฎุท ุฃูุงุจูุจ ูุงุญุฏ</b> ุนูู ุงูุฃูู.  ุฅุฐุง ูู ูุชู ุงุณุชููุงุก ูุฐุง ุงูุดุฑุท ุ ูุณุชููู ุชูููุนุงุช ุงููุฑุงุญู ุงูุชู ูุชู ุญุณุงุจูุง ุฃุซูุงุก ุงูุชุฌููุน ุ ูุนูู ุณุจูู ุงููุซุงู ุ ุงููุดุฑ ูุฎุชููุฉ.  ูุฐุง ุณูุคุฏู ุฅูู ุฎุทุฃ ูู ุงููุดุฑ ุ ููุง  ุงูุตูุฑุฉ ุงููุทููุจุฉ ูููุดุฑ ุณุชููู ุบุงุฆุจุฉ. <br><br>  ุจูุนูู ุขุฎุฑ ุ ุฅุฐุง ูุงูุช ุงููุนูููุงุช ุงููุชุนููุฉ ุจุงูุฅุตุฏุงุฑุงุช ูุงูุฅุตุฏุงุฑุงุช ุฃุซูุงุก ุชุฌููุน ุตูุฑุฉ ุงููููุน ูุงุญุฏุฉ ุ ููู ููุช ุงูุฅุตุฏุงุฑ ุชู ุฅุตุฏุงุฑ ุฅุตุฏุงุฑ ุฌุฏูุฏ ููุชุบูุฑุงุช ุงูุจูุฆุฉ ุจู ููู ูุฎุชููุฉ ุ ูุณูู ุชูุดู ุนูููุฉ ุงููุดุฑ ุจุณุจุจ ุญุฏูุซ ุฎุทุฃ: ูู ูุชู ุฌูุน ุจูุงูุงุช ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ุจุนุฏ. <br><br>  ุฅุฐุง ูุงู ุฅูุดุงุก <code>werf.yaml</code> ูุนุชูุฏ ุนูู ุงูุจูุงูุงุช ุงูุฎุงุฑุฌูุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ูุงุฆูุฉ ุงูุฅุตุฏุงุฑุงุช ุงูุญุงููุฉ ุ ููุง ูู ุญุงูุชูุง) ุ ููุฌุจ ุชุณุฌูู ุชุฑููุจุฉ ูุฐู ุงูุจูุงูุงุช ูููููุง ุฏุงุฎู ุฎุท ุงูุฃูุงุจูุจ.  ูุฐุง ููู ุจุดูู ุฎุงุต ุฅุฐุง ุชุบูุฑุช ุงููุนููุงุช ุงูุฎุงุฑุฌูุฉ ูู ูุซูุฑ ูู ุงูุฃุญูุงู. <br><br>  ุณูู <b>ูุณุชูุจู</b> ูููุชูุท <b>ุจูุงูุงุช ุฎุงุฑุฌูุฉ</b> ูู ุงููุฑุญูุฉ ุงูุฃููู ูู ุฎุท ุงูุฃูุงุจูุจ ูู GitLab ( <i>Prebuild</i> ) <i>ููููููุง ุฅูู</i> ุฃุจุนุฏ ูู ุฐูู ูุฃุฏุงุฉ <b>GitLab CI</b> .  ุณูุณูุญ ูู ุฐูู ุจุจุฏุก ูุฅุนุงุฏุฉ ุชุดุบูู ููุงู ุฎุทูุท ุงูุฃูุงุจูุจ (ุฅูุดุงุก ููุดุฑ ูุชูุธูู) ุจููุณ ุงูุชูููู ูู <code>werf.yaml</code> . <br><br>  ูุญุชููุงุช ูุฑุญูุฉ <i>Prebuild</i> ูููู <i>.gitlab</i> - <i>ci.yml</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Prebuild: stage: prebuild script: - bash ./generate_artifacts 1&gt; common_envs.sh - cat ./common_envs.sh artifacts: paths: - releases.yml - common_envs.sh expire_in: 2 week</code> </pre> <br>  ุนู ุทุฑูู ุงูุชูุงุท ุงูุจูุงูุงุช ุงูุฎุงุฑุฌูุฉ ูู ุฃุญุฏ ุงููุทุน ุงูุฃุซุฑูุฉ ุ ููููู ุฅูุดุงุก ููุดุฑ ุจุงุณุชุฎุฏุงู ูุฑุงุญู ุฎุท ุฃูุงุจูุจ GitLab CI ุงูููุงุณูุฉ: ุงูุฅูุดุงุก ูุงููุดุฑ.  ูุทูู ุฎุท ุงูุฃูุงุจูุจ ุจุฎุทุงูุงุช ูู ูุณุชูุฏุน gerHub werf (ุนูู ุณุจูู ุงููุซุงู ุนูุฏ ุชุบููุฑ ุงููุฎุฒูู ูู GitHub).  ูููู ุฃุฎุฐ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูู ูู ุฎุตุงุฆุต ูุดุฑูุน GitLab ูู <i>ุฅุนุฏุงุฏุงุช CI / CD -&gt; ูุณู ูุดุบูุงุช ุฎุทูุท ุงูุฃูุงุจูุจ</i> ุ ุซู ุฅูุดุงุก Webhook ุงููุทุงุจู ( <i>ุงูุฅุนุฏุงุฏุงุช -&gt; Webhooks</i> ) ูู GitHub. <br><br>  ุณุชุจุฏู ูุฑุญูุฉ ุงูุฅูุดุงุก ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Build: stage: build script: - type multiwerf &amp;&amp; . $(multiwerf use 1.0 alpha --as-file) - type werf &amp;&amp; source &lt;(werf ci-env gitlab --tagging-strategy tag-or-branch --verbose) - source common_envs.sh - werf build-and-publish --stages-storage :local except: refs: - schedules dependencies: - Prebuild</code> </pre> <br>  ุณุชุถูู GitLab ุงุซููู ูู ุงูุฃุนูุงู ุงููููุฉ ูู ูุฑุญูุฉ <i>Prebuild</i> ุฅูู ูุฑุญูุฉ ุงูุจูุงุก ุ ูุฐูู ูุญู ุชุตุฏูุฑ ุงููุชุบูุฑุงุช ูุน ุงููุฏุฎูุงุช ุงููุนุฏุฉ ุจุงุณุชุฎุฏุงู <code>source common_envs.sh</code> .  ูุจุฏุฃ ูุฑุญูุฉ ุงูุชุฌููุน ูู ุฌููุน ุงูุญุงูุงุช ุ ุจุงุณุชุซูุงุก ุฅุทูุงู ุฎุท ุงูุฃูุงุจูุจ ูู ุงูููุนุฏ ุงููุญุฏุฏ.  ููููุง ููุฌุฏูู ุงูุฒููู ุ ุณูุชู ุฅุทูุงู ุฎุท ุงูุฃูุงุจูุจ ููุชูุธูู - ูุง ูุญุชุงุฌ ุฅูู ุงูุฅูุดุงุก ูู ูุฐู ุงูุญุงูุฉ. <br><br>  ูู ูุฑุญูุฉ ุงููุดุฑ ุ ูุตู ูููุชูู - ุจุดูู ูููุตู ูููุดุฑ ุฅูู ุฏูุงุฆุฑ ุงูุฅูุชุงุฌ ู dev ุ ุจุงุณุชุฎุฏุงู ูุงูุจ YAML: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">.base_deploy: &amp;base_deploy stage: deploy script: - type multiwerf &amp;&amp; . $(multiwerf use 1.0 alpha --as-file) - type werf &amp;&amp; source &lt;(werf ci-env gitlab --tagging-strategy tag-or-branch --verbose) - source common_envs.sh - werf deploy --stages-storage :local dependencies: - Prebuild except: refs: - schedules Deploy to Production: &lt;&lt;: *base_deploy variables: WERF_KUBE_CONTEXT: prod environment: name: production url: werf.io only: refs: - master except: variables: - $REVIEW_SHA refs: - schedules Deploy to Test: &lt;&lt;: *base_deploy variables: WERF_KUBE_CONTEXT: dev environment: name: test url: werf.test.flant.com except: refs: - schedules only: variables: - $REVIEW_SHA</code> </pre> <br>  ุชุฎุชูู ุงูููุงู ุจุดูู ุฃุณุงุณู ููุท ุนู ุทุฑูู ุงูุฅุดุงุฑุฉ ุฅูู ุณูุงู ุงููุชูุฉ ุงูุฐู ูุฌุจ ุฃู ูููู werf ุจุชูููุฐ ุนูููุฉ ุงููุดุฑ ( <code>WERF_KUBE_CONTEXT</code> ) ููู ูุชุญุฏูุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุฎุงุตุฉ <code>WERF_KUBE_CONTEXT</code> ( <code>environment.name</code> ู <code>environment.url</code> ) ุ ูุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ุจุนุฏ ุฐูู ูู ููุงูุจ ูุฎุทุท Helm.  ูู ูุชู ุฅุนุทุงุก ูุญุชูู ุงูููุงูุจ ุ  ูุง ููุฌุฏ ุดูุก ูุซูุฑ ููุงูุชูุงู ููุฐุง ุงูููุถูุน ุ ูููู ููููู ุงูุนุซูุฑ ุนููู ูู <a href="https://github.com/flant/examples/tree/master/2020/01-dynamic-build">ูุณุชูุฏุน ุงูููุงูุงุช</a> . <br><br><h3 style=";text-align:right;direction:rtl">  ุงูููุณุฉ ุงูููุงุฆูุฉ </h3><br>  ููุฐ ุฅุตุฏุงุฑ ุฅุตุฏุงุฑุงุช werf ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุ ุณูุชู ุฌูุน ุตูุฑ ุฌุฏูุฏุฉ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุ ูุณูู ูููู Docker Registry ุจุงุณุชูุฑุงุฑ.  ูุฐูู ุ ูู ุงูุถุฑูุฑู ุชูููู ุงูุชูุธูู ุงูุชููุงุฆู ููุตูุฑ ุญุณุจ ุงูุณูุงุณุฉ.  ูู ุงูุณูู ุฌุฏุง ุงูููุงู ุจู. <br><br>  ููุชูููุฐ ุณูู ุชุญุชุงุฌ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุถู ุฎุทูุฉ ุชุทููุฑ ุฅูู <code>.gitlab-ci.yml</code> ุ </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ููุงู ุงูุชูุธูู ุงูุฏูุฑูุฉ. </li><li style=";text-align:right;direction:rtl">  ุชุนููู ูุชุบูุฑ ุงูุจูุฆุฉ ูุน ุฑูุฒ ูุตูู ุงููุชุงุจุฉ. </li></ul><br>  ุฃุถู ูุฑุญูุฉ ุงูุชูุธูู ุฅูู <code>.gitlab-ci.yml</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Cleanup: stage: cleanup script: - type multiwerf &amp;&amp; . $(multiwerf use 1.0 alpha --as-file) - type werf &amp;&amp; source &lt;(werf ci-env gitlab --tagging-strategy tag-or-branch --verbose) - source common_envs.sh - docker login -u nobody -p ${WERF_IMAGES_CLEANUP_PASSWORD} ${WERF_IMAGES_REPO} - werf cleanup --stages-storage :local only: refs: - schedules</code> </pre><br>  ููุฏ ุฑุฃููุง ุฌููุนูุง ุชูุฑูุจูุง ูุฐุง ุฃุนูู ููููุงู - ููุท ููุชูุธูู ุ ุชุญุชุงุฌ ุฃููุงู ุฅูู ุชุณุฌูู ุงูุฏุฎูู ุฅูู Docker Registry ุจุฑูุฒ ูููุฒ ูู ุงูุญู ูู ุญุฐู ุงูุตูุฑ ูู Docker Registry (ููุณ ูุฑูุฒ ูููุฉ GitLab CI ุงูุตุงุฏุฑ ุชููุงุฆููุง ูุฐู ุงูุญููู).  ูุฌุจ ุฅุฏุฎุงู ุงูุฑูุฒ ุงููููุฒ ูู GitLab ูุณุจููุง ููุฌุจ ุชุญุฏูุฏ ูููุชู ูู ูุชุบูุฑ ุงูุจูุฆุฉ <code>WERF_IMAGES_CLEANUP_PASSWORD</code> ูููุดุฑูุน <i>(ุฅุนุฏุงุฏุงุช CI / CD -&gt; ูุชุบูุฑุงุช)</i> . <br><br>  ุชุชู ุฅุถุงูุฉ ูููุฉ ุงูุชูุธูู ูุน ุงูุฌุฏูู ุงูุฒููู ุงูุถุฑูุฑู ูู <i>CI / CD -&gt;</i> <i><br></i>  <i>ุฌุฏุงูู.</i> <br><br>  ูุฐุง ูู ุดูุก: ูู ูููู ุงููุดุฑูุน ูู Docker Registry ุจุงุณุชูุฑุงุฑ ูู ุงูุตูุฑ ุบูุฑ ุงููุณุชุฎุฏูุฉ. <br><br>  ูู ููุงูุฉ ุงูุฌุฒุก ุงูุนููู ุ ุฃุชุฐูุฑ ุฃู ุงูููุงุฆู ุงููุงููุฉ ูู ุงูููุงูุฉ ูุชููุฑุฉ ูู <a href="https://github.com/flant/examples/tree/master/2020/01-dynamic-build">Git</a> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="">.gitlab-ci.yml</a> ุ </li><li style=";text-align:right;direction:rtl">  <a href="">werf.yaml</a> . </li></ul><br><h2 style=";text-align:right;direction:rtl">  ูุคุฏู </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุญุตููุง ุนูู ุจููุฉ ุจููุฉ ููุทููุฉ: ูุทุนุฉ ุฃุซุฑูุฉ ูุงุญุฏุฉ ููู ุฅุตุฏุงุฑ. </li><li style=";text-align:right;direction:rtl">  ุงูุชุฌููุน ุนุงููู ููุง ูุชุทูุจ ุชุบููุฑุงุช ูุฏููุฉ ุนูุฏ ุฅุตุฏุงุฑ ุฅุตุฏุงุฑุงุช ุฌุฏูุฏุฉ ูู werf: ูุชู ุชุญุฏูุซ ุงููุซุงุฆู ุงูููุฌูุฏุฉ ุนูู ุงููููุน ุชููุงุฆููุง. </li><li style=";text-align:right;direction:rtl">  ูุชู ุฌูุน ุตูุฑุชูู ููุญูุทุงุช ูุฎุชููุฉ. </li><li style=";text-align:right;direction:rtl">  ุงููุง ุชุนูู ุจุณุฑุนุฉ ู  ูุชู ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุคูุช ุฅูู ุงูุญุฏ ุงูุฃูุตู - ุนูุฏ ุฅุตุฏุงุฑ ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู werf ุฃู ุงุณุชุฏุนุงุก ุฑุจุท GitHub ูุงูุชุฒุงู ุงููุฑุงุฌุนุฉ ุ ุชุชู ุฅุนุงุฏุฉ ุฅูุดุงุก ูุทุนุฉ ุฃุซุฑูุฉ ููุงุซูุฉ ููุท ูุน ูุณุฎุฉ ูุนุฏูุฉ. </li><li style=";text-align:right;direction:rtl">  ูุง ุฏุงุนู ููุชูููุฑ ูู ุญุฐู ุงูุตูุฑ ุบูุฑ ุงููุณุชุฎุฏูุฉ: ุณูุคุฏู ุชูุธูู ุณูุงุณุฉ werf ุฅูู ุงูุญูุงุธ ุนูู ุงููุธุงู ูู Docker Registry. </li></ol><br><h2 style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุณูุญ ุงุณุชุฎุฏุงู werf ููุชุฌููุน ุจุงูุนูู ุจุณุฑุนุฉ ุจูุถู ุงูุชุฎุฒูู ุงููุคูุช ููู ูู ุงูุชุฌููุน ููุณู ูุงูุชุฎุฒูู ุงููุคูุช ุนูุฏ ุงูุนูู ูุน ุงููุณุชูุฏุนุงุช ุงูุฎุงุฑุฌูุฉ. </li><li style=";text-align:right;direction:rtl">    Git-               . werf        ,    <code>fetch</code>    . </li><li style=";text-align:right;direction:rtl">   Go-     <code>werf.yaml</code>   ,      . </li><li style=";text-align:right;direction:rtl">    werf     โ   ,     pipeline. </li><li style=";text-align:right;direction:rtl"> werf    ,      . </li></ul><br><h2 style=";text-align:right;direction:rtl">  PS </h2><br>     : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ยซ <a href="https://habr.com/ru/company/flant/blog/476320/">         Kubernetes</a> ยป; </li><li style=";text-align:right;direction:rtl"> ยซ <a href="https://habr.com/ru/company/flant/blog/469541/">      werf  GitLab CI</a> ยป; </li><li style=";text-align:right;direction:rtl"> ยซ <a href="https://habr.com/ru/company/flant/blog/468049/"> werf    Helm-</a> ยป; </li><li style=";text-align:right;direction:rtl"> ยซ <a href="https://habr.com/ru/company/flant/blog/481306/"> werf 1.0 stable:    GitOps,   </a> ยป. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar478690/">https://habr.com/ru/post/ar478690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar478670/index.html">ููู ูููู ููููุงุฌููู ูุฑุงุกุฉ ูุฑุงุณูุงุชู ูู Telegram. ูููู ูููููู ููุน ุฐูู</a></li>
<li><a href="../ar478672/index.html">ุงุฎุชุจุงุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุจุฏุก ุงูุชุดุบูู: ููุงุจูุฉ ูุน ุขุฏู ูุงุฑูู (Applitools)</a></li>
<li><a href="../ar478680/index.html">ููุงุฐุง ุ ูุงูุฃูู ูู ุฐูู ุ ุฃูู ูุฐูุจ ุงููุงุณ ูู ุชูููููุฌูุง ุงููุนูููุงุชุ</a></li>
<li><a href="../ar478684/index.html">ููุฏูุฉ ุฅูู SSD. ุงูุฌุฒุก 2. ูุงุฌูุฉ</a></li>
<li><a href="../ar478688/index.html">ููู ูุงู ุงูุฃูุฑ ุจุงููุณุจุฉ ูุฏุฑุงุณุฉ ุนููู ุงูุจูุงูุงุช ูู ุนุงู 2019</a></li>
<li><a href="../ar478692/index.html">ููู ูุชู ุฏุนู Java 8 ุนูู Android</a></li>
<li><a href="../ar478694/index.html">ููุง ููุตู ุจุฃุญุฏุซ ุงูููุงุฑุณ ูู ุณูููุง ุงูุฅูุชุฑูุช ุนูู ุงูุฅูุชุฑูุช (+ ุฑูุฒ ุจูุซูู)</a></li>
<li><a href="../ar478696/index.html">ููู ุฒุฑุช Urban Urban 2019. ุชูุฑูุฑ ุงูุญุฏุซ</a></li>
<li><a href="../ar478698/index.html">ูุถุน ุฎุทุฉ ุชุถุงุฑูุณ ุชูุงุนููุฉ ูู 15 ุฏูููุฉ</a></li>
<li><a href="../ar478702/index.html">ุงูุญูู ูุนุงูุฌุฉ ูุชุฑู ูู Kapacitor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>