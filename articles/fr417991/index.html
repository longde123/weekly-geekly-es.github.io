<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙃 👨🏻‍🍳 🅿️ Automatisation du suivi des salaires avec R 👂🏽 🙍🏾 🙍🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Chaque bureau qui se respecte surveille régulièrement les salaires afin de naviguer dans le segment du marché du travail qui l'intéresse. Cependant, m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisation du suivi des salaires avec R</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417991/"><p>  Chaque bureau qui se respecte surveille régulièrement les salaires afin de naviguer dans le segment du marché du travail qui l'intéresse.  Cependant, malgré le fait que la tâche est nécessaire et importante, tout le monde n'est pas prêt à payer des services tiers pour cela. </p><br><p> Dans ce cas, afin d'économiser les ressources humaines de la nécessité de trier régulièrement manuellement des centaines de postes vacants et de curriculum vitae, il est plus efficace d'écrire une petite application une fois qui le fera vous-même et, à la sortie, fournir le résultat sous la forme d'un beau tableau de bord avec des tableaux, des graphiques, la possibilité de filtrer et de télécharger des données.  Par exemple, ceci: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vt/0n/na/vt0nnawevzb5w48is1htaju-mcc.png"></div><br><p>  Vous pouvez regarder en direct (et même appuyer sur les boutons) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Dans cet article, je parlerai de la façon dont j'ai écrit une telle application et des pièges que j'ai rencontrés en cours de route. <a name="habracut"></a></p><br><h1 id="postanovka-zadachi">  Énoncé du problème </h1><br><p>  Il est nécessaire d'écrire une application qui collectera les données de travail hh.ru et reprendra pour des postes spécifiques (développeur Back-end / Front-end / Full-stack, DevOps, QA, Project Manager, Systems Analyst, etc.) à Saint-Pétersbourg et donner la valeur minimale, moyenne et maximale des attentes salariales et des offres pour les spécialistes de niveau junior, moyen et senior pour chacune de ces professions. </p><br><p>  Il était censé mettre à jour les données environ tous les six mois, mais pas plus d'une fois par mois. </p><br><h1 id="pervyy-prototip">  Premier prototype </h1><br><p>  Écrit en pur brillant, avec une belle mise en page bootstrap, à première vue, il est sorti presque rien: simple, et surtout - compréhensible.  La page principale de l'application contient les plus nécessaires: pour chaque spécialité, la valeur moyenne des salaires et des attentes salariales (niveau intermédiaire) est disponible, il y a aussi la date de la dernière mise à jour des données et le bouton Mettre à jour.  Les onglets dans l'en-tête - par le nombre de spécialités considérées - contiennent des tableaux avec des données et des graphiques collectés complets. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/73/1f/yi/731fyiffyiffjnywuub82g3moye.png"></div><br><p>  Si l'utilisateur constate que les données n'ont pas été mises à jour depuis trop longtemps, il appuie sur le bouton "Mettre à jour" pour la spécialité correspondante.  Feuilles d'application <del>  dans l'inconscient </del>  pensez pendant 5 minutes, l'employé part boire un café.  A son retour, en attente de mise à jour des données sur la page principale et sur l'onglet correspondant. </p><br><div class="spoiler">  <b class="spoiler_title">Question pour l'auto-test: quel est le problème avec ce prototype?</b> <div class="spoiler_text"><p>  À tout le moins, afin de mettre à jour les données sur les neuf spécialités, l'utilisateur doit <strong>cliquer sur le bouton Mettre à jour sur chaque tuile</strong> - et donc neuf fois. </p><br><p>  Pourquoi ne pas créer un bouton «Mettre à jour» pour tout?  Le fait est - et c'est le deuxième problème - que pour chaque demande ("mettre à jour et traiter les données sur les gestionnaires", "mettre à jour et traiter les données sur l'AQ", etc.), cela a pris <strong>5 à 10 minutes</strong> , ce qui en soi n'est pas autorisé. depuis longtemps.  Une seule demande de mise à jour de toutes les données transformerait 5 minutes en 45, voire les 60. L' <strong>utilisateur ne peut pas attendre autant.</strong> </p><br><p> Même plusieurs fonctions <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>withProgress()</code></a> qui enveloppaient les processus de collecte et de traitement des données et rendaient les attentes des utilisateurs plus significatives de cette manière n'ont pas trop sauvé la situation. </p><br><p>  Le troisième problème avec ce prototype est que si nous ajoutons une douzaine de professions supplémentaires (enfin, et si), nous serions confrontés au fait que la <strong>place dans l'en-tête se termine</strong> . </p><br><p>  Ces trois raisons m'ont suffi pour repenser complètement l'approche de construction d'une application et de l'UX.  Si vous en trouvez plus, n'hésitez pas à commenter. </p></div></div><br><p>  Ce prototype avait également des atouts, à savoir: </p><br><ul><li>  <strong>Une approche généralisée</strong> de l'interface et de la logique métier: au lieu de copier-coller, nous supprimons les mêmes éléments dans une fonction séparée avec des paramètres. </li></ul><br><p>  Par exemple, voici à quoi ressemble la «tuile» d'une spécialité sur la page principale: </p><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">tile &lt;- function(title, midsal = NA, midsalres = NA, total.res = NA, total.vac = NA, updated = NA) { return( column(width = 4, h2(title), strong("  (middle):"), midsal, br(), strong("  (middle):"), midsalres, br(), strong(" :"), total.res, br(), strong(" : "), total.vac, br(), strong(" : "), updated, br(), br(), actionButton(inputId = paste0(tolower(prof), "Btn"), label = "Update", class = "btn-primary") ) ) }</code> </pre> </div></div><br><ul><li>  <strong>Formation dynamique de l'</strong> interface utilisateur jusqu'aux identifiants (inputId) dans le code, via <code>inputId = paste0(, "Btn")</code> , voir l'exemple ci-dessus.  Cette approche s'est avérée extrêmement pratique, car il fallait initialiser avec une dizaine de contrôles, multipliés par le nombre de professions. </li><li>  Ça a marché :) </li></ul><br><p>  Les données collectées ont été stockées dans des fichiers .csv pour diverses professions ( <code>append = TRUE</code> ), puis lues à partir de là lorsque l'application a été lancée.  Lorsque de nouvelles données sont apparues, elles ont été ajoutées au fichier correspondant et les valeurs moyennes ont été recalculées. </p><br><p>  <strong>Quelques mots sur les séparateurs</strong> </p><br><p>  Une nuance importante: les séparateurs standard pour les fichiers csv - une virgule ou un point-virgule - ne conviennent pas très bien à notre cas, car vous pouvez souvent trouver des postes vacants et des CV avec des titres comme "Shvets, reaper, igrets (duda; html / css)".  Par conséquent, j'ai immédiatement décidé de choisir quelque chose de plus exotique, et mon choix s'est porté sur |. </p><br><p>  Tout s'est bien passé jusqu'à la prochaine fois que j'ai commencé, je n'ai pas trouvé la date dans la colonne avec la devise, puis les colonnes ont baissé et, par conséquent, les tableaux de verrouillage.  J'ai commencé à comprendre.  Il s'est avéré que mon système a été brisé par une belle fille - "Data Analyst | Business Analyst".  Depuis lors, j'utilise <code>\x1B</code> comme délimiteur, le caractère ESC.  Toujours pas déçu. </p><br><p>  <strong>Attribuer ou ne pas attribuer?</strong> </p><br><p>  En travaillant sur ce projet, la fonction assign est devenue une vraie découverte pour moi: vous pouvez <strong>générer dynamiquement les noms des</strong> variables et autres dates, cool! </p><br><p>  Bien sûr, je souhaite conserver les données source dans des trames de données distinctes pour différents postes vacants.  Et je ne veux pas écrire "designer.vac = data.frame (...), analyst.vac = data.frame (...)".  Par conséquent, le code pour initialiser ces objets lorsque j'ai démarré l'application ressemblait à ceci: </p><br><div class="spoiler">  <b class="spoiler_title">Attribuer</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">profs &lt;- c("analyst", "designer", "developer", "devops", "manager", "qa") for (name in profs) { if (!exists(paste0(name, ".vac"))) assign(x = paste0(name, ".vac"), value = data.frame( URL = character() #    , id = numeric() # id  , Name = character() #   , City = character() , Published = character() , Currency = character() , From = numeric() # .    , To = numeric() # .  , Level = character() # jun/mid/sen , Salary = numeric() , stringsAsFactors = FALSE )) }</code> </pre></div></div><br><p>  Mais ma joie n'a pas duré longtemps.  Il n'était plus possible d'accéder à de tels objets à l'avenir via un certain paramètre, ce qui a forcément conduit à une duplication de code.  Dans le même temps, le nombre d'objets a augmenté de façon exponentielle, et en conséquence, il est devenu facile de se confondre en eux et d'attribuer des appels. </p><br><p>  J'ai donc dû utiliser une approche différente, qui s'est avérée beaucoup plus simple: <strong>utiliser des listes.</strong> </p><br><div class="spoiler">  <b class="spoiler_title">Initialiser un paquet de trames de données?</b>  <b class="spoiler_title">C'est facile!</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">profs &lt;- list( devops = "devops" , analyst = c("systems+analyst", "business+analyst") , dev.full = "full+stack+developer" , dev.back = "back+end+developer" , dev.front = "front+end+developer" , designer = "ux+ui+designer" , qa = "QA+tester" , manager = "project+manager" , content = c("mathematics+teacher", "physics+teacher") ) for (name in names(profs)) { proflist[[name]] &lt;- data.frame( URL = character() #    , id = numeric() # id  , Name = character() #   , City = character() , Published = character() , Currency = character() , From = numeric() # .    , To = numeric() # .  , Level = character() # jun/mid/sen , Salary = numeric() , stringsAsFactors = FALSE ) }</code> </pre> <br><p>  Veuillez noter qu'au lieu du vecteur habituel avec les noms des professions, comme auparavant, j'utilise une liste, qui comprend en même temps des requêtes de recherche, qui recherchent des données sur les postes vacants et les curriculum vitae pour une profession particulière.  J'ai donc réussi à me débarrasser du commutateur laid lors de l'appel de la fonction de recherche d'emploi. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Rendre N tableaux et N graphiques à partir de ces trames de données d'un seul coup?</b>  <b class="spoiler_title">Hm ...</b> <div class="spoiler_text"><p>  De plus, en général, ce n'est pas difficile.  Voici un exemple sphérique dans le vide pour server.R: </p><br><pre> <code class="plaintext hljs">lapply(seq_along(my.list.of.data.frames), function(x) { output[[paste0(names(my.list.of.data.frames)[x], ".dt")]] &lt;- renderDataTable({ datatable(data = my.list.of.data.frames[[names(my.list.of.data.frames)[x]]]() , style = 'bootstrap', selection = 'none' , escape = FALSE) }) output[[paste0(names(my.list.of.data.frames)[x], ".plot")]] &lt;- renderPlot( ggplot(na.omit(my.list.of.data.frames[[names(my.list.of.data.frames)[x]]]()), aes(...)) ) })</code> </pre> </div></div><br><p>  D'où la <strong>conclusion: les</strong> listes sont une chose extrêmement pratique qui vous permet de réduire la quantité de code et le temps nécessaire pour le traiter.  (Par conséquent, ne pas attribuer.) </p><br><p>  Et à ce moment où j'ai été distrait de refactoring sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le discours de Joe Cheng sur les tableaux de bord</a> , c'est venu ... </p><br><h1 id="pereosmyslenie">  Repenser </h1><br><p>  Il s'avère que dans R, il existe un package spécial, affûté pour la création de tableaux de bord - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">shinydashboard</a> .  Il utilise également le bootstrap et facilite un peu plus l'organisation d'une interface utilisateur avec une barre latérale concise qui peut être complètement masquée sans <code>conditionalPanel()</code> , permettant à l'utilisateur de se concentrer sur l'étude des données. </p><br><p>  Il s'avère que si les RH vérifient les données une fois tous les six mois, elles n'ont pas besoin du bouton Mettre à jour.  Pas du tout.  Ce n'est pas exactement un "tableau de bord statique", mais proche de cela.  Le script de mise à jour des données peut être implémenté complètement séparément de l'application brillante et l'exécuter selon le calendrier avec le planificateur standard <del>  Windows </del>  votre système d'exploitation. </p><br><p>  Cela résout deux problèmes à la fois: une longue attente (si vous exécutez régulièrement le script en arrière-plan, l'utilisateur ne remarquera même pas son travail, mais ne verra toujours que des données fraîches) et des actions redondantes requises de l'utilisateur pour mettre à jour les données.  Auparavant, il fallait neuf clics (un pour chaque spécialité), maintenant il n'en faut plus.  Il semble que nous ayons atteint un gain d'efficacité, en recherchant l'infini! </p><br><p>  Il s'avère que le code dans différentes parties de l'application est exécuté un nombre de fois inégal.  Je ne m'attarderai pas là-dessus en détail; si vous le souhaitez, il est préférable de vous familiariser avec l'explication visuelle du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport</a> .  Je ne présenterai que l'idée principale: manipuler les données à l'intérieur de ggplot (), le mal à la volée, et <strong>plus vous pouvez apporter de code aux niveaux supérieurs de l'application, mieux c'est.</strong>  La productivité augmente en même temps parfois. </p><br><p>  En fait, plus je regardais le rapport, plus je réalisais clairement à quel point le code de mon premier prototype n'était pas organisé par le Feng Shui, et à un moment donné, il est devenu évident que le projet était plus facile à réécrire qu'à refactoriser.  Mais comment quitter votre idée quand tant d'efforts y ont été investis? </p><br><h1 id="to-chto-mertvo-umeret-ne-mozhet">  Ce qui est mort ne peut pas mourir </h1><br><p>  - J'ai pensé et réécrit le projet à partir de zéro, et cette fois </p><br><ul><li>  livré le code complet pour la collecte de données sur les postes vacants et les curriculum vitae (en fait, l'ensemble du processus ETL) dans un script distinct qui peut être exécuté indépendamment d'une application brillante, ce qui évite à l'utilisateur une attente fastidieuse; </li><li>  utilisé <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">reactiveFileReader ()</a> pour lire les données pré-collectées à partir des fichiers csv, garantissant la pertinence des données source dans mon application sans avoir besoin de redémarrer et des actions utilisateur inutiles; </li><li>  s'est débarrassé de assign () en faveur de l'utilisation des listes et a utilisé activement lapply () là où il y avait des boucles auparavant; </li><li>  des applications d'interface utilisateur repensées utilisant shinydashboard, en bonus - pas besoin de s'inquiéter du manque d'espace sur l'écran; </li><li>  plusieurs fois réduit le volume total de l'application (de ~ 1800 à 360 lignes de code). </li></ul><br><p>  Maintenant, la solution fonctionne comme suit. </p><br><ol><li>  Le script ETL est exécuté une fois par mois (voici les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">instructions</a> sur la façon de le faire) et passe consciencieusement à travers toutes les professions, collectant des données brutes sur les postes vacants et les CV de hh. <br>  De plus, les données sur les postes vacants sont collectées via l'API du site (j'ai pu réutiliser partiellement le code du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">projet précédent</a> ), mais pour chaque CV, j'ai dû analyser des pages Web à l'aide du package rvest, car l'accès à la méthode API correspondante est désormais payé.  Vous pouvez deviner comment cela a affecté la vitesse du script. </li><li>  Les données collectées sont peignées - le processus est décrit en détail et avec des exemples de code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Les données traitées sont enregistrées sur le disque dans des fichiers séparés de la forme hist / profession-hist-vac.csv et hist / profession-hist-res.csv.  Soit dit en passant, les valeurs aberrantes dans des données <a href="">comme celles-ci</a> peuvent conduire à des choses amusantes, soyez prudent :) <br>  Pour chaque profession, le script prend un fichier augmenté avec des données historiques, sélectionne les plus pertinentes - celles qui n'ont pas plus d'un mois à compter de la date de la dernière mise à jour - et génère de nouveaux fichiers csv de la forme data.res / profession-res-recent.csv et data.vac / profession -vac-recent.csv.  L'application finale fonctionne également avec ces données ... </li><li>  ... qui, après le démarrage, lit le contenu des dossiers de curriculum vitae et de travail (data.res et data.vac, respectivement), puis vérifie toutes les heures les modifications apportées aux fichiers.  Faire cela avec reactiveFileReader () est beaucoup plus efficace en termes de ressources et de vitesse d'exécution que d'utiliser invalidateLater ().  S'il y a eu des changements dans les fichiers, les tables avec les données source sont automatiquement mises à jour et les valeurs moyennes et les graphiques sont recalculés, car ils dépendent de reactiveValues ​​(), c'est-à-dire qu'aucun code supplémentaire n'est requis pour gérer cette situation. </li><li>  Sur la page principale, il y a maintenant un tableau qui montre les valeurs minimale, médiane et maximale des attentes salariales et des offres pour chaque spécialité pour chacun des niveaux trouvés (tous pour les savoirs traditionnels).  De plus, vous pouvez voir les graphiques sur les onglets avec des informations détaillées et télécharger les données au format .xlsx (vous ne savez jamais ce que ces chiffres seront nécessaires pour les RH). </li></ol><br><p>  C’est tout.  Il s'avère que le seul bouton désormais disponible pour l'utilisateur sur notre tableau de bord est le bouton Télécharger.  Et c'est pour le mieux: moins l'utilisateur a de boutons, moins il y a de chance <del>  lever une exception non gérée </del>  se confondre en eux. </p><br><h1 id="vmesto-epiloga">  Au lieu d'un épilogue </h1><br><p>  Aujourd'hui, l'application collecte et analyse des données uniquement pour Saint-Pétersbourg.  Étant donné que le principal intervenant était satisfait et que la réaction la plus fréquente était «excellente, mais cela peut-il être fait à Moscou?», Je considère l'expérience comme un succès. </p><br><p>  <strong>Vous</strong> pouvez <strong>voir l'</strong> application <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>sur ce lien</strong></a> , et tout <strong>le code source</strong> (ainsi que des exemples de fichiers finis) est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>ici</strong></a> . </p><br><p>  Par ailleurs, l'application est appelée Salary Monitor, abrégé Salmon - "saumon". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zv/pl/sf/zvplsfdlc-eoqv3jbjhucoieui0.png" width="50%" height="50%"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417991/">https://habr.com/ru/post/fr417991/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417977/index.html">Résultats de la discussion sur le sujet: Pensée personnelle, d'équipe et organisationnelle »(LAF 2018)</a></li>
<li><a href="../fr417979/index.html">Connectez bootstrap dans Next.js</a></li>
<li><a href="../fr417981/index.html">Premiers pas avec EOS Mainnet en 10 minutes</a></li>
<li><a href="../fr417983/index.html">Intel 8086 - le processeur qui a ouvert l'ère</a></li>
<li><a href="../fr417989/index.html">Finger Perception Horizons ™</a></li>
<li><a href="../fr417995/index.html">Modifications prévues du FZ-152</a></li>
<li><a href="../fr417997/index.html">Commencez par vous-même, ou 60 jours Kubuntu</a></li>
<li><a href="../fr417999/index.html">Anglais: perspective de l'ingénieur</a></li>
<li><a href="../fr418001/index.html">5 modèles de travail d'équipe efficace</a></li>
<li><a href="../fr418005/index.html">Les développeurs de logiciels ne sont pas d'accord avec la définition de «matériel spécial» du FSB</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>