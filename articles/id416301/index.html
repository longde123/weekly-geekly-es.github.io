<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤞🏿 😩 🧗 Navigasi dalam aplikasi Android menggunakan koordinator 👩🏻 📪 👣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selama beberapa tahun terakhir, kami telah mengembangkan pendekatan umum untuk membuat aplikasi Android. Arsitektur murni, pola arsitektur (MVC, MVP, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Navigasi dalam aplikasi Android menggunakan koordinator</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/416301/">  Selama beberapa tahun terakhir, kami telah mengembangkan pendekatan umum untuk membuat aplikasi Android.  Arsitektur murni, pola arsitektur (MVC, MVP, MVVM, MVI), pola repositori, dan lainnya.  Namun, masih belum ada pendekatan yang diterima secara umum untuk mengatur navigasi dalam aplikasi.  Hari ini saya ingin berbicara dengan Anda tentang template "koordinator" dan kemungkinan penerapannya dalam pengembangan aplikasi Android. <br><blockquote>  Pola koordinator sering digunakan dalam aplikasi iOS dan diperkenalkan oleh Soroush Khanlou untuk menyederhanakan navigasi aplikasi.  Diyakini bahwa pekerjaan Sorush didasarkan pada pendekatan Pengontrol Aplikasi yang dijelaskan dalam Pola Arsitektur Aplikasi Perusahaan oleh Martin Fowler. <br></blockquote>  Template "koordinator" dirancang untuk menyelesaikan tugas-tugas berikut: <br><br><ul><li>  bergumul dengan masalah Massive View Controller (masalahnya sudah ditulis di Habré - kira-kira penerjemah), yang sering memanifestasikan dirinya dengan munculnya Kegiatan-Tuhan (aktivitas dengan banyak tanggung jawab). </li><li>  pemisahan logika navigasi menjadi entitas yang terpisah </li><li>  penggunaan kembali layar aplikasi (aktivitas / fragmen) karena koneksi lemah dengan logika navigasi </li></ul><br>  Tapi, sebelum Anda mulai membiasakan diri dengan template dan mencoba menerapkannya, mari kita lihat implementasi navigasi yang digunakan dalam aplikasi Android. <br><a name="habracut"></a><br><h3>  Logika navigasi dijelaskan dalam aktivitas / fragmen </h3><br>  Karena Android SDK memerlukan Konteks untuk membuka aktivitas baru (atau FragmentManager untuk menambahkan fragmen ke aktivitas), cukup sering logika navigasi dijelaskan langsung dalam aktivitas / fragmen.  Bahkan contoh-contoh dalam dokumentasi untuk Android SDK menggunakan pendekatan ini. <br><br><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(b) setContentView(R.layout.activity_shopping_cart) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> checkoutButton = findViewById(R.id.checkoutButton) checkoutButton.setOnClickListener { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> intent = Intent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, CheckoutActivity::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">startActivity</span></span></span></span>(intent) } } }</code> </pre> <br>  Dalam contoh di atas, navigasi terkait erat dengan aktivitas.  Apakah nyaman untuk menguji kode seperti itu?  Orang dapat berargumen bahwa kita dapat memisahkan navigasi menjadi entitas yang terpisah dan menamainya, misalnya Navigator, yang dapat diimplementasikan.  Mari kita lihat: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> navigator : Navigator <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(b) setContentView(R.layout.activity_shopping_cart) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> checkoutButton = findViewById(R.id.checkoutButton) checkoutButton.setOnClickListener { navigator.showCheckout(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Navigator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showCheckout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(activity : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Activity</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> intent = Intent(activity, CheckoutActivity::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">activity</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">startActivity</span></span></span></span>(intent) } }</code> </pre><br>  Ternyata tidak buruk, tetapi saya ingin lebih. <br><br><h3>  Navigasi dengan MVVM / MVP </h3><br>  Saya akan mulai dengan pertanyaan: di mana Anda akan menempatkan logika navigasi saat menggunakan MVVM / MVP? <br><br>  Pada lapisan di bawah presenter (sebut saja logika bisnis)?  Bukan ide yang baik, karena kemungkinan besar Anda akan menggunakan kembali logika bisnis Anda dalam model presentasi atau presenter lainnya. <br><br>  Di lapisan tampilan?  Anda yakin ingin mengadakan acara antara presentasi dan model presentasi / presentasi?  Mari kita lihat sebuah contoh: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ShoppingCartView</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> navigator : Navigator <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> presenter : ShoppingCartPresenter <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(b) setContentView(R.layout.activity_shopping_cart) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> checkoutButton = findViewById(R.id.checkoutButton) checkoutButton.setOnClickListener { presenter.checkoutClicked() } } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">navigateToCheckout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showCheckout(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartPresenter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Presenter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ShoppingCartView</span></span></span><span class="hljs-class">&gt; </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkoutClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ view?.navigateToCheckout(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } }</code> </pre><br>  Atau jika Anda lebih suka MVVM, Anda bisa menggunakan SingleLiveEvents atau EventObserver <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ShoppingCartView</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> navigator : Navigator <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> viewModel : ViewModel <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(b) setContentView(R.layout.activity_shopping_cart) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> checkoutButton = findViewById(R.id.checkoutButton) checkoutButton.setOnClickListener { viewModel.checkoutClicked() } viewModel.navigateToCheckout.observe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, Observer { navigator.showCheckout(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) }) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCartViewModel</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ViewModel</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigateToCheckout = MutableLiveData&lt;Event&lt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkoutClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigateToCheckout.value = Event(<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>) <span class="hljs-comment"><span class="hljs-comment">// Trigger the event by setting a new Event as a new value } }</span></span></code> </pre><br>  Atau mari kita letakkan navigator dalam model tampilan alih-alih menggunakan EventObserver seperti yang ditunjukkan pada contoh sebelumnya <br><br><pre> <code class="hljs delphi"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ShoppingCartViewModel @Inject <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(val navigator : Navigator)</span></span></span><span class="hljs-function"> :</span></span> ViewModel() <span class="hljs-comment"><span class="hljs-comment">{ fun checkoutClicked(){ navigator.showCheckout() }</span></span> }</code> </pre><br>  Harap dicatat bahwa pendekatan ini dapat diterapkan pada presenter.  Kami juga mengabaikan kemungkinan kebocoran memori di navigator jika ada tautan ke aktivator. <br><br><h3>  Koordinator </h3><br>  Jadi di mana kita menempatkan logika navigasi?  Logika bisnis?  Sebelumnya, kami sudah mempertimbangkan opsi ini dan sampai pada kesimpulan bahwa ini bukan solusi terbaik.  Melempar peristiwa antara tampilan dan model tampilan mungkin berhasil, tetapi tidak terlihat seperti solusi yang elegan.  Selain itu, tampilan masih bertanggung jawab atas logika navigasi, meskipun kami membawanya ke navigator.  Mengikuti metode pengecualian, kami masih memiliki opsi untuk menempatkan logika navigasi dalam model presentasi, dan opsi ini tampaknya menjanjikan.  Tetapi haruskah model tampilan peduli dengan navigasi?  Bukankah itu hanya lapisan antara tampilan dan model?  Itu sebabnya kami sampai pada gagasan koordinator. <br><br>  "Mengapa kita membutuhkan tingkat abstraksi lain?"  - kamu bertanya.  Apakah sebanding dengan kompleksitas sistem?  Dalam proyek-proyek kecil, abstraksi dapat benar-benar berubah demi abstraksi, namun, dalam aplikasi yang kompleks atau dalam kasus menggunakan tes A / B, koordinator mungkin berguna.  Misalkan pengguna dapat membuat akun dan masuk.  Kami sudah memiliki beberapa logika, di mana kami harus memeriksa apakah pengguna telah masuk dan menampilkan layar masuk atau layar utama aplikasi.  Koordinator dapat membantu dengan contoh yang diberikan.  Perhatikan bahwa koordinator tidak membantu menulis lebih sedikit kode, tetapi membantu mendapatkan kode logika navigasi dari tampilan atau model tampilan. <br><br>  Gagasan koordinator sangat sederhana.  Dia hanya tahu layar aplikasi mana yang akan dibuka selanjutnya.  Misalnya, ketika pengguna mengklik tombol pembayaran untuk pesanan, koordinator menerima acara yang sesuai dan tahu bahwa langkah selanjutnya adalah membuka layar pembayaran.  Di iOS, koordinator digunakan sebagai pencari lokasi untuk membuat ViewControllers dan mengontrol tumpukan belakang.  Ini cukup untuk koordinator (ingat prinsip tanggung jawab tunggal).  Dalam aplikasi Android, sistem menciptakan kegiatan, kami memiliki banyak alat untuk mengimplementasikan dependensi dan ada backstack untuk kegiatan dan fragmen.  Sekarang mari kita kembali ke ide asli koordinator: koordinator hanya tahu layar mana yang akan berikutnya. <br><br><h3>  Contoh: Aplikasi berita menggunakan koordinator </h3><br>  Akhirnya mari kita bicara langsung tentang template.  Bayangkan kita perlu membuat aplikasi berita sederhana.  Aplikasi ini memiliki 2 layar: "daftar artikel" dan "teks artikel", yang dibuka dengan mengklik pada item daftar. <br><br><img src="https://habrastorage.org/webt/yw/oy/cl/ywoycl_vvhclm0s6wlwkzpcgzpk.png"><br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewsFlowCoordinator</span></span></span><span class="hljs-class"> </span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigator : Navigator) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showNewsList() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readNewsArticle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ navigator.showNewsArticle(id) } }</code> </pre><br>  Sebuah skrip (Aliran) berisi satu atau beberapa layar.  Dalam contoh kami, skenario berita terdiri dari 2 layar: "daftar artikel" dan "teks artikel".  Koordinator itu sangat sederhana.  Saat aplikasi dimulai, kami memanggil NewsFlowCoordinator # start () untuk menampilkan daftar artikel.  Ketika pengguna mengklik pada item daftar, metode NewsFlowCoordinator # readNewsArticle (id) dipanggil dan layar dengan teks lengkap artikel ditampilkan.  Kami masih bekerja dengan navigator (kami akan membicarakannya nanti), di mana kami mendelegasikan pembukaan layar.  Koordinator tidak memiliki status, tidak bergantung pada implementasi back-end dan hanya mengimplementasikan satu fungsi: ia menentukan ke mana harus pergi berikutnya. <br><br>  Tetapi bagaimana menghubungkan koordinator dengan model presentasi kami?  Kami akan mengikuti prinsip inversi dependensi: kami akan meneruskan lambda ke model tampilan, yang akan dipanggil ketika pengguna mengetuk artikel tersebut. <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewsListViewModel</span></span></span></span>( newsRepository : NewsRepository, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onNewsItemClicked: ( (<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span> )? ) : ViewModel() { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newsArticles = MutableLiveData&lt;List&lt;News&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> disposable = newsRepository.getNewsArticles().subscribe { newsArticles.value = it } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newsArticleClicked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ onNewsItemClicked!!(id) <span class="hljs-comment"><span class="hljs-comment">// call the lambda } override fun onCleared() { disposable.dispose() onNewsItemClicked = null // to avoid memory leaks } }</span></span></code> </pre><br>  onNewsItemClicked: (Int) -&gt; Unit adalah lambda yang memiliki satu argumen integer dan mengembalikan Unit.  Harap dicatat bahwa lambda mungkin nol, ini akan memungkinkan kami untuk menghapus tautan untuk menghindari kebocoran memori.  Pembuat model tampilan (misalnya, belati) harus melewati tautan ke metode koordinator: <br><br><pre> <code class="hljs lisp">return NewsListViewModel( <span class="hljs-name"><span class="hljs-name">newsRepository</span></span> = newsRepository, onNewsItemClicked = newsFlowCoordinator:<span class="hljs-symbol"><span class="hljs-symbol">:readNewsArticle</span></span> )</code> </pre><br>  Sebelumnya, kami menyebutkan navigator, yang melakukan perubahan layar.  Implementasi navigator adalah kebijaksanaan Anda, karena itu tergantung pada pendekatan spesifik Anda dan preferensi pribadi.  Dalam contoh kami, kami menggunakan satu aktivitas dengan beberapa fragmen (satu layar - satu fragmen dengan model presentasi sendiri).  Saya memberikan implementasi navigator yang naif: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Navigator</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> activity : FragmentActivity? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showNewsList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ activty!!.supportFragmentManager .beginTransaction() .replace(R.id.fragmentContainer, NewsListFragment()) .commit() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showNewsDetails</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(newsId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { activty!!.supportFragmentManager .beginTransaction() .replace(R.id.fragmentContainer, NewsDetailFragment.newInstance(newsId)) .addToBackStack(<span class="hljs-string"><span class="hljs-string">"NewsDetail"</span></span>) .commit() } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppCompatActivity</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> navigator : Navigator <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) setContentView(R.layout.activity_main) navigator.activty = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDestroy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onDestroy() navigator.activty = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-comment"><span class="hljs-comment">// Avoid memory leaks } }</span></span></code> </pre><br>  Implementasi navigator di atas tidak ideal, tetapi ide utama dari posting ini adalah untuk memperkenalkan koordinator ke dalam pola.  Perlu dicatat bahwa karena navigator dan koordinator tidak memiliki status, mereka dapat dideklarasikan dalam aplikasi (misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Singleton</a> menggunakan belati) dan dapat digunakan di Aplikasi # onCreate (). <br><br>  Mari tambahkan otorisasi ke aplikasi kita.  Kami akan menentukan layar login baru (LoginFragment + LoginViewModel, untuk kesederhanaan kami akan menghilangkan pemulihan dan pendaftaran kata sandi) dan LoginFlowCoordinator.  Mengapa tidak menambahkan fungsionalitas baru ke NewsFlowCoordinator?  Kami tidak ingin mendapatkan Koordinator Dewa yang akan bertanggung jawab untuk semua navigasi di aplikasi?  Juga, skrip otorisasi tidak berlaku untuk skenario pembaca berita, bukan? <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginFlowCoordinator</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigator: Navigator ) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showLogin() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">registerNewUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showRegistration() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forgotPassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showRecoverPassword() } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginViewModel</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> usermanager: Usermanager, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onSignUpClicked: ( () -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span> )?, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onForgotPasswordClicked: ( () -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span> )? ) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(username : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, password : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ usermanager.login(username, password) ... } ... }</code> </pre><br>  Di sini kita melihat bahwa untuk setiap acara UI ada lambda yang sesuai, namun tidak ada lambda untuk panggilan balik dari login yang berhasil.  Ini juga merupakan detail implementasi dan Anda dapat menambahkan lambda yang sesuai, namun saya punya ide yang lebih baik.  Mari menambahkan RootFlowCoordinator dan berlangganan perubahan model. <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RootFlowCoordinator</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> usermanager: Usermanager, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> loginFlowCoordinator: LoginFlowCoordinator, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> newsFlowCoordinator: NewsFlowCoordinator, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> onboardingFlowCoordinator: OnboardingFlowCoordinator ) { <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> { usermanager.currentUser.subscribe { user -&gt; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (user){ <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> NotAuthenticatedUser -&gt; loginFlowCoordinator.start() <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> AuthenticatedUser -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (user.onBoardingCompleted) newsFlowCoordinator.start() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> onboardingFlowCoordinator.start() } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onboardingCompleted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ newsFlowCoordinator.start() } }</code> </pre><br>  Dengan demikian, RootFlowCoordinator akan menjadi titik masuk navigasi kami alih-alih NewsFlowCoordinator.  Mari kita fokus pada RootFlowCoordinator.  Jika pengguna masuk, maka kami memeriksa apakah ia telah menyelesaikan onboarding (lebih lanjut tentang ini nanti) dan memulai skrip untuk berita atau onboarding.  Harap dicatat bahwa LoginViewModel tidak terlibat dalam logika ini.  Kami menggambarkan skenario orientasi. <br><br><img src="https://habrastorage.org/webt/hm/dg/nq/hmdgnqdu3xrkvkkisqk0xdo5mnw.png"><br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">OnboardingFlowCoordinator</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">navigator</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Navigator</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">onboardingFinished</span></span></span><span class="hljs-class">: () -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Unit</span></span></span><span class="hljs-class"> // this is </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">RootFlowCoordinator</span></span></span><span class="hljs-class">.onboardingCompleted() ) { fun start(){ navigator.showOnboardingWelcome() } fun welcomeShown(){ navigator.showOnboardingPersonalInterestChooser() } fun onboardingCompleted(){ onboardingFinished() } }</span></span></code> </pre><br>  Onboarding dimulai dengan memanggil OnboardingFlowCoordinator # start (), yang menampilkan WelcomeFragment (WelcomeViewModel).  Setelah mengklik tombol "selanjutnya", metode OnboardingFlowCoordinator # welcomeShown () dipanggil.  Yang menampilkan layar berikut ini PersonalInterestFragment + PersonalInterestViewModel, di mana pengguna memilih kategori berita menarik.  Setelah memilih kategori, pengguna mengetuk tombol "berikutnya" dan metode OnboardingFlowCoordinator # onboardingCompleted () dipanggil, yang mem-proksi panggilan ke RootFlowCoordinator # onboardingCompleted (), yang meluncurkan NewsFlowCoordinator. <br>  Mari kita lihat bagaimana koordinator dapat menyederhanakan pekerjaan dengan tes A / B.  Saya akan menambahkan layar dengan tawaran untuk melakukan pembelian dalam aplikasi dan akan menunjukkannya kepada beberapa pengguna. <br><br><img src="https://habrastorage.org/webt/e7/ok/a8/e7oka8yuwnttopnufiday2904iw.png"><br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewsFlowCoordinator</span></span></span><span class="hljs-class"> </span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigator : Navigator, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> abTest : AbTest ) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ navigator.showNewsList() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readNewsArticle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ navigator.showNewsArticle(id) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeNews</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (abTest.isB){ navigator.showInAppPurchases() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { navigator.closeNews() } } }</code> </pre><br>  Sekali lagi, kami belum menambahkan logika apa pun pada tampilan atau modelnya.  Sudahkah Anda memutuskan untuk menambahkan InAppPurchaseFragment ke orientasi?  Untuk melakukan ini, Anda hanya perlu mengubah koordinator onboarding, karena fragmen belanja dan model tampilan sepenuhnya independen dari fragmen lain dan kami dapat dengan bebas menggunakannya kembali dalam skenario lain.  Koordinator juga akan membantu mengimplementasikan tes A / B, yang membandingkan dua skenario onboarding. <br><br>  Sumber lengkap dapat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ditemukan di github</a> , dan untuk pemalas saya telah menyiapkan demo video <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/PfRLZeRLvTo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Saran yang berguna: menggunakan kotlin Anda dapat membuat dsl yang nyaman untuk menggambarkan koordinator dalam bentuk grafik navigasi. <br><br><pre> <code class="hljs erlang"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newsFlowCoordinator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(navigator, abTest)</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">navigator</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showNewsList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readNewsArticle</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">id</span></span></span><span class="hljs-function"> -&gt;</span></span> navigator.showNewsArticle(id) } closeNews { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (abTest.isB){ navigator.showInAppPurchases() } else { navigator.closeNews() } } }</code> </pre><br><h3>  Ringkasan: </h3><br>  Koordinator akan membantu membawa logika navigasi ke komponen yang digabungkan dengan longgar.  Saat ini tidak ada perpustakaan yang siap produksi, saya hanya menjelaskan konsep pemecahan masalah.  Apakah koordinator berlaku untuk aplikasi Anda?  Saya tidak tahu, itu tergantung pada kebutuhan Anda dan betapa mudahnya mengintegrasikannya ke dalam arsitektur yang ada.  Mungkin bermanfaat untuk menulis aplikasi kecil menggunakan koordinator. <br><br><h5>  Faq: </h5><br>  <i>Artikel itu tidak menyebutkan penggunaan koordinator dengan pola MVI.</i>  <i>Apakah mungkin menggunakan koordinator dengan arsitektur ini?</i>  Ya, saya punya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel terpisah</a> . <br><br>  <i>Google baru-baru ini memperkenalkan Pengontrol Navigasi sebagai bagian dari Android Jetpack.</i>  <i>Apa kaitan koordinator dengan navigasi Google?</i>  Anda dapat menggunakan Pengontrol Navigasi baru alih-alih navigator di koordinator atau langsung di navigator alih-alih secara manual membuat transaksi fragmen. <br><br>  <i>Dan jika saya tidak ingin menggunakan fragmen / aktivitas dan saya ingin menulis back-end saya sendiri untuk mengelola tampilan - apakah saya dapat menggunakan koordinator dalam kasus saya?</i>  Saya juga memikirkan hal ini dan sedang mengerjakan prototipe.  Saya akan menulis tentang ini di blog saya.  Sepertinya saya bahwa mesin negara akan sangat menyederhanakan tugas. <br><br>  <i>Apakah koordinator terikat pada pendekatan aplikasi aktivitas tunggal?</i>  Tidak, Anda bisa menggunakannya dalam berbagai skenario.  Implementasi transisi antara layar tersembunyi di navigator. <br><br>  <i>Dengan pendekatan yang dijelaskan, Anda mendapatkan navigator yang sangat besar.</i>  <i>Kami agak berusaha menjauh dari God-Object'a?</i>  Kami tidak diharuskan untuk menggambarkan navigator dalam satu kelas.  Buat beberapa navigator kecil yang didukung, misalnya, navigator terpisah untuk setiap skenario pengguna. <br><br>  <i>Bagaimana cara bekerja dengan animasi transisi berkelanjutan?</i>  <i>Jelaskan animasi transisi di navigator, maka aktivitas / fragmen tidak akan tahu apa-apa tentang layar sebelumnya / berikutnya.</i>  <i>Bagaimana navigator tahu kapan memulai animasi?</i>  Misalkan kita ingin menampilkan animasi transisi antara fragmen A dan B. Kita dapat berlangganan acara onFragmentViewCreated (v: View) menggunakan FragmentLifecycleCallback dan ketika acara ini terjadi, kita dapat bekerja dengan animasi dengan cara yang sama seperti yang kita lakukan secara langsung dalam fragmen: tambahkan OnPreDrawListener untuk menunggu sampai siap dan panggil startPostponedEnterTransition ().  Dengan cara yang kira-kira sama, Anda dapat menerapkan transisi animasi antara aktivitas menggunakan ActivityLifecycleCallbacks atau antara ViewGroup menggunakan OnHierarchyChangeListener.  Jangan lupa untuk berhenti berlangganan dari acara nanti untuk menghindari kebocoran memori. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id416301/">https://habr.com/ru/post/id416301/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id416287/index.html">Mengapa drone saya membutuhkan filter ND?</a></li>
<li><a href="../id416293/index.html">Pesawat listrik hibrida akan mengurangi emisi dan kebisingan</a></li>
<li><a href="../id416295/index.html">Teleskop terbesar di dunia pada akhirnya akan dapat melihat bintang tanpa sinar difraksi</a></li>
<li><a href="../id416297/index.html">plug-in ml-agent untuk persatuan</a></li>
<li><a href="../id416299/index.html">Orang-orang telah melacak gletser di Islandia selama beberapa dekade; Sekarang tekniknya akan melakukannya</a></li>
<li><a href="../id416303/index.html">Menciptakan pemicu pertama</a></li>
<li><a href="../id416305/index.html">Standardisasi adalah petualangan Internet of Things terpanjang</a></li>
<li><a href="../id416307/index.html">iOS 12: baru dalam notifikasi</a></li>
<li><a href="../id416309/index.html">Cara menggunakan file HDF5 dengan Python</a></li>
<li><a href="../id416313/index.html">Daftar Periksa Analisis Log Kejadian Keamanan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>