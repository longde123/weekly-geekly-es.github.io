<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЫИя╕П ЁЯСитАНЁЯТ╝ тШгя╕П рд░рд╕реНрдЯ рдореЗрдВ рдШрдмрд░рд╛рд╣рдЯ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ ЁЯШв ЁЯХЭ ЁЯНЩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХреИрд╕реЗ рдЬрдВрдЧ рдЖрддрдВрдХ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ 


 рдЬрдм рдЖрдк panic!() рдХрд╣рддреЗ рд╣реИрдВ рддреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ panic!() 
 рд╣рд╛рд▓ рд╣реА рдореЗрдВ, рдореИрдВрдиреЗ рдЗрд╕ рд╕реЗ рдЬреБрдбрд╝реЗ рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд╣рд┐рд╕реНрд╕реЛрдВ рдХрд╛...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд░рд╕реНрдЯ рдореЗрдВ рдШрдмрд░рд╛рд╣рдЯ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482358/"><h1 id="kak-rabotaet-panika-v-rust">  рдХреИрд╕реЗ рдЬрдВрдЧ рдЖрддрдВрдХ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ </h1><br><p> рдЬрдм рдЖрдк <code>panic!()</code> рдХрд╣рддреЗ рд╣реИрдВ рддреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ <code>panic!()</code> <br>  рд╣рд╛рд▓ рд╣реА рдореЗрдВ, рдореИрдВрдиреЗ рдЗрд╕ рд╕реЗ рдЬреБрдбрд╝реЗ рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд╣рд┐рд╕реНрд╕реЛрдВ рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рдиреЗ рдореЗрдВ рдмрд╣реБрдд рд╕рдордп рдмрд┐рддрд╛рдпрд╛ рдФрд░ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдЙрддреНрддрд░ рдмрд▓реНрдХрд┐ рдЬрдЯрд┐рд▓ рд╣реИ! </p><br><p>  рд░рд╕реНрдЯ рдореЗрдВ рдШрдмрд░рд╛рд╣рдЯ рдХреА рд╕рд╛рдорд╛рдиреНрдп рддрд╕реНрд╡реАрд░ рдХреЛ рд╕рдордЭрд╛рддреЗ рд╣реБрдП рдореБрдЭреЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдирд╣реАрдВ рдорд┐рд▓ рдкрд╛рдП, рдЗрд╕рд▓рд┐рдП рдпрд╣ рд▓рд┐рдЦрдиреЗ рд▓рд╛рдпрдХ рд╣реИред </p><a name="habracut"></a><br><p>  (рдмреЗрд╢рд░реНрдо рд▓реЗрдЦ: рдЗрд╕ рд╡рд┐рд╖рдп рдореЗрдВ рдореЗрд░реА рджрд┐рд▓рдЪрд╕реНрдкреА рдХрд╛ рдХрд╛рд░рдг рдпрд╣ рд╣реИ рдХрд┐ <code>@Aaron1011</code> рдиреЗ <code>@Aaron1011</code> рд╕реНрдЯреИрдХ <code>@Aaron1011</code> рд▓рд┐рдП рд╕рдорд░реНрдерди рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рд╣реИред </p><br><p>  рдореИрдВ рдЗрд╕реЗ рдкреБрд░рд╛рдиреЗ рд╕рдордп рд╕реЗ рдорд┐рд░реА рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рдФрд░ рдореЗрд░реЗ рдкрд╛рд╕ рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрднреА рд╕рдордп рдирд╣реАрдВ рдерд╛, рдЗрд╕рд▓рд┐рдП рдпрд╣ рджреЗрдЦрдирд╛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдерд╛ рдХрд┐ рдХреЛрдИ рд╡реНрдпрдХреНрддрд┐ <code>PR</code> рдХреЛ рдиреАрд▓реЗ рд░рдВрдЧ рд╕реЗ рдмрд╛рд╣рд░ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдХреИрд╕реЗ рднреЗрдЬрддрд╛ рд╣реИред </p><br><p>  рдХреЛрдб рдХреА рдЬрд╛рдБрдЪ рдХреЗ рдХрдИ рджреМрд░реЛрдВ рдХреЗ рдмрд╛рдж, рдЗрд╕реЗ рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдЕрднреА рднреА <a href="https://github.com/rust-lang/miri/issues%3Fq%3Dis%253Aissue%2Bis%253Aopen%2Blabel%253AA-panics">рдХреБрдЫ рдЦреБрд░рджрд░реЗ рдХрд┐рдирд╛рд░реЗ рд╣реИрдВ</a> , рд▓реЗрдХрд┐рди рдореВрд▓ рдмрд╛рддреЗрдВ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реИрдВред) </p><br><p>  рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдЙрдЪреНрдЪ рд╕реНрддрд░ рдХреА рд╕рдВрд░рдЪрдирд╛ рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рджрд╕реНрддрд╛рд╡реЗрдЬреАрдХрд░рдг рдХрд░рдирд╛ рд╣реИ рдЬреЛ рдЬрдВрдЧ рдХреА рддрд░рдл рд╕реЗ рдЦреЗрд▓рддреЗ рд╣реИрдВред </p><br><p>  рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕реНрдЯреИрдХ рдЕрдирдЗрдВрдбрд┐рдВрдЧ рддрдВрддреНрд░ рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рдореБрджреНрджрд╛ рд╣реИ (рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рдореИрдВ рдмреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХреГрдд рдирд╣реАрдВ рд╣реВрдВ)ред </p><br><p>  <em>рдиреЛрдЯ:</em> рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ <a href="https://github.com/rust-lang/rust/commit/7d761fe0462ba0f671a237d0bb35e3579b8ba0e8">рдЗрд╕ рд╡рдЪрди</a> рд╕реЗ рдШрдмрд░рд╛рд╣рдЯ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдпрд╣рд╛рдБ рд╡рд░реНрдгрд┐рдд рдХрдИ рдЗрдВрдЯрд░рдлреЗрд╕ libstd рдХреЗ рдЕрд╕реНрдерд┐рд░ рдЗрдВрдЯрд░реНрдирд▓ рд╣реИрдВ рдФрд░ рдХрд┐рд╕реА рднреА рд╕рдордп рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h2 id="vysokourovnevaya-struktura">  рдЙрдЪреНрдЪ рд╕реНрддрд░реАрдп рд╕рдВрд░рдЪрдирд╛ </h2><br><p>  рдпрд╣ рд╕рдордЭрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдирд╛ рдХрд┐ рд▓рд┐рдмрд╕реНрдЯрд░реНрдб рдореЗрдВ рдХреЛрдб рдкрдврд╝рддреЗ рд╕рдордп рдШрдмрд░рд╛рд╣рдЯ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ, рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ рднреВрд▓рднреБрд▓реИрдпрд╛ рдореЗрдВ рдЦреЛ рд╕рдХрддреЗ рд╣реИрдВред <br>  рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рдХреЗ рдХрдИ рд╕реНрддрд░ рд╣реИрдВ рдЬреЛ рдХреЗрд╡рд▓ рд▓рд┐рдВрдХрд░ рджреНрд╡рд╛рд░рд╛ рдЬреБрдбрд╝реЗ рд╣реБрдП рд╣реИрдВ, <br>  рд╡рд╣рд╛рдБ <a href="https://doc.rust-lang.org/nomicon/panic-handler.html"><code> #[panic_handler]</code></a> рдФрд░ рдПрдХ <a href="">"рд░рдирдЯрд╛рдЗрдо рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░"</a> ( <code>-C panic</code> рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реЗрдЯ рдХреА рдЧрдИ рдкреИрдирд┐рдХ <em>рд░рдгрдиреАрддрд┐</em> рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд) рдФрд░ <a href="https://doc.rust-lang.org/std/panic/fn.set_hook.html">"рдкреИрдирд┐рдХ рдЯреНрд░реИрдкреНрд╕"</a> , рдФрд░ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ <code>#[no_std]</code> рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ <code>#[no_std]</code> рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рдХреЛрдб рдкрд╛рде рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ ... рдмрд╣реБрдд рдмрд╣реБрдд рдХреБрдЫ рдЪрд▓ рд░рд╣рд╛ рд╣реИред </p><br><p>  рдЗрд╕рд╕реЗ рднреА рдмрджрддрд░, <a href="">RFC рдиреЗ рдкреИрдирд┐рдХ рдЯреНрд░реИрдкреНрд╕ рдХрд╛ рд╡рд░реНрдгрди</a> рдХрд░рддреЗ <a href="">рд╣реБрдП</a> рдЙрдиреНрд╣реЗрдВ "рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░" рдХрд╣рд╛, рд▓реЗрдХрд┐рди рдЗрд╕ рд╢рдмреНрдж рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреА рдЬрдЧрд╣ рджреЛ рджрд┐рд╢рд╛рдУрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд╕рд╛рде рд╣реИ: </p><br><ul><li><p>  <em>рд░рдирдЯрд╛рдЗрдо рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХрд╛</em> рдЙрдкрдпреЛрдЧ libstd рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ рдХрд┐ рд╕реНрдЯреНрд░реИрдбрд░ рдХреЛ рдкреИрдирд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд┐рдВрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИред <br>  рдпрд╣ рдЖрддрдВрдХ рдХреА <em>рд░рдгрдиреАрддрд┐</em> рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддрд╛ рд╣реИ: рдпрд╛ рддреЛ рд╣рдо ( <code>-C panic=abort</code> ) рдХреЛ рдмрд╛рдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рд╕реНрдЯреИрдХ рдХреА рдЕрдирд┐рдЪреНрдЫрд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ ( <code>-C panic=unwind</code> )ред <br>  (рд░рди-рдЯрд╛рдЗрдо рдкреИрдирд┐рдХ рдХреЛ <a href="https://doc.rust-lang.org/std/panic/fn.catch_unwind.html"><code>catch_unwind</code></a> рдХрд░рдирд╛ рднреА <a href="https://doc.rust-lang.org/std/panic/fn.catch_unwind.html"><code>catch_unwind</code></a> рд▓рд┐рдП рдПрдХ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо рдпрд╣рд╛рдВ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗред) </p><br></li><li><p>  <em>рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХрд╛</em> рдЙрдкрдпреЛрдЧ libcore рджреНрд╡рд╛рд░рд╛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (a) рдХреЛрдб рдЬрдирд░реЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдбрд╛рд▓реА рдЧрдИ рдШрдмрд░рд╛рд╣рдЯ (рдЬреИрд╕реЗ рдХрд┐ рдЕрдВрдХрдЧрдгрд┐рддреАрдп рдЕрддрд┐рдкреНрд░рд╡рд╛рд╣ рдпрд╛ рд╕реАрдорд╛рдУрдВ рдХреЗ рдмрд╛рд╣рд░ рд╕рд░рдгреА / рд╕реНрд▓рд╛рдЗрд╕ рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ) рдФрд░ (b) <code>core::panic!</code>  рдореИрдХреНрд░реЛ (рдпрд╣ рдПрдХ <code>panic!</code> рд╣реИ; рд▓рд┐рдмрдХреЛрд░ рдореЗрдВ рдореИрдХреНрд░реЛ рдФрд░ <code>#[no_std]</code> рд╕рдВрджрд░реНрдн <code>#[no_std]</code> ) рдореЗрдВред </p><br></li></ul><br><p>  рдЗрди рджреЛрдиреЛрдВ рдЗрдВрдЯрд░рдлреЗрд╕реЛрдВ рдХреЛ <code>extern</code> рдмреНрд▓реЙрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: рдХреНрд░рдорд╢рдГ рд▓рд┐рд╕реНрдЯ / рд▓рд┐рдмрдХреЛрд░, рдмрд╕ рдХреБрдЫ рдлрдВрдХреНрд╢рди рдХреЛ рдЗрдореНрдкреЛрд░реНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ рд╡реЗ рдХреНрд░реЗрдЯ рдЯреНрд░реА рдореЗрдВ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдХрд╣реАрдВ рдФрд░ рдЗрд╕ рдлрдВрдХреНрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдХреЗрд╡рд▓ рдмрдВрдзрди рдХреЗ рджреМрд░рд╛рди рдЖрдпрд╛рдд рдХреА рдЕрдиреБрдорддрд┐ рд╣реИ;  рдХреЛрдб рдХреЛ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рджреЗрдЦрддреЗ рд╣реБрдП, рдХреЛрдИ рдпрд╣ рдирд╣реАрдВ рдХрд╣ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╕рдВрдмрдВрдзрд┐рдд рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╣рд╛рдВ рд╣реИред <br>  рдпрд╣ рдЖрд╢реНрдЪрд░реНрдп рдХреА рдмрд╛рдд рдирд╣реАрдВ рд╣реИ рдХрд┐ рдореИрдВ рд░рд╛рд╕реНрддреЗ рдореЗрдВ рдХрдИ рдмрд╛рд░ рдЦреЛ рдЧрдпрд╛ рдерд╛ред </p><br><p>  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рдпреЗ рджреЛрдиреЛрдВ рдЗрдВрдЯрд░рдлреЗрд╕ рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реЛрдВрдЧреЗ;  рдЬрдм рдЖрдк рдЧрдбрд╝рдмрдбрд╝ рдХрд░рддреЗ рд╣реИрдВред  рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рд╡рд╛рд▓реА рдкрд╣рд▓реА рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЖрдкрдиреЗ рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдФрд░ <em>рд░рди-рдЯрд╛рдЗрдо</em> рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХреЛ рднреНрд░рдорд┐рдд <em>рдХрд┐рдпрд╛ рд╣реИ</em> ред <br>  (рдФрд░ рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдЖрддрдВрдХ <em>рдЕрд╡рд░реЛрдзрдХ</em> рднреА рд╣реИрдВ, рд╣рдо рдЙрдиреНрд╣реЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреЗред) <br>  рдпрд╣ рд╣рд░ рд╕рдордп рдореЗрд░реЗ рд╕рд╛рде рд╣реЛрддрд╛ рд╣реИред </p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, <code>core::panic!</code>  рдФрд░ <code>std::panic!</code>  рд╕рдорд╛рди <em>рдирд╣реАрдВ</em> ;  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ, рд╡реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рдХреЛрдб рдкрде рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  libcore рдФрд░ libstd рдкреНрд░рддреНрдпреЗрдХ рдПрдХ рдЖрддрдВрдХ рдкреИрджрд╛ рдХрд░рдиреЗ рдХреЗ рдЕрдкрдиреЗ рддрд░реАрдХреЗ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ: </p><br><ul><li><p> <code>core::panic!</code>  рдХрд╛рдордЪреЛрд░ рдмрд╣реБрдд рдЫреЛрдЯрд╛ рд╣реИ: рдпрд╣ рд╕рд┐рд░реНрдл рддреБрд░рдВрдд <em>рд╣реИрдВрдбрд▓рд░ рдХреЗ</em> рдЖрддрдВрдХ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИред </p><br></li><li><p>  libstd <code>std::panic!</code>  ("рд╕рд╛рдорд╛рдиреНрдп" <code>panic!</code> рдЗрди рд░рд╕реНрдЯ) рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдЖрддрдВрдХ рдЗрдВрдЬрди рд▓реЙрдиреНрдЪ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд <a href="https://doc.rust-lang.org/std/panic/fn.set_hook.html">рдЖрддрдВрдХ <em>рдЕрд╡рд░реЛрдзрди</em></a> рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред <br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╣реБрдХ stderr рдореЗрдВ рдПрдХ рдкреИрдирд┐рдХ рд╕рдВрджреЗрд╢ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧрд╛ред <br>  рдЗрдВрдЯрд░рд╕реЗрдкреНрд╢рди рдлрд╝рдВрдХреНрд╢рди рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, libstd рдЗрд╕реЗ <em>рд░рди-рдЯрд╛рдЗрдо</em> рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХреЛ рд╕реМрдВрдкрддрд╛ рд╣реИред </p><br><p>  libstd <em>рдПрдХ</em> рдкреИрдирд┐рдХ <em>рд╣реИрдВрдбрд▓рд░</em> рднреА рдкреНрд░рджрд╛рди рдХрд░рддрд╛ <em>рд╣реИ</em> рдЬреЛ <em>рдПрдХ</em> рд╣реА рдореИрдХреЗрдирд┐рдЬреНрдо рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП <code>core::panic!</code>  рдпрд╣рд╛рдБ рднреА рд╕рдорд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред </p><br></li></ul><br><p>  рдЖрдЗрдП рдЕрдм рд╣рдо рдЗрди рднрд╛рдЧреЛрдВ рдХреЛ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рджреЗрдЦреЗрдВред </p><br><h2 id="obrabotka-paniki-vo-vremya-vypolneniya-programmy">  рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рджреМрд░рд╛рди рдЖрддрдВрдХ рд╕реЗ рдирд┐рдкрдЯрдиреЗ </h2><br><p>  <a href="">рдкреИрдирд┐рдХ рд░рдирдЯрд╛рдЗрдо</a> ( <a href="">рдЗрд╕ RFC</a> рджреНрд╡рд╛рд░рд╛ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛) рдХреЗ рд▓рд┐рдП <code>__rust_start_panic(payload: usize) -&gt; u32</code> рдЬреЛ рд▓рд┐рдмрд╕реНрдЯрд░реНрдб рджреНрд╡рд╛рд░рд╛ рдЖрдпрд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдмрд╛рдж рдореЗрдВ рд▓рд┐рдВрдХрд░ рджреНрд╡рд╛рд░рд╛ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдпрд╣рд╛рдБ рддрд░реНрдХ рддрд░реНрдХ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ <code>*mut &amp;mut dyn core::panic::BoxMeUp</code> <code>usize</code> рдФрд░ <code>usize</code> <code>*mut &amp;mut dyn core::panic::BoxMeUp</code> - рдпрд╣ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдВ <code>*mut &amp;mut dyn core::panic::BoxMeUp</code> <code>*mut &amp;mut dyn core::panic::BoxMeUp</code> <code>*mut &amp;mut dyn core::panic::BoxMeUp</code> "рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛" рд╣реИ (рдпрд╣ рдкрддрд╛ <code>*mut &amp;mut dyn core::panic::BoxMeUp</code> рдЙрдкрд▓рдмреНрдз рдЬрд╛рдирдХрд╛рд░реА)ред </p><br><p>  <code>BoxMeUp</code> рдПрдХ рдЕрд╕реНрдерд┐рд░ рдЖрдВрддрд░рд┐рдХ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╡рд┐рд╡рд░рдг рд╣реИ, рд▓реЗрдХрд┐рди <a href="">рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЛ</a> рджреЗрдЦрддреЗ рд╣реБрдП <a href="">,</a> рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рд╕рдм рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХрд░рддрд╛ рд╣реИ <code>dyn Any + Send</code> , рдЬреЛ рдХрд┐ рдПрдХ <a href="https://doc.rust-lang.org/std/thread/type.Result.html">рдЙрдкрдпреЛрдЧреА рдкреИрдирд┐рдХ рдбреЗрдЯрд╛ рд╣реИ</a> рдЬреЛ <code>catch_unwind</code> рдФрд░ <code>thread::spawn</code> рджреНрд╡рд╛рд░рд╛ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  <code>BoxMeUp::box_me_up</code> рд░рд┐рдЯрд░реНрди <code>Box&lt;dyn Any + Send&gt;</code> , рд▓реЗрдХрд┐рди рдХрдЪреНрдЪреЗ рд╕реВрдЪрдХ рдХреЗ рд░реВрдк рдореЗрдВ (рдЪреВрдВрдХрд┐ <code>Box</code> рдЙрд╕ рд╕рдВрджрд░реНрдн рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ рдЬрд╣рд╛рдВ рдпрд╣ рдкреНрд░рдХрд╛рд░ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реИ);  <code>BoxMeUp::get</code> рдмрд╕ рд╕рд╛рдордЧреНрд░реА рдЙрдзрд╛рд░ рд▓реЗрдВред </p><br><p>  рдЗрд╕ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рджреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди <a href="https://github.com/rust-lang/rust/tree/7d761fe0462ba0f671a237d0bb35e3579b8ba0e8/src/libpanic_unwind"><code>libpanic_unwind</code></a> рдореЗрдВ <a href="https://github.com/rust-lang/rust/tree/7d761fe0462ba0f671a237d0bb35e3579b8ba0e8/src/libpanic_unwind"><code>libpanic_unwind</code></a> : <a href="https://github.com/rust-lang/rust/tree/7d761fe0462ba0f671a237d0bb35e3579b8ba0e8/src/libpanic_unwind"><code>libpanic_unwind</code></a> рд▓рд┐рдП <code>-C panic=unwind</code> рдЕрдзрд┐рдХрд╛рдВрд╢ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдкрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ () рдФрд░ <a href="https://github.com/rust-lang/rust/tree/7d761fe0462ba0f671a237d0bb35e3579b8ba0e8/src/libpanic_abort"><code>libpanic_abort</code></a> рд▓рд┐рдП <code>-C panic=abort</code> ред </p><br><h2 id="makros-stdpanic"> <code> std::panic!</code> </h2> <br><p>  рдкреИрдирд┐рдХ <em>рд░рдирдЯрд╛рдЗрдо</em> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░, libstd рдбрд┐рдлрд╝реЙрд▓реНрдЯ Rust рдкреИрдирд┐рдХ рдореЗрдХреЗрдирд┐рдЬреНрдо рдХреЛ <a href=""><code>std::panicking</code></a> рдЖрддрдВрд░рд┐рдХ рдореЙрдбреНрдпреВрд▓ рдкрд░ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред </p><br><h4 id="rust_panic_with_hook"> <code>rust_panic_with_hook</code> </h4> <br><p>  рдореБрдЦреНрдп рдХрд╛рд░реНрдп рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓рдЧрднрдЧ рд╕рдм рдХреБрдЫ рдЪрд▓ рд░рд╣рд╛ рд╣реИ, <a href=""><code>rust_panic_with_hook</code></a> : </p><br><pre> <code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rust_panic_with_hook</span></span></span></span>( payload: &amp;<span class="hljs-keyword"><span class="hljs-keyword">mut</span></span> dyn BoxMeUp, message: <span class="hljs-built_in"><span class="hljs-built_in">Option</span></span>&lt;&amp;fmt::Arguments&lt;<span class="hljs-symbol"><span class="hljs-symbol">'_</span></span>&gt;&gt;, file_line_col: &amp;(&amp;<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>), ) -&gt; !</code> </pre> <br><p>  рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рдкреИрдирд┐рдХ рдХреЗ рд╕реНрд░реЛрдд рдХреЗ рд╕реНрдерд╛рди рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рдЕрдирдлрд╝реЙрд░реНрдореИрдЯ рд╕рдВрджреЗрд╢ ( <a href="https://doc.rust-lang.org/std/fmt/struct.Arguments.html"><code>fmt::Arguments</code></a> Documentation) рдФрд░ рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛ рджреЗрдЦреЗрдВред </p><br><p>  рдЗрд╕рдХрд╛ рдореБрдЦреНрдп рдХрд╛рд░реНрдп рд╡рд░реНрддрдорд╛рди рдЖрддрдВрдХ рдЕрд╡рд░реЛрдзрдХ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдирд╛ рд╣реИред <br>  рдкреИрдирд┐рдХ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░реНрд╕ рдХреЗ рдкрд╛рд╕ <a href="https://doc.rust-lang.org/core/panic/struct.PanicInfo.html"><code>PanicInfo</code></a> рддрд░реНрдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдкреИрдирд┐рдХ рд╕реНрд░реЛрдд рдХреЗ рд╕реНрдерд╛рди, рдкреИрдирд┐рдХ рдореИрд╕реЗрдЬ рдХреЗ рд▓рд┐рдП рдлреЙрд░реНрдореЗрдЯ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдФрд░ рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br>  рдпрд╣ рддрд░реНрдХ рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ <code>rust_panic_with_hook</code> рдмрд╣реБрдд рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ! <br>  <code>file_line_col</code> рдФрд░ <code>message</code> рд╕реАрдзреЗ рдкрд╣рд▓реЗ рджреЛ рддрддреНрд╡реЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ;  <code>payload</code> <code>BoxMeUp</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <code>&amp;(dyn Any + Send)</code> рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ, <em>рдорд╛рдирдХ</em> рдкреИрдирд┐рдХ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ <code>message</code> рдЕрдирджреЗрдЦреА рдХрд░рддрд╛ рд╣реИ;  рдЖрдк рдЬреЛ рджреЗрдЦ рд░рд╣реЗ рд╣реИрдВ рд╡рд╣ рдкреЗрд▓реЛрдб рдХреЛ <a href=""><code>&amp;str</code> рдпрд╛ <code>String</code></a> (рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рдХреНрдпрд╛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ) рдХреЛ рдХрд╛рд╕реНрдЯрд┐рдВрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИред <br>  рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдХреЙрд▓рд░ рдХреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ <code>message</code> рд╕реНрд╡рд░реВрдкрдг, рдпрджрд┐ рдореМрдЬреВрдж рд╣реИ, рддреЛ рд╡рд╣реА рдкрд░рд┐рдгрд╛рдо рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИред <br>  (рдФрд░ рдЬрд┐рди рдкрд░ рд╣рдо рдиреАрдЪреЗ рдЪрд░реНрдЪрд╛ рдХрд░рддреЗ рд╣реИрдВ, рд╡реЗ рдЗрд╕рдХреА рдЧрд╛рд░рдВрдЯреА рджреЗрддреЗ рд╣реИрдВред) </p><br><p>  рдЕрдВрдд рдореЗрдВ, <code>rust_panic_with_hook</code> рд╡рд░реНрддрдорд╛рди <em>рд░рдирдЯрд╛рдЗрдо</em> рдЖрддрдВрдХ рд╣реИрдВрдбрд▓рд░ <code>rust_panic_with_hook</code> рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдлрд┐рд▓рд╣рд╛рд▓, рдХреЗрд╡рд▓ <code>payload</code> рдЕрднреА рднреА рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╣реИ - рдФрд░ рдХреНрдпрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ: <code>message</code> ( <code>'_</code> рдЬреАрд╡рдирдХрд╛рд▓ рдХреЗ рд╕рд╛рде <code>'_</code> рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рд▓рд┐рдВрдХ рд╕рдорд╛рд╣рд┐рдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдкрдпреЛрдЧреА рдкреИрдирд┐рдХ рдбреЗрдЯрд╛ рд╕реНрдЯреИрдХ рдХреЛ рдкреНрд░рдЪрд╛рд░рд┐рдд рдХрд░реЗрдЧрд╛ рдФрд░ рдЗрд╕рд▓рд┐рдП <code>'static</code> рдЬреАрд╡рдирдХрд╛рд▓ <code>'static</code> рд╕рд╛рде рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП)ред </p><br><p>  <code>'static</code> рдмрд╛рдзрд╛ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдЫрд┐рдкреА рд╣реБрдИ рд╣реИ, рд▓реЗрдХрд┐рди рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рдж рдореБрдЭреЗ рдПрд╣рд╕рд╛рд╕ рд╣реБрдЖ рдХрд┐ <a href="https://doc.rust-lang.org/std/any/trait.Any.html"><code>Any</code></a> рд╕рд╛рдзрди <code>'static</code> рдЕрд░реНрде рд╣реИ <code>'static</code> (рдФрд░ рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ <code>dyn BoxMeUp</code> рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ <code>Box&lt;dyn Any + Send&gt;</code> ) рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><h4 id="tochki-vhoda-v-libstd">  рд▓рд┐рдмреНрд╕реНрдЯрдб рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ </h4><br><p>  <code>rust_panic_with_hook</code> <code>std::panicking</code> <code>rust_panic_with_hook</code> рд▓рд┐рдП рдПрдХ рдирд┐рдЬреА рдХрд╛рд░реНрдп рд╣реИ;  рдореЙрдбреНрдпреВрд▓ рдЗрд╕ рдХреЗрдВрджреНрд░реАрдп рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рддреАрди рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдПрдХ рдЬреЛ рдЗрд╕реЗ рдмрд╛рдпрдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИ: </p><br><ul><li><p>  <a href="">рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЖрддрдВрдХ рд╣реИрдВрдбрд▓рд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</a> рдЬреЛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ (рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ) <code>core::panic!</code> рд╕реЗ <code>core::panic!</code>  рдФрд░ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рджрд╣рд╢рдд (рдЕрдВрдХрдЧрдгрд┐рдд рдЕрддрд┐рдкреНрд░рд╡рд╛рд╣ рдпрд╛ рд╕рд░рдгреА / рдЯреБрдХрдбрд╝рд╛ рдЕрдиреБрдХреНрд░рдордг рд╕реЗ)ред <br>  <a href="https://doc.rust-lang.org/core/panic/struct.PanicInfo.html"><code>PanicInfo</code></a> рдХреЛ рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕реЗ <code>rust_panic_with_hook</code> рддрд░реНрдХ рдореЗрдВ рдмрджрд▓рдирд╛ рдЪрд╛рд╣рд┐рдПред <br>  рдЙрддреНрд╕реБрдХрддрд╛ рд╕реЗ, рд╣рд╛рд▓рд╛рдВрдХрд┐ <code>PanicInfo</code> рдШрдЯрдХ рдФрд░ <code>rust_panic_with_hook</code> рддрд░реНрдХ рдХрд╛рдлреА рд╕рдорд╛рди рд╣реИрдВ, рдФрд░ рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдмрд╕ рдЖрдЧреЗ рднреЗрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдпрд╣ <em>рдирд╣реАрдВ рд╣реИ</em> ред <br>  рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, libstd PanicInfo рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ <code>payload</code> рдШрдЯрдХ рдХреЛ <code>PanicInfo</code> рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ <code>payload</code> ( <code>rust_panic_with_hook</code> рдХреЛ рджрд┐рдпрд╛ рдЧрдпрд╛) рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЗрд╕рдореЗрдВ рдПрдХ <a href=""><code> message</code></a> ред </p><br><p>  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ <em>рд░рди-</em> рдЯрд╛рдЗрдо рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ <code>no_std</code> рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП <code>no_std</code> рдирд╣реАрдВ рд░рдЦрддрд╛ рд╣реИред <br>  рдпрд╣ рдХреЗрд╡рд▓ рддрдм рд╣реА рдЦреЗрд▓ рдореЗрдВ рдЖрддрд╛ рд╣реИ рдЬрдм libstd рдореЗрдВ рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br>  ( <code>-C panic</code> рдорд╛рдзреНрдпрдо рд╕реЗ рдЪреБрдиреА <em>рдЧрдИ</em> рдЖрддрдВрдХ рдХреА <em>рд░рдгрдиреАрддрд┐</em> рдЕрднреА рднреА рдорд╛рдпрдиреЗ рд░рдЦрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдХреЛрдб рдкреАрдврд╝реА рдХреЛ рднреА рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреА рд╣реИред <br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>-C panic=abort</code> рдХреЛрдб рд╕рд░рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдХреЛ рд╕реНрдЯреИрдХ рдЕрдирдЗрдВрдбрд┐рдВрдЧ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ)ред </p><br></li><li><p>  <a href=""><code>begin_panic_fmt</code></a> , <a href=""><code>  std::panic!</code></a> рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ <a href=""><code>  std::panic!</code></a>  (рдпрд╛рдиреА рдпрд╣ рдкреНрд░рдпреЛрдЧ рддрдм рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдЖрдк рдПрдХ рдореИрдХреНрд░реЛ рдореЗрдВ рдХрдИ рддрд░реНрдХ рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ)ред <br>  рдЕрд╕рд▓ рдореЗрдВ, <code>PanicInfo</code> ( <a href="">рдбрдореА рдкреЗрд▓реЛрдбреНрд╕ рдХреЗ</a> рд╕рд╛рде) рдореЗрдВ рдкреНрд░рд╛рд░реВрдк рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЗ рддрд░реНрдХреЛрдВ рдХреЛ <code>PanicInfo</code> рдФрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛ рд╣рдордиреЗ рдЕрднреА рдЪрд░реНрдЪрд╛ рдХреА рд╣реИ, рд╣реЛрддрд╛ рд╣реИред </p><br></li><li><p>  <a href=""><code>begin_panic</code></a> рд╕рдорд░реНрдерди <a href=""><code> std::panic!</code></a>  <a href=""><code>  std::panic!</code></a>  ред <br>  рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ, рдпрд╣ рдЕрдиреНрдп рджреЛ рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБрдУрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рдХреЛрдб рдкрде рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ! <br>  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдпрд╣ рдПрдХрдорд╛рддреНрд░ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдмрд┐рдВрджреБ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ <em>рдордирдорд╛рдиреЗ рдврдВрдЧ рд╕реЗ рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛</em> рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br>  рдпрд╣ рдкреЗрд▓реЛрдб рдмрд╕ <a href=""><code>  Box&lt;dyn Any + Send&gt;</code></a> рддрд╛рдХрд┐ рдЗрд╕реЗ <code>rust_panic_with_hook</code> , рдФрд░ рдЙрд╕ рдкрд░ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред </p><br><p>  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдПрдХ рдкреИрдирд┐рдХ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░ рдЬреЛ <code>PanicData</code> рд╕реЗ <code>message</code> рдХреНрд╖реЗрддреНрд░ рдХреЛ рджреЗрдЦрддрд╛ рд╣реИ, рд╡рд╣ <code>std::panic!("do panic")</code> рдореЗрдВ рд╕рдВрджреЗрд╢ <em>рдирд╣реАрдВ</em> рджреЗрдЦ рдкрд╛рдПрдЧрд╛ <code>std::panic!("do panic")</code> , рд▓реЗрдХрд┐рди рдпрд╣ <code>std::panic!("panic with data: {}", data)</code> рдореЗрдВ рд╕рдВрджреЗрд╢ рджреЗрдЦ <em>рд╕рдХрддрд╛ рд╣реИ</em> <code>std::panic!("panic with data: {}", data)</code> рдЪреВрдВрдХрд┐ рдЙрддреНрддрд░рд╛рд░реНрджреНрдз <code>begin_panic_fmt</code> рд╕реЗ <code>begin_panic_fmt</code> ред <br>  рдпрд╣ рдмрд╣реБрдд рднрдпрд╛рдирдХ рд▓рдЧрддрд╛ рд╣реИред  (рд▓реЗрдХрд┐рди рдпрд╣ рднреА рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ <code>PanicData::message()</code> рдЕрднреА рддрдХ рд╕реНрдерд┐рд░ рдирд╣реАрдВ рд╣реИред) </p><br></li><li><p>  <a href=""><code>update_count_then_panic</code></a> рдЕрдЬреАрдм рдирд┐рдХрд▓рд╛: рдпрд╣ рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ <a href="https://doc.rust-lang.org/nightly/std/panic/fn.resume_unwind.html"><code>resume_unwind</code></a> <em>рдирд╣реАрдВ</em> рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЖрддрдВрдХ рдХреА <a href="https://doc.rust-lang.org/nightly/std/panic/fn.resume_unwind.html"><code>resume_unwind</code></a> рдкреИрджрд╛ <em>рдирд╣реАрдВ</em> рдХрд░рддрд╛ рд╣реИред <br>  рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдЗрд╕реЗ рддреБрд░рдВрдд рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХреЗ рдкрд╛рд╕ рднреЗрдЬ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>begin_panic</code> рдХреЙрд▓рд░ рдХреЛ рдордирдорд╛рдиреЗ рдврдВрдЧ рд╕реЗ рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br>  <code>begin_panic</code> рд╡рд┐рдкрд░реАрдд, рдХреЙрд▓рд┐рдВрдЧ рдлрд╝рдВрдХреНрд╢рди рдкреЗрд▓реЛрдб рдХреЛ рдкреИрдХрд┐рдВрдЧ рдФрд░ рдЖрдХрд╛рд░ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИ;  <code>update_count_then_panic</code> рдлрд╝рдВрдХреНрд╢рди рдХреЗрд╡рд▓ рд░рди-рдЯрд╛рдЗрдо рдЖрддрдВрдХ рд╣реИрдВрдбрд▓рд░ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рддрд░реНрдХ рдХреЛ рд▓рдЧрднрдЧ рд╢рдмреНрджрд╢рдГ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред </p><br></li></ul><br><h2 id="obrabotchik-paniki">  рдШрдмрд░рд╛рдпрд╛ рд╣реБрдЖ рд╣реИрдВрдбрд▓рд░ </h2><br><p> <code>std::panic!</code>  рддрдВрддреНрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрдкрдпреЛрдЧреА рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рд▓рд┐рдП <code>Box</code> рдорд╛рдзреНрдпрдо рд╕реЗ рдвреЗрд░ рдкрд░ рдбреЗрдЯрд╛ рд░рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬреЛ рд╣рдореЗрд╢рд╛ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред <br>  рд▓рд┐рдмрд░рдХреЛрд░ рдХреЛ рдЖрддрдВрдХ рдкреИрджрд╛ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрддрдВрдХ рдХреЗ <a href="">рд╕рдВрдЪрд╛рд▓рдХреЛрдВ</a> рдХреЛ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдордиреЗ рджреЗрдЦрд╛ рд╣реИ, рдЕрдЧрд░ libstd рдЙрдкрд▓рдмреНрдз рд╣реИ, рддреЛ рдпрд╣ рдЗрд╕ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ <code>core::panic!</code> рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ <code>core::panic!</code>  рдХрд╛рдорд╡рд╛рд╕рдирд╛ рдХреЗ рд╡рд┐рдЪрд╛рд░реЛрдВ рдореЗрдВ рдШрдмрд░рд╛рд╣рдЯред </p><br><p>  <a href="">рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдлрд╝реЗрд╕</a> <code>fn panic(info: &amp;core::panic::PanicInfo) -&gt; !</code> рдлрдВрдХреНрд╢рди <code>fn panic(info: &amp;core::panic::PanicInfo) -&gt; !</code>  libcore рдЖрдпрд╛рдд, рдФрд░ рдпрд╣ рдмрд╛рдж рдореЗрдВ рд▓рд┐рдВрдХрд░ рджреНрд╡рд╛рд░рд╛ рд╣рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br>  <a href="https://doc.rust-lang.org/core/panic/struct.PanicInfo.html"><code>PanicInfo</code></a> рдкреНрд░рдХрд╛рд░ рдкреИрдирд┐рдХ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╣реИ: рдЗрд╕рдореЗрдВ рдкреИрдирд┐рдХ рд╕реЛрд░реНрд╕ рдХрд╛ рд╕реНрдерд╛рди, рдкреИрдирд┐рдХ рдореИрд╕реЗрдЬ рдФрд░ рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛ ( <code>dyn Any + Send</code> ) рд╢рд╛рдорд┐рд▓ рд╣реИрдВред <br>  рдкреИрдирд┐рдХ рдореИрд╕реЗрдЬ рдХреЛ <a href="https://doc.rust-lang.org/std/fmt/struct.Arguments.html"><code>fmt::Arguments</code></a> , рдпрд╛рдиреА рдПрдХ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рдПрдХ рдкреНрд░рд╛рд░реВрдк рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдЕрднреА рддрдХ рддреИрдпрд╛рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><h2 id="makros-corepanic"> <code> core::panic!</code> </h2> <br><p>  рдкреИрдирд┐рдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рдЕрд▓рд╛рд╡рд╛, libcore <a href="">рдиреНрдпреВрдирддрдо рдкреИрдирд┐рдХ рдПрдкреАрдЖрдИ</a> рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред <br> <a href=""><code>core::panic!</code></a>  рдореИрдХреНрд░реЛ <code>fmt::Arguments</code> рдмрдирд╛рддрд╛ рд╣реИ рдЬреЛ рддрдм <a href="">рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХреЛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ</a> ред <br>  рд╕реНрд╡рд░реВрдкрдг рдпрд╣рд╛рдВ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХреЗ рд▓рд┐рдП рдвреЗрд░ рдкрд░ рд╕реНрдореГрддрд┐ рдХреЗ рдЖрд╡рдВрдЯрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА;  рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ <code>PanicInfo</code> рдореЗрдВ рдЕрдкрдиреЗ рддрд░реНрдХреЛрдВ рдХреЗ рд╕рд╛рде " <code>PanicInfo</code> " рдкреНрд░рд╛рд░реВрдк рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╢рд╛рдорд┐рд▓ рд╣реИред </p><br><p>  рдЙрддреНрд╕реБрдХрддрд╛ рд╕реЗ, <code>PanicInfo</code> рд╕реЗ <code>payload</code> рдлрд╝реАрд▓реНрдб рдХреЛ рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХреЗ рдкрд╛рд╕ <code>PanicInfo</code> , рдЬреЛ рд╣рдореЗрд╢рд╛ рдПрдХ <a href="">рдбрдореА рдореВрд▓реНрдп рдкрд░</a> рд╕реЗрдЯ рд╣реЛрддрд╛ рд╣реИред <br>  рдпрд╣ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рд▓рд┐рдмрд╕реНрдЯрд░реНрдб рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдкреЗрд▓реЛрдб рдбреЗрдЯрд╛ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХреНрдпреЛрдВ рдХрд░рддрд╛ рд╣реИ (рдФрд░ рдЗрд╕рдХреЗ рдмрдЬрд╛рдп <code>message</code> рд╕реЗ рдирдпрд╛ рдкреЗрд▓реЛрдб рдбреЗрдЯрд╛ рдмрдирд╛рддрд╛ рд╣реИ), рд▓реЗрдХрд┐рди рдпрд╣ рдореБрдЭреЗ рдЖрд╢реНрдЪрд░реНрдпрдЪрдХрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдлрд╝реАрд▓реНрдб рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдПрдкреАрдЖрдИ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдХреНрдпреЛрдВ рд╣реИред <br>  рдЗрд╕рдХрд╛ рдПрдХ рдФрд░ рдкрд░рд┐рдгрд╛рдо рдпрд╣ рд╣реИ рдХрд┐ <a href=""><code>core::panic!("message")</code></a> рдФрд░ <a href=""><code>std::panic!("message")</code></a> (рдХрд┐рд╕реА рднреА рд╕реНрд╡рд░реВрдкрдг рдХреЗ рдмрд┐рдирд╛ рд╡рд┐рдХрд▓реНрдк) рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдмрд╣реБрдд рдЕрд▓рдЧ рджрд╣рд╢рдд рдкреИрджрд╛ рдХрд░рддреЗ рд╣реИрдВ: рдкрд╣рд▓рд╛ <code>fmt::Arguments</code> рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ <code>fmt::Arguments</code> , рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛, рдФрд░ рдлрд┐рд░ libstd рдкреНрд░рд╛рд░реВрдкрд┐рдд рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧреА <code>String</code> рдбреЗрдЯрд╛ рдмрдирд╛рддрд╛ рд╣реИред <br>  рдЙрддреНрддрд░рд╛рд░реНрджреНрдз, рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╕реАрдзреЗ рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдФрд░ <code>message</code> рдХреНрд╖реЗрддреНрд░ <code>None</code> рд░рд╣рддрд╛ (рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рд╣реА рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ)ред </p><br><p>  рд▓рд┐рдмрд░рдХреЛрд░ рдореЗрдВ рдЖрддрдВрдХ рдПрдкреАрдЖрдИ рдХреЗ рдХреБрдЫ рддрддреНрд╡ рднрд╛рд╖рд╛ рддрддреНрд╡ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдХрдВрдкрд╛рдЗрд▓рд░ рдХреЛрдб рдкреАрдврд╝реА рдХреЗ рджреМрд░рд╛рди рдЗрди рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ: </p><br><ul><li>  <a href=""><code> panic</code></a> рдПрдХ рддрддреНрд╡ рдХреЛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдХрдВрдкрд╛рдЗрд▓рд░ рдХреЛ рдПрдХ рдЖрддрдВрдХ рдкреИрджрд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдЬрд┐рд╕реЗ рдХрд┐рд╕реА рднреА рд╕реНрд╡рд░реВрдкрдг (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЕрдВрдХрдЧрдгрд┐рддреАрдп рдЕрддрд┐рдкреНрд░рд╡рд╛рд╣) рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ;  рдпрд╣ рд╡рд╣реА рдлрд╝рдВрдХреНрд╢рди рд╣реИ рдЬреЛ <a href=""><code>core::panic!</code></a> рдХрд╛ рднреА рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ <a href=""><code>core::panic!</code></a>  рдПрдХ рддрд░реНрдХ <a href=""><code>core::panic!</code></a>  ред </li><li>  рдЬрдм рдХреЛрдИ рд╕рд░рдгреА / рд╕реНрд▓рд╛рдЗрд╕ рд╕реАрдорд╛ рдЬрд╛рдВрдЪ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ <a href=""><code>  panic_bounds_check</code></a> рдХреЛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ; рдпрд╣ рдЙрд╕реА рд╡рд┐рдзрд┐ рдХреЛ <a href=""><code>core::panic!</code></a> рдХрд╣рддрд╛ рд╣реИ <a href=""><code>core::panic!</code></a>  <a href="">рд╕реНрд╡рд░реВрдкрдг рдХреЗ рд╕рд╛рде</a> ред </li></ul><br><h2 id="vyvody">  рдирд┐рд╖реНрдХрд░реНрд╖ </h2><br><p>  рд╣рдо 4 рдПрдкреАрдЖрдИ рд╕реНрддрд░ рд╕реЗ рдЧреБрдЬрд░реЗ, рдЬрд┐рдирдореЗрдВ рд╕реЗ 2 рдХреЛ рдЖрдпрд╛рддрд┐рдд рдлрд╝рдВрдХреНрд╢рди рдХреЙрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдФрд░ рд▓рд┐рдВрдХрд░ рджреНрд╡рд╛рд░рд╛ рд╣рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ред <br>  рдХреИрд╕реА рдпрд╛рддреНрд░рд╛ рд╣реИ! <br>  рд▓реЗрдХрд┐рди рд╣рдо рдЕрдВрдд рддрдХ рдкрд╣реБрдВрдЪ рдЧрдП рд╣реИрдВред <br>  рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдЖрдк рд░рд╛рд╕реНрддреЗ рд╕реЗ <a href="https://en.wikipedia.org/wiki/Phrases_from_The_Hitchhiker%2527s_Guide_to_the_Galaxy">рдирд╣реАрдВ рдШрдмрд░рд╛рдПрдВрдЧреЗ</a> ред  ;) </p><br><p>  рдореИрдВрдиреЗ рдХреБрдЫ рдЪреАрдЬреЛрдВ рдХрд╛ рдЬрд┐рдХреНрд░ рдЕрджреНрднреБрдд рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ред <br>  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдЙрдирдореЗрдВ рд╕реЗ рд╕рднреА рдЗрд╕ рддрдереНрдп рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВ рдХрд┐ рдкреИрдирд┐рдХ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░ рдФрд░ рдкреИрдирд┐рдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдкреИрдирд┐рдХ <code>PanicInfo</code> рд╕рдВрд░рдЪрдирд╛ рдХреЛ рдЕрдкрдиреЗ рдЗрдВрдЯрд░рдлреЗрд╕ рдореЗрдВ рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ <em>рдПрдХ</em> рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ рд╕реНрд╡рд░реВрдкрд┐рдд <code>message</code> рдФрд░ рдПрдХ рдорд┐рдЯрд╛рдП рдЧрдП рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рд╛рде <code>payload</code> рд╣реЛрддрд╛ рд╣реИ: </p><br><ul><li>  <em>рдПрдХ</em> рдкреИрдирд┐рдХ <em>рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░</em> рд╣рдореЗрд╢рд╛ <code>payload</code> рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдлреЙрд░реНрдореЗрдЯ рдХрд┐рдпрд╛ рд╣реБрдЖ рдореИрд╕реЗрдЬ рдкрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП <code>message</code> рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░ рдХреЗ рд▓рд┐рдП рдмреЗрдХрд╛рд░ рд▓рдЧрддрд╛ рд╣реИред рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, <code>message</code> рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рднрд▓реЗ рд╣реА <code>payload</code> рдореЗрдВ рдХреЛрдИ рдореИрд╕реЗрдЬ рд╣реЛ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>std::panic!("message")</code> )ред </li><li>  рдкреИрдирд┐рдХ <em>рд╣реИрдВрдбрд▓рд░</em> рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ <code>payload</code> рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рдХрд░реЗрдЧрд╛, рдЗрд╕рд▓рд┐рдП рдХреНрд╖реЗрддреНрд░ рд╣реИрдВрдбрд▓рд░ рдХреЗ рд▓рд┐рдП рд╡реНрдпрд░реНрде рд▓рдЧрддрд╛ рд╣реИред </li></ul><br><p>  <a href="">рдкреИрдирд┐рдХ рд╣реИрдВрдбрд▓рд░ рдХреЗ рд╡рд░реНрдгрди рд╕реЗ RFC рдХреЛ</a> рдкрдврд╝рдХрд░ рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдкреНрд▓рд╛рди <code>core::panic!</code> рд▓рд┐рдП рдерд╛ <code>core::panic!</code>  рдордирдорд╛рдиреЗ рдврдВрдЧ рд╕реЗ рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛ рдХрд╛ рднреА рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрднреА рддрдХ рдпрд╣ рднреМрддрд┐рдХ рдирд╣реАрдВ рд╣реБрдЖ рд╣реИред <br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЗрд╕ рднрд╡рд┐рд╖реНрдп рдХреЗ рд╡рд┐рд╕реНрддрд╛рд░ рдХреЗ рд╕рд╛рде, рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╣реИ рдХрд┐ рдЬрдм <code>message</code> <code>Some</code> , рддреЛ рдпрд╛ рддреЛ <code>payload == &amp;NoPayload</code> (рдЗрд╕рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛ рдмреЗрдорд╛рдиреА рд╣реИ) рдпрд╛ <code>payload</code> рдПрдХ рд╕реНрд╡рд░реВрдкрд┐рдд рд╕рдВрджреЗрд╢ рд╣реИ (рдЗрд╕рд▓рд┐рдП рд╕рдВрджреЗрд╢ рдирд┐рд░рд░реНрдердХ рд╣реИ)ред </p><br><p>  рдореБрдЭреЗ рдЖрд╢реНрдЪрд░реНрдп рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдХреЛрдИ рдРрд╕рд╛ рдорд╛рдорд▓рд╛ рд╣реИ рдЬрдм <em>рджреЛрдиреЛрдВ</em> рдХреНрд╖реЗрддреНрд░ рдЙрдкрдпреЛрдЧреА рд╣реЛрдВрдЧреЗ рдФрд░ рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдХреНрдпрд╛ рд╣рдо рдЙрдиреНрд╣реЗрдВ <code>enum</code> рджреЛ рд╕рдВрд╕реНрдХрд░рдг рдмрдирд╛рдХрд░ рдЗрд╕рдХрд╛ рдПрдирдХреЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ? </p><br><p>  рд╡рд░реНрддрдорд╛рди рдбрд┐рдЬрд╛рдЗрди рдХреЗ рд▓рд┐рдП рдЗрд╕ рдкреНрд░рд╕реНрддрд╛рд╡ рдХреЗ рдЦрд┐рд▓рд╛рдл рд╢рд╛рдпрдж рдЕрдЪреНрдЫреЗ рдХрд╛рд░рдг рд╣реИрдВ;  рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реА рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдЙрдиреНрд╣реЗрдВ рдХрд╣реАрдВ рдФрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реЛрдЧрд╛ред  :) </p><br><p>  рдХрд╣рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рднреА рдмрд╣реБрдд рдХреБрдЫ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░ рдореИрдВ рдЖрдкрдХреЛ рдЙрд╕ рд╕реНрд░реЛрдд рдХреЛрдб рдХреЗ рд▓рд┐рдВрдХ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдордВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реВрдВ рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рдКрдкрд░ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рдерд╛ред </p><br><p>  рдорди рдореЗрдВ рдПрдХ рдЙрдЪреНрдЪ рд╕реНрддрд░реАрдп рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЛ рдЗрд╕ рдХреЛрдб рдХрд╛ рдкрд╛рд▓рди рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <br>  рдЕрдЧрд░ рд▓реЛрдЧреЛрдВ рдХреЛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЗрд╕ рд╕рдореАрдХреНрд╖рд╛ рдХреЛ рд╣рдореЗрд╢рд╛ рдХреЗ рд▓рд┐рдП рдХрд╣реАрдВ рд░рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рддреЛ рдореБрдЭреЗ рдЗрд╕ рд▓реЗрдЦ рдХреЛ рдХрд┐рд╕реА рддрд░рд╣ рдХреЗ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдмрджрд▓рдХрд░ рдЦреБрд╢реА рд╣реЛрдЧреА - рд╣рд╛рд▓рд╛рдБрдХрд┐ рдореБрдЭреЗ рдпрдХреАрди рдирд╣реАрдВ рд╣реИ рдХрд┐ рдпрд╣ рдПрдХ рдЕрдЪреНрдЫреА рдЬрдЧрд╣ рд╣реЛрдЧреАред </p><br><p>  рдФрд░ рдЕрдЧрд░ рдЖрдкрдиреЗ рдЬреЛ рд▓рд┐рдЦрд╛ рд╣реИ, рдЙрд╕рдореЗрдВ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рд╣реИ, рддреЛ рдХреГрдкрдпрд╛ рдореБрдЭреЗ рдмрддрд╛рдПрдВ! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi482358/">https://habr.com/ru/post/hi482358/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi482346/index.html">ASP.NET MVC - ADO.NET рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ MySQL рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ</a></li>
<li><a href="../hi482348/index.html">рдЯреЙрдкрд▓реЗрд╕ рд╡рд┐рдбрд┐рдпреЛ рдЧреЗрдо рдбреЗрд╡рд▓рдкрд░ рдХреЗ рд▓рд┐рдП рдЯреЛрдкреЛрд▓реЙрдЬреА рдФрд░ рд╡реНрдпрд╛рдкрдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг: рд╕рд┐рдВрдЧрд▓ 3 рдбреА рд╡реИрдХреНрдЯрд░ рдХреЛ рдХрдВрдкреНрд░реЗрд╕ рдХрд░рдирд╛</a></li>
<li><a href="../hi482352/index.html">рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рд▓рдЧрднрдЧ 150k рд╣рд╡рд╛ рдореЗрдВ рдлреЗрдВрдХ рджрд┐рдпрд╛ рдпрд╛ рдЕрдкрд╛рд░реНрдЯрдореЗрдВрдЯ рдореЗрдВ рдордЬрдмреВрд░ рд╡реЗрдВрдЯрд┐рд▓реЗрд╢рди рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХрд╛ рдЗрддрд┐рд╣рд╛рд╕</a></li>
<li><a href="../hi482354/index.html">рдХреЙрдиреНрдлрд╝рд┐рдЧрд░рд╡рд┐рд╣рд┐рдд: рдЕрдХреНрд╕рд░ рдкреВрдЫреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рд╢реНрди</a></li>
<li><a href="../hi482356/index.html">рдПрдХ рдирд┐рдпрдорд┐рдд рд╡рд┐рдВрдбреЛрдЬ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░ рдХреЗ рдмрд┐рдирд╛ рд╡рд┐рдВрдбреЛрдЬ рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a></li>
<li><a href="../hi482360/index.html">рд╣рд╛рдмрд░рд╛ рдЬрд╛рд╕реВрд╕: рд╡реЗ рдпреВрдПрдлрдУ рдХреЗ рд╕рд╛рде рджреЛрд╕реНрдд рд╣реИрдВ</a></li>
<li><a href="../hi482362/index.html">рд▓рдЧрднрдЧ рдЕрд░рд╛рдЬрдХрддрд╛: рдлрд╝рд┐рдбреЛрдиреЗрдЯ рдХрд╛ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЗрддрд┐рд╣рд╛рд╕, рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЬреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЬреАрддрдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрд░рд╡рд╛рд╣ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ</a></li>
<li><a href="../hi482364/index.html">рдЪреАрдЬреЗрдВ рдЖрдк [рд╢рд╛рдпрдж] рдЬрд╛рд╡рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рдереЗ</a></li>
<li><a href="../hi482370/index.html">рдиреЛрдбрдЬ: рдкреНрд░реЛрд╕реЗрд╕ рдореИрдиреЗрдЬрд░ рдФрд░ рдИрдПрд╕ 6 рдореЙрдбреНрдпреВрд▓</a></li>
<li><a href="../hi482372/index.html">рд╣рд╛рдЗрдкрд░- V рдореЗрдВ рдЖрд░реНрдХ рд▓рд┐рдирдХреНрд╕ рдореЗрд╣рдорд╛рди рдХреЗ рд▓рд┐рдП рдПрдиреНрд╣рд╛рдВрд╕реНрдб рд╕рддреНрд░ рдореЛрдб рд╕рдХреНрд╖рдо рдХрд░реЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>