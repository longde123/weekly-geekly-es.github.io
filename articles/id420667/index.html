<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö´ ü¶Ü üéß Prinsip-prinsip Operasi Protokol EIGRP üë©‚Äçüëß‚Äçüë¶ üëâüèº üÜî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini akan berbicara tentang EIGRP dan membahas cara kerja protokol ini. EIGRP adalah protokol vektor jarak, kadang-kadang dikatakan hibrid, tet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prinsip-prinsip Operasi Protokol EIGRP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420667/"> Artikel ini akan berbicara tentang EIGRP dan membahas cara kerja protokol ini.  EIGRP adalah protokol vektor jarak, kadang-kadang dikatakan hibrid, tetapi tidak.  Baca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">awal artikel</a> di OSPF dan Anda akan mengerti mengapa EIGRP adalah protokol vektor jarak jauh.  EIGRP adalah protokol routing dinamis vektor jarak jauh canggih yang dikembangkan oleh Cisco.  Mari kita perbaiki.  Kami akan menggunakan topologi berikut: <br><br><a href=""></a><a href=""></a><a href=""></a><a href=""></a><a href=""></a><a href=""></a><a href=""></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/4ed/cbb/733/4edcbb7335c70442a6ad9c1e4754e851.jpg" alt="Gambar saya"></a> <a name="habracut"></a><br><br>  Jalankan EIGRP pada vIOS1 dan vIOS2, lihat bagaimana informasi dikirimkan antar router.  Segera setelah EIGRP diaktifkan pada router, router mulai mengirim paket Hello.  Kami juga mencantumkan jenis pesan lain yang digunakan dalam EIGRP. <br><br><ul><li>  Halo - router menggunakan paket halo untuk menemukan tetangga.  Paket multicast dikirim dan tidak memerlukan konfirmasi penerimaan. </li><li>  Perbarui - berisi informasi tentang mengubah rute.  Mereka dikirim hanya ke router yang dipengaruhi oleh pembaruan.  Paket-paket ini dapat dikirim ke router tertentu (unicast) atau grup router (multicast).  Menerima paket pembaruan dikonfirmasi dengan mengirimkan ACK. </li><li>  Query - ketika router menghitung rute dan tidak memiliki penerus yang layak, ia mengirimkan paket permintaan ke tetangganya untuk menentukan apakah mereka memiliki penerus yang layak untuk tujuan ini.  Biasanya, paket permintaan dikirim oleh multicast, tetapi mungkin ada unicast.  Kwitansi paket kueri dikonfirmasi dengan mengirimkan ACK oleh penerima paket. </li><li>  Balas - router mengirim paket balasan sebagai tanggapan terhadap paket permintaan.  Paket balasan dikirim unicast ke orang yang mengirim paket permintaan.  Menerima paket balasan dikonfirmasi dengan mengirim ACK. </li><li>  ACK - paket yang mengonfirmasi penerimaan pembaruan, permintaan, paket balasan.  Paket ACK dikirim unicast dan berisi nomor pengakuan.  Bahkan, ini adalah paket halo yang tidak mengirimkan data.  Pengiriman tidak dijamin digunakan. </li></ul><br>  Ada juga paket SIA, tetapi kita akan membicarakannya di bawah ini. <br>  Paket dikirim ke alamat multicast 224.0.0.10 setiap 5 detik (Hello Timer), Hold Timer adalah 15 detik = 3 interval halo, jika selama timer ini tidak ada paket halo yang diterima dari tetangga, maka tetangga dihapus dari daftar tetangga.  Paket terlihat seperti ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/144/cd2/7a5/144cd27a50a78ca0aeb70c7e4b15cfae.jpg" alt="Gambar saya"><br><br>  Paket ini berisi parameter dari koefisien (K1, K2, K3, K4, K5, K6), Hold Timer dan nomor Sistem Otonomi.  Koefisien (K1, K2, K3, K4, K5, K6) digunakan dalam menghitung metrik, dan kita akan membicarakannya nanti, juga timer EIGRP.  Sekarang penting untuk berbicara tentang Sistem Otonomi (AS).  Untuk mengaktifkan EIGRP, proses EIGRP tertentu harus diberi nomor, seperti dalam OSPF.  Tetapi tidak seperti OSPF, opsi ini tidak dapat dipilih secara acak untuk setiap router, itu harus sama untuk semua router.  Jika router menerima paket Hello dengan AS yang berbeda dari itu, maka tidak akan ada hubungan tetangga. <br><br>  Agar router menjadi tetangga, kondisi berikut ini harus dipenuhi: <br><br><ul><li>  router harus diautentikasi, </li><li>  router harus berada di AS yang sama, </li><li>  Hubungan tetangga harus ditetapkan pada alamat primer (ketika paket halo tiba, router memeriksa apakah alamat pengirim jaringan milik alamat utama antarmuka), </li><li>  nilai koefisien K harus cocok. </li></ul><br>  Agar router menjadi tetangga EIGRP, mereka tidak harus mencocokkan waktu Hello dan Hold.  Router menggunakan nilai timer yang diterima dari tetangga.  Jika Hello atau Hold timer diubah pada salah satu router, maka tetangga dari router ini akan menggunakan nilai-nilai ini.  Agar router dapat menggunakan nilai-nilai lain, perlu untuk mengubah timer pada antarmuka tetangga yang sesuai.  Setelah bertukar paket Hello, paket Pembaruan dikirim, tetapi belum berisi rute, itu berisi bendera Init, yang memberi tahu router tentang mulai bertukar informasi tentang rute.  Paket ini dikirim langsung ke alamat router.  Setelah bertukar pesan seperti itu, setiap router mengirim paket Pembaruan dengan rute ke alamat multicast 224.0.0.10: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd9/0da/c1c/dd90dac1c80680d40681289160f1898b.jpg" alt="Gambar saya"><br><br>  Seperti yang Anda lihat, paket Pembaruan tidak mengandung metrik apa pun, tetapi hanya informasi seperti Bandwidth, Delay, MTU, dll. Setelah menerima informasi ini, router itu sendiri yang menghitung metrik menggunakan koefisien K1-K6.  Paket-paket ini dapat dikirim ke router tertentu atau multicast.  Secara umum, ada tiga jenis pembaruan: <br><br><ul><li>  Non-periodik (Non periodik) - pembaruan dikirim tidak secara berkala, tetapi ketika topologi atau metrik berubah; </li><li>  Partial (Partial) - tidak semua informasi dari tabel routing ditransmisikan dalam pembaruan, tetapi hanya perubahan; </li><li>  Dibatasi - Pembaruan dikirim hanya ke router yang terlibat. </li></ul><br>  Lingkungan tingkat paket terlihat seperti ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/68a/588/fe6/68a588fe6adbe793d98c2b57b7da301e.jpg" alt="Gambar saya"><br><br>  Anda mungkin memperhatikan bahwa selain Hello dan Update yang kami daftarkan, ada juga Hello (ACK) dan jumlahnya sama dengan jumlah paket Update yang dikirim ke alamat multicast.  Ini semua tentang protokol RTP.  Protokol RTP mengontrol proses pengiriman paket EIGRP dan menyediakan: <br><br><ul><li>  Pengiriman paket terjamin. </li><li>  Mempertahankan urutan paket. </li></ul><br>  Ini adalah beberapa hal.  Apa yang kita miliki  Rute dipertukarkan paket Pembaruan dan sekarang saatnya untuk membangun tabel routing.  Setiap pembaruan diproses dan menggantikan data (Bandwidth, Delay, dll.) Ke dalam formula khusus, metrik dihitung: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc6/0ab/062/cc60ab0622cbe1abb96521c2520b96ee.jpg" alt="Gambar saya"><br><br>  Formula seperti itu terlihat mengagumkan, tetapi hal terbaik tentang itu adalah Anda mungkin tidak mengetahuinya, hanya tahu bahwa sesuatu seperti itu ada.  Dan trik lain yang bagus adalah bahwa koefisien EIGRP default adalah: <br><br><ul><li>  K1 = 1 </li><li>  K2 = 0 </li><li>  K3 = 1 </li><li>  K4 = 0 </li><li>  K5 = 0 </li></ul><br>  Dan formula hanya berubah menjadi metrik = bandwidth + delay.  Oleh karena itu, sangat penting bahwa koefisien pada semua router adalah sama, sehingga tidak ada masalah karena metrik yang berbeda pada router.  Mari kita bicara tentang data dalam Pembaruan dengan sedikit lebih detail. <br><br><ul><li>  Bandwidth - nilai minimum di antara saluran bandwidth yang menuju jaringan dipilih dan dikirim ke Pembaruan. </li><li>  Delay - Meringkas Keterlambatan semua saluran yang mengarah ke jaringan ini. </li><li>  Keandalan - ukuran terburuk dari keandalan sepanjang jalan, berdasarkan pada keepalive </li><li>  Memuat - indikator terburuk memuat tautan sepanjang jalan, berdasarkan tingkat paket dan bandwidth yang dikonfigurasi pada antarmuka </li><li>  MTU adalah MTU terkecil sepanjang jalan.  Terlepas dari kenyataan bahwa itu digunakan dalam Pembaruan, itu tidak berpartisipasi dalam perhitungan metrik itu sendiri. </li></ul><br>  Seperti yang disebutkan di atas, bandwidth dan penundaan digunakan secara default.  Parameter yang tersisa jarang diperlukan saat dibutuhkan, tetapi dengan bantuan mereka, penyesuaian metrik yang lebih baik dimungkinkan.  Jadi, dalam paket Pembaruan, router melewati rute dan data yang terkait dengannya, itu tidak mengirimkan metrik itu sendiri.  Router yang menerima Pembaruan menghitung metrik sesuai dengan rumus dan, tergantung pada metrik, memutuskan apakah akan merutekan rute ke tabel routing atau tidak.  Penting juga untuk dicatat bahwa <b>router hanya mentransmisikan rute yang digunakannya.</b>  Mari kita lihat bagaimana membangun tabel topologi. <br><br>  <b>Tabel topologi</b> - Daftar rute yang dipelajari dari masing-masing tetangga.  Tabel topologi juga menyimpan metrik yang dilaporkan masing-masing tetangga untuk setiap rute (AD) dan metrik yang akan digunakan router lokal untuk mencapai rute melalui tetangga (FD). <br><br>  Penting untuk menjelaskan apa itu AD dan FD.  Kami akan mengonfigurasi EIGRP di semua router kami.  Juga, untuk menghindari bilangan kompleks dalam metrik, kami mengubah koefisien dari K1 = 1 K2 = 0 K3 = 1 K4 = 0 K5 = 0 ke K1 = 0 K2 = 0 K3 = 1 K4 = 0 K5 = 0 Dengan demikian, kita akan memiliki 256 * Delay formula dan kami juga mendapatkan cara mudah untuk memanipulasi metrik dengan mengubah parameter penundaan pada antarmuka.  Mempertimbangkan bahwa pada penundaan antarmuka = ‚Äã‚Äã1 detik, maka setiap tautan, jika Anda menggunakan terminologi OSPF, biayanya 256. Mari kita lihat apa tabel topologi pada vIOS1: <br><blockquote>  vIOS1 # tampilkan topologi ip eigrp <br>  Tabel Topologi EIGRP-IPv4 untuk AS (1) / ID (192.168.1.1) <br>  Kode: P - Pasif, A - Aktif, U - Perbarui, Q - Permintaan, R - Balas, <br>  r - reply Status, Status <br><br>  P 192.168.3.0/24, 1 penerus, FD adalah 512 <br>  melalui 192.168.13.3 (512/256), GigabitEthernet0 / 0 <br>  P 192.168.2.0/24, 1 penerus, FD adalah 512 <br>  melalui 192.168.12.2 (512/256), GigabitEthernet0 / 3 <br>  P 192.168.25.0/24, 1 penerus, FD adalah 512 <br>  melalui 192.168.12.2 (512/256), GigabitEthernet0 / 3 <br>  P 192.168.35.0/24, 1 penerus, FD adalah 512 <br>  melalui 192.168.13.3 (512/256), GigabitEthernet0 / 0 <br>  P 192.168.12.0/24, 1 penerus, FD adalah 256 <br>  melalui Connected, GigabitEthernet0 / 3 <br>  P 192.168.45.0/24, 1 penerus, FD adalah 512 <br>  melalui 192.168.14.4 (512/256), GigabitEthernet0 / 2 <br>  P 192.168.0.0/24, 1 penerus, FD adalah 256 <br>  melalui Connected, GigabitEthernet0 / 1 <br>  P 192.168.13.0/24, 1 penerus, FD adalah 256 <br>  melalui Connected, GigabitEthernet0 / 0 <br>  P 192.168.14.0/24, 1 penerus, FD adalah 256 <br>  melalui Connected, GigabitEthernet0 / 2 <br>  P 192.168.5.0/24, 3 penerus, FD adalah 768 <br>  melalui 192.168.12.2 (768/512), GigabitEthernet0 / 3 <br>  via 192.168.13.3 (768/512), GigabitEthernet0 / 0 <br>  melalui 192.168.14.4 (768/512), GigabitEthernet0 / 2 </blockquote><br>  Jika Anda melihat, misalnya, pada jaringan - 192.168.5.0/24, Anda akan melihat tiga jalur melalui vIOS2, vIOS3 dan vIOS4 dengan metrik yang sama.  Untuk 192.168.5.0/24 FD, untuk semua jalur sama dengan - 768, dan AD - 512. Mari kita memberikan definisi dari artikel lain dan mencoba menjelaskan: <br><br><ul><li>  <b>Advertised distance (AD)</b> , juga dikenal sebagai jarak dilaporkan (RD), adalah biaya jarak antara router tetangga yang mengiklankan rute dan jaringan tujuan. </li><li>  <b>Feasible distance (FD)</b> - biaya jarak dari router lokal ke jaringan tujuan = AD, yang mengumumkan router tetangga + biaya jarak antara router lokal dan router tetangga. </li></ul><br><blockquote>  P 192.168.5.0/24, 3 penerus, FD adalah 768 melalui 192.168.14.4 (768/512), GigabitEthernet0 / 2 </blockquote><br>  Mari kita periksa baris ini dari tabel topologi di vIOS1.  vIOS1 belajar tentang rute dari vIOS4 (192.168.14.4).  Karena vIOS1 memisahkan tiga tautan dari 192.168.5.0/24, metrik FD dengan pengaturan kami adalah 3 * 256 = 768.  Dan AD adalah metrik rute relatif ke router (vIOS4) yang mengumumkan jaringan ini.  AD adalah metrik FD dari rute ini di vIOS4.  Mari kita lihat tabel topologi pada vIOS4: <br><blockquote>  P 192.168.5.0/24, 1 penerus, FD adalah 512 melalui 192.168.45.5 (512/256), GigabitEthernet0 / 1 </blockquote><br>  AD on vIOS1 = FD pada vIOS4.  Diam membingungkan, tetapi cobalah untuk menjelaskan logika kerja.  Perute yang mengumumkan rute mengirimkan parameter (Bandwithd, Delay, dll.) Dari rute dalam pesan Pembaruan tanpa memperhitungkan tautan antara perute yang diumumkan.  Yaitu, vIOS4 hanya memperhitungkan parameter dua tautan: vIOS4 Gi0 / 1 - vIOS5 Gi0 / 1 dan vIOS5 Gi0 / 0 - VPC.  Setelah menerima Pembaruan, vIOS1, menggantikan parameter yang diperoleh dalam rumus, menghitung apa?  Itu benar - AD = 512.  Setelah itu mengambil parameter tautan dari mana rute berasal, vIOS1 Gi0 / 2 - vIOS4 Gi0 / 2 dan menggantikannya ke dalam formula lagi.  Hitungan, dapatkan angka 256 dan tambahkan dengan AD (512), kita dapatkan FD - 768. Ini adalah hal-hal!  Tapi mengapa semua ritual ini? <br>  Dan semuanya dalam rangka menciptakan aturan khusus yang disebut <b>kondisi layak</b> , yang merupakan salah satu cara melindungi terhadap pembentukan loop dan konvergensi cepat. <br>  Mari kita mendefinisikan istilah-istilah berikut: <br><br><ul><li>  Penerus adalah router yang berdekatan dengan jalur bebas loop dan jalur biaya terendah ke jaringan tujuan. </li><li>  Penerus yang layak - router cadangan dengan jalur tanpa loop (penerus yang layak AD harus kurang dari FD dari rute penerus saat ini). </li><li>  Kondisi yang layak - penerus yang layak AD harus kurang dari FD dari rute penerus saat ini. </li></ul><br>  Untuk menjelaskan cara kerjanya dan menunjukkan seluk-beluknya, Anda perlu mengubah beberapa metrik.  Mari kita lakukan yang berikut, ubah penundaan sehingga kami memiliki metrik tautan seperti itu: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/678/c11/c2b/678c11c2b0f9b1dabb87a01ac62ff9e4.jpg" alt="Gambar saya"><br><br>  Ini dilakukan dengan menggunakan perintah tunda pada antarmuka.  Sekarang kita telah mengatakan - delay = 1 dan metrik 256. Mari kita lihat metrik apa yang kita dapatkan untuk jaringan 192.168.5.0/24 pada router vIOS1: <br><br><ul><li>  Via vIOS2 - FD = 2304, AD = 1280 </li><li>  Via vIOS4 - FD = 1024, AD = 768 </li><li>  Via vIOS3 - FD = 1536, AD = 768 </li></ul><br>  Seperti yang kita lihat FD terbaik untuk rute melalui vIOS4, itu akan ditambahkan ke tabel rute umum, rute ini disebut <b>Penerus</b> : <br><blockquote>  vIOS1 # tampilkan ip route eigrp <br>  Kode: L-lokal, C-terkoneksi, S-statis, R-RIP, M-mobile, B-BGP <br>  D - EIGRP, EX - EIGRP eksternal, O - OSPF, IA - OSPF antar area <br>  N1 - OSPF NSSA tipe eksternal 1, N2 - OSPF NSSA tipe eksternal 2 <br>  E1 - OSPF tipe eksternal 1, E2 - OSPF tipe eksternal 2 <br>  i - IS-IS, su - Ringkasan IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2 <br>  ia - IS-IS antar area, * - kandidat default, U - rute statis per pengguna <br>  o - ODR, P - rute statis yang diunduh berkala, H - NHRP, l - LISP <br>  a - rute aplikasi <br>  + - replikasi rute,% - override hop berikutnya, p - override dari PfR <br><br>  Gerbang pilihan terakhir tidak diatur <br><br>  D 192.168.2.0/24 [90/512] via 192.168.12.2, 06:01:31, GigabitEthernet0 / 3 <br>  D 192.168.3.0/24 [90/1024] via 192.168.13.3, 06:01:28, GigabitEthernet0 / 0 <br>  D 192.168.5.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.25.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.35.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.45.0/24 [90/768] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 </blockquote><br>  Apa yang akan terjadi pada dua rute lainnya - mereka akan diperiksa untuk kondisi FS (Kondisi layak).  Rute melalui vIOS3 melewati kondisi ini AD (via vIOS3) = 768 &lt;1024 = FD (via vIOS1).  Oleh karena itu, rute ini, meskipun tidak akan ditambahkan ke tabel rute umum, namun akan disimpan dalam tabel topologi: <br><blockquote>  vIOS1 # tampilkan topologi ip eigrp <br>  Tabel Topologi EIGRP-IPv4 untuk AS (1) / ID (192.168.1.1) <br>  Kode: P - Pasif, A - Aktif, U - Perbarui, Q - Permintaan, R - Balas, <br>  r - reply Status, Status <br><br>  P 192.168.3.0/24, 1 penggantinya, FD adalah 1024 <br>  melalui 192.168.13.3 (1024/256), GigabitEthernet0 / 0 <br>  P 192.168.2.0/24, 1 penggantinya, FD adalah 1024 <br>  melalui 192.168.12.2 (1024/256), GigabitEthernet0 / 3 <br>  P 192.168.25.0/24, 1 penerus, FD adalah 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1536/768), GigabitEthernet0 / 0 <br>  P 192.168.35.0/24, 1 penggantinya, FD adalah 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1280/512), GigabitEthernet0 / 0 <br>  P 192.168.12.0/24, 1 penggantinya, FD adalah 768 <br>  melalui Connected, GigabitEthernet0 / 3 <br>  P 192.168.45.0/24, 1 penggantinya, FD adalah 768 <br>  melalui 192.168.14.4 (768/512), GigabitEthernet0 / 2 <br>  P 192.168.0.0/24, 1 penerus, FD adalah 512 <br>  melalui Connected, GigabitEthernet0 / 1 <br>  P 192.168.13.0/24, 1 penggantinya, FD adalah 768 <br>  melalui Connected, GigabitEthernet0 / 0 <br>  P 192.168.14.0/24, 1 penerus, FD adalah 256 <br>  melalui Connected, GigabitEthernet0 / 2 <br>  <b>P 192.168.5.0/24, 1 penggantinya, FD adalah 1024</b> <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  <b>via 192.168.13.3 (1536/768), GigabitEthernet0 / 0</b> </blockquote><br>  Itu tidak memiliki metrik rute terbaik, yaitu, itu bukan Penerus, tetapi memainkan peran rute cadangan dan, jika Penerus hilang, akan segera menggantikannya.  Ini mencapai konvergensi protokol yang sangat cepat, tetapi lebih pada nanti.  Rute ini disebut <b>penerus Layak</b> .  Dan apa yang akan terjadi pada rute ketiga?  Tidak ada, itu tidak memenuhi ketentuan FC (1280&gt; 1024) dan tidak akan diperhitungkan untuk melindunginya dari perulangan.  Semua rute yang diterima melalui Pembaruan tetapi tidak diuji oleh FC dapat dilihat menggunakan perintah show ip eigrp all-link all-links.  Tidak jelas mengapa kondisi FS melindungi terhadap pembentukan loop, sekarang mari kita coba jelaskan.  Penting untuk diketahui bahwa ketika mempelajari protokol EIGRP, penting untuk memahami prinsip kondisi FC dan tujuan penggunaannya.  Pertimbangkan topologi yang sedikit dimodifikasi (menambahkan tautan antara vIOS2 dan vIOS4), dan juga menggunakan metrik paling primitif: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/734/050/472/7340504727cf56fa62300883800f363f.jpg" alt="Gambar saya"><br><br>  Rute ke jaringan 192.168.5.0/24 akan sama dengan AD dan FD: <br><br><ul><li>  vIOS4 - via vIOS5, AD = 5, FD = 10. </li><li>  vIOS1 - via vIOS4, AD = 10, FD = 11. </li><li>  vIOS3 - via vIOS1, AD = 11, FD = 12. </li></ul><br>  Tetapi vIOS4 akan menerima pembaruan dari vIOS2, yang akan berisi rute ke jaringan 192.168.5.0/24 melalui vIOS2 dengan metrik - AD = 12, FD = 15.  Jelas bahwa itu tidak bisa menjadi Penerus, jika tiba-tiba rute ini akan dipilih oleh Penerus yang Layak, maka jika Penerus jatuh ke vIOS4 dan kemudian Penerus memilih rute ini, perulangan akan terjadi.  Tetapi FC tidak akan mengizinkan untuk mengatur rute ini sebagai FS seperti AD = 12&gt; 10 = FD.  Rute ke vIOS2 berisi jalur melalui vIOS4, dan dalam hal apa pun, AD-nya juga mencakup FD vIOS4.  Yaitu, AD pada vIOS2 berisi tautan berikut: <br><blockquote>  12 = AD pada vIOS2 = Gi0 / 3 vIOS3 + Gi0 / 2 vIOS4 + Gi0 / 1 vIOS5 + eth0 VPC5, di mana Gi0 / 1 vIOS5 + eth0 VPC5 = FD = 10 - ini adalah FD vIOS4 dan tidak mungkin untuk AD &lt;FD menjadi kurang. </blockquote><br>  Dengan demikian, kondisi FC memeriksa rute untuk keberadaan dirinya dalam rute ini.  Hanya rute yang memenuhi kondisi ini yang dapat menjamin bahwa tidak ada loop.  Mungkin ada kasus ketika rute tidak membuat loop, tetapi pada saat yang sama tidak memenuhi kondisi FC, kami tidak akan menggunakannya, dalam kasus seperti itu kami memilih stabilitas jaringan.  Jika Anda mempelajari, kondisinya cukup sederhana dan intuitif.  Algoritma yang memilih rute terbaik dalam protokol EIGRP disebut <b>DUAL</b> .  Sekarang pertimbangkan protokol EIGRP untuk pertanyaan konvergensi dalam hilangnya rute utama.  Mari kita kembali ke topologi lama kita dan bayangkan bahwa vIOS4 hilang.  Bergantung pada bagaimana vIOS4 hilang, perilakunya akan sedikit berbeda, tetapi akan berbeda ketika pemicu menyala.  Jika, misalnya, kami menonaktifkan antarmuka Gi 0/2 pada vIOS1, maka vIOS1 segera mendeteksi hilangnya tetangga dan mulai bertindak, jika tetangga menghilang tanpa peringatan, maka Hold Timer akan berfungsi setelah tidak menerima paket Hello selama 15 detik: <br><blockquote>  D 192.168.2.0/24 [90/512] via 192.168.12.2, 06:01:31, GigabitEthernet0 / 3 <br>  D 192.168.3.0/24 [90/1024] via 192.168.13.3, 06:01:28, GigabitEthernet0 / 0 <br>  D 192.168.5.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.25.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.35.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.45.0/24 [90/768] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br><br>  P 192.168.3.0/24, 1 penggantinya, FD adalah 1024 <br>  melalui 192.168.13.3 (1024/256), GigabitEthernet0 / 0 <br>  P 192.168.2.0/24, 1 penggantinya, FD adalah 1024 <br>  melalui 192.168.12.2 (1024/256), GigabitEthernet0 / 3 <br>  P 192.168.25.0/24, 1 penerus, FD adalah 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1536/768), GigabitEthernet0 / 0 <br>  P 192.168.35.0/24, 1 penggantinya, FD adalah 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1280/512), GigabitEthernet0 / 0 <br>  P 192.168.12.0/24, 1 penggantinya, FD adalah 768 <br>  melalui Connected, GigabitEthernet0 / 3 <br>  P 192.168.45.0/24, 1 penggantinya, FD adalah 768 <br>  melalui 192.168.14.4 (768/512), GigabitEthernet0 / 2 <br>  P 192.168.0.0/24, 1 penerus, FD adalah 512 <br>  melalui Connected, GigabitEthernet0 / 1 <br>  P 192.168.13.0/24, 1 penggantinya, FD adalah 768 <br>  melalui Connected, GigabitEthernet0 / 0 <br>  P 192.168.14.0/24, 1 penerus, FD adalah 256 <br>  melalui Connected, GigabitEthernet0 / 2 <br>  P 192.168.5.0/24, 1 penggantinya, FD adalah 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1536/768), GigabitEthernet0 / 0 </blockquote><br>  Saya membawa tabel perutean dan topologi lagi untuk kenyamanan, sehingga untuk memahami bagaimana router akan bertindak pada setiap rute, Anda perlu mengetahui keadaan mereka sebelumnya.  Misalnya, rute yang kita bahas sebelumnya, rute 192.168.5.0/24 akan hilang, tetapi memiliki FS di tabel topologi dan oleh karena itu, segera setelah rute utama hilang, ia akan mengambil tempatnya di tabel routing.  Pertanyaan yang menarik adalah apa yang akan terjadi pada rute tanpa FS.  Tetapi sedikit perangkat keras: <br><br>  Entri dalam tabel topologi dapat di dua negara: aktif dan pasif.  Rute dalam keadaan pasif ketika rute stabil dan pencarian rute terbaik tidak terjadi.  Dalam keadaan aktif - jika Anda mencari rute terbaik.  Pencarian rute dilakukan ketika tidak ada penerus yang layak untuk jaringan tujuan.  Router, dalam mencari rute yang lebih baik, mengirimkan permintaan (mengirim paket kueri) ke setiap router tetangga.  Jika tetangga memiliki rute ke jaringan tujuan, ia menjawab (mengirim paket balasan), jika tidak ada rute, tetangga mengirim permintaan ke tetangganya.  Router membandingkan semua FD untuk mencapai jaringan tertentu, memilih rute dengan FD terkecil, dan menempatkannya di tabel routing.  Tabel topologi dapat menyimpan 6 rute ke jaringan penerima (primer dan cadangan). <br><br>  Rute yang hilang dan tidak memiliki FS akan beralih ke Aktif dan vIOS1 akan mulai bertanya tentang tetangga mereka yang tersisa.  Ini dilakukan menggunakan pesan kueri. vIOS1  Query   vIOS2  vIOS3,        ‚Äî       192.168.14.0/24, 192.168.45.0/24.   vIOS1   ,    vIOS1    .           Delay:Infifnity,     .      ,      vIOS1.    <b>Poison Reverse</b> . Poison Reverse     Update,     .   Query     192.168.14.0/24, 192.168.45.0/24, vIOS2  vIOS3 ,      ,   ,  ,    Reply      . vIOS2  vIOS3       ,    Reply.    ,      ,    Query      . vIOS1   Reply  vIOS2, vIOS3      Active Timer,     Query  : <br><br> <b>Active Timer</b> ‚Äî           active.              (Reply),       stuck-in-active.  ,      ,      .      3 . <br><br>  ,    3     Reply,   Hello-,       .   ,  3      ,      .            ‚Äî SIA-Query  SIA-Reply. <br>       active ,     : <br><br><ul><li> SIA-Query ‚Äî   1,5  ( )        .   ,   ,     (     ),        .     .             down      . </li><li> SIA-Reply ‚Äî     SIA-Query.     . </li></ul><br>  1,5 ,    Reply  - Query,   SIA-Query,      ,     SIA-Reply,  ,    ,      . <br><br>   ,        ,   FS  ,   .      .        FD,                ,     CD ‚Äî Computed Distance. <br><br> FD ‚Äî      ,  -        FC.  , FD=CD  ,      FD     vIOS4: <br><blockquote> P 192.168.5.0/24, 1 successors, FD is <b>1024</b> <br> via 192.168.13.3 ( <b>1536</b> /768), GigabitEthernet0/0 </blockquote><br>       CD=1024,     vIOS3  CD=1536,    FD=1024,        vIOS4. FD     ,       Active.      Passive  Active,   FD  .      .   .    :    vIOS4, CD  vIOS3= 1536,   vIOS2 = 2048.  delay   vIOS1  vIOS3 ,     CD vIOS2: <br><blockquote> P 192.168.5.0/24, 1 successors, FD is 1024 <br> via 192.168.14.4 (1024/768), GigabitEthernet0/2 <br> via 192.168.13.3 ( <b>2304</b> /768), GigabitEthernet0/0 </blockquote><br>   CD  vIOS3=2304,    FS ,  AD     FC ,   .  :       vIOS2?    ,    ‚Äî    FS,  !       vIOS2  CD = 2048 &lt; 2304,      Active             ,      .     : <br><blockquote> P 192.168.5.0/24, 1 successors, <b>FD is 2048</b> <br> via 192.168.12.2 (2048/1280), GigabitEthernet0/3 <br> via 192.168.13.3 (2304/768), GigabitEthernet0/0 <br></blockquote><br>     vIOS2    FD   -     Active.    vIOS3    . <br><br><h4>  Split Horizon  Poison Reverse  EIGRP </h4><br>    RIP,  EIGRP   Split Horizon ‚Äî      ,   ,         . <br><br> , vIOS4     192.168.0.0/24  vIOS1,      Update  ,    vIOS1.    ,  ,  vIOS1     192.168.0.0/24.  Update  vIOS4, vIOS4      Split Horizon     Update     vIOS1,          .   vIOS4  vIOS1- ¬´      192.168.0.0/24  ,          ,   ¬ª. <br><br> Poison Reverse ‚Äî         .  EIGRP      Delay.   ,    ,  vIOS1   c vIOS4.     Split Horizon   ,   Poison Reverse    Query ,    Update.  Poison Reverse    Split Horizon   Update     ,     .       FC   EIGRP   . <br><br><h4> Stub  </h4><br>    ,        ‚Äî Stub. -  Stub   OSPF,      .      stub,     Hello-     stub  ,     stub,     : <br><blockquote> vIOS5#eigrp stub [connected | leak-map | receive-only | redistributed | static | summary] </blockquote><br>   eigrp stub: <br><br><ul><li>   ( ) ‚Äî connected  summary; </li><li> connected ‚Äî  stub   connected ,    ,     ,   network; </li><li> leak-map ‚Äî Allow dynamic prefixes based on the leak-map; </li><li> receive-only ‚Äî  stub   - ; </li><li> redistributed ‚Äî  stub   redistributed ; </li><li> static ‚Äî  stub   static ,  ,      ; </li><li> summary ‚Äî  stub     (   ). </li></ul><br>       , ,   ,      Stub,      Query  ,   Active. ,   vIOS5  Stub,  vIOS2-4           Query.        Reply,     Query  ,   .     ,      . ,   ,           (      ),     ,      Stub. <br><br><h4>     </h4><br>     ,     show ip eigrp neighbors,   : <br><blockquote> vIOS1#show ip eigrp neighbors <br> EIGRP-IPv4 Neighbors for AS(1) <br> H Address Interface Hold Uptime SRTT RTO Q Seq <br> (sec) (ms) Cnt Num <br> 2 192.168.14.4 Gi0/2 11 00:48:43 23 138 0 168 <br> 0 192.168.12.2 Gi0/3 12 02:31:12 6 100 0 258 <br> 1 192.168.13.3 Gi0/0 10 2d13h 7 100 0 291 <br> vIOS1# </blockquote><br>   ,   .       multicast-,     ,     (ACK),    unicast  ,   .        ,   16 unicast ,    . <br><br><ul><li> <b>Smooth round-trip time (SRTT)</b> ‚Äî          .   .   . </li><li> <b>Multicast Flow Timer</b> ‚Äî     ,       ACK    EIGRP-  multicast ,     unicast .    SRTT,    . </li><li> <b>Retransmission timeout (RTO) ‚Äî</b>    unicast-.    SRTT,    . </li></ul><br>     .   : <br><br><ul><li> cisconinja.wordpress.com/2009/09/18/eigrp-sia-query-and-sia-reply </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">xgu.ru/wiki/EIGRP</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.youtube.com/watch?v=FYUK7blhCZk</a> ‚Äî   EIGRP  4   .   ) </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.cisco.com/c/en/us/support/docs/ip/enhanced-interior-gateway-routing-protocol-eigrp/16406-eigrp-toc.html#anc9</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id420667/">https://habr.com/ru/post/id420667/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id420657/index.html">Analisis: pada siapa uang Elon Musk akan dapat menarik Tesla dari bursa</a></li>
<li><a href="../id420659/index.html">Kampanye USB dari HRF (Yayasan Hak Asasi Manusia) ‚ÄúFlash Drives for Freedom‚Äù</a></li>
<li><a href="../id420661/index.html">Infrastruktur cloud berkelanjutan</a></li>
<li><a href="../id420663/index.html">Metrik sederhana dan cara menghemat waktu saat mencari masalah di infrastruktur</a></li>
<li><a href="../id420665/index.html">Membangun Aplikasi di .NET Core dan Kubernetes: Pengalaman Kami</a></li>
<li><a href="../id420669/index.html">Tinjauan Pasar Otomasi Perusahaan: Solusi untuk Konstruksi dan Manajemen Perusahaan Perumahan dan Utilitas</a></li>
<li><a href="../id420671/index.html">[Ekaterinburg, pengumuman] UralJS # 9 - tiga laporan tentang layanan mikro, pengujian, dan pencatatan kesalahan di bagian depan</a></li>
<li><a href="../id420673/index.html">Docker untuk Symfony 4 - dari LAN hingga produksi</a></li>
<li><a href="../id420675/index.html">SOC adalah manusia. "Halo, kami mencari bakat" atau dari mana para analis dari pusat pemantauan dan respons serangan cyber berasal</a></li>
<li><a href="../id420677/index.html">Kisah bagaimana Epson memberi 30 juta "pabrik" bagi planet ini</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>