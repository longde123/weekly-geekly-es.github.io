<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸŠ ğŸ¤´ğŸ¼ â›±ï¸ C ++ä¸­çš„ç»§æ‰¿ï¼šåˆå­¦è€…ï¼Œä¸­çº§ï¼Œé«˜çº§ ğŸ‘‚ğŸ¾ ğŸ¾ ğŸ†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ¬æ–‡ä»ä¸‰ä¸ªçº§åˆ«æè¿°ç»§æ‰¿ï¼šåˆå­¦è€…ï¼Œä¸­çº§å’Œé«˜çº§ã€‚ ä¸“å®¶å· è€Œä¸”æ²¡æœ‰å…³äºSOLIDçš„ä¸€å¥è¯ã€‚ è€å®è¯´ 
 åˆå­¦è€… 
 ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Ÿ 


 ç»§æ‰¿æ˜¯OOPçš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚ æ ¹æ®å®ƒï¼Œä¸€ä¸ªç±»å¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªç±»çš„å˜é‡å’Œæ–¹æ³•ä½œä¸ºè‡ªå·±çš„ç±»ã€‚ 


 ç»§æ‰¿æ•°æ®çš„ç±»ç§°ä¸ºå­ç±»ï¼Œæ´¾ç”Ÿç±»æˆ–å­ç±»ã€‚ ç»§æ‰¿æ•°æ®æˆ–æ–¹æ³•çš„ç±»ç§°ä¸ºè¶…ç±»ï¼ŒåŸºç±»...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C ++ä¸­çš„ç»§æ‰¿ï¼šåˆå­¦è€…ï¼Œä¸­çº§ï¼Œé«˜çº§</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445948/"><p> æœ¬æ–‡ä»ä¸‰ä¸ªçº§åˆ«æè¿°ç»§æ‰¿ï¼šåˆå­¦è€…ï¼Œä¸­çº§å’Œé«˜çº§ã€‚ ä¸“å®¶å· è€Œä¸”æ²¡æœ‰å…³äºSOLIDçš„ä¸€å¥è¯ã€‚ è€å®è¯´ </p><br><h1 id="beginner"> åˆå­¦è€… </h1><br><h3 id="chto-takoe-nasledovanie"> ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Ÿ </h3><br><p> ç»§æ‰¿æ˜¯OOPçš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚ æ ¹æ®å®ƒï¼Œä¸€ä¸ªç±»å¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªç±»çš„å˜é‡å’Œæ–¹æ³•ä½œä¸ºè‡ªå·±çš„ç±»ã€‚ </p><br><p> ç»§æ‰¿æ•°æ®çš„ç±»ç§°ä¸ºå­ç±»ï¼Œæ´¾ç”Ÿç±»æˆ–å­ç±»ã€‚ ç»§æ‰¿æ•°æ®æˆ–æ–¹æ³•çš„ç±»ç§°ä¸ºè¶…ç±»ï¼ŒåŸºç±»æˆ–çˆ¶ç±»ã€‚ æœ¯è¯­â€œçˆ¶æ¯â€å’Œâ€œå­©å­â€å¯¹äºç†è§£ç»§æ‰¿éå¸¸æœ‰ç”¨ã€‚ å½“å­©å­æ¥å—å…¶çˆ¶æ¯çš„ç‰¹å¾æ—¶ï¼Œæ´¾ç”Ÿç±»å°†æ¥å—åŸºç±»çš„æ–¹æ³•å’Œå˜é‡ã€‚ </p><br><p> ç»§æ‰¿éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸æ‚¨æ„é€ å’Œé‡ç”¨ä»£ç ï¼Œè€Œä»£ç åˆå¯ä»¥é‡ç”¨ <a name="habracut"></a> å¯ä»¥å¤§å¤§åŠ å¿«å¼€å‘è¿‡ç¨‹ã€‚ å°½ç®¡å¦‚æ­¤ï¼Œç»§æ‰¿ä»åº”è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºè¶…ç±»çš„å¤§å¤šæ•°æ›´æ”¹éƒ½ä¼šå½±å“æ‰€æœ‰å­ç±»ï¼Œè¿™å¯èƒ½å¯¼è‡´æ— æ³•é¢„æ–™çš„åæœã€‚ </p><br><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæœªåœ¨<code>Computer</code>å­ç±»ä¸­å£°æ˜æˆ–å®šä¹‰<code>turn_on()</code>æ–¹æ³•å’Œ<code>serial_number</code>å˜é‡ã€‚ ä½†æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨å®ƒä»¬ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä»åŸºç±»ç»§æ‰¿çš„ã€‚ </p><br><p>  <em>é‡è¦è¯´æ˜</em> ï¼šç§æœ‰å˜é‡å’Œæ–¹æ³•ä¸èƒ½è¢«ç»§æ‰¿ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Device { public: int serial_number = 12345678; void turn_on() { cout &lt;&lt; "Device is on" &lt;&lt; endl; } private: int pincode = 87654321; }; class Computer: public Device {}; int main() { Computer Computer_instance; Computer_instance.turn_on(); cout &lt;&lt; "Serial number is: " &lt;&lt; Computer_instance.serial_number &lt;&lt; endl; // cout &lt;&lt; "Pin code is: " &lt;&lt; Computer_instance.pincode &lt;&lt; endl; // will cause compile time error return 0; }</span></span></span></span></code> </pre> <br><h3 id="tipy-nasledovaniya"> ç»§æ‰¿ç±»å‹ </h3><br><p>  C ++ä¸­æœ‰å‡ ç§ç»§æ‰¿ç±»å‹ï¼š </p><br><ul><li> å…¬å…±-å…¬å…±ï¼ˆ <code>public</code> ï¼‰å’Œå—ä¿æŠ¤ï¼ˆ <code>protected</code> ï¼‰æ•°æ®æ˜¯åœ¨ä¸æ›´æ”¹å¯¹å…¶è®¿é—®çº§åˆ«çš„æƒ…å†µä¸‹ç»§æ‰¿çš„ï¼› </li><li>  protectedï¼ˆ <code>protected</code> ï¼‰-æ‰€æœ‰ç»§æ‰¿çš„æ•°æ®éƒ½å—åˆ°ä¿æŠ¤ï¼› </li><li> ç§æœ‰-æ‰€æœ‰ç»§æ‰¿çš„æ•°æ®éƒ½å˜ä¸ºç§æœ‰ã€‚ </li></ul><br><p> å¯¹äº<code>Device</code>åŸºç±»ï¼Œæ•°æ®è®¿é—®çº§åˆ«ä¸ä¼šæ”¹å˜ï¼Œä½†æ˜¯ç”±äº<code>Computer</code>æ´¾ç”Ÿç±»å°†æ•°æ®ç»§æ‰¿ä¸ºç§æœ‰æ•°æ®ï¼Œå› æ­¤è¯¥æ•°æ®å¯¹äº<code>Computer</code>ç±»è€Œè¨€å˜ä¸ºç§æœ‰ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Device { public: int serial_number = 12345678; void turn_on() { cout &lt;&lt; "Device is on" &lt;&lt; endl; } }; class Computer: private Device { public: void say_hello() { turn_on(); cout &lt;&lt; "Welcome to Windows 95!" &lt;&lt; endl; } }; int main() { Device Device_instance; Computer Computer_instance; cout &lt;&lt; "\t Device" &lt;&lt; endl; cout &lt;&lt; "Serial number is: "&lt;&lt; Device_instance.serial_number &lt;&lt; endl; Device_instance.turn_on(); // cout &lt;&lt; "Serial number is: " &lt;&lt; Computer_instance.serial_number &lt;&lt; endl; // Computer_instance.turn_on(); // will cause compile time error cout &lt;&lt; "\t Computer" &lt;&lt; endl; Computer_instance.say_hello(); return 0; }</span></span></span></span></code> </pre> <br><p> ç°åœ¨ï¼Œ <code>Computer</code>ç±»ä¸ä»»ä½•ç§æœ‰æ–¹æ³•ä¸€æ ·ï¼Œä½¿ç”¨<code>turn_on()</code>æ–¹æ³•ï¼šå¯ä»¥ä»è¯¥ç±»å†…éƒ¨è°ƒç”¨<code>turn_on()</code> ï¼Œä½†æ˜¯å°è¯•ç›´æ¥ä»<code>main</code>è°ƒç”¨å®ƒä¼šåœ¨ç¼–è¯‘æ—¶å¯¼è‡´é”™è¯¯ã€‚ å¯¹äºåŸºç±»<code>Device</code> ï¼Œ <code>turn_on()</code>æ–¹æ³•ä¿æŒå…¬å…±çŠ¶æ€ï¼Œå¯ä»¥ä»<code>main</code>è°ƒç”¨ã€‚ </p><br><h3 id="konstruktory-i-destruktory"> æ„é€ å‡½æ•°å’Œææ„å‡½æ•° </h3><br><p> åœ¨C ++ä¸­ï¼Œä¸ç»§æ‰¿æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚ ä½†æ˜¯ï¼Œå½“å­ç±»åˆå§‹åŒ–å…¶å¯¹è±¡æ—¶å°†è°ƒç”¨å®ƒä»¬ã€‚ ä»åŸºç±»å¼€å§‹åˆ°æœ€åä¸€ä¸ªæ´¾ç”Ÿç±»ç»“æŸï¼Œæ„é€ å‡½æ•°è¢«é€å±‚è°ƒç”¨ã€‚ ææ„å‡½æ•°çš„è°ƒç”¨é¡ºåºç›¸åã€‚ </p><br><p>  <em>é‡è¦è¯´æ˜ï¼š</em>æœ¬æ–‡ä¸ä»‹ç»è™šæ‹Ÿææ„å‡½æ•°ã€‚ å¯ä»¥åœ¨ä¾‹å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Habrçš„æœ¬æ–‡ä¸­</a>æ‰¾åˆ°æœ‰å…³æ­¤ä¸»é¢˜çš„å…¶ä»–ææ–™ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Device { public: // constructor Device() { cout &lt;&lt; "Device constructor called" &lt;&lt; endl; } // destructor ~Device() { cout &lt;&lt; "Device destructor called" &lt;&lt; endl; } }; class Computer: public Device { public: Computer() { cout &lt;&lt; "Computer constructor called" &lt;&lt; endl; } ~Computer() { cout &lt;&lt; "Computer destructor called" &lt;&lt; endl; } }; class Laptop: public Computer { public: Laptop() { cout &lt;&lt; "Laptop constructor called" &lt;&lt; endl; } ~Laptop() { cout &lt;&lt; "Laptop destructor called" &lt;&lt; endl; } }; int main() { cout &lt;&lt; "\tConstructors" &lt;&lt; endl; Laptop Laptop_instance; cout &lt;&lt; "\tDestructors" &lt;&lt; endl; return 0; }</span></span></span></span></code> </pre> <br><p> æ„é€ å‡½æ•°ï¼š <code>Device</code> -&gt; <code>Computer</code> -&gt; <code>Laptop</code> ã€‚ <br> ææ„å‡½æ•°ï¼š <code>Laptop</code> -&gt; <code>Computer</code> -&gt; <code>Device</code> ã€‚ </p><br><h3 id="mnozhestvennoe-nasledovanie"> å¤šé‡ç»§æ‰¿ </h3><br><p> å½“å­ç±»å…·æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªè¶…ç±»æ—¶ï¼Œä¼šå‘ç”Ÿå¤šé‡ç»§æ‰¿ã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ <code>Laptop</code>ç±»åŒæ—¶ç»§æ‰¿<code>Monitor</code>å’Œ<code>Computer</code> ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Computer { public: void turn_on() { cout &lt;&lt; "Welcome to Windows 95" &lt;&lt; endl; } }; class Monitor { public: void show_image() { cout &lt;&lt; "Imagine image here" &lt;&lt; endl; } }; class Laptop: public Computer, public Monitor {}; int main() { Laptop Laptop_instance; Laptop_instance.turn_on(); Laptop_instance.show_image(); return 0; }</span></span></span></span></code> </pre> <br><h3 id="problematika-mnozhestvennogo-nasledovaniya"> å¤šé‡ç»§æ‰¿é—®é¢˜ </h3><br><p> å¤šé‡ç»§æ‰¿éœ€è¦ä»”ç»†çš„è®¾è®¡ï¼Œå› ä¸ºå®ƒå¯èƒ½å¯¼è‡´æ— æ³•é¢„æ–™çš„åæœã€‚ è¿™äº›åæœå¤§å¤šæ•°æ˜¯ç”±ç»§æ‰¿ä¸­çš„æ¨¡æ£±ä¸¤å¯å¼•èµ·çš„ã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ <code>Laptop</code>ä»ä¸¤ä¸ªçˆ¶çº§ç»§æ‰¿äº†<code>turn_on()</code>æ–¹æ³•ï¼Œå°šä¸æ¸…æ¥šåº”è°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Computer { private: void turn_on() { cout &lt;&lt; "Computer is on." &lt;&lt; endl; } }; class Monitor { public: void turn_on() { cout &lt;&lt; "Monitor is on." &lt;&lt; endl; } }; class Laptop: public Computer, public Monitor {}; int main() { Laptop Laptop_instance; // Laptop_instance.turn_on(); // will cause compile time error return 0; }</span></span></span></span></code> </pre> <br><p> å°½ç®¡ä¸ç»§æ‰¿ç§æœ‰æ•°æ®ï¼Œä½†é€šè¿‡å°†å¯¹æ•°æ®çš„è®¿é—®çº§åˆ«æ›´æ”¹ä¸ºç§æœ‰æ¥è§£å†³æ­§ä¹‰ç»§æ‰¿æ˜¯ä¸å¯èƒ½çš„ã€‚ ç¼–è¯‘æ—¶ï¼Œé¦–å…ˆæœç´¢æ–¹æ³•æˆ–å˜é‡ï¼Œç„¶åæœç´¢æ–¹æ³•æˆ–å˜é‡çš„è®¿é—®çº§åˆ«ã€‚ </p><br><h1 id="intermediate"> ä¸­çº§ </h1><br><h3 id="problema-romba"> è±å½¢é—®é¢˜ </h3><br><img align="left" src="https://habrastorage.org/webt/qn/ae/po/qnaepojwdop6urntrubztgdd7x4.png"><br><p> åœ¨æ”¯æŒå¤šé‡ç»§æ‰¿çš„è¯­è¨€ä¸­ï¼Œé’»çŸ³é—®é¢˜æ˜¯ç»å…¸é—®é¢˜ã€‚ å½“ç±»<code>B</code>å’Œ<code>C</code>ç»§æ‰¿<code>A</code> ï¼Œè€Œç±»<code>D</code>ç»§æ‰¿<code>B</code>å’Œ<code>C</code>æ—¶ï¼Œä¼šå‘ç”Ÿæ­¤é—®é¢˜<code>C</code> </p><br><p> ä¾‹å¦‚ï¼Œç±»<code>A</code> ï¼Œ <code>B</code>å’Œ<code>C</code>å®šä¹‰äº†<code>print_letter()</code>æ–¹æ³•ã€‚ å¦‚æœç±»<code>D</code>å°†è°ƒç”¨<code>print_letter()</code> ï¼Œåˆ™ä¸æ¸…æ¥šåº”è°ƒç”¨å“ªç§æ–¹æ³•-ç±»<code>A</code> ï¼Œ <code>B</code>æˆ–<code>C</code> ä¸åŒçš„è¯­è¨€å…·æœ‰è§£å†³è±å½¢é—®é¢˜çš„ä¸åŒæ–¹æ³•ã€‚ åœ¨C ++ä¸­ï¼Œé—®é¢˜çš„è§£å†³æ–¹æ¡ˆç”±ç¨‹åºå‘˜è‡ªè¡Œå†³å®šã€‚ <br><br clear="all"> è±å½¢é—®é¢˜ä¸»è¦æ˜¯è®¾è®¡é—®é¢˜ï¼Œåº”åœ¨è®¾è®¡é˜¶æ®µæå‡ºã€‚ åœ¨å¼€å‘é˜¶æ®µï¼Œå¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š </p><br><ul><li> è°ƒç”¨ç‰¹å®šè¶…ç±»çš„æ–¹æ³•ï¼› </li><li> å°†å­ç±»çš„å¯¹è±¡ç§°ä¸ºç‰¹å®šè¶…ç±»çš„å¯¹è±¡ï¼› </li><li> è¦†ç›–æœ€åä¸€ä¸ªå­ç±»ä¸­æœ‰é—®é¢˜çš„æ–¹æ³•ï¼ˆåœ¨ä»£ç ä¸­ï¼Œ <code>Laptop</code>å­ç±»ä¸­çš„<code>turn_on()</code> ï¼‰ã€‚ </li></ul><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Device { public: void turn_on() { cout &lt;&lt; "Device is on." &lt;&lt; endl; } }; class Computer: public Device {}; class Monitor: public Device {}; class Laptop: public Computer, public Monitor { /* public: void turn_on() { cout &lt;&lt; "Laptop is on." &lt;&lt; endl; } // uncommenting this function will resolve diamond problem */ }; int main() { Laptop Laptop_instance; // Laptop_instance.turn_on(); // will produce compile time error // if Laptop.turn_on function is commented out // calling method of specific superclass Laptop_instance.Monitor::turn_on(); // treating Laptop instance as Monitor instance via static cast static_cast&lt;Monitor&amp;&gt;( Laptop_instance ).turn_on(); return 0; }</span></span></span></span></code> </pre> <br><p> å¦‚æœåœ¨Laptopä¸­æ²¡æœ‰è¦†ç›–<code>turn_on()</code>æ–¹æ³•ï¼Œåˆ™è°ƒç”¨<code>Laptop_instance.turn_on()</code>å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚  <code>Laptop</code>å¯¹è±¡å¯ä»¥åŒæ—¶è®¿é—®ä¸¤ä¸ª<code>turn_on()</code>æ–¹æ³•<code>turn_on()</code> ï¼š <code>Device:Computer:Laptop.turn_on()</code>å’Œ<code>Device:Monitor:Laptop.turn_on()</code> ã€‚ </p><br><h3 id="problema-romba-konstruktory-i-destruktory"> é’»çŸ³é—®é¢˜ï¼šæ„é€ å‡½æ•°å’Œææ„å‡½æ•° </h3><br><p> ç”±äºåœ¨C ++ä¸­ï¼Œå½“å­ç±»çš„å¯¹è±¡è¢«åˆå§‹åŒ–æ—¶ï¼Œæ‰€æœ‰çˆ¶ç±»çš„æ„é€ å‡½æ•°éƒ½è¢«è°ƒç”¨ï¼Œå› æ­¤å‡ºç°å¦ä¸€ä¸ªé—®é¢˜ï¼šåŸºç±»<code>Device</code>çš„æ„é€ å‡½æ•°å°†è¢«è°ƒç”¨ä¸¤æ¬¡ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Device { public: Device() { cout &lt;&lt; "Device constructor called" &lt;&lt; endl; } }; class Computer: public Device { public: Computer() { cout &lt;&lt; "Computer constructor called" &lt;&lt; endl; } }; class Monitor: public Device { public: Monitor() { cout &lt;&lt; "Monitor constructor called" &lt;&lt; endl; } }; class Laptop: public Computer, public Monitor {}; int main() { Laptop Laptop_instance; return 0; }</span></span></span></span></code> </pre> <br><h3 id="virtualnoe-nasledovanie"> è™šæ‹Ÿç»§æ‰¿ </h3><br><p> è™šæ‹Ÿç»§æ‰¿å¯é˜²æ­¢å¤šä¸ªåŸºç±»å¯¹è±¡å‡ºç°åœ¨ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­ã€‚ å› æ­¤ï¼ŒåŸºç±»<code>Device</code>çš„æ„é€ å‡½æ•°å°†ä»…è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå¹¶ä¸”è°ƒç”¨<code>turn_on()</code>æ–¹æ³•è€Œä¸åœ¨å­ç±»ä¸­å¯¹å…¶è¿›è¡Œé‡å†™ä¸ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Device { public: Device() { cout &lt;&lt; "Device constructor called" &lt;&lt; endl; } void turn_on() { cout &lt;&lt; "Device is on." &lt;&lt; endl; } }; class Computer: virtual public Device { public: Computer() { cout &lt;&lt; "Computer constructor called" &lt;&lt; endl; } }; class Monitor: virtual public Device { public: Monitor() { cout &lt;&lt; "Monitor constructor called" &lt;&lt; endl; } }; class Laptop: public Computer, public Monitor {}; int main() { Laptop Laptop_instance; Laptop_instance.turn_on(); return 0; }</span></span></span></span></code> </pre> <br><p>  <em>æ³¨æ„</em> ï¼šå¦‚æœå­ç±»<code>Laptop</code>ä¸çœŸæ­£ç»§æ‰¿<code>Device</code>ç±»ï¼ˆ <code>class Laptop: public Computer, public Monitor, public Device {};</code> ï¼‰ï¼Œåˆ™<code>Computer</code>å’Œ<code>Monitor</code>ç±»ä¸­çš„è™šæ‹Ÿç»§æ‰¿å°†ä¸å…è®¸è±å½¢ç»§æ‰¿ã€‚ </p><br><h3 id="abstraktnyy-klass"> æŠ½è±¡ç±» </h3><br><p> åœ¨C ++ä¸­ï¼Œè‡³å°‘å­˜åœ¨ä¸€ä¸ªçº¯è™šæ–¹æ³•çš„ç±»è¢«è§†ä¸ºæŠ½è±¡ç±»ã€‚ å¦‚æœåœ¨å­ç±»ä¸­æœªè¦†ç›–è™šæ‹Ÿæ–¹æ³•ï¼Œåˆ™ä»£ç å°†æ— æ³•ç¼–è¯‘ã€‚ åŒæ ·ï¼Œåœ¨C ++ä¸­ï¼Œä¸å¯èƒ½åˆ›å»ºæŠ½è±¡ç±»çš„å¯¹è±¡-å°è¯•ä¹Ÿä¼šåœ¨ç¼–è¯‘æœŸé—´å¯¼è‡´é”™è¯¯ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Device { public: void turn_on() { cout &lt;&lt; "Device is on." &lt;&lt; endl; } virtual void say_hello() = 0; }; class Laptop: public Device { public: void say_hello() { cout &lt;&lt; "Hello world!" &lt;&lt; endl; } }; int main() { Laptop Laptop_instance; Laptop_instance.turn_on(); Laptop_instance.say_hello(); // Device Device_instance; // will cause compile time error return 0; }</span></span></span></span></code> </pre> <br><h3 id="interfeys"> ä»‹é¢ </h3><br><p> ä¸æŸäº›OOPè¯­è¨€ä¸åŒï¼ŒC ++ä¸æä¾›å•ç‹¬çš„å…³é”®å­—æ¥è¡¨ç¤ºæ¥å£ã€‚ ä½†æ˜¯ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªçº¯æŠ½è±¡ç±»ï¼ˆä»…åŒ…å«æ–¹æ³•å£°æ˜çš„ç±»ï¼‰æ¥å®ç°æ¥å£ã€‚ æ­¤ç±»é€šå¸¸ä¹Ÿç§°ä¸ºæŠ½è±¡åŸºç±»ï¼ˆABCï¼‰ã€‚ </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; class Device { public: virtual void turn_on() = 0; }; class Laptop: public Device { public: void turn_on() { cout &lt;&lt; "Device is on." &lt;&lt; endl; } }; int main() { Laptop Laptop_instance; Laptop_instance.turn_on(); // Device Device_instance; // will cause compile time error return 0; }</span></span></span></span></code> </pre> <br><h1 id="advanced"> è¿›é˜¶ </h1><br><p> å°½ç®¡ç»§æ‰¿æ˜¯OOPçš„åŸºæœ¬åŸåˆ™ï¼Œä½†åº”è°¨æ…ä½¿ç”¨ã€‚ åŠ¡å¿…è¦è€ƒè™‘çš„æ˜¯ï¼Œå°†è¦ä½¿ç”¨çš„ä»»ä½•ä»£ç éƒ½å¯èƒ½ä¼šæ›´æ”¹ï¼Œå¹¶ä¸”å¯ä»¥ä»¥å¯¹å¼€å‘äººå‘˜ä¸æ˜æ˜¾çš„æ–¹å¼ä½¿ç”¨ã€‚ </p><br><h3 id="nasledovanie-ot-realizovannogo-ili-chastichno-realizovannogo-klassa"> ä»å·²å®ç°æˆ–éƒ¨åˆ†å®ç°çš„ç±»ç»§æ‰¿ </h3><br><p> å¦‚æœç»§æ‰¿ä¸æ˜¯æ¥è‡ªæ¥å£ï¼ˆåœ¨C ++ä¸Šä¸‹æ–‡ä¸­ä¸ºçº¯æŠ½è±¡ç±»ï¼‰ï¼Œè€Œæ˜¯æ¥è‡ªå­˜åœ¨ä»»ä½•å®ç°çš„ç±»ï¼Œåˆ™åº”è€ƒè™‘å°†ç»§æ‰¿äººé€šè¿‡æœ€å¯èƒ½çš„è¿æ¥æ–¹å¼è¿æ¥åˆ°çˆ¶ç±»ã€‚ å¯¹çˆ¶ç±»çš„å¤§å¤šæ•°æ›´æ”¹éƒ½å¯èƒ½å½±å“ç»§æ‰¿äººï¼Œä»è€Œå¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºã€‚ ç»§æ‰¿äººè¡Œä¸ºçš„è¿™ç§å˜åŒ–å¹¶ä¸æ€»æ˜¯å¾ˆæ˜æ˜¾-åœ¨å·²ç»æµ‹è¯•è¿‡ä¸”æœ‰æ•ˆçš„ä»£ç ä¸­å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ã€‚ å¤æ‚çš„ç±»å±‚æ¬¡ç»“æ„çš„å­˜åœ¨åŠ å‰§äº†è¿™ç§æƒ…å†µã€‚ æ°¸è¿œå€¼å¾—è®°ä½çš„æ˜¯ï¼Œä¸ä»…å¯ä»¥ç”±ç¼–å†™ä»£ç çš„äººæ¥æ›´æ”¹ä»£ç ï¼Œè€Œä¸”å¯¹äºä»–çš„åŒäº‹è€Œè¨€ï¼Œå¯èƒ½ä¸è€ƒè™‘å¯¹ä½œè€…è€Œè¨€æ˜¾è€Œæ˜“è§çš„ç»§æ‰¿è·¯å¾„ã€‚ </p><br><p> ç›¸æ¯”ä¹‹ä¸‹ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä»éƒ¨åˆ†å®ç°çš„ç±»ç»§æ‰¿å…·æœ‰ä¸å¯å¦è®¤çš„ä¼˜åŠ¿ã€‚ åº“å’Œæ¡†æ¶é€šå¸¸æŒ‰ä»¥ä¸‹æ–¹å¼å·¥ä½œï¼šå®ƒä»¬ä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå…¶ä¸­åŒ…å«å‡ ç§è™šæ‹Ÿæ–¹æ³•å’Œè®¸å¤šå·²å®ç°çš„æ–¹æ³•ã€‚ å› æ­¤ï¼Œå·²ç»å®Œæˆäº†æœ€å¤§çš„å·¥ä½œé‡-å·²ç»ç¼–å†™äº†å¤æ‚çš„é€»è¾‘ï¼Œå¹¶ä¸”ç”¨æˆ·åªèƒ½æ ¹æ®è‡ªå·±çš„éœ€æ±‚å®šåˆ¶ç°æˆçš„è§£å†³æ–¹æ¡ˆã€‚ </p><br><h3 id="interfeys-1"> ä»‹é¢ </h3><br><p> æ¥å£ï¼ˆçº¯æŠ½è±¡ç±»ï¼‰çš„ç»§æ‰¿å°†ç»§æ‰¿ä½œä¸ºæ„é€ ä»£ç å’Œä¿æŠ¤ç”¨æˆ·çš„æœºä¼šã€‚ ç”±äºè¯¥æ¥å£æè¿°äº†å®ç°ç±»å°†æ‰§è¡Œçš„å·¥ä½œï¼Œä½†æ²¡æœ‰æè¿°å®ç°ç±»ï¼Œå› æ­¤è¯¥æ¥å£çš„ä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥å…å—å®ç°æ­¤æ¥å£çš„ç±»çš„æ›´æ”¹çš„å½±å“ã€‚ </p><br><h3 id="interfeys-primer-ispolzovaniya"> ç•Œé¢ï¼šç”¨æ³•ç¤ºä¾‹ </h3><br><p> é¦–å…ˆï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥ç¤ºä¾‹ä¸å¤šæ€æ€§æ¦‚å¿µå¯†åˆ‡ç›¸å…³ï¼Œä½†æ˜¯å°†åœ¨ä»çº¯æŠ½è±¡ç±»ç»§æ‰¿çš„ä¸Šä¸‹æ–‡ä¸­è€ƒè™‘è¯¥ç¤ºä¾‹ã€‚ </p><br><p> å¿…é¡»ä»å•ç‹¬çš„é…ç½®æ–‡ä»¶é…ç½®è¿è¡ŒæŠ½è±¡ä¸šåŠ¡é€»è¾‘çš„åº”ç”¨ç¨‹åºã€‚ åœ¨å¼€å‘çš„æ—©æœŸé˜¶æ®µï¼Œè¯¥é…ç½®æ–‡ä»¶çš„æ ¼å¼å°šæœªå®Œå…¨å½¢æˆã€‚ åœ¨æ¥å£åé¢ä¼ é€’æ–‡ä»¶è§£æå…·æœ‰å¤šä¸ªä¼˜ç‚¹ã€‚ </p><br><p> å…³äºé…ç½®æ–‡ä»¶çš„æ ¼å¼ç¼ºä¹æ¸…æ™°æ€§å¹¶ä¸ä¼šå‡æ…¢ä¸»ç¨‹åºçš„å¼€å‘è¿‡ç¨‹ã€‚ ä¸¤åå¼€å‘äººå‘˜å¯ä»¥å¹¶è¡Œå·¥ä½œ-ä¸€åè´Ÿè´£ä¸šåŠ¡é€»è¾‘ï¼Œå¦ä¸€åè´Ÿè´£è§£æå™¨ã€‚ ç”±äºä»–ä»¬é€šè¿‡æ­¤ç•Œé¢è¿›è¡Œäº¤äº’ï¼Œå› æ­¤æ¯ä¸ªäººéƒ½å¯ä»¥ç‹¬ç«‹å·¥ä½œã€‚ è¿™ç§æ–¹æ³•ä½¿ä½¿ç”¨ä»£ç å¯¹å•å…ƒæµ‹è¯•è¿›è¡Œç¼–ç å˜å¾—æ›´åŠ å®¹æ˜“ï¼Œå› ä¸ºå¯ä»¥ä½¿ç”¨æ¨¡æ‹Ÿä¸ºè¯¥æ¥å£ç¼–å†™å¿…è¦çš„æµ‹è¯•ã€‚ </p><br><p> åŒæ ·ï¼Œå½“æ›´æ”¹é…ç½®æ–‡ä»¶æ ¼å¼æ—¶ï¼Œåº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘ä¸å—å½±å“ã€‚ å”¯ä¸€éœ€è¦ä»ä¸€ç§æ ¼å¼å®Œå…¨è¿‡æ¸¡åˆ°å¦ä¸€ç§æ ¼å¼çš„äº‹æƒ…æ˜¯ç¼–å†™ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æŠ½è±¡ç±»ï¼ˆè§£æå™¨ç±»ï¼‰çš„æ–°å®ç°ã€‚ æ­¤å¤–ï¼Œè¿”å›åŸå§‹æ–‡ä»¶æ ¼å¼æ‰€éœ€çš„å·¥ä½œæœ€å°‘ï¼Œåªéœ€å°†ä¸€ä¸ªç°æœ‰çš„è§£æå™¨æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå³å¯ã€‚ </p><br><h1 id="zaklyuchenie"> ç»“è®º </h1><br><p> ç»§æ‰¿æœ‰å¾ˆå¤šå¥½å¤„ï¼Œä½†æ˜¯å¿…é¡»è°¨æ…è®¾è®¡ä»¥é¿å…äº§ç”Ÿæœºä¼šçš„é—®é¢˜ã€‚ åœ¨ç»§æ‰¿çš„ä¸Šä¸‹æ–‡ä¸­ï¼ŒC ++æä¾›äº†å¹¿æ³›çš„å·¥å…·ï¼Œä¸ºç¨‹åºå‘˜æ‰“å¼€äº†æ— æ•°çš„å¯èƒ½æ€§ã€‚ </p><br><p>  SOLIDå¾ˆå¥½ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN445948/">https://habr.com/ru/post/zh-CN445948/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN445928/index.html">æˆ‘ä»¬å¦‚ä½•å°†TensorflowæœåŠ¡ç”Ÿäº§ç‡æé«˜70ï¼…</a></li>
<li><a href="../zh-CN445932/index.html">å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå®‰å…¨æ€§ï¼šå‰ç«¯å¼€å‘äººå‘˜çš„å®ç”¨æŠ€å·§</a></li>
<li><a href="../zh-CN445936/index.html">ç”µå­å¼€å‘ã€‚ å…³äºæ‰‹æŒ‡ä¸Šçš„å¾®æ§åˆ¶å™¨</a></li>
<li><a href="../zh-CN445940/index.html">å¸¦æœ‰Habrçš„AMAï¼Œv 7.0ã€‚ æŸ æª¬ï¼Œç”œç”œåœˆå’Œæ–°é—»</a></li>
<li><a href="../zh-CN445946/index.html">MWCï¼šä½¿ç”¨è¯´æ˜</a></li>
<li><a href="../zh-CN445952/index.html">ä¸€ä¸‡äº¿ä¸ªå°å•èº«</a></li>
<li><a href="../zh-CN445954/index.html">HSEï¼ŒMTSå’ŒRostelecomçš„AIåŠ é€Ÿå™¨</a></li>
<li><a href="../zh-CN445958/index.html">SPDS GraphiCS-å¤–å¢™å’Œå±‹é¡¶ç³»ç»Ÿ</a></li>
<li><a href="../zh-CN445962/index.html">ITå®ä¹ ï¼šç»ç†çš„è§‚ç‚¹</a></li>
<li><a href="../zh-CN445964/index.html">MEPhIå°†ä¸»åŠä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯å®‰å…¨å¥¥æ—åŒ¹å…‹ç«èµ›ï¼šå¦‚ä½•å‚ä¸å’Œæä¾›ä»€ä¹ˆ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>