<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∑ üî± üí™ Konfigurasi dan File Status yang Diinginkan PowerShell: Bagian 1. Mengkonfigurasi Server Tarik DSC agar berfungsi dengan SQL Database üõåüèæ üë©üèª‚Äçüöí üë®üèª‚Äç‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PowerShell Desired State Configuration (DSC) memudahkan Anda untuk menggunakan dan mengkonfigurasi sistem operasi, peran server, dan aplikasi ketika A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Konfigurasi dan File Status yang Diinginkan PowerShell: Bagian 1. Mengkonfigurasi Server Tarik DSC agar berfungsi dengan SQL Database</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/452064/"><img src="https://habrastorage.org/webt/-4/vu/2i/-4vu2idi-kona7rk1zluhuqtrlk.png"><br><br>  PowerShell Desired State Configuration (DSC) memudahkan Anda untuk menggunakan dan mengkonfigurasi sistem operasi, peran server, dan aplikasi ketika Anda memiliki ratusan server. <br><br>  Tetapi saat menggunakan DSC di tempat, mis.  tidak dalam MS Azure, beberapa nuansa muncul.  Mereka sangat nyata jika organisasi besar (dari 300 workstation dan server) dan belum membuka dunia kontainer: <br><br><ul><li>  Tidak ada laporan lengkap tentang status sistem.  Jika konfigurasi yang diinginkan tidak diterapkan pada server mana pun, maka tanpa laporan ini kami tidak akan mengetahuinya.  Sangat sulit untuk mendapatkan informasi dari server laporan bawaan, dan untuk sejumlah besar host juga merupakan waktu yang lama. </li><li>  Tidak ada skalabilitas dan toleransi kesalahan.  Tidak mungkin untuk membangun peternakan polling server web DSC yang akan memiliki database toleran kesalahan tunggal dan repositori umum file konfigurasi mof, modul, dan kunci pendaftaran. </li></ul><br>  Hari ini saya akan memberi tahu Anda cara mengatasi masalah pertama dan mendapatkan data untuk pelaporan.  Semuanya akan lebih sederhana jika SQL dapat digunakan sebagai basis data.  MS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menjanjikan</a> dukungan built-in hanya di Windows Server 2019 atau di build Windows server 1803. MS juga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">akan gagal untuk</a> mengambil data menggunakan penyedia OleDB, karena server DSC menggunakan parameter bernama yang tidak sepenuhnya didukung oleh OleDbCommand. <br><br>  Saya menemukan cara ini: bagi mereka yang menggunakan Windows Server 2012 dan 2016, Anda dapat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengkonfigurasi</a> penggunaan database SQL sebagai backend untuk polling DSC server.  Untuk melakukan ini, buat "proxy" dalam bentuk file .mdb dengan tabel tertaut, yang akan mengarahkan ulang data yang diterima dari laporan klien ke database server SQL. <br><a name="habracut"></a><br>  <i>Catatan: Untuk Windows Server 2016, Anda harus menggunakan <a href="">AccessDatabaseEngine2016x86</a> , karena Microsoft.Jet.OLEDB.4.0 tidak lagi didukung.</i> <br><br>  Saya tidak akan membahas proses penyebaran server polling DSC, hal ini dijelaskan dengan sangat baik di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Saya perhatikan hanya beberapa poin.  Jika kami menggunakan DSC polling pada server web yang sama dengan WSUS atau Kaspersky Security Center, maka dalam skrip konfigurasi pembuatan, perlu untuk mengubah parameter berikut: <br><br><ol><li><pre><code class="sql hljs">UseSecurityBestPractices     = $false</code> </pre> <br>  Jika tidak, TLS 1.0 akan dinonaktifkan, Anda tidak akan dapat terhubung ke database SQL.  Pusat Keamanan Kaspersky tidak akan berfungsi baik (masalahnya harus diselesaikan di Kaspersky Security Center v11). </li><li><pre> <code class="sql hljs">Enable32BitAppOnWin64   = $true</code> </pre> <br>  Jika Anda tidak melakukan perubahan ini, Anda tidak dapat memulai server AppPool DSC pada IIS dengan WSUS. </li><li>  Saat memasang server DSC dengan WSUS, nonaktifkan caching statis dan dinamis untuk situs DSC. </li></ol><br>  Mari kita lanjutkan ke pengaturan server DSC untuk menggunakan database SQL. <br><br><h3>  Membuat Database SQL </h3><br><ol><li>  Buat database SQL kosong bernama DSC. <br><br><img src="https://habrastorage.org/webt/24/je/ik/24jeikjjhurylsfpxfdz-hkdkoo.png"><br><br><img src="https://habrastorage.org/webt/-i/km/hz/-ikmhzvewzfmt8ygqaidws2erzm.png"></li><li>  Buat akun untuk terhubung ke database ini.  Pra-verifikasi bahwa otentikasi akun Windows dan SQL diaktifkan pada server SQL. <br><br><img src="https://habrastorage.org/webt/z-/qz/tx/z-qztxe410jqyjoj7rwna3t9-am.png"><br><br><img src="https://habrastorage.org/webt/uh/no/vm/uhnovmv8wsywdxi6ahxiinvkj4y.png"></li><li>  Buka bagian Pemetaan Pengguna.  Pilih database, dalam hal ini, DSC.  Kami memberikan hak kepada pemilik basis data. <br><br><img src="https://habrastorage.org/webt/cl/fg/vg/clfgvg0ya7csozw1ner_egxdxs8.png"></li><li>  Selesai <br><br><img src="https://habrastorage.org/webt/9i/la/7n/9ila7nedgtygol496l7da239i1k.png"></li></ol><br><h3>  Membuat skema untuk basis data DSC </h3><br>  Ada dua cara untuk membuat skema untuk basis data DSC: <br><br><ul><li>  secara mandiri, melalui skrip di TSQL <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> ANSI_NULLS <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> QUOTED_IDENTIFIER <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[Devices]( [TargetName] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [ConfigurationID] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [ServerCheckSum] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [TargetCheckSum] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [NodeCompliant] [<span class="hljs-built_in"><span class="hljs-built_in">bit</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [LastComplianceTime] [datetime] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [LastHeartbeatTime] [datetime] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [Dirty] [<span class="hljs-built_in"><span class="hljs-built_in">bit</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [StatusCode] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[RegistrationData]( [AgentId] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [LCMVersion] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [NodeName] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [IPAddress] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [ConfigurationNames] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">max</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] TEXTIMAGE_ON [PRIMARY] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[StatusReport]( [JobId] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">50</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [<span class="hljs-keyword"><span class="hljs-keyword">Id</span></span>] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">50</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [OperationType] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [RefreshMode] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [<span class="hljs-keyword"><span class="hljs-keyword">Status</span></span>] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [LCMVersion] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">50</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [ReportFormatVersion] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [ConfigurationVersion] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [NodeName] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [IPAddress] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [StartTime] [datetime] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [EndTime] [datetime] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [<span class="hljs-keyword"><span class="hljs-keyword">Errors</span></span>] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">max</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [StatusData] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">max</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [RebootRequested] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] TEXTIMAGE_ON [PRIMARY] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span></code> </pre> </li><li>  impor data dari devices.mdb kosong sebagai bagian dari modul PS PSDesiredStateConfiguration melalui SQL Data Import Wizard. <br><br>  Devices.mdb, yang akan kami kerjakan, terletak di C: \ Windows \ SysWOW64 \ WindowsPowerShell \ v1.0 \ Modules \ PSDesiredStateConfiguration \ PullServer. <br></li></ul><br><ol><li>  Untuk mengimpor data, jalankan SQL Server Import and Export Wizard. <br><br><img src="https://habrastorage.org/webt/im/3v/ww/im3vwwj9ib9wucm4xnl70jow1yy.png"></li><li>  Kami memilih dari mana kami akan mengumpulkan data - dalam kasus kami, ini adalah database Microsoft Access.  Klik Selanjutnya. <br><br><img src="https://habrastorage.org/webt/l5/rc/dq/l5rcdqtxvaajv5h5mbil72vv3k0.png"></li><li>  Pilih file dari mana kami mengimpor skema. <br><br><img src="https://habrastorage.org/webt/th/dt/xu/thdtxutqcvsrv0laifxjhsbse2w.png"></li><li>  Kami menunjukkan tempat untuk mengimpor - kami memiliki database SQL ini. <br><br><img src="https://habrastorage.org/webt/dc/sc/p5/dcscp5f9n-cdmm0qfo0gv_-k0oy.png"></li><li>  Kami memilih server SQL (Nama Server) dan basis data tempat kami akan mengimpor data (DataBase). <br><br><img src="https://habrastorage.org/webt/kr/sd/ds/krsddsbr4jpvi9dgvc3f_qcxwqy.png"></li><li>  Kami memilih opsi Salin data dari satu atau beberapa tabel atau tampilan (menyalin data dari tabel atau tampilan). <br><br><img src="https://habrastorage.org/webt/nu/aq/q8/nuaqq8akzpdz07fwf1gedrxcfns.png"></li><li>  Kami memilih tabel dari mana kami akan mengimpor skema database. <br><br><img src="https://habrastorage.org/webt/bf/7k/at/bf7kat56ltu-amw0nhvgbp2tkpw.png"></li><li>  Periksa Jalankan Segera dan klik Selesai. <br><br><img src="https://habrastorage.org/webt/7i/au/wo/7iauwo3j_x0qzfwqgfc1u8tyfks.png"></li><li>  Selesai <br><br><img src="https://habrastorage.org/webt/oi/49/w0/oi49w0cedn8ilblfijwlhjsumfm.png"></li><li>  Akibatnya, tabel akan muncul di basis data DSC. <br><br><img src="https://habrastorage.org/webt/z3/ui/pp/z3uippubkjjk0r2fqolnoweezme.png"></li></ol><br><h3>  Mengkonfigurasi file .mdb "proxy" </h3><br>  <b>Membuat koneksi ODBC ke server SQL.</b>  Diasumsikan bahwa MS Access tidak diinstal pada server dengan DSC, oleh karena itu konfigurasi database.mdb dilakukan pada host perantara dengan MS Access diinstal. <br><br>  Mari kita membuat koneksi sistem ODBC ke server SQL (kedalaman bit koneksi harus sesuai dengan kedalaman bit MS Access - 64 atau 32).  Itu dapat dibuat menggunakan: <br>  - cmdlet Powershell: <br><br><pre> <code class="sql hljs">Add-OdbcDsn ‚ÄìName DSC ‚ÄìDriverName 'SQL Server' ‚ÄìPlatform '&lt;64-bit or 32-bit&gt;' ‚ÄìDsnType System ‚ÄìSetPropertyValue @('Description=DSC Pull Server',"Server=&lt;Name of your SQL Server&gt;",'Trusted_Connection=yes','Database=DSC') ‚ÄìPassThru</code> </pre> <br>  - atau secara manual, menggunakan wizard koneksi: <br><br><ol><li>  Buka alat administratif.  Kami memilih sumber data ODBC tergantung pada versi MS Access yang diinstal.  Buka tab System DSN dan buat koneksi sistem (Tambah). <br><br><img src="https://habrastorage.org/webt/pt/k5/cu/ptk5cuuxfa2deeqiw_h6vb4vy_4.png"></li><li>  Kami mengindikasikan bahwa kami akan terhubung ke server SQL.  Klik Selesai. <br><br><img src="https://habrastorage.org/webt/ey/b_/dz/eyb_dz43l6-xzg3yupw4zgrasbi.png"></li><li>  Tentukan nama dan server yang akan dihubungkan.  Kemudian koneksi dengan parameter yang sama perlu dibuat di server DSC. <br><br><img src="https://habrastorage.org/webt/_d/py/lq/_dpylq1y7uycuiq08tkq-jp1eri.png"></li><li>  Kami menunjukkan bahwa untuk terhubung ke server SQL kami menggunakan login yang dibuat sebelumnya dengan nama DSC. <br><br><img src="https://habrastorage.org/webt/_2/bw/bs/_2bwbsadgrihkikrnnh2eq2tkbs.png"></li><li>  Tentukan basis data dalam pengaturan koneksi DSC. <br><br><img src="https://habrastorage.org/webt/eg/ex/eg/egexegl50aplc4fr_f1jbfx3edq.png"></li><li>  Klik Selesai. <br><br><img src="https://habrastorage.org/webt/di/a8/_n/dia8_nwzir-nhafd9rezwstdwjq.png"></li><li>  Sebelum menyelesaikan pengaturan, kami memverifikasi bahwa koneksi berfungsi (Sumber Data Uji). <br><br><img src="https://habrastorage.org/webt/kt/ft/tm/ktfttmjcb_8gyb3s-o_xnwewyfy.png"></li><li>  Selesai <br><br><img src="https://habrastorage.org/webt/4r/4z/aa/4r4zaalbv3rms8xsfjoijzvtige.png"></li></ol><br>  <b>Membuat basis data devices.mdb di MS Access.</b>  Kami memulai MS Access dan membuat database kosong bernama devices.mdb. <br><br><img src="https://habrastorage.org/webt/tq/4n/ia/tq4niasnq5av17ozevpg365y_qy.png"><br><br><ol><li>  Buka tab Data Eksternal, klik pada ODBC Database.  Di jendela yang muncul, pilih Buat tabel tertaut untuk komunikasi dengan sumber data. <br><br><img src="https://habrastorage.org/webt/aq/ql/vq/aqqlvqqilfgqgdakivqfna9irvu.png"></li><li>  Di jendela baru, pilih tab Sumber Data Mesin dan klik OK.  Di jendela baru, masukkan kredensial untuk menghubungkan ke server SQL. <br><br><img src="https://habrastorage.org/webt/rr/8c/zl/rr8czlircqalebpljfw47h5eax4.png"></li><li>  Kami memilih tabel yang perlu ditautkan.  Kami mencentang dari kotak centang Simpan Kata Sandi dan klik OK.  Kata sandi harus disimpan setiap waktu untuk ketiga tabel. <br><br><img src="https://habrastorage.org/webt/dy/f9/w5/dyf9w58ztue8ugsagfiieghgqsc.png"></li><li>  Dalam indeks Anda harus memilih yang berikut: <br>  - TargetName untuk tabel dbo_Devices; <br><br><img src="https://habrastorage.org/webt/e-/fl/s_/e-fls_elpbmiktv67egcweaxlvq.png"><br><br>  - NodeName atau IPAddress untuk dbo_RegistrationData; <br><br><img src="https://habrastorage.org/webt/xo/ug/do/xougdoiodatj1tlmsalqpdfzauk.png"><br><br>  - NodeName atau IPAddress untuk dbo_StatusReport. <br><br><img src="https://habrastorage.org/webt/w7/lj/us/w7ljush_8zrt8hupqoqvrtsgk4g.png"></li><li>  Ganti nama tabel di MS Access, yaitu: hapus awalan dbo_ sehingga DSC dapat menggunakannya. <br><br><img src="https://habrastorage.org/webt/6w/o-/1q/6wo-1qvgkwua75cv1nd1rsmng1k.png"></li><li>  Selesai <br><br><img src="https://habrastorage.org/webt/58/16/x8/5816x8uw93muoywridyx-dwjugw.png"></li><li>  Simpan file dan tutup MS Access.  Sekarang salin devices.mdb yang dihasilkan ke server DSC (secara default di C: \ Program Files \ WindowsPowershell \ DSCService) dan ganti dengan yang ada (jika ada). </li></ol><br><h3>  Mengkonfigurasi Server DSC untuk Menggunakan SQL </h3><br><ol><li>  Kami kembali ke server DSC.  Untuk terhubung ke server SQL dengan file proxy kami, buat koneksi ODBC baru di server DSC.  Pengaturan nama, kedalaman bit, dan koneksi harus sama dengan saat membuat file MDB.  Anda dapat menyalin perangkat kosong yang sudah dikonfigurasikan.mdb dari sini. <br></li><li>  Untuk menggunakan devices.mdb, Anda perlu membuat perubahan pada web.config dari server DSC polling (secara default, C: \ inetpub \ PSDSCPullServer \ web.config): </li></ol><br><br>  - untuk Windows Server 2012 <br><br><pre> <code class="sql hljs">&lt;add key="dbprovider" value="System.Data.OleDb"&gt; &lt;add key="dbconnectionstr" value="Provider=Microsoft.Jet.OLEDB.4.0;Data Source=C:\Program Files\WindowsPowerShell\DscService\Devices.mdb;"&gt;</code> </pre> <br>  - untuk Windows Server 2016 <br><br><pre> <code class="sql hljs">&lt;add key="dbprovider" value="System.Data.OleDb"&gt; &lt;add key="dbconnectionstr" value="Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:\Program Files\WindowsPowerShell\DscService\Devices.mdb;"&gt;</code> </pre> <br><br>  Ini melengkapi pengaturan server DSC. <br><br><h3>  Memeriksa kesehatan server DSC </h3><br><ol><li>  Periksa apakah server DSC dapat diakses melalui browser web. <br><br><img src="https://habrastorage.org/webt/oi/oe/1z/oioe1zuj9x9gvl9eeek9sc38nz8.png"></li><li>  Sekarang mari kita periksa apakah server DSC polling berfungsi dengan benar.  Untuk melakukan ini, modul xPSDesiredStateConfiguration memiliki skrip pullserversetuptests.ps1.  Sebelum menjalankan skrip ini, Anda harus menginstal modul Powershell bernama Pester.  Pasang Instal-Modul -Nama Pester. </li><li>  Buka C: \ Program Files \ WindowsPowerShell \ Modul \ xPSDesiredStateConfiguration \ &lt;versi modul&gt; \ DSCPullServerSetup \ PullServerDeploymentVerificationTest (dalam contoh, versi 8.0.0.0.0). <br><br><img src="https://habrastorage.org/webt/_5/db/gl/_5dbglhxbi5mgboeexxi_pw7oxk.png"></li><li>  Buka PullServerSetupTests.ps1 dan periksa path ke web.config dari server DSC.  Merah menyoroti jalur ke web.config, yang akan memeriksa skrip.  Jika perlu, ubah jalur ini. <br><br><img src="https://habrastorage.org/webt/et/te/mn/ettemnvebjfc3kgviqzqsob_eas.png"></li><li>  Jalankan pullserversetuptests.ps1 <br>  Invoke-Pester. \ PullServerSetupTests.ps1 <br>  Semuanya berfungsi. <br><br><img src="https://habrastorage.org/webt/qc/qp/m5/qcqpm5a4iwsl_-9d7n2uzll9zjg.png"></li><li>  Dalam SQL Management Studio, kita melihat bahwa host yang dikelola mengirim laporan ke server laporan DSC dan data masuk ke database DSC pada server SQL. <br><br><img src="https://habrastorage.org/webt/ba/oo/04/baoo048uqhsyxpsv4yaaftqmwvi.png"></li></ol><br>  Itu saja.  Dalam artikel berikut ini saya berencana untuk memberi tahu cara membuat laporan tentang data yang diterima, dan menyentuh pertanyaan tentang toleransi kesalahan dan skalabilitas. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id452064/">https://habr.com/ru/post/id452064/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id452052/index.html">Bagaimana kami mengurangi separuh biaya pelajaran pengantar dengan melihat solusi dari maskapai</a></li>
<li><a href="../id452054/index.html">Mengapa WhatsApp Tidak Akan Pernah Aman</a></li>
<li><a href="../id452056/index.html">Golang DevDay: 31 Mei, siaran + Novosibirsk</a></li>
<li><a href="../id452060/index.html">Prediksi Harapan Informasi</a></li>
<li><a href="../id452062/index.html">Bagaimana pagi Anda dimulai?</a></li>
<li><a href="../id452066/index.html">Excelsior JET menghentikan pengembangan compiler AOT setelah 18 tahun bekerja</a></li>
<li><a href="../id452068/index.html">12. Titik Periksa Memulai R80.20. Log & laporan</a></li>
<li><a href="../id452072/index.html">Kami menerapkan CircularRevealAnimation on Flutter dan secara bersamaan menerbitkan perpustakaan di pub.dev</a></li>
<li><a href="../id452074/index.html">Game pertama tentang persatuan atau apa yang butuh saya enam bulan</a></li>
<li><a href="../id452076/index.html">Menghancurkan Browser UC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>