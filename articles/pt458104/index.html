<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üß¶ üö° üöó RDMA dentro do data center na implementa√ß√£o da Huawei üßîüèæ ‚úãüèΩ ‚òÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sob o ponto de vista sobre qual abordagem a Huawei oferece ao organizar o acesso remoto remoto √† mem√≥ria usando a tecnologia AI Fabric e como ela dife...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RDMA dentro do data center na implementa√ß√£o da Huawei</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/huawei/blog/458104/">  Sob o ponto de vista sobre qual abordagem a Huawei oferece ao organizar o acesso remoto remoto √† mem√≥ria usando a tecnologia AI Fabric e como ela difere do InfiniBand e do RDMA puro baseado em Ethernet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/77f/e62/b1c/77fe62b1c70a12e4e4466074c4e81ce8.png"><br><a name="habracut"></a><br>  A computa√ß√£o distribu√≠da √© usada em uma ampla variedade de ind√∫strias.  Trata-se de pesquisa cient√≠fica e desenvolvimentos t√©cnicos, como ferramentas de reconhecimento de rosto ou reconhecimento de piloto autom√°tico e ind√∫stria.  Em geral, a an√°lise de dados est√° encontrando cada vez mais aplicativos, e podemos dizer com confian√ßa que, em um futuro pr√≥ximo, n√£o perder√° popularidade.  De fato, agora estamos passando por uma transi√ß√£o da era da computa√ß√£o em nuvem, onde os fatores mais importantes foram aplicativos e a velocidade da implanta√ß√£o de servi√ßos, para a era da monetiza√ß√£o de dados, inclusive atrav√©s do uso de algoritmos de intelig√™ncia artificial.  De acordo com nossos dados internos (relat√≥rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GIV 2025: Revelando o modelo industrial de um mundo inteligente</a> ), at√© 2025, 86% das empresas usar√£o a IA em seu trabalho.  Muitos deles consideram essa √°rea a principal para a moderniza√ß√£o das atividades e, possivelmente, a ferramenta b√°sica para tomar decis√µes de neg√≥cios no futuro.  E isso significa que cada uma dessas empresas precisar√° de algum tipo de processamento de dados brutos - provavelmente atrav√©s de clusters distribu√≠dos. <br><br><h2>  A evolu√ß√£o da arquitetura </h2><br>  Com a crescente popularidade da computa√ß√£o distribu√≠da, o volume de tr√°fego trocado entre m√°quinas individuais de data center aumenta.  Tradicionalmente, ao discutir redes, a aten√ß√£o est√° focada no crescimento do tr√°fego entre o data center e os usu√°rios finais na Internet, e est√° realmente crescendo.  Mas o aumento do tr√°fego horizontal em sistemas distribu√≠dos excede em muito tudo o que os usu√°rios geram.  Segundo o Facebook, o tr√°fego entre seus sistemas internos dobra em menos de um ano. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11e/9fb/c67/11e9fbc6722ddb012e7b925bc139ecfa.png"><br><br>  Na tentativa de lidar com esse tr√°fego, voc√™ pode aumentar os clusters, mas n√£o pode fazer isso indefinidamente.  Portanto, prevendo o crescimento da carga de computa√ß√£o nos clusters, √© necess√°rio aumentar a efici√™ncia do processamento - antes de tudo, encontrar e eliminar gargalos nessas redes distribu√≠das. <br><br>  Se antes o ‚Äúelo fraco‚Äù dos sistemas distribu√≠dos era o recurso de cada um desses sistemas separadamente, enquanto o desenvolvimento constante de redes de transmiss√£o de dados superava as necessidades, hoje s√£o as comunica√ß√µes em rede que s√£o a principal fonte do problema.  A familiar pilha de protocolos TCP / IP e a topologia em √°rvore n√£o correspondem mais √†s tarefas atribu√≠das.  Portanto, mais e mais datacenters est√£o abandonando o centralizado e est√£o migrando para uma nova arquitetura CLOS que fornece maior largura de banda e melhor escalabilidade de cluster, como, por exemplo, o Facebook fez h√° v√°rios anos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ae5/4eb/9a4/ae54eb9a4b0762eae67a4f523b5480f0.png"><br><br>  Ao mesmo tempo, √© necess√°rio otimizar o processo em um n√≠vel diferente - no n√≠vel de intera√ß√£o de dois sistemas separados.  Neste artigo, queremos falar sobre quais ferramentas de otimiza√ß√£o o data center da Huawei Ai Fabric fornece.  Essa √© a nossa tecnologia propriet√°ria que acelera a troca de dados entre n√≥s. <br><br><h2>  Altera√ß√µes de rede </h2><br>  O principal "truque" do Huawei Ai Fabric √© reduzir a sobrecarga ao transferir pacotes de dados entre sistemas dentro do cluster, implementando RDMA (Remote Direct Memory Access) - acesso direto √† mem√≥ria dos sistemas no cluster. <br><br><h3>  RDMA - uma maneira de reduzir os atrasos na transmiss√£o </h3><br>  RDMA n√£o √© uma id√©ia nova.  A tecnologia fornece troca direta de dados entre a mem√≥ria e a interface de rede, reduzindo a lat√™ncia e eliminando c√≥pias desnecess√°rias de dados para buffers.  Suas ra√≠zes remontam aos anos 90 pela Compaq, Intel e Microsoft. <br><br>  Existem tr√™s tipos de atrasos na transmiss√£o de um pacote de um sistema para outro: <br><br><ul><li>  devido ao processamento do processador necess√°rio, por exemplo, para armazenar dados no SO e calcular somas de verifica√ß√£o; <br></li><li>  devido a barramentos e canais de transmiss√£o de dados (√© tecnicamente imposs√≠vel aumentar significativamente a largura de banda); <br></li><li>  devido ao equipamento de rede. <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/3ce/c48/d2b/3cec48d2b4561be549997679868b61dd.png"><br><br>  Para reduzir as perdas em toda essa cadeia, desde os anos 90, foi proposto o uso direto da mem√≥ria dos sistemas em intera√ß√£o - um modelo abstrato da Arquitetura de Interface Virtual.  Sua id√©ia principal √© que aplicativos executados em dois sistemas interativos preenchem completamente a mem√≥ria local e estabele√ßam uma conex√£o P2P para transfer√™ncia de dados sem afetar o sistema operacional.  Dessa maneira, os atrasos na transmiss√£o de pacotes podem ser significativamente reduzidos.  Al√©m disso, como o modelo VIA n√£o implicava a coloca√ß√£o dos dados transmitidos em buffers intermedi√°rios, ele economizou os recursos necess√°rios para a opera√ß√£o de c√≥pia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/251/502/d86/251502d86f133da73b76fe7b537a6ce9.png"><br><br>  Em rela√ß√£o ao modelo abstrato, o VIA RDMA, como tecnologia, avan√ßou ainda mais em dire√ß√£o √† utiliza√ß√£o otimizada de recursos.  Em particular, ele n√£o espera que o buffer seja preenchido para estabelecer uma conex√£o e permite conex√µes com v√°rios computadores simultaneamente.  Devido a isso, a tecnologia pode reduzir os atrasos de transmiss√£o em at√© 1 ms, reduzindo a carga no processador. <br><br><h3>  InfiniBand vs Ethernet </h3><br>  As duas principais implementa√ß√µes de RDMA no mercado - o protocolo de transporte propriet√°rio InfiniBand e o RDMA ‚Äúpuro‚Äù baseado em Ethernet, infelizmente n√£o apresentam desvantagens. <br><br>  O protocolo de transporte InfiniBand possui um mecanismo interno de controle de entrega de pacotes (prote√ß√£o contra perda de dados), mas √© suportado por equipamentos espec√≠ficos e n√£o √© compat√≠vel com Ethernet.  De fato, o uso desse protocolo fecha o data center de um fornecedor de equipamentos, o que acarreta certos riscos e promete dificuldades em termos de servi√ßo (como a InfiniBand possui uma pequena participa√ß√£o de mercado, n√£o ser√° t√£o f√°cil encontrar especialistas).  Bem, √© claro, ao implementar o protocolo, voc√™ n√£o pode usar o equipamento de rede IP existente. <br><br>  O RDMA sobre Ethernet permite que voc√™ use equipamentos existentes na rede, suporta redes Ethernet, o que significa que ser√° mais f√°cil encontrar especialistas em servi√ßos.  Comparado √† Infiniband, isso reduz significativamente o custo de propriedade da infraestrutura e simplifica sua implanta√ß√£o. <br>  A √∫nica desvantagem s√©ria que impediu a ampla ado√ß√£o do RDMA pela Ethernet √© a falta de prote√ß√£o contra a perda de pacotes, o que limita a largura de banda de toda a rede.  Mecanismos de terceiros devem ser usados ‚Äã‚Äãpara reduzir a perda de pacotes ou impedir o congestionamento da rede.  Seguimos por esse caminho, oferecendo nossos pr√≥prios algoritmos inteligentes para compensar as desvantagens do RDMA sobre Ethernet, mantendo suas vantagens na nova ferramenta - Huawei Ai Fabric. <br><br><h3>  Huawei AI Fabric - do seu jeito </h3><br>  O AI Fabric implementa RDMA sobre Ethernet, complementado por seu pr√≥prio algoritmo de gerenciamento de congestionamento de rede inteligente, que fornece perda de pacote zero, alta largura de banda de rede e baixo atraso de transmiss√£o para fluxos RDMA. <br><br>  O Huawei Ai Fabric √© constru√≠do em padr√µes abertos e suporta uma variedade de equipamentos diferentes, o que otimiza o processo de implementa√ß√£o.  No entanto, algumas ferramentas adicionais - complementos sobre padr√µes abertos, que permitem aumentar a efici√™ncia da troca de dados, que discutiremos em publica√ß√µes subseq√ºentes - est√£o dispon√≠veis apenas para dispositivos fabricados pela Huawei.  Os comutadores da s√©rie CloudEngine que suportam a solu√ß√£o possuem um chip integrado que analisa as caracter√≠sticas do tr√°fego e ajusta dinamicamente os par√¢metros de rede, o que permite um uso mais eficiente do buffer do comutador.  As caracter√≠sticas coletadas tamb√©m s√£o usadas para prever padr√µes de tr√°fego futuros. <br><br><h2>  Para quem isso √© √∫til? </h2><br>  O Huawei Ai Fabric permite obter lucro em dois n√≠veis. <br>  Por um lado, a solu√ß√£o permite otimizar a arquitetura do data center - reduzindo o n√∫mero de n√≥s (devido √† utiliza√ß√£o mais otimizada dos recursos), criando um ambiente convergente sem a separa√ß√£o tradicional em sub-redes separadas, dif√≠ceis e caras de manter em partes.  Usando a ferramenta, voc√™ n√£o precisa selecionar sub-redes separadas para cada tipo de servi√ßo no controlador de dom√≠nio (com seus pr√≥prios requisitos de rede).  Voc√™ pode criar um √∫nico ambiente que fornece todos os servi√ßos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/054/849/c06/054849c06070cd3b2b59320d005d547b.png"><br><br>  Por outro lado, o AI Fabric permite aumentar a velocidade da computa√ß√£o distribu√≠da, especialmente onde voc√™ geralmente precisa acessar a mem√≥ria de sistemas remotos.  Por exemplo, a introdu√ß√£o da IA ‚Äã‚Äãem qualquer campo implica um per√≠odo de aprendizado do algoritmo, que pode incluir milh√µes de opera√ß√µes, de modo que o ganho de atraso em cada uma dessas opera√ß√µes resultar√° em uma acelera√ß√£o s√©ria do processo. <br><br>  O efeito da introdu√ß√£o de uma ferramenta especializada, como o Huawei Ai Fabric, ser√° percept√≠vel em um data center com seis ou mais comutadores.  Por√©m, quanto maior o data center, maior o lucro - devido √† utiliza√ß√£o ideal dos recursos, um cluster da mesma escala com o Ai Fabric proporcionar√° um desempenho mais alto.  Por exemplo, um cluster de 384 n√≥s pode obter o desempenho de um cluster "regular" de 512 n√≥s.  Al√©m disso, a solu√ß√£o n√£o possui restri√ß√µes quanto ao n√∫mero de comutadores f√≠sicos na infraestrutura.  Pode haver dezenas de milhares (se voc√™ esquecer que os projetos geralmente s√£o limitados ao tamanho do dom√≠nio administrativo). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt458104/">https://habr.com/ru/post/pt458104/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt458094/index.html">Vigil√¢ncia por v√≠deo ‚Äúinteligente‚Äù: como ser√° a vida sob c√¢meras com intelig√™ncia artificial</a></li>
<li><a href="../pt458096/index.html">O que √© a pilha MERN e como trabalhar com ela?</a></li>
<li><a href="../pt458098/index.html">Armadilhas do RGPD</a></li>
<li><a href="../pt458100/index.html">Python no Visual Studio Code - vers√£o de junho de 2019</a></li>
<li><a href="../pt458102/index.html">Fluxo de trabalho eficaz de desenvolvimento da Web: Conflu√™ncia, Airtable e muito mais</a></li>
<li><a href="../pt458106/index.html">Mergulhe no Jetpack Compose</a></li>
<li><a href="../pt458108/index.html">Redirecionamentos: 301, 302, 307 | Guia de instru√ß√µes 301</a></li>
<li><a href="../pt458110/index.html">Programa√ß√£o din√¢mica no mundo real: corte de costura</a></li>
<li><a href="../pt458112/index.html">Sony Xperia 10 avalia√ß√£o</a></li>
<li><a href="../pt458114/index.html">Construindo uma rede legal global para c√≥digo aberto</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>