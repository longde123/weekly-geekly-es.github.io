<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßóüèº ü§í üòª Spring Boot Admin Tutorial üõéÔ∏è üëï üçÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Steuern und verwalten Sie Ihre Spring Boot-Anwendungen mit einer ansprechenden Benutzeroberfl√§che auf den Spring Boot Actuator-Endpunkten. 

 Federbei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Spring Boot Admin Tutorial</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479954/"><img src="https://habrastorage.org/webt/o-/i8/f4/o-i8f4wpni2vnz-qzgulvjpucyg.png"><br><br>  Steuern und verwalten Sie Ihre Spring Boot-Anwendungen mit einer ansprechenden Benutzeroberfl√§che auf den Spring Boot Actuator-Endpunkten. <br><br><h3>  Federbeinantrieb </h3><br>  Actuator ist ein Spring Boot-Modul, das Ihrer Anwendung REST / JMX-Endpunkte hinzuf√ºgt, damit Sie diese problemlos in einer Produktionsumgebung nachverfolgen und verwalten k√∂nnen.  Endpunkte bieten Integrit√§tspr√ºfungen, Metrik√ºberwachung, Zugriff auf Protokolle, Thread-Dumps, Heap-Dumps, Umgebungsinformationen und mehr.  Der Autor hat im folgenden Artikel ausf√ºhrlich √ºber Actuator gesprochen: <br><blockquote>  <a href="https://www.vojtechruzicka.com/spring-boot-actuator/">Aktuator: √úberwachung und Verwaltung der Spring Boot-Produktion</a> <br>  √úberwachen und verwalten Sie Ihre laufende Anwendung mit Spring Boot Actuator 2.x.  Sammeln Sie Metriken oder √ºberpr√ºfen Sie den Zustand der Anwendung. <br></blockquote><a name="habracut"></a><br>  <u><i>Anmerkung des √úbersetzers.</i></u>  Es gibt einen √§hnlichen Artikel √ºber Habr√©: <br>  <a href="https://habr.com/ru/company/otus/blog/452624/">Einf√ºhrung in Spring Boot Actuator</a> <br><br><h3>  Spring Boot Admin </h3><br>  Actuator ist ein gro√üartiges und leistungsstarkes Tool. Dar√ºber hinaus k√∂nnen die Endpunkte einfach und bequem mit einer anderen Anwendung verwendet werden - Sie verwenden lediglich den REST-Serviceabruf.  Die Verwendung von Actuator ist jedoch f√ºr eine Person nicht sehr praktisch.  F√ºr den Benutzer ist es viel einfacher, eine gute Benutzeroberfl√§che zu haben, mit der Sie alle √úberwachungsdaten anzeigen und Ihre Anwendung verwalten k√∂nnen.  Genau das leistet Spring Boot Admin.  Es bietet Ihnen eine bequeme Benutzeroberfl√§chenebene √ºber den Endpunkten von Actuator und dar√ºber hinaus einige zus√§tzliche Funktionen. <br><br>  Spring Boot Admin ist kein Modul, das vom Spring-Team bereitgestellt wird. Es wurde von einer Firma namens <a href="https://blog.codecentric.de/en/">Codecentric erstellt</a> .  Der Code ist jedoch auf <a href="https://github.com/codecentric/spring-boot-admin">Github</a> √∂ffentlich verf√ºgbar und kostenlos. <br><br><h3>  Client und Server </h3><br>  Im Gegensatz zu Actuator besteht Spring Boot Admin eigentlich aus zwei Teilen - Client und Server. <br><br>  Der Serverteil enth√§lt die Administrator-Benutzeroberfl√§che und arbeitet unabh√§ngig von den √ºberwachten Anwendungen.  Der Client-Teil befindet sich in der √ºberwachten Anwendung, die im Server-Teil registriert ist. <br><br>  Daher funktioniert der √úberwachungsserver auch dann noch, wenn unsere Anwendung nicht oder nicht ordnungsgem√§√ü funktioniert.  Stellen Sie sich nun vor, Sie haben mehrere Anwendungen (z. B. Spring Boot-Mikrodienste), von denen jede in mehreren Instanzen ausgef√ºhrt werden kann.  Bei der herk√∂mmlichen √úberwachung von Aktoren ist dies schwierig, da Sie auf jede einzelne Instanz einzeln zugreifen und nachverfolgen m√ºssen, wie viele Instanzen und wo sie ausgef√ºhrt werden. <br><br>  Bei Verwendung von Spring Boot Admin wird jede Instanz der √ºberwachten Anwendung (Client) nach dem Start auf dem Server registriert.  Dann haben Sie einen einzigen Punkt (Admin-Server), an dem Sie alle √ºberpr√ºfen k√∂nnen. <br><br><img src="https://habrastorage.org/webt/-3/cd/le/-3cdle9y_1pgxlg0yz_rc8mitnk.png"><br><br><h3>  Quellcode </h3><br>  Der Quellcode f√ºr die fertige Anwendung befindet sich in <a href="https://github.com/vojtechruz/spring-boot-admin">diesem Github-Repository</a> . <br><br><h3>  Server-Setup </h3><br>  Schauen wir uns zun√§chst an, wie Spring Boot Admin Server konfiguriert wird.  Beginnen wir mit der neuen Spring Boot-Anwendung.  Sie k√∂nnen es ganz einfach mit dem <a href="https://start.spring.io/">Spring Initializr</a> erstellen.  Stellen Sie sicher, dass das <b><i>Webmodul</i></b> aktiviert ist. <br><br>  Nachdem Sie das Projekt erstellt haben, m√ºssen Sie zun√§chst die Spring Boot Admin Server-Abh√§ngigkeit hinzuf√ºgen: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>de.codecentric<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-admin-starter-server<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>2.1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Beachten Sie, dass, obwohl dieses Projekt nicht von Pivotal erstellt wurde, Sie die Client- und Servermodule f√ºr den Spring Boot Admin im Spring Initializr finden.  Als N√§chstes m√ºssen wir den Admin-Server aktivieren, indem wir unsere Hauptanwendungsklasse mit der Anmerkung <b>@EnableAdminServer versehen</b> : <br><br><img src="https://habrastorage.org/webt/nb/d_/ih/nbd_ihnpyds0zna87jk_iovu364.png"><br><br>  Das ist alles.  Jetzt k√∂nnen Sie Ihre Anwendung starten und nach dem √ñffnen der Seite sollten Sie einen Bildschirm wie diesen sehen: <br><br><img src="https://habrastorage.org/webt/pp/hb/-n/pphb-nntvvnfgchobk6tjsxecxa.png"><br><br>  Der Server l√§uft, aber die Clients sind noch nicht registriert.  Lass es uns reparieren. <br><br><h3>  Client-Setup </h3><br>  Wie bei der Serverkonfiguration besteht der erste Schritt darin, einer vorhandenen Anwendung die richtige Abh√§ngigkeit hinzuzuf√ºgen: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>de.codecentric<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-admin-starter-client<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>2.1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Dann m√ºssen Sie die URL ermitteln, unter der Ihr Admin-Server ausgef√ºhrt wird.  F√ºgen Sie diese Zeile zu Ihrer <b>application.properties-</b> Datei hinzu: <br><br><pre> <code class="java hljs">spring.boot.admin.client.url=http:<span class="hljs-comment"><span class="hljs-comment">//localhost:8080</span></span></code> </pre> <br><h3>  Aktor hinzuf√ºgen </h3><br>  Sie sollten nun in der Lage sein, sowohl den Client als auch den Server zu starten.  Stellen Sie nur sicher, dass kein <b>Portkonflikt vorliegt</b> , da beide Anwendungen standardm√§√üig 8080 verwenden. Zu Testzwecken k√∂nnen Sie <b>server.port = 0</b> in Ihren <b>application.properties</b> <b>festlegen,</b> sodass Ihr Client beim Start einen zuf√§lligen Port verwendet.  Auf diese Weise k√∂nnen Sie den Start mehrerer Instanzen testen, die an verschiedenen Ports ausgef√ºhrt werden. <br><br>  Wenn Sie die Admin-Server-Benutzeroberfl√§che √∂ffnen, sollte Ihre Anwendung angezeigt werden.  Wenn Sie auf den Namen der Anwendung klicken, sollte eine Seite mit Informationen zur Anwendung angezeigt werden. <br><br><img src="https://habrastorage.org/webt/nj/nm/xa/njnmxagxupsllg_eqy6nr85n9hq.png"><br><br>  Wenn Sie einen Bildschirm √§hnlich dem oben gezeigten mit einer minimalen Menge an Informationen sehen, bedeutet dies, dass Ihr Projekt nicht √ºber Actuator verf√ºgt.  Denken Sie daran, dass Spring Boot Admin unter der Haube Aktuator-Endpunkte verwendet.  Gl√ºcklicherweise m√ºssen Sie nur eine einfache Abh√§ngigkeit hinzuf√ºgen, und die automatische Konfiguration erledigt den Rest. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-actuator<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Die meisten Endpunkte werden jedoch nicht standardm√§√üig in Actuator angezeigt.  Sie m√ºssen Ihre Konfiguration in <b>application.properties</b> √§ndern, um sie verf√ºgbar zu machen: <br><br><pre> <code class="xml hljs">management.endpoints.web.exposure.include=*</code> </pre> <br>  Nachdem Sie die Actuator-Endpunkte bereitgestellt haben, sollten auf der Administrationsoberfl√§che viele weitere Informationen angezeigt werden: <br><br><img src="https://habrastorage.org/webt/hn/q9/x7/hnq9x7dgzha1sakqiclkruuxyig.png"><br><br>  Eine ausf√ºhrliche Anleitung zur Konfiguration von Spring Boot Actuator finden Sie <a href="https://www.vojtechruzicka.com/spring-boot-actuator/">in diesem Artikel</a> . <br>  <u><i>Anmerkung des √úbersetzers.</i></u>  Und in einem <a href="https://habr.com/ru/company/otus/blog/452624/">Artikel √ºber Habr√©</a> . <br><br><h3>  Sicherheit </h3><br>  Nachdem alles funktioniert, m√ºssen wir sicherstellen, dass unsere Aktuator-Endpunkte und die Administrationsoberfl√§che nicht f√ºr alle zug√§nglich sind. <br><br><h3>  Kundensicherheit </h3><br>  Wenn Sie Spring Security bereits verwenden, funktioniert das oben Genannte nicht f√ºr Sie, da die Laufwerkendpunkte standardm√§√üig gesch√ºtzt sind und Ihr Administrator-Server nicht auf sie zugreifen kann.  Wenn Sie Spring Security noch nicht verwenden, m√ºssen Sie zuerst die Abh√§ngigkeit hinzuf√ºgen: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-security<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Zu Testzwecken k√∂nnen Sie die Actuator-Endpunktsicherheit mit <b>management.security.enabled = false</b> vor√ºbergehend deaktivieren.  Wir m√∂chten jedoch, dass die Sicherheit aktiviert wird.  Wenn Sie die Standardauthentifizierung verwenden, k√∂nnen Sie einfach den Benutzernamen und das Kennwort in der Eigenschaftendatei angeben.  Diese Anmeldeinformationen werden vom Admin-Server f√ºr die Authentifizierung an den Endpunkten des Client-Laufwerks verwendet: <br><br><pre> <code class="java hljs">spring.boot.admin.client.instance.metadata.user.name=joe spring.boot.admin.client.instance.metadata.user.password=my-secret-password</code> </pre> <br>  Sofern nicht anders konfiguriert, verwendet Spring Boot standardm√§√üig den Benutzer <b>user</b> und das automatisch generierte Kennwort, wenn die Anwendung gestartet wird.  Sie k√∂nnen das Kennwort w√§hrend des Startvorgangs in der Konsole √ºberpr√ºfen.  Wenn Sie den f√ºr Ihre Anwendung erforderlichen Benutzernamen und das Kennwort explizit angeben m√∂chten, k√∂nnen Sie diese in Ihren Eigenschaften angeben: <br><br><pre> <code class="xml hljs">spring.security.user.name=joe spring.security.user.password=my-secret-password</code> </pre><br><h3>  Serversicherheit </h3><br>  Wie beim Client m√ºssen wir eine Spring Security-Abh√§ngigkeit hinzuf√ºgen: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-security<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Jetzt konfigurieren wir den Benutzernamen und das Kennwort, die f√ºr die Anmeldung beim Admin-Server in Ihrer <b>application.properties erforderlich sind</b> : <br><br><pre> <code class="xml hljs">spring.security.user.name=admin spring.security.user.password=admin-password</code> </pre> <br>  Jetzt m√ºssen Sie auf Ihrem Client auch diese Anmeldeinformationen hinzuf√ºgen, sonst kann er sich nicht auf dem Server registrieren: <br><br><pre> <code class="xml hljs">spring.boot.admin.client.username=admin spring.boot.admin.client.password=admin-password</code> </pre> <br>  Nun zur√ºck zur Serverseite.  Als letztes m√ºssen wir die Spring Security-Konfiguration hinzuf√ºgen, um die Admin-Benutzeroberfl√§che zu sch√ºtzen: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SecurityConfig</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebSecurityConfigurerAdapter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(HttpSecurity http)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ SavedRequestAwareAuthenticationSuccessHandler successHandler = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SavedRequestAwareAuthenticationSuccessHandler(); successHandler.setTargetUrlParameter(<span class="hljs-string"><span class="hljs-string">"redirectTo"</span></span>); successHandler.setDefaultTargetUrl(<span class="hljs-string"><span class="hljs-string">"/"</span></span>); http.authorizeRequests() .antMatchers(<span class="hljs-string"><span class="hljs-string">"/assets/**"</span></span>).permitAll() .antMatchers(<span class="hljs-string"><span class="hljs-string">"/login"</span></span>).permitAll() .anyRequest().authenticated().and() .formLogin().loginPage(<span class="hljs-string"><span class="hljs-string">"/login"</span></span>) .successHandler(successHandler).and() .logout().logoutUrl(<span class="hljs-string"><span class="hljs-string">"/logout"</span></span>).and() .httpBasic().and() .csrf() .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()) .ignoringAntMatchers( <span class="hljs-string"><span class="hljs-string">"/instances"</span></span>, <span class="hljs-string"><span class="hljs-string">"/actuator/**"</span></span> ); } }</code> </pre> <br>  Auf diese Weise erhalten nur authentifizierte Benutzer Zugriff auf die Administratoroberfl√§che, die sich mit der grundlegenden HTTP-Authentifizierung anmelden.  Die Anmeldeseite selbst und die statischen Ressourcen der Benutzeroberfl√§che, einschlie√ülich Javascript, HTML und CSS, sind ge√∂ffnet.  Andernfalls k√∂nnen Sie sich nicht anmelden.  Dann gibt es einen Schutz gegen F√§lschung von Cross-Site-Anfragen (CSRF, Cross-Site Request Forgery), die auf Cookies basieren.  Sie k√∂nnen sehen, dass einige Pfade im CSRF-Schutz ignoriert werden. Dies liegt daran, dass der Admin-Server derzeit <a href="http://codecentric.github.io/spring-boot-admin/current/">nicht √ºber die richtige Unterst√ºtzung verf√ºgt</a> . <br><br>  Nach dem Neustart sollte nun ein sch√∂ner Anmeldebildschirm angezeigt werden, der Ihren Admin-Server sch√ºtzt: <br><br><img src="https://habrastorage.org/webt/l2/t-/7q/l2t-7qwz6ixjclwzwwwow9agagi.png"><br><br><h3>  Cloud-Entdeckung </h3><br>  Der Spring Boot Admin-Client ist nicht die einzige M√∂glichkeit, Ihre Anwendungen auf dem Server zu registrieren.  Admin Server unterst√ºtzt auch Spring Cloud Service Discovery.  Weitere Informationen finden Sie in der <a href="http://codecentric.github.io/spring-boot-admin/current/">offiziellen Dokumentation</a> oder im Artikel ‚Äû <a href="https://zoltanaltfatter.com/2018/05/15/spring-cloud-discovery-with-spring-boot-admin/">Spring Cloud Discovery mit Spring Boot Admin</a> ‚Äú. <br><br><h3>  Benachrichtigungen </h3><br>  Sobald Sie die √úberwachung gestartet haben, m√∂chten Sie benachrichtigt werden, wenn ein Fehler auftritt.  Die gute Nachricht ist, dass Spring Admin eine Vielzahl von Benachrichtigungsoptionen bietet. <br><br>  Wenn Sie die Admin-Server-Seite zum ersten Mal besuchen, werden Sie um die Erlaubnis gebeten, Push-Benachrichtigungen auf Ihrem Computer anzuzeigen.  Wenn ein Problem auftritt, erhalten Sie eine Popup-Nachricht. <br><br><img src="https://habrastorage.org/webt/he/9u/6a/he9u6aqe3_wfpj-g3ijn74gmhzu.png"><br><br>  Andere Benachrichtigungen m√ºssen einfach eingerichtet werden.  Dies bedeutet normalerweise, dass Sie nur einige Eintr√§ge in Ihrer <b>application.properties angeben</b> .  Die folgenden Dienste werden derzeit unterst√ºtzt: <br><br><ul><li>  Mail </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">Schlaff</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">Hip-Chat</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">Pager Pflicht</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">Opsgenie</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">Lass uns plaudern</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">Telegramm</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">Microsoft-Team</a> <br></li></ul><br><h3>  Richten Sie E-Mail-Benachrichtigungen ein </h3><br>  Wenn Sie E-Mail-Benachrichtigungen aktivieren m√∂chten, m√ºssen Sie Ihrer Serverseite die Abh√§ngigkeit von Spring-E-Mails hinzuf√ºgen: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-mail<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Anschlie√üend m√ºssen Sie Ihren SMTP-Server bestimmen, √ºber den Benachrichtigungen und Anmeldeinformationen per E-Mail gesendet werden.  Aktualisieren Sie die <b>application.</b> -Eigenschaften Ihres Admin-Servers. <br><br><pre> <code class="xml hljs">spring.mail.host=smtp.foo.com spring.mail.username=smtp-server-user spring.mail.password=smtp-server-password</code> </pre> <br>  Dann m√ºssen Sie die Empf√§nger und Absender identifizieren. <br><br><pre> <code class="java hljs"># Sender email address spring.boot.admin.notify.mail.from=<span class="hljs-string"><span class="hljs-string">"Spring Boot Admin &lt;noreply@foo.com&gt;"</span></span> # Comma-delimited list of recipient email addresses spring.boot.admin.notify.mail.to=alice<span class="hljs-meta"><span class="hljs-meta">@foo</span></span>.com,bob<span class="hljs-meta"><span class="hljs-meta">@bar</span></span>.com # Comma-delimited list of carbon copy recipient email addresses spring.boot.admin.notify.mail.cc=joe<span class="hljs-meta"><span class="hljs-meta">@foo</span></span>.com</code> </pre> <br><h3>  Fazit </h3><br>  Spring Boot Admin bietet eine praktische und n√ºtzliche Benutzeroberfl√§chenebene √ºber den Actuator-Endpunkten.  Dar√ºber hinaus k√∂nnen Sie mehrere Anwendungen mit mehreren Instanzen zentral steuern, was bei der Arbeit in der Cloud und mit Microservices von unsch√§tzbarem Wert ist.  Stellen Sie jedoch sicher, dass Sie sowohl Ihren Client als auch Ihren Server ausreichend sch√ºtzen.  Weitere Informationen finden Sie in der <a href="http://codecentric.github.io/spring-boot-admin/current/">offiziellen Dokumentation</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de479954/">https://habr.com/ru/post/de479954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de479940/index.html">Wie man von einem anderen Beruf zur Entwicklung √ºbergeht und schnell an einem neuen Ort w√§chst</a></li>
<li><a href="../de479942/index.html">[Aktualisiert um 10:52, 14.12.19] Im Nginx-B√ºro wurde eine Suche durchgef√ºhrt. Kopeiko: "Nginx wurde von Sysoev unabh√§ngig entwickelt"</a></li>
<li><a href="../de479948/index.html">Gestenverwaltung: Edge to Edge. Teil 1</a></li>
<li><a href="../de479950/index.html">Die Geschichte der Videoprozessoren, Teil 4: Das Aufkommen der Allzweck-GPU</a></li>
<li><a href="../de479952/index.html">Was steckt in shawarma: Microservices, verteilte Systeme und Kafka. Teilen von Materialien aus Backend United # 5</a></li>
<li><a href="../de479958/index.html">Firmware- und Prozessor-Schwachstellen</a></li>
<li><a href="../de479960/index.html">Leistungsmodell der Medienwerbung f√ºr Online-Shops</a></li>
<li><a href="../de479966/index.html">Playrix CI / CD: Wie wir unsere Spiele bauen und testen</a></li>
<li><a href="../de479968/index.html">Das B√ºro von Nginx wird aufgrund einer Klage der Rambler Group durchsucht. Der Pressedienst des Beschwerdef√ºhrers best√§tigte die Klage</a></li>
<li><a href="../de479970/index.html">Tausend und ein UI-Fehler oder wie man einem Entwickler hilft, h√§ufige UI-Fehler zu vermeiden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>