<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¶üèº üõãÔ∏è üßóüèº Zen Erlang [e Elixir - aprox. tradutor] üçü üèÖ üóÉÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introdu√ß√£o do tradutor 


 Este artigo √© sobre Erlang , mas tudo o que foi dito √© igualmente aplic√°vel ao Elixir , uma linguagem funcional executada s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zen Erlang [e Elixir - aprox. tradutor]</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443290/"><h2 id="vvedenie-ot-perevodchika">  <em>Introdu√ß√£o do tradutor</em> </h2><br><p>  <em>Este artigo √© sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Erlang</a> , mas tudo o que foi dito √© igualmente aplic√°vel ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Elixir</a> , uma linguagem funcional executada sobre a mesma m√°quina virtual <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BEAM</a> .</em>  <em>Apareceu em 2012 e agora est√° se desenvolvendo ativamente.</em>  <em>O Elixir obteve a sintaxe mais familiar, al√©m de amplos recursos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">metaprograma√ß√£o</a> , mantendo os benef√≠cios do Erlang.</em> </p><br><div class="spoiler">  <b class="spoiler_title">Mais do tradutor</b> <div class="spoiler_text"><p>  <em>Um artigo de 2016, mas trata-se de conceitos b√°sicos que n√£o expiram.</em> </p><br><p> <em>As refer√™ncias a conceitos e coment√°rios meus (o tradutor) est√£o localizadas entre colchetes <code>[]</code> e s√£o marcadas com uma ‚Äúnota do tradutor‚Äù.</em> </p><br><p>  <em>Se voc√™ achar que algumas partes da tradu√ß√£o n√£o est√£o corretas o suficiente, principalmente em termos de termos, ou se encontrar outros erros, entre em contato. Corrigirei com prazer.</em> </p><br><p>  <em>Agradecimentos especiais a Jan Gravshin por sua ajuda na revis√£o e edi√ß√£o do texto.</em> </p></div></div><br><p>  Esta √© uma transcri√ß√£o gratuita (ou uma par√°frase longa?) Da minha apresenta√ß√£o na confer√™ncia ConnectDev'16 organizada pela Genetec. </p><br><p><img src="https://habrastorage.org/webt/pv/b5/rn/pvb5rnw1gab3fm1qi3e8jhk-rpw.png" alt="001"></p><br><p>  Eu acredito que a maioria das pessoas aqui nunca programou em Erlang.  Voc√™ j√° deve ter ouvido falar ou sabe o nome.  Portanto, minha apresenta√ß√£o afetar√° apenas os conceitos de alto n√≠vel de Erlang e de maneira a ser √∫til em seus trabalhos ou projetos paralelos, mesmo que voc√™ nunca se depare com esse idioma. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/webt/oy/8k/pr/oy8kprbjqwwomjn2udl-4lmbaey.png" alt="002"></p><br><p>  Se voc√™ j√° se interessou por Erlang, ouviu sobre o lema "Deixe bater" [ <em>"Deixe cair" - aprox.</em>  <em>tradutor</em> ].  Meu primeiro encontro com ele me fez pensar sobre o que diabos era.  O Erlang deveria ser √≥timo para execu√ß√£o multithread e toler√¢ncia a falhas, mas aqui eles sugerem que eu deixe tudo cair: exatamente o oposto do comportamento do sistema que eu realmente quero.  A proposta √© surpreendente, mas, no entanto, o Zen de Erlang est√° diretamente relacionado a ela. </p><br><p><img src="https://habrastorage.org/webt/cp/nf/ce/cpnfcekl_sneg__72ygpdr5z5ou.png" alt="003"></p><br><p>  De certa forma, usar "Let it Crash" para Erlang √© t√£o divertido quanto "Blow it up" [ <em>"</em> Blow it <em>!"</em>  <em>- aprox.</em>  <em>tradutor</em> ] para ci√™ncia de foguetes.  "Explodir" √© talvez a √∫ltima coisa que voc√™ deseja na ci√™ncia de foguetes, e a cat√°strofe do Challenger √© um lembrete v√≠vido disso.  Por outro lado, se voc√™ olhar para a situa√ß√£o de maneira diferente, os foguetes e todo o sistema de propuls√£o est√£o lidando com combust√≠veis perigosos que podem e v√£o explodir (e esse √© um momento arriscado), mas de maneira t√£o controlada que eles podem ser usados ‚Äã‚Äãpara organizar o espa√ßo viajando ou enviando cargas em √≥rbita. </p><br><p>  E o ponto aqui est√° realmente no controle;  voc√™ pode tentar considerar a ci√™ncia dos foguetes como uma maneira de domar corretamente as explos√µes - ou pelo menos o poder delas - para fazer o que quiser com elas.  Por sua vez, voc√™ pode ver "Deixe travar" do mesmo √¢ngulo: trata-se de toler√¢ncia a falhas.  A id√©ia n√£o est√° em falhas generalizadas n√£o controladas, √© transformar falhas, exce√ß√µes e falhas em ferramentas que podem ser usadas. </p><br><p><img src="https://habrastorage.org/webt/c5/ps/3g/c5ps3gwglll0lz5ev-1pljsyvpi.png" alt="004"></p><br><p>  Queda pr√≥xima [Queda pr√≥xima <em>- aprox.</em>  <em>tradutor</em> ] e o recozimento controlado s√£o um exemplo real de combate ao fogo com fogo.  Em Saguenay-lac-Saint-Jean, a regi√£o de onde eu venho, os campos de mirtilo s√£o regularmente queimados de maneira controlada para ajudar a estimular e retomar seu crescimento.  Muitas vezes, √© poss√≠vel ver √°reas insalubres da floresta derrubadas pelo fogo para evitar inc√™ndios, de modo que isso aconte√ßa sob supervis√£o e controle adequados.  O objetivo principal √© remover material combust√≠vel para que um inc√™ndio natural n√£o possa se espalhar mais. </p><br><p>  Em todas essas situa√ß√µes, o poder destrutivo do fogo varrendo culturas ou florestas √© usado para curar culturas ou impedir a destrui√ß√£o muito maior e descontrolada de florestas. </p><br><p>  Eu acho que o significado de "Let it crash" √© exatamente isso.  Se pudermos tirar proveito de falhas, falhas e exce√ß√µes e torn√°-lo uma maneira gerenci√°vel, eles deixar√£o de ser aquele evento assustador que precisa ser evitado e, em troca, se transformar√£o em um elemento de constru√ß√£o poderoso para a montagem de grandes sistemas confi√°veis. </p><br><p><img src="https://habrastorage.org/webt/oo/tu/3u/ootu3uvbrhs_irgopya5rfosn3g.png" alt="005"></p><br><p>  Assim, a quest√£o passa a ser como garantir que as falhas sejam mais construtivas do que destrutivas.  O principal chip para isso em Erlang √© o processo.  Os processos Erlang s√£o completamente isolados e t√™m uma arquitetura insepar√°vel (n√£o compartilham nada).  Nenhum processo pode rastrear a mem√≥ria de outra pessoa ou afetar o trabalho realizado distorcendo os dados usados.  Isso √© bom porque significa que um processo de morte com uma garantia de 100% manter√° seus problemas para si e fornecer√° ao sistema um isolamento de falhas muito forte. </p><br><p>  Os processos em Erlang tamb√©m s√£o extremamente leves, para que milhares e milhares deles possam trabalhar simultaneamente sem problemas.  A id√©ia √© usar quantos processos forem <em>necess√°rios</em> , e n√£o quantos voc√™ <em>puder pagar</em> .  Imagine que existe uma linguagem de programa√ß√£o orientada a objetos na qual, a qualquer momento, √© permitido ter no m√°ximo 32 objetos trabalhando simultaneamente.  Voc√™ chegaria rapidamente √† conclus√£o de que, para criar programas, as restri√ß√µes s√£o muito r√≠gidas e bastante rid√≠culas.  A presen√ßa de muitos pequenos processos fornece maior variabilidade de falhas.  Em um mundo onde queremos colocar o poder da falha ao servi√ßo, isso √© bom! </p><br><p>  O mecanismo dos processos em Erlang pode parecer um pouco estranho.  Quando voc√™ escreve um programa em C, voc√™ tem uma grande fun√ß√£o <code>main()</code> que faz uma tonelada de tudo.  Este √© o ponto de entrada para o programa.  N√£o existe tal coisa em Erlang.  Nenhum dos processos √© o principal.  Cada processo inicia uma fun√ß√£o, e essa fun√ß√£o desempenha o papel de <code>main()</code> desse processo espec√≠fico. </p><br><p>  Agora temos um enxame de abelhas, mas deve ser muito dif√≠cil envi√°-las para fortalecer a colm√©ia se elas n√£o puderem se comunicar de forma alguma.  Onde as abelhas dan√ßam [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">abelhas dan√ßam</a> - aprox.</em>  <em>tradutor</em> ], Erlang processa as mensagens. </p><br><p><img src="https://habrastorage.org/webt/4h/dl/be/4hdlbelfa7vvq542leolmbs--4a.png" alt="006"></p><br><p>  As mensagens s√£o a forma mais intuitiva de comunica√ß√£o em um ambiente competitivo.  Ela √© uma das pessoas mais velhas com quem lidar, desde os dias em que escrevemos cartas e as enviamos por correios a cavalo at√© mecanismos mais bizarros como os sem√°foros de Napole√£o [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sem√°foro √≥ptico</a> - aprox.</em>  <em>tradutor</em> ] mostrado na ilustra√ß√£o.  Neste √∫ltimo caso, voc√™ simplesmente envia um monte de caras para as torres, envia uma mensagem para eles e eles acenam sinalizadores para transmitir dados por longas dist√¢ncias de maneira mais r√°pida que os cavalos cansados.  Gradualmente, esse m√©todo foi substitu√≠do por um tel√©grafo, que, por sua vez, mudou o telefone e o r√°dio, e agora temos todas essas tecnologias da moda para enviar mensagens muito longe e muito r√°pido. </p><br><p>  Um aspecto extremamente importante de todas essas mensagens, especialmente nos velhos tempos, √© que tudo era ass√≠ncrono e as mensagens eram copiadas.  Ningu√©m ficou parado na varanda o dia inteiro esperando o correio retornar e ningu√©m (suspeito) estava sentado perto do sem√°foro, esperando uma resposta.  Voc√™ enviou uma mensagem e retornou √† sua empresa e, com o tempo, algu√©m lhe informou que uma resposta havia chegado. </p><br><p>  Isso √© bom - se o outro lado n√£o responder, voc√™ n√£o ficar√° preso na varanda at√© morrer.  Por outro lado, o destinat√°rio, por outro lado, n√£o ser√° confrontado com o fato de que uma mensagem recentemente recebida desapareceu ou mudou magicamente de repente, se voc√™ morrer repentinamente.  Os dados <em>devem ser</em> copiados ao enviar mensagens.  Esses dois princ√≠pios garantem que a falha durante a comunica√ß√£o n√£o leve a um estado distorcido ou irrepar√°vel [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">estado</a> - aprox.</em>  <em>tradutor</em> ].  Erlang implementa ambos. </p><br><p>  Cada processo possui sua pr√≥pria caixa de correio para todas as mensagens recebidas.  Qualquer pessoa pode gravar na caixa de correio do processo, mas apenas o propriet√°rio da caixa tem a oportunidade de examin√°-la.  Por padr√£o, as mensagens s√£o processadas na ordem em que s√£o recebidas, mas alguns recursos, como correspond√™ncia de <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">padr√µes</a></em> [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">correspond√™ncia de padr√µes</a> - aprox.</em>  <em>tradutor</em> ] permitem alterar prioridades e se concentrar constante ou temporariamente em qualquer tipo de mensagem. </p><br><p><img src="https://habrastorage.org/webt/0j/-s/yg/0j-sygp8b52b9w6r7gjfwkmikqa.png" alt="007"></p><br><p>  Alguns de voc√™s notar√£o a estranheza no que eu digo.  Continuo repetindo que o isolamento e a independ√™ncia s√£o t√£o maravilhosos que os componentes do sistema podem morrer e cair sem afetar o resto.  Mas tamb√©m mencionei a comunica√ß√£o entre muitos processos ou agentes. </p><br><p>  Cada vez no in√≠cio do di√°logo de dois processos, uma depend√™ncia impl√≠cita entre eles aparece.  Um estado impl√≠cito surge no sistema que conecta os dois.  Se o processo A envia uma mensagem para o processo B, e B morre sem responder, A pode esperar uma resposta para sempre ou depois de algum tempo se recusar a se comunicar.  A segunda √© uma estrat√©gia aceit√°vel, mas √© muito amb√≠gua: n√£o est√° totalmente claro se o lado remoto morreu ou est√° ocupado por tanto tempo e as mensagens sem contexto podem chegar √† sua caixa de correio. </p><br><p>  Em troca, Erlang nos fornece dois mecanismos para resolver esse problema: monitores e links [ <em>links - aprox.</em>  <em>tradutor</em> ]. </p><br><p>  Monitores s√£o sobre ser um observador.  Voc√™ decide ficar de olho no processo e, se ele morrer por algum motivo, uma mensagem o notificar√° do que aconteceu na sua caixa de entrada.  Voc√™ pode responder a isso e tomar decis√µes com base nas informa√ß√µes encontradas.  O segundo processo nunca saber√° que voc√™ fez tudo isso.  Portanto, os monitores s√£o muito bons se voc√™ √© um <em>observador.</em>  <em>tradutor</em> ] ou cuide do status do parceiro. </p><br><p>  Links [ <em>links - aprox.</em>  <em>tradutor</em> ] - bidirecional, e a cria√ß√£o de um combina o destino de ambos os processos relacionados.  Quando um processo morre, todos os processos associados a ele recebem um comando para finalizar [ <em>sinal de sa√≠da - aprox.</em>  <em>tradutor</em> ].  Esta equipe, por sua vez, mata outras pessoas [ <em>relacionadas - aprox.</em>  <em>tradutor</em> ] processos. </p><br><p>  Tudo isso se torna realmente interessante, porque voc√™ pode usar monitores para detectar rapidamente falhas e usar a liga√ß√£o como um projeto arquitet√¥nico que permite combinar v√°rios processos para que a falha se espalhe para eles como um todo.  Sempre que meus componentes independentes se tornarem viciados um com o outro, eu posso come√ßar a adicionar isso ao programa.  Isso √© √∫til porque evita que o sistema caia acidentalmente em estados inst√°veis ‚Äã‚Äãe parcialmente alterados.  As conex√µes garantem aos desenvolvedores: se algo quebrou, ele quebrou completamente, deixando para tr√°s uma folha em branco e de forma alguma afetou os componentes que n√£o participaram do exerc√≠cio. </p><br><p>  Para esta ilustra√ß√£o, escolhi a imagem de alpinistas amarrados com uma corda de seguran√ßa.  Se os escaladores estiverem conectados apenas um ao outro, eles se encontrar√£o em uma posi√ß√£o miser√°vel.  Cada vez que um √∫nico alpinista desliza, o restante da equipe morre imediatamente.  N√£o √© uma boa maneira de fazer neg√≥cios. </p><br><p>  Em vez disso, Erlang permite especificar que alguns processos s√£o especiais e marc√°-los com o par√¢metro <code>trap_exit</code> .  Eles poder√£o receber comandos de sa√≠da enviados por meio de comunica√ß√µes e convert√™-los em mensagens.  Isso permitir√° que eles solucionem problemas e possivelmente baixem um novo processo para concluir o trabalho do falecido.  Ao contr√°rio dos escaladores, um processo especial desse tipo n√£o pode impedir a queda do processo de parceria;  isso j√° √© de responsabilidade do pr√≥prio parceiro, implementado, por exemplo, usando constru√ß√µes <code>try ... catch</code> .  O processo, que captura os resultados, ainda n√£o tem a oportunidade de reproduzir a mem√≥ria de outro e salv√°-lo, mas pode evitar a morte conjunta. </p><br><p>  Isso est√° se tornando uma oportunidade crucial para criar supervisores.  Entraremos em contato com eles em breve. </p><br><p><img src="https://habrastorage.org/webt/uj/3c/wc/uj3cwcosbz6bxmjiz23lijkkepe.png" alt="008"></p><br><p>  Antes de passar para os supervisores, vamos dar uma olhada nos poucos ingredientes restantes que nos permitir√£o preparar com √™xito um sistema que usa gotas para nosso pr√≥prio benef√≠cio.  Um deles est√° relacionado ao funcionamento do agendador de processos.  O caso real ao qual gostaria de me referir √© o pouso na lua do Apollo 11 [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apollo 11</a> - aprox.</em>  <em>tradutor</em> ]. </p><br><p>  A Apollo 11 √© uma miss√£o que foi para a lua em 1969.  Na imagem, vemos o m√≥dulo lunar com Buzz Aldrin e Neil Armstrong a bordo, e acredito que a foto foi tirada por Michael Collins, que permaneceu no m√≥dulo de comando. </p><br><p>  No caminho para o pouso na lua, o m√≥dulo foi controlado pelo Apollo PGNCS (Sistema de orienta√ß√£o, navega√ß√£o e controle prim√°rio) [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apollo PGNCS</a> - aprox.</em>  <em>tradutor</em> ].  O sistema de controle executou v√°rias tarefas com um n√∫mero cuidadosamente calculado de ciclos [ <em>CPU - aprox.</em>  <em>tradutor</em> ] cada.  A NASA tamb√©m descobriu que o processador deve ser usado n√£o mais do que 85% de sua capacidade, com 15% livres em estoque. </p><br><p>  Como os astronautas queriam ter um plano de backup confi√°vel, caso precisassem interromper a miss√£o, deixaram o radar da reuni√£o com o m√≥dulo de comando e servi√ßo ligado - seria √∫til.  Isso decentemente carregou a energia restante da CPU.  Assim que Buzz Aldrin come√ßou a digitar comandos, come√ßaram a aparecer mensagens sobre sobrecarga e, de fato, sobre exceder o poder de computa√ß√£o dispon√≠vel.  Se o sistema tivesse se desviado disso, provavelmente n√£o teria sido capaz de fazer seu trabalho, e tudo teria terminado com dois astronautas mortos. </p><br><p>  Primeiro, a sobrecarga ocorreu porque o radar tinha um problema de hardware conhecido, fazendo com que sua frequ√™ncia fosse incompat√≠vel com a frequ√™ncia do computador de controle, o que levou a um "roubo" de um n√∫mero muito maior de ciclos do que seria usado de outra forma.  As pessoas da NASA n√£o eram idiotas e, em vez de usar novas tecnologias que n√£o foram testadas na vida real por uma miss√£o t√£o importante, elas reutilizaram componentes comprovados, dos quais eles conheciam erros raros.  Mas, mais importante, eles criaram um agendamento priorit√°rio. </p><br><p>  Isso significa que, quando esse radar, ou talvez os comandos inseridos, sobrecarregam o processador, suas tarefas s√£o interrompidas para dar ciclos de CPU √†s coisas vitais que t√™m maior prioridade e realmente precisam deles.  Foi em 1969. Hoje existem muito mais idiomas e estruturas que oferecem <em>apenas</em> despacho cooperativo e nada mais. </p><br><p>  Erlang n√£o √© uma linguagem que deva ser usada para sistemas vitais; ela leva em conta apenas <em>restri√ß√µes</em> suaves em <em>tempo</em> real <em>- aprox.</em>  <em>tradutor</em> ] e n√£o restri√ß√µes estritas em tempo real e, portanto, us√°-lo para esses cen√°rios n√£o seria uma boa ideia.  Mas Erlang fornece um planejamento proativo [ <em>ela √© uma programa√ß√£o preventiva, aprox.</em>  <em>tradutor</em> ] e prioriza√ß√£o de processos.  Isso significa que voc√™, como desenvolvedor ou arquiteto de sistema, <em>n√£o precisa</em> tomar cuidado para que, para evitar congelamentos, todo mundo calcule cuidadosamente a carga da CPU necess√°ria para seus componentes (incluindo as bibliotecas usadas).  Eles simplesmente n√£o podem obter esse poder.  E se voc√™ quiser que uma tarefa importante seja executada sempre que precisar, tamb√©m √© poss√≠vel fornec√™-la. </p><br><p>  Isso n√£o parece uma demanda s√©ria ou frequente, e as pessoas ainda lan√ßam projetos realmente bem-sucedidos baseados apenas no agendamento cooperativo de processos paralelos, mas certamente s√£o extremamente valiosos porque o protegem dos erros de outras pessoas e tamb√©m dos seus.  Tamb√©m abre a porta para mecanismos como balanceamento autom√°tico de carga, processos de ‚Äúpunir maus‚Äù ou ‚Äúincentivar bons‚Äù ou atribuir prioridades mais altas a processos com mais tarefas.  Tudo isso torna seus sistemas adapt√°veis ‚Äã‚Äão suficiente para cargas e eventos imprevistos. </p><br><p><img src="https://habrastorage.org/webt/wq/mb/_1/wqmb_164shnjhmu6a6ntxvgvxrq.png" alt="009"></p><br><p>  O √∫ltimo componente que gostaria de discutir como parte de garantir uma resili√™ncia decente √© a capacidade de trabalhar na rede.  Em qualquer sistema desenvolvido visando atividades de longo prazo, a capacidade de executar em mais de um computador rapidamente se torna um requisito obrigat√≥rio.  Voc√™ n√£o quer sentar em algum lugar trancado atr√°s de portas de tit√¢nio com seu carro de ouro, sem poder compensar falhas que afetam principalmente seus usu√°rios. </p><br><p>  Ent√£o, mais cedo ou mais tarde, voc√™ precisar√° de dois computadores, para que um sobreviva √† falha do segundo e possivelmente do terceiro, se voc√™ quiser implantar parte do seu sistema durante falhas. </p><br><p>  O avi√£o da ilustra√ß√£o - Mustang <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">F-82 Twin</a></em> [Mustang <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">F-82 Twin</a> - aprox.</em>  <em>tradutor</em> ], uma aeronave projetada durante a Segunda Guerra Mundial para escoltar bombardeiros por dist√¢ncias que a maioria dos outros ca√ßas simplesmente n√£o conseguia percorrer.  Ele tinha duas cabines, para que os pilotos pudessem controlar o dispositivo em turnos;  no momento certo, era poss√≠vel dividir responsabilidades para que um piloto pudesse pilotar o avi√£o e o segundo - controlar radares no papel de interceptador.  As aeronaves modernas ainda t√™m capacidades semelhantes;  eles t√™m in√∫meros sistemas duplicados e, com frequ√™ncia, os membros da tripula√ß√£o dormem durante o voo, para que haja sempre algu√©m pronto, se necess√°rio, para assumir imediatamente o controle da aeronave. </p><br><p>  Quanto √†s linguagens de programa√ß√£o ou ambientes de desenvolvimento, a maioria deles √© projetada sem a possibilidade de trabalho distribu√≠do, embora seja claro que, ao desenvolver uma pilha de servidores, voc√™ precisar√° trabalhar com mais de um servidor.  No entanto, se voc√™ estiver trabalhando com arquivos, existem ferramentas para isso na biblioteca padr√£o.  O m√°ximo que a maioria dos idiomas pode fornecer √© suporte a soquete ou um cliente HTTP. </p><br><p>  Erlang presta homenagem √† realidade dos sistemas distribu√≠dos e oferece uma implementa√ß√£o para sua cria√ß√£o, documentada e transparente.                  ,    ,          - [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pylyglot systems</a> ‚Äî . </em> ]. </p><br><p><img src="https://habrastorage.org/webt/g4/b_/lt/g4b_ltjffiuar1fb9oa7293wrzs.png" alt="010"></p><br><p>      " ".           -  ,        .  "Let it crash"  ,            ,    . </p><br><p>    ‚Äî  . </p><br><p><img src="https://habrastorage.org/webt/vb/ll/pc/vbllpcqbmwnw_eiwgrq0jqe-qxa.png" alt="011"></p><br><p>   [ <em>supervision trees ‚Äî . </em> ] ‚Äî ,          .      ‚Äî , ‚Äî    ‚Äî ,       . ,  ‚Äî     "OTP",   ,    "Erlang/OTP" [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OTP ‚Äî Open Telecom Platform</a> ‚Äî . </em> ]. </p><br><p>    ‚Äî  ,    ,     ,     ,  , ""      . ,      :     ,   ,    . </p><br><p>  ,       ,             ,  ,      ‚Äî . </p><br><p><img src="https://habrastorage.org/webt/-2/8n/nu/-28nnug_td8pihsjz_c1wntgp-g.png" alt="012"></p><br><p>           .          " ,  ".   ,                .        . </p><br><p>         .      "  " [ <em>one for one</em> ‚Äî . *].         .   ,         . </p><br><p>   ‚Äî "  " [ <em>one for all</em> ‚Äî . *].    ,       .     ,   ,      .   ,         .       ,   .  ,    ,     .        ,        ,  ! </p><br><p>     ,    ,  ,       . ,            .      :     ,       . </p><br><p>     ,      .   ‚Äî "  " [ <em>rest for one</em> ‚Äî . ].   ,     ,     .         . </p><br><p>        [ <em>,   ‚Äî       ‚Äî . </em> ]       .          1    ,        150   . </p><br><p><img src="https://habrastorage.org/webt/xs/ha/eb/xshaebmyrs9yt4t3liampbkbvac.png" alt="013"></p><br><p> ,       ,     "     ,    !" </p><br><p>   . ,    ,    ,     .          "" [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ‚Äî . </em> ]  "" [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ‚Äî . </em> ],  Jim Gray  1985  (         Jim Gray,    !) </p><br><p> -,  ‚Äî  ,  ,    .     .        ,     ,          . ,    ,   ,  ,      . </p><br><p>  ‚Äî    ,     , ,   . ,        ,  .     ,   ,   . </p><br><p>  ,  ,      . </p><br><p><img src="https://habrastorage.org/webt/zp/m6/q5/zpm6q50xldkaa60z7ag8grcdzbw.png" alt="014"></p><br><p>       ,   ‚Äî  . </p><br><p>        ,            .         ,     ,    . </p><br><p>   ,     ‚Äî , , .  ,        ‚Äî      ;            .      ,       ,          . ,  ,    ,          . </p><br><p>   ,     ,           . </p><br><p>        .     ,  ,        [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Property-Based Testing Basics</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Property-based testing</a> ‚Äî . </em> ]          (    ),    ‚Äî      -   ,       .              ,   ,      ,      . </p><br><p><img src="https://habrastorage.org/webt/_k/ut/dr/_kutdrcefbrinhvonznzo2_2tmq.png" alt="015"></p><br><p>                 (    ).                ,     ,    . </p><br><p>  ,             .   , ,  ,   ,        .          -     -. </p><br><p>          .   ,     ,      ,           ,   ,    ,            . </p><br><p>   ,      . Jim Gray,   , ,   132 ,     ,    .   131  132 ,   ,  .   ,      ,         ,         ,    ; ,      ,       ,  100 000   ,         ‚Äî        10 ,       - . </p><br><p>    ,    ,     . </p><br><p><img src="https://habrastorage.org/webt/fr/1k/bn/fr1kbnfbawhfneguwon5zwutoou.png" alt="016"></p><br><p>          ? </p><br><p> ,         .            .         ,    .      ,     ,      . ,    ""  Facebook   (    ),         ,     ,      Facebook      . </p><br><p>       ,  ,  ,    ,     .     ,               ,      . </p><br><p>                ,  .  : ,     ,     ,   ,       . </p><br><p>     ,       (     ),  ,     .    ,          . </p><br><p><img src="https://habrastorage.org/webt/sb/rn/fr/sbrnfrx7w9znbafp-_vwxwdx9wo.png" alt="017"></p><br><p>       ,       ,     .    ,     ,    ,      . </p><br><p>         ,    ,      . </p><br><p><img src="https://habrastorage.org/webt/sq/zy/ou/sqzyoupn8oasjejgpc6af_k_m4u.png" alt="018"></p><br><p>    ()      .         ,   :        .  Tally ()      ,   Live Reports (   )       . </p><br><p>                ,         .  District (;       )    ,      (Storage).    (Cache)         (     ) (Worker pool). </p><br><p>   [ <em>supervision strategies ‚Äî . </em> ],     ,         ,        ,      . ,      "  ", ,       ,      .      (   )    "  ".   ,    (OCR)        ,    ,    .   ,            ,     , ,    . </p><br><p>   OCR     ,   C   ,     .     ,     C,   ,    ,     . </p><br><p>   ,   ,   ,        .         10   ,                   ,   ,    . </p><br><p>      ,   ,     .      ,       .             ‚Äî          ,     . </p><br><p>  ,                 ,  ,             .   OCR  C ,       .         OCR  .     .     , ,   ( ).   ,      ,   ‚Äî    ,             . </p><br><p>   OCR ,  .     ,    ,       ‚Äî      .     ‚Äî .  ,      ,    ,       ,  -   ,      . </p><br><p>      ,        .  ,           ‚Äî  -   ,  -  (  ) ,  .   ,     ‚Äî ,       .    ‚Äî let it crash! </p><br><p>     .   ,        <code>if/else</code> ,  <code>switch</code> ',  <code>try/catch</code> .       , ,   ,    .       [ <em> ,  <strong></strong>    ‚Äî . </em> ],      . </p><br><p><img src="https://habrastorage.org/webt/dc/2q/zw/dc2qzwpr9u4m11jtss-7uvyxllg.png" alt="019"></p><br><p>          ,  ,    ,  ,           .      : ,        . </p><br><p>   ,    , ,          .                 (,  SMS). </p><br><p>        ,     ,   ,   ,       ,    . </p><br><p><img src="https://habrastorage.org/webt/rm/r4/2_/rmr42_x2zifjqnrex1dn2l1ma8i.png" alt="020"></p><br><p>        OTP. OTP- ‚Äî         ,   .           ,    ,       .  ,           ,    ,        .    ,     ,        ,   . </p><br><p> ,     OTP-  .        OTP-,       . [:    OTP-,        ,      ] </p><br><p>          : </p><br><ul><li>     ,   ; </li><li>      ,    ,        ,       ; </li><li>         ,   ; </li><li>      , ,      ,         ,   ; </li><li>    (     ,    ); </li><li>        . </li></ul><br><p>    .    ,            .     ,     ,   . ,    ‚Äî                ,  ,     . </p><br><p><img src="https://habrastorage.org/webt/pf/wf/ee/pfwfeeba4shco1wd7erg6fxkokg.png" alt="021"></p><br><p>         , ? , .    ,        Heroku   . </p><br><p>        .        (vegur)   , ,   ,    .     ,   ,     . </p><br><p>  -             ,     .     ,     :   500 000  1 000 000   !  ,  .   ?     ,    , , 100 000   ,   ? -  1:17000  1:7000.  ,           ,    ,    . </p><br><p>      ,    .  ,     ,  ,     .    ,        .   ,       ,       . </p><br><p><img src="https://habrastorage.org/webt/mk/zu/kv/mkzukv7enss2gsmcbq-dapizipk.png" alt="022"></p><br><p>             .            . </p><br><p>       ,         - : " ,   . ,  ,        ,     .     ,    ,    .        ,      ." </p><br><p>    .        . </p><br><p>     , ,      ,         60 .  ( United 734), ,  ,  ,   - .     ,    , ,   ,     ABS,   . </p><br><p>         (    ),        .     ,        .   ,    ,        . </p><br><p><img src="https://habrastorage.org/webt/ju/dm/ye/judmyeov9th5dngaa7_w12nqmgu.png" alt="023"></p><br><p> ,          .     (  ,   )  Richard Cook.      ,        YouTube,   . </p><br><p>       -             .    , , ,   .. ‚Äî             ( , ,    ..)  ,     ,   -  ,      . </p><br><p>      ,              ,        ,     .             ,        ,  -    -      . </p><br><p>         ,   ,      ,     .     ,  .     ,     . -  - ,    ,      ,     . </p><br><p><img src="https://habrastorage.org/webt/tq/34/2a/tq342a0ezu1my6wdctwcg_lhk4u.png" alt="024"></p><br><p>    ,        .   ,     ,   :      ,        .         .  ,       ,     ,    . </p><br><p>       ,     ,   ,    .    . </p><br><p><img src="https://habrastorage.org/webt/kg/t7/yt/kgt7ytnzlm7-jbexvv0jbiawbbg.png" alt="025"></p><br><p>    ,   ,  .         ,      ,     ,    . </p><br><p>     .     ,          ,   ,       -  , ,   ,     ,       ,          .     ,         . </p><br><p><img src="https://habrastorage.org/webt/a3/a2/f-/a3a2f-bkl6jpw-yuxyivilqnofy.png" alt="026"></p><br><p>  ,    'let it crash' ‚Äî    ,  ,      ,  ,  ,   ‚Äî ,    , ,    .            .   fail-fast  , ,           " ",         . </p><br><p>   ,     .   ,         ,       .        .  ,    ,      . Let it crash. </p><br><p><img src="https://habrastorage.org/webt/o7/js/ny/o7jsnyakbed6lj1fqusqojaqcfg.png" alt="027"></p><br><p>     :   ,   ,   ,    ‚Äî   .         ,      (   ,      !)      . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt443290/">https://habr.com/ru/post/pt443290/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt443280/index.html">A hist√≥ria de como montei um home theater de 120 polegadas com canos, cordas, uma tela dobr√°vel e veludo preto</a></li>
<li><a href="../pt443282/index.html">O que devemos construir uma blockchain?</a></li>
<li><a href="../pt443284/index.html">√çndices no PostgreSQL - 4 (Btree)</a></li>
<li><a href="../pt443286/index.html">TDMS Fairway. Mecanismo de preenchimento autom√°tico para as principais inscri√ß√µes nos desenhos e detalhes dos documentos</a></li>
<li><a href="../pt443288/index.html">Navega√ß√£o em projetos com v√°rios m√≥dulos</a></li>
<li><a href="../pt443292/index.html">Estudamos o princ√≠pio de opera√ß√£o de unidades em usando o exemplo da tarefa "Layout de um pr√©-carregador flex√≠vel"</a></li>
<li><a href="../pt443294/index.html">O que √© permitido pelo Jupyter?</a></li>
<li><a href="../pt443298/index.html">Carregamento sem fio. Como funciona na pr√°tica</a></li>
<li><a href="../pt443302/index.html">Como a Apple se prepara para uma era ap√≥s o iPhone</a></li>
<li><a href="../pt443304/index.html">Ser tecnof√≥bico √© in√∫til, mesmo que a tecnofobia seja justificada</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>