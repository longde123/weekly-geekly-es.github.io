<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö™Ô∏è üë©üèæ‚Äçüî¨ üé∫ Lombok rend la grandeur de Java üåé üìÆ üíÉüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Chez Grubhub, nous utilisons Java dans presque tout le backend. Il s'agit d'un langage √©prouv√© qui a prouv√© sa vitesse et sa fiabilit√© au cours des 20...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lombok rend la grandeur de Java</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438870/"><img src="https://habrastorage.org/webt/qu/kf/g_/qukfg_-dnnfp3q_c50xe3m4q2iu.png"><br><br>  Chez Grubhub, nous utilisons Java dans presque tout le backend.  Il s'agit d'un langage √©prouv√© qui a prouv√© sa vitesse et sa fiabilit√© au cours des 20 derni√®res ann√©es.  Mais au fil des ans, l'√¢ge du "vieil homme" a encore commenc√© √† affecter. <br><br>  Java est l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un des langages JVM les plus populaires</a> , mais pas le seul.  Ces derni√®res ann√©es, il a concurrenc√© Scala, Clojure et Kotlin, qui fournissent de nouvelles fonctionnalit√©s et des fonctionnalit√©s linguistiques optimis√©es.  En bref, ils vous permettent de faire plus avec un code plus concis. <br><a name="habracut"></a><br>  Ces innovations dans l'√©cosyst√®me JVM sont tr√®s int√©ressantes.  En raison de la concurrence, Java est oblig√© de changer pour rester comp√©titif.  Le nouveau calendrier de publication de six mois et plusieurs JEP (propositions d'am√©lioration JDK) dans Java 8 (Valhalla, Local-Variable Type Inference, Loom) sont la preuve que Java restera un langage comp√©titif pendant des ann√©es. <br><br>  Cependant, la taille et l'√©chelle de Java signifient que le d√©veloppement progresse plus lentement que nous le souhaiterions, sans parler de la forte volont√© de maintenir la compatibilit√© descendante √† tout prix.  Dans tout d√©veloppement, la premi√®re priorit√© devrait √™tre les fonctions, mais ici les fonctions n√©cessaires sont d√©velopp√©es trop longtemps, voire pas du tout, dans le langage.  C'est pourquoi nous, √† Grubhub, utilisons Project Lombok pour avoir Java optimis√© et am√©lior√© √† notre disposition en ce moment.  Le projet Lombok est un plugin de compilation qui ajoute de nouveaux ¬´mots cl√©s¬ª √† Java et transforme les annotations en code Java, r√©duisant l'effort de d√©veloppement et fournissant des fonctionnalit√©s suppl√©mentaires. <br><br><h1>  Configurer Lombok </h1><br>  Grubhub s'efforce toujours d'am√©liorer le cycle de vie des logiciels, mais chaque nouvel outil et processus a un co√ªt √† consid√©rer.  Heureusement, pour connecter Lombok, ajoutez simplement quelques lignes au fichier gradle. <br><br>  Lombok convertit les annotations du code source en instructions Java avant que le compilateur ne les traite: la d√©pendance <code>lombok</code> pas en runtime, donc l'utilisation du plugin n'augmentera pas la taille de l'assembly.  Pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">configurer Lombok avec Gradle</a> (cela fonctionne √©galement avec Maven), ajoutez simplement les lignes <i>suivantes</i> au fichier <i>build.gradle</i> : <br><br><pre> <code class="java hljs">plugins { id <span class="hljs-string"><span class="hljs-string">'io.franzbecker.gradle-lombok'</span></span> version <span class="hljs-string"><span class="hljs-string">'1.14'</span></span> id <span class="hljs-string"><span class="hljs-string">'java'</span></span> } repositories { jcenter() <span class="hljs-comment"><span class="hljs-comment">// or Maven central, required for Lombok dependency } lombok { version = '1.18.4' sha256 = "" }</span></span></code> </pre> <br>  Avec Lombok, notre code source ne <i>sera pas</i> un code Java valide.  Par cons√©quent, vous devrez installer un plug-in pour l'IDE, sinon l'environnement de d√©veloppement ne comprendra pas de quoi il s'agit.  Lombok prend en charge tous les principaux IDE Java.  Int√©gration transparente.  Toutes les fonctions comme ¬´afficher l'utilisation¬ª et ¬´passer √† l'impl√©mentation¬ª continuent de fonctionner comme avant, vous d√©pla√ßant vers le champ / la classe correspondant. <br><br><h1>  Lombok en action </h1><br>  La meilleure fa√ßon d'apprendre √† conna√Ætre Lombok est de le voir en action.  Prenons quelques exemples typiques. <br><br><h3>  Revivez l'objet POJO </h3><br>  Avec les ¬´bons vieux objets Java¬ª (POJO), nous s√©parons les donn√©es du traitement pour faciliter la lecture du code et rationaliser les transferts r√©seau.  Un POJO simple a plusieurs champs priv√©s, ainsi que les getters et setters correspondants.  Ils font le travail, mais n√©cessitent beaucoup de code passe-partout. <br><br>  Lombok aide √† utiliser POJO de mani√®re plus flexible et structur√©e sans code suppl√©mentaire.  Voici <code>@Data</code> nous simplifions le POJO sous-jacent avec l'annotation <code>@Data</code> : <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Data</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UUID userId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String email; }</code> </pre> <br>  <code>@Data</code> n'est qu'une annotation pratique qui applique plusieurs annotations Lombok √† la fois. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>@ToString</code></a> g√©n√®re une impl√©mentation pour la <code>toString()</code> , qui consiste en une repr√©sentation soign√©e de l'objet: le nom de la classe, tous les champs et leurs valeurs. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>@EqualsAndHashCode</code></a> g√©n√®re des impl√©mentations de <code>equals</code> et <code>hashCode</code> , qui par d√©faut utilisent des champs non statiques et non stationnaires, mais sont personnalisables. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>@Getter / @Setter</code></a> g√©n√®re des getters et setters pour les champs priv√©s. <br></li><li>  <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@RequiredArgsConstructor</a></code> cr√©e un constructeur avec les arguments requis, o√π les champs finaux et les champs avec l'annotation <code>@NonNull</code> sont <code>@NonNull</code> (plus de d√©tails ci-dessous). </li></ul><br>  Cette annotation √† elle seule couvre simplement et avec √©l√©gance de nombreux cas d'utilisation typiques.  Mais POJO ne couvre pas toujours les fonctionnalit√©s n√©cessaires.  <code>@Data</code> est une classe enti√®rement modifiable, dont l'abus peut augmenter la complexit√© et limiter la concurrence, ce qui affecte n√©gativement la capacit√© de survie de l'application. <br><br>  Il y a une autre solution.  Revenons √† notre classe <code>User</code> , rendons-la immuable et ajoutons quelques autres annotations utiles. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>(toBuilder = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UUID userId; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> String email; <span class="hljs-meta"><span class="hljs-meta">@Singular</span></span> Set&lt;String&gt; favoriteFoods; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>.Default String avatar = ‚Äú<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>.png‚Äù; }</code> </pre> <br>  L'annotation <code>@Value</code> similaire √† <code>@Data</code> sauf que tous les champs sont priv√©s et d√©finitifs par d√©faut, et les setters ne sont pas cr√©√©s.  Gr√¢ce √† cela, les objets <code>@Value</code> deviennent imm√©diatement immuables.  Puisque tous les champs sont finaux, il n'y a pas de constructeur d'argument.  Au lieu de cela, Lombok utilise le <code>@AllArgsConstructor</code> .  Le r√©sultat est un objet enti√®rement fonctionnel et immuable. <br><br>  Mais l'immuabilit√© n'est pas tr√®s utile si vous avez seulement besoin de cr√©er un objet en utilisant le constructeur all-args.  Comme l'explique Joshua Bloch dans son livre Effective Java Programming, vous devez utiliser des g√©n√©rateurs si vous avez un grand nombre de param√®tres de concepteur.  Ici, la classe <code>@Builder</code> entre en <code>@Builder</code> , g√©n√©rant automatiquement la classe interne du g√©n√©rateur: <br><br><pre> <code class="java hljs">User user = User.builder() .userId(UUID.random()) .email(‚Äúgrubhub<span class="hljs-meta"><span class="hljs-meta">@grubhub</span></span>.com‚Äù) .favoriteFood(‚Äúburritos‚Äù) .favoriteFood(‚Äúdosas‚Äù) .build()</code> </pre> <br>  La g√©n√©ration d'un g√©n√©rateur facilite la cr√©ation d'objets avec un grand nombre d'arguments et l'ajout de nouveaux champs √† l'avenir.  La m√©thode statique renvoie une instance du g√©n√©rateur pour d√©finir toutes les propri√©t√©s de l'objet.  Apr√®s cela, l'appel √† <code>build()</code> renvoie l'instance. <br><br>  L' <code>@NonNull</code> peut √™tre utilis√©e pour <code>@NonNull</code> que ces champs ne sont pas nuls lors de la cr√©ation d'une instance de l'objet; sinon, une exception <code>NullPointerException</code> lev√©e.  Notez que le champ d'avatar est annot√© avec <code>@NonNull</code> mais n'est pas d√©fini.  Le fait est que l'annotation <code>@Builder.Default</code> pointe vers <i>default.png</i> par d√©faut. <br><br>  Notez √©galement comment le g√©n√©rateur utilise <code>favoriteFood</code> , le seul nom de propri√©t√© de notre objet.  Lors du placement d'annotations <code>@Singular</code> sur une propri√©t√© de collection, Lombok cr√©e des m√©thodes de g√©n√©rateur sp√©ciales pour ajouter des √©l√©ments √† la collection individuellement, et non pour ajouter la collection enti√®re en m√™me temps.  C'est particuli√®rement bon pour les tests, car les moyens de cr√©er de petites collections en Java ne peuvent pas √™tre appel√©s simples et rapides. <br><br>  Enfin, le param√®tre <code>toBuilder = true</code> ajoute la m√©thode d'instance <code>toBuilder()</code> , qui cr√©e un objet de g√©n√©rateur rempli avec toutes les valeurs de cette instance.  Il est si facile de cr√©er une nouvelle instance, pr√©remplie avec toutes les valeurs de l'original, de sorte qu'il ne reste plus qu'√† modifier les champs n√©cessaires.  Ceci est particuli√®rement utile pour les classes <code>@Value</code> , car les champs sont immuables. <br><br>  Quelques notes personnalisent davantage les fonctions sp√©ciales du setter.  <code>@Wither</code> cr√©e des m√©thodes <code>@Wither</code> pour chaque propri√©t√©.  En entr√©e, la valeur; en sortie, le clone de l'instance avec la valeur mise √† jour d'un champ.  <code>@Accessors</code> vous permet de configurer des setters cr√©√©s automatiquement.  Le param√®tre <code>fluent=true</code> d√©sactive les conventions get et set pour les getters et les setters.  Dans certaines situations, cela peut √™tre un remplacement utile pour <code>@Builder</code> . <br><br>  Si l'impl√©mentation de Lombok ne convient pas √† votre t√¢che (et que vous avez examin√© les modificateurs d'annotation), vous pouvez toujours simplement prendre et √©crire votre propre impl√©mentation.  Par exemple, si vous avez la classe <code>@Data</code> , mais qu'un getter a besoin d'une logique personnalis√©e, impl√©mentez simplement ce getter.  Lombok verra que l'impl√©mentation est d√©j√† fournie et ne l'√©crasera pas avec l'impl√©mentation cr√©√©e automatiquement. <br><br>  Avec seulement quelques annotations simples, le POJO de base a re√ßu tant de fonctionnalit√©s riches qui simplifient son utilisation sans charger le travail de nos ing√©nieurs, sans perdre de temps ni augmenter les co√ªts de d√©veloppement. <br><br><h3>  Suppression du code de mod√®le </h3><br>  Lombok est utile non seulement pour POJO: il peut √™tre appliqu√© √† n'importe quel niveau de l'application.  Les utilisations suivantes de Lombok sont particuli√®rement utiles dans les classes de composants telles que les contr√¥leurs, les services et les DAO (objets d'acc√®s aux donn√©es). <br><br>  La journalisation est une exigence de base pour toutes les parties du programme.  Toute classe qui fait un travail significatif devrait √©crire un journal.  Ainsi, l'enregistreur standard devient un mod√®le pour chaque classe.  Lombok simplifie ce mod√®le en une seule annotation qui identifie et instancie automatiquement un enregistreur avec le nom de classe correct.  Il existe plusieurs annotations diff√©rentes selon la structure du journal. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Slf</span></span>4j <span class="hljs-comment"><span class="hljs-comment">// also: @CommonsLog @Flogger @JBossLog @Log @Log4j @Log4j2 @XSlf4j public class UserService { // created automatically // private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(UserService.class); }</span></span></code> </pre> <br>  Apr√®s avoir d√©clar√© l'enregistreur, ajoutez nos d√©pendances: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Slf</span></span>4j <span class="hljs-meta"><span class="hljs-meta">@RequiredArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@FieldDefaults</span></span>(makeFinal=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, level=AccessLevel.PRIVATE) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UserDao userDao; }</code> </pre> <br>  L' <code>@FieldDefaults</code> ajoute des modificateurs finaux et priv√©s √† tous les champs.  <code>@RequiredArgsConstructor</code> cr√©e un constructeur qui configure une instance de <code>UserDao</code> .  L' <code>@NonNull</code> ajoute une validation dans le constructeur et <code>UserDao</code> <code>NullPointerException</code> si l'instance <code>UserDao</code> est nulle. <br><br><h1>  Mais attendez, ce n'est pas tout! </h1><br>  Il existe de nombreuses autres situations o√π Lombok fait de son mieux.  Les sections pr√©c√©dentes ont montr√© des exemples sp√©cifiques, mais Lombok peut faciliter le d√©veloppement dans de nombreux domaines.  Voici quelques petits exemples de la fa√ßon de l'utiliser plus efficacement. <br><br>  Bien que le mot cl√© <code>var</code> apparu dans Java 9, la variable peut toujours √™tre r√©affect√©e.  Lombok a le mot-cl√© <code>val</code> , qui affiche le type final d'une variable locale. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// final Map map = new HashMap&lt;Integer, String&gt;(); val map = new HashMap&lt;Integer, String&gt;();</span></span></code> </pre> <br>  Certaines classes avec des fonctions purement statiques ne sont pas destin√©es √† √™tre initialis√©es.  Une fa√ßon d'emp√™cher l'instanciation consiste √† d√©clarer un constructeur priv√© qui l√®ve une exception.  Lombok a codifi√© ce mod√®le dans l'annotation <code>@UtilityClass</code> .  Il g√©n√®re un constructeur priv√© qui l√®ve une exception, g√©n√®re finalement la classe et rend toutes les m√©thodes statiques. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@UtilityClass</span></span> <span class="hljs-comment"><span class="hljs-comment">// will be made final public class UtilityClass { // will be made static private final int GRUBHUB = ‚Äú GRUBHUB‚Äù; // autogenerated by Lombok // private UtilityClass() { // throw new java.lang.UnsupportedOperationException("This is a utility class and cannot be instantiated"); //} // will be made static public void append(String input) { return input + GRUBHUB; } }</span></span></code> </pre> <br>  Java est souvent critiqu√© pour sa verbosit√© en raison d'exceptions v√©rifi√©es.  Une annotation Lombok distincte les corrige: <code>@SneakyThrows</code> .  Comme pr√©vu, la mise en ≈ìuvre est assez d√©licate.  Il n'attrape pas les exceptions ni m√™me <code>RuntimeException</code> exceptions dans une <code>RuntimeException</code> .  Au lieu de cela, il repose sur le fait que la JVM ne v√©rifie pas la coh√©rence des exceptions v√©rifi√©es au moment de l'ex√©cution.  Seul javac fait cela.  Par cons√©quent, Lombok utilise la conversion de bytecode au moment de la compilation pour d√©sactiver cette v√©rification.  Le r√©sultat est un code ex√©cutable. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SneakyThrows</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@SneakyThrows</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sneakyThrow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Exception(); } }</code> </pre> <br><h1>  Comparaison c√¥te √† c√¥te </h1><br>  Les comparaisons directes montrent le mieux la quantit√© de code que Lombok enregistre.  Le plugin IDE poss√®de une fonction ¬´de-lombok¬ª qui convertit approximativement la plupart des annotations Lombok en code Java natif (les annotations <code>@NonNull</code> ne <code>@NonNull</code> pas converties).  Ainsi, n'importe quel IDE avec le plugin install√© pourra convertir la plupart des annotations en code Java natif et vice versa.  Retour √† notre classe <code>User</code> . <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>(toBuilder = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UUID userId; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> String email; <span class="hljs-meta"><span class="hljs-meta">@Singular</span></span> Set&lt;String&gt; favoriteFoods; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>.Default String avatar = ‚Äú<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>.png‚Äù; }</code> </pre> <br>  La classe Lombok est compos√©e de 13 lignes simples, lisibles et compr√©hensibles.  Mais apr√®s avoir ex√©cut√© de-lombok, la classe se transforme en plus d'une centaine de lignes de code passe-partout! <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UUID userId; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> String email; Set&lt;String&gt; favoriteFoods; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>.Default String avatar = <span class="hljs-string"><span class="hljs-string">"default.png"</span></span>; <span class="hljs-meta"><span class="hljs-meta">@java</span></span>.beans.ConstructorProperties({<span class="hljs-string"><span class="hljs-string">"userId"</span></span>, <span class="hljs-string"><span class="hljs-string">"email"</span></span>, <span class="hljs-string"><span class="hljs-string">"favoriteFoods"</span></span>, <span class="hljs-string"><span class="hljs-string">"avatar"</span></span>}) User(UUID userId, String email, Set&lt;String&gt; favoriteFoods, String avatar) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId = userId; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email = email; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods = favoriteFoods; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar = avatar; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">builder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UserBuilder(); } <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UUID </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId; } <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getEmail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Set&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFavoriteFoods</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods; } <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAvatar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">equals</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object o)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (o == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(o <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> User)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> User other = (User) o; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$userId = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUserId(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$userId = other.getUserId(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$userId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$userId != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$userId.equals(other$userId)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$email = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmail(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$email = other.getEmail(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$email == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$email != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$email.equals(other$email)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFavoriteFoods(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$favoriteFoods = other.getFavoriteFoods(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$favoriteFoods != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$favoriteFoods.equals(other$favoriteFoods)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$avatar = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAvatar(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$avatar = other.getAvatar(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$avatar == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$avatar != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$avatar.equals(other$avatar)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hashCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> PRIME = <span class="hljs-number"><span class="hljs-number">59</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $userId = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUserId(); result = result * PRIME + ($userId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $userId.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $email = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmail(); result = result * PRIME + ($email == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $email.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFavoriteFoods(); result = result * PRIME + ($favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $favoriteFoods.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $avatar = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAvatar(); result = result * PRIME + ($avatar == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $avatar.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"User(userId="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUserId() + <span class="hljs-string"><span class="hljs-string">", email="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmail() + <span class="hljs-string"><span class="hljs-string">", favoriteFoods="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFavoriteFoods() + <span class="hljs-string"><span class="hljs-string">", avatar="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAvatar() + <span class="hljs-string"><span class="hljs-string">")"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toBuilder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UserBuilder().userId(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId).email(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email).favoriteFoods(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods).avatar(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserBuilder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UUID userId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String email; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayList&lt;String&gt; favoriteFoods; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String avatar; UserBuilder() { } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">userId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UUID userId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId = userId; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">email</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String email)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email = email; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">favoriteFood</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String favoriteFood)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.add(favoriteFood); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">favoriteFoods</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collection&lt;? extends String&gt; favoriteFoods)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.addAll(favoriteFoods); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clearFavoriteFoods</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.clear(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">avatar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String avatar)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar = avatar; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Set&lt;String&gt; favoriteFoods; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">0</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: favoriteFoods = java.util.Collections.emptySet(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: favoriteFoods = java.util.Collections.singleton(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.get(<span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> java.util.LinkedHashSet&lt;String&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size() &lt; <span class="hljs-number"><span class="hljs-number">1073741824</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size() + (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size() - <span class="hljs-number"><span class="hljs-number">3</span></span>) / <span class="hljs-number"><span class="hljs-number">3</span></span> : Integer.MAX_VALUE); favoriteFoods.addAll(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods); favoriteFoods = java.util.Collections.unmodifiableSet(favoriteFoods); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User(userId, email, favoriteFoods, avatar); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"User.UserBuilder(userId="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId + <span class="hljs-string"><span class="hljs-string">", email="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email + <span class="hljs-string"><span class="hljs-string">", favoriteFoods="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods + <span class="hljs-string"><span class="hljs-string">", avatar="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar + <span class="hljs-string"><span class="hljs-string">")"</span></span>; } } }</code> </pre> <br>  Nous ferons de m√™me pour la classe <code>UserService</code> . <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Slf</span></span>4j <span class="hljs-meta"><span class="hljs-meta">@RequiredArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@FieldDefaults</span></span>(makeFinal=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, level=AccessLevel.PRIVATE) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UserDao userDao; }</code> </pre> <br>  Voici un exemple d'homologue en code Java standard. <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(UserService.class); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> UserDao userDao; <span class="hljs-meta"><span class="hljs-meta">@java</span></span>.beans.ConstructorProperties({<span class="hljs-string"><span class="hljs-string">"userDao"</span></span>}) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UserService</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UserDao userDao)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (userDao == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NullPointerException(<span class="hljs-string"><span class="hljs-string">"userDao is marked @NonNull but is null"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userDao = userDao; } }</code> </pre> <br><h1>  √âvaluation de l'effet </h1><br>  Grubhub compte plus d'une centaine de services commerciaux de livraison de nourriture.  Nous en avons pris un et avons lanc√© la fonction ¬´de-lombok¬ª dans le plugin Lombok IntelliJ.  En cons√©quence, environ 180 fichiers ont chang√© et la base de code a augment√© d'environ 18 000 lignes de code apr√®s avoir supprim√© 800 cas d'utilisation de Lombok.  En moyenne, chaque ligne Lombok enregistre 23 lignes Java.  Avec cet effet, il est difficile d'imaginer Java sans Lombok. <br><br><h1>  R√©sum√© </h1><br>  Lombok est un excellent assistant qui impl√©mente de nouvelles fonctionnalit√©s de langage sans n√©cessiter beaucoup d'efforts de la part du d√©veloppeur.  Bien s√ªr, il est plus facile d'installer le plugin que de former tous les ing√©nieurs dans une nouvelle langue et de porter le code existant.  Lombok n'est pas omnipotent, mais hors de la bo√Æte est assez puissant pour vraiment aider dans le travail. <br><br>  Un autre avantage de Lombok est qu'il maintient des bases de code coh√©rentes.  Nous avons plus d'une centaine de services diff√©rents et une √©quipe distribu√©e √† travers le monde, donc la coh√©rence des bases de code facilite la mise √† l'√©chelle des √©quipes et r√©duit la charge de changement de contexte lors du d√©marrage d'un nouveau projet.  Lombok fonctionne pour n'importe quelle version depuis Java 6, nous pouvons donc compter sur sa disponibilit√© dans tous les projets. <br><br>  Pour Grubhub, c'est plus que de nouvelles fonctionnalit√©s.  Au final, tout ce code <i>peut √™tre</i> √©crit manuellement.  Mais Lombok simplifie les parties ennuyeuses de la base de code sans affecter la logique m√©tier.  Cela vous permet de vous concentrer sur des choses qui sont vraiment importantes pour l'entreprise et les plus int√©ressantes pour nos d√©veloppeurs.  Le code de mod√®le Monton est une perte de temps pour les programmeurs, les r√©viseurs et les mainteneurs.  De plus, comme ce code n'est plus √©crit manuellement, il √©limine des classes enti√®res de fautes de frappe.  Les avantages de l'auto- <code>@NonNull</code> combin√©s √† la puissance de <code>@NonNull</code> r√©duisent les risques d'erreurs et aident notre d√©veloppement, qui vise √† livrer de la nourriture √† votre table! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr438870/">https://habr.com/ru/post/fr438870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr438858/index.html">Comment utiliser la segmentation, le ciblage et le positionnement (STP) dans l'√©laboration d'une strat√©gie marketing</a></li>
<li><a href="../fr438862/index.html">D√©ployez une application Web isomorphe en utilisant Nuxt.js comme exemple.</a></li>
<li><a href="../fr438864/index.html">Gel des fonctionnalit√©s C ++ 20. Coroutines, modules et plus</a></li>
<li><a href="../fr438866/index.html">G√©n√©rateurs contre syntaxe Java</a></li>
<li><a href="../fr438868/index.html">Semaine de la s√©curit√© 06: en direct sur FaceTime</a></li>
<li><a href="../fr438874/index.html">Commencer une amiti√© avec VkNet</a></li>
<li><a href="../fr438876/index.html">Comment raccourcir le time-to-market: une histoire sur l'automatisation des tests dans M. Video</a></li>
<li><a href="../fr438878/index.html">L'apparition du film en torrents apr√®s la premi√®re augmente le box-office de 3%</a></li>
<li><a href="../fr438880/index.html">Quand utiliser var, let et const en Javascript [traduction de l'article de Tyler McGinnis]</a></li>
<li><a href="../fr438882/index.html">La probabilit√© de gagner un match avec une probabilit√© connue de gagner un point</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>