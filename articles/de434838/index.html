<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüî¨ üôã üíá Erstellen eines Bots zur Teilnahme am CodeBall des russischen AI Cup 2018 üëêüèª üìç üëâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es ist Tradition geworden, dass der Gewinner oder nur ein Spieler nach Sportprogrammwettbewerben einen Artikel √ºber Habr√© ver√∂ffentlicht, um zu erkl√§r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen eines Bots zur Teilnahme am CodeBall des russischen AI Cup 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434838/"><img src="https://habrastorage.org/webt/sg/pq/la/sgpqlaxh9ox5tpwgvj2svnw9vgq.jpeg"><br><br>  Es ist Tradition geworden, dass der Gewinner oder nur ein Spieler nach Sportprogrammwettbewerben einen Artikel √ºber Habr√© ver√∂ffentlicht, um zu erkl√§ren, wie gro√üartig es war, an dem Wettbewerb teilzunehmen und als Option, um daran zu gewinnen.  Nat√ºrlich kann aus seinem Artikel viel f√ºr zuk√ºnftige Wettbewerbe entnommen werden. <br><br>  Ich denke jedoch, dass es nur wenige Artikel √ºber die Teilnahme am aktuellen Wettbewerb in der Beta-Testphase gibt. Es ist klar, dass Sie den Entscheidungscode nicht ver√∂ffentlichen k√∂nnen. Es ist immer noch nicht bekannt, wie gut diese Entscheidung ist, und vieles ist noch unbekannt, denn dies ist tats√§chlich erst der Beginn des Turniers, aber das ist der Reiz.  Der Autor gibt dem Leser die M√∂glichkeit, in einen abfahrenden Zug einzusteigen und eine Neujahrsreise in die Welt der Spielstrategien zu genie√üen. <br><a name="habracut"></a><br>  Zun√§chst einmal danke ich Ihnen, dass Sie den Artikel ge√∂ffnet haben. Ich m√∂chte sofort ein Geheimnis preisgeben: Dies wird eine Reihe von Artikeln sein, in denen ich hoffe, genetische Algorithmen und neuronale Netze ansprechen zu k√∂nnen.  In der Zwischenzeit, wie bereits oben geschrieben, herzlich willkommen zu einem Ausflug zum russischen AI Cup CodeBall. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link zur Schnellstartseite der Meisterschaft.</a> <br><br>  Unter dem obigen Link kann der Leser die Regeln der Meisterschaft, die Spielregeln selbst und den Hauptteil des mathematischen Apparats finden, der zum Erstellen des Bots erforderlich ist.  Auf der Schnellstartseite finden Sie auch Beispiele f√ºr bereits geschriebene Bots f√ºr verschiedene Programmiersprachen, was den ersten Start erheblich erleichtert. <br><br>  Beginnen wir mit einem einfachen CodeBall-Meistertitel. <br><br>  Eine sch√∂ne Kombination aus den W√∂rtern Code und Ball, fast Fu√üball.  Die Regeln und die Logik des Spiels sind ebenfalls √§hnlich wie beim Fu√üball, aber mit jeder Runde werden sie komplizierter. Daher werden wir die Anfangsbedingungen der Spiele als Grundlage nehmen. <br><br>  Die Essenz des Spiels, wie in einem k√ºrzlich erschienenen Song angegeben: Die Spieler m√ºssen ein Tor erzielen und der Torh√ºter muss die B√§lle schlagen. <br><br>  Schematisches Spielfeld: <br><br><img src="https://habrastorage.org/webt/hv/bg/2t/hvbg2teknndzvxg8kwbyjzaf-m0.jpeg"><br><br>  Bitte beachten Sie, dass sich die Bots in der Ebene des XZ-Arenabodens bewegen. Die Y-Achse ist f√ºr die H√∂he des Spielobjekts verantwortlich. <br><br>  Auch schematisch Objekte des Spiels (Ball und Bots (die Organisatoren nennen sie Roboter)) <br><br><img src="https://habrastorage.org/webt/d6/vx/rk/d6vxrkqw2yuka3viojviisk62l8.jpeg"><br><br>  Nun etwas Text zur Unterst√ºtzung der Bilder.  Das Spielfeld ist ein dreidimensionaler geschlossener Raum, weder der Ball noch die Bots k√∂nnen dar√ºber hinausgehen.  In diesem Bereich gibt es zwei Bereiche des ‚ÄûTors‚Äú, in denen der Ball von einem der Spieler als erzielt gilt.  Damit das Tor gez√§hlt werden kann, muss sich der Ball vollst√§ndig hinter den Torlinien befinden (in der Abbildung durch eine gepunktete Linie gekennzeichnet). <br><br>  Um die Berechnung von Kollisionen (Kollisionen) von Spielobjekten (Arena, Ball, Bots) zu vereinfachen, werden Bots und der Ball als ideale Kugeln (B√§lle) betrachtet, die durch die folgenden Werte beschrieben werden: Radius der Kugel, Koordinate des Kugelmittelpunkts, Masse, Geschwindigkeit.  Die Arena wird auch durch ideale mathematische Grundelemente beschrieben, so dass auf die Kollisionsberechnung ohne Beteiligung von Polygonen verzichtet wird, was die Aufgabe erheblich vereinfacht.  Wenn Sie bis zum Ende durch die Meisterschaftsregeln scrollen, findet der Leser ein Programm auf dem Pseudocode, das nur f√ºr die obigen Berechnungen verantwortlich ist.  Dieser Pseudocode wird nach geringem Aufwand in die Programmiersprache Ihrer Wahl √ºbersetzt und ist durchaus praktikabel.  Aber dazu sp√§ter mehr. <br><br>  Ein paar Worte zur Physik der Spielwelt.  Um dem Geschehen in der Arena Glaubw√ºrdigkeit zu verleihen, wird die Schwerkraft eingef√ºhrt, dh Bots und der Ball werden st√§ndig von der Schwerkraft beeinflusst, die relativ zum Boden der Arena nach unten gerichtet ist.  Die anderen Formen der physischen Interaktion wie Reibung oder Winkelgeschwindigkeiten (Rotation) von Objekten wurden von den Organisatoren zugunsten der Einfachheit der Beschreibung der physischen Welt ignoriert.  Wenn der Ball gegen die W√§nde der Arena schl√§gt, verliert er einen Teil seiner Energie, aber dies erschwert die Welt nicht sehr und es ist von au√üen verst√§ndlich, dass es keine M√∂glichkeit gibt, eine Perpetual-Motion-Maschine in Form eines Balls zu schaffen. <br><br>  Um die Welt noch plausibler erscheinen zu lassen, wurde ein Berechnungsschema mit Zecken und Mikrotiks angewendet.  In <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">seinem ersten Artikel ging der</a> Autor ausf√ºhrlich auf das Konzept der Teakholzspielzeit ein.  In diesem Wettbewerb k√∂nnen wir uns die physische Engine in den Quellcodes ansehen, wie er sagte, es wird f√ºr uns in Zukunft n√ºtzlich sein und feststellen, dass es f√ºr die Spieler Tics gibt, und innerhalb der Engine passiert alles in Mikrotik, standardm√§√üig 100 Mikrotik in einem Tick, was es m√∂glich macht, genauer zu sein Beschreiben Sie Kollisionen von Objekten und vermeiden Sie unangenehme Dinge wie das Versagen von Objekten au√üerhalb der Arena oder das Versagen von Objekten ineinander, was zu Fehlern in der Interaktion zwischen ihnen f√ºhrt. <br><br><img src="https://habrastorage.org/webt/x-/-3/yw/x--3ywtl_im8cqna5u8kzhaxol4.jpeg"><br><br>  Wir haben die Welt (Arena) und die Spielzeit herausgefunden. Schauen wir uns die Spielobjekte an: Bots und den Ball.  Der Ball, den wir bereits aus den Wettbewerbsregeln herausgefunden haben, ist eine Kugel.  Kurz gesagt, ein Bot ist eine Kugel mit einem kleineren Radius und einer gr√∂√üeren Masse, der Befehle gegeben werden k√∂nnen: Geben Sie die gew√ºnschte Geschwindigkeit (dies ist ein dreidimensionaler Vektor, der sowohl Richtung als auch L√§nge oder Gr√∂√üe der Geschwindigkeit enth√§lt) und die St√§rke des Sprunges an, wenn der Sprung derzeit aus der Sicht ratsam ist die Logik des Spiels.  In dieser Phase des Wettbewerbs wurde eine Vereinfachung eingef√ºhrt: Wenn der Bot im Flug ist (die W√§nde der Arena nicht ber√ºhrt), kann er keine Befehle zum √Ñndern der Geschwindigkeit ausf√ºhren. <br><br>  Wir wenden uns dem Schwierigsten zu oder umgekehrt, alles h√§ngt von der Erfahrung des Lesers bei der Arbeit mit dreidimensionalen Vektoren ab.  Beschreibung des Standorts von Spielobjekten.  Unterst√ºtzungsbild <br><br><img src="https://habrastorage.org/webt/hi/o_/oc/hio_ocfzpjgrcca_8txes-nvuno.jpeg"><br><br>  Kommen wir zur Botanik. <br><br>  Bei jedem Spiel-Tick erh√§lt Ihre Strategie die folgenden Objekte: <br><br>  Ball: <br><br><pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Ball</span></span></span><span class="hljs-class">:</span></span> x: Float <span class="hljs-comment"><span class="hljs-comment">//     y: Float z: Float velocity_x: Float //    velocity_y: Float velocity_z: Float radius: Float //  </span></span></code> </pre> <br>  und eine Liste von Bots mit Daten f√ºr jeden Bot: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Robot</span></span></span><span class="hljs-class">:</span></span> id: Int player_id: Int is_teammate: Bool <span class="hljs-comment"><span class="hljs-comment">// true,      x: Float //     y: Float z: Float velocity_x: Float //    velocity_y: Float velocity_z: Float radius: Float //    nitro_amount: Float //     touch: bool // true,      touch_normal_x: Float //        touch_normal_y: Float ( null,   ) touch_normal_z: Float</span></span></code> </pre><br>  Sie k√∂nnen sofort erkennen, dass es unpraktisch ist, mit diesen Daten zu arbeiten. Es ist w√ºnschenswert, einen Klassen- (Objekt-) 3D-Vektor und einen Klassen-2D-Vektor einzuf√ºhren.  Viel h√§ngt von der Programmiersprache Ihrer Wahl ab.  Normalerweise sind diese Klassen bereits geschrieben und f√ºr die gew√ºnschte Programmiersprache leicht im Internet zu finden.  Der Autor schreibt jetzt einen Bot in c ++, wird aber versuchen, sich auf Pseudocode zu beschr√§nken.  Wenn Sie vollwertige Klassen von Vektoren einf√ºhren, bleiben die Operationen der Addition, Subtraktion, Multiplikation, Normalisierung und anderer Vektoroperationen innerhalb der Klasse, was die Arbeit an der Strategie erheblich vereinfacht. <br><br>  Es gibt auch eine Spielerklasse, die angibt, welche Bots aus der Liste Ihnen geh√∂ren, welche: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Player</span></span></span><span class="hljs-class">:</span></span> id: Int me: Bool <span class="hljs-comment"><span class="hljs-comment">// true,      strategy_crashed: Bool score: Int //   </span></span></code> </pre> <br>  Nachdem Sie Daten √ºber die Spielwelt an die Eingabe Ihrer Strategie √ºbertragen haben, gibt Ihnen die Spiel-Engine die Kontrolle und startet einen Timer f√ºr Berechnungen. Die Zeit f√ºr Berechnungen ist im Durchschnitt auf etwa 20 Millisekunden f√ºr alle Aktionen innerhalb des Ticks begrenzt.  Es besteht der Verdacht, dass zu diesem Zeitpunkt auch Zeit zum Deserialisieren der empfangenen Daten und zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Serialisieren der</a> von Ihrer Strategie an den Server gesendeten Daten enthalten ist.  Da die Anzahl der Bots jedoch 4 betr√§gt (Ihre 2 und 2 Gegner, erh√∂ht sich in der letzten Runde die Gesamtzahl der Bots auf 6), kann die Zeit f√ºr diese Operationen vernachl√§ssigt werden. <br><br>  Es ist Zeit f√ºr die Teams. <br><br>  Zum Beispiel m√∂chten wir dem Bot den Befehl geben, sich auf den Ball zu bewegen.  Um den gew√ºnschten Vektor der Geschwindigkeitsrichtung zu finden, muss die Position des Bots von der Ballposition subtrahiert werden. Wir erhalten den Richtungsvektor zum Ball. Dann kann er normalisiert und mit der maximalen Geschwindigkeit des Bots von den Konstanten der Welt multipliziert werden.  Auf dem Bild mehr <br><br><img src="https://habrastorage.org/webt/_w/tz/hv/_wtzhv47vva6poib76fowhvsarw.jpeg"><br><br>  Wahrscheinlich hat der Leser auf der Folie bemerkt, dass die Berechnungen sowohl f√ºr 3D-Vektoren als auch f√ºr 2D-Vektoren durchgef√ºhrt werden k√∂nnen.  Wenn wir die Tatsache ber√ºcksichtigen, dass der Bot mehr Zeit auf der Bodenebene der Arena verbringt, hat die Vereinfachung der Berechnungen auf zwei Koordinaten keinen Einfluss auf die Genauigkeit der Berechnungen zum Abfangen des Balls.  Nat√ºrlich sollten Sie die H√∂he des Balls nicht vergessen, aber unter Ber√ºcksichtigung der Schwerkraft wird er fr√ºher oder sp√§ter auf den Bot sinken. <br><br>  Ein Bot-Sprung ist die Addition der vertikalen Geschwindigkeit (vertikale Geschwindigkeit). Die Richtung des Bot-Sprungs stimmt mit der Richtung der aktuellen Bot-Geschwindigkeit √ºberein, wobei eine Komponente entlang der Y-Achse hinzugef√ºgt wird. <br><br>  Wenn wir den obigen W√∂rtern eine komplexere Bewegungslogik hinzuf√ºgen, k√∂nnen wir das folgende Verhalten von Bots erhalten: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3gCegLS58dE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Jetzt hat die Site</a> eine Sandbox, in der Sie die Spiele sehen k√∂nnen, aber nichts f√ºhlt sich an, wenn Sie Ihre Strategie schreiben und ihren Spielen folgen.  Es wurde experimentell festgestellt, dass selbst die einfachste Strategie, die aus mehreren zehn Codezeilen besteht, recht gut funktionieren kann. <br><br>  Von den einfachen Formen von Strategien, die mir in den Sinn kommen, ist die Strategie, einen Bot zuzuweisen, um das Tor zu sch√ºtzen, den zweiten Bot, um einen Angreifer zu machen.  Die Hauptaufgabe des Angreifers besteht darin, den Ball zu jagen und bei Erfolg auf das gegnerische Tor zuzuschlagen.  Ein Bot, der als Torh√ºter spielt, ist normalerweise in seiner Bewegung auf dem Spielfeld eingeschr√§nkt und operiert haupts√§chlich im Torraum.  All diese Dinge lassen sich leicht mit if-else-Konstrukten der von Ihnen gew√§hlten Sprache beschreiben.  In jedem Fall muss mein Leser in dieser Phase eine Strategie entwickeln.  Gem√§√ü den Wettbewerbsbedingungen k√∂nnen Sie den Quellcode der Strategie nicht ver√∂ffentlichen.  Ich denke jedoch, dass es nicht verboten ist, Ans√§tze zur Gestaltung einer Strategie zu diskutieren. <br><br>  Es scheint mir, dass die Organisatoren des Wettbewerbs ein interessantes Thema f√ºr das Turnier ausgew√§hlt haben, die einzige Seite ist etwas langsam, aber ich hoffe, dass es bald behoben wird. <br><br>  einige sch√∂ne Spielmomente vom Teilnehmer der Meisterschaft: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/RxTf2ep17jU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Ich warte auf Feedback in den Kommentaren zum Artikel, worauf ich n√§her eingehen soll. <br>  Im n√§chsten Artikel werde ich versuchen, Methoden zur Vorhersage des Verhaltens des Balls rechtzeitig f√ºr ein aussagekr√§ftigeres Botspiel in Ihrer Strategie zu beschreiben. <br><br>  In der Zwischenzeit herzlichen Gl√ºckwunsch zum kommenden Neujahr 2019! <br><br>  Fortsetzung folgt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434838/">https://habr.com/ru/post/de434838/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434824/index.html">Polit-Elektrotechnik. Modellierung gesellschaftspolitischer Prozesse durch Stromkreise</a></li>
<li><a href="../de434826/index.html">Das Bettfeld p√ºnktlich oder 5 Anzeichen von versteckten Problemen im Team</a></li>
<li><a href="../de434828/index.html">Werde ein Profi. N√ºtzliche Gewohnheiten von UX-Designern</a></li>
<li><a href="../de434830/index.html">Komponenten der endg√ºltigen Reaktion</a></li>
<li><a href="../de434836/index.html">Wunderbare Versionsanmerkung in JPA</a></li>
<li><a href="../de434840/index.html">Wie habe ich "Your Diary" gemacht - oder die Situation auf dem Markt f√ºr elektronische Tageb√ºcher</a></li>
<li><a href="../de434842/index.html">Stadtfarmen k√∂nnen extrem effektiv sein, aber momentan nicht</a></li>
<li><a href="../de434844/index.html">Wiederherstellung der kognitiven F√§higkeiten von 100 Patienten (√úbersetzung eines Artikels von Dale Bredesen)</a></li>
<li><a href="../de434848/index.html">Teslas Board of Directors besteht aus zwei unabh√§ngigen Direktoren - Larry Ellison und Caitlin Wilson-Thompson</a></li>
<li><a href="../de434854/index.html">DIY-Bedienfeld f√ºr Heimwerker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>