<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôå üîû üçö Como falar sobre os principais componentes do Android em 15 minutos üöø üêè üôéüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Introdu√ß√£o 


 Este artigo discutir√° como informar uma pessoa que n√£o estava familiarizada com a programa√ß√£o para Android sobre seus principais com...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como falar sobre os principais componentes do Android em 15 minutos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483878/"><h1 id="vvedenie">  1. Introdu√ß√£o </h1><br><p>  Este artigo discutir√° como informar uma pessoa que n√£o estava familiarizada com a programa√ß√£o para Android sobre seus principais componentes.  Interessar e mostrar que nem tudo √© t√£o dif√≠cil quanto muitas pessoas pensam.  Ao mesmo tempo, fa√ßa isso em 15 minutos e sem entrar em uma explica√ß√£o de alguma teoria b√°sica que todos possam ler por si mesmos e voltar com perguntas esclarecedoras. </p><br><p>  Quando tentei fazer isso pela primeira vez, fiquei desagradavelmente surpresa comigo mesma.  Minha explica√ß√£o "simples e compreens√≠vel" tornou-se entediante, dentro da estrutura da qual uma tentativa desesperada de apreender a imensid√£o e contar em poucas palavras sobre tudo um pouco foi claramente tra√ßada.  Escusado ser√° dizer que √© prov√°vel que essa hist√≥ria n√£o interesse, mas assusta seu interlocutor, enquanto diminui o desejo de fazer algo pr√≥prio, mesmo se voc√™ j√° tivesse uma pequena calculadora em seus planos. </p><br><p>  N√£o √© segredo que um grande n√∫mero de artigos sobre esse t√≥pico seja publicado na Internet, mas, no meu caso, a narrativa ser√° um pouco diferente: haver√° apenas pr√°tica visual, sem defini√ß√µes e outros detalhes.  Ou seja, olhamos - vemos - comentamos o que est√° acontecendo.  Parece, na minha opini√£o, tudo √© bastante simples e claro, os trechos de c√≥digo tamb√©m s√£o pequenos e muito simples, prontos para uso r√°pido em seu pr√≥prio projeto.  Parece-me que essa abordagem fornece uma vis√£o geral bastante ampla das ferramentas cl√°ssicas do Android e, ao escrever o primeiro aplicativo, em vez das perguntas "o que devo usar", haver√° perguntas mais espec√≠ficas "como exatamente devo usar o componente X".  E j√° todos os detalhes sobre essa pessoa poder√£o descobrir por si mesmos - se quiserem. </p><a name="habracut"></a><br><p>  Ent√£o vamos l√°! </p><br><h1 id="izuchaem-komponenty">  Aprendendo os componentes </h1><br><p>  Instale o aplicativo, inicie-o e ... por enquanto, basta que a MainActivity seja aberta diante de n√≥s.  A pergunta "por que √© exatamente" ser√° respondida mais tarde. </p><br><p>  Primeiro, vamos considerar de onde vem - from main_activity.xml, onde todos os elementos da interface s√£o declarados.  Eles s√£o publicados no LinearLayout, portanto, √© improv√°vel que surjam perguntas aqui. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre><code class="plaintext hljs">&lt;LinearLayout android:orientation="vertical" android:layout_width="match_parent" android:layout_height="match_parent"&gt; &lt;TextView android:id="@+id/textView" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="Android Demo Application" /&gt; &lt;TextView android:id="@+id/textView3" android:layout_width="match_parent" android:layout_height="wrap_content" android:text=" 1" /&gt; &lt;Button android:id="@+id/buttonShowToast" android:layout_width="match_parent" android:layout_height="wrap_content" android:text=" Toast" /&gt; ... &lt;/LinearLayout&gt;</code> </pre> </div></div><br><h2 id="prostye-komponenty">  Componentes simples </h2><br><h3 id="toast">  Torrada </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/g7/oh/a7/g7oha7j9ymxha54ezk_u9p962qk.jpeg"></p></div></div><br><p>  Agora vamos para MainActivity.java e o primeiro bot√£o de sua interface - "Show Toast" (notifica√ß√£o pop-up). <br>  Localize o identificador do bot√£o em main_activity.xml e acesse o OnClickListener em MainActivity.java. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Button btn = findViewById(R.id.buttonShowToast); btn.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Toast.makeText(getApplicationContext(), "This is a Toast", Toast.LENGTH_LONG).show(); } });</code> </pre> </div></div><br><p>  Acontece que, para exibir uma notifica√ß√£o pop-up, basta uma linha de c√≥digo!  √ìtimo, n√£o √©? </p><br><h3 id="vzaimodeystvie-s-drugim-activity">  Intera√ß√£o com outra atividade </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p>  Primeira atividade <br><img src="https://habrastorage.org/webt/tz/oj/zh/tzojzhhwxgkdbhlgmw8mizvzk8m.jpeg"><br>  Segunda atividade <br><img src="https://habrastorage.org/webt/d8/tn/t6/d8tnt6ov9udgwmnxtxtrllgz1ui.jpeg"></p></div></div><br><p>  Agora vamos tentar ir para algum lugar fora da p√°gina principal do aplicativo.  Por exemplo, para outra p√°gina desse tipo!  V√° para "Intera√ß√£o com outra atividade" - e entramos em outra atividade com outros controles.  Como atividades diferentes em um aplicativo transferem dados entre si?  Aqui est√° a hora de falar sobre dois mecanismos diferentes: um armazenamento constante de valores - shared_prefs, bem como startActivityForResult / onActivityResult (eu n√£o queria inserir isso no in√≠cio, mas ainda assim brevemente: se voc√™ iniciar uma <strong>nova</strong> atividade de <strong>uma</strong> atividade <strong>aberta</strong> usando startActivityForResult, depois que a <strong>segunda</strong> atividade for conclu√≠da ser√° chamado onActivityResult na <strong>primeira</strong> atividade. N√£o se assuste se isso ainda n√£o estiver claro). <br>  E, claro, demonstre na pr√°tica! </p><br><p>  Entrada em shared_prefs: </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">String valueToSave = "test"; SharedPreferences.Editor editor = getSharedPreferences("demoapp", MODE_PRIVATE).edit(); editor.putString("myValue", valueToSave); editor.apply();</code> </pre> </div></div><br><p>  Lendo de shared_prefs: </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">SharedPreferences prefs = getSharedPreferences("demoapp", MODE_PRIVATE); String storedValue = prefs.getString("myValue", "NOT_FOUND");</code> </pre> </div></div><br><p>  Um exemplo com onActivityResult - veja na fonte do aplicativo. </p><br><h3 id="sohranenie-i-vosstanovlenie-nastroek">  Salvando e restaurando configura√ß√µes </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/bq/_s/3v/bq_s3vglngrttsakobha70texya.jpeg"></p></div></div><br><p>  Desde que mencionamos shared_prefs, vamos terminar com eles.  Vamos para "Salvando e restaurando configura√ß√µes", onde √© apresentado um cart√£o t√≠pico de uma conta t√≠pica com v√°rios tipos de campos (observe que o tipo deles √© definido por apenas uma vari√°vel - uma op√ß√£o).  Vamos salvar o conte√∫do desses campos em shared_prefs e depois restaur√°-los.  At√© agora, um bot√£o separado, sem onResume - ainda n√£o os encontramos! <br>  Salvar: </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">SharedPreferences.Editor editor = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE).edit(); EditText et = findViewById(R.id.editTextName); String name = et.getText().toString(); editor.putString("name", name); editor.apply();</code> </pre> </div></div><br><p>  Restauramos: </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">SharedPreferences prefs = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE); EditText et = findViewById(R.id.editTextName); et.setText(prefs.getString("name", "")); ...</code> </pre> </div></div><br><h3 id="prostoe-menyu">  Menu simples </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/nc/9u/6y/nc9u6ypwmnmxhrvpoflexjjtuhe.jpeg"></p></div></div><br><p>  A pr√≥xima se√ß√£o √© um menu simples.  Aprendemos com isso que n√£o h√° nada complicado - basta definir onCreateOptionsMenu e preench√™-lo com a estrutura de my_menu.xml. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">@Override public boolean onCreateOptionsMenu(Menu menu) { MenuInflater inflater = getMenuInflater(); inflater.inflate(R.menu.my_menu, menu); return true; }</code> </pre> </div></div><br><h3 id="vsplyvayuschee-menyu">  Menu pop-up </h3><br><p>  Imediatamente ap√≥s isso - um bot√£o de menu pop-up.  J√° √© mais interessante que o anterior, mesmo com a presen√ßa de configura√ß√µes de mem√≥ria e a presen√ßa de submenus. <br>  O c√≥digo do menu pop-up pode ser visualizado no c√≥digo-fonte do aplicativo. </p><br><h3 id="audiopleer">  Leitor de √°udio </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jl/c8/fj/jlc8fj0leasmypoxdtysiyywfdg.jpeg"></p></div></div><br><p>  Usando o exemplo do Audio Player, al√©m do fato de n√£o haver nada complicado na reprodu√ß√£o de m√∫sica, voc√™ pode demonstrar a liga√ß√£o do seekBar a algo, nesse caso, √† posi√ß√£o atual do media player.  No controle de volume - tamb√©m nada sobrenatural.  O b√¥nus mostra um erro.  Abra a atividade com o media player, inicie a reprodu√ß√£o e pressione o bot√£o "Voltar".  A m√∫sica continua a tocar e n√£o pode mais ser interrompida ... O problema!  Como resolv√™-lo - descobriremos um pouco mais tarde. <br>  O c√≥digo do reprodutor de √°udio pode ser encontrado no c√≥digo fonte do aplicativo. </p><br><h3 id="veb-brauzer">  Navegador da Web </h3><br><p>  Bem, na conclus√£o da primeira parte, mostramos que tamb√©m n√£o h√° nada de divino no navegador. </p><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/5h/od/rw/5hodrwcppknr_gl2nkkq1odvdfe.jpeg"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">WebView view = findViewById(R.id.webView); view.setWebViewClient(new WebViewClient()); view.getSettings().setJavaScriptEnabled(true); view.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE); view.loadUrl("https://google.com");</code> </pre> </div></div><br><p>  A pr√≥xima parte j√° √© mais dif√≠cil. </p><br><h2 id="servisy-i-uvedomleniya">  Servi√ßos e notifica√ß√µes </h2><br><h3 id="broadcastreceiver">  BroadcastReceiver </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/vl/jj/qu/vljjquneo8n5iiejykuxgd81mug.jpeg"></p></div></div><br><p>  Lembre-se de como passamos o resultado de uma atividade para outra.  De alguma forma (ainda n√£o sabemos como), descobriu-se que, quando a segunda atividade foi encerrada, o resultado passou para o onActivityResult da primeira.  Mas podemos transferir o resultado para qualquer lugar em nosso aplicativo?  Sim, podemos anunciar e registrar um ouvinte que nos ouve de qualquer lugar do programa.  Esse ouvinte √© chamado de BroadcastReceiver. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public BroadcastReceiver MyReceiver = new BroadcastReceiver() { @Override public void onReceive(Context context, Intent intent) { Toast.makeText(getApplicationContext(), "Broadcast receiver: received!", Toast.LENGTH_LONG).show(); } };</code> </pre> </div></div><br><p>  Aqui voc√™ n√£o pode fazer sem inten√ß√µes, mas no n√≠vel mais primitivo: por enquanto, o fato de serem suficientes para n√≥s √© enviado para um determinado barramento comum e, de acordo com uma a√ß√£o predeterminada, o BroadcastReceiver nos ouvir√° onde quer que estejamos. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">IntentFilter filter = new IntentFilter(); filter.addAction("MyCustomActionName"); registerReceiver(MyReceiver, filter); sendBroadcast(new Intent("MyCustomActionName"));</code> </pre> </div></div><br><p>  No momento, temos uma id√©ia b√°sica do que √© o receptor, mas por que ele √© necess√°rio n√£o est√° claro: isso √© normal e agora ficar√° mais f√°cil. </p><br><h3 id="prostoy-servis">  Servi√ßo simples </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jh/c6/5b/jhc65b-blaklmc4cd0n8v_fzrms.jpeg"></p></div></div><br><p>  V√° diretamente para o servi√ßo, onde o BroadcastReceiver encontrar√° seu aplicativo completo.  E, em vez de tentar dizer em poucas palavras o que √© um servi√ßo Android, proponho iniciar a demonstra√ß√£o imediatamente.  Execute o servi√ßo, que inicia seu trabalho em segundo plano.  Junto com isso, registraremos dois Receptores: um em Atividade e outro em Servi√ßo. <br>  O Receptor em Servi√ßo √© necess√°rio para demonstrar que, apesar da execu√ß√£o em segundo plano, sempre podemos acess√°-lo na Atividade. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public BroadcastReceiver MyServiceReceiver = new BroadcastReceiver() { @Override public void onReceive(Context context, Intent intent) { Toast.makeText(getApplicationContext(), "Toast from Service: I hear you!", Toast.LENGTH_LONG).show(); } };</code> </pre> </div></div><br><p>  O receptor em atividade √© necess√°rio para exibir os resultados do servi√ßo no TextView. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public BroadcastReceiver MyPrintReceiver = new BroadcastReceiver() { @Override public void onReceive(Context context, Intent intent) { Toast.makeText(getApplicationContext(), "pong", Toast.LENGTH_SHORT).show(); TextView tv = findViewById(R.id.textViewSimpleServiceStatus); String msg = intent.getStringExtra("msg"); tv.setText(msg); } };</code> </pre> </div></div><br><p>  E, para um entendimento completo, ao enviar uma mensagem do servi√ßo para a Activity, exibiremos o Toast ("ping").  E quando recebermos a mensagem na Atividade e realmente desenharmos o valor no TextView, exibiremos Toast ("pong"). <br>  Deixe que a principal tarefa do servi√ßo seja enviar esses "pings" para a atividade, e a tarefa da atividade √© simplesmente exibi-los em sua interface. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Handler handler = new Handler(); runnable = new Runnable() { public void run() { if (running) { printMsg("Service is still running " + running); handler.postDelayed(runnable, 5000); //   } else { printMsg("Service exited"); } } }; handler.postDelayed(runnable, 5000);</code> </pre> </div></div><br><p>  Um exemplo da opera√ß√£o do manipulador ser√° considerado em detalhes posteriormente, no momento, √© apenas um meio de enviar ping a cada 5 segundos. </p><br><p>  E agora, depois de iniciar o servi√ßo, vemos o Toast ("Servi√ßo criado!") E enviamos notifica√ß√µes de ping-pong.  E no TextView as mensagens de servi√ßo come√ßaram a chegar. </p><br><p>  √ìtimo, execu√ß√£o em segundo plano que vimos.  Agora feche o aplicativo!  Nas vers√µes mais recentes do Android, veremos o seguinte: o servi√ßo foi reiniciado (o Toast ("Servi√ßo criado!") Aparecer√°) e enviar√° "pings".  Ao mesmo tempo, n√£o h√° "pongs" - afinal, n√£o h√° mais atividade que os processe!  Depois de alguns segundos, pings tamb√©m pararam no meu smartphone.  O servi√ßo est√° sendo destru√≠do.  Abra as configura√ß√µes de energia, desative a otimiza√ß√£o para a nossa aplica√ß√£o e fa√ßa o procedimento novamente.  Agora o servi√ßo n√£o √© destru√≠do e, mesmo ap√≥s o encerramento do programa, vemos "pings" de entrada est√°veis.  Mas, √© claro, n√£o h√° garantia aqui, e esse servi√ßo n√£o vai durar muito.  Do ponto de vista do desenvolvedor, isso pode ser terr√≠vel, mas vamos olhar atrav√©s dos olhos de um usu√°rio simples: queremos que um aplicativo funcione em segundo plano t√£o livremente e com impunidade, consumindo uma bateria?  Dificilmente.  Como, ent√£o, trabalhar totalmente em segundo plano? </p><br><p>  Para fazer isso, voc√™ s√≥ precisa notificar o usu√°rio sobre isso.  Esse √© um requisito obrigat√≥rio do Android, que, na presen√ßa de um canal de notifica√ß√£o, permite iniciar n√£o apenas o habitual, mas o servi√ßo Foreground, que funcionar√° totalmente em segundo plano sem o risco de ser eliminado do nada. <br>  Adicione ao nosso onCreate de nosso servi√ßo: </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">String CHANNEL_ID = "my_channel_01"; NotificationChannel channel = new NotificationChannel(CHANNEL_ID, "Channel human readable title", NotificationManager.IMPORTANCE_DEFAULT); ((NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE)).createNotificationChannel(channel); Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID) .setContentTitle("") .setContentText("").build(); startForeground(1, notification);</code> </pre> </div></div><br><p>  E vamos execut√°-lo com o comando: </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">startForegroundService(new Intent(getApplicationContext(), TestServiceForeground.class));</code> </pre> </div></div><br><p>  Voltaremos ao nosso aplicativo de demonstra√ß√£o, retornaremos as configura√ß√µes de economia de energia ao seu estado original.  E agora lan√ßaremos o servi√ßo em primeiro plano.  Fechando o aplicativo quando o servi√ßo est√° em execu√ß√£o, observamos que o servi√ßo n√£o est√° mais sendo reiniciado e n√£o est√° sendo destru√≠do, mas simplesmente continua est√°vel a funcionar em segundo plano, enviando seus "pings" a cada 5 segundos.  Ao mesmo tempo, um √≠cone de notifica√ß√£o ficar√° suspenso nas notifica√ß√µes. </p><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/-d/xv/of/-dxvofzx6oknkrfw6eyiwpowybk.jpeg"></p></div></div><br><p>  O usu√°rio poder√° ocultar essas notifica√ß√µes, se desejar, mas voc√™ n√£o poder√° ocult√°-las programaticamente no momento da cria√ß√£o do canal de notifica√ß√£o. </p><br><h3 id="plavayuschaya-knopka-overlay">  Bot√£o flutuante (sobreposi√ß√£o) </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/hw/ca/l0/hwcal0xkvtxak6ciqpa1zdjexas.jpeg"></p></div></div><br><p>  Sabendo o que √© um servi√ßo, voc√™ pode passar para o uso mais simples e √≥bvio - trabalhando com bot√µes flutuantes.  Nos Androids atuais, voc√™ n√£o pode simplesmente declarar direitos de renderiza√ß√£o de sobreposi√ß√µes assim: √© necess√°rio pedir explicitamente ao usu√°rio permiss√£o "Acima de todas as janelas".  Em seguida, clicamos em Draw Overlay e vemos um √≠cone flutuante, atr√°s do qual realmente existe um servi√ßo que escuta cliques nele. </p><br><h3 id="otpravka-uvedomleniy">  Enviando notifica√ß√µes </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/vu/sb/w-/vusbw-5nvjt-ws-kgrw95hfwzpy.jpeg"></p></div></div><br><p>  Outro recurso importante que provavelmente ser√° √∫til na maioria dos aplicativos Android √© o envio de notifica√ß√µes ao usu√°rio.  Vamos dar uma breve olhada em como isso funciona.  Para come√ßar (nos atuais Androids), precisamos criar um canal de notifica√ß√£o - sim, sim, um daqueles que geralmente est√£o dispon√≠veis em grande n√∫mero em aplicativos modernos. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">private void createNotificationChannel() { try { CharSequence channelName = CHANNEL_ID; String channelDesc = "channelDesc"; if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) { int importance = NotificationManager.IMPORTANCE_LOW; NotificationChannel channel = new NotificationChannel(CHANNEL_ID, channelName, importance); channel.setDescription(channelDesc); NotificationManager notificationManager = getSystemService(NotificationManager.class); assert notificationManager != null; NotificationChannel currChannel = notificationManager.getNotificationChannel(CHANNEL_ID); if (currChannel == null) { notificationManager.createNotificationChannel(channel); Toast.makeText(getApplicationContext(), "channel created", Toast.LENGTH_SHORT).show(); } else { Toast.makeText(getApplicationContext(), "channel exists", Toast.LENGTH_SHORT).show(); } } } catch (Exception e) { } }</code> </pre> </div></div><br><p>  Bem, ent√£o voc√™ pode enviar notifica√ß√µes para ele sem restri√ß√µes. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public void setNotify() { try { Intent snoozeIntent = new Intent("ActionFromNotify"); PendingIntent snoozePendingIntent = PendingIntent.getBroadcast(this, 0, snoozeIntent, 0); String title = "Start"; Intent intent = new Intent(this, MainActivity.class); intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK); NotificationCompat.Action action = new NotificationCompat.Action.Builder(R.drawable.ic_launcher_background, title, snoozePendingIntent).build(); NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, CHANNEL_ID) .setSmallIcon(R.drawable.ic_launcher_background) .setContentTitle("MyNotification") .setContentText("Text here") .setPriority(NotificationCompat.PRIORITY_LOW) .setContentIntent(null) .setOngoing(true) //   .setSound(null) .addAction(action); NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this); int notificationId = (int) (System.currentTimeMillis() / 4); notificationManager.notify(notificationId, mBuilder.build()); } catch (Exception e) { Log.e("error", e.toString()); } }</code> </pre> </div></div><br><h3 id="servis-s-otpravkoy-uvedomleniy">  Servi√ßo com o envio de notifica√ß√µes </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/nj/ee/lr/njeelrzozunwgncm4a3vusood6k.jpeg"></p></div></div><br><p>  O envio de notifica√ß√µes diretamente da atividade, voc√™ v√™, n√£o √© muito impressionante.  Ainda estamos acostumados a outra coisa.  Mas o que sabemos sobre a execu√ß√£o em segundo plano at√© agora?  S√≥ que existem servi√ßos.  Portanto, n√£o vamos nos apressar e criar um servi√ßo simples (nem mesmo o Primeiro Plano - por simplicidade) que envia uma nova notifica√ß√£o a cada 5 segundos.  Concordo, isso j√° √© mais bonito e mais impressionante do que apenas enviar notifica√ß√µes por um bot√£o. </p><br><p>  Como uma breve pausa ap√≥s servi√ßos aparentemente complicados (se voc√™ nunca os conheceu antes), consideraremos quatro controles que s√£o f√°ceis de entender.  E, novamente, voltamos ao material complexo - aos fluxos. </p><br><h2 id="dopolnitelnye-komponenty">  Componentes adicionais </h2><br><h3 id="tablica-s-dannymi">  Tabela de dados </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/_r/sx/f_/_rsxf_zb6buobcqpdlrxtcuhtpc.jpeg"></p></div></div><br><p>  Vamos come√ßar nossa pausa com a tabela de dados.  O estudo do c√≥digo fonte √© deixado para o leitor. </p><br><h3 id="okno-s-vkladkami">  Janela com guias </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/d4/l3/tc/d4l3tc6j_ruxlnmm-p7nl4l-jce.jpeg"></p></div></div><br><p>  A pr√≥xima parada √© uma janela com guias.  Com a ajuda de um simples TabView, voc√™ pode colocar v√°rias atividades em uma tela. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public class TabsActivity extends TabActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.tabs_activity); //  TabHost TabHost tabHost = getTabHost(); TabHost.TabSpec tabSpec; tabSpec = tabHost.newTabSpec("tag1"); tabSpec.setIndicator(""); tabSpec.setContent(new Intent(this, SaveRestorePrefsActivity.class)); tabHost.addTab(tabSpec); tabSpec = tabHost.newTabSpec("tag2"); tabSpec.setIndicator(""); tabSpec.setContent(new Intent(this, FloatingMenuActivity.class)); tabHost.addTab(tabSpec); ... } }</code> </pre> </div></div><br><h3 id="vyvod-obektov-struktur-fragment-i-tablica">  Exibi√ß√£o de objetos de estrutura: fragmento e tabela </h3><br><p>  A sa√≠da dos objetos de estrutura pode ser feita com fragmentos e uma tabela. <br>  √â assim que o preenchimento de fragmentos se parece </p><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ck/hw/nz/ckhwnzzk1fbl4ohzv5cwrc5rhiq.jpeg"></p></div></div><br><p>  E ent√£o a mesa </p><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/k9/ap/ty/k9aptygs4p29eczt1qlru2pgqk8.jpeg"></p></div></div><br><h3 id="zhiznennyy-cikl-activity">  Ciclo de Vida da Atividade </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/8j/kg/-e/8jkg-eoo706wtilrcga7nhefnr0.jpeg"></p></div></div><br><p>  Terminando gradualmente nossa pausa, prosseguimos para o ciclo de vida da atividade.  Aqui est√° a hora de descobrir que existem v√°rios outros m√©todos al√©m do onCreate.  Um pequeno peda√ßo de c√≥digo e notifica√ß√µes pop-up primeiro ajudar√£o a entend√™-los melhor do que qualquer explica√ß√£o. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">@Override protected void onResume() { super.onResume(); Toast.makeText(getApplicationContext(), "onResume -    ", Toast.LENGTH_SHORT).show(); } @Override protected void onDestroy() { super.onDestroy(); Toast.makeText(getApplicationContext(), "onDestroy -  ", Toast.LENGTH_SHORT).show(); } @Override protected void onPause() { super.onPause(); Toast.makeText(getApplicationContext(), "onPause -      ", Toast.LENGTH_SHORT).show(); }</code> </pre> </div></div><br><p>  O mesmo se aplica a OnTouchListener'ov e onTextChanged. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">CheckBox cb = findViewById(R.id.checkBoxChangeExample); cb.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() { public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) { printMsg("CheckBox - OnCheckedChangeListener: new value is checked = " + isChecked); } }); SeekBar seekBar = (SeekBar) findViewById(R.id.seekBarChangeExample); seekBar.setMax(100); seekBar.setOnTouchListener(new View.OnTouchListener() { @Override public boolean onTouch(View v, MotionEvent event) { Integer progress = ((SeekBar)v).getProgress(); printMsg("SeekBar - OnTouchListener: new value is = " + progress.toString()); return false; } });</code> </pre> </div></div><br><h2 id="otlozhennoe-parallelnoe-i-regulyarnoe-vypolnenie">  Execu√ß√£o atrasada, paralela e regular </h2><br><p>  Passamos para a parte mais dif√≠cil da hist√≥ria - execu√ß√£o adiada e paralela. </p><br><h3 id="otlozhennoe-vypolnenie-handler">  Execu√ß√£o atrasada: manipulador </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/og/lv/xh/oglvxhy6hgo0yqpamaybomdrmus.jpeg"></p></div></div><br><p>  Vamos come√ßar o mergulho com Handler.  O que √© um manipulador com todos os detalhes - uma pessoa mais tarde ler√° ela mesma, n√£o a privaremos desse prazer.  Mas, como estamos considerando isso, √© importante saber o principal - que ele permite que voc√™ execute uma tarefa pendente e n√£o o faz paralelamente. <br>  Mostre isso.  Vamos criar um manipulador, adicione a tarefa "para gerar o Toast em 5 segundos".  Vimos que o Toast foi retirado e n√£o houve necessidade de pausa (pausa na execu√ß√£o de todo o programa). </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Handler handler = new Handler(); Runnable r = new Runnable() { public void run() { Toast.makeText(getApplicationContext(), "Delayed task executed", Toast.LENGTH_SHORT).show(); } }; handler.postDelayed(r, 5000);</code> </pre> </div></div><br><p>  Agora adicione uma tarefa c√≠clica ao manipulador: </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Runnable r = new Runnable() { public void run() { Toast.makeText(getApplicationContext(), "Delayed task executed", Toast.LENGTH_SHORT).show(); handler.postDelayed(this, 5000); //   } }; handler.postDelayed(r, 5000);</code> </pre> </div></div><br><p>  Depois de garantir que ele seja executado a cada 5 segundos, limpe o manipulador </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">handler.removeCallbacksAndMessages(null);</code> </pre> </div></div><br><p>  Resta demonstrar que a execu√ß√£o de tarefas do Handler n√£o ocorre em paralelo.  A maneira mais f√°cil de mostrar isso √© carregando algo pesado e ao mesmo tempo simples.  Como ... enquanto (verdadeiro) sem dormir!  Dez segundos, para n√£o matar completamente o aplicativo. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Runnable r = new Runnable() { public void run() { long initTime = System.currentTimeMillis(); boolean timeElapsed = false; while(!timeElapsed){ if(System.currentTimeMillis() - initTime &gt; 10000 ){ timeElapsed = true; //   ,   ! (  ,    ).         sleep } } } }; Toast.makeText(getApplicationContext(), "Hard Delayed task started", Toast.LENGTH_SHORT).show(); handler.postDelayed(r, 100);</code> </pre> </div></div><br><p>  Ao iniciar essa tarefa, vemos que o aplicativo n√£o responde aos nossos cliques por esses 10 segundos - ele est√° completamente ocupado processando nosso ciclo complexo.  A segunda conclus√£o que se segue deste exemplo √© que voc√™ n√£o pode executar tarefas que consomem muitos recursos no mesmo encadeamento da interface.  O thread da interface do usu√°rio deve estar sempre livre e suas fun√ß√µes devem ser trabalhadas o mais r√°pido poss√≠vel.  Algumas opera√ß√µes no fluxo da interface do usu√°rio s√£o explicitamente proibidas: por exemplo, o Android travar√° o aplicativo se ele tentar acessar a Internet no fluxo da interface do usu√°rio. </p><br><h3 id="parallelnoe-vypolnenie-potok">  Execu√ß√£o simult√¢nea: fluxo </h3><br><div class="spoiler">  <b class="spoiler_title">Ver imagem</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/l7/3q/81/l73q81k62jyqkcimlbw_nvtotqe.jpeg"></p></div></div><br><p>  A quest√£o l√≥gica agora √© como criar novos threads e trabalhar em paralelo? <br>  Mostramos a cria√ß√£o do fluxo e o fato de sua opera√ß√£o paralela.  Vamos criar um fluxo e carreg√°-lo com a mesma tarefa, por isso, no caso do habdler, ficamos com uma interface inativa por 10 segundos. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Thread thread = new Thread() { @Override public void run() { try { sendMsgUsingBroadcast("Thread started"); long initTime = System.currentTimeMillis(); boolean timeElapsed = false; while(!timeElapsed){ if(System.currentTimeMillis() - initTime &gt; 10000 ){ timeElapsed = true; } } sendMsgUsingBroadcast("Thread stopped"); } catch (Exception e) { sendMsgUsingBroadcast("Thread error " + e.toString()); } } }; thread.start();</code> </pre> </div></div><br><p>  Criado, carregado - e a interface funciona!  A execu√ß√£o do encadeamento ocorre em paralelo. <br>  A pr√≥xima pergunta √© como controlar o fluxo.  √â importante entender que um encadeamento ser√° conclu√≠do apenas quando todo o seu c√≥digo-fonte for executado.  Voc√™ n√£o pode simplesmente pegar e matar o fluxo.  √â hora de pensar em shared_prefs e aplicar a vari√°vel para sincroniza√ß√£o: deixe a vari√°vel running = true ser definida junto com o in√≠cio do fluxo.  Em cada uma de suas itera√ß√µes, o encadeamento verifica se running == true est√° sendo executado e, se n√£o, conclui sua execu√ß√£o. </p><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Thread thread = new Thread() { @Override public void run() { try { sendMsgUsingBroadcast("Thread started"); SharedPreferences prefs = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE); while (true) { if (!prefs.getBoolean("running", false)) { break; } else { try { Thread.sleep(100); } catch (Exception e) {} } } sendMsgUsingBroadcast("Thread stopped"); } catch (Exception e) { sendMsgUsingBroadcast("Thread error " + e.toString()); } } }; thread.start();</code> </pre> </div></div><br><p>  Ent√£o, avan√ßamos alguns passos e agora sabemos n√£o apenas sobre o servi√ßo, mas tamb√©m sobre o manipulador e o fluxo.  Parece que essas ferramentas s√£o suficientes para come√ßar a escrever um aplicativo que possui uma das fun√ß√µes da notifica√ß√£o regular do usu√°rio.  Mas eles t√™m uma caracter√≠stica: todos eles est√£o unidos pelo fato de n√£o perdermos o controle por um segundo e sempre s√£o for√ßados a estar em algum tipo de ciclo intermin√°vel que dorme a maior parte do tempo e ocasionalmente acorda para verificar se algumas condi√ß√µes s√£o atendidas para entender - deduzir aviso do usu√°rio ou durma novamente por um longo tempo.  Isso adiciona uma dor de cabe√ßa: e se nosso servi√ßo ou aplicativo matar o otimizador de bateria, e por que consumimos tantos recursos de smartphones por causa de um pequeno apito n√£o t√£o necess√°rio? ,    ,               ,  -    ,             ? </p><br><h3 id="povtoryayuscheesya-vypolnenie-alarmmanager">  : AlarmManager </h3><br><p>       AlarmManager. </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/zf/9p/_u/zf9p_ushxeqt_yto0askm_xo-fw.jpeg"></p></div></div><br><p>  ,    ‚Äî  sendBroadcast  Action,        BroadcastReceiver! </p><br><p>  BroadcastReceiver, ,   ,    : </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public class MyAlarmServiceReceiver extends BroadcastReceiver { private String CHANNEL_ID = "MyNotificationsChannel"; @Override public void onReceive(Context context, Intent intent) { Toast.makeText(context, "MyAlarmServiceReceiver onReceive", Toast.LENGTH_SHORT).show(); setNotify("Notify from AlarmManager", context); } }</code> </pre> </div></div><br><p>  AlarmManager   Receiver  15 : </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE); Intent intent = new Intent(AlarmActivity.this, MyAlarmServiceReceiver.class); PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 0, intent, PendingIntent.FLAG_UPDATE_CURRENT); Calendar calendar = Calendar.getInstance(); calendar.setTimeInMillis(System.currentTimeMillis()); calendar.set(Calendar.HOUR_OF_DAY, 1); calendar.set(Calendar.MINUTE, 10); //alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, 1 * 60 * 1000, pendingIntent); // not repeating - just one run, if needed alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), AlarmManager.INTERVAL_FIFTEEN_MINUTES, pendingIntent);</code> </pre> </div></div><br><p>      :  15      . </p><br><p>   (     )   . </p><br><h3 id="logirovanie">  </h3><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/96/e-/0r/96e-0rjswq33id8bi4g4xjq3du8.jpeg"></p></div></div><br><p>  Logcat Reader   ,     . <br>     (      )  ,     . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">String LOG_TAG = "MYDEMOAPP"; Log.i(LOG_TAG, "Test info log"); Log.d(LOG_TAG, "Test debug log"); Log.e(LOG_TAG, "Test error log");</code> </pre> </div></div><br><p>      ,   ,       MainActivity,     ,   . </p><br><h1 id="ishodnyy-kod">  C√≥digo fonte </h1><br><p> <a href="https://github.com/Jen94/AndroidDemo" rel="nofollow">     <br></a> </p><br><h1 id="zaklyuchenie">  Conclus√£o </h1><br><p>      ,           Android.           ,    ,   ,      :     ,     .  , ,           -       Android-. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt483878/">https://habr.com/ru/post/pt483878/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt483850/index.html">Deuses n√£o queimam panelas</a></li>
<li><a href="../pt483860/index.html">WHD Global 2012: o verdadeiro valor de dom√≠nios baratos</a></li>
<li><a href="../pt483864/index.html">Mais r√°pido que o C ++; mais lento que php</a></li>
<li><a href="../pt483872/index.html">Padr√µes na janela ou flagelo dos motoristas: como o gelo bidimensional cresce</a></li>
<li><a href="../pt483876/index.html">A cultura corporativa vermelha √© o principal problema dos neg√≥cios na R√∫ssia (Parte 1)</a></li>
<li><a href="../pt483882/index.html">Teste de unidade na arquitetura Clean Swift</a></li>
<li><a href="../pt483886/index.html">Decodificador Movix Pro: do software √† √∫ltima porca</a></li>
<li><a href="../pt483888/index.html">Executando programas de arquivo √∫nico no Java 11 sem compila√ß√£o</a></li>
<li><a href="../pt483896/index.html">Como lan√ßar um produto sozinho, se voc√™ √© um desenvolvedor: Dicas do criador do Laravel, Taylor Otvel. Parte 2: Encontrando uma ideia</a></li>
<li><a href="../pt483898/index.html">Docs como c√≥digo contra ou em conjunto com o Confluence? Vis√£o geral de v√°rias maneiras de publicar de um reposit√≥rio no Confluence</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>