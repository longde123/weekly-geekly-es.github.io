<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🏫 👩‍🎓 🚣🏽 Pemeriksaan Waktu: Timejacking vs Bitcoin 🏾 🍪 👨‍👩‍👧‍👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam kompetisi untuk kata paling populer tahun ini, kata "blockchain" mungkin akan menjadi pemenang bidang TI. Terlepas dari kenyataan bahwa ada kece...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pemeriksaan Waktu: Timejacking vs Bitcoin</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/neobit/blog/413721/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/32/86/rv/3286rvioxsavz1pt8i6sqrd0n4c.jpeg"></div><br><br>  Dalam kompetisi untuk kata paling populer tahun ini, kata "blockchain" mungkin akan menjadi pemenang bidang TI.  Terlepas dari kenyataan bahwa ada kecenderungan <s>tidak sehat</s> untuk secara aktif memperkenalkannya di mana saja - dalam bidang kedokteran, ekonomi, internet, membesarkan kelinci dan membuat kue, cryptocurrency tetap menjadi ruang lingkup utama blockchain.  Dan semua orang tahu: dompet virtual untuk peretas - seperti kucing dengan krim asam. <br><br>  Dalam artikel ini, kami akan mempertimbangkan serangan “Timejacking”, berdasarkan kerentanan dalam memproses stempel waktu blok dalam sistem cryptocurrency Bitcoin, dan mencoba menjelaskan mengapa serangan itu terjadi, dan implementasinya yang berhasil tidak. <br><br>  PS Akan ada banyak turunan dari kata "waktu".  Banyak. <br><a name="habracut"></a><br><h2>  <b>Singkatnya</b> </h2><br>  Untuk pertama kalinya, Alex Boverman menulis tentang serangan Timejacking.  Anda dapat membiasakan diri dengan publikasi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Apa intinya: serangan itu mengeksploitasi kerentanan mekanisme untuk memeriksa cap waktu blok dan penghitung waktu dalam Bitcoin.  Penyerang memanipulasi salah satu penghitung waktu dari simpul korban dan membuat blok "beracun".  Korban akan menjatuhkan blok ini, dan sisa jaringan akan berhasil menerima, dan tolong - kami telah memprovokasi garpu!  Seluruh jaringan menggunakan rantai blok yang dibangun setelah yang "diracuni", dan korban menganggap rantai alternatif dengan belanja token berulang (alias pengeluaran ganda), di mana blok "beracun" tidak muncul, valid. <br><br>  Serangan itu dilakukan dalam dua tahap.  Untuk membuatnya lebih jelas, mari kita bicara tentang masing-masing secara terpisah. <br><br><h2>  <b>Babak 1. Membuat garpu dan mengisolasi korban</b> </h2><br>  Seorang penyerang perlu membuat "APPLE of contention" - blok "keracunan" yang akan diabaikan korban.  Dengan cara yang sama, korban akan menjatuhkan blok lain yang akan ditambahkan secara berurutan setelah yang "diracuni". <br><br>  <b>Bagaimana cara menipu korban dan memaksanya untuk menjatuhkan blok yang benar?</b> <br><br>  Header setiap blok memiliki cap waktu yang diperiksa node selama verifikasi.  Nilai ini harus berada dalam kisaran tertentu, kami akan menyebutnya jendela sementara.  Rentang jendela waktu ditunjukkan pada gambar di bawah ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fs/mu/go/fsmugohtfy3uilmc0iyf2u7fp6a.jpeg"></div><br>  Jendela waktu memiliki dua batas: <br><br><ul><li>  <b><sub>min</sub></b> rendah - <b>t</b> , sama dengan median prangko waktu 11 blok sebelum blok diverifikasi </li><li>  atas - sama dengan nilai waktu jaringan t <sub>0</sub> + 2 jam </li></ul><br>  Nilai cap waktu blok diverifikasi bukan sehubungan dengan waktu sistem node, tetapi sehubungan dengan waktu rata-rata tetangganya - waktu jaringan (alias waktu yang disesuaikan jaringan). <br><br>  Bagaimana waktu jaringan dipertimbangkan: <br><br><ul><li>  Ketika koneksi baru dibuat, node bertukar waktu sistem mereka </li><li>  Setiap node menghitung penyimpangan waktu sistem sendiri dari waktu sistem masing-masing tetangganya </li><li>  Untuk penyimpangan yang dihitung, nilai median dipilih. </li><li>  Waktu sistem asli + deviasi median = <b>waktu jaringan</b> </li></ul><br>  Berikut adalah contoh penghitungan waktu jaringan: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zw/dm/eu/zwdmeuayfjs0vslokmwolesugo4.jpeg"></div><br>  Dengan demikian, seorang penyerang dapat memanipulasi nilai waktu jaringan korban dengan menghubungkannya ke sejumlah tetangga yang cukup mengumumkan waktu sistem lagging.  Nilai waktu jaringan korban berkurang - batas atas rentang nilai yang dapat diterima dari cap waktu blok diverifikasi berkurang.  Tetapi jika penyimpangan waktu tetangga melebihi <a href="">70 menit</a> , maka waktunya tidak akan diperhitungkan saat menghitung waktu jaringan.  Oleh karena itu, nilai maksimum yang dapat digunakan untuk mengurangi waktu jaringan korban adalah 70 menit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wn/yq/dk/wnyqdkckyddzalio-mzl9m-i7b0.jpeg"></div><br>  Dengan demikian, blok "beracun" kami adalah blok yang stempel waktunya harus jatuh ke jendela waktu semua node jaringan kecuali korban.  Hanya dengan demikian seluruh jaringan akan berhasil menerimanya, dan korban yang waktu jaringannya diubah tidak kurang berhasil menjatuhkannya.  Pada gambar di bawah ini - jendela waktu korban vs jendela waktu dari node yang tersisa. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-k/jf/yc/-kjfycci5-wji1inohzrlxujg4e.jpeg"></div><br>  Perhatikan bahwa, berkat protokol NTP, kita dapat mengasumsikan bahwa untuk sebagian besar node, waktu sistem kira-kira sama, yaitu, waktu jaringan masing-masing node mendekati nilainya dengan waktu sistem mereka. <br><br>  Akibatnya, korban diisolasi dari jaringan utama dan menganggap rantai utama blok tidak benar, yang akan dibangun oleh sisa node dari blok "beracun".  Pada saat yang sama, korban dengan percaya diri akan menerima blok lain, yang dihasilkan oleh penyerang untuk rantai alternatif. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/44/7z/6t/447z6t74qbyjwqnzzjhnxgog6le.jpeg"></div><br><h2>  <b>Babak 2. Pengeluaran ganda</b> </h2><br>  Pada tahap ini, penyerang menghasilkan rantai alternatif, di mana ia menambahkan transaksi yang mentransfer token ke dompet korban.  Blok rantai alternatif dikirim ke korban.  Pada gambar di bawah ini - kisaran nilai cap waktu dari blok "beracun". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gb/lx/ig/gblxigftue4b3qftdlldapqed40.jpeg"></div><br>  Korban akan menerima rantai ini, karena nilai perangko waktu dipilih oleh pengganggu dari jendela waktunya sendiri, dan simpul yang tersisa akan mengabaikannya - setelah semua, mereka sudah membangun rantai mereka dari blok "beracun", yang lebih panjang daripada alternatif.  Akibatnya, korban percaya bahwa ia menerima token dan mengirimkan barang.  Dan jaringan utama yakin bahwa token tidak meninggalkan dompet penyerang, dan dia menerima barang untuk "terima kasih" - setelah semua, sebagian besar tidak dapat salah.  Terakhir, pahlawan dari sisi gelap menang! <br><br><h2>  <b>Tapi tidak sesederhana itu</b> </h2><br>  <b>Perangkap No. 1</b> <br><br>  Kekuatan komputasi yang sangat besar terlibat dalam penambangan Bitcoin hari ini.  Probabilitas keberhasilan pembuatan blok "beracun" dapat diperkirakan dengan rumus berikut: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dd/js/4u/ddjs4uoct9fzcc3lajt9qwz8_ca.png"></div><br>  Hari ini, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">total hashrate dari</a> jaringan Bitcoin kira-kira sama dengan H = 34 ∙ 10 <sup>18</sup> hash / s.  Dalam hal ini, menggunakan perangkat paling produktif dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">daftar ini</a> , tingkat hash yang dinyatakan di antaranya adalah h = 18 ∙ 10 <sup>12</sup> hash / s, probabilitas menghasilkan blok "keracunan" dalam 1 tahun (t = 365 ∙ 24 ∙ 60) adalah sekitar 3%.  Dan jika kita ambil dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">statistik ini kumpulan</a> penambangan yang relatif kecil yang memiliki 0,3% dari total hashrate, maka kemungkinan pembangkitan blok yang sukses dalam 3 hari adalah 73%. <br><br>  <b>Perangkap No. 2</b> <br><br>  Dengan berlalunya waktu dari jaringan korban, cap waktu dari blok "beracun" akhirnya akan jatuh ke jendela waktu korban.  Kemudian korban akan mengubah rantai alternatif ke rantai utama, karena seluruh jaringan bekerja di atasnya dan tingginya akan lebih besar.  Blok "beracun" akan jatuh ke jendela waktu korban dalam waktu tidak lebih dari 70 menit - ini adalah waktu maksimum yang diperlukan untuk menyelesaikan tahap kedua. <br><br>  Agar korban menerima transaksi dengan pengeluaran ganda, blok dengan itu harus dikonfirmasi oleh 6 blok lain (untuk klien standar).  Pelanggar harus membuat blok konfirmasi secara independen, dan pada saat yang sama diperlukan untuk memenuhi 70 menit yang disebutkan di atas.  Boverman <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mempertimbangkan</a> situasi di mana penyerang memiliki 10% dari kekuatan seluruh jaringan.  Dalam situasi seperti itu, dibutuhkan ~ 5,5 jam untuk menghasilkan 6 blok dengan tingkat keberhasilan 10%.  Selama 3,3 jam, probabilitas keberhasilan turun menjadi 1%, selama 140 menit - 0,147%.  Menurut perkiraan ini, berhasil menghasilkan 6 blok dalam 70 menit adalah fantasi. <br><br>  <b>Perangkap No. 3</b> <br><br>  Ketika node menghitung waktu jaringan, itu hanya memperhitungkan waktu sistem dari <a href="">200 tetangga pertama</a> - maka deviasi median tidak akan dihitung ulang.  Ini berarti bahwa serangan harus dilaksanakan hingga jumlah tetangga yang sudah terhubung dengan korban tidak melebihi 99 - jika tidak waktu yang diumumkan oleh penyerang tidak akan menjadi median.  Jumlah tetangga ini akan berjalan sekitar 24 jam, dan setelah itu korban harus di-boot ulang - misalnya, menggunakan DoS. <br><br><h2>  <b>Akhirnya</b> </h2><br>  Sebagai kesimpulan, kita dapat mengatakan bahwa serangan “Timejacking” sangat baik, tetapi dalam kenyataan pahit Bitcoin menjadi tidak bisa diterapkan.  Bagaimana dengan sistem lain yang menggunakan blockchain?  Biarkan kami meninggalkan pertanyaan ini untuk penelitian lebih lanjut! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id413721/">https://habr.com/ru/post/id413721/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id413711/index.html">Program pendahuluan PyConRu-2018: tiga Python Core Developers, pembicara dari Google, Yelp, Red Hat, Yandex</a></li>
<li><a href="../id413713/index.html">Kinerja Gudang Data: Digit Baru</a></li>
<li><a href="../id413715/index.html">Pensiun TI</a></li>
<li><a href="../id413717/index.html">GraphQL untuk Platform InterSystems</a></li>
<li><a href="../id413719/index.html">C ++ 20 dalam perjalanan! Bertemu di Rapperswil Yona</a></li>
<li><a href="../id413723/index.html">Saga layanan elektronik dan lokasi mereka. Bagian 2. Kabinet elektronik</a></li>
<li><a href="../id413725/index.html">Bekerja dengan array dalam bash</a></li>
<li><a href="../id413729/index.html">Bagaimana dan mengapa kami menulis ECS kami</a></li>
<li><a href="../id413731/index.html">Penelitian Pasar Kerja BA / SA</a></li>
<li><a href="../id413733/index.html">Mikrosh, Krista, Apogee, Lviv - komputer take-away Soviet pertama</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>