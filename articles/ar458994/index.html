<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฐ ๐ง โฌ๏ธ Raspberry Pi + CentOS = ููุทุฉ ุงุชุตุงู Wi-Fi (ุฃู ููุฌู ุงูุชูุช ูู ูุจุนุฉ ุญูุฑุงุก) ๐ ๐จ๐ผโ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฏู ุงูุฅูุชุฑูุช ุซุฑูุฉ ูู ุงููุนูููุงุช ุญูู ุฅูุดุงุก ููุงุท ูุตูู Wi-Fi ุชุนุชูุฏ ุนูู ุฌูุงุฒ ููุจููุชุฑ Raspberry ุฃุญุงุฏู ุงูููุญุฉ. ููุงุนุฏุฉ ุนุงูุฉ ุ ูุฅูู ูุนูู ุงุณุชุฎุฏุงู ูุธุงู ุงูุชุดุบูู ุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Raspberry Pi + CentOS = ููุทุฉ ุงุชุตุงู Wi-Fi (ุฃู ููุฌู ุงูุชูุช ูู ูุจุนุฉ ุญูุฑุงุก)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458994/" style=";text-align:right;direction:rtl"> ูุฏู ุงูุฅูุชุฑูุช ุซุฑูุฉ ูู ุงููุนูููุงุช ุญูู ุฅูุดุงุก ููุงุท ูุตูู Wi-Fi ุชุนุชูุฏ ุนูู ุฌูุงุฒ ููุจููุชุฑ Raspberry ุฃุญุงุฏู ุงูููุญุฉ.  ููุงุนุฏุฉ ุนุงูุฉ ุ ูุฅูู ูุนูู ุงุณุชุฎุฏุงู ูุธุงู ุงูุชุดุบูู ุงูุฃุตูู ูู Raspberry - Raspbian. <br><br>  ููููู ูุชูุณููุง ุจุงูุฃูุธูุฉ ุงููุนุชูุฏุฉ ุนูู RPM ุ ูู ุฃุณุชุทุน ุชุฌุงูุฒ ูุฐู ุงููุนุฌุฒุฉ ุงูุตุบูุฑุฉ ููุง ุฃุฌุฑุจ CentOS ุงูููุถูุฉ ูุฏู ุนูู ุฐูู. <br><br>  ุชููุฑ ูุฐู ุงูููุงูุฉ ุฅุฑุดุงุฏุงุช ุญูู ุฅูุดุงุก ุฌูุงุฒ ุชูุฌูู Wi-Fi 5 ุฌูุฌุงูุฑุชุฒ / AC ูู Raspberry Pi 3 Model B + ุงุณุชูุงุฏูุง ุฅูู ูุธุงู ุงูุชุดุบูู CentOS.  ุณูููู ููุงู ุงูุนุฏูุฏ ูู ุงูุญูู ุงูููุงุณูุฉ ุ ูููู ุบูุฑ ูุนุฑููุฉ ุ ููููุงูุฃุฉ - ุฑุณู ููุงุชุตุงู ุจุฃุฌูุฒุฉ Wi-Fi ุฅุถุงููุฉ "ุงูุชูุช" ุ ููุง ูุชูุญ ููุง ุงูุนูู ูู ููุช ูุงุญุฏ ูู ุนุฏุฉ ุฃูุถุงุน (2.4 + 5GHz). <br><br><img src="https://habrastorage.org/webt/mp/yb/fz/mpybfz6gzojqkaftnuljhpzx5da.png" alt="ุตูุฑุฉ"><br>  <sub><i>(ูุฒูุฌ ูู ุงูุตูุฑ ูู ุญุฑูุฉ ุงููุตูู)</i></sub> <br><a name="habracut"></a><br>  ููุงุญุธ ุนูู ุงูููุฑ ุฃู ุจุนุถ ุงูุณุฑุนุงุช ุงูููููุฉ ูู ุชุนูู.  ุฃุถุบุท 100 ููุบุงุจุช ุจุญุฏ ุฃูุตู ูู "ุงูุชูุช" ุงูุฎุงุต ุจู ุนูู ุงูููุงุก ุ ููุฐุง ูุบุทู ุณุฑุนุฉ ูุฒูุฏ ุงูุฅูุชุฑูุช ุงูุฎุงุต ุจู.  ููุงุฐุง ูุญุชุงุฌ ุฅูู ูุซู ูุฐุง ุงูุชูุงุฑ ุงููุชุฑุฏุฏ ุงูุจุทูุก ุ ุญุชู ูู ูุงู ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ N ููููู ุงูุญุตูู ุนูู ูุตู ุบูุบุง ุจุงูุชุ  ุฅุฐุง ุทุฑุญุช ูุฐุง ุงูุณุคุงู ุ ูุงูุชูู ุฅูู ุงููุชุฌุฑ ููุญุตูู ุนูู ุฌูุงุฒ ุชูุฌูู ุญูููู ุจู ุซูุงูู ููุงุฆูุงุช ุฎุงุฑุฌูุฉ. <br><br><h1 style=";text-align:right;direction:rtl">  0. ูุง ูู ุงููุทููุจ </h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ "ููุชุฌ ุงูุชูุช" ูู ุงูุนูุงุฑ ููุณู: Pi 3 Model B + (ูุชุญููู ุณุฑุนุงุช ููููุงุช ุจุณุฑุนุฉ 5 ุฌูุฌุงูุฑุชุฒ ุงููุทููุจุฉ) ุ <br></li><li style=";text-align:right;direction:rtl">  microSD ุงูุตูุจุฉ&gt; = 4GB ุ <br></li><li style=";text-align:right;direction:rtl">  ูุญุทุฉ ุนูู Linux ูุน ูุงุฑุฆ / ูุงุฑุฆ microSD ุ <br></li><li style=";text-align:right;direction:rtl">  ูุฌูุฏ ููุงุฑุงุช ูุงููุฉ ูู ููููุณ ุ ูุงููุงุฏุฉ ูู ุงููููุณ ุงููุนุฏุฉ ุ <br></li><li style=";text-align:right;direction:rtl">  ุงุชุตุงู ุดุจูุฉ ุณูููุฉ (eth0) ุจูู Raspberry ู Linux ุ ุฎุงุฏู DHCP ูุนูู ุนูู ุงูุดุจูุฉ ุงููุญููุฉ ุ ูุงููุตูู ุฅูู ุงูุฅูุชุฑูุช ูู ููุง ุงูุฌูุงุฒูู. <br></li></ul><br>  ุชุนููู ูุตูุฑ ุนูู ุงูููุทุฉ ุงูุฃุฎูุฑุฉ.  "ูุง ุงูุฐู ุฌุงุก ุฃููุงู ุ ุจูุถุฉ ุฃู ..." ููููุฉ ุตูุน ุฌูุงุฒ ุชูุฌูู Wi-Fi ูู ุบูุงุจ ุฃู ูุนุฏุงุช ุงููุตูู ุฅูู ุงูุฅูุชุฑูุชุ  ุฏุนูุง ูุชุฑู ูุฐุง ุงูุชูุฑูู ุงูุชุฑูููู ุฎุงุฑุฌ ูุทุงู ุงูููุงูุฉ ูููุชุฑุถ ุจุจุณุงุทุฉ ุฃู ุชูุช ุงูุนููู ูุชุตู ุจุงูุดุจูุฉ ุงููุญููุฉ ุนู ุทุฑูู ุงูุฃุณูุงู ููุฏูู ุงุชุตุงู ุจุงูุฅูุชุฑูุช.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุณูุง ุจุญุงุฌุฉ ุฅูู ุชููุฒููู ุฅุถุงูู ููุนุงูุฌ ูุฅุนุฏุงุฏ ุงูุชูุช. <br><br><h1 style=";text-align:right;direction:rtl">  1. ุชุซุจูุช CentOS </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุตูุญุฉ ุงููุดุฑูุน ุงูุฑุฆูุณูุฉ</a> <br><br>  ูู ููุช ูุชุงุจุฉ ูุฐุง ุงูุชูุฑูุฑ ุ ูุงูุช ูุณุฎุฉ ุงูุนูู ูู CentOS ุนูู ุงูุฌูุงุฒ 32 ุจุช.  ูู ููุงู ูุง ูู ุดุจูุฉ ุงูููุจ ุงูุนุงูููุฉ ุงููุงุณุนุฉ ุ ุตุงุฏูุช ุขุฑุงุก ุญูู ุชุฏููุฑ ุฃุฏุงุก ุฃูุธูุฉ ุงูุชุดุบูู ูุฐู ุนูู ุจููุฉ ARM 64 ุจุช ุจูุฏุฑ 20ูช.  ุณุฃุชุฑู ูุฐู ุงูููุทุฉ ุฏูู ุชุนููู. <br><br>  ุนูู ูุธุงู Linux ุ ูู ุจุชูุฒูู ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุตูุฑ ุจุงุณุชุฎุฏุงู " <b>-RaspberryPI-</b> " kernel ูุงูุชุจูุง ุนูู microSD: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs"># xzcat CentOS-Userland-7-armv7hl-RaspberryPI-Minimal-1810-sda.raw.xz | \ dd of=/dev/mmcblk0 bs=4M # sync</code> </pre> <br>  ูุจู ุงุณุชุฎุฏุงู ุงูุตูุฑุฉ ุ ุงุญุฐู ูุณู SWAP ููู ุ ููู ุจุชูุณูุน ุงูุฌุฐุฑ ุฅูู ูุญุฏุฉ ุงูุชุฎุฒูู ุงููุชููุฑุฉ ุจุฃููููุง ูุงูุชุฎูุต ูู SELinux.  ุงูุฎูุงุฑุฒููุฉ ุจุณูุทุฉ: ูู ุจุนูู ูุณุฎุฉ ูู ุงูุฌุฐุฑ ุนูู Linux ุ ูุญุฐู ุฌููุน ุงูุฃูุณุงู ูู microSD ุจุงุณุชุซูุงุก ุงูุฃูู (/ boot) ุ ููู ุจุฅูุดุงุก ุฌุฐุฑ ุฌุฏูุฏ ูุฅุฑุฌุงุน ูุญุชููุงุชู ูู ุงููุณุฎุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู ุนูู ุงูุฅุฌุฑุงุกุงุช ุงูุถุฑูุฑูุฉ (ุฅุฎุฑุงุฌ ูุญุฏุฉ ุงูุชุญูู ุงููุงุณูุฉ)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># mount /dev/mmcblk0p3 /mnt # cd /mnt # tar cfz ~/pi.tgz . --no-selinux # cd # umount /mnt</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># parted /dev/mmcblk0 (parted) unit s (parted) print free Model: SD SC16G (sd/mmc) Disk /dev/mmcblk0: 31116288s Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 63s 2047s 1985s Free Space 1 2048s 1370111s 1368064s primary fat32 boot, lba 2 1370112s 2369535s 999424s primary linux-swap(v1) 3 2369536s 5298175s 2928640s primary ext4 5298176s 31116287s 25818112s Free Space (parted) rm 3 (parted) rm 2 (parted) print free Model: SD SC16G (sd/mmc) Disk /dev/mmcblk0: 31116288s Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 63s 2047s 1985s Free Space 1 2048s 1370111s 1368064s primary fat32 boot, lba 1370112s 31116287s 29746176s Free Space (parted) mkpart Partition type? primary/extended? primary File system type? [ext2]? ext4 Start? 1370112s End? 31116287s (parted) set Partition number? 2 Flag to Invert? lba New state? on/[off]? off (parted) print free Model: SD SC16G (sd/mmc) Disk /dev/mmcblk0: 31116288s Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 63s 2047s 1985s Free Space 1 2048s 1370111s 1368064s primary fat32 boot, lba 2 1370112s 31116287s 29746176s primary ext4 (parted) quit</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># mkfs.ext4 /dev/mmcblk0p2 mke2fs 1.44.6 (5-Mar-2019) /dev/mmcblk0p2 contains a swap file system labelled '_swap' Proceed anyway? (y,N) y Discarding device blocks: done Creating filesystem with 3718272 4k blocks and 930240 inodes Filesystem UUID: 6a1a0694-8196-4724-a58d-edde1f189b31 Superblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208 Allocating group tables: done Writing inode tables: done Creating journal (16384 blocks): done Writing superblocks and filesystem accounting information: done # mount /dev/mmcblk0p2 /mnt # tar xfz ~/pi.tgz -C /mnt --no-selinux</code> </pre><br>  ุจุนุฏ ุชูุฑูุบ ูุญุชููุงุช ูุณู ุงูุฌุฐุฑ ุ ุญุงู ุงูููุช ูุฅุฌุฑุงุก ุจุนุถ ุงูุชุบููุฑุงุช ุนููู. <br><br>  ุชุนุทูู SELinux ูู <b>/ ูุฒุงุฒ ุงูุฑุถุน / ุงูุฎ / selinux / ุงูุชูููู</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">SELINUX=disabled</code> </pre><br>  ูููู ุจุชุญุฑูุฑ <b>/ mnt / etc / fstab</b> ุ ูุน ุชุฑู ุงุซููู ููุท ูู ุฅุฏุฎุงูุงุช ุงููุณู ููู: boot (/ boot ุ ุฏูู ุชุบููุฑ) ูุงูุฌุฐุฑ (ูู ุจุชุบููุฑ ูููุฉ UUID ุ ูุงูุชู ูููู ุงูุนุซูุฑ ุนูููุง ุนู ุทุฑูู ูุญุต ุฅุฎุฑุงุฌ ุงูุฃูุฑ blkid ุนูู Linux): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">UUID=6a1a0694-8196-4724-a58d-edde1f189b31 / ext4 defaults,noatime 0 0 UUID=6938-F4F2 /boot vfat defaults,noatime 0 0</code> </pre><br>  ุฃุฎูุฑูุง ุ ูููู ุจุชุบููุฑ ูุนููุงุช ุชูููุฏ kernel: ุชุญุฏูุฏ ุงููููุน ุงูุฌุฏูุฏ ููุณู ุงูุฌุฐุฑ ุ ูุชุนุทูู ุฅุฎุฑุงุฌ ูุนูููุงุช ุชุตุญูุญ ุงูุฃุฎุทุงุก (ุงุฎุชูุงุฑููุง) ูุญุธุฑ kernel ูู ุชุนููู ุนูุงููู IPv6 ุนูู ูุงุฌูุงุช ุงูุดุจูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cd # umount /mnt # mount /dev/mmcblk0p1 /mnt</code> </pre><br>  <b>ูุฃุชู</b> ูุญุชููุงุช <b>/mnt/cmdline.txt</b> ุฅูู ุงููููุฐุฌ ุงูุชุงูู (ุณุทุฑ ูุงุญุฏ ุจุฏูู ุงููุงุตูุฉ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait quiet ipv6.disable_ipv6=1</code> </pre><br>  ุงูุงูุชูุงุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cd # umount /mnt # sync</code> </pre><br></div></div><br>  ูุญู ูุนูุฏ ุชุฑุชูุจ microSD ูู "Malinka" ุ ููุดุบููุง ููุญุตู ุนูู ูุตูู ุฅูู ุงูุดุจูุฉ ุนุจุฑ ssh (root / centos). <br><br><h1 style=";text-align:right;direction:rtl">  2. ุชูููู CentOS </h1><br>  ุงูุญุฑูุงุช ุงูุซูุงุซ ุงูุฃููู ุงูุชู ูุง ุชุชุฒุนุฒุน: <b>passwd</b> ุ <b>yum -y update</b> ุ <b>ุฅุนุงุฏุฉ ุงูุชุดุบูู</b> . <br><br>  ูุนุทู ุฅุฏุงุฑุฉ ุงูุดุจูุฉ ุฅูู <b>networkd</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># yum install systemd-networkd # systemctl enable systemd-networkd # systemctl disable NetworkManager # chkconfig network off</code> </pre><br>  ูู <b>ุจุฅูุดุงุก</b> ุงูููู (ุฅูู ุฌุงูุจ ุงูุฏูุงุฆู) <b>/etc/systemd/network/eth0.network</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[Match] Name=eth0 [Network] DHCP=ipv4</code> </pre><br>  ูุนูุฏ ุชุดุบูู "ุงูุชูุช" ููุญุตู ูุฌุฏุฏูุง ุนูู ูุตูู ุงูุดุจูุฉ ุฅููู ุนุจุฑ ssh (ูููู ุฃู ูุชุบูุฑ ุนููุงู IP).  ูุงุญุธ ุฃู <b>/etc/resolv.conf</b> ุ ุงูุฐู ุชู ุฅูุดุงุคู ูุณุจููุง ุจูุงุณุทุฉ Network Manager ุ ููุณุชุฎุฏู.  ูุฐูู ุ ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู ูุน ุญู ุ ุชุญุฑูุฑ ูุญุชููุงุชู.  ูู ูุณุชุฎุฏู <b>systemd ุญููุง</b> . <br><br>  ูุฒูู "ุงูุฒุงุฆุฏุฉ ุนู ุงูุญุงุฌุฉ" ุ ูุตูุญ ููุฒูุฏ ูู ุณุฑุนุฉ ุชุญููู ูุธุงู ุงูุชุดุบูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># systemctl set-default multi-user.target # yum remove GeoIP Network* aic* alsa* cloud-utils-growpart \ cronie* dhc* firewal* initscripts iwl* kexec* logrotate \ postfix rsyslog selinux-pol* teamd wpa_supplicant</code> </pre><br>  ูู ูุญุชุงุฌ ุฅูู <b>cron</b> ูุงูุฐู ูุง ููุถู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุคูุชุงุช systemd</a> ุงููุฏูุฌุฉ ุ ููููู ุชุซุจูุช ุงูููููุฏ.  <b>/ var / log -</b> ูุงุจุญุซ ูู ุฎูุงู <b>journalctl</b> .  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุณุฌู ุณุฌู (ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ุชุฎุฒูู ุงููุนูููุงุช ููุท ูู ูุญุธุฉ ุจุฏุก ุชุดุบูู ุงููุธุงู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># mkdir /var/log/journal # systemd-tmpfiles --create --prefix /var/log/journal # systemctl restart systemd-journald # vi /etc/systemd/journald.conf</code> </pre><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุนุทูู ุงุณุชุฎุฏุงู IPv6 ุจูุงุณุทุฉ ุงูุฎุฏูุงุช ุงูุฃุณุงุณูุฉ (ุฅุฐุง ูุฒู ุงูุฃูุฑ)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <b>/ etc / ssh / sshd_config</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">AddressFamily inet</code> </pre><br>  <b>/ etc / sysconfig / chronyd</b> : <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">OPTIONS="-4"</code> </pre><br></div></div><br>  ุฃูููุฉ ุงูููุช ุนูู "ุงูุชูุช" ูู ุดูุก ููู.  ูุธุฑูุง ูุฃู "ุฎุงุฑุฌ ุงูุตูุฏูู" ูุง ุชุชููุฑ ูุฏูู ุงููุฏุฑุฉ ุนูู ุญูุธ ุงูุญุงูุฉ ุงูุญุงููุฉ ููุณุงุนุฉ ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงูุชุฒุงูู.  <b>ููุฏ</b> ุชู ุจุงููุนู ุชุซุจูุช ุงูุจุฑูุงูุฌ ุงูุฎูู ุงูุฌูุฏ ูุงูุณุฑูุน ููุฐุง - <b>chrony</b> - ููุจุฏุฃ ุชููุงุฆููุง.  ููููู ุชุบููุฑ ุฎูุงุฏู NTP ุฅูู ุงูุชุงูู. <br><br>  <b>/etc/chrony.conf</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">server 0.ru.pool.ntp.org iburst server 1.ru.pool.ntp.org iburst server 2.ru.pool.ntp.org iburst server 3.ru.pool.ntp.org iburst</code> </pre><br>  ุณูู ูุณุชุฎุฏู <b>ุงูุฎุฏุนุฉ</b> ูุชุนููู ุงูููุทูุฉ ุงูุฒูููุฉ.  ูุธุฑูุง ูุฃู ูุฏููุง ูู ุฅูุดุงุก ุฌูุงุฒ ุชูุฌูู Wi-Fi ูุนูู ุจุชุฑุฏุฏุงุช 5 ุฌูุฌุง ูุฑุชุฒ ุ ูุฅููุง ูุณุชุนุฏ ููุฏููุง ูููุงุฌุขุช <b>ุงูููุธู</b> : <br><blockquote style=";text-align:right;direction:rtl">  # yum ูุนูููุงุช crda <br>  ููุฎุต: ุงูุจุฑูุงูุฌ ุงูุฎูู ููุงูุชุซุงู ุงูุชูุธููู ููุดุจูุงุช ุงููุงุณูููุฉ 802.11 <br></blockquote><br>  ูุฐุง ุงูุชุตููู ุงูุญุงูุฏ ุ ุงูุฐู ูุฑูุฒ ุ ูู ุจูู ุฃููุฑ ุฃุฎุฑู ุ ุนูู ุงูููุทูุฉ ุงูุฒูููุฉ ุ "ูุญุธุฑ" ุงุณุชุฎุฏุงู (ูู ุฑูุณูุง) ููุชุฑุฏุฏุงุช ูุงููููุงุช 5 ุฌูุฌุงูุฑุชุฒ ุจุฃุฑูุงู "ูุจูุฑุฉ".  ุงูุญููุฉ ูู ุชุนููู ุงูููุทูุฉ ุงูุฒูููุฉ ุฏูู ุงุณุชุฎุฏุงู ุฃุณูุงุก ุงูุจุฑ ุงูุฑุฆูุณู / ุงููุฏููุฉ ุ ุฃู ุจุฏูุงู ูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># timedatectl set-timezone Europe/Moscow</code> </pre><br>  ุฏูุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># timedatectl set-timezone Etc/GMT-3</code> </pre><br>  ูุงูููุณุงุช ุงูุฃุฎูุฑุฉ ูู ุชุตูููุฉ ุงูุดุนุฑ ูููุธุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># hostnamectl set-hostname router</code> </pre><br>  <b>/root/.bash_profile</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">. . . # User specific environment and startup programs export PROMPT_COMMAND="echo -n $(($(&lt;/sys/class/thermal/thermal_zone0/temp) / 1000))\'C\ " export LANG=en_US.UTF-8 export PATH=$PATH:$HOME/bin</code> </pre><br><h1 style=";text-align:right;direction:rtl">  3. ุฅุถุงูุงุช CentOS </h1><br>  ูู ูุง ููู ุฃุนูุงู ูููู ุงุนุชุจุงุฑู ุฅุฑุดุงุฏุงุช ูุงููุฉ ูุชุซุจูุช "ุงููุงููููุง" CentOS ุนูู Raspberry Pi.  ูุฌุจ ุฃู ูููู ูุฏูู ุฌูุงุฒ ููุจููุชุฑ ูุชู ุฅุนุงุฏุฉ ุชุดุบููู ูู ุฃูู ูู 10 ุซูุงูู ุ ููุณุชุฎุฏู ุฃูู ูู 15 ููุบุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ู 1.5 ุบูุบุงุจุงูุช ูู microSD (ูู ุงููุงูุน ุฃูู ูู 1 ุบูุบุงุจุงูุช ุจุณุจุจ ุนุฏู ุงูุชูุงู / ุงูุชูููุฏ ุ ููููุง ุณูููู ุตุงุฏููู ูู ุงูููุงูุฉ): <br><img src="https://habrastorage.org/webt/mu/0g/cf/mu0gcfyiokq0x_2dysrb1ieh0ke.jpeg"><br><br><img src="https://habrastorage.org/webt/xx/l3/_g/xxl3_gukovfw0zawwvvy8ua0dtw.jpeg"><br><br><img src="https://habrastorage.org/webt/wt/yc/-9/wtyc-9erdcdx-rvqnnjite7c9ru.jpeg"><br><br>  ูุชุซุจูุช ุจุฑูุงูุฌ ููุทุฉ ูุตูู Wi-Fi ุนูู ูุฐุง ุงููุธุงู ุ ุณุชุญุชุงุฌ ุฅูู ุฒูุงุฏุฉ ุทูููุฉ ูู ูุฏุฑุงุช ุชูุฒูุน CentOS ุงูููุงุณู.  ุจุงุฏุฆ ุฐู ุจุฏุก ุ "ุถุฎ" ุจุฑูุงูุฌ ุงูุชุดุบูู (ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ) ููุญูู Wi-Fi ุงููุฏูุฌ.  ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูููุดุฑูุน ุชููู: <br><blockquote style=";text-align:right;direction:rtl">  ูุงู ูุงู ุนูู ุงูุชูุช 3B ู 3 B + <br><br>  ูุง ููุณูุญ ุจุชูุฒูุน ูููุงุช ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ Raspberry PI 3B / 3B + ุจูุงุณุทุฉ CentOS Project.  ููููู ุงุณุชุฎุฏุงู ุงูููุงูุงุช ุงูุชุงููุฉ ูููู ุงููุดููุฉ ูุงูุญุตูู ุนูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูุฅุนุฏุงุฏ wifi. <br></blockquote><br>  ูุง ูุง ูุณุชุทูุน ูุดุฑูุน CentOS ุงูููุงู ุจู ููุณ ููููุนูุง ููุง ููุงุณุชุฎุฏุงู ุงูุดุฎุตู.  ูุญู ูุณุชุจุฏู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ููุชูุฒูุน ูู Wi-Fi ูู CentOS ุจุงูุจุฑูุงูุฌ ุงูููุงุจู ูู ูุทูุฑู Broadcom (ููุณ ุงูููุท ุงูุซูุงุฆูุฉ ุงูููุฑููุฉ ...).  ูุฐุง ุ ุนูู ูุฌู ุงูุฎุตูุต ุ ุณูู ูุณูุญ ุจุงุณุชุฎุฏุงู AC ูู ูุถุน ููุทุฉ ุงููุตูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุฑููุฉ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูุดุจูุฉ Wi-Fi</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุงูุชุดููุง ุทุฑุงุฒ ุงูุฌูุงุฒ ูุฅุตุฏุงุฑ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงูุญุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># journalctl | grep $(basename $(readlink /sys/class/net/wlan0/device/driver)) Jan 01 04:00:03 router kernel: brcmfmac: F1 signature read @0x18000000=0x15264345 Jan 01 04:00:03 router kernel: brcmfmac: brcmf_fw_map_chip_to_name: using brcm/brcmfmac43455-sdio.bin for chip 0x004345(17221) rev 0x000006 Jan 01 04:00:03 router kernel: usbcore: registered new interface driver brcmfmac Jan 01 04:00:03 router kernel: brcmfmac: brcmf_c_preinit_dcmds: Firmware version = wl0: Mar 1 2015 07:29:38 version 7.45.18 (r538002) FWID 01-6a2c8ad4 Jan 01 04:00:03 router kernel: brcmfmac: brcmf_c_preinit_dcmds: CLM version = API: 12.2 Data: 7.14.8 Compiler: 1.24.9 ClmImport: 1.24.9 Creation: 2014-09-02 03:05:33 Inc Data: 7.17.1 Inc Compiler: 1.26.11 Inc ClmImport: 1.26.11 Creation: 2015-03-01 07:22:34</code> </pre><br>  ูุฑู ุฃู ุฅุตุฏุงุฑ ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ูู 7.45.18 ุจุชุงุฑูุฎ 03/01/2015 ุ ููุชุฐูุฑ ูุฌููุนุฉ ุงูุฃุฑูุงู ุงูุชุงููุฉ: <b>43455</b> (brcmfmac43455-sdio.bin). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุจุชูุฒูู ุงูุตูุฑุฉ ุงูุญุงููุฉ ูู Raspbian</a> .  ูููู ููุฃุดุฎุงุต ูุณูู ูุชุงุจุฉ ุงูุตูุฑุฉ ุฅูู microSD ููู ููุงู ุงูุชูุงุท ุงููููุงุช ูุน ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ.  ูููููู ุชุญููู ุงููุณู ุงูุฌุฐุฑ ููุตูุฑุฉ ูู Linux ููุณุฎ ุงููุณู ุงูุฐู ุชุญุชุงุฌู ูู ููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># wget https://downloads.raspberrypi.org/raspbian_lite_latest # unzip -p raspbian_lite_latest &gt; raspbian.img # fdisk -l raspbian.img Disk raspbian.img: 2 GiB, 2197815296 bytes, 4292608 sectors Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: dos Disk identifier: 0x17869b7d Device Boot Start End Sectors Size Id Type raspbian.img1 8192 532480 524289 256M c W95 FAT32 (LBA) raspbian.img2 540672 4292607 3751936 1.8G 83 Linux # mount -t ext4 -o loop,offset=$((540672 * 512)) raspbian.img /mnt # cp -fv /mnt/lib/firmware/brcm/*43455* ... '/mnt/lib/firmware/brcm/brcmfmac43455-sdio.bin' -&gt; ... '/mnt/lib/firmware/brcm/brcmfmac43455-sdio.clm_blob' -&gt; ... '/mnt/lib/firmware/brcm/brcmfmac43455-sdio.txt' -&gt; ... # umount /mnt</code> </pre><br>  ูุฌุจ ูุณุฎ ูููุงุช ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงููุงุชุฌุฉ ููุญูู Wi-Fi ุจุงุณุชุจุฏุงู "ุงูุชูุช" ูู ุงูุฏููู <b>/ usr / lib / firmware / brcm /</b> <br><br>  ูุนูุฏ ุชุดุบูู ุฌูุงุฒ ุงูุชูุฌูู ูู ุงููุณุชูุจู ููุจุชุณู ุจุฏูุงู ูู ุฐูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># journalctl | grep $(basename $(readlink /sys/class/net/wlan0/device/driver)) Jan 01 04:00:03 router kernel: brcmfmac: F1 signature read @0x18000000=0x15264345 Jan 01 04:00:03 router kernel: brcmfmac: brcmf_fw_map_chip_to_name: using brcm/brcmfmac43455-sdio.bin for chip 0x004345(17221) rev 0x000006 Jan 01 04:00:03 router kernel: usbcore: registered new interface driver brcmfmac Jan 01 04:00:03 router kernel: brcmfmac: brcmf_c_preinit_dcmds: Firmware version = wl0: Feb 27 2018 03:15:32 version 7.45.154 (r684107 CY) FWID 01-4fbe0b04 Jan 01 04:00:03 router kernel: brcmfmac: brcmf_c_preinit_dcmds: CLM version = API: 12.2 Data: 9.10.105 Compiler: 1.29.4 ClmImport: 1.36.3 Creation: 2018-03-09 18:56:28</code> </pre><br>  ุงูุฅุตุฏุงุฑ: 7.45.154 ูู 02.27.2018. <br></div></div><br>  ูุจุงูุทุจุน EPEL: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cat &gt; /etc/yum.repos.d/epel.repo &lt;&lt; EOF [epel] name=Epel rebuild for armhfp baseurl=https://armv7.dev.centos.org/repodir/epel-pass-1/ enabled=1 gpgcheck=0 EOF # yum clean all # rm -rfv /var/cache/yum # yum update</code> </pre><br><h1 style=";text-align:right;direction:rtl">  4. ุชูููู ุงูุดุจูุฉ ูุงูุชุญุฏูุงุช ุงููุงุฏูุฉ </h1><br>  ููุง ุงุชูููุง ุฃุนูุงู ุ ูุชู ุชูุตูู "Malinka" ุจูุงุณุทุฉ "ุณูู" ุฅูู ุงูุดุจูุฉ ุงููุญููุฉ.  ูููุชุฑุถ ุฃู ูุฒูุฏูุง ูููุฑ ุงููุตูู ุฅูู ุงูุฅูุชุฑูุช ุจููุณ ุงูุทุฑููุฉ ุชูุงููุง: ูุชู ุฅุตุฏุงุฑ ุนููุงู ุนูู ุดุจูุฉ ุนุงูุฉ ุจุดูู ุญููู ุจูุงุณุทุฉ ุฎุงุฏู DHCP (ูููู ุฑุจุทู ุจู MAC).  ูู ูุฐู ุงูุญุงูุฉ ุ ุจุนุฏ ุงูุฅุนุฏุงุฏ ุงูููุงุฆู ูู "ุงูุชูุช" ุ ูููู "ุชูุตูู" ูุจู ุงููููุฑ ุจู ููู ุดูุก ุฌุงูุฒ.  ุฅุฐู ุจุงุณุชุฎุฏุงู <b>systemd-networkd</b> ูู ููุถูุน ููุงู ูููุตู ููุง ูุนุชุจุฑ ููุง. <br><br>  ุชุนุฏ ูุงุฌูุฉ (ูุงุฌูุงุช) Wi-Fi ูู Raspberry ุดุจูุฉ ูุญููุฉ ุ ููุญูู Ethernet ุงููุฏูุฌ (eth0) ุฎุงุฑุฌู.  ูุญู ูุฑูู ุงูุดุจูุฉ ุงููุญููุฉ ุจุดูู ุซุงุจุช ุ ุนูู ุณุจูู ุงููุซุงู: 192.168.0.0/24.  ุนููุงู ูุงููููุง: 192.168.0.1.  ูู ุดุจูุฉ ุฎุงุฑุฌูุฉ (ุงูุฅูุชุฑูุช) ุณูุนูู ุฎุงุฏู DHCP. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดููุฉ ุชูุญูุฏ ุงูุชุณููุฉ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงููุจุฑูุฌ ุงูุบูุงุชููุงูู ุงูุดููุฑ</a> ููุง ูุดููุชุงู ุชูุชุธุฑุงู ูู ูู ูุดุงุฑู ูู ุชูููู ูุงุฌูุงุช ูุฎุฏูุงุช ุงูุดุจูุฉ ูู ุชูุฒูุนุงุช systemd. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูููุถู ุงูููุงุฒูุฉ (ุงูุงูุญุฏุงุฑ ุงูุบูุงุฆู)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุฌุนู Lennart Pottering ุจุฑูุงูุฌู <b>systemd</b> ุฌูุฏูุง.  ูููู ูุฐุง ุงููุธุงู ุจุฅุทูุงู ุจุฑุงูุฌ ุฃุฎุฑู ุจุณุฑุนุฉ ูุฏุฑุฌุฉ ุฃูู ุ ุจุนุฏ ุฃู ูู ูุชุญ ูู ุงูููุช ุงููุงูู ูููุตูู ุฅูู ุฑุดุฏูู ูู ุตุงูุฑุฉ ุงูุญูู ุ ูุชุนุซุฑ ููุณูุท ูู ุงูุจุฏุงูุฉ ุฏูู ุฃู ูุจุฏุฃ ูุณุงุฑู ุงูุฎุงุต ุจุงูุนูุจุงุช. <br><br>  ูููู ุนูู ูุญูู ุงูุฌุฏ ุ ูุฅู ุงูููุงุฒูุฉ ุงููููุฉ ููุนูููุงุช ุงูุชู ุชู ุฅุทูุงููุง ูู ุจุฏุงูุฉ systemd-OS ูู ููุน ูู "ุฌุณุฑ ุงูุญููุฑ" ูุจุฑุงูุฌ ุชุดุบูู LSB ุงูุชุณูุณููุฉ ุงููุฎุชุจุฑุฉ.  ูุญุณู ุงูุญุธ ุ ุชุจูู ุฃู ุนูููุฉ "ุงูููุถู ุงูููุงุฒูุฉ" ูุฐู ุจุณูุทุฉ ุ ุนูู ุงูุฑุบู ูู ุฃู ุงูุญูููุฉ ููุณุช ูุงุถุญุฉ ุฏุงุฆููุง. <br></div></div><br>  ูุฎูู ูุงุฌูุงุช ุฌุณุฑ ุงูุชุฑุงุถูุฉ ุจุฃุณูุงุก ุซุงุจุชุฉ: <b>lan</b> ู <b>wan</b> .  ุณูููู ุจุฑุจุท ูุญูู (ููุงูุฆุงุช) Wi-Fi ุจุงููุญูู ุงูุฃูู ุ ู eth0 ูู "ุงูุชูุช" ุจุงูุขุฎุฑ. <br><br>  <b>/etc/systemd/network/lan.netdev</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[NetDev] Name=lan Kind=bridge</code> </pre><br>  <b>/etc/systemd/network/lan.network</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[Match] Name=lan [Network] Address=192.168.0.1/24 IPForward=yes</code> </pre><br>  <b>/etc/systemd/network/wan.netdev</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[NetDev] Name=wan Kind=bridge #MACAddress=xx:xx:xx:xx:xx:xx</code> </pre><br>  <b>/etc/systemd/network/wan.network</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[Match] Name=wan [Network] DHCP=ipv4 IPForward=yes</code> </pre><br>  <b>IPForward = yes</b> ููุบู ุงูุญุงุฌุฉ ุฅูู ุงูุชูููุญ ุฅูู ุงูููุงุฉ ุนุจุฑ sysctl ูุชูููู ุงูุชูุฌูู. <br>  <b>MACAddress =</b> uncomment ูุชุบููุฑ ุฅุฐุง ูุฒู ุงูุฃูุฑ. <br><br>  ุฃููุงู ุ ูุญู ูุฑุจุท eth0.  ุชุฐูุฑ "ูุดููุฉ ุงูุชูุญูุฏ" ูุงุณุชุฎุฏู ููุท ุนููุงู MAC ุงูุฎุงุต ุจูุฐู ุงููุงุฌูุฉ ุ ูุงูุฐู ููููู ุงูุชุดุงูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cat /sys/class/net/eth0/address</code> </pre><br>  ุฅูุดุงุก <b>/etc/systemd/network/eth.network</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[Match] MACAddress=b8:27:eb:xx:xx:xx [Network] Bridge=wan</code> </pre><br>  ุงุญุฐู ููู ุงูุชูููู eth0 ุงูุณุงุจู ุ ูุฃุนุฏ ุชุดุบูู "ุงูุชูุช" ูุงุญุตู ุนูู ูุตูู ุฅูู ุงูุดุจูุฉ (ูู ุงููุฑุฌุญ ุฃู ูุชุบูุฑ ุนููุงู IP): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># rm -fv /etc/systemd/network/eth0.network # reboot</code> </pre><br><h1 style=";text-align:right;direction:rtl">  5. DNSMASQ </h1><br>  ูุชุตููุน ููุงุท ูุตูู Wi-Fi ุ ูู ูุชู ุงุฎุชุฑุงุน ุดูุก ุฃูุถู ูู ุงูุฒูุฌูู <b>ุงูุญูููู</b> ูู <b>dnsmasq</b> + <b>hostapd</b> .  ูู ุฑุฃูู <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุฐุง ูุณูุช ุฃู ุดุฎุต ุ ุซู ...</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">hostapd</a> ูู ุงูุดูุก ุงูุฐู ูุฏูุฑ ูุญููุงุช Wi-Fi (ุนูู ูุฌู ุงูุฎุตูุต ุ ุณูุญุชุงุฌ ุงูุฃูุฑ ุฅูู ุฑุจุทูุง ุจุงูุดุจูุฉ ุงูุงูุชุฑุงุถูุฉ <b>ูุชูุช</b> ุงูุนููู) ุ ููู ูุฑุฎุต ููุณุฌู ุงูุนููุงุก ุงููุงุณููููู. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">dnsmasq</a> - ุชูููู ููุฏุณ ุดุจูุฉ ุงูุนููุงุก: ูููุฑ ุนูุงููู IP ูุฎูุงุฏู DNS ูุจูุงุจุฉ ุงูุชุฑุงุถูุฉ ููุง ุดุงุจู ุฐูู. <br></div></div><br>  ูุจุฏุฃ ูุน dnsmasq: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># yum install dnsmasq</code> </pre><br>  ูุงูุจ <b>/etc/resolv.conf</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">nameserver 1.1.1.1 nameserver 1.0.0.1 nameserver 8.8.8.8 nameserver 8.8.4.4 nameserver 77.88.8.8 nameserver 77.88.8.1 domain router.local search router.local</code> </pre><br>  ุชุญุฑูุฑู ูุชุฑุถูู. <br><br>  ุฃุถูู <b>ุงูุญุฏูุฏ</b> / <b>ุงูุฎ</b> / <b>dnsmasq.conf</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">domain-needed bogus-priv interface=lan bind-dynamic expand-hosts domain=# dhcp-range=192.168.0.100,192.168.0.199,255.255.255.0,24h conf-dir=/etc/dnsmasq.d</code> </pre><br>  "ุงูุณุญุฑ" ููุง ูู ุงููุนููุฉ <b>ุงููุฑุชุจุทุฉ ุงูุฏููุงููููุฉ</b> ุ ูุงูุชู ุชุฎุจุฑ dnsmasq daemon ุฃู ุชูุชุธุฑ <b>ุงููุงุฌูุฉ = lan</b> ูุชุธูุฑ ูู ุงููุธุงู ุ ูููุณ ููุฅุบูุงุก ูู ุฃู ูุฌูู ุจุงููุญุฏุฉ ุงููุฎุฑ ุจุนุฏ ุงูุจุฏุงูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># systemctl enable dnsmasq # systemctl start dnsmasq; journalctl -f</code> </pre><br><h1 style=";text-align:right;direction:rtl">  6. HOSTAPD </h1><br>  ุฃุฎูุฑูุง ุ ุชููููุงุช hostapd ุงูุณุญุฑูุฉ.  ููุณ ูุฏู ุฃุฏูู ุดู ูู ุฃู ุดุฎุตูุง ูุง ููุฑุฃ ูุฐู ุงูููุงูุฉ ุจุญุซูุง ุนู ูุฐู ุงูุฎุทูุท ุงูุนุฒูุฒุฉ ุนูู ูุฌู ุงูุชุญุฏูุฏ. <br><br>  ูุจู ุชุซุจูุช hostapd ุ ุชุญุชุงุฌ ุฅูู ุงูุชุนุงูู ูุน "ูุดููุฉ ุงูุชูุญูุฏ".  ูููู ููุญูู Wi-Fi ุงููุฏูุฌ ูู wlan0 ุชุบููุฑ ุงุณูู ุจุณูููุฉ ุฅูู wlan1 ุนูุฏ ุชูุตูู ุฃุฌูุฒุฉ Wi-Fi USB ุฅุถุงููุฉ.  ูุฐูู ุ ุณูู ูููู ุจุฅุตูุงุญ ุฃุณูุงุก ุงููุงุฌูุงุช ุจุงูุทุฑููุฉ ุงูุชุงููุฉ: ุณูุฃุชู ุจุฃุณูุงุก ูุฑูุฏุฉ ูู ุงููุญููุงุช (ุงููุงุณูููุฉ) ููุฑุจุทูุง ุจุนูุงููู MAC. <br><br>  ููุญูู Wi-Fi ุงููุฏูุฌ ุ ูุงูุฐู ูุง ูุฒุงู wlan0: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cat /sys/class/net/wlan0/address b8:27:eb:xx:xx:xx</code> </pre><br>  ุฅูุดุงุก <b>/etc/systemd/network/wl0.link</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[Match] MACAddress=b8:27:eb:xx:xx:xx [Link] Name=wl0</code> </pre><br>  ุงูุขู ุณูููู ูุชุฃูุฏูู ูู ุฃู <b>wl0</b> ูู ุดุจูุฉ Wi-Fi ุงููุฏูุฌุฉ.  ูุญู ุฅุนุงุฏุฉ ุชุดุบูู "ุงูุชูุช" ูุฑุคูุฉ ูุฐุง. <br><br>  ุชุนููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># yum install hostapd wireless-tools</code> </pre><br>  ููู ุงูุชูููู <b>/etc/hostapd/hostapd.conf</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ssid=rpi wpa_passphrase=1234567890 channel=36 country_code=US interface=wl0 bridge=lan driver=nl80211 auth_algs=1 wpa=2 wpa_key_mgmt=WPA-PSK rsn_pairwise=CCMP macaddr_acl=0 hw_mode=a wmm_enabled=1 # N ieee80211n=1 require_ht=1 ht_capab=[MAX-AMSDU-3839][HT40+][SHORT-GI-20][SHORT-GI-40][DSSS_CCK-40] # AC ieee80211ac=1 require_vht=1 ieee80211d=0 ieee80211h=0 vht_capab=[MAX-AMSDU-3839][SHORT-GI-80] vht_oper_chwidth=1 vht_oper_centr_freq_seg0_idx=42</code> </pre><br>  ุฏูู ุฃู ููุณู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GKChP</a> ููุฏุฉ ุฏูููุฉ ุ ูุฅููุง ูุบูุฑ ุงููุนููุงุช ุงูุชู ูุญุชุงุฌูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุจุญุซ</a> ูุฏูููุง ุนู ุงูุฃุฏุงุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># hostapd /etc/hostapd/hostapd.conf</code> </pre><br>  ุณุชุจุฏุฃ hostapd ุจุดูู ุชูุงุนูู ุ ูุชุฑุฌูุฉ ุญุงูุชูุง ุฅูู ูุญุฏุฉ ุงูุชุญูู.  ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ุ ูููู ุจุงููุนู ุชูุตูู ุงูุนููุงุก ุงูุฐูู ูุฏุนููู ูุถุน AC ุจููุทุฉ ุงููุตูู.  ูุฅููุงู hostapd - Ctrl-C. <br><br>  ูุจูู ูุชุดูู hostapd ูู ุจุฏุก ุชุดุบูู ุงููุธุงู.  ุฅุฐุง ููุช ุชุชุตุฑู ุจุดูู ููุงุณู (systemctl enable hostapd) ุ ูุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชุงููุฉ ุ ููููู ุงูุญุตูู ุนูู "ุดูุทุงู ูู ุฏู" ุดูุทุงู ูุน ุชุดุฎูุต " <b>ูุงุฌูุฉ wl0 ุบูุฑ ููุฌูุฏุฉ</b> ".  ูุชูุฌุฉ "ุงูููุถู ุงููุชูุงุฒูุฉ" ุ ุงูุชูู hostapd ุจุดูู ุฃุณุฑุน ูู ุงูุนุซูุฑ ุนูู ูุญูู ูุงุณููู. <br><br>  ุงูุฅูุชุฑูุช ูููุก ุจุงูุฃุฏููุฉ: ูู ุงููููุฉ ุงููุณุฑูุฉ ูุจู ุจุฏุก ุงูุจุฑูุงูุฌ ุงูุฎูู (ูุจุถุน ุฏูุงุฆู) ุ ุฅูู ุงูุฎูู ุงูุขุฎุฑ ุงูุฐู ูุฑุงูุจ ุธููุฑ ุงููุงุฌูุฉ ู (ุฅุนุงุฏุฉ) ูุจุฏุฃ ููุญุฉ ุงููุถูู.  ุงูุญููู ุชุนูู ุชูุงููุง ุ ููููุง ูุจูุญุฉ ุจุดูู ุฑููุจ.  ูุญู ูุฏุนู ุฅูู ูุณุงุนุฏุฉ ุงููุธุงู ุงูุนุธูู ูู ุฎูุงู "ุฃูุฏุงูู" ู " <s>ุงูููุงู</s> " "ุงูุชุจุนูุงุช". <br><br>  ุงูุณุฎ ููู ุฎุฏูุฉ ุงูุชูุฒูุน ุฅูู <b>/etc/systemd/system/hostapd.service</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cp -fv /usr/lib/systemd/system/hostapd.service /etc/systemd/system</code> </pre><br>  ูุฅุญุถุงุฑ ูุญุชููุงุชู ุฅูู ุงููููุฐุฌ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[Unit] Description=Hostapd IEEE 802.11 AP, IEEE 802.1X/WPA/WPA2/EAP/RADIUS Authenticator After=sys-subsystem-net-devices-wl0.device BindsTo=sys-subsystem-net-devices-wl0.device [Service] Type=forking PIDFile=/run/hostapd.pid ExecStart=/usr/sbin/hostapd /etc/hostapd/hostapd.conf -P /run/hostapd.pid -B [Install] WantedBy=sys-subsystem-net-devices-wl0.device</code> </pre><br>  ูุชูุซู ุณุญุฑ ููู ุงูุฎุฏูุฉ ุงููุญุฏูุซ ูู ุฑุจุท hostapd ุฏููุงูููููุง ุจูุฏู ุฌุฏูุฏ - ูุงุฌูุฉ wl0.  ุนูุฏูุง ุชุธูุฑ ุงููุงุฌูุฉ ุ ูุจุฏุฃ ุงูุจุฑูุงูุฌ ุงูุฎูู ุ ูุนูุฏูุง ูุฎุชูู ุ ูุชููู.  ูู ุดูุก ุนูู ุงูุฅูุชุฑูุช - ุฏูู ุฅุนุงุฏุฉ ุชุดุบูู ุงููุธุงู.  ูุง ุณููุง ูุฐู ุงูุชูููุฉ ุณุชููู ูููุฏุฉ ุนูุฏ ุงูุงุชุตุงู ุจูุญูู USB ูุงู ูุงู "ุงูุชูุช". <br><br>  ุงูุขู ููููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># systemctl enable hostapd # reboot</code> </pre><br><h1 style=";text-align:right;direction:rtl">  7. IPTABLES </h1><br>  "ุดุชุง ุุุ"  ยฉ ูุนู ุ ูุนู!  ูุง <b>systemd</b> .  ูุง ูุฌูุน ุญุฏูุซูุง (ูู ุดูู <b>firewalld</b> ) ุ ููู ูุง ููุนู ุงูุดูุก ููุณู ูู ุงูููุงูุฉ. <br><br>  ูุญู ูุณุชุฎุฏู <b>iptables</b> ุงููุฏููุฉ ุงูุฌูุฏุฉ ุ ุงูุชู ุณุชููู ุฎุฏูุงุชูุง ุจุนุฏ ุจุฏุงูุชูุง ุจุชุญููู ููุงุนุฏ ุงูุดุจูุฉ ุนูู ุงูููุงุฉ ูุฅุบูุงููุง ุจูุฏูุก ุฏูู ุฃู ุชุจูู ููููุฉ ูุจุฏูู ุงุณุชููุงู ุงูููุงุฑุฏ.  ูุญุชูู Systemd ุนูู <b>IPMasquerade =</b> ุฃููู ุ ููููุง <b>ุณูุณุชูุฑ ูู</b> ุชูููู iptables ุจุชุฑุฌูุฉ ุงูุนููุงู (NAT) ูุฌุฏุงุฑ ุงูุญูุงูุฉ. <br><br>  ุชุนููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># yum install iptables-services # systemctl enable iptables ip6tables</code> </pre><br>  ุฃูุถู ุชุฎุฒูู ุชูููู iptables ูุจุฑูุงูุฌ ูุตู (ูุซุงู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # # Disable IPv6 # ip6tables --flush ip6tables --delete-chain ip6tables --policy INPUT DROP ip6tables --policy FORWARD DROP ip6tables --policy OUTPUT DROP ip6tables-save &gt; /etc/sysconfig/ip6tables systemctl restart ip6tables # # Cleaning # iptables -F iptables -X iptables -t nat -F iptables -t nat -X iptables -t mangle -F iptables -t mangle -X iptables -P INPUT DROP iptables -P OUTPUT ACCEPT iptables -P FORWARD ACCEPT # # Loopback, lan # iptables -A INPUT -i lo -j ACCEPT iptables -A INPUT -i lan -j ACCEPT # # Ping, Established # iptables -A INPUT -p icmp --icmp-type echo-request -j ACCEPT iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT # # NAT # iptables -t nat -A POSTROUTING -o wan -j MASQUERADE # # Saving # iptables-save &gt; /etc/sysconfig/iptables systemctl restart iptables</span></span></code> </pre><br>  ูููุฐ ุงููุต ุฃุนูุงู ููููุฏ ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ุฑูุงุจุท ssh ุณูููุฉ ุฌุฏูุฏุฉ ูุน "Malinka".  ูุฐุง ุตุญูุญ ุ ููุฏ ุตูุนูุง ุฌูุงุฒ ุชูุฌูู Wi-Fi ุ ุญูุซ ููุญุธุฑ ุงููุตูู ุฅูู "ุนุจุฑ ุงูุฅูุชุฑูุช" ุงูุชุฑุงุถููุง - ุงูุขู ููุท "ุนุจุฑ ุงูููุงุก".  ูููู ุจุชูุตูู ูุงุจู ูุฒูุฏ ุฅูุซุฑูุช ูุจุฏุก ุชุตูุญ! <br><br><h1 style=";text-align:right;direction:rtl">  8. ุงูููุงูุฃุฉ: + 2.4 ุฌูุฌุง ูุฑุชุฒ </h1><br>  ุนูุฏูุง ููุช ุจุชุฌููุน ุฃูู ุฌูุงุฒ ุชูุฌูู ูู Raspberry ูู ุงูุฑุณู ุงูููุถุญ ุฃุนูุงู ุ ุงูุชุดูุช ูู ูุฒุฑุนุชู ุนุฏุฏูุง ูู ุงูุฃุฏูุงุช ุงูุฐููุฉ ุ ูุธุฑูุง ููููุฏ ุงูุชุตููู ุงูุฎุงุตุฉ ุจูุง ุ ูู ุชุชููู ุดุจูุฉ Wi-Fi ูู ุฑุคูุฉ "ุงูุชูุช" ุนูู ุงูุฅุทูุงู.  ูู ุชูู ุนูููุฉ ุฅุนุงุฏุฉ ุชูููู ุฌูุงุฒ ุงูุชูุฌูู ููุนูู ูู 802.11b / g / n ูุซู ุงูุฑูุงุถู ุ ูุฃู ุงูุณุฑุนุฉ ุงููุตูู "ุนุจุฑ ุงูุฃุซูุฑ" ูู ูุฐู ุงูุญุงูุฉ ูู ุชุชุฌุงูุฒ 40 ููุบุงุจุช ูู ุงูุซุงููุฉ ุ ููููุฑ ูููุฑ ุฎุฏูุฉ ุงูุฅูุชุฑูุช ุงูููุถู ูุฏู 100 (ุนุจุฑ ุงููุงุจู). <br><br>  ูู ุงููุงูุน ุ ุชู ุจุงููุนู ุงุฎุชุฑุงุน ุญู ูููุดููุฉ: ูุงุฌูุฉ Wi-Fi ุซุงููุฉ ุชุนูู ุจุณุฑุนุฉ 2.4 ุฌูุฌุงูุฑุชุฒ ูููุทุฉ ูุตูู ุซุงููุฉ.  ูู ุฃูุฑุจ ูุดู ุ ุงุดุชุฑูุช ููุณุช ุงูุฃููู ุ ูููู ุงูุซุงููุฉ USB Wi-Fi "ุตูุงุฑุฉ" ุงูุชู ุฌุงุกุช ูู.  ุชุนุฐุจ ุงูุจุงุฆุน ูู ุฃุณุฆูุฉ ุญูู ุงูุดุฑุงุฆุญ ูุงูุชูุงูู ูุน Linux ARM-cores ูุฅููุงููุฉ ุงูุนูู ูู ูุถุน AP (ุจุฏุฃ ูุฃูู ูุฑุฉ). <br><br>  ูููู ุจุชูููู "ุตูุงุฑุฉ" ุนู ุทุฑูู ุงูููุงุณ ูุน ูุญูู Wi-Fi ุงููุฏูุฌ. <br><br>  ุฃููุงู ุ ูู ุจุฅุนุงุฏุฉ ุชุณููุชู ุฅูู <b>wl1</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cat /sys/class/net/wlan0/address b0:6e:bf:xx:xx:xx</code> </pre><br>  <b>/etc/systemd/network/wl1.link</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[Match] MACAddress=b0:6e:bf:xx:xx:xx [Link] Name=wl1</code> </pre><br>  ุณูุนูุฏ ุจุฅุฏุงุฑุฉ ูุงุฌูุฉ Wi-Fi ุงูุฌุฏูุฏุฉ ุฅูู ุจุฑูุงูุฌ ุฎูู hostapd ูููุตู ุ ูุงูุฐู ุณูุจุฏุฃ ููุชููู ุงุนุชูุงุฏูุง ุนูู ูุฌูุฏ "ุตูุงุฑุฉ" ูุญุฏุฏุฉ ุจุฏูุฉ ูู ุงููุธุงู: wl1. <br><br>  ููู ุงูุชูููู <b>/etc/hostapd/hostapd2.conf</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ssid=rpi2 wpa_passphrase=1234567890 #channel=1 #channel=6 channel=11 interface=wl1 bridge=lan driver=nl80211 auth_algs=1 wpa=2 wpa_key_mgmt=WPA-PSK rsn_pairwise=CCMP macaddr_acl=0 hw_mode=g wmm_enabled=1 # N ieee80211n=1 require_ht=1 ht_capab=[HT40][SHORT-GI-20][SHORT-GI-40][DSSS_CCK-40]</code> </pre><br>  ุชุนุชูุฏ ูุญุชููุงุช ูุฐุง ุงูููู ูุจุงุดุฑุฉ ุนูู ุทุฑุงุฒ ููุงูุฆ USB Wi-Fi ุ ูุจุงูุชุงูู ูุฅู ูุณุฎุฉ / ูุตู ุชุงููุฉ ูููู ุฃู ุชุฎุฐูู. <br><br>  ุงูุณุฎ ููู ุฎุฏูุฉ ุงูุชูุฒูุน ุฅูู <b>/etc/systemd/system/hostapd2.service</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># cp -fv /usr/lib/systemd/system/hostapd.service /etc/systemd/system/hostapd2.service</code> </pre><br>  ูุฅุญุถุงุฑ ูุญุชููุงุชู ุฅูู ุงููููุฐุฌ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">[Unit] Description=Hostapd IEEE 802.11 AP, IEEE 802.1X/WPA/WPA2/EAP/RADIUS Authenticator After=sys-subsystem-net-devices-wl1.device BindsTo=sys-subsystem-net-devices-wl1.device [Service] Type=forking PIDFile=/run/hostapd2.pid ExecStart=/usr/sbin/hostapd /etc/hostapd/hostapd2.conf -P /run/hostapd2.pid -B [Install] WantedBy=sys-subsystem-net-devices-wl1.device</code> </pre><br>  ูุจูู ุชุถููู ูุซูู ุฌุฏูุฏ ูู hostapd: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># systemctl enable hostapd2</code> </pre><br>  ูุฐุง ูู ุดุฆ!  ุงุณุญุจ ุงูุตูุงุฑุฉ ูุงูุชูุช ููุณู ุ ูุงูุธุฑ ุฅูู ุงูุดุจูุงุช ุงููุงุณูููุฉ ุงููุญูุทุฉ. <br><br>  ูุฃุฎูุฑูุง ุ ุฃุฑุบุจ ูู ุงูุชุญุฐูุฑ ูู ุฌูุฏุฉ ููุงูุฆ USB Wi-Fi ูููุฑุฏ ุทุงูุฉ ุงูุชูุช.  ูุชุตูุฉ "ุตุงูุฑุฉ ุณุงุฎูุฉ" ุ ูู ุจุนุถ ุงูุฃุญูุงู ูููู ุฃู ูุณุจุจ "ุชุนููู ุงูุชูุช" ุจุณุจุจ ูุดุงูู ููุฑุจุงุฆูุฉ ูุตูุฑุฉ ุงูุฃุฌู. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar458994/">https://habr.com/ru/post/ar458994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar458984/index.html">ููููุฉ ุฅูุดุงุก ุงูุชุทุจูู ุงูุฃูู ููุชุฏุงูู ูู ุงูุจูุฑุตุฉ: 3 ุฎุทูุงุช ุฃูููุฉ</a></li>
<li><a href="../ar458986/index.html">ูุตูุงุช PostgreSQL: ุงูุชุญููู ูู HTML ูุนูุงููู URL ุฅูู PDF ู PS</a></li>
<li><a href="../ar458988/index.html">ุงูุชุฑููุจ ุ ุฃู ูุง ุชุญุชุงุฌ ุฅูู ูุนุฑูุชู ูุชุตุจุญ ููุงู ุงูุณุทุญ. ุงูุฌุฒุก 4. ุงูููุงุฐุฌ ุ ูุงูููุงุนุฏ ุงูุทุจูุนูุฉ ุ ูุงูุชุณุงุญ</a></li>
<li><a href="../ar458990/index.html">ููู ูุชุญูุณ ูุน ุงูุชุนูููุงุช ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ</a></li>
<li><a href="../ar458992/index.html">ุงูุงูุชุจุงู ููุฏูู ูุชูููุฐูุง ูู ูุฑุงุณ</a></li>
<li><a href="../ar458996/index.html">Inyerface ุงููุณุชุฎุฏู - ููู ูุง ุชุนุฐุจ ุงููุณุชุฎุฏู</a></li>
<li><a href="../ar459000/index.html">ููู ุญุงููุช ุชุญุณูู Halo 2 ุ ููู ุฏูุฑุชู ุชูุฑูุจูุง</a></li>
<li><a href="../ar459002/index.html">ููููุฉ ุชูููู HTTPS - ุณูู ูุณุงุนุฏู SSL Configuration Generator</a></li>
<li><a href="../ar459004/index.html">ุฎูุงุฑุฒููุฉ ุงูุชุดููุฑ ุงูุฌูุฏุจ: ููุท ุนู ุงููุฌูุน</a></li>
<li><a href="../ar459012/index.html">ุฅูุดุงุก ุชุทุจูู ู Bitrix24 ูู ุงูุตูุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>