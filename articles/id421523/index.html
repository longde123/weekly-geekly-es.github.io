<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßóüèø üéöÔ∏è üè£ Unity: mengenal Objek Skrip üëµüèæ ü§ó üéÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam tutorial ini, Anda akan belajar cara membuat dan menggunakan Objek Skrip di Unity. Objek Skrip dapat membantu meningkatkan alur kerja Anda, meng...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unity: mengenal Objek Skrip</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421523/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddb/365/357/ddb365357b74dc1e5d86d337d90c8398.gif" alt="gambar"></div><br>  Dalam tutorial ini, Anda akan belajar cara membuat dan menggunakan Objek Skrip di Unity.  Objek Skrip dapat membantu meningkatkan alur kerja Anda, mengurangi jejak memori, dan bahkan memungkinkan Anda untuk membagi arsitektur kode. <br><br>  Menurut dokumentasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Unity</a> , ScriptableObject adalah kode kelas yang memungkinkan Anda untuk membuat Objek Skrip dalam game untuk menyimpan sejumlah besar data bersama yang tidak tergantung pada instance skrip. <br><br>  Ada banyak alasan untuk menggunakan Objek Skrip di Unity.  Mereka dapat mengurangi jumlah memori yang digunakan untuk setiap cetakan tambahan, karena Objek Skrip pada dasarnya mengikuti pola desain <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Flyweight</a> . <br><br>  Keuntungan lain dari Scriptable Objects, yang akan menjadi tema utama tutorial ini, adalah penggunaannya untuk transfer data yang mudah.  Kami akan mempertimbangkan properti ini sebagai contoh pembuatan toko pedagang pedang, yang akan menampilkan parameter, harga, dan deskripsi berbagai pedang. <br><a name="habracut"></a><br><blockquote>  <em>Catatan:</em> tutorial ini mengasumsikan bahwa Anda terbiasa dengan editor Unity.  Anda harus memahami cara mengedit kode dalam editor kode dan memiliki pengetahuan dasar C #.  Jika Anda perlu meningkatkan keterampilan Unity Anda, lihat <a title="Tutorial kesatuan" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tutorial Unity</a> lainnya. </blockquote><br><h2>  Mulai bekerja </h2><br>  Mari kita mulai dengan <a href="">mengunduh materi yang</a> kita butuhkan. <br><br>  Buka zip file yang diunduh ke tempat yang nyaman bagi Anda dan buka proyek <em>Scriptable Object Tutorial-Starter</em> di Unity. <br><br>  Anda harus melihat folder berikut ini dibuat sebagai bagian dari pengadaan proyek: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/046/8c3/b63/0468c3b63c16cb562f7d826a51ff8597.png"></div><br><ul><li>  <em>_Setup</em> : untuk tutorial folder ini tidak diperlukan. </li><li>  <em>Adegan</em> : berisi adegan <em>Pedang Pedagang</em> yang akan kita bahas sepanjang tutorial.  Buka adegan ini. </li><li>  <em>Skrip</em> : sejauh ini hanya ada satu skrip, tetapi selama tutorial kita akan membuat skrip baru. </li><li>  <em>Sword Icons</em> : Berisi gambar diam dari masing-masing pedang. </li><li>  <em>Pedang Prefab</em> : Berisi cetakan dari semua pedang di adegan Pedang Pedang. </li></ul><br><h2>  Membuat Objek Skrip </h2><br>  Untuk memulai, pergi ke adegan <em>Pedang Pedagang</em> .  Seharusnya terlihat seperti ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/372/6ea/e89/3726eae89b9ddb9f57a698ed5cd7626d.png"></div><br><h3>  Mempersiapkan Objek Skrip </h3><br>  Inilah saatnya untuk membuat Objek Skrip pertama! <br><br>  Di folder <em>Skrip</em> , buat skrip baru bernama <em>SwordData</em> .  Kelas ini akan digunakan sebagai wadah untuk semua data pedang yang ditampilkan di toko pedagang pedang. <br><br>  Di dalam kelas ini, mulailah dengan mewarisi dari <code>ScriptableObject</code> alih-alih <code>MonoBehaviour</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SwordData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { }</code> </pre> <br>  Tindakan ini memberi tahu Unity bahwa kami masih ingin menggunakan fitur dan metode Unity, sama seperti MonoBehaviour biasa, tetapi kami tidak perlu lagi melampirkan skrip ini ke GameObject.  Sebaliknya, itu akan diproses seperti aset biasa, yang dapat dibuat dengan cara yang sama seperti membuat cetakan, adegan atau bahan. <br><br>  Isi skrip dengan bidang serial, yang akan berisi semua data yang sesuai dengan informasi yang ditampilkan di Pedang Pedagang Merchant. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SwordData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> swordName; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> description; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Sprite icon; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> goldCost; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> attackDamage; }</code> </pre> <br><ul><li>  <em>swordName</em> : <code>string</code> , di mana nama pedang akan disimpan. </li><li>  <em>description</em> : <code>string</code> , di mana deskripsi pedang akan disimpan. </li><li>  <em>ikon</em> : sprite yang akan berisi ikon pedang. </li><li>  <em>goldCost</em> : <code>int</code> untuk menyimpan nilai pedang dalam emas. </li><li>  <em>attackDamage</em> : <code>int</code> untuk menyimpan kerusakan saat menyerang dengan pedang. </li></ul><br><blockquote>  <em>Catatan: SerializeField</em> <br><br>  Di Unity, atribut SerializeField memungkinkan Anda memiliki variabel skrip pribadi yang tersedia di Inspektur.  Ini akan memungkinkan Anda untuk menetapkan nilai di editor tanpa memberikan akses ke variabel dari skrip lain. </blockquote><br>  Setiap pedang akan membutuhkan implementasi unik dari Scriptable Object <em>SwordData</em> .  Tetapi sebelum kita dapat membuat implementasi ini, kita perlu menambahkan Objek Scriptable ke Menu Aset. <br><br>  Tambahkan Objek Skrip kami ke Menu Aset dengan menambahkan atribut berikut ke kelas <em>SwordData</em> : <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">CreateAssetMenu(fileName = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"New SwordData"</span></span></span><span class="hljs-meta">, menuName = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Sword Data"</span></span></span><span class="hljs-meta">, order = 51)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SwordData</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span></code> </pre> <br><ul><li>  <em>fileName</em> : nama default saat membuat aset. </li><li>  <em>menuName</em> : nama <em>aset yang</em> ditampilkan di Menu Aset. </li><li>  <em>order</em> : Penempatan aset dalam Menu Aset.  Unity membagi aset menjadi subkelompok dengan faktor 50. Artinya, nilai 51 menempatkan aset baru dalam grup kedua dari Menu Aset. </li></ul><br>  Jika semuanya dilakukan dengan benar, maka Anda dapat pergi ke <em>Aset &gt;&gt; Buat</em> dan lihat aset <em>Data Pedang</em> baru di menu.  Itu harus terletak di grup kedua di bawah aset Folder: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/027/83d/d78/02783dd7809273371aeaf0fde21cbb07.png"></div><br>  Anda juga dapat mengklik kanan di jendela Proyek dan juga melihat aset Data Pedang baru: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ec8/f0c/1cf/ec8f0c1cf7b7b861517c0b6838d9c80c.png"></div><br><h3>  Menambahkan Data </h3><br>  Kami <em>akan mengatur</em> proyek dengan membuat folder yang disebut <em>Objek Scriptable</em> di folder Script, dan di dalam folder ini folder lain yang disebut <em>Data Pedang</em> . <br><br>  Di dalam folder Data Pedang yang baru dibuat, buat aset Data Pedang pertama kami. <br><br>  Aset Data Pedang baru harus tetap memiliki nama <em>file</em> nama default yang ditentukan sebelumnya.  Pilih satu aset dan duplikatnya enam kali ( <i>Ctrl / Cmd + D</i> ) untuk membuat tujuh aset Data Pedang, satu untuk masing-masing pedang.  Sekarang ganti nama setiap aset sesuai dengan cetakan awal: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e6/953/191/9e69531917c13064e6af81b31b58fdf7.gif"></div><br>  Klik pada aset <em>Data Pedang</em> pertama di folder Data Pedang dan lihat jendela <em>Inspektur</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af3/380/b20/af3380b20efd5dc0a7485f4f3c7c971a.png"></div><br>  Di sini kita melihat aset di mana informasi tentang pedang tertentu akan disimpan.  Isi informasi untuk setiap pedang.  Cobalah untuk memberi mereka deskripsi unik, nilai emas, dan kerusakan selama serangan.  Di bidang Ikon Sprite, gunakan sprite terkait yang berada di folder <em>Sword Ikon</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b48/d31/025/b48d3102517ad8e0f0877dd6cc28faff.gif"></div><br>  Selamat!  Anda membuat Objek Scriptable dan mengkonfigurasi beberapa aset dengan Objek Scriptable ini. <br><br><h2>  Menggunakan Objek Skrip </h2><br>  Sekarang kita akan mulai mendapatkan data dari Objek Skrip ini. <br><br>  Pertama, kita perlu menambahkan beberapa metode pengambil publik sehingga skrip lain dapat mengakses bidang pribadi di dalam Objek Skrip.  Buka <em>SwordData.cs</em> dan tambahkan yang berikut di bawah bidang yang ditambahkan sebelumnya: <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> SwordName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> swordName; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Description { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> description; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Sprite Icon { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> icon; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> GoldCost { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> goldCost; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> AttackDamage { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> attackDamage; } }</code> </pre> <br>  Buka <em>Sword.cs</em> dan tambahkan kode berikut: <br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SwordData swordData; <span class="hljs-comment"><span class="hljs-comment">// 1 private void OnMouseDown() // 2 { Debug.Log(swordData.name); // 3 Debug.Log(swordData.Description); // 3 Debug.Log(swordData.Icon.name); // 3 Debug.Log(swordData.GoldCost); // 3 Debug.Log(swordData.AttackDamage); // 3 }</span></span></code> </pre> <br>  Inilah yang kami tambahkan dengan kode ini: <br><br><ol><li>  Wadah data untuk data untuk pedang ini. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OnMouseDown</a> adalah fungsi MonoBehaviour internal yang dipanggil saat pengguna menekan tombol kiri mouse. </li><li>  Contoh cara mendapatkan data dari aset Objek Skrip kami </li></ol><br>  Kembali ke Unity dan pergi ke jendela <em>Hierarchy</em> .  Pilih objek permainan pedang 1_Longswab di prefab pedang.  Tambahkan aset Data 1_Longsword yang sesuai ke variabel Data Sword dari skrip Sword.cs di jendela Inspektur: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89d/dca/502/89ddca5023e919e838d92da776ca4e20.png"></div><br>  Klik Play ( <i>Ctrl / Cmd + P</i> ) di editor Unity, dan kemudian klik pedang paling kiri: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c8f/2e0/336/c8f2e0336b61da17786068f13a5e787b.png"></div><br>  Konsol harus menampilkan informasi yang menyerupai data yang ditransfer dari aset Data Pedang. <br><br>  Objek Skrip memudahkan untuk mengganti data ini.  Coba masukkan Objek Skrip Data Pedang yang berbeda ke dalam bidang Data Pedang dari pedang. <br><br><h2>  Objek Skrip yang Mungkin Terjadi </h2><br>  Jadi, kami membuat Objek Skrip, dan Anda melihat bagaimana Anda dapat mengakses datanya di dalam game.  Tapi kita masih perlu mengintegrasikan Data Pedang dengan UI! <br><br>  Anda dapat menggunakan pola <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Singleton yang</a> cepat dan kotor untuk ini.  Namun, kami sekarang memiliki kemungkinan lain ... <br><br>  ... yaitu, Objek Skrip!  Kami akan menggunakannya untuk membuat kode yang bersih dan terbagi rapi. <br><br>  Di bagian ini, Anda akan belajar cara membuat Acara Game menggunakan kelas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">UnityEvent</a> . <br><br><h3>  Acara Game dan Pendengar </h3><br>  Di folder Skrip, buat dua skrip: <em>GameEvent.cs</em> dan <em>GameEventListener.cs</em> .  Mereka saling bergantung satu sama lain, jadi untuk menghilangkan kesalahan, Anda harus membuat keduanya. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; [CreateAssetMenu(fileName = <span class="hljs-string"><span class="hljs-string">"New Game Event"</span></span>, menuName = <span class="hljs-string"><span class="hljs-string">"Game Event"</span></span>, order = <span class="hljs-number"><span class="hljs-number">52</span></span>)] <span class="hljs-comment"><span class="hljs-comment">// 1 public class GameEvent : ScriptableObject // 2 { private List&lt;GameEventListener&gt; listeners = new List&lt;GameEventListener&gt;(); // 3 public void Raise() // 4 { for (int i = listeners.Count - 1; i &gt;= 0; i--) // 5 { listeners[i].OnEventRaised(); // 6 } } public void RegisterListener(GameEventListener listener) // 7 { listeners.Add(listener); } public void UnregisterListener(GameEventListener listener) // 8 { listeners.Remove(listener); } }</span></span></code> </pre> <br>  Inilah yang dilakukan oleh kode di atas: <br><br><ol><li>  Menambahkan GameEvent sebagai aset ke Menu Aset. </li><li>  GameEvent adalah Obyek Skrip, jadi objek itu harus diwarisi dari ScriptableObject. </li><li>  Daftar GameEventListeners untuk berlangganan GameEvent. </li><li>  Metode untuk memanggil semua pelanggan GameEvent. </li><li>  GameEventListener yang ditandatangani terakhir akan menjadi yang pertama dipanggil (last come, first come out). </li><li>  Panggil masing-masing UnityEvent GameEventListeners. </li><li>  Metode yang memungkinkan GameEventListeners berlangganan GameEvent ini. </li><li>  Metode yang memungkinkan GameEventListeners untuk berhenti berlangganan dari GameEvent ini. </li></ol><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.Events; <span class="hljs-comment"><span class="hljs-comment">// 1 public class GameEventListener : MonoBehaviour { [SerializeField] private GameEvent gameEvent; // 2 [SerializeField] private UnityEvent response; // 3 private void OnEnable() // 4 { gameEvent.RegisterListener(this); } private void OnDisable() // 5 { gameEvent.UnregisterListener(this); } public void OnEventRaised() // 6 { response.Invoke(); } }</span></span></code> </pre> <br>  Dalam kode yang ditunjukkan di atas, proyek terus berkembang: <br><br><ol><li>  Persyaratan untuk menggunakan kelas UnityEvent. </li><li>  GameEvent tempat GameEventListener ini akan berlangganan. </li><li>  Respons UnityEvent yang akan dimunculkan ketika acara GameEvent melempar GameEventListener ini. </li><li>  Mengikat GameEvent ke GameEventListener saat GameObject ini diaktifkan. </li><li>  Mengikat GameEvent dari GameEventListener saat GameObject ini dinonaktifkan. </li><li>  Dipanggil ketika GameEvent dihasilkan yang menyebabkan GameEventListener memanggil acara UnityEvent. </li></ol><br>  Apakah ini sulit?  Tidak ada, Anda akan mengetahuinya seiring waktu! <br><br><h3>  Pelatihan Editor </h3><br>  Kembali ke editor Unity dan buat folder <em>Game Game</em> baru di Scripts &gt;&gt; ScriptableObjects.  Kemudian buat tujuh Peristiwa Game dari Menu Aset, seperti yang kami lakukan untuk setiap aset Data Pedang.  Tempatkan mereka di folder Event Game baru. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/055/47b/22a/05547b22a285c4be816e03839eeead05.png"></div><br>  Ganti kode di dalam skrip <em>Sword.cs dengan</em> baris berikut: <br><br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameEvent OnSwordSelected; <span class="hljs-comment"><span class="hljs-comment">// 1 private void OnMouseDown() { OnSwordSelected.Raise(); // 2 }</span></span></code> </pre> <br>  Kode ini menambahkan dua kemungkinan ke toko pedagang pedang: <br><br><ol><li>  Acara Generasi Game ketika memilih pedang. </li><li>  Generasi acara ketika Anda mengklik pada pedang. </li></ol><br>  Simpan skripnya.  Sekarang, di setiap GameObject Hierarchy of the sword, hubungkan acara OnSwordSelected yang sesuai. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ac/f02/acd/9acf02acd43968a370dd2208793919fe.gif"></div><br>  Setiap pedang sekarang memiliki tautan ke acara yang dipicu saat pedang diklik. <br><br><h2>  Integrasi UI </h2><br>  Sekarang Anda harus membuat UI berfungsi.  Tujuan kami adalah untuk menampilkan Data Pedang yang sesuai saat mengklik pada setiap pedang. <br><br><h3>  Tautan UI </h3><br>  Sebelum memperbarui UI, Anda harus mendapatkan tautan ke setiap elemen UI.  Mari kita mulai dengan membuat skrip baru bernama <em>SwordMerchant.cs</em> dan menambahkan kode berikut ke skrip baru ini: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.UI; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SwordMerchant</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Text swordName; <span class="hljs-comment"><span class="hljs-comment">// 1 [SerializeField] private Text description; // 2 [SerializeField] private Image icon; // 3 [SerializeField] private Text goldCost; // 4 [SerializeField] private Text attackDamage; // 5 }</span></span></code> </pre> <br>  Dengan menggunakan kode ini, kami menambahkan yang berikut: <br><br><ol><li>  Referensi ke komponen Teks objek game <em>NameText</em> . </li><li>  Tautan ke komponen teks dari objek game <em>DescriptionText</em> . </li><li>  Tautan ke komponen gambar dari objek game <em>Sword_Icon</em> . </li><li>  Tautan ke komponen teks objek game <em>GoldText</em> . </li><li>  Tautan ke komponen Teks objek game <em>AttackText</em> . </li></ol><br>  Objek permainan di atas terletak di <em>SwordMerchantCanvas &gt;&gt; SwordMerchantPanel dari</em> jendela Hierarchy.  Tambahkan skrip ke GameObject <em>SwordMerchantCanvas</em> , lalu konfigurasikan semua tautan: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2b/a6f/294/f2ba6f2948bc57b02efa9a1a925453e8.png"></div><br><h3>  Tanggapan Pendengar dan UI </h3><br>  Semua pedang memiliki acara yang dapat digunakan UI untuk menggunakan skrip <em>GameEventListener</em> .  Tambahkan <em>GameEventListener</em> untuk setiap acara OnSwordSelected ke GameObject <em>SwordMerchantCanvas</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51c/3ea/618/51c3ea618cb29226356febe1ff1aa8c1.gif"></div><br>  Seperti yang Anda lihat, Pendengar Acara Game kami memiliki dua bidang: acara Acara Game yang didengarkannya, dan respons yang dimunculkan ketika Acara Game dihasilkan. <br><br>  Dalam kasus kami, respons akan diperbarui oleh UI.  Tambahkan metode berikut ke skrip <em>SwordMerchant.cs</em> : <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UpdateDisplayUI</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SwordData swordData</span></span></span><span class="hljs-function">)</span></span> { swordName.text = swordData.SwordName; description.text = swordData.Description; icon.sprite = swordData.Icon; goldCost.text = swordData.GoldCost.ToString(); attackDamage.text = swordData.AttackDamage.ToString(); }</code> </pre> <br>  Metode ini menerima aset Data Pedang, lalu memperbarui setiap bidang UI dengan nilai bidang Data Pedang yang sesuai.  Perhatikan bahwa <em>GoldCost</em> dan <em>AttackDamage</em> mengembalikan <code>int</code> , jadi Anda perlu mengubahnya menjadi string untuk teks. <br><br>  Dengan menggunakan metode baru kami, kami dapat menambahkan respons ke setiap <em>GameEventListener</em> . <br><br>  Untuk setiap respons yang Anda tambahkan, Anda memerlukan tautan ke objek game <em>SwordMerchantCanvas</em> kami sebagai nilai dari bidang <em>None (Object)</em> .  Setelah itu, pilih <em>SwordMerchant.UpdateDisplayUI</em> dari menu drop-down di sebelah kanan daftar drop-down <em>Runtime Only</em> . <br><br>  Hati-hati dan gunakan aset Data Pedang yang benar untuk setiap acara <em>OnSwordSelected</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d4d/ce8/e05/d4dce8e052a2440f4495a94dec1fc47d.png"></div><br>  Sekarang kita dapat memulai permainan, klik pada pedang dan melihat bahwa UI diperbarui! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddb/365/357/ddb365357b74dc1e5d86d337d90c8398.gif"></div><br>  Karena kami menggunakan Peristiwa Game, Anda cukup menggunakan <em>SwordMerchantCanvas</em> , dan semuanya akan tetap berfungsi, hanya tanpa UI.  Ini berarti bahwa cetakan pedang terpisah dari <em>SwordMerchantCanvas</em> . <br><br><h2>  Ke mana harus pergi selanjutnya? </h2><br>  Jika Anda melewatkan sesuatu selama cerita, Anda dapat <a href="">mengunduh proyek yang sudah selesai</a> , yang ada dalam materi tutorial. <br><br>  Jika Anda ingin melanjutkan, cobalah membuat setiap pedang mereproduksi suaranya sendiri.  Coba <code>OnSwordSelected</code> Data Pedang Objek <code>OnSwordSelected</code> dan dengarkan acara yang dipilih <code>OnSwordSelected</code> . <br><br>  Ingin mempelajari lebih lanjut tentang Persatuan?  Lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">seri video</a> Unity kami atau baca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tutorial Unity</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id421523/">https://habr.com/ru/post/id421523/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id421505/index.html">Hack kehidupan mini untuk bekerja dengan Yandex.Direct</a></li>
<li><a href="../id421507/index.html">Apa tukang las untuk optik</a></li>
<li><a href="../id421513/index.html">Pengenalan scrum halus oleh pengembang sendiri (kami menyelesaikan kontradiksi, mengatur tim, menghindari konflik)</a></li>
<li><a href="../id421519/index.html">Buku "Apache Kafka. Pemrosesan aliran dan analisis data ‚Äù</a></li>
<li><a href="../id421521/index.html">Monster setelah liburan: AMD Threadripper 2990WX 32-Core dan 2950X 16-Core (bagian 3 - tes)</a></li>
<li><a href="../id421525/index.html">Sedikit tentang perbedaan antara tuan rumah Rusia dan asing</a></li>
<li><a href="../id421527/index.html">Siaran peluncuran proyek "Server di awan"</a></li>
<li><a href="../id421529/index.html">Netflix, Uber, Google dan Anda di MBLT DEV 2018</a></li>
<li><a href="../id421531/index.html">Bagaimana mengintegrasikan ReactJS ke dalam 1C-Bitrix dengan pembuatan templat secara otomatis di back-end menggunakan contoh jaringan Globus</a></li>
<li><a href="../id421533/index.html">Memilih bahasa pemrograman: 3 tips dari seorang programmer dari Apple</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>