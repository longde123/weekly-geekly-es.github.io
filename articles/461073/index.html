<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüë©‚Äçüëß üë©üèø‚Äçüíª ü§πüèª Conectamos mapas en l√≠nea al navegador en el tel√©fono inteligente. Parte 3 - OverpassTurbo ‚ûñ üö∂üèª üßìüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Convertimos el script creado previamente en una API para ver un mapa interactivo desde el sitio web OverpassTurbo.eu a trav√©s de la aplicaci√≥n de nave...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Conectamos mapas en l√≠nea al navegador en el tel√©fono inteligente. Parte 3 - OverpassTurbo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461073/"><p>  Convertimos el script creado previamente en una API para ver un mapa interactivo desde el sitio web OverpassTurbo.eu a trav√©s de la aplicaci√≥n de navegaci√≥n del tel√©fono inteligente. </p><a name="habracut"></a><br><p>  Contenido: </p><br><p>  1 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Introducci√≥n.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mapas r√°ster est√°ndar</a> <br>  2 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Continuaci√≥n.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Escribir un rasterizador simple para mapas vectoriales</a> <br>  3 - Un caso especial.  Conectamos la tarjeta OverpassTurbo </p><br><h3 id="chto-takoe-overpassturbo">  ¬øQu√© es OverpassTurbo? </h3><br><p> Entonces  Existe una base de datos de mapas como OpenStreetMaps.  Contiene todo: los mares, los contornos de los continentes, las monta√±as, los bosques, las carreteras, los edificios, los parques infantiles e incluso los obst√°culos.  Cada objeto tiene un nombre, coordenadas y propiedades.  Por ejemplo, por la carretera, el material de revestimiento, por el edificio, el n√∫mero de pisos, etc. </p><br><p>  Entonces aqu√≠.  La mayor√≠a de las tarjetas que se presentan en Internet hoy en d√≠a se generan sobre la base de esta base de datos en particular.  Pero, ¬øqu√© pasa si todas estas tarjetas preparadas no nos quedan bien?  ¬°Puedes hacer el tuyo!  Bueno, o al menos complementar el existente, que es mucho m√°s f√°cil. </p><br><p>  Esto es lo que est√° haciendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">OverpassTurbo.eu</a> .  Es un IDE en l√≠nea.  Utiliz√°ndolo, puede consultar la base de datos OSM.  Hacemos clic en el bot√≥n <strong>Inicio</strong> , la solicitud va a la base de datos y, despu√©s de un tiempo, los datos nos regresan.  OverpassTurbo visualiza estos datos en forma de marcadores vectoriales y l√≠neas ubicadas en la parte superior de la capa de fondo, un mapa de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">OpenSteerMap.org</a> . </p><br><p>  Como ejemplo de lo que puede hacer con OverpassTurbo, quiero mostrarle el script que m√°s me gusta.  Fue escrito por un usuario bajo el apodo de Erelen.  Entonces: este script dibuja en el mapa varias fuentes de agua potable y su nombre.  En mi opini√≥n, es muy √∫til y muy claro.  Para ver c√≥mo funciona este script, solo siga el enlace y haga clic en <strong>Iniciar</strong> .  (Si el sitio da un error, vaya a trav√©s de la VPN e intente nuevamente) </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://overpass-turbo.eu/s/z95</a> </p><br><p><img src="https://habrastorage.org/webt/64/fa/g4/64fag4skex-vyoy75agsaqvt0_w.png"></p><br><p>  O aqu√≠ hay un script que ya hice para mis propias necesidades.  Con √©l, puede encontrar f√°cilmente buenas rutas para correr en parques desconocidos.  Para hacer esto, el gui√≥n resalta caminos de grava bien arreglados: es el m√°s conveniente para recorrerlos, para mi gusto.  El asfalto est√° marcado en blanco.  Senderos de tierra ordinarios en negro.  Pero todos los caminos con la etiqueta "dif√≠cil de alcanzar" o "mala calidad de recubrimiento" estar√°n marcados con una l√≠nea discontinua discreta: para tropezar con menos frecuencia, trato de evitarlos.  En general, el mapa est√° hecho para que pueda obtener direcciones a lo largo de las l√≠neas m√°s llamativas.  Y para que al final esta ruta sea exitosa. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">http://overpass-turbo.eu/s/KXU</a> </p><br><p><img src="https://habrastorage.org/webt/gi/8n/pa/gi8npad8i2az-pu8q2x2gb7xziw.png"></p><br><p>  De hecho, con esta herramienta puede complementar el mapa con los datos que desee.  Y, noto que esto es muy, muy emocionante.  Pero este art√≠culo no se trata de eso.  Si est√° interesado en este tema, puede familiarizarse con los conceptos b√°sicos de Overpass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">aqu√≠</a> . </p><br><p>  Pero antes de pasar al c√≥digo, echemos un vistazo al resultado final que deber√≠amos obtener. </p><br><h3 id="instrukciya-dlya-polzovateley-kak-polzovatsya-nashim-api">  Instrucciones para los usuarios: c√≥mo usar nuestra API </h3><br><p>  Entonces  Supongamos que ya tiene un script listo para OverpassTurbo, cuyos resultados desea ver en su tel√©fono inteligente.  Y no en el navegador, sino en el navegador.  Para hacer esto, lleve su script al siguiente formato. </p><br><pre><code class="css hljs"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[bbox:{{bbox}}]</span></span>; ( //     <span class="hljs-selector-tag"><span class="hljs-selector-tag">node</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[amenity=waste_basket]</span></span>; ); <span class="hljs-selector-tag"><span class="hljs-selector-tag">out</span></span>;&gt;;<span class="hljs-selector-tag"><span class="hljs-selector-tag">out</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">skel</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">qt</span></span>;</code> </pre> <br><p>  En particular, estamos interesados ‚Äã‚Äãen la primera l√≠nea: nuestra aplicaci√≥n la reemplazar√°. </p><br><p>  Despu√©s de eso, haga clic en el bot√≥n <strong>Compartir</strong> .  Aseg√∫rese de desmarcar el <strong>estado Activar del</strong> cuadro de <strong>mapa mostrado</strong> . </p><br><p><img src="https://habrastorage.org/webt/vi/75/ug/vi75ughpyooqulnwtesjmeftlwk.png"></p><br><p>  Despu√©s de eso, copie el enlace.  Por ejemplo, asumimos que su enlace copiado se ve as√≠: </p><br><p> <code>http://overpass-turbo.eu/s/KEy</code> </p> <br><p>  Ahora mira nuestra API </p><br><p> <code>https://anygis.herokuapp.com/mapshoter/overpass/{x}/{y}/{z}/{crossZoom}?script={script}</code> </p> <br><p>  Con <strong>{x}, {y}</strong> y <strong>{z},</strong> todo parece estar claro: estas son las coordenadas del mosaico deseado. </p><br><p>  En lugar de <strong>{script}</strong> , debe sustituir la <strong>ID de</strong> su script.  En nuestro ejemplo, <strong>s / Key</strong> . </p><br><p>  Pero, ¬øqu√© es <strong>{crossZoom}</strong> ?  Supongamos que tiene 15. Luego, si solicita un mosaico para un zoom de menos de 15, el servidor no realizar√° una solicitud lenta para OverpassTurbo, sino que simplemente lo redirigir√° al mapa con una capa de fondo vac√≠a de OpenStreetMaps (que se cargar√° casi al instante).  Este enfoque es necesario para que, si es necesario, pueda alejar el mapa, desplazarse r√°pidamente al lugar de inter√©s, acercar y esperar.  Espere hasta que OverpassTurbo genere un mapa con los resultados. </p><br><p>  Espero que el principio b√°sico sea claro.  Ahora mire la URL completa para nuestra solicitud.  Creo que ahora usar nuestra API no ser√° dif√≠cil para usted: simplemente reemplace <strong>s / KEy</strong> con la <strong>ID de</strong> su script. </p><br><p> <code>https://anygis.herokuapp.com/mapshoter/overpass/{x}/{y}/{z}/15?script=s/KEy</code> </p> <br><p>  Y, mientras tanto, veremos c√≥mo implementar dicha aplicaci√≥n. </p><br><h3 id="scenariy-3--poisk-s-pomoschyu-url-i-kesha-brauzera">  Escenario 3 - Buscar usando la URL y el cach√© del navegador </h3><br><p>  Entonces  Comencemos con el archivo <strong>router.js</strong> .  Hagamos que nuestro m√©todo acepte <strong>crossZoom</strong> y par√°metros de <strong>script</strong> .  Y luego los pasamos al trabajador.  Tambi√©n agregamos una opci√≥n que interrumpir√° el script y redirigir√° al usuario a otro sitio si el zoom solicitado es demasiado bajo. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>( <span class="hljs-string"><span class="hljs-string">'express'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PORT = process.env.PORT || <span class="hljs-number"><span class="hljs-number">5000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = express() app.listen( PORT, () =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( <span class="hljs-string"><span class="hljs-string">'    '</span></span>, PORT ) }) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { StaticPool } = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>( <span class="hljs-string"><span class="hljs-string">'node-worker-threads-pool'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> worker = <span class="hljs-string"><span class="hljs-string">"./worker.js"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> workersPool = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StaticPool({ <span class="hljs-attr"><span class="hljs-attr">size</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">task</span></span>: worker, <span class="hljs-attr"><span class="hljs-attr">workerData</span></span>: <span class="hljs-string"><span class="hljs-string">"no"</span></span> }) <span class="hljs-comment"><span class="hljs-comment">//     app.get( '/:x/:y/:z/:crossZoom', async ( req, res, next ) =&gt; { const x = req.params.x const y = req.params.y const z = req.params.z const crossZoom = req.params.crossZoom const scriptName = req.query.script //     if ( Number( z ) &lt; Number( crossZoom ) ) { res.redirect( `http://tile.openstreetmap.org/${z}/${x}/${y}.png` ) } //      const screenshot = await workersPool.exec( { x, y, z, scriptName } ) const imageBuffer = Buffer.from( screenshot, 'base64' ) res.writeHead( 200, { 'Content-Type': 'image/png', 'Content-Length': imageBuffer.length }) res.end( imageBuffer ) })</span></span></code> </pre><br><p>  El archivo <strong>worker.js</strong> no ha cambiado mucho.  Simplemente reenv√≠e las nuevas variables a√∫n m√°s. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { parentPort, workerData } = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>( <span class="hljs-string"><span class="hljs-string">'worker_threads'</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> puppeteer = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>( <span class="hljs-string"><span class="hljs-string">'puppeteer'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapshoter = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>( <span class="hljs-string"><span class="hljs-string">'./mapshoter'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> browser = <span class="hljs-string"><span class="hljs-string">"empty"</span></span> parentPort.on( <span class="hljs-string"><span class="hljs-string">"message"</span></span>, ( params ) =&gt; { doMyAsyncCode( params ) .then( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> result </span></span></span><span class="hljs-function">) =&gt;</span></span> { parentPort.postMessage( result ) }) }) <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doMyAsyncCode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> params </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> prepareEnviroment() <span class="hljs-comment"><span class="hljs-comment">//   const screenshot = await mapshoter.makeTile( params.x, params.y, params.z, params.scriptName, browser ) return screenshot } async function prepareEnviroment( ) { if ( browser === "empty" ) { const herokuDeploymentParams = {'args' : ['--no-sandbox', '--disable-setuid-sandbox']} browser = await puppeteer.launch( herokuDeploymentParams ) } }</span></span></code> </pre> <br><p>  Ahora echemos <strong>un</strong> vistazo a <strong>mapshoter.js</strong> .  Primero, mira el c√≥digo: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> puppeteer = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>( <span class="hljs-string"><span class="hljs-string">'puppeteer'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geoTools = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>( <span class="hljs-string"><span class="hljs-string">'./geoTools'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeTile</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> x, y, z, scriptName, browserLink </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      const runButtonSelector = '#navs &gt; div &gt; div.buttons &gt; div:nth-child(1) &gt; a:nth-child(1)' const codeEditorSelector = '#editor &gt; div.CodeMirror.CodeMirror-wrap &gt; div:nth-child(1) &gt; textarea' //          const coordinates = geoTools.getAllCoordinates( x, y, z ) const bBox = `[bbox:${coordinates.bBox.latMin}, ${coordinates.bBox.lonMin}, ${coordinates.bBox.latMax}, ${coordinates.bBox.lonMax}];` const centerCoordinates = `${coordinates.center.lat};${coordinates.center.lon};${z}` //      const browser = await browserLink const page = await browser.newPage() await page.setViewport( { width: 850, height: 450 } ) //  ,   : //      await page.waitFor( randomInt( 0, 500 ) ) //        URL var pageUrl = `http://overpass-turbo.eu/?C=${centerCoordinates}` await page.goto( pageUrl, { waitUntil: 'networkidle2', timeout: 10000 } ) //       URL pageUrl = 'http://overpass-turbo.eu/' + scriptName await page.goto( pageUrl, { waitUntil: 'networkidle0', timeout: 20000 } ) //      await page.focus( codeEditorSelector ) //        , //     await page.keyboard.type( bBox + ' //' ) // ,  -IDE   await page.waitFor( 100 ) //     - await page.click( runButtonSelector ) // ,      . //     . await page.waitForFunction(() =&gt; !document.querySelector('body &gt; div.modal &gt; div &gt; ul &gt; li:nth-child(1)'), {polling: 'mutation'}); await page.waitFor( 1000 ) //    const cropOptions = { fullPage: false, clip: { x: 489, y: 123, width: 256, height: 256 } } const screenshot = await page.screenshot( cropOptions ) //   await page.close() return screenshot } //       function randomInt( low, high ) { return Math.floor( Math.random() * ( high - low ) + low ) } module.exports.makeTile = makeTile</span></span></code> </pre> <br><p>  Para comenzar, en este script, por el bien de la variedad, trabajaremos con selectores de elementos ordinarios (que no son <strong>XPath</strong> ).  C√≥mo encontrarlos se describi√≥ en un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo anterior</a> . </p><br><p>  A continuaci√≥n obtenemos las coordenadas.  Solo que esta vez, adem√°s de las coordenadas del centro, tambi√©n se necesitan las coordenadas de los bordes del <strong>mosaico</strong> ( <strong>bBox</strong> ). </p><br><p>  A continuaci√≥n, inicie el navegador.  Todo es t√≠pico aqu√≠.  Pero antes de pasar a cargar la p√°gina, deje que el script espere una cantidad aleatoria de tiempo de 0 a 500 ms.  Para que no recibamos demasiadas solicitudes id√©nticas al mismo tiempo y no se nos proh√≠ba. </p><br><p>  Despu√©s de eso, vamos al sitio en la URL a la que se agregan las coordenadas del centro del mosaico.  Como resultado, el lugar deseado est√° en el centro del mapa. </p><br><p>  Despu√©s de eso, vaya a otra URL.  Esta vez con la <strong>identificaci√≥n de</strong> nuestro script.  Como resultado, nuestro script aparecer√° en el texto del editor de c√≥digo. </p><br><p>  (Tenga en cuenta que si en el men√∫ <strong>Compartir</strong> al copiar la URL de nuestro script no desmarquemos la casilla de verificaci√≥n <strong>Guardar estado</strong> del mapa, el mapa se desplazar√°. Y no necesitamos esto en absoluto) </p><br><p>  Y ahora responder√© razonablemente a la pregunta: ¬øpor qu√© vamos a la URL dos veces, es decir, gastamos dos veces en cargar este sitio?  Yo respondo  Porque, en primer lugar, no pude encontrar c√≥mo combinar la carga del script y la transici√≥n a las coordenadas especificadas en una solicitud de URL.  En segundo lugar, porque por alguna raz√≥n Puppeteer imprime el texto extremadamente lento y trabaja con los elementos de la interfaz en este sitio.  ¬°Se puede imprimir un minuto y medio!  Entonces, la idea de insertar las coordenadas en el campo de b√∫squeda y luego hacer clic en los botones de zoom, como hicimos en el art√≠culo anterior, se decidi√≥ rechazar.  Como resultado, hacer doble clic en el enlace result√≥ mucho m√°s r√°pido que hacer todo esto.  Quiz√°s esto sea un error y se solucionar√° tarde o temprano, pero por ahora estamos trabajando con lo que es. </p><br><p>  Por desgracia, no podr√°s dejar completamente la entrada de texto.  Tendremos que reemplazar la primera l√≠nea en la ventana del editor de c√≥digo.  Por el momento, informa que es necesario descargar informaci√≥n de la base de datos para todo el territorio que se encuentra actualmente en la pantalla. </p><br><pre> <code class="javascript hljs">[bbox:{{bbox}}];</code> </pre> <br><p>  Lo reemplazaremos con las coordenadas de los bordes del mosaico.  Esto es para no perder demasiado tiempo descargando de la base de datos.  Entonces el gui√≥n imprime en la primera l√≠nea algo as√≠ como este texto: </p><br><pre> <code class="javascript hljs">[bbox:<span class="hljs-number"><span class="hljs-number">55.6279</span></span>, <span class="hljs-number"><span class="hljs-number">37.5622</span></span>, <span class="hljs-number"><span class="hljs-number">55.6341</span></span>, <span class="hljs-number"><span class="hljs-number">37.5732</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//</span></span></code> </pre> <br><p>  Y para no tener que borrar la l√≠nea original (muchas veces presionando lentamente <strong>Eliminar</strong> para esto), simplemente comentamos al respecto.  Por lo tanto, reduciremos tanto como sea posible el tiempo dedicado a ingresar texto y el tiempo de carga de la base de datos.  Como resultado, la primera l√≠nea se ver√° as√≠: </p><br><pre> <code class="javascript hljs">[bbox:<span class="hljs-number"><span class="hljs-number">55.6279</span></span>, <span class="hljs-number"><span class="hljs-number">37.5622</span></span>, <span class="hljs-number"><span class="hljs-number">55.6341</span></span>, <span class="hljs-number"><span class="hljs-number">37.5732</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//[bbox:{{bbox}}];</span></span></code> </pre> <br><p>  Despu√©s de eso, nuestro script debe hacer clic en el bot√≥n <strong>Inicio</strong> , esperar un poco, tomar una captura de pantalla del mapa y envi√°rselo al usuario.  Y todo: ¬°la tarea est√° completa! </p><br><p>  Si desea ver un ejemplo del script resultante, puede hacer clic en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">este enlace</a> . </p><br><h3 id="zaklyuchenie">  Conclusi√≥n </h3><br><p>  Bueno, como no es dif√≠cil de suponer, esta versi√≥n del script funcionar√° incluso m√°s lentamente que las anteriores.  Despu√©s de todo, ahora el sitio dedica tiempo a una solicitud de una base de datos de terceros.  Y por s√≠ solo, no funciona demasiado r√°pido.  Sin embargo, este m√©todo hace que sea extremadamente f√°cil (aunque lento) obtener una tarjeta √∫nica y personalizada.  Y, adem√°s, basado en los √∫ltimos datos.  Y esto, a veces, puede ser muy √∫til.  Por lo tanto, vale la pena tener este m√©todo en mente. </p><br><p>  Y eso es todo.  Por si acaso, le recuerdo que en mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">sitio</a> web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">AnyGIS hay un</a> archivo de ajustes preestablecidos para navegadores Locus, OsmAnd y GuruMaps.  Existen tanto mapas r√°ster como mapas vectoriales "rasterizados", para ver qu√© aplicaci√≥n se utiliza en estos art√≠culos.  Ven y usa. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/461073/">https://habr.com/ru/post/461073/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../461061/index.html">Aleaciones de magnesio, l√≠mites gemelos y segregaci√≥n</a></li>
<li><a href="../461063/index.html">Interacci√≥n de R con bases de datos en el ejemplo de Microsoft SQL Server y otros DBMS</a></li>
<li><a href="../461067/index.html">Las 65 preguntas principales de SQL de las entrevistas de trabajo para las que deber√≠a estar preparado en 2019. Parte 1</a></li>
<li><a href="../461069/index.html">C√°maras IP Nobelic para exteriores: pruebas, tecnolog√≠as y capacidades de los sistemas de videovigilancia Ivideon</a></li>
<li><a href="../461071/index.html">Optimizaci√≥n de consultas de bases de datos en el ejemplo de servicio B2B para constructores</a></li>
<li><a href="../461075/index.html">Inteligencia empresarial. Objetos inform√°ticos, componentes, herramientas.</a></li>
<li><a href="../461077/index.html">¬øC√≥mo se cocinan los pentesters? Pruebas de entrada para pasantes de seguridad digital</a></li>
<li><a href="../461079/index.html">Ciudad sin atascos</a></li>
<li><a href="../461081/index.html">El d√≠a que Dodo se detuvo. Script asincr√≥nico</a></li>
<li><a href="../461083/index.html">Escritura de software con la funcionalidad de las utilidades cliente-servidor de Windows, parte 02</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>