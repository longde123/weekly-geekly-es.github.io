<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ»â€ğŸ¤ ğŸ™…ğŸ» ğŸ‘¨ğŸ¾â€ğŸ”§ Mon expÃ©rience de dÃ©veloppement sur Playcanvas ğŸ’ ğŸ¤²ğŸ¾ ğŸ‘¨ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Y a-t-il des gens parmi les lecteurs qui ont au moins entendu de leurs oreilles qu'il existe un certain moteur 3D pour dÃ©velopper des applications Web...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mon expÃ©rience de dÃ©veloppement sur Playcanvas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465849/"><p>  Y a-t-il des gens parmi les lecteurs qui ont au moins entendu de leurs oreilles qu'il existe un certain moteur 3D pour dÃ©velopper des applications WebGL avec un Ã©diteur similaire Ã  Unity uniquement dans le navigateur?  Le sujet est extrÃªmement impopulaire, mais je suis devenu l'une de ces personnes il y a presque 2 ans.  Et maintenant, je voulais partager mon expÃ©rience, plutÃ´t mÃªme mes dÃ©ceptions.  L'article discutera des problÃ¨mes que vous rencontrerez si vous commencez Ã  utiliser cet Ã©diteur.  Je ferai tout de suite une rÃ©servation que je ne comparerai pas avec d'autres moteurs 3D existants comme Three.js ou Babylon.js, je ne toucherai qu'Ã  l'Ã©diteur et Ã  l'API de script. </p><a name="habracut"></a><br><h4 id="vsyo-onlayn">  Tout en ligne </h4><br><p>  Lorsque vous entendez que plusieurs personnes peuvent travailler sur scÃ¨ne et que tous les changements en temps rÃ©el sont visibles pour le reste des participants au projet, la premiÃ¨re pensÃ©e qui vient Ã  l'esprit: "wow, cool!". </p><br><p>  En fait, il s'avÃ¨re que diffÃ©rentes personnes travaillent sur diffÃ©rentes tÃ¢ches et que tout le monde a besoin de sa propre camÃ©ra pour le dÃ©bogage.  Votre perspective Ã  partir de laquelle vous souhaitez tester la scÃ¨ne.  Et c'est super gÃªnant.  Sur le forum, quelqu'un a suggÃ©rÃ© de crÃ©er un mode hors ligne, mais les dÃ©veloppeurs pensent que c'est la pierre angulaire de l'Ã©diteur et que toutes les modifications sont instantanÃ©ment enregistrÃ©es sur le serveur, afin que vous puissiez revenir au projet Ã  tout moment depuis n'importe quel appareil.  Oui, c'est pratique.  Lorsque vous travaillez seul sur un projet.  Eh bien, sans Internet, aussi, ne peut pas fonctionner. </p><br><p>  En gÃ©nÃ©ral, l'Ã©diteur est <em>totalement inadaptÃ©</em> au travail d'Ã©quipe. </p><br><p>  Je ne vois toujours pas de solution Ã  ce problÃ¨me. </p><br><h4 id="istoriya-izmeneniy">  Changer l'historique </h4><br><p>  Jusqu'Ã  rÃ©cemment, je souffrais beaucoup du fait que vous ne pouvez pas connecter le projet Ã  n'importe quel git.  Une fois que cela <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pouvait Ãªtre fait</a> (uniquement pour les scripts), mais maintenant cette fonction est considÃ©rÃ©e comme hÃ©ritÃ©e, car  les gars ont rÃ©Ã©crit l'API de script Ã  un moment donnÃ©. </p><br><p>  Cependant!  Encore une fois, en appuyant sur Ctrl-S dans l'Ã©diteur, j'ai vu cette image: </p><br><p><img src="https://habrastorage.org/webt/_u/x4/ws/_ux4wscp02kfvr7gffjbpluc6kq.png"><br>  <em>Wow, est-ce la bonne faÃ§on de faire?</em> </p><br><p>  D'accord, un problÃ¨me semble Ãªtre rÃ©solu.  Cela fonctionne toujours ainsi, mais au moins vous pouvez revenir en arriÃ¨re, ce qui est important.  Et mÃªme crÃ©er des brunchs.  Je vais devoir m'y habituer, en gÃ©nÃ©ral. </p><br><h4 id="sheydery">  Shaders </h4><br><p>  Il n'y a pas d'Ã©diteur de shader dans Playcanvas.  Pas de texte, pas de nÅ“ud - non.  Mais il y a la seule mention des shaders dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tutoriel</a> est un script rÃ©gulier oÃ¹ les fichiers de shaders sont transfÃ©rÃ©s via les attributs.  Eh bien, mÃªme ainsi.  Mais c'est super gÃªnant.  Cependant, j'ai prÃ©parÃ© une dÃ©monstration de son apparence rÃ©elle. </p><br><p>  Tout d'abord, vous devez prendre soin de compiler le shader Ã  l'avance, sinon la premiÃ¨re fois que le matÃ©riau apparaÃ®t sur la scÃ¨ne, une frise dÃ©sagrÃ©able se produira. </p><br><p>  DeuxiÃ¨mement, tirer des paramÃ¨tres dans l'Ã©diteur est toute une histoire.  Vous devez les dÃ©clarer dans au moins 3 endroits et vous abonner aux changements de chacun d'eux pour les transfÃ©rer dans le shader. </p><br><p>  TroisiÃ¨mement, les shaders ne sont pas visibles dans l'Ã©diteur. </p><br><p>  En gÃ©nÃ©ral, il n'y a que 2 matÃ©riaux dans l'Ã©diteur: PBR standard et Phong.  De l'agrÃ©able - vous pouvez choisir l'Ã©blouissement du pipeline entre mÃ©tal et spÃ©culaire. </p><br><p>  Voici comment je vois la solution au problÃ¨me: </p><br><p><img src="https://habrastorage.org/webt/6p/sg/pz/6psgpz9ycigaulxagumzyiheoe0.png"></p><br><p>  ici, vous pouvez ajouter la troisiÃ¨me option personnalisÃ©e, oÃ¹ vous pouvez tÃ©lÃ©charger des fichiers avec du code de shader, que vous pouvez simplement analyser et extraire toutes les variables uniformes et les transfÃ©rer automatiquement vers le shader lors du changement.  C'est aussi simple que Ã§a!  La seule chose Ã  penser est que vec3 / vec4 n'est pas seulement un vecteur, mais aussi une couleur. </p><br><p>  Il est possible que les dÃ©veloppeurs prÃ©parent leur propre Ã©diteur de noeud, dans lequel vous pouvez collecter votre propre matÃ©riel, donc aucun travail sur ce sujet n'a Ã©tÃ© fait jusqu'Ã  prÃ©sent.  Cependant, je n'ai pas trouvÃ© un seul jalon. </p><br><h4 id="skripty">  Scripts </h4><br><p>  Je comprends pourquoi l'Ã©diteur a un ensemble de fonctionnalitÃ©s maigres.  Mais cela pourrait Ãªtre rÃ©solu par des scripts exÃ©cutables dans l'Ã©diteur.  Il suffit d'ajouter une coche, qui inclura l'utilisation du script dans l'Ã©diteur.  Il est Ã©galement Ã©crit sur le moteur playcanvas, pourquoi pas? </p><br><p>  Un exemple tirÃ© de la vie. </p><br><p>  J'avais en quelque sorte besoin de gÃ©nÃ©rer un terrain Ã  partir d'une carte de hauteur comme celle-ci </p><br><p><img src="https://habrastorage.org/webt/ez/5h/5d/ez5h5djugdmlbb8oqjhy6wcvw5a.png"></p><br><p>  D'accord, tout le monde n'a pas besoin d'une telle fonction dans l'Ã©diteur, j'ai compris comment manipuler les sommets d'une plaque ordinaire au niveau du processeur (c'est-Ã -dire en utilisant JS, pas le vertex shader) et j'ai Ã©crit un script qui accepte une carte et produit un terrain valide.  Mais dans l'Ã©diteur, ce n'est pas visible!  Comment y mettre des maisons et des arbres?  C'est le premier exemple qui me vient Ã  l'esprit. </p><br><h4 id="redaktor-koda">  Ã‰diteur de code </h4><br><p>  Au moment de la rÃ©daction, vous ne pouvez modifier le code qu'en ligne et la version <a href="">5.19.0 de CodeMirror est</a> sÃ©lectionnÃ©e comme Ã©diteur.  Je ne sais pas quelle Ã©tait la version il y a 2 ans, mais on a l'impression qu'elle n'a jamais Ã©tÃ© mise Ã  jour.  AprÃ¨s tout, c'est la version de septembre 2016. </p><br><p>  N'attendez rien d'elle de surnaturel.  Nous devons abandonner le Sublime-Atom-VSCode habituel.  Il existe quelques raccourcis clavier et une prise en charge multicurseurs, mais c'est tout.  MÃªme dans les fichiers shader, vous ne pouvez pas commenter une ligne Ã  l'aide de Ctrl- /.  En gÃ©nÃ©ral, il n'y a absolument aucune commoditÃ© pour GLSL.  Tristesse. </p><br><h4 id="modeli">  Les modÃ¨les </h4><br><p>  L'Ã©diteur ne prend en charge que 3 types de modÃ¨les, Ã  en juger par la documentation: </p><br><blockquote>  ModÃ¨les par exemple FBX, COLLADA, obj </blockquote><p>  Mais!  Pour une raison quelconque, glTF ne peut pas Ãªtre chargÃ© dans l'Ã©diteur, bien qu'il existe depuis longtemps un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chargeur prÃªt Ã  l'emploi</a> , en plus, des dÃ©veloppeurs de l'Ã©diteur eux-mÃªmes.  Et oui, vous pouvez l'utiliser avec le moteur si vous <del>  masochiste </del>  aimer Three.js. </p><br><h2 id="oop">  OOP </h2><br><p>  Mauvaise nouvelle. </p><br><p>  Eh bien, dans l'ordre: </p><br><h4 id="es6">  ES6 </h4><br><p>  Pour empÃªcher l'Ã©diteur de jurer, vous devez ajouter ce qui suit au dÃ©but du fichier: </p><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// jshint esversion: 6</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Mais l'Ã©diteur jure encore</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ew/nb/s0/ewnbs0ocfuou-xe-iztrjz0lvry.png"><br>  <em>Pourquoi diable?</em> </p></div></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lors du forum, les</a> dÃ©veloppeurs indiquent clairement que le support de classe n'est mÃªme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pas prÃ©vu</a> .  Bien que ce soit la 16-17Ã¨me annÃ©e, alors c'Ã©tait vraiment pertinent.  J'espÃ¨re que quelque chose change dans l'esprit des dÃ©veloppeurs. </p><br><h4 id="fayly">  Fichiers </h4><br><p>  ... en analysant un Ã  la fois.  Cela signifie qu'en dÃ©finissant la classe de base dans un fichier et en l'hÃ©ritant dans un autre, vous obtenez une erreur: </p><br><p><img src="https://habrastorage.org/webt/ll/ap/-g/llap-g4qjsvwqnpz3vcom6sp6sy.png"></p><br><p>  En mÃªme temps, la scÃ¨ne elle-mÃªme fonctionne bien.  Pas Ã©tonnant, car le navigateur prend en compte tous les fichiers, contrairement Ã  l'analyseur de script ... </p><br><p>  D'accord, j'ai acceptÃ© l'idÃ©e de stocker toute la chaÃ®ne de classe dans un fichier.  Mais l'Ã©diteur est toujours mÃ©content: </p><br><p><img src="https://habrastorage.org/webt/kf/ek/f9/kfekf9ncx_6svaqx3lvbzdzq6ia.png"></p><br><p>  J'ai essayÃ© de remplacer le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ScriptType de</a> base pour crÃ©er des scripts qui en hÃ©ritent.  J'abandonne, c'est complÃ¨tement inutile.  Si vous creusez plus profondÃ©ment et voyez comment l'analyseur de script est organisÃ© dans l'Ã©diteur, vous pouvez trouver une fausse mÃ©thode pour dÃ©terminer les attributs: </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/a_/hn/eo/a_hneo0gg69tb6wlqfzdmlitlwi.png"><br>  <em>et des trucs comme Ã§a</em> </p></div></div><br><p>  Mon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">projet de dÃ©monstration</a> prÃ©sente des exemples de code avec hÃ©ritage et un shader d'incendie personnalisÃ© un peu plus compliquÃ© que dans le tutoriel.  Celui qui comprend cela peut voir par lui-mÃªme Ã  quel point le mauvais code doit Ãªtre Ã©crit. </p><br><h2 id="itog">  RÃ©sumÃ© </h2><br><p>  En gÃ©nÃ©ral, l'Ã©diteur a suffisamment de problÃ¨mes et ils sont assez sÃ©rieux.  Je le recommande fortement pour le dÃ©veloppement commercial.  Mais quand mÃªme, je l'aimerai, car il n'y a pas d'alternative. <br>  J'ai mÃªme essayÃ© d'Ã©crire mon Ã©diteur hors ligne basÃ© sur Electron et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">playcanvas / moteur</a> ouvert, mais l'enthousiasme n'Ã©tait suffisant que pour un mois de travail.  Peut-Ãªtre qu'un jour je continuerai, car chaque fois que je reviens sur ce moteur, je veux le prendre et le faire Ã  ma faÃ§on. </p><br><p>  PS: En quoi le sujet est-il intÃ©ressant?  Avez-vous besoin de tutoriels sur le moteur, sur les shaders, sur les scripts ..?  Peut-Ãªtre quelque chose Ã  dire sur VR / AR sur ce moteur? </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr465849/">https://habr.com/ru/post/fr465849/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr465835/index.html">Usine abstraite sur les doigts</a></li>
<li><a href="../fr465839/index.html">Tout ce que vous devez savoir sur la marge CSS</a></li>
<li><a href="../fr465841/index.html">Tracker GPS BOXY</a></li>
<li><a href="../fr465843/index.html">Nickel pour l'huile</a></li>
<li><a href="../fr465845/index.html">Ã€ propos de la modÃ©lisation structurelle du changement organisationnel</a></li>
<li><a href="../fr465853/index.html">Lien d'aide utile pour travailler avec des donnÃ©es</a></li>
<li><a href="../fr465855/index.html">Les 9 meilleures trouvailles open source pour aoÃ»t 2019</a></li>
<li><a href="../fr465857/index.html">Anti-googlers: les internautes prennent des mesures radicales pour protÃ©ger leurs donnÃ©es</a></li>
<li><a href="../fr465859/index.html">Traduction automatique de neurones durables</a></li>
<li><a href="../fr465861/index.html">"Cloud" confidentiel. Nous recherchons une alternative aux solutions ouvertes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>