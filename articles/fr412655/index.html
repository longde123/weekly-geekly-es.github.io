<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚û°Ô∏è ü§¶üèº üë∞ Hi√©rarchie de portefeuille multi-sign√©e (syst√®me de confiance) üç± üò™ ü•£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ce texte d√©crit l'abstraction d'un syst√®me de confiance, qui vous permet d'int√©grer les services d'entiercement dans n'importe quel domaine des relati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hi√©rarchie de portefeuille multi-sign√©e (syst√®me de confiance)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412655/"> Ce texte d√©crit l'abstraction d'un syst√®me de confiance, qui vous permet d'int√©grer les services d'entiercement dans n'importe quel domaine des relations √©conomiques. <br>  Le d√©p√¥t de fonds est un √©l√©ment fondamental de toute transaction.  Si les contreparties ne connaissent pas d'informations fiables les unes sur les autres, le risque de fraude augmente.  Cette approche vous permet de programmer dans un r√©seau d√©centralis√© un mod√®le de r√©solution des litiges, un mod√®le pour effectuer des transactions automatiques, des transactions s√©curis√©es, etc. De plus, un tel mod√®le de syst√®me de confiance est ouvert.  Toutes les transactions effectu√©es avec la participation de la hi√©rarchie des portefeuilles multi-abonnements nous permettent de v√©rifier la notation de la contrepartie et nous prot√®gent √©galement des stratag√®mes frauduleux des nouveaux participants aux relations √©conomiques. <br><a name="habracut"></a><br><h2>  Table des mati√®res </h2><br>  1 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Introduction</a> <br>  2 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Description d'un portefeuille multi-signatures</a> <br>  3 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fa√ßons de cr√©er une hi√©rarchie de portefeuille</a> <br>  4 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Interface de hi√©rarchie du portefeuille sur plusieurs jours</a> <br>  5 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">flux d'interaction</a> <br>  5.1 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flux d'interaction standard</a> <br>  5.2 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flux d'interaction s√©curis√©</a> <br>  5.3 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flux d'interaction controvers√©</a> <br>  6 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Protocole ESCB9</a> <br>  7 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Int√©gration d'un syst√®me de confiance et de contrats intelligents mettant en ≈ìuvre le protocole ESCB9</a> <br>  8 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Exemples de contrats mettant en ≈ìuvre le SEBC9</a> <br>  8.1 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Contrat intelligent pour le march√© locatif priv√©, √† l'instar d'AirBnb</a> <br>  8.2 Un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">contrat intelligent pour √©changer n'importe quelle crypto-monnaie contre de la monnaie fiduciaire en retour en mode d√©centralis√©</a> <br>  9 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n≈ìuds d'arbitrage</a> <br>  10 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dictionnaire</a> <br><br><h2>  1. Introduction </h2><a name="a1"></a><br>  Le principal probl√®me des services d'entiercement est la cr√©ation de relations de confiance entre tous les participants.  De plus, les participants eux-m√™mes ne doivent pas n√©cessairement √™tre connus de chaque sujet de relations.  Pour r√©sumer tous les cas, nous tiendrons compte du fait qu'ils sont tous anonymes.  Pour un tel syst√®me de relations de confiance, il est important de r√©guler les relations des nouveaux participants avec les anciens.  Les anciens participants ont d√©j√† une certaine note dans le syst√®me de relations et provoquent ainsi plus de confiance.  √âtant donn√© que personne ne conna√Æt personne dans le syst√®me de confiance, cela entra√Æne des probl√®mes de v√©rification de la note pr√©c√©dente.  Ce document d√©crit le syst√®me de confiance bas√© sur des crypto-portefeuilles multi-abonnement.  Un tel syst√®me peut √™tre programm√© dans un contrat intelligent.  Compte tenu de la large diffusion de la plate-forme Ethereum, nous choisirons cette plate-forme comme plate-forme pour d√©crire tous les contrats intelligents dans ce document. <br><br><h2>  2. Description d'un portefeuille multi-signatures </h2><a name="a2"></a><br>  Une abstraction qui vous permet de confirmer ou d'annuler des transactions uniquement si un consensus est atteint entre les participants autoris√©s √† prendre une telle d√©cision s'appelle un portefeuille multi-signatures.  Une transaction dans ce contexte est une op√©ration atomique programm√©e pour ex√©cuter une m√©thode dans un autre ou le m√™me contrat intelligent. <br><br>  L'interface pour le contrat Smart d'une telle abstraction peut √™tre repr√©sent√©e comme: <br><br><ol><li>  le constructeur accepte les adresses des membres fondateurs et le nombre de confirmations minimales requises pour les transactions <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(address[]:members, uint256:requiredConfirmationCount)</code> </pre> <br></li><li>  Interface de participant autoris√© <br><ol><li>  obtenir une liste des participants <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getMembers() -&gt; address[]:address</code> </pre><br></li><li>  afficher l'adresse du membre <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getMember(uint256:indexNumber) -&gt; address:address</code> </pre><br></li><li>  v√©rification de l'adresse d'adh√©sion <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> isMember(address:address) -&gt; bool:value</code> </pre><br></li><li>  obtenir le nombre maximum de participants pour le portefeuille <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getMaxMemberCount() -&gt; uint256:value</code> </pre><br></li><li>  Confirmation du consensus minimum <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getRequiredConfirmationCount() -&gt; uint256:value</code> </pre><br></li><li>  en cas d'ajout d'un nouveau membre <br><pre> <code class="javascript hljs">event MemberAddition() -&gt; address:member</code> </pre><br></li><li>  √©v√©nement de suppression de membre <br><pre> <code class="javascript hljs">event MemberRemoval() -&gt; address:member</code> </pre><br></li><li>  changement d'√©v√©nement nombre de confirmations √† ex√©cuter <br><pre> <code class="javascript hljs">event RequiredConfirmationCountChange() -&gt; uint256:count</code> </pre><br></li><li>  ajouter un membre <br><pre> <code class="javascript hljs">execute addMember(address:member) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  suppression de membre <br><pre> <code class="javascript hljs">execute removeMember(address:member) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  remplacement de membre <br><pre> <code class="javascript hljs">execute replaceMember(address:currentMember, <span class="hljs-attr"><span class="hljs-attr">address</span></span>:newMember) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre></li><li>  modification du nombre de confirmations obligatoires d'ex√©cution <br><pre> <code class="javascript hljs">execute changeRequiredConfirmationCount(uint256:count) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li></ol><br></li><li>  Interface de transaction <br><ol><li>  v√©rification de la confirmation de transaction √† l'adresse du participant <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getConfirmationByAddress(uint256:indexNumber, <span class="hljs-attr"><span class="hljs-attr">address</span></span>:addressMember) -&gt; bool:value</code> </pre><br></li><li>  obtenir des informations d'une transaction <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTransactionInfo(uint256:indexNumber) -&gt; [address:destination, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:value, <span class="hljs-attr"><span class="hljs-attr">bytes</span></span>:data, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:executed]</code> </pre></li><li>  obtenir le nombre total de transactions dans ce portefeuille <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTransactionCount() -&gt; uint256:value</code> </pre></li><li>  recevoir le statut de confirmation de transaction <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> isConfirmed(uint256:transactionId) -&gt; bool:value</code> </pre></li><li>  recevoir le nombre de confirmations <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getConfirmationCount(uint256:transactionId) -&gt; uint256:count</code> </pre></li><li>  obtenir le nombre de transactions par type <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTransactionCount(bool:pending, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:executed) -&gt; uint256:count</code> </pre></li><li>  obtenir la liste des participants qui ont confirm√© la transaction <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getConfirmations(uint256:transactionId) -&gt; address[]:confirmations</code> </pre></li><li>  obtenir une liste d'ID de transaction par type dans un certain laps de temps <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTransactionIds(uint256:<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:to, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:pending, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:executed) -&gt; uint256[]:transactionIds</code> </pre></li><li>  √©v√©nement de confirmation de transaction de partie <br><pre> <code class="javascript hljs">event Confirmation() -&gt; [address:sender, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:transactionId, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:timeStamp]</code> </pre></li><li>  √©v√©nement de retrait de confirmation du participant avant la transaction <br><pre> <code class="javascript hljs">event Revocation() -&gt; [address:sender, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:transactionId, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:timeStamp]</code> </pre></li><li>  transaction d'ajout de file d'attente √©v√©nement <br><pre> <code class="javascript hljs">event Submission() -&gt; [uint256:transactionId]</code> </pre></li><li>  √©v√©nement d'ex√©cution de transaction <br><pre> <code class="javascript hljs">event Execution() -&gt; [uint256:transactionId]</code> </pre></li><li>  √©v√©nement d'erreur de transaction <br><pre> <code class="javascript hljs">event ExecutionFailure -&gt; [uint256:transactionId]</code> </pre></li><li>  √©v√©nement de r√©approvisionnement de portefeuille <br><pre> <code class="javascript hljs">event Deposit -&gt; [address:sender, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:amount]</code> </pre></li><li>  membre ajoutant une transaction <br><pre> <code class="javascript hljs">execute submitTransaction(address:destination, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:value, <span class="hljs-attr"><span class="hljs-attr">bytes</span></span>:data) -&gt; uint256:transactionId</code> </pre></li><li>  confirmation de transaction par le participant <br><pre> <code class="javascript hljs">execute confirmTransaction(uint256:transactionId) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre></li><li>  retrait de la confirmation par le participant <br><pre> <code class="javascript hljs">execute revokeConfirmation(uint256:transactionId) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre></li><li>  transaction manuelle <br><pre> <code class="javascript hljs">execute executeTransaction(uint256:transactionId) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre></li></ol><br></li></ol><br><br><h2>  3 fa√ßons de cr√©er une hi√©rarchie de portefeuille </h2><a name="a3"></a><br>  Il existe deux fa√ßons principales de cr√©er un syst√®me de confiance.  Vertical et horizontal.  La construction horizontale implique la cr√©ation d'une liste de portefeuilles enfants par un parent principal.  La construction verticale implique une cha√Æne compos√©e de portefeuilles enfants en r√©f√©rence au parent.  Dans ce cas, le portefeuille parent peut √™tre un enfant d'un autre portefeuille parent. <br>  Comme nous le voyons, le chemin de construction horizontal peut √™tre une sous-esp√®ce du chemin de construction vertical.  Par cons√©quent, nous laissons cette approche sans surveillance. <br><br><h2>  4 Interface de hi√©rarchie du portefeuille sur plusieurs jours </h2><a name="a4"></a><br>  Pour construire un syst√®me de confiance, il est n√©cessaire d'√©tendre l'interface simple du portefeuille multi-abonnement d√©crit ci-dessus, en ajoutant des m√©canismes de r√©gulation de la hi√©rarchie et de l'ex√©cution automatique des confirmations, ainsi que la possibilit√© d'une ex√©cution diff√©r√©e. <br><ol><li>  Le constructeur accepte l'adresse du portefeuille parent, les adresses des membres fondateurs, le nombre de confirmations minimales requises pour les transactions, le d√©lai standard pour les confirmations automatiques en secondes <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(address:parent, address[]:members, uint256:requiredConfirmationCount, uint256:standardTimeAutoConfirmation)</code> </pre><br></li><li>  Interface membre <br><ol><li>  obtenir une liste des participants <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getMembers() -&gt; address[]:address</code> </pre><br></li><li>  fonction pour afficher l'adresse du participant <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getMember(uint256:indexNumber) -&gt; address:address</code> </pre><br></li><li>  v√©rification de l'adresse d'adh√©sion <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> isMember(address:address) -&gt; bool:value</code> </pre><br></li><li>  obtenir le nombre maximum de participants au portefeuille <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getMaxMemberCount() -&gt; uint256:value</code> </pre><br></li><li>  Confirmation du consensus minimum <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getRequiredConfirmationCount() -&gt; uint256:value</code> </pre><br></li><li>  en cas d'ajout d'un nouveau membre <br><pre> <code class="javascript hljs">event memberAddition() -&gt; address:member</code> </pre><br></li><li>  √©v√©nement de suppression de membre <br><pre> <code class="javascript hljs">event memberRemoval() -&gt; address:member</code> </pre><br></li><li>  changement d'√©v√©nement nombre de confirmations √† ex√©cuter <br><pre> <code class="javascript hljs">event requiredConfirmationCountChange() -&gt; uint256:count</code> </pre><br></li><li>  ajouter un membre <br><pre> <code class="javascript hljs">execute addMember(address:member) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  suppression de membre <br><pre> <code class="javascript hljs">execute removeMember(address:member) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  remplacement de membre <br><pre> <code class="javascript hljs">execute replaceMember(address:currentMember, <span class="hljs-attr"><span class="hljs-attr">address</span></span>:newMember) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  modification du nombre de confirmations obligatoires d'ex√©cution <br><pre> <code class="javascript hljs">execute changeRequiredConfirmationCount(uint256:count) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li></ol><br></li><li>  Interface de hi√©rarchie <br><ol><li>  obtenir une liste de portefeuilles pour enfants <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getChildren() -&gt; address[]:wallets</code> </pre><br></li><li>  v√©rifier si l'adresse du portefeuille est un enfant de l'actuelle <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> isChild() -&gt; bool:value</code> </pre><br></li><li>  V√©rifier si l'adresse du portefeuille est parentale √† l'adresse actuelle se fait via isChild en la contrastant. <br></li><li>  √©v√©nement de fixation de portefeuille d'affiliation <br><pre> <code class="javascript hljs">event childAttachment() -&gt; [address:address,<span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:timeStamp]</code> </pre><br></li><li>  √©v√©nement de suppression de portefeuille enfant <br><pre> <code class="javascript hljs">event childRemoval() -&gt; [address:address,<span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:timeStamp]</code> </pre><br></li><li>  apposer un portefeuille enfant <br><pre> <code class="javascript hljs">execute attachChild(addres:child) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  supprimer le portefeuille enfant <br><pre> <code class="javascript hljs">execute removeChild(address:address) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  changer un portefeuille enfant √† un autre <br><pre> <code class="javascript hljs">execute replaceChild(address:newAddress) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li></ol><br></li><li>  Interface de transaction <br><ol><li>  v√©rifier l'√©tat de la transaction <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTransactionStatus(uint256:transactionId) -&gt; enum:{submitted,completed,frozen,disputed,reverted}</code> </pre><br></li><li>  v√©rification de la conformit√© de l'√©tat des transactions <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> isTransactionStatus(uint256:transactionId, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:enumStatusNumber) -&gt; bool:value</code> </pre><br></li><li>  v√©rification de la confirmation de transaction √† l'adresse du participant <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getConfirmationByAddress(uint256:transactionId, <span class="hljs-attr"><span class="hljs-attr">address</span></span>:addressMember) -&gt; bool:value</code> </pre><br></li><li>  obtenir des informations d'une transaction <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTransactionInfo(uint256:transactionId) -&gt; [address:destination, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:value, <span class="hljs-attr"><span class="hljs-attr">bytes</span></span>:data, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:executed]</code> </pre><br></li><li>  obtenir le nombre total de transactions dans le portefeuille <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTransactionCount() -&gt; uint256:value</code> </pre><br></li><li>  recevoir le statut de confirmation de transaction <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> isConfirmed(uint256:transactionId) -&gt; bool:value</code> </pre><br></li><li>  recevoir le nombre de confirmations <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getConfirmationCount(uint256:transactionId) -&gt; uint256:count</code> </pre><br></li><li>  obtenir le nombre de transactions par type <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTransactionCount(bool:pending, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:executed) -&gt; uint256:count</code> </pre><br></li><li>  obtenir la liste des participants qui ont confirm√© la transaction <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getConfirmations(uint256:transactionId) -&gt; address[]:confirmations</code> </pre><br></li><li>  obtenir du temps pour la confirmation automatique <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTimeAutoConfirmation(uint256:transactionId) -&gt; uint256:timestamp</code> </pre><br></li><li>  obtenir une liste d'ID de transaction par type dans un certain laps de temps <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getTransactionIds(uint256:<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:to, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:pending, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:executed) -&gt; uint256[]:transactionIds</code> </pre><br></li><li>  √©v√©nement de confirmation de transaction de partie <br><pre> <code class="javascript hljs">event Confirmation() -&gt; [address:sender, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:transactionId, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:timeStamp]</code> </pre><br></li><li>  √©v√©nement de confirmation automatique de transaction <br><pre> <code class="javascript hljs">event AutoConfirmation() -&gt; [uint256:transactionId, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:timeStamp]</code> </pre><br></li><li>  √©v√©nement de retrait de confirmation du participant avant la transaction <br><pre> <code class="javascript hljs">event Revocation() -&gt; [address:sender, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:transactionId, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:timeStamp]</code> </pre><br></li><li>  transaction d'ajout de file d'attente √©v√©nement <br><pre> <code class="javascript hljs">event Submission() -&gt; [uint256:transactionId]</code> </pre><br></li><li>  √©v√©nement d'ex√©cution de transaction <br><pre> <code class="javascript hljs">event Execution() -&gt; [uint256:transactionId]</code> </pre><br></li><li>  √©v√©nement d'erreur de transaction <br><pre> <code class="javascript hljs">event ExecutionFailure -&gt; [uint256:transactionId]</code> </pre><br></li><li>  changement d'√©tat de transaction en √©v√©nement gel√© <br><pre> <code class="javascript hljs">event TransactionFrozen -&gt; [uint256:transactionId]</code> </pre><br></li><li>  changement de statut de transaction en √©v√©nement controvers√© <br><pre> <code class="javascript hljs">event TransactionDisputed -&gt; [uint256:transactionId]</code> </pre><br></li><li>  changement de statut de transaction en √©v√©nement retourn√© <br><pre> <code class="javascript hljs">event TransactionReverted -&gt; [uint256:transactionId]</code> </pre><br></li><li>  √©v√©nement de r√©approvisionnement de portefeuille <br><pre> <code class="javascript hljs">event Deposit -&gt; [address:sender, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:amount]</code> </pre><br></li><li>  ajouter une transaction √† ex√©cuter <br><pre> <code class="javascript hljs">execute submitTransaction(address:destination, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:value, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:TimeAutoConfirmation, <span class="hljs-attr"><span class="hljs-attr">bytes</span></span>:data) -&gt; uint256:transactionId</code> </pre><br></li><li>  confirmation de transaction <br><pre> <code class="javascript hljs">execute confirmTransaction(uint256:transactionId) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  confirmation de r√©vocation <br><pre> <code class="javascript hljs">execute revokeConfirmation(uint256:transactionId) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  changer le statut de la transaction en gel√© <br><pre> <code class="javascript hljs">execute setTransactionStatus(uint256:transactionId, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:enumStatusNumber) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  transaction manuelle <br><pre> <code class="javascript hljs">execute executeTransaction(uint256:transactionId) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li></ol><br></li><li>  Gestion des notations <br><ol><li>  obtenir une note √† <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getRatingByAddress(address:agent) -&gt; [uint256:negativeRating, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:positiveRating, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:countRatingRecords]</code> </pre><br></li><li>  obtenir l'historique des √©valuations par adresse et num√©ro de s√©rie <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getRatingRecordForAddress(address:agent, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:indexNumber) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  en cas d‚Äôajout d‚Äôun enregistrement au classement <br><pre> <code class="javascript hljs">event RatingRecordAdded -&gt; [address:author, <span class="hljs-attr"><span class="hljs-attr">address</span></span>:agent, <span class="hljs-attr"><span class="hljs-attr">bytes32</span></span>:smartContractAddress, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:positiveOrNegative, <span class="hljs-attr"><span class="hljs-attr">uin256</span></span>:ratingNumber, <span class="hljs-attr"><span class="hljs-attr">bytes</span></span>:comment, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:indexNumber]</code> </pre><br></li><li>  ajouter un enregistrement √† l'√©valuation de l'adresse <br><pre> <code class="javascript hljs">execute addRatingRecord(address:agent, <span class="hljs-attr"><span class="hljs-attr">bytes32</span></span>:smartContractAddress, <span class="hljs-attr"><span class="hljs-attr">bool</span></span>:positiveOrNegative, <span class="hljs-attr"><span class="hljs-attr">uin256</span></span>:ratingNumber, <span class="hljs-attr"><span class="hljs-attr">bytes</span></span>:comment) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li></ol><br></li><li>  Int√©gration avec le protocole ESCB9 <br><ol><li>  v√©rifier √† l'adresse si le contrat intelligent attach√© √† ce portefeuille est un contrat intelligent avec impl√©mentation ESCB9 <br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> isAttachedESCB9SmartContract(address:smartContract) -&gt; bool:result</code> </pre><br></li><li>  v√©rifier l'√©tat du d√©p√¥t pour un contrat intelligent avec ESCB9 attach√© √† ce portefeuille <br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> getDepositStatusForESCB9SmartContract(address:smartContract) -&gt; enum:{awaiting,founded,returned}</code> </pre><br></li><li>  en cas d'attachement d'un contrat intelligent avec la mise en ≈ìuvre du portefeuille ESCB9 <br><pre> <code class="javascript hljs">event AttachingESCB9SmartContract -&gt; [address:smartContract]</code> </pre><br></li><li>  √©v√©nement de d√©p√¥t pour un contrat intelligent avec mise en ≈ìuvre du portefeuille ESCB9 attach√© <br><pre> <code class="javascript hljs">event ConfirmationForDepositESCB9SmartContract -&gt; [address:smartContract, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:sum, <span class="hljs-attr"><span class="hljs-attr">bytes</span></span>:notice]</code> </pre><br></li><li>  attacher un contrat intelligent avec la mise en ≈ìuvre de ESCB9 au portefeuille <br><pre> <code class="javascript hljs">execute attachESCB9SmartContract(address:smartContract) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li><li>  confirmation de d√©p√¥t pour contrat intelligent avec mise en ≈ìuvre ESCB9.  Si le d√©p√¥t est dans le syst√®me externe, l'avis aura une √©tiquette.  Si le d√©p√¥t est en ETH, le montant du d√©p√¥t est envoy√© lorsque la m√©thode est ex√©cut√©e. <br><pre> <code class="javascript hljs">execute fundDepositForESCB9SmartContract(address:smartContract, <span class="hljs-attr"><span class="hljs-attr">uint256</span></span>:sum, <span class="hljs-attr"><span class="hljs-attr">bytes</span></span>:notice) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>:value</code> </pre><br></li></ol><br></li></ol><br><br><h2>  5 flux d'interaction </h2><a name="a5"></a><br>  Tout contrat intelligent peut √™tre int√©gr√© dans la hi√©rarchie des portefeuilles multi-signatures.  Une telle int√©gration aura des flux d'interactions.  De mani√®re g√©n√©rale, on distingue plusieurs types de flux: <br><ul><li>  <b>Standard</b> .  Sous cette forme, la transaction a lieu automatiquement.  Sans la participation des membres autoris√©s de la hi√©rarchie des portefeuilles. </li><li>  <b>Prot√©g√©</b> .  Sous cette forme, le temps de transaction peut √™tre augment√© de la norme de confirmation automatique de l'heure au n√©cessaire.  Dans ce cas, la participation des membres autoris√©s de la hi√©rarchie du portefeuille est n√©cessaire. </li><li>  <b>Controverse</b> .  Dans ce formulaire, le participant √† la transaction peut geler la transaction.  Dans ce cas, la participation des membres autoris√©s de la hi√©rarchie du portefeuille est n√©cessaire pour parvenir √† un consensus. </li></ul><br>  Chaque portefeuille du syst√®me de fiducie compte un certain nombre de participants pl√©nipotentiaires, qui rendent un verdict.  Pour un raisonnement simple, nous allons combiner tous les participants autoris√©s dans le portefeuille en un seul concept - l' <b>arbitre</b> . <br><br><h3>  5.1 Flux d'interaction standard </h3><a name="a51"></a><br>  Pour simplifier la pr√©sentation, nous apportons les concepts de biens et services au concept d'objet de transfert (objet), et le concept de monnaie fiduciaire, les crypto-monnaies au concept de moyen de transfert (moyen). <br>  La contrepartie, le propri√©taire de l'objet conclut un accord avec la contrepartie, le propri√©taire des fonds, √† des fins d'√©change.  Dans ce cas, le propri√©taire de l'objet cr√©e un contrat d'entiercement intelligent en envoyant une transaction standardis√©e √† l'un des portefeuilles autoris√©s dans la hi√©rarchie des portefeuilles multi-signatures.  Dans ce cas, la transaction est enregistr√©e par un tiers en tant que syst√®me de confiance.  Pour chaque transaction, l'heure standard de son ex√©cution est d√©termin√©e.  La contrepartie, le propri√©taire des fonds, effectue un d√©p√¥t sur la transaction en transf√©rant des fonds dans le syst√®me de fiducie.  Apr√®s cela, le propri√©taire de l'objet transf√®re l'objet au propri√©taire des fonds.  Le propri√©taire des fonds v√©rifie la qualit√© de l'objet.  Si avant la fin du temps de la transaction, il n'a pas confirm√© la qualit√©, les fonds sont transf√©r√©s au propri√©taire de l'objet dans le cadre de la transaction.  Les deux contreparties se donnent mutuellement des notes de confort.  Ainsi, le propri√©taire des fonds peut modifier le flux d'interaction jusqu'√† ce que la transaction soit termin√©e.  Apr√®s le transfert de fonds au propri√©taire de l'objet, le propri√©taire des fonds peut demander un porte-monnaie sup√©rieur au niveau de la hi√©rarchie pour r√©soudre les litiges dans le d√©lai sp√©cifi√© par le r√®glement.  Pass√© ce d√©lai, les notations de la transaction sont appliqu√©es aux deux parties et la transaction devient irr√©vocable. <br><br><h3>  5.2 Flux d'interaction s√©curis√© </h3><a name="a52"></a><br>  Si, pour des raisons ind√©pendantes de la volont√© des contreparties, le d√©lai de transaction doit √™tre prolong√©, alors, d'un commun accord des parties, le portefeuille de hi√©rarchie multi-signatures (arbitre) peut modifier le d√©lai imparti pour la transaction.  Apr√®s avoir modifi√© l'heure, le flux d'interaction allou√© √† la transaction revient au niveau logique du flux standard. <br><br><h3>  5.3 Flux d'interaction controvers√© </h3><a name="a53"></a><br>  Si la qualit√© de l'objet lors de la transaction ne convient pas √† la contrepartie, propri√©taire des fonds qu'il contribue au syst√®me de confiance de la hi√©rarchie des portefeuilles multi-signatures, la transaction peut √™tre gel√©e.  Dans ce cas, le d√©p√¥t n'est pas transf√©r√© √† la contrepartie, propri√©taire de l'objet jusqu'√† ce qu'un verdict sur la transaction soit √©mis.  Le d√©tenteur des fonds doit fournir des preuves substantielles √† l'arbitre de la transaction.  Apr√®s cela, l'arbitre rend un verdict en faveur de l'une des contreparties.  Si une partie √† la transaction n'est pas satisfaite du verdict, elle se tourne vers un portefeuille sup√©rieur dans l'ordre de la hi√©rarchie des portefeuilles multi-signatures.  Apr√®s avoir pass√© toutes les instances de la hi√©rarchie, chaque partie peut demander un vote public.  Cette mesure exceptionnelle ne peut √™tre attribu√©e que par un sac √† main absolu. <br><br><h2>  6 Protocole ESCB9 </h2><a name="a6"></a><br>  Un exemple du protocole ESCB9 dans Solidity en tant que contrat intelligent abstrait (le protocole est en cours de d√©veloppement et est susceptible de changer) <br><pre> <code class="javascript hljs">contract ESCB9 { <span class="hljs-comment"><span class="hljs-comment">/** * Modificator for arbitrage */</span></span> modifier onlyArbitrage() { <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(msg.sender == arbitrage()); _; } <span class="hljs-comment"><span class="hljs-comment">/** * Modificator for checking deposit status */</span></span> modifier isDeposited { uint i; bytes memory _funcName = bytes4(keccak256(<span class="hljs-string"><span class="hljs-string">"getDepositStatusForESCB9SmartContract(address)"</span></span>)); bytes memory _concat = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> bytes(_funcName.length + <span class="hljs-number"><span class="hljs-number">32</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; address(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).length; i++) { _concat[i] = address(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)[i]; } <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(arbitrage().call.value(<span class="hljs-number"><span class="hljs-number">0</span></span>)(_concat) == <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ‚Äúfounded‚Äù for enum _; } event confirmed(uint256 unixtimestamp, bytes32 notice); event frozen(uint256 unixtimestamp, bytes32 notice); event disputed(uint256 unixtimestamp, bytes32 notice); event canceled(uint256 unixtimestamp, bytes32 notice); /** * @notice Function to approve escrow deal and confirm success * @return Success of operation **/ function confirm(notice) public onlyArbitrage returns(bool); /** * @notice Function to freeze escrow deal * @return Success of operation **/ function freeze(notice) public onlyArbitrage returns(bool); /** * @notice Function to dispute escrow deal * @return Success of operation **/ function dispute(notice) public onlyArbitrage returns(bool); /** * @notice Function to cancel escrow deal and confirm fail * @return Success of operation **/ function cancel(notice) public onlyArbitrage returns(bool); /** * @notice Function to get seller's address * @return Seller's address **/ function seller() public returns(address); /** * @notice Function to get custom type for ESCB9 smart contract * @return Type **/ function type() public returns(bytes); /** * @notice Function to get buyer's address * @return Buyer's address **/ function buyer() public returns(address); /** * @notice Function to get sum for deal * @return Sum of deal in wei **/ function depositedSum() public returns(uint256); /** * @notice Function to get arbitrage's address * @return Arbitrage's address **/ function arbitrage() public returns(address); }</span></span></code> </pre><br><br><h2>  7 Int√©gration d'un syst√®me de confiance et de contrats intelligents mettant en ≈ìuvre le protocole ESCB9 </h2><a name="a7"></a><br>  Pour utiliser le syst√®me de confiance de la hi√©rarchie des portefeuilles multi-signatures dans votre propre projet, vous devez cr√©er un contrat intelligent qui impl√©mente la norme ESCB9 et attacher un tel contrat intelligent √† l'un des arbitres qui n'a pas de portefeuilles subsidiaires.  Ces portefeuilles dans une hi√©rarchie √† abonnements multiples sont appel√©s ¬´n≈ìuds d'entr√©e¬ª.  Tous les portefeuilles multi-signatures en amont sont appel√©s ¬´n≈ìuds d'arbitrage¬ª. <br><br><h2>  8 Exemples de contrats mettant en ≈ìuvre le SEBC9 </h2><a name="a8"></a><br><h3>  8.1 Contrat intelligent pour le march√© locatif priv√©, √† l'instar d'AirBnb </h3><a name="a81"></a><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Don't use this code, it can be not working or contain the vulnerability, for demonstration purpose only pragma solidity ^0.4.21; /// @title rentMyApartmentESCB9 - Allows rent object on market with escrow service. The safe way to do deal for counterparties. /// @author Konstantin Viktorov - &lt;ceo@escrowblock.net&gt; contract rentMyApartmentESCB9 is ESCB9 { // 2018-05-10 18:25 in unix timestamp uint256 constant public checkInTime = 1525965900; // 2018-05-20 18:25 in unix timestamp uint256 constant public checkOutTime = 1526829900; // Coordinates in bytes format. For example 56.865129,35.881540 bytes constant public coordinates = "0x35362e3836353132392c33352e383831353430"; // Google maps link, as example, but better add Url to landing page bytes constant public externalUrl = "0x68747470733a2f2f676f6f2e676c2f6d6170732f6e783563396b6737384170"; /** * Encrypted information, see https://github.com/ethereumjs/ethereumjs-wallet and * https://github.com/pubkey/eth-crypto/blob/master/tutorials/encrypted-message.md * For example you can leave here information about pin-code for smart lock **/ bytes constant private privateInformation = '0x0dfef623523483245687234'; modifier only_before_check_in { require(getNow() &lt; checkInTime); _; } modifier only_after_check_out { require(getNow() &gt; checkOutTime); _; } modifier only_during_renting { require(getNow() &gt; checkInTime &amp;&amp; getNow() &lt; checkOutTime); _; } modifier only_not_in_during_renting { require(getNow() &lt; checkInTime &amp;&amp; getNow() &gt; checkOutTime); _; } /** * @notice ESCB9 interface * @notice Function to get address of apartment owner * @return Seller's address **/ function seller() public returns(address) { return "0x27a36731337cdee360d99b980b73e24f6e188618"; } /** * @notice ESCB9 interface * @notice Function to get custom type for ESCB9 smart contract * @return Type **/ function type() public returns(bytes) { return "rent"; } /** * @notice ESCB9 interface * @notice Function to get address of renter * @return Buyer's address **/ function buyer() public returns(address) { return "0xb582baaF7e749d6aA98A22355A9d08B4c4d013C8"; } /** * @notice ESCB9 interface * @notice Function to get sum for deal * @return Sum of deal in wei **/ function depositedSum() public returns(uint256) { return 1000000000000000000; //1 ETH in weis } /** * @notice ESCB9 interface * @notice Function to get arbitrage's address * @return Arbitrage's address **/ function arbitrage() public returns(address) { return "0xe91065d8bb2392121a8fbe6a81e79782fbc89dd4"; } /** * @notice ESCB9 interface * @notice Function to approve escrow deal and confirm success * @param Some comment * @return Success of operation **/ function confirm(notice) public onlyArbitrage only_after_check_out returns(bool) { confirmed(getNow(), notice); } /** * @notice ESCB9 interface * @notice Function to freeze escrow deal * @param Some comment * @return Success of operation **/ function freeze(notice) public onlyArbitrage only_during_renting returns(bool) { frozen(getNow(), notice); } /** * @notice ESCB9 interface * @notice Function to dispute escrow deal * @return Success of operation **/ function dispute() public onlyArbitrage only_after_check_out returns(bool) { disputed(getNow(), notice); } /** * @notice ESCB9 interface * @notice Function to cancel escrow deal and confirm fail * @return Success of operation **/ function cancel() public onlyArbitrage only_not_in_during_renting returns(bool) { canceled(getNow(), notice); } /** * @notice Get current unix time stamp **/ function getNow() constant public returns (uint) { return now; } /** * @notice Get private information when renter will pay deposit **/ function getPrivateInformation() constant isDeposited public returns (bytes) { return privateInformation; } }</span></span></code> </pre><br><br><h3>  8.2 Un contrat intelligent pour √©changer n'importe quelle crypto-monnaie contre de la monnaie fiduciaire en retour en mode d√©centralis√© </h3><a name="a82"></a><br>  L'exemple de contrat Smart d√©crit ci-dessous vous permet d'√©changer BTC contre de l'argent fiduciaire directement, sans la participation d'√©changeurs et de services tiers.  Le vendeur BTC transf√®re le montant du contrat intelligent au d√©p√¥t dans la blockchain BTC.  L'acheteur, apr√®s confirmation de l'acompte par l'arbitre, transf√®re automatiquement le montant pr√©vu au contrat sur le compte ou le num√©ro de carte plastique inclus dans le contrat.  L'arbitre peut intervenir dans le processus de transaction apr√®s l'appel de l'un des participants.  Initialement, le d√©p√¥t sera gel√© et si les parties ne s'entendent pas par consensus, alors un tel contrat deviendra contest√© avec une r√©solution suppl√©mentaire sur le flux d'interaction contest√©e. <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Don't use this code, it can be not working or contain the vulnerability, for demonstration purpose only pragma solidity ^0.4.21; /// @title p2pExchangeESCB9 - Allows exchanging any cryptocurrencies on fiat money and back, directly between users. The safe way to do deal for counterparties. /// @desc This example shows as exchange fiat money on BTC (forward flow) /// @author Konstantin Viktorov - &lt;ceo@escrowblock.net&gt; contract p2pExchangeESCB9 is ESCB9 { // in minimal decimals, for example, 500.000 rubles is equal 50000000 kopeks uint256 constant public inputAmount = 50000000; // RUR in bytes bytes constant public inputCurrency = "0x525552"; // in minimal decimals, for example, 1 BTC is equal 100000000 satoshi uint256 constant public outputAmount = "100000000"; // BTC in bytes bytes constant public outputCurrency = "0x425443"; // Deposit can be place only before this time const bytes public closeTime = "1526829900"; // use "forward" way, when output currency will be deposited or "backward" if input currency will be deposited uint256 constant public depositWay = "forward"; /** * Encrypted information, see https://github.com/ethereumjs/ethereumjs-wallet and * https://github.com/pubkey/eth-crypto/blob/master/tutorials/encrypted-message.md **/ /** * Encrypted information for placing deposit, for example BTC address **/ bytes private externalDepositAddress = "0x3139333978476346484d6f464b465845564754415761706b3537694e6a3579556b52"; /** * Encrypted information for the amount of deposit, for example for BTC 8 decimals can be added 2-3 chars from 0-9 as pin-code for deal. See more in EscrowBlock WhitePaper * If output amount is equal 100000000, then deposited amount can be 100000123 **/ bytes private externalDepositAmount = "0x5f5e17b"; /** * Encrypted information for sending amount to seller, for example credit card number or bank account, for example 4242424242424242 **/ bytes private externalIncomingAddress = "0xf12765df4c9b2"; modifier only_before_close_time { require(getNow() &lt; closeTime); _; } modifier only_after_close_time { require(getNow() &gt; closeTime); _; } /** * @notice ESCB9 interface * @notice Function to get address of apartment owner * @return Seller's address **/ function seller() public returns(address) { return "0x27a36731337cdee360d99b980b73e24f6e188618"; } /** * @notice ESCB9 interface * @notice Function to get custom type for ESCB9 smart contract * @return Type **/ function type() public returns(bytes) { return "exchange"; } /** * @notice ESCB9 interface * @notice Function to get address of renter * @return Buyer's address **/ function buyer() public returns(address) { return "0xb582baaF7e749d6aA98A22355A9d08B4c4d013C8"; } /** * @notice ESCB9 interface * @notice Function to get sum for deal * @return Sum of deal in minimal decimals **/ function depositedSum() public returns(uint256) { rerurn outputAmount; } /** * @notice ESCB9 interface * @notice Function to get arbitrage's address * @return Arbitrage's address **/ function arbitrage() public returns(address) { return "0xe91065d8bb2392121a8fbe6a81e79782fbc89dd4"; } /** * @notice ESCB9 interface * @notice Function to approve escrow deal and confirm success * @param Some comment * @return Success of operation **/ function confirm(notice) public onlyArbitrage only_after_close_time returns(bool) { confirmed(getNow(), notice); } /** * @notice ESCB9 interface * @notice Function to freeze escrow deal * @param Some comment * @return Success of operation **/ function freeze(notice) public onlyArbitrage only_after_close_time returns(bool) { frozen(getNow(), notice); } /** * @notice ESCB9 interface * @notice Function to dispute escrow deal * @return Success of operation **/ function dispute() public onlyArbitrage only_after_close_time returns(bool) { disputed(getNow(), notice); } /** * @notice ESCB9 interface * @notice Function to cancel escrow deal and confirm fail * @return Success of operation **/ function cancel() public onlyArbitrage only_before_close_time returns(bool) { canceled(getNow(), notice); } /** * @notice Get current unix time stamp **/ function getNow() constant public returns (uint) { return now; } /** * @notice Get private information for buyer when seller sent deposit **/ function getExternalIncomingAddress() constant isDeposited public returns (bytes) { return externalIncomingAddress; } /** * @notice Get private information about amount for seller for sending deposit **/ function getExternalDepositAmount() constant public returns (bytes) { return externalDepositAmount; } /** * @notice Get private information about address for seller for sending deposit **/ function getExternalDepositAddress() constant public returns (bytes) { return externalDepositAddress; } }</span></span></code> </pre><br><br><h2>  9 n≈ìuds d'arbitrage </h2><a name="a9"></a><br>  Pour maintenir le travail du syst√®me de confiance, une hi√©rarchie de portefeuilles multi-signatures est introduite.  Les n≈ìuds d'arbitrage, c'est-√†-dire les portefeuilles de la hi√©rarchie qui ont des portefeuilles subsidiaires sous eux, agissent comme garants du r√®glement des diff√©rends.  Les pl√©nipotentiaires de ces n≈ìuds ne peuvent √™tre nomm√©s que par une hi√©rarchie sup√©rieure.  Chaque participant autoris√© re√ßoit une r√©compense en distribuant des dividendes et des bonus pour travailler avec des flux d'interaction contest√©s.  La taille du bonus est d√©termin√©e par consensus. <br>  Pour obtenir le statut de participant autoris√© dans un n≈ìud d'arbitrage, il est n√©cessaire d'avoir une quantit√© de jetons d√©finie par consensus √† l'adresse d'un participant autoris√©.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ainsi, la r√©ception stable des dividendes par tous les participants des n≈ìuds d'arbitrage est garantie. </font><font style="vertical-align: inherit;">Plus la hi√©rarchie d'un portefeuille multi-signatures est √©lev√©e, plus les jetons n√©cessaires doivent √™tre pr√©sents √† l'adresse d'un participant autoris√©.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10 Dictionnaire </font></font></h2><a name="a10"></a><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ethereum</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une technologie open source qui vous permet de cr√©er une cha√Æne de transactions d√©centralis√©e et immuable. Chaque transaction peut √™tre effectu√©e avec certaines conditions enregistr√©es dans un contrat intelligent. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contrat intelligent</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - √©crit en Solidity, la logique ex√©cut√©e dans la machine virtuelle Ethereum, qui vous permet d'√©tendre la logique de transaction. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un portefeuille multi-signatures (arbitre)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un contrat intelligent sp√©cial contr√¥l√© par un groupe de participants autoris√©s qui peuvent confirmer ou annuler des transactions. En utilisant le m√©canisme des portefeuilles √† abonnements multiples, vous pouvez cr√©er une cha√Æne de passerelles pour les transactions et surveiller en temps opportun l'ex√©cution ou le remboursement.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le propri√©taire d'un objet - est un propri√©taire, un fournisseur, un d√©veloppeur d'un logiciel, etc. C'est-√†-dire une personne qui met en ≈ìuvre l'objet et re√ßoit finalement un d√©p√¥t en r√©compense. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le propri√©taire des fonds</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - est un locataire, un acheteur, un client d'un produit logiciel, etc. C'est-√†-dire une personne qui d√©pose un d√©p√¥t sur un objet pour acheter un produit ou un service.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr412655/">https://habr.com/ru/post/fr412655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr412645/index.html">Objet, propri√©t√©, activit√©: mod√®les et m√©thodes de construction</a></li>
<li><a href="../fr412647/index.html">De nouvelles preuves de l'existence de la neuvi√®me plan√®te</a></li>
<li><a href="../fr412649/index.html">Comment constituer une √©quipe et des processus ax√©s sur une croissance rapide</a></li>
<li><a href="../fr412651/index.html">Comment j'ai cess√© de m'inqui√©ter (de la science) et appris √† aimer l'histoire</a></li>
<li><a href="../fr412653/index.html">Les mousquetaires ne sont plus les m√™mes, ni attendu Athos, mais Porthos est arriv√©</a></li>
<li><a href="../fr412657/index.html">Jetons ou actions d'utilit√©s: quel sera l'avenir d'ICO</a></li>
<li><a href="../fr412661/index.html">L'anglais pour travailler sur un march√© √©tranger: quels manuels ne parlent pas</a></li>
<li><a href="../fr412663/index.html">AI vend de la pizza ou comment Voximplant se lie d'amiti√© avec Dialogflow</a></li>
<li><a href="../fr412665/index.html">√âditeur de programme hebdomadaire</a></li>
<li><a href="../fr412667/index.html">Cybergroup Turla utilise Metasploit dans la campagne Mosquito</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>