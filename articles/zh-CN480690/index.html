<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ–‡ï¸ ğŸ’ˆ ğŸ›’ æˆ‘ä»¬ä¾¿å®œåœ°ç®¡ç†è‹±å¯¸ç™¾å¶çª— ğŸ¦ ğŸ‘£ ğŸ˜”</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å›åˆ°å¤å¤©ï¼Œå½“ç¿çƒ‚çš„é˜³å…‰ç…§è€€ç€æˆ‘æ—¶ï¼Œæˆ‘åŒå€¦äº†åƒåœ¨è¿™ä¸ªGIFä¸­é‚£æ ·è½¬åŠ¨æ—‹é’®æ¥å…³é—­/æ‰“å¼€åŠå…¬å®¤ä¸­çš„ç™¾å¶çª—ï¼Œç„¶åæƒ³åˆ°äº†ä½¿å®ƒä»¬è‡ªåŠ¨åŒ–çš„æƒ³æ³•ã€‚ 





åœ¨ä»å‹’æ²ƒä¼ŠÂ·æ¢…æ— ï¼ˆ Leroy Merlinï¼‰è´­ä¹°ç™¾å¶çª—ä¹‹å‰ï¼Œæˆ‘æ›¾æƒ³è¿‡è¦å®‰è£…ç”µåŠ¨çª—å¸˜ï¼Œä½†æ˜¯å‡ å¹´å‰å½“æˆ‘åšå‡ºé€‰æ‹©æ—¶ï¼Œå®ƒä»¬çš„ä»·æ ¼ç›¸å½“å¯è§‚ã€‚ å¦å¤–ï¼Œç”±äºçª—æˆ·çš„é«˜åº¦...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æˆ‘ä»¬ä¾¿å®œåœ°ç®¡ç†è‹±å¯¸ç™¾å¶çª—</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480690/"><p> å›åˆ°å¤å¤©ï¼Œå½“ç¿çƒ‚çš„é˜³å…‰ç…§è€€ç€æˆ‘æ—¶ï¼Œæˆ‘åŒå€¦äº†åƒåœ¨è¿™ä¸ªGIFä¸­é‚£æ ·è½¬åŠ¨æ—‹é’®æ¥å…³é—­/æ‰“å¼€åŠå…¬å®¤ä¸­çš„ç™¾å¶çª—ï¼Œç„¶åæƒ³åˆ°äº†ä½¿å®ƒä»¬è‡ªåŠ¨åŒ–çš„æƒ³æ³•ã€‚ </p><br><p><img src="https://habrastorage.org/webt/s-/af/9n/s-af9ngu4pocqtawrfddz2u_uyi.gif"></p><br><p>åœ¨<a href="https://perm.leroymerlin.ru/product/zhalyuzi-inspire-100h160-sm-alyuminiy-cvet-belyy-16262144/" rel="nofollow">ä»å‹’æ²ƒä¼ŠÂ·æ¢…æ—</a> ï¼ˆ <a href="https://perm.leroymerlin.ru/product/zhalyuzi-inspire-100h160-sm-alyuminiy-cvet-belyy-16262144/" rel="nofollow">Leroy Merlinï¼‰</a>è´­ä¹°<a href="https://perm.leroymerlin.ru/product/zhalyuzi-inspire-100h160-sm-alyuminiy-cvet-belyy-16262144/" rel="nofollow">ç™¾å¶çª—</a>ä¹‹å‰ï¼Œæˆ‘æ›¾æƒ³è¿‡è¦å®‰è£…ç”µåŠ¨çª—å¸˜ï¼Œä½†æ˜¯å‡ å¹´å‰å½“æˆ‘åšå‡ºé€‰æ‹©æ—¶ï¼Œå®ƒä»¬çš„ä»·æ ¼ç›¸å½“å¯è§‚ã€‚ å¦å¤–ï¼Œç”±äºçª—æˆ·çš„é«˜åº¦å’Œå®½åº¦ï¼Œçª—å¸˜çš„å°ºå¯¸è¢«è¯æ˜æ˜¯éæ ‡å‡†çš„ï¼Œè¿™ä¹Ÿå¢åŠ äº†æˆæœ¬ã€‚ <a name="habracut"></a></p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6jYhsuNkm_c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p> æˆ‘çš„Leroy Merlinç™¾å¶çª—è‡ªåŠ¨åŒ–é¡¹ç›®çš„ç»“æœ </p><br><p> åœ¨é‚£ä¹‹åçš„å‡ å¹´ä¸­ï¼ŒåŸºäº<a href="https://www.home-assistant.io/" rel="nofollow">Home Assistant</a>çš„åŠå…¬å®¤ä¸­â€œæ™ºèƒ½â€ç‰©å“çš„æ•°é‡å¼€å§‹å¢é•¿ï¼Œæˆ‘å›åˆ°äº†è‡ªåŠ¨ç™¾å¶çª—çš„æƒ³æ³•ã€‚ </p><br><p> ç›‘æ§é€‰é¡¹æ— æ•ˆã€‚ æˆ‘çœ‹åˆ°çš„æ‰€æœ‰ç™¾å¶çª—è‡ªåŠ¨åŒ–é¡¹ç›®éƒ½æ˜¯é’ˆå¯¹2è‹±å¯¸çš„ç™¾å¶çª—ï¼Œè€Œåœ¨ä¿„ç½—æ–¯è”é‚¦å‡ºå”®çš„å‡ ä¹æ‰€æœ‰ç™¾å¶çª—éƒ½æ˜¯1è‹±å¯¸å®½ã€‚ </p><br><p><img src="https://habrastorage.org/webt/5m/-o/ga/5m-ogapelxc98rixmsho2p1wmgi.jpeg"><br> åŠå…¬å®¤çª—æˆ·ä¸Šçš„è‡ªåŠ¨ç™¾å¶çª— </p><br><h2 id="1-vybor-dvigatelya-i-upravlyayuschego-mikrokontrollera">  1.ç”µæœºå’Œæ§åˆ¶å¾®æ§åˆ¶å™¨çš„é€‰æ‹© </h2><br><p> èµ·åˆï¼Œæ ¹æœ¬ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹ã€‚ åœ¨è‡ªåŠ¨åŒ–æ–¹é¢ï¼Œå…¶ä»–é¡¹ç›®ç»å¸¸ä½¿ç”¨<a href="https://www.aliexpress.com/item/32896006818.html" rel="nofollow">28BYJ-48æ­¥è¿›ç”µæœº</a> ï¼Œ <a href="https://www.aliexpress.com/item/32896006818.html" rel="nofollow">æ¯å°</a>ä»·æ ¼çº¦130å¢å¸ƒï¼ˆåœ¨ä¸­å›½ï¼‰ã€‚ æˆ‘å¯¹æ§åˆ¶æ§åˆ¶å™¨æ²¡æœ‰ä»»ä½•ç–‘é—®ï¼Œå› ä¸ºæˆ‘å‡ ä¹åœ¨æ‰€æœ‰åœ°æ–¹éƒ½ä½¿ç”¨<a href="https://www.aliexpress.com/item/32529101036.html" rel="nofollow">LOLINï¼ˆWEMOSï¼‰D1 mini</a> ã€‚ </p><br><p><img src="https://habrastorage.org/webt/s_/zv/yc/s_zvycdv1q4dynrfm_sgaxx5wda.jpeg"><br> è½¬æ¢ç™¾å¶çª—å’Œæ ‡å‡†ç™¾å¶çª—ï¼šé¡¶è§†å›¾ </p><br><h2 id="2-proshivka-dlya-mikrokontrollera-esp8266-kitayskogo-proizvoditelya-espressif-systems">  2.ä¸­å›½åˆ¶é€ å•†Espressif Systemsçš„ESP8266å¾®æ§åˆ¶å™¨çš„å›ºä»¶ </h2><br><p> ä¸‹ä¸€æ­¥-å›ºä»¶ï¼Œæˆ‘ä¸æƒ³æ‰“æ‰°å¤æ‚çš„ç¼–ç ï¼Œé€šå¸¸çš„<a href="https://github.com/arendst/Tasmota" rel="nofollow">Tasmota</a>ä¹Ÿæ²¡æœ‰æä¾›ç°æˆçš„é€‰é¡¹ã€‚ ç„¶åæˆ‘é‡åˆ°äº†<a href="https://esphome.io/index.html" rel="nofollow">ESPHome-</a>æœ¬æœºå›ºä»¶ï¼Œæ²¡æœ‰Home Assistantæ”¯æŒçš„MQTTã€‚ </p><br><p><img src="https://habrastorage.org/webt/6m/u4/y4/6mu4y4zaeelfuxvwhqpanmyxwne.jpeg"><br> è½¬æ¢ç™¾å¶çª—å’Œæ ‡å‡†ç™¾å¶çª—ï¼šä¾§è§†å›¾ </p><br><p>  ESPHomeçš„ä¸€ä¸ªä¸é”™çš„å¥½å¤„æ˜¯å®ƒå…·æœ‰<a href="https://esphome.io/components/stepper/index.html" rel="nofollow">ç”¨äºæ­¥è¿›ç”µæœº</a>çš„<a href="https://esphome.io/components/stepper/index.html" rel="nofollow">ç»„ä»¶ï¼Œ</a>è¯¥<a href="https://esphome.io/components/stepper/index.html" rel="nofollow">ç»„ä»¶</a>åˆæ”¯æŒULN2003èŠ¯ç‰‡çš„è¿è¡Œï¼Œè¯¥èŠ¯ç‰‡å¯ç”¨äºæ§åˆ¶å„ç§æ­¥è¿›ç”µæœºçš„æ§åˆ¶ç”µè·¯ä¸­çš„å¤§åŠŸç‡è´Ÿè½½ï¼ŒåŒ…æ‹¬ç”µç£ç»§ç”µå™¨ï¼Œç›´æµç”µæœºï¼Œç”µç£é˜€å¼•æ“ã€‚ </p><br><p><img src="https://habrastorage.org/webt/9d/it/n9/9ditn9kzjwbviv_gm9f36cyqcbo.jpeg"><br> é‡åšç™¾å¶çª—ï¼šä¾§è§†å›¾ </p><br><p> ç”±äºä½¿ç”¨<a href="https://www.home-assistant.io/hassio/" rel="nofollow">Hass.io</a> ï¼Œå› æ­¤ä½¿ç”¨äº†æœ€ç®€å•çš„é€‰é¡¹æ¥ç¼–è¯‘å›ºä»¶<a href="https://github.com/esphome/hassio" rel="nofollow">-ESPHome Hass.io Add-On</a> ã€‚ <br> çª—æˆ·ä¸Šæœ‰ä¸‰ä¸ªç™¾å¶çª—ï¼Œå¹¶è·å¾—äº†ä¸‰ä¸ªå¾®æ§åˆ¶å™¨ã€‚ ä»¥ä¸‹æ˜¯ç”Ÿæˆçš„å›ºä»¶ï¼š <br> ç»è¿‡æµ‹è¯•ï¼Œæˆ‘å‘ç°ä¸ºäº†æ­£ç¡®æ‰“å¼€/å…³é—­ç™¾å¶çª—ï¼Œæœ‰å¿…è¦ä¸ºæ¯ä¸ªç™¾å¶çª—è®¾ç½®ä¸åŒæ•°é‡çš„æ­¥éª¤ã€‚ </p><br><p><img src="https://habrastorage.org/webt/i4/gr/ap/i4graptiht5ucu-4skpxegdqlyi.png"></p><br><div class="spoiler">  <b class="spoiler_title">window_1.yaml</b> <div class="spoiler_text"><pre><code class="plaintext hljs">substitutions: devicename: window_1 upper_devicename: Window 1 esphome: name: $devicename platform: ESP8266 board: d1_mini wifi: ssid: "xxx" password: "xxx" # Enable fallback hotspot (captive portal) in case wifi connection fails ap: ssid: "Window 1 Fallback Hotspot" password: "xxx" captive_portal: # web_server: # port: 80 # css_url: http://192.168.15.10:8123/local/webserver-v1.min.css # js_url: http://192.168.15.10:8123/local/webserver-v1.min.js # Enable Home Assistant API api: services: - service: control_stepper variables: target: int then: - stepper.set_target: id: my_stepper target: !lambda 'return target;' # Enable OTA Access ota: # Enable verbose logging over serial logger: # physical connection stepper: - platform: uln2003 id: my_stepper pin_a: D0 pin_b: D5 pin_c: D6 pin_d: D7 max_speed: 250 steps/s sleep_when_done: true acceleration: inf deceleration: inf i2c: cover: - platform: template name: "Zhaliuzi 1" id: window1 device_class: blind open_action: - stepper.report_position: id: my_stepper position: 0 - stepper.set_target: id: my_stepper target: -1550 close_action: - stepper.report_position: id: my_stepper position: 0 - stepper.set_target: id: my_stepper target: 1550 stop_action: - stepper.set_target: id: my_stepper target: !lambda return id(my_stepper).current_position; optimistic: true assumed_state: true sensor: - platform: bh1750 name: "Osveshchennost u okna" address: 0x23 update_interval: 40s # General device data - platform: uptime id: uptime_sec - platform: wifi_signal name: ${upper_devicename} WiFi Signal id: wifis_signal update_interval: 900s text_sensor: - platform: template name: ${upper_devicename} Uptime lambda: |- int seconds = (id(uptime_sec).state); int days = seconds / (24 * 3600); seconds = seconds % (24 * 3600); int hours = seconds / 3600; seconds = seconds % 3600; int minutes = seconds / 60; seconds = seconds % 60; return { (String(days) +"d " + String(hours) +"h " + String(minutes) +"m "+ String(seconds) +"s").c_str() }; icon: mdi:clock-start update_interval: 113s - platform: template name: ${upper_devicename} Wifi Strength icon: "mdi:wifi" lambda: |- if (id(wifis_signal).state &gt; -50 ) { return {"Excellent"}; } else if (id(wifis_signal).state &gt; -60) { return {"Good"}; } else if (id(wifis_signal).state &gt; -70) { return {"Fair"}; } else if (id(wifis_signal).state &lt; -70) { return {"Weak"}; } else { return {"None"}; } update_interval: 900s - platform: version name: ${upper_devicename} Version - platform: template name: ${upper_devicename} MAC Address lambda: 'return {WiFi.macAddress().c_str()};' icon: mdi:fingerprint update_interval: 1d switch: - platform: restart name: ${upper_devicename} Restart</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">window_2.yaml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">substitutions: devicename: window_2 upper_devicename: Window 2 esphome: name: $devicename platform: ESP8266 board: d1_mini wifi: ssid: "xxx" password: "xxx" # Enable fallback hotspot (captive portal) in case wifi connection fails ap: ssid: "Window 2 Fallback Hotspot" password: "xxx" captive_portal: # web_server: # port: 80 # css_url: http://192.168.15.10:8123/local/webserver-v1.min.css # js_url: http://192.168.15.10:8123/local/webserver-v1.min.js # Enable Home Assistant API api: services: - service: control_stepper variables: target: int then: - stepper.set_target: id: my_stepper target: !lambda 'return target;' # Enable OTA Access ota: # Enable verbose logging over serial logger: # physical connection stepper: - platform: uln2003 id: my_stepper pin_a: D0 pin_b: D5 pin_c: D6 pin_d: D7 max_speed: 250 steps/s sleep_when_done: true acceleration: inf deceleration: inf cover: - platform: template name: "Zhaliuzi 2" id: window2 device_class: blind open_action: - stepper.report_position: id: my_stepper position: 0 - stepper.set_target: id: my_stepper target: -1800 close_action: - stepper.report_position: id: my_stepper position: 0 - stepper.set_target: id: my_stepper target: 1800 stop_action: - stepper.set_target: id: my_stepper target: !lambda return id(my_stepper).current_position; optimistic: true assumed_state: true # General device data sensor: - platform: uptime id: uptime_sec - platform: wifi_signal name: ${upper_devicename} WiFi Signal id: wifis_signal update_interval: 900s text_sensor: - platform: template name: ${upper_devicename} Uptime lambda: |- int seconds = (id(uptime_sec).state); int days = seconds / (24 * 3600); seconds = seconds % (24 * 3600); int hours = seconds / 3600; seconds = seconds % 3600; int minutes = seconds / 60; seconds = seconds % 60; return { (String(days) +"d " + String(hours) +"h " + String(minutes) +"m "+ String(seconds) +"s").c_str() }; icon: mdi:clock-start update_interval: 113s - platform: template name: ${upper_devicename} Wifi Strength icon: "mdi:wifi" lambda: |- if (id(wifis_signal).state &gt; -50 ) { return {"Excellent"}; } else if (id(wifis_signal).state &gt; -60) { return {"Good"}; } else if (id(wifis_signal).state &gt; -70) { return {"Fair"}; } else if (id(wifis_signal).state &lt; -70) { return {"Weak"}; } else { return {"None"}; } update_interval: 900s - platform: version name: ${upper_devicename} Version - platform: template name: ${upper_devicename} MAC Address lambda: 'return {WiFi.macAddress().c_str()};' icon: mdi:fingerprint update_interval: 1d switch: - platform: restart name: ${upper_devicename} Restart</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">window_3.yaml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">substitutions: devicename: window_3 upper_devicename: Window 3 esphome: name: $devicename platform: ESP8266 board: d1_mini wifi: ssid: "xxx" password: "xxx" # Enable fallback hotspot (captive portal) in case wifi connection fails ap: ssid: "Window 3 Fallback Hotspot" password: "xxx" captive_portal: # web_server: # port: 80 # css_url: http://192.168.15.10:8123/local/webserver-v1.min.css # js_url: http://192.168.15.10:8123/local/webserver-v1.min.js # Enable Home Assistant API api: services: - service: control_stepper variables: target: int then: - stepper.set_target: id: my_stepper target: !lambda 'return target;' # Enable OTA Access ota: # Enable verbose logging over serial logger: # physical connection stepper: - platform: uln2003 id: my_stepper pin_a: D0 pin_b: D5 pin_c: D6 pin_d: D7 max_speed: 250 steps/s sleep_when_done: true acceleration: inf deceleration: inf cover: - platform: template name: "Zhaliuzi 3" id: window3 device_class: blind open_action: - stepper.report_position: id: my_stepper position: 0 - stepper.set_target: id: my_stepper target: -1600 close_action: - stepper.report_position: id: my_stepper position: 0 - stepper.set_target: id: my_stepper target: 1600 stop_action: - stepper.set_target: id: my_stepper target: !lambda return id(my_stepper).current_position; optimistic: true assumed_state: true # General device data sensor: - platform: uptime id: uptime_sec - platform: wifi_signal name: ${upper_devicename} WiFi Signal id: wifis_signal update_interval: 900s text_sensor: - platform: template name: ${upper_devicename} Uptime lambda: |- int seconds = (id(uptime_sec).state); int days = seconds / (24 * 3600); seconds = seconds % (24 * 3600); int hours = seconds / 3600; seconds = seconds % 3600; int minutes = seconds / 60; seconds = seconds % 60; return { (String(days) +"d " + String(hours) +"h " + String(minutes) +"m "+ String(seconds) +"s").c_str() }; icon: mdi:clock-start update_interval: 113s - platform: template name: ${upper_devicename} Wifi Strength icon: "mdi:wifi" lambda: |- if (id(wifis_signal).state &gt; -50 ) { return {"Excellent"}; } else if (id(wifis_signal).state &gt; -60) { return {"Good"}; } else if (id(wifis_signal).state &gt; -70) { return {"Fair"}; } else if (id(wifis_signal).state &lt; -70) { return {"Weak"}; } else { return {"None"}; } update_interval: 900s - platform: version name: ${upper_devicename} Version - platform: template name: ${upper_devicename} MAC Address lambda: 'return {WiFi.macAddress().c_str()};' icon: mdi:fingerprint update_interval: 1d switch: - platform: restart name: ${upper_devicename} Restart</code> </pre> </div></div><br><h2 id="3-ustanovka-privoda-v-zhalyuzi">  3.å°†é©±åŠ¨å™¨å®‰è£…åœ¨ç™¾å¶çª—ä¸­ </h2><br><p> æ­¥è¿›ç”µæœºæ— æ³•å®Œå…¨å®‰è£…åˆ°ç™¾å¶çª—ä¸­ï¼Œä½†æ˜¯ç”±äºåœ¨æˆ‘çš„æƒ…å†µä¸‹ï¼Œæ­¥è¿›ç”µæœºæ²¡æœ‰è¢«å‹åœ¨å¢™ä¸Šï¼Œå› æ­¤å¯ä»¥å°†éƒ¨åˆ†ç”µæœºä»ç™¾å¶çª—çš„èƒŒé¢ç§»å…¥æ’æ§½ã€‚ </p><br><p><img src="https://habrastorage.org/webt/t2/27/tq/t227tqf5ntrwkhhifzlyamah7ag.jpeg"><br> ç”µåŠ¨ç™¾å¶çª—ä»Leroy Merlin </p><br><h2 id="4-ustanovka-konstrukcii-na-okne">  4.åœ¨çª—æˆ·ä¸Šå®‰è£…ç»“æ„ </h2><br><p> ç”±äºå»ºç­‘å•†å·²ç»å®‰è£…äº†ç™¾å¶çª—ï¼Œæ‰€ä»¥æˆ‘åªèƒ½åœ¨çª—æˆ·æ—è¾¹å®‰è£…ä¸€ä¸ªè£…æœ‰å¾®æ§åˆ¶å™¨å’Œ<a href="https://www.aliexpress.com/item/32898716031.html" rel="nofollow">ç”µæº</a>çš„ç›’å­ã€‚ è¯¥ç”µæºä¸æ˜¯æœ€å¼ºå¤§çš„ç”µæºï¼Œå› ä¸ºæ­¥è¿›ç”µæœºæ˜¯ä¸²è”æ‰“å¼€çš„-é¦–å…ˆæ˜¯ç¬¬ä¸€ï¼Œç„¶åæ˜¯ç¬¬äºŒï¼Œç„¶åæ˜¯ç¬¬ä¸‰ã€‚ æ€»è¿è¡Œæ—¶é—´çº¦ä¸º20ç§’ã€‚ </p><br><p><img src="https://habrastorage.org/webt/ms/xe/qp/msxeqptaj8gcvse0bi-ufl-q1-m.jpeg"><br> å¸¦æœ‰ä¸‰ä¸ªESP8266çš„ç›’å­å’ŒåŠå…¬å®¤å¢™ä¸Šçš„ç”µæº </p><br><h2 id="5-pravila-dlya-avtomatizacii-zakrytiya-zhalyuzi-iz-home-assistant">  5.å®¶åº­åŠ©ç†è‡ªåŠ¨å…³é—­ç™¾å¶çª—çš„è§„åˆ™ </h2><br><p> å½“è¶…è¿‡æŸä¸ªé˜ˆå€¼æ—¶ï¼Œç™¾å¶çª—æ—‹è½¬90åº¦ï¼Œç„¶åç›¸åº”åœ°å‘åæ—‹è½¬ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">automations.yaml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">- alias: Covers OPEN trigger: - platform: numeric_state entity_id: sensor.osveshchennost_u_okna above: 0 below: 2500 condition: - condition: state entity_id: cover.zhaliuzi_3 state: 'closed' - condition: state entity_id: cover.zhaliuzi_2 state: 'closed' - condition: state entity_id: cover.zhaliuzi_1 state: 'closed' action: - service: cover.open_cover data: entity_id: cover.zhaliuzi_3 - delay: '00:00:06' - service: cover.open_cover data: entity_id: cover.zhaliuzi_2 - delay: '00:00:06' - service: cover.open_cover data: entity_id: cover.zhaliuzi_1 - alias: Covers CLOSE trigger: - platform: numeric_state entity_id: sensor.osveshchennost_u_okna above: 2501 below: 50000 condition: - condition: state entity_id: cover.zhaliuzi_3 state: 'open' - condition: state entity_id: cover.zhaliuzi_2 state: 'open' - condition: state entity_id: cover.zhaliuzi_1 state: 'open' action: - service: cover.close_cover data: entity_id: cover.zhaliuzi_3 - delay: '00:00:06' - service: cover.close_cover data: entity_id: cover.zhaliuzi_2 - delay: '00:00:06' - service: cover.close_cover data: entity_id: cover.zhaliuzi_1</code> </pre> </div></div><br><h2 id="itog"> æ€»ç»“ </h2><br><p> è¿™æ˜¯ä¸€ä¸ªç”¨äºç™¾å¶çª—è‡ªåŠ¨åŒ–çš„é¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä»…è€—æ—¶ï¼Œä½†ç»„ä»¶æœ¬èº«å¹¶ä¸æ˜‚è´µã€‚ è¯¥é¡¹ç›®å…·æœ‰ä¸€å®šçš„ä¼˜åŠ¿ã€‚ æœ€é‡è¦çš„ä¼˜åŠ¿ï¼šä¾¿å®œã€‚ <br> ä½†æ˜¯ä¹Ÿæœ‰ç¼ºç‚¹-ESP8266æ°¸è¿œä¸çŸ¥é“ç™¾å¶çª—çš„å½“å‰ä½ç½®ã€‚ æœ‰æ—¶ï¼Œä¾‹å¦‚å½“è½´æ»šåŠ¨æ—¶ï¼Œæ‚¨å¿…é¡»é€šè¿‡æŒ‰Home Assistantç•Œé¢ä¸­çš„æŒ‰é’®å°†å…¶æ‰‹åŠ¨è°ƒæ•´åˆ°å…¶åˆå§‹ä½ç½®ã€‚ </p><br><blockquote>  PSå®Œæˆå·¥ä½œåï¼Œä»–ä»¬å‘Šè¯‰æˆ‘ï¼Œæœ‰ç‰¹æ®Šçš„è¿æ¥å¥—ï¼Œå¯ä»¥ä½¿æ‚¨ç‰¢å›ºåœ°è¿æ¥ç”µåŠ¨æœºè½´å’Œç™¾å¶çª—è½´ã€‚ è¿™æ ·å¯ä»¥é¿å…ç”±äºè¿æ¥ç®¡ç´§å›ºä¸å……åˆ†è€Œåœ¨å½“å‰æƒ…å†µä¸‹å‘ç”Ÿæ¶¡æ—‹ã€‚ </blockquote><p> å¯ä»¥åœ¨<a href="https://github.com/empenoso/diy-cheap-automated-blinds" rel="nofollow">GitHubä¸Š</a>æ‰¾åˆ°æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚ </p><br><p> å‘è¡¨è€…ï¼š <a href="https://www.facebook.com/mikhail.shardin" rel="nofollow">Mikhail Shardin</a> ï¼Œ <br>  2019å¹´12æœˆ17æ—¥ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN480690/">https://habr.com/ru/post/zh-CN480690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN480680/index.html">NGINXé˜²å¾¡ç­–ç•¥å’Œå¯¹Igor Sysoevçš„è¯·æ±‚</a></li>
<li><a href="../zh-CN480682/index.html">è‹±ç‰¹å°”å®æ„ŸLiDAR L515-å¦ä¸€ä¸ªæ–°çš„å®æ„Ÿ</a></li>
<li><a href="../zh-CN480684/index.html">DIY StarWarsé›ªèŠ±ï¼ˆæ›´æ–°äº2019ï¼‰</a></li>
<li><a href="../zh-CN480686/index.html">ä¸ºä»€ä¹ˆæˆ‘æ‹’ç»ç§»åŠ¨å¼€å‘ä¸­çš„è·¨å¹³å°è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="../zh-CN480688/index.html">Mojibakesæ¥è‡ªå“ªé‡Œï¼Ÿ ç¼–ç è¦ç‚¹</a></li>
<li><a href="../zh-CN480692/index.html">MobXæˆ–Reduxï¼šå“ªä¸ªæ›´é€‚åˆReactçŠ¶æ€ç®¡ç†ï¼Ÿ</a></li>
<li><a href="../zh-CN480694/index.html">æˆ‘ä»¬å¯ä»¥åœæ­¢è°ƒç”¨UXçš„å¯è®¿é—®æ€§å’Œå¯ç”¨æ€§å—ï¼Ÿ</a></li>
<li><a href="../zh-CN480700/index.html">æˆ‘ä»¬åœ¨Chromeä¸­ä½¿ç”¨console.logï¼ˆï¼‰</a></li>
<li><a href="../zh-CN480702/index.html">äººåŠ›èµ„æºå’Œäººæ‰ï¼Œä¸“å®¶å’Œåˆ›é€ åŠ›ï¼šç¬¬å…«å±Šå“ˆå‹ƒæ‹‰æ’’ç±³çº³å°”ä¼šè®®è¿‡å¾—å¦‚ä½•</a></li>
<li><a href="../zh-CN480704/index.html">åœ¨ç½‘ç«™ä¸Šè¿›è¡Œå“åº”å¼å†…å®¹åŠ è½½</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>