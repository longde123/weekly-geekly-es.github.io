<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè≠ üîû ü§ûüèª Generaci√≥n de entornos basados ‚Äã‚Äãen sonido y m√∫sica en Unity3D üòó üë®üèª‚Äçüåæ üçñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anotaci√≥n 


 Hola a todos Este art√≠culo es el primero de una serie sobre el tema de generar contenido basado en m√∫sica y sonido. De hecho, dicha gene...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Generaci√≥n de entornos basados ‚Äã‚Äãen sonido y m√∫sica en Unity3D</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digital-ecosystems/blog/429872/"><h2 id="annotaciya">  Anotaci√≥n </h2><br><p>  Hola a todos  Este art√≠culo es el primero de una serie sobre el tema de generar contenido basado en m√∫sica y sonido.  De hecho, dicha generaci√≥n es una tarea t√©cnica bastante complicada, por lo tanto, este material ser√° introductorio, m√°s centrado en el dise√±o del juego y una comprensi√≥n general del tema, despu√©s de lo cual nos sumergiremos en los aspectos t√©cnicos de este tema. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gn/qs/ck/gnqscktbympej56xg1dr8gepcjm.jpeg" width="700"></div><br><p>  En este art√≠culo consideraremos un g√©nero espec√≠fico de juegos en el que se genera contenido basado en sonido y m√∫sica.  La teor√≠a general del sonido no se dar√° aqu√≠, pero en el material puede encontrar enlaces a fuentes de informaci√≥n y una breve descripci√≥n de los t√©rminos que utilizaremos.  El material, aunque contiene informaci√≥n t√©cnica sobre teor√≠a y programaci√≥n de sonido, est√° dise√±ado para un p√∫blico novato.  Las ilustraciones se hacen solas y, dado que no soy artista, no las tome en serio, solo se necesitan para comprender mejor el material.  Que tengas una buena lectura! </p><a name="habracut"></a><br><h2 id="vvedenie">  Introduccion </h2><br><p> La generaci√≥n de procedimientos basada en m√∫sica en videojuegos es un tema que, para m√≠ personalmente, siempre ha estado envuelto en un cierto toque de misticismo.  Hay algo incre√≠ble en c√≥mo las formas de sonido no solo se visualizan, sino que tambi√©n afectan directamente el juego.  Todo parece peculiar, pero muy divertido.  Es por eso que estos juegos tienen su propia audiencia peque√±a pero estable.  Steam agreg√≥ etiquetas separadas para estos juegos: "Generaci√≥n basada en la m√∫sica" y "Juego de ritmo".  Por el momento, estas etiquetas se pueden encontrar en unos 200 proyectos, aunque hay muchos m√°s juegos que utilizan esta mec√°nica. </p><br><p>  De hecho, la generaci√≥n basada en el sonido brinda un alcance ilimitado para el desarrollo del juego, pero hasta ahora tales ideas siguen siendo el destino de los proyectos independientes, mientras que en los juegos AAA (con la excepci√≥n de Guitar Hero) dichos experimentos no son aplicables debido a su inestabilidad e inusual juego . </p><br><h2 id="primery-horoshih-proektov">  Ejemplos de buenos proyectos. </h2><br><p>  Antes de pasar a la esencia misma de la generaci√≥n basada en sonido (que no debe confundirse con la generaci√≥n de sonido), me gustar√≠a dar ejemplos de juegos exitosos que utilizan mecanismos similares.  Si a√∫n no los has jugado, ¬°pru√©balo!  Probablemente nunca hayas visto esto antes.  Muchos de estos proyectos han recibido premios de jugadores y la prensa. </p><br><p>  Estrictamente hablando, la generaci√≥n pura se usa solo en Audiosurf.  El resto de los juegos utilizo uno u otro de sus elementos.  Algunos juegos est√°n m√°s enfocados en bits de seguimiento, algunos en el volumen de la pista, etc. </p><br><p>  Tales proyectos son muy dif√≠ciles de evaluar mediante una captura de pantalla o una descripci√≥n, por lo que si no tiene tiempo para jugar, solo mire el video en YouTube. </p><br><h3 id="audiosurf">  Audiosurf </h3><br><p><img src="https://habrastorage.org/webt/nh/dp/or/nhdporzttdbt587cybzmwcadnba.jpeg"><br>  Para muchos jugadores, Audiosurf fue el primer juego en utilizar la generaci√≥n de contenido basado en m√∫sica.  El proyecto fue creado por un desarrollador independiente de Invisible Handlebar, la compa√±√≠a de Dylan Fiterer.  Cuando apareci√≥ Audiosurf en Steam, este mercado apenas comenzaba a desarrollarse y la monstruosa tasa de crecimiento actual todav√≠a estaba muy lejos.  Audiosurf se ve√≠a muy fresco y no habitual, adem√°s, ¬°fue el primer juego en Steam (a excepci√≥n de los juegos de Valve), que conten√≠a logros! </p><br><p>  El eslogan de Audiosurf - "Ride your music" - refleja con mucha precisi√≥n el juego: sobre la base de su pista de m√∫sica, se crea la pista que necesita conducir.  El juego tiene en cuenta la velocidad de la pista, los cambios din√°micos (aumento y disminuci√≥n del volumen) y el bit.  En √©l puedes usar diferentes g√©neros de m√∫sica y combinarlos con diferentes modos de juego.  Adem√°s, cada pista tiene su propia tabla de registros, y puede sorprenderte descubrir que diez personas m√°s escuchan tu "Death metal subterr√°neo" favorito. </p><br><p><img src="https://habrastorage.org/webt/jp/na/gw/jpnagwx7mg8oqxu13pc7vxxwrli.jpeg"><br>  <em>Desafortunadamente, en est√°tica, Audiosurf no se percibe.</em>  <em>Necesito jugar</em> </p><br><p>  Hablando de jugabilidad, Audiosurf es genial.  Por ejemplo, si la pista comienza con una introducci√≥n tranquila, su bote se arrastra lentamente cuesta arriba, pero cuando la textura musical se vuelve m√°s saturada y con cuerpo, la velocidad aumenta y usted se precipita en todo momento.  El llamado Drop se siente especialmente bien, durante el cual el sonido "se interrumpe" en medio del desarrollo, y luego regresa en el momento del cl√≠max.  Un kit de bater√≠a diverso puede convertir su pista en un camino monta√±oso, as√≠ como afectar especiales.  efectos  Adem√°s, los bloques que debe recopilar al pasar la traza generada tambi√©n se colocan debajo del bit. </p><br><p>  Han pasado 10 a√±os desde el lanzamiento del juego, pero sigue siendo muy popular entre los jugadores.  Por el momento, se lanzaron dos partes del juego, y el desarrollador Dylan Fitterer continu√≥ desarrollando sus ideas y cre√≥ Audioshield, donde evitas bloques de realidad virtual volando hacia ti en un abrir y cerrar de ojos. </p><br><p>  Recomendamos tocar en pistas como: </p><br><ul><li>  Sistema de Down - Chop Suey! </li><li>  Martin Garrix - Animales </li><li>  Skrillex - Bangarang </li></ul><br><p>  ¬°Comparte tus pistas favoritas para Audiosurf en los comentarios! </p><br><p>  El juego se puede comprar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Steam</a> . </p><br><h3 id="beat-hazard">  Batir peligro </h3><br><p>  En este proyecto, los creadores tomaron la mec√°nica est√°ndar de Shoot'em y agregaron an√°lisis de sus pistas de m√∫sica all√≠.  Result√≥ muy bueno.  La m√∫sica afecta todo: el poder de tu nave, el n√∫mero de oponentes, la velocidad general del juego.  Lo mejor de todo es que el juego se puede sentir con m√∫sica, donde hay transiciones bruscas del silencio al sonido potente, luego la pantalla explota por los efectos y la nave comienza a dispararse con enormes rayos. </p><br><p>  El juego tiene una mec√°nica bastante rica, varios modos y grandes jefes.  En general, ¬°todo lo que necesitas para divertirte! </p><br><p><img src="https://habrastorage.org/webt/df/rb/9u/dfrb9uy1jhzy5bapkf5fpfar0vy.jpeg"></p><br><p>  Recomendamos tocar en pistas como: </p><br><ul><li>  El prodigio: ¬°los invasores deben morir! </li><li>  Hongo infectado - La leyenda del Shawarma negro </li><li>  Daft Punk - Contacto </li></ul><br><p>  ¬°Escribe en los comentarios qu√© pistas te gustan m√°s para destruir las naves enemigas! </p><br><p>  El juego se puede comprar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Steam</a> . </p><br><h3 id="soundodger">  Soundodger + </h3><br><p>  El juego es una especie de mezcla de Beat Hazzard y el popular Super Hexagon.  La esencia del juego es que necesitas esquivar objetos cuya actividad depende de tu pista de m√∫sica.  El proceso es muy complicado y, por lo tanto, s√∫per emocionante. </p><br><p><img src="https://habrastorage.org/webt/io/od/q0/ioodq0vk5pbmfujecgekpklm_90.jpeg"></p><br><p>  El juego se puede comprar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Steam</a> . </p><br><h3 id="crypt-of-the-necrodancer">  Cripta del necrodancer </h3><br><p>  Un juego que transfiere incre√≠blemente el ritmo y te hace bailar con un gamepad.  Crypt of the NecroDancer es un proyecto Roguelike en el que tanto usted como los monstruos deben moverse estrictamente a la m√∫sica.  Si no entras en ritmo, el juego te multar√° cuando te muevas.  Toda la ubicaci√≥n al mismo tiempo late al ritmo, lo que crea una atm√≥sfera irreal.  La banda sonora fue escrita por el famoso Danny Baranowsky (Super Meat Boy, The Binding of Isaac).  Por cierto, ¬°el juego admite esteras de baile! </p><br><p><img src="https://habrastorage.org/webt/g0/tq/p3/g0tqp3ufnugpsybbeu-ku6_vk18.jpeg"></p><br><p>  El juego se puede comprar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Steam</a> . </p><br><h3 id="geometry-dash">  Tablero de geometr√≠a </h3><br><p>  Es un corredor muy duro en el que conf√≠as no solo en tu reacci√≥n, sino tambi√©n en el sentido del ritmo, ya que todos los obst√°culos est√°n claramente superados, y al final de la pista (si alcanzas) ya te est√°s moviendo en un nivel intuitivo.  Estrictamente hablando, no existe una generaci√≥n como tal, pero los desarrolladores utilizaron el an√°lisis de pistas de m√∫sica para construir mejor el nivel. </p><br><p><img src="https://habrastorage.org/webt/1z/bp/sy/1zbpsynlhfdxks9z_es3qifiwp8.png"><br>  <em>Como casi todos los juegos de este g√©nero, Geometry Dash se ve muy brillante</em> </p><br><p>  El juego se puede comprar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Steam</a> . </p><br><h3 id="beatbuddy-tale-of-the-guardians">  Beatbuddy: cuento de los guardianes </h3><br><p>  Un magn√≠fico juego de plataformas musical, cuya acci√≥n tiene lugar en el mundo submarino, que vive bajo un brillante ritmo de electro swing.  Cada criatura en este juego genera su propio sonido.  Krabik toca un ritmo r√°pido, las an√©monas son responsables del barril ... Al mismo tiempo, el personaje principal puede influir en los habitantes del mundo y cambiar la m√∫sica y el juego en s√≠.  Para el juego, se utilizaron las pistas de m√∫sicos como Parov Stelar, Austin Wintory, Sabrepulse y La Rochelle Band. </p><br><p><img src="https://habrastorage.org/webt/do/km/yh/dokmyh3teztg93lai0ca422zesq.jpeg"></p><br><p>  El juego se puede comprar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Steam</a> . </p><br><p>  Despu√©s de que nos inspiramos en excelentes proyectos, podemos proceder al estudio de la pregunta "¬øc√≥mo funciona todo?" </p><br><h2 id="osnovnye-parametry-zvuka">  Opciones de sonido b√°sicas </h2><br><h3 id="parametry-analogovogo-zvuka">  Opciones de audio anal√≥gico </h3><br><p>  Como el tema elegido no es demasiado simple y contiene muchos aspectos t√©cnicos, decid√≠ no inflar el art√≠culo con teor√≠a, sino definir conceptos b√°sicos.  Si quieres estudiar la teor√≠a del sonido m√°s de cerca, entonces en Habr hab√≠a muchos art√≠culos sobre este tema.  Al final del art√≠culo encontrar√° muchos enlaces √∫tiles. </p><br><p>  Los par√°metros b√°sicos de sonido incluiremos los siguientes: </p><br><ul><li>  Onda de sonido frecuencia o tono, Hz </li><li>  Amplitud de onda de sonido o volumen de sonido, dB </li><li>  El coeficiente de atenuaci√≥n es la tasa de disminuci√≥n de la amplitud con el tiempo. </li><li>  Forma de onda: una vista general de una onda de sonido.  Con este par√°metro, puede dividir los sonidos en grupos (agudos, suaves, ruidos, etc.) </li></ul><br><p>  Para mayor claridad, cit√© las caracter√≠sticas principales de la onda de sonido en los siguientes gr√°ficos (las unidades no est√°n configuradas, pido disculpas): </p><br><p><img src="https://habrastorage.org/webt/4w/jw/5k/4wjw5kztenllvl9kji6hzxos5um.png"><br>  <em>Sonido fuerte con gran amplitud.</em> </p><br><p><img src="https://habrastorage.org/webt/bu/-5/lp/bu-5lp0ns5jj5_vhdkpe0mlsvni.png"><br>  <em>Sonido silencioso con menos amplitud.</em> </p><br><p><img src="https://habrastorage.org/webt/28/p2/zr/28p2zrfybsakqdpkj80zswskbjy.png"><br>  <em>Alta frecuencia, alta frecuencia</em> </p><br><p><img src="https://habrastorage.org/webt/9e/eb/xy/9eebxygle4253bci6_wh8p_lj_i.png"><br>  <em>Sonido bajo con menos frecuencia.</em> </p><br><p><img src="https://habrastorage.org/webt/y_/wr/gt/y_wrgtlts7ut9betdlwosmnu_km.png"><br>  <em>Sonido fuerte y alto (¬°cuida tus o√≠dos!)</em> </p><br><p>  En general, estos datos son suficientes para comprender lo que es el sonido y seguir adelante.  Pero si est√° interesado en este tema, entonces, por supuesto, debe estudiarlo m√°s profundamente. </p><br><h3 id="parametry-cifrovogo-zvuka">  Opciones de audio digital </h3><br><p>  Al escribir juegos y otros programas, trabajaremos con la forma digital de sonido.  El sonido digital se obtiene mediante muestreo (dividiendo en peque√±os puntos en el tiempo), cuantizaci√≥n (redondeando a un cierto nivel) y codificaci√≥n (en realidad, convirtiendo el sonido en ceros y unos).  Puede encontrar mucha informaci√≥n sobre este tema en el art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Teor√≠a del sonido.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lo que necesita saber sobre el sonido para trabajar con √©l.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Experimente Yandex.Music</a> , que realmente me gust√≥.  All√≠ encontrar√° informaci√≥n sobre la medici√≥n de volumen y una descripci√≥n de los filtros que mencionar√©. </p><br><p>  Lo principal que debemos saber sobre la se√±al digital es: </p><br><ol><li><p>  Frecuencia de muestreo: caracteriza la precisi√≥n con la que se digitalizar√° su sonido.  Por ejemplo, cuando decimos que la frecuencia de muestreo es 44.1 kHz, esto significa que la se√±al se mide 44.100 veces en un segundo.  Hoy, las frecuencias de muestreo m√°s comunes son 44.1 kHz y 48 kHz. </p><br></li><li><p>  Profundidad de bits de una se√±al digital: caracteriza c√≥mo el amplio rango din√°mico "encaja" en su digital.  Se mide en bits y suele ser de 16, 24 y 32 bits.  El rango din√°mico es la diferencia entre el sonido m√°s alto y el m√°s bajo, expresado en decibelios.  Por ejemplo, para una se√±al de 8 bits es 48 dB, para una se√±al de 16 bits es 96 dB, para una se√±al de 24 bits es 144 dB, y para una se√±al de 32 bits es 192 dB. </p><br></li><li><p>  Bitrate es lo que todos los usuarios de Internet miraron en 2002 cuando descargaron m√∫sica.  La tasa de bits es el n√∫mero de bits utilizados para transmitir o procesar datos por unidad de tiempo.  En los formatos de transmisi√≥n de video y audio (por ejemplo, MPEG y MP3) que usan compresi√≥n con p√©rdida de calidad, el par√°metro "tasa de bits" expresa el grado de compresi√≥n de la transmisi√≥n. </p><br></li></ol><br><h2 id="metadannye-v-muzykalnyh-faylah">  Metadatos en archivos de m√∫sica </h2><br><p>  Adem√°s de los par√°metros de sonido en s√≠, podemos usar informaci√≥n que est√° oculta en los archivos de sonido.  Esta informaci√≥n generalmente se denomina Etiquetas y cada formato de archivo tiene su propio formato de etiqueta.  Hablaremos de los archivos mp3 como los m√°s comunes. </p><br><p>  Las etiquetas son m√°s f√°ciles de leer usando una biblioteca preparada, por ejemplo usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TagLib</a> . </p><br><p>  El formato mp3 contiene metadatos en su estructura ID3, en la cual podemos almacenar mucha informaci√≥n.  Hay varias opciones para el formato ID3, pero hablaremos de ID3 v2.3, en el que puede almacenar la mayor cantidad de datos.  De la informaci√≥n √∫til, debe prestar atenci√≥n a: <strong>nombre, a√±o de grabaci√≥n, g√©nero, BPM (n√∫mero de latidos por minuto), duraci√≥n de la pista</strong> .  ¬øC√≥mo pueden ayudarnos estos campos al generar contenido?  Si todo est√° claro con BPM, se usa durante la generaci√≥n todo el tiempo y hablaremos de ello por separado, entonces, ¬øpor qu√© necesitamos otros campos?  Aqu√≠ necesitas mostrar imaginaci√≥n. </p><br><p>  Por ejemplo, leemos el g√©nero y el a√±o.  Para empezar, necesitamos procesar un poco esta informaci√≥n.  Para simplificar, consideraremos solo el ingl√©s.  Las etiquetas de Mp3 (y otras etiquetas) a menudo se completan manualmente, a partir de aqu√≠ se siguen diferentes deletreos de g√©neros, diferentes puntuaciones, etc.  Es mejor llevar la etiqueta resultante a un formato √∫nico para que sea m√°s f√°cil compararla con otras.  Es recomendable eliminar todos los signos de puntuaci√≥n, espacios y convertir la cadena a min√∫sculas.  Esto se puede hacer usando expresiones regulares. </p><br><p>  Despu√©s de tales manipulaciones, ser√° mucho m√°s f√°cil comparar los g√©neros de las canciones.  A continuaci√≥n, deber√° crear una base de g√©neros, basada en alguna fuente, y revisarla para compilar su base de datos de etiquetas.  Aqu√≠ hay un ejemplo de una lista de todos los g√©neros: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">musicgenreslist.com</a> .  Naturalmente, debe elegir solo el m√°s b√°sico. </p><br><p>  No respond√≠, ¬øpor qu√© tantas dificultades?  Dar√© ejemplos (muy simplificados). <br>  Seg√∫n el g√©nero podemos: </p><br><ul><li>  Cambiar ubicaci√≥n (rock - bosque sombr√≠o, m√∫sica electr√≥nica - espacio, pa√≠s - desierto, pop - ciudad, etc.) </li><li>  Cambiar personaje </li><li>  Cambiar enemigos, etc. </li></ul><br><p><img src="https://habrastorage.org/webt/xf/ri/y7/xfriy7rqpsny7hsrcrbezkncpts.jpeg"><br>  <em>Un ejemplo de un personaje basado en las etiquetas rock, electro, pop.</em> </p><br><p>  ¬°Y luego puedes pensar en cualquier cosa!  A√±o de lanzamiento del √°lbum: 1960-1970?  Viste al personaje con la ropa de este per√≠odo.  Duraci√≥n de la pista 10 minutos?  Deje que su "serpiente generada musicalmente" tenga una cola larga.  Hay muchas oportunidades y siempre existe la posibilidad de sorprender al jugador. </p><br><h2 id="predstavlenie-audiofaylov-v-unity">  Representaci√≥n de archivos de audio en Unity. </h2><br><p><img src="https://habrastorage.org/webt/dn/oa/fh/dnoafhs7ydzopthfrzaowcgvygi.png"><br>  <em>Todo parece ser simple ...</em> </p><br><p>  Unity tiene varios componentes principales para trabajar con sonido: </p><br><ul><li>  El oyente de audio (oyente) se comporta como un micr√≥fono.  Recibe la entrada de cualquier fuente de sonido (fuente de audio) en la escena y reproduce sonidos a trav√©s de los altavoces.  Para la mayor√≠a de las aplicaciones, tiene sentido agregar un oyente a la c√°mara principal: el objeto C√°mara principal. </li><li>  Fuente de audio reproduce el clip de audio en la escena.  Si el Clip de audio es un clip 3D, la fuente se reproduce en una posici√≥n determinada en el espacio y se silenciar√° seg√∫n la distancia. </li><li>  Los clips de audio (clips) contienen datos de audio utilizados en fuentes de audio.  Unity admite recursos de audio mono, est√©reo y multicanal.  Unity puede importar los siguientes tipos de archivos: .aif, .wav, .mp3 y .ogg. </li></ul><br><p><img src="https://habrastorage.org/webt/yo/gn/4u/yogn4ur4qy6vpafvedpkylajw-s.png"></p><br><p>  Si est√° profundamente inmerso en el trabajo con el sonido, deber√° interactuar directamente con los clips de audio.  Un clip de audio contiene una serie de cuadros de sonido (muestras) que puede leer y sobrescribir.  Con esto (y montones de matan) puede determinar los par√°metros de las pistas de sonido y crear efectos de sonido. </p><br><h2 id="muzykalnye-parametry-treka">  Configuraciones de pistas de m√∫sica </h2><br><p>  Entonces, leemos algunos datos iniciales de nuestra pista y obtuvimos los primeros rudimentos de la generaci√≥n.  Ahora puedes pasar a la parte m√°s dif√≠cil.  Necesitamos entender qu√© par√°metros din√°micos de la pista podemos determinar y c√≥mo se pueden usar en el juego.  Parte del material se basa en el blog del estudio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parallelcube</a> .  Los chicos hacen activos y tutoriales para Unreal Engine, por lo que muchas gracias a ellos. </p><br><p>  Se pueden distinguir las siguientes tareas: </p><br><ul><li>  Definir un barril como disparador de efectos especiales. </li><li>  Determinar momentos tranquilos y ruidosos en una pista </li><li>  Usando estos datos para construir un nivel </li><li>  Usando estos datos para crear efectos </li></ul><br><h3 id="opredelenie-bochki-v-treke-i-ispolzovanie-etogo-zvuka-kak-triggera">  Detectar un bombo en una pista y usar este sonido como disparador. </h3><br><p>  Para comenzar a trabajar en la determinaci√≥n de los par√°metros de la pista, debe seleccionar la m√∫sica.  Para facilitar el trabajo, necesita una pista en la que haya un barril obvio y, preferiblemente, transiciones bruscas de volumen.  Eleg√≠ la canci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Perturbator - Future Club</a> , que pod√≠as escuchar en el juego Hotline Miami 2: Wrong Number. </p><br><p>  Aqu√≠ hay un peque√±o an√°lisis de la entrada de esta pista (la pista de audio se ha acortado especialmente) </p><br><p><img src="https://habrastorage.org/webt/lg/5r/8_/lg5r8_jmgic9_dygd7ouaziop1y.png"></p><br><ol><li>  El llamado desvanecimiento o introducci√≥n.  En este momento, la pista aumenta de volumen. </li><li>  Aparece la fuerza de choque principal: el ca√±√≥n.  Los momentos de la aparici√≥n del barril son muy f√°ciles de leer en la representaci√≥n visual de la pista de audio.  Adem√°s, aqu√≠ suena un sintetizador de fondo, y su ruido es visible en la pista.  Si la pista no hubiera sido comprimida, habr√≠a sido a√∫n m√°s clara.  (detalles sobre la compresi√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ) </li><li>  Aparece un sintetizador adicional, que erosiona ligeramente la claridad de la representaci√≥n visual del ca√±√≥n. </li><li>  Una pausa que aparece antes de un momento brillante en la pista (soltar). </li><li>  La parte principal, donde, adem√°s del barril, aparece un sintetizador de bajos, que distorsiona enormemente la representaci√≥n visual de la se√±al, pero el barril a√∫n se puede distinguir. </li></ol><br><p>  Entonces, nuestra tarea principal es determinar en qu√© punto suena nuestro barril.  Esta es una tarea bastante dif√≠cil, para la cual generalmente se usan bibliotecas de audio especiales.  Recuerde, si hay opciones preparadas, y tiene el objetivo de hacer un efecto, y no estudiar el tapete.  parte, tome opciones ya hechas.  Si su juego tiene un presupuesto y $ 25 adicionales, puede comprar un activo especial del desarrollador 3y3net, que se llama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Beat Detection</a> .  Adem√°s, puede considerar una gran opci√≥n del desarrollador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Allan Pichardo</a> .  Si quieres entender c√≥mo funcionan estos algoritmos, entonces, por supuesto, escr√≠belo t√∫ mismo. </p><br><p>  Como vimos en la pista de audio, un ritmo siempre se distingue claramente por el nivel de sonido.  Esta es su esencia.  Los m√∫sicos procesan y comprimen especialmente la pista para que el ritmo no se obstruya con otros sonidos y tenga su lugar en el rango de frecuencia de la pista.  El bit siempre es m√°s fuerte que el nivel de volumen promedio (Promedio).  Si el sonido es m√°s alto que un cierto umbral (Umbral), entonces, solo mirando la pantalla gr√°fica de la onda de sonido, podemos decir con confianza "¬°S√≠, esto es un poco!". </p><br><p><img src="https://habrastorage.org/webt/fk/i_/d8/fki_d86fbvfj_nj-watpcbczg_y.gif"></p><br><p>  Me gustar√≠a presentar una descripci√≥n t√©cnica m√°s detallada y algoritmos espec√≠ficos para determinar un bit en un art√≠culo separado (se publicar√° despu√©s de un tiempo), ya que este tema va mucho m√°s all√° del alcance de este material.  En resumen, en tales algoritmos, el sonido primero pasa a trav√©s de los filtros para que sea m√°s f√°cil de procesar, despu√©s de lo cual se analiza la din√°mica de la energ√≠a del sonido.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay un ejemplo de dicho algoritmo (¬°atenci√≥n, matlab!)</a> . </p><br><p>  Se puede encontrar una descripci√≥n matem√°tica completa de este algoritmo en este art√≠culo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dise√±o e implementaci√≥n de un algoritmo Beat Detector</a> . </p><br><p>  Por lo tanto, imaginemos que pudimos escribir un gui√≥n que determina en tiempo real en qu√© punto patea un barril.  Adem√°s, con la ayuda del algoritmo, tambi√©n podemos determinar el BPM general y comprender d√≥nde "late" el ritmo principal con nosotros.  ¬øQu√© podemos hacer con la informaci√≥n recibida? </p><br><p>  Puedes tomar Beathazard como ejemplo y asegurarte de que por cada latido del ritmo principal nuestro barco dispare con un l√°ser ordinario, y cuando el ca√±√≥n golpee, disparamos con un s√∫per l√°ser.  Se ver√° m√°s o menos as√≠: </p><br><p><img src="https://habrastorage.org/webt/9t/1z/ts/9t1ztsknz1gonebi2lzw7urv3p0.gif"></p><br><p>  Adem√°s, podemos agregar m√°s especiales.  efectos  Y haz que el nivel palpite junto con el bit: </p><br><p><img src="https://habrastorage.org/webt/yh/ga/e6/yhgae6kinv2oyb5aurq_c50ms60.gif"></p><br><p>  El mismo algoritmo que determina el bit en tiempo real, podemos usarlo para calcular BPM (latidos por minuto o el n√∫mero de latidos por minuto).  La informaci√≥n BPM se puede utilizar, por ejemplo, para generar niveles de dificultad y calcular puntos de bonificaci√≥n.  Si la pista es r√°pida (150-180 BMP), el jugador recibe un bono X5, etc. </p><br><h3 id="opredelenie-tihih-i-gromkih-momentov-v-treke">  Determinar momentos tranquilos y ruidosos en una pista </h3><br><p>  Una forma de determinar momentos ruidosos y silenciosos es procesar la pista con un filtro de paso bajo y obtener un promedio m√≥vil para el nivel de volumen.  Despu√©s de eso, podemos guardar este nivel de volumen en un formato conveniente para nosotros, por ejemplo, en una matriz flotante. </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si logras identificar din√°micamente lugares silenciosos y ruidosos en la m√∫sica, puedes controlar de manera muy competente el voltaje y la atm√≥sfera en tu juego. </font><font style="vertical-align: inherit;">Por ejemplo, antes de la batalla con el jefe, suena una melod√≠a alarmante, y cuando aparece el jefe, se vuelve m√°s fuerte. </font><font style="vertical-align: inherit;">Puede usar el algoritmo para determinar el nivel de volumen y amplificar todas las luces que est√°n en el escenario. </font><font style="vertical-align: inherit;">Entonces el jugador comprender√° que el cl√≠max llegar√° pronto.</font></font></p><br><p><img src="https://habrastorage.org/webt/pe/ar/vi/pearviknrx8wgkrkdar9bfmxum4.gif"></p><br><h3 id="sozdanie-urovnya-na-osnove-audiodannyh"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Crear una capa basada en datos de audio. </font></font></h3><br><p>   ,   ,   ,        ,    (     ).      , ,   2D-?          .          : </p><br><p><img src="https://habrastorage.org/webt/i5/fk/vs/i5fkvsoesbwbwf1mbx7ysar2j20.png"></p><br><p>            3D,    2D .  ,  Audiosurf     ,          . </p><br><p><img src="https://habrastorage.org/webt/av/tk/ip/avtkipe2mfxasz1wzqjfnj9hyy0.png"><br> <em>   Elastomania,      ?    !?</em> </p><br><p>                  , ,  ,    -  . </p><br><h2 id="zaklyuchenie">  Conclusi√≥n </h2><br><p>  ,         ,     .     ,       ,         ,    ,            . ,    ,       ,      .    ,      ,           .                 Unity.   ! </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1y/u8/va/1yu8va0zuojgi-b0dos-rrkilw0.jpeg" width="700"></div><br><h2 id="poleznye-ssylki">  Enlaces utiles </h2><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">    </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teor√≠a del sonido. </font><font style="vertical-align: inherit;">Lo que necesita saber sobre el sonido para trabajar con √©l. </font><font style="vertical-align: inherit;">Vive Yandex.Music</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualizaci√≥n de m√∫sica: desde enfoques tradicionales hasta interfaces modernas</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conceptos b√°sicos de la codificaci√≥n de audio con p√©rdida. </font><font style="vertical-align: inherit;">Probar la versi√≥n beta de Opus 1.3</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compresi√≥n de sonido</font></font></a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es429872/">https://habr.com/ru/post/es429872/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es429854/index.html">C√≥mo hacer un romance interracial en el juego y no hacer re√≠r al jugador</a></li>
<li><a href="../es429856/index.html">Migrar de Ubuntu a Windows 10, Hyper-V y deshacerse de un enrutador de hierro</a></li>
<li><a href="../es429858/index.html">Retirar dinero de Upwork. An√°lisis comparativo</a></li>
<li><a href="../es429860/index.html">"Monstruos en juegos o c√≥mo sorprender a un jugador"</a></li>
<li><a href="../es429866/index.html">C√≥mo: t√©rminos de TI en ingl√©s</a></li>
<li><a href="../es429876/index.html">Los investigadores superaron a los bloqueadores de anuncios m√°s potentes, se acerca la guerra de formatos</a></li>
<li><a href="../es429878/index.html">¬øPor qu√© con el crecimiento de la empresa, los desarrolladores que estaban a la vanguardia est√°n "por la borda"</a></li>
<li><a href="../es429880/index.html">Pix4D: de fotos a medidas</a></li>
<li><a href="../es429882/index.html">Control de LED RGB a trav√©s de microcontroladores Cypress UDB PSoC</a></li>
<li><a href="../es429884/index.html">Conferencia PROSTOR 2018: preguntas y respuestas sobre el futuro del almacenamiento</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>