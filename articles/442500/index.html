<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👄 🌯 👩🏼‍🚀 Analizador estático Detekt para Kotlin 🧛🏽 🆔 👏🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¡Es hora de amar los analizadores estáticos! Conoce a Detekt en Kotlin 
 Si ya sabe lo que se discutirá y solo está interesado en implementar el proye...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Analizador estático Detekt para Kotlin</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442500/"><h2>  ¡Es hora de amar los analizadores estáticos!  Conoce a Detekt en Kotlin </h2><br>  Si ya sabe lo que se discutirá y solo está interesado en implementar el proyecto, proceda inmediatamente al punto de instalación. <br><br><h3>  Que es esto </h3><br><img src="https://github.com/arturbosch/detekt/raw/master/docs/images/detekt_in_action.png" alt="imagen"><br><br>  Análisis de software realizado (en oposición al análisis dinámico) sin ejecución real de los programas en estudio.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://">Wikipedia</a> <br><br>  Y en sus propias palabras, es una herramienta conveniente que lo ayuda a cumplir con las reglas del buen código.  Permitiendo una personalización muy flexible de los filtros mediante la definición de código incorrecto.  Que en cada lanzamiento generará un informe determinado, que incluye estadísticas sobre conflictos detectados, información sobre ellos, lo que permite determinar dónde ocurrió el conflicto y su tipo. <br><br>  Los analizadores estáticos facilitan el trabajo del revisor y generalmente ahorran tiempo al equipo de desarrollo. <br><a name="habracut"></a><br>  Supongamos que tenemos un buen PR, sin embargo, el autor dio nombres que son demasiado largos para las variables, escribió un código que se puede simplificar fácilmente o infringió una de las muchas reglas establecidas en el archivo de configuración de Detekt, las reglas no son complicadas, pero la revisión de código no pasará dicho PR. <br>  El autor nuevamente tendrá que cambiar entre proyectos, así como los revisores, estoy seguro de que la revisión repetida traerá poco placer. <br><blockquote>  Automatice si es rápido y no es costoso.  (C) sentido común </blockquote><h3>  ¿Qué son los analizadores estáticos? </h3><br>  <b>Para java:</b> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Find-bugs</a> (en desuso en 2015) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Detectar errores</a> </li></ul><br>  <b>Para Kotlin:</b> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Detekt</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ktlint</a> </li></ul><br>  Respondo la pregunta que surgió en tu cabeza, Spot-bugs en Kotlin no funciona. <br><br><h3>  Introduciendo Detekt en el proyecto </h3><br>  Detect se puede instalar de varias maneras: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Plugin</a> para AndroidStudio </li><li>  Gradle </li></ol><br>  Creo que la configuración a través de Gradle es más flexible y estoy hablando de eso. <br><br>  En el sitio web oficial hay varias formas de instalar Detekt en el proyecto, dependiendo de la versión de Gradle, ya sea un proyecto de Android.  Pero, en mi experiencia de implementar un proyecto de Android, <s>algunas instrucciones no funcionan</s> .  Por el momento, el proyecto está muy cerca de la versión 1.0.  La última versión en el momento de escribir este artículo es la versión candidata 1.0.0-RC14 <br><br>  Entonces <br><br>  Vamos al sitio web oficial de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gradle</a> y vemos las instrucciones de instalación. <br><br><pre><code class="kotlin hljs">buildscript { repositories { maven { url <span class="hljs-string"><span class="hljs-string">"https://plugins.gradle.org/m2/"</span></span> } } dependencies { classpath <span class="hljs-string"><span class="hljs-string">"io.gitlab.arturbosch.detekt:detekt-gradle-plugin:1.0.0-RC14"</span></span> } }</code> </pre> <br>  Es esta decisión la que aconsejo seguir para el proyecto de Android. <br><br>  Probablemente haya notado que eliminé la línea de complemento apply: ya que le aconsejo que separe Detekt en un archivo separado y que aplique ya en él. <br><br><h4>  Etapa 1: </h4><br>  Entonces, copie este código al nivel de aplicación build.gradle. <br><br>  Allí, en el bloque de <b>todos</b> los <b>proyectos,</b> deberíamos escribir una línea para aplicar nuestro archivo que contiene la configuración de detekt. <br><br><pre> <code class="kotlin hljs">allprojects { apply from: <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$rootDir</span></span></span><span class="hljs-string">/detekt.gradle"</span></span> repositories { maven { url <span class="hljs-string"><span class="hljs-string">"https://plugins.gradle.org/m2/"</span></span> } } }</code> </pre><br><h4>  Etapa 2: </h4><br>  Entonces necesita crear el archivo <b>detekt.gradle</b> <br><br><pre> <code class="kotlin hljs">apply plugin: <span class="hljs-string"><span class="hljs-string">"io.gitlab.arturbosch.detekt"</span></span> detekt { toolVersion = <span class="hljs-string"><span class="hljs-string">"1.0.0-RC14"</span></span> <span class="hljs-comment"><span class="hljs-comment">// Version of the Detekt CLI that will be used. When unspecified the latest detekt version found will be used. Override to stay on the same version. input = files("src/main/java") // The directories where detekt looks for input files. Defaults to `files("src/main/java", "src/main/kotlin")`. parallel = true // Builds the AST in parallel. Rules are always executed in parallel. Can lead to speedups in larger projects. `false` by default. filters = ".*build.*,.*/resources/.*,.*/tmp/.*" // Regular expression of paths that should be excluded separated by `;` or `,`. config = files("$rootDir/detekt-config.yml") // Define the detekt configuration(s) you want to use. Defaults to the default detekt configuration. reports { xml { enabled = true // Enable/Disable XML report (default: true) destination = file("build/reports/detekt.xml") // Path where XML report will be stored (default: `build/reports/detekt/detekt.xml`) } html { enabled = true // Enable/Disable HTML report (default: true) destination = file("build/reports/detekt.html") // Path where HTML report will be stored (default: `build/reports/detekt/detekt.html`) } } }</span></span></code> </pre><br><h4>  Etapa 3: </h4><br>  Ahora necesita crear el archivo de configuración <a href="">detekt-config.yml</a> <br><br>  Este es un archivo de configuración estándar del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio oficial</a> . <br><br><h4>  Etapa 4: </h4><br>  Abra una consola y ejecute el comando: <b>gradlew detekt</b> <br><br><h3>  Eso es todo! </h3><br>  Ahora tiene estadísticas listas para su proyecto.  Se muestran en la consola y también puede encontrarlos en la ruta: {u_project} \ app \ build \ reports \ detekt <br><br><h3>  En conclusión </h3><br>  Es muy conveniente usar Detekt al construir en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Jenkins</a> <br>  El tiempo de ejecución de la tarea en un proyecto con más de 2000 clases es de 4-7 segundos *. <br><br>  Quiero decir que usar un analizador estático simplifica un poco nuestro trabajo.  Acelera el proceso de desarrollo y ahorra dinero empresarial. <br><br>  Referencias <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Detekt github</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Configurar detekt</a> <br>  <a href="">default-detekt-config.yml</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/442500/">https://habr.com/ru/post/442500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442486/index.html">ReactOS 0.4.11 - Cien más aplicaciones</a></li>
<li><a href="../442492/index.html">Todos pueden aprender inglés fácilmente</a></li>
<li><a href="../442494/index.html">Componente Figma y organización de instancias usando Userpic como ejemplo</a></li>
<li><a href="../442496/index.html">Cerdo corporativo</a></li>
<li><a href="../442498/index.html">Los 10 mejores informes de la conferencia C ++ Rusia 2018: videos completos, diapositivas, comentarios</a></li>
<li><a href="../442502/index.html">Transformamos el lugar de trabajo en un titular por $ 200</a></li>
<li><a href="../442504/index.html">Proxy PHP Xdebug: cuando las características estándar de Xdebug no son suficientes</a></li>
<li><a href="../442506/index.html">¿Se castiga a Rusia por el comercio ilegal de datos personales?</a></li>
<li><a href="../442508/index.html">Cómo udalenka acelera la innovación en GitLab</a></li>
<li><a href="../442512/index.html">Personalización de Django ORM en el ejemplo de ZomboDB</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>