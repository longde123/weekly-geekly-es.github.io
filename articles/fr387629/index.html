<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚞 🤔 👩🏽‍⚖️ Support à boisson intelligent avec mesure de température sans contact 🙇🏻 🚵🏿 🧑🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Combien de fois ai-je fait du café ou du thé pour moi, mis de côté pour refroidir, vaquer à mes occupations: j'ai étudié, programmé, regardé le Game o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Support à boisson intelligent avec mesure de température sans contact</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/387629/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combien de fois ai-je fait du café ou du thé pour moi, mis de côté pour refroidir, vaquer à mes occupations: j'ai étudié, programmé, regardé le Game of Thrones. Et quand je me suis souvenu, tout était déjà chaud, et il n'y a rien de plus dégoûtant que du thé ou du café chaud. Ce problème devait être résolu d'une manière ou d'une autre, et j'ai donc commencé à créer un support intelligent pour le thé, le café, la bière, la soupe, etc. Basé sur une mesure de température sans contact via TMP006 de TI. L'idée est que le support mesure la température de la tasse et émette un bip dès que ma boisson atteint ma température préférée.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le capteur TMP006 calcule la température d'un objet en mesurant le rayonnement thermique de la surface d'une assiette dans une plage de 8 à 16 µm. Cela vous permet de mesurer la température sans aucun contact. Idéal, car toutes les tasses sont de formes et de tailles différentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les microcontrôleurs SiliconLabs se caractérisent par une faible consommation d'énergie et un coût relativement faible. Étant donné que je souhaite que le support fonctionne sur une seule batterie (CR2032) pendant une période relativement longue, la consommation d'énergie joue ici un grand rôle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En mode veille avec RTC activé, l'EFM32ZG utilise seulement 4 µA. Le TMP006 en mode veille utilise 1 µA. Les composants supplémentaires incluent le convertisseur Boost Up NCP1402 (pour les LED et les tweeters), qui consomme également environ 1µA en mode veille.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, j'ai assemblé un prototype basé sur EFM32 Zero Gecko (ARM M0 +) à partir de modules prêts à l'emploi. En mode veille, lorsque RTC est activé, le système consomme 11 à 12 µA. </font></font><br>
<br>
<img src="https://habrastorage.org/files/8bb/7b6/fe7/8bb7b6fe7675433a941db35e8442a0ed.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En mode veille, le système passe 10 secondes, puis se réveille et vérifie si le bouton d'activation tactile est enfoncé. Si vous appuyez dessus, l'utilisateur est invité à régler la température souhaitée. La température est affichée sur 8 LED en codage binaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après EFM32ZG allume TMP006 et se met en veille. Le capteur a besoin d'une seconde pour prendre une mesure. En mode actif, il consomme 220-240µA. Dès que le résultat est prêt, le microcontrôleur se réveille, lit les valeurs des registres TMP006, effectue des calculs très délicats et obtient enfin la température de surface. Si la température est supérieure à celle souhaitée, l'ensemble du système se met en veille pendant 10 secondes, puis répète la mesure. Si la température souhaitée est atteinte, un signal sonore retentit - votre café a atteint la température idéale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au fait, il y a une fonction supplémentaire: mesurer la température et la garder comme vous le souhaitez pour l'avenir. Le support a une taille de 10x10 cm Il est temps de fabriquer une planche (j'utilise KiCad): </font></font><br>
<br>
<img src="https://habrastorage.org/files/11c/9b9/5ec/11c9b95ec6f84926b30e0636af89798d.png" alt="image"><br>
<br>
<img src="https://habrastorage.org/files/a0f/ec5/c42/a0fec5c4224640d7ad7bb7a90ee297bf.png" alt="image"><br>
<br>
<img src="https://habrastorage.org/files/30e/0f6/7db/30e0f67dbf9049d091f729e61c00cd2e.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant que les planches étaient en production (commandées sur ragworm.uk), j'ai été frappé par la créatrice. Fabriqué le couvercle supérieur et inférieur:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e9c/2aa/dbc/e9c2aadbccff4c67ae8e84beb32c7a78.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commandé auprès d'un service de découpe / gravure laser local. Les planches sont arrivées en 10 jours: la qualité est mauvaise, mais la fonctionnalité n'a pas été blessée. </font></font><br>
<br>
<img src="https://habrastorage.org/files/48c/10a/f6b/48c10af6b79e44f2b84934a4449c82e9.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai fait quelques erreurs graves et stupides, mais comme c'est mon premier projet, je suis excusable. Après de nombreuses nuits blanches de codage et de débogage, cela a fonctionné: </font></font><br>
<br>
<img src="https://habrastorage.org/files/7ef/768/d95/7ef768d9554a4fa8836f557c8aee2d01.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
il est temps de calibrer le TMP006. Pour chaque système, un étalonnage fastidieux doit être effectué pour prendre en compte la conductivité thermique entre le capteur et la carte, la largeur du champ de vision du capteur, etc. TMP006 lui-même est une bête très intéressante et rusée, ça ne marchera pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'étalonnage a été effectué sur une coupelle en verre avec de l'eau chaude avec un thermomètre de haute précision basé sur Pt1000 (+ -0,1 ° C). </font></font><br>
<br>
<img src="https://habrastorage.org/files/c03/83d/b5a/c0383db5a7104c20a57db9dbd81b18b2.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La précision avec de tels ustensiles est de + -1 ° C!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le système fonctionne également bien avec des gobelets en céramique, du plastique et du papier. Tout dépend de la constante d'émissivité. Pour de nombreux matériaux, il est de l'ordre de 0,95-0,85. Mais les métaux sont beaucoup plus bas, surtout avec une surface polie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre problème est les tasses épaisses, dans lesquelles la température de l'eau et la surface extérieure sont très différentes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour autant que je me souvienne des conférences sur la thermodynamique, plus la température de l'eau est élevée, plus la différence est grande. Dans ma tasse épaisse, la différence peut aller jusqu'à 10 ° C à 75 ° C d'eau et environ 3 ° C à 60 ° C. Il est nécessaire de rechercher la formule, peut-être que cette erreur peut être facilement corrigée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant, le produit est prêt:</font></font><br>
<br>
<img src="https://habrastorage.org/files/7b0/f07/00a/7b0f0700ac0d467d934ad0a0188c83d0.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/files/f93/ebb/6e4/f93ebb6e41a84cfdae437b5da36207d7.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/files/2dd/94c/ac3/2dd94cac357441caa953f8e6920e1887.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/files/a04/ad1/105/a04ad110519a4fd69918fc6e99ed4a55.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le système fonctionne comme il se doit, à l'exception des bugs mineurs que j'éliminerai bientôt. </font><font style="vertical-align: inherit;">Selon mes mesures, une batterie devrait durer de 6 à 10 mois (en mode veille pendant environ 2 ans), selon la fréquence à laquelle vous buvez du thé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, le support est sur le bureau et a été incroyablement utile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vidéo de démonstration:</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/C4axZB0ewLg%3Ffeature%3Doembed&amp;usg=ALkJrhiFL5f1CQExxAz3-iCAxleU4udJvA" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Le projet a été réalisé pour un concours de Silicon Labs, d'où le logo et la langue anglaise dans la vidéo.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr387629/">https://habr.com/ru/post/fr387629/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr387617/index.html">Светодиодные лампы из магазина Леруа Мерлен</a></li>
<li><a href="../fr387619/index.html">Un passionné de Bitcoin devient président de l'Argentine</a></li>
<li><a href="../fr387623/index.html">Famille sportive: Jawbone UP3 et UP2 avec le camarade oublié UP24</a></li>
<li><a href="../fr387625/index.html">Epson a introduit une machine de bureau pour recycler les déchets de papier en feuilles vierges</a></li>
<li><a href="../fr387627/index.html">Système domotique basé sur des composants électroniques abordables - est-ce réel?</a></li>
<li><a href="../fr387631/index.html">Projecteurs Epson dans l'éducation - Partie 3: mise au point courte, mise au point ultra courte et mobile</a></li>
<li><a href="../fr387633/index.html">Stylo numérique ou sonar à ultrasons dans votre poche</a></li>
<li><a href="../fr387637/index.html">Modularité en aviation</a></li>
<li><a href="../fr387639/index.html">Top 500: nouveau classement Supercalculateur</a></li>
<li><a href="../fr387641/index.html">Courte critique du Sony Xperia Z5 Compact</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>