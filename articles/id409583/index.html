<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏖️ 💇🏼 👀 Netflix: apa yang terjadi ketika Anda mengklik play? 🌫️ 💪🏽 🎄</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini adalah bab dari buku baru saya, Explain the Cloud to a Ten-Year- Old. Opsi pertama ditulis khusus untuk mereka yang membutuhkan pengantar ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Netflix: apa yang terjadi ketika Anda mengklik play?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/409583/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a86/b6d/d36/a86b6dd362d675c80d696decff2ce0e8.jpg"></div><br>  Artikel ini adalah bab dari buku baru saya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Explain the Cloud to a Ten-Year-</a> Old.  Opsi pertama ditulis khusus untuk mereka yang membutuhkan pengantar ke awan.  Lalu saya membuat beberapa pembaruan dan menambahkan beberapa bab - “Netflix: apa yang terjadi ketika Anda menekan start?”  dan "Apa itu cloud computing?"  - yang sudah sedikit di luar pengetahuan seorang pemula.  Saya pikir mereka akan dapat menarik minat orang yang cukup berpengalaman sekalipun. <br><br>  Jadi jika Anda membutuhkan pengantar yang bagus tentang awan atau Anda kenal seseorang yang membutuhkannya, silakan lihat.  Saya pikir Anda akan menyukainya.  Saya bangga dengan apa yang saya lakukan. <br><br>  Saya menulis bab ini berdasarkan selusin sumber, kadang-kadang saling bertentangan.  Fakta-fakta kunci berubah dari waktu ke waktu dan bergantung pada siapa yang menceritakan kisah dan audiens mana.  Saya mencoba membuat cerita yang koheren kapan pun memungkinkan.  Harap dicatat bahwa ini bukan panduan teknis - ini adalah artikel dengan gambar besar.  Sebagai contoh, saya bahkan tidak pernah menyebutkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">microservices</a> . <br><br>  Netflix tampaknya sangat sederhana.  Klik "putar" dan video akan muncul secara ajaib.  Sederhana bukan?  Ya, tidak juga. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/53b/fd6/267/53bfd626796d89f697249e21c064381f.jpg"><br><br>  Setelah diskusi kami di bab "Apa itu cloud computing?"  Anda mungkin mengharapkan Netflix bekerja dengan video menggunakan AWS.  Klik "mainkan" di aplikasi Netflix, dan video yang disimpan di S3 akan dialirkan langsung ke perangkat Anda melalui Internet melalui Internet. <br><br>  Pendekatan yang masuk akal - untuk layanan yang jauh lebih kecil. <br><br>  Tetapi Netflix sepenuhnya salah.  Semuanya jauh lebih rumit dan menarik daripada yang bisa Anda bayangkan. <br><br>  Untuk memahami alasannya, mari kita lihat statistik Netflix untuk 2017: <br><br><ul><li>  Lebih dari 110 juta pelanggan. </li><li>  Bekerja di lebih dari 200 negara. </li><li>  Penghasilan $ 3 miliar per kuartal. </li><li>  Menambahkan 5 juta pelanggan per kuartal. </li><li>  Memainkan lebih dari satu miliar jam video setiap minggu.  Sebagai perbandingan, YouTube memutar 1 miliar jam video setiap hari, sementara Facebook memutar 110 juta jam video setiap hari. </li><li>  Pada suatu hari 2017, 250 juta jam video diputar. </li><li>  Bertanggung jawab atas 37% lalu lintas Internet AS puncak. </li><li>  Berencana untuk menghabiskan $ 7 miliar untuk konten baru pada 2018. </li></ul><br><h2>  Apa yang kami pelajari? </h2><br>  Netflix sangat besar.  Ini bersifat global, memiliki banyak pelanggan, memainkan banyak video dan memiliki banyak uang. <br><br>  Fakta terkait lainnya adalah bahwa Netflix bekerja dengan berlangganan.  Pelanggan membayar Netflix setiap bulan, dan dapat berhenti berlangganan kapan saja.  Ketika Anda menekan "play" untuk bersantai di bawah Netflix, akan lebih baik jika layanan ini bekerja secara normal.  Pelanggan yang tidak puas berhenti berlangganan. <br><br><h2>  Lihatlah lebih dalam </h2><br>  Netflix adalah contoh hebat dari ide-ide yang kami diskusikan, jadi bab ini akan memiliki lebih banyak detail daripada menggambarkan layanan cloud lainnya.  Salah satu alasan untuk menjelajahi Netflix secara mendalam adalah karena mereka memberikan lebih banyak informasi daripada perusahaan lain.  Komunikasi Netflix dianggap sebagai aset budaya utama, dan perusahaan lebih dari berhasil mempertahankan standarnya. <br><br>  Saya bahkan ingin berterima kasih kepada Netflix atas keterbukaan mereka tentang arsitektur mereka.  Selama bertahun-tahun, perusahaan memberi ratusan ceramah dan menulis ratusan artikel tentang rincian pola kerja internal mereka.  Ini membantu meningkatkan seluruh industri. <br><br>  Alasan lain untuk perincian terperinci tersebut adalah bahwa layanan Netflix sangat menakjubkan.  Sebagian besar dari kita telah menggunakannya - dan siapa yang tidak tertarik melihat di balik layar dan mencari tahu cara kerjanya? <br><br><h2>  Netflix berjalan dalam dua awan - AWS dan Open Connect </h2><br>  Bagaimana perusahaan memuaskan pelanggan?  Dengan bantuan awan.  Bahkan, dua cloud berbeda - AWS dan Open Connect.  Keduanya harus bekerja bersama tanpa masalah untuk menghasilkan konten video berjam-jam yang memuaskan pengguna. <br><br><h2>  Tiga bagian Netflix: klien, backend, jaringan pengiriman konten </h2><br>  Anda dapat secara mental membagi Netflix menjadi tiga bagian: klien, backend, jaringan pengiriman konten (CDN). <br><br>  Klien - antarmuka pengguna yang berjalan pada perangkat apa pun yang digunakan untuk melihat daftar video dan memutarnya.  Ini bisa berupa aplikasi seluler di smartphone, situs web di komputer desktop, atau bahkan aplikasi di TV pintar.  Netflix mengontrol setiap klien di setiap perangkat. <br><br>  Segala sesuatu yang terjadi sebelum Anda mengklik tombol putar terjadi di backend yang berjalan pada AWS.  Ini termasuk hal-hal seperti menyiapkan semua video masuk baru dan memproses permintaan dari semua aplikasi, situs web, televisi, dan perangkat lainnya. <br><br>  Segala sesuatu yang terjadi setelah mengklik "play" diproses di Open Connect.  Ini adalah jaringan pengiriman konten Netflix sendiri.  Ini menyimpan video di berbagai tempat di seluruh dunia.  Ketika Anda mengklik "mainkan," aliran video datang dari Open Connect ke perangkat Anda, dan itu ditunjukkan oleh klien.  Jangan khawatir - kita akan membicarakan CDN nanti.  Yang menarik, proses peluncuran video perusahaan tidak disebut "klik" mainkan, tetapi "klik" mulai "pada namanya." Setiap industri memiliki jargonnya sendiri. <br><br>  Mengontrol ketiga area - klien, backend, CDN - Netflix mencapai integrasi vertikal penuh.  Perusahaan mengontrol pengalaman Anda menonton video dari awal hingga selesai.  Karenanya, ini hanya berfungsi saat Anda mengeklik "mainkan" di bagian mana pun di dunia.  Anda dijamin mendapatkan konten yang Anda butuhkan, yang ingin Anda tonton, dan kapan pun Anda inginkan. <br><br>  Mari kita lihat bagaimana tepatnya ini terjadi. <br><br><h2>  Pada 2008, Netflix mulai pindah ke AWS </h2><br>  Netflix telah beroperasi sejak tahun 1998. Pada awalnya, ia berurusan dengan penyewaan DVD melalui pos.  Tetapi perusahaan melihat masa depan dalam streaming video sesuai permintaan.  Pada 2007, Netflix memperkenalkan layanan video-on-demand-nya, yang memungkinkan pelanggan untuk melakukan streaming acara TV dan film melalui situs web perusahaan di komputer pribadi atau melalui perangkat lunak khusus perusahaan di berbagai platform yang didukungnya, termasuk smartphone dan tablet, pemutar digital, dan permainan set-top box dan TV pintar. <br><br>  Masa depan untuk streaming video sesuai permintaan mungkin tampak jelas.  Pada prinsipnya, itu.  Secara pribadi, saya bekerja di beberapa startup yang mencoba mengeluarkan video sesuai permintaan.  Mereka gagal.  Dan Netflix sedang menunggu kesuksesan.  Perusahaan itu jelas bekerja dengan baik, tetapi terlambat datang ke pasar, yang membantunya.  Pada 2007, Internet cepat dan cukup murah untuk mendukung layanan video streaming.  Ini belum pernah terjadi sebelumnya.  Munculnya lalu lintas seluler yang cepat dan tidak terlalu mahal serta pengenalan perangkat seluler yang kuat, seperti smartphone dan tablet, membuatnya lebih mudah dan lebih murah untuk menonton video streaming kapan saja, di mana saja.  Momen yang tepat adalah kunci kesuksesan. <br><br><h2>  Netflix memulai dengan pusat data sendiri </h2><br>  EC2 baru dimulai pada 2007, sekitar waktu yang sama dengan Netflix.  Karenanya, Netflix tidak dapat mulai menggunakan EC2.  Perusahaan telah membangun dua pusat data yang terletak di dekatnya.  Dan mereka mengalami semua masalah yang kita bahas dalam bab-bab sebelumnya. <br><br>  Membangun pusat data sangat mahal.  Butuh waktu untuk memesan peralatan, pemasangan dan peluncurannya.  Segera setelah peluncuran, mereka kehabisan daya, dan semuanya harus mulai dari awal lagi.  Waktu yang dihabiskan untuk peralatan memaksa perusahaan untuk mengadopsi strategi penskalaan vertikal. <br><br>  Netflix menulis program besar yang dijalankan pada komputer besar.  Pendekatan ini disebut konstruksi monolit.  Satu program melakukan segalanya.  Masalahnya adalah jika Anda tumbuh secepat Netflix, sangat sulit untuk membuat monolith yang andal.  Dia tidak bisa diandalkan. <br><br><h2>  Penolakan layanan memaksa Netflix untuk pindah ke AWS </h2><br>  Pada bulan Agustus 2008, Netflix tidak dapat mengirim DVD selama tiga hari berturut-turut karena kegagalan dalam database mereka.  Itu tidak bisa diterima.  Itu perlu untuk menyelesaikan sesuatu.  Pengalaman membangun pusat data mengajarkan perusahaan hal yang penting: tidak berhasil membangun pusat data.  Dia pandai mengirimkan video ke kliennya.  Dia perlu fokus pada peningkatan dalam pengiriman video, daripada perbaikan dalam membangun pusat data.  Pembangunan pusat data bukanlah keunggulan kompetitif perusahaan - keunggulan mereka adalah pengiriman video. <br><br>  Pada saat itu, Netflix memutuskan untuk pindah ke AWS.  AWS baru saja dimulai, jadi itu adalah keputusan yang berani.  Perusahaan pindah ke AWS karena membutuhkan infrastruktur yang lebih andal.  Netflix ingin menghilangkan semua kelemahan sistem.  AWS menawarkan pusat data, penyimpanan, dan pusat data yang sangat andal.  Netflix membutuhkan layanan cloud untuk tidak lagi membangun monolit yang tidak dapat diandalkan.  Netflix ingin menjadi layanan global tanpa membangun pusat data.  Peluang seperti itu di pusat data lama tidak dan tidak bisa. <br><br>  Netflix memilih AWS karena tidak ingin terlibat dalam kerja keras yang tidak berbeda.  Kerja keras yang tidak dibeda-bedakan adalah apa yang perlu dilakukan, tetapi itu tidak memberikan keuntungan bagi bisnis utama, yang terdiri dari menyediakan tontonan video yang berkualitas.  AWS melakukan semua kerja keras ini untuk Netflix.  Dan ini memberi netflix peluang untuk berkonsentrasi pada penyediaan layanan bisnis yang berharga. <br><br>  Memindahkan perusahaan dari pusat data ke AWS membutuhkan perusahaan lebih dari delapan tahun.  Netflix meningkatkan jumlah pelanggan delapan kali selama ini.  Netflix sekarang beroperasi pada beberapa ratus ribu salinan EC2. <br><br><h2>  AWS Netflix Lebih Andal </h2><br>  Bukan berarti Netflix tidak pernah mengalami masalah AWS, tetapi secara keseluruhan, layanannya menjadi jauh lebih andal dari sebelumnya.  Anda tidak akan lagi melihat keluhan seperti itu: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af4/f3a/f92/af4f3af926d818952f1562667f6e8662.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/23d/91d/5b2/23d91d5b2ccf5da53507d412ef5ff293.jpg"><br><br>  Perusahaan menjadi sangat andal karena mengambil langkah luar biasa untuk ini.  Ini beroperasi di tiga wilayah AWS: Virginia Utara, Portland, Oregon, dan Dublin, Irlandia.  Di masing-masingnya, Netflix beroperasi di tiga zona akses berbeda. <br><br>  Perusahaan tidak memiliki rencana untuk menambah jumlah wilayah kerja.  Menambahkan wilayah baru sangat sulit dan mahal.  Sebagian besar perusahaan hanya beroperasi di satu wilayah, belum lagi dua atau tiga. <br><br>  Keuntungan bekerja di tiga wilayah adalah bahwa salah satu dari mereka dapat jatuh, dan dua lainnya akan jatuh ke tempatnya dan melayani pelanggan dari daerah yang terkena dampak.  Netflix menyebut jatuhnya evakuasi wilayah. <br><br>  Pertimbangkan satu contoh.  Misalkan Anda sedang menonton episode baru "House of Cards" di London, Inggris.  Kemungkinan besar, perangkat Anda terhubung ke wilayah Dublin, karena paling dekat dengannya.  Apa yang terjadi ketika wilayah Dublin jatuh?  Akankah Netflix berhenti bekerja untuk Anda?  Tidak.  Setelah masalah terdeteksi, Netflix akan mengarahkan Anda ke Virginia.  Perangkat Anda akan berkomunikasi dengan wilayah Virgin bukannya Dublin.  Anda bahkan mungkin tidak melihat kegagalan. <br><br>  Seberapa sering wilayah AWS gagal?  Sebulan sekali.  Ya, sebenarnya wilayah itu tidak gagal setiap bulan.  Netflix melakukan tes bulanan.  Setiap bulan, Netflix secara khusus menjatuhkan seluruh wilayah, hanya untuk memastikan sistem mereka menangani kegagalan regional.  Anda dapat mengevakuasi wilayah dalam enam menit. <br><br>  Netflix menyebut ini model layanan global.  Setiap klien dapat dilayani dari wilayah mana pun.  Ini luar biasa.  Dan ini tidak terjadi secara otomatis.  AWS tidak memiliki saus ajaib untuk menangani kegagalan daerah atau melayani pelanggan dari berbagai daerah.  Netflix sendiri melakukan pekerjaan itu.  Perusahaan ini adalah pelopor dalam menciptakan sistem yang andal menggunakan beberapa daerah.  Saya tidak tahu perusahaan lain yang akan mengambil tindakan seperti itu untuk memastikan keandalan layanan tersebut. <br><br>  Keuntungan lain dari bekerja dari ketiga wilayah ini adalah bahwa Netflix dapat menjangkau seluruh dunia.  Netflix melakukan pemeriksaan dan menemukan bahwa dengan meluncurkan aplikasi di mana saja di dunia, dalam hal apa pun, Anda akan menerima layanan cepat dari salah satu wilayah ini. <br><br><h2>  Netflix Menghemat Menggunakan AWS </h2><br>  Ini mungkin mengejutkan banyak orang, tetapi AWS untuk Netflix lebih murah.  Biaya cloud dalam hal melihat video keluar beberapa kali lebih sedikit daripada saat menggunakan pusat data lama.  Mengapa  Karena elastisitas awan. <br><br>  Netflix dapat menambahkan server sesuai kebutuhan dan mengembalikannya saat tidak diperlukan.  Alih-alih sekelompok komputer tambahan tidak melakukan apa-apa, hanya menunggu beban puncak, perusahaan menggunakan komputer persis sebanyak yang dibutuhkan, dan bila perlu. <br><br><h2>  Apa yang terjadi pada AWS sebelum Anda mengklik play? </h2><br>  Segala sesuatu yang tidak terhubung dengan pengarsipan video diproses pada AWS.  Ini termasuk daya komputasi yang dapat diskalakan, penyimpanan yang dapat diukur, logika bisnis, basis data terdistribusi yang dapat diukur, pemrosesan data besar dan analitik, rekomendasi, transcoding, dan ratusan fungsi lainnya.  Anda tidak perlu memahami semuanya, tetapi karena ini mungkin menarik bagi Anda, saya akan menjelaskannya secara singkat. <br><br><h2>  Daya Komputasi dan Penyimpanan yang Dapat Dikukur </h2><br>  Daya komputasi scalable adalah EC2, dan penyimpanan S3.  Tidak ada yang baru bagi kita di sini.  Perangkat Anda adalah iPhone, TV, Xbox, ponsel cerdas Android, tablet, dll.  - Berkomunikasi dengan layanan yang berjalan di EC2.  Perangkat Anda menerima daftar film potensial untuk ditonton dengan menghubungi komputer yang menjalankan EC2.  Informasi terperinci tentang video yang diterima perangkat Anda di sana.  Semuanya berfungsi sama seperti di layanan cloud lainnya. <br><br><h2>  Database Terdistribusi yang Dapat diskalakan </h2><br>  Netflix menggunakan DynamoDB dan Cassandra sebagai basis data terdistribusi.  Nama-nama ini seharusnya tidak berarti apa-apa bagi Anda - mereka hanya database berkualitas tinggi.  Data disimpan dalam database.  Informasi tentang profil Anda, pada akun, pada semua film yang ditonton - semua ini disimpan dalam database.  Basis data terdistribusi tidak bekerja pada satu komputer besar, tetapi pada banyak komputer.  Data Anda disalin ke banyak komputer sehingga meskipun satu atau dua komputer yang menyimpan data Anda gagal, data Anda akan aman.  Pada kenyataannya, semua data disalin di ketiga wilayah.  Karena hal ini, jika terjadi kegagalan wilayah, data Anda akan tersedia di wilayah lain tempat Anda akan beralih.  Dan penskalaan berarti bahwa basis data akan dapat menyimpan sebanyak mungkin data yang Anda tambahkan.  Ini adalah salah satu keunggulan utama dari database terdistribusi.  Jika lebih banyak data datang, lebih banyak komputer dapat ditambahkan. <br><br><h2>  Pemrosesan data besar dan analitik </h2><br>  Data besar hanyalah banyak data.  Netflix mengumpulkan banyak informasi.  Perusahaan tahu siapa yang menonton, kapan dan di mana mereka menontonnya.  Perusahaan tahu video mana yang dilihat pelanggannya, tetapi tidak dipesan.  Dia tahu berapa kali setiap video ditonton - dan masih banyak lagi. <br><br>  Mengumpulkan dan mengonversi semua data ke format standar disebut pemrosesan.  Dan mengekstraksi makna dari mereka - analisis.  Data dianalisis untuk mendapatkan jawaban atas pertanyaan spesifik. <br><br><h2>  Netflix mempersonalisasi gambar terutama untuk Anda </h2><br>  Berikut adalah contoh yang bagus tentang bagaimana Netflix memikat Anda untuk menonton lebih banyak film menggunakan kemampuan analisis data.  Ketika Anda menelusuri daftar, memilih apa yang akan dilihat, apakah Anda memperhatikan fakta bahwa untuk setiap film gambar dikeluarkan?  Ini adalah gambar judul. <br><br>  Gambar judul seharusnya membangkitkan minat Anda, menarik perhatian Anda, dan membuat Anda memilih video ini.  Idenya adalah bahwa semakin menarik gambar, semakin besar kemungkinan Anda menonton video.  Dan semakin banyak video yang Anda tonton, semakin kecil kemungkinan Anda untuk berhenti berlangganan dari Netflix. <br><br>  Berikut adalah contoh dari berbagai gambar judul untuk seri Stranger Things: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/368/3d5/31f/3683d531fe4f0fdff525eb466260ed86.jpg"><br><br>  Anda mungkin terkejut bahwa setiap gambar untuk setiap video dipilih khusus untuk Anda.  Tidak semua orang melihat gambar yang sama. <br><br>  Sebelumnya, semua orang melihat gambar judul yang sama.  Begini cara kerjanya.  Pelanggan ditunjukkan satu gambar yang dipilih secara acak dari satu set, seperti yang ditunjukkan pada ilustrasi di atas.  Netflix menghitung semua penayangan video, dan merekam gambar apa yang ditunjukkan kepada pengguna saat video dipilih.  Misalkan, sebagai contoh kita dengan seri, bahwa ketika menampilkan gambar pusat dari kolase, video ditonton 1000 kali.  Dan ketika menampilkan sisa gambar - hanya sekali. <br><br>  Karena gambar grup lebih baik daripada yang lain untuk menarik pengguna untuk melihat, Netflix harus menjadikannya gambar judul seri selamanya.  Ini disebut seleksi berbasis data.  Netflix bekerja berdasarkan analisis data.  Data dikumpulkan - dalam hal ini, jumlah tampilan yang terkait dengan setiap gambar - dan digunakan untuk membuat keputusan terbaik - dalam hal ini, untuk memilih gambar judul. <br><br>  Secara licik, tetapi dapatkah ini dilakukan lebih baik?  Ya, bahkan menggunakan lebih banyak data.  Untuk topik ini, masa depan terletak pada penyelesaian masalah melalui pembelajaran dari data.  Kami adalah orang yang berbeda.  Apakah Anda berpikir bahwa gambar yang sama dapat memotivasi kami?  Mungkin tidak.  Kami memiliki selera berbeda, preferensi berbeda.  Dan Netflix tahu ini - jadi sekarang ini mempersonalisasi semua gambar yang ditampilkan kepada Anda.  Dia mencoba untuk memilih gambar yang menyoroti aspek terpenting dari video untuk Anda.  Bagaimana dia melakukan ini? <br><br>  Ingatlah bahwa Netflix mencatat dan menghitung semua yang Anda lakukan di situs webnya.  Dia tahu film mana yang kamu suka, aktor mana yang kamu suka, dan sebagainya.  Misalkan di antara rekomendasi Anda adalah film "Good Will Hunting."  Netflix harus memilih gambar header yang sesuai.  Tujuannya adalah untuk menunjukkan gambar yang memberi tahu Anda bahwa film ini mungkin menarik bagi Anda.  Gambar apa yang perlu Anda perlihatkan? <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda suka komedi, Netflix akan menampilkan gambar bersama Robin Williams. Jika Anda lebih suka melodrama, Netflix akan menampilkan gambar Matt Damon dan Minnie Driver yang akan dicium. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9b/002/6f5/c9b0026f553c8d004e33ae7dfdb58a7c.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menampilkan Robin Williams, layanan ini memberi tahu Anda bahwa film tersebut kemungkinan besar memiliki humor, dan karena Netflix tahu Anda menyukai komedi, video ini tepat untuk Anda. Image Matt Damon dan Minnie Driver mengirim pesan yang sama sekali berbeda. Jika Anda suka komedi dan melihat gambar ini, kemungkinan besar Anda akan melewatkannya. Karena itu, memilih gambar yang tepat sangat penting. Ini mengirimkan pesan pribadi yang kuat menceritakan tentang tema film. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berikut adalah contoh lain - Pulp Fiction:</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/1df/d6d/a0c/1dfd6da0c5c128b97f7d4893c4d2f32d.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda menonton banyak film dengan Uma Thurman, maka Anda cenderung melihat gambar judul dengan Uma. Jika Anda telah menonton banyak film dengan Travolta, maka Anda cenderung melihat gambar judul bersama John. Lihat bagaimana memilih gambar hasil personalisasi terbaik yang dapat meningkatkan kemungkinan menonton video tertentu?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netflix menarik minat Anda saat memilih gambar, tetapi layanan ini tidak ingin berbohong kepada Anda. Dia tidak ingin menampilkan gambar menarik untuk membuat Anda menonton video yang tidak Anda sukai. Tidak ada insentif. Layanan tidak membebankan biaya untuk jumlah tampilan. Layanan ini mencoba untuk meminimalkan penyesalan dan ingin Anda menyukai apa yang Anda tonton, sehingga ia memilih gambar judul terbaik dari yang mungkin. Dan ini hanyalah satu contoh kecil dari analisis data. Netflix menggunakan strategi semacam itu di mana-mana.</font></font><br><br><h2>  Rekomendasi </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netflix biasanya menampilkan 40-50 pilihan video, tetapi layanan ini menawarkan ribuan video. </font><font style="vertical-align: inherit;">Bagaimana Netflix memutuskan apa yang akan ditampilkan? </font><font style="vertical-align: inherit;">Dengan pembelajaran mesin. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini adalah bagian dari pemrosesan data besar dan analitik yang baru saja kita bicarakan. </font><font style="vertical-align: inherit;">Layanan memeriksa data dan memprediksi apa yang Anda sukai. </font><font style="vertical-align: inherit;">Secara umum, semua yang Anda lihat di layar Netflix telah dipilih khusus untuk Anda menggunakan pembelajaran mesin.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transcoding dari file sumber ke format yang Anda butuhkan </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jadi kami membahas bagaimana Netflix menangani video. </font><font style="vertical-align: inherit;">Sebelum Anda dapat mulai menonton di perangkat favorit Anda, Netflix harus mengonversi video ke format yang paling sesuai dengan perangkat Anda. </font><font style="vertical-align: inherit;">Proses ini disebut transcoding. </font><font style="vertical-align: inherit;">Itu mengkonversi file video dari satu format ke yang lain, sehingga video dapat ditonton di berbagai platform dan perangkat. </font><font style="vertical-align: inherit;">Netflix mengkodekan semua videonya di AWS pada 300.000 prosesor secara bersamaan. </font><font style="vertical-align: inherit;">Ini lebih dari hampir semua komputer super!</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sumber Sumber Data </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siapa yang mengunggah video ke Netflix? </font><font style="vertical-align: inherit;">Studio dan asosiasi produksi. </font><font style="vertical-align: inherit;">Netflix menyebut ini data mentah. </font><font style="vertical-align: inherit;">Video baru dikirim ke tim konten untuk diproses. </font><font style="vertical-align: inherit;">Muncul dalam resolusi tinggi, banyak ukuran terabyte. </font><font style="vertical-align: inherit;">Untuk membayangkan satu terabyte informasi, bayangkan 60 pilar kertas, yang masing-masing tingginya sama dengan Menara Eiffel. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebelum Anda dapat menonton video, Netflix memaparkannya ke proses multi-langkah yang keras.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/994/abf/8c5/994abf8c5dfe146ba1d6844a747c37b3.jpg"><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pemeriksaan kualitas </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pertama, Netflix menghabiskan banyak waktu untuk memeriksa kualitas video. </font><font style="vertical-align: inherit;">Dia mencari artefak digital, perubahan warna, menjatuhkan frame yang mungkin muncul karena upaya transcoding sebelumnya atau masalah transfer data. </font><font style="vertical-align: inherit;">Jika ada masalah yang terdeteksi, video ditolak.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pengolahan conveyor </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setelah mengonfirmasi kualitas video dikirim ke pipa pemrosesan. Ini adalah urutan langkah-langkah yang dilalui data sebelum dapat digunakan - sesuatu seperti ban berjalan di pabrik. Lebih dari 70 program pemrosesan berbeda digunakan untuk membuat setiap video. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memproses file tunggal beberapa terabyte tidak praktis, sehingga langkah pertama dalam pipa akan membagi video menjadi banyak potongan kecil. Potongan melewati conveyor sehingga dapat dikodekan secara paralel - yaitu, mereka diproses secara bersamaan. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menunjukkan paralelisasi menggunakan contoh.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/29f/0ee/c83/29f0eec83a51c561ef380328cf9122fb.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Misalkan Anda memiliki seratus anjing kotor yang perlu dicuci. </font><font style="vertical-align: inherit;">Bagaimana ini akan lebih cepat untuk melakukan ini - jika satu orang akan mencuci satu demi satu anjing, atau jika Anda menyewa seratus mesin cuci anjing dan mencuci semuanya pada waktu yang sama? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentunya, prosesnya akan lebih cepat jika seratus mesin cuci bekerja secara bersamaan. </font><font style="vertical-align: inherit;">Ini paralelisme. </font><font style="vertical-align: inherit;">Itulah sebabnya Netflix menggunakan begitu banyak server EC2. </font><font style="vertical-align: inherit;">Mereka membutuhkan banyak server untuk memproses file video raksasa ini secara paralel. </font><font style="vertical-align: inherit;">Dan itu berhasil - perusahaan mengklaim bahwa file sumber dapat dikodekan dan dikirim ke CDN hanya dalam 30 menit. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketika potongan dikodekan, mereka diperiksa untuk memastikan bahwa mereka tidak memiliki masalah baru. </font><font style="vertical-align: inherit;">Kemudian mereka dikumpulkan lagi dalam satu file dan diperiksa lagi.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hasilnya adalah banyak file </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Proses pengkodean menciptakan banyak file. </font></font> Mengapa<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tujuan utama Netflix adalah untuk mendukung setiap perangkat yang terhubung ke Internet. Perusahaan mulai beroperasi pada 2007 di platform Microsoft Windows. Seiring waktu, banyak perangkat lain ditambahkan - Roku, LG, Samsung Blu-ray, Apple Mac, Xbox 360, LG DTV, Sony PS3, Nintendo Wii, iPad Apple, iPhone Apple, Apple TV, Android, Kindle Fire dan Comcast X1.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara total, Netflix mendukung 2.200 perangkat yang berbeda. Untuk masing-masing dari mereka ada format video yang terlihat terbaik. Jika Anda menonton Netflix di iPhone, Anda akan melihat video yang terlihat paling baik di iPhone. Perusahaan menyebut semua format video berbagai profil pengkodean. Netflix juga membuat file yang dioptimalkan untuk kecepatan jaringan yang berbeda. Jika Anda menonton file di jaringan berkecepatan tinggi, Anda akan melihat video dengan kualitas lebih baik daripada jika Anda menontonnya di jaringan yang lebih lambat.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ada juga file untuk berbagai format audio. </font><font style="vertical-align: inherit;">Audio dikodekan dalam tingkat kualitas dan bahasa yang berbeda. </font><font style="vertical-align: inherit;">Selain itu, ada file dengan subtitle. </font><font style="vertical-align: inherit;">Video dapat memiliki beberapa subtitle dalam berbagai bahasa. </font><font style="vertical-align: inherit;">Ada beberapa opsi tampilan yang berbeda untuk setiap video. </font><font style="vertical-align: inherit;">Apa yang Anda lihat tergantung pada perangkat Anda, kualitas koneksi, tarif layanan dan pilihan bahasa.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jadi ada berapa file? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk seri ini, The Crown Netflix menyimpan sekitar 1.200 file. </font><font style="vertical-align: inherit;">Musim kedua Stranger Things memiliki lebih banyak file. </font><font style="vertical-align: inherit;">Itu ditembak dalam resolusi 8K dan memiliki sembilan episode. </font><font style="vertical-align: inherit;">File sumber memakan banyak terabyte data. </font><font style="vertical-align: inherit;">Butuh 190.000 jam prosesor untuk mengkodekan hanya satu musim. </font><font style="vertical-align: inherit;">Hasilnya adalah 9.570 file video, audio dan teks yang berbeda. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekarang mari kita lihat bagaimana Netflix memainkan semua file ini.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tiga strategi berbeda untuk streaming video </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netflix memiliki tiga strategi berbeda untuk memutar video streaming - CDN kecilnya sendiri, CDN pihak ketiga, dan Open Connect. </font><font style="vertical-align: inherit;">Mari kita mulai dengan definisi CDN. </font><font style="vertical-align: inherit;">CDN adalah jaringan distribusi konten. </font><font style="vertical-align: inherit;">Untuk Netflix, konten tentu saja adalah file video yang telah kita bahas di bagian sebelumnya. </font><font style="vertical-align: inherit;">Berbagi berarti bahwa file disalin dari lokasi pusat melalui jaringan dan disimpan pada komputer yang didistribusikan di seluruh dunia. </font><font style="vertical-align: inherit;">Di Netflix, lokasi penyimpanan pusat untuk file adalah S3.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mengapa membuat CDN? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idenya sederhana: Anda perlu menempatkan video sedekat mungkin dengan pengguna, mendistribusikan komputer di seluruh dunia. Ketika seorang pengguna ingin menonton video, temukan komputer yang paling dekat dengannya dan atur aliran dari sana ke perangkatnya. Manfaat terbesar dari CDN adalah kecepatan dan keandalan. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bayangkan Anda sedang menonton video di London, dan itu sedang dikirimkan kepada Anda dari Portland, Oregon. Aliran video harus melalui banyak jaringan, termasuk kabel bawah laut, sehingga koneksi bisa lambat dan tidak dapat diandalkan. Dengan memindahkan video lebih dekat ke orang-orang yang menontonnya, Anda dapat membuat sensasi menonton video menjadi yang paling cepat dan dapat diandalkan.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setiap lokasi komputer yang menyimpan video disebut point of presence (PoP). </font><font style="vertical-align: inherit;">Setiap PoP adalah lokasi fisik dengan akses internet. </font><font style="vertical-align: inherit;">Ada server, router, dan peralatan telekomunikasi lainnya. </font><font style="vertical-align: inherit;">Kami akan membicarakan PoP nanti.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CDN pertama terlalu kecil </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada 2007, ketika Netflix pertama kali memperkenalkan layanan streaming, ia memiliki 36 juta pelanggan di 50 negara, yang menonton lebih dari satu miliar jam video setiap bulan, dan yang menerima beberapa terabit data per detik. </font><font style="vertical-align: inherit;">Untuk mendukung layanan ini, Netflix telah membangun CDN sederhana di lima lokasi berbeda di Amerika Serikat. </font><font style="vertical-align: inherit;">Katalog video perusahaan cukup kecil, dan semua file disimpan di semua tempat.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CDN kedua terlalu besar </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada 2009, Netflix memutuskan untuk menggunakan CDN pihak ketiga. Saat itu, biaya CDN mulai turun. Menggunakan jaringan pihak ketiga adalah langkah cerdas untuk Netflix. Mengapa membuang-buang waktu dan upaya membangun jaringan Anda jika Anda dapat segera mencapai tempat di planet ini dengan CDN yang ada? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netflix telah bekerja untuk menyediakan layanan CDN dengan perusahaan-perusahaan seperti Akamai, Limelight dan Level 3. Tidak ada yang salah dengan menggunakan CDN pihak ketiga. Faktanya, hampir semua perusahaan melakukan ini. Misalnya, NFL menggunakan layanan Akamai untuk menampilkan kompetisi sepak bola Amerika secara langsung. Tanpa membuat CDN sendiri, Netflix meluangkan waktu untuk mengerjakan proyek-proyek prioritas lainnya.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perusahaan menghabiskan banyak waktu dan upaya mengembangkan pelanggan yang lebih cerdas. Netflix menciptakan algoritma yang beradaptasi dengan perubahan kondisi jaringan. Bahkan jika terjadi kesalahan, jaringan atau server kelebihan, perusahaan ingin pengguna memiliki gambar terbaik. Salah satu teknologi yang dikembangkan oleh perusahaan - beralih ke sumber video lain - misalnya, ke CDN lain atau ke server lain - untuk mencapai hasil terbaik. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada saat yang sama, Netflix menghabiskan banyak upaya mendukung semua layanan AWS yang kami sebutkan sebelumnya. Netflix menyebut layanan AWS sebagai pesawat referensi. Pesawat kontrol adalah istilah jaringan untuk bagian dari sistem yang mengontrol segala sesuatu yang lain. Dalam tubuh Anda, otak Anda adalah bidang kendali - ia mengendalikan segala sesuatu yang lain.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dan kemudian Netflix memutuskan bahwa mereka dapat meningkatkan layanan dengan mengembangkan CDN mereka sendiri. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Open Connect sempurna </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada 2011, Netflix menyadari bahwa pada skala mereka, mereka membutuhkan solusi CDN khusus untuk memaksimalkan efisiensi jaringan. </font><font style="vertical-align: inherit;">Distribusi video adalah kompetensi inti perusahaan, dan dapat menjadi keunggulan kompetitif yang sangat besar. </font><font style="vertical-align: inherit;">Oleh karena itu, Netflix mulai mengembangkan Open Connect, CDN khusus miliknya. </font><font style="vertical-align: inherit;">Itu dimulai pada 2012. </font><font style="vertical-align: inherit;">Open Connect memiliki banyak keunggulan:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dia tidak begitu mahal. </font><font style="vertical-align: inherit;">CDN pihak ketiga lebih mahal. </font><font style="vertical-align: inherit;">Melakukannya sendiri berarti menghemat banyak uang.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kualitas lebih baik. </font><font style="vertical-align: inherit;">Netflix beralasan bahwa dengan mengendalikan seluruh jalur video - transcoding, CDN, klien, perangkat - itu dapat memberikan kualitas layanan yang sangat baik.</font></font></li><li>  .         .          ,     . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CDN pihak ketiga harus mendukung pengguna yang membutuhkan akses ke konten apa pun dari mana saja di dunia. </font><font style="vertical-align: inherit;">Tugas Netflix jauh lebih sederhana. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netflix tahu penggunanya dengan pasti saat mereka mendaftar. </font><font style="vertical-align: inherit;">Dia tahu video mana yang akan ditransfer. </font><font style="vertical-align: inherit;">Hanya karena Anda hanya perlu mentransfer aliran video besar, Anda dapat mengambil banyak tindakan untuk secara cerdas mengoptimalkan jaringan yang tidak dapat dilakukan oleh CDN lain. </font><font style="vertical-align: inherit;">Netflix juga tahu banyak tentang pelanggannya. </font><font style="vertical-align: inherit;">Perusahaan tahu video mana yang mereka sukai dan kapan mereka suka menontonnya. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengan pengetahuan itu, Netflix telah membangun CDN berkecepatan tinggi. </font><font style="vertical-align: inherit;">Mari kita lihat lebih dekat bagaimana Open Connect bekerja.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Buka Sambungkan Perangkat </font></font></h2><br>  Ingat bagaimana kita membahas bahwa komputer CDN didistribusikan di seluruh dunia?  Netflix telah mengembangkan sistem komputer penyimpanan video sendiri.  Netflix menyebutnya perangkat Open Connect (Open Connect Appliances, OCA).  Beginilah salah satu dari instalasi OCA awal: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b34/0f8/629/b340f86291912cda64508cf51cb6a14f.jpg"><br><br>  Dalam foto - beberapa OCA sekaligus.  OCA dikelompokkan dalam beberapa kelompok server.  Setiap OCA adalah server cepat yang dioptimalkan untuk output file besar, dengan banyak hard drive atau flash drive yang menyimpan video.  Seperti inilah tampilan salah satu server OCA: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dcc/2ec/fd7/dcc2ecfd70116f59a8282e5ed2610496.jpg"><br><br>  Untuk tujuan yang berbeda, ada beberapa jenis OCA.  Ada OCA besar yang mampu menyimpan seluruh direktori video perusahaan.  Ada OSA kecil yang hanya dapat menyimpan bagian dari direktori video.  OCA kecil diisi dengan file video setiap hari selama jam sibuk selama caching proaktif. <br><br>  Dalam hal peralatan, OSA tidak ada yang luar biasa.  Mereka didasarkan pada komponen PC konvensional, dan berbagai pemasok merakitnya dalam berbagai paket.  Anda dapat membeli komputer yang sama jika Anda mau.  Harap dicatat bahwa semua komputer Netflix berwarna merah.  Perusahaan secara khusus memesannya agar sesuai dengan warna logo. <br><br>  Dalam hal perangkat lunak, OSA menggunakan OS FreeBSD dan nginx sebagai server web.  Ya, setiap OSA adalah server web.  Streaming video menggunakan nginx.  Jika nama-nama ini tidak memberi tahu Anda apa pun - jangan berkecil hati, saya sertakan hanya untuk melengkapi gambar. <br><br>  Jumlah OSA lokal tergantung pada keandalan yang ingin dicapai Netflix di tempat tertentu, jumlah lalu lintas yang dilayaninya, dan persentase lalu lintas yang dapat dikirim pusat ini sebagai aliran.  Ketika Anda mengklik "mainkan," Anda menonton streaming video yang berasal dari OSA tertentu - seperti yang di atas, terletak di dekat Anda. <br><br>  Untuk pengalaman menonton terbaik, Netflix ingin melakukan cache video langsung di rumah Anda.  Tetapi untuk sekarang, ini tidak praktis.  Opsi paling nyaman berikutnya adalah menempatkan Netflix mini di dekat rumah Anda.  Bagaimana ini bisa dilakukan? <br><br><h2>  Di mana Netflix menjadi tuan rumah OCA? </h2><br>  Netflix mendistribusikan sejumlah besar video dari ribuan server yang berlokasi di lebih dari 1000 pusat data di seluruh dunia.  Lihatlah peta lokasi server video ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/989/432/e6e/989432e6e76da6fbc748bf7526e1b0a5.jpg"><br><br>  Layanan video lainnya, seperti YouTube dan Amazon, mengirimkan video melalui jaringan mereka sendiri.  Perusahaan-perusahaan ini telah benar-benar membangun jaringan global mereka sendiri untuk mengirimkan video ke pengguna.  Ini sangat rumit dan mahal.  Netflix mengambil pendekatan yang sangat berbeda untuk membangun CDN. <br><br>  Netflix tidak berfungsi di jaringannya, itu tidak bekerja dari pusat data sendiri.  Sebaliknya, penyedia layanan Internet (ISP) setuju untuk menjadi tuan rumah OCA.  Netflix menawarkan penyedia gratis untuk mengintegrasikan server mereka ke dalam jaringan mereka, di samping itu, menempatkan OSA di dekat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">titik pertukaran lalu lintas</a> (lokasi pertukaran internet, IXP). <br><br>  Strategi ini memungkinkan Netflix untuk tidak membangun pusat data sendiri, tetapi perusahaan mendapatkan semua keuntungan berada di pusat seperti itu - itu hanya milik orang lain.  Cerdik!  Mari kita pisahkan beberapa paragraf terakhir menjadi langkah-langkah sederhana. <br><br><h2>  Menggunakan ISP untuk membuat CDN </h2><br>  ISP adalah penyedia layanan internet Anda.  Ini adalah orang yang memberi Anda Internet sebagai layanan.  Itu bisa Verizon, Comcast, Beeline atau salah satu dari ribuan lainnya.  Hal utama adalah bahwa ISP berlokasi di seluruh dunia dan dekat dengan pelanggan.  Dengan hosting OCA di pusat data ISP, Netflix juga didistribusikan di seluruh dunia dan dekat dengan pelanggannya. <br><br><h2>  Menggunakan IXP untuk membuat CDN </h2><br>  Titik pertukaran lalu lintas adalah pusat data tempat ISP dan CDN bertukar lalu lintas antar jaringan.  Ini seperti pergi ke pesta untuk bertukar hadiah Natal dengan teman-teman.  Berbagi lebih mudah jika semua orang berkumpul di satu tempat. <br><br>  IXP tersebar di seluruh dunia: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/711/42c/f34/71142cf34f7a2e0377a0e678e09f1cf6.jpg"><br><br>  Seperti apa rupa IXP di London: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ac/d18/980/0acd1898087a4b6bb0c6d191b2429f2b.jpg"><br><br>  Jika Anda mendekati kabel serat optik kuning ini, inilah yang akan Anda lihat (berdasarkan titik pertukaran AMS-IX di Amsterdam): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90d/656/136/90d656136a66b2ccfb7d519b3729819b.jpg"><br><br>  Setiap kabel menghubungkan satu jaringan ke jaringan lainnya.  Inilah perbedaan jaringan pertukaran traffic satu sama lain.  IXP seperti persimpangan jalan raya, hanya dengan kabel: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c85/311/e9f/c85311e9f4c874c23e089313b7cd43f4.jpg"><br><br>  Bagi Netflix, ini adalah keuntungan lain.  IXP terletak di seluruh dunia.  Dengan menempatkan OSA di IXP, perusahaan mungkin tidak lagi memiliki pusat data sendiri. <br><br><h2>  Video secara proaktif di-cache di OSA </h2><br>  Netflix memiliki banyak video yang terletak di S3.  Komputer transmisi video terletak di seluruh dunia.  Hanya satu hal yang hilang: videonya sendiri!  Netflix menggunakan proses yang disebut penyimpanan proaktif untuk menyalin video secara efisien ke OCA. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c1b/c17/728/c1bc17728e459f6fb135da8e8cb59cd1.jpg"><br><br>  Apa itu cache  cache - cache]?  Ini adalah tempat yang sering terletak di tanah di mana kartrij rahasia, makanan, dan harta disimpan secara diam-diam.  Apakah Anda tahu bagaimana tupai menyembunyikan kacang untuk musim dingin?  Setiap tempat di mana tupai menyembunyikan kacang adalah cache.  Di musim dingin, setiap tupai dapat menemukan cache kacang dan mengunyahnya.  Penjelajah Arktik mengirim tim kecil ke depan untuk menyimpan makanan, bahan bakar, dan persediaan lain di sepanjang jalur yang mereka ikuti.  Tim yang lebih besar berjalan di belakang berhenti di setiap cache dan mengembalikan.  Baik protein dan peneliti Arktik bekerja secara proaktif;  mereka melakukan sesuatu di muka untuk mempersiapkan masa depan. <br><br>  Setiap OCA adalah cache video yang kemungkinan besar ingin Anda tonton.  Netflix melakukan cache video, memprediksi apa yang ingin Anda tonton.  Di seluruh dunia, Netflix tahu dengan pasti bahwa pelanggannya suka menonton.  Ingat kami mengatakan bahwa Netflix adalah perusahaan yang digerakkan oleh data?  Dia menggunakan data popularitas untuk memprediksi video mana yang pelanggannya ingin tonton besok di mana saja.  Dengan tempat di sini dimaksudkan cluster OSA yang terletak di ISP atau IXP.  Perusahaan menyalin video yang diprediksi ke satu atau lebih OCA di masing-masing tempat.  Ini disebut tata letak pendahuluan.  Video di-host di OSA sebelum ada yang memintanya.  Akibatnya, pelanggan menerima layanan yang sangat baik.  Video yang ingin mereka tonton sudah dekat dengan mereka, dalam bentuk yang siap ditonton. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/413/f48/a7b/413f48a7b2b1a431181206df70fabca7.jpg"><br><br>  Netflix bekerja dengan apa yang disebut  cache yang terhubung.  OCA kecil di-host oleh ISP atau IXP.  Mereka terlalu kecil untuk memenuhi seluruh katalog video.  Di tempat lain, ada OSA yang memiliki hampir seluruh direktori video Netflix.  Dan di tempat lain ada tempat di mana OSA di mana mereka berisi seluruh katalog Netflix.  Mereka mendapatkan video dari S3. <br><br>  Setiap malam, OSA bangun dan memilih layanan AWS untuk jenis video apa yang ia butuhkan.  Layanan mengiriminya daftar video yang seharusnya, dibangun berdasarkan prediksi.  Setiap OCA bertanggung jawab untuk memiliki semua video dalam daftar ini.  Jika salah satu OCA di satu tempat memiliki salah satu video yang diperlukan, maka OCA caching akan menyalin video ini darinya.  Kalau tidak, video akan ditemukan dan diambil dari beberapa OSA, yang terletak tidak terlalu jauh. <br><br>  Karena Netflix memperkirakan akan populer besok, selalu ada kekurangan satu hari sebelum video diperlukan di OSA.  Ini berarti bahwa video dapat disalin dalam waktu tenang, di luar beban puncak, yang sangat mengurangi penggunaan bandwidth ISP. <br><br>  Open Connect tidak pernah melewatkan cache.  Kehilangan adalah ketika video tertentu diminta dari OSA, dan dia menjawab bahwa dia tidak memilikinya.  Kehilangan terjadi pada CDN lain karena mereka tidak mampu menyalin semua konten di mana pun.  Karena Netflix tahu semua video yang perlu di-cache, ia tahu persis di mana dan video mana pada titik apa.  Jika OSA kecil tidak memiliki video yang diinginkan, itu akan dijamin oleh salah satu OSA utama. <br><br>  Dan mengapa Netflix tidak hanya menyalin semua videonya ke semua OCA di dunia?  Direktori videonya terlalu besar untuk itu.  Pada 2013, volume katalog melebihi 3 petabyte;  seperti apa dia hari ini, saya tidak tahu, saya hanya bisa berasumsi lebih dari itu.  Itulah sebabnya perusahaan telah mengembangkan metode untuk memilih file video yang perlu disimpan pada setiap OSA, menggunakan data yang memprediksi bahwa pelanggan akan ingin menonton. <br><br>  Ambil sebuah contoh.  "House of Cards" adalah pertunjukan yang sangat populer.  OSA mana yang harus disalin?  Kemungkinan besar, di mana saja, karena pelanggan dari seluruh dunia ingin menontonnya.  Tetapi bagaimana jika videonya tidak sepopuler House of Cards?  Netflix memutuskan tempat salinan harus disimpan untuk memenuhi kebutuhan semua pelanggan langsung. <br><br>  Di satu tempat, video paling populer disalin ke banyak OSA.  Semakin populer videonya, semakin banyak server yang akan menyimpan salinannya.  Mengapa  Jika video yang sangat populer hanya memiliki satu salinan, maka aliran video ke semua klien akan membebani server. <br><br>  Video tidak dianggap siap untuk didistribusikan jika disalin ke hanya satu OSA.  Netflix ingin dapat memutar konten yang sama pada saat yang sama di seluruh dunia.  Hanya ketika ada jumlah OSA yang cukup dengan jumlah salinan video yang cukup untuk menyediakannya dengan kualitas yang tepat, video dianggap siap untuk ditonton. <br><br>  Misalnya, musim kedua pertunjukan Daredevil pada tahun 2016 adalah pertama kalinya Netflix merilis semua episode dari seri pada semua perangkat di semua negara pada waktu yang bersamaan. <br><br><h2>  Penempatan OSA: mengapa penyedia membutuhkan ini? </h2><br>  Mengapa penyedia setuju untuk meng-host cluster OSA?  Pada pandangan pertama, ini terlalu murah hati - tetapi akan menarik bagi Anda untuk mengetahui bahwa keuntungan pribadi sebenarnya terlibat di sini.  Untuk memahami ini, kita perlu berbicara tentang cara kerja jaringan.  Dalam buku ini, kami membahas bahwa akses ke layanan cloud adalah melalui Internet.  Dalam kasus Netflix, hal ini tidak terjadi - ketika melihat video melalui aplikasi Netflix, ini berkomunikasi dengan AWS melalui Internet.  [tidak terlalu jelas apa perbedaan yang ada dalam pikiran penulis // kira-kira.  perev.] <br><br>  Internet adalah interkoneksi jaringan.  Anda memiliki penyedia yang menyediakan akses Internet.  Saya mendapatkan layanan internet dari Comcast.  Ini berarti bahwa rumah saya terhubung ke jaringan Comcast melalui serat optik.  Jaringan Comcast milik mereka - ini bukan Internet, Internet adalah sesuatu yang lain. <br><br>  Misalkan saya ingin melakukan pencarian di Google, dan saya mengetik permintaan di browser dan tekan Enter.  Permintaan saya pertama kali melalui jaringan Comcast.  Google tidak terletak di jaringan Comcast.  Pada titik tertentu, permintaan saya harus pergi ke Jaringan Google.  Untuk ini, ada Internet.  Internet menghubungkan jaringan Comcast ke jaringan Google.  Ada protokol routing yang bekerja dengan cara pengontrol lalu lintas jalan dan lalu lintas jaringan langsung.  Ketika permintaan saya dikirim ke Internet, itu terletak di luar jaringan Comcast dan di luar Jaringan Google.  Terletak di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tulang punggung Internet</a> .  Internet terhubung dari banyak jaringan pribadi yang memutuskan untuk berinteraksi satu sama lain.  IXP adalah salah satu cara jaringan berkomunikasi satu sama lain. <br><br>  Di AS ada peta jaringan serat yang jauh: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/204/83b/69a/20483b69a61535edd9aaa59f32f504f4.jpg"><br><br>  Netflix melakukan yang berikut dengan Open Connect-nya: ia meng-host cluster OSA dalam jaringan ISP.  Ini berarti bahwa jika saya menonton video Netflix, saya berbicara dengan OSA yang terletak di jaringan Comcast.  Semua lalu lintas video saya berjalan di jaringan mereka, dan tidak online. <br><br>  Kunci untuk menskala pengiriman video adalah sedekat mungkin dengan pengguna.  Ketika Anda melakukan ini, Anda tidak menggunakan tulang punggung Internet.  Permintaan dipenuhi di bagian lokal jaringan.  Kenapa itu bagus?  Ingat, kami mengatakan bahwa Netflix sudah mengonsumsi lebih dari 37% lalu lintas Internet di AS.  Jika ISP tidak bekerja sama dengan perusahaan, itu akan menggunakan lebih banyak Internet.  Internet tidak dapat menangani semua lalu lintas.  Penyedia perlu menambahkan lebih banyak kapasitas, yang sangat mahal. <br><br>  Sekarang hampir 100% konten Netflix ditransmisikan dalam jaringan penyedia.  Ini mengurangi biaya pemeliharaan jaringan, karena tidak menyumbat Internet.  Pada saat yang sama, pelanggan Netflix menerima video berkualitas tinggi, dan kinerja jaringan meningkat untuk semua orang.  Semua orang menang. <br><br><h2>  Open Connect Handal dan Tangguh </h2><br>  Kami telah membahas bagaimana Netflix meningkatkan keandalan sistem dengan bekerja di tiga wilayah AWS.  Arsitektur Open Connect mencapai tujuan yang sama.  Ini mungkin tidak jelas, tetapi OCA independen satu sama lain.  OCA beroperasi sebagai kepulauan pengiriman video mandiri.  Pelanggan yang menerima video dari satu OSA tidak menderita kegagalan OSA lainnya. <br><br>  Apa yang terjadi ketika OSA gagal?  Program klien yang Anda gunakan langsung beralih ke OSA lain dan melanjutkan kembali tampilan.  Apa yang terjadi jika terlalu banyak orang menggunakan OCA di satu tempat?  Program klien menemukan OSA yang kurang dimuat.  Apa yang terjadi jika jaringan yang digunakan untuk mengirimkan video kelebihan beban?  Hal yang sama - program menemukan OSA lain di jaringan yang berfungsi lebih baik.  Open Connect adalah sistem yang sangat andal dan toleran terhadap kesalahan. <br><br><h2>  Netflix mengontrol klien </h2><br>  Netflix secara cerdik menangani kegagalan karena mengontrol klien di semua perangkat.  Perusahaan itu sendiri mengembangkan aplikasi untuk Android dan iOS, sehingga kami dapat mengharapkannya mengendalikannya.  Tetapi bahkan pada platform seperti Smart TV, di mana Netflix tidak membuat klien, ia masih mengendalikannya karena ia mengontrol paket pengembangan aplikasi (SDK). <br><br>  SDK adalah sekumpulan program pengembangan yang memungkinkan Anda membuat aplikasi.  Setiap aplikasi Netflix membuat permintaan AWS dan memutar video menggunakan SDK.  Dengan mengendalikan SDK, Netflix dapat secara terus-menerus dan secara real time beradaptasi dengan jaringan yang lambat, OSA yang gagal, dan masalah lain yang mungkin terjadi. <br><br>  Dan akhirnya: inilah yang terjadi ketika Anda mengklik "bermain" <br><br>  Kami melangkah jauh ke arah ini, dan kami belajar banyak.  Inilah yang kita ketahui saat ini: <br><br><ul><li>  Netflix dapat dibagi menjadi tiga bagian: backend, klien, dan CDN. </li><li>  Semua permintaan pelanggan ditangani oleh AWS. </li><li>  Semua video ditransfer dari perangkat Open Connect (OCA) terdekat ke CDN. </li><li>  Netflix bekerja dengan tiga wilayah AWS dan biasanya dapat mengatasi kegagalan di wilayah mana pun sehingga tidak seorang pun akan menyadarinya. </li><li>  Konten baru dikonversi di perusahaan ke dalam banyak format berbeda, sehingga Anda dapat memilih opsi yang paling sesuai berdasarkan jenis perangkat, kualitas jaringan, lokasi geografis, dan tingkat pelanggan. </li><li>  Setiap hari, di Open Connect, perusahaan mendistribusikan video di seluruh dunia tanpa memprediksi pelanggan apa yang ingin ditonton di berbagai belahan dunia. </li></ul><br>  Berikut adalah gambar yang dijelaskan Netflix menggunakan proses pemutaran: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/077/f3a/59e/077f3a59eba98e189f19abfcf4c91a9a.jpg"><br><br>  Mari kita selesaikan: <br><br><ul><li>  Anda memilih video untuk ditonton menggunakan klien yang berjalan di beberapa perangkat.  Klien mengirimkan permintaan pemutaran, yang menunjukkan video mana yang Anda butuhkan, ke layanan Playback Apps yang didukung AWS. </li><li>  Kami belum membahas ini sebelumnya, tetapi sebagian besar dari apa yang terjadi ketika Anda mengklik "bermain" terkait dengan perizinan.  Tidak setiap bagian dunia memiliki lisensi untuk melihat setiap video.  Netflix harus menentukan apakah Anda memiliki lisensi untuk menonton video tertentu.  Kami tidak akan membahas topik yang membosankan ini, tetapi perlu diingat bahwa ini terjadi setiap saat.  Salah satu alasan Netflix mulai membuat kontennya sendiri adalah upaya untuk menghindari masalah lisensi [dan masih ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">situasi yang absurd</a> ketika perusahaan tidak dapat menampilkan seri produksi Netflix karena menjual haknya kepada penyedia konten lokal - belum lagi semua wilayah dilarang untuk pekerjaan perusahaan Amerika // kira-kira.  diterjemahkan.].  Netflix ingin merilis acara untuk semua orang di seluruh dunia secara bersamaan.  Membuat konten Anda sendiri adalah cara termudah untuk menghindari masalah lisensi. </li><li>  Dengan semua informasi yang relevan, layanan Playback Apps mengembalikan URL ke beberapa, hingga sepuluh, server OSA.  Ini adalah URL yang sama yang dapat Anda lihat di browser Anda.  Netflix menggunakan alamat IP Anda dan informasi dari penyedia Anda untuk menentukan kelompok OSA mana yang terbaik untuk Anda. </li><li>  Klien menganalisis situasi dan memilih OCA.  Dia memeriksa kualitas koneksi dengan masing-masing.  Ini akan terhubung ke OSA tercepat dan paling dapat diandalkan.  Klien secara konstan melakukan pemeriksaan ini selama pemutaran video. </li><li>  Klien sedang mencoba memilih cara terbaik untuk menerima konten dari OSA. </li><li>  Klien terhubung ke OSA dan mulai mengeluarkan aliran video pada perangkat Anda. </li><li>  Saat menonton video, apakah Anda memperhatikan bahwa kualitas gambar berubah?  Terkadang akan ada piksel, dan setelah beberapa waktu gambar kembali ke kualitas tinggi lagi?  Ini karena klien beradaptasi dengan kualitas jaringan.  Jika kualitas turun, maka klien akan mengurangi kualitas video.  Jika kualitasnya turun terlalu banyak, klien akan beralih ke OSA lain. </li></ul><br>  Inilah yang terjadi ketika Anda mengklik "main" di Netflix.  Siapa yang akan berpikir bahwa hal yang begitu sederhana, seperti menonton video, bisa sangat rumit? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id409583/">https://habr.com/ru/post/id409583/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id409569/index.html">Ablasi retina - apa yang penting untuk diketahui tentang hal itu</a></li>
<li><a href="../id409571/index.html">Cara membuat alien - pemikiran tentang desain spesies asing</a></li>
<li><a href="../id409575/index.html">Pembagian dengan nol, apakah jawabannya tidak terbatas pada alam semesta kita?</a></li>
<li><a href="../id409579/index.html">Intel NUC Hades Canyon - Tengkorak baru dengan otak. Dan mata</a></li>
<li><a href="../id409581/index.html">Intelligent Tello Minidron</a></li>
<li><a href="../id409585/index.html">Telegram berencana untuk membuat platform blockchain sendiri</a></li>
<li><a href="../id409593/index.html">Apakah pop kehilangan daya tariknya?</a></li>
<li><a href="../id409595/index.html">Tinjauan Umum Plastik FDM Suhu Tinggi untuk Pencetakan 3D Industri</a></li>
<li><a href="../id409597/index.html">Mars Reconnaissance Orbiter tampaknya menemukan es di Mars</a></li>
<li><a href="../id409605/index.html">Dari senapan ke senapan mesin - abad gila, bagian 3/3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>