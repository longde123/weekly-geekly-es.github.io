<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ”´ ğŸ¨ ğŸ© å¹¶éæ‰€æœ‰è¡¥ä¸éƒ½åŒæ ·æœ‰ç”¨ã€‚ ğŸ¥¨ ğŸ’† ğŸ‘ˆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è¿™ç¯‡æ–‡ç« ç»§ç»­è®¨è®ºæ€§èƒ½æ”¹è¿›çš„é—®é¢˜ï¼Œå¦‚æœä¸æ˜¯é’ˆå¯¹ä¸åŒçš„æƒ…å†µï¼Œåˆ™å¯èƒ½ä¼šå®ç°ã€‚ å…³äºStringBuilderçš„ä¸Šä¸€éƒ¨åˆ†åœ¨è¿™é‡Œ ã€‚ 


 åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€äº›ç”±äºå¯¹è¯­è¨€è§„èŒƒçš„ç²¾å¦™ä¹‹å¤„ï¼Œä¸æ˜æ˜¾çš„æç«¯æƒ…å†µå’Œå…¶ä»–åŸå› ç¼ºä¹ç†è§£è€Œè¢«æ‹’ç»çš„â€œæ”¹è¿›â€ã€‚ èµ°å§ 
 å½“æ²¡æœ‰é¢„å…†çš„æ—¶å€™ 


 æˆ‘è®¤ä¸ºæˆ‘ä»¬æ¯ä¸ªäººéƒ½ä½¿ç”¨äº†Col...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å¹¶éæ‰€æœ‰è¡¥ä¸éƒ½åŒæ ·æœ‰ç”¨ã€‚</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433174/"><p>è¿™ç¯‡æ–‡ç« ç»§ç»­è®¨è®ºæ€§èƒ½æ”¹è¿›çš„é—®é¢˜ï¼Œå¦‚æœä¸æ˜¯é’ˆå¯¹ä¸åŒçš„æƒ…å†µï¼Œåˆ™å¯èƒ½ä¼šå®ç°ã€‚ å…³äº<code>StringBuilder</code>çš„ä¸Šä¸€éƒ¨åˆ†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨è¿™é‡Œ</a> ã€‚ </p><br><p> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€äº›ç”±äºå¯¹è¯­è¨€è§„èŒƒçš„ç²¾å¦™ä¹‹å¤„ï¼Œä¸æ˜æ˜¾çš„æç«¯æƒ…å†µå’Œå…¶ä»–åŸå› ç¼ºä¹ç†è§£è€Œè¢«æ‹’ç»çš„â€œæ”¹è¿›â€ã€‚ èµ°å§ </p><a name="habracut"></a><br><h4 id="kogda-nichto-ne-predveschaet-bedy"> å½“æ²¡æœ‰é¢„å…†çš„æ—¶å€™ </h4><br><p> æˆ‘è®¤ä¸ºæˆ‘ä»¬æ¯ä¸ªäººéƒ½ä½¿ç”¨äº†<code>Collections.emptySet()</code> / <code>Collections.emptyList()</code> ã€‚ è¿™äº›éå¸¸æœ‰ç”¨çš„æ–¹æ³•ä½¿æ‚¨æ— éœ€åˆ›å»ºæ–°å¯¹è±¡å³å¯è¿”å›ç©ºçš„ä¸å¯å˜é›†åˆã€‚ åœ¨<code>EmptyList</code>ç±»ä¸­<code>EmptyList</code>æˆ‘ä»¬å°†çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EmptyList</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Iterator&lt;E&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> emptyIterator(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Object[] toArray() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[<span class="hljs-number"><span class="hljs-number">0</span></span>]; } }</code> </pre> <br><p> çœ‹åˆ°å¼ºå¤§çš„æ”¹è¿›æ½œåŠ›å—ï¼Ÿ  <code>EmptyList.iterator()</code>æ–¹æ³•ä»å­˜åœ¨æ—¶è¿”å›ä¸€ä¸ªç©ºçš„è¿­ä»£å™¨ï¼Œä¸ºä»€ä¹ˆä¸å¯¹<code>toArray()</code>æ–¹æ³•è¿”å›çš„æ•°ç»„è¿›è¡Œç›¸åŒçš„<code>EmptyList.iterator()</code>å‘¢ï¼Ÿ </p><br><div class="spoiler">  <b class="spoiler_title">ä½†æ˜¯æœ‰ä¸€ä¸ªå«åšæ–‡æ¡£</b> <div class="spoiler_text"><blockquote> è¿”å›çš„æ•°ç»„å°†æ˜¯â€œå®‰å…¨çš„â€ï¼Œå› ä¸ºæ­¤åˆ—è¡¨ä¸ä¿ç•™å¯¹å…¶çš„å¼•ç”¨ã€‚  ï¼ˆæ¢å¥è¯è¯´ï¼Œå³ä½¿æ­¤åˆ—è¡¨ç”±æ•°ç»„æ”¯æŒï¼Œæ­¤æ–¹æ³•ä¹Ÿå¿…é¡»åˆ†é…ä¸€ä¸ªæ–°æ•°ç»„ï¼‰ã€‚ å› æ­¤ï¼Œè°ƒç”¨è€…å¯ä»¥è‡ªç”±ä¿®æ”¹è¿”å›çš„æ•°ç»„ã€‚ </blockquote><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">http://mail.openjdk.java.net/pipermail/core-libs-dev/2017-September/049170.html</a> <br>  <a href="" rel="nofollow">http://hg.openjdk.java.net/jdk/jdk12/file/ffac5eabbf28/src/java.base/share/classes/java/util/List.java#l185</a> </p></div></div><br><p> æ¢å¥è¯è¯´ï¼Œè¯¥æ–¹æ³•åº”å§‹ç»ˆè¿”å›ä¸€ä¸ª<strong>æ–°</strong>æ•°ç»„ã€‚ </p><br><p> æ‚¨ä¼šè¯´ï¼šâ€œä»–æ˜¯ä¸€æˆä¸å˜çš„ï¼æ€ä¹ˆå¯èƒ½å‡ºé—®é¢˜äº†ï¼Ÿï¼Ÿâ€ </p><br><p> åªæœ‰ç»éªŒä¸°å¯Œçš„ä¸“å®¶æ‰èƒ½å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š </p><br><blockquote>  -è°è´Ÿè´£ï¼Ÿ <br>  -è´Ÿè´£ä¸“å®¶Paul Sandozå’ŒTagir Valeev </blockquote><br><div class="spoiler">  <b class="spoiler_title">ä¸“å®¶çš„ç­”æ¡ˆ</b> <div class="spoiler_text"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">http://mail.openjdk.java.net/pipermail/core-libs-dev/2017-September/049171.html</a> </p><br><blockquote> å¦è¯·æ³¨æ„ï¼Œè¿™ä¼šæ›´æ”¹å¯è§è¡Œä¸ºã€‚ ä¾‹å¦‚ æœ‰äººå¯èƒ½ä¼šåŒæ­¥toArrayè°ƒç”¨è¿”å›çš„æ•°ç»„å¯¹è±¡ï¼Œå› æ­¤æ­¤æ›´æ”¹å¯èƒ½ä¼šå¯¼è‡´ä¸å¿…è¦çš„<strong>é”å…±äº«</strong> ã€‚ <br><br> æˆ‘æ›¾ç»æå‡ºè¿‡ç±»ä¼¼çš„æ”¹è¿›ï¼šæä¾›çš„æ•°ç»„é•¿åº¦ä¸ºé›¶æ—¶ï¼Œä»Arrays.asListï¼ˆï¼‰è¿”å›EMPTY_LISTã€‚ å‡ºäºåŒæ ·çš„åŸå› å®ƒè¢«æ‹’ç»äº†[1]ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">http://mail.openjdk.java.net/pipermail/core-libs-dev/2015-September/035197.html</a> <br><br> é¡ºä¾¿è¯´ä¸€å¥ï¼Œç„¶åArrays.asListæ£€æŸ¥æ•°ç»„é•¿åº¦å¯èƒ½æ˜¯åˆç†çš„ï¼Œä¾‹å¦‚ï¼š <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;T&gt; <span class="hljs-function"><span class="hljs-function">List&lt;T&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T... a)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a.length == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Collections.emptyList(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(a); }</code> </pre> <br><br> å¬èµ·æ¥åˆç†å§ï¼Ÿ å¦‚æœå¯ä»¥å…è´¹è·å–ç°æˆçš„æ•°ç»„ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ä¸ºç©ºæ•°ç»„åˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨ï¼Ÿ <br> æœ‰ç†ç”±ä¸è¿™æ ·åšã€‚ ç›®å‰ï¼ŒArrays.asListå¯¹è¿”å›çš„Listçš„èº«ä»½æ²¡æœ‰æŒ‡å®šä»»ä½•çº¦æŸã€‚ æ·»åŠ å¾®ä¼˜åŒ–å°†æ”¹å˜è¿™ç§æƒ…å†µã€‚ è¿™ä¹Ÿæ˜¯ä¸€ä¸ªæç«¯çš„æ¡ˆä¾‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¯ç–‘çš„ç”¨ä¾‹ï¼Œä½†æ˜¯è€ƒè™‘åˆ°æˆ‘ä¼šä¿å®ˆåœ°ä¿æŒç°çŠ¶ã€‚ </blockquote></div></div><br><p> è¿™å¥è¯å¯èƒ½ä¼šä½¿æ‚¨æ„Ÿåˆ°å›°æƒ‘ï¼š </p><br><blockquote> ä¾‹å¦‚ æœ‰äººå¯èƒ½ä¼šå¯¹toArrayè°ƒç”¨è¿”å›çš„æ•°ç»„å¯¹è±¡è¿›è¡ŒåŒæ­¥ï¼Œå› æ­¤æ­¤æ›´æ”¹å¯èƒ½ä¼šå¯¼è‡´ä¸å¿…è¦çš„é”å…±äº«ã€‚ </blockquote><p> æ‚¨ä¼šè¯´ï¼šâ€œè°å°†åœ¨ä»–ä»¬çš„æ­£ç¡®æ€ç»´ä¸­åŒæ­¥æ•°ç»„ï¼ˆï¼ï¼‰ä»é›†åˆä¸­è¿”å›ï¼ˆ!!!ï¼‰ï¼ï¼â€ </p><br><p> å¬èµ·æ¥ä¸å¤ªå¯ä¿¡ï¼Œä½†æ˜¯è¿™ç§è¯­è¨€æä¾›äº†è¿™æ ·çš„æœºä¼šï¼Œè¿™æ„å‘³ç€æŸä¸ªç”¨æˆ·æœ‰å¯èƒ½è¿™æ ·åšï¼ˆç”šè‡³å·²ç»åšåˆ°äº†ï¼‰ã€‚ ç„¶åï¼Œå»ºè®®çš„æ›´æ”¹æœ€å¤šå°†æ›´æ”¹ä»£ç çš„è¡Œä¸ºï¼Œè€Œæœ€åçš„æƒ…å†µå°†å¯¼è‡´åŒæ­¥å´©æºƒï¼ˆä»¥åå†æ•è·ï¼‰ã€‚ é£é™©æ˜¯å¦‚æ­¤ä¸åˆç†ï¼Œé¢„æœŸæ”¶ç›Šæ˜¯å¦‚æ­¤å¾®ä¸è¶³é“ï¼Œä»¥è‡³äºæœ€å¥½è¿˜æ˜¯ä¿ç•™ä¸€åˆ‡ã€‚ </p><br><p> é€šå¸¸ï¼Œå¯¹ä»»ä½•å¯¹è±¡kmkè¿›è¡ŒåŒæ­¥çš„èƒ½åŠ›æ˜¯è¯­è¨€å¼€å‘äººå‘˜çš„é”™è¯¯ã€‚ é¦–å…ˆï¼Œæ¯ä¸ªå¯¹è±¡çš„æ ‡å¤´éƒ½åŒ…å«è´Ÿè´£åŒæ­¥çš„ç»“æ„ï¼Œå…¶æ¬¡ï¼Œæˆ‘ä»¬å‘ç°è‡ªå·±å¤„äºä¸Šè¿°æƒ…å†µï¼Œå› ä¸ºçœ‹ä¼¼ä¸å¯å˜çš„å¯¹è±¡å¯ä»¥åœ¨å…¶ä¸ŠåŒæ­¥ï¼Œå› æ­¤æ— æ³•å¤šæ¬¡è¿”å›ã€‚ </p><br><p> è¿™ä¸ªå¯“è¨€çš„å¯“æ„æ˜¯ï¼šè§„èŒƒå’Œå‘åå…¼å®¹æ€§æ˜¯Javaçš„ç¥åœ£ä»£è¡¨ã€‚ ç”šè‡³ä¸è¦è¯•å›¾ä¾µçŠ¯ä»–ä»¬ï¼šè­¦å«åœ¨æ²¡æœ‰è­¦å‘Šçš„æƒ…å†µä¸‹å¼€æªå°„å‡»ã€‚ </p><br><h4 id="staraeshsya-staraeshsya"> å°è¯•ï¼Œå°è¯•... </h4><br><p>  JDKä¸­ä¸€æ¬¡æœ‰å‡ ä¸ªåŸºäºæ•°ç»„çš„ç±»ï¼Œå®ƒä»¬å…¨éƒ¨å®ç°<code>List.indexOf()</code>å’Œ<code>List.lastIndexOf()</code> ï¼š </p><br><ul><li>  java.util.ArrayList </li><li>  java.util.Arrays $ ArrayList </li><li>  java.util.Vector </li><li>  java.util.concurrent.CopyOnWriteArrayList </li></ul><br><p> è¿™äº›ç±»ä¸­è¿™äº›æ–¹æ³•çš„ä»£ç å‡ ä¹ä¸€å¯¹ä¸€é‡å¤ã€‚ è®¸å¤šåº”ç”¨ç¨‹åºå’Œæ¡†æ¶è¿˜æä¾›é’ˆå¯¹ç›¸åŒé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼š </p><br><ul><li>  <a href="" rel="nofollow">org.hibernate.bytecode.enhance.internal.tracker.SimpleFieldTracker</a> </li><li>  <a href="" rel="nofollow">com.intellij.util.ArrayUtil</a> </li><li>  <a href="" rel="nofollow">com.intellij.util.ArrayUtilRt</a> </li><li>  <a href="" rel="nofollow">org.springframework.oxm.jibx.JibxMarshaller</a> </li></ul><br><p> ç»“æœï¼Œæˆ‘ä»¬éœ€è¦ç¼–è¯‘ä¸€äº›æ‚æ•£çš„ä»£ç ï¼ˆæœ‰æ—¶æœ‰æ—¶éœ€è¦å‡ æ¬¡ï¼‰ï¼Œè¿™äº›ä»£ç å‘ç”Ÿåœ¨ReserverCodeCacheä¸­ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œæµ‹è¯•ï¼Œå¹¶ä¸”åœ¨å„ä¸ªç±»ä¹‹é—´å¾˜å¾Šå‡ ä¹æ²¡æœ‰ä»»ä½•å˜åŒ–ã€‚ </p><br><p> åè¿‡æ¥ï¼Œå¼€å‘äººå‘˜éå¸¸å–œæ¬¢ç¼–å†™ç±»ä¼¼ </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = Arrays.asList(array).indexOf(obj); <span class="hljs-comment"><span class="hljs-comment">//  boolean contains = Arrays.asList(array).contains(obj); //    boolean contains = Arrays.stream(names).anyMatch(nm -&gt; nm.equals(name));</span></span></code> </pre> <br><p> æˆ‘æƒ³åœ¨JDKä¸­å¼•å…¥é€šç”¨å®ç”¨ç¨‹åºæ–¹æ³•ï¼Œå¹¶æ ¹æ®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">å»ºè®®</a>åœ¨å„å¤„ä½¿ç”¨å®ƒä»¬ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">è¡¥ä¸</a>ä»…éœ€ä¸¤ä¸ªä¾¿å£«ï¼š </p><br><p>  1ï¼‰ <code>List.indexOf()</code>å’Œ<code>List.lastIndexOf()</code>ç§»è‡³<code>java.util.Arrays</code> <br>  2ï¼‰ç›¸åï¼Œåˆ†åˆ«è°ƒç”¨<code>Arrays.indexOf()</code>å’Œ<code>Arrays.lastIndexOf()</code> </p><br><p> çœ‹æ¥å¯èƒ½å‡ºä»€ä¹ˆé—®é¢˜äº†ï¼Ÿ è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¾è€Œæ˜“è§ã€‚ ä½†æ˜¯æœ¬æ–‡æ˜¯å…³äºå¤±è´¥çš„ï¼Œæ‰€ä»¥è¯·è€ƒè™‘å¯èƒ½å‡ºäº†ä»€ä¹ˆé—®é¢˜ã€‚ </p><br><blockquote>  -è°è´Ÿè´£ï¼Ÿ <br>  -è´Ÿè´£ä¸“å®¶Martin Buchholzå’ŒPaul Sandoz </blockquote><br><div class="spoiler">  <b class="spoiler_title">æ•æˆ‘ç›´è¨€ï¼Œæœ‰ç‚¹ç»·ç´§ï¼Œä½†æ˜¯</b> <div class="spoiler_text"><p> é©¬ä¸Â·å¸ƒèµ«éœå°”å…¹ï¼ˆMartin Buchholzï¼‰ï¼š </p><br><blockquote>  Sergeyï¼Œæˆ‘æ­£åœ¨ç»´æŠ¤æ‰€æœ‰è¿™äº›æ”¶é›†ç±»ï¼Œæœ‰æ—¶æˆ‘è¿˜æƒ³åœ¨Array.javaä¸­ä½¿ç”¨indexOfæ–¹æ³•ã€‚ ä½†æ˜¯ï¼š <br><br> é€šå¸¸ä¸å»ºè®®ä½¿ç”¨æ•°ç»„ã€‚ æ•°ç»„ä¸Šçš„ä»»ä½•æ–°é™æ€æ–¹æ³•ï¼ˆæˆ–è€…ï¼Œåœ¨æˆ‘å®é™…éœ€è¦å®ƒä»¬çš„åœ°æ–¹ï¼Œæ•°ç»„å¯¹è±¡æœ¬èº«ï¼éœ€è¦æ›´æ”¹Javaè¯­è¨€ï¼ï¼‰éƒ½ä¼šé‡åˆ°é˜»åŠ›ã€‚ <br><br> æˆ‘ä»¬å¾ˆé—æ†¾åœ¨é›†åˆä¸­æ”¯æŒç©ºå€¼ï¼Œå› æ­¤è¾ƒæ–°çš„é›†åˆç±»ï¼ˆå¦‚ArrayDequeï¼‰ä¸æ”¯æŒå®ƒä»¬ã€‚ <br><br> ç”¨æˆ·å¯èƒ½æƒ³è¦çš„å¦ä¸€ä¸ªå˜ä½“æ˜¯è¦ä½¿ç”¨å“ªç§ç›¸ç­‰æ¯”è¾ƒã€‚ <br><br> æˆ‘ä»¬æ„Ÿåˆ°é—æ†¾çš„æ˜¯ï¼ŒArrayListå…·æœ‰ä»é›¶å¼€å§‹çš„ç´¢å¼•ã€‚ä»ç¬¬ä¸€å¤©å¼€å§‹ï¼Œæœ€å¥½å…·æœ‰ArrayDequeçš„å¾ªç¯æ•°ç»„è¡Œâ€‹â€‹ä¸ºã€‚ <br><br> æœç´¢æ•°ç»„åˆ‡ç‰‡çš„ä»£ç éå¸¸å°ï¼Œå› æ­¤æ‚¨ä¸ä¼šèŠ‚çœå¤ªå¤šã€‚ å®¹æ˜“å‡ºé”™ï¼Œè¿™å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯å¯¹äºArrays APIä¹Ÿæ˜¯å¦‚æ­¤ã€‚ </blockquote><p> ä¿ç½—Â·æ¡‘å¤šå…¹ï¼ˆPaul Sandozï¼‰ï¼š </p><br><blockquote> æˆ‘ä¸ä¼šè¯´ä¸é¼“åŠ±ä½¿ç”¨æ•°ç»„ï¼Œæˆ‘ä¼šç§¯æåœ°å°†å…¶æ—‹è½¬ä¸ºâ€œè°¨æ…ä½¿ç”¨â€ï¼Œå› ä¸ºå®ƒä»¬æ¯”è¾ƒåˆºçœ¼ï¼Œä¾‹å¦‚æ€»æ˜¯å¯å˜çš„ã€‚å®ƒä»¬è‚¯å®šä¼šå¾—åˆ°æ”¹è¿›ã€‚æˆ‘å¾ˆé«˜å…´çœ‹åˆ°æ•°ç»„å®ç°äº†ä¸€ä¸ªé€šç”¨æ•°ç»„åœ¨â€œ ishâ€ç•Œé¢ä¸Šï¼Œä»·å€¼ç±»å‹æ²‰æ·€åï¼Œæˆ‘ä»¬ä¹Ÿè®¸å¯ä»¥å–å¾—ä¸€äº›è¿›å±•ã€‚ <br><br> ä½†æ˜¯ï¼Œè‡³å°‘å¯¹æˆ‘æ¥è¯´ï¼Œå¯¹Arraysçš„ä»»ä½•æ–°æ·»åŠ éƒ½ä¼šé‡åˆ°ä¸€å®šçš„é˜»åŠ›ï¼š-)å®ƒæ°¸è¿œä¸ä¼šåªæ·»åŠ ä¸€ç§æˆ–ä¸¤ç§æ–¹æ³•ï¼Œè®¸å¤šå…¶ä»–æ–¹æ³•ä¹Ÿéœ€è¦ä½¿ç”¨ï¼ˆæ‰€æœ‰åŸè¯­å’ŒèŒƒå›´å˜ä½“ï¼‰ã€‚ å› æ­¤ï¼Œä»»ä½•æ–°åŠŸèƒ½éƒ½å¿…é¡»å…·æœ‰è¶³å¤Ÿçš„ä¼˜åŠ¿ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘è®¤ä¸ºä¼˜åŠ¿ä¸è¶³ï¼ˆä¾‹å¦‚å¯èƒ½å‡å°‘ä»£ç ç¼“å­˜å‹åŠ›ï¼‰ã€‚ </blockquote><p> ä¿ç½— </p></div></div><br><p> å¯¹åº”ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">http</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">//mail.openjdk.java.net/pipermail/core-libs-dev/2018-March/051968.html</a> </p><br><p> è¿™ä¸ªå¯“è¨€çš„å¯“æ„æ˜¯è¿™æ ·çš„ï¼šä»…ä»…å› ä¸ºä»–ä»¬çœ‹ä¸åˆ°ä»»ä½•ç‰¹æ®Šçš„ä»·å€¼ï¼Œå°±å¯ä»¥å®°æ€æ‚¨çš„å·§å¦™è¡¥ä¸ä»¥è¿›è¡Œå®¡æŸ¥ã€‚ å¥½å§ï¼Œæ˜¯çš„ï¼Œæœ‰é‡å¤çš„ä»£ç ï¼Œä½†æ˜¯å®ƒä¸ä¼šæ‰“æ‰°ä»»ä½•äººï¼Œæ‰€ä»¥è®©å®ƒæ´»ä¸‹å»ã€‚ </p><br><h4 id="uluchsheniya-dlya-arraylist-a-ih-est-u-menya">  ArrayListçš„æ”¹è¿›ï¼Ÿ æˆ‘æœ‰ä»–ä»¬ </h4><br><p><del> åŠ©åŠ›è½¦ </del> è¯¥è¡¥ä¸ä¸æ˜¯æˆ‘çš„ï¼Œæˆ‘å°†å…¶å‘å¸ƒï¼Œä¾›æ‚¨æ€è€ƒã€‚ ææ¡ˆæœ¬èº«å·²<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">åœ¨è¿™é‡Œ</a>è¡¨è¾¾å‡ºæ¥ï¼Œå¹¶ä¸”çœ‹èµ·æ¥éå¸¸æœ‰å¸å¼•åŠ›ã€‚ è‡ªå·±çœ‹çœ‹ï¼š </p><br><div class="spoiler">  <b class="spoiler_title">æ‹Ÿè®®çš„å˜æ›´</b> <div class="spoiler_text"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">å‹æƒ…é“¾æ¥</a> </p></div></div><br><p> ç”¨è‚‰çœ¼çœ‹ï¼Œè¿™ä¸ªæè®®æ˜¯éå¸¸éå¸¸åˆä¹é€»è¾‘çš„ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ç®€å•çš„<a href="" rel="nofollow">åŸºå‡†</a>æ¥è¡¡é‡æ€§èƒ½ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@State</span></span>(Scope.Benchmark) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArrayListBenchmark</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@State</span></span>(Scope.Benchmark) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Data</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Param</span></span>({<span class="hljs-string"><span class="hljs-string">"10"</span></span>, <span class="hljs-string"><span class="hljs-string">"100"</span></span>, <span class="hljs-string"><span class="hljs-string">"1000"</span></span>, <span class="hljs-string"><span class="hljs-string">"10000"</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> size; ArrayList&lt;Integer&gt; arrayRandom = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;Integer&gt;(size); <span class="hljs-meta"><span class="hljs-meta">@Setup</span></span>(Level.Invocation) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initArrayList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Random rand = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); rand.setSeed(System.currentTimeMillis()); <span class="hljs-comment"><span class="hljs-comment">// Populate the ArrayList with size-5 elements for (int i = 0; i &lt; size - 5; i++) { Integer r = rand.nextInt() % 256; arrayRandom.add(r); } } } @Benchmark public ArrayList construct_new_array_list(Data d) { ArrayList al = new ArrayList(d.arrayRandom); // once a new ArrayList is created add a new element al.add(new Integer(900)); return al; } }</span></span></code> </pre> <br><p> æ€»ç»“ï¼š </p><br><pre> <code class="plaintext hljs">Benchmark (size) Mode Cnt Score Error Units  construct_new_array_list 10 thrpt 25 388.212 Â± 23.110 ops/s construct_new_array_list 100 thrpt 25 90.208 Â± 7.995 ops/s construct_new_array_list 1000 thrpt 25 23.289 Â± 1.687 ops/s construct_new_array_list 10000 thrpt 25 7.659 Â± 0.560 ops/s  construct_new_array_list 10 thrpt 25 562.678 Â± 37.370 ops/s construct_new_array_list 100 thrpt 25 119.791 Â± 13.232 ops/s construct_new_array_list 1000 thrpt 25 33.811 Â± 3.812 ops/s construct_new_array_list 10000 thrpt 25 10.889 Â± 0.564 ops/s</code> </pre> <br><p> å¦‚æ­¤ç®€å•çš„æ›´æ”¹ä¸€ç‚¹ä¹Ÿä¸å·®ã€‚ æœ€ä¸»è¦çš„æ˜¯ï¼Œä¼¼ä¹æ²¡æœ‰æ”¶è·ã€‚ è¯šå®åœ°åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œè¯šå®åœ°å¤åˆ¶æ•°æ®ï¼Œä¸è¦å¿˜è®°å¤§å°ã€‚ ç°åœ¨ï¼Œä»–ä»¬ä¸€å®šè¦æ¥å—è¡¥ä¸ï¼ </p><br><div class="spoiler">  <b class="spoiler_title">ä½†æ˜¯é‚£æ˜¯</b> <div class="spoiler_text"><p> é©¬ä¸Â·å¸ƒèµ«éœå°”å…¹ï¼ˆMartin Buchholzï¼‰ï¼š </p><br><blockquote> æ¯«æ— ç–‘é—®ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜åŒ–ArrayList-&gt; ArrayListçš„å¤§å°å†™ï¼Œä½†æ˜¯å…¶ä»–æ‰€æœ‰Collectionå®ç°åˆå¦‚ä½•å‘¢ï¼Ÿ æˆ‘æƒ³åˆ°äº†ArrayDequeå’ŒCopyOnWriteArrayListã€‚ <br>  ArrayListæ˜¯ä¸€ä¸ªæµè¡Œçš„ç±»ï¼Œç”¨äºåˆ¶ä½œCollectionçš„å‰¯æœ¬ã€‚ ä½ åœ¨å“ªé‡Œåœä¸‹æ¥ï¼Ÿ <br><br>  ArrayListçš„ç—…ç†æ€§å­ç±»å¯èƒ½ä¼šå†³å®šä¸å°†å…ƒç´ å­˜å‚¨åœ¨åå¤‡æ•°ç»„ä¸­ï¼Œä»è€Œå¯¼è‡´æŸåã€‚ <br><br> åˆ—è¡¨å¤åˆ¶é—®é¢˜çš„æœ€ä½³è§£å†³æ–¹æ¡ˆå¯èƒ½æ˜¯List.copyOf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#copyOf(java .util.Collection</a> ï¼‰å¯èƒ½ä¼šè¿›è¡Œæ‚¨å¸Œæœ›çš„ä¼˜åŒ–ã€‚ </blockquote><p> è‰¾ä¼¦Â·è´ç‰¹æ›¼ </p><br><blockquote>  ArrayListä¸æ˜¯æœ€ç»ˆçš„ï¼Œå› æ­¤å¯èƒ½æœ‰äººå°†å…¶æ‰©å±•ä¸ºä½¿ç”¨é™¤elementDataä¹‹å¤–çš„å…¶ä»–å†…å®¹ã€‚ ä½¿ç”¨ç±»æ ‡è¯†è€Œä¸æ˜¯instanceofå¯èƒ½æ›´å®‰å…¨ã€‚ </blockquote></div></div><br><p> æ²¡æœ‰ä»€ä¹ˆå¯ä»¥ç¦æ­¢æˆ‘ä»<code>ArrayList</code>å–æ¶ˆå…³è”å¹¶å°†æ•°æ®å­˜å‚¨åœ¨é“¾æ¥åˆ—è¡¨ä¸­çš„ã€‚ ç„¶åï¼Œ <code>c instanceof ArrayList</code>å°†è¿”å›çœŸç›¸ï¼Œæˆ‘ä»¬å°†åˆ°è¾¾å¤åˆ¶åŒºåŸŸå¹¶å®‰å…¨ä¸‹è½ã€‚ </p><br><p> è¿™ä¸ªå¯“è¨€çš„å¯“æ„æ˜¯ï¼šè¡Œä¸ºçš„<em>å¯èƒ½</em>æ”¹å˜å¯èƒ½æ˜¯å¤±è´¥çš„åŸå› ã€‚ æ¢å¥è¯è¯´ï¼Œå¦‚æœè¯­è¨€æ‰‹æ®µå…è®¸çš„è¯ï¼Œå³ä½¿æ˜¯æœ€è’è°¬çš„å˜åŒ–ï¼Œä¹Ÿå¿…é¡»ç‰¢è®°ã€‚ æ˜¯çš„ï¼Œå¦‚æœ<code>ArrayList</code>ä»ä¸€å¼€å§‹å°±å£°æ˜ä¸º<code>final</code> ï¼Œåˆ™å¯ä»¥è§£å†³é—®é¢˜ã€‚ </p><br><h4 id="snova-specifikaciya"> å†æ¬¡è§„æ ¼ </h4><br><p> åœ¨è°ƒè¯•æˆ‘çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä¸å°å¿ƒé™·å…¥äº†Springçš„èƒ†é‡ï¼Œå‘ç°ä»¥ä¸‹<a href="" rel="nofollow">ä»£ç </a> ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//      paramTypes for (Constructor&lt;?&gt; candidate : candidates) { Class&lt;?&gt;[] paramTypes = candidate.getParameterTypes(); if (constructorToUse != null &amp;&amp; argsToUse != null &amp;&amp; argsToUse.length &gt; paramTypes.length) { // Already found greedy constructor that can be satisfied -&gt; // do not look any further, there are only less greedy constructors left. break; } if (paramTypes.length &lt; minNrOfArgs) { continue; }</span></span></code> </pre> <br><p> å¹¸è¿çš„æ˜¯ï¼Œé€šè¿‡è¿›å…¥<code>java.lang.reflect.Constructor.getParameterTypes()</code>æˆ‘å°†ä»£ç å‘ä¸‹æ»šåŠ¨ä¸€ç‚¹ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªæ¼‚äº®çš„ä»£ç ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Class&lt;?&gt;[] getParameterTypes() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parameterTypes.clone(); } <span class="hljs-comment"><span class="hljs-comment">/** * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritDoc</span></span></span><span class="hljs-comment">} * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@since</span></span></span><span class="hljs-comment"> 1.8 */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getParameterCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parameterTypes.length; }</code> </pre> <br><p> ä½ çœ‹ï¼Œæ˜¯å—ï¼Ÿ å¦‚æœæˆ‘ä»¬éœ€è¦æ‰¾å‡ºæ„é€ å‡½æ•°/æ–¹æ³•å‚æ•°çš„æ•°é‡ï¼Œåˆ™åªéœ€è°ƒç”¨<code>java.lang.reflect.Method.getParameterCount()</code> ï¼Œè€Œæ— éœ€å¤åˆ¶æ•°ç»„ã€‚ åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼ˆè¯¥æ–¹æ³•æ²¡æœ‰å‚æ•°ï¼‰ï¼Œæ£€æŸ¥æ¸¸æˆæ˜¯å¦å€¼å¾—å°è¯•ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@State</span></span>(Scope.Thread) <span class="hljs-meta"><span class="hljs-meta">@BenchmarkMode</span></span>(Mode.AverageTime) <span class="hljs-meta"><span class="hljs-meta">@OutputTimeUnit</span></span>(TimeUnit.NANOSECONDS) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MethodToStringBenchmark</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Method method; <span class="hljs-meta"><span class="hljs-meta">@Setup</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ method = getClass().getMethod(<span class="hljs-string"><span class="hljs-string">"toString"</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getParameterCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> method.getParameterCount(); } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getParameterTypes</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> method.getParameterTypes().length; } }</code> </pre> <br><p> åœ¨æˆ‘çš„æœºå™¨ä¸Šä»¥åŠJDK 11ä¸Šï¼Œç»“æœå¦‚ä¸‹ï¼š </p><br><pre> <code class="plaintext hljs">Benchmark Mode Cnt Score Error Units getParameterCount avgt 25 2,528 Â± 0,085 ns/op getParameterCount:Â·gc.alloc.rate avgt 25 â‰ˆ 10â»â´ MB/sec getParameterCount:Â·gc.alloc.rate.norm avgt 25 â‰ˆ 10â»â· B/op getParameterCount:Â·gc.count avgt 25 â‰ˆ 0 counts getParameterTypes avgt 25 7,299 Â± 0,410 ns/op getParameterTypes:Â·gc.alloc.rate avgt 25 1999,454 Â± 89,929 MB/sec getParameterTypes:Â·gc.alloc.rate.norm avgt 25 16,000 Â± 0,001 B/op getParameterTypes:Â·gc.churn.G1_Eden_Space avgt 25 2003,360 Â± 91,537 MB/sec getParameterTypes:Â·gc.churn.G1_Eden_Space.norm avgt 25 16,030 Â± 0,045 B/op getParameterTypes:Â·gc.churn.G1_Old_Gen avgt 25 0,004 Â± 0,001 MB/sec getParameterTypes:Â·gc.churn.G1_Old_Gen.norm avgt 25 â‰ˆ 10â»âµ B/op getParameterTypes:Â·gc.count avgt 25 2380,000 counts getParameterTypes:Â·gc.time avgt 25 1325,000 ms</code> </pre> <br><p> æˆ‘ä»¬è¯¥æ€ä¹ˆåŠï¼Ÿ æˆ‘ä»¬å¯ä»¥åœ¨JDKä¸­æœç´¢åæ¨¡å¼<code>Method.getParameterTypes().length</code> ï¼ˆè‡³å°‘åœ¨<code>java.base</code> ï¼‰ï¼Œå¹¶åœ¨æœ‰æ„ä¹‰çš„åœ°æ–¹å°†å…¶æ›¿æ¢ï¼š </p><br><p> <code>java.lang.invoke.MethodHandleProxies</code> </p> <br><p><img src="https://habrastorage.org/webt/l_/3j/h1/l_3jh1hu3swdedxqktlxboz0tu0.png"></p><br><p> <code>java.util.concurrent.ForkJoinTask</code> </p> <br><p><img src="https://habrastorage.org/webt/0o/rt/q7/0ortq71mnf3-bwsa4wyi-jmzf5y.png"></p><br><p> <code>java.lang.reflect.Executable</code> </p> <br><p><img src="https://habrastorage.org/webt/sm/_h/pm/sm_hpm8eahlmqavobjqg9gejvse.png"></p><br><p> <code>sun.reflect.annotation.AnnotationType</code> </p> <br><p><img src="https://habrastorage.org/webt/yw/bv/il/ywbvil_doi3fzy6uzkpcm42g6zu.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">è¡¥ä¸</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">æ±‚èŒä¿¡</a>ä¸€èµ·å‘é€ã€‚ </p><br><p> çªç„¶ä¹‹é—´ï¼Œäº‹å®è¯æ˜ï¼Œå‡ å¹´æ¥ä¸€ç›´å­˜åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">ç±»ä¼¼çš„ä»»åŠ¡ï¼Œ</a>ç”šè‡³ä¸ºæ­¤ä¹Ÿä½œäº†å‡†å¤‡ã€‚ è¯„è®ºæŒ‡å‡ºï¼Œé€šè¿‡è¿™ç§ç®€å•çš„æ›´æ”¹ï¼Œæ€§èƒ½æœ‰äº†ç›¸å½“ä¸é”™çš„æé«˜ã€‚ ä½†æ˜¯ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œå®ƒä»¬å’Œæˆ‘çš„è´´ç‰‡éƒ½å·²è¢«æ¸…æ´å¹¶ä¸”é™æ­¢ä¸åŠ¨ã€‚ æ€ä¹ˆäº† å¯èƒ½æ˜¯å› ä¸ºå¼€å‘äººå‘˜å¿™äºå¤„ç†æ›´å¤šå¿…è¦çš„äº‹æƒ…ï¼Œè€Œä»–ä»¬å´æ„šè ¢åœ°æ²¡æœ‰å»åšã€‚ </p><br><p> è¿™ä¸ªå¯“è¨€çš„å¯“æ„æ˜¯è¿™æ ·çš„ï¼šä»…ä»…ç”±äºç¼ºä¹å·¥äººï¼Œæ‚¨çš„å·§å¦™æ”¹å˜å°±ä¼šå†»ç»“ã€‚ </p><br><p> ä½†è¿™è¿˜æ²¡æœ‰ç»“æŸï¼ åœ¨è®¨è®ºå…¶ä»–é¡¹ç›®ä¸­æ‰€è¿°æ›¿æ¢çš„åˆç†æ€§æ—¶ï¼Œæ›´æœ‰ç»éªŒçš„åŒå¿—æå‡ºäº†ä¸€ä¸ªåå»ºè®®ï¼šä¹Ÿè®¸æ‚¨ä¸åº”è¯¥<code>Method.getParameterTypes().length -&gt; Method.getParameterCount()</code>æ›¿æ¢<code>Method.getParameterTypes().length -&gt; Method.getParameterCount()</code> ï¼Œè€Œæ˜¯å°†å…¶å§”æ‰˜ç»™ç¼–è¯‘å™¨ï¼Ÿ è¿™å¯èƒ½å—ï¼Œå¹¶ä¸”ä¼šâ€œåˆæ³•â€å—ï¼Ÿ </p><br><p> è®©æˆ‘ä»¬å°è¯•ä½¿ç”¨æµ‹è¯•è¿›è¡Œæ£€æŸ¥ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">arrayClone</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object[] objects = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[<span class="hljs-number"><span class="hljs-number">3</span></span>]; objects[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-string"><span class="hljs-string">"azaza"</span></span>; objects[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">365</span></span>; objects[<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-number"><span class="hljs-number">9876L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object[] clone = objects.clone(); assertEquals(objects.length, clone.length); assertSame(objects[<span class="hljs-number"><span class="hljs-number">0</span></span>], clone[<span class="hljs-number"><span class="hljs-number">0</span></span>]); assertSame(objects[<span class="hljs-number"><span class="hljs-number">1</span></span>], clone[<span class="hljs-number"><span class="hljs-number">1</span></span>]); assertSame(objects[<span class="hljs-number"><span class="hljs-number">2</span></span>], clone[<span class="hljs-number"><span class="hljs-number">2</span></span>]); }</code> </pre> <br><p> è¿™å°†é€šè¿‡ï¼Œå¹¶ä¸”è¡¨æ˜å¦‚æœå…‹éš†çš„æ•°ç»„æ²¡æœ‰ç¦»å¼€èŒƒå›´ï¼Œåˆ™å¯ä»¥åˆ é™¤å®ƒï¼Œå› ä¸ºå¯ä»¥ä»åŸå§‹å•å…ƒä¸­è®¿é—®å…¶å•å…ƒæ ¼æˆ–<code>length</code>å­—æ®µä¸­çš„ä»»ä½•å…ƒç´ ã€‚ </p><br><p>  JDKå¯ä»¥è¿™æ ·åšå—ï¼Ÿ æˆ‘ä»¬æ£€æŸ¥ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@State</span></span>(Scope.Thread) <span class="hljs-meta"><span class="hljs-meta">@BenchmarkMode</span></span>(Mode.AverageTime) <span class="hljs-meta"><span class="hljs-meta">@OutputTimeUnit</span></span>(TimeUnit.NANOSECONDS) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArrayAllocationEliminationBenchmark</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">baseline</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[length].length; } <span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">baselineClone</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[length].clone().length; } }</code> </pre> <br><p>  JDK 13çš„è¾“å‡ºï¼š </p><br><pre> <code class="plaintext hljs">Benchmark Mode Cnt Score Error Units baseline avgt 50 6,135 Â± 0,140 ns/op baseline:Â·gc.alloc.rate.norm avgt 50 56,000 Â± 0,001 B/op clone avgt 50 18,359 Â± 0,619 ns/op clone:Â·gc.alloc.rate.norm avgt 50 112,000 Â± 0,001 B/op</code> </pre> <br><p> äº‹å®è¯æ˜ï¼Œä¸<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">Grail</a>ä¸åŒï¼Œopenjdkä¸çŸ¥é“å¦‚ä½•æŠ›å‡º<code>new int[length]</code> ï¼Œå‘µå‘µï¼š </p><br><pre> <code class="plaintext hljs">Benchmark Mode Cnt Score Error Units baseline avgt 25 2,470 Â± 0,156 ns/op baseline:Â·gc.alloc.rate.norm avgt 25 0,005 Â± 0,008 B/op lone avgt 25 13,086 Â± 1,059 ns/op lone:Â·gc.alloc.rate.norm avgt 25 112,113 Â± 0,115 B/op</code> </pre> <br><p> äº‹å®è¯æ˜ï¼Œæ‚¨å¯ä»¥å¯¹openjdkä¼˜åŒ–ç¼–è¯‘å™¨è¿›è¡Œä¸€äº›è°ƒæ•´ï¼Œä½¿å…¶å¯ä»¥å®ŒæˆGrailå¯ä»¥æ‰§è¡Œçš„æ“ä½œã€‚ ç”±äºä¸ä»…æ¯ä¸ªäººéƒ½å¯ä»¥åœ¨VMä»£ç ä¸­æ‰“å…¥æ­£é¢å¹¿å‘Šå¹¶æäº¤æœ‰æ„ä¹‰çš„å†…å®¹ï¼Œæ‰€ä»¥æˆ‘å°†è‡ªå·±é™äº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">ä¸€å°</a>é™ˆè¿°æˆ‘çš„è§‚ç‚¹çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">ä¿¡</a>ä¸­ã€‚ </p><br><p> äº‹å®è¯æ˜ï¼Œå…¶ä¸­æœ‰ä¸€äº›å¾®å¦™ä¹‹å¤„ã€‚ å¼—æ‹‰åŸºç±³å°”Â·ä¼Šä¸‡è¯ºå¤«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">è¡¨ç¤º</a> ï¼š </p><br><blockquote> è€ƒè™‘åˆ°æ²¡æœ‰åŠæ³•å¢åŠ /ç¼©å°Javaæ•°ç»„ï¼Œ <br>  â€œ cloned_array.length =&gt; original_array.lengthâ€è½¬æ¢æ­£ç¡® <br> ä¸ç®¡å…‹éš†çš„å˜ç§æ˜¯å¦é€ƒè„±ã€‚ <br><br> è€Œä¸”ï¼Œè½¬æ¢å·²ç»å­˜åœ¨ï¼š <br><br>  <a href="" rel="nofollow">http://hg.openjdk.java.net/jdk/jdk/file/tip/src/hotspot/share/opto/memnode.cpp#l2388</a> <br><br> æˆ‘æ²¡æœ‰ç ”ç©¶æ‚¨æåˆ°çš„åŸºå‡†ï¼Œä½†æ˜¯çœ‹èµ·æ¥ <br>  cloned_array.lengthè®¿é—®ä¸æ˜¯å…‹éš†æ•°ç»„ä»ç„¶å­˜åœ¨çš„åŸå›  <br> åœ¨é‚£é‡Œã€‚ <br><br> å…³äºæ‚¨çš„å…¶ä»–æƒ³æ³•ï¼Œè¯·å°†è®¿é—®ä»å…‹éš†å®ä¾‹é‡å®šå‘åˆ° <br> ç”±äºç¼–è¯‘å™¨å¿…é¡»è¯æ˜åŸå§‹æ•°æ®æ˜¯æœ‰é—®é¢˜çš„ï¼ˆé€šå¸¸æƒ…å†µä¸‹ï¼‰ <br> ä¸¤ä¸ªç‰ˆæœ¬éƒ½æ²¡æœ‰å˜åŒ–ï¼Œç´¢å¼•è®¿é—®ç”šè‡³ä½¿ <br> æ›´éš¾ã€‚ å®‰å…¨ç‚¹ä¹Ÿä¼šå¼•èµ·é—®é¢˜ï¼ˆç”¨äºé‡æ–°å®ç°ï¼‰ã€‚ <br><br> ä½†æ˜¯æˆ‘åŒæ„è¦†ç›–ï¼ˆè‡³å°‘ï¼‰ä¸€äº›ç®€å•çš„æ¡ˆä¾‹ä¼šå¾ˆå¥½ <br> é˜²å¾¡æ€§å¤åˆ¶ã€‚ </blockquote><p> ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•²æ‰“ä¸€ä¸ªå…‹éš†ä¼¼ä¹æ˜¯å¯èƒ½çš„ï¼Œè€Œä¸”å¹¶ä¸æ˜¯ç‰¹åˆ«å›°éš¾ã€‚ ä½†æ˜¯éšç€è½¬æ¢ </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> len = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[arrayLength].length;</code> </pre> <br><p>  -&gt; </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> len = arrayLength;</code> </pre> <br><p> å‡ºç°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">å›°éš¾</a> ï¼š </p><br><blockquote> æˆ‘ä»¬ä¸ä¼šæ¶ˆé™¤é•¿åº¦æœªçŸ¥çš„æ•°ç»„åˆ†é… <br> å› ä¸ºå®ƒä»¬å¯èƒ½ä¼šå¯¼è‡´NegativeArraySizeå¼‚å¸¸ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ <br> åº”è¯¥èƒ½å¤Ÿè¯æ˜é•¿åº¦ä¸ºæ­£ã€‚ <br><br> æ— è®ºå¦‚ä½•-æˆ‘çš„è¡¥ä¸å³å°†å®Œæˆï¼Œå¯ä»¥æ›¿æ¢æœªä½¿ç”¨çš„é˜µåˆ— <br> åœ¨é€‚å½“çš„ä¿æŠ¤ä¸‹è¿›è¡Œåˆ†é…ã€‚ </blockquote><p> æ¢å¥è¯è¯´ï¼Œæ‚¨ä¸èƒ½åªæ˜¯å–æ¶ˆå¹¶ä¸¢å¼ƒæ•°ç»„çš„åˆ›å»ºï¼Œå› ä¸ºæ ¹æ®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">è§„èŒƒï¼Œ</a>æ‰§è¡Œ<em>å¿…é¡»</em>æŠ›å‡º<code>NegativeArraySizeException</code>è€Œæˆ‘ä»¬å¯¹æ­¤æ— èƒ½ä¸ºåŠ›ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">arrayWithNwgativeSize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> newLen = -<span class="hljs-number"><span class="hljs-number">3</span></span>; length = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[newLen].length; <span class="hljs-comment"><span class="hljs-comment">//  new Object[newLen]  fail(); } catch (NegativeArraySizeException e) { assert length == 0; } }</span></span></code> </pre> <br><p> ä¸ºä»€ä¹ˆåœ£æ¯èƒ½å¹²ï¼Ÿ æˆ‘è®¤ä¸ºåŸå› æ˜¯ä¸Šè¿°åŸºå‡†ä¸­çš„<code>length</code>å­—æ®µçš„å€¼æ’å®šä¸”å§‹ç»ˆç­‰äº10ï¼Œè¿™ä½¿æ¢æŸ¥å™¨å¾—å‡ºç»“è®ºè®¤ä¸ºä¸éœ€è¦æ£€æŸ¥è´Ÿå€¼ï¼Œè¿™æ„å‘³ç€å¯ä»¥åœ¨åˆ›å»ºæ•°ç»„æœ¬èº«çš„åŒæ—¶å°†å…¶åˆ é™¤ã€‚ å¦‚æœæˆ‘è¾“å…¥æœ‰è¯¯ï¼Œè¯·åœ¨è¯„è®ºä¸­æ›´æ­£ã€‚ </p><br><p> ä»Šå¤©å°±è¿™äº›äº†ï¼š)æˆ‘ä»¬å°†ç†è§£åœ¨æ³¨é‡Šä¸­æ·»åŠ æ‚¨çš„ç¤ºä¾‹ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN433174/">https://habr.com/ru/post/zh-CN433174/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN433164/index.html">é€Ÿåº¦ä¸æ¿€æƒ…ï¼šã€Š Forza Horizoâ€‹â€‹n 4ã€‹å€ŸåŠ©çª—ç€è‰²å™¨åŠ é€Ÿ</a></li>
<li><a href="../zh-CN433166/index.html">ä½¿ç”¨æœºå™¨å­¦ä¹ é¢„æµ‹ç¥¨åŠ¡è§£å†³æ—¶é—´</a></li>
<li><a href="../zh-CN433168/index.html">ä¸ºä½•ç¨‹åºå‘˜è¦åœ¨å¨æˆ¿å®ä¹ -ä¸Dodo Pizzaè®¨è®ºæœ‰å…³gembaï¼Œ.NETå’Œå¼€æ”¾æ€§çš„é—®é¢˜</a></li>
<li><a href="../zh-CN433170/index.html">æˆ‘ä»¬å¦‚ä½•æ— æ³•é‡åšå…¬å¸çš„æ¶æ„</a></li>
<li><a href="../zh-CN433172/index.html">æˆ‘ä»¬å°†å¤šäººæ¸¸æˆå›ºå®šåœ¨ä»¥C ++ç¼–å†™çš„iOSå’ŒAndroidæ‰‹æœºæ¸¸æˆâ€œç”¨è¯åšè¯â€ä¸­</a></li>
<li><a href="../zh-CN433176/index.html">è¯ä¹¦èº«ä»½éªŒè¯Dockerè¿œç¨‹APIå¸¦æœ‰åŠé”€éªŒè¯</a></li>
<li><a href="../zh-CN433178/index.html">æˆ‘ä»¬å¦‚ä½•è¿˜åŸæŸåçš„.wavæ–‡ä»¶</a></li>
<li><a href="../zh-CN433180/index.html">è§£å†³Rubyä¸­çš„æ•°æ®ç±»å‹é—®é¢˜æˆ–ä½¿æ•°æ®å†æ¬¡å¯é </a></li>
<li><a href="../zh-CN433182/index.html">æ˜¯å¦å¯ä»¥åŸ¹è®­å…·æœ‰å¢å¼ºèƒ½åŠ›çš„è‚¡ç¥¨äº¤æ˜“ä»£ç†å•†ï¼Ÿ Rè¯­è¨€å®ç°</a></li>
<li><a href="../zh-CN433184/index.html">ASP.NET Core 2.2å‘å¸ƒã€‚ æœ€æ–°æ¶ˆæ¯ ï¼ˆ3ä¹‹2ï¼‰</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>