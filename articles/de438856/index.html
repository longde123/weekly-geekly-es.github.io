<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤳🏿 🤸🏽 🛢️ Sag aus dem Leben 📶 🙈 🐛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag. 


 Haben Sie auch einen vertrauten Reaktionsentwickler, der erstaunliche Geschichten über Nebenwirkungen von Redux erzählt? Nein?! Kann ic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sag aus dem Leben</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438856/"><p>  Guten Tag. </p><br><p>  Haben Sie auch einen vertrauten Reaktionsentwickler, der erstaunliche Geschichten über Nebenwirkungen von Redux erzählt?  Nein?!  Kann ich diese Person werden? </p><br><p><img src="https://habrastorage.org/webt/7-/lj/cq/7-ljcqfw11ms3jciroq6ls9ekfw.jpeg"></p><br><p>  <em>Der Autor hat sich erlaubt, keinen einleitenden Teil darüber zu schreiben, worum es in der Redux-Saga-Bibliothek geht.</em>  <em>Er hofft, dass ein großzügiger Leser bei unzureichenden Daten die Habr-Suche oder das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offizielle Tutorial verwenden wird</a> .</em>  <em>Diese Beispiele sind stark vereinfacht, um die Essenz zu vermitteln.</em> </p><a name="habracut"></a><br><p>  Also, warum habe ich euch alle zusammengebracht?  Es geht um die Verwendung der Redux-Saga in den offenen Räumen von Kampfklienten.  Insbesondere über Fälle, die komplexer und interessanter sind als "Aktion akzeptieren =&gt; API-Anfrage senden =&gt; Neue Aktion erstellen". </p><br><p>  Ich hoffe, die Mitbürger zu einem tieferen Studium dieser Bibliothek anzuregen und die Freude daran zu teilen, wie anspruchsvolle asynchrone Dinge verständlicher und ausdrucksvoller werden. </p><br><h2 id="websockets">  Websockets </h2><br><p> <em>Anwendungsfall: Erhalten Sie mithilfe des Push-Modells in Echtzeit Aktualisierungen der Liste der verfügbaren Stellen vom Server.</em> </p><br><p>  Wir sprechen natürlich über die Verwendung von Web-Sockets.  Nehmen Sie zum Beispiel socket.io, aber tatsächlich spielt die Socket-API hier keine Rolle. </p><br><p>  In Sagen gibt es so etwas wie einen Kanal.  Dies ist ein Nachrichtenbus, über den die Ereignisquelle mit ihrem Verbraucher kommunizieren kann.  Der Hauptzweck der Kanäle ist die Kommunikation zwischen Sagen und die Umwandlung des Stroms asynchroner Ereignisse in eine für die Arbeit geeignete Struktur. </p><br><p>  Standardmäßig ist store der Hauptereigniskanal für die Redux-Saga.  Ereignisse kommen in Form von Handlungen.  Kanäle werden verwendet, um mit Ereignissen zu arbeiten, die nicht aus dem Geschäft stammen. </p><br><p>  Es stellt sich heraus, dass der Kanal genau das ist, was Sie benötigen, um mit dem asynchronen Nachrichtenstrom vom Socket zu arbeiten.  Lassen Sie uns den Kanal so schnell wie möglich erstellen! </p><br><p>  Aber zuerst erstellen Sie einen Socket: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'socket.io-client'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> socket = io.connect(<span class="hljs-string"><span class="hljs-string">'/'</span></span>);</code> </pre> <br><p>  Deklarieren Sie nun eine bescheidene Liste von Ereignissen: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SocketEvents = { <span class="hljs-attr"><span class="hljs-attr">jobsFresh</span></span>: <span class="hljs-string"><span class="hljs-string">'jobs+fresh'</span></span>, };</code> </pre> <br><p>  Als nächstes folgt eine Factory-Methode zum Erstellen eines Kanals.  Der Code erstellt eine Methode zum Abonnieren von Ereignissen, die für uns von Interesse sind, aus dem Socket, eine Methode zum Abbestellen und direkt den Ereigniskanal selbst: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { socket } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../apis/socket'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { SocketEvents } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../constants/socket-events'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createFreshJobsChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { socket.on(SocketEvents.jobsFresh, emitter); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> socket.removeListener(SocketEvents.jobsFresh, emitter); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p>  Schreiben wir eine ziemlich einfache Saga, warten auf Aktualisierungen aus dem Socket und konvertieren sie in die entsprechende Aktion: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { take, call, put } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createFreshJobsChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/fresh-jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { JobsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">freshJobsSaga</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> channel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createFreshJobsChannel); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> jobs = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> take(channel); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> action = JobsActions.fresh(jobs); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put(action); } }</code> </pre> <br><p>  Es bleibt nur, um es an die Wurzelsaga zu binden: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { fork } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { freshJobsSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./fresh-jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> fork(freshJobsSaga); }</code> </pre> <br><h2 id="google-places-autocomplete">  Google Places Autocomplete </h2><br><p>  <em>Anwendungsfall: Zeigen Sie Tipps an, wenn der Benutzer einen geografischen Standort für die anschließende Suche nach Immobilien in der Nähe eingibt.</em> </p><br><p>  Tatsächlich benötigen wir die Koordinaten, und der Benutzer benötigt den für Menschen lesbaren Namen des gewünschten Bereichs. </p><br><p>  Es scheint, wie sich diese Aufgabe von der langweiligen "Aktion =&gt; API =&gt; Aktion" unterscheidet.  Im Falle der automatischen Vervollständigung möchten wir so wenig nutzlose Aufrufe wie möglich an externe Ressourcen tätigen und dem Benutzer nur relevante Hinweise anzeigen. </p><br><p>  Zunächst schreiben wir eine API-Methode unter Verwendung des Google Places Autocomplete-Dienstes.  Von den interessanten Dingen hier ist die Begrenzung der Eingabeaufforderungen innerhalb eines bestimmten Landes: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPlaceSuggestions</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">autocompleteService, countryCode, query</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve</span></span></span><span class="hljs-function"> =&gt;</span></span> { autocompleteService.getPlacePredictions({ <span class="hljs-attr"><span class="hljs-attr">componentRestrictions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">country</span></span>: countryCode }, <span class="hljs-attr"><span class="hljs-attr">input</span></span>: query, }, resolve); }); }</code> </pre> <br><p>  Es gibt eine API-Methode, die wir abrufen werden. Sie können mit dem Schreiben einer Saga beginnen.  Es ist Zeit, nutzlose Anfragen zu klären. </p><br><p>  Die Implementierung in der Stirn führt, wenn der Benutzer tippt und für jede Änderung liest - für jedes Zeichen eine Anfrage an die API senden - nirgendwo hin.  Während der Eingabe des Benutzers benötigt er keine Hinweise.  Aber wenn er aufhört, ist es Zeit, ihm zu dienen. </p><br><p>  Außerdem möchten wir nicht in einer Situation sein, in der der Benutzer etwas eingegeben, gestoppt, die API-Anforderung weg, der Benutzer etwas eingegeben und eine andere Anforderung weg war. </p><br><p>  So haben wir einen Wettlauf zwischen zwei Anfragen erstellt.  Ereignisse können sich auf zwei Arten entwickeln und beide sind nicht sehr angenehm. </p><br><p>  Beispielsweise endet eine irrelevante Anforderung früher als die aktuelle und für einen Moment sieht der Benutzer irrelevante Eingabeaufforderungen.  Unangenehm, aber nicht kritisch. </p><br><p>  Oder die aktuelle Anforderung endet früher als die irrelevante und nach dem Blinken bleibt der Benutzer bei denselben irrelevanten Eingabeaufforderungen.  Dies ist bereits kritisch. </p><br><p>  Natürlich sind wir nicht die Ersten, die auf ein solches Problem stoßen, und die als Debounce bekannte Technik wird uns helfen - die Ausführung von Aufgaben erst nach N Zeiteinheiten seit dem Empfang des letzten Ereignisses.  Hier ist ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kleines Material</a> dazu. </p><br><p>  In der Redux-Saga wird diese Technik mit zwei Effekten implementiert - <em>Delay</em> und <em>TakeLatest</em> .  Der erste verschiebt die Ausführung der Saga um die angegebene Anzahl von Millisekunden.  Die zweite unterbricht die Ausführung einer bereits funktionierenden Saga, wenn ein neues Ereignis eintrifft. </p><br><p>  Wenn wir das alles wissen, werden wir eine Saga schreiben: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { delay } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { put, call, select } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { PlaceActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/place'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { MapsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/maps'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { getPlaceSuggestions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../api/get-place-suggestions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">placeSuggestionsSaga</span></span></span><span class="hljs-function"> * (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ payload: query }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-attr"><span class="hljs-attr">maps</span></span>: { isApiLoaded } } = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> select(); <span class="hljs-comment"><span class="hljs-comment">//  API    , //      if (!isApiLoaded) { yield take(MapsActions.apiLoaded); } //     Google Places Autocomplete  store const { maps: { autocompleteService }, countryCode } = yield select(); //    , //        if (query) { yield put(PlaceActions.suggestions([])); yield put(PlaceActions.select(null)); return; } //  250    yield call(delay, 250); //  API  const suggestions = yield call( getPlaceSuggestions, autocompleteService, countryCode, query, ); //  action   const action = PlacesActions.suggestions(suggestions || []); //     store yield put(action); };</span></span></code> </pre> <br><p>  Wie im vorherigen Beispiel bleibt es nur, um es an die Wurzelsaga zu binden: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { takeLatest } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { PlaceActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/place'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { placeSuggestionsSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./place-suggestions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> takeLatest( PlaceActions.changeQuery, placeSuggestionsSaga, ); }</code> </pre> <br><h2 id="dropdowns-closer">  Dropdowns näher </h2><br><p>  <em>Anwendungsfall: Schließen Sie selbst geschriebene Dropdown-Listen, wenn Sie außerhalb des Gebiets des Steuerelements klicken.</em> </p><br><p>  Tatsächlich ist dies eine Emulation des in die Browserauswahl integrierten Verhaltens.  Die Gründe, warum Sie möglicherweise eine Dropdown-Liste benötigen, die auf divs geschrieben ist, bleiben der Vorstellungskraft des Lesers überlassen. </p><br><p>  Ein wesentliches Merkmal der zu lösenden Aufgabe ist das Übergeben eines Ereignisses außerhalb des Steuerelements, beispielsweise wenn Sie außerhalb der Liste klicken. </p><br><p>  Vermutlich?  Ja, Kanäle helfen uns auch hier.  Mit ihnen werden Klickereignisse, die ganz oben angezeigt werden, in die entsprechende Aktion umgewandelt. </p><br><p>  Es wäre schön, eine Factory-Methode zu haben, die Kanäle für ein beliebiges Fensterereignis erstellt.  Und hier ist er: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createWindowEventChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">eventName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(eventName, emitter); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.removeEventListener(eventName, emitter); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p>  Wir erstellen eine Saga, die dem ersten Beispiel sehr ähnlich ist (Sie können eine Factory-Methode für sie erstellen, wenn Sie dies wünschen): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { take, put, call } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createWindowEventChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/window-event'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { DropdownActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/dropdown'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeDropdownsSaga</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> channel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createWindowEventChannel, <span class="hljs-string"><span class="hljs-string">'onClick'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> event = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> take(channel); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> action = DropdownActions.closeAll(event); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put(action(event)); } }</code> </pre> <br><p>  Interessierte Reduzierer versetzen die Steuerung in einen geschlossenen Zustand: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { handleActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-actions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { DropdownActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/dropdown'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> priceReducer = handleActions({ ..., [DropdownActions.closeAll]: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ ...state, <span class="hljs-attr"><span class="hljs-attr">isOpen</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>}), }, {});</code> </pre> <br><p>  Die Dropdown-Liste selbst muss die Weitergabe des Klickereignisses auf interne Teile stoppen und das Abschlussereignis selbst an das Geschäft senden.  Zum Beispiel, wenn Sie zum Öffnen klicken: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// components/dropdown.js import React from 'react'; export class Dropdown extends React.Component { ... __open(event) { event.stopPropagation(); this.props.open(); } } // dispatchers/open-price-dropdown.js import { DropdownActions } from '../actions/dropdown'; import { PriceActions } from '../actions/price'; export const openPriceDropdownDispatcher = dispatch =&gt; () =&gt; { dispatch( DropdownActions.closeAll() ); dispatch( PriceActions.open() ); };</span></span></code> </pre> <br><p>  Andernfalls wird die Liste einfach nicht geöffnet.  Gleiches gilt für einen Klick bei Auswahl einer Option. </p><br><p>  El clasico, montiere die Saga: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { fork } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { closeDropdownsSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./close-dropdowns'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> fork(closeDropdownsSaga); }</code> </pre> <br><h2 id="notifications">  Benachrichtigungen </h2><br><p>  <em>Anwendungsfall: Zeigen Sie Browserbenachrichtigungen über die Verfügbarkeit neuer Stellenangebote an, wenn sich die Registerkarte im Hintergrund befindet.</em> </p><br><p>  Auf der Registerkarte "Aktiv" sieht der Benutzer die Änderung in einem speziellen Steuerelement. Daher sind Benachrichtigungen nicht geeignet.  Aber für den Hintergrund kann die Registerkarte nützlich sein.  Natürlich mit Genehmigung des Benutzers! </p><br><p>  Ich möchte auch auf die Benachrichtigung klicken, um zur Registerkarte zu gelangen und neue Stellenangebote anzuzeigen.  Wenn der Benutzer nicht antwortet, schließen Sie die Benachrichtigung.  Dazu brauchen wir einen weiteren nützlichen Effekt - <em>Race</em> .  Sie können ein Rennen zwischen mehreren anderen Effekten arrangieren.  In den meisten Fällen wird Race verwendet, um eine Zeitüberschreitung für eine Operation bereitzustellen. </p><br><p>  Wir lassen den Code zum Verfolgen der Aktivität der Registerkarte aufgrund der Identität mit dem Klick-Abfangcode aus dem vorherigen Beispiel weg. </p><br><p>  Wir schreiben eine Factory-Methode, mit der ein Kanal erstellt wird, in dem die Genehmigung eines Benutzers zum Empfang von Benachrichtigungen angefordert wird: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel, END } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createRequestNotificationPermissionChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { Notification.requestPermission(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">permission</span></span></span><span class="hljs-function"> =&gt;</span></span> { emitter(permission); emitter(END); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {}; }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p>  Bei der Verfolgung einer anderen Factory-Methode, jedoch mit einem Kanal zum Empfangen einer Benachrichtigung, klicken Sie auf: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel, END } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createNotificationClickChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">notification</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { notification.onclick = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> { emitter(event); emitter(END); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> notification.onclick = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p>  Beide Kanäle sind Einweg- und Maximalaufnahmen bei einer Veranstaltung, danach werden sie geschlossen. </p><br><p>  Der Schlüssel bleibt - die Saga mit Logik.  Überprüfen Sie, ob die Registerkarte aktiv ist, fordern Sie die Berechtigung an, erstellen Sie eine Benachrichtigung, warten Sie auf einen Klick oder eine Zeitüberschreitung, zeigen Sie neue Stellen an, aktivieren Sie die Registerkarte und schließen Sie die Benachrichtigung: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { delay } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { call, select, race, take } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createRequestNotificationPermissionChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/request-notification-permission'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createNotificationClickChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/notification-click'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { JobsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">notificationsSaga</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">action</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { inFocus } = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> select(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (inFocus) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> permissionChannel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createRequestNotificationPermissionChannel); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> permission = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> take(permissionChannel); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (permission !== <span class="hljs-string"><span class="hljs-string">'granted'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> notification = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Notification( <span class="hljs-string"><span class="hljs-string">`You have </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${action.payload.jobs.length}</span></span></span><span class="hljs-string"> new job posts`</span></span>, { <span class="hljs-attr"><span class="hljs-attr">icon</span></span>: <span class="hljs-string"><span class="hljs-string">'assets/new-jobs.png'</span></span> } ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> clickChannel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createNotificationClickChannel, notification); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { click, timeout } = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> race({ <span class="hljs-attr"><span class="hljs-attr">click</span></span>: take(clickChannel), <span class="hljs-attr"><span class="hljs-attr">timeout</span></span>: call(delay, <span class="hljs-number"><span class="hljs-number">5000</span></span>), }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (click) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put(JobsActions.show()); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.focus(); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.scrollTo(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); } notification.close(); }</code> </pre> <br><p>  Hängen Sie die Saga ein, bevor Sie diese Funktionserkennung durchführen: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { takeEvery } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { JobsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { notificationsSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./notifications'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-string"><span class="hljs-string">'Notification'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> &amp;&amp; Notification.permission !== <span class="hljs-string"><span class="hljs-string">'denied'</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> takeEvery(JobsActions.fresh, notificationsSaga); } }</code> </pre> <br><h2 id="global-event-bus">  Globaler Eventbus </h2><br><p>  <em>Anwendungsfall: Übertragen Sie die angegebene Kategorie von Ereignissen zwischen Redux-Stores.</em> </p><br><p>  Ein solcher Bus ist erforderlich, wenn auf der Seite mehrere Anwendungen mit gemeinsamen Daten vorhanden sind.  Gleichzeitig können Anwendungen unabhängig voneinander implementiert werden. </p><br><p>  Zum Beispiel eine Suchzeichenfolge mit Filtern und Suchergebnissen als separate Reaktionsanwendungen.  Wenn Sie Filter ändern, möchte ich, dass die Ergebnisanwendung darüber informiert wird, ob sie sich auch auf der Seite befindet. </p><br><p>  Wir verwenden den Standard-Event-Emitter: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> EventEmmiter <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'events'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.GlobalEventBus) { <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.GlobalEventBus = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EventEmmiter(); } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> globalEventBus = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.GlobalEventBus;</code> </pre> <br><p>  Der bereits beliebte <em>eventChannel</em> verwandelt einen Standard-Emitter in einen Kanal: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { globalEventBus <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> bus } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../utils/global-event-bus'</span></span>; exports <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createGlobalEventBusChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handler = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> emitter({ ...event, <span class="hljs-attr"><span class="hljs-attr">external</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); bus.on(<span class="hljs-string"><span class="hljs-string">'global.event'</span></span>, handler); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> bus.removeListener(<span class="hljs-string"><span class="hljs-string">'global.event'</span></span>, handler); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p>  Die Saga ist ganz einfach: Wir erstellen einen Kanal und akzeptieren endlose interne oder externe Ereignisse.  Wenn wir ein internes Ereignis erhalten haben, senden Sie es an den Bus, wenn das externe - im Geschäft: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { take, put, race, call } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { globalEventBus <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> bus } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../utils/global-event-bus'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createGlobalEventBusChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/global-event-bus'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">globalEventBusSaga</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">allowedActions</span></span></span><span class="hljs-function">) </span></span>{ allowedActions = allowedActions.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.toString()); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> channel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createGlobalEventBusChannel); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { local, external } = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> race({ <span class="hljs-attr"><span class="hljs-attr">local</span></span>: take(), <span class="hljs-attr"><span class="hljs-attr">external</span></span>: take(channel), }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( external &amp;&amp; allowedActions.some(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">action</span></span></span><span class="hljs-function"> =&gt;</span></span> action === external.type) ) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put(external); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( local &amp;&amp; !local.external &amp;&amp; allowedActions.some(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">action</span></span></span><span class="hljs-function"> =&gt;</span></span> action === local.type) ) { bus.emit(<span class="hljs-string"><span class="hljs-string">'global.event'</span></span>, local); } } };</code> </pre> <br><p>  Und die letzte - die Saga mit den notwendigen Ereignissen zu montieren: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { fork } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { globalEventBusSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./global-event-bus'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { DropdownsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/dropdowns'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AreasActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/areas'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> fork(globalEventBusSaga, [ DropdownsActions.closeAll, AreasActions.add, AreasActions.remove, ... ]); }</code> </pre> <br><hr><br><p>  Ich hoffe, zeigen zu können, dass Sagen die Beschreibung komplexer Nebenwirkungen erleichtern.  Entdecken Sie Bibliotheks-APIs, übertragen Sie sie auf Ihre Fälle, erstellen Sie komplexe Muster der Ereigniserwartung und seien Sie glücklich.  Wir sehen uns bei JS Open Spaces! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de438856/">https://habr.com/ru/post/de438856/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de438840/index.html">Stolz und Leidenschaft, die Geschichte, einen Traum in ein Weltraumprojekt zu verwandeln</a></li>
<li><a href="../de438842/index.html">Räumen Sie die Torrent-TV-Wiedergabeliste auf (Super Wash)</a></li>
<li><a href="../de438850/index.html">Moskau JS 44 - Ankündigung</a></li>
<li><a href="../de438852/index.html">Neue GSM-Gateways von OpenVox</a></li>
<li><a href="../de438854/index.html">Erklärung der physikalischen Natur des Phänomens der "Auftriebskraft" ohne Verwendung der Bernoulli-Gleichung</a></li>
<li><a href="../de438858/index.html">Verwendung von Segmentierung, Targeting und Positionierung (STP) bei der Entwicklung einer Marketingstrategie</a></li>
<li><a href="../de438862/index.html">Stellen Sie eine isomorphe Webanwendung am Beispiel von Nuxt.js bereit.</a></li>
<li><a href="../de438864/index.html">Feature einfrieren C ++ 20. Coroutinen, Module und mehr</a></li>
<li><a href="../de438866/index.html">Builder versus Java-Syntax</a></li>
<li><a href="../de438868/index.html">Sicherheitswoche 06: Live auf FaceTime</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>