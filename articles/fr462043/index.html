<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🌾 🎮 👋🏼 Pêche intelligente chez FishSensor 🏇🏿 ⚽️ 👨🏾‍🔧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="«Une mauvaise journée de pêche vaut mieux qu'une bonne journée de travail.» Il existe un grand nombre d'alarmes électroniques de morsure. Ma version s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pêche intelligente chez FishSensor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462043/"><img src="https://habrastorage.org/webt/4w/hy/jh/4whyjhfwrcjydimnfvipw90pwn0.jpeg"><br><br>  «Une mauvaise journée de pêche vaut mieux qu'une bonne journée de travail.»  Il existe un grand nombre d'alarmes électroniques de morsure.  Ma version se distingue par la présence du WiFi avec une application WEB, un accéléromètre et une recharge sans fil, classe de protection IP68.  Le cerveau de l'appareil est le plus petit ordinateur Linux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vocore2, l'</a> accéléromètre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MPU6050</a> , la charge Qi basée sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BQ51050BRHLT</a> .  Les sources peuvent être téléchargées ici <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Github</a> . <br><a name="habracut"></a><br>  Spécifications FishSensor: <br><br><ul><li>  Système d'exploitation OpenWrt 15.05.1 "Chaos Calmer"; </li><li>  Connexion WiFi avec des appareils mobiles; </li><li>  portée de communication 30-50 m; </li><li>  contrôle des morsures - son (Android uniquement), visuel; </li><li>  réglage à distance de la sensibilité, de la mélodie, du volume; </li><li>  Internet est facultatif; </li><li>  3 heures d'autonomie de la batterie (batterie LiPo 500mAH) </li><li>  charge Qi sans fil (jusqu'à une heure et demie complète) </li><li>  classe de protection IP68; </li><li>  dimensions hors tout 60 x 30 x 11 mm; </li><li>  poids 22 g </li></ul><br>  L'appareil est structurellement une carte sur laquelle se trouvent l'antenne du récepteur et le pilote de charge Qi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BQ51050BRHLT</a> , l'accéléromètre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MPU6050</a> , le connecteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vocore2</a> , la batterie.  Étanchéité à la poussière et à l'eau grâce à un tube thermorétractable, aux extrémités il est rempli de composé silicone Rexant PK-68.  Tirez le fil de pêche à travers un tube en plastique d'un diamètre intérieur de 2 mm. <br><br><img src="https://habrastorage.org/webt/1r/rq/ka/1rrqka03ks4yof4iyeng6uaizew.jpeg"><br><br><h3>  Fabrication de PCB </h3><br>  La question était de savoir s'il serait possible de fabriquer une bobine d'inductance de récepteur Qi avec une taille de 25 x 25 mm, 14 tours, une épaisseur de piste de 0,3 mm, un espace de 0,2 mm et quelle serait l'inductance réelle de la bobine.  Les données calculées ont été confirmées et ont donné une inductance de 4 μH. <br><br><img src="https://habrastorage.org/webt/oj/ot/2z/ojot2zptbzxvlftz5xbhasns58w.jpeg"><br><br><img src="https://habrastorage.org/webt/hd/f6/-0/hdf6-0ypfjytp0zicxxkl_9xbek.jpeg"><br><br><img src="https://habrastorage.org/webt/ai/hx/5m/aihx5mxntv4yhij4l0dfwt8acby.jpeg"><br><br><h3>  Éléments à souder </h3><br><img src="https://habrastorage.org/webt/mf/rz/e0/mfrze0ykhy7sc9diubuvydd92so.jpeg"><br><br><img src="https://habrastorage.org/webt/wq/sv/1_/wqsv1_dj76xjl6wkxkxjy6ec-li.jpeg"><br><br><h3>  Réglage de la charge Qi </h3><br>  Un point intéressant était le réglage de la résonance du circuit oscillatoire.  Les recommandations et les formules de calcul de la fiche technique sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BQ51050BRHLT ont été</a> confirmées.  Inductance 4 µH, inductance avec un blindage en ferrite 7 µH, condensateur en parallèle 6,5 nF, condensateur en série avec bobine 422 nf.  Le facteur de qualité du circuit s'est avéré très faible 22 en raison de la grande résistance de bobine de 1,7 Ohms (un facteur de qualité de plus de 500 était recommandé par une fiche technique).  Néanmoins, tout fonctionnait parfaitement, résonance stable à une distance de 10 mm de la bobine émettrice. <br><br><img src="https://habrastorage.org/webt/ee/ix/7x/eeix7x6ux18buiz2oodmlraeqx0.jpeg"><br><br>  Erreur de calcul constructive - l'indicateur de charge est situé sur le côté de l'antenne, c'est-à-dire  il n'est pas visible lorsque FishSensor est sur l'émetteur du chargeur.  Mais le processus de charge est visible sur l'indicateur de l'émetteur Qi lui-même. <br><br><h3>  Configuration de l'accéléromètre </h3><br><img src="https://habrastorage.org/webt/ro/4n/vz/ro4nvz4oep7r8utyryg-3cv24yg.jpeg"><br><br><h3>  Logiciels </h3><br>  À bord de Vocore2 installé en usine, OC OpenWrt 15/05/1 «Chaos Calmer».  L'appareil est accessible via WiFi via un navigateur grâce au Luci pré-installé.  Nous utilisons le mode point d'accès AP. <br>  Installation du package <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">php5</a> et de toutes les bibliothèques nécessaires pour former l'interface Web.  Installation d'un package pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MPU6050 à</a> partir de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">leon0516</a> .  Au démarrage, j'ai placé les fichiers autorun du pilote MPU6050 et mon script écrit sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bash</a> 6050.sh.  Le pilote MPU6050 génère un fichier texte des lectures de l'accéléromètre /tmp/mpu6050.txt.  6050.sh analyse uniquement les modifications de l'axe Z dans le fichier /tmp/mpu6050.txt et écrit son journal dans /www/mess.log.  Les pages de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">configuration et d'affichage</a> sont écrites en php. <br><br>  Nous connectons le smartphone à FishSensor comme point d'accès.  Installez sur le bureau à partir du navigateur en tant qu'application Web.  Pour Android, dans les paramètres du navigateur, nous activons la lecture automatique des fichiers audio (dans iOs, une telle feinte est interdite par une politique de sécurité). <br><br><img src="https://habrastorage.org/webt/sb/ps/gw/sbpsgwz0d3arxgevc9kkw6zx6km.jpeg"><br><br>  Face au problème de la mise en cache des données écrites dans un fichier texte par le système d'exploitation OpenWrt.  Les lectures de l'accéléromètre sont écrites dans un fichier lorsque le cache mémoire est plein, parfois les retards atteignent jusqu'à 1 seconde.  Un correctif existant pour désactiver la mise en cache des fichiers est rompu.  J'ai pensé que pour ma tâche ce n'était pas très pertinent et j'ai décidé de laisser le problème jusqu'à des temps meilleurs. <br><br><h3>  Démo </h3><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BgH4hMPE99U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Des tests grandeur nature n'ont pas encore été effectués, ils sont prévus ce mois-ci. <br><br>  PS Le développement de l'idée peut être un tournevis sans fil avec un Vocore installé pour accrocher l'équipement au moment de la morsure.  Dans le développement maximum, le service Yandex.Fishing. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462043/">https://habr.com/ru/post/fr462043/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462029/index.html">19 fonctionnalités utiles du fichier .htaccess</a></li>
<li><a href="../fr462031/index.html">Comme si vous lisiez les journaux!: Lancez Hotspot 2.0 sur le réseau Wi-Fi du métro</a></li>
<li><a href="../fr462033/index.html">La dernière cène des développeurs</a></li>
<li><a href="../fr462035/index.html">Python Vs R - Science des données</a></li>
<li><a href="../fr462041/index.html">Approches de segmentation mobile - Traduction</a></li>
<li><a href="../fr462045/index.html">Un autre avis sur la différence entre bin, sbin, usr / bin, usr / sbin</a></li>
<li><a href="../fr462047/index.html">La blockchain comme plateforme de transformation numérique</a></li>
<li><a href="../fr462049/index.html">Comment devenir un spécialiste plus recherché dans le domaine de la Data Science en 2019</a></li>
<li><a href="../fr462051/index.html">Analyse: comment gagner de l'argent sur les investissements dans les indices boursiers et les ETF</a></li>
<li><a href="../fr462055/index.html">Expérience de la traduction d'un grand projet de Flow en TypeScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>