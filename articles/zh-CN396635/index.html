<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👲🏻 ♏️ 🎂 我们通过Zyxel Keenetic路由器控制NooLite设备 🆖 🕺🏻 🚑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在本文中，我将讨论如何直接通过Zyxel Keenetic路由器通过USB适配器PC1xxx来控制nooLite设备-无需计算机。
 
 前言
 关于NooLite的话题在这里已经出现过多次，但以防万一，我想提醒您，这些都是构建“智能家居”的组成部分，它们可以通过无线电通道相互通信。而且，您可以订购...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>我们通过Zyxel Keenetic路由器控制NooLite设备</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/396635/"><img src="https://habrastorage.org/getpro/geektimes/post_images/fb4/f06/ba8/fb4f06ba81d27b58a54bbe44adbdbb61.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在本文中，我将讨论如何直接通过Zyxel Keenetic路由器通过USB适配器PC1xxx来控制nooLite设备-无需计算机。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前言</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
关于NooLite的话题在这里已经出现过多次，但以防万一，我想提醒您，这些都是构建“智能家居”的组成部分，它们可以通过无线电通道相互通信。而且，您可以订购一个USB适配器到他们的系统，该适配器允许您从计算机发送命令（实际上，有一个可以接收这些命令的适配器，但是我们现在不考虑使用）。曾几何时，我专门在计算机上安装了Web服务器，可以从家庭网络中的计算机或电话访问该Web服务器，并控制照明以及添加计划任务。例如-我像一只真正的猫头鹰，几乎不会在清晨醒来，即使我很高兴我也不会这样做，但我必须这样做。即使您在地球上所有甜美的旋律中放上最可爱的旋律，也很难从闹钟的声音中将其唤醒。我决定通过编写脚本来进行实验，以在20分钟内将亮度从0增加到100％时平稳地打开灯光，从而模拟日出，并且实验成功了-当光线没有猛烈射入眼睛但几乎不击中眼睛时，唤醒起来变得容易得多显着增加，并且人体对这种唤醒的反应比闹钟要好得多。但是我离开了这个话题。所有这些对我自己来说都是安静的，但是我什至不必为您需要不断打开计算机而烦恼，我有安静的风扇，几乎听不到，但是不久前我发现您可以在Zyxel Keenetic上安装第二版固件来安装OpenWRT软件包。一个想法开始在我脑海中浮现。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！通过编写脚本来平稳地打开灯光，当亮度在20分钟内从0增加到100％，从而模拟日出，并且实验成功时，当光线不猛烈照射到眼睛但略微增加眼睛并引起身体反应时，变得更容易唤醒这样的唤醒比闹钟好得多。但是我离开了话题。所有这些对我自己来说都是安静的，但是我什至不必担心您需要不断打开计算机，我的风扇很安静，几乎听不到，但是不久前我发现您可以使用第二版固件在Zyxel Keenetic上安装OpenWRT软件包。一个想法开始在我脑海中浮现。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！通过编写脚本来平稳地打开灯光，当亮度在20分钟内从0增加到100％，从而模拟日出，并且实验成功时，当光线不猛烈照射到眼睛但略微增加眼睛并引起身体反应时，变得更容易唤醒这样的唤醒比闹钟好得多。但是我离开了话题。所有这些对我自己来说都是安静的，但是我什至不必担心您需要不断打开计算机，我的风扇很安静，几乎听不到，但是不久前我发现您可以使用第二版固件在Zyxel Keenetic上安装OpenWRT软件包。一个想法开始在我脑海中浮现。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！当亮度在20分钟内从0增加到100％从而模拟日出并成功进行实验时，当光线没有猛烈照射到眼睛但稍微增加一点时，唤醒起来变得容易得多，并且身体对这种唤醒的反应比闹钟要好得多...但是我离开了话题。所有这些对我自己来说都是安静的，但是我什至不必为您需要不断打开计算机而烦恼，我有安静的风扇，几乎听不到，但是不久前我发现您可以在Zyxel Keenetic上安装第二版固件来安装OpenWRT软件包。一个想法开始在我脑海中浮现。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！当亮度在20分钟内从0增加到100％从而模拟日出并成功进行实验时，当光线没有猛烈照射到眼睛但几乎不增加时，唤醒起来变得容易得多，并且身体对这种唤醒的反应比闹钟要好得多...但是我离开了话题。所有这些对我自己来说都是安静的，但是我什至不必担心您需要不断打开计算机，我的风扇很安静，几乎听不到，但是不久前我发现您可以使用第二版固件在Zyxel Keenetic上安装OpenWRT软件包。一个想法开始在我脑海中浮现。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！实验取得了成功-当光线没有直射到眼睛但几乎不发光时，起床变得容易得多，而且身体对这种唤醒的反应要比闹钟好得多……但是我离开了这个话题。所有这些对我自己来说都是安静的，但是我什至不必为您需要不断打开计算机而烦恼，我有安静的风扇，几乎听不到，但是不久前我发现您可以在Zyxel Keenetic上安装第二版固件来安装OpenWRT软件包。一个想法开始在我脑海中浮现。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！实验取得了成功-当光线没有直射到眼睛但几乎不发光时，起床变得容易得多，而且身体对这种唤醒的反应要比闹钟好得多……但是我离开了这个话题。所有这些对我自己来说都是安静的，但是我什至不必为您需要不断打开计算机而烦恼，我有安静的风扇，几乎听不到，但是不久前我发现您可以在Zyxel Keenetic上安装第二版固件来安装OpenWRT软件包。一个想法开始在我脑海中浮现。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！而且身体对这种唤醒的反应比闹钟要好得多...但是我离开了这个话题。所有这些对我自己来说都是安静的，但是我什至不必为您需要不断打开计算机而烦恼，我有安静的风扇，几乎听不到，但是不久前我发现您可以在Zyxel Keenetic上安装第二版固件来安装OpenWRT软件包。一个想法开始在我脑海中浮现。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！而且身体对这种唤醒的反应比闹钟要好得多...但是我离开了这个话题。所有这些对我自己来说都是安静的，但是我什至不必为您需要不断打开计算机而烦恼，我有安静的风扇，几乎听不到，但是不久前我发现您可以在Zyxel Keenetic上安装第二版固件来安装OpenWRT软件包。一个想法开始在我脑海中浮现。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！在带有第二版本固件的Zyxel Keenetic上，再次有可能在我的脑海中安装OpenWRT软件包，这个想法开始成熟。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！在带有第二版固件的Zyxel Keenetic上，再次有可能在我的脑海中安装OpenWRT软件包，这个想法开始成熟。当这个想法完全让我烦恼，不想让我的大脑呆着时，我决定-搞定了！在周末之前，我会做的！</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">议程</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
那我到底做了什么？</font><font style="vertical-align: inherit;">我做了以下工作：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -直接在Zyxel Keenetic路由器中基于Web的轻载管理接口。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -通过插入路由器USB端口的NooLite USB发送器（PC1xxx）直接从路由器发送命令。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -在网络界面中，您可以为cron配置计划任务以控制灯光。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -一个控制台实用程序，可让您直接从路由器的命令行（在SSH下）发送命令，如果您不喜欢我的Web界面，则可以在任何地方编写自己的脚本或嵌入其调用。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">闭嘴，拿走我的钱</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
所以，我们需要配置什么。</font><font style="vertical-align: inherit;">首先，准备路由器，此操作简单易行，</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">此处</font></a><font style="vertical-align: inherit;">详细介绍</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">接下来，我们需要安装几个软件包，因此，请执行以下操作：</font></font><br>
<br>
<pre><code class="bash hljs">opkg update<font></font>
opkg install php5-cgi lighttpd-mod-fastcgi cron <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此命令将安装Web服务器，PHP和cron来安排任务。</font><font style="vertical-align: inherit;">我会把Midnight Commander放进去，因为它更方便：</font></font><br>
<pre><code class="bash hljs">opkg install mc
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，我们编辑Web服务器的设置：/opt/etc/lighttpd/lighttpd.conf指示正确的端口：第</font><font style="vertical-align: inherit;">
80个端口已被路由器的Web界面占用，因此我们选择另一个。</font><font style="vertical-align: inherit;">
然后，我们编辑文件：/opt/etc/lighttpd/conf.d/30-fastcgi.conf，这样做：</font><font style="vertical-align: inherit;">
就是这样，现在我们启动服务器：</font></font><br>
<code>server.port = 82<br>
</code><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br>
<br>
<code>fastcgi.server = ( ".php" =&gt;<br>
 ( "php-local" =&gt;<br>
 (<br>
 "socket" =&gt; "/opt/tmp/php-fastcgi-1.socket",<br>
 "bin-path" =&gt; "/opt/bin/php-fcgi",<br>
 "max-procs" =&gt; 1,<br>
 "broken-scriptfilename" =&gt; "enable", <br>
 )<br>
 ),<br>
# .....<br>
# .....<br>
 )<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="bash hljs">lighttpd -f /opt/etc/lighttpd/lighttpd.conf 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
至此，准备工作已完成，您可以继续进行最重要的事情。下载</font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">档案。它包含一个程序，几个库和php文件。从Binaries文件夹中，将二进制文件拖放到路由器的USB闪存驱动器上，将bin到bin，lib到lib，共享到共享。从理论上讲，他不应该提出要替换的东西，但是如果他提出要拒绝，我们会拒绝，因为在这里我们需要了解。如果您不信任我，则在源文件夹中的存档中，有用于发送NooLite命令的实用程序的源，您可以自己组装它。如何做到这一点是一个单独的主题，在这里我将不作介绍，网络上有很多与此主题有关的信息。因此，如果将所有文件都丢在原处，则可以检查所有这些奇迹的可操作性。我们进入浏览器，输入路由器的IP地址和您在Web服务器设置中指定的端口。</font></font><br>
<code>http://192.168.1.1:82/<br>
</code><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/19e/294/730/19e294730d125d9604a924e33e298821.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里，我们应该看到一个带有照明控制的页面。但是不是你的，而是我的。为了进行设置，您需要编辑文件：/opt/share/www/config.php </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/4d2/4da/ab6/4d24daab6b910e532de44056b94df658.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我专门用注释记录了</font><font style="vertical-align: inherit;">该文件</font><font style="vertical-align: inherit;">，我认为编辑它不会有问题。根据配置配置完所有内容后，即可开始使用它。 Web界面更多地用于移动设备，但是在桌面上您也可以很好地使用它。我特别注意您可以直接从浏览器创建，打开，关闭和删除cron任务的事实，cron将通过更改重新启动，您无需考虑任何事情。如果要使用控制台实用程序，只需键入SSH命令：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
noolite</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您将看到一个参数列表，这里没有什么太复杂的。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/3b6/908/973/3b6908973ee96a2abaf68ea891ec27d4.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我在Zyxel Keenetic Giga II上进行了测试，它具有2个USB端口，但据我所知，在具有1个USB端口的路由器上，可以使用集线器。</font><font style="vertical-align: inherit;">我决定对其进行检查，并通过集线器进行了工作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
就这样，我希望您对此感兴趣，并且您发现本文很有用。</font><font style="vertical-align: inherit;">如果您有任何疑问-询问，我将很乐意回答。</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN396635/">https://habr.com/ru/post/zh-CN396635/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN396625/index.html">个人电子计算机“ Apogee BK-01”</a></li>
<li><a href="../zh-CN396627/index.html">宜家新电池和充电器</a></li>
<li><a href="../zh-CN396629/index.html">Backblaze统计：确定2016年第二季度的最佳HDD</a></li>
<li><a href="../zh-CN396631/index.html">在中国，启动了一个公交车门户-原来是假货</a></li>
<li><a href="../zh-CN396633/index.html">希捷推出新的60 TB SSD</a></li>
<li><a href="../zh-CN396641/index.html">另一个智能家居，分为几个部分。简易资料气象台</a></li>
<li><a href="../zh-CN396643/index.html">技术发展的速度</a></li>
<li><a href="../zh-CN396645/index.html">50个树桩阴影* Microchip微控制器I / O端口</a></li>
<li><a href="../zh-CN396649/index.html">Биткоин-биржу Bitfinex взломали и вывели около $65 млн в эквиваленте</a></li>
<li><a href="../zh-CN396651/index.html">展望未来，了解过去</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>