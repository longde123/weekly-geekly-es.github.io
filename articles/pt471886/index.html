<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôà ü§Ωüèº üîî VMmanager 6: apresentando a caixa e comparando com a gera√ß√£o anterior ü§ò üë©üèΩ‚Äçüî¨ ‚èÆÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em 8 de outubro, foi lan√ßada uma vers√£o em caixa do VMmanager 6, o novo painel de controle de virtualiza√ß√£o. Agora ele pode ser instalado no servidor ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VMmanager 6: apresentando a caixa e comparando com a gera√ß√£o anterior</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ispsystem/blog/471886/"><img src="https://habrastorage.org/webt/wr/u8/5k/wru85kpnvi_2y_f-vmiyqufvdmu.jpeg"><br><br><p>  Em 8 de outubro, foi lan√ßada uma vers√£o em caixa do VMmanager 6, o novo painel de controle de virtualiza√ß√£o.  Agora ele pode ser instalado no servidor e usado para vender m√°quinas virtuais ou gerenciar sua pr√≥pria infraestrutura.  Neste artigo, comparamos a nova gera√ß√£o com a anterior - VMmanager 5 e VMmanager 6. <br></p><br><p>  Ambos os pain√©is suportam a virtualiza√ß√£o KVM e gerenciam o servidor f√≠sico usando libvirt. <br></p><br><p>  O VMmanager 5 foi lan√ßado em 2013, VMmanager 6 - em 2019.  A nova gera√ß√£o √© mais conveniente e mais resistente ao estresse.  Suporta imagens, gerenciamento de tarefas e monitoramento. <br></p><br><p>  Neste artigo, comparamos duas gera√ß√µes de pain√©is.  Primeiro, vamos falar sobre diferen√ßas conceituais: arquitetura, interface e resist√™ncia a cargas.  Na segunda parte, veremos como tarefas id√™nticas s√£o resolvidas em dois pain√©is. <br></p><a name="habracut"></a><br><p>  Mais sobre o produto est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na se√ß√£o VMmanager 6 do</a> site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ISPsystem</a> . </p><br><h2>  Parte 1. Diferen√ßas conceituais </h2><br><h3>  Arquitetura </h3><br><p>  <strong>O VMmanager 5</strong> era um mon√≥lito escrito em C ++, que em alguns lugares complicava desnecessariamente o desenvolvimento de coisas simples. <br></p><br><p>  √â por isso que no <strong>VMmanager 6</strong> usamos o Python para tarefas simples, como configurar n√≥s, configurar VMs, trabalhar com libvirt.  Esse c√≥digo √© mais f√°cil de escrever, depurar e "montar".  Eles conversaram sobre isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em outro artigo sobre Habr√©</a> . <br></p><br><p>  Tarefas em que a descentraliza√ß√£o de dados n√£o √© terr√≠vel e a escala horizontal √© necess√°ria, passamos para Golang, destacando a l√≥gica de neg√≥cios em microsservi√ßos.  Curiosamente, aqui tamb√©m ganhamos em velocidade e facilidade de desenvolvimento.  O restante da l√≥gica continua aproveitando o mon√≥lito em C ++ - confiabilidade, velocidade e consist√™ncia dos dados. <br></p><br><p>  Al√©m disso, o VMmanager 6 vem em cont√™ineres de encaixe.  O VMmanager 5 foi instalado usando pacotes.  Uma vantagem definitiva da conteineriza√ß√£o √© a alta previsibilidade do comportamento do aplicativo (o ambiente √© sempre o mesmo).  Tornou-se mais f√°cil reproduzir situa√ß√µes ou problemas, n√£o h√° necessidade de fazer muitos assemblies para diferentes sistemas operacionais; a implanta√ß√£o √© mais r√°pida. <br></p><br><p> No VMmanager 5, a instala√ß√£o de pacotes carregava muitas depend√™ncias que poderiam entrar em conflito com os pacotes j√° instalados.  Houve situa√ß√µes em que a exclus√£o de um pacote inofensivo com a op√ß√£o <em>"-y"</em> excluiu o painel inteiro por depend√™ncia. <br></p><br><blockquote>  Outra grande mudan√ßa: o VMmanager 6 suporta imagens.  Uma imagem √© uma c√≥pia inteira de um disco da VM.  √â usado ao criar m√°quinas virtuais e backups.  N√£o confunda com imagens ISO no VMmanager 5 - essas s√£o duas tecnologias diferentes. </blockquote><br><h3>  Resist√™ncia de carga </h3><br><p>  Uma consequ√™ncia importante das mudan√ßas na arquitetura √© o aumento da resist√™ncia √† carga. <br></p><br><p>  <strong>O VMmanager 5</strong> n√£o suporta cargas pesadas: se mais de 500 m√°quinas virtuais forem criadas, ele come√ßar√° a funcionar lentamente.  Para contornar essa limita√ß√£o, os provedores instalam outro VMmanager e criam novas m√°quinas virtuais.  Os grandes fornecedores podem ter v√°rios pain√©is: de acordo com o n√∫mero de locais ou tarifas. <br></p><br><p>  No VMmanager 5, muito foi feito no processo principal e, via de regra, em um thread.  Para gerenciar opera√ß√µes longas, havia um m√≥dulo longtask (o progenitor do taskmanager, um servi√ßo para despachar tarefas na sexta vers√£o), mas n√£o come√ßamos imediatamente a us√°-lo ativamente.  N√£o havia mecanismo de bloqueio no longtask, apenas filas nas quais as tarefas podiam ser executadas estritamente uma por uma na ordem em que chegaram l√°.  Uma tarefa n√£o pode ficar em v√°rias linhas.  As pr√≥prias opera√ß√µes de longa tarefa eram arquivos especiais em disco.  E um grande n√∫mero de arquivos em um diret√≥rio cria uma carga s√©ria em todos os sistemas UNIX.  Isso n√£o permitiu distribuir tarefas entre v√°rios despachantes / servidores. <br></p><br><p>  A carga no <strong>VMmanager 6</strong> √© respondida por um servi√ßo especial de gerenciamento de tarefas - Taskmanager.  Agora, a maioria das opera√ß√µes √© executada como adiada em processos separados.  Isso aumenta a capacidade de resposta do sistema - uma solicita√ß√£o separada n√£o pode bloquear sua opera√ß√£o;  e tamb√©m aumenta a estabilidade - se algo der errado, n√£o afetar√° todo o sistema, no m√°ximo algumas opera√ß√µes.  Um sistema flex√≠vel de bloqueios e alto isolamento de processos individuais permite enfileiramento e execu√ß√£o ideais de tarefas em paralelo, sempre que poss√≠vel. <br></p><br><p>  Tamb√©m na nova vers√£o, foi decidido separar o leitor e o gravador (processos respons√°veis ‚Äã‚Äãpelas opera√ß√µes de leitura e grava√ß√£o no sistema).  Ao contr√°rio do VMmanager 5, o usu√°rio do painel sempre pode obter informa√ß√µes, porque os encadeamentos do leitor sempre podem trabalhar em paralelo, independentemente de quantas opera√ß√µes de grava√ß√£o est√£o sendo executadas no momento. <br></p><br><h3>  Interface </h3><br><p>  A diferen√ßa mais not√°vel entre as duas gera√ß√µes √© a interface.  E n√£o se trata apenas de design.  Diferen√ßas de velocidade e capacidade de resposta. <br></p><br><p>  A interface do <strong>VMmanager 5</strong> est√° desatualizada na apar√™ncia e no "comportamento".  O primeiro √© vis√≠vel a olho nu e o segundo √© percept√≠vel durante opera√ß√µes longas: se voc√™ parar a m√°quina virtual ou iniciar a migra√ß√£o em massa, uma barra de progresso de bloqueio ser√° exibida na tela.  Se o usu√°rio tiver muitas dessas opera√ß√µes, algu√©m aguardar√° para ver uma lista de m√°quinas virtuais. <br></p><br><img src="https://habrastorage.org/webt/z6/id/i4/z6idi4wag3txvgphy0mxs8vh3v8.png"><br><p>  <em>Bloqueando a barra de progresso quando uma m√°quina virtual para no VMmanager 5</em> <br></p><br><p>  Juntamente com as altera√ß√µes de design, o <strong>VMmanager 6</strong> veio com altera√ß√µes de arquitetura no lado do cliente.  Anteriormente, os modelos de p√°gina eram gerados a partir de arquivos xml do lado do servidor, agora √© SPA (aplicativo de p√°gina √∫nica) baseado na popular estrutura Angular.  O aplicativo consiste em m√≥dulos independentes separados (baixados sob demanda) e componentes.  Os componentes s√£o alocados √† biblioteca e s√£o desenvolvidos de acordo com o sistema de design. <br></p><br><p>  Para aumentar a capacidade de resposta, a comunica√ß√£o com o servidor ocorre usando a API REST e o WebSocket.  Na maioria dos casos, tentamos usar opera√ß√µes sem bloqueio ou atrasadas.  A parte do cliente √© notificada de qualquer altera√ß√£o no aplicativo, seja criando uma m√°quina virtual ou alterando o status de um n√≥ em uma tabela, por meio de um servi√ßo especial.  Este servi√ßo aprende sobre altera√ß√µes no armazenamento de valores-chave, onde os eventos s√£o obtidos de todos os microsservi√ßos. <br></p><br><p>  Assim, a interface do VMmanager 6 n√£o apenas se tornou mais moderna, mas tamb√©m mais conveniente, √°gil e "amig√°vel". <br></p><br><p><img src="https://habrastorage.org/webt/zn/ul/yt/znulyte1b3fvzwsc_luiu-148-m.png"><br>  <em>Quando uma VM para no VMmanager 6, a interface n√£o √© bloqueada.</em>  <em>O status pode ser observado na lista de m√°quinas virtuais</em> <br></p><br><h2>  Parte 2. Resolu√ß√£o de Problemas </h2><br><h3>  Criando m√°quinas virtuais </h3><br><p>  Vamos seguir para as tarefas.  A primeira √© a cria√ß√£o de uma VM. <br></p><br><p>  <strong>O VMmanager 5</strong> cria uma m√°quina virtual em 8 a 10 minutos - muito tempo.  Isso ocorre porque o processo segue os meios usuais: os pacotes s√£o baixados, implantados e instalados.  Para que os clientes n√£o precisem esperar, os provedores escrevem plug-ins: eles criam uma m√°quina virtual com anteced√™ncia e, quando o cliente chega, reatribua-a.  Um usu√°rio elevado pode criar uma m√°quina virtual sozinho, mas voc√™ precisar√° preencher um formul√°rio complexo. <br></p><br><img src="https://habrastorage.org/webt/qv/lr/mt/qvlrmtkhnnevdghy0s-8ugev5bm.png"><br><p>  <em>Formul√°rio de cria√ß√£o de m√°quina virtual no VMmanager 5</em> <br></p><br><p>  <strong>O VMmanager 6</strong> usa um novo mecanismo para criar m√°quinas virtuais.  O painel n√£o faz o download de pacotes, mas implementa uma c√≥pia da imagem.  N√£o √© necess√°rio gravar plug-ins adicionais: a emiss√£o da VM, mesmo sem eles, √© r√°pida - de 1 minuto a 20 segundos a 2 minutos.  Falhas na rede ou o lan√ßamento de uma nova vers√£o do sistema operacional n√£o afetam mais a instala√ß√£o e, se for iniciada, definitivamente terminar√°.  A forma de criar uma VM tornou-se muito mais simples. <br></p><br><img src="https://habrastorage.org/webt/-f/s8/af/-fs8afiwezzgp7oxy1c1kfof9dq.png"><br><p>  <em>Formul√°rio de cria√ß√£o de m√°quina virtual no VMmanager 6</em> <br></p><br><h3>  Criando modelos de SO </h3><br><p>  Os fornecedores vendem m√°quinas virtuais aos clientes com WordPress, 1C-Bitrix ou outro software.  As empresas que usam o VMmanager para necessidades internas criam muitos do mesmo tipo de VM para teste, implementando servi√ßos internos e seu pr√≥prio software.  A configura√ß√£o de cada m√°quina √© a rotina do administrador ou testador.  O painel de controle ajuda a automatiz√°-lo: depois de configurar o modelo e criar VPS pr√©-configurado a partir dele. <br></p><br><p>  No <strong>VMmanager 5,</strong> os modelos de SO s√£o armazenados em reposit√≥rios.  Para adicionar seu modelo, voc√™ precisa criar um reposit√≥rio e preparar os arquivos de configura√ß√£o do SO.  O reposit√≥rio √© criado em um servidor separado.  O modelo consiste em uma descri√ß√£o XML e um arquivo de configura√ß√£o, al√©m de todos os arquivos necess√°rios para criar o sistema operacional.  O administrador deve preparar o modelo.  A tarefa n√£o √© f√°cil e √© improv√°vel que seja resolvida sem instru√ß√µes. <br></p><br><img src="https://habrastorage.org/webt/or/d6/-b/ord6-bjjj1poidkehamw-bkp8ue.png"><br><p>  <em>Modelos de SO no VMmanager 5. Voc√™ pode iniciar a instala√ß√£o a partir da interface, mas n√£o pode configurar o modelo</em> <br></p><br><p>  O modelo do SO no <strong>VMmanager 6</strong> √© uma imagem de disco de uma m√°quina virtual com um sistema operacional instalado.  Para criar um modelo com software adicional, basta configur√°-lo em uma m√°quina virtual e criar uma imagem de seu disco.  Depois disso, todas as VMs criadas a partir desta imagem ser√£o configuradas da mesma maneira.  Somente as configura√ß√µes de rede e o acesso √† VM ser√£o alterados - eles n√£o ser√£o gravados na imagem.  A tarefa √© simples, o administrador lidar√° sem instru√ß√µes.  Obviamente, os amantes de scripts ainda podem us√°-los - existe essa possibilidade no VMmanager 6. <br></p><br><p><img src="https://habrastorage.org/webt/2m/gl/1r/2mgl1rsgj0xo9tl46v4s7dz0zis.png"><br>  <em>Criando uma m√°quina virtual a partir de uma imagem de usu√°rio no VMmanager 6</em> <br></p><br><h3>  Estat√≠stica e Monitoramento </h3><br><p>  Os servi√ßos de estat√≠sticas e monitoramento s√£o auxiliares indispens√°veis ‚Äã‚Äãpara todo administrador de sistema.  Eles permitem que voc√™ responda rapidamente a situa√ß√µes de emerg√™ncia que ocorrem em n√≥s e VMs.  Um afluxo repentino de visitantes, um ataque DDoS ou um script com defeito pode carregar muito a m√°quina virtual.  Se voc√™ n√£o tomar uma a√ß√£o, ela falhar√°, bem como o site ou projeto localizado nele.  √â conveniente quando o sistema de monitoramento est√° inclu√≠do no painel. <br></p><br><p>  <strong>O VMmanager 5</strong> possui um mecanismo para monitorar o status das m√°quinas virtuais.  A cada 10 minutos, ele analisa o n√∫mero de pacotes enviados pela rede e o n√∫mero de solicita√ß√µes de grava√ß√£o no disco da m√°quina virtual.  Os 10 principais n√≥s no tr√°fego de sa√≠da, carga do processador e mem√≥ria s√£o mostrados na p√°gina principal do painel.  N√£o h√° notifica√ß√µes por correio ou mensageiros instant√¢neos. <br></p><br><img src="https://habrastorage.org/webt/cb/14/2l/cb142lm6wgzfkmn1plz5a-w4pe8.png"><br><p>  <em>Estat√≠sticas sobre n√≥s no VMmanager principal 5. Se n√£o houver dados suficientes, os gr√°ficos ser√£o feios</em> <br></p><br><p>  <strong>O VMmanager 6</strong> tamb√©m monitora o status de VMs e n√≥s, como antes, coleta estat√≠sticas sobre o uso de recursos.  Mas, seguindo as necessidades dos usu√°rios, desenvolvemos um novo sistema de monitoramento on-line para n√≥s e VMs.  Ele monitora o consumo de RAM, CPU e disco r√≠gido, monitora a atividade da rede.  Se a carga se tornar cr√≠tica, √© imposs√≠vel n√£o perceber isso - os dados de monitoramento s√£o exibidos nas listas de n√≥s e m√°quinas virtuais, bem como em cart√µes individuais dessas entidades.  Depois de visitar a lista de n√≥s, o administrador pode perceber imediatamente qual dos servidores est√° sobrecarregado e por qual indicador.  O painel est√° em desenvolvimento, a apar√™ncia √© esperada no painel este ano. <br></p><br><img src="https://habrastorage.org/webt/ub/il/bz/ubilbz57ku3hkiwxw7cc7ogakxy.png"><br><p>  <em>Placa de n√≥ no VMmanager 6. Aqui est√£o informa√ß√µes sobre a carga e as estat√≠sticas nas m√°quinas virtuais criadas</em> <br></p><br><h3>  Mail </h3><br><p>  √â conveniente quando o painel relata eventos ou problemas atuais.  Para fazer isso, ele deve suportar o envio de mensagens. <br></p><br><p>  N√£o h√° como gerenciar emails no <strong>VMmanager 5</strong> .  Somente um administrador pode redefinir uma senha esquecida; voc√™ n√£o pode restaur√°-la automaticamente.  As notifica√ß√µes de cria√ß√£o de m√°quinas virtuais s√£o enviadas pelo BILLmanager.  Adicione um novo evento para alertas - tudo isso. <br></p><br><p>  <strong>O VMmanager 6</strong> pode enviar email.  J√° existem notifica√ß√µes sobre a cria√ß√£o e a reinstala√ß√£o de VMs, cartas para recupera√ß√£o de senha.  Quando a cobran√ßa est√° ativada, o envio de mensagens do painel pode ser desativado.  No futuro, haver√° notifica√ß√µes de problemas que ocorreram nos n√≥s da VM.  Tamb√©m est√° planejado implementar o envio de notifica√ß√µes para mensageiros instant√¢neos. <br></p><br><h3>  Gerenciamento de tarefas </h3><br><p>  N√£o basta aprender sobre o problema, voc√™ precisa encontrar rapidamente a causa e corrigi-la.  Por que a m√°quina virtual n√£o criou ou o script n√£o foi executado, que opera√ß√µes no sistema geralmente falham - tudo isso pode ser encontrado na lista de tarefas do VMmanager 6. <br></p><br><p>  <strong>O VMmanager 5</strong> n√£o possui um mecanismo de monitoramento de tarefas, pois n√£o havia um mecanismo de tarefas em si (consulte a primeira parte do artigo).  A execu√ß√£o parcial de tarefas em segundo plano pode ser monitorada na se√ß√£o "Status do sistema".  Voc√™ pode ver a hora de in√≠cio e t√©rmino, bem como o status - conclu√≠do com sucesso ou com um erro.  Uma opera√ß√£o de longa tarefa interrompida pode ser encerrada √† for√ßa.  Mas se a m√°quina virtual n√£o tiver sido criada, voc√™ n√£o poder√° descobrir o motivo no painel: ser√° necess√°rio pegar o ID e acessar o console "log log". <br></p><br><img src="https://habrastorage.org/webt/vo/vt/ls/vovtlsh6e0mkpfmnsddsjkfvuhk.png"><br><p>  <em>Gerenciamento de tarefas no VMmanager 5. Voc√™ pode ver a hora e o status de in√≠cio ou concluir o script</em> <br></p><br><p>  <strong>O</strong> usu√°rio do <strong>VMmanager 6</strong> gerencia opera√ß√µes na "Lista de tarefas".  Ele armazena informa√ß√µes sobre opera√ß√µes em andamento e conclu√≠das em m√°quinas virtuais, n√≥s, modelos de SO.  Pela dura√ß√£o das tarefas, √© poss√≠vel rastrear os padr√µes: qual opera√ß√£o levou a que horas, quem a iniciou.  Se falhar, o log √© vis√≠vel - √© exibido na interface.  Se o script n√£o for executado, um c√≥digo de erro aparecer√° na interface.  Limpe imediatamente o que fazer. <br></p><br><img src="https://habrastorage.org/webt/hc/l1/jq/hcl1jq1p1ph_ihcpxgebcg2uza4.png"><br><p>  <em>A lista de tarefas no VMmanager 6. Voc√™ pode entender quem, o que e quando</em> <br></p><br><img src="https://habrastorage.org/webt/dv/zk/nb/dvzknb79x4mo30uwsnseuq87x2g.png"><br><p>  <em>O cart√£o da tarefa que foi conclu√≠da com um erro.</em>  <em>Um log √© vis√≠vel no painel - voc√™ n√£o precisa "comer nada" no console</em> <br></p><br><h3>  Backups </h3><br><p>  Essa √© uma das tarefas resolvidas de maneira diferente em dois pain√©is. <br></p><br><p>  <strong>VMmanager 5.</strong> Voc√™ pode criar c√≥pias de todas ou de m√°quinas virtuais espec√≠ficas.  Os backups s√£o armazenados no disco local ou no armazenamento FTP remoto - um ou mais.  A descri√ß√£o XML da m√°quina virtual √© copiada, c√≥pias de seus discos virtuais, um despejo de mem√≥ria √© criado e tudo isso √© compactado no arquivo morto. <br></p><br><img src="https://habrastorage.org/webt/nn/hd/ms/nnhdmshiknknbhacr6wryd3uove.png"><br><p>  <em>Fazendo backup de m√°quinas virtuais no VMmanager 5</em> <br></p><br><p>  <strong>VMmanager 6</strong> .  N√£o h√° backup no sentido usual - tudo √© armazenado no banco de dados.  Se o painel falhar, mas o banco de dados estiver salvo, n√£o ser√° dif√≠cil restaurar o sistema.  O papel dos backups de m√°quinas virtuais √© realizado por imagens.  Voc√™ pode restaurar uma VM danificada a partir de uma imagem, se necess√°rio.  Agora, as imagens s√£o criadas com a VM parada, mas no futuro elas podem ser feitas sem parar e vendidas por meio do faturamento. <br></p><br><img src="https://habrastorage.org/webt/t8/zi/2t/t8zi2ttnnuhyfvfvhwsaclqocqu.png"><br><p>  <em>Criando uma imagem no VMmanager 6</em> <br></p><br><h3>  Suporte nativo para o data center Hetzner </h3><br><p>  Hetzner √© um data center popular entre os provedores russos.  Ele usa o Port Security para prote√ß√£o; portanto, ao trabalhar com ele, s√£o necess√°rias configura√ß√µes especiais de rede. <br></p><br><p>  No <strong>VMmanager 5, a</strong> rede para os n√≥s Hetzner deve ser configurada manualmente: edite os arquivos de configura√ß√£o do painel, configure a interface de rede e a ponte de rede do servidor e ative o encaminhamento.  Ao mesmo tempo, um painel pode gerenciar apenas um cluster - se o provedor tiver seus pr√≥prios servidores al√©m dos alugados pela Hetzner, eles dever√£o ser configurados em um painel separado. <br></p><br><p>  <strong>O VMmanager 6</strong> possui suporte nativo ao Hetzner.  O administrador adiciona um cluster do tipo Hetzner e conecta os servidores.  Depois disso, o roteamento segue o modelo desse datacenter, as configura√ß√µes da VM s√£o feitas de acordo com o tipo de cluster no qual est√£o localizados.  Ao mesmo tempo, no mesmo painel, pode haver clusters com outras configura√ß√µes de rede.  A prop√≥sito, o gerenciamento de v√°rios clusters √© um dos principais recursos do VMmanager 6. <br></p><br><img src="https://habrastorage.org/getpro/habr/post_images/a34/b36/cbe/a34b36cbe37fc39647bbe41c9192c7e5.png"><br><p>  <em>Formul√°rio de cria√ß√£o de cluster do tipo Hetzner no VMmanager 6</em> <br></p><br><h3>  Armazenamento local </h3><br><p>  <strong>O VMmanager 5</strong> suporta armazenamento de arquivos e LVM.  Em um cluster, pode haver n√≥s com diferentes tipos de armazenamento (como o tempo mostrou, o mecanismo acabou n√£o sendo reclamado e exigiu muitos recursos).  O painel tamb√©m suporta um grande n√∫mero de tipos diferentes de armazenamento conectado √† rede.  Na sexta vers√£o, nos pr√≥ximos lan√ßamentos, implementaremos o suporte para os mais populares deles - Ceph-storage. <br></p><br><p>  <strong>O VMmanager 6</strong> suporta armazenamento de arquivos e LVM.  Em um cluster, n√£o pode haver n√≥s com diferentes tipos de armazenamento.  Isso elimina problemas de migra√ß√£o - eles s√£o inevit√°veis ‚Äã‚Äãse alguns dos discos estiverem no armazenamento de arquivos e outros no LVM. <br></p><br><h3>  Requisitos de sistema </h3><br><p>  <strong>VMmanager 5</strong> : um servidor limpo com CentOS 6 e 7, 100-150 GB para a parti√ß√£o raiz. <br></p><br><p>  <strong>VMmanager 6</strong> : um servidor limpo com o CentOS 7, um processador de n√∫cleo duplo com uma frequ√™ncia de 3 GHz, 4 GB de RAM, 40 GB de espa√ßo em disco.  O servidor n√£o precisa ser de ferro, o virtual servir√°. <br></p><br><h3>  Pre√ßo / Transi√ß√£o </h3><br><p>  <strong>O VMmanager 5</strong> custa 8 euros por n√≥ por m√™s, 80 - se voc√™ comprar por um ano.  Cada novo n√≥ custa 8 euros.  Agora apenas aqueles que j√° adquiriram uma licen√ßa para o VMmanager 5 podem compr√°-la. <br></p><br><p>  <strong>O custo do VMmanager 6</strong> consiste em duas partes: o pre√ßo dos n√≥s e um pacote de m√°quinas virtuais. <br></p><br><ul><li>  Os n√≥s s√£o vendidos um de cada vez, a 4 euros / m√™s para cada um. </li><li>  M√°quinas virtuais s√£o vendidas em pacotes.  O pacote m√≠nimo inclui 20 VMs e custa 8 euros / m√™s. </li></ul><br><p>  Para clientes com licen√ßas ativas do VMmanager 5, √© v√°lida uma oferta especial para a compra do VMmanager 6. As condi√ß√µes e os detalhes sobre a migra√ß√£o podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no an√∫ncio no site do ISPsystem</a> . <br></p><br><h3>  Conclus√£o </h3><br><p>  A quinta e sexta gera√ß√£o do VMmanager s√£o adequadas para gerenciar a virtualiza√ß√£o.  Mas a diferen√ßa entre eles √© grande.  Para resumir: <br></p><br><ul><li>  <strong>O VMmanager 5</strong> deve ser usado para resolver tarefas n√£o padr√£o: quando voc√™ precisar de imagens ISO.  E tamb√©m - instant√¢neos e armazenamentos de rede (iSCSI, NFS, Ceph, GlusterFS). </li><li>  <strong>O VMmanager 6 √©</strong> mais conveniente e r√°pido, suporta cargas pesadas e √© adequado para quase todas as tarefas.  At√© o final do ano, planejamos adicionar suporte para IPv6, Ceph-stores, al√©m de um painel de administrador e notifica√ß√£o de problemas no correio e no messenger. </li></ul><br><p>  O VMmanager 6 j√° foi classificado por 30 fornecedores.  Coment√°rios - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no an√∫ncio</a> no site do ISPsystem. </p><br><p>  Os detalhes e detalhes m√°ximos est√£o na documenta√ß√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VMmanager 5</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VMmanager 6</a> . <br></p><br><br><blockquote>  Voc√™ pode experimentar o VMmanager 6. gratuitamente agora. A vers√£o de avalia√ß√£o √© v√°lida por 30 dias.  Para us√°-lo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">deixe uma solicita√ß√£o</a> e siga as instru√ß√µes na carta de resposta. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt471886/">https://habr.com/ru/post/pt471886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt471870/index.html">Uso efetivo do libdispatch</a></li>
<li><a href="../pt471872/index.html">Interfaces no C # 8: suposi√ß√µes perigosas na implementa√ß√£o padr√£o</a></li>
<li><a href="../pt471876/index.html">PDU e Tudo-Tudo-Tudo: Distribui√ß√£o de Energia em Rack</a></li>
<li><a href="../pt471878/index.html">Como escrever um contrato inteligente para o WebAssembly em uma rede Ontology? Parte 1: Ferrugem</a></li>
<li><a href="../pt471884/index.html">10 utilit√°rios ApexSQL gratuitos para gerenciar bancos de dados do Microsoft SQL Server</a></li>
<li><a href="../pt471890/index.html">Infer√™ncia Variacional - o que √© e o que come?</a></li>
<li><a href="../pt471892/index.html">6 hist√≥rias pr√°ticas de nossos dias da semana do SRE</a></li>
<li><a href="../pt471896/index.html">O Inside Playbook. Recursos de rede no novo Ansible Engine 2.9</a></li>
<li><a href="../pt471904/index.html">Planejador de recursos na HPE InfoSight</a></li>
<li><a href="../pt471906/index.html">Os perigos de otimiza√ß√µes impr√≥prias</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>