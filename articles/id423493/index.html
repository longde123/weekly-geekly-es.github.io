<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧒 🔙 📁 Android Go adalah miliar perangkat masa depan dan batas 50 MB. Kuliah Yandex 🚴🏻 🐥 🧜🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Arahan baru untuk pengembangan platform yang sudah akrab - selalu menarik. Di satu sisi, Anda memperluas basis klien, di sisi lain, Anda tidak berinve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Android Go adalah miliar perangkat masa depan dan batas 50 MB. Kuliah Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/423493/">  Arahan baru untuk pengembangan platform yang sudah akrab - selalu menarik.  Di satu sisi, Anda memperluas basis klien, di sisi lain, Anda tidak berinvestasi dalam menciptakan perangkat lunak dari awal, tetapi menggunakan perkembangan yang ada.  Tetapi jika arahnya benar-benar baru, dengan spesifiknya sendiri, maka tidak mungkin untuk mengelola dengan sangat sedikit darah.  Pada pertemuan komunitas Mosdroid berikutnya di kantor kami, pengembang Arthur Vasilov <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Arturka</a> berbicara tentang adaptasi aplikasi Yandex ke sistem Android Go. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VYcLRPoA4Bk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><blockquote>  Rata-rata, jika Anda tidak menulis kalkulator, jam alarm, dll., Maka Anda sangat keren, dilakukan dengan baik dan melakukan semuanya dengan baik, atau aplikasi Anda membutuhkan 150-170 megabita. </blockquote><br><a name="habracut"></a>  - Nama saya Arthur, saya seorang pengembang Android, saya sedang mengerjakan aplikasi Yandex.  Hari ini saya akan membagikan kepada Anda sebuah kisah tentang bagaimana kami beradaptasi dengan Android Go.  Saya akan memberi tahu Anda jenis rake yang kami temui, apa yang tidak berhasil bagi kami dan bagaimana semuanya bekerja, mengapa itu diperlukan. <br><br>  Penyimpangan kecil tentang semua ini.  Android Go adalah versi khusus Android yang dirancang untuk perangkat berbiaya rendah.  Harganya 60-100 dolar, dan karena itu mereka sangat lemah, lambat, melambat.  Jadi Google memutuskan bagi mereka untuk membuat sistem mereka sendiri sehingga setidaknya mereka bekerja secara normal.  Diumumkan di Google I / O pada 2017, yaitu, satu tahun dan beberapa bulan telah berlalu.  Karena itu, ketika mitap diumumkan, pertanyaan logis muncul: "Apakah Anda masih hidup, atau apa?"  Saya kemudian mengatakan bahwa semuanya baik-baik saja, semuanya baik-baik saja, saya akan katakan.  Dan sekarang, sebagai pahlawan internet biasa, saya akan menjawab ex-post mengapa itu terjadi. <br><br><img src="https://habrastorage.org/webt/h2/qw/6g/h2qw6gttth_hx-niydwklvvcb8u.jpeg"><br>  Apa yang sebenarnya terjadi?  Google mengatakan: "Kami membuat sistem seperti itu."  Lalu dia berkata: "Oke, kita perlu waktu untuk menyelesaikan" dan semua itu.  Setelah itu, vendor selalu memiliki beberapa jenis penundaan dalam mengadaptasi versi ini untuk diri mereka sendiri.  Dan versi baru bersama kami sudah dirilis tidak lebih awal dari setahun kemudian, jadi tidak ada yang mengejutkan di sini.  Selain itu, mereka perlu memutuskan apakah akan melakukan hal seperti itu: mereka berbicara tentang perangkat murah dan tidak jelas apakah mereka akan mendapat untung dari mereka atau tidak.  Selain itu, perangkat ini harus baru, harus dilakukan, belajar cara menjual, memahami cara kerjanya. <br><br>  Smartphone pertama dengan Android Go muncul belum lama ini.  Di suatu tempat di bulan April, penjualan mungkin dimulai, atau mungkin di bulan Mei.  Ini adalah Nokia 1, dijual di mana-mana.  Saya berbaring di sekitar sini.  Sekarang, menurut saya, hanya ada sembilan smartphone seperti itu di pasaran, tetapi pada akhir tahun mereka menjanjikan lebih dari seratus.  Dan pada prinsipnya, tidak ada pemain utama seperti Huawei, Samsung dan lainnya yang mengatakan kata-kata mereka, sehingga mereka akan menambahkan sesuatu yang lain, mereka tidak akan bisa menjauh dari pasar sebesar itu. <br><br>  Sebelum laporan, saya pergi ke halaman Android Go dan melihat bahwa mereka membuat Android Pie Go Edition.  Tetapi mereka tidak melakukan apa-apa di sana, mereka hanya mengurangi jumlah aplikasi yang terinstal dan berat mereka di muka.  Mereka berkata: - "Anda sekarang memiliki dua kali lebih banyak ruang kosong."  Dan alasan standar: perbaikan bug, peningkatan kinerja, semua hal.  Tetapi setidaknya mereka memanggil, yang berarti mereka tidak lupa. <br><br>  Apa keterbatasan perangkat ini, khususnya?  Pertama, mereka memiliki 512 megabyte atau 1 gigabyte RAM, 8 atau 16 gigabytes penyimpanan.  Jelas bahwa dalam kondisi seperti itu mereka sangat terhambat dan semua aplikasi normal pada mereka akan bekerja dengan cara yang kira-kira sama.  Agar aplikasi dapat bekerja dengan kecukupan minimal, Google berkata, "Mari kenalkan persyaratan berikut."  Mereka cukup logis, ikuti dari apa yang ada di slide sebelumnya. <br><br><img src="https://habrastorage.org/webt/ci/xm/ht/cixmhtwrdwbu_gkczbo0vk3-k8e.jpeg"><br><br>  Pertama-tama, itu adalah kinerja yang baik abstrak.  Aplikasi Anda harus berjalan dengan baik dan cepat pada perangkat seperti itu.  Kami adalah: “Hebat.  Kami sedang bekerja. " <br><br>  Selanjutnya, ada nomor tertentu yang harus dipenuhi.  Ruang yang ditempati setelah membongkar dan menginstal APK tidak lebih dari 40 megabita.  Terkadang ini merupakan masalah karena seseorang dan APK memiliki semua 80 megabita.  Itu akan menyakitkan.  Selain itu, ini tidak dapat diambil dan diukur secara memadai.  Artinya, Anda tidak bisa mengatakan: "Saya tahu bahwa APK saya sangat berbobot, jadi setelah instalasi aplikasi akan sangat banyak."  Semua ini sangat tergantung pada vendor, versi perangkat, Android, dll. Tetapi jika APK Anda membutuhkan 10 megabita, maka, pada prinsipnya, semuanya baik-baik saja dan Anda tidak akan pernah melebihi angka ini. <br><br>  Dan sekarang persyaratan yang paling menyenangkan dan keren: RAM yang dikonsumsi saat bekerja dengan aplikasi tidak boleh melebihi 50 megabyte. <br><br>  Siapa yang tahu berapa banyak RAM yang dibutuhkan aplikasinya selama operasi?  Siapa yang pernah bertanya-tanya tentang masalah ini?  Apakah ada orang dengan kurang dari 100 megabita?  Tampan  Tapi mungkin Anda bohong.  Secara umum, rata-rata, jika Anda tidak menulis kalkulator, jam alarm, dll, maka Anda sangat keren, dilakukan dengan baik dan melakukan semuanya dengan baik, atau aplikasi Anda membutuhkan 150-170 megabita.  Memasukkannya ke dalam 50 megabita sangat sulit.  Oleh karena itu, sisa waktu kita akan membicarakannya, kita akan membahas bagaimana cara membuat globe menjadi burung hantu, dll. <br><br><img src="https://habrastorage.org/webt/6k/el/g1/6kelg1qxjmzqgltficsia2dk1p0.jpeg"><br>  Apa yang termasuk dalam percakapan memori kita?  Secara langsung diperlukan untuk memahami apa yang sebenarnya kita ukur, lalu apa cara terbaik untuk mengukurnya.  Juga untuk perangkat Android Go ada kekhususan yang perlu dipertimbangkan, dan kami juga akan membicarakannya.  Dan saya juga akan memberi tahu Anda beberapa hal umum, kiat umum yang mungkin tidak Anda duga, tetapi mereka benar-benar dapat memakan banyak memori dari Anda. <br><br>  Pada tahun 2018, setelah Google I / O melanjutkan, Anda harus memulai cerita tentang memori dengan mengacu pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">laporan ini</a> .  Siapa yang menontonnya? <br><br>  Bagus  Semua 180 orang yang tersisa tahu apa yang harus dilakukan dalam waktu dekat.  Menurut pendapat saya, ini adalah salah satu laporan terbaik di Google I / O.  Bung mengatakan hal-hal yang sangat keren.  Dia menceritakan semuanya di rak, baik, dan dengan banyak detail mendalam.  Mereka yang menonton dan mengingatnya dengan baik mungkin akan memperhatikan bahwa saya menyalin beberapa hal dari sana, karena tidak mungkin sebaliknya, dia mengatakan semuanya, jadi saya akan mengulanginya. <br><br>  Apa yang kita ukur?  Ada yang namanya PSS (Proportional Set Size).  Artinya, RAM di Android diwakili oleh sekitar 40 kilobyte blok, dan blok-blok ini dapat sepenuhnya menjadi milik aplikasi, atau menggeledah antara proses dan aplikasi. <br><br>  Dan pertanyaannya adalah: bagaimana tepatnya memahami aplikasi mana yang menghubungkan memori bersama ini?  Ada beberapa pendekatan, mereka cukup logis.  PSS mengatakan bahwa jika memori meraba-raba antara proses N, maka kami akan menganggap bahwa aplikasi Anda memiliki 1 / N dari memori itu.  Dan dengan cara yang persis sama ada Ukuran Set Hunian dan Ukuran Set Unik, yang mengatakan bahwa "Tidak ada memori bersama yang menjadi milik saya" dan "Semuanya milik".  Pada prinsipnya, PSS adalah yang paling logis di sini. <br><br>  Bagaimana tepatnya Anda bisa mengukur memori yang dikonsumsi?  Semuanya sederhana di sini.  Entah itu profiler di Android Studio, atau dumpsys.  Tentu saja ada alat-alat lain.  Mereka dapat memberi Anda hasil yang lebih rinci, sesuatu yang lebih rumit, tetapi masalahnya adalah untuk memahami hasil mereka, menggunakannya semua ini sangat, sangat sulit.  Seringkali Anda membutuhkan root atau custom build Android.  Dan pada umumnya Anda tidak membutuhkannya, dua alat pertama sudah cukup. <br><br><img src="https://habrastorage.org/webt/0r/--/pr/0r--prgyak0-hltivshg-dxeuqc.jpeg"><br><h5>  <sub><sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan dari slide</a></sup></sub> </h5><br>  Saya tidak akan berbicara tentang profiler di Android Studio, saya pikir banyak orang yang menggunakannya.  Siapa yang belum pernah menggunakan, pastikan untuk menyodok.  Secara khusus, saya memberikan tautan di bawah ini - hanya artikel bagus dari dokumentasi dengan video, cara menggunakannya, dengan demo.  Dan, pada prinsipnya, semuanya jelas.  Ini menunjukkan ke mana memori Anda pergi, menunjukkannya secara real time.  Satu-satunya hal yang perlu diingat adalah bahwa hal itu membebankan kesalahan tertentu yang timbul dari kenyataan bahwa kita terus-menerus mengukur memori ini.  Tetapi mereka berada dalam batas yang dapat diterima. <br><br><img src="https://habrastorage.org/webt/gb/fv/wn/gbfvwnjxm6fcggr66eoyzmcvnni.jpeg"><br><h5>  <sub><sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan dari slide</a></sup></sub> </h5><br>  Dumpsys adalah konsol sederhana yang tidak memerlukan apa pun dari Anda, hanya telepon dan adb yang terhubung.  Dan Anda dapat menjalankan perintah ini: panggil dumpsys meminfo, berikan paket itu, dan itu akan mengembalikan sesuatu seperti ini kepada Anda.  Dan jika kita tertarik pada seberapa banyak konsumsi aplikasi kita, maka kita dapat melihat secara khusus pada TOTAL, yang mengatakan bahwa "aplikasi Anda memakan sekitar 168 megabyte."  Banyak, tetapi apa yang harus dilakukan? <br><br><img src="https://habrastorage.org/webt/lm/yo/xw/lmyoxwiahsbeey_ru-3zvdtd8y0.jpeg"><br><h5>  <sub><sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan dari slide</a></sup></sub> </h5><br>  Ini juga menunjukkan Anda rincian persis berapa banyak memori yang dibutuhkan dalam memori ini dikonsumsi.  Ada berbagai bagian di sini, mereka kompleks, kita akan membicarakannya lebih lanjut, tetapi untuk sekarang kita dapat melihat hal utama - ini adalah Java Heap, objek Java kita, dan semuanya lebih rumit. <br><br>  Apa lagi yang penting?  Memori adalah hal yang sangat sensitif untuk semua jenis pengujian dan semua jenis kondisi eksternal.  Artinya, semua tes Anda harus melakukan sebanyak mungkin dalam kondisi yang sama.  Jelas bahwa ini idealnya harus menjadi satu perangkat, karena memori tergantung pada versi Android.  Cukuplah mengingat perbedaan antara merangkak dan balita.  Itu tergantung pada ukuran atau resolusi layar, karena semakin besar ukuran layar, semakin banyak konten yang terpecah, semakin banyak memori yang Anda butuhkan untuk menggambar semuanya.  Semakin besar resolusinya, semakin banyak piksel yang ditempati bitmap Anda, dan semakin banyak memori yang diperlukan untuk menyimpannya. <br><br>  Skenario aplikasi juga memengaruhi tes.  Anda dapat membaca teks atau menggulir galeri dengan banyak gambar.  Dan jelas di mana akan ada lebih banyak memori. <br><br>  Hal penting lainnya adalah beban pada perangkat.  Yaitu, Anda dapat memiliki semuanya sama, tetapi dalam satu kasus aplikasi Anda adalah satu-satunya yang berfungsi untuk Anda, dan dalam kasus lain Anda memiliki banyak aplikasi yang melakukan sesuatu di latar belakang, mengunduh sesuatu, menghapusnya, bekerja di latar depan , dan pada saat yang sama memori Anda hanya diperas, karena Anda perlu memberikannya ke aplikasi lain.  Karena itu, idealnya, lebih baik untuk mengambil dan pertama-tama membunuh semua aplikasi lain yang berfungsi, bukan milik Anda.  Semua yang bisa Anda raih, lalu bunuh.  Hanya dalam kasus ini, dan PSS pasti akan berterima kasih, karena tidak akan perlu mencari-cari memori antara proses. <br><br><img src="https://habrastorage.org/webt/lm/yo/xw/lmyoxwiahsbeey_ru-3zvdtd8y0.jpeg"><br>  Anda dapat, misalnya, mengambil dan melihat informasi saat ini di memori bebas, pada memori yang ditempati.  Dia akan membawa Anda sesuatu seperti tanda yang mengatakan, "Di sini saya memiliki begitu banyak memori bebas, begitu banyak memori yang tersimpan, begitu banyak memori yang tersimpan."  Dan jika Anda memiliki memori bebas 200-250 megabita untuk kekasih Anda di sana, maka ini bagus, kemungkinan besar, maka tidak ada yang akan mempengaruhi tes Anda. <br><br>  Mungkin seseorang sekarang memiliki pertanyaan, "Mengapa saya membutuhkan semua ini?"  Ini adalah pemutus di mana saya juga akan mengatakan motivasi untuk semua ini. <br><br>  Pertama, bahkan jika Anda tidak akan melakukan apa pun di Android Go sekarang dan berpikir bahwa itu sudah mati, itu mungkin berkembang, datang kepada Anda, dan pada titik tertentu Anda harus berurusan dengan semua ini. <br><br>  Hal kedua yang saya anggap sangat penting adalah Anda hanya bisa melakukan tes regresi dari memori.  Artinya, Anda cukup menulis skrip yang akan menjalankan aplikasi, melakukan dumpsys, melakukan pengukuran seperti itu, dan menonton bagaimana indikator ini berubah di antara rilis.  Skrip semacam itu dapat ditulis dalam beberapa jam, infrastrukturnya dapat diatur lebih lama, tetapi menurut saya ini adalah hal yang baik. <br><br>  Jika kita berbicara tentang spesifikasi Android Go - poin ketiga kita dalam pertarungan melawan memori - maka ada kabar baik.  Pertama, tidak ada yang benar-benar mengharuskan Anda untuk mengikuti batasan ini.  Artinya, Anda dapat menggunakan aplikasi apa adanya, meletakkannya di perangkat dengan Android Go, dan semuanya baik-baik saja.  Masalahnya adalah bahwa pengguna sangat mungkin untuk menghapus Anda karena Anda mengambil banyak ruang.  Aplikasi Anda juga dapat berjalan lambat dan memiliki banyak memori, ya.  Namun sejauh ini belum ada yang melarangnya, karena jika tidak maka tidak akan ada aplikasi selain aplikasi Google di Android Go.  Tetapi jika hal ini berkembang lebih lanjut, banyak yang akan beradaptasi dengan kondisi seperti itu, maka, pada akhirnya, aplikasi Anda dapat dengan mudah diturunkan dalam penerbitan Android Go, atau Anda dapat menunjukkan Lansiran bagaimana pengguna menginstal aplikasi pada smartphone Android Go mereka. : "Sobat, aplikasi ini tidak bekerja dengan baik dengan Android Go.  Mungkin Anda tidak akan mengatakannya? " <br><br>  Ada hal lain - Anda dapat secara manual mengecualikan perangkat Android Go dari Google Play, yaitu, mengatakan bahwa aplikasi tidak dapat diinstal pada perangkat Android Go.  Itu muncul belum lama ini. <br><br>  Dan Google juga cukup pintar, dan 50 megabita yang terdengar dalam judul laporan itu bukan angka yang tetap, itu tergantung pada resolusi perangkat, pada ukuran layar, dan, terlebih lagi, pada jenis aplikasi.  Sebagai contoh, game dialokasikan lebih banyak, menurut saya, 115 megabyte.  Pada prinsipnya, ini bisa dimengerti. <br><br><img src="https://habrastorage.org/webt/gu/yj/0s/guyj0sbre79wfwrlzgupt009xn0.jpeg"><br><h5>  <sub><sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan dari slide</a></sup></sub> </h5><br>  Bagaimana jika kita berbicara langsung tentang tes ini?  Ada satu hal lagi, yang secara khusus sangat memprihatinkan kita - bekerja dengan preset.  Ketika vendor membuat ponsel baru, mereka sering meletakkan di sana beberapa set aplikasi yang sudah diinstal sebelumnya.  Secara khusus, kami sangat terlibat dalam hal ini, dan masalahnya adalah mereka menjalankan hal-hal seperti Compatibility Test Suite.  Ini adalah tes google, mereka menjalankannya.  Dan di sana, jika aplikasi Anda tidak sesuai dengan 50 megabyte ini, maka semuanya buruk, dan aplikasi Anda tidak dapat diinstal sebelumnya pada perangkat tersebut. <br><br>  Sayangnya, tes yang dilakukan Google bukan dari open source, saya tidak bisa memberi tahu mereka, mereka berada di bawah NDA, tetapi pengembang yang baik dari Google menulis artikel seperti itu tentang Android Go, dan di sana, pada prinsipnya, ada rekomendasi yang cukup baik <br><br>  Artinya, semuanya basi.  Kami meluncurkan aplikasi.  Kami menunggu 5 detik untuk semuanya dimuat.  Kami melakukan dumpsys, menulis nilai TOTAL, mengeksekusi beberapa kali, kami mendapatkan hasilnya.  Semuanya sangat sederhana dan biasa. <br><br><img src="https://habrastorage.org/webt/zq/ma/de/zqmadexusg3whja0-dsz0d4w7gk.jpeg"><br>  Satu-satunya hal adalah, mereka tidak memperhitungkan fitur sekecil itu di artikel mereka, atau, mungkin, tidak membicarakannya - ada yang namanya bekerja di proses lain, dan mereka sering melakukannya untuk bertarung termasuk konsumsi memori. <br><br>  Siapa yang percaya ini bagus untuk Android Go?  Dan siapa yang berpikir ini buruk?  Dengan berani. <br><br><img src="https://habrastorage.org/webt/_c/4p/h5/_c4ph5f7gcnhakefypwspum8d_y.jpeg"><br>  Masalahnya adalah, ya, ini buruk, karena pada akhirnya, memori aplikasi Anda yang dikonsumsi dihitung di semua proses.  Jika kita membuat proses kosong tanpa apa-apa dan mengambil dumpsys dari proses khusus ini, kita akan melihat bahwa dibutuhkan 7 megabita.  5-8 megabita - ini merupakan overhead dari proses penciptaan.  Karena itu, ketika kita berjuang untuk setiap megabyte untuk memeras semuanya menjadi 50, maka hal seperti itu diberikan kepada kita dengan sangat buruk.  Secara khusus, katakanlah Yandex memiliki perpustakaan Yandex.Metrica paling populer, ia juga bekerja dalam proses yang berbeda, dan ini juga dapat memberi kita rasa sakit. <br><br><img src="https://habrastorage.org/webt/qu/os/fu/quosfu3kccdztjv7cp6ujn4rxhg.jpeg"><br>  Karena itu, jika beberapa perpustakaan eksternal mendatangi Anda, misalnya, Anda dapat dengan mudah mengatakan: "Bung, silakan bekerja dalam proses utama.  Saya setuju bahwa ini mungkin lebih lambat, tetapi itu tidak akan memakan memori yang tidak perlu. "  Jadi ini juga merupakan titik yang halus. <br><br><img src="https://habrastorage.org/webt/ci/6b/9c/ci6b9cbpebgounzlbc87xids-xi.jpeg"><br><br>  Jika kita berbicara tentang konsumsi memori, maka mari kita beralih ke piring ini, yang ada di sana.  Kami mengambil proyek kosong, dan menjalankan dumpsys ini, memulai bisnis ini, dan kami melihat bahwa 23 megabyte dari 50 sudah diambil.  Kosong "Halo, dunia!"  tanpa apa-apa, cukup aktifkan dengan teks.  Sudah mulai sedih.  Itu menjadi lebih menyedihkan ketika kita menyadari bahwa kita dapat secara langsung mempengaruhi parameter seperti Java Heap, yaitu, ini adalah objek Java kita secara langsung, yang dapat kita lacak secara eksplisit, yang dapat kita hapus, kurangi, dan setidaknya berinteraksi dengan suatu cara. <br><br>  Dan sulit untuk berinteraksi secara normal dengan semua ini, karena ini adalah kode kerangka kerja apa pun dan langsung dari Jawa Anda tidak memiliki alat normal untuk memahami bagaimana semua ini digunakan.  Tetapi kabar baiknya adalah bahwa kita dapat mempengaruhi semua ini secara tidak langsung, jadi mari kita bicara tentang apa yang ada di sana. <br><br><img src="https://habrastorage.org/webt/pa/p_/qp/pap_qprhxuqhr59pnjx8kxrqwos.jpeg"><br>  Apa itu Java Heap bisa dimengerti.  Apa itu Native Heap juga cukup logis untuk diasumsikan.  Ini adalah alokasi yang sama, hanya yang positif.  Mereka berasal dari kerangka kerja dan dari perpustakaan asli Anda, file .so, dan banyak lagi. <br><br>  Kode secara langsung terkait dengan penyimpanan kode.  Ini adalah ukuran .dex Anda, ini .so Anda, ini adalah sumber daya, file mmap dan semua itu.  Artinya, semakin sedikit kode, semakin baik.  Kebenaran paling sederhana yang bekerja secara umum tentang segalanya. <br><br>  Stack adalah tumpukan thread Java / C ++.  Artinya, setiap utas memiliki tumpukan panggilannya sendiri, sehingga setiap utas menciptakan area memori spesifik untuk menyimpan semua ini. <br><br>  Grafik adalah rendering UI.  Ada bitmap tersimpan sebagian yang ditarik, dan apa yang terhubung dengannya. <br><br>  Pribadi lainnya, Sistem - ini adalah sesuatu yang tidak dapat kita pengaruhi sama sekali, dan, pada kenyataannya, segala sesuatu yang tidak terlalu dikategorikan. <br><br><img src="https://habrastorage.org/webt/ut/mv/ft/utmvfteatf-vvzdda5_a8f-iyvi.jpeg"><br><br>  Jika kita berbicara tentang perpustakaan asli, maka, katakanlah Anda dapat mengambil aplikasi kosong ... Anda dapat mengambil aplikasi yang biasa kita miliki dan mengambil dumpsys dari itu, memastikan bahwa dibutuhkan 146 megabita.  Dan jika Anda pergi dan memotong sesuatu ... khususnya, saya mengambil dan menggergaji dua perpustakaan asli terbesar, yang kami miliki total 15 megabyte, dan mengambil dumpsys setelah itu, Anda dapat dengan mudah melihat bahwa kami telah kehilangan konsumsi dari Native Heap dan dari kode.  Yaitu, dengan gerakan sederhana seperti itu, kami menyelamatkan diri sekitar 35 megabita.  Tidak cukup buruk. <br><br><img src="https://habrastorage.org/webt/zn/9r/9v/zn9r9v35dja5ndfyz4nwinzshys.jpeg"><br><br>  Streaming.  Mari kita lakukan tes termudah.   ,       ,      ,    new Thread(),   sleep   ,    .  ,         .         ,  ,     Java-.    Java-        ,     . <br><br><img src="https://habrastorage.org/webt/4i/ed/mo/4iedmo77bys7vs6hv-f65oiuta0.jpeg"><br><br>     ,    ,      ,     .   .    systrace,     id  ,   ps  ,      . <br><br>        ThreadFactory,    ,    ,     ,    ,       ,   100      . <br><br>    ?      :   ,  ,   ,   ,    ,   .  Bagus <br><br>     ,     ,  ,   .      ,      , , -,   APK,   .dex,  .so,  ,   . <br><br>       . ,      ,     ,    .      ,     ?   —         —    ,      .   ,     ,        .       .   —   . <br><br><img src="https://habrastorage.org/webt/3s/mv/wk/3smvwkzryvrsm1klctrsmnxtx4i.jpeg"><br>    dumpsys,   ,      ,    . ,   ,   View,  WebView,  Assets,    . <br><br><img src="https://habrastorage.org/webt/yd/m_/92/ydm_92wzagxi-1a9zpwzkeqbe8o.jpeg"><br>  ,      , , ,     ,    SharedPreference  SQLite  - , , ,   . <br><br><img src="https://habrastorage.org/webt/1f/fs/ct/1ffsctcvhhohxpwiysekmopqwzk.jpeg"><br><br> , ,      Assets.  ,  ,    – .     1,5 . -,      ,         .    . <br><br><img src="https://habrastorage.org/webt/q5/7g/ki/q57gkiv47412jj1q9_aye3k_4e8.jpeg"><br>    —  WebView.    ,  WebView,   ,  dumpsys,  100 ,  .  , , - ,   ,  300  — .    ,  WebView ,    . -. <br><br><img src="https://habrastorage.org/webt/o9/pj/z8/o9pjz8exyayhtg1varn-wtsmw8i.jpeg"><br><br> Google   .    .      WebView,     Google,    - .     WebView. . <br><br><img src="https://habrastorage.org/webt/nt/lp/-q/ntlp-qwbjnysaljhmmahewkcdeq.jpeg"><br><br>    Google Go,    Android Go-.       ,     - layout    ,      .  ,      ,      ,   Chrome Tabs,  Chrome    .   . <br><br>       Android Go,    ?    ,      Android Go,      . <br><br><img src="https://habrastorage.org/webt/rm/jz/cf/rmjzcfwjkfponuuzuljvu0r088q.jpeg"><br>  Ada beberapa cara. -,      ,    ,       Android Go   .     ,    , .         ,   , ,  - build ,  - ,    ,  - .        APK,       ,  —  uses-feature «low-memory»,      APK. <br><br>       ,     ,      Android Go.   Google. ,  ,  Go-   . <br><br>   ,   ?  ,      ,      -       ,   : «,  -  .   ».           .   ,     ,    ,      ,   ,    - ,      ,  -    .     , ,  ,    ,    Google,    Google     ,      .        ,      ,  ,   Android Go  ,       ,       . <br><br>   ,       ,       ,  -.   . <br><br><img src="https://habrastorage.org/webt/6r/wd/i-/6rwdi-8mzeuwfvvw00dh0nmdf48.jpeg"><br><h5> <sub><sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a></sup></sub> </h5><br>       ,    Google I/O:   ,          -    . ,      ,    ,  ,   ,    - ,        .    ,  «       ,      .  ».     .        ,  .    ,  . <br><br>    ? ,      .  —  ,    ,     98% .  ,         , ,    . .       -    Android Go-.  ,  YouTube Go       .    YouTube   , ,  ,   .  Saya tidak tahu.   ,    Android Go    , , ,     —    .     — Facebook Lite, Twitter Lite,   . Lite,      -   . -,  ,      .    Facebook,    .       ,      ,    . ,    —   ,     Android Go. <br><br>    ?  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>  Stack Overflow,    1000 .      .  ,    ,    ,     . ,  ,    —  dumpsys. <br><br>      ,  Android    ,   512   ,    Android 4.4.      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> API</a>     ,     . <br><br>     ,    .    ,        .   —   ,    . <br><br>     , : « ».  : «».  .  —  ,  .  - 170 .  .  -  .    ?      , ,  ,     ,    - .     -  —   .  105 .  . <br><br><img src="https://habrastorage.org/webt/mv/qk/gj/mvqkgjfuippyzhhhcv0tmkosqzw.jpeg"><br>     .   build-   -.  densitySplit,     , resConfig,       .   ,  ,    — . ProGuard   .  ,  ProGuard  ,     ,  , ,  ,       stacktraces. <br><br>      .     ,      ,      Android Go-       . <br><br>    - 64 .  : «,   ».  14 ,  4 ,  60 .     ,   .  .  ,     .         —    ,  ,  ,     ,    .     , ,  ,     Android Go,    . 10 , APK     ,  , .   ,    ,      . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jadi solusi terbaik adalah aplikasi kedua. </font><font style="vertical-align: inherit;">Namun, beberapa orang akan menghabiskan sumber daya untuk itu, sementara keuntungan nyata tidak jelas. </font><font style="vertical-align: inherit;">Mungkin ceritamu tidak akan begitu sedih, karena aku masih memiliki sedikit usaha, aku akan mendaki, tetapi aku sudah tak tertahankan. </font><font style="vertical-align: inherit;">Tapi cerita seperti itu. </font><font style="vertical-align: inherit;">Pada nada yang relatif positif ini, Anda mungkin dapat menyelesaikannya. </font><font style="vertical-align: inherit;">Terima kasih semuanya.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id423493/">https://habr.com/ru/post/id423493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id423483/index.html">Menemukan Cara yang Tepat untuk Memisahkan Konten Situs Web Menggunakan Webpack</a></li>
<li><a href="../id423485/index.html">Malas memuat gambar menggunakan IntersectionObserver</a></li>
<li><a href="../id423487/index.html">Node.js tanpa node_modules</a></li>
<li><a href="../id423489/index.html">Saya seorang dokter darurat dan saya ingin berbicara tentang elektrokardiogram Apple Watch yang baru</a></li>
<li><a href="../id423491/index.html">PHP Digest No. 139 (3 - 17 September 2018)</a></li>
<li><a href="../id423495/index.html">Apa yang ada di dalam XGBoost, dan apa yang harus dilakukan Go dengan itu?</a></li>
<li><a href="../id423497/index.html">Mari kita coba berbicara tentang mesin status hierarkis secara umum dan dukungannya pada SObjectizer-5 pada khususnya</a></li>
<li><a href="../id423499/index.html">DevBoy - bagaimana saya membuat proyek perangkat sumber terbuka dan meluncurkan proyek di Kickstarter</a></li>
<li><a href="../id423501/index.html">Cari dan kreasi gaya visual untuk proyek desain</a></li>
<li><a href="../id423503/index.html">Pengalaman saya bergerak, hidup dan belajar di Jerman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>