<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüëß‚Äçüëß üôãüèª üö£üèø Preuve d'enjeu: aspect int√©rieur üé¥ ü¶î üöü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a beaucoup d'articles philistins et de discussions sur Internet, mais pas assez d'informations sur le fond. √Ä un moment donn√©, l'auteur a r√©alis√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Preuve d'enjeu: aspect int√©rieur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442862/"><p><img src="https://habrastorage.org/webt/yj/8k/rq/yj8krqpp54tlsgp9p1vupdz-ofi.jpeg"></p><br><blockquote>  Il y a beaucoup d'articles philistins et de discussions sur Internet, mais pas assez d'informations sur le fond.  √Ä un moment donn√©, l'auteur a r√©alis√© que la m√©canique et de nombreuses nuances de s√©curit√© associ√©es n'√©taient pas enti√®rement comprises, m√™me par de nombreux d√©veloppeurs de crypto-monnaie.  Cela a √©t√© r√©v√©l√© dans un cas r√©el de portage de l'impl√©mentation PoS pour l'une des crypto-monnaies et dans la publication ult√©rieure d'informations sur les vuln√©rabilit√©s trouv√©es par des experts tiers. </blockquote><p>  Cet article sera utile √† tous les d√©veloppeurs qui ont d√©j√† rencontr√© des vuln√©rabilit√©s PoS ou qui sont encore √† venir. </p><br><p> Horrifi√© sous la coupe. </p><a name="habracut"></a><br><h2 id="krupica-istorii">  Un grain d'histoire </h2><br><p> Sur Internet, l'√©mergence du Proof-of-Stake (PoS) dans Peercoin est retrac√©e apr√®s une discussion sur l'un des forums en 2011, son utilisation ult√©rieure dans Novaoin et sa distribution ult√©rieure dans PIVX et d'autres fourches Bitcoin.  Une logique <code>kernel.h</code> assez primitive a √©t√© introduite dans le <code>kernel.cpp</code> <code>kernel.h</code> / <code>kernel.cpp</code> , qui parcourt les espaces des fourches sous la forme de divers modules Frankenstein. </p><br><p>  L'algorithme PoS a travers√© plusieurs √©tapes de d√©veloppement, quelqu'un leur donne des versions.  Maintenant, les options PoS sont divis√©es pour des raisons naturelles, DPoS est apparu.  L'une des solutions les plus avanc√©es est le protocole Casper dans Ethereum. </p><br><p>  Toute blockchain n√©cessite la g√©n√©ration de blocs et quelqu'un devrait avoir le droit de construire un nouveau bloc.  Si l'auteur le fait sans trop de concurrence dans une cha√Æne de blocs telle que le syst√®me de contr√¥le de version Git, alors dans les crypto-monnaies, il y a une lutte acharn√©e pour la r√©compense du bloc dans le cadre de la preuve de travail (PoW) - trouver une telle combinaison de param√®tres d'entr√©e variables en s√©lectionnant qui donne un r√©sultat correspondant √† d√©termin√© par un objectif donn√© (exploitation mini√®re, exploitation mini√®re). </p><br><p>  PoS remplace Proof-of-Work (PoW) pour √©viter de gaspiller des ressources sur l'exploitation mini√®re.  Au lieu de cela, tous les param√®tres d'entr√©e sont strictement d√©finis avec une caract√©ristique constante bas√©e sur les √©conomies existantes des porte-pi√®ces.  Par cons√©quent, PoW est requis comme point de d√©part pour PoS, si vous ne recourez pas √† diverses options pour l'enrichissement hypoth√©caire initial des cr√©ateurs de la pi√®ce. </p><br><h2 id="zachem">  Pourquoi? </h2><br><p>  Les √©conomies d'√©nergie sont √† peu pr√®s aussi importantes pour les d√©veloppeurs et les d√©tenteurs de pi√®ces que la limitation des √©missions de gaz √† effet de serre pour les producteurs et les consommateurs.  La cruelle v√©rit√© est diff√©rente: </p><br><ol><li>  Les projets bas√©s sur PoW sont soumis √† ce que l'on appelle  ¬´51% des attaques¬ª: les attaquants peuvent exploiter de grandes puissances, cr√©er une cha√Æne parall√®le, puis la publier soudainement avec un mouvement de pi√®ces diff√©rent (c.-√†-d. Double gaspillage), </li><li>  Les mineurs PoW doivent couvrir leurs co√ªts et investir dans le renforcement des capacit√©s - il s'agit d'une sortie directe de capitaux des projets, </li><li>  les propri√©taires d'√©pargne veulent maintenir leur pouvoir d'achat en levant des capitaux, plut√¥t qu'en examinant l'inflation naturelle. </li></ol><br><p>  <em>Sur un exemple vivant: en novembre-d√©cembre 2018, il y a eu des tentatives d'attaques;</em>  <em>puis en d√©cembre-f√©vrier, il y a eu un remue-m√©nage comme la pi√®ce la plus rentable pour l'exploitation sur des cartes vid√©o;</em>  <em>le taux est pass√© de 2+ √† 0,5 USD;</em>  <em>Apr√®s le passage au PoS, le taux est pass√© √† 1 USD en une semaine et l'afflux d'investissements a augment√©.</em> </p><br><hr><br><h2 id="tehnicheskie-momenty">  Points techniques </h2><br><p>  <strong>Attention: dans cette section, nous parlons des PoS "traditionnels" sous la forme comme c'est le cas dans Peercoin, PIVX et leurs fourches.</strong> </p><br><p>  Vous devez comprendre qu'il n'y a pas de centralisation et de comptabilisation des ¬´points¬ª.  Dans cette version, le m√™me principe de chance fonctionne que dans PoW. </p><br><h3 id="1-terminologiya">  1. Terminologie </h3><br><p>  La terminologie est relativement g√©n√©rale, mais dans diff√©rentes impl√©mentations, ses nuances sont: </p><br><ul><li>  <strong>Cible PoW</strong> - cible = cible de base, g√©n√©ralement 2 ^ 240 (0x0000ffff ...) divis√© par la complexit√© du bloc (augmente le nombre de z√©ros en face). </li><li>  <strong>Difficult√© du bloc</strong> - la complexit√© du bloc par rapport √† l'objectif de base, d√©termin√©e de mani√®re d√©terminante en fonction du taux de croissance de la cha√Æne actuelle. </li><li>  <strong>UTXO</strong> - Sortie de transaction non <strong>d√©pens√©e</strong> , une paire d'un hachage de transaction et un num√©ro de sortie. </li><li>  <strong>CoinBase</strong> est une transaction sp√©ciale avec l'index 0 dans le bloc qui contient la r√©compense. </li><li>  <strong>Stake</strong> ou <strong>CoinStake</strong> est une transaction sp√©ciale avec l'index 1 dans un bloc. </li><li>  <strong>Entr√©e de mise</strong> - UTXO qui r√©pond aux exigences d'un pari par taille et par √¢ge. </li><li>  <strong>Modificateur de mise</strong> - un param√®tre sp√©cial calcul√© de mani√®re d√©terministe pour chaque <strong>entr√©e de mise</strong> . </li><li>  <strong>Stake Hash</strong> est un r√©sultat de hachage qui devrait √™tre arithm√©tiquement inf√©rieur √† <strong>Stake Target</strong> . </li><li>  <strong>Cible de mise</strong> - la m√™me que la cible PoW, mais augment√©e proportionnellement du montant de la <strong>contribution de mise par</strong> rapport √† l'ench√®re minimale. </li><li>  <strong>Bloquer la signature</strong> - <strong>Bloquer la signature</strong> . </li><li>  <strong>Fork</strong> - une cha√Æne de ramification. </li><li>  <strong>Split</strong> - partage en r√©seau. </li><li>  <strong>Orphelin</strong> - blocs jet√©s en raison du choix d'une autre alternative. </li></ul><br><h3 id="2-anatomiya">  2. Anatomie </h3><br><p>  Processus de g√©n√©ration: </p><br><ol><li>  Nous trouvons tous les UTXO qui r√©pondent aux exigences de Stake Input </li><li>  Trouvez le modificateur de mise. </li><li>  Multiplier la cible PoW par entr√©e de pieu <br><ul><li>  <em>en millioni√®mes en fait - c'est pourquoi 1 MH PoW hashrate sort exp√©rimentalement √©gal √† une pi√®ce.</em> </li></ul></li><li>  Nous <code>Stake Hash = H(Stake Modifier, Stake Block Time, UTXO output index, UTXO txid, Current Block Time)</code> . <br><ul><li>  <em>param√®tre variable uniquement Temps de blocage actuel</em> </li></ul></li><li>  Si <code>Stake Hash &gt;= Stake Target</code> , essayez de trouver <code>Current Block Time</code> dans la plage acceptable. <br><ul><li>  <em>vous devez tenir compte de la possibilit√© de d√©bordements de cibles de mise lorsqu'il est multipli√© par la quantit√© de donn√©es de mise, selon la mise en ≈ìuvre.</em> </li></ul></li><li>  Nous mettons Coinbase dans tx [0] et CoinStake dans tx [1]. <br><ul><li>  <em>le b√©n√©ficiaire de Coinbase est le m√™me script (adresse) que Stake Input.</em> </li></ul></li><li>  Nous signons le bloc. </li></ol><br><h4 id="21-vremya-bloka">  2.1.  Temps de blocage: </h4><br><p>  Il est facile de voir qu'une arnaque peut apporter certains avantages au fil du temps.  Le consensus standard limite les limites inf√©rieure et sup√©rieure. </p><br><p>  Les inf√©rieurs d√©finissent toujours la dur√©e moyenne des blocs sur les N derniers blocs, g√©n√©ralement sup√©rieure √† 11. Il s'agit de la tol√©rance pour l'inexactitude du temps au niveau des n≈ìuds g√©n√©rateurs. </p><br><p>  La limite sup√©rieure historique a √©t√© fix√©e pour PoW avec un doigt vers le ciel √† 2 heures.  L'augmentation des intervalles r√©duit la complexit√© et rend la branche moins attrayante - par cons√©quent, cela n'a aucun sens.  Mais pour PoS, cela a du sens. </p><br><p>  PIVX et d'autres limitent le temps futur √† un maximum de 3 minutes.  Certains mettent une restriction plus s√©v√®re, mais cela cr√©e des probl√®mes pour les utilisateurs.  Certaines impl√©mentations PoS ont d√©cid√© de changer les intervalles de temps de bloc actuels d'une seconde √† 15-16 secondes. </p><br><h4 id="22-stake-modifier">  2.2.  Modificateur de mise: </h4><br><p>  Le Stake Modifier a √©t√© con√ßu comme un moyen de rendre la pr√©diction difficile et de construire la cha√Æne √† venir, mais quelque chose s'est mal pass√© ... </p><br><p>  Il existe diff√©rentes options pour le calculer: les derniers bits de hachage de blocs √† la fin d'intervalles de temps progressivement sp√©cifi√©s, des valeurs [pas tr√®s] mal pr√©dites des blocs pr√©c√©dents, etc.  √Ä certains endroits, cela ressemble plus √† du code obscurcissant qu'√† quelque chose de sens√©. </p><br><p>  L'original prend un intervalle de 64 intervalles.  Cet √©cart est progressivement divis√© en 64 parties in√©gales.  Les bordures sont arrondies en minutes.  Aux fronti√®res, les blocs existants sont s√©lectionn√©s et un dernier bit en est extrait.  Il s'av√®re donc un nombre 64 bits, quelque chose de similaire √† Nonce. </p><br><p>  L'intervalle √† Peercon est de 20 minutes, mais les gars de PIVX ont d√©cid√© que l'intervalle de 1 minute, arrondi √† la minute, √©tait ce que le m√©decin avait ordonn√©. </p><br><p>  En g√©n√©ral, dans certaines impl√©mentations comme Blackcoin V2 +, tout est fixe et le modificateur Stake est compt√© de la t√™te, tandis que dans Peercoin V03, PIVX, Blackcoin V1 et d'autres du bloc Stake Input.  Ce dernier d√©truit presque compl√®tement le sens.  On suppose que la confusion a disparu √† cause du probl√®me banal de nommage des variables, de m√©tamorphoses suppl√©mentaires et de copier-coller irr√©fl√©chi.  Et l'auteur lui-m√™me a d√©couvert le probl√®me assez tard alors que toute son attention √©tait concentr√©e sur la protection contre le DoS.  Ne te fais pas prendre! </p><br><h4 id="23-podpis-bloka">  2.3.  Bloquer la signature </h4><br><p>  √âtant donn√© que le hachage du bloc ne sert plus de preuve de travail et que n'importe qui peut prendre la transaction CoinStake sign√©e √† partir du bloc de quelqu'un d'autre, vous devez v√©rifier que le bloc a √©t√© cr√©√© par le propri√©taire de Stake.  Par cons√©quent, l'en-t√™te est sign√© avec la m√™me cl√© priv√©e que CoinStake. </p><br><h4 id="24-skript-vyhoda-coinbase-i-coinstake">  2.4.  Script de sortie CoinBase et CoinStake </h4><br><p>  Les m√™mes scripts de sortie, ou que les gens appellent les adresses de portefeuille, sont n√©cessaires pour pr√©server la confidentialit√© et √©viter de lier des adresses individuelles dans un portefeuille. </p><br><h4 id="25-chto-i-kuda">  2.5 Quoi et o√π? </h4><br><p>  Il existe diff√©rentes variantes sur la fa√ßon dont ils g√®rent les montants dans CoinBase et CoinStake.  Logique et motivation dans un cas particulier: </p><br><ol><li>  Les montants doivent √™tre conserv√©s s√©par√©ment pour √©viter m√™me la plus petite perte de fonds utilisateur possible en raison d'erreurs de traitement. </li><li>  CoinBase conserve ses 100 confirmations, mais CoinStake peut √™tre d√©pens√© imm√©diatement, ce qui laisse bien s√ªr le risque de doubler les d√©penses. <br><ul><li>  l'accrochage √† la profondeur des blocs contredit √©galement la qualification d'√¢ge pour une utilisation comme entr√©e de pieu. </li></ul></li><li>  CoinBase et CoinStake ne devraient jamais entrer dans mempool, et toutes les transactions bas√©es sur eux devraient √™tre supprim√©es lors de la reconstruction de la cha√Æne. </li></ol><br><h3 id="3-polnye-bloki-protiv-zagolovkov">  3. Blocs complets contre les en-t√™tes </h3><br><p>  L'entr√©e d'un n≈ìud √† part enti√®re dans le r√©seau commence par la synchronisation.  Dans Bitcoin, la synchronisation est principalement bas√©e sur les en-t√™tes de bloc, comme  ils contiennent suffisamment d'informations pour une v√©rification pr√©liminaire du consensus.  Tout d'abord, des en-t√™tes relativement petits sont extraits et v√©rifi√©s par lots de jusqu'√† 2000 pi√®ces √† partir d'un n≈ìud lat√©ral.  Si la v√©rification initiale a r√©ussi, tous les blocs sont extraits en parall√®le de tous les n≈ìuds connect√©s. </p><br><p>  La protection contre les inondations est bas√©e sur le fait que le n≈ìud local compare l'en-t√™te le plus connu avec ce qu'il poss√®de et demande l'ensemble de la cha√Æne d'en-t√™tes.  Pendant le t√©l√©chargement, tout est v√©rifi√© par le faible co√ªt de l'espace disque et de l'informatique.  Les cha√Ænes sont compar√©es en poids en fonction d'une caract√©ristique telle que le <strong>travail</strong> en <strong>cha√Æne</strong> , qui est la somme de la complexit√© de chaque bloc individuel.  Construire une cha√Æne alternative aussi solide n√©cessitera des investissements de ressources extr√™mement importants, ce qui rend les attaques peu prometteuses. </p><br><p>  Avec PoS, cette approche ne fonctionne pas, car  Pour v√©rifier les blocs, vous devez traiter les blocs pr√©c√©dents complets au moins jusqu'√† l'√¢ge minimum de Stake.  Les impl√©mentations vues par l'auteur n'ont pas commenc√© √† √™tre perverties, mais ont simplement refus√© de travailler avec des en-t√™tes. </p><br><p>  <strong>Par cons√©quent, l'</strong> auteur a impl√©ment√© un t√©l√©chargement opportuniste parall√®le de blocs suivant les en-t√™tes, ce qui augmente consid√©rablement la vitesse de synchronisation en raison de l'utilisation de toutes les connexions.  Des retards mineurs se produisent uniquement si les homologues sont sur des cha√Ænes diff√©rentes - la connexion est alors interrompue apr√®s un l√©ger d√©lai d'expiration comme dans le sch√©ma standard.  En tant que moins, la tendance √† choisir une fausse cha√Æne au moment de la synchronisation. </p><br><p>  <em>Soit dit en passant, le client Bitcoin standard et ses fourchettes r√©cup√®rent le nombre standard minimum de connexions sortantes depuis 8 suffisamment longtemps si certaines d'entre elles √©chouent pour diverses raisons.</em>  <em>Ce probl√®me a √©t√© r√©solu par des connexions sortantes asynchrones.</em> </p><br><h3 id="4-forki-splity-i-orfany">  4. Fourchettes, fentes et orphelins </h3><br><p>  Avec la comp√©tition de construction de blocs, les cha√Ænes altern√©es de 1-2 maillons sont relativement courantes.  Les fourches plus longues dans les r√©seaux d√©velopp√©s ne se produisent naturellement qu'avec des √©checs √©piques dans le consensus en raison d'une erreur de programmation ou d'une coupure Internet globale. </p><br><p>  M√™me avec la s√©paration, il n'y a g√©n√©ralement pas de menace pour l'int√©grit√© du traitement des transactions, comme  lors du d√©tachement de blocs, toutes les transactions retournent √† mempool et sont d√©j√† incluses dans d'autres blocs.  Mempool est un r√©f√©rentiel temporaire des transactions apr√®s leur cr√©ation.  Mempool lui-m√™me est enregistr√© sur le disque dans les versions r√©centes.  La r√©compense pour le bloc est d√©truite.  C'est pourquoi le nombre minimum de confirmations (profondeur) est fix√© pour les r√©compenses. </p><br><p>  Il arrive que des segments de r√©seau local perdent leur connexion avec le monde ext√©rieur et continuent de miner, en supposant qu'il existe une connexion au r√©seau principal.  Ces branches ne constituent g√©n√©ralement pas une menace en raison de leur faiblesse naturelle. </p><br><p>  La principale attaque de 51% pour PoW a d√©j√† √©t√© d√©crite ci-dessus - elle est extr√™mement gourmande en ressources, mais pour PoS, elle devient relativement abordable.  Pour cette raison, il devient techniquement possible de produire de nombreuses branches √† partir de diff√©rents maillons de la cha√Æne.  L'une des solutions classiques consiste √† interdire les fourches en dessous d'une certaine profondeur. </p><br><p>  Le principal probl√®me d'une telle protection est l'incapacit√© des n≈ìuds des segments ermites √† retourner ind√©pendamment dans le circuit principal apr√®s un red√©marrage. </p><br><p>  <strong>Par cons√©quent</strong> , une approche a √©t√© mise en ≈ìuvre pour interdire les fourches plus anciennes qu'une certaine p√©riode uniquement si le haut de la cha√Æne est assez jeune. </p><br><p>  <em>Avec un intervalle cible de blocs de 1 minute, le crit√®re de l'ancienne fourche a √©t√© choisi √† 1 heure, ce qui correspond approximativement √† 60% des confirmations CoinBase, et le crit√®re de jeunesse de la couronne √† 15 minutes est 3+ fois sup√©rieur au d√©lai de blocage statistique maximum.</em> </p><br><h3 id="5-hesh-bloka-i-splity">  5. Bloquer et fractionner le hachage </h3><br><p>  Dans PoW, un hachage de bloc couvre compl√®tement toutes les donn√©es.  Il est √©galement utilis√© pour v√©rifier la cible.  Dans PoS, Stake Hash est une valeur distincte car  il faut exclure la possibilit√© de sa s√©lection.  Cela ouvre la principale menace - la possibilit√© de produire un nombre illimit√© de versions diff√©rentes du bloc bas√© sur le m√™me enjeu co√Øncident, ce qui est facile √† inonder et √† mettre le r√©seau ou ses n≈ìuds individuels. </p><br><p>  Les approches de d√©fense na√Øve donnent lieu √† des vuln√©rabilit√©s de division encore plus graves.  L'une de ces approches, dans diff√©rentes variantes, consiste √† n'autoriser l'utilisation de la mise en jeu qu'une seule fois.  Une attaque simple consiste √† envoyer diff√©rents blocs √† diff√©rents n≈ìuds, ce qui cr√©e imm√©diatement une s√©paration douce. </p><br><p>  Il est encore plus fatal d'exacerber cela avec une interdiction du DoS, qui divisera non seulement les cha√Ænes, mais le r√©seau lui-m√™me en diff√©rents segments. </p><br><p>  D'autres probl√®mes surviennent - l'impossibilit√© d'utiliser Stake √† partir d'un bloc abandonn√©. </p><br><p>  <strong>Par cons√©quent</strong> , la m√©thode de l'acc√©l√©rateur a √©t√© choisie comme la solution la plus s√ªre - le m√™me piquet ne peut pas √™tre utilis√© plus d'une fois par minute.  La logique est simple: une attaque ne peut durer que dans l'intervalle de 1 heure (voir l'ancien fork ci-dessus), pour laquelle il est possible d'inonder pas plus de 60 blocs.  Dans le meilleur des cas, sur le bloc suivant, le r√©seau passera d√©j√† √† un seul circuit.  Dans le pire des cas, avec une attaque continue, cela arrivera dans une heure.  La probabilit√© du pire des cas - trouver plusieurs blocs d'affil√©e, fond exponentiellement. </p><br><p>  <em>N√©anmoins, il reste certains points o√π les n≈ìuds sont vuln√©rables √† une inondation mod√©r√©e jusqu'au moment de la synchronisation compl√®te</em> . </p><br><h3 id="6-minimalnyy-vozrast">  6. √Çge minimum </h3><br><p>  Pour certains, cette limitation laisse perplexe, mais elle est extr√™mement importante pour la stabilit√© du r√©seau, car  ce param√®tre est directement li√© √† la longueur maximale du r√©seau alternatif, que le n≈ìud local pourra v√©rifier sans distorsions techniques graves. </p><br><p>  Comme mentionn√© pr√©c√©demment, le n≈ìud local doit traiter tous les blocs jusqu'√† la limite d'√¢ge afin de pouvoir v√©rifier que l'entr√©e de mise a) a une place pour √™tre b) est vraiment UTXO et n'a pas √©t√© d√©pens√©e. </p><br><p>  V√©rifiez que cela n'est possible que gr√¢ce √† la fonctionnalit√© de la soi-disant.  CoinView, qui est l'√©tat du mouvement des pi√®ces au moment d'un bloc particulier - le haut de la cha√Æne principale dans la compr√©hension du n≈ìud local. </p><br><p>  La mise en ≈ìuvre d'un test √† part enti√®re de circuits alternatifs √† des intervalles de temps ou m√™me de mani√®re sp√©ciale enregistr√©e par CoinView semble peu prometteuse, car  le nombre de ces cha√Ænes alternatives est infiniment grand. </p><br><p>  Une barre trop grande pour la limite d'√¢ge des UTXO affecte n√©gativement les utilisateurs qui souhaitent d√©penser ou combiner une partie de leurs pi√®ces. </p><br><p>  Si vous sp√©cifiez cette bordure dans la profondeur des blocs, une situation de blocage hypoth√©tique d'un arr√™t de cha√Æne complet en raison du fait qu'il n'y a pas d'UTXO appropri√© est possible.  Dans le cas des unit√©s de temps, au moins certains mouvements se produisent. </p><br><p>  <strong>Par cons√©quent</strong> , un choix √©quilibr√© de 1 heure est utilis√© dans d'autres r√©seaux en unit√©s de temps absolues, plut√¥t qu'en fonction de la profondeur des blocs. </p><br><h3 id="7-chto-luchshe-n-utxo-po-minimalnoy-summe-ili-odin-utxo-s-n-summoy">  7. Quoi de mieux que N UTXO pour le montant minimum ou un UTXO avec N total? </h3><br><p>  Ici, l'analogie s'impose: ce qui est mieux, c'est un pistolet avec une pr√©cision de 0,9 ou trois canons avec une pr√©cision de 0,3, mais avec des probabilit√©s de l'ordre de 1/2 ^ 20, les r√©sultats de ces calculs semblent √™tre nivel√©s.  Une petite carte confond la maturit√© de la qualification. </p><br><p>  La croyance actuelle selon laquelle de nombreuses petites transactions trouvent plus de blocs remonte probablement au moment o√π l'√¢ge de la participation a √©t√© √©galement pris en compte pour d√©terminer le poids.  √Ä l'√©poque, les vieilles petites transactions avaient vraiment beaucoup de sens. </p><br><p>  √Ä l'heure actuelle, sur la base d'exp√©riences pratiques et de calculs th√©oriques, les groupes regroup√©s en grands UTXO apportent plus de blocs.  De plus, moins d'UTXO n√©cessite moins de travail CPU.  Quelqu'un pr√©tend le contraire. </p><br><p>  <strong>Alors</strong> pensez par vous-m√™me. </p><br><h3 id="8-zabeganie-blokov-vperyod">  8. Faire avancer les blocs </h3><br><p>  Les mineurs PoS surpassent naturellement un peu les temps de bloc.  Cela affecte la complexit√© du r√©seau pour le pire.  Le code Bitcoin standard s√©lectionne le premier bloc re√ßu, quelle que soit l'heure qui y est indiqu√©e.  La plupart des impl√©mentations PoS font de m√™me. </p><br><p>  <strong>Par cons√©quent, la</strong> logique du mineur PoS a √©t√© modifi√©e de mani√®re √† commencer la s√©lection √† partir du temps moyen des blocs si le temps du bloc actuel avance.  En m√™me temps, avant de comparer l'ordre, les n≈ìuds comparent le temps indiqu√© des blocs.  Le mineur PoS envoie le bloc trouv√© au r√©seau m√™me s'il voit qu'il g√©n√®re une fourchette. </p><br><p>  De cette fa√ßon, le r√©seau est √©galement prot√©g√© contre les blocs hypoth√©tiques envoy√©s pr√©matur√©ment dont l'entr√©e de mise ne peut pas √™tre utilis√©e dans les 60 secondes suivantes avec le m√™me modificateur de mise en raison de la protection DoS.  Comme une double punition pour avoir trich√© avec le temps. </p><br><h3 id="9-nebolshoy-cheklist">  9. Une petite liste de contr√¥le </h3><br><ol><li>  L'entr√©e de piquet doit √™tre un UTXO valide avant le point de fork: <br><ul><li>  dans le cas de la cha√Æne principale, le point de fourche est la pointe, </li><li>  dans le cas d'un circuit alternatif - UTXO apr√®s le point de fourche peut conduire √† l'auto-DoS lors de la commutation, </li><li>  UTXO ne devrait pas √™tre dans mempool par lui-m√™me. </li></ul></li><li>  N'acceptez pas CoinStake dans mempool lors de la reconstruction du circuit principal: <br><ul><li>  la m√™me chose se produit avec CoinBase, </li><li>  cela peut d√©truire la cha√Æne de transaction (peu probable). </li></ul></li><li>  N'acceptez pas les fourches d'anciens blocs si le sommet est bien vivant. </li><li>  La limite d'√¢ge en unit√©s de temps absolues pour l'entr√©e des enjeux est n√©cessaire pour la stabilit√© et la s√©curit√©. </li><li>  Stake Hash ne devrait changer qu'√† partir du temps de blocage. </li><li>  Le modificateur Stake ne doit pas √™tre li√© au bloc Stake Input. </li><li>  Travailler avec des en-t√™tes de bloc n√©cessite un traitement sp√©cial sur le r√©seau et pendant la r√©indexation. </li><li>  CoinStake sont enregistr√©s dans le portefeuille local et n√©cessitent quelques modifications pour l'affichage des orfans correctement. </li><li>  Les mineurs PoS ont probablement assez de montants et doivent √™tre finalis√©s avec un fichier. </li><li>  La r√©indexation doit √™tre am√©lior√©e, car  Il fonctionne par analogie avec les en-t√™tes - tout d'abord, il charge et v√©rifie uniquement l'index des blocs, puis essaie uniquement de traiter les blocs. </li><li>  Si la transition vers PoS n'est pas cod√©e en dur, mais via spork, vous devez l'attraper au d√©marrage, car  les sporks ne sont pas enregistr√©es. </li><li>  Les points de contr√¥le dans Dash et Bitcoin sont presque une imposture et n√©cessitent une r√©vision tr√®s s√©rieuse. </li><li>  Si Dash Fork est jusqu'√† la version 0.13, il y a des probl√®mes avec le traitement des donn√©es de masternode dans le mode utilisateur simple. <br><ul><li>  Avec un red√©marrage fr√©quent du client, la vue du r√©seau est d√©form√©e. </li><li>  Il est pr√©f√©rable d'ignorer simplement le cache si vous ex√©cutez en mode graphique. </li></ul></li><li>  Modifiez la s√©lection du meilleur bloc en tenant compte de la dur√©e du bloc. </li><li>    Bitcoin          . </li><li>         mempool CoinStake  . </li></ol><br><hr><br><p><img src="https://habrastorage.org/webt/gw/fh/up/gwfhupvzahev6mwinu2-idrfpp8.png"></p><br><h2 id="vnedrenie-v-zhizn">    </h2><br><p>     .   mainnet    PoW       ,    ,      PoS,      . PoS       Ethereum   Casper'. </p><br><p>  GPU        -    ‚Äî ethminer'.           150-200 GH (ethash).  -                PoS  . </p><br><p>       PoS   PIVX 2.x  "   ".  -    PIVX     ,             ,  .         ,     PIVX 2.x    .      Dash         0.12      Bitcoin'. </p><br><p>          ,     PoS      .       ,         ,     . </p><br><h3 id="podgotovitelnye-raboty">   </h3><br><h4 id="dokumentaciya">  </h4><br><p>      .           .   whitepaper    -. </p><br><h4 id="pervoe-priblizhenie">   </h4><br><p>        PoS  PIVX       Bitcoin/Dash.     CoinStake          .      PoS    . </p><br><p>      ,      Stake Modifier   Stake Hash  ,       Stake Input   . -      ,  -    PIVX    . </p><br><h4 id="dinamichnye-chekpoynty">   </h4><br><p>          ‚Äî      .    : </p><br><ol><li>            . </li><li>         . </li><li>       ‚Äî ..    ,       . </li><li>      ,  -      ,         . </li></ol><br><p>            .    spork'    ,       . </p><br><p> <em>,        .    spork'     .</em> </p><br><h4 id="perehod-na-pos-ne-dolzhen-byt-zhyostko-zashit">   PoS      </h4><br><p>              ,   -    .        spork,   ,     . </p><br><h4 id="novaya-versiya-protokola">    </h4><br><p>  , ..              .  ,         . </p><br><h4 id="publichnoe-testirovanie">   </h4><br><p>      testnet,       . </p><br><p>  testnet      3   1   mainnet,        . </p><br><h4 id="kalkulyator-dohodnosti">   </h4><br><p>    PoW ,  PoS     - ,            1e6       PoW. </p><br><p>           .   mainnet          Stake Input. </p><br><p>           . </p><br><h3 id="perehod-na-pos-v-zhizni">   PoS   </h3><br><p>     X   spork    PoS . -       ,      . </p><br><p>             .  ,   .        . </p><br><p>     ,      ,     . </p><br><h3 id="lozhka-dyogtya">   </h3><br><p>      Stake Modifier  .        .    PIVX  - ‚Ä¶ ,     ,        Ethereum,    . </p><br><hr><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>    -      ,          .   ,          PoS   ,        .        . </p><br><p> <em>:       -           .</em> </p><br><p> <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  GitHub       </a></em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442862/">https://habr.com/ru/post/fr442862/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442846/index.html">Notre industrie spatiale. Un regard sur les probl√®mes de l'industrie du point de vue d'un d√©veloppeur ordinaire</a></li>
<li><a href="../fr442852/index.html">Dell 6000 ou bonjour de 2005</a></li>
<li><a href="../fr442854/index.html">Comment avons-nous fait le sch√©ma du m√©tro de Minsk</a></li>
<li><a href="../fr442856/index.html">Deux en un: moniteur et horloge Wi-Fi programmables</a></li>
<li><a href="../fr442858/index.html">Y a-t-il trop d'√©l√©phants en Afrique? Comment la coexistence pacifique avec les communaut√©s humaines peut aider dans ce</a></li>
<li><a href="../fr442864/index.html">Quel √¢ge a votre seigneur?</a></li>
<li><a href="../fr442866/index.html">L'IA form√©e √† partir de d√©cennies d'exp√©rimentation culinaire cr√©e de nouveaux plats</a></li>
<li><a href="../fr442868/index.html">Une br√®ve excursion dans les syst√®mes de refroidissement du centre de donn√©es. Avantages et inconv√©nients</a></li>
<li><a href="../fr442870/index.html">Le meilleur du monde d'Angular pour la semaine - Digest n ¬∞ 2 (26 janvier - 7 mars)</a></li>
<li><a href="../fr442872/index.html">Comment j'ai trouv√© l'oeuf de P√¢ques dans la protection Android et que je n'ai pas trouv√© d'emploi chez Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>