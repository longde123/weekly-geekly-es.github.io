<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéá üë©üèΩ‚Äçüè≠ üèÇüèø Microservices: Wie wird der Vertrag eingehalten? üî∞ ‚ö†Ô∏è ü•†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der √úbergang zur Microservice-Architektur erfordert eine √úberarbeitung des Konzepts f√ºr Entwicklung, Test, Wartung und Design, dh aller Aspekte des Le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Microservices: Wie wird der Vertrag eingehalten?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/acronis/blog/483380/">  Der √úbergang zur Microservice-Architektur erfordert eine √úberarbeitung des Konzepts f√ºr Entwicklung, Test, Wartung und Design, dh aller Aspekte des Lebenszyklus von Softwarekomponenten.  In diesem Beitrag werden wir √ºber die Vorgehensweisen sprechen, zu denen das Acronis-Architektenteam gekommen ist, um die besten Komponenten-APIs zu entwickeln.  Die Geschichte wird sowohl die Beschreibung des Problems als auch die Analyse seiner L√∂sungen enthalten.  Vielleicht wird dieser Beitrag einigen als ‚ÄûKapit√§n‚Äú erscheinen, f√ºr jemanden ist nicht klar, warum er die Superl√∂sung X verpasst hat, aber wir hoffen, dass er f√ºr Sie interessant und n√ºtzlich ist.  Wir laden Microservice Builder ein, Ihre Kommentare unter cat zu lesen und zu hinterlassen. <br><br> <a href="https://habr.com/ru/company/acronis/blog/483380/"><img src="https://habrastorage.org/getpro/habr/post_images/4a8/bbd/435/4a8bbd4357c0ea6080a856a129918ae9.png" alt="Bild"></a> <br><a name="habracut"></a><br>  Wenn Sie unseren Blog abonniert haben, haben Sie bereits etwas √ºber Mikroservicevertr√§ge gelesen.  Wir haben dar√ºber in Beitr√§gen √ºber die Auswahl von <a href="https://habr.com/ru/company/acronis/blog/466691/">Swagger oder RAML gesprochen</a> sowie √ºber <a href="https://habr.com/ru/company/acronis/blog/470910">statische √úberpr√ºfungen</a> , die auf der Grundlage von zuvor erstellten Anmerkungen durchgef√ºhrt werden k√∂nnen.  Der Grund f√ºr den heutigen Beitrag war ein <a href="https://www.highload.ru/moscow/2019/abstracts/5234">Bericht auf der HighLoad-Konferenz</a> .  Wir mussten allgemein √ºber den Weg sprechen, den wir gegangen sind, um die Beziehung zwischen Microservices zu formalisieren.  Und heute m√∂chte ich unsere Schlussfolgerungen mit Habr teilen und auch pr√ºfen, ob andere Architekten uns zustimmen. <br><br>  Microservices sind die "Bausteine", aus denen Entwickler moderne Anwendungen erstellen.  Jeder dieser Dienste interagiert √ºber eine API mit der Au√üenwelt.  In der Regel werden Mikrodienste von getrennten Teams entwickelt, die manchmal geografisch verteilt sind. F√ºr eine effektive Arbeit ist es daher erforderlich, die Konsistenz und Integrit√§t ihrer √∂ffentlichen Schnittstellen zu gew√§hrleisten.  In gro√üen Unternehmen mit Hunderten von Diensten ist eine Anmerkung zu jeder Komponente erforderlich: Formalisieren Sie die Eingabedaten und beschreiben Sie die Ergebnisse ihrer Arbeit ausf√ºhrlich.  Wenn Sie mit HTTP REST arbeiten, gibt es hierf√ºr zwei g√§ngige Anmerkungsformate: RAML und Open API Specification (auch bekannt als Swagger).  Die Fragen, auf die wir uns heute konzentrieren, sind jedoch nicht an ein bestimmtes Protokoll gebunden.  Daher ist das Folgende auch f√ºr gRPC relevant. <br><br><h3>  Hintergrund </h3><br>  Acronis gibt es seit √ºber 15 Jahren.  In dieser Zeit haben sich die Produkte und die Codebasis erheblich weiterentwickelt.  Aus einer komplexen Desktop-Anwendung ist ein Unternehmensmodell mit zentralisierten Verwaltungskonsolen, Rechtebegrenzung und √úberwachungsprotokollen entstanden.  Der n√§chste Schritt war die Umwandlung der Unternehmensanwendung in eine offene Plattform, auf der die gesammelten Erfahrungen f√ºr die Integration mit externen Diensten genutzt wurden. <br><br>  War die API fr√ºher wichtig, ist sie heute ein wichtiger Bestandteil des Produkts.  Und die Prozesse, die diese API bereitstellt, sind ausgereift. <br><br><h3>  Wichtige Probleme </h3><br>  Die Probleme bei der API-Erstellung sind allen bekannt.  Wir werden sie in hypertrophierter Form beschreiben: als Schmerzen, die einen hypothetischen Programmierer Vasya und seinen nicht weniger hypothetischen Manager Kolya qu√§len.  Alle Namen sind fiktiv und √úbereinstimmungen sind nicht zuf√§llig :) <br><br>  <b>1. Beschreibung ist veraltet</b> <br><br>  Lassen Sie den Programmierer Vasya die Komponente A entwickeln, die die API der Komponente B verwendet. Diese hat eine Anmerkung, ist aber ung√ºltig.  Vasya muss sich in den Code eines anderen kriechen, nach Leuten suchen, Fragen stellen.  Die Fristen r√ºcken heraus, und sein Manager Kolya muss sich um die √úbergabe von Fristen k√ºmmern. <br><br>  <b>2. API ist nicht konsistent</b> <br><br>  Der Programmierer Vasya hat die Aufgabe abgeschlossen und ist zur n√§chsten √ºbergegangen, die sich auf die Funktionsweise von Komponente B bezieht. Sowohl die Entwickler B als auch die Entwickler C haben jedoch ein unterschiedliches Sch√∂nheitsgef√ºhl, sodass in der API dieselben Aktionen unterschiedlich ausgef√ºhrt werden.  Vasya hat sich erneut mit dem Code befasst, und Kolya leidet erneut unter der Nichteinhaltung von Fristen. <br><br>  <b>3. API nicht dokumentiert</b> <br><br>  Der Manager von Kolya beschlie√üt, die API der Komponente A zu ver√∂ffentlichen, damit Integratoren wunderbare Integrationen vornehmen k√∂nnen.  Integratoren stehen vor Problemen, der Support-Service ist √ºberlastet, bei Manager Kolya brennt alles und Vasya glaubt, dass er bald an der Reihe sein wird. <br><br>  <b>4. Die API ist nicht mit der alten Version kompatibel.</b> <br><br>  Integrationen werden implementiert, alle Br√§nde gel√∂scht.  Aber Vasya entscheidet pl√∂tzlich, dass die API seiner Komponente alles andere als perfekt ist und in eine √úberarbeitung eintaucht.  In diesem Fall wird nat√ºrlich die Abw√§rtskompatibilit√§t verletzt und alle Integrationen fallen auseinander.  Diese Situation f√ºhrt zu Kosten f√ºr die Integratoren und zu Geldverlusten f√ºr die Entwicklungsfirma. <br><br><h3>  Behandlungsmethoden </h3><br>  All diese Probleme treten auf, wenn Programmierer keine Ahnung von einer guten REST-API haben oder diese Ansicht fragmentiert ist.  In Wirklichkeit haben nicht alle Entwickler Erfahrung mit REST.  Und deshalb zielen die Hauptmethoden der ‚ÄûBehandlung‚Äú auf Bildung ab.  Wenn die Vision der richtigen API, die mit der Vision anderer Entwickler, Architekten und Dokumentarfilmer abgestimmt ist, im Kopf jedes Entwicklers zu zerm√ºrben beginnt, wird die API ideal.  Der Prozess der Herausbildung dieser Vision erfordert Anstrengungen und spezielle Werkzeuge, √ºber die wir jetzt sprechen werden. <br><br><h4>  Schmerz 1. Annotation entspricht nicht der Implementierung </h4><br>  Anmerkungen k√∂nnen vom aktuellen Status des Dienstes abweichen, nicht nur, weil es sich um eine API der ‚Äûdunklen Vergangenheit‚Äú handelt, die nicht erreicht werden kann.  Es kann auch eine vielversprechende zuk√ºnftige API sein, die noch nicht eingetroffen ist. <br><br>  Der Grund f√ºr diese Bedingungen ist das mangelnde Verst√§ndnis daf√ºr, warum Anmerkungen erforderlich sind.  Ohne Terror seitens der Architekten neigen die Entwickler dazu, Annotation als internes Hilfswerkzeug zu betrachten, und implizieren nicht, dass jemand au√üerhalb es verwenden wird. <br><br>  Sie k√∂nnen diesen Schmerz heilen, indem Sie: <br><br><ul><li>  <b>√úberpr√ºfung der Architektur.</b>  Eine sehr n√ºtzliche Sache f√ºr Unternehmen jeder Gr√∂√üe, in denen es mindestens einen Programmierer gibt, der ‚Äûwei√ü, wie man es richtig macht‚Äú.  Wenn der Dienst ge√§ndert wird, sollte der Architekt oder die verantwortliche Person den Status der Anmerkungen √ºberwachen und die Programmierer daran erinnern, dass nicht nur der Dienst, sondern auch seine Beschreibung aktualisiert werden m√ºssen.  Nebenwirkungen - ein Engpass gegen√ºber dem Architekten </li><li>  <b>Codegenerierung aus Anmerkungen.</b>  Dies ist der sogenannte API-First-Ansatz.  Dies bedeutet, dass Sie zun√§chst eine Anmerkung erstellen, dann den Prim√§rcode generieren (es gibt gen√ºgend Tools daf√ºr, z. B. [go-swagger] (https://github.com/go-swagger/go-swagger)) und dann den Business-Service ausf√ºllen Logik.  Diese Anordnung vermeidet Inkonsistenzen.  Es funktioniert gut, wenn der Bereich der vom Dienst gel√∂sten Aufgaben klar abgegrenzt ist. </li><li>  <b>Testen von Anmerkungen im Vergleich zur Implementierung</b> .  Dazu generieren wir aus der Annotation (RAML / swagger) den Client, der den Service mit Requests bombardiert.  Wenn die Antworten der Anmerkung entsprechen und der Dienst selbst nicht abf√§llt, ist alles in Ordnung. </li></ul><br>  <b>Test Annotation vs Implementierung</b> <br>  Bleiben wir beim Testen.  Eine solche vollautomatische Abfrageerzeugung ist eine komplexe Aufgabe.  Mit Daten aus API-Anmerkungen k√∂nnen Sie separate Anforderungen erstellen.  Jede API impliziert jedoch Abh√§ngigkeiten. Bevor Sie beispielsweise GET / clients / {cliend_id} aufrufen, m√ºssen Sie zuerst dieses Objekt erstellen und dann seine ID abrufen.  Manchmal sind Abh√§ngigkeiten weniger explizit. Zum Erstellen eines Objekts X muss der Bezeichner des zugeordneten Objekts Y √ºbergeben werden. Dies ist keine Unterauflistung.  Weder RAML noch Swagger erlauben die Beschreibung expliziter Abh√§ngigkeiten.  Daher sind hier mehrere Ans√§tze m√∂glich: <br><br><ol><li>  Erwarten Sie formelle Kommentare von Entwicklern in Anmerkungen, die auf Abh√§ngigkeiten hinweisen. </li><li>  Um eine Beschreibung der erwarteten Sequenz von den Entwicklern anzufordern (es gibt einige M√∂glichkeiten, Anforderungen mit <a href="https://github.com/taverntesting/tavern">YAML</a> , spezialisiertem <a href="https://github.com/intuit/karate">DSL</a> oder √ºber eine sch√∂ne GUI zu beschreiben, wie dies der jetzt verlassene <a href="https://apidocs.apigee.com/analytics-services/apigeetest/apigee-test-overview">Apigee getan hat)</a> . </li><li>  Reale Daten erfassen (z. B. mit <a href="https://openresty.org/en/">OpenResty</a> alle Serveranforderungen und <a href="https://openresty.org/en/">-antworten protokollieren</a> ) </li><li>  Abh√§ngigkeiten aus Annotationen mit (fast) k√ºnstlicher Intelligenz <a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/04/restler.pdf">extrahieren</a> (z. B. <a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/04/restler.pdf">RESTler</a> ) </li></ol><br>  In jedem Fall ist die Testaufgabe sehr zeitaufw√§ndig. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/194/5d1/965/1945d1965cf415d42cd0f0e724735e57.png" alt="Bild"><br><br>  Pers√∂nlich kamen wir zu dem Punkt, Testsequenzen manuell vorzubereiten.  In jedem Fall m√ºssen Entwickler Tests schreiben, damit wir ihnen ein praktisches Tool zur Verf√ºgung stellen k√∂nnen, das m√∂glicherweise ein paar zus√§tzliche Fehler findet. <br><br>  Unser Dienstprogramm verwendet das folgende yaml, um die Reihenfolge der Anforderungen zu beschreiben: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aa1/26e/bf6/aa126ebf6f6eda1c65b596d4d80b812e.png" alt="Bild"><br><br>  Geschweifte Klammern kennzeichnen Variablen, die beim Testen ersetzt werden.  Die Adressvariable wird als CLI-Parameter √ºbergeben, und random generiert eine beliebige Zeichenfolge.  Am interessantesten ist hier das Feld response-to-var: Es enth√§lt eine Variable, in die json mit der Serverantwort geschrieben wird.  Daher k√∂nnen Sie in der letzten Zeile die ID des erstellten Objekts mit task.id abrufen. <br><br><h4>  Pain 2. API ist nicht konsistent </h4><br>  Was ist Konsistenz?  Wir werden keine formale Definition einf√ºhren, aber vereinfachend ist dies interne Konsistenz.  Im ersten Projekt musste Vasya beispielsweise Daten zu Berichten in HighLoad aggregieren, und die API bietet eine Datenfilterung nach Jahr.  Nachdem das Projekt fast abgeschlossen war, kam Manager Kolya nach Vasya mit der Bitte, Statistiken zu Sprechern in die Analyse aufzunehmen und eine neue Methode ‚ÄûGET-Sprecher‚Äú auch mit Filterung nach Jahr zu erstellen.  Infolgedessen vervollst√§ndigt Vasya den Code in ein paar Stunden, aber w√§hrend des Testprozesses stellt sich heraus, dass die Methode nicht funktioniert.  Der Grund ist, dass in einem Fall "Jahr" eine Zahl ist, in einem anderen eine Zeichenfolge.  Dies ist jedoch auf den ersten Blick nicht ersichtlich und erfordert st√§ndige Sorgfalt bei der Arbeit mit der API.  API-Persistenz liegt vor, wenn keine √ºberm√§√üige Sorgfalt erforderlich ist. <br><br>  Es gibt viele Beispiele f√ºr Inkonsistenzen: <br><br><ol><li>  Verwendung verschiedener Formate der gleichen Daten.  Zum Beispiel Zeitformat, Art der Kennung (Nummer oder Zeichenfolge UUID), </li><li>  Anwenden einer anderen Syntax zum Filtern oder Paginieren, </li><li>  verschiedene Berechtigungsschemata f√ºr Dienste.  Dabei geht es nicht nur um die Unterschiede zwischen den Programmierern, sondern auch um Tests, die verschiedene Schemata unterst√ºtzen m√ºssen. </li></ol><br><br>  <b>Behandlung</b> : <br><br><ul><li>  <b>√úberpr√ºfung der Architektur.</b>  Wenn es einen Tyrannenarchitekten gibt, wird er (in Abwesenheit von Schizophrenie) f√ºr Konsistenz sorgen.  Nebenwirkungen: Busfaktor und Tyrannei :) </li><li>  <b>Erstellen der Richtlinien-API.</b>  Dies ist ein einzelner Standard, der entwickelt (oder fertiggestellt) werden muss, aber das Wichtigste ist, ihn umzusetzen.  Dies erfordert Propaganda, einen Stab und eine Karotte. </li><li>  <b>Implementierung von statischen Pr√ºfungen</b> zur Einhaltung der Annotation API Guideline (lesen Sie dazu <a href="https://habr.com/ru/company/acronis/blog/470910/">hier</a> ). </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/aa1/26e/bf6/aa126ebf6f6eda1c65b596d4d80b812e.png" alt="Bild"><br>  <i><font color="#999999">Beispiel - Statische Pr√ºflinge</font></i> <br><br>  Jedes Unternehmen trifft seine eigene Auswahl der zu verwendenden Richtlinie.  Und wahrscheinlich gibt es keinen universellen Ansatz, was sein sollte und was nicht.  Denn je mehr Bestimmungen in der Norm enthalten sind, desto strenger m√ºssen Sie kontrollieren und desto mehr schr√§nken Sie die Freiheit der Kreativit√§t ein.  Und am wichtigsten ist, dass nur wenige Leute ein Dokument mit ‚Äûnur 100 Seiten‚Äú bis zum Ende lesen. <br><br>  In unserem Unternehmen haben wir folgende Punkte in die Richtlinie aufgenommen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47d/613/f76/47d613f762d1dfee282bcc5d97a69f0e.png" alt="Bild"><br>  Weitere gute Beispiele f√ºr Richtlinien finden Sie bei <a href="">Microsoft</a> , <a href="">PayPal</a> und <a href="https://cloud.google.com/apis/design/">Google</a> . <br><br><h4>  Pain 3. API nicht dokumentiert </h4><br>  Das Vorhandensein von Anmerkungen ist eine notwendige, aber nicht ausreichende Bedingung f√ºr die einfache Arbeit mit der API.  Sie k√∂nnen eine Anmerkung schreiben, damit sie nicht ihr volles Potenzial entfaltet.  Dies passiert, wenn: <br><br><ol><li>  nicht gen√ºgend Beschreibungen (f√ºr Parameter, √úberschriften, Fehler usw.); </li><li>  Es gibt nicht gen√ºgend Anwendungsbeispiele, da das Beispiel nicht nur zur Verbesserung der Dokumentation (mehr Kontext f√ºr den Entwickler und die M√∂glichkeit, direkt √ºber das Portal mit der API zu spielen), sondern auch zum Testen (als Ausgangspunkt f√ºr das Fuzzing) verwendet werden kann. </li><li>  Es gibt undokumentierte Funktionen. </li></ol><br>  Dies ist in der Regel der Fall, wenn Entwickler nicht genau wissen, warum die erforderlichen Anmerkungen erforderlich sind, wenn keine Kommunikation zwischen technischen Redakteuren und Programmierern besteht und niemand herausgefunden hat, wie viel das Unternehmen mit unzureichender Dokumentation kostet.  Und wenn sie zum Programmierer k√§men und nach jeder Bitte um Unterst√ºtzung abriefen, w√ºrden alle Anmerkungen sehr schnell ausgef√ºllt. <br><br>  <b>Behandlung:</b> <br><br><ul><li>  <b>Verf√ºgbarkeit von API-Referenzgenerierungstools f√ºr den Programmierer.</b>  Wenn der Entwickler sieht, wie die Beschreibung seiner API f√ºr Kollegen und Benutzer aussieht, wird er versuchen, die Annotation zu verbessern.  Nebenwirkungen: Die Konfiguration dieser Tools erfordert zus√§tzliche manuelle Arbeit. </li><li>  <b>Einrichten der Interaktion zwischen allen Beteiligten</b> : Programmierern, Evangelisten, Hilfspersonal.  Nebenwirkungen: Jedermann treffen, Prozesse verkomplizieren. </li><li>  <b>Verwenden von Tests basierend auf API-Annotation</b> .  Implementierung der obigen statischen Pr√ºfungen in CI-Repositorys mit Anmerkungen. </li></ul><br>  In Acronis wird eine Annotation-API basierend auf Annotationen mit SDK-Clients und Try-It-Abschnitten generiert.  Zusammen mit Codebeispielen und Beschreibungen von Anwendungsf√§llen bilden sie eine Reihe notwendiger und praktischer Add-Ons f√ºr Programmierer.  Besuchen Sie unser Portal unter developer.acronis.com <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e9a/393/66e/e9a39366ef31a82816b011e78b259e39.png" alt="Bild"><br><br>  Ich muss sagen, dass es eine ganze Klasse von Tools zum Generieren der API-Referenz gibt.  Einige Unternehmen entwickeln solche Tools selbst f√ºr ihre eigenen Bed√ºrfnisse.  Andere verwenden relativ einfache und kostenlose Tools wie den <a href="https://editor.swagger.io/">Swagger Editor</a> .  Nach langen (wirklich langen) Recherchen haben wir uns bei Acronis f√ºr Apimatic.io entschieden und es REST United, Mulesoft AnyPoint und anderen vorgezogen. <br><br><h4>  Pain 4. Probleme mit der Abw√§rtskompatibilit√§t </h4><br>  Die Abw√§rtskompatibilit√§t kann durch Kleinigkeiten beeintr√§chtigt werden.  Zum Beispiel schreibt der Programmierer Vasya das Wort Kompatibilit√§t jedes Mal mit einem Tippfehler: Kompatibilit√§t.  Dieser Tippfehler ist im Code, in den Kommentaren und in einem Abfrageparameter zu finden.  Nachdem Vasya einen Fehler bemerkt hat, ersetzt er dieses Wort w√§hrend des gesamten Projekts und sendet die √Ñnderungen ohne hinzuschauen an die Produktion.  Nat√ºrlich wird die Abw√§rtskompatibilit√§t beeintr√§chtigt und der Dienst f√§llt f√ºr einige Stunden aus. <br><br>  Warum k√∂nnen solche Ereignisse √ºberhaupt auftreten?  Der Hauptgrund ist ein Missverst√§ndnis des API-Lebenszyklus, das sich in fehlerhaften Integrationen, unvorhersehbaren EOL-Richtlinien (End Of Life) und undurchsichtigen API-Releases √§u√üern kann. <br><br>  <b>Behandlung:</b> <br><br><ul><li>  <b>√úberpr√ºfung der Architektur.</b>  Wie immer kann die feste Hand eines Architekten die Abw√§rtskompatibilit√§t verhindern.  Die Hauptaufgabe besteht jedoch darin, die Kosten f√ºr die Unterst√ºtzung mehrerer Versionen zu erl√§utern und nach Optionen f√ºr √Ñnderungen zu suchen, ohne die vorhandene API zu besch√§digen. </li><li>  <b>Abw√§rtskompatibilit√§tspr√ºfung.</b>  Wenn die API-Anmerkung eine aktuelle Beschreibung enth√§lt, k√∂nnen Verst√∂√üe gegen die Abw√§rtskompatibilit√§t in der CI-Phase √ºberpr√ºft werden. </li><li>  <b>Rechtzeitige Aktualisierung der Dokumentation.</b>  Die API-Referenz und die API-Beschreibung m√ºssen zur gleichen Zeit aktualisiert werden, zu der sich der Servicecode √§ndert.  Dazu k√∂nnen Sie mindestens standardisierte Checklisten starten, Benachrichtigungen f√ºr √Ñnderungen einrichten, Superf√§higkeiten trainieren, um alles aus allem zu generieren ... Wichtig!  Die Dokumentationsabteilung sollte √ºber alle geplanten √Ñnderungen informiert sein, damit sie die M√∂glichkeit hat, Ressourcen f√ºr die Aktualisierung der Dokumentation und das Schreiben von Upgrade-Handb√ºchern zu planen.  Das getestete und verifizierte Upgrade-Handbuch ist ein trauriges Attribut f√ºr alle Umbenennungen, die Sie in der API gestartet haben. </li></ul><br><h3>  √Ñnderungsmanagement </h3><br>  Die Regeln, die die mit dem API-Lebenszyklus verbundenen Aktivit√§ten beschreiben, werden als √Ñnderungsverwaltungsrichtlinien bezeichnet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/576/a06/d97/576a06d97a0f5c3ab4a5fb95f3e1faf0.png" alt="Bild"><br><br>  Wenn Sie zwei Versionen der "aktuellen" und "neuen" Annotationen haben, ist die Abw√§rtskompatibilit√§tspr√ºfung technisch einfach: Analysieren Sie einfach beide Annotationen und pr√ºfen Sie, ob die erforderlichen Felder vorhanden sind <br><br><img src="https://habrastorage.org/getpro/habr/post_images/99a/6d7/51a/99a6d751ac5990ba394401d35e2fb064.png" alt="Bild"><br><br>  Wir haben ein spezielles Tool geschrieben, mit dem Sie alle f√ºr die Abw√§rtskompatibilit√§t in CI wichtigen Parameter vergleichen k√∂nnen.  Wenn Sie beispielsweise den Antworttext in der GET / healthcheck-Anforderung √§ndern, wird eine Meldung √§hnlich der folgenden angezeigt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5b5/8ec/b39/5b58ecb39ec5c48488a4bc4cb710ba4b.png" alt="Bild"><br><br><h3>  Fazit </h3><br>  Jeder Architekt tr√§umt davon, API-Probleme loszuwerden.  Jeder Manager tr√§umt davon, nichts √ºber API-Probleme zu wissen.  :).  Es gibt viele Medikamente, aber jedes hat seinen eigenen Preis und seine Nebenwirkungen.  Wir haben unsere Behandlungsoptionen f√ºr die einfachsten Kinderkrankheiten mit der API geteilt, und dann treten schwerwiegendere Probleme auf.  Schlussfolgerungen aus unserem Artikel ‚ÄûKapit√§ne‚Äú: API-Probleme beginnen mit dem Kopf und das Unterrichten der Menschen in bew√§hrten Praktiken ist die Hauptgarantie f√ºr den Erfolg.  Alles andere ist nur eine Frage der Technologie.  Und vor welchen Problemen standen Sie und welche Mittel zur L√∂sung haben Sie in Ihrer Organisation gew√§hlt? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cdd/9d4/718/cdd9d47186f9c974f130eac5b6c083bb.png" alt="Bild"><br>  <i><font color="#999999">Medikamente gegen die schlechte API.</font></i> <br><br>  Wir freuen uns √ºber alle Gedanken, Bewertungen, Kommentare, Meinungen und Fragen! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de483380/">https://habr.com/ru/post/de483380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de483368/index.html">Erstellen des ELF-Dateipackers x86_64 f√ºr Linux</a></li>
<li><a href="../de483372/index.html">So trainieren Sie ein DeepPavlov-neuronales Netzwerk auf einem Laptop mit einer GPU</a></li>
<li><a href="../de483374/index.html">REST-API-Empfehlungen - Beispiele f√ºr den Entwurf von Webdiensten in Java und Spring</a></li>
<li><a href="../de483376/index.html">Auf der Oberfl√§che eines Schwarzen Lochs</a></li>
<li><a href="../de483378/index.html">Typensicheres Arbeiten mit Registern ohne Overhead in C ++ 17: Wertebasierte Metaprogrammierung</a></li>
<li><a href="../de483382/index.html">Kali Linux 2020.1</a></li>
<li><a href="../de483384/index.html">Welche englischen W√∂rter des IT-Lexikons sprechen wir am h√§ufigsten falsch aus?</a></li>
<li><a href="../de483386/index.html">Die bevorstehende galaktische Kollision der Milchstra√üe bringt bereits neue Sterne hervor</a></li>
<li><a href="../de483388/index.html">Meine Freundin und das erste Videospiel. Entwicklung der Einheit. Teil 2</a></li>
<li><a href="../de483392/index.html">Maximale Anzahl von Werten in Teil I der Aufz√§hlung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>