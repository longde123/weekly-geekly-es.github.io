<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จโโค๏ธโ๐โ๐จ ๐คพ๐ฟ โ๏ธ ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุจูุงูุงุช ุฃูุฑุงูู ูุชุญููู ุงูุณูู ุงูููู ๐๐ผ ๐ฟ ๐ค๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุชูุงูู ูุฐู ุงูููุงูุฉ ูุธุงุฆู Oracle Database ู PL / SQL ู SQL ู MATCH_RECOGNIZE ู MODEL ูุฌูุนูุง ููุธุงุฆู ุฎุทูุท ุงูุฃูุงุจูุจ. 

 ุชู ุงุณุชุฎุฏุงู ุงูุชุญููู ุงูููู (TA) ููุฃุณ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุจูุงูุงุช ุฃูุฑุงูู ูุชุญููู ุงูุณูู ุงูููู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455050/" style=";text-align:right;direction:rtl"> ุชุชูุงูู ูุฐู ุงูููุงูุฉ ูุธุงุฆู Oracle Database ู PL / SQL ู SQL ู MATCH_RECOGNIZE ู MODEL ูุฌูุนูุง ููุธุงุฆู ุฎุทูุท ุงูุฃูุงุจูุจ. <br><br>  ุชู ุงุณุชุฎุฏุงู ุงูุชุญููู ุงูููู (TA) ููุฃุณูุงู ููุฌุงู ูุธููู.  ุฃููุงู ุ ููุงุญุธุฉ ุชูููุฏูุฉ ุตุบูุฑุฉ ุณุทุญูุฉ ุญูู ุงูุชุฏุงูู ูู ุงูุฃุณูุงู ุ ุซู ุงูุญุณุงุจุงุช. <br><br>  ุงูุชุญููู ุงูููู - ูุฌููุนุฉ ูู ุงูุฃุฏูุงุช ููุชูุจุค ุจุชุบูุฑุงุช ุงูุฃุณุนุงุฑ ุงููุญุชููุฉ ุงุณุชูุงุฏูุง ุฅูู ุฃููุงุท ุชุบูุฑุงุช ุงูุฃุณุนุงุฑ ุงูุณุงุจูุฉ.  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ููุทุจู ุงูุชุญููู ุงูููู ูู ุฃู ุณูู.  ููู ุงูุชุญููู ุงูููู ุงูุฃูุซุฑ ุงูุชุดุงุฑูุง ูุงู ูู ุงูุฃุณูุงู ุงูุญุฑุฉ ุดุฏูุฏุฉ ุงูุณูููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงูุจูุฑุตุงุช. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/yv/iz/zq/yvizzqt9vdlwyfbdtpsupx4anhq.jpeg" alt="ุตูุฑุฉ"></div><br>  ุชู ุชุทููุฑ ุงูุนุฏูุฏ ูู ุนุจุงุฑุงุช SQL ูุงูุฅุฌุฑุงุกุงุช ูุงูุฑุณูู ุงูุจูุงููุฉ.  ุฌุฒุก - ุฃุฏูุงู ุ ุฑูุฒ ูุงูู - ุนูู ุฌูุซุจ ุนูู ุงูุฑุงุจุท ูู ุฃุณูู ุงูููุงู. <br><a name="habracut"></a><br>  ูุคุดุฑุงุช ุงูุณูู ุงููููุฉ (TIR) โโ- ุฑุณูู ุจูุงููุฉ ุฅุถุงููุฉ ููุฎุทุทุงุช ุงูุฃุณุนุงุฑ ุ ุงูุชู ุชู <em>ุชุดููููุง ุนูู ุฃุณุงุณ ุชุญููู ุงูููู ุงูููุฌูุฏุฉ ูู ูุฎุทุท ุงูุณุนุฑ ุงูุฃุณุงุณู</em> .  ุนุงุฏุฉ ูุง ุชููู ูุฐู ูู ุฃููุงุน ูุฎุชููุฉ ูู ุงููุชูุณุท โโ(ูุชู ุงุญุชุณุงุจ ุงูููุทุฉ ุงูุชุงููุฉ ูู ุงููุฎุทุท ุนูู ุฃููุง ูุชูุณุท โโูููุฉ ุนุฏุฏ ูุนูู ูู ููู ุงูุณุนุฑ ุงูุณุงุจูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุชูุณุท โโูุชุญุฑู) ุ ูุงูุนูุงูุงุช (ุงูููุทุฉ ุงูุชุงููุฉ ูู ูุชูุฌุฉ ููุงุฑูุฉ ุนุฏุฏ ูุนูู ูู ุงูุฃุณุนุงุฑ ุงูุณุงุจูุฉ - ูุฑููุง ุ ูุดุชู ูู ุชุบููุฑ ุฎูุงู ูุชุฑุฉ) ุ ุฃู ูุชุฎููุฉ ( ุงูุชุฃุฎูุฑ).  ุชุธูุฑ ุงููุคุดุฑุงุช ุจูุถูุญ ุจุนุถ ุงููุนูููุงุช ุบูุฑ ุงููุงุถุญุฉ ุงููุงุฑุฏุฉ ูู ุฅุญุตุงุฆูุงุช ุชุบูุฑุงุช ุงูุฃุณุนุงุฑ ุ ููููู ุฃู ุชุดูู ุชูุตูุงุช ุจุดุฃู ุฃูุงูุฑ ุงูุชุฌุงุฑุฉ - ุดุฑุงุก / ุจูุน.  ุชุญุชูู ุงููุคุดุฑุงุช ุนูู ูุชุบูุฑ ูุชุบูุฑ ูุงุญุฏ ุนูู ุงูุฃูู ุ ุญูุซ ุณูุชู ุชุบููุฑ ุงููุชูุฌุฉ.  <em>ููุชุญ ูุนุงููุงุช ุญููููุฉ ุ ุนุงุฏุฉู ูุง ูุชู ุงุณุชุฎุฏุงู ุงูุนุฏูุฏ ูู ุงููุคุดุฑุงุช ูุฌุชูุนุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุนูููุงุช ุฅุถุงููุฉ ุ ุญุณุจ ุชูุฏูุฑ ุงูุชุงุฌุฑ.</em> <br><br>  ุฃุญุฏ ูุจุงุฏุฆ ุงูุชุญููู ุงูููู ูู "ุงูุชุงุฑูุฎ ูุนูุฏ ููุณู": ูุชุตุฑู ุงููุดุงุฑููู ูู ุงูุณูู ูู ุธุฑูู ููุงุซูุฉ ุจููุณ ุงูุทุฑููุฉ ุชูุฑูุจูุง ุ ููุดูููู ุฏููุงููุงุช ููุงุซูุฉ ูุชุบูุฑุงุช ุงูุฃุณุนุงุฑ.  ููู ุงูุทุจูุนู ุฃู ููุชุฑุถ ุฃู ุณููู ุงูุณูู ูู ุงููุณุชูุจู ุณููุฑุฑ ุจุดูู ุฑุฆูุณู ุงูุฃููุงุท ุงูุชู ุธูุฑุช ูู ุงููุงุถู.  ุจุนุฏ ูุฐุง ุงูุจูุงู ุ ูููู ูููุณุชุซูุฑ ุงูุงุฎุชูุงุฑ ูู ุจูู ูุนููุงุช TIR ุงููุญุชููุฉ ุชูู ุงูุชู ุฃุซุจุชุช ุฃููุง ุฃูุถู ูู ุงููุชุฑุงุช ุงููุงุถูุฉ. <br><br>  ุชุจูู ูุฐู ุงูููุงูุฉ ุฑุณููุง ุจูุงูููุง ุนู ุฃุฏุงุก ุงูุชุฌุงุฑุฉ ุนูุฏ ุงุณุชุฎุฏุงู ูู ูุคุดุฑ ุนูู ูููุฉ ุงููุนููุฉ TIR ุ ููุฐุง ูู ุชูุซูู ุซูุงุฆู ุงูุฃุจุนุงุฏ.  ููู ูู ุงููุงูุน ุ ุณุฃุจูู ุชูุซูููุง ุซูุงุซู ุงูุฃุจุนุงุฏ ูู ุฃุฌู ุชูููู ุชุฃุซูุฑ ุงูุชุฃุฎูุฑ ูู ุชูููุฐ ุงูุฃูุฑ ุนูู ุงููุชูุฌุฉ ุ ูุฐูู ุณุชููู ุงููุนููุฉ ูู ุงููุญูุฑ X (ุงูุฅุญุฏุงุซูุงุช ุงูุณูุงููุฉ) ุ ูุณูููู ุงูุชุฃุฎูุฑ ูู ุงููุญูุฑ Y (ุงูุฅุญุฏุงุซู) ุ ูุงููุชูุฌุฉ ุณุชููู ุงููุญูุฑ Z (ุงูุชุทุจูู).  ูุฐู ุจุนุถ ุงููุญุงููุงุช ูุชูููู ุชุฃุซูุฑ "ุงูุงูุฒูุงู" ุ ูุงูุฐู ูุญุฏุซ ุ ููุฃุณู ุ ุฏุงุฆููุง.  ุจุฏูุงู ูู "ุงูุงูุฒูุงู" ุงูุญูููู ุนูู ุทูู ุงููุญูุฑ ุต ุ ุฃุคุฌู ุชูููุฐ ุฃูุฑ ุงูุดุฑุงุก / ุงูุจูุน ููุชุฑุฉ ูู 1 ุฅูู 5 ูุชุฑุงุช. <br><br>  ุฅุฐุง ุชู ุชุณููุท ุงูุถูุก ุนูู ุงูุญุฏ ุงูุฃูุตู ุงูุนุงู ุนูู ูุฐุง ุงูุฑุณู ุงูุจูุงูู ููุจุฏู ุฃู ุงูุฑุณู ุงูุจูุงูู ููุณู ูุดุจู ุงููุจุนุฉ (ุจุดูู ุนุงู ุ ูุทูู ุนููู "ุงูุชูุฒูุน ุงูุทุจูุนู" ุ ูููู ููุชุฑุถ ูุฌูุฏ ุชูุงุซู ุตุงุฑู ุญูู ุงููุญูุฑ ุงูุนููุฏู) ุ ูุฅู ุงููุฎุฑูุท ุ ุงููุฑู ุ ููุงุณุจ ุฃูุถูุง - ููุฐุง ูุนูู ุฃูู ููููู ุชุญุฏูุฏ ูููุฉ ูุนููุฉ ูุนููุฉ ููุฐุง ุ ูุงูุชู ุณุชุธูุฑ ุฃุนูู ูุชูุฌุฉ ุ ูููููู ุจุงุณุชุฎุฏุงู ูุฐุง ุงููุคุดุฑ ูุญุงููุฉ ุงูุชุฏุงูู.  ุฅุฐุง ูุงู ูุฎุทุท ุงูุฃุฏุงุก ุ ุจูุงุกู ุนูู ุงููุนููุฉ ุ ูุดุจู "stockade" ุ ููู ุงููุณุชุญูู ุงุฎุชูุงุฑ ูููุฉ ุงููุนููุฉ ุงููุซูู ูููุณ ููุงู ูุงุฆุฏุฉ ูู ุงุณุชุฎุฏุงู <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ูุฐุง ูู ุงูุชุฌุงุฑุฉ. <br><br>  <em>ูููููุง ุฃู ูููู ุฃููู ูู ูุฐู ุงูููุงูุฉ ุฃุญุณุจ ููุท "ูุณุจุฉ ุงููุฌุงุญ" ูููุคุดุฑุงุช.</em>  <em>ุงููุดููุฉ ุ ูุชูููู ููุฏุงุฑ ูุง ูููู ุฃู "ุชูุณุจ" ุ ูู ุฃุฌุฑุค.</em> <br><br>  <strong>ูุนุฏ ุงูุฅููุงู ุงููุงุฌุญ ููุงุฎุชุจุงุฑ ุงูููุตูู ุฃุญุฏ ุงูุนูุงูู ุงูุถุฑูุฑูุฉ ุ ูููููุง ููุณุช ูุงููุฉ ููุชุฏุงูู ุงููุนุงู.</strong> <br><br>  ููุญุตูู ุนูู ูุนูููุงุช ... ุนูู ุนูุณ ุงูุชุญููู ุงูููู ุ ูุนุฏ ุงูุชุญููู ุงูุฃุณุงุณู (FA) ูุตุทูุญูุง ูุชุนููู ุทุฑู ููุชูุจุค ุจูููุฉ ุงูุณูู (ุงูุชุจุงุฏู) ููุฃุฏูุงุช ุจูุงุกู ุนูู ุชุญููู ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงููุงูู ูุงูุฅูุชุงุฌู. <br>  ูุง ุชุชุทุงุจู "ุงููููุฉ ุงูุฌููุฑูุฉ" ููุงุชุญุงุฏ ูู ูุนุธู ุงูุญุงูุงุช ูุน ุณุนุฑ ุณูู ุงูุดุฑูุฉ ุ ูุงูุฐู ูุชุญุฏุฏ ุจูุณุจุฉ ุงูุนุฑุถ ูุงูุทูุจ ูู ุณูู ุงูุฃุณูู.  ููุชู ุงููุณุชุซูุฑูู ุงูุฐูู ูุณุชุฎุฏููู <abbr title="ุงูุชุญููู ุงูุฃุณุงุณู">ุงุชุญุงุฏ ูุฑุฉ ุงููุฏู</abbr> ูู ุฃูุดุทุชูู ุจุดูู ุฃุณุงุณู ูู ุงูุญุงูุงุช ุงูุชู ุชุชุฌุงูุฒ ูููุง "ุงููููุฉ ุงูุฌููุฑูุฉ" ูุฃุณูู ุงูุดุฑูุฉ ุณุนุฑ ุงูุฃุณูู ูู ุงูุจูุฑุตุฉ.  ุชุนุชุจุฑ ูุฐู ุงูุฃุณูู ููููุฉ ุจุฃูู ูู ูููุชูุง ุ ููุง ูุนูู ุฃู ุณุนุฑูุง ุณูุฑุชูุน ุ ููู ุฃูุฏุงู ุงุณุชุซูุงุฑูุฉ ูุญุชููุฉ. <br><br>  ูุนุฏ ูุงุฑู ุจุงููุช ุฃุญุฏ ุฃูุถู ุงููุณุชุซูุฑูู ุงููุนุฑูููู ุงูุฐูู ูุณุชุฎุฏููู ุงูุชุญููู ุงูุฃุณุงุณู. <br><br>  ุชุญูู ูู ุงูููุทูุฑุฉ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.youtube.com/watchุv=SqE8fnvmV1Y</a> <br><br>  ูุจุงูุชุงูู ุ ูุฏููุง ููุฌูู ูุชูุงูุถูู ุชูุงููุง - <abbr title="ุงูุชุญููู ุงูููู">TA</abbr> ู <abbr title="ุงูุชุญููู ุงูุฃุณุงุณู">FA</abbr> . <br>  ุนุงุฏุฉ ูุง ููุชู <abbr title="ุงูุชุญููู ุงูุฃุณุงุณู">ุงุชุญุงุฏ ูุฑุฉ ุงููุฏู</abbr> ุจุงููุณุชุซูุฑูู ุนูู ุงููุฏู ุงูุทููู ุ TA - ุนูู ุงููุฏู ุงููุตูุฑ ูุงููุชูุณุท โโููุณุชุฎุฏู ูู ุงููุนุงููุงุช ุฐุงุช ุงูุทุจูุนุฉ ุงููุถุงุฑุจุฉ ุ ุนูุฏูุง ูููู ููุถูุน ุชุฏุงูู ุงููุชุฏุงูู ุบูุฑ ููุชู. <br><br>  ูุฃูุฏุงู ูุฐุง ุงูููุงู ููุง ... <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุงูููุงูุดุงุช ุญูู <abbr title="ุงูุชุญููู ุงูููู">TA</abbr> ู <abbr title="ุงูุชุญููู ุงูุฃุณุงุณู">FA</abbr> ุงูููุตููุฉ ุฃุนูุงู ุ <em>ุฃุฑุฏุช ุงุณุชูุดุงู ูุฅุธูุงุฑ ูุฏุฑุงุช Oracle Database ูู ุฅุฌุฑุงุก ุญุณุงุจุงุช ููุคุดุฑุงุช ุงูุณูู ุงููููุฉ</em> . <br>  ุฃูุฏู ูุฐู ุงููุฑุต ูุญูู ุงููุฑุงุก. <br><br>  ุฅุฐุง ูุฑุฑุช ุชูุฑุงุฑ ุญุณุงุจุงุชู - ูู ุจุชูุฒูู ุงูููุฏ ูู ุฌูุซุจ ุนูู ุงูุฑุงุจุท ูู ุฃุณูู ุงูููุงู.  ุชู ุงูุชุญูู ูู ุงูููุฏ ูู ุงูุฅุตุฏุงุฑ 12.2.0.1. <br><br>  ูู ุฃููุงู ุจุฅูุดุงุก ูุงุฆูุงุช ูุดุชุฑูุฉ.  ุงูุฃูู ูู ุงูุฌุฏุงูู ูุทุฑููุฉ ุงูุนุฑุถ.  ูู ููุณ ุงูููู ุฃุฏูุงู ุ ุชูุฌุฏ ุญุฒูุฉ ููุฐุฌุฉ ูููุนุงููุงุช. <br><br>  ุงูุฎุทูุฉ ุงูุซุงููุฉ ูู ุฅูุดุงุก ุงููุธุงุฆู ุงูุชู ุชุคุฏู ุญุณุงุจ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> . <br><br>  ุงูุฎุทูุฉ ุงูุซุงูุซุฉ ูู ุงูุญุณุงุจุงุช. <br><br>  <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">ุณุชูุฑุฌุน</abbr> ุฌููุน ูุธุงุฆู ุญุณุงุจ ุฌููุน <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIRs</abbr> ูุคุดุฑูุง ูุญุชูู ุนูู ุงูุญููู ุงูุชุงููุฉ: STOCK_NAME ุ ADATE ุ ACLOSE (ุณุนุฑ ุฅุบูุงู ุงูููู) ุ AACTION (ุฃูุฑ ุจูุน / ุดุฑุงุก) <br><br>  ุชุญุชูู ุงูุญุฒูุฉ ุนูู ุซูุงุซ ูุธุงุฆู ูููุฐุฌุฉ ุฌุฏูููุฉ ุชุฃุฎุฐ ูุคุดุฑ ุฅุฏุฎุงู ูู ูุธุงุฆู ุญุณุงุจ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ุงูููุถุญุฉ ุฃุนูุงู ุ ูุงูุฅุฒุงุญุฉ (ุงูุชุฃุฎูุฑ ูู ุชูููุฐ ุงูุทูุจ ุ ูุงูุชุฃุฎุฑ) ุ ูุฑุฃุณ ุงููุงู ุงูุฃููู ุ ุงูุชุฑุงุถููุง ูู 1000 ุฏููุงุฑ ุฃูุฑููู.  ุชุณูู ูุธุงุฆู ุงูุญุฒูุฉ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> HABR_TRADEMODELLING_P.TRADE_LOG (<span class="hljs-keyword"><span class="hljs-keyword">cursor</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, ACLOSE, AACTION <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_XXXXXXXX_F_CALC (<span class="hljs-number"><span class="hljs-number">10</span></span>))), p_lag =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> HABR_TRADEMODELLING_P.CALC_ACTIONS (<span class="hljs-keyword"><span class="hljs-keyword">cursor</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, ACLOSE, AACTION <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_XXXXXXXX_F_CALC (<span class="hljs-number"><span class="hljs-number">10</span></span>))), p_lag =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS (<span class="hljs-keyword"><span class="hljs-keyword">cursor</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, ACLOSE, AACTION <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_XXXXXXXX_F_CALC (<span class="hljs-number"><span class="hljs-number">10</span></span>))), p_lag =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  ุญูุซ XXXXXXXX ูู ุงุณู <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> . <br><br>  <strong>ุฌููุน ุงููุธุงุฆู ุชุญุณุจ ูุชูุฌุฉ ุงูุชุฏุงูู ุงูุฎุงุถุน ูุฅุนุงุฏุฉ ุงุณุชุซูุงุฑ ุงูุฃุฑุจุงุญ ุจุงููุงูู ุ ุจุงุณุชุซูุงุก ุชูุงููู ุงููุนุงููุงุช ูุงูุถุฑุงุฆุจ ุ ุจุงุณุชุซูุงุก ุงูุชุถุฎู ูุงูุฎุตู.</strong> <br><br>  ุงููุธููุฉ ุงูุฃููู <code>TRADE_LOG</code> ุชุดูู ุณุฌู ูุนุงููุงุช ุชุงุฌุฑ ูุจุณุท.  ุชุชูุญ ูู ุงููุธููุฉ ุชุชุจุน ุณูุณูุฉ ุงููุนุงููุงุช ุจุงููุงูู.  ุฅุฐุง ูุงู ุงููุณุชุซูุฑ ูู ููุงูุฉ ุงููุชุฑุฉ "ูู ุงูุฃูุฑุงู ุงููุงููุฉ" ุ ูุญุณุงุจ ุงูุฑุตูุฏ ุจุงูุนููุฉ (ุงููุชูุฌุฉ ุงููุงููุฉ) ุ ุชุญุงูู ุงูุฏุงูุฉ ุจูุน ุฌููุน ุงูุฃูุฑุงู ุงููุงููุฉ ุนูุฏ ุณุนุฑ ุงูุฅุบูุงู ุงูุฃุฎูุฑ ูุชุดูู ุงูุนูุงูุฉ ุงูููุงุจูุฉ ูู ุญูู IN_STOCK. <br><br>  ุชููู ุงูุฏุงูุฉ ุงูุซุงููุฉ <code>CALC_ACTIONS</code> ุจุฅุฑุฌุงุน ููุณ ุงูุฃุนูุฏุฉ ูุซู ูุคุดุฑ ุญุณุงุจ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ุงููุณูู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฅุถุงูุฉ ุงูุฃุนูุฏุฉ ุงูุชุงููุฉ: <code>AACTION_LAG</code> (ุชุฑุชูุจ ูุน ุงูุฅุฒุงุญุฉ) ุ <code>BALANCE_CURRENCY</code> (ุฑุตูุฏ ุญุณุงุจ ุงููุชุฏุงูู ููุฏูุง) ุ <code>BALANCE_STOCK</code> (ุนุฏุฏ ุงูุฃุฏูุงุช ูู ุงููุฑุงูุฒ ุงูููุชูุญุฉ).  ุจูุงุกู ุนูู ูููุฉ ุงูุญูู <code>AACTION_LAG</code> ุ ุชุชู ูุญุงูุงุฉ ุนูููุฉ ุงูุดุฑุงุก ุฃู ุงูุจูุน ุจุณุนุฑ ุงูุฅุบูุงู ุ ูุจุงูุชุงูู ูุชู ุชุบููุฑ ุงูุฑุตูุฏ ุจุงูุนููุฉ ููููุฉ ุงููุฑุงูุฒ ุงูููุชูุญุฉ. <br><br>  ูู ุงูุณุทุฑ ุงูุฃุฎูุฑ ูู ูู ุฃุฏุงุฉ ุ ููููู ุฑุคูุฉ ูุชูุฌุฉ ุงูุชุฏุงูู ููู ุฃุฏุงุฉ ุ ููุฐูู ูู ุงููุธููุฉ ุงูุณุงุจูุฉ ุ ุฅุฐุง ูุงู ุงููุณุชุซูุฑ "ูู ุฃูุฑุงู ูุงููุฉ" ุ ูุชู ูุญุงูุงุฉ ุนูููุฉ ุงูุจูุน ูุญุณุงุจ ุงูุฑุตูุฏ ุจุงูุนููุฉ ุงูุฃุฌูุจูุฉ <br><br>  ุงููุธููุฉ ุงูุซุงูุซุฉ <code>CALC_ACTIONS_TOTALS</code> ุชูุนู ููุณ ุงูุดูุก ูุน ุงูุซุงููุฉ ุ ูููููุง ุชุฑุฌุน ููุท ุงูุตู ุงูุฃุฎูุฑ - ูุชูุฌุฉ ุงูุชุฏุงูู ููู ุฃุฏุงุฉ.  ุณูุชู ุงุณุชุฎุฏุงูู ูู ุงูููุฐุฌุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุญููู ุงูุจูุงูุงุช </h3><br>  ูุชู ุชูุฏูู ุงูุญุณุงุจุงุช ููุซู ูุฐู ุงูุฃุณูุงู ูุงููุคุดุฑุงุช: S &amp; P500 ุ NYSE ุ Brent ุ BTCUSD ุ EURUSD. <br>  ุชู ุชูุฒูู ุฃูู 4 ูู Yahoo ุงููุงููุฉ ุ ูุขุฎุฑ ูู ูุตุฏุฑ ุขุฎุฑ.  ูุฏ ุชุฎุชูู ูุชุงุฆุฌ ุญุณุงุจ ุงูุฏูุฑุงุช ุงูุชุฏุฑูุจูุฉ ูู ูุตุงุฏุฑ ุฃุฎุฑู. <br><br>  ูุฑุฌู ููุงุญุธุฉ ุฃู ูุชุฑุงุช ุฏูุฑุงุช ูู ุฃุฏุงุฉ ูุฎุชููุฉ ุ ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุณุชุงูุฏุฑุฏ ุขูุฏ ุจูุฑุฒ 500 - 03/01/1950 ... 29/01/2019 ุ 69 ุนุงููุง ุ </li><li style=";text-align:right;direction:rtl">  NYSE - 31/12/1965 ... 22/03/2019 ุ 54 ุณูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุจุฑูุช - 17/05/1991 ... 06/02/2019 ุ 28 ุนุงููุง ุ </li><li style=";text-align:right;direction:rtl">  BTCUSD - 16/07/2010 ... 29/01/2019 ุ 9 ุณููุงุช ุ </li><li style=";text-align:right;direction:rtl">  EURUSD - 16/02/2001 ... 27/05/2019 ุ 18 ุนุงููุง. </li></ul><br>  ูุฐูู ุ ูู ุงููุณุชุญูู ููุงุฑูุฉ ุฑุจุญูุฉ ุงูุฃุฏูุงุช ุงููุญููุฉ ูุน ุจุนุถูุง ุงูุจุนุถ ุ ููู ูู ุงููููู ููุงุฑูุฉ ุฑุจุญูุฉ ูู ุฃุฏุงุฉ ุจุงุณุชุฎุฏุงู ูุคุดุฑุงุช ูุฎุชููุฉ. <br><br>  ูููู ุฃูุถูุง ุชูุฒูู ููู ุงูุชูุฒูู (SQL * Loader) ูู GitHub ุนูู ุงูุฑุงุจุท ูู ุฃุณูู ุงูููุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุชูุณุทุงุช ุงููุชุญุฑูุฉ </h3><br>  ููุงู ุซูุงุซุฉ ุฃููุงุน ุฑุฆูุณูุฉ ุนูู ุงูุฃูู ูู ุงููุชูุณุทุงุช ุงููุชุญุฑูุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎุทู (ุงููุชูุณุท โโุงููุชุญุฑู ุงูุจุณูุท ุ SMA) ุ </li><li style=";text-align:right;direction:rtl">  ุงููุชูุณุท โโุงููุชุญุฑู ุงูุฃุณู (EMA) ู </li><li style=";text-align:right;direction:rtl">  ูุฑุฌุญ ุฎุทููุง (ุงููุชูุณุท โโุงููุชุญุฑู ุงููุฑุฌุญ ุ WMA). </li></ul><br>  ุฅููุง ุชุฎุชูู ูู ุฃูุฒุงู ุงูุฃุฌุฒุงุก ุงูููููุฉ ููุง.  ุจุงููุณุจุฉ ุฅูู ุงููุชูุณุท โโุงููุชุญุฑู ุงูุฎุทู ุ ุงูุฃูุฒุงู ูุชุณุงููุฉ ุ ุจุงููุณุจุฉ ููุฃูุฒุงู ุงูุฃุณูุฉ ูุงูููุฒููุฉ ุฎุทููุง ุ ูุฅููุง ุชูุฎูุถ ูููุง ุชุญุฑู ุงููููู ุจุนูุฏูุง ุนู ุงูุญุงูุฉ ุงููููู ูู ุงููุงูุฐุฉ - ุฃุณููุง ุฃู ุฎุทููุง. <br><br>  ุงููุชูุณุท โโุงููุชุญุฑู ุงูุฎุทู ูู ุฃุณูู ุญุณุงุจ.  ูู Oracle ุ ูููู ูุฐุง ูู <code>avg (VALUE) over (partition by STOCK_NAME order by ADATE rows between 9 preceding and current row)</code> ุงููุธููุฉ <code>avg (VALUE) over (partition by STOCK_NAME order by ADATE rows between 9 preceding and current row)</code> - ูุชูุณุท โโูุชุญุฑู ูุน ูุชูุณุท โโูุงูุฐุฉ ูู 10 ููู. <br><br>  ุงููุชูุณุท โโุงููุชุญุฑู ุงูุฎุทู ูู ุนููุจ.  ุฃููุงู ุ ุชุณุชุฌูุจ ูุฐู ุงููุชูุณุทุงุช ุจุจุทุก ุฅูู ุงูุนูุงุณุงุช ุงูุณูู.  ูุธุฑูุง ูุฃู ูุชูุณุท โโุงูููู ูุชู ุฅุนุทุงุก ูู ูุงุญุฏุฉ ูููุง ูุฒูุงู ูุชุณุงููุงู ุ ูุบุงูุจูุง ูุง ูุญุฏุซ ูุชูุณุท โโุงูุงุณุชุฌุงุจุฉ ูุนุฏุฉ ุฃุทุฑ ุฒูููุฉ ุจุนุฏ ุนูุณ ุณุนุฑ ุงูุฃุตู. <br><br>  ุฃูุถูุง ุ ูุฅู ุงููุชูุณุท โโุงููุชุญุฑู ุงูุฎุทู ููุณ ูุนุงููุง ููุบุงูุฉ ุ ูุฃูู ูุณุชุฌูุจ ููุฅุดุงุฑุฉ ูุฑุชูู: ุนูุฏูุง ูุฏุฎู ุงููุคุดุฑ ูู ุงููุงูุฐุฉ ุงูููุฒููุฉ ููุชุฑููุง.  ูุง ูุชูุงุนู ุงูุจุงูู ุฅูุง ูุน ุฅุฏุฎุงู ุงููุคุดุฑ ูุฅุฒุงูุชู ุจุณูุงุณุฉ ูู ุงูุญุณุงุจ ุฃุซูุงุก ุงูุชูุงูู ูู ุงูุญุงูุฉ ุงููููู ูู ุงููุงูุฐุฉ ุฅูู ุงููุณุงุฑ. <br><br>  ุนูุฏ ุญุณุงุจ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ุ ูุชู ุงุณุชุฎุฏุงู ุฌููุน ุงูุฃููุงุน ุงูุซูุงุซุฉ ูููุชูุณุทุงุช ุงููุชุญุฑูุฉ.  ูู ุฃุฌู ุงูุฃุณู ูุงููุฑุฌุญุฉ ุฎุทููุง ูู ูุฐู ุงูููุงูุฉ ุ ูุชู ุชุทููุฑ ุงูุฏุงูุชูู ุงูุชุฌููุนูุชูู <code>EMA</code> ู <code>WMA</code> ุ ูุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ูู ุดูู ุชุญูููู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ุญุณุงุจ ูุฐู ุงููุชูุณุทุงุช ุงููุชุญุฑูุฉ ุนู ุทุฑูู ุงูุชูุฑุงุฑ ุฃู ุงููููุฐุฌ (ุนุจุงุฑุฉ <code>MODEL</code> ). <br><br>  ุญุณุงุจ EMA ู WMA ุ ุฏูู ุชูุฑุงุฑ ุฃู modelka ุ ููุท ุนู ุทุฑูู ุงูุชุญูููุงุช ุ ูู Oracle Database ุ ุนูู ูุง ูุจุฏู ุ ุฃูุฑ ูุณุชุญูู. <br><br>  ูููู ูุง ุชุฒุงู ุชุญูุธุงุช ุจุดุฃู ุงููุชูุณุทุงุช ุงููุชุญุฑูุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููุง ูุงูุช ูุชุฑุฉ ุญุณุงุจ ุงููุชูุณุท โโุฃูุตุฑ ูุฃูุซุฑ ุชูุงุนููุง ูุน ุงูุญุณุงุณูุฉ ุชุฌุงู ุงูููุนุทูุงุช ุ ูููุง ุฃุนุทุช ุฅุดุงุฑุงุช ุฎุงุทุฆุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูููุง ูุงูุช ูุชุฑุฉ ุญุณุงุจ ุงููุชูุณุท โโุฃูุตุฑ ุ ูููุง ุชู ุฅูุดุงุก ุงููุฒูุฏ ูู ุงูุฅุดุงุฑุงุช ุ ุฒุงุฏ ููุฏุงุฑ ุงูุญูู ูู ุงููุนุงููุฉ ุ ููุง ูุฏ ูุตุจุญ ููููุง ููุบุงูุฉ. </li></ul><br><h2 style=";text-align:right;direction:rtl">  ูุคุดุฑุงุช ุงูุณูู ุงููููุฉ </h2><br>  ููู ูุคุดุฑ ุชูุฑูุจูุง ุ ุณูุชู ุฅุนุทุงุก ุนุฏุฉ ุทุฑู ุญุณุงุจูุฉ: CALC - ุญุณุงุจ ุจุงุณุชุฎุฏุงู ููุฏ PL / SQL ุฃู SIMP - ุญุณุงุจ ุจูุงุณุทุฉ ุนุงูู ูุงุญุฏ ุฃู RECU - ุญุณุงุจ ุจุงูุชูุฑุงุฑ ุ AGRF - ุญุณุงุจ ุจุงุณุชุฎุฏุงู ุฏุงูุฉ ุงูุชุฌููุน ุ MODE - ุญุณุงุจ ุญุณุจ ุงููููุฐุฌ. <br><br>  ููุงู ุฃุณุจุงุจ ูุชุทููุฑ ุนุฏุฉ ุทุฑู.  ุฃููุงู ุ ูู ุฎูุงู ุญุณุงุจ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ุจุงุณุชุฎุฏุงู ุนุฏุฉ ุทุฑู ูููุงุฑูุฉ ุงููุคุดุฑุงุช ุ ุฅุฐุง ูุงูุช ุงููุคุดุฑุงุช ูุชูุงุซูุฉ ุ ูููููู ุงูุชุฃูุฏ ูู ุฅุฌุฑุงุก ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุจุดูู ุตุญูุญ (ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงูุทุฑู ุงููุฎุชููุฉ ูุชูุฑูุจ ููุนุงูุฌุฉ ุงูููู NULL ู "0").  ุณุฃูุงุฑู ูู ูุฐู ุงูููุงูุฉ ุจุชุฌุฒุฆุฉ ุนููุงุช ูู ุงูุทุฑู ุงููุฎุชููุฉ ุ ูุฐุง ูุฅู ุงูุชุทุงุจู ูุน ุงูุจุชุงุช ูุงูุชุฌููุฒ ููุณู ูุฌููุน ุงูุฎูุงุฑุฒููุงุช ูุถููู. <br><br>  ุฃุนุชูุฏ ุฃู Oracle ุจุญุงุฌุฉ ุฅูู ุงูุจุฏุก ูู ุชุทููุฑ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ุจุงุณุชุฎุฏุงู ุทุฑููุฉ SIMP - ุญุณุงุจ ูู ูุจู ูุดุบู ูุงุญุฏ.  ุนูุฏูุง ูุชู ุฐูู ุ ูุฅู ุฃูุฑุงููููุฏ ูุฏูู ุฎุทุฉ ูุฎูุงุฑุฒููุฉ ุญุณุงุจ ูู ุฑุฃุณู ุ ููููู ููููุง ุจุณูููุฉ ุฅูู PL / SQL ุฃู ุฅูู ูุบุฉ ุฅุฌุฑุงุฆูุฉ ุฃุฎุฑู. <br><br>  ุฃูุงุญุธ ุฃู ุทุฑููุฉ ุญุณุงุจ CALC ูู PL / SQL ููุง ุฃุณุฑุน ูู ุทุฑููุฉ SIMP (ูุน ุนุงูู ุชุดุบูู ูุงุญุฏ) ุฅุฐุง ูุงู ูููู ุฅุฌุฑุงุก ุงูุญุณุงุจ ุจุงููุงูู ูู ูุณุงุฑ ูุงุญุฏ ุนูู ุทูู ุงููุคุดุฑ.  ูููู ุฅุฐุง ูุงู ุนููู ุฅูุดุงุก ุฌุฏุงูู ุฃู ูุฌููุนุงุช ูุคูุชุฉ ูุญุณุงุจู ุ ุฃู ุฃูุซุฑ ูู ุชูุฑูุฑ ูุงุญุฏ ุนูู ุงููุคุดุฑ - ุฃุนุชูุฏ ุฃู ุทุฑููุฉ "ุงููุดุบู ุงููุงุญุฏ" ุณุชุตุจุญ ุฃุณุฑุน ูุฃูู ูุซุงูุฉ ูู ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ. <br><br>  ุจุงููุณุจุฉ ูุฌููุน ุงูุทุฑู ุ ุจูุง ูู ุฐูู ุทุฑููุฉ SIMP ("ูุดุบู ูุงุญุฏ") ุ ุณุฃุถุน ุงููุดุบููู ูู ูุธุงุฆู ุจุญูุซ ูููู ุงุณุชุฏุนุงุก ุงูุญุณุงุจ ุจุงุณุชุฎุฏุงู ูุนููุฉ ูุชุญุฏูุฏ ุงููููุฉ ุงููุซูู. <br><br>  ูุชู ุฅุนุทุงุก ุงูุญุณุงุจุงุช ูุณุจุนุฉ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIRs</abbr> : ุชูุงุทุน ุงููุชูุณุท โโุงููุชุญุฑู (EMASIMPLE) ุ ุชูุงุทุนุงุช Golden and Death (CROSSES) ุ ุญุฌู ุงูุฑุตูุฏ (OBV) ุ ููุงุฉ Keltner (KELTNER) ุ ุงุชุฌุงู ุงูุณุนุฑ ูุงูุญุฌู (PVT) ุ ูุคุดุฑ ุณูููุฉ ุญุฑูุฉ ุงูุฐุฑุงุนูู (EMV) ) ุ ูุคุดุฑ ููุงุฉ ุงูุณูุน (CCI). <br><br>  ุจุงููุณุจุฉ ูููุคุดุฑุงุช ุงูุณุจุนุฉ ููุงุชูู ุงููุงุฏุชูู ุ ุณูููู ููุงู ูุนููุฉ ูุงุญุฏุฉ "ูุชูุณุท โโุญุฌู ุงููุงูุฐุฉ" ุ ูุงููุนููุฉ ุงูุซุงููุฉ - ุชุญูู (ุชุฃุฎุฑ).  ูุดูุฑ ุงูุชุญูู ุฅูู ุนุฏุฏ ุงูุฃุนูุฏุฉ ุงูุชู ุชุญุชุงุฌ ุฅูู ุชุฃุฌูู ุชูููุฐ ุฃูุฑ ุงูุดุฑุงุก / ุงูุจูุน - ูู ุนุฏุฏ ุงูุฃุดุฑุทุฉ ูุชุญุฑูู ุณุนุฑ ุงูุฅุบูุงู (ูุชู ุฅุฌุฑุงุก ุฌููุน ุงูุทูุจุงุช ุจุณุนุฑ ุฅุบูุงู ุงูุดุฑูุท).  ูุฐุง ูุดุจู "ุงูุงูุฒูุงู" ุ ูููู ููุณ ุจุงูุถุจุท "ุงูุงูุฒูุงู".  ุนุงุฏุฉู ูุง ูููู Slippage ูู ุตุงูุญ ุงูุนููู ุ ููุฏ ูุชุถุญ ุฃู ุชุฃุฎุฑูุง ููุณ ูุตุงูุญ ุงูุนููู ุฃู ูุตุงูุญู.  ููุน ุฐูู ุ ูุฅู ุงุณุชุฎุฏุงู ุงูููุฐุฌุฉ ูุน ุชุฃุฎุฑ 1 ุฅูู 5 ุฃุดุฑุทุฉ ูุจุนุถ ุงููุคุดุฑุงุช ูุฏู ุนูู ุฃู ุงูุงูุฒูุงู ูู ุชุฃุซูุฑ ูุจูุฑ ุนูู ุงููุชูุฌุฉ.  ูุจุงููุณุจุฉ ูุจุนุถ ุงููุคุดุฑุงุช ุ ุงูุชุฃุฎุฑ ูุงูุงูุฒูุงู ููุณุง ูู ุบุงูุฉ ุงูุฃูููุฉ. <br><br>  ุชุณุชุฎุฏู ุทุฑู SIMP ("ุงููุดุบู ุงููุฑุฏู") ู RECU ("ุงูุนูุฏูุฉ") ุจูุดุงุท ุงูุนุจุงุฑุฉ <code>MATCH_RECOGNIZE</code> ูุฅูุดุงุก ุฅุดุงุฑุฉ ุชุฏุงูู BUY / SELL ุงุณุชูุงุฏูุง ุฅูู ุฏุฎูู / ุฎุฑูุฌ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ุงููุญุณูุจ ูู ุงููุทุงู ุงููุญุฏุฏ ุฃู ุณูููู ุจุงููุณุจุฉ ุฅูู ูุชูุณุทู ุงููุชุญุฑู. <br><br>  <em>ูููู ุงูุนุซูุฑ ุนูู ูุตู ุชูุตููู ูุฌููุน <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIRs</abbr> ุนูู ููููุจูุฏูุง ุฃู ูู ูุชุงุจ ุฑูุจุฑุช ูููุจู ุ ููุณูุนุฉ ูุคุดุฑุงุช ุงูุณูู ุงููููุฉ.</em> <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุงุทุน ุงููุชูุณุท โโุงููุชุญุฑู ุงูุฃุณู </h3><br>  ุทุฑููุฉ ุชูุงุทุน ุงููุชูุณุทุงุช ุงููุชุญุฑูุฉ ุงูุฃุณูุฉ ูู ุฃุจุณุท ุทุฑู <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">ุงูููู ุงูุจุฑู ุงูุฏููู</abbr> . <br><br>  ุชุชุถูู ุงูุทุฑููุฉ: ุดุฑุงุก (ูุชุญ ูุฑูุฒ ุดุฑุงุก ุทููู) ุฅุฐุง ุชุฌุงูุฒุช ูููุฉ ุงูุณุนุฑ ุงููุชูุณุท โโุงููุชุญุฑู ุงูุฃุณู ูู ุฃุณูู ุฅูู ุฃุนูู (ESA) ุ  ุงูุจูุน (ุฅุบูุงู ูุฑูุฒ ุทููู) ุฅุฐุง ุชุฌุงูุฒ ุงูุณุนุฑ ESS ุงูุฎุงุต ุจู ูู ุฃุนูู ุฅูู ุฃุณูู. <br><br>  ูุง ูุชู ุงููุธุฑ ูู ุตููุงุช ุงูุจูุน ุ ููุฐูู ุชุฏุงูู ุงููุงูุด ุจุดูู ุนุงู ุ ูู ูุฐู ุงูููุงูุฉ. <br><br>  ูู ุงููุณุชูุจู ุ ูููู ุงุณุชุฎุฏุงู ูุฐุง ุงููุคุดุฑ ููุนูุงุฑ ููููุงุฑูุฉ ูุน ุงูุขุฎุฑูู.  ุชุนุฏ ุงูููุงุฑูุฉ ูุน <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ุฃูุถู ูู ุงูููุงุฑูุฉ ูุน ุงุณุชุฑุงุชูุฌูุฉ ุงูุดุฑุงุก ูุงูุงุณุชุญูุงุฐ ุ ูุฃู ูุฐู ุงูุฅุณุชุฑุงุชูุฌูุฉ ููุณุช ูุฑุจุญุฉ ูู ุงูุฃุณูุงู ุงููุชุฑุงุฌุนุฉ. <br><br>  ุงููุนููุฉ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ุงููุญูุฏุฉ ูู ุทูู ุงููุชูุณุท โโุงููุชุญุฑู. <br><br>  ุญุณุงุจ ุจุงุณุชุฎุฏุงู PL / SQL <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> HABR_MARKETINDEXES_EMASIMPLE_F_CALC (p_averaging_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HABR_MARKETINDEXES_RESULT_LIST_T <span class="hljs-keyword"><span class="hljs-keyword">pipelined</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> l_result HABR_MARKETINDEXES_RESULT_LIST_T; EMA number; prev_EMA number; prev_TYPICAL_PRICE number; retval HABR_MARKETINDEXES_RESULT_T := HABR_MARKETINDEXES_RESULT_T (null, null, null, null, null, null, null, null, null); prev_STOCK_NAME varchar2(256); l_alpha number; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> l_alpha := <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>); for c1 in (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, TYPICAL_PRICE, ACLOSE <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> LOAD_YAHOO_V <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> retval.ADATE := c1.ADATE; retval.ACLOSE := c1.ACLOSE; if prev_STOCK_NAME is null or prev_STOCK_NAME &lt;&gt; c1.STOCK_NAME then retval.STOCK_NAME := c1.STOCK_NAME; EMA := c1.TYPICAL_PRICE; prev_EMA := null; else EMA := round (c1.TYPICAL_PRICE * l_alpha + EMA * (1 - l_alpha), 20); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; if prev_TYPICAL_PRICE &lt; prev_EMA and c1.TYPICAL_PRICE &gt; EMA then retval.AACTION := 'BUY'; elsif prev_TYPICAL_PRICE &gt; prev_EMA and c1.TYPICAL_PRICE &lt; EMA then retval.AACTION := 'SELL'; else retval.AACTION := null; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; retval.IND_VALUE := EMA; pipe row (retval); prev_STOCK_NAME := c1.STOCK_NAME; prev_EMA := EMA; prev_TYPICAL_PRICE := c1.TYPICAL_PRICE; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><br>  ุญุณุงุจ ูู ูุจู ูุดุบู ุงูุนูุฏูุฉ ูุงุญุฏ <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> HABR_MARKETINDEXES_EMASIMPLE_F_RECU (p_averaging_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HABR_MARKETINDEXES_RESULT_LIST_T <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> l_result HABR_MARKETINDEXES_RESULT_LIST_T; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> T1 (STOCK_NAME, ADATE, TYPICAL_PRICE, EMA, ACLOSE, RN) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, TYPICAL_PRICE, <span class="hljs-keyword"><span class="hljs-keyword">round</span></span> (TYPICAL_PRICE, <span class="hljs-number"><span class="hljs-number">20</span></span>), ACLOSE, RN <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> LOAD_YAHOO_V <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> RN = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> b.STOCK_NAME , b.ADATE , b.TYPICAL_PRICE , <span class="hljs-keyword"><span class="hljs-keyword">round</span></span> (b.TYPICAL_PRICE * <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>) + a.EMA * (<span class="hljs-number"><span class="hljs-number">1</span></span> - <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-number"><span class="hljs-number">20</span></span>) , b.ACLOSE , b.RN <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T1 a, LOAD_YAHOO_V b <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> b.RN = a.RN + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> b.STOCK_NAME = a.STOCK_NAME) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> HABR_MARKETINDEXES_RESULT_T (STOCK_NAME, ADATE, ACLOSE, EMA, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, AACTION) <span class="hljs-keyword"><span class="hljs-keyword">bulk</span></span> <span class="hljs-keyword"><span class="hljs-keyword">collect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> l_result <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T1 match_recognize (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE <span class="hljs-keyword"><span class="hljs-keyword">measures</span></span> classifier() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AACTION all <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> per <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> unmatched <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> pattern (BUY+ | SELL+) <span class="hljs-keyword"><span class="hljs-keyword">define</span></span> BUY <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (prev (TYPICAL_PRICE) &lt; prev (EMA) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &gt; EMA) , SELL <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (prev (TYPICAL_PRICE) &gt; prev (EMA) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &lt; EMA) ) MR; return l_result; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><br>  ุญุณุงุจ ุจุงุณุชุฎุฏุงู ุนุจุงุฑุฉ MODEL <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุธููุฉ ุงููุต HABR_MARKETINDEXES_EMASIMPLE_F_MODE</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> HABR_MARKETINDEXES_EMASIMPLE_F_MODE (p_averaging_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HABR_MARKETINDEXES_RESULT_LIST_T <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> l_result HABR_MARKETINDEXES_RESULT_LIST_T; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> T1 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> LOAD_YAHOO_V <span class="hljs-keyword"><span class="hljs-keyword">model</span></span> <span class="hljs-keyword"><span class="hljs-keyword">dimension</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> (STOCK_NAME, RN) <span class="hljs-keyword"><span class="hljs-keyword">measures</span></span> (ADATE, TYPICAL_PRICE, ACLOSE, to_number(<span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> EMA) <span class="hljs-keyword"><span class="hljs-keyword">rules</span></span> (EMA[<span class="hljs-keyword"><span class="hljs-keyword">any</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">any</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">round</span></span> (TYPICAL_PRICE [cv(), cv()] * <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>) + nvl(EMA [cv(), cv() - <span class="hljs-number"><span class="hljs-number">1</span></span>], TYPICAL_PRICE [cv(), cv()]) * (<span class="hljs-number"><span class="hljs-number">1</span></span> - <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-number"><span class="hljs-number">20</span></span>))) , T2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, ACLOSE , TYPICAL_PRICE, LAG (TYPICAL_PRICE) <span class="hljs-keyword"><span class="hljs-keyword">over</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PREV_TYPICAL_PRICE , EMA, lag (EMA) <span class="hljs-keyword"><span class="hljs-keyword">over</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PREV_EMA <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T1) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> HABR_MARKETINDEXES_RESULT_T (STOCK_NAME, ADATE, ACLOSE, EMA, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span> , <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> prev_TYPICAL_PRICE &lt; prev_EMA <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &gt; EMA <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-string"><span class="hljs-string">'BUY'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> prev_TYPICAL_PRICE &gt; prev_EMA <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &lt; EMA <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-string"><span class="hljs-string">'SELL'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">bulk</span></span> <span class="hljs-keyword"><span class="hljs-keyword">collect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> l_result <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T2 <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME, ADATE; return l_result; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre><br></div></div><br><br>  ุญุณุงุจ ุจุงุณุชุฎุฏุงู ูุธููุฉ ุงูููู <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุต ุงูุฏุงูุฉ ุงูุชุฌููุนูุฉ EMA ูุงูุฏุงูุฉ HABR_MARKETINDEXES_EMASIMPLE_F_AGRF</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> EMA_DATA_T <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> (AVALUE <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, AVERAGING_WINDOW <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> EMA_IMPL_T <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> ( l_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, l_ema <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateInitialize (sctx <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> EMA_IMPL_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">member</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateIterate (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> EMA_IMPL_T, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> EMA_DATA_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">member</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateMerge (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> EMA_IMPL_T, ctx2 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> EMA_IMPL_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">member</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateTerminate (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> EMA_IMPL_T, returnValue <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, flags <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">body</span></span> EMA_IMPL_T <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateInitialize (sctx <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> EMA_IMPL_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> sctx := EMA_IMPL_T (<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); return ODCIConst.Success; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; member function ODCIAggregateIterate (self in out EMA_IMPL_T, value in EMA_DATA_T) return number is <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> value.AVALUE <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> l_window_width <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> l_window_width := value.AVERAGING_WINDOW; self.l_ema := value.AVALUE; else self.l_ema := round (value.AVALUE * 2 / (l_window_width + 1) + self.l_ema * (1 - 2 / (l_window_width + 1)), 20); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; return ODCIConst.Success; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; member function ODCIAggregateMerge(self in out EMA_IMPL_T, ctx2 in EMA_IMPL_T) return number is <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ODCIConst.Error; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; member function ODCIAggregateTerminate(self in EMA_IMPL_T, returnValue out number, flags in number) return number is <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> returnValue := self.l_ema; return ODCIConst.Success; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> EMA (<span class="hljs-keyword"><span class="hljs-keyword">input</span></span> EMA_DATA_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">aggregate</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> EMA_IMPL_T; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> HABR_MARKETINDEXES_EMASIMPLE_F_AGRF (p_averaging_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HABR_MARKETINDEXES_RESULT_LIST_T <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> l_result HABR_MARKETINDEXES_RESULT_LIST_T; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> T1 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, TYPICAL_PRICE, ACLOSE , <span class="hljs-keyword"><span class="hljs-keyword">round</span></span> (EMA (EMA_DATA_T (TYPICAL_PRICE, p_averaging_window_width)) <span class="hljs-keyword"><span class="hljs-keyword">over</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE), <span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> EMA <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> LOAD_YAHOO_V) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> HABR_MARKETINDEXES_RESULT_T (STOCK_NAME, ADATE, ACLOSE, EMA, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, AACTION) <span class="hljs-keyword"><span class="hljs-keyword">bulk</span></span> <span class="hljs-keyword"><span class="hljs-keyword">collect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> l_result <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T1 match_recognize (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE <span class="hljs-keyword"><span class="hljs-keyword">measures</span></span> classifier() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AACTION all <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> per <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> unmatched <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> pattern (BUY+ | SELL+) <span class="hljs-keyword"><span class="hljs-keyword">define</span></span> BUY <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (prev (TYPICAL_PRICE) &lt; prev (EMA) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &gt; EMA) , SELL <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (prev (TYPICAL_PRICE) &gt; prev (EMA) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &lt; EMA) ) MR; return l_result; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br></div></div><br><br>  ููุงุฑูุฉ ูุชุงุฆุฌ ุงูุญุณุงุจ ูุน ูุนููุฉ ูุงุญุฏุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COLUMN_VALUE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ALG, dbms_sqlhash.gethash (<span class="hljs-keyword"><span class="hljs-keyword">COLUMN_VALUE</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> RECORDSET_HASH <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (sys.odcivarchar2list (<span class="hljs-string"><span class="hljs-string">'select * from table (HABR_MARKETINDEXES_EMASIMPLE_F_CALC (15)) order by 1, 2'</span></span> , <span class="hljs-string"><span class="hljs-string">'select * from table (HABR_MARKETINDEXES_EMASIMPLE_F_RECU (15)) order by 1, 2'</span></span> , <span class="hljs-string"><span class="hljs-string">'select * from table (HABR_MARKETINDEXES_EMASIMPLE_F_MODE (15)) order by 1, 2'</span></span> , <span class="hljs-string"><span class="hljs-string">'select * from table (HABR_MARKETINDEXES_EMASIMPLE_F_AGRF (15)) order by 1, 2'</span></span>));</code> </pre> <br>  ูุฌุจ ุฃู ุชุชุทุงุจู ุฌููุน ุงูุชุฌุฒุฆุฉ ููู ุงูุทุฑู ุงูุฃุฑุจุนุฉ. <br><br>  ุฅุฐุง ูู ุชุชุทุงุจู ุงูุชุฌุฒุฆุฉ ุ ูููููู ูุนุฑูุฉ ุจุงูุถุจุท ุฃูู ุชุดูู ุงูุชุจุงูู ุ ุจุงุณุชุฎุฏุงู ุนุงูู ุงูุชุดุบูู ูุฐุง (ุงุณุชุจุฏู ุฃุณูุงุก ุงููุธุงุฆู ุงูุชู ุชุฑูุฏ ููุงุฑูุชูุง): <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">coalesce</span></span> (a.STOCK_NAME, b.STOCK_NAME) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> STOCK_NAME, <span class="hljs-keyword"><span class="hljs-keyword">coalesce</span></span> (a.ADATE, b.ADATE) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ADATE , a.ACLOSE <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> CALC_ACLOSE, b.ACLOSE <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AGRF_CLOSE , a.IND_VALUE <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> CALC_EMA, b.IND_VALUE <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AGRF_EMA , a.AACTION <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> CALC_AACTION, b.AACTION <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AGRF_AACTION <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_EMASIMPLE_F_CALC (<span class="hljs-number"><span class="hljs-number">15</span></span>)) a <span class="hljs-keyword"><span class="hljs-keyword">full</span></span> <span class="hljs-keyword"><span class="hljs-keyword">outer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">join</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_EMASIMPLE_F_AGRF (<span class="hljs-number"><span class="hljs-number">15</span></span>)) b <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> a.STOCK_NAME = b.STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.ADATE = b.ADATE <span class="hljs-comment"><span class="hljs-comment">--where sys_op_map_nonnull (a.ACLOSE) &lt;&gt; sys_op_map_nonnull (b.ACLOSE) -- or sys_op_map_nonnull (a.IND_VALUE) &lt;&gt; sys_op_map_nonnull (b.IND_VALUE) -- or sys_op_map_nonnull (a.AACTION) &lt;&gt; sys_op_map_nonnull (b.AACTION) order by 1, 2; ;</span></span></code> </pre> <br>  <b>ุงุฎุชูุงุฑ ุงููุนููุงุช</b> <br><br>  ูุณุชุฎุฏู <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ููุณู ูุนููุฉ ูุงุญุฏุฉ ุ ูููุฐุง ูููู <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIRs</abbr> ุงูุฃุฎุฑู <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">ุฃุบูุฑูุง</abbr> ูู ุงููุทุงู ูู 1 ุฅูู 200 ุ ูููู ูุญุณุงุจ ุตูุฑุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ููุงุนุชูุงุฏ ุนูููุง ูุนูู ุงูุชุฃุฎุฑ ุฃูุถูุง ุ ุณููุฏู ูุนููุฉ ุซุงููุฉ ุชุฎุชูู ูู 1 ุฅูู 5. <br><br>  ููุชุญ ุงููุดุบู 200 * 5 = 1000 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุคุดุฑ</a> ุ ูุฐูู ูุฏ ููุฒู ุชุบููุฑ Oracle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">OPEN_CURSORS</a> <br><br>  ููููุฐ ุงูุงุณุชุนูุงู ุงูููุฌูุฏ ุฃุฏูุงู ุงูููุชุฌ ุงูุฏููุงุฑุชูุฉ ูุฌุฏูู ุจุฃุฑูุงู ูู 1 ุฅูู 200 ุ ูุน ุฌุฏูู ุจู ุฃุฑูุงู ูู 1 ุฅูู 5 ุ <code>HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS</code> ุงูุฏููุงุฑุชูุฉ ูู ูุฐุง ูู ุฎูุงู ุงุณุชุฏุนุงุก ุฏุงูุฉ ุงูุฌุฏูู <code>HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS</code> . <br><br>  ุจุนุฏ ุจุนุถ ุงููุนุงูุฌุงุช ุงูุฅุถุงููุฉ ูู MATLAB ุ ุณูู ูุญุตู ุนูู ูุตูููุฉ 200 * 5 ุ ุญูุซ ุณูููู ูู ุฎูุงูุง ุงููุตูููุฉ ูููุฉ ุฑุฃุณ ุงููุงู ุงูุฅุฌูุงููุฉ ููู ูููุฉ ููู ูู ุงููุนููุชูู.  ุจุนุฏ ุฐูู ูู MATLAB ุ ูุจูู ุตูุฑุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">rollback</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> INDICATOR_NAME = <span class="hljs-string"><span class="hljs-string">'HABR_MARKETINDEXES_EMASIMPLE_F_CALC'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS (INDICATOR_NAME, PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> TP1 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM1 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;AVERAGING_INTERVAL) , TP2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM2 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;LAG_MODELLING_DEPTH) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-comment"><span class="hljs-comment">--+ parallel(8) 'HABR_MARKETINDEXES_EMASIMPLE_F_CALC', PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK from TP1 cross join TP2 cross join table (HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS (cursor (select STOCK_NAME, ADATE, ACLOSE, AACTION from table (HABR_MARKETINDEXES_EMASIMPLE_F_CALC (PARM1))), PARM2)) ; commit;</span></span></code> PARM2ุ STOCK_NAMEุ ADATE_MINุ ADATE_MAXุ DEALS_COUNTุ BALANCE_RESULTุ DEALS_PROFIT_AMOUNTุ DEALS_LOSS_AMOUNTุ DEALS_PROFIT_COUNTุ DEALS_LOSS_COUNTุ IN_STOCK) <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">rollback</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> INDICATOR_NAME = <span class="hljs-string"><span class="hljs-string">'HABR_MARKETINDEXES_EMASIMPLE_F_CALC'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS (INDICATOR_NAME, PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> TP1 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM1 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;AVERAGING_INTERVAL) , TP2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM2 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;LAG_MODELLING_DEPTH) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-comment"><span class="hljs-comment">--+ parallel(8) 'HABR_MARKETINDEXES_EMASIMPLE_F_CALC', PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK from TP1 cross join TP2 cross join table (HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS (cursor (select STOCK_NAME, ADATE, ACLOSE, AACTION from table (HABR_MARKETINDEXES_EMASIMPLE_F_CALC (PARM1))), PARM2)) ; commit;</span></span></code> STOCK_NAMEุ ADATE_MINุ ADATE_MAXุ DEALS_COUNTุ BALANCE_RESULTุ DEALS_PROFIT_AMOUNTุ DEALS_LOSS_AMOUNTุ DEALS_PROFIT_COUNTุ DEALS_LOSS_COUNTุ IN_STOCK <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">rollback</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> INDICATOR_NAME = <span class="hljs-string"><span class="hljs-string">'HABR_MARKETINDEXES_EMASIMPLE_F_CALC'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS (INDICATOR_NAME, PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> TP1 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM1 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;AVERAGING_INTERVAL) , TP2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM2 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;LAG_MODELLING_DEPTH) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-comment"><span class="hljs-comment">--+ parallel(8) 'HABR_MARKETINDEXES_EMASIMPLE_F_CALC', PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK from TP1 cross join TP2 cross join table (HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS (cursor (select STOCK_NAME, ADATE, ACLOSE, AACTION from table (HABR_MARKETINDEXES_EMASIMPLE_F_CALC (PARM1))), PARM2)) ; commit;</span></span></code> </pre> <br>  ูุชู ุชูููุฐ ุฌููุน ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูู ูุฐู ุงูููุงูุฉ ุจุจุทุก ุ ูุชุตู ุฅูู 20 ุฏูููุฉ ุ ููุฑุฌุน ุฐูู ุฅูู ูุชุญ ุนุฏุฏ ูุจูุฑ ูู ุงููุคุดุฑุงุช. <br><br>  ููุฏ ููุช ุฃูุถูุง ุจุชุทููุฑ ุทุฑููุฉ ูุญุงูุงุฉ ุฃุณุฑุน ุจุงุณุชุฎุฏุงู ูุคุดุฑ ูุงุญุฏ ุ ุฏูู ูุชุญ 1000 ูุคุดุฑ ุ ุฅูุง ุฃููุง ุถุฎูุฉ ุฌุฏูุง ุจุญูุซ ูุณุชุบุฑู ุงูุฃูุฑ ูุตู ุงูููุงูุฉ.  ูุฐูู ุ ูู ุฃุญุถุฑู ููุง. <br><br>  ูุชูุฌุฉ ููุฐุฌุฉ ุชูุงุทุน ุงููุชูุณุท โโุงููุชุญุฑู (ุฌููุน ุงูุฑุณูู ุงูุจูุงููุฉ ูุงุจูุฉ ููููุฑ): <br> <a href=""><img src="https://habrastorage.org/webt/my/i8/1f/myi81fz9phsezv_f_igu2eic4ie.jpeg"><br></a> <br><br>  ุงูุณุทุฑ ุงูุซุงูู ูู ุงููุฎุทุทุงุช ูู ููุณ ุงูุณุทุฑ ุงูุฃูู ุ ููู ุงููุฎุทุทุงุช ุชุฏูุฑ ููููุงู ุ ุญูุซ ูุชู ุชุฑุชูุจ ุงููุฎุทุทุงุช ุฐุงุช ุงูุชุฃุฎุฑ ุงููุฎุชููุฉ ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู.  ูุฐุง ูุชูุญ ูู ุชูููู ุชุฃุซูุฑ ุงูุชุฃุฎุฑ ุนูู ุงููุชูุฌุฉ. <br><br>  ุจุดูู ุนุงู ุ ุงููุคุดุฑ ููุณ ุญุณุงุณูุง ุฌุฏูุง ููุชุฎูู.  ุจุงููุณุจุฉ ูุฃุณูุงู S &amp; P500 ู NYSE ุ ูุฌุจ ุชุญุฏูุฏ ูุนููุฉ <abbr title="ูุคุดุฑ ุงูุณูู ุงูููู">TIR</abbr> ุฃูุซุฑ ุ ูููุง ูุงู ุฐูู ุฃูุถู.  ุจุงููุณุจุฉ ูุณูู ุจุฑูุช ุ ููู ููุน ูู ุญูุงูู 25. ูู ุงูุณูููู ุงูุฃุฎุฑููู ุ ูุง ููุฌุฏ ุฃู ุงุฑุชุจุงุท ุจูู ุงูุฑุจุญูุฉ ูุงููุนููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุตูุจุงู ุงููุงุชูุฉ ูุงูุฐูุจูุฉ </h3><br>  ูู ุงูุชูููุฐ ุนูู Oracle ุ ูุดุจู ูุฐุง ุงููุคุดุฑ ุฅูู ุญุฏ ูุจูุฑ ุงููุคุดุฑ ุงูุณุงุจู ุ ุญูุซ ูุชู ููุง ููุท ุงุณุชุฎุฏุงู ูุชูุณุทูู ูุชุญุฑููู ูููุณ ูุงุญุฏูุง.  ูุฐูู ุ ุณุฃูุฏู ุฎูุงุฑ ุญุณุงุจ ูุงุญุฏ ููุท. <br><br>  ุชุตู ูููู ูุคุดุฑ Ichimoku.  ูุฐุง ูุคุดุฑ ูุนูุฏ.  "ุงูุตูุจุงู" ูู ูุงุญุฏุฉ ูู ุงูุฃุฌุฒุงุก ุงูููููุฉ.  ููู ุงููุคุดุฑ ุบูุฑ ููุตูู ุจุดูู ุณูุฆ ุนูู ุงููููู ุ ุนูู ูุฌู ุงูุฎุตูุต ุ ูุงุญุธ ุฃู ุฎุทูุท Tenkan ู Kijun ููุตููุฉ ุจุนุจุงุฑุงุช ูุฎุชููุฉ ุชูุงููุง ุ ุฑุบู ุฃููุง ูู ุงููุงูุน ููุณ ุงูุดูุก ุ ููู ูุน ูุชุฑุงุช ูุฎุชููุฉ. <br><br>  ูู ูุชุงุจ ุฑูุจุฑุช ูููุจู ุ ูู ูุชู ูุตู ูุฐุง ุงููุคุดุฑ ุฃูุถูุง. <br><br>  ูุทูู ุงููุญูููู ุงููุงุจุงูููู ุชูุงุทุน ุงููุชูุณุทุงุช ุ ุนูุฏูุง ูุนุจุฑ ุงููุชูุณุท โโูุตูุฑ ุงูุฃุฌู ุงููุฏู ุงูุทููู ูู ุงูุฃุณูู ุฅูู ุงูุฃุนูู ุ ูุงูุตููุจ ุงูุฐูุจู (ุงูุตููุจ ุงูุฐูุจู) ุ ูุงููุถุน ุงููุนุงูุณ ุ ุนูุฏูุง ูุนุจุฑ ุงููุชูุณุท โโุงููุชุญุฑู ูุตูุฑ ุงููุฏู ุงููุฏู ุงูุทููู ูู ุงูุฃุณูู ุฅูู ุงูุฃุณูู ุ ูููู ุงูุตููุจ ุงูููุช. <br><br>  ูุงุญุธ ุงููุคูู ุฃู ูุฐุง ุงููุคุดุฑ ููุตูู ูู ููุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"ุงูุนููุฏ ุงููุณุชูุจููุฉ ููููุท ุงูุฃูุฑููู ุดููุช" ุชูุงุทุนูุง ูุงุชููุง ""</a> ูุจุฏุฃุช ูู google ูุตููุง ูุงุณุชุฎุฏุงููุง. <br><br>  ูุนุชุจุฑ ูุฐุง ุงููุคุดุฑ ุฎุทูุฑูุง ูู ุณูู ุงูุฃูุฑุงู ุงููุงููุฉ ุ ููุนุฒู ุฐูู ุฌุฒุฆููุง ุฅูู ุฃูู ูุงุฏุฑูุง ูุง ูุนุทู ุฅุดุงุฑุงุช. <br><br>  ุงูุฃูุซุฑ ุดููุนุง ูู ุงููุชูุณุทุงุช ุงููุชุญุฑูุฉ 50 ู 200 ุงููุชุฑุฉ. <br><br>  ุนูุฏ ููุฐุฌุฉ ุงูุฃุฏุงุก ุฃุฏูุงู ุ ุณูู ูุฃุฎุฐ ูุชุฑุฉ ุงููุชูุณุท โโุงููุชุญุฑู ุงูุทููู ูุณุงูููุง ูููุชุฑุฉ ุงูุฑุจุงุนูุฉ ููุชูุณุท โโุงูุญุฑูุฉ ุงููุตูุฑุฉ ุ ููุญุงูู ุทูู ุงููุตูุฑ ูู 1 ุฅูู 200 ููู (ุณููุชูู ูู 4 ุฅูู 800 ููู ููุชุฑุฉ ุทูููุฉ). <br><br>  ุฑูุฒ ูุญุณุงุจ ุนูู ุฌูุซุจ. <br><br> <a href=""><img src="https://habrastorage.org/webt/7s/1a/c_/7s1ac_u_9vclmx2xelqzod7jvyi.png"></a> <br><br>  ุงููุคุดุฑ ููุณ ุญุณุงุณูุง ุฌุฏูุง ููุชุฎูู.  ุจุงููุณุจุฉ ุฅูู ุณูู S &amp; P500 ุ ููุฌุฏ ุงูุญุฏ ุงูุฃูุตู ุนูุฏ 48 (192 ููุฏุฉ SS ุทูููุฉ) ู 98 ููููุง (392 ููุฏุฉ SS ุทูููุฉ).  ูุงุญุธ ุฃู ุงูุญุฏ ุงูุฃูุตู ุงูุฃูู ูุฑูุจ ุฌุฏูุง ูู ุงูุฃุฑูุงู 50 ร 200.  ูููู ุงูุชุฑุงุถ ุฃูู ุฅุฐุง ุงุฎุชุฑุช ูุฐู ุงููุนููุฉ 1 ู 2 ุฃูู ูู ุงููุดุงุฑููู ุงูุขุฎุฑูู ูู ุงูุณูู ุ ููููู ูุญุงููุฉ ุงูุชุบูุจ ุนูููุง ูู ูุฐุง ุงููุคุดุฑ ูุญุฏู. <br><br>  ููุงู 4 ุงุฑุชูุงุนุงุช ูู ุจูุฑุตุฉ ูููููุฑู.  ูู ุฃุณูุงู ุจุฑูุช ู BTCUSD ุ ูุง ูุนูู ุงููุคุดุฑ. <br>  ุจุงููุณุจุฉ ูุณูู ุงูููุฑู ููุงุจู ุงูุฏููุงุฑ ุงูุฃููุฑูู ุ ุฃูุถูุง ุ ูุฌุจ ุงุฎุชูุงุฑ ุงููุนููุฉ ุฃูู ุจูููู ูู 50 ููููุฉ SS ูุตูุฑุฉ.  ููู ุงููุคุดุฑ ูุง ูุนุทู ุฑุจุญุง ูู ูุฐุง ุงูุณูู.  ูููู ุงุณุชุฎุฏุงูู ููุท ููุคุดุฑ ุฅุถุงูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุญุฌู ุงูุฑุตูุฏ ุ ุญุฌู ุงูุชูุงุฒู ุ ุญุฌู ุงูุฑุตูุฏ (OBV) </h3><br>  ูุคุดุฑ OBV ูู ูุชูุณุท โโุญุฌู ุงูุชุฏุงูู ุงูุชุฑุงููู ุงููุชุญุฑู ุงููุฃุฎูุฐ ุจุนูุงูุฉ ุฒุงุฆุฏ ูู ุญุงูุฉ ุงูุณูู ุงููุชูุงููุฉ ูุน ุนูุงูุฉ ุงูุทุฑุญ ูู ุญุงูุฉ ุงููุจูุท. <br><br>  ููุง ุณูู ูุณุชุฎุฏู ูุฐู ุงูุทุฑููุฉ ูุชูุณูุฑ ูููุฉ ุงููุคุดุฑุงุช: ุงุดุชุฑู ุนูุฏูุง ูุนุจุฑ OBV ูุชูุณุทู ุงููุชุญุฑู ูู ุงูุฃุณูู ุฅูู ุงูุฃุนูู ุ ูู ุจุงูุจูุน ุนูุฏูุง ูุนุจุฑ OBV ูุชูุณุทู ุงููุชุญุฑู ูู ุงูุฃุนูู ุฅูู ุงูุฃุณูู. <br><br>  ุงููุฒูุฏ ุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู</a> ุฃู ูููุจู <br><br> <a href=""><img src="https://habrastorage.org/webt/rl/w1/fa/rlw1farsmtyjs7duejp1eao6e1u.png"></a> <br><br>  ูู ุณูู S &amp; P500 ุ ูููู ุงููุคุดุฑ ุญุณุงุณูุง ุฌุฏูุง ููุชุฃุฎูุฑ (ุงูุชุฃุฎุฑ) ุ ูููู ููููู ูุญุงููุฉ ุงุฎุชูุงุฑ ูุนููุฉ ุนูู ูุจุฏุฃ "ูููุง ูุงู ุฐูู ุฃูุถู" ุ ูุชู ุชุญููู ุจุนุถ ุงูุฑุจุญูุฉ.  ูู ุจูุฑุตุฉ ูููููุฑู ุ ูุง ูููู ุชุญููู ุงูุฑุจุญูุฉ.  ูู ุณูู ุจุฑูุช ุ ููููู ุชุญุฏูุฏ ูููุฉ ุงููุนููุฉ ูู 20 ุฅูู 100. ูู ุณูู BTCUSD ุ ูุง ุชูุฌุฏ ุนูุงูุฉ ุฎุทูุฉ ูุงุถุญุฉ ุ ูููู ุงุฎุชูุงุฑ ูููุฉ ูุนููุฉ ุฃูู ูู 40 ุบูุฑ ุนููู.  ุจุงููุณุจุฉ ูุณูู ุงูููุฑู ููุงุจู ุงูุฏููุงุฑ ุงูุฃููุฑูู ุ ูุฌุจ ุงุฎุชูุงุฑ ูููุฉ ุงููุนููุฉ "ูููุง ูุงู ุฐูู ุฃูุถู" ุ ูููู ูุง ูููู ุชุญููู ุงูุฑุจุญูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  , Keltner Channel </h3><br> <abbr title="  "></abbr>          ,           .      . <br><br>          . <br><br>           ,       . <br><br>     <abbr title="  "></abbr>   : ,     , ,    . <br><br> <a href=""><img src="https://habrastorage.org/webt/_h/25/ls/_h25lsxaqle9wda7rehrzncb4ei.png"></a> <br><br>   S&amp;P500  NYSE  .   Brent     ,      .   BTCUSD  ,  ,     .   EURUSD     . <br><br><h3 style=";text-align:right;direction:rtl">    ,    , PriceโVolume Trend, PVT </h3><br>   PVT               . <br><br>        : ,  PVT     -, ,  PVT     -. <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> .    . <br><br> <a href=""><img src="https://habrastorage.org/webt/d9/5q/ay/d95qay3lujgc3dplp4rgkorrgyq.png"></a> <br><br>   S&amp;P500   ยซ ,  ยป,  NYSE   ,  Brent     50,  BTCUSD      , 1-2,     ,  50-,  EURUSD  . <br><br><h3 style=";text-align:right;direction:rtl">  ,    , Arms' Ease of Movement Value, EMV </h3><br> <abbr title="  "></abbr> EMV โ    ,      .          ,      . <br><br>      : ,    EMV   , ,    EMV   . <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>   . <br><br> <a href=""><img src="https://habrastorage.org/webt/3o/9r/yk/3o9ryk2ufl7fh-xi7t755zughpq.png"></a> <br><br>   S&amp;P, NYSE  ,   Brent       .   BTCUSD  EURUSD  . <br><br><h3 style=";text-align:right;direction:rtl">   , ommodity channel index, CCI </h3><br> <abbr title="  "></abbr> CCI โ ,                    . <abbr title="  "></abbr>     . <br><br>     : ,  CCI   100, ,  CCI   100. <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>   . <br><br> <a href=""><img src="https://habrastorage.org/webt/vr/uc/ob/vrucob8honvqk0dsynnz5t7zqtw.png"></a> <br><br>   S&amp;P500, NYSE, Brent       .   BTCUSD   (  ),        .   EURUSD    . <br><br> <b>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GitHub</a></b> <br>   ,  ,   (   ,       Yahoo Finance),  ,    ,     (   ,     20 ). <br><br> <b>   <abbr title="  "></abbr> :</b>        .        .               . <br><br>  ูุจุงูุฅุถุงูุฉ ุฅูู ุฐูู: <br><br>     ,     .        . ,    . <br><br> <i>     <abbr title="  "></abbr>      Oracle Database  .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar455050/">https://habr.com/ru/post/ar455050/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar455030/index.html">ููุงุตูุงุช PHP</a></li>
<li><a href="../ar455032/index.html">ููุณ ุฎุทุฃ ุ ูููู ููุฒุฉ: ุฏุฑุงุณุฉ ุงูุญุฑูุฉ ููุดุงุท ุงูุฏูุงุบ ููุดุฎุต ูุน ูุซุฑุฉ ุงูุฃุตุงุจุน</a></li>
<li><a href="../ar455038/index.html">ุญูู ููููุฉ ุฒูุงุฑุฉ Plesk KubeCon</a></li>
<li><a href="../ar455042/index.html">Kotlin DSL ุ ุฌุฏูู ุงููุจุงุฑูุงุช ูุงุฎุชุจุงุฑุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฃูููุฉ ูู Android</a></li>
<li><a href="../ar455046/index.html">N + 7 ูุชุจ ูููุฏุฉ</a></li>
<li><a href="../ar455052/index.html">ุงูุตูู DIYorDIE ููุชูุจ 16 ููููู</a></li>
<li><a href="../ar455054/index.html">ููู ุณุชุฌุฏ Apple (ูู ุงููุทุงุน ุงูุฎุงุต) ุฌูุงุฒู ุงูููููุฏ ูู ูุถุน ุนุฏู ุงูุงุชุตุงูุ</a></li>
<li><a href="../ar455056/index.html">ุฑุณููุงุช ุจุฏุงุฆูุฉ ูููุจุงุฑ ุ ูุณูู ุ ููุชุจ ูุฏููุฉ</a></li>
<li><a href="../ar455058/index.html">ูุคุงูุฑุฉ ุงููุญุณูุจุฉ ุฃู ุงูุนุฏูู ูุนุจ ุงูุฃุฏูุงุฑ</a></li>
<li><a href="../ar455060/index.html">ููููุฑูุณ ุฃู ุฃูู ูุตุฏุฑ ููุชูุญ ุนูู ุงูุฅุทูุงู. ุงูุฌุฒุก 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>