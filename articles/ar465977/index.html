<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛤️ 🥌 ⏭️ تدريب Cisco 200-125 CCNA v3.0. يوم 31. CDP ، Syslog و NTP 🧗🏿 🥠 🖍️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="سننظر اليوم في 3 مفاهيم: بروتوكول Cisco CDP ، سجل نظام Syslog ، وبروتوكول وقت شبكة NTP. سنستمر أيضًا في مناقشة موضوع المشكلات وإلقاء نظرة على بعض الأد...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>تدريب Cisco 200-125 CCNA v3.0. يوم 31. CDP ، Syslog و NTP</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/465977/" style=";text-align:right;direction:rtl"> سننظر اليوم في 3 مفاهيم: بروتوكول Cisco CDP ، سجل نظام Syslog ، وبروتوكول وقت شبكة NTP.  سنستمر أيضًا في مناقشة موضوع المشكلات وإلقاء نظرة على بعض الأدوات اللازمة لتشخيصها ، ثم إلقاء نظرة على Syslog و NTP وفي نهاية الدرس ، ناقش CDP و LLDP. <br><br>  في الدرس السابق ، نظرنا في منهجية استكشاف الأخطاء وإصلاحها ، والآن سأتحدث عن العديد من الأدوات المضمنة في نظام التشغيل وأجهزة Cisco التي يمكن أن تساعدك في حل مشكلات الشبكة. <br><br>  الأداة الأولى هي أمر ipconfig ، وبما أن معظم الناس يستخدمون نظام Windows 10 ، فسننظر في هذا الأمر باستخدام نظام التشغيل هذا كمثال.  إذا ذهبت إلى محطة سطر الأوامر بجهاز الكمبيوتر الخاص بك وأدخلت الأمر ipconfig ، يمكنك رؤية معلمات التكوين لجميع واجهات الشبكة المتاحة على جهاز الكمبيوتر الخاص بك. <br><br><img src="https://habrastorage.org/webt/f6/-9/6l/f6-96lo5pw0zenpcqovymdfxcjw.jpeg"><br><br>  سترى واجهة افتراضية للبرامج Ethernet Adapter VPN وعدة واجهات برمجية أخرى ، يعتمد عددها على برامج التشغيل المتوفرة في النظام.  فيما يلي مهايئ شبكة LAN اللاسلكية الخاصة بشبكة Wi-Fi ، والتي أتصل بها الآن مع الإنترنت ، توجد بيانات حول المحول الظاهري WMware Network WMnet1 أعلى قليلاً.  يظهر محول النفق أدناه ، أي جميع المحولات المثبتة بواسطة برنامج VPN معروضة هنا. <a name="habracut"></a><br><br>  يتطلب منك موضوع دورة CCNA معرفة محوليْن: محول Wi-Fi لاسلكي ومحول Ethernet. <br><br><img src="https://habrastorage.org/webt/uq/tx/ek/uqtxekxqi20bmcytun7reeigss4.jpeg"><br><br>  بالنسبة لشبكة المكتب ، يكون المحول اللاسلكي أكثر أهمية ، وإذا اتصل أي من المستخدمين بك لمشكلة ، فأنت بحاجة أولاً إلى استخدام الأمر ipconfig وإلقاء نظرة على عنوان IP الخاص بالجهاز.  يجب عليك التحقق مما إذا كان هذا العنوان في نطاق عناوين DHCP.  ربما قام المستخدم بإيقاف تشغيل الديناميكي وتشغيل IP ثابت ، وهو ليس جزءًا من DHCP ، أو تم تكوين الجهاز للحصول على عنوان IP تلقائيًا ولا يمكن لسبب ما الاتصال بخادم DHCP. <br><br>  إذا كنت بحاجة إلى مزيد من المعلومات الكاملة ، استخدم الأمر ipconfig / all.  سوف تتلقى نفس البيانات ، ولكن في نموذج أكثر تفصيلاً ، مع وصف العلامة التجارية للمحول ، ومعلمات DHCP ، وعنوان الرابط المحلي ، وعنوان IP ، وفترة صلاحية إيجار الخادم ، وعنوان البوابة الافتراضية وما إلى ذلك. <br><br><img src="https://habrastorage.org/webt/so/9f/h1/so9fh161ces0au1rr-7jbz00f5u.jpeg"><br><br>  إذا تبين ، نتيجة للتحقق من هذه المعلومات ، أن كل شيء على ما يرام مع عنوان IP وأن إعدادات الواجهة ليست هي سبب المشكلة ، يجب عليك استخدام أدوات التشخيص الأخرى ، مثل NSLookup.  هذه أداة مساعدة تسمح لك بالوصول إلى نظام DNS من خلال سطر الأوامر.  إذا لم يؤد ذلك إلى حل المشكلة ، فاستخدم الأمر ping.  أستخدم الأمر ping 8.8.8.8 ، وهو اختبار ping لنظام أسماء النطاقات العامة لـ Google.  إذا نجح الأمر ping ، فسيتم كل شيء وفقًا للاتصال ويجب البحث عن السبب في مكان آخر. <br><br>  إذا لم يمر ping ، فأنت بحاجة إلى استخدام أداة تسمى Trace Route أو tracert.  هذا هو أمر Windows لتتبع المسار إلى مضيف محدد.  إذا قمت بكتابة tracert 8.8.8.8 في سطر الأوامر ، فستحصل على اختبار ping بقيمة TTL = 1 مع تتبع مسار يصل إلى 30 عقدة.  كما ترون ، فإن العقدة الأولى هي جهاز التوجيه الخاص بي ، فقد أظهر النظام البرامج الثابتة لـ DD-WRT وعنوان IP الخاص به 192.168.1.1 ، والثاني هو خادم مزود الخدمة الخاص بي بعنوان IP 192.168.100.1 ، الذي أذهب من خلاله إلى الإنترنت ، ثم الأصوات على العقد الأخرى ويصل إلى خادم جوجل.  في حالتنا ، تبين أنه تم تحقيق 14 من الآمال ، ولكن إذا ، على سبيل المثال ، نشأت مشكلة على جانب مزود الخدمة الخاص بي ، فسيتوقف التتبع بعد العقدة الثالثة التي تميز خادم مزود خدمة الإنترنت. <br><br><img src="https://habrastorage.org/webt/7i/qy/zy/7iqyzy7odxlbo85k9dtbk__eqou.jpeg"><br><br>  لذلك ، يعد Trace Route أداة ممتازة لتحديد المشكلات على طول مسار حركة المرور. <br><br>  دعونا نلقي نظرة فاحصة على ماهية NSLookup.  هذا أمر يتحدث عن خادم DNS الخاص بك.  إذا قمت بكتابة nslookup ، أحصل على سطرين: الخادم الافتراضي هو DD-WRT ، وهو جهاز التوجيه الخاص بي وعنوانه هو 192.168.1.1.  إذا حددت خادم DNS معينًا بأمر server 8.8.8.8 ، فسيقدم لي النظام وصفه وعنوان IP الخاص به.  بهذه الطريقة يمكنك التحقق من أي خادم DNS معين.  بنفس الطريقة ، يمكنني الحصول على بيانات حول مجال معين عن طريق كتابة ، على سبيل المثال ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">www.cisco.com</a> . <br><br><img src="https://habrastorage.org/webt/2c/hc/gc/2chcgcfg7mt1taavbtd_9qldsvs.jpeg"><br><br>  كما ترى ، تستخدم Cisco نسختين من عنوان IP ، وإذا كتبت google.com ، فسنرى العديد من عناوين IP المستخدمة من قبل هذا الخادم.  هذه خدمة ضخمة ، يتم الوصول إليها من قبل العديد من الأشخاص لدرجة أن عنوان IP واحد قد لا يكون كافيًا. <br><br><img src="https://habrastorage.org/webt/v-/_v/bq/v-_vbqbx-0xm4xs_xb5pp_ph8qa.jpeg"><br><br>  هناك نكتة عندما يريد الناس معرفة ما إذا كانت الإنترنت تعمل ، فإنهم ببساطة يكتبون google.com.  بالإضافة إلى مستخدمي أجهزة الكمبيوتر الشخصية ، يصل ملاك الهواتف الذكية التي تعمل بنظام أندرويد باستمرار إلى هذه الخدمة ، لذلك توجد حركة مرور هائلة تمر عبر خوادم هذه الشركة. <br><br>  وبالتالي ، يسمح لك الأمر nslookup باكتشاف عنوان IP لاسم مجال معين.  جميع الأدوات المذكورة أعلاه لا تعمل على حل المشكلات ، ولكنها تعمل على تشخيصها.  كلما زادت ممارستك في صناعة تكنولوجيا المعلومات ، زادت قدرتك على استخدام هذه الأدوات بشكل أكثر فاعلية ، لأن الممارسة والخبرة فقط يمكن أن يعلمك تشخيص مشاكل الشبكة وحلها بسرعة.  سوف تمنحك الممارسة الفرصة لفهم المشكلة ، في لمحة على إعدادات شبكة وحدة التحكم للكمبيوتر.  لذلك ، بعد الانتهاء من دراسة موضوع ICND1 ، سأنشر العمل المختبري العملي على الموقع بحيث يمكنك تطبيق المعرفة النظرية. <br><br>  قبل أن أتحدث عن syslog ، أريد أن أتحدث عن أمر "المراقبة الطرفية" لنظام التشغيل Cisco IOS.  سأذهب إلى برنامج Packet Tracer (إذا لم تكن قد قمت بالفعل بتثبيته ، فيمكنك التسجيل في Network Academy وتنزيل هذا البرنامج) وأخذ جهازي توجيه وتوصيلهما بكبل. <br><br>  بعد ذلك ، سأنتقل إلى وضع التكوين العام وأتناوب على إعداد هذه الموجهات ، مع منحهم الأسماء R0 و R1. <br><br><img src="https://habrastorage.org/webt/pc/b_/rg/pcb_rg5syep3srml9bngkixaaku.jpeg"><br><br>  بعد ذلك ، في إعدادات R1 ، سأدخل أمر تمكين كلمة المرور لتمكين تعيين كلمة المرور وتكوين واجهة g0 / 0 باستخدام ip add 10.1.1.2 255.255.255.0 وأي أوامر إغلاق.  بنفس الطريقة ، سأقوم بتكوين جهاز التوجيه R0 عن طريق تعيين عنوان IP الخاص به 10.1.1.1.  ثم أقوم بتنشيط بروتوكول Telnet باستخدام الأمر line vty 0 4 وقمت بتعيين كلمة المرور لإدخال Telnet باستخدام أوامر telnet الخاصة بتسجيل الدخول وكلمة المرور.  بعد ذلك ، سوف أذهب إلى إعدادات R0 وأستخدم الأمر telnet 10.1.1.2 لتأسيس اتصال بجهاز التوجيه R1.  بعد ذلك ، سيطلب النظام كلمة مرور لإنشاء اتصال ، وسأدخل كلمة telnet ، التي قمت بتعيينها ككلمة مرور R1.  كما ترون ، بعد ذلك ، في سطر الأوامر ، تغير اسم جهاز التوجيه R0 إلى R1 - وهذا يعني أنني ذهبت من خلال جهاز التوجيه R0 إلى إعدادات جهاز التوجيه R1. <br><br><img src="https://habrastorage.org/webt/se/nu/y4/senuy4fu7fbkzerhi1y7g8noz7c.jpeg"><br><br>  الآن دعنا ننتقل إلى واجهة g0 / 1 وسأريك عدة أشياء.  أولا ، أنا استخدم الأمر no shut لذلك.  سترى أن رسالة السجل ظهرت في نافذة CLI الخاصة بالموجه الثاني ، وأن حالة واجهة g0 / 1 قد تغيرت إلى أعلى. <br><br><img src="https://habrastorage.org/webt/st/jo/fd/stjofdzlgbi1f6tc_c_dgm1noqa.jpeg"><br><br>  منذ أن قمت بإدخال إعدادات R1 من جهاز التوجيه R0 ، اتضح أنني قد قمت بتوصيل جهاز كمبيوتر محمول عادي بجهاز التوجيه الثاني باستخدام كابل والتحكم فيه عن بعد.  ومع ذلك ، ظهرت رسالة السجل هذه في نافذة R1 فقط ، لأنني كنت متصلاً بالموجه الثاني فقط عبر قناة Telnet ولم يتم تكرارها في نافذة CLI الخاصة بالموجه الأول.  الحقيقة هي أنه إذا قمت بإدخال إعدادات جهاز موجود عن بُعد ، على سبيل المثال ، في مبنى آخر ، فلن يتم عرض رسائل السجل الخاصة بهذا الجهاز افتراضيًا على شاشتك. <br><br>  لكي يتم عرض رسائل السجل هذه على شاشة جهازك ، يجب عليك استخدام أمر جهاز العرض الطرفي.  في الحقيقة ، فهذا يعني أنه في حالة ظهور أي رسائل سجل أحداث على شاشة جهاز آخر ، فيجب إرسالها في شكل حزم عبر بروتوكول Telnet إلى عنوان IP الخاص بجهازك.  بشكل افتراضي ، لا يتم إرسال رسائل السجل إلى عنوان IP ، ولكن بعد إدخال أمر الشاشة الطرفية ، سيبدأ هذا في الحدوث.  إذا أدخلت الآن أمر إيقاف التشغيل في نافذة الإعدادات لجهاز التوجيه R1 ، فستظهر رسالة سجل حول تغيير حالة الواجهة في نفس الوقت على الشاشتين. <br><br><img src="https://habrastorage.org/webt/n4/ex/sk/n4exskp970o-aj8-qp1b2c5l0jw.jpeg"><br><br>  الآن سأذهب إلى وضع الإعدادات العامة R1 في النافذة الأولى وأبدأ في كتابة بعض الأوامر ، على سبيل المثال ، int g0 / 0.  لنفترض أنني تمكنت من طباعة int g0 / فقط ، وفي تلك اللحظة ظهر نوع من رسائل السجل.  سيتم تمزيق فريقي إلى أجزاء بهذه الرسالة ، لذلك سيكون 0 على السطر التالي ، وقد لا يفهمها الجهاز.  هذا غير مريح بشكل خاص إذا قمت بكتابة أمر طويل ، أو إذا كانت رسائل السجل تتكون من عدة أسطر ، لأنني لا أعرف من أين أتوقف عن الكتابة حتى لا يمزق فريقي إلى أجزاء ، أو يمكنني أن أنسى المكان الذي توقفت فيه. <br><br><img src="https://habrastorage.org/webt/ve/bi/qh/vebiqhnjmtg6uqdk0etrdsjfhcs.jpeg"><br><br>  لمنع هذا ، يتم استخدام مزامنة السجل.  اكتب أمر السطر vty 0 4 في النافذة اليمنى للانتقال إلى إعدادات Telnet ، وبعد ذلك يتغير رأس سطر الأوامر من R1 (config-if) إلى R1 (config-line).  ثم أدخل أمر التسجيل المتزامن وأعود إلى النافذة اليسرى. <br><br>  أكرر الآن نفس الموقف - اكتب int g0 / و pause ، تظهر خلالها رسالة السجل مرة أخرى.  يظهر أيضًا على كلتا الشاشتين ، لكن نصه الآن لا يكسر أمري ، وتحته يكرر ما بدأت الكتابة.  الآن يمكنني الاستمرار في كتابة الفريق الذي بدأته بهدوء ، دون خوف من أن يتم تقسيمه إلى أجزاء بواسطة سجلات الظهور.  بالنسبة لي ، كمستخدم ، هذا مناسب جدًا ، لأنك لا تحتاج إلى التفكير في كيفية كتابة أمر بشكل أسرع ، حتى تظهر رسالة سجل الأحداث فجأة.  هذا هو ما يفعله أمر التسجيل المتزامن ، أو "مزامنة السجلات". <br><br><img src="https://habrastorage.org/webt/zk/r0/pv/zkr0pvyxzbst_gytdh3pth4mciy.jpeg"><br><br>  لكل من رسائل السجل مستوى معين من الأولوية ، في مثالنا هو المستوى 5. كلما انخفضت قيمة مستوى التسجيل ، كلما زادت أهمية الرسالة.  هناك 8 مستويات أولوية لسجلات Cisco في المجموع. <br><br><img src="https://habrastorage.org/webt/jl/7e/9g/jl7e9gtrfe9dtgdih32qqem42tq.jpeg"><br><br>  0 - في حالات الطوارئ ، فإن النظام لا يعمل بشكل كامل ، <br>  1 - موقف مقلق ، التدخل العاجل ضروري ، <br>  2 - الأحداث الحرجة ، قد يفشل النظام ، <br>  3 - رسائل خطأ ، <br>  4 - جميع أنواع التحذيرات <br>  5 - مختلف الإخطارات الهامة ، <br>  6 - رسائل إعلامية ، <br>  7 - تصحيح الرسائل. <br><br>  تشير المستويات الثلاثة الأولى إلى حالات خطيرة في النظام ، ويشير المستوى 3 إلى مشاكل في النظام ، ويحذر المستوى الرابع من أن حالة النظام قد تصبح غير مستقرة ، لكنه لا يزال يعمل.  يخطر المستوى الخامس بالأحداث المختلفة ، على سبيل المثال ، عن تغيير في حالة الارتباط ، كما في مثالنا.  إذا كنت تستخدم وضع التصحيح ، فسوف تعرض الشاشة رسائل تصحيح المستوى السابع.  إذا كنت شخصًا مشغولًا ولا تريد قراءة جميع السجلات ، فيمكنك اختيار مستوى رسائل الخطر التي سيتم عرضها على الشاشة. <br><br>  على سبيل المثال ، أريد أن أرى رسائل تسجيل الدخول فقط حتى المستوى الثالث من الخطر.  في هذه الحالة ، لن يعرض النظام سوى رسائل المستويات 0 و 1 و 2 و 3 ، متجاهلاً الرسائل من المستويات 4-7.  بشكل افتراضي ، يتم تعيين المستوى 7 ، لذلك سترى سجلات جميع المستويات ، من الصفر إلى السابع. <br><br>  درسنا ماهية الشاشة الطرفية ، والآن دعنا ننتقل إلى Syslog.  إذا ظهرت رسائل سجل مهمة على الشاشة ، فقد ترغب في حفظها بطريقة ما على خادم Syslog ، لأن هذه الرسائل عادةً ما يتم تخزينها فقط في ذاكرة جهاز التوجيه ولن تتمكن من تحليلها بعد مرور بعض الوقت. <br><br>  دعنا نعود إلى Packet Tracer وأضف خادمًا إلى الدائرة المتصلة مباشرةً بالموجه الأول.  في الممارسة العملية ، يجب أن يكون المفتاح موجودًا بينهما ، لكننا نستخدم هذا المخطط لأغراض التدريب ، حتى نتمكن من الاستغناء عن المفتاح.  أذهب إلى إعدادات شبكة الخادم وأعينه عنوان IP ثابتًا 10.1.2.10 وقناع شبكة فرعية 255.255.255.0 وعنوان بوابة افتراضيًا 10.1.2.1.  هذا العنوان غير موجود حتى الآن ، لكنني سأقوم بتهيئته عندما أكمل تكوين واجهة جهاز التوجيه R0. <br><br>  بعد ذلك ، سوف أذهب إلى إعدادات R0 ، استخدم الأمر g0 / 1 وأخصصه العنوان 10.1.2.1 بقناع الشبكة الفرعية 255.255.255.0.  وبالتالي ، سيكون الخادم وجهاز التوجيه على نفس الشبكة.  ثم أحتاج إلى الدخول في إعدادات جهاز التوجيه R1 الثاني وتكوين الاتصال مع جهاز التوجيه الأول.  يمكنك تكوين RIP أو مسار ثابت ، وفي هذه الحالة أختار الأخير. <br><br>  للقيام بذلك ، أدخِل الأمر ip route 0.0.0.0 0.0.0.0 10.1.1.1 ، وهذا يعني أنني أشير إلى أنه يتم إرسال كل حركة المرور إلى العنوان 10.1.1.1.  ثم أقوم بإدخال "show show route route" وأرى أن بوابة آخر قائمة انتظار عبارة "الملاذ الأخير" لها عنوان 10.1.1.1 للشبكة 0.0.0.0. <br><br>  الآن سوف أتحقق مما إذا كان من الممكن تنفيذ الأمر ping على الجهاز في 10.1.2.10.  إذا كنت تتذكر ، فإن أداة ping هي أداة تشخيص ، وكما ترون ، كان الأمر ping ناجحًا.  بعد ذلك ، أقوم بتشغيل وضع التصحيح باستخدام الأمر debug ip icmp ، وهذا يعني أنه في كل مرة يصدر فيها جهاز التوجيه الأصوات ، ستظهر رسالة مقابلة في نافذة وحدة التحكم. <br><br>  إذا قمت بإجراء اختبار ping R1 من جهاز التوجيه الأيسر R0 باستخدام الأمر ping 10.1.1.2 ، فستظهر رسائل السجل في نافذة CLI الخاصة بالموجه الصحيح ، بشكل افتراضي ، مستوى الأولوية 7.  أريد إرسال أي رسائل سجل تظهر أثناء عملية التكوين إلى خادم Syslog.  للقيام بذلك ، انتقل إلى علامة التبويب "الخدمات" في لوحة إعدادات الخادم وأرى أن المعلمة Syslog ممكنة بشكل افتراضي.  حسنًا ، علي الآن أن أقول لـ R1: "في كل مرة تظهر رسالة سجل ، يرجى إرسالها إلى خادم Syslog على 10.1.2.10!".  للقيام بذلك ، أدخِل الأمر 10.1.2.10 الخاص بتسجيل الدخول.  الآن سيتم إرسال جميع رسائل السجل إلى الخادم.  دعونا نرى كيف يحدث هذا. <br><br>  أذهب إلى إعدادات R0 ومرة ​​أخرى أنا بينغ جهاز التوجيه R1.  في نافذة CLI على الخادم الصحيح ، تظهر رسالة تصحيح ، والتي يجب إعادة توجيهها إلى خادم Syslog.  أذهب إلى علامة التبويب Syslog بالخادم وأرى أن كل هذه الرسائل ظهرت هناك. <br><br><img src="https://habrastorage.org/webt/rm/ar/ad/rmaradajb2w4sgipn5d5bhr44gc.jpeg"><br><br>  وبالتالي ، إذا حدثت أي أحداث خلال عطلة نهاية الأسبوع ، فبعد أن بدأت العمل يوم الاثنين ، ستتمكن من عرض جميع رسائل السجل التي يتم تسجيل هذه الأحداث فيها.  إذا كانت لديك أي مشاكل ، فيمكنك تحليل ما حدث وتطبيق الإجراءات اللازمة للقضاء عليها. <br><br>  ومع ذلك ، إذا نظرت عن كثب في رسائل Syslog ، فسترى خطأً: جميعها لها طابع زمني في 1 يناير من صفر ساعة.  هذا يعني أنه لا يمكنني معرفة متى حدثت الأحداث المسجلة بالفعل.  حدث هذا لأن ساعة النظام الخاصة بجهاز التوجيه R1 تعرض الوقت الخطأ.  إذا قمت بإدخال أمر show clock في إعدادات هذا الموجه ، فسوف أرى الرسالة 0: 26: 9.539 UTC Mon Mar 1 1993. هذا يعني أن 26 دقيقة و 9 ثوان قد مرت منذ تشغيل الموجه ، وتبدأ الساعة الافتراضية في العد اعتبارًا من 1 مارس 1993 العام. <br>  يمكنني ضبط الوقت الصحيح يدويًا والبدء في القيام بذلك باستخدام جهاز التوجيه R0.  أقوم بإدخال أمر ضبط الساعة ثم ضبط الوقت الصحيح بالتنسيق hh: mm: ss.  بعد إدخال 22:05:00 ، يعطي النظام مطالبة بإدخال يوم الشهر من 1 إلى 31 واسم الشهر.  أقوم بطباعة 14 آذار (مارس) ويجب أن أدخل الآن السنة في النطاق من 1993 إلى 2035. ونتيجة لذلك ، أكتب في السطر 22:05:00 في 14 مارس 2017 ، وبعد ذلك أضغط على Enter.  إذا كتبت الآن show clock ، فسيقوم النظام بعرض الوقت الصحيح. <br><br><img src="https://habrastorage.org/webt/ph/ss/bv/phssbvazbjjs3rdpmqjyvpt2vvg.jpeg"><br><br>  قد تسأل عن سبب ضبط الوقت على جهاز التوجيه R0 وليس على جهاز R1.  هذا لأنني أريد أن أوضح لك إعداد الوقت التلقائي لجهاز التوجيه الثاني.  بعد ذلك ، أقوم بإدخال أوامر debug ip icmp وتسجيل 10.1.2.10 في إعدادات R0 بحيث يتم إرسال السجلات إلى خادم Syslog. <br><br>  ثم أقوم بتعطيل تصحيح جهاز التوجيه R1 باستخدام الأمر un all واختبار اتصال الجهاز 10.1.1.1.  نجاح Ping ، وإذا نظرت الآن إلى سجلات الخادم ، يمكنك أن ترى أن الرسائل الجديدة قد تمت إضافتها هنا ، ولكن لسبب ما مرة أخرى مع الوقت الخطأ وتاريخ الصفر.  هذا غريب ، لأن الوقت الصحيح يظهر أيضًا في إعدادات جهاز التوجيه R1.  أنا مرة أخرى بينغ R0 جهاز التوجيه من جهاز التوجيه R1 ، تظهر رسائل السجل على الشاشة وفي سجل الخادم ، ولكن مرة أخرى مع التاريخ الخطأ.  ربما لم يتم تحديث المعلومات بعد ، وسأحاول معرفة السبب. <br>  أذهب إلى إعدادات جهاز التوجيه R0 وأوقف تشغيل رسائل تصحيح الأخطاء باستخدام الأمر un all ، وبعد ذلك انتقل إلى إعدادات جهاز التوجيه R1 وأدخل الأمر timestamps الخاص بالخدمة ، والذي يضع طابعًا زمنيًا على رسائل التصحيح أو رسائل السجل.  في حالتنا ، يمكنني استخدام الطوابع الزمنية خدمة سجل مللي ثانية. <br><br>  ثم أعود إلى إعدادات R0 و ping R1.  الآن ترى أن الرسائل ظهرت على الخادم مع التاريخ والوقت: 1 مارس ، 00:31:02 ميلي ثانية.  لكن هذا هو التاريخ الخطأ ، حيث أنني لم أعين 1 مارس ، ولكن 14 مارس!  نعتذر عن ارتكاب أخطاء في هذا الفيديو التعليمي ، والآن سأصلحهم. <br><br>  سأحاول ضبط الوقت الصحيح بطريقة مختلفة.  الحقيقة هي أنه حتى يتم تنشيط خدمة ختم الوقت ، وصلت الرسائل مع الوقت والتاريخ الافتراضي.  ثم قمت بتشغيل خدمة الطوابع الزمنية ، لكن بعد ذلك لم أقوم بتكوين الوقت والتاريخ الصحيحين ، ولهذا السبب تبين أن الطابع الزمني في رسائل السجل غير صحيح. <br><br>  المشكلة في ضبط الوقت يدويًا هي أنه إذا كان لديك مئات الأجهزة ، فيجب عليك الدخول في إعدادات كل جهاز وضبط الوقت والتاريخ.  لتجنب ذلك ، هناك آلية NTP أوتوماتيكية ، أو بروتوكول وقت الشبكة ، والذي يقوم بمزامنة وقت الكمبيوتر مع وقت أجهزة الشبكة.  يمكنك تحديد جهاز شبكة واحد باعتباره NTP- ماستر وتعيين الوقت المطلوب.  دراسة هذا البروتوكول خارج نطاق دورة CCNA ، ولست متأكدًا من أن الأمر الرئيسي لـ ntp يدعمه Packet Tracer.  ولكن ما زلت أحاول ضبط الوقت الصحيح ، الذي سأضيف خادمًا آخر إلى شبكتنا وأعينه خادم NTP. <br><br>  للقيام بذلك ، سأذهب إلى إعداداته وتحقق من علامة التبويب NTP.  كما ترون ، يتم تعيين التاريخ والوقت الصحيحين هنا وتم تمكين وظيفة NTP. <br><br><img src="https://habrastorage.org/webt/nm/7e/49/nm7e499hdsmljca8zx-zvpvo6ac.jpeg"><br><br>  ثم أذهب إلى إعدادات شبكة Server1 وأعيّنها عنوان IP 10.1.3.10 وقناع شبكة فرعية من 255.255.255.0 وبوابة افتراضية قدرها 10.1.3.1.  كما ذكرت سابقًا ، لم يتم تكوين هذه البوابة ، لذلك أذهب إلى إعدادات جهاز التوجيه R1 وقم بتكوين واجهة g0 / 1 للتواصل مع الخادم عن طريق إصدار ip add 10.1.3.1 255.255.255.0 وأي أوامر إغلاق. <br><br>  بعد ذلك ، في إعدادات جهاز التوجيه ، أدخِل أمر خادم ntp server 10.1.3.10 ، وبعد ذلك سيكون جهاز التوجيه R1 قادرًا على تلقي الوقت الصحيح من خادم NTP.  كما ترون ، لدينا الآن رسائل سجل المستوى 5 مع الطابع الزمني الصحيح. <br><br><img src="https://habrastorage.org/webt/0v/qe/ek/0vqeekqk9j44hs8beajta_tukdo.jpeg"><br><br>    show clock, ,     .     ntp association,     ,      Packet Tracer,      ntp. <br><br><img src="https://habrastorage.org/webt/fq/y3/zi/fqy3zicegk9gizgj1i2cegdloz0.jpeg"><br><br>  ntp status    ,    .  ,    Stratum  2 –  ,      NTP-,    R2    ,     1.       ,       R1,    stratum   3 (NTP- + R1 +  ),   R1     NTP-    2.  ,       . <br><br>      R0    R1   10.1.1.2,    ,      Server0     ,  . <br><br><img src="https://habrastorage.org/webt/ie/db/ep/iedbepi6kkhhb_rhw2bvhnt1bew.jpeg"><br><br>   ,   NTP  Syslog.        – CDP,  Cisco Discovery Protocol.        . <br><br> ,      ,    ,      ,         .       Cisco,     ,   ,    IP-.  ,   LLDP,  Link Layer Discovery Protocol,      ,   CDP,            . <br><br>  CDP    Cisco  .      LLDP,        Cisco .          ,    LLDP,        Cisco,   CDP. <br><br>  ,    ,         Packet Tracer.   ,  ,  CDP     ,   Server0      R0. ,          ,    . <br><br>      CLI  R0    show cdp.  ,    cdp-  60 ,     180 ,     – CDPv2. <br><br><img src="https://habrastorage.org/webt/fw/g-/xw/fwg-xwk2qngn5xvhyw4trnn5iai.jpeg"><br><br>  CDP    ,       , ,    .        60 .     show cdp neighbors,    ,   R0       CDP-. <br><br><img src="https://habrastorage.org/webt/wc/wq/oo/wcwqooo-dx6ng2e9j60kbeiyyf8.jpeg"><br><br>    ,   R0    –  R1  .  R1   R    1900    R0   g0/0,    g0/0     R0. <br><br>  ,   show cdp neighbors    ,      , ,        .      ,            . <br><br>        R0 –    2960,        g0/1.       , ,   ,   ,         ,    Capability,        : R – , S – , H-   ..      R0   FastEthernet 0/1. <br><br>    , CDP    .   ,   ,     –  CDP   .   ,      ,     .     CDP?     config t         cdp run. ,     cdp    .   cdp    no cdp run.  ,    cdp,   show cdp –  ,        CDP is not enable. <br><br>   ,     cdp    ,     .  ,   ,     cdp  cdp run,      , , int g0/1,     cdp enable,     ,  no cdp enable,       .    no cdp enable  cdp       ,      . ,   / cdp      run,     –  enable. <br><br>      show cdp neighbors, ,         R0      –  R1.     cdp   g0/1,   «». <br><br>     LLDP      ,  CDP,  lldp run/no lldp run.  ,       Cisco  CDP ,  LLDP – .    LLDP   , , g0/1,           lldp receive,      ,  lldp transmit,     LLDP -. <br><br>         ,    no lldp receive,     – no lldp transmit.   CDP  LLDP   ,       ,    –  ,        LLDP -. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YHa-dXBfUrE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  شكرا لك على البقاء معنا.  هل تحب مقالاتنا؟  تريد أن ترى المزيد من المواد المثيرة للاهتمام؟       , <b>30%        entry-level ,      :</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">   VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps  $20     ?</a>  (تتوفر خيارات مع RAID1 و RAID10 ، ما يصل إلى 24 مركزًا وما يصل إلى 40 جيجابايت من ذاكرة DDR4). <br><br>  <b>ديل R730xd 2 مرات أرخص؟</b>  فقط لدينا <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">2 من Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6 جيجا هرتز 14 جيجا بايت 64 جيجا بايت DDR4 4 × 960 جيجا بايت SSD 1 جيجابت في الثانية 100 TV من 199 دولار</a> في هولندا!</b>  <b><b>Dell R420 - 2x E5-2430 سعة 2 جيجا هرتز 6 جيجا بايت 128 جيجا بايت ذاكرة DDR3 2x960GB SSD بسرعة 1 جيجابت في الثانية 100 تيرابايت - من 99 دولارًا!</b></b>  اقرأ عن <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">كيفية بناء البنية التحتية</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">فئة باستخدام خوادم V4 R730xd E5-2650d تكلف 9000 يورو عن بنس واحد؟</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar465977/">https://habr.com/ru/post/ar465977/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar465961/index.html">تعلم التسويق عبر الإنترنت بنفسك: أكثر من 50 دورات مجانية</a></li>
<li><a href="../ar465963/index.html">سيرة الرواتب في ألمانيا 2019</a></li>
<li><a href="../ar465969/index.html">صوابية سياسية تخترق روسيا من خلال كتب عن تصميم رقائق على SystemVerilog لغير المبتدئين</a></li>
<li><a href="../ar465973/index.html">10 تقارير الفيديو الأكثر شعبية من 404 مهرجان 2018</a></li>
<li><a href="../ar465975/index.html">دليل SQL: كيفية كتابة الاستعلامات بشكل أفضل (الجزء 2)</a></li>
<li><a href="../ar465979/index.html">تذكر أن كل ما تحتاج إليه هو ^ W. تجربة استخدام Anki. الجزء 1 (التمهيدية ، قبل الأخيرة)</a></li>
<li><a href="../ar465981/index.html">تجربة إدارة IBM DB2 Express-C عند استخدامها مع 1C: Enterprise</a></li>
<li><a href="../ar465983/index.html">بحيرة إنتل كوميت: 14 نانومتر في الجيل العاشر</a></li>
<li><a href="../ar465985/index.html">نحن نسرع ​​المعالجة الموزعة للرسوم البيانية الكبيرة باستخدام هياكل البيانات الاحتمالية وليس فقط</a></li>
<li><a href="../ar465987/index.html">الببغاء قد هبط. الإعلان عن كتاب "التعلم العميق التوليدي"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>