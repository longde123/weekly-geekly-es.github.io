<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸƒ ğŸ£ ğŸŒ "Apartemen" cerdas ğŸ‘³ ğŸš° ğŸ³ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Akhirnya, perombakan di apartemen telah berakhir, dan dalam hubungan ini saya ingin berbagi dengan Anda proyek Smart Apartment yang dii...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"Apartemen" cerdas</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/409179/">  Halo semuanya!  Akhirnya, perombakan di apartemen telah berakhir, dan dalam hubungan ini saya ingin berbagi dengan Anda proyek Smart Apartment yang diimplementasikan dengan kemampuan dasar mengendalikan pencahayaan, memanaskan pemanas di bawah lantai, mengontrol suhu dan kelembaban kamar, serta barang lainnya.  Bagian deskriptif akan dibuat dalam bentuk manual (lebih mudah untuk menyatakannya atau sesuatu). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c22/6aa/1e1/c226aa1e19859982e8a075181dd469e2.png" alt="gambar"><br><a name="habracut"></a><br><h3>  Peralatan </h3><br>  Mengingat kenyataan bahwa, pada prinsipnya, saya ingin merakit semua otomatisasi pada keputusan eksekutif dan perangkat kontrol yang siap pakai, namun keputusan bulat dibuat (dalam satu orang), untuk menggunakan daftar peralatan ini: <br><br>  Server Manajemen - Raspberry Pi 3 + OpenHAB 2 - 1pc (3000 gosok.) <br>  Pengontrol multifungsi - MegaD-2561 - 1pc (3480 gosok.) <br>  Unit eksekutif dengan 14 output relai - MegaD-14-R - 1pc (4480 rubel) <br>  Sensor suhu dan kelembaban DHT22 (AM2303) - 4 pcs (1960 gosok.) <br>  Sensor suhu 1-Wire DS18B20 tahan air - 2pcs (180 gosok.) <br>  Catu daya 12V DR-60-12 - 1pc (1420 gosok) <br>  Housing untuk sensor Dsen-Box - 4pcs (1000 rub.) <br>  Tablet untuk mengelola dan menampilkan parameter - sudah ada (3000-10000r.) <br>  Sebagian besar daftar dapat dibeli di ALI. <br><br><h3>  Pendahuluan </h3><br>  Salah satu prinsip dasar pengoperasian sistem otomasi adalah operasi tanpa gangguan dan redundansi fungsi.  Artinya, bahkan jika semua otomatisasi rendah saat ini terbakar ke neraka, kita seharusnya tidak kehilangan fungsi mengendalikan pencahayaan dan perangkat eksekutif penting lainnya.  Dengan demikian, solusi kontrol pencahayaan akan diimplementasikan pada apa yang disebut "sistem walk-through" yaitu.  sakelar (sakelar) di ruang akan dilewati, dan peran sakelar kedua (sakelar) akan dimainkan oleh relay di unit eksekutif MegaD-14-R.  Asalkan, tentu saja, bahwa gulungan itu sendiri tidak terbakar, kita tidak akan kehilangan fungsionalitas jika unit otomatisasi gagal.  Oleh karena itu, melalui semua switch Legrand Etika 2-pass dan 2-key dipasang di semua kamar (terlihat bagus dibandingkan dengan Valenoy). <br><br><h3>  Koneksi </h3><br>  Sensor suhu dan kelembaban DHT22 dipasang di dalam kotak Dsen-Box pada ketinggian sekitar 2 meter dari lantai di setiap kamar.  Jangan lupa bahwa apartemen dirombak dan semua kabel dengan hati-hati diletakkan dari perisai ke lokasi sensor dan perangkat. <br>  Kabel dipasang hampir di mana-mana oleh SFTP 4x2x0.5 terlindung.  Sensor suhu DS18B20 dipasang pada saat pemasangan pemanas di bawah lantai. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ff7/53d/d39/ff753dd391699bd917a45e082a7072de.jpg" alt="gambar"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/38e/822/1c1/38e8221c177f239b8c5db595ac01fe79.jpg" alt="gambar"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a3f/66f/295/a3f66f2954549b24e76074101e45e821.jpg" alt="gambar"><br><br>  Kami memasang perangkat MegaD di dasbor, pasangkan dengan kabel asli 34pin dan sambungkan ke jaringan Ethernet.  Kami pergi ke antarmuka web di 192.168.0.14/sec.  Di bagian "config", atur alamat yang diinginkan atau biarkan secara default, pastikan untuk menentukan alamat server Openhab (kami akan mencari tahu nanti ketika kami menyebarkan gambar Openhab pada raspberry atau menulisnya segera, dan mengubahnya di raspberry).  Kami menghubungkan semua sensor dan kabel dari switch sesuai dengan jalur yang sama. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/5ab/d1e/d77/5abd1ed77f8c992b17cab9071ba90a25.png" alt="gambar"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a9e/64e/488/a9e64e488c0197f9aaf996890cd4d8ae.png" alt="gambar"><br><br>  Dalam pengaturan port pada perangkat MegaD, atur jenisnya (OUT - jika ini adalah relay, IN atau Dsen - jika input sensor).  Jika Anda menunjukkan jenis yang benar pada port sensor yang terhubung, maka kami akan segera melihat bacaan saat ini. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/a9c/272/b5f/a9c272b5fba119ca9279ada08c68f2f0.jpg" alt="gambar"><br><br><h3>  Server </h3><br>  Kami mengumpulkan server.  Kasing raspberry terbuat dari catu daya yang gagal untuk pemasangan yang nyaman di rel din (tentu saja ada kasing khusus untuk ini, tetapi ini bukan tentang kita)))).  Jangan lupa menempel flash drive USB dan kabel Ethernet secara alami.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Agar</a> tidak tersiksa dengan instalasi, saya memutuskan untuk mengunduh gambar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OpenHabian yang telah</a> selesai - seluruh proses instalasi dan konfigurasi server dijelaskan secara rinci di sana dan bermuara pada penggelaran gambar ke flash drive, meluncurkan raspberry dan menunggu 15-45 menit.  (ya panjang) pada konfigurasi pertama.  OpenHab siap berangkat! <br><br>  Jika kami tidak ingin mengubah apa pun dalam konfigurasi server (cara membuka bagian pengaturan dijelaskan secara rinci di openhab.org), maka kami terhubung ke Openhabianpi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">openhabianpi</a> : 8080, pilih antarmuka grafis Paper UI dan mulai pahat semua yang Anda butuhkan. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/97c/a58/3de/97ca583de20bd40f86e8a67accef97c2.png" alt="gambar"><br><br><h3>  Kustomisasi </h3><br><h4>  Binding </h4><br>  Pertama, Anda perlu menghubungkan server OH (openhab) dan MegaD.  Integrasi peralatan di server, menggunakan protokol dan aturan yang ditentukan oleh peralatan, dilakukan dengan menggunakan file yang sudah jadi, yang disebut "Bindings".  Unduh pengikatan terbaru untuk peralatan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MegaD</a> .  Kami menjatuhkannya (Anda dapat menggunakan WinSCP) ke folder / srv / openhab2-addons di server, jadi kami akan melihat ini mengikat di UI Kertas "Bindings". <br><br>  Lebih jauh dalam "Kotak Masuk" kita membuat adaptor server Bridge MegaD Incoming, itu seperti jembatan virtual komunikasi antara server dan peralatan.  Kami menuliskan port yang diinginkan (alamat dan port server harus terdaftar di "Konfigurasi" perangkat MegaD itu sendiri). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/256/2bd/cda/2562bdcdafb8ae0bb36517ba783a7c3b.png" alt="gambar"><br><br><h4>  Hal-hal </h4><br>  Setelah membuat jembatan, kami, juga di bagian "Kotak Masuk", membuat "MegaD Binding Things".  "Hal" yang terpisah - ini adalah bagaimana perangkat fisik tertentu didefinisikan pada server, baik itu sensor atau relay, yang dengannya kita akan berinteraksi dengan bantuan jembatan yang dibuat.  Di dalamnya, kami secara khusus meresepkan alamat IP perangkat MegaD, kata sandi untuk akses dan port perangkat (ini adalah port input tempat sensor terhubung atau port output untuk kontrol perangkat). <br>  Untuk distribusi yang mudah berdasarkan lokasi, di bidang "Lokasi" menunjukkan di mana ada - aula, dapur ... Setelah membuat "Benda" ini, mereka akan muncul di "Konfigurasi / Benda".  Kami masuk ke "Hal" yang dibuat dan dengan mengklik pada jenis yang diinginkan (kami harus menentukannya di pengaturan port perangkat MegaD) kami melampirkannya ke "Item" membuat "Buat item baru" baru. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/2fe/f37/93a/2fef3793a758fbd82abcd65d15b4dc9e.png" alt="gambar"><br><br><h4>  Item </h4><br>  "Item" yang diambil secara terpisah - di server dan di antarmuka grafis, ini adalah elemen yang sama yang bertindak sebagai tombol kontrol atau data output dari sensor dan fitur lainnya. <br><br>  Kolom "Nama" harus berupa alfabet Latin yang berkelanjutan, tetapi "Label" dinamakan apa yang kita inginkan.  Dalam pengaturan "Item", Anda perlu menentukan jenisnya (jika itu adalah relay, lalu - SWITCH, jika sensor, lalu - NUMBER, dll. <br><br>  Jika kami ingin menggabungkan Item-s tertentu ke dalam grup (ini sebagian besar diperlukan untuk distribusi yang nyaman dan melihat dalam aplikasi seluler atau menggunakan antarmuka UI Dasar), maka dalam bidang "Grup" menunjukkan grup yang diinginkan, yang pertama-tama harus dibuat di bagian "Item" menentukan jenis "Grup".  Setelah manipulasi ini, kita akan melihat "Item" yang sangat dibuat di bagian "Control" dari Paper UI dan jika semuanya dilakukan dengan benar, maka ketika Anda mengklik "Item" yang dibuat dari tipe "Switch", perangkat yang terhubung (MegaD relay) akan mengklik. <br><br>  Kami melakukan tindakan serupa untuk semua sakelar dan sensor, menamainya dengan benar, dan mengaturnya. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/aa6/848/fc9/aa6848fc9fd154341a0abb8c4449958b.png" alt="gambar"><br><br><h4>  UI </h4><br>  Sekarang semua ini, tentu saja, bekerja dengan baik, tetapi tidak indah dan tidak nyaman. <br><br>  Kami mengambil tablet, pergi melalui browser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">openhabianpi</a> : 8080, pilih Habpanel GUI dan mulai menyesuaikan agar sesuai dengan kebutuhan Anda. <br><br>  Klik pada roda pengaturan di sudut kanan atas, klik pada "Pengaturan lanjutan" dan buat pengaturan yang diperlukan (tema, nama ...) di sisi kiri pengaturan, kemudian setelah membuat antarmuka selesai, Anda perlu menyimpannya "Simpan konfigurasi saat ini ke konfigurasi panel baru" . <br><br>  Kami kembali dari pengaturan, gunakan slider untuk memilih jumlah kolom ubin yang diperlukan dalam antarmuka dan klik "Tambahkan dasbor baru".  Dalam pengaturan ubin, tentukan skema warna dan ikon tampilan.  Dengan ubin ini, kami akan menentukan lokasi atau grup perangkat kami (misalnya, dalam kasus saya, ini adalah kamar). <br><br>  Selanjutnya, setelah membuat lokasi, pergi ke sana dengan mengklik ubin dan di atas, di sebelah nama ubin, klik pada pensil, kami akan mengatur ubin yang dibuat dalam sistem "Item".  Di sudut kanan atas, klik "Tambahkan widget baru".  Pilih jenis ubin yang Anda inginkan (ketika Anda mengarahkan kursor ke atas kursor, akan muncul pertanyaan) "Beralih" jika itu adalah saklar, "Dummy" jika itu adalah sensor ... dll.  Dalam pengaturan ubin yang dibuat kami mengikatnya ke sistem "Item" yang ada dan menyesuaikan tampilan - ikon, warna, ukuran ... Setelah membuat semua ubin "item" yang diperlukan, klik "Jalankan" di sudut kiri, sehingga menyimpan pengaturan dan memulai mode tampilan.  Inilah cara kami membuat antarmuka Habpanel untuk diri kami sendiri.  Setelah mengonfigurasi, jika dilakukan di Chrome, sangat nyaman untuk menambahkan halaman Habpanel ke desktop tablet dari pengaturan browser. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e16/2fd/91c/e162fd91ccb215acfcc4fb177af1ec58.png" alt="gambar"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/6c0/056/59b/6c005659be274c302458e186dbdfd1c3.png" alt="gambar"><br><br><h4>  Aturan </h4><br>  Aturan (aturan) - aturan (skrip) yang sama untuk menerapkan logika fungsi satu perangkat atau interaksi antara beberapa. <br><br>  Kami menyadari kontrol otomatis tudung di kamar mandi. <br><br>  Untuk melakukan ini, kita harus membuat "Item" virtual dari jenis "Number" di sistem di mana kita akan mencatat nilai-nilai tingkat kelembaban yang kita butuhkan.  "Item" lain dari tipe "Switch" untuk memicu kontrol kelembaban otomatis.  Nah, sebenarnya aturan itu sendiri, yang akan memproses nilai kelembaban yang diperoleh dari sensor di kamar mandi, periksa dengan nilai yang ditentukan dari pengaturan kami dan kontrol kap. <br><br>  Untuk membuat aturan, kita perlu membuat file dengan ekstensi .rules dengan konten javascript di folder di server / etc / openhab2 / rules.  Berikut adalah contoh kontennya: <br><br><div class="spoiler">  <b class="spoiler_title">Auto_air.rules</b> <div class="spoiler_text">  aturan "Auto_air" <br>  kapan <br>  Item Hum_H_T_sens menerima pembaruan <br>  lalu <br>  jika <br>  (Hum_H_T_sens.state&gt; Set_hum.state &amp;&amp; Air_H_T_switch.state == OFF &amp;&amp; Set_auto_air.state == ON) { <br>  Air_H_T_switch.sendCommand (ON) <br>  } <br>  lain <br>  jika <br>  (Hum_H_T_sens.state &lt;Set_hum.state &amp;&amp; Air_H_T_switch.state == ON &amp;&amp; Set_auto_air.state == ON) { <br>  Air_H_T_switch.sendCommand (OFF) <br>  } <br>  akhir <br></div></div><br>  Sebenarnya, Anda perlu menampilkan "Item-s" yang dibuat pada layar dasbor di Habpanel.  Untuk pengaturan "Item" dari tingkat kelembaban, terapkan jenis "Slider". <br><br><h4>  Bagan </h4><br>  Fitur bagus lain dari sistem ini adalah pengumpulan statistik data ke dalam basis data dan ditampilkan dalam grafik. <br><br>  Buat gambar!  Pertama, Anda perlu mengkonfigurasi database. <br><br>  Secara default, OpenHab menawarkan kerja dengan basis data Rrd4j, tapi saya tidak bisa mengkonfigurasinya secara normal.  Karena itu, saya mulai menggunakan MySQL (entah bagaimana lebih akrab). <br><br>  Untuk bekerja dengan database, Anda harus menginstal add-on di sistem.  Di tab "Addons" dari Paper UI, di bagian "Persistence", pilih MySQL Persistence (instal). <br><br>  Basis yang kami buat sekarang mengkonfigurasi. <br><br>  Untuk melakukan ini, kita harus membuat file (jika tidak ada) di folder di server: /etc/openhab2/persistence/mysql.persist, di mana kita harus menentukan strategi pengumpulan data (seperti jam, harian, mingguan ...) dan tentukan "Item" yang mana â€Dengan referensi strategi mana yang akan disimpan.  Sebagai contoh, ini isinya: <br><br><div class="spoiler">  <b class="spoiler_title">mysql.persist</b> <div class="spoiler_text">  // strategi kegigihan memiliki nama dan definisi dan disebut di bagian â€œItemâ€ <br>  Strategi { <br>  // jika tidak ada strategi yang ditentukan untuk item di bawah ini, daftar default akan digunakan <br>  everyMinute: "0 * * * *?" <br>  every5Minutes: "0 * / 5 * * *?" <br>  everyHour: "0 0 * * *?" <br>  everyDay: "0 0 0 * *?" <br>  default = everyChange <br>  } <br><br>  / * <br>  * Setiap baris dalam bagian ini ditentukan untuk barang mana, di mana strategi (IEs) harus diterapkan. <br>  * Anda dapat mendaftar item tunggal, gunakan "*" untuk semua item atau "groupitem *" untuk semua anggota grup <br>  * item (tidak termasuk item grup itu sendiri). <br>  * / <br><br>  Barang { <br>  // simpan semua elemen sekali sehari dan kembalikan dari database saat startup dengan setiap perubahan <br>  // *: strategy = everyChange, everyDay, restoreOnStartup <br><br>  // Selain itu, semua nilai suhu dan cuaca disimpan setiap jam <br>  Weather_Temperature, Temp_H_LR_sens, Temp_H_BR_sens, Temp_H_T_sens, Temp_H_KT_sens, TP_H_H_sens, TP_H_KT_sens, Weather_Humidity, Hum_H_LR_sens, Hum_H_BR_sens, Hum_H_T_sens, Hum_H_KT_sens: strategi = everyminute, RestoreOnStartup <br>  } <br></div></div><br>  Setelah membuat file, sistem sudah akan mulai mengumpulkan data.  Kita perlu mengkonfigurasi dashboard Habpanel untuk menampilkan grafik. <br><br>  Kami kembali ke Habpanel GUI, pergi ke lokasi yang diinginkan dan menambahkan widget baru dengan memilih tipe "Charts".  Sebut seperti yang kita inginkan, "Ketik" pilih "n3-line-chart (interaktif)", "Penyedia layanan" - mysql, "Periode" - periode tampilan hari (D).  Pada tab "Seri" - kita lampirkan "Item" yang kita butuhkan.  Dan voila!  kami mendapatkan jadwal yang indah! <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/134/534/ee0/134534ee0ae6072ef65782ccf9dac91d.png" alt="gambar"><br><br>  Nah, inisiatif murni kemudian - kita memasang tablet di dinding!  O_o, untuk ini saya mengambil dua kartu magnetik dengan format em-marin (yang sangat tipis) dan merekatkan dua magnet neodymium di tepi kartu (Uhu).  Kami memasang platform semacam itu dengan magnet pada pita dua sisi (baik tipis) di bagian belakang tablet dan di dinding.  Ngomong-ngomong, sebelumnya di dalam soket, catu daya MeanWell 5V dipasang, dengan kabel microUSB.  Tablet di dinding! <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/63b/726/00a/63b72600a8bd3f3299e5cc808f635ec2.jpg" alt="gambar"><br><br>  Saya minta maaf atas kekhasan presentasi materi (saya belum pernah menulis yang seperti ini sebelumnya).  Jika postingan itu setidaknya sama populernya, berikut ini, saya akan menjelaskan fitur pengaturan aplikasi seluler.  Saya harap ini berguna.  Semua rumah pintar))) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id409179/">https://habr.com/ru/post/id409179/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id409165/index.html">Teori permainan, rewel mouse dan ban kempes</a></li>
<li><a href="../id409167/index.html">Tidak demikian! 5 kesalahpahaman utama tentang overclocking "besi"</a></li>
<li><a href="../id409169/index.html">Cara membaca makeup</a></li>
<li><a href="../id409171/index.html">Cara merakit pengumpan kucing pintar</a></li>
<li><a href="../id409173/index.html">AI untuk penggunaan pribadi: membantu dengan pendidikan, pekerjaan, dan perencanaan</a></li>
<li><a href="../id409181/index.html">Toyota akan membuat mobil listrik bersama dengan mobil "hidrogen"</a></li>
<li><a href="../id409183/index.html">Nvidia berhenti mendukung semua driver 32-bit</a></li>
<li><a href="../id409185/index.html">Satoshi Nakamoto adalah di antara 50 orang terkaya di dunia</a></li>
<li><a href="../id409187/index.html">Kanker: Mitos dan Kesalahpahaman</a></li>
<li><a href="../id409189/index.html">Mengapa Anda tidak dapat membandingkan amplifier headphone dari posisi volume dengan kekuatannya?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>