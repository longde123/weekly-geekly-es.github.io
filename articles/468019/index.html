<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè® üë®üèæ‚Äçüé§ ü§¢ Desarrollo de sitios web en WebAssembly usando NetCore 3 y Blazor üõ©Ô∏è üöñ ü§£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mi opini√≥n es que WebAssembly es el futuro de Internet. Actualmente, esta tecnolog√≠a ya est√° integrada en la mayor√≠a de los navegadores modernos (o m√°...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desarrollo de sitios web en WebAssembly usando NetCore 3 y Blazor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468019/"><p>  Mi opini√≥n es que WebAssembly es el futuro de Internet.  Actualmente, esta tecnolog√≠a ya est√° integrada en la mayor√≠a de los navegadores modernos (o m√°s bien en sus motores) en PC y dispositivos m√≥viles.  En navegadores como Chrome, Edge, Firefox y WebKit. </p><br><p>  En este art√≠culo, describir√© c√≥mo comenzar a desarrollar un sitio WebAssembly en Visual Studio.  Este art√≠culo es adecuado para quienes deseen comprender c√≥mo comenzar a desarrollar aplicaciones SPA sin usar JavaScript, conociendo solo el dise√±o asp.net mvc, c #, html y css. </p><br><p>  En el momento del lanzamiento de este art√≠culo, el framework NetCore 3 est√° en la etapa RC1, y Blazor tiene la versi√≥n 3.0.0-preview9.19457.4.  El lanzamiento de NetCore 3 est√° programado para septiembre de 2019. En cuanto a Blazor, su lanzamiento se promete m√°s adelante en noviembre de 2019, muy probablemente despu√©s del lanzamiento de NetCore 3.1 </p><br>  Tabla de contenido: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">I instalaci√≥n</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">II Crear un proyecto de WebAssembly a partir de una plantilla</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">III Estructura de la decisi√≥n.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IV Inicio y depuraci√≥n de WebAssembly blazor</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tama√±os de archivo V y enlazador</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VI Publishing y LazyLoading, bibliotecas de elementos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VII Conclusiones</a> </li></ul><a name="habracut"></a><br><a name="oglI"></a><h3>  I Instalaci√≥n (aseg√∫rese de poner la versi√≥n actual, despu√©s del lanzamiento m√°s probable de noviembre de 2019) </h3><br><ol><li>  Vista previa de Visual Studio: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">visualstudio.microsoft.com/en/vs/preview</a> </li><li>  Plantilla <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Blazor</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">devblogs.microsoft.com/aspnet/asp-net-core-and-blazor-updates-in-net-core-3-0-release-candidate-1</a> </li></ol><br><a name="oglII"></a><h3>  II Crear un proyecto de WebAssembly a partir de una plantilla </h3><br><ol><li>  Abrir VS vista previa 16.3 vista previa 4 <br><br><img src="https://habrastorage.org/webt/zy/ea/da/zyeada5frockoxc1nfxz2fxn2rm.png"></li><li>  Crea un nuevo proyecto.  Seleccione la plantilla de aplicaci√≥n Blazor y especifique el tipo de WebAssembly. <br><br><div class="spoiler">  <b class="spoiler_title">El proceso de crear en im√°genes.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/6o/ny/oq/6onyoqxrrm-cbe4fqcdidvguhh0.png"><br><img src="https://habrastorage.org/webt/hb/pc/rr/hbpcrrposqt1gmm9x6wgw42alyk.png"><br><img src="https://habrastorage.org/webt/hb/pc/rr/hbpcrrposqt1gmm9x6wgw42alyk.png"><br><img src="https://habrastorage.org/webt/in/hl/_j/inhl_jxtbbta8somuwom1kk1qoa.png"><br><img src="https://habrastorage.org/webt/xz/p8/iv/xzp8ivoqbf7pc5mw9-onetxug6u.png"><br></div></div><br></li></ol><br><a name="oglIII"></a><h3>  III Estructura de la decisi√≥n. </h3><br>  Como puede ver, la soluci√≥n predeterminada consta de 3 proyectos: <br><ul><li>  Este es un proyecto de cliente que contiene archivos html, css, im√°genes, etc.  Todo lo que cargar√° el cliente (frontend).  El proyecto del Cliente tambi√©n contiene c√≥digo para crear el paquete WebAssemly. </li><li>  El servidor en este proyecto contiene el c√≥digo de servicios a los que el cliente accede para obtener informaci√≥n (backend).  El ejemplo implementa informaci√≥n meteorol√≥gica. </li><li>  Shared se usa para almacenar modelos de datos comunes para los dos primeros proyectos. <br><br><img src="https://habrastorage.org/webt/wi/jl/s-/wijls-uboslzmnursyj31u_yqpa.png"></li></ul><br><a name="oglIV"></a><h3>  IV Inicio y depuraci√≥n de WebAssembly blazor </h3><br><ol><li>  Establecer dos puntos de interrupci√≥n.  Uno en el c√≥digo de aplicaci√≥n del cliente, el segundo en el c√≥digo del servidor del servicio.  Puede notar de inmediato que el evento del bot√≥n onclick llama al c√≥digo C #, no a JavaScript.  No hay nada inusual en el c√≥digo del servidor del servicio. <br><br><img src="https://habrastorage.org/webt/2x/-2/q3/2x-2q3tixt3refgybkycbhwabl0.png"></li><li>  Ejecute la soluci√≥n en modo de compilaci√≥n de depuraci√≥n.  Despu√©s de un ensamblaje exitoso, el navegador se abrir√° y el sitio web basado en el ensamblaje web se cargar√° <br><br><img src="https://habrastorage.org/webt/kf/vd/eu/kfvdeusttt7reb9ryzdpkxvms2k.png"></li><li>  Intentemos ir a la secci√≥n "Obtener datos".  Esta secci√≥n contiene el c√≥digo que realiza la solicitud al backend.  Tan pronto como intentemos ir a esta secci√≥n, el punto de interrupci√≥n predefinido en el controlador de servicio funcionar√° inmediatamente.  El comportamiento es est√°ndar, nada nuevo.  Continuar la ejecuci√≥n del c√≥digo <br><br><img src="https://habrastorage.org/webt/ye/ie/dw/yeiedwxd0l-map3zajxeuduszc8.png"></li><li>  Ahora pasemos a la secci√≥n "Contador".  Aqu√≠ se implementa el c√≥digo que se ejecuta completamente en el cliente.  Al hacer clic en el bot√≥n "haga clic en m√≠", obtenemos un resultado inesperado.  El c√≥digo funcionar√° (agregando al conteo actual 1), pero el punto de interrupci√≥n establecido en el c√≥digo no funcionar√°. <br><br><img src="https://habrastorage.org/webt/ds/ne/wn/dsnewnzfblc31qxqocrph9n1cfw.png"></li><li>  El hecho es que la depuraci√≥n de una aplicaci√≥n cliente basada en webassembly ocurre en el navegador.  Al igual que la depuraci√≥n de JavaScript.  Para hacer esto, presione shift + alt + D en la ventana con el sitio en ejecuci√≥n.  Pero hay varias condiciones. <br>  El navegador debe tener una conexi√≥n directa con el estudio visual en ejecuci√≥n.  Para hacer esto, Chrome debe estar ejecut√°ndose en modo de depuraci√≥n con acceso a la API del navegador a trav√©s de un puerto espec√≠fico. <br>  Copie la l√≠nea sugerida para iniciar el navegador.  Cierra todas las ventanas del navegador.  Y ejecute la l√≠nea copiada previamente. <br><br><img src="https://habrastorage.org/webt/5v/i2/fz/5vi2fzdpim51bwwk8fjxmuys7vy.png"></li><li>  Reinicie la depuraci√≥n.  Si intenta depurar una aplicaci√≥n cliente abierta en Chrome varias veces, recibir√° un mensaje de error.  Deje solo una pesta√±a abierta con el sitio y solo una pesta√±a de depuraci√≥n. <br><br><img src="https://habrastorage.org/webt/op/mb/kq/opmbkqbrr1jstaal05jqhk0t6s4.png"></li><li>  En la pesta√±a de depuraci√≥n, en la estructura de archivos ver√° los archivos ubicados en su disco.  Donde se encuentra el c√≥digo fuente.  Ahora, yendo al archivo "Counter.razor" podemos establecer un punto de interrupci√≥n en el procedimiento llamado en el evento onclick.  Cuando haga clic en el bot√≥n "Haga clic en m√≠", un punto de interrupci√≥n funcionar√°, tendremos acceso a la pila de llamadas y veremos los valores de las variables <br><br><img src="https://habrastorage.org/webt/w1/yh/7s/w1yh7sns_ers3sfdyn0ckdhx_sa.png"></li></ol><br><a name="oglV"></a><h3>  Tama√±os de archivo V y enlazador </h3><br><ol><li>  Como vemos en el ejemplo, los tama√±os de los datos descargados del sitio son bastante peque√±os 2.4MB (despu√©s de desempacar en el cliente 5.4MB).  Cuando el sitio se carga por primera vez, las DLL necesarias se cargan para que el sitio funcione (un ejemplo es c√≥mo cargar bibliotecas JS), luego no se vuelven a cargar, sino que se usan desde la memoria cach√© del navegador. <br><br><img src="https://habrastorage.org/webt/0e/yc/om/0eycomyjeq7l814dt-k5swpyeba.png"></li><li>  Tambi√©n debe prestar atenci√≥n al hecho de que se utiliza el enlazador.  Esto le permite reducir el tama√±o de los archivos dll resultantes, es decir, las funciones de c√≥digo no utilizadas se cortan autom√°ticamente de los archivos. <br><br>  Por ejemplo, System.Text.Json.dll de 288 KB se convirti√≥ en 114 KB, y System.Memory.dll de 146 KB se convirti√≥ en 58.5 KB.  Esto se garantiza mediante el trabajo del vinculador y tambi√©n mediante la compresi√≥n de los archivos transferidos. <br><br>  Adem√°s, este proceso se puede configurar manualmente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">docs.microsoft.com/ru-ru/aspnet/core/host-and-deploy/blazor/configure-linker?view=aspnetcore-3.0</a> <br><br><img src="https://habrastorage.org/webt/g6/xc/w1/g6xcw1faucuofdm5zevusiizjwo.png"></li></ol><br><a name="oglVI"></a><h3>  VI Publishing y LazyLoading, bibliotecas de elementos </h3><br><ol><li>  Publique un sitio basado en ensamblaje web a trav√©s de motores IIS o ASP.NET Core.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">M√°s detalles aqu√≠</a> . </li><li>  Aunque la tecnolog√≠a WebAssembly en s√≠ misma le permite descargar archivos wasm seg√∫n lo solicitado por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">developers.google.com/web/updates/2018/04/loading-wasm</a> . <br>  Actualmente, blazor no tiene la capacidad de cargar dlls (componentes wasm) dependiendo de las necesidades de una p√°gina en particular.  Es decir, todos los componentes se descargar√°n la primera vez que acceda al sitio. <br><br>  La recomendaci√≥n es una: "No utilice bibliotecas complejas para implementar una funci√≥n simple que escriba en tres l√≠neas de c√≥digo".  No herede m√°s de 100 MB dll en la aplicaci√≥n cliente por el simple hecho de la posibilidad de una implementaci√≥n simple de registro (renuencia a escribir 5 l√≠neas de c√≥digo usted mismo). <br><br>  La buena noticia es que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">prometen implementar</a> una carga modular <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el n√∫cleo 3.1</a> </li><li>  Si desea utilizar componentes ya preparados para la implementaci√≥n de sitios, entonces colecciones de compa√±√≠as conocidas como telerik, devexpress o, por ejemplo, el paquete gratuito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.matblazor.com</a> ya han llegado para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">blazor</a> </li></ol><br><a name="oglVII"></a><h3>  VII Conclusiones </h3><br><ul><li>  La tecnolog√≠a Weassambly en este momento ya se puede utilizar completamente en el desarrollo de sitios web. </li><li>  Para trabajar c√≥modamente con blazor en proyectos de Internet, se requiere LazyLoading.  Qu√© promesa agregar en un futuro cercano </li><li>  Si el proyecto es intranet, ser√° bienvenido el uso de blazor en nuevos desarrollos.  No vale la pena discutir en este sentido que las PC finales en la red interna pueden tener un acceso lento, esto se puede resolver utilizando el cliente ligero RDP. </li><li>  ASP.NET Core 3 + blazor es donde debe desarrollarse el desarrollador de C # </li><li>  Creo que esta tecnolog√≠a conducir√° a un rechazo completo de JavaScript en el futuro, pero esta es mi opini√≥n personal. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/468019/">https://habr.com/ru/post/468019/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../468009/index.html">Vulnerabilidades de los sistemas ERP de objetos KII</a></li>
<li><a href="../468011/index.html">La historia de un robot hipot√©tico.</a></li>
<li><a href="../468013/index.html">Una forma f√°cil y segura de automatizar las implementaciones canarias con Helm</a></li>
<li><a href="../468015/index.html">Lo que se sabe sobre ITIL 4 en este momento y qui√©n ya est√° usando la nueva biblioteca</a></li>
<li><a href="../468017/index.html">The Maybe Monad a trav√©s de async / wait en C # (¬°sin Task ov!)</a></li>
<li><a href="../468021/index.html">PHP, ¬øcu√°nta abstracci√≥n para la gente?</a></li>
<li><a href="../468023/index.html">Inteligencia artificial en el juego de lucha Shadow Fight 3</a></li>
<li><a href="../468025/index.html">¬øC√≥mo configurar SNI en Zimbra OSE?</a></li>
<li><a href="../468027/index.html">M√©todos de optimizaci√≥n de c√≥digo para Redd. Parte 2: memoria no almacenable en cach√© y operaci√≥n de bus paralelo</a></li>
<li><a href="../468031/index.html">Llevamos un juego multijugador de C ++ a la web con Cheerp, WebRTC y Firebase</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>