<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äç‚úàÔ∏è ‚ò¶Ô∏è üç∏ Arquitetura e programa√ß√£o Fairchild Channel F üë®üèª‚Äçüé® üë©üèª üöé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""O homebrew do Canal F seria como programar sprites atrav√©s de jumpers de hardware ..." 
 / chadtower, f√≥rum de atariada / 



 O console do jogo Fair...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arquitetura e programa√ß√£o Fairchild Channel F</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467811/">  <i>"O homebrew do Canal F seria como programar sprites atrav√©s de jumpers de hardware ..."</i> <i><br></i>  <i>/ chadtower, f√≥rum de atariada /</i> <br><br><img src="https://habrastorage.org/webt/o6/vk/fx/o6vkfxmjtwb1atq-tuv08b9smxg.jpeg"><br><br>  O console do jogo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fairchild Channel F</a> , tamb√©m conhecido como VES, apareceu em novembro de 1976.  Ao contr√°rio de seus antecessores, como o pingue-pongue, o t√™nis (na mesma linha - o "Video Sports" sovi√©tico)), tinha uma diferen√ßa muito significativa - a presen√ßa de um microprocessador e cartuchos com programas.  Antes disso, os jogos nos consoles eram implementados com l√≥gica estrita - o programa, no sentido moderno, estava ausente l√°. <br><br>  O canal Fairchild F foi lan√ßado at√© 1983.  Durante esse per√≠odo, mais de um quarto de milh√£o desses consoles foram vendidos e cerca de 30 a 40 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jogos foram lan√ßados</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">alguns</a> dos quais j√° estavam nos anos 2000. <br><br>  Falando sobre a superioridade em termos de uso de um microprocessador, vale a pena notar que o RCA Studio II, sobre o qual falei em um artigo anterior, estava apenas alguns meses atrasado, mas acabou sendo significativamente mais fraco que o Canal F, raz√£o pela qual falhou nas vendas.  No entanto, a apari√ß√£o, menos de um ano depois, Atari VCS - e substituiu o Canal F. do mercado. <br><br>  O desenvolvimento de Fairchild_Channel_F, como tal, n√£o foi.  No Sistema II e em v√°rios clones, como Saba Videoplay 2 (1979), as diferen√ßas estavam principalmente no corpo, nos joysticks (a prop√≥sito, todos entendiam, exceto nas posi√ß√µes habituais, na rota√ß√£o do bot√£o) e no n√∫mero de chips.  Arquitetonicamente, tudo era quase id√™ntico. <br><br>  O que √© o canal F? <br><a name="habracut"></a><br><h1>  CPU </h1><br>  O processador, nas tradi√ß√µes da √©poca, foi produzido pela mesma empresa Fairchild que o pr√≥prio console e √© chamado F8 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">en.wikipedia.org/wiki/Fairchild_F8</a> .  Este √© um processador de 8 bits de 1974, operando a uma frequ√™ncia de 1,8 MHz (uma instru√ß√£o leva de 1 a 6 ciclos de clock). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hj/5n/6k/hj5n6kqky_84xnkbm3v7vdry-we.jpeg"></div><br><br>  No entanto, ele pode ser chamado de microprocessador apenas com uma extens√£o, pois esse processador consiste em dois chips - um dispositivo de computa√ß√£o 3850CPU contendo ALU, uma bateria, 64 bytes de SRAM, a l√≥gica necess√°ria para executar instru√ß√µes, duas portas (n√£o h√° barramento de endere√ßo!) E 3851PSU (Program√°vel Storage Unit), que cont√©m 1kb de ROM (usado para BIOS), um ponteiro de instru√ß√£o, esquemas de endere√ßamento de mem√≥ria, interrup√ß√µes, um timer (as interrup√ß√µes e um timer n√£o s√£o usados ‚Äã‚Äãespecificamente no Canal F). <br><br>  Mais tarde, apareceu o chip F3859, que combinava a CPU e a PSU no mesmo chip e o Mostek 3870 - uma vers√£o ligeiramente melhorada, lan√ßada at√© a d√©cada de 1990.  No entanto, essa √© outra hist√≥ria.  Curiosamente, √†s vezes o F8 √© chamado de microcontrolador (em particular, devido √† presen√ßa de um timer e portas) e √© referido como o ancestral da fam√≠lia Intel MCS-48 (8048). <br><br>  Al√©m do Canal F, o processador F8 tamb√©m foi usado no computador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VideoBrain</a> e no computador de xadrez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CompuChess</a> .  Em geral, √© surpreendente que haja muito pouca informa√ß√£o sobre esse processador.  Com exce√ß√£o de algumas descri√ß√µes de Fairchild e o c√≥digo fonte de v√°rios jogos e exemplos especificamente para o Canal F, n√£o h√° mais nada.  Parece que este processador n√£o foi usado em nenhum outro lugar, o que parece incr√≠vel (dado que suas vers√µes avan√ßadas foram lan√ßadas h√° algum tempo).  Assumirei que todos os outros dispositivos em que foi usado foram para fins militares. <br><br>  Agora um pouco sobre os recursos do processador.  Reflita sobre o conjunto e as fun√ß√µes de seus registros.  Eu acho que essa √© uma das arquiteturas mais confusas que existiam na √©poca (as modernas podem provavelmente se estender, mas a compara√ß√£o ser√° incorreta, porque elas foram projetadas para compiladores. As pessoas vivas trabalhavam com o F8). <br><br>  Existem muitos registros no processador.  Al√©m da bateria de 8 bits A e do registro de bandeira W (I, O, Z, C, S), tamb√©m h√° um "bloco de notas" - 64 c√©lulas de oito bits com v√°rias fun√ß√µes. <br><br>  As nove primeiras c√©lulas s√£o usadas como registradores de uso geral R0-R8 em comandos como 'lr a, 7 "(carrega o conte√∫do do registro R7 na bateria). Observe que a letra R n√£o √© indicada - apenas o n√∫mero do registro √© escrito. O que exatamente se quer dizer, o n√∫mero ou o n√∫mero deve estar claro a partir do contexto. Digamos, no caso da instru√ß√£o lr, simplesmente n√£o pode haver n√∫meros. E se, por exemplo, "li 7" (carrega uma constante na bateria), ent√£o √© exatamente um n√∫mero, n√£o um registro. <br><br>  As c√©lulas 9, 10-11 (H), 12-13 (K), 14-15 (Q) s√£o projetadas para salvar outros registros em diferentes situa√ß√µes, como chamar subprogramas. <br><br>  Os registradores R16-R63 s√£o acess√≠veis apenas por meio de um registro de √≠ndice ISAR especial (registro indireto de endere√ßos do Scratchpad), como seis buffers de oito bytes formados a partir das c√©lulas 16-23, 24-31, 32-39, 40-47, 48-55, 56-63 . <br><br>  O ISAR de seis bits √© dividido em duas partes de 3 bits.  Ao aumentar ou diminuir o ISAR em um, apenas os 3 bits inferiores s√£o afetados - ou seja,  o endere√ßamento √© realizado dentro de um dos seis buffers de oito bytes mencionados (ao mesmo tempo, o final do buffer pode ser rastreado pelas instru√ß√µes especiais de ramifica√ß√£o condicional br7). <br><br><pre><code class="plaintext hljs">clr ; 0 -&gt; A ; set ISAR to full address Ox27 (octal 27) lisu 2 ; buffer N2 lisl 7 ; index within buffer N2 loop: lr d,a ; A-&gt; buffer N2[index], than decrement ISAR (27, 26, 25, ... ) br7 loop ; go further if low part of ISAR contains 7 (end of buffer N2). if not, go loop again</code> </pre> <br>  Nesse caso, ‚Äúd‚Äù na instru√ß√£o ‚Äúlr d, a‚Äù n√£o √© o nome do registro, mas um sinal de que o ISAR precisar√° ser reduzido (‚Äúi‚Äù - aumente, ‚Äús‚Äù - deixe inalterado). <br><br>  Existe outra maneira de endere√ßamento indireto - atrav√©s do registro DC0 (contador de dados): <br><br><pre> <code class="plaintext hljs"> dci data_addr ; data_addr -&gt; DC0 lm ; [data_addr] -&gt; A, DC0 + 1 -&gt; DC0 ... data_addr: db 0,1,2,3,...</code> </pre><br>  Se voc√™ precisar transferir dados de uma √°rea de mem√≥ria para outra, o comando xdc √© usado adicionalmente, que troca o conte√∫do dos registradores DC0 e DC1.  I.e.  lemos a partir do endere√ßo apontado por DC0, depois fazemos xdc e escrevemos no endere√ßo que o DC1 agora aponta.  Ent√£o, novamente xdc, etc.  I.e.  DC1 √© um tipo de registrador sombra para armazenar uma c√≥pia do DC0.  Acess√°-lo diretamente (exceto o comando xdc) √© imposs√≠vel. <br><br>  Os exemplos acima ilustram apenas parte das possibilidades em termos de abordagem; de fato, existem mais. <br><br>  Tamb√©m no F8 existem quatro portas - 0,1,4,5, nas quais voc√™ pode escrever com o comando out e ler com o comando in.  No Canal F, as portas s√£o usadas para gerar gr√°ficos, sons e ler o status do joystick. <br><br>  N√£o vou me debru√ßar sobre outras instru√ß√µes, como aritm√©tica, transi√ß√µes etc. - elas s√£o razoavelmente padr√£o.  Observo apenas que a escolha de registradores sobre os quais voc√™ pode executar a√ß√µes √© muito limitada; portanto, o c√≥digo cresce rapidamente devido √† necessidade de mover valores constantemente para frente e para tr√°s. <br><br>  N√£o h√° subtra√ß√£o (h√° apenas adi√ß√£o).  As instru√ß√µes de decremento (ds) e incremento (inc) por unidade s√£o assim√©tricas.  ds funciona apenas com os registradores r0-r8, inc - apenas com a bateria. <br><br>  O salto incondicional estraga a bateria. <br><br>  Um exemplo de um loop regular: <br><br><pre> <code class="plaintext hljs"> li 25 ; (r4) number of iterations lr 4,a next: ds 4 ; r4-- bnz next ; until r4 == 0</code> </pre><br><h1>  Rotinas </h1><br>  Como o F8 n√£o possui uma pilha de hardware, h√° dificuldades com as chamadas de subprograma aninhadas.  Uma chamada e retorno normais s√£o assim: <br><br><pre> <code class="plaintext hljs"> ; ...code pi sub ; Pushes address of next instruction to PC1 ; address of sub is stored in PC0 (jump to subroutine) ; ...code continues sub: ; ... often used code pop ; Move return address from PC1 to PC0</code> </pre><br>  Aqui PC0 √© um ponteiro de instru√ß√£o regular.  PC1 - o chamado "registro de pilha".  N√£o tem nada a ver com a pilha, apenas PC0 √© salvo quando a sub-rotina √© chamada. <br><br>  Se outra sub-rotina √© chamada de sub, o endere√ßo de retorno √© substitu√≠do e precisa ser complicado (salve o primeiro endere√ßo de retorno no registro K): <br><br><pre> <code class="plaintext hljs"> prog: ; ...do something... pi sub1 ; Address of next instruction stored in PC1 ; sub1 is stored in PC0 (jump to subroutine) ; ...do more... sub1: lr k,p ; Copy PC1 to K, original jump address to K ; ...do something... pi sub2 ; Pushes address of next instruction to PC1 ; sub1 is stored in PC0 (jump to subroutine) ; ...do more... pk ; Store address of next instruction in PC1 ; Copy value in K to PC0 (jump back to main) sub2: ; ...do something... pop ; Move return address from PC1 to PC0</code> </pre><br>  Se voc√™ tamb√©m precisar de um terceiro n√≠vel de aninhamento, tudo ficar√° completamente triste (no BIOS para isso, existem at√© duas rotinas especiais - pushk e popk). <br><br>  A recomenda√ß√£o geral √© tentar substituir chamadas de sub-rotina por macros.  Obviamente, se n√£o houver restri√ß√µes estritas no tamanho do c√≥digo. <br><br>  N√£o h√° pilha de hardware no F8.  Se necess√°rio, √© implementado programaticamente - atrav√©s do ISAR e buffers. <br><br>  Escrever na RAM n√£o √© muito relevante (por falta de um), mas √© assim: <br><br><pre> <code class="plaintext hljs"> li $FF ; set value dci $3800 ; set target address st ; write</code> </pre><br><h1>  A mem√≥ria </h1><br>  Embora isso pare√ßa um pouco estranho, n√£o h√° RAM no Fairchild Channel F.  Os dois kilobytes existentes da mem√≥ria de v√≠deo (MK4027) n√£o s√£o exibidos no espa√ßo de endere√ßo e, na verdade, n√£o s√£o leg√≠veis, s√£o gravados nas portas.  Os registros do microprocessador, at√© 64, dificilmente s√£o considerados corretos para a RAM. <br><br>  O programa execut√°vel √© armazenado em cartuchos de ROM remov√≠veis, geralmente com capacidade de 2kb (alguns jogos modernos usam cartuchos de 3k, 4k e 5k).  Al√©m disso, existe um chip de processador embutido, 1KB BIOS ROM, contendo um jogo simples, como o t√™nis, algumas rotinas √∫teis e imagens de v√°rios personagens. <br><br>  No espa√ßo de endere√ßo, o BIOS est√° localizado de US $ 0000 a US $ 07ff, a ROM do cartucho - de US $ 0800. <br><br><h1>  Gr√°ficos </h1><br>  As capacidades gr√°ficas do canal F s√£o muito primitivas, uma vez que simplesmente n√£o existe um controlador de v√≠deo na forma de um chip separado - tudo √© implementado na l√≥gica usual, como registros de turnos, port√µes e amplificadores operacionais.  √â bastante incomum que fontes diferentes mencionem resolu√ß√µes diferentes, e h√° muitas op√ß√µes.  O fato √© que os 2 kilobytes dispon√≠veis de mem√≥ria de v√≠deo implicam uma resolu√ß√£o de 128 x 64, mas, na realidade, isso est√° longe de ser o caso.  Em primeiro lugar, depende muito de qual √°rea da imagem que est√° sendo formada nessa TV em particular √© vis√≠vel (por causa das quais as 4 primeiras colunas n√£o s√£o usadas oficialmente).  Em segundo lugar, as √∫ltimas colunas s√£o usadas sob a paleta.  Terceiro, parte da mem√≥ria n√£o √© usada. <br><br>  Como resultado, a resolu√ß√£o real pode ser estimada em aproximadamente 95 x 58 pixels com 8 cores (o que, no entanto, √© muito melhor que o RCA Studio II, com 64x32 em preto e branco). <br><br>  A maioria dos consoles √© lan√ßada na vers√£o NTSC, mas o PAL tamb√©m existe.  N√£o h√° diferen√ßas pr√°ticas, como se costuma dizer (o n√∫mero de linhas √© o mesmo). <br><br>  Essencialmente, um ferro t√£o simples permite desenhar pontos na tela.  Embora o n√∫mero total de cores exibidas seja 8, no entanto, apenas quatro podem ser exibidas em uma linha (voc√™ pode arbitrariamente chamar isso de paleta).  A paleta √© definida individualmente para cada linha e √© armazenada em um local bastante estranho - nas colunas 125 e 126 de cada uma das linhas (que, em qualquer caso, est√£o fora da √°rea vis√≠vel).  Alterar a paleta √©, respectivamente, desenhando pixels nessas duas colunas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fv/pe/47/fvpe47hy-sthzozlebbknihe4qg.png"></div><br>  (a √°rea de mem√≥ria de v√≠deo realmente vis√≠vel na tela e a √°rea em que a paleta est√° definida s√£o destacadas em amarelo) <br><br>  Como observado acima, h√° apenas uma maneira de gravar dados na VRAM - atrav√©s das portas.  Isso indica a cor, coluna, linha: <br><br>  X √© gravado na porta 4, Y na porta 5, a cor na porta 1, ap√≥s a qual os dados s√£o transferidos gravando uma constante na porta 0: <br><br><pre> <code class="plaintext hljs"> ; set color (2 bit per pixel) li $00 ; color ($00 = green, $40 = red, $80 = blue, $C0 = background) outs 1 li 104 ; X com outs 4 ; set the row li 61 ; Y com outs 5 ; transfer data to VRAM li $60 outs 0 li $50 outs 0 ; wait for update lis 6 delay: ai $ff bnz delay</code> </pre><br>  √â necess√°rio um atraso para que tudo possa ser gravado; caso contr√°rio, o pr√≥ximo ponto pode n√£o ser desenhado.  Na vers√£o oficial, 4 ainda √© adicionado √† coluna e linha (omitido por simplicidade) <br><br>  Preencher a tela inteira com pontos (em um loop) leva cerca de um segundo.  √â importante observar que, al√©m da atualiza√ß√£o extremamente lenta da tela, tamb√©m h√° o fato de que n√£o h√° como esperar que a viga retorne atrav√©s do quadro.  Assim, mesmo um pequeno redesenho √© inevitavelmente acompanhado por um piscar de olhos. <br><br>  Agora sobre a paleta.  A rigor, para cada linha, existem dois modos - preto e branco (quando o fundo √© preto e o primeiro plano √© apenas branco, independentemente do pixel desenhado) e cor. <br><br>  No modo de cor de primeiro plano, sempre h√° tr√™s - vermelho, verde e azul (rgb).  Al√©m disso, uma das tr√™s cores de fundo - cinza, azul claro, verde claro. <br><br>  Para definir a paleta nas colunas 125 e 126, escreva os seguintes valores: <br><br><pre> <code class="plaintext hljs">x=125 x=126 palette --------------------------------------------------------------------- 00 00 COLOR: rgb, light green bg 00 ff COLOR: rgb, light blue bg ff 00 COLOR: rgb, gray bg ff ff B/W: www, black bg</code> </pre><br>  Em jogos t√≠picos, eles costumam fazer isso: primeiro eles definem um certo contexto geral, para o qual voc√™ pode usar o procedimento BIOS pronto: <br><pre> <code class="plaintext hljs"> li $c6 ; $21 - b/w palette, fill with black. $c6 - color palette, fill with gray lr 3, A pi clrscrn ; clrscrn BIOS call</code> </pre><br>  Em seguida, se necess√°rio, fa√ßa uma faixa com uma paleta de preto e branco (por exemplo, para exibir a pontua√ß√£o do jogo com n√∫meros brancos em fundo preto) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/o6/rv/bu/o6rvbu8ifhlp3l5o01jnjhcktpk.jpeg"></div><br>  E ent√£o eles colocam pixels em uma das tr√™s cores (se o fundo for cinza, respectivamente - r, g, b).  Como resultado, √© claro que existem 8 cores, mas colocar em um local espec√≠fico um ponto de uma cor arbitr√°ria √© t√£o f√°cil - √© imposs√≠vel.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aqui est√° um conjunto de fotos</a> que d√£o uma id√©ia das cores e suas combina√ß√µes. <br><br>  Na verdade, com isso todos os gr√°ficos, como tal, terminam - tudo o que voc√™ deseja fazer √© desenhar pixels, e manualmente.  Em rotinas √∫teis, o BIOS possui sa√≠da de caracteres.  No entanto, por raz√µes de economia de espa√ßo, na ROM h√° apenas imagens de n√∫meros e caracteres individuais, com tamanho de 5x8 pixels: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/n7/7y/ot/n77yotdf_sdeu8qng3mk76jmeua.png"></div><br>  No entanto, o procedimento para sua retirada √© √∫til e pode ser usado da seguinte maneira: <br><br><pre> <code class="plaintext hljs"> li 25 ; column lr 1,a li 25 ; row lr 2,a li %11000000 ; eg $c0 - green "0" lr 0,a ; a -&gt; r0 pi drawchar ; call subroutine</code> </pre><br>  Na vers√£o acima, os dois d√≠gitos superiores no registro r0 determinam a cor (10 - vermelho, 11 - verde, 01 - azul, 00 - transparente), o restante - o n√∫mero de s√©rie do caractere (0 1 2 3 4 5 6 7 8 9 G? T SPACE MX BLOCO: - centro || esquerda || `), come√ßando do zero.  Os registradores r1 e r2 s√£o colocados, respectivamente, em uma coluna e em uma linha. <br><br>  Uma op√ß√£o mais pr√°tica √© n√£o pensar em bits: <br><br><pre> <code class="plaintext hljs"> li 20 ; x lr 1,a ; a -&gt; r1 li 10 ; y lr 2,a ; a -&gt; r2 li $40 ; char color in bits 6,7: $80 (%10000000) - red, $c0 (%11000000) - green, $40 (%01000000) - blue, $00 (%00000000) - transparent oi 1 ; index of char ( eg 3 for "3" ) lr 0,a ; combined color + char index -&gt; r0 pi drawchar ; call subroutine</code> </pre><br>  Para ter uma ideia da plataforma, escrevi uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">introdu√ß√£o de 256 bytes</a> para o pequeno concurso de introdu√ß√£o na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chaos Constructions'2019</a> .  Nada de especial, mas preste aten√ß√£o ao motivo pelo qual a paleta linha a linha √© usada l√°.  Uma faixa horizontal rastejante, por assim dizer, destaca a linha que est√° embaixo dela, substituindo temporariamente todo o fundo por preto e todos os pixels por branco.  Como voc√™ n√£o precisa sobrescrever os pixels em si (e n√£o precisa restaur√°-los posteriormente), √© poss√≠vel fazer essa ‚Äúluz de fundo‚Äù muito rapidamente e sem tremula√ß√£o. <br><br>  O segundo ponto s√£o as letras "CC".  Como as letras ‚ÄúC‚Äù n√£o est√£o no BIOS, a sobreposi√ß√£o das letras GG e o n√∫mero 1 s√£o usadas para obter o ‚ÄúCC‚Äù inverso. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/X0mVxEY4aD0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h1>  Som </h1><br>  O som est√° ruim.  Oficialmente, existem tr√™s sons - 120Hz, 500 Hz e 1 KHz.  De fato, obter algo diferente de cliques e um chiado agudo √© problem√°tico.  Al√©m disso, eles dizem que entre m√°quinas PAL e NTSC, bem como entre vers√µes antigas e novas, o som tamb√©m √© diferente.  No entanto, para jogos t√≠picos, basta.  Som ligado e desligado atrav√©s das portas: <br><br><pre> <code class="plaintext hljs"> li %01000000 ; 1khz beep $40 outs 5 li %10000000 ; 500hz beep $80 outs 5 li %11000000 ; 120hz beep $c0 outs 5 ; some pause clr outs 5 ; turn off sound</code> </pre><br>  As pessoas at√© se divertiam tocando m√∫sica.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">As melhores</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">amostras</a> remotamente se assemelham ao PC-Speaker.  √â verdade que n√£o h√° sentido pr√°tico de qualquer maneira - todos os recursos do processador v√£o para a m√∫sica, nada de especial pode ser feito. <br><br><h1>  Ferramentas de desenvolvimento </h1><br>  Atualmente, h√° uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sele√ß√£o pronta do</a> software necess√°rio chamado "Development Pack". <br><br>  Isso inclui montador DASM, desmontador, emulador MESS (com depurador).  Tudo isso funciona sem problemas, pelo menos no Windows 7. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fg/zy/kv/fgzykvvz7qwxpwpxwhrkpjnl6ue.png"></div><br>  Par√¢metros para montagem e inicializa√ß√£o: <br><br><pre> <code class="plaintext hljs">dasm.exe test.asm -f3 -otest.bin messd channelf -cartridge %cartPath%\test.bin -w -effect sharp -r 640x480 -ka</code> </pre> <br>  O emulador √© muito bom, embora o depurador seja extremamente estranho.  N√£o consegui configurar a nova vers√£o do MAME / MESS imediatamente (notei que configurar o MAME para uma plataforma impopular que supostamente suporta √© sempre uma tarefa n√£o trivial). <br><br>  O emulador assume que a resolu√ß√£o da regi√£o vis√≠vel corresponde a minx = 5, minY = 5, maxX = 105, maxY = 61 <br><br>  Como n√£o h√° prazer em escrever algo sob o emulador sem ter testado o resultado ao vivo, tive que resolver o problema com o emulador de ROM.  A meu pedido, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">tnt23</a> fez um cartucho especial (Alexander Novozhilov imprimiu um estojo para ele) no qual a EEPROM 28C16A est√° inserida.  Devido √†s peculiaridades do endere√ßamento F8, eu ainda tinha que comprar um antigo chip Fairchild 3853 no eBay. Como resultado, foi poss√≠vel programar a EEPROM para ver como o c√≥digo fica em uma m√°quina ativa. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7y/1b/ba/7y1bbagbzaam_bcm_kttnv_2juo.jpeg"></div><br>  Al√©m disso, o tnt23 conectou uma sa√≠da S-Video do canal F (normalmente, ela s√≥ podia ser conectada a uma TV pela entrada da antena), o que melhorava bastante a qualidade da imagem e a reprodu√ß√£o de cores. <br><br>  Hist√≥ria sobre Fairchild Channel F: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Fid3KhEaFJY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h1>  Recursos </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VES Wiki</a> </li><li>  Esquema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">[1]</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">[2]</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Hist√≥ria do F8</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Programa√ß√£o F8</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Patente</a> (como funciona) </li><li>  Leitor / conversor de m√∫sica de XM <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">[1]</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">[2]</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Imagens</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdu√ß√£o de rolagem</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt467811/">https://habr.com/ru/post/pt467811/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt467795/index.html">Nota sobre criptomoedas e regulamenta√ß√£o estadual</a></li>
<li><a href="../pt467797/index.html">"Ria por uma quest√£o de": por que voc√™ pode precisar de ferramentas de software que n√£o possuem um aplicativo de "combate"</a></li>
<li><a href="../pt467801/index.html">Automa√ß√£o para os mais pequenos. Parte 1.1. No√ß√µes b√°sicas de virtualiza√ß√£o</a></li>
<li><a href="../pt467803/index.html">Simula√ß√£o elementar da intera√ß√£o f√≠sica personalizada em python + matplotlib</a></li>
<li><a href="../pt467807/index.html">Compra e venda de criptomoedas na R√∫ssia: m√©todos, legaliza√ß√£o, riscos</a></li>
<li><a href="../pt467813/index.html">Revis√£o das mudan√ßas na 17¬™ ordem do FSTEC</a></li>
<li><a href="../pt467815/index.html">A m√≠dia levantou p√¢nico de que "os endere√ßos IP est√£o acabando na R√∫ssia". Como realmente?</a></li>
<li><a href="../pt467817/index.html">Um pouco sobre os padr√µes de design generativo</a></li>
<li><a href="../pt467821/index.html">Simplifique e elimine o necess√°rio: Entrevista com John Romero, criador de Doom</a></li>
<li><a href="../pt467823/index.html">An√°lise: OOM no Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>