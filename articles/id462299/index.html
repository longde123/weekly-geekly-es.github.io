<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ”– ğŸš¯ ğŸ‘©ğŸ¿â€ğŸ¨ Pembulatan ke Seluruh dalam. NET ğŸ‘†ğŸ¼ ğŸ‘©â€âš•ï¸ ğŸ‘¨ğŸ»â€ğŸ¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Semua ku berjanggut , kawan! 

 Kita semua tahu apa itu pembulatan. Jika seseorang lupa, maka pembulatan adalah penggantian angka dengan nilai perkira...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pembulatan ke Seluruh dalam. NET</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462299/">  Semua ku <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">berjanggut</a> , kawan! <br><br>  Kita semua tahu apa itu pembulatan.  Jika seseorang lupa, maka pembulatan adalah penggantian angka dengan nilai perkiraannya, ditulis dengan digit signifikan lebih sedikit.  Jika Anda bertanya pada seseorang dengan cepat apa yang terjadi ketika Anda membulatkan 6,5 ke bilangan bulat, ia akan menjawab "7" tanpa ragu-ragu.  Kami telah diajarkan dari sekolah bahwa angka dibulatkan ke bilangan bulat terdekat, yang nilainya lebih besar.  Yaitu, jika dalam bilangan bulat bagian pecahan sama dengan atau lebih dari setengah pembuangan seluruh bagian, maka kami membulatkan bilangan asli ke bilangan terbesar terdekat. <br><br><a name="habracut"></a>  Sederhananya: <br><pre><code class="cs hljs"><span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span> = <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span> = <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span> = <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre>  dll. <br><br>  Maka, meninggalkan sekolah dan menjadi programmer, kita sering mengharapkan perilaku yang sama dari bahasa pemrograman kita yang kuat.  Melupakan sepenuhnya bahwa di sekolah kita diajarkan â€œpembulatan matematisâ€, tetapi sebenarnya ada lebih banyak jenis pembulatan.  Di Wikipedia saja, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Anda dapat menggali</a> berapa banyak opsi pembulatan 0,5 ke bilangan bulat terdekat: <br><br><ul><li>  Pembulatan matematika </li><li>  Pembulatan acak </li><li>  Pembulatan bergantian </li><li>  Pembulatan bank </li></ul><br>  Jenis pertama, "pembulatan matematika," kita semua belajar dari sekolah.  Anda dapat membaca tentang tipe kedua dan ketiga di waktu luang Anda, mereka tidak menarik bagi saya dalam artikel ini hari ini. <br><br>  Tapi "pembulatan perbankan" sudah menarik.  "Kenapa?"  - kamu bertanya.  Di subnet kita sering menggunakan kelas <b>Konversi</b> , yang menyediakan banyak metode untuk mengkonversi satu tipe data ke yang lain (tidak menjadi bingung dengan para pemain, itu akan dijelaskan di bawah).  Dan sekarang, ternyata ketika mengubah angka floating-point ( <i>dobel, float, desimal</i> ) menjadi tipe <b>int</b> integer melalui metode <b>Convert.ToInt32,</b> pembulatan â€œperbankanâ€ bekerja di bawah tenda.  Ini digunakan di sini secara default! <br><br>  Dan sepertinya ketidaktahuan tentang hal sepele ini tidak terlalu memengaruhi pekerjaan Anda, tetapi segera setelah Anda harus bekerja dengan statistik dan menghitung indikator berdasarkan sekelompok semua jenis catatan dan angka hal ini akan keluar ke samping.  Karena kami berharap (dari ketidaktahuan) bahwa semua konversi / pembulatan kami dalam perhitungan akan bekerja sesuai dengan aturan pembulatan "matematika".  Dan kita terlihat seperti seekor domba jantan di gerbang baru untuk hasil pembulatan <b>6.5</b> , yaitu <b>6</b> . <br><br>  Pikiran pertama dari programmer yang melihat ini adalah: "Mungkin pembulatan bekerja pada arah yang berlawanan, dan menurut aturan itu membulatkan ke angka terkecil?", "Mungkin aku lupa sesuatu dari matematika sekolah?".  Kemudian dia pergi ke google dan memahami bahwa mereka tidak melupakan apa pun, dan bahwa beberapa jenis massa sedang terjadi.  Pada langkah ini, pengembang malas akan memutuskan bahwa ini adalah perilaku standar metode <b>Convert.ToInt32</b> , bulat ke bilangan bulat terkecil, dan skor untuk pencarian lebih lanjut.  Dan dia akan berpikir bahwa jika <i>Convert.ToInt32 (6,5)</i> = <b>6</b> , maka dengan analogi <i>Convert.ToInt32 (7,5)</i> = <b>7</b> .  Tapi itu dia.  Di masa depan, pengembang tersebut akan dipukul dengan sekelompok bug dari departemen QA. <br><br>  Faktanya adalah pembulatan â€œperbankanâ€ bekerja sedikit lebih rumit - pembulatan angka ke bilangan bulat genap terdekat, dan bukan ke modulo bilangan bulat terdekat.  Jenis pembulatan ini seharusnya lebih jujur â€‹â€‹jika diterapkan dalam operasi perbankan - bank tidak akan mencabut diri mereka sendiri atau klien, dengan asumsi bahwa ada banyak operasi dengan bagian bilangan bulat genap seperti halnya ada operasi dengan bagian bilangan bulat ganjil.  Tetapi bagi saya - masih belum jelas :) Jadi itu sebabnya <i>Convert.ToInt32 (6.5)</i> akan memberikan hasil <b>6</b> , dan hasil untuk <i>Convert.ToInt32 (7.5)</i> akan menjadi <b>8</b> , bukan 7 :) <br><br>  Apa yang harus dilakukan untuk membuat pembulatan "matematis" yang akrab bagi semua orang?  Metode <i>konversi</i> kelas tidak memiliki opsi pembulatan tambahan.  Memang benar, karena kelas ini berfungsi terutama bukan untuk pembulatan, tetapi untuk konversi tipe.  Kelas <b>Matematika yang</b> luar biasa dengan metode <b>Putarannya</b> datang untuk menyelamatkan.  Tapi di sini juga hati-hati, karena secara default metode ini berfungsi sama dengan pembulatan di <i>Convert.ToInt32 ()</i> - sesuai dengan aturan "perbankan".  Namun, perilaku ini dapat diubah menggunakan argumen kedua, yang merupakan bagian dari metode <i>Round</i> .  Jadi, <i>Math.Round (someNumber, <b>MidpointRounding.ToEven</b> )</i> akan memberi kita pembulatan "perbankan" default.  Tapi <i>Math.Round (someNumber, <b>MidpointRounding.AwayFromZero</b> )</i> akan bekerja sesuai dengan aturan pembulatan "matematika" yang biasa. <br><br>  Dan omong-omong, <i>Convert.ToInt32 ()</i> tidak menggunakan <i>System.Math.Round () di</i> bawah tenda.  Khusus menggali <a href="">implementasi</a> metode ini pada pembulatan github dianggap sesuai dengan residu: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToInt32</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &lt; <span class="hljs-number"><span class="hljs-number">2147483647.5</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dif = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> - result; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dif &gt; <span class="hljs-number"><span class="hljs-number">0.5</span></span> || dif == <span class="hljs-number"><span class="hljs-number">0.5</span></span> &amp;&amp; (result &amp; <span class="hljs-number"><span class="hljs-number">1</span></span>) != <span class="hljs-number"><span class="hljs-number">0</span></span>) result++; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &gt;= <span class="hljs-number"><span class="hljs-number">-2147483648.5</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dif = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> - result; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dif &lt; <span class="hljs-number"><span class="hljs-number">-0.5</span></span> || dif == <span class="hljs-number"><span class="hljs-number">-0.5</span></span> &amp;&amp; (result &amp; <span class="hljs-number"><span class="hljs-number">1</span></span>) != <span class="hljs-number"><span class="hljs-number">0</span></span>) result--; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } } <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OverflowException(Environment.GetResourceString(<span class="hljs-string"><span class="hljs-string">"Overflow_Int32"</span></span>)); }</code> </pre><br>  Dan akhirnya, beberapa kata tentang <b>tipe casting</b> : <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> number = <span class="hljs-number"><span class="hljs-number">6.9</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> intNumber = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)number;</code> </pre><br>  Dalam contoh ini, saya melemparkan tipe floating point ( <i>ganda</i> dalam hal ini) ke integer <b>int</b> .  Jadi, ketika casting ke tipe integer, seluruh bagian non-integer <b>terpotong</b> .  Dengan demikian, dalam contoh ini, variabel " <i>intNumber</i> " akan <i>berisi</i> angka <b>6</b> .  Tidak ada aturan pembulatan di sini, hanya memotong semua yang muncul setelah titik desimal.  Ingat ini! <br><br>  Tautan terkait: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tentang pembulatan di wikipedia</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tentang masalah konversi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tentang Rounding Math.Round</a> </li><li>  <a href="">Implementasi Convert.ToInt32</a> </li></ul><br>  <b>PS</b> Terima kasih kepada Maxim Yakushkin untuk menarik perhatian pada momen implisit ini. <br><br>  Omong-omong, dalam <b>python,</b> pembulatan secara default bekerja dengan cara yang sama pada basis "perbankan".  Mungkin hal yang sama dalam bahasa Anda, hati-hati dengan angka :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id462299/">https://habr.com/ru/post/id462299/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id462279/index.html">Membangun corong perilaku dalam bahasa R, berdasarkan data yang diperoleh dari Yandex.Metrica Logs API</a></li>
<li><a href="../id462283/index.html">GAZ-66 mainan di panel kontrol. Bagian 1</a></li>
<li><a href="../id462293/index.html">Bagaimana Teknologi Pengembangan yang Cepat Dapat Menjadi Sumber Kerentanan yang Tidak Menyenangkan</a></li>
<li><a href="../id462295/index.html">Ukuran direktori tidak sepadan dengan usaha kami</a></li>
<li><a href="../id462297/index.html">Habr Weekly # 12 / OneWeb, stasiun melawan agregator, gaji di IT, "sayang, kami bunuh Internet" tidak diizinkan di Federasi Rusia</a></li>
<li><a href="../id462301/index.html">Rahasia, kiat, trik: cara membuat aksi keren untuk Google Assistant</a></li>
<li><a href="../id462303/index.html">Memori cluster dengan aproksimasi</a></li>
<li><a href="../id462307/index.html">Menyimpan Routing State ke Disk di Cross-Platform .NET Core GUI App dengan ReactiveUI dan Avalonia</a></li>
<li><a href="../id462311/index.html">@Pythonetc kompilasi, Juli 2019</a></li>
<li><a href="../id462313/index.html">Kiat dan trik dari saluran Telegram saya @pythonetc, Juli 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>