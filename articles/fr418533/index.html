<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé° üß¢ üëµüèº Comment SSH est apparu sur le port 22 üë®üèæ‚Äçüè≠ üç≥ ‚è≠Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SSH s'ex√©cute par d√©faut sur le port 22. Ce n'est pas un hasard. Voici comment il a obtenu ce port. 

 Lorsque j'ai ( Tatu Ilonen ) publi√© cette histo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment SSH est apparu sur le port 22</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418533/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SSH</a> s'ex√©cute par d√©faut sur le port 22. Ce n'est pas un hasard.  Voici comment il a obtenu ce port. <br><br>  Lorsque j'ai ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tatu Ilonen</a> ) publi√© cette histoire pour la premi√®re fois en avril 2017, elle est devenue virale: elle a √©t√© lue par environ 120 000 lecteurs en trois jours. <br><br><h1>  Historique de la r√©ception du port 22 pour SSH </h1><br>  J'ai √©crit la premi√®re version de SSH (Secure Shell) au printemps 1995.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Telnet</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FTP √©taient</a> largement utilis√©s √† cette √©poque. <br><br>  Mais j'ai quand m√™me d√©velopp√© SSH pour remplacer √† la fois <code>telnet</code> (port 23) et <code>ftp</code> (port 21).  Le port 22 √©tait libre et id√©alement situ√© entre les ports pour telnet et ftp.  Je pensais qu'un tel num√©ro de port pourrait √™tre l'un de ces petits d√©tails qui donneront une aura de confiance SSH.  Mais comment l'obtenir?  Je n'ai jamais allou√© de ports, mais je connaissais ceux qui le font. <br><br>  L'attribution des ports √©tait assez simple √† l'√©poque.  Internet √©tait plus petit et nous √©tions aux tout premiers stades du boom Internet.  Les num√©ros de port ont √©t√© attribu√©s par l'IANA (Internet Assigned Numbers Authority).  √Ä cette √©poque, cela signifiait les pionniers respect√©s d'Internet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">John Postel</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Joyce C. Reynolds</a> .  Entre autres choses, John √©tait l'√©diteur de protocoles mineurs tels que IP (RFC 791), ICMP (RFC 792) et TCP (RFC 793).  Certains d'entre vous en ont peut-√™tre entendu parler. <br><a name="habracut"></a><br>  J'ai √©t√© franchement effray√© par John en tant qu'auteur de tous les principaux RFC pour Internet! <br><br>  D'une mani√®re ou d'une autre, mais avant l'annonce de <code>ssh-1.0</code> en juillet 1995, j'ai envoy√© l'e-mail suivant √† l'IANA: <br><br><blockquote>  De ylo lun juil.10 11:45:48 +0300 1995 <br>  De: Tatu Ylonen &lt;ylo@cs.hut.fi&gt; <br>  √Ä: Internet Assigned Numbers Authority &lt;iana@isi.edu&gt; <br>  Objet: demande de num√©ro de port <br>  Organisation: Universit√© de technologie d'Helsinki, Finlande <br><br>  Cher Monsieur, <br><br>  J'ai √©crit un programme pour se connecter en toute s√©curit√© d'une machine √† une autre sur un r√©seau non s√©curis√©.  Il s'agit d'une am√©lioration significative de la s√©curit√© par rapport aux protocoles telnet et rlogin existants et √† leurs impl√©mentations.  En particulier, il emp√™che l'usurpation d'adresse IP, DNS et de routage.  Mon plan est de distribuer librement le programme sur Internet et d'assurer sa plus large utilisation possible. <br><br>  Je souhaite obtenir un num√©ro de port privil√©gi√© enregistr√© pour le programme.  Il est souhaitable dans la plage de 1 √† 255 pour pouvoir √™tre utilis√© dans le champ WKS sur les serveurs de noms. <br><br>  Ci-dessous, j'applique le projet RFC pour le protocole.  Le logiciel est utilis√© localement depuis plusieurs mois et est pr√™t √† √™tre publi√©, √† l'exception du num√©ro de port.  Si vous pouvez rapidement attribuer un num√©ro de port, je voudrais pr√©senter le programme cette semaine.  J'utilise actuellement le port 22 dans les tests b√™ta. Ce serait formidable d'utiliser ce num√©ro (actuellement r√©pertori√© comme ¬´non attribu√©¬ª dans les listes). <br><br>  Le nom du service pour le logiciel est "ssh" (Secure Shell). <br><br>  Cordialement <br><br>  Tatu Ilonen &lt;ylo@cs.hut.fi&gt; <br><br>  ... puis la sp√©cification du protocole ssh-1.0 suit </blockquote><br>  Le lendemain, une lettre de Joyce √©tait dans la bo√Æte de r√©ception: <br><br><blockquote>  Date: lun.10 juil.1995 15:35:33 -0700 <br>  De: jkrey@ISI.EDU <br>  √Ä: ylo@cs.hut.fi <br>  Objet: Re: demande de num√©ro de port <br>  Cc: iana@ISI.EDU <br><br>  Tatouage <br><br>  Nous avons attribu√© le port 22 pour SSH, en vous sp√©cifiant comme personne de contact. <br><br>  Joyce </blockquote><br>  Nous l'avons fait!  Maintenant, SSH a le port 22 !!! <br><br>  Le 12 juillet 1995 √† 2 h 32, j'ai annonc√© la version b√™ta finale de mes b√™ta-testeurs √† l'Universit√© d'Helsinki.  √Ä 17h23, il a envoy√© des packages ssh-1.0.0 aux testeurs et √† 17h51, il a envoy√© une annonce concernant SSH (Secure Shell) √† la <code>cypherpunks@toad.com</code> diffusion <code>cypherpunks@toad.com</code> .  J'ai √©galement dupliqu√© l'annonce dans plusieurs groupes de discussion, listes de diffusion et directement aux personnes qui ont discut√© de sujets connexes sur Internet. <br><br><h1>  Changer le port SSH sur le serveur </h1><br>  Par d√©faut, le serveur SSH fonctionne toujours sur le port 22. Cependant, cela se produit diff√©remment.  L'une des raisons est le test.  Une autre consiste √† ex√©cuter plusieurs configurations sur le m√™me h√¥te.  Il est rare qu'un serveur s'ex√©cute sans privil√®ges root, auquel cas il doit √™tre situ√© sur un port non privil√©gi√© (c'est-√†-dire avec un nombre de 1024 ou plus). <br><br>  Le num√©ro de port peut √™tre configur√© en modifiant la directive <code>Port 22</code> dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">/ etc / ssh / sshd_config</a> .  Il est √©galement sp√©cifi√© par le param√®tre <code>-p &lt;port&gt;</code> dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sshd</a> .  Le client SSH et les programmes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sftp</a> prennent √©galement en charge le param√®tre <code>-p &lt;port&gt;</code> . <br><br><h1>  Sp√©cification d'un port SSH sur la ligne de commande </h1><br>  Le param√®tre <code>-p &lt;port&gt;</code> peut √™tre utilis√© pour sp√©cifier le num√©ro de port lors de la connexion √† l'aide de la commande <code>ssh</code> sous Linux.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SFTP</a> et <code>scp</code> utilisent le param√®tre <code>-P &lt;port&gt;</code> (note: P majuscule).  Une instruction de la ligne de commande remplace toute valeur dans les fichiers de configuration. <br><br><h1>  Configuration de l'acc√®s SSH via des pare-feu </h1><br>  SSH est l'un des rares protocoles qui sont souvent autoris√©s √† fonctionner via des pare-feu pour l'acc√®s sortant, en particulier dans les petites entreprises et les entreprises techniques.  SSH entrant est g√©n√©ralement autoris√© sur un ou plusieurs serveurs. <br><br><h3>  Ssh sortant </h3><br>  La configuration de ssh sortant dans un pare-feu est tr√®s simple.  S'il existe des restrictions sur le trafic sortant en g√©n√©ral, cr√©ez simplement une r√®gle qui autorise les connexions sortantes sur le port TCP 22. C'est tout.  Si vous souhaitez limiter les adresses de destination, vous pouvez cr√©er une r√®gle appropri√©e en autorisant uniquement l'acc√®s aux serveurs de votre organisation dans le cloud ou √† un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">serveur de</a> connexion qui prot√®ge l'acc√®s au cloud. <br><br><h3>  Le tunneling inverse est un risque </h3><br>  Cependant, un SSH sortant illimit√© peut √™tre risqu√©.  Le protocole SSH prend en charge la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tunnellisation</a> .  L'id√©e principale est que le serveur SSH sur le serveur externe √©coute les connexions de partout, les transmet √† l'organisation et √©tablit une connexion avec une sorte de serveur interne. <br><br>  Dans certains cas, cela est pratique.  Les d√©veloppeurs et les administrateurs syst√®me utilisent souvent la tunnellisation pour acc√©der √† distance depuis leur domicile ou depuis un ordinateur portable lors de leurs d√©placements. <br><br>  Mais le tunneling viole g√©n√©ralement la politique de s√©curit√© et prend le contr√¥le des administrateurs de pare-feu et de l'√©quipe SI.  Par exemple, il peut enfreindre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les</a> r√®gles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PCI</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HIPAA</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NIST SP 800-53</a> .  Il peut √™tre utilis√© par des pirates et des services sp√©ciaux pour laisser des portes d√©rob√©es sur le r√©seau local. <br><br>  Le programme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CryptoAuditor</a> contr√¥le le tunneling dans le pare-feu ou au point d'entr√©e vers un groupe de serveurs cloud.  Il fonctionne conjointement avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Universal SSH Key Manager</a> pour acc√©der aux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cl√©s d'h√¥te</a> , en les utilisant pour d√©chiffrer les sessions SSH dans le pare-feu et bloquer le transfert non autoris√©. <br><br><h3>  SSH entrant </h3><br>  Pour l'acc√®s entrant, il existe plusieurs options: <br><br><ul><li>  Configurez un pare-feu pour transmettre toutes les connexions au port 22 √† une adresse IP sp√©cifique sur le r√©seau interne ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DMZ</a> .  Ex√©cutez un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CryptoAuditor</a> ou un serveur de saut √† cette adresse IP pour contr√¥ler et v√©rifier un acc√®s ult√©rieur √† l'organisation. </li><li>  Utilisez diff√©rents ports sur le pare-feu pour acc√©der √† diff√©rents serveurs. </li><li>  Autorisez l'acc√®s SSH uniquement apr√®s vous √™tre connect√© √† l'aide d'un VPN, g√©n√©ralement via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IPsec</a> . </li></ul><br><h1>  Activer SSH via iptables </h1><br>  Iptables est un pare-feu h√¥te int√©gr√© au noyau Linux.  Il est g√©n√©ralement configur√© pour prot√©ger le serveur en emp√™chant l'acc√®s √† tous les ports qui n'√©taient pas explicitement ouverts. <br><br>  Si iptables est activ√© sur le serveur, les commandes suivantes peuvent autoriser l'acc√®s SSH entrant.  Ils doivent √™tre ex√©cut√©s sous la racine. <br><br> <code>iptables -A INPUT -p tcp --dport 22 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT <br> iptables -A OUTPUT -p tcp --sport 22 -m conntrack --ctstate ESTABLISHED -j ACCEPT</code> <br> <br>  Si vous souhaitez conserver les r√®gles pour toujours, dans certains syst√®mes, cela peut √™tre fait avec la commande: <br><br> <code>service iptables save</code> <br> <br><img src="https://habrastorage.org/getpro/habr/post_images/901/06b/9c2/90106b9c237504d2cd1f1697c162c7be.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418533/">https://habr.com/ru/post/fr418533/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418523/index.html">Pourquoi les d√©taillants ¬´√©coutent¬ª leurs employ√©s et pourquoi utilisent-ils toujours la technologie audio</a></li>
<li><a href="../fr418525/index.html">Opera est devenu public</a></li>
<li><a href="../fr418527/index.html">Contre le sentiment d√©faitiste dans l'intimit√©. Pourquoi les navigateurs peuvent toujours arr√™ter les empreintes digitales</a></li>
<li><a href="../fr418529/index.html">Comment la mission de la NASA √† Pluton a presque disparu</a></li>
<li><a href="../fr418531/index.html">Kunstkamera: un artisan du Massachusetts cherche le droit de le faire soi-m√™me Tesla</a></li>
<li><a href="../fr418535/index.html">Pourquoi le passeport Telegram - Pas de bout en bout</a></li>
<li><a href="../fr418537/index.html">Lors du d√©versement de d√©chets, l'essentiel est de ne pas commencer √† les regarder. Partie 1?</a></li>
<li><a href="../fr418539/index.html">Vuln√©rabilit√© de chiffrement dans diverses impl√©mentations Bluetooth</a></li>
<li><a href="../fr418543/index.html">Cinq √©quipes gagnantes du D√©fi du centenaire de l'habitat imprim√© en 3D se partagent un prix de 100 000 $</a></li>
<li><a href="../fr418545/index.html">Cr√©er une ¬´vie artificielle¬ª sur un ordinateur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>