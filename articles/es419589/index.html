<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚ÄçüöÄ ü§¥üèΩ üö≤ Usamos AMP como una biblioteca de uso general para crear sitios din√°micos r√°pidos üìÑ ‚Ñ¢Ô∏è üò≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cambiar la primera impresi√≥n es muy dif√≠cil. Y no solo estoy hablando de personas. Las tecnolog√≠as tambi√©n suelen convertirse en rehenes de la primera...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Usamos AMP como una biblioteca de uso general para crear sitios din√°micos r√°pidos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/google/blog/419589/"><p>  Cambiar la primera impresi√≥n es muy dif√≠cil.  Y no solo estoy hablando de personas.  Las tecnolog√≠as tambi√©n suelen convertirse en rehenes de la primera impresi√≥n: su primera versi√≥n.  Y luego, a pesar de a√±os de desarrollo, nuevas oportunidades y la eliminaci√≥n de viejos defectos, en la conciencia de masas, la tecnolog√≠a sigue siendo muy imperfecta, su primera versi√≥n.  Aquellos que no est√°n tratando de lidiar con este tipo de sesgo cognitivo solo pueden ver los √©xitos de los competidores que usan tecnolog√≠as familiares en nuevos escenarios, con una pregunta tonta: "¬øQu√© podr√≠a haber sucedido?". </p><br><p><img src="https://habrastorage.org/webt/e_/vr/6w/e_vr6w51_va8sq7tshdt8ue6dha.jpeg"></p><br><p>  El ejemplo m√°s sorprendente de una tecnolog√≠a que ha avanzado mucho en comparaci√≥n con lo que era al principio, en mi opini√≥n, es AMP - Accelerated Mobile Pages.  Muchos desarrolladores perciben AMP como una forma de poner el contenido est√°tico de su sitio (art√≠culos, noticias, notas, etc.) en el cach√© de Google para que cuando se abran desde la b√∫squeda, este contenido se cargue instant√°neamente (el √≠cono del rayo en los resultados de b√∫squeda indica una alta velocidad de carga de las p√°ginas AMP: )).  Naturalmente, si necesita lograr tal resultado, entonces con AMP ser√° muy f√°cil de hacer.  Pero AMP es mucho m√°s que tecnolog√≠a para trabajar con contenido est√°tico o el cach√© de Google.  AMP se ha utilizado durante mucho tiempo como una biblioteca de uso general basada en componentes web para crear p√°ginas din√°micas r√°pidas e incluso sitios web completos que los usuarios obtienen tanto de b√∫squeda como de otras fuentes, incluidas las visitas directas.  Desde este punto de vista, AMP puede equipararse con Polymer, React o Angular.  Naturalmente, teniendo en cuenta el hecho de que AMP est√° dise√±ado para sitios simples (lo que sea que signifique) donde el √©nfasis principal est√° en el contenido y el componente din√°mico es limitado. </p><br><p><img src="https://habrastorage.org/webt/id/l2/sr/idl2srdzomaaloufat7nsnsinbu.gif"></p><a name="habracut"></a><br><p>  Tambi√©n me gustar√≠a se√±alar que, a pesar del nombre de Accelerated Mobile Pages, AMP se puede usar para crear cualquier sitio, tanto de escritorio como m√≥vil.  El sitio web del proyecto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ampproject.org</a> es un gran ejemplo de lo que AMP puede hacer para el escritorio. </p><br><p>  En este art√≠culo, consideraremos la tecnolog√≠a AMP en s√≠, hablaremos sobre sus capacidades y limitaciones, y tambi√©n haremos que AMP aterrice para una tienda en l√≠nea con soporte para cargar, mostrar, filtrar y buscar productos.  Este ejemplo no fue elegido por casualidad, porque el comercio electr√≥nico es la segunda √°rea m√°s popular despu√©s de los sitios de noticias donde AMP se usa m√°s activamente. </p><br><p>  Puede ver la p√°gina de destino terminada en el GIF de arriba. </p><br><p> AMP est√° dedicado a muchos art√≠culos, entre los que puede encontrar muy cr√≠tico.  La mayor√≠a de estos art√≠culos se centran en un lado de la tecnolog√≠a AMP, es decir, el cach√©.  Despu√©s de todo, si la p√°gina del sitio se almacena en cach√©, y luego, cuando se hace clic desde una b√∫squeda, no se abren directamente, entonces esto inevitablemente impone restricciones.  Los usuarios parecen recorrer su sitio.  Surge una pregunta sacramental: ¬øqui√©n se beneficia de esto?  ¬øPuede ser m√°s rentable dar siempre contenido directamente?  A juzgar por el hecho de que los editores de contenido utilizan activamente AMP, la mayor√≠a de ellos son definitivamente rentables para usar el cach√©: sus sitios de b√∫squeda se abren instant√°neamente.  El principal problema con el cach√© es que en la barra de direcciones del navegador el usuario no ve la direcci√≥n del sitio en s√≠, que alberga p√°ginas AMP, por ejemplo <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.vedomosti.ru</a></em> , sino la direcci√≥n en el cach√©, en este caso ser√° as√≠: <em><a href="">www.google.com/ amp / s / www.vedomosti.ru</a></em> . </p><br><p>  Este comportamiento no es una forma maliciosa de sacar a los usuarios de su sitio.  Es m√°s bien un problema t√©cnico que no podr√≠a resolverse de otra manera.  Los desarrolladores de AMP est√°n trabajando activamente en una soluci√≥n a este problema.  El nuevo est√°ndar de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Web Packaging</a> ayudar√°.  Gracias a ello, cuando se carga en la memoria cach√©, los datos se firman con el certificado del dominio de origen y, como resultado, cuando se muestran las p√°ginas AMP de la memoria cach√©, el dominio original y no la direcci√≥n en la memoria cach√© se mostrar√°n en la barra de direcciones. </p><br><p>  Por otro lado, el problema de cach√©, si es relevante, es principalmente para los editores de contenido.  Si el activo principal son art√≠culos o noticias, para cualquier editor es importante c√≥mo y a qui√©n se muestran.  Y el hecho de que los editores inicialmente desconfiaran de AMP es comprensible.  De ah√≠ mucha controversia sobre este tema.  Por otro lado, el comercio electr√≥nico es un escenario completamente diferente.  Para el propietario de una tienda en l√≠nea, un sitio para vender entradas para conciertos, un banco que acepta solicitudes de tarjetas de cr√©dito o un sal√≥n de belleza que registra a los clientes, es fundamental que los clientes vengan y compren.  La conversi√≥n es importante.  Y si hay una tecnolog√≠a que ayudar√° a que los sitios sean m√°s r√°pidos, aumentando as√≠ la conversi√≥n, entonces, usar esta tecnolog√≠a, por supuesto, ser√° beneficioso. </p><br><h1>  Amplificador </h1><br><p>  ¬øQu√© hace que los sitios web sean r√°pidos?  ¬°Los haces r√°pidos, desarrolladores!  No hay magia, los sitios r√°pidos son r√°pidos porque sus desarrolladores se preocupan por el rendimiento y trabajan en ellos para mejorar los sitios.  Hay un conjunto de mejores pr√°cticas y trucos para crear sitios que se cargan r√°pidamente y funcionan r√°pido.  Por ejemplo, es mejor cargar im√°genes pesadas solo en el momento en que el usuario se desplaza hacia ellas, y no inmediatamente al abrir la p√°gina.  Tambi√©n vale la pena limitar el n√∫mero total de recursos descargados, utilizando scripts as√≠ncronos, etc.  El √∫nico problema es que todas estas pr√°cticas deben recordarse, tenerse en cuenta y monitorear constantemente su aplicaci√≥n.  Esto es complicado  Siempre existe la tentaci√≥n de hacer algo que no estar√° en l√≠nea con las mejores pr√°cticas, pero ser√° m√°s f√°cil de implementar. </p><br><p>  AMP es una tecnolog√≠a con la que es f√°cil hacer lo correcto (y finalmente obtener un sitio r√°pido).  Y hacer un sitio usando AMP lento es dif√≠cil.  Esto se logra a trav√©s de un conjunto de restricciones, as√≠ como un validador que verifica estas restricciones.  Si la p√°gina se valida, se puede almacenar en cach√©.  Es decir, AMP lo restringe deliberadamente, y esta es la idea principal de esta tecnolog√≠a, pero a cambio se gana la confianza de que est√° utilizando las mejores pr√°cticas.  No necesita ser un experto en optimizaci√≥n para obtener un buen resultado con AMP.  Las mejores pr√°cticas se utilizan de forma predeterminada y se minimiza la posibilidad de errores. </p><br><p>  Al mismo tiempo, AMP no es otro tipo de HTML, es una biblioteca ordinaria en la que no hay nada que no sea accesible para los creadores de otras bibliotecas.  Con AMP, utiliza un marcado HTML regular, as√≠ como estilos CSS.  Puede crear un sitio completo en AMP si es lo suficientemente simple (un ejemplo t√≠pico es todo tipo de p√°ginas de destino), y si las capacidades de AMP se vuelven insuficientes, siempre puede agregar p√°ginas que no sean AMP. </p><br><p>  Por otro lado, las optimizaciones utilizadas en AMP se pueden hacer sin AMP, pero esto requerir√° mucho esfuerzo y tiempo.  En cualquier caso, incluso si por alguna raz√≥n decide no usar AMP, tiene sentido al menos estudiar c√≥mo funciona esta biblioteca y qu√© hace para aplicar estos enfoques a sus sitios.  Puede parecer que la promoci√≥n de AMP es la promoci√≥n de una biblioteca en particular, y no el rendimiento de los sitios como tales.  Pero esto no es as√≠: tener un sitio web productivo es mucho m√°s importante que usar una u otra biblioteca o marco. </p><br><p>  Una vez m√°s, me gustar√≠a se√±alar que todas las restricciones impuestas por AMP no son de naturaleza ideol√≥gica, sino que son causadas por consideraciones utilitarias: le permiten crear sitios r√°pidos.  El punto  Si en el futuro hay una manera, sin sacrificar el rendimiento, para eliminar una u otra limitaci√≥n, entonces, por supuesto, se eliminar√°. </p><br><p>  ¬øCu√°les son las limitaciones de AMP?  La limitaci√≥n m√°s importante es que las p√°ginas no pueden contener c√≥digo arbitrario de JavaScript.  Para lo √∫nico que puede usar JavaScript limitado es para el enlace de datos.  Adem√°s, no puede conectar archivos externos de JavaScript y CSS.  Hay excepciones: esta es la biblioteca AMP en s√≠, as√≠ como una lista de componentes aprobados (puede participar en el desarrollo de AMP y crear sus propios componentes).  Todos los CSS deben estar en la p√°gina misma, y ‚Äã‚Äãsu volumen est√° limitado a 50 kilobytes.  Adem√°s, no puede usar parte de las etiquetas HTML, como &lt;img /&gt;; en su lugar, usan los componentes web incluidos en el paquete AMP.  Por ejemplo, el componente &lt;amp-img /&gt; se usa en lugar de &lt;img /&gt;.  Esto es necesario para que AMP pueda controlar la carga de recursos.  Tambi√©n hay ligeras restricciones de CSS causadas por consideraciones de rendimiento (no puede usar el modificador! Importante y animaciones no aceleradas por GPU).  En realidad eso es todo.  AMP proporciona un rico conjunto de componentes, que elimina en parte la incapacidad de escribir c√≥digo JavaScript arbitrario.  El conjunto de componentes incluye, por ejemplo, <strong>amp-date-picker</strong> , <strong>amp-sidebar</strong> , <strong>amp-user-notify</strong> , <strong>amp-facebook-like</strong> , <strong>amp-access</strong> , con el que puede implementar el soporte de autenticaci√≥n, y muchos, muchos otros.  Y en casos muy extremos, cuando no hay otra salida, puede usar iframes con contenido que no sea AMP. </p><br><p>  Antes de comenzar a trabajar con AMP, le recomiendo que estudie la documentaci√≥n en el sitio web del proyecto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ampproject.org</a> .  Adem√°s, es √∫til mirar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ampbyexample.com</a> , que contiene excelentes ejemplos, la mayor√≠a de los cuales se pueden usar pr√°cticamente sin cambios en proyectos reales.  Si necesita plantillas listas para usar, est√°n disponibles en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ampstart.com</a> . </p><br><p><img src="https://habrastorage.org/webt/lv/cp/n3/lvcpn3hhaqefftseopfyp3ko90m.jpeg"></p><br><h1>  Creando AMP Landing </h1><br><p>  Creemos una p√°gina de destino para una tienda de bicicletas en l√≠nea con una lista de productos, filtros y b√∫squedas.  Nuestros productos se cargar√°n din√°micamente.  Para fines de capacitaci√≥n, no utilizaremos plantillas listas para usar, pero haremos todo desde cero.  El c√≥digo del proyecto se puede encontrar en GitHub: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://github.com/spugachev/amp-article</a> </p><br><p>  El repositorio contiene un back-end en Node.js, as√≠ como p√°ginas AMP ubicadas en la carpeta p√∫blica.  Para iniciar el proyecto, debe clonar el repositorio y ejecutar los siguientes comandos en la carpeta del proyecto (Node.js debe estar instalado). </p><br><pre><code class="bash hljs">&gt;&gt; npm install &gt;&gt; npm start</code> </pre> <br><h2>  Plantilla de p√°gina </h2><br><p>  Crea una p√°gina de AMP m√≠nimo.  Su c√≥digo se presenta a continuaci√≥n.  En el proyecto que descarg√≥ de GitHub, la p√°gina principal public / index.html se deja en blanco intencionalmente, y la usaremos para escribir c√≥digo. </p><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!doctype html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">amp</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdn.ampproject.org/v0.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"canonical"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://amp-bike-shop.com/index.html"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width,minimum-scale=1,initial-scale=1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">amp-boilerplate</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">body</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-webkit-animation</span></span></span><span class="css">:-amp-start </span><span class="hljs-number"><span class="css"><span class="hljs-number">8s</span></span></span><span class="css"> </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">steps</span></span></span><span class="css">(1,end) </span><span class="hljs-number"><span class="css"><span class="hljs-number">0s</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1</span></span></span><span class="css"> normal both;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-moz-animation</span></span></span><span class="css">:-amp-start </span><span class="hljs-number"><span class="css"><span class="hljs-number">8s</span></span></span><span class="css"> </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">steps</span></span></span><span class="css">(1,end) </span><span class="hljs-number"><span class="css"><span class="hljs-number">0s</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1</span></span></span><span class="css"> normal both;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-ms-animation</span></span></span><span class="css">:-amp-start </span><span class="hljs-number"><span class="css"><span class="hljs-number">8s</span></span></span><span class="css"> </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">steps</span></span></span><span class="css">(1,end) </span><span class="hljs-number"><span class="css"><span class="hljs-number">0s</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1</span></span></span><span class="css"> normal both;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">animation</span></span></span><span class="css">:-amp-start </span><span class="hljs-number"><span class="css"><span class="hljs-number">8s</span></span></span><span class="css"> </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">steps</span></span></span><span class="css">(1,end) </span><span class="hljs-number"><span class="css"><span class="hljs-number">0s</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">1</span></span></span><span class="css"> normal both}@-</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">webkit</span></span></span><span class="css">-</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">keyframes</span></span></span><span class="css"> -amp-start{</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">from</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:hidden}</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">to</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:visible}}@-</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">moz</span></span></span><span class="css">-</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">keyframes</span></span></span><span class="css"> -amp-start{</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">from</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:hidden}</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">to</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:visible}}@-</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">ms</span></span></span><span class="css">-</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">keyframes</span></span></span><span class="css"> -amp-start{</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">from</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:hidden}</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">to</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:visible}}@-</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">o</span></span></span><span class="css">-</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">keyframes</span></span></span><span class="css"> -amp-start{</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">from</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:hidden}</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">to</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:visible}}@</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">keyframes</span></span></span><span class="css"> -amp-start{</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">from</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:hidden}</span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">to</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">visibility</span></span></span><span class="css">:visible}}</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">noscript</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">amp-boilerplate</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">body</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-webkit-animation</span></span></span><span class="css">:none;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-moz-animation</span></span></span><span class="css">:none;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-ms-animation</span></span></span><span class="css">:none;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">animation</span></span></span><span class="css">:none}</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">noscript</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">amp-custom</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-comment"><span class="css"><span class="hljs-comment">/*     */</span></span></span><span class="css"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>   AMP  !<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Lo primero que llama la atenci√≥n en el ejemplo anterior: el marcado HTML contiene una indicaci√≥n expl√≠cita de que se trata de una p√°gina AMP.  Esto se logra agregando un s√≠mbolo de rayo a la etiqueta html (desafortunadamente el s√≠mbolo de Habr corta un s√≠mbolo de rayo), o agregando la palabra "amplificador" all√≠ tambi√©n.  Sin esa indicaci√≥n, la p√°gina no se validar√° y no se agregar√° al cach√© de Google durante la indexaci√≥n. </p><br><p>  A continuaci√≥n, debe conectar la biblioteca de JavaScript de AMP: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdn.ampproject.org/v0.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Tambi√©n debe especificar la direcci√≥n can√≥nica de la p√°gina.  Si hay una versi√≥n de la p√°gina que no es AMP, se indica su direcci√≥n.  De lo contrario, se indica la direcci√≥n de la p√°gina AMP. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"canonical"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://amp-bike-shop.com/index.html"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Adem√°s, debe agregar una metaetiqueta para escalar, as√≠ como estilos CSS de plantilla.  Estos estilos no se pueden cambiar.  Son necesarios para que al cargar la p√°gina, pero antes de cargar la biblioteca AMP de JavaScript, el contenido no estilizado no parpadee en la pantalla.  Si por alguna raz√≥n la biblioteca no se carga, el contenido se mostrar√° en cualquier caso despu√©s de ocho segundos. </p><br><p>  Coloque la imagen usando el componente amp-image en la parte superior de la p√°gina.  Al establecer layout = "responsive", la imagen se estirar√° al ancho completo del contenedor. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hero-img"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/hero.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"320"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"213"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">layout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"responsive"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-img</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  En lo sucesivo, no dar√© estilos CSS, y se pueden encontrar en el repositorio del proyecto en GitHub.  Entonces ... </p><br><p>  Ejecute el proyecto y abra la p√°gina principal en un navegador.  Si el par√°metro # desarrollo = 1 se agrega a la direcci√≥n de la p√°gina, la p√°gina se validar√° autom√°ticamente y se mostrar√° informaci√≥n al respecto en la consola del navegador.  Para el mismo prop√≥sito, puede usar la extensi√≥n de Chrome llamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AMP Validator</a> . </p><br><p>  Por ejemplo, si en lugar de &lt;amp-img /&gt; se us√≥ una etiqueta &lt;img /&gt; normal, dicha p√°gina no pasar√≠a la validaci√≥n, que se indicar√≠a con un mensaje correspondiente. </p><br><p><img src="https://habrastorage.org/webt/zo/zx/hb/zozxhbb-dfjujwhqpkg2gbhmkb8.jpeg"></p><br><h2>  Cargando y mostrando datos </h2><br><p>  Ahora tenemos una p√°gina b√°sica de AMP con una imagen para llamar la atenci√≥n y el nombre de la tienda.  Ahora es el momento de descargar la lista de productos del servidor y mostrarla en la p√°gina.  El proyecto respaldado ya incluye un servicio que devuelve una lista de productos (en este caso, bicicletas) en formato JSON. </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">GET</span></span> /api/bikes [ { "id":<span class="hljs-number"><span class="hljs-number">1</span></span>, "img":"img/01.jpg", "title":" ", "price":"28500", "available":<span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }, { "id":<span class="hljs-number"><span class="hljs-number">2</span></span>, "img":"img/02.jpg", "title":" ", "price":"14750", "available":<span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }, { "id":<span class="hljs-number"><span class="hljs-number">3</span></span>, "img":"img/03.jpg", "title":" ", "price":"31200", "available":<span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }, ‚Ä¶ ]</code> </pre> <br><p>  Dado que AMP no le permite escribir c√≥digo JavaScript arbitrario, todas las acciones, incluida la carga de datos, se establecen en un estilo declarativo.  Necesitamos conectar varios componentes a la p√°gina que cargar√°n y mostrar√°n datos, y tambi√©n nos permitir√°n usar plantillas.  Dado que estos ser√°n componentes AMP est√°ndar, podemos conectarlos.  Necesitaremos los componentes: </p><br><ul><li>  <strong>amp-bind</strong> para soportar el enlace de datos, </li><li>  <strong>amp-bigote</strong> para trabajar con plantillas en formato bigote </li><li>  as√≠ como una <strong>lista</strong> de <strong>amplificadores</strong> para trabajar con una lista que cargar√° y mostrar√° datos. <br>  Conecte los archivos necesarios en el encabezado de p√°gina: </li></ul><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">custom-element</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amp-bind"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdn.ampproject.org/v0/amp-bind-0.1.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">custom-template</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amp-mustache"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">custom-element</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amp-list"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdn.ampproject.org/v0/amp-list-0.1.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Agregue el componente de lista a la p√°gina: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-list</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"offers"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3720"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">layout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fixed-height"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//localhost:3000/api/bikes"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">items</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"."</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fallback</span></span></span><span class="hljs-tag">&gt;</span></span>  .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amp-mustache"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"card"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"height: 340px;"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">layout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fixed-height"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{img}}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{title}}-{{price}}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-img</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hr</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>{{title}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> {{#available}}<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{{/available}} {{^available}}<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{{/available}} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{{price}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-list</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  La propiedad src se establece para el componente, que determina de d√≥nde se tomar√°n los datos (en nuestro caso, se ejecutar√° una solicitud GET en "// localhost: 3000 / api / bikes"), as√≠ como la propiedad items, que le permite buscar una matriz de elementos para la lista dentro de la respuesta JSON del servidor  Dado que la respuesta en s√≠ misma es una matriz, el valor de la propiedad √≠tems indica la ra√≠z de la respuesta. </p><br><p>  A continuaci√≥n, definimos un ap√©ndice que se mostrar√° durante la carga de datos, as√≠ como un ap√©ndice en caso de error.  Pero lo m√°s interesante es, por supuesto, la plantilla de elementos de la lista.  El formato de la plantilla es muy simple, creo que la sintaxis de las plantillas de bigote no requiere una explicaci√≥n adicional. </p><br><p>  Agregue el c√≥digo anterior, actualice la p√°gina y mire la lista de productos que se muestran en la p√°gina.  Con un marcado simple y sin escribir c√≥digo JavaScript, cargamos los datos y mostramos los datos en la p√°gina (usando una lista y una plantilla). </p><br><h2>  Filtrado de datos </h2><br><p>  Cada p√°gina de AMP tiene un estado.  Se puede considerar como un objeto con una jerarqu√≠a de propiedades.  El estado de la p√°gina se puede cambiar en los controladores de eventos utilizando la funci√≥n AMP.setState. </p><br><p>  Agregue un filtro que le permita mostrar solo las bicicletas que est√°n disponibles.  Para hacer esto, colocaremos una casilla de verificaci√≥n en la p√°gina, al hacer clic en la cual, cambiaremos el estado de la p√°gina asignando el valor a la variable Disponible (seg√∫n si la casilla est√° seleccionada o no).  El nombre de la variable es arbitrario, podr√≠a llamarse cualquier cosa.  Tenga en cuenta que AMP implementa su propia forma de manejar eventos.  Puede manejar varios eventos a la vez, y para cada evento puede tener varias acciones. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"change:AMP.setState({ onlyAvailable: event.checked })"</span></span></span><span class="hljs-tag">/&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  El mecanismo de enlace de datos le permite enlazar variables de estado de p√°gina con valores de propiedad en marcado HTML.  Para que la biblioteca AMP realice dicho enlace, el nombre de la propiedad que deber√≠a recibir el valor debe estar entre corchetes - [].  Por ejemplo, agregaremos o eliminaremos la clase CSS 'activa' (esta es una clase no est√°ndar y la establecemos nosotros) dependiendo del valor de la √∫nica variable Disponible. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"onlyAvailable? 'active' : ''"</span></span></span><span class="hljs-tag"> &gt;</span></span></code> </pre> <br><p>  En el modo de desarrollo (# desarrollo = 1), el estado de la p√°gina se puede mostrar en la consola del navegador utilizando la funci√≥n AMP.printState (); </p><br><p><img src="https://habrastorage.org/webt/mz/2_/4u/mz2_4uea5ywl0uixwmu3fz669sa.jpeg"></p><br><p>  Ahora agregue la lista de productos al estado de la p√°gina.  Para hacer esto, utilizamos un componente de <strong>estado de amplificador por</strong> separado.  El componente descargar√° datos de la misma fuente que la <strong>lista de amplificadores</strong> , pero no se volver√° a cargar, ya que AMP controla la carga de datos y evita solicitudes innecesarias.  Adem√°s, agregamos una macro que, al cambiar el valor de la variable onlyAvailable, filtrar√° la lista de productos. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bikes"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//localhost:3000/api/bikes"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-bind-macro</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"filteredBikes"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">expression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bikes.filter(bike =&gt; onlyAvailable ? bike.available : true)"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-bind-macro</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Ahora usaremos la lista filtrada como fuente de datos para el componente <strong>amp-list</strong> .  Para hacer esto, conectamos la propiedad src del componente con la macro filterBikes.  Y tambi√©n conecta la propiedad de la altura del componente con el n√∫mero de elementos.  Esto es necesario, ya que la altura del componente de <strong>lista de amplificadores</strong> no se ajustar√° autom√°ticamente al n√∫mero de elementos.  En este ejemplo, el n√∫mero 340 es la altura de la tarjeta del producto, y 16 es la sangr√≠a arriba y abajo. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-list</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"offers"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3720"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">layout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fixed-height"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//localhost:3000/api/bikes"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"filteredBikes()"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"(340 + (16*2)) * filteredBikes().length"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">items</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"."</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Tenga en cuenta que la carga de datos expl√≠citos configurando la propiedad src = "// localhost: 3000 / api / bikes" permanece.  No puedes eliminarlo.  Al cargar una p√°gina AMP por razones de rendimiento, el enlace de datos no se realiza autom√°ticamente.  Se ejecutar√° solo despu√©s de las acciones del usuario, como hacer clic en la casilla de verificaci√≥n. </p><br><p>  Abra la p√°gina resultante y verifique que el filtrado funcione correctamente. </p><br><h2>  Buscar </h2><br><p>  La implementaci√≥n de b√∫squeda es similar a la implementaci√≥n de filtrado.  Agregue un campo de texto y, al ingresar la prueba, asignaremos al estado de consulta variable de la p√°gina el valor ingresado en el campo. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"query"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autocomplete</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"off"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"input-debounced: AMP.setState({ query: event.value })"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Backend en nuestro proyecto apoya la b√∫squeda.  Para buscar productos, debe agregar el par√°metro "q" a la solicitud GET que ya conocemos.  No nos detendremos en la implementaci√≥n del lado del servidor, sino que veremos c√≥mo realizar una nueva solicitud al servidor cuando cambie el estado de la p√°gina. </p><br><p>  Realizamos el enlace de datos para el par√°metro src del componente <strong>amp-state</strong> , que ya utilizamos para obtener los datos iniciales para el filtrado.  Cuando cambie el estado de p√°gina de la variable de consulta, se ejecutar√° una nueva consulta de b√∫squeda. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bikes"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//localhost:3000/api/bikes"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"query ? '//localhost:3000/api/bikes?q=' + query : '//localhost:3000/api/bikes'"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-state</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Eso es todo, ahora la b√∫squeda est√° trabajando en la p√°gina.  Adem√°s, una nueva consulta de b√∫squeda ser√° una fuente de datos para el filtrado, que tambi√©n seguir√° funcionando correctamente.  El c√≥digo de cuerpo completo de la p√°gina se presenta a continuaci√≥n. </p><br><p><img src="https://habrastorage.org/webt/-d/hd/5u/-dhd5usb9dywdquq83yoaxctpgq.jpeg"></p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hero-img"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/hero.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"320"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"213"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">layout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"responsive"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-img</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>   AMP  !<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-state</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bikes"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//localhost:3000/api/bikes"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">]= </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"query ? '//localhost:3000/api/bikes?q=' + query : '//localhost:3000/api/bikes'"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-state</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-bind-macro</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"filteredBikes"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">expression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bikes.filter(bike =&gt; onlyAvailable ? bike.available : true)"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-bind-macro</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"query"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autocomplete</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"off"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"input-debounced: AMP.setState({ query: event.value })"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"onlyAvailable? 'active' : ''"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"checkbox"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"change:AMP.setState({ onlyAvailable: event.checked })"</span></span></span><span class="hljs-tag"> /&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-list</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"offers"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3720"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">layout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fixed-height"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//localhost:3000/api/bikes"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"filteredBikes()"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"(340 + (16*2)) * filteredBikes().length"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">items</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"."</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fallback</span></span></span><span class="hljs-tag">&gt;</span></span>  .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amp-mustache"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"card"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"200"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">layout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"fixed-height"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{img}}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{title}}-{{price}}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-img</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hr</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>{{title}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> {{#available}} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{{/available}} {{^available}} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{{/available}} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{{price}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-list</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  En pocas palabras: creamos una p√°gina AMP interactiva con soporte para cargar y vincular datos.  Completamos la instalaci√≥n y cambiamos el estado de la p√°gina, aprendimos a trabajar con plantillas y tambi√©n respondemos a los comentarios de los usuarios.  Como puede ver, AMP facilita el desarrollo de p√°ginas din√°micas interactivas, incluso a pesar de las serias limitaciones en el uso de JavaScript.  Intenta decir que AMP es para estad√≠sticas;).  ¬°Sabemos que AMP puede hacer mucho m√°s! </p><br><h1>  Caja de herramientas de AMP </h1><br><p>  Al cargar p√°ginas AMP en el cach√© y enviarlas desde el cach√©, Google realiza muchas optimizaciones.  Cuando regala p√°ginas AMP de su sitio directamente, entonces, por supuesto, no se realizan optimizaciones adicionales.  Si desea acelerar el retorno directo de las p√°ginas AMP, use la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AMP Toolbox</a> .  Proporciona middleware incluido para Express, por lo que, por lo general, usar AMP Toolbox con Node.js es cuesti√≥n de agregar algunas l√≠neas de c√≥digo.  Al mismo tiempo, la velocidad de carga de la p√°gina aumenta. </p><br><h1>  Pasos adicionales </h1><br><h2>  Anal√≠tica </h2><br><p>  Si no recopila estad√≠sticas sobre el uso de su sitio, entonces no tiene sentido realizar ning√∫n cambio; no tendr√° una idea clara de si los cambios fueron positivos, negativos o neutrales.  ¬øC√≥mo puede saber si la experiencia del usuario ha mejorado con la implementaci√≥n de AMP, si no tiene ninguna informaci√≥n sobre la experiencia del usuario?  Por lo tanto, la introducci√≥n de an√°lisis es vital. </p><br><p>  AMP admite dos componentes principales para recopilar datos: <strong>amp-pixel</strong> para establecer un p√≠xel simple y <strong>amp-analytics</strong> para soluciones de an√°lisis m√°s complejas.  El componente <strong>amp-experiment</strong> tambi√©n le permite realizar pruebas A / B en p√°ginas AMP. </p><br><p>  Con <strong>amp-analytics,</strong> puede conectar Google Analytics, Yandex Metrics y otros proveedores (por ejemplo, Baidu Analytics). </p><br><p>  Agregar an√°lisis a una p√°gina es muy simple.  Primero necesita conectar la biblioteca apropiada con el componente <strong>amp-analytics</strong> . </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">custom-element</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amp-analytics"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdn.ampproject.org/v0/amp-analytics-0.1.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Y luego coloque el componente en la p√°gina y configure los ajustes.  Para Google Analytics, se ver√° as√≠. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-analytics</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"googleanalytics"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"application/json"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"vars"</span></span></span><span class="actionscript">: { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"account"</span></span></span><span class="actionscript">: </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"UA-XXXXX-Y"</span></span></span><span class="actionscript"> }, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"triggers"</span></span></span><span class="actionscript">: { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"trackPageview"</span></span></span><span class="actionscript">: { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"on"</span></span></span><span class="actionscript">: </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"visible"</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"request"</span></span></span><span class="actionscript">: </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"pageview"</span></span></span><span class="actionscript"> } } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-analytics</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Para Yandex Metrics, el c√≥digo es muy similar. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-analytics</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"metrika"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"application/json"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"vars"</span></span></span><span class="actionscript">: { </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"counterId"</span></span></span><span class="actionscript">: </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"XXXXXX"</span></span></span><span class="actionscript"> } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-analytics</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Naturalmente, estos son los ajustes m√°s m√≠nimos.  Para cualquier soluci√≥n anal√≠tica, debe especificar en la configuraci√≥n qu√© datos desea recopilar. </p><br><p>  Cuando se usa el componente <strong>amp-analytics</strong> , hay un problema con el seguimiento de usuarios en p√°ginas AMP y no AMP.  Quiero que la identificaci√≥n de usuario en todas partes sea la misma.  Para un usuario que descarga su p√°gina del cach√© de Google y luego hace clic en los enlaces a su sitio directamente, desde el punto de vista de an√°lisis, para ser considerado el mismo usuario.  Para hacer esto, use la API de ID de cliente.  Obtenga m√°s informaci√≥n sobre qu√© configuraciones debe realizar en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ayuda de Google Analytics</a> . </p><br><h2>  Service Workers y PWA (Progressive Web Apps) </h2><br><p>  En el caso de sitios bastante complejos, as√≠ como sitios existentes, ser√° dif√≠cil escribir o incluso reescribir todo en AMP.  Por lo tanto, generalmente las p√°ginas que los usuarios obtienen de fuentes externas (p√°ginas de inicio de sesi√≥n) forman p√°ginas AMP.  Se abrir√°n r√°pidamente tanto desde el cach√© como directamente.  Pero luego, cuando el usuario hace clic en el enlace de la p√°gina AMP, ser√° llevado a su sitio principal.  Y aqu√≠ es importante que el sitio principal al cargar desde la p√°gina AMP se cargue al instante.  Esto se logra mediante el mecanismo de Trabajadores del Servicio.  Cuando abre la p√°gina AMP, debe instalar el servicio de trabajo para el sitio principal, y el servicio de trabajo, a su vez, descargar√° y almacenar√° en cach√© los archivos necesarios.  Gracias a esto, los enlaces a la p√°gina AMP se abrir√°n instant√°neamente, ya que todo o casi todo lo que se necesita para abrir las siguientes p√°ginas ya estar√° en la cach√©. </p><br><p>  Para instalar el trabajador de servicio, use el componente <strong>amp-install-serviceworker</strong> .  Se conecta de la misma manera que todos los dem√°s componentes de AMP. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">custom-element</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"amp-install-serviceworker"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Un ejemplo de su uso se presenta a continuaci√≥n. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-install-serviceworker</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/sw.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-iframe-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://mydomain.com/sw.html"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">layout</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"nodisplay"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">amp-install-serviceworker</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Si un usuario visita su sitio directamente, el componente instalar√° el trabajador de servicio especificado por el par√°metro src.  Pero en el caso de cargar la p√°gina AMP desde el cach√©, no podr√° hacer esto, ya que est√° prohibido instalar trabajadores de servicio para otros dominios.  Por lo tanto, debe crear una p√°gina en el sitio donde se ubicar√° el c√≥digo de instalaci√≥n del trabajador de servicio.  Al cargar desde el cach√©, <strong>amp-install-serviceworker</strong> abrir√° la p√°gina en un iframe y se instalar√° el trabajador del servicio. </p><br><p>  PWA (Progressive Web Apps) es un enfoque sobre c√≥mo construir aplicaciones web modernas que se acerquen a las nativas en funci√≥n de la experiencia del usuario.  El coraz√≥n de la PWA son los trabajadores de servicio.  Uno puede encontrar la opini√≥n de que AMP y PWA son, en cierta medida, competidores.  De hecho, se complementan entre s√≠.  PWA se enfoca en interacciones regulares a largo plazo y siempre que sea posible con los usuarios.  Al mismo tiempo, AMP se concentra en la primera interacci√≥n cuando el usuario viene del exterior.  PWA no mejora exactamente este aspecto: la primera interacci√≥n.  Por lo tanto, muchos proyectos usan AMP como punto de entrada que transfiere al usuario a PWA.  Y eso es muy razonable.  Si no se supone que tenga interacciones de usuario regulares, largas o complejas, entonces puede sobrevivir con un AMP. </p><br><h1>  Conclusi√≥n </h1><br><p>  En este art√≠culo, analizamos una aplicaci√≥n de AMP, aunque en realidad hay muchos m√°s escenarios interesantes.  Por ejemplo, los anuncios AMPHTML son una excelente manera de crear anuncios que se cargan r√°pidamente.  Despu√©s de todo, si los banners de carga lenta se colocan en p√°ginas AMP que se abren instant√°neamente, los usuarios probablemente no ver√°n dichos anuncios.  S√≠, y en p√°ginas normales: los anuncios de carga lenta molestan a los usuarios.  Por lo tanto, es l√≥gico hacer la publicidad en s√≠ (creatividades publicitarias) utilizando AMP. </p><br><p>  Los usuarios usan el contenido de manera diferente en dispositivos de escritorio y m√≥viles.  Por ejemplo, cuando leen desde un tel√©fono, los usuarios dejan de leer un art√≠culo largo mucho antes que cuando lo leen desde el escritorio (¬øy han le√≠do hasta este punto? :)).  El formato de las historias (historias) se ha vuelto cada vez m√°s popular en dispositivos m√≥viles, y las historias de AMP son solo la forma de hacer tales historias r√°pidamente y sin esfuerzo adicional. </p><br><p>  Adem√°s, se est√° desarrollando una versi√≥n de AMP para correo electr√≥nico (AMPHTML para correo electr√≥nico), que le permitir√° crear hermosos correos electr√≥nicos interactivos utilizando AMP. </p><br><p>  No olvide tambi√©n que AMP puede usarse simplemente como un formato para insertar contenido en su sitio web.  Por ejemplo, si necesita mostrar noticias, art√≠culos o tarjetas de productos en una aplicaci√≥n React o Angular, puede almacenarlos en formato AMP, precargarlos y luego mostrarlos instant√°neamente en una aplicaci√≥n web (o incluso en una aplicaci√≥n nativa).  No tiene que usar AMP para toda la p√°gina: el contenido de AMP tambi√©n puede ser peque√±as piezas de contenido. </p><br><p>  Con AMP, puede crear sitios completos, as√≠ como p√°ginas individuales, pancartas, historias y usar AMP como un formato r√°pido y compacto para insertar contenido. </p><br><p>  Sergey Pugachev, experto desarrollador de Google <br>  <em>PS.</em>  <em>El art√≠culo es una mirada personal a AMP y puede no coincidir con la opini√≥n de Google o el empleador del autor;)</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es419589/">https://habr.com/ru/post/es419589/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es419579/index.html">Implementaci√≥n del operador in en C ++</a></li>
<li><a href="../es419581/index.html">¬øQu√© proyectos sin fines de lucro son interesantes para Y Combinator?</a></li>
<li><a href="../es419583/index.html">C√≥mo Rusia se perdi√≥ el apogeo del DVD, pero alcanz√≥ a Occidente con la llegada de Internet de banda ancha</a></li>
<li><a href="../es419585/index.html">PWA es f√°cil. Hola habr</a></li>
<li><a href="../es419587/index.html">Competiciones que cambian el mundo. 1567-2035</a></li>
<li><a href="../es419591/index.html">C√≥mo hacer correos electr√≥nicos y no desordenar: consejos pr√°cticos</a></li>
<li><a href="../es419593/index.html">Gafas dalt√≥nicas: c√≥mo funciona y cu√°les son las dificultades de selecci√≥n</a></li>
<li><a href="../es419599/index.html">Java REST en la Escuela de Programadores HeadHunter</a></li>
<li><a href="../es419603/index.html">Antecedentes: empresas que producen robomobiles</a></li>
<li><a href="../es419613/index.html">Aprovechar al m√°ximo el depurador de Android Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>