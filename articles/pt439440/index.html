<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë© üå∫ ü•ò Implemente o c√≥digo aberto do Zimbra Collaboration, autorize via AD e crie caixas de correio automaticamente üí¢ üê≤ üé∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Os dados de origem 
 Sistema operacional do servidor : CentOS 7 

 Sobre o SO  De fato, a diferen√ßa entre o CentOS7 e qualquer outro sistema est√° a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Implemente o c√≥digo aberto do Zimbra Collaboration, autorize via AD e crie caixas de correio automaticamente</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439440/"><img src="https://habrastorage.org/webt/tl/fg/oj/tlfgoj8_4wwdpcdcj5n8ndx2pu0.png" alt="imagem"><br><br><h2>  1. Os dados de origem </h2><br>  <i>Sistema operacional do servidor</i> : CentOS 7 <br><br><div class="spoiler">  <b class="spoiler_title">Sobre o SO</b> <div class="spoiler_text">  De fato, a diferen√ßa entre o CentOS7 e qualquer outro sistema est√° apenas em comandos para o servidor instalar depend√™ncias e, possivelmente, na localiza√ß√£o de alguns arquivos.  O trabalho √© realizado principalmente com cmdlets do Zimbra, para que as diferen√ßas de configura√ß√£o sejam m√≠nimas. <br></div></div><br>  <i>Dom√≠nio do Windows</i> : home.local <br>  <i>Endere√ßo e nome do servidor de correio</i> : 10.40.0.80 / zimbramail.home.local <br>  <i>Usu√°rio para acessar o diret√≥rio AD</i> : ZimbraLDAP com senha qwe123 <br><br><h2>  2. Armadilhas </h2><br>  O processo de instala√ß√£o do Zimbra em si √© bastante simples.  Voc√™ precisa instalar pacotes dependentes, baixar o arquivo morto, executar o script e responder corretamente √†s perguntas do instalador.  Mas, como em qualquer outro lugar, existem algumas pequenas dificuldades. <br><br>  1) Zimbra √© sens√≠vel ao nome do host.  A primeira coisa a fazer antes da instala√ß√£o √© trazer o arquivo / etc / hosts para o formul√°rio: <br><br><pre><code class="bash hljs">127.0.0.1 localhost.localdomain localhost 10.40.0.80 zimbramail.home.local zimbramail</code> </pre> <br>  2) Sem acesso √† internet, um milagre n√£o acontecer√°.  Se n√£o houver acesso √† Internet, o script ser√° congelado por 20 a 40 minutos e, como resultado, √© claro, terminar√° com um erro.  Parece, por que precisamos de um servidor de correio sem acesso √† Internet, mas "o que simplesmente n√£o acontece no mundo sublunar". <br><a name="habracut"></a><br><h2>  3. instala√ß√£o direta </h2><br>  Ent√£o, ao ponto! <br><br>  1) Instala√ß√£o de depend√™ncias: <br><br><pre> <code class="bash hljs">$ yum install perl perl-core ntpl nmap sudo libidn gmp libaio libstdc++ unzip sysstat sqlite wget</code> </pre> <br>  2) Baixar arquivo: <br><br><pre> <code class="bash hljs">$ wget https://files.zimbra.com/downloads/8.8.11_GA/zcs-8.8.11_GA_3737.RHEL7_64.20181207111719.tgz</code> </pre> <br>  3) Descompacte o arquivo baixado, v√° para o diret√≥rio e inicie a instala√ß√£o: <br><br><pre> <code class="bash hljs">$ tar ‚Äìxzf zcs-8.8.11_GA_3737.RHEL7_64.20181207111719.tgz $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> zcs-8.8.11_GA_3737.RHEL7_64.20181207111719 $ ./install.sh --platform-override</code> </pre> <br>  4) Concorde com o contrato de licen√ßa e o uso do reposit√≥rio Zimbra: <br><br><pre> <code class="bash hljs">Do you agree with the terms of the software license agreement? [N] Y Use Zimbra<span class="hljs-string"><span class="hljs-string">'s package repository [Y] Y</span></span></code> </pre> <br>  5) Selecione os componentes necess√°rios e confirme a altera√ß√£o: <br><br><div class="spoiler">  <b class="spoiler_title">Exibir texto</b> <div class="spoiler_text"><pre> <code class="bash hljs">Select the packages to install Install zimbra-ldap [Y] Y Install zimbra-logger [Y] Y Install zimbra-mta [Y] Y Install zimbra-dnscache [Y] N Install zimbra-snmp [Y] Y Install zimbra-store [Y] Y Install zimbra-apache [Y] Y Install zimbra-spell [Y] Y Install zimbra-memcached [Y] Y Install zimbra-proxy [Y] N The system will be modified. Continue? [N] Y</code> </pre> </div></div><br>  6) Em seguida, voc√™ precisa digitar a senha de administrador para o Zimbra: <br><br><div class="spoiler">  <b class="spoiler_title">Exibir texto</b> <div class="spoiler_text"><pre> <code class="bash hljs">Main menu 1) Common Configuration: 2) zimbra-ldap: Enabled 3) zimbra-logger: Enabled 4) zimbra-mta: Enabled 5) zimbra-snmp: Enabled 6) zimbra-store: Enabled +Create Admin User: yes +Admin user to create: admin@zimbramail.home.local ******* +Admin Password UNSET +Anti-virus quarantine user: virus-quarantine.2hwbbw7msh@zimbramail.ciam.local +Enable automated spam training: yes +Spam training user: spam.jedk1fhggz@zimbramail.home.local +Non-spam(Ham) training user: ham.y4nb2o4bt@zimbramail.home.local +SMTP host: zimbramail.home.local +Web server HTTP port: 8080 +Web server HTTPS port: 8443 +Web server mode: https +IMAP server port: 7143 +IMAP server SSL port: 7993 +POP server port: 7110 +POP server SSL port: 7995 +Use spell check server: yes +Spell server URL: http:// zimbramail.home.local :7780/aspell.php +Enable version update checks: TRUE +Enable version update notifications: TRUE +Version update notification email: admin@zimbramail.home.local +Version update <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> email: admin@zimbramail.home.local +Install mailstore (service webapp): yes +Install UI (zimbra,zimbraAdmin webapps): yes 7) zimbra-spell: Enabled 8) zimbra-proxy: Enabled 9) Default Class of Service Configuration: s) Save config to file x) Expand menu q) Quit Address unconfigured (**) items (? - <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>) 6 Select, or <span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> previous menu [r] 4 Password <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> admin@example.com (min 6 characters): [MFSPcRW18] qwe123</code> </pre> <br></div></div><br>  O restante deste menu n√£o nos interessa muito.  Mas  Por padr√£o, o Zimbra criar√° seu pr√≥prio dom√≠nio interno na imagem e semelhan√ßa de seu zmhostname (ler nome do host), ou seja, ser√° o dom√≠nio zimbramail.home.local.  Esta op√ß√£o √© adequada para mim, se voc√™ n√£o tiver, e o nome do dom√≠nio deve corresponder estritamente a [home.local], ent√£o recomendo alterar imediatamente os endere√ßos para receber a notifica√ß√£o de atualiza√ß√£o de vers√£o e a fonte de atualiza√ß√£o de vers√£o para admin@home.local <br><br>  7) Aqui voc√™ precisa clicar no bot√£o [a] para aplicar as altera√ß√µes, depois concorda em salvar a configura√ß√£o em um arquivo e pressionar [Enter] novamente para continuar a instala√ß√£o. <br><br>  O sistema n√£o travou ap√≥s a palavra "pronto", aguarda que uma tecla seja pressionada. <br><br><div class="spoiler">  <b class="spoiler_title">Exibir texto</b> <div class="spoiler_text"><pre> <code class="bash hljs">Select from menu, or press <span class="hljs-string"><span class="hljs-string">'a'</span></span> to apply config (? - <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>) a Save configuration data to a file? [Yes] Save config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> file: [/opt/zimbra/config.10925] Saving config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /opt/zimbra/config.10925...done.</code> </pre> <br></div></div><br>  Em seguida, o script de instala√ß√£o funciona, ap√≥s o qual oferece pressionar qualquer tecla para continuar <br><br>  8) Ap√≥s a conclus√£o da instala√ß√£o, voc√™ precisa abrir as portas necess√°rias no firewall.  A lista de portas pode ser encontrada no Wiki do desenvolvedor em <br><br>  9) Eu recomendo fortemente que voc√™ verifique se o Zimbra entendeu tudo corretamente e que seu zmhostname corresponde ao nome do host do servidor: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmhostname zimbramail.home.local</code> </pre> <br>  Se o nome n√£o corresponder, fa√ßa o seguinte: <br><br>  a) primeiro, verifique se h√° registros A e MX no DNS para o nosso novo zmhostname; caso contr√°rio, crie-os <br><br>  b) <pre> <code class="bash hljs">$ su ‚Äì zimbra /opt/zimbra/libexec/zmsetservername -n [servername]</code> </pre> <br>  c) limpamos o zmloggerhostmap: <br><br><pre> <code class="bash hljs">$ zmloggerhostmap</code> </pre> <br>  Este comando lista todos os Mapa de Nomes de Host. <br><br>  Excluir por comando: <br><br><pre> <code class="bash hljs">$ zmloggerhostmap -d localhost localhost.localdomain</code> </pre> <br>  onde localhost e localhost.localdomain precisam ser substitu√≠dos por uma linha da lista Mapa de Nomes de Host <br>  depois reinicie o Zimbra <br><br>  10) Iniciamos o servidor: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmcontrol start</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Exibir texto</b> <div class="spoiler_text"><pre> <code class="bash hljs"> Host zimbramail.home.local Starting zmconfigd...Done. Starting logger...Done. Starting mailbox...Done. Starting memcached...Done. Starting proxy...Done. Starting amavis...Done. Starting antispam...Done. Starting antivirus...Done. Starting opendkim...Done. Starting snmp...Done. Starting spell...Done. Starting mta...Done. Starting stats...Done. Starting service webapp...Done. Starting zimbra webapp...Done. Starting zimbraAdmin webapp...Done. Starting zimlet webapp...Done.</code> </pre> </div></div><br>  Agora, o servidor est√° dispon√≠vel em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https: //zimbramail.home.local: 7071</a> <br><br><img src="https://habrastorage.org/webt/t7/qh/w1/t7qhw1k1h7tdf5lm0gnblup-lsu.png" alt="imagem"><br><br>  11) Para poder acessar o servidor via https e http, fazemos o seguinte: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmtlsctl both $ zmcontrol restart</code> </pre> <br>  12) Para aqueles que n√£o t√™m acesso √† Internet, ou se o servidor estiver protegido por NAT, voc√™ ainda precisar√° registrar o comando: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmprov ms zimbramail.home.local zimbraMtaLmtpHostLookup native $ zmcontrol restart</code> </pre> <br>  O zmprov √© um utilit√°rio para gerenciar as configura√ß√µes do servidor; tamb√©m ser√° necess√°rio quando precisarmos configurar a cria√ß√£o autom√°tica de caixas de correio, seu backup e recupera√ß√£o, bem como a cria√ß√£o e atualiza√ß√£o autom√°ticas de listas de correio.  Mas mais sobre isso mais tarde. <br><br>  13) O problema com o certificado autoassinado √© resolvido importando o certificado para o servidor da sua autoridade de certifica√ß√£o. <br><br>  Ou exportando um certificado de um servidor Zimbra: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /opt/zimbra/ssl/zimbra/ca $ openssl x509 -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ca.pem -outform DER -out ~/zimbra-mail-example.cer</code> </pre> <br>  seguido pela exporta√ß√£o para m√°quinas clientes, m√£os ou pol√≠ticas de grupo de um dom√≠nio, instalando um certificado nas "Autoridades de certifica√ß√£o raiz confi√°veis" das m√°quinas clientes. <br><br>  Isso completa a instala√ß√£o e a configura√ß√£o inicial. <br><br><h2>  4. Configure a autoriza√ß√£o atrav√©s do LDAP </h2><br>  Primeiro de tudo, voc√™ precisa criar um usu√°rio no AD para acessar o diret√≥rio.  Eu tenho o ZimbraLDAP e, em seguida, acesse o console de administra√ß√£o pela Web e configure a autoriza√ß√£o no dom√≠nio zimbramail.home.local. <br><br>  1) V√° para "configura√ß√µes" - "dom√≠nios", RMB por nome de dom√≠nio - "configurar autentica√ß√£o": <br><br><img src="https://habrastorage.org/webt/4h/hr/d6/4hhrd6ngquye27u1jtwzxezcqsg.png" alt="imagem"><br><br>  2) Selecione "Active Directory externo", clique em Avan√ßar: <br><br><img src="https://habrastorage.org/webt/l_/93/27/l_9327lzaznyddgwig2hd4ln_zm.png" alt="imagem"><br><br>  3) No campo "Nome de dom√≠nio do AD", digite o nome do dom√≠nio, no campo "ldap: //", escreva o nome do dom√≠nio ou o nome do controlador de dom√≠nio ou o IP do controlador de dom√≠nio.  Eu tenho v√°rios controladores, ent√£o escrevo o nome do dom√≠nio.  A porta permanece inalterada.  Clique pr√≥ximo: <br><br><img src="https://habrastorage.org/webt/_w/nr/in/_wnrinlayfmmet_1q2gmqzwaak8.png" alt="imagem"><br><br>  4) A liga√ß√£o LDAP permanece inalterada. <br><br>  5) Resumo da configura√ß√£o de autentica√ß√£o.  Nome de usu√°rio ZimbraLDAP, senha qwe123.  Clique no bot√£o "testar": <br><br><img src="https://habrastorage.org/webt/sr/he/vu/srhevudbaivqyvrlvzki4extyvs.png" alt="imagem"><br><br>  A configura√ß√£o de um grupo externo √© respons√°vel por onde exatamente no AD Zimbra ele procurar√° usu√°rios e quais filtros ele aplicar√°.  Voc√™ pode aplicar um filtro: <br><br><pre> <code class="bash hljs">(&amp;(objectClass=user)(objectClass=person))</code> </pre> <br>  nesse caso, apenas os objetos de usu√°rios e pessoas do AD ser√£o selecionados.  E o par√¢metro Base de Pesquisa LDAP do Grupo Externo n√£o ser√° usado, ser√° substitu√≠do por " <b>zimbraAutoProvLdapSearchBase</b> " durante a configura√ß√£o do modo EAGER. <br><br>  Agora os usu√°rios far√£o login com suas senhas do AD.  E mesmo ao criar uma nova caixa de correio, a senha n√£o pode ser definida. <br><br><h2>  5. Configure a cria√ß√£o autom√°tica de caixa de correio </h2><br>  <i>Um pouco de teoria:</i> <br><br>  O Zimbra tem 3 op√ß√µes para criar caixas: <br><br>  <b>EAGER</b> - totalmente autom√°tico, que verifica regularmente o AD e cria caixas de correio para novos usu√°rios. <br><br>  <b>LAZY</b> - semi-autom√°tico, que cria uma caixa de correio na primeira vez em que um usu√°rio faz logon no servidor de correio com as credenciais do dom√≠nio. <br><br>  <b>MANUAL</b> - pesquisa manual e sele√ß√£o de contas para as quais voc√™ precisa criar caixas de correio. <br><br>  Por raz√µes √≥bvias, o modo MANUAL √© adequado apenas para pequenas empresas com uma rotatividade lenta de funcion√°rios.  O modo LAZY √© adequado para usar o correio com uma interface da web, sem conectar um cliente de correio.  Ambas as op√ß√µes n√£o me agradaram, pois a tarefa era automatizar ao m√°ximo (instala√ß√£o autom√°tica do aplicativo cliente Zimbra Desktop, para que o usu√°rio apenas tivesse que digitar uma senha de login e acessar o correio).  Portanto, apenas EAGER.  Sim, √© mais conveniente, para ser honesto. <br><br>  Para a conveni√™ncia de editar e aplicar par√¢metros, √© mais f√°cil e mais conveniente criar um arquivo.  Que seja / tmp / prov <br><br>  O conte√∫do do arquivo √© o seguinte: <br><br><div class="spoiler">  <b class="spoiler_title">Conte√∫do do arquivo</b> <div class="spoiler_text"><pre> <code class="bash hljs">md zimbramail.home.local zimbraAutoProvAccountNameMap <span class="hljs-string"><span class="hljs-string">"samAccountName"</span></span> md zimbramail.home.local +zimbraAutoProvAttrMap description=description md zimbramail.home.local +zimbraAutoProvAttrMap displayName=displayName md zimbramail.home.local +zimbraAutoProvAttrMap givenName=givenName md zimbramail.home.local +zimbraAutoProvAttrMap cn=cn md zimbramail.home.local +zimbraAutoProvAttrMap sn=sn md zimbramail.home.local zimbraAutoProvAuthMech LDAP md zimbramail.home.local zimbraAutoProvBatchSize 300 md zimbramail.home.local zimbraAutoProvLdapAdminBindDn <span class="hljs-string"><span class="hljs-string">"CN=ZimbraLDAP,OU=HOME_Users,DC=home,DC=local"</span></span> md zimbramail.home.local zimbraAutoProvLdapAdminBindPassword qwe123 md zimbramail.home.local zimbraAutoProvLdapBindDn <span class="hljs-string"><span class="hljs-string">"admin@zimbramail.home.local"</span></span> md zimbramail.home.local zimbraAutoProvLdapSearchBase <span class="hljs-string"><span class="hljs-string">"CN=HOME_Users,dc=home,dc=local"</span></span> md zimbramail.home.local zimbraAutoProvLdapSearchFilter <span class="hljs-string"><span class="hljs-string">"(&amp;(objectClass=user)(objectClass=person))"</span></span> md zimbramail.home.local zimbraAutoProvLdapURL <span class="hljs-string"><span class="hljs-string">"ldap://home.local:389"</span></span> md zimbramail.home.local zimbraAutoProvMode EAGER md zimbramail.home.local zimbraAutoProvNotificationBody <span class="hljs-string"><span class="hljs-string">"Your account has been auto provisioned. Your email address is </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ACCOUNT_ADDRESS}</span></span></span><span class="hljs-string">."</span></span> md zimbramail.home.local zimbraAutoProvNotificationFromAddress prov-admin@zimbramail.home.local md zimbramail.home.local zimbraAutoProvNotificationSubject <span class="hljs-string"><span class="hljs-string">"New account auto provisioned"</span></span> ms zimbramail.home.local zimbraAutoProvPollingInterval <span class="hljs-string"><span class="hljs-string">"1m"</span></span> ms zimbramail.home.local +zimbraAutoProvScheduledDomains <span class="hljs-string"><span class="hljs-string">"zimbramail.home.local"</span></span></code> </pre> <br></div></div><br>  <i>Um pouco mais de teoria:</i> <br><br>  Este arquivo cont√©m comandos para atribuir vari√°veis.  Assim, por exemplo, o par√¢metro <b>zimbraAutoProvAttrMap cn = cn</b> significa que o Zimbra formar√° suas caixas de forma que o "nome para exibi√ß√£o" (CN no AD) seja substitu√≠do no campo "nome para exibi√ß√£o" no Zimbra. <br><br>  O par√¢metro <b>zimbraAutoProvLdapAdminBindDn √©</b> respons√°vel pela conta que o Zimbra usar√° para acessar o diret√≥rio AD.  Nesse caso, ‚ÄúCN = ZimbraLDAP, OU = HOME_Users, DC = home, DC = local‚Äù, o que significa o seguinte: a conta com o nome de exibi√ß√£o ZimbraLDAP armazenada nos OU HOME_Users localizados na raiz do dom√≠nio home.local ser√° usada <br><br>  <b>zimbraAutoProvLdapAdminBindPassword</b> armazena a senha da conta ZimbraLDAP <br><br>  <b>zimbraAutoProvLdapBindDn</b> armazena a conta de administrador do servidor Zimbra para o dom√≠nio zimbramail.home.local <br><br>  <b>O zimbraAutoProvLdapSearchBase</b> √© respons√°vel pela UO, na qual o Zimbra procurar√° contas de dom√≠nio para criar caixas de correio.  No meu caso, esse √© o mesmo cont√™iner em que o usu√°rio do ZimbraLDAP est√° <br><br>  <b>zimbraAutoProvPollingInterval</b> √© o per√≠odo de contato com o AD para a busca de novas contas. <br><br>  Com o restante dos par√¢metros, tudo est√° claro. <br><br>  No site do desenvolvedor, est√° escrito que, se voc√™ usar a vers√£o Zimbra at√© 8.0.8, para o modo EAGER funcionar, tamb√©m ser√° necess√°rio definir o par√¢metro zimbraAutoProvLastPolledTimestamp com o valor vazio "", caso contr√°rio, n√£o funcionar√° mais de uma vez. <br><br>  Em seguida, execute o comando: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmprov &lt; /tmp/prov</code> </pre> <br>  Para visualizar todos os valores de zmprov, voc√™ pode inserir o comando: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmprov gd zimbramail.home.local</code> </pre> <br>  Voc√™ pode editar os par√¢metros usando o mesmo utilit√°rio zmprov, reescrever os valores das vari√°veis ‚Äã‚Äã(utilit√°rio - a√ß√£o - dom√≠nio - vari√°vel - valores) pode ajudar na depura√ß√£o: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmprov md zimbramail.home.local zimbraAutoProvBatchSize 200</code> </pre> <br>  No site do desenvolvedor, h√° uma pequena tabela de solu√ß√£o de problemas de erro LDAP.  Os logs de <b>inicializa√ß√£o autom√°tica</b> s√£o gravados em <b>/opt/zimbra/log/mailbox.log</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Link</a> <br><br>  E um pouco mais de reserva.  Recebi um feedback do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">LevZ</a> , que configurou o servidor do zero.  Vers√£o 8.8.12_GA_3794.RHEL7_64_20190329045002 Edi√ß√£o RHEL7_64 FOSS, proxy do Patch 8.8.12_P1. <br><br>  Eis o seguinte: ap√≥s uma instala√ß√£o limpa, o par√¢metro "zimbraAutoProvScheduledDomains" precisa ser inicializado - execute o comando "ms zimbraAutoProvScheduledDomains" sem o sinal "+".  Se voc√™ escrever imediatamente "+ zimbraAutoProvScheduledDomains", ele n√£o ser√° gravado e o processo n√£o ser√° iniciado. <br><br>  Obrigado √† pessoa pela informa√ß√£o! <br><br><h2>  6. Instalando aplicativos clientes </h2><br>  Fa√ßa o download do pacote msi da vers√£o mais recente no site oficial.  Copiamos para a pasta de rede compartilhada acess√≠vel a todos para leitura.  Voc√™ pode copi√°-lo para o Netlogon, mas o pacote pesa mais de 100 MB, ent√£o decidi usar a bola. <br><br>  O Zimbra Desktop usa java, o que significa que voc√™ precisa baix√°-lo e coloc√°-lo na mesma pasta. <br>  Al√©m do gosto - KIX, GPO, m√£os.  Eu uso o GPO. <br><br>  Na mesma esfera, crie o arquivo installZimbra.cmd com o seguinte conte√∫do: <br><br><pre> <code class="bash hljs">\\SharedFolder\jrex64.exe INSTALL_SILENT=Enable \\SharedFolder\ZimbraInstall.msi /q /norestart</code> </pre> <br>  Adicione √† se√ß√£o "configura√ß√£o do computador" - "Configura√ß√£o do Windows" - "Scripts (in√≠cio / fim)" - Script de instala√ß√£o "Inicializa√ß√£o" criado anteriormente.  O script instalar√° o java e o Zimbra Desktop no modo silencioso e n√£o exigir√° uma reinicializa√ß√£o.  Pr√≥ximo - a folia do administrador da fantasia. <br><br>  Mas  Para configurar o Zimbra Desktop em nosso servidor, voc√™ precisa conduzir os par√¢metros com as m√£os. <br><br><img src="https://habrastorage.org/webt/0u/9w/rw/0u9wrw6toy4xpctfb0gufokyjge.png" alt="imagem"><br><br>  Portanto, para os usu√°rios, voc√™ precisa criar um tipo de nota de instru√ß√£o, em quais campos o que voc√™ precisa dirigir e em qual bot√£o clicar para acessar o email.  Em geral, n√£o √© dif√≠cil. <br><br><h2>  Conclus√£o </h2><br>  Assim, implementamos com muita rapidez e rapidez um sistema de intera√ß√£o corporativa completamente gratuito, baseado no Zimbra Collaboration Suite, configuramos sua intera√ß√£o com o dom√≠nio, simplificando a cria√ß√£o de caixas de correio e eliminando problemas com v√°rias contas extras. <br><br>  Na minha opini√£o, o Zimbra √© uma ferramenta bastante poderosa para o segmento corporativo.  Mas um grande n√∫mero de artigos j√° foi escrito sobre isso, n√£o vou borrif√°-lo. <br><br>  <b>PS:</b> <br>  O <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pr√≥ximo artigo</a> se concentrar√° no backup e na restaura√ß√£o de caixas de correio do Zimbra OSE. <br>  O <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">terceiro artigo</a> trata da gera√ß√£o e atualiza√ß√£o autom√°ticas de listas de discuss√£o com base em grupos de usu√°rios do AD no Zimbra OSE. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt439440/">https://habr.com/ru/post/pt439440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt439428/index.html">Como evitar ataques cibern√©ticos direcionados? 10 melhores caixas de prote√ß√£o de rede</a></li>
<li><a href="../pt439430/index.html">Acredite em mim se puder. Contadores de √°gua. parte 1</a></li>
<li><a href="../pt439432/index.html">Como se tornar um desenvolvedor Java em 1,5 anos</a></li>
<li><a href="../pt439434/index.html">NestJS - o mesmo back-end real no nodejs</a></li>
<li><a href="../pt439436/index.html">Redu√ß√£o de custos de pequenas s√©ries de eletr√¥nicos na R√∫ssia. WOLNA Internet Radio Case</a></li>
<li><a href="../pt439442/index.html">Julia. Geradores de relat√≥rios e documentos</a></li>
<li><a href="../pt439446/index.html">O que voc√™ precisa saber sobre o JavaScript Engine Switcher 3.0</a></li>
<li><a href="../pt439448/index.html">Que perguntas sobre virtualiza√ß√£o voc√™ espera uma resposta de um graduado?</a></li>
<li><a href="../pt439450/index.html">RS-485 em microcontroladores dom√©sticos da empresa Milander</a></li>
<li><a href="../pt439454/index.html">Programa como Arte - Um Novo Paradigma de Gerenciamento de Software</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>