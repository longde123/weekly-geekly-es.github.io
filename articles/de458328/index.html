<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🍳 👨🏾‍🚀 💾 So duplizieren Sie Ziele aus Yandex.Metrica in Google Analytics 🚶🏽 🈴 🤼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Was kann ich tun, wenn Sie in Yandex.Metrica über Google Tag Manager (GTM) eine große Anzahl von Zielen einrichten und diese Ziele dringend als Ereign...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So duplizieren Sie Ziele aus Yandex.Metrica in Google Analytics</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458328/"> Was kann ich tun, wenn Sie in Yandex.Metrica über Google Tag Manager (GTM) eine große Anzahl von Zielen einrichten und diese Ziele dringend als Ereignisse an Google Analytics (GA) übertragen müssen?  Natürlich können Sie jedes Tag neu konfigurieren, um Ereignisse parallel an GA und Metric zu senden. Wenn Metric jedoch viele Ziele enthält, wird dies einige Zeit dauern. <br><br>  Die umgekehrte Situation ist möglich, wenn die Ziele nicht von Ihnen, sondern von Entwicklern im Site-Code selbst festgelegt wurden.  Als Unternehmensanalyst müssen Sie das Senden derselben Ereignisse an GA konfigurieren, und Sie haben nur GTM zur Hand.  In diesem Fall können selbst bei einer geringen Anzahl von Zielen Schwierigkeiten auftreten.  Ereignisauslöser in GTM müssen so weit wie möglich angepasst werden, damit die Ziele in Metrik und Ereignisse in GA der gleichen Logik folgen und es keine signifikanten Abweichungen in verschiedenen Analysesystemen gibt. <br><br>  In beiden Fällen muss mehr als eine Stunde aufgewendet werden, um alles manuell anzupassen.  Sie können jedoch eine praktischere Option finden.  Es gibt eine Funktion, mit der Sie das Senden von Zielen an die Metrik abfangen und gleichzeitig Pushs an den dataLayer senden können.  Sie müssen sich also nicht daran erinnern oder verstehen, wie das Senden von Zielen an Yandex.Metrica konfiguriert wurde - verwenden Sie einfach die gewünschte Funktion.  Die Arbeitsversion der Funktion hängt davon ab, welche Version des Yandex.Metrica-Zählers Sie installiert haben. <br><a name="habracut"></a><br><h3>  So unterscheiden Sie einen neuen Metrikzähler von einem alten </h3><br>  Um die Arbeitsversion einer Funktion zu ermitteln, müssen Sie wissen, welche Version des Zählers auf Ihrer Site installiert ist. <br><br>  Wenn Ihr Zähler am 10.12.2008 früher installiert und später nicht aktualisiert wurde, haben Sie eine alte Version: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> &gt;</span></span><span class="javascript"><span class="javascript"> (</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">d, w, c</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ (w[c] = w[c] || []).push(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">try</span></span></span><span class="javascript"> { w.yaCounterXXXXXXXX = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> Ya.Metrika({ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">id</span></span></span><span class="javascript">: XXXXXXXX, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">clickmap</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">trackLinks</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">accurateTrackBounce</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">webvisor</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript"> }); } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">catch</span></span></span><span class="javascript"> (e) {} }); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> n = d.getElementsByTagName(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"script"</span></span></span><span class="javascript">)[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">], s = d.createElement(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"script"</span></span></span><span class="javascript">), f = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ n.parentNode.insertBefore(s, n); }; s.type = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"text/javascript"</span></span></span><span class="javascript">; s.async = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">; s.src = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"https://mc.yandex.ru/metrika/watch.js"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (w.opera == </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"[object Opera]"</span></span></span><span class="javascript">) { d.addEventListener(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"DOMContentLoaded"</span></span></span><span class="javascript">, f, </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">); } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">else</span></span></span><span class="javascript"> { f(); })(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">, </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"yandex_metrika_callbacks"</span></span></span><span class="javascript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  wo: <br><br>  <b>XXXXXXXX</b> ist Ihre Zählernummer. <br><blockquote>  w.yaCounterXXXXXXXX im Code macht deutlich, dass dies die alte Version des Zählers ist. <br></blockquote>  Ein Beispiel für das Senden eines Ziels in einem alten Zähler: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> yaCounterXXXXXXXX.reachGoal(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'TARGET_NAME'</span></span></span><span class="actionscript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  wo: <br><br>  <b>XXXXXXXX</b> - Ihre Zählernummer; <br>  <b>TARGET_NAME</b> ist die Kennung des Ziels. <br><br>  Eine neue Version des Zählers erschien am 12/10/2018. <br><br>  Es sieht so aus: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> &gt;</span></span><span class="javascript"><span class="javascript"> (</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">m, e, t, r, i, k, a</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ m[i] = m[i] || </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ (m[i].a = m[i].a || []).push(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">arguments</span></span></span><span class="javascript">) }; m[i].l = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript"> * </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Date</span></span></span><span class="javascript">(); k = e.createElement(t), a = e.getElementsByTagName(t)[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">], k.async = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">, k.src = r, a.parentNode.insertBefore(k, a) })(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">, </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"script"</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"https://mc.yandex.ru/metrika/tag.js"</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"ym"</span></span></span><span class="javascript">); ym(XXXXXXXX, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"init"</span></span></span><span class="javascript">, { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">clickmap</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">trackLinks</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">accurateTrackBounce</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">webvisor</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript"> }); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  wo: <br><br>  <b>XXXXXXXX</b> ist Ihre Zählernummer. <br><blockquote>  ym (XXXXXXXX im Code macht deutlich, dass dies die neue Version des Zählers ist. </blockquote>  Beispiel für das Senden eines Ziels in einem neuen Zähler: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ym(XXXXXX, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'reachGoal'</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'TARGET_NAME'</span></span></span><span class="actionscript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  wo: <br><br>  <b>XXXXXXXX</b> - Ihre Zählernummer; <br>  <b>TARGET_NAME</b> ist die Kennung des Ziels. <br><br><h3>  Funktion für die alte Version von Yandex.Metrica </h3><br>  Wenn Sie eine alte Version des Yandex.Metrica-Zählers installiert haben (siehe oben), sieht die Funktion zum Abfangen von Sendezielen folgendermaßen aus: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">mainTagFunction</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">reachGoal</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ yaCounterXXXXXXXX.reachGoal = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> param = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">arguments</span></span></span><span class="javascript">[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">]; reachGoal.apply(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">, </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">arguments</span></span></span><span class="javascript">); </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">//     dataLayer.push({ 'event': 'metrika', 'event_param': param }); }; } var yCounter = 0; function ySearch() { if (window.yaCounterXXXXXXXX) mainTagFunction(yaCounterXXXXXXXX.reachGoal); else { if (yCounter &lt; 100) { setTimeout(ySearch, 100); yCounter++; } else console.log(' .  '); } } ySearch(); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  wo: <br><br>  <b>XXXXXXXX</b> - Ihre Zählernummer; <br><br>  Der Code wird jedes Mal ausgelöst, wenn die Funktion yaCounterXXXXXXXXX mit der Methode aimGoal aufgerufen wird.  Die Funktion macht einen Push in der Datenschicht, beim Push werden der Ereignisname (metrika) und der Parameter übertragen, die Kennung des Ziels wird im Parameter übergeben. <br><br><h3>  Funktion für die neue Version von Yandex.Metrica </h3><br>  Wenn Sie eine neue Version des Yandex.Metrica-Zählers installiert haben, haben Sie folgende Funktion zum Abfangen von Sendezielen: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-function"><span class="hljs-title">func</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-params"><span class="actionscript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span></span><span class="actionscript">{ </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//   var yCounter = 0; //   . function ySearch(){ if (window.ym){ window.zm = window.ym; mainTagFunction(); }else if (yCounter &lt; 100){ setTimeout(ySearch, 100); yCounter++; }else console.log(' .  '); } //  function mainTagFunction(){ window.ym = function(){ window.zm.a.push(arguments); if (arguments[1] === 'reachGoal') dataLayer.push({ 'event': 'metrika', 'event_param': arguments[2] }); }; } //  ySearch(); }; setTimeout(func, 1000); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Es funktioniert jedes Mal, wenn die Funktion ym () aufgerufen wird, und wenn die <b>Reachgoal-</b> Methode aufgerufen wurde, sendet es einen Push an den DataLayer.  Der Name des Ereignisses (metrika) und der Parameter werden an den dataLayer übergeben, die Kennung des Ziels wird an den Parameter event_param übergeben. <br><br><h3>  Konfigurieren Sie das Senden von Ereignissen an GA über GTM </h3><br>  Um GTM so zu konfigurieren, dass Ereignisse mit den Zielen der Metrik in GA gesendet werden, müssen Sie: <br><br>  1. Erstellen Sie einen Trigger " <b>Seite anzeigen - DOM-Modell bereit</b> ". Sie können außerdem angeben, auf welchen Seiten Sie Ziele aus Metrik in GA duplizieren möchten <br><br><img src="https://habrastorage.org/webt/e3/kg/-j/e3kg-jcklhzz5wpnltwhxjxqzdg.png"><br><br>  2. Erstellen Sie ein " <b>Custom HTML</b> " -Tag und fügen Sie den gewünschten Funktionscode ein.  Auf diesem Tag ist ein zuvor erstellter Trigger installiert. <br><br><img src="https://habrastorage.org/webt/hw/e4/rq/hwe4rqvxcd6jhqhl7kdx4vx3ppw.png"><br><br>  3. Erstellen Sie einen Trigger " <b>Benutzerdefiniertes Ereignis</b> " mit dem Ereignisnamen metrika. <br><br><img src="https://habrastorage.org/webt/nt/-_/mm/nt-_mmswakvog6y4dhrwgjz13ag.png"><br><br>  4. Erstellen Sie eine Variable „Variable <b>auf Datenebene</b> “ mit einem Namen, wie im Beispiel gezeigt: <br><br><img src="https://habrastorage.org/webt/pi/y2/ft/piy2ftold0soogxxppce_tuwxgg.png"><br><br>  5. Erstellen Sie ein Tag " <b>Google Analytics - Universal Analytics</b> " mit einem Auslöser und einer Variablen, die zuvor erstellt wurden. <br><br><img src="https://habrastorage.org/webt/33/o7/fa/33o7fayg2zrj4eb8es6m69qbs1m.png"><br><br>  wo: <br><br>  <b>UA-XXXXXXXX-XX</b> - Ihre Google Analytics <b>-Zählernummer</b> <br><br>  6. Veröffentlichen Sie den GTM-Container. <br><br><img src="https://habrastorage.org/webt/my/xa/kg/myxakg2xydyr0tleuancksvnoqm.png"><br><br>  Mit diesen Einstellungen erhält Google Analytics Ereignisse mit der Kategorie des Ereignisses - Metrika. Die Aktionen für diese Ereignisse sind die Kennungen der Ziele von Yandex.Metrica. <br><br><img src="https://habrastorage.org/webt/pf/ne/ee/pfneeebnbknnxjuascxwchfvtbc.png"><br><br><h3>  Überprüfen Sie die Einstellungen </h3><br>  Um die Richtigkeit der Einstellungen für das Senden von Ereignissen an GA zu überprüfen, müssen Sie den folgenden Code in die Konsole Ihres Browsers eingeben: <br><br>  a) Für den neuen Metrikzähler <br><br><pre> <code class="javascript hljs">ym(XXXXXX, <span class="hljs-string"><span class="hljs-string">'reachGoal'</span></span>, <span class="hljs-string"><span class="hljs-string">'TARGET_NAME'</span></span>)</code> </pre> <br>  wo: <br><br>  <b>XXXXXXXX</b> - die Nummer Ihres Zählers in Yandex.Metrica. <br><br>  b) Für den alten Metrikzähler <br><br><pre> <code class="javascript hljs">yaCounterXXXXXXXX.reachGoal(<span class="hljs-string"><span class="hljs-string">'TARGET_NAME'</span></span>);</code> </pre> <br>  wo: <br><br>  <b>XXXXXXXX</b> - die Nummer Ihres Zählers in Yandex.Metrica. <br><br>  Die Konsole in jedem Browser wird auf ihre eigene Weise geöffnet. Bei Chrome wird die Konsole beispielsweise mit der Tastenkombination <b>Strg + Umschalt + j</b> geöffnet: <br><br><img src="https://habrastorage.org/webt/d8/-u/b1/d8-ub114bjwr5ca7pccnzkpwl-y.png"><br><br>  Nach dem Drücken der Eingabetaste sollte Ihr Ereignis nicht nur zu Metric, sondern auch zu GA wechseln. <br><br>  Um dies zu überprüfen, öffnen Sie den Bericht "Ereignisse" im Abschnitt " <b>In Echtzeit</b> ": <br><br><img src="https://habrastorage.org/webt/el/tf/7c/eltf7c1lb7geeb4okpr0oxn9r88.png"><br><br>  Wenn alles richtig konfiguriert wurde, sehen Sie eine Zeile mit den Werten Metrika und TARGET_NAME. <br><br>  Herzlichen Glückwunsch, Sie haben die Übertragung von Zielen von Metric auf Google Analytics eingerichtet! <br><br>  <i>Material wurde für das Portal Cossa vorbereitet.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de458328/">https://habr.com/ru/post/de458328/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de458310/index.html">Sammeln Sie mithilfe von Telegraf Metriken aus .NET-Anwendungen</a></li>
<li><a href="../de458312/index.html">Android Academy in Moskau: Fortgeschrittenenkurs</a></li>
<li><a href="../de458316/index.html">Yandex Retro Games Battle 2019 - Entwicklung von Spielen für ZX Spectrum</a></li>
<li><a href="../de458324/index.html">Alles, was Sie brauchen, um mit Vue.js zu beginnen</a></li>
<li><a href="../de458326/index.html">Yandex öffnet Toloka-Datensätze für Forscher</a></li>
<li><a href="../de458330/index.html">Der Perfektion sind keine Grenzen gesetzt: Wie neuronale Schnittstellen der Menschheit helfen</a></li>
<li><a href="../de458332/index.html">Asynchrone Programmierung - asynchrone Leistung: Verstehen Sie die Kosten der asynchronen Programmierung und warten Sie</a></li>
<li><a href="../de458334/index.html">Kontinuierliche Replikation von altem zu neuem PostgreSQL mit Slony</a></li>
<li><a href="../de458336/index.html">Der gesamte Zyklus der IT-Produktentwicklung anhand des Projektbeispiels: Teamrollen, Kundenaufgaben, Phasen</a></li>
<li><a href="../de458338/index.html">Anwendungssicherheits-Manager. Entwickler oder Sicherheit?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>