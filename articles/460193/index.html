<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÇüèø üê¥ üëü Supervisi√≥n del vencimiento del certificado en Windows en NetXMS ‚èØÔ∏è üöú üç¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, tuvimos la tarea de monitorear el per√≠odo de validez de los certificados en servidores con Windows. Bueno, c√≥mo me levant√©, despu√©s de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Supervisi√≥n del vencimiento del certificado en Windows en NetXMS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460193/"> Recientemente, tuvimos la tarea de monitorear el per√≠odo de validez de los certificados en servidores con Windows.  Bueno, c√≥mo me levant√©, despu√©s de que los certificados se convirtieron en una calabaza varias veces, al mismo tiempo que el colega barbudo responsable de su renovaci√≥n estaba de vacaciones.  Despu√©s de eso, <s>sospechamos algo y</s> decidimos pensarlo.  Dado que estamos introduciendo lentamente el sistema de monitoreo NetXMS, se ha convertido en el principal y, en principio, el √∫nico candidato para esta tarea. <br><br>  El resultado se obtuvo finalmente de la siguiente manera: <br><br><img src="https://habrastorage.org/webt/pf/wa/9q/pfwa9qmxenfj334rth33mcitz80.png"><br><br>  Y el proceso en s√≠ mismo es m√°s all√°. <br><a name="habracut"></a><br>  Vamos  No hay un contador incorporado para los certificados que caducan en NetXMS, por lo que debe crear los suyos propios y utilizar secuencias de comandos para proporcionarle datos.  Por supuesto, en Powershell, es Windows.  El script debe leer todos los certificados en el sistema operativo, tomar la fecha de vencimiento en d√≠as desde all√≠ y transferir este n√∫mero a NetXMS.  A trav√©s de su agente.  Comencemos con √©l. <br><br>  <b>Opci√≥n uno</b> , la m√°s f√°cil.  Simplemente obtenga el n√∫mero de d√≠as antes de que el certificado caduque con la fecha m√°s cercana. <br><br>  Para que el servidor NetXMS conozca la existencia de nuestro par√°metro personalizado, debe recibirlo del agente.  De lo contrario, este par√°metro no se puede agregar debido a su ausencia.  Por lo tanto, en el archivo de configuraci√≥n del agente <b>nxagentd.conf</b> , agregamos una l√≠nea de par√°metro externo con el nombre <b>HTTPS.CertificateExpireDateSimple</b> , en el que escribimos el script para ejecutar: <br><br><pre><code class="plaintext hljs">ExternalParameter = HTTPS.CertificateExpireDateSimple: powershell.exe -File "\\server\share\NetXMS_CertExpireDateSimple.ps1"</code> </pre> <br>  Dado que el script se ejecuta en la red, no debe olvidarse de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Pol√≠tica de ejecuci√≥n</a> , y tampoco debe olvidarse del otro "-NoLogo -NoProfile -NonInteractive", que omit√≠ para una mejor legibilidad del c√≥digo. <br><br>  Como resultado, la configuraci√≥n del agente se ve as√≠: <br><br><pre> <code class="plaintext hljs"># # NetXMS agent configuration file # Created by agent installer at Thu Jun 13 11:24:43 2019 # MasterServers = netxms.corp.testcompany.ru ConfigIncludeDir = C:\NetXMS\etc\nxagentd.conf.d LogFile = {syslog} FileStore = C:\NetXMS\var SubAgent = ecs.nsm SubAgent = filemgr.nsm SubAgent = ping.nsm SubAgent = logwatch.nsm SubAgent = portcheck.nsm SubAgent = winperf.nsm SubAgent = wmi.nsm ExternalParameter = HTTPS.CertificateExpireDateSimple: powershell.exe -File "\\server\share\NetXMS_CertExpireDateSimple.ps1"</code> </pre> <br>  Despu√©s de eso, debe guardar la configuraci√≥n y reiniciar el agente.  Puede hacerlo desde la consola de NetXMS: abra la configuraci√≥n (Editar el archivo de confuguraci√≥n del agente), edite, ejecute Guardar y aplicar, como resultado de lo cual, ocurrir√° exactamente lo mismo.  Luego, vuelva a leer la configuraci√≥n (Encuesta&gt; Configuraci√≥n), si no hay absolutamente ninguna fuerza para esperar.  Despu√©s de estos pasos, deber√≠a poder agregar nuestro par√°metro personalizado. <br><br>  En la consola NetXMS, vamos a la <b>Configuraci√≥n de</b> recopilaci√≥n de <b>datos del</b> servidor experimental en el que vamos a monitorear los certificados y crear un nuevo par√°metro all√≠ (en el futuro, despu√©s de la configuraci√≥n, tiene sentido transferirlo a las plantillas).  Seleccionamos HTTPS.CertificateExpireDateSimple de la lista, ingresamos Descripci√≥n con un nombre descriptivo, establecemos el tipo en Integer y establecemos el intervalo de sondeo.  No tiene sentido hacerlo demasiado corto para no obstruir la base de datos con informaci√≥n innecesaria, ser√° inconveniente esperar demasiado al verificar.  Para los certificados, generalmente configuro 600 segundos.  En el momento de la depuraci√≥n, tiene sentido acortarlo, 30 segundos, por ejemplo: <br><br><img src="https://habrastorage.org/webt/q_/r2/gy/q_r2gyru9rrf4rexqombopnjohg.png"><br><br>  Todo est√° listo, el tiempo suficiente.  Puedes comprobar ... no, es demasiado temprano.  Ahora, por supuesto, no obtendremos nada.  Solo porque el gui√≥n a√∫n no se ha escrito.  Corregimos esta omisi√≥n.  El script dar√° solo un n√∫mero, el n√∫mero de d√≠as restantes hasta que caduque el certificado.  El m√°s peque√±o de todos disponibles.  Script de ejemplo: <br><br><pre> <code class="powershell hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">#       $lmCertificates = @( Get-ChildItem -Recurse -path 'Cert:\LocalMachine\My' -ErrorAction Stop ) #   ,  "10 " if ($lmCertificates.Count -eq 0) { return 3650 } #  Expiration Date   $expirationDates = @( $lmCertificates | ForEach-Object { return $_.NotAfter } ) #    Expiration Date   $minExpirationDate = ($expirationDates | Measure-Object -Minimum -ErrorAction Stop ).Minimum #    Expiration Date          $daysLeft = [Math]::Floor( ($minExpirationDate - [DateTime]::Now).TotalDays ) #   return $daysLeft } catch { return -1 }</span></span></code> </pre> <br>  Resulta as√≠: <br><br><img src="https://habrastorage.org/webt/gt/wg/r0/gtwgr01zmsst4vl8mw-2h2du1cm.png"><br><br>  723 d√≠as, antes de que el certificado expire por casi dos a√±os m√°s.  Es l√≥gico, porque recientemente volv√≠ a firmar los certificados en el banco de pruebas de Exchange. <br><br>  Fue una opci√≥n f√°cil.  Probablemente alguien estar√≠a feliz con eso, pero quer√≠amos m√°s.  Nos propusimos la tarea de obtener una lista de todos los certificados en el servidor, por nombre, y para cada uno ver el n√∫mero de d√≠as restantes hasta que expire el certificado. <br><br>  <b>La segunda opci√≥n</b> , un poco m√°s complicada. <br><br>  Nuevamente editamos la configuraci√≥n del agente y all√≠, en lugar de la l√≠nea con ExternalParameter, escribimos otros dos: <br><br><pre> <code class="plaintext hljs">ExternalList = HTTPS.CertificateNames: powershell.exe -File "\\server\share\netxms_CertExternalNames.ps1" ExternalParameter = HTTPS.CertificateExpireDate(*): powershell.exe -File "\\server\share\netxms_CertExternalParameter.ps1" -CertificateId "$1"</code> </pre> <br>  En <b>ExternalList</b> obtenemos solo una lista de cadenas.  En nuestro caso, una lista de cadenas con nombres de certificados.  Una lista de estas l√≠neas nos da el gui√≥n.  El nombre de la lista es <b>HTTPS.CertificateNames</b> . <br><br>  Script NetXMS_CertNames.ps1: <br><br><pre> <code class="powershell hljs"><span class="hljs-comment"><span class="hljs-comment">#    $nameTypeList = @( [System.Security.Cryptography.X509Certificates.X509NameType]::SimpleName, [System.Security.Cryptography.X509Certificates.X509NameType]::DnsName, [System.Security.Cryptography.X509Certificates.X509NameType]::DnsFromAlternativeName, [System.Security.Cryptography.X509Certificates.X509NameType]::UrlName, [System.Security.Cryptography.X509Certificates.X509NameType]::EmailName, [System.Security.Cryptography.X509Certificates.X509NameType]::UpnName ) #  ,    $certList = @( Get-ChildItem -Path 'Cert:\LocalMachine\My' | Where-Object { $_.HasPrivateKey -eq $true } ) #   ,   "  -  - Thumbprint"    foreach ($cert in $certList) { $name = '(unknown name)' try { $thumbprint = $cert.Thumbprint $dateExpire = $cert.NotAfter foreach ($nameType in $nameTypeList) { $name_temp = $cert.GetNameInfo( $nameType, $false) if ($name_temp -ne $null -and $name_temp -ne '') { $name = $name_temp; break; } } Write-Output "$($name) - $($dateExpire.ToString('dd.MM.yyyy')) - [T:$($thumbprint)]" } catch { Write-Error -Message "Error processing certificate list: $($_.Exception.Message)" } }</span></span></code> </pre> <br>  Y ya en <b>ExternalParameter</b> alimentamos las l√≠neas de la lista ExternalList, y en la salida obtenemos el mismo n√∫mero de d√≠as para cada una.  El identificador es el certificado de huella digital.  Tenga en cuenta que HTTPS.CertificateExpireDate en esta opci√≥n contiene un asterisco (*).  Esto es necesario para que acepte variables externas, solo nuestro CertificateId. <br><br>  Script NetXMS_CertExpireDate.ps1: <br><br><pre> <code class="powershell hljs"><span class="hljs-comment"><span class="hljs-comment">#   $CertificateId param ( [Parameter(Mandatory=$false)] [String]$CertificateId ) #   if ($CertificateId -eq $null) { Write-Error -Message "CertificateID parameter is required!" return } # Thumbprint    $CertificateId      Expiration Date $certId = $CertificateId; try { if ($certId -match '^.*\[T:(?&lt;Thumbprint&gt;[A-Z0-9]+)\]$') { $thumbprint = $Matches['Thumbprint'] $certificatePath = "Cert:\LocalMachine\My\$($thumbprint)" if (Test-Path -PathType Leaf -Path $certificatePath ) { $certificate = Get-Item -Path $certificatePath; $certificateExpirationDate = $certificate.NotAfter $certificateDayToLive = [Math]::Floor( ($certificateExpirationDate - [DateTime]::Now).TotalDays ) Write-Output "$($certificateDayToLive)"; } else { Write-Error -Message "No certificate matching this thumbprint found on this server $($certId)" } } else { Write-Error -Message "CertificateID provided in wrong format. Must be FriendlyName [T:&lt;thumbprint&gt;]" } } catch { Write-Error -Message "Error while executing script: $($_.Exception.Message)" }</span></span></code> </pre> <br>  En la Configuraci√≥n del servidor de recopilaci√≥n de datos, cree un nuevo par√°metro.  En Par√°metro, seleccione nuestro <b>HTTPS.CertificateExpireDate (*)</b> de la lista y (¬°atenci√≥n!) Cambie el asterisco a <b>{instancia}</b> .  Este importante punto le permitir√° crear un contador separado para cada instancia (certificado).  El resto se completa, como en la versi√≥n anterior: <br><br><img src="https://habrastorage.org/webt/iz/js/yw/izjsywknmc_7lrph5axbulycbx4.png"><br><br>  Para que los contadores sean algo para crear, en la pesta√±a Descubrimiento de instancias, seleccione la Lista de agentes de la lista y en el campo Nombre de la lista ingrese el nombre de nuestra Lista externa del script: HTTPS.CertificateNames. <br><br>  Casi listo, espere un poco o fuerce Encuesta&gt; Configuraci√≥n y Encuesta&gt; Descubrimiento de instancias, si es completamente imposible esperar.  Como resultado, obtenemos todos nuestros certificados con fechas de vencimiento: <br><br> <a href="" title="Ver imagen original" rel="nofollow"><img src="https://habrastorage.org/webt/4i/6g/rb/4i6grbiuzscvt_9jsr7oo8vlr10.png"></a> <br><br>  ¬øQu√© se necesita?  Bueno, s√≠, solo un gusano de perfeccionismo mira esta huella digital innecesaria en el nombre del mostrador con ojos tristes y no permite terminar el art√≠culo.  Para alimentarlo, abra nuevamente las propiedades del contador y en la pesta√±a Descubrimiento de instancias en el campo ‚ÄúScript de filtro de descubrimiento de instancias‚Äù agregue el script escrito en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">NXSL</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">lenguaje</a> interno de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">NetXMS</a> ): <br><br><pre> <code class="javascript hljs">instance = $<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (instance ~= <span class="hljs-string"><span class="hljs-string">"^(.*)\s\-\s\[T\:[a-zA-Z0-9]+\]$"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> %(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, instance, $<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br>  que filtrar√° la huella digital: <br><br><img src="https://habrastorage.org/webt/79/js/hr/79jshrqquu9hvwmkyxppz1tmr_k.png"><br><br>  Y para mostrarlo filtrado, en la pesta√±a General en el campo Descripci√≥n, cambie CertificateExpireDate: {instancia} a <b>CertificateExpireDate: {nombre-instancia}</b> : <br><br><img src="https://habrastorage.org/webt/lb/wt/t_/lbwtt_qjjy-91-nduegszqkfyze.png"><br><br>  Todo, finalmente el final del <abbr title="Cuadro de atenci√≥n">KDPV</abbr> : <br><br> <a href="" title="Ver imagen original" rel="nofollow"><img src="https://habrastorage.org/webt/jy/gw/ce/jygwce-b5rghps1aojzw7piqkhk.png"></a> <br><br>  Belleza? <br><br>  Queda por configurar las alertas para que lleguen por correo cuando el certificado caduque en su final l√≥gico. <br><br>  1. Primero debe crear una Plantilla de eventos para activarla cuando disminuya el valor del contador a alg√∫n umbral establecido por nosotros.  En <b>Configuraci√≥n de eventos,</b> cree dos nuevas plantillas con nombres, diga <b>CertificateExpireDate_Threshold_Activate</b> con el estado de Advertencia: <br><br><img src="https://habrastorage.org/webt/rh/nc/se/rhncseix1uuw3agz4ioeyx3d02u.png"><br><br>  y <b>CertificateExpireDate_Threshold_Deactivate</b> con estado normal similar. <br><br>  2. A continuaci√≥n, vaya a las propiedades del contador y establezca el umbral en la pesta√±a Tresholds: <br><br><img src="https://habrastorage.org/webt/zu/tm/6y/zutm6yv1byvr5kuzbvhbegm7hro.png"><br><br>  donde seleccionamos nuestros eventos creados CertificateExpireDate_Threshold_Activate y CertificateExpireDate_Threshold_Deactivate, establecemos el n√∫mero de mediciones (Muestras) 1 (espec√≠ficamente, no tiene sentido establecer un contador espec√≠fico), el valor es 30 (d√≠as), por ejemplo, y, lo que es importante, establecemos el tiempo de repetici√≥n del evento.  Para los certificados en producci√≥n, lo configur√© una vez al d√≠a (86400 segundos), de lo contrario puede ahogarse en las alertas (que, por cierto, sucedi√≥ una vez, y adem√°s, el buz√≥n estuvo lleno durante el fin de semana).  Para la depuraci√≥n, tiene sentido establecer menos, 60 segundos, por ejemplo. <br><br>  3. En <b>Configuraci√≥n de acci√≥n,</b> cree una plantilla de mensaje de alerta, como esta: <br><br><img src="https://habrastorage.org/webt/3i/a1/z8/3ia1z8vqbnn260wcs0cqvfx6s0o.png"><br><br>  Todos estos% m,% S, etc.  - macros en las que se sustituir√°n los valores de nuestro par√°metro.  Se describen con m√°s detalle en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">manual de</a> NetXMS. <br><br>  4. Y finalmente, combinando los puntos anteriores, en la <b>Pol√≠tica de procesamiento de eventos,</b> cree una regla mediante la cual se crear√° una alarma y se enviar√° un mensaje: <br><br> <a href="" title="Ver imagen original" rel="nofollow"><img src="https://habrastorage.org/webt/dg/yw/3b/dgyw3bg6yk1iqbogvunteln3sek.png"></a> <br><br>  Mantenemos la pol√≠tica, todo se puede probar.  Establezca el umbral m√°s alto para la verificaci√≥n.  Mi certificado m√°s cercano caduca en 723 d√≠as, configur√© 724 para la verificaci√≥n. Como resultado, recibimos la siguiente alarma: <br><br><img src="https://habrastorage.org/webt/vu/56/z_/vu56z_zmsfu2g5jz2yqi9l8zf6i.png"><br><br>  y tal alerta de correo: <br><br><img src="https://habrastorage.org/webt/zz/vy/a8/zzvya8x9qqdaaqwdjkrzjyuhu1m.png"><br><br>  Ahora eso es todo.  Podr√≠a, por supuesto, configurar un tablero de mandos, construir gr√°ficos, pero para los certificados ser√° algo recto y aburrido, a diferencia de los gr√°ficos de CPU o carga de memoria, por ejemplo.  Pero, sobre eso de alguna otra manera. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/460193/">https://habr.com/ru/post/460193/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460181/index.html">Mejore su conocimiento de JavaScript al analizar el c√≥digo fuente</a></li>
<li><a href="../460185/index.html">Servicio en l√≠nea "An√°lisis de velocidad en accidentes por video"</a></li>
<li><a href="../460187/index.html">Imagine sus datos antes de recopilarlos.</a></li>
<li><a href="../460189/index.html">14 mejores herramientas de tablero Kanban en 2019</a></li>
<li><a href="../460191/index.html">Pare la l√≠nea o bombee su tuber√≠a, yo</a></li>
<li><a href="../460195/index.html">Peque√±o, s√≠, eliminado: un acelerador lineal de part√≠culas en miniatura, estableciendo un nuevo r√©cord</a></li>
<li><a href="../460197/index.html">Club t√©cnico moderno para ni√±os VS SUITs sovi√©ticos</a></li>
<li><a href="../460205/index.html">Estaci√≥n de trabajo criptogr√°fica basada en el contenedor PKCS # 12. Creaci√≥n de una firma electr√≥nica CadES-X Long Type 1. Parte 3</a></li>
<li><a href="../460207/index.html">C√≥mo un administrador de Linux manej√≥ un coro de ni√±os usando un sistema de reconocimiento de m√∫sica en Ubuntu 16.04. Micr√≥fono y Acordes</a></li>
<li><a href="../460211/index.html">Intel Pohoiki Beach: un sistema neurom√≥rfico con 8 millones de neuronas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>