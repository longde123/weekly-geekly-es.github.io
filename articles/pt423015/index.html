<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🎓 👇🏼 🎥 Git: erros comuns e como corrigi-los 😴 🍝 💿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Se você já trabalhou em um projeto grande, no qual, além de você, muitos outros programadores estão envolvidos, obviamente você usou o Git como um sis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Git: erros comuns e como corrigi-los</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423015/">  Se você já trabalhou em um projeto grande, no qual, além de você, muitos outros programadores estão envolvidos, obviamente você usou o Git como um sistema de controle de versão.  No curso de usar algo, de acordo com o nível de complexidade de um Git semelhante, todos cometem erros. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zx/vp/kq/zxvpkq7etunh6neceaelkwxehoe.jpeg"></div><br>  O autor do material, cuja tradução publicamos hoje, discutirá erros comuns que os programadores cometem ao trabalhar com o Git e conversará sobre como lidar com esses erros. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Erro na última mensagem de confirmação</font> </h2><br>  Após várias horas de bom trabalho, é fácil cometer um erro na mensagem de confirmação.  Felizmente, isso pode ser facilmente corrigido com o seguinte comando: <br><br><pre><code class="hljs pgsql">git <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> <span class="hljs-comment"><span class="hljs-comment">--amend</span></span></code> </pre> <br>  Este comando abrirá o editor e permitirá que você faça alterações na última mensagem da confirmação.  Ninguém, exceto você, deve saber que escreveu "Comentário inicial" com três "m". <br><br><h2>  <font color="#3AC1EF">Erro no nome da filial</font> </h2><br>  Suponha que o relógio esteja quase 15:00 e você ainda não almoçou.  Como resultado, atormentado pela fome, você nomeou um novo <code>feature-brunch</code> filial.  Gostoso, você não pode dizer nada. <br><br>  Este problema também pode ser resolvido.  Você pode renomear uma ramificação da mesma maneira que renomeia arquivos usando o comando <code>mv</code> .  É sobre movê-la para um novo lugar com o nome correto: <br><br><pre> <code class="hljs powershell">git branch <span class="hljs-literal"><span class="hljs-literal">-m</span></span> feature<span class="hljs-literal"><span class="hljs-literal">-brunch</span></span> feature<span class="hljs-literal"><span class="hljs-literal">-branch</span></span></code> </pre> <br>  Se você já enviou esse encadeamento para o repositório, precisará fazer mais algumas coisas para renomeá-lo.  Você deve excluir a ramificação antiga e enviar a nova para o repositório: <br><br><pre> <code class="hljs perl">git <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> origin --<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> feature-brunch git <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> origin feature-branch</code> </pre> <br><h2>  <font color="#3AC1EF">Alterações de confirmação aleatória no ramo mestre</font> </h2><br>  Suponha que você esteja trabalhando em um novo recurso e que tenha pressa, esqueceu de criar um novo ramo para ele.  Você já confirmou um monte de arquivos e tudo isso está no ramo <code>master</code> .  Você pode mover todas essas alterações para uma nova ramificação usando os três comandos a seguir.  Observe que, se você não usou, conforme aplicado às alterações, os comandos de <code>commit</code> ou <code>stash</code> , eles serão perdidos. <br><br><pre> <code class="hljs sql">git branch feature-branch git <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span> <span class="hljs-keyword"><span class="hljs-keyword">HEAD</span></span>~ <span class="hljs-comment"><span class="hljs-comment">--hard git checkout feature-branch</span></span></code> </pre> <br>  Como resultado, uma nova ramificação será criada, as alterações na ramificação <code>master</code> serão revertidas para o estado em que estavam antes das alterações, e será realizada uma transição para a nova ramificação, que conterá todas as alterações feitas anteriormente no <code>master</code> . <br><br><h2>  <font color="#3AC1EF">Trabalhe com arquivos que você esqueceu de adicionar à última confirmação</font> </h2><br>  Outra supervisão comum ao trabalhar com o Git é que as confirmações são feitas muito cedo e os arquivos necessários não entram nelas.  Digamos que você perdeu um arquivo, esqueceu de salvá-lo ou precisa fazer uma pequena alteração no arquivo para que o último commit faça sentido.  Nesta situação, o comando <code>--amend</code> será útil novamente.  Inclua o arquivo ausente no índice do repositório e execute este comando: <br><br><pre> <code class="hljs pgsql">git <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> missed-file.txt git <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> <span class="hljs-comment"><span class="hljs-comment">--amend</span></span></code> </pre> <br>  Depois disso, você pode alterar a mensagem de confirmação ou deixá-la da mesma forma que estava. <br><br><h2>  <font color="#3AC1EF">Adicionando o arquivo errado ao repositório</font> </h2><br>  E se o seu erro for exatamente o oposto do anterior?  E se você incluísse um arquivo no índice que não iria confirmar?  Pode ser um arquivo ENV, um diretório de criação do projeto, uma foto do seu cão que você salvou acidentalmente na pasta errada.  Tudo isso pode ser corrigido. <br><br>  Se suas ações estão limitadas à indexação do arquivo, mas você ainda não o confirmou, será muito fácil lidar com o problema usando o comando <code>reset</code> : <br><br><pre> <code class="hljs pgsql">git <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span> /assets/img/misty-<span class="hljs-keyword"><span class="hljs-keyword">and</span></span>-pepper.jpg</code> </pre> <br>  Se você avançou o suficiente e conseguiu confirmar a alteração, saiba que isso é corrigível.  Você só precisa usar mais alguns comandos: <br><br><pre> <code class="hljs powershell">git reset -<span class="hljs-literal"><span class="hljs-literal">-soft</span></span> HEAD~<span class="hljs-number"><span class="hljs-number">1</span></span> git reset /assets/img/misty<span class="hljs-operator"><span class="hljs-operator">-and</span></span><span class="hljs-literal"><span class="hljs-literal">-pepper</span></span>.jpg rm /assets/img/misty<span class="hljs-operator"><span class="hljs-operator">-and</span></span><span class="hljs-literal"><span class="hljs-literal">-pepper</span></span>.jpg git commit</code> </pre> <br>  Como resultado, o último commit será cancelado, a imagem será excluída, após o qual o novo commit será colocado onde deveria estar. <br><br><h2>  <font color="#3AC1EF">E se tudo desse errado?</font> </h2><br>  A técnica que vamos discutir agora ajuda em situações em que tudo dá errado.  Por exemplo, isso acontece quando você está muito interessado em copiar soluções prontas com o StackOverflow e, depois do trabalho, seu repositório está em condições piores do que estava no início.  Talvez todos nós tenhamos caído nessa situação. <br><br>  O <code>git reflog</code> mostra uma lista de tudo que você fez.  Em seguida, ele permite que você use as ferramentas Git para reverter as alterações e retornar a um dos estados anteriores do repositório.  Vale a pena notar que esse método vale a pena considerar como último recurso e, antes de usá-lo, você deve pensar cuidadosamente.  Portanto, você pode listar o que foi feito com o seguinte comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">git</span></span> reflog</code> </pre> <br>  O Git se lembra de todas as nossas ações e, como resultado da execução deste comando, você pode ver algo como o seguinte: <br><br><pre> <code class="hljs pgsql"><span class="hljs-number"><span class="hljs-number">3</span></span>ff8691 (HEAD -&gt; feature-branch) HEAD@{<span class="hljs-number"><span class="hljs-number">0</span></span>}: Branch: renamed refs/heads/feature-brunch <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> refs/heads/feature-branch <span class="hljs-number"><span class="hljs-number">3</span></span>ff8691 (HEAD -&gt; feature-branch) HEAD@{<span class="hljs-number"><span class="hljs-number">2</span></span>}: checkout: moving <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> master <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> feature-brunch <span class="hljs-number"><span class="hljs-number">2</span></span>b7e508 (master) HEAD@{<span class="hljs-number"><span class="hljs-number">3</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>: moving <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> HEAD~ <span class="hljs-number"><span class="hljs-number">3</span></span>ff8691 (HEAD -&gt; feature-branch) HEAD@{<span class="hljs-number"><span class="hljs-number">4</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>: Adds the client logo <span class="hljs-number"><span class="hljs-number">2</span></span>b7e508 (master) HEAD@{<span class="hljs-number"><span class="hljs-number">5</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>: moving <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> HEAD~<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">37</span></span>a632d HEAD@{<span class="hljs-number"><span class="hljs-number">6</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>: Adds the client logo <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the project <span class="hljs-number"><span class="hljs-number">2</span></span>b7e508 (master) HEAD@{<span class="hljs-number"><span class="hljs-number">7</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>: moving <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> HEAD <span class="hljs-number"><span class="hljs-number">2</span></span>b7e508 (master) HEAD@{<span class="hljs-number"><span class="hljs-number">8</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> (amend): Added contributing <span class="hljs-keyword"><span class="hljs-keyword">info</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the site dfa27a2 HEAD@{<span class="hljs-number"><span class="hljs-number">9</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span>: moving <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> HEAD dfa27a2 HEAD@{<span class="hljs-number"><span class="hljs-number">10</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> (amend): Added contributing <span class="hljs-keyword"><span class="hljs-keyword">info</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the site <span class="hljs-number"><span class="hljs-number">700</span></span>d0b5 HEAD@{<span class="hljs-number"><span class="hljs-number">11</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>: Addded contributing <span class="hljs-keyword"><span class="hljs-keyword">info</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the site efba795 HEAD@{<span class="hljs-number"><span class="hljs-number">12</span></span>}: <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> (initial): Initial <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span></code> </pre> <br>  Preste atenção na coluna mais à esquerda desta lista.  Ele contém índices.  Se você precisar voltar em algum momento no passado, execute o seguinte comando, substituindo <code>{index}</code> pelo link apropriado, por exemplo, <code>dfa27a2</code> .  Este comando é semelhante a este: <br><br><pre> <code class="hljs sql">git <span class="hljs-keyword"><span class="hljs-keyword">reset</span></span> <span class="hljs-keyword"><span class="hljs-keyword">HEAD</span></span>@{<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>}</code> </pre> <br><h2>  <font color="#3AC1EF">Sumário</font> </h2><br>  Vimos algumas maneiras de lidar com os erros que ocorrem ao trabalhar com o Git.  Esperamos que você não cometa esses erros e esses métodos de trabalho com o Git não serão úteis para você.  E se algo der errado - você saberá o que fazer. <br><br>  <b>Caros leitores!</b>  Você conhece algum truque interessante para trabalhar com o Git?  Se sim, compartilhe-os. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423015/">https://habr.com/ru/post/pt423015/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423005/index.html">Como o Yandex.Zen, o WordPress Caching Plugin e Hosting aumentaram minha pressão</a></li>
<li><a href="../pt423007/index.html">“Malyavki, mas bom”: como levamos os alunos a praticar</a></li>
<li><a href="../pt423009/index.html">Diagnóstico SENS. Biomarcadores de glicação de proteínas</a></li>
<li><a href="../pt423011/index.html">Gerenciamento de microsserviços com Kubernetes e Istio</a></li>
<li><a href="../pt423013/index.html">Como organizar suas dependências em um aplicativo Vue</a></li>
<li><a href="../pt423017/index.html">Bobbiniki: dez gravadores de rolo de cult - tell and show</a></li>
<li><a href="../pt423021/index.html">Online Hackathon por Naviaddress</a></li>
<li><a href="../pt423023/index.html">Por que os desenvolvedores precisam ensinar</a></li>
<li><a href="../pt423025/index.html">Como um programa de caixa pode economizar em análises?</a></li>
<li><a href="../pt423027/index.html">Transceptor óptico FTDI-POF</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>