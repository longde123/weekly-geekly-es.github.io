<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤜🏼 👨🏼‍⚖️ 🦅 2. Basé sur Meyers «C ++ efficace et moderne» - détails de l'inférence de type de modèle pour les tableaux 📢 🙍🏾 🤦🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, cher lecteur! 


 Cet article est le deuxième d'une série d'articles abstraits que j'écrirai en lisant le livre à succès de Scott Meyers, Eff...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>2. Basé sur Meyers «C ++ efficace et moderne» - détails de l'inférence de type de modèle pour les tableaux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415347/"><h3 id="dobryy-den-dorogoy-chitatel">  Bonjour, cher lecteur! </h3><br><p>  Cet article est le deuxième d'une série d'articles abstraits que j'écrirai en lisant le livre à succès de Scott Meyers, Effective and Modern c ++.  Chacun de ces articles aura un répertoire distinct dans <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un projet spécialement mis en place sur github.com</a></strong> avec des exemples en direct d'utilisation de ce que nous lisons aujourd'hui. </p><a name="habracut"></a><br><p>  Cet article complète <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les règles d'inférence de type de l'article précédent</a> et traite de certains aspects de l'inférence de type de modèle pour les arguments qui sont un tableau et une fonction. </p><br><h1 id="vyvod-tipa-shablona-dlya-massiva">  Inférence de type de modèle pour le tableau </h1><br><p>  Le compilateur c ++ a une telle propriété qu'un tableau déclaré, toujours lorsqu'il est transmis à une fonction de modèle avec un paramètre déclaré <strong>non comme un lien, est</strong> toujours converti en un pointeur vers le type stocké et vice versa, si le paramètre est déclaré en tant que lien, alors une telle conversion n'est pas effectuée. </p><br><h3 id="shablonnye-funkcii">  Fonctions du modèle: </h3><br><p> Pour commencer, je donnerai le code des fonctions modèles qui déduisent les types convoités, puis le processus de dérivation lui-même: </p><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">paramDeductInfo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T param, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *initType)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; initType &lt;&lt; <span class="hljs-string"><span class="hljs-string">" -&gt; (T param) -&gt; "</span></span> &lt;&lt; type_id_with_cvr&lt;T&gt;().pretty_name() &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refParamDeductInfo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T &amp;param, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *initType)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; initType &lt;&lt; <span class="hljs-string"><span class="hljs-string">" -&gt; (T &amp;param) -&gt; "</span></span> &lt;&lt; type_id_with_cvr&lt;T&gt;().pretty_name() &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; };</code> </pre> <br><h3 id="vyvod-tipa">  Inférence de type: </h3><br><pre> <code class="cpp hljs">cli::printCaption(<span class="hljs-string"><span class="hljs-string">"TYPE DEDUCTION FOR ARRAY OF CHAR"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> charSeq[] = <span class="hljs-string"><span class="hljs-string">"Hi everyone!"</span></span>; paramDeductInfo(charSeq, <span class="hljs-string"><span class="hljs-string">"char []"</span></span>); refParamDeductInfo(charSeq, <span class="hljs-string"><span class="hljs-string">"char []"</span></span>); cli::printCaption(<span class="hljs-string"><span class="hljs-string">"TYPE DEDUCTION FOR ARRAY OF INT"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> intSeq[] = {<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>}; paramDeductInfo(intSeq, <span class="hljs-string"><span class="hljs-string">"int []"</span></span>); refParamDeductInfo(intSeq, <span class="hljs-string"><span class="hljs-string">"int []"</span></span>); cli::printCaption(<span class="hljs-string"><span class="hljs-string">"TYPE DEDUCTION FOR ARRAY OF CLASS A"</span></span>); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> {</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> classASeq[] = {A(), A(), A()}; paramDeductInfo(classASeq, <span class="hljs-string"><span class="hljs-string">"class A[]"</span></span>); refParamDeductInfo(classASeq, <span class="hljs-string"><span class="hljs-string">"class A[]"</span></span>);</code> </pre> <br><p>  Le pseudo-code suivant reflète la sortie vers la console de ces instructions: </p><br><pre> <code class="hljs markdown"><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span> TYPE DEDUCTION FOR ARRAY OF CHAR <span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span> char [] -&gt; (T param) -&gt; char<span class="hljs-bullet"><span class="hljs-bullet">* char [] -&gt; (T &amp;param) -&gt; char [13] *</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">**** TYPE DEDUCTION FOR ARRAY OF INT **</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*** int [] -&gt; (T param) -&gt; int* int [] -&gt; (T &amp;param) -&gt; int [3] **</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*** TYPE DEDUCTION FOR ARRAY OF CLASS A **</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-emphasis"><span class="hljs-emphasis">***</span></span> class A[] -&gt; (T param) -&gt; main::A const* class A[] -&gt; (T &amp;param) -&gt; main::A const [3]</code> </pre> <br><h2 id="primer-1---analiz-dliny-massiva-compile-time">  Exemple 1 - analyse de la longueur d'un tableau au moment de la compilation </h2><br><p>  De plus, le type de sortie du tableau stocke des informations sur sa taille, qui peuvent être utilisées dans une fonction de modèle pour manipuler la taille du tableau lors de la compilation ou pour générer du code plus efficace. </p><br><p>  J'ai utilisé cette fonctionnalité dans la fonction <strong>printCaption</strong> pour limiter la longueur de l'en-tête affiché sur la ligne de commande au moment de la compilation.  Un peu, mais sympa. </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> cli { <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> N&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printCaption</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T (&amp;capValue)[N])</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static_assert</span></span>(N &lt;= <span class="hljs-number"><span class="hljs-number">121</span></span>, <span class="hljs-string"><span class="hljs-string">"caption length should be less than 120"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"*******************************************************************************"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span> &lt;&lt; capValue &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"*******************************************************************************"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }; }</code> </pre> <br><p>  Vérifions s'il y aura une erreur si nous introduisons un en-tête manifestement inapproprié. </p><br><pre> <code class="cpp hljs">cli::printCaption(<span class="hljs-string"><span class="hljs-string">"123456789 123456789 123456789 123456789 123456789 123456789 123456789"</span></span> <span class="hljs-string"><span class="hljs-string">"123456789 123456789 123456789 123456789 123456789 !"</span></span>);</code> </pre> <br><p>  Et vous voilà, s'il vous plaît, eh bien, n'est-ce pas merveilleux? </p><br><pre> <code class="hljs cpp">/...sources/cli.h:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>: error: <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> assertion failed: caption length should be less than <span class="hljs-number"><span class="hljs-number">120</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static_assert</span></span>(N &lt;= <span class="hljs-number"><span class="hljs-number">121</span></span>, <span class="hljs-string"><span class="hljs-string">"caption length should be less than 120"</span></span>); ^~~~~~~~~~~~~</code> </pre> <br><h2 id="primer-2---foreach-na-massive-na-pamyati">  Exemple 2 - foreach sur un tableau en mémoire </h2><br><p>  Je pense que voici une autre telle approche qui peut sembler utile si nous avons une taille de tableau au moment de la compilation, pourquoi ne pas l'utiliser pour organiser une boucle sur un tel tableau? </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> N, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forEachOnAnArray</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T (&amp;inmemArray)[N], F &amp;callback)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; N; ++i) callback(inmemArray[i]); };</code> </pre> <br><h4 id="ispolzovanie-etoy-funkcii-vyglyadit-sleduyuschim-obrazom">  L'utilisation de cette fonction est la suivante: </h4><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> printInt = [](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; value; }; forEachOnAnArray(intSeq, printInt);</code> </pre> <br><p>  En général, l'utilisation de cette fonction n'est en aucun cas limitée à l'extraction de la taille de la baie. </p><br><h2 id="vyvedenie-tipa-dlya-funkcii">  Inférence de type pour une fonction </h2><br><p>  Parler d'inférence de type pour la fonction Meyers est concis.  Il mentionne exactement qu'ils sont réduits à un pointeur de la même manière que pour les tableaux, sauf lorsque le paramètre de la fonction modèle par laquelle notre type de fonction doit être affiché n'est pas déclaré en tant que lien. </p><br><p>  Il aurait probablement dû parler d'une sorte d'encapsuleur de modèle pour les fonctions, mais je suppose que cela va au-delà de la question du c ++ efficace et moderne. </p><br><p>  Nous, mon cher lecteur, reviendrons certainement sur ce numéro! </p><br><h3 id="spasibo-i-horoshego-dnya">  Merci et bonne journée !! </h3></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr415347/">https://habr.com/ru/post/fr415347/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr415335/index.html">Tutoriel d'arrière-plan Android. Partie 5: Coroutines à Kotlin</a></li>
<li><a href="../fr415337/index.html">Comment les canaux Pusher ont déjà livré 10 000 000 000 000 de messages</a></li>
<li><a href="../fr415341/index.html">Cours d'administration PostgreSQL</a></li>
<li><a href="../fr415343/index.html"># 2HACKATON pour les jeunes professionnels à Perm</a></li>
<li><a href="../fr415345/index.html">Conseils pour décider de devenir développeur iOS</a></li>
<li><a href="../fr415349/index.html">Kubernetes 1.11: un aperçu des principales innovations</a></li>
<li><a href="../fr415351/index.html">Développement d'applications multi-locataires sur la plateforme cloud SAP dans Neo, partie 1</a></li>
<li><a href="../fr415357/index.html">La deuxième crêpe: l'annonce de SmartData 2018</a></li>
<li><a href="../fr415359/index.html">PHP 8: à quoi s'attendre. Lettre de Zeev Surasky</a></li>
<li><a href="../fr415361/index.html">Firefox vérifiera les mots de passe compromis en utilisant la méthode d'anonymisation k</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>