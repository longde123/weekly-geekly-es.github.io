<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõÄüèª üêπ üë©üèæ‚Äçü§ù‚Äçüë®üèø NB-IoT: ¬øc√≥mo funciona? Parte 2 üë®üèæ‚Äçüåæ üë©‚Äç‚öñÔ∏è üèÇüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La √∫ltima vez hablamos sobre las caracter√≠sticas del nuevo est√°ndar NB-IoT en t√©rminos de la arquitectura de la red de acceso de radio. Hoy discutirem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>NB-IoT: ¬øc√≥mo funciona? Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/431648/">  <b>La √∫ltima vez hablamos sobre las caracter√≠sticas del nuevo est√°ndar NB-IoT en t√©rminos de la arquitectura de la red de acceso de radio.</b>  <b>Hoy discutiremos qu√© ha cambiado en la red central (Core Network) con NB-IoT.</b>  <b>Entonces vamos.</b> <b><br></b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8bd/02e/574/8bd02e574b24c9955dc693bb5a5f3642.jpg" alt="imagen"><br><br>  Se han producido cambios significativos en el n√∫cleo de la red.  Para empezar, ha aparecido un nuevo elemento, as√≠ como una serie de mecanismos definidos por el est√°ndar como "Optimizaci√≥n CIoT EPS" u optimizaci√≥n de la red central para el Internet celular de las cosas. <br><br>  Como sabe, en las redes m√≥viles hay dos canales principales de comunicaci√≥n llamados Control Plane (CP) y User Plane (UP).  Control Plane est√° dise√±ado para el intercambio de mensajes de servicio entre varios elementos de red y sirve para proporcionar dispositivos de movilidad (gesti√≥n de movilidad) (UE) y establecer / mantener una sesi√≥n de transferencia de datos (gesti√≥n de sesi√≥n).  User Plane es, de hecho, un canal para transmitir tr√°fico de usuarios.  En LTE cl√°sico, la distribuci√≥n de CP y UP a trav√©s de las interfaces es la siguiente: <a name="habracut"></a><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e6a/f57/257/e6af5725701496cca134e7fde45de5d5.png" alt="imagen"><br><br>  Los mecanismos de optimizaci√≥n CP y UP para NB-IoT se implementan en los nodos MME, SGW y PGW, que se combinan condicionalmente en un √∫nico elemento llamado C-SGN (nodo de puerta de enlace de servicio IoT celular).  Adem√°s, el est√°ndar supone la aparici√≥n de un nuevo elemento de red: SCEF (funci√≥n de exposici√≥n de capacidad de servicio).  La interfaz entre el MME y el SCEF se llama T6a y se implementa sobre la base del protocolo DIAMETER.  A pesar de que DIAMETER es un protocolo de se√±alizaci√≥n, en NB-IoT est√° adaptado para la transferencia de peque√±as cantidades de datos que no son IP. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d9/a36/d53/7d9a36d53e5fa359b1e7d02da98a0cfc.png" alt="imagen"><br><br>  Basado en el nombre, SCEF es un sitio para exponer capacidades de servicio.  En otras palabras, SCEF oculta la complejidad de la red del operador y tambi√©n elimina la necesidad de identificaci√≥n y autenticaci√≥n de dispositivos m√≥viles (UE) de los desarrolladores de aplicaciones, permitiendo que los servidores de aplicaciones (Application Server, en adelante AS) reciban datos y administren dispositivos a trav√©s de una sola API. <br><br>  El identificador del UE no es un n√∫mero de tel√©fono (MSISDN) o una direcci√≥n IP, como estaba en la red cl√°sica 2G / 3G / LTE, sino la llamada "ID externa", que se define por el est√°ndar en el formato &lt;Local Identifier&gt; @ &lt;Dominio familiar para los desarrolladores de aplicaciones Identificador&gt; ".  Este es un gran tema separado, que merece un material separado, por lo tanto, no hablaremos de esto en detalle ahora. <br><br>  Ahora nos ocuparemos de las innovaciones m√°s significativas.  "CIoT EPS Optimization" es una optimizaci√≥n de los mecanismos de transferencia de tr√°fico y la gesti√≥n de las sesiones de suscriptores.  Aqu√≠ est√°n los principales: <br><br><ul><li>  DoNAS </li><li>  Nidd </li><li>  Mecanismos de ahorro de energ√≠a PSM y eDRX </li><li>  Hlcom </li></ul><br>  <b>DoNAS (datos sobre NAS):</b> <br><br>  Este es un mecanismo dise√±ado para optimizar la transferencia de peque√±as cantidades de datos. <br><br>  En LTE cl√°sico, una unidad de abonado, cuando se registra en la red, establece una conexi√≥n PDN (en adelante PDN) a trav√©s de eNodeB a MME-SGW-PGW.  La conexi√≥n UE-eNodeB-MME es el llamado "portador de radio de se√±alizaci√≥n" (SRB).  Si es necesario transmitir / recibir datos, el UE establece otra conexi√≥n con el eNodoB - "Portador de radio de datos" (DRB), para transmitir el tr√°fico de usuarios a SGW y luego a PGW (interfaces S1-U y S5, respectivamente).  Al final del intercambio y en ausencia de tr√°fico durante alg√∫n tiempo (generalmente 5-20 segundos), estas conexiones se desconectan y el dispositivo pasa al modo de espera o al "Modo inactivo".  Si es necesario, el intercambio de una nueva pieza de datos SRB y DRB se reinstalan. <br><br>  En NB-IoT, el tr√°fico de usuarios se puede transmitir a trav√©s de un canal de se√±alizaci√≥n (SRB) en mensajes de protocolo NAS ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://www.3gpp.org/more/96-nas</a> ).  Ya no es necesario instalar DRB.  Esto reduce significativamente la carga de se√±al, ahorra recursos de radio de red y, lo m√°s importante, extiende la vida √∫til de la bater√≠a del dispositivo. <br><br>  En la secci√≥n eNodeB - MME, los datos del usuario comienzan a transmitirse a trav√©s de la interfaz S1-MME, que no era el caso en la tecnolog√≠a cl√°sica LTE, y el protocolo NAS se utiliza para esto, en el que aparece el "contenedor de datos del usuario". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b38/3ca/091/b383ca091aff5634b77f798c124ea537.png" alt="imagen"><br><br>  Para transferir el "plano de usuario" del MME al SGW, aparece una nueva interfaz S11-U, que est√° dise√±ada para transferir peque√±os vol√∫menes de datos de mel√≥n de usuario.  El protocolo S11-U se basa en GTP-U v1, que se utiliza para transmitir el plano de usuario en otras interfaces de la red de arquitectura 3GPP. <br><img src="https://habrastorage.org/getpro/habr/post_images/291/414/312/2914143120918a42d83230b40eb7f4e1.png" alt="imagen"><br>  <b>NIDD (entrega de datos no IP):</b> <br><br>  Como parte de una mayor optimizaci√≥n de los mecanismos para transferir peque√±as cantidades de datos, adem√°s de los tipos existentes de PDN, como IPv4, IPv6 e IPv4v6, ha aparecido otro tipo: no IP.  En este caso, al UE no se le asigna una direcci√≥n IP, y los datos se transmiten sin usar el protocolo IP.  Hay varias razones para esto: <br><br><ol><li>  Los dispositivos IoT, como los sensores, pueden transmitir cantidades muy peque√±as de datos, 20 bytes o incluso menos.  Dado que el tama√±o m√≠nimo de un encabezado IP es de 20 bytes, la encapsulaci√≥n en IP a veces puede ser bastante costosa; </li><li>  No es necesario implementar una pila de IP en el chip, lo que lleva a su reducci√≥n de costos (pregunta para discusi√≥n en los comentarios). </li></ol><br>  En general, los dispositivos IoT necesitan una direcci√≥n IP para transmitir datos a trav√©s de Internet.  En el concepto de NB-IoT, SCEF act√∫a como un √∫nico punto de conexi√≥n para AS, y el intercambio de datos entre dispositivos y servidores de aplicaciones ocurre a trav√©s de la API.  En ausencia de SCEF, los datos no IP al AS pueden transmitirse a trav√©s del t√∫nel punto a punto (PtP) desde PGW y la encapsulaci√≥n en IP ya se realizar√° en √©l. <br><br>  Todo esto encaja en el paradigma NB-IoT: la m√°xima simplificaci√≥n y abaratamiento de los dispositivos. <br><br>  <b>Mecanismos de ahorro de energ√≠a PSM y eDRX:</b> <br><br>  Uno de los beneficios clave de las redes LPWAN es la eficiencia energ√©tica.  Declara hasta 10 a√±os de duraci√≥n de la bater√≠a en una sola bater√≠a.  Veamos c√≥mo se alcanzan esos valores. <br><br>  ¬øCu√°ndo consume un dispositivo la menor potencia?  Corregir cuando est√° apagado.  Y si es imposible desenergizar completamente el dispositivo, desenergicemos el m√≥dulo de radio, mientras no sea necesario.  Solo primero debe coordinar esto con la red. <br><br>  <b>PSM (modo de ahorro de energ√≠a):</b> <br><br>  El modo de ahorro de energ√≠a PSM permite que el dispositivo apague el m√≥dulo de radio durante un tiempo prolongado, mientras permanece registrado en la red, y no reinstale el PDN cada vez que necesite transferir datos. <br><br>  Para que la red sepa que el dispositivo todav√≠a est√° disponible, inicia peri√≥dicamente el procedimiento de actualizaci√≥n: Actualizaci√≥n del √°rea de seguimiento (TAU).  La red establece la frecuencia de este procedimiento utilizando el temporizador T3412, cuyo valor se transmite al dispositivo durante el procedimiento de conexi√≥n o el pr√≥ximo TAU.  En el LTE cl√°sico, el valor predeterminado de este temporizador es de 54 minutos y el m√°ximo es de 186 minutos.  Sin embargo, para garantizar una alta eficiencia energ√©tica, la necesidad de salir al aire cada 186 minutos es un placer demasiado costoso.  Para resolver este problema, se desarroll√≥ el mecanismo PSM. <br><br>  El dispositivo activa el modo PSM al transmitir los valores de dos temporizadores T3324 y T3412-Extendido en los mensajes "Solicitud de adjunto" o "Solicitud de √°rea de seguimiento".  El primero determina el tiempo que el dispositivo estar√° disponible despu√©s de cambiar al "Modo inactivo".  El segundo es el tiempo despu√©s del cual se debe producir el TAU, solo que ahora su valor puede alcanzar 35712000 segundos o 413 d√≠as.  Dependiendo de la configuraci√≥n, el MME puede aceptar los valores del temporizador recibidos del dispositivo o cambiarlos enviando nuevos valores en los mensajes ‚ÄúAdjuntar Aceptar‚Äù o ‚ÄúSeguimiento del √Årea de Seguimiento Aceptar‚Äù.  Ahora el dispositivo no puede encender el m√≥dulo de radio durante 413 d√≠as y permanecer registrado en la red.  ¬°Como resultado, obtenemos enormes ahorros en recursos de red y eficiencia energ√©tica del dispositivo! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/454/acd/f5b/454acdf5be7596292b607513eeacaac7.png" alt="imagen"><br><br>  Sin embargo, en este modo, el dispositivo no est√° disponible solo para las comunicaciones entrantes.  Si es necesario, transfiera algo al lado del servidor de aplicaciones, el dispositivo puede salir del PSM en cualquier momento y enviar datos, despu√©s de lo cual permanece activo para que el temporizador T3324 reciba mensajes de informaci√≥n del AS (si corresponde). <br><br>  <b>eDRX (recepci√≥n discontinua extendida):</b> <br><br>  eDRX, recepci√≥n intermitente avanzada.  Para transferir datos a un dispositivo que est√° en "Modo inactivo", la red realiza un procedimiento de notificaci√≥n: "Paginaci√≥n".  Al recibir el dispositivo de b√∫squeda, se inicia el establecimiento de SRB para una mayor comunicaci√≥n con la red.  Pero para no perderse el mensaje de Paginaci√≥n dirigido a √©l, el dispositivo debe monitorear constantemente la transmisi√≥n de radio, que tambi√©n consume bastante energ√≠a. <br><br>  eDRX es un modo en el que el dispositivo recibe mensajes de la red no constantemente, sino peri√≥dicamente.  Durante los procedimientos de conexi√≥n o TAU, el dispositivo negocia con la red los intervalos de tiempo durante los cuales "escuchar√°" el aire.  En consecuencia, el procedimiento de paginaci√≥n se realizar√° a los mismos intervalos.  En el modo eDRX, el dispositivo se divide en ciclos (ciclo eDRX).  Al comienzo de cada ciclo se encuentra la llamada "Ventana de tiempo de paginaci√≥n" (PTW): es el momento en que el dispositivo escucha el canal de radio.  Al final de PTW, el dispositivo apaga el m√≥dulo de radio hasta el final del ciclo. <br><img src="https://habrastorage.org/getpro/habr/post_images/6db/904/b06/6db904b06c01b940885b43683cc8c905.png" alt="imagen"><br>  <b>HLCOM (comunicaci√≥n de alta latencia):</b> <br><br>  Si es necesario transferir datos a Uplink, el dispositivo puede salir de cualquiera de estos dos modos de ahorro de energ√≠a sin esperar el final del ciclo PSM o eDRX.  Pero aqu√≠ es posible transferir datos al dispositivo solo cuando est√° activo. <br><br>  La funcionalidad o comunicaci√≥n HLCOM con alta latencia es el almacenamiento en b√∫fer de los paquetes de enlace descendente en SGW mientras el dispositivo est√° en modo de ahorro de energ√≠a y no es accesible para la comunicaci√≥n.  Los paquetes almacenados en el b√∫fer se entregar√°n tan pronto como el dispositivo salga del PSM haciendo una TAU o transmitiendo tr√°fico de enlace ascendente, o cuando llegue el PTW. <br><br>  Esto, por supuesto, requiere conciencia por parte de los desarrolladores de productos IoT, ya que la comunicaci√≥n con el dispositivo no se obtiene en tiempo real y requiere un cierto enfoque para dise√±ar la l√≥gica de negocios para las aplicaciones. <br><br>  En conclusi√≥n, digamos: la introducci√≥n de lo nuevo siempre es emocionante, y ahora estamos lidiando con un est√°ndar que no ha sido probado completamente ni siquiera por "bisontes" mundiales como Vodafone y Telef√≥nica, por lo tanto, es doblemente emocionante.  Nuestra presentaci√≥n del material no reclama una integridad absoluta, pero esperamos que proporcione una comprensi√≥n suficiente de la tecnolog√≠a.  Se agradecer√≠a cualquier comentario. <br><br>  <i>Autor: El experto en soluciones convergentes y servicios multimedia Alexey Lapshin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">aslapsh</a></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es431648/">https://habr.com/ru/post/es431648/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es431636/index.html">C√≥mo celebrar el d√≠a de seguridad de la informaci√≥n</a></li>
<li><a href="../es431638/index.html">C√≥mo ingresamos al departamento de seguridad de la informaci√≥n de una gran empresa y comenzamos a trabajar en √©l. Diario de dos j√≥venes y prometedores especialistas.</a></li>
<li><a href="../es431642/index.html">Apicultores versus microcontroladores o los beneficios de los errores</a></li>
<li><a href="../es431644/index.html">L√≠nea recta con TM. v4.0</a></li>
<li><a href="../es431646/index.html">DataGrip 2018.3: soporte de Cassandra, generaci√≥n de archivos SQL a partir de objetos, muchas mejoras para la finalizaci√≥n autom√°tica y mucho m√°s</a></li>
<li><a href="../es431650/index.html">Latencia de aprendizaje: teor√≠a de colas</a></li>
<li><a href="../es431652/index.html">Algoritmo de muestreo de yacimientos</a></li>
<li><a href="../es431654/index.html">Tendencias en lenguajes de programaci√≥n 2019</a></li>
<li><a href="../es431656/index.html">CraSSh: rompiendo todos los navegadores modernos con c√°lculos CSS</a></li>
<li><a href="../es431660/index.html">Caracter√≠sticas del juego usando ECS: agrega un botiqu√≠n de primeros auxilios al tirador</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>