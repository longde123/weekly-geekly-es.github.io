<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôåüèΩ üó≥Ô∏è üèòÔ∏è Primera contribuci√≥n a la API del navegador de Facebook üòç üå°Ô∏è üë®üèø‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nuestra posici√≥n como propietarios de un sitio web popular, y nuestro trabajo de apoyo a la popular plataforma React, nos brinda oportunidades √∫nicas ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Primera contribuci√≥n a la API del navegador de Facebook</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451900/"><p><img src="https://habrastorage.org/webt/ot/me/yt/otmeytc2idaafvqyj9c3dcekdw4.jpeg" alt="cubrir"></p><br><p> Nuestra posici√≥n como propietarios de un sitio web popular, y nuestro trabajo de apoyo a la popular plataforma React, nos brinda oportunidades √∫nicas y la comprensi√≥n de trabajar con el navegador que queremos usar para resolver el problema de la "cola".  Como miembro activo de la Comunidad de est√°ndares web (W3C), participamos en una discusi√≥n sobre muchas innovaciones, incluidos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">los trabajadores de servicios</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CSS-overscroll</a> , pero hasta hace poco, nunca creamos nuestras propias iniciativas para mejorar el navegador web.  Con el fin de lograr un aumento significativo en la productividad, se propuso una nueva API, que, como resultado de la estrecha cooperaci√≥n con nuestros colegas de Google Chrome, se proporcion√≥ para una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">versi√≥n de prueba</a> .  <strong>Chrome v74</strong> incluir√° la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">API isInputPending</a> y se puede usar para mejorar tanto el tiempo de ejecuci√≥n general de JavaScript como el tiempo de respuesta de eventos.  Este es solo el primer paso para mejorar la planificaci√≥n de JavaScript en la web.  Esperamos obtener comentarios de los desarrolladores y usarlos para crear la versi√≥n final de la API. </p><a name="habracut"></a><br><p>  Uno de los indicadores de rendimiento m√°s importantes en la web moderna es el tiempo requerido para responder a un evento de usuario (haciendo clic en un bot√≥n o entrando en un campo), con su visualizaci√≥n completa.  En Facebook, compartimos y medimos eventos en cuatro etapas: </p><br><ul><li>  sistema operativo recibe datos </li><li>  inicio real de procesamiento </li><li>  comenzar a mostrar cambios en la pantalla en respuesta a un evento </li><li>  se completa el procesamiento y se visualiza el resultado </li></ul><br><p>  Cuando evaluamos nuestros productos m√°s productivos, se not√≥ que el tiempo de espera en la cola genera los mayores retrasos.  Por cola se entiende el tiempo entre el momento en que el usuario interact√∫a con la p√°gina (por ejemplo, hacer clic o tocar) y cuando comienza el procesamiento real del evento.  En algunos casos, este retraso puede ser bastante significativo.  Imagine que hace clic en el icono de notificaci√≥n y luego espera un minuto antes de que el bot√≥n responda.  Probablemente nadie esperar√° una respuesta. </p><br><h2 id="bystraya-zagruzka-ili-bystroe-reagirovanie-vyberite-odin">  Arranque r√°pido o respuesta r√°pida: elija uno </h2><br><p>  Existe una dif√≠cil compensaci√≥n entre la carga r√°pida de p√°ginas y la interactividad.  Si un sitio web requiere JavaScript, una opci√≥n es ejecutarlo todo en un bloque.  Pero esto puede crear problemas.  Los mecanismos de JavaScript dentro de los navegadores web generalmente son de un solo subproceso, es decir, solo pueden realizar una operaci√≥n por p√°gina a la vez.  En el caso de cargar la p√°gina, esto significa que si el usuario hace clic en algo, el navegador debe poner en cola el evento de clic hasta que se inicie todo el bloque de JavaScript. </p><br><p>  Al igual que muchos otros sitios, resolvemos este problema dividiendo JavaScript en peque√±os bloques.  Mientras se carga la p√°gina, lanzamos JavaScript y luego devolvemos el control al navegador.  Luego, el navegador puede verificar la cola de eventos de entrada y ver si hay algo que manejar.  El navegador puede volver a ejecutar bloques JavaScript a medida que se agregan.  Esto ayuda, pero puede causar otros problemas.  Cada vez que devolvemos el control al navegador, lleva un tiempo comprobar el giro de los eventos de entrada, procesar los eventos y seleccionar el siguiente bloque de JavaScript.  Por lo tanto, aunque el navegador responde a los eventos m√°s r√°pido, a√∫n necesitamos encontrar un equilibrio entre el tama√±o de los bloques de c√≥digo y la frecuencia con la que somos inferiores al navegador.  Si cambiamos los controles con demasiada frecuencia, la p√°gina se carga demasiado lentamente, si por el contrario, con menos frecuencia, el navegador necesita m√°s tiempo para responder a los eventos de los usuarios y la gente se decepciona. </p><br><p><img src="https://habrastorage.org/webt/ta/sw/ue/taswuexpvwj5q5lpns2qmoyi0ue.jpeg" alt="carga r√°pida"></p><br><blockquote>  Si ejecutamos grandes bloques de JavaScript, el navegador puede enviar eventos de usuario con un largo retraso (arriba);  Si ejecutamos bloques m√°s peque√±os, la p√°gina tarda m√°s en cargar (abajo). </blockquote><br><h2 id="isinputpending-reshenie">  Soluci√≥n isInputPending </h2><br><p>  Cuando descubrimos retrasos en la cola, recurrimos a nuestros colegas en Chrome.  Quer√≠amos ver c√≥mo se ver√≠a todo si se nos ocurriera un nuevo enfoque de descarga que eliminar√≠a este dilema de compromiso.  Despu√©s de hablar con ellos, sugerimos isInputPending.  <em>La API isInputPending</em> es la primera en utilizar el concepto de interrupciones para eventos de usuario en la web. </p><br><p>  Debajo del cap√≥, <em>isInputPending</em> escucha en la cola de entrada de Chrome en el lado del compilador para detectar eventos antes de que se agreguen a la transmisi√≥n principal.  Dado que esta escucha se realiza fuera del hilo principal, <em>las</em> llamadas <em>isInputPending</em> no consumen muchos recursos inform√°ticos y deber√≠an ser muy r√°pidas.  Esto permite a los desarrolladores llamar con frecuencia a la API y maximizar la capacidad de respuesta. </p><br><p>  Tan pronto como preparamos esta propuesta, recurrimos al Grupo de trabajo de rendimiento web del W3C y recibimos el acuerdo de varios proveedores de navegadores de que vale la pena explorar nuestra idea.  En el futuro, colaboramos con nuestros colegas en Chrome, implementamos independientemente una nueva API y enviamos las correcciones de c√≥digo correspondientes en Chrome.  Gracias a los ingenieros de Chrome, obtuvimos parches de prueba que nos permiten probar los cambios y obtener comentarios de los desarrolladores antes de un lanzamiento completo.  Esta versi√≥n nos permitir√° comprender la importancia de esta API para los desarrolladores y determinar√° nuestras conversaciones futuras sobre esta API con los proveedores de navegadores web.  Esta es la primera vez que pasamos por todas las etapas de desarrollo de una API web, desde discutir una propuesta en un foro hasta transferir c√≥digo a un navegador web. </p><br><h2 id="kak-rabotaet-isinputpending">  C√≥mo funciona IsputPending </h2><br><p>  <em>Como su</em> nombre lo indica, <em>isInputPending</em> le dice si hay eventos en espera de entrada.  Los desarrolladores pueden usar esta informaci√≥n mientras ejecutan JavaScript para decidir si quieren recuperar el control del navegador.  Usado correctamente, <em>isInputPending</em> puede eliminar por completo el dilema de la carga r√°pida y la interactividad. </p><br><p> Para trabajar con la API, <code>navigator.scheduling.isInputPending()</code> .  Esencialmente, si el navegador espera que se env√≠e el evento, este m√©todo devuelve <code>true</code> .  Cuando se llama sin ning√∫n argumento, se verifican todos los tipos de eventos compatibles.  Adem√°s, es posible especificar manualmente una lista de tipos de eventos: mouse, rueda, t√°ctil, que deben verificarse para la entrada pendiente. </p><br><h3 id="primer-proverka-lyubyh-tipov-sobytiy">  Ejemplo: verificar cualquier tipo de evento </h3><br><pre> <code class="plaintext hljs">while (workQueue.length &gt; 0) { if (navigator.scheduling.isInputPending()) { //       break; } let job = workQueue.shift(); job.execute(); }</code> </pre> <br><h3 id="primer-proverka-na-konkretnye-vhodnye-sobytiya">  Ejemplo: comprobaci√≥n de eventos de entrada espec√≠ficos </h3><br><pre> <code class="plaintext hljs">while (workQueue.length &gt; 0) { if (navigator.scheduling.isInputPending(['mousedown', 'mouseup', 'keydown', 'keyup'])) { //       'mousedown'  'mouseup'  'keydown'  'keyup' break; } let job = workQueue.shift(); job.execute(); }</code> </pre> <br><h2 id="chto-dalshe">  Que sigue </h2><br><p>  Si los comentarios de la comunidad son positivos, <em>isInputPending</em> puede estar completamente disponible en Chrome.  Entonces podemos deshacernos de estos retrasos notables en la cola y hacer que el trabajo en Internet sea m√°s r√°pido y m√°s flexible para las personas en nuestros sitios.  Para los desarrolladores que tambi√©n quieren deshacerse de los retrasos en la cola y mejorar la interacci√≥n y el rendimiento de descarga, pronto estar√° disponible una versi√≥n de prueba.  Reg√≠strese <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> y comparta su opini√≥n sobre la versi√≥n de prueba tan pronto como est√© disponible. </p><br><p>  El proceso de portabilidad <em>isInputPending</em> de Chrome es una nueva forma de desarrollar est√°ndares web en Facebook.  Esperamos continuar desarrollando nuevas API y aumentar nuestra contribuci√≥n a los navegadores web de c√≥digo abierto.  En el futuro, podr√≠amos incorporar esta API directamente en React para que los desarrolladores puedan aprovechar la API de forma inmediata.  Adem√°s, <em>isInputPending</em> ahora <em>es</em> parte del gran trabajo de crear primitivas para la planificaci√≥n en la web.  Esperamos continuar nuestra asociaci√≥n con Chrome.  Al final, esperamos ver las herramientas del navegador que permitir√°n a los desarrolladores integrarse m√°s profundamente en la cola de tareas del navegador e incluso les permitir√°n comprender las prioridades del navegador para diversas solicitudes y tareas de la red. </p><br><h2 id="primechanie-avtora">  Nota del autor </h2><br><p>  Para probar la nueva API que necesita: </p><br><ul><li>  instalar el navegador Google Chrome versi√≥n 74-76 </li><li>  habilite las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">caracter√≠sticas de la plataforma web experimental Experimental</a> </li></ul><br><div class="spoiler">  <b class="spoiler_title">Chrome v74</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/66/bb/yq/66bbyqirlqgfzupbobwovk_ozv4.png" alt="v74"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">Chrome v76 (desarrollar)</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/u9/1j/du/u91jdu5dbgtrt6gsrj2d-5mrbze.png" alt="v76"></p></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/451900/">https://habr.com/ru/post/451900/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451886/index.html">Usar matem√°ticas discretas en las pruebas</a></li>
<li><a href="../451890/index.html">Delegaci√≥n de una zona de subred inversa de menos de / 24 en BIND. Como funciona</a></li>
<li><a href="../451894/index.html">Una breve descripci√≥n general de la arquitectura del compilador</a></li>
<li><a href="../451896/index.html">Un eyeDisk "irrompible" est√° protegido por un esc√°ner de iris, pero transmite una contrase√±a en texto claro</a></li>
<li><a href="../451898/index.html">Innovaci√≥n en ruso</a></li>
<li><a href="../451902/index.html">Microsoft Azure Developer Camp Rusia</a></li>
<li><a href="../451904/index.html">A veces m√°s es menos. Cuando una disminuci√≥n en la carga conduce a un aumento en el retraso</a></li>
<li><a href="../451906/index.html">Vulnerabilidad de Exchange: c√≥mo detectar la elevaci√≥n de privilegios a un administrador de dominio</a></li>
<li><a href="../451908/index.html">La historia de las computadoras: una noche en el Museo Yandex</a></li>
<li><a href="../451912/index.html">La red neuronal profunda de MuseNet escribe m√∫sica</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>