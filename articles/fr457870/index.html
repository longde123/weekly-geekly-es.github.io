<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèÅ ü§ô üëÜüèº Infrastructure de construction de projet avec docker üíÖüèø ‚úÇÔ∏è üéÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il existe d√©j√† des mat√©riaux sur Habr pour configurer le docker- container pour la compilation du projet. Par exemple, Utilisation de Docker pour cr√©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Infrastructure de construction de projet avec docker</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457870/"><p>  Il existe d√©j√† des mat√©riaux sur Habr pour configurer le <strong>docker-</strong> container pour la compilation du projet.  Par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Utilisation de Docker pour cr√©er et ex√©cuter un projet C ++</a> .  Dans cet article, comme dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pr√©c√©dent,</a> la question de la construction du projet sera examin√©e, mais ici, je voudrais aller au-del√† du didacticiel et approfondir les questions de l'utilisation de conteneurs dans de telles t√¢ches, ainsi que de la construction de l'infrastructure de construction avec <strong>Docker</strong> . </p><a name="habracut"></a><br><h2 id="nemnogo-o-docker">  Un peu de docker </h2><br><p>  Pour plus de clart√© de la discussion, il est n√©cessaire de fournir une description de certains composants <strong>docker</strong> . </p><br><h3 id="image">  Image </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'image Docker</a> est un mod√®le en <strong>lecture seule</strong> avec des instructions pour cr√©er un conteneur.  Pour cr√©er l' <strong>image,</strong> vous devez cr√©er un <strong>Dockerfile</strong> , qui d√©crit toutes les √©tapes de l'assemblage.  Chacune de ces √©tapes cr√©e un calque s√©par√© √† l'int√©rieur de l' <strong>image</strong> .  Chaque calque suivant est superpos√© au-dessus de tous les pr√©c√©dents et ne contient que les modifications qui doivent √™tre apport√©es au calque pr√©c√©dent. </p><br><p>  Par exemple, pour un <strong>Dockerfile</strong> : </p><br><pre><code class="plaintext hljs">FROM ubuntu:18.04 ADD app.sh /app ENTRYPOINT /bin/bash /app/app.sh</code> </pre> <br><p>  <strong>L'</strong> image de <strong>docker</strong> aura la structure suivante: </p><br><p><img src="https://habrastorage.org/webt/va/pv/rh/vapvrhrjuhirk1fw2up-_h-osau.png"></p><br><p>  Les couches √† l'int√©rieur de l' <strong>image sont</strong> mises en cache et peuvent √™tre r√©utilis√©es si aucune modification n'est d√©tect√©e.  Si le calque est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modifi√© (ajout√© / supprim√©)</a> , tous les calques suivants sont cr√©√©s √† partir de z√©ro.  Pour apporter des modifications √† l'image du conteneur (et, par cons√©quent, √† l'environnement du processus lanc√©), il suffit de r√©parer le <strong>Dockerfile</strong> et de commencer √† construire l'image. </p><br><h3 id="konteyner">  Conteneur </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un conteneur Docker</a> est une instance de d√©marrage de l' <strong>image</strong> .  Il peut √™tre cr√©√©, d√©marr√©, arr√™t√©, supprim√©, etc. Par d√©faut, les conteneurs sont isol√©s les uns des autres et du syst√®me h√¥te.  Au d√©marrage, le conteneur d√©marre une commande, qui peut √™tre sp√©cifi√©e dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ENTRYPOINT</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CMD</a> , et s'arr√™te lorsqu'elle est termin√©e.  Une situation acceptable est lorsque <strong>CMD</strong> et <strong>ENTRYPOINT sont pr√©sents</strong> , car ils interagissent comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©crit dans la documentation</a> . </p><br><p>  Lorsque vous cr√©ez chaque conteneur, un nouveau calque est ajout√© au-dessus de tous les conteneurs existants.  Il est accessible en √©criture dans le conteneur actuel et est d√©truit avec le conteneur.  Toutes les op√©rations d'√©criture, de cr√©ation de nouveaux fichiers lors du fonctionnement du conteneur sont appliqu√©es √† cette couche, l' <strong>image</strong> reste toujours inchang√©e.  Ainsi, la structure des couches du conteneur cr√©√© ressemblera √†: </p><br><p><img src="https://habrastorage.org/webt/yj/eb/rk/yjebrku_12g3cuu3qnl6xfdtdbo.png"></p><br><p>  Lors de l'utilisation de la <code>docker run</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, un <strong>nouveau</strong></a> conteneur sera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©√© √†</a> chaque fois, avec <strong>sa propre</strong> couche pour l'√©criture.  Dans les t√¢ches de construction, cela signifie qu'√† chaque d√©marrage, il cr√©era un nouvel environnement propre qui n'a rien √† voir avec les ex√©cutions pr√©c√©dentes.  La liste des conteneurs cr√©√©s peut √™tre consult√©e en ex√©cutant la commande: <code>docker container ls -a</code> . </p><br><h2 id="sobiraem-proekt-v-konteynere">  Nous collectons le projet dans le conteneur </h2><br><p>  Pour plus de clart√©, nous d√©crivons bri√®vement le processus de cr√©ation d'une application dans un conteneur; ce processus est d√©crit plus en d√©tail dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article 1</a> et l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article 2</a> . </p><br><p>  Les √©tapes sch√©matiquement possibles pour cr√©er l'application dans <strong>Docker</strong> peuvent √™tre repr√©sent√©es comme suit: <br><img src="https://habrastorage.org/webt/g_/ru/kt/g_ruktfloq-0loozoxjo9aafxga.png"></p><br><p>  Analysons les √©tapes indiqu√©es: </p><br><ol><li>  Nous utilisons le <strong>Dockerfile</strong> , qui d√©crit l'environnement, les commandes pour assembler et copier les r√©sultats, et sur cette base, nous cr√©ons une image du conteneur. </li><li>  Nous utilisons l'image r√©sultante pour cr√©er et lancer le conteneur avec la <code>docker run</code> .  Nous montons le dossier source et le dossier o√π le r√©sultat de l'assemblage sera copi√© dans le conteneur. </li><li>  Une fois le conteneur termin√©, les artefacts d'assemblage seront plac√©s dans le r√©pertoire mont√©. </li></ol><br><p>  Un exemple est donn√© dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> . </p><br><p>  √âtant donn√© que la <code>docker run</code> est utilis√©e ici, pour chaque lancement, un conteneur distinct sera cr√©√© avec sa propre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">couche pour l'√©criture</a> , de sorte que les fichiers temporaires des assemblys pr√©c√©dents n'entreront pas dans celui en cours.  N'oubliez pas de nettoyer les conteneurs arr√™t√©s. </p><br><p>  Le montage du r√©pertoire source facilite le d√©bogage de l'assembly.  Mais cela comporte des risques - vous pouvez collecter une version √† partir d'un code qui n'a pas pass√© le contr√¥le de qualit√© ou qui n'est pas du tout ajout√© au syst√®me de contr√¥le de version.  Pour √©viter cela, vous pouvez cloner le r√©f√©rentiel git √† l'int√©rieur du conteneur √† chaque build, comme, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans le fichier</a> : </p><br><pre> <code class="plaintext hljs">FROM ubuntu:bionic RUN apt-get update \ &amp;&amp; apt-get install -y apt-utils RUN apt-get update \ &amp;&amp; apt-get install -y make gcc g++ qt5-default git RUN mkdir -p /app/src WORKDIR /app/build #       ENTRYPOINT git -C /app/src clone https://github.com/sqglobe/SimpleQtProject.git \ &amp;&amp; qmake /app/src/SimpleQtProject/SimpleQtProject.pro \ &amp;&amp; make \ &amp;&amp; cp SimpleQtProject /app/res/SimpleQtProject-ubuntu-bionic</code> </pre> <br><p>  Ici, le clonage est effectu√© dans <code>ENTRYPOINT</code> , pas dans l'instruction <code>RUN</code> , en raison de la mise en cache.  <code>ENTRYPOINT</code> est <strong>toujours</strong> ex√©cut√© au d√©marrage du conteneur et le r√©sultat de la commande <code>RUN</code> peut √™tre <strong>extrait du cache</strong> . </p><br><h2 id="infrastruktura-dlya-sborki">  Construire une infrastructure </h2><br><p>  Pour construire un projet pour diff√©rents syst√®mes d'exploitation ou <strong>distributions</strong> Linux, une certaine configuration de serveurs (build machines, serveurs avec un syst√®me de contr√¥le de version, etc.) peut √™tre utilis√©e.  Dans la pratique, j'ai d√ª g√©rer les infrastructures suivantes: </p><br><p><img src="https://habrastorage.org/webt/ue/0i/1w/ue0i1wmgapl-8x9h9-zw-bsrbi8.png"></p><br><p>  Ici, l'utilisateur acc√®de au serveur <strong>Web</strong> via lequel le projet est construit sur des machines avec <strong>Ubuntu</strong> et <strong>Red Hat</strong> .  Ensuite, sur chaque machine, le r√©f√©rentiel git est clon√© avec le projet dans un r√©pertoire temporaire et l'assembly d√©marre.  L'utilisateur peut t√©l√©charger les fichiers r√©sultants √† partir de la m√™me page √† partir de laquelle il a commenc√© l'ensemble du processus. </p><br><p>  Un tel assemblage est reproductible car les d√©veloppeurs utilisent le m√™me environnement. </p><br><p>  Parmi les inconv√©nients - il est n√©cessaire de maintenir une infrastructure enti√®re, d'administrer plusieurs serveurs, d'√©liminer les bogues dans les scripts et <strong>les</strong> applications <strong>Web</strong> , etc. </p><br><h2 id="uproschaem-s-docker">  Simplifiez avec Docker </h2><br><p>  Soutenir l'infrastructure illustr√©e ci-dessus n√©cessite certains co√ªts, √† la fois mon√©taires et humains.  Si votre √©quipe travaille sur une petite startup, ou si vous √™tes le seul d√©veloppeur, vous pouvez utiliser des conteneurs <strong>Docker</strong> pour impl√©menter votre infrastructure de build. </p><br><p>  Consid√©rons un projet <strong>Qt</strong> trivial qui est construit en utilisant <strong>qmake</strong> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SimpleQtProject</a> .  Le dossier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Docker</a> du projet sp√©cifi√© contient un certain nombre de fichiers: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">centos7.docker</a> - d√©crit un conteneur pour la construction d'un projet pour <strong>CentOS 7</strong> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ubuntu-bionic.docker</a> - un conteneur pour la construction sous <strong>Ubuntu 18.04</strong> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ubuntu-xenial.docker</a> - d√©crit un conteneur pour la construction sous <strong>Ubuntu 16.04</strong> . </li></ul><br><p>  Ces fichiers impl√©mentent l'id√©e de cloner le code source √† l'int√©rieur d'un conteneur. </p><br><p>  L'ensemble complet est lanc√© √† l'aide du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Makefile</a> .  Il est tr√®s court et contient suffisamment de commentaires.  Sa base est la cr√©ation d'une image et le lancement du conteneur: </p><br><pre> <code class="plaintext hljs">%: %.docker docker build -t simple-qt-$(strip $(subst .docker,, $&lt; )) --file $&lt; . docker run --mount type=bind,source=$(RELEASE_DIR),target=/app/res simple-qt-$(strip $(subst .docker,, $&lt; ))</code> </pre> <br><p>  √Ä ce stade de l'assemblage, une image du conteneur est cr√©√©e avec le nom compos√© du pr√©fixe <strong>simple-qt-</strong> et le nom du syst√®me (pour <strong>centos 7,</strong> ce sera <strong>simple-qt-centos7</strong> ).  En tant que <strong>Dockerfile</strong> , le fichier correspondant avec l'autorisation <strong>.docker</strong> est <strong>utilis√©</strong> .  Ensuite, le conteneur est lanc√© en fonction de l'image cr√©√©e et un dossier est mont√© dessus pour copier les artefacts d'assemblage. </p><br><p>  Apr√®s avoir ex√©cut√© la <code>make</code> dans le r√©pertoire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">docker</a> , le dossier <strong>docker / releases</strong> contiendra les r√©sultats de construction pour plusieurs plates-formes. </p><br><p>  Ainsi, notre infrastructure pour construire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SimpleQtProject</a> ressemblera √† ceci: </p><br><p><img src="https://habrastorage.org/webt/bs/bg/ru/bsbgru5mo2bcrqb4z_31sdreyt8.png"></p><br><p>  Avantages de cette configuration: </p><br><ol><li>  <strong>Localit√©</strong> .  Le d√©veloppeur collecte un projet pour plusieurs plates-formes sur sa machine locale, ce qui √©limine la n√©cessit√© de contenir une flotte de serveurs, de configurer la copie des artefacts entre les serveurs sur le r√©seau, d'envoyer et de traiter les commandes r√©seau. </li><li>  <strong>Isolement de l'environnement</strong> .  Le conteneur fournit un environnement compl√®tement isol√© pour cr√©er une application sp√©cifique.  Il est possible de cr√©er des projets avec des environnements incompatibles sur la m√™me machine (par exemple, ceux qui n√©cessitent diff√©rentes versions de la m√™me biblioth√®que). </li><li>  <strong>Versioning</strong>  En pla√ßant le <strong>Dockerfile</strong> dans le r√©f√©rentiel git, vous pouvez suivre les modifications dans l'environnement de g√©n√©ration avec la publication de nouvelles versions, revenir aux versions pr√©c√©dentes de l'environnement de g√©n√©ration, etc. </li><li>  <strong>Mobilit√©</strong> .  Si n√©cessaire, cette infrastructure est d√©ploy√©e sans probl√®me sur un autre ordinateur.  La technologie de cr√©ation d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une image de conteneur</a> vous permet d'apporter des modifications √† l'image elle-m√™me tr√®s facilement - il suffit de mettre √† jour le <strong>Dockerfile</strong> et de commencer √† cr√©er l'image. </li><li>  <strong>Auto-documentation</strong> .  Essentiellement, un <strong>Dockerfile</strong> contient les √©tapes de d√©ploiement d'un environnement d'assemblage.  Par cons√©quent, si n√©cessaire, d√©ployez un tel environnement, mais d√©j√† dans un syst√®me normal, vous pouvez utiliser les commandes de celui-ci. </li><li>  <strong>L√©g√®ret√©</strong> .  Le conteneur d√©marre au moment o√π l'assemblage commence et s'arr√™te automatiquement √† la fin.  Il ne perd pas de temps CPU et de RAM. </li></ol><br><p>  Cependant, il y a un inconv√©nient important - l'assemblage du projet n√©cessitera l'assemblage de l'image du conteneur.  Lorsque vous d√©marrez pour la premi√®re fois, cela peut prendre beaucoup de temps.  Mais avec des r√©p√©titions, surtout si le <strong>Dockerfile n'a</strong> pas chang√©, l'image est assembl√©e en utilisant le cache plusieurs fois plus rapidement. </p><br><p>  Il faut √©galement penser √† nettoyer les conteneurs arr√™t√©s. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  En conclusion, je voudrais noter que le <strong>docker</strong> n'est pas la seule technologie de conteneurisation.  Mais certaines fonctionnalit√©s le distinguent favorablement pour les t√¢ches d'assemblage du m√™me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">LXC</a> : </p><br><ol><li>  Vous pouvez cr√©er un conteneur √† l'aide d'un <strong>Dockerfile de</strong> texte.  Il s'agit d'un fichier avec une syntaxe simple, vous pouvez l'ajouter au r√©f√©rentiel du projet (comme je le fais toujours) et le garder constamment √† port√©e de main. </li><li>  Chaque fois, en lan√ßant le conteneur <strong>docker</strong> avec la <code>docker run</code> nous obtenons un environnement <em>propre</em> , comme si nous faisions tout pour la premi√®re fois.  Les fichiers temporaires entre les assemblys ne sont pas enregistr√©s. </li><li>  Le conteneur ne lance pas l'ensemble du syst√®me d'exploitation, mais uniquement le processus d'assemblage n√©cessaire. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr457870/">https://habr.com/ru/post/fr457870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr457854/index.html">Bonjour des programmeurs des ann√©es 80</a></li>
<li><a href="../fr457860/index.html">D√©veloppement d'une application de streaming √† l'aide de Node.js et React</a></li>
<li><a href="../fr457862/index.html">iOS Digest n ¬∞ 8 (14 juin - 27 juin)</a></li>
<li><a href="../fr457864/index.html">Mythes et l√©gendes de l'analyse de syst√®me ou de ce qu'un analyste d'une banque fait</a></li>
<li><a href="../fr457866/index.html">Tests unitaires √† Laravel</a></li>
<li><a href="../fr457872/index.html">Comment g√©rer le temps et arr√™ter de tergiverser?</a></li>
<li><a href="../fr457874/index.html">Pourquoi les employ√©s reviennent-ils? Histoires de d√©part et de retour</a></li>
<li><a href="../fr457876/index.html">Traduction: Norme IEEE 802.15.4z. Qu'est-ce qui nous attend dans le futur?</a></li>
<li><a href="../fr457884/index.html">Internet souverain - clarifier les ordonnances</a></li>
<li><a href="../fr457886/index.html">Authentification √† deux facteurs sur le site √† l'aide d'un jeton USB. Maintenant pour Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>