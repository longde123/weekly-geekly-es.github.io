<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüöí üë®‚Äç‚ù§Ô∏è‚Äçüë® üòå Aktualisieren Sie die SPPermission-Bibliothek und den Hasser üå•Ô∏è üö£üèª üê∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- "Eine Art Bibliothek, jemand aktualisiert ... Was hatte Haiter damit zu tun?" Warum muss ich als ausgezeichneter Entwickler Zeit mit diesem Artikel ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aktualisieren Sie die SPPermission-Bibliothek und den Hasser</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430886/"> - "Eine <i>Art Bibliothek, jemand aktualisiert ... Was hatte Haiter damit zu tun?"</i>  <i>Warum muss ich als ausgezeichneter Entwickler Zeit mit diesem Artikel verbringen?</i>  ‚Äù <br><br>  Sie k√∂nnten denken, mein lieber Freund.  Keine Zeitverschwendung.  Dies ist nur eine abendliche Lesung mit einer Menge lustiger Lacher.  Der Text handelt von der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RequestPermission-</a> Bibliothek und ihrem mysteri√∂sen Autor. <br><a name="habracut"></a><br>  Beginnen wir mit der Hauptsache - Rebranding!  Die Bibliothek wurde in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SPPermission</a> umbenannt.  Ich wei√ü nicht, ob dies der Fall ist oder nicht, aber nach der √Ñnderung des Namens h√§ngt es die zweite Woche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">oben auf GitHub</a> .  Ja, es gibt so ein Top, es ist bedingt, aber dort gibt es immer noch interessante Projekte.  Der Autor (eine mysteri√∂se Person) hat die Banner auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Projektseite</a> aktualisiert, eine Beschreibung, einen riesigen Abschnitt des <i>Donats</i> eingef√ºgt.  Was f√ºr ein gieriger! <br><br>  Aber gehen wir weiter zum Projekt selbst: <br><br><img src="https://habrastorage.org/webt/g8/b4/pb/g8b4pbkznhzv5e-fhz_rifcodpo.gif" width="600"><br><br>  Wie Sie an der riesigen Gr√∂√üe der Gifs <i>(nicht-orthodoxe 4 Megabyte) sehen k√∂nnen</i> , fordert das Projekt eine Liste der Berechtigungen an, es gibt Symbole und Text.  Man kann sogar sagen, dass es gut aussieht. <br><br><h3>  Installieren </h3><br>  Sie k√∂nnen den Quellcode einfach in Ihr Projekt ziehen. Dies ist ein Ordner mit strukturierten Dateien.  Und Sie k√∂nnen <s>nicht unter Unsinn leiden</s> , <i>wenn Sie</i> die Bibliothek mit <i>SocoaPods erstellen</i> .  Ich werde nicht die Vor- und Nachteile erz√§hlen, nicht √ºber diesen Artikel.  F√ºgen Sie die Zeile zur <i>Pod-</i> Datei hinzu: <br><br><pre><code class="ruby hljs">pod <span class="hljs-string"><span class="hljs-string">'SPPermission'</span></span></code> </pre> <br>  und aktualisieren Sie die Abh√§ngigkeiten.  Dies ist h√∂chstwahrscheinlich der schwierigste Schritt von allen. <br><br><h3>  Verwenden Sie </h3><br>  Wenn Sie die Dateien nur in das Projekt gezogen haben, ist das <i>SPPermission-</i> Modul bereits verf√ºgbar.  Wenn Sie <s>keinen Unsinn hatten</s> und <i>ocoaPods</i> verwendet <i>haben</i> , sollten Sie die Bibliothek in den Controller importieren: <br><br><pre> <code class="plaintext hljs">import SPPermission</code> </pre><br>  In der <i>viewDidAppear-</i> Funktion rufen <i>wir nun</i> das folgende Konstrukt auf: <br><br><pre> <code class="plaintext hljs">override func viewDidAppear(_ animated: Bool) { super.viewDidAppear(animated) SPPermission.Dialog.request( with: [.camera, .calendar, .notification], on: self ) }</code> </pre><br>  Wir √ºbergeben die Liste der Berechtigungen und den Controller, auf dem das Dialogfeld angezeigt wird.  Es bleibt das Projekt zu starten. <br><br><h3>  Anpassung </h3><br>  Wenn Sie, lieber Freund, mit Tabellen oder Sammlungen gearbeitet haben, werden die W√∂rter <i>Delegate</i> und <i>DataSource</i> keine Angst machen.  Und wenn Sie ein wenig von Mustern besessen sind, werden Sie sogar schreien: <br><br>  - ‚Äû <i>Wow!</i>  <i>Protokollbasierter Ansatz!</i>  ‚Äù <br><br>  Sie sehen!  Siehst du?  Aber ich sagte, dass es nicht lustig w√§re.  Aber sobald ich diese Zeile gelesen habe, gehen wir weiter. <br><br>  Beginnen wir mit dem <i>SPPermissionDialogDataSource-</i> Protokoll. Es ist f√ºr die Anpassung des Dialogfelds verantwortlich und erm√∂glicht eine loyalere Integration der Bibliothek in das Projekt.  Schauen wir uns die Parameter an: <br><br><pre> <code class="plaintext hljs">@objc public protocol SPPermissionDialogDataSource: class { @objc optional var dialogTitle: String { get } @objc optional var dialogSubtitle: String { get } @objc optional var dialogComment: String { get } @objc optional var allowTitle: String { get } @objc optional var allowedTitle: String { get } @objc optional var bottomComment: String { get } @objc optional var showCloseButton: Bool { get } @objc optional func name(for permission: SPPermissionType) -&gt; String? @objc optional func description(for permission: SPPermissionType) -&gt; String? @objc optional func image(for permission: SPPermissionType) -&gt; UIImage? }</code> </pre><br>  Um ehrlich zu sein, sehe ich keinen Grund, mich mit allen zu befassen, da ihre Namen sprechen.  Lassen Sie uns einige mehrdeutige <i>analysieren</i> : <i>bottomComment</i> und <i>showCloseButton</i> . <br><br>  Der erste Parameter ist f√ºr den Kommentar im Dialogfeld verantwortlich. Sie k√∂nnen beispielsweise die Eingabeaufforderung " <i>Zum Schlie√üen</i> wischen" <i>eingeben</i> : <br><br><img src="https://habrastorage.org/webt/o3/ju/ol/o3juolykpylxcrkpb1jumil_t5s.jpeg"><br><br>  Der zweite Parameter, <i>showCloseButton</i> , ist f√ºr die Schaltfl√§che zum Schlie√üen in der oberen rechten Ecke des Bildschirms verantwortlich.  Ich habe auch ein Bild mit einem Beispiel: <br><br><img src="https://habrastorage.org/webt/dx/8z/va/dx8zva68cc4b6zwllgs5yk95ps0.jpeg"><br><br>  Bei einigen Funktionen kann <i>nil</i> zur√ºckgegeben werden. Dies ist erforderlich, wenn Sie nicht alle √úberschriften / Symbole oder den Text anpassen m√ºssen.  Es reicht aus, <i>nil zur√ºckzugeben</i> , um den Standardwert zu belassen: <br><br><pre> <code class="plaintext hljs">func description(for permission: SPPermissionType) -&gt; String? { if permission == .calendar { return "" } lse { return nil } }</code> </pre><br>  Das <i>DataSource-</i> Objekt muss noch an die Hauptstruktur √ºbergeben werden: <br><br><pre> <code class="plaintext hljs">SPPermission.Dialog.request( with: [.camera, .calendar, .microphone, .notification], on: self, dataSource: self )</code> </pre><br><h3>  Delegieren </h3><br>  Hier k√∂nnen Sie einige Ereignisse verfolgen.  Schauen wir uns das Protokoll an: <br><br><pre> <code class="plaintext hljs">@objc public protocol SPPermissionDialogDelegate: class { @objc optional func didHide() @objc optional func didAllow(permission: SPPermissionType) }</code> </pre><br>  Hmm, nicht viel ... Und was wird sonst noch ben√∂tigt?) Ich denke nicht, dass es sich lohnt zu erkl√§ren, welche Ereignisse die Funktionen aufrufen werden.  Die Namen sprechen.  Ich mache Sie auf sich aufmerksam - der Delegierte darf nicht vergessen anzugeben: <br><br><pre> <code class="plaintext hljs">SPPermission.Dialog.request( with: [.camera, .calendar, .microphone, .notification], on: self, delegate: self dataSource: self )</code> </pre><br><h3>  Berechtigungen </h3><br><img src="https://habrastorage.org/webt/og/ow/qt/ogowqtraw3cz4vrwpjjupu4vmuo.jpeg"><br><br>  Die Liste wird erg√§nzt, wenn Vorschl√§ge oder Kritik an der Bibliothek vorliegen. Es lohnt sich, hier eine neue Ausgabe zu erstellen <br><br><h3>  Br√∂tchen </h3><br>  Es lohnt sich, auf eine n√ºtzliche Funktion zu achten: <br><br><pre> <code class="plaintext hljs">func isAllow(_ permission: SPPermissionType) -&gt; Bool</code> </pre><br>  Hier erfahren Sie, ob der Benutzer die Berechtigung erteilt hat.  Um die Loyalit√§t zu erh√∂hen, wird empfohlen, Berechtigungen nicht in einem Paket, sondern vor der Verwendung anzufordern.  Und nicht mehr als 3 Ex!  Obwohl ich es schwierig finde, eine Situation zu finden, in der ich mehr brauche) Verwenden Sie diese: <br><br><pre> <code class="plaintext hljs">let isAvailableCamera = SPPermission.isAllow(.amera)</code> </pre><br><h3>  Warum aktualisieren? </h3><br>  Die alte Version sah so aus, und vielleicht war es vor einem Jahr nichts: <br><br><img src="https://habrastorage.org/files/270/1d0/037/2701d00370d74987ae03348cc59d24b0.gif" width="600"><br><br>  Eigentlich habe ich es ein Jahr lang nicht aktualisiert (tun Sie nicht so, als h√§tten Sie nicht verstanden, dass ich der Autor der Bibliothek bin), aber in j√ºngerer Zeit habe ich einen Brief erhalten ... obwohl wir etwas sp√§ter √ºber diese Geschichte sprechen.  Wir machen hier ernsthafte Gesch√§fte! <br><br><h3>  Architektur </h3><br>  Vor ungef√§hr einem Jahr schrieb ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen Artikel,</a> in dem ich Liebhaber des ungerechtfertigten Gebrauchs von Architektur direkt besiegte.  Aber nur ich dachte es und die Hauptbotschaft wurde nicht geh√∂rt.  Mein Wunsch, dieses Jahr zu vereinfachen, hat nicht aufgeh√∂rt.  Als ich das Redesign konzipierte, wurde mir klar, dass das Projekt als Ganzes neu geschrieben werden muss.  Dies ist eine Art Bohrger√§t mit der F√§higkeit, Radio zu h√∂ren, Gem√ºse zu schneiden und eine Heizung mit halber Rate.  Ich habe es ein Jahr sp√§ter gesehen!  Jetzt scheint es mir dumm, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesen Artikel</a> mit einem so komplexen Beispiel zu schreiben.  Wahrscheinlich in einem weiteren Jahr werde ich es noch einfacher machen.  Mal sehen) <br><br><h3>  Also, was ist die Geschichte? </h3><br>  Das Tutorial Sobsna ist vorbei und wir plaudern weiter.  Vor einigen Wochen erhielt ich einen Brief, in dem ich gebeten wurde, die Funktionsweise der Bibliothek zu erl√§utern.  Es war eine seltsame Frage, und da ich die Bibliothek verlassen hatte, antwortete ich einfach mit einer Vorlage: <br><br>  - ‚Äû <i>Lieber Freund, ich unterst√ºtze die Bibliothek jetzt nicht, ich habe keine Freizeit.</i>  <i>Alles Gute</i> ‚Äú <br><br>  Ich habe es gerade richtig geschrieben, nur in Zabugorsk.  Und ich habe es vergessen.  Als ich die Mohnblume betrat, sah ich ungef√§hr ein Dutzend !!!  Nachrichten im Spam-Ordner.  Nun, alles, offensichtlich ist ein Portal auseinander gegangen. Wie kann ich mich jetzt von ihrem Mailing abmelden?  Und nnnet ... Der gleiche Typ hat mir geschrieben, nur diesmal w√ºtend.  In Briefen habe ich erfahren, dass ich nicht der Autor der Bibliothek bin (daher kann ich es Ihnen nicht sagen). Ich habe herausgefunden, dass Leute wie ich die schrecklichsten Leute sind (und wir m√ºssen die Registrierung auf GitHub verbieten). Ich habe herausgefunden, dass ich viel Geld f√ºr meine wertlose Arbeit will.  Geld?  Auf der alten Seite gab es nicht einmal eine Donutform.  Aber ich verstand den Punkt, der Mann war nur w√ºtend. <br><br>  Ich entschied mich zu helfen, aber nicht aus Freundlichkeit - ich war unglaublich interessiert an dem, was unglaublich war, das angepasst werden musste, was eine gro√üe Welle von Wut hervorrief.  Es stellte sich heraus, dass er nach einer Methode suchte, die aufgerufen wird, wenn das Dialogfeld geschlossen wird.  Meinem Lachen unter Tr√§nen waren keine Grenzen gesetzt!  Der Delegierte wurde in der ersten Version beschrieben. <br><br>  Die Geschichte ist traurig, aber noch trauriger!  Ja Ja!  Ich habe ihm pers√∂nlich ausf√ºhrlich beschrieben, wie man die Delegierten sozusagen im allgemeinen Kurs einsetzt.  Ich habe die Gelegenheit, Spa√ü zu haben, nicht verpasst und gesagt, dass dies alles von Anfang an auf der Hauptseite des Projekts stand.  Ich habe die Antwort bekommen ... aber ich wollte noch mehr weinen: <br><br>  ‚Äû <i>Ich habe k√ºrzlich mit dem Programmieren begonnen und m√∂chte die Dokumentation nicht verstehen.</i>  <i>Tsch√ºss</i> ‚Äù <br><br>  Ich habe lange gelacht. <br><br><h3>  Wir beenden </h3><br>  Ein kurzes Bildungsprogramm wurde eingef√ºhrt, f√ºr die Aufmerksamkeit werde ich Links zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zeitraffer mit dem Design</a> (ich lecke skrupellos Einr√ºckungen und Farben aus den E-Anwendungen) und ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tutorial</a> hinterlassen, das alles zeigt, was ich hier beschrieben habe, aber klar. <br><br>  Alle erfolgreichen Migrationen zum neuen Swift! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430886/">https://habr.com/ru/post/de430886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430876/index.html">Entwicklung durch Testen: Verbesserung der F√§higkeiten</a></li>
<li><a href="../de430878/index.html">Verf√ºgbares PhpStorm 2018.3</a></li>
<li><a href="../de430880/index.html">Eine weitere Implementierung der Datenverarbeitung</a></li>
<li><a href="../de430882/index.html">Xiaomi Aqara Wechseln Sie von ZigBee zu Z-Wave</a></li>
<li><a href="../de430884/index.html">Druckerei: Warum "LANIT-Integration" eine eigene "Druckerei" er√∂ffnete</a></li>
<li><a href="../de430888/index.html">Wie sicher ist es, R-Pakete f√ºr die Arbeit mit der API f√ºr Werbesysteme zu verwenden?</a></li>
<li><a href="../de430890/index.html">Wo Agilit√§t schrecklich ist, besonders Scrum</a></li>
<li><a href="../de430892/index.html">Die Kombination aus plattform√ºbergreifendem und nativem Ansatz bei der Entwicklung mobiler Anwendungen</a></li>
<li><a href="../de430894/index.html">Situation: Marken geben immer mehr Geld f√ºr Werbung in Podcasts aus - wir verstehen warum</a></li>
<li><a href="../de430896/index.html">Die Linux Foundation hat Fonds f√ºr GraphQL und Ceph eingerichtet - warum werden sie ben√∂tigt und was kann man von ihnen erwarten?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>