<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôéüèΩ üóúÔ∏è üë©üèæ‚Äçü§ù‚Äçüë®üèª Editor de horario semanal üë©üèø‚Äçüè´ üíÉüèæ üóæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Escribo porque por tercera vez en un a√±o me encuentro con esta tarea. Cada vez, todo comienza con una soluci√≥n incre√≠blemente creativa m√°s f√°cil, y al...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Editor de horario semanal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412665/"> Escribo porque por tercera vez en un a√±o me encuentro con esta tarea.  Cada vez, todo comienza con una soluci√≥n incre√≠blemente creativa m√°s f√°cil, y al final llega al sistema del que hablar√©. <br><br>  El objetivo es crear y mantener un horario semanal, como un horario de clases escolares o un horario de m√©dicos y funcionarios.  Hay un conjunto de ranuras, cada ranura es un lugar en el programa semanal con varios par√°metros adicionales, como el n√∫mero de gabinete, el nombre del empleado.  Se requiere construir un sistema flexible con un historial completo que pueda resolver problemas tales como: crear otro horario desde el comienzo del verano, reemplazar al maestro durante las pr√≥ximas 3 semanas, mover el horario de viernes a s√°bado debido a las vacaciones. <br><br>  Escribir√© sobre lo que generalmente tropiezan y c√≥mo resolverlo, resolver√© el problema de pintar la tira, y luego dar√© ejemplos de un backend simple en node / sequelize y terminar√© con una interfaz simple en vue / vuex / vuetify / nuxt, donde puedes arrastrar todo con un mouse y ver como funciona <br><br>  Los c√≥digos se publican en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github</a> , desplegados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><img src="https://habrastorage.org/webt/6d/kv/7m/6dkv7mn28thsjpj3zkb7zy8asey.png"><br><a name="habracut"></a><br><h2>  Cambios granulares </h2><br>  Hay una ranura, presentada de alguna manera en la base de datos.  Necesita edici√≥n  Por lo tanto, debe dibujar alg√∫n formulario con los campos y debajo del bot√≥n "guardar".  Despu√©s de todo, generalmente todo se arregla as√≠.  Sin embargo, no en este caso.  Considere la forma: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/py/bs/b9/pybsb9deiukwlb27ezwm0lhw84w.png"></div><br>  Al guardar, todos los datos de la ranura se actualizan, el historial se pierde.  Intentemos agregar tal elemento: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wf/cd/wq/wfcdwq2crgge9obkl9cb61tbolw.png"></div><br>  De nuevo por.  Por ejemplo, el 4 de junio, el lunes, se registr√≥ una transferencia de clases de un d√≠a de la primera oficina a la segunda.  Luego viene una nueva demanda: a partir del 28 de mayo, la lecci√≥n siempre comenzar√° a las 20:00 en lugar de las 19:00.  Abrimos el formulario, cambiamos la hora, indicamos la fecha del 28 y para siempre y ... todos los campos, junto con el n√∫mero del gabinete, van al servidor.  El cambio temporal el 4 de junio se anula.  Con este formulario, es imposible determinar qu√© campos a qu√© intervalos desea cambiar el usuario, porque todos los campos se env√≠an. <br><br>  La idea es que cada regla cambie independientemente de las dem√°s con su propio intervalo.  La ranura est√° definida por un conjunto de par√°metros unidimensionales, cada par√°metro tiene un historial de cambios definido por un conjunto de reglas.  Cada regla contiene un valor, una fecha de inicio y finalizaci√≥n.  Como se trata de un calendario semanal, las fechas son suficientes para indicar hasta una semana, AAAAWW. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vd/sq/pc/vdsqpci_tcxsbarhm1hqdgocecy.jpeg"></div><br>  Puede parecer que editar el espacio ahora es muy complicado: para cambiar varios campos, debe seleccionar cada campo, abrir el formulario, anotar un valor y un intervalo.  Sin embargo, en la pr√°ctica, cambiar varios campos ha resultado ser una situaci√≥n poco com√∫n.  Mucho m√°s frecuente es la actualizaci√≥n masiva de varias ranuras a la vez.  Por ejemplo, para sofocar la ausencia de un maestro debido a una enfermedad, debe seleccionar todos sus bloques, colocar el estado de asignaci√≥n del personal en licencia m√©dica y luego seleccionar un maestro de reemplazo para los mismos bloques.  Solo 2 acciones en lugar de n acciones para n ranuras en el caso, como si se especificaran a trav√©s del formulario tradicional.  En el sistema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">StarBright.com en el</a> que estoy trabajando actualmente, se ve as√≠: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sf/0y/in/sf0yin4ge2b-pign5bfjmkmjimc.gif"></div><br><h2>  La tarea de pintar tiras </h2><br>  Considere una tira que consiste en celdas pintadas en diferentes colores.  Cada celda es una semana, cada color es un significado.  Llega un nuevo color y el intervalo en el cual aplicarlo, necesitan volver a pintar encima de lo que es.  A nivel de datos, esto significa que debe eliminar los intervalos completamente superpuestos, cambiar los intervalos de superposici√≥n parcial, agregar un nuevo intervalo, fusionar los intervalos adyacentes de un color en uno.  El resultado final debe consistir en intervalos que no se superpongan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yy/ve/ya/yyveyanr3v1zo9tt_y9zsioid34.png"></div><br>  <i>Resultado: [{delete, id: 2}, {update, id: 1, data: {to: 5}}, {update, id: 3, data: {from: 16}}, {insert, data: {from : 6, a: 15, valor: mi√©}}]</i> <br><br>  Esta es una tarea simple, pero es f√°cil ignorar algo aqu√≠.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> hay un repositorio separado con una soluci√≥n y pruebas.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://timeblock-rules.rag.lt</a> : aqu√≠ puedes comprobar c√≥mo funciona y jugar con el sombreado. <br><br><h2>  Backend </h2><br>  Las reglas no se superponen, por lo que el simple `seleccionar * de las reglas donde &lt;=: semana y (to es nulo o to&gt; =: week)` es suficiente para seleccionar exactamente las reglas necesarias para la semana especificada.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> hay un ejemplo simple de back-end en node / sequelize.  Utiliza el estilo combinado de c promises y async / await, que puedes leer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en otro art√≠culo m√≠o</a> . <br><br>  Aqu√≠ est√° la acci√≥n que selecciona las reglas para la semana especificada: <br><pre><code class="javascript hljs">routes.get(<span class="hljs-string"><span class="hljs-string">'/timeblocks'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (req, res) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ... validation ... await Rule .findAll({ <span class="hljs-attr"><span class="hljs-attr">where</span></span>: { <span class="hljs-attr"><span class="hljs-attr">from</span></span>: {<span class="hljs-attr"><span class="hljs-attr">$or</span></span>: [{<span class="hljs-attr"><span class="hljs-attr">$lte</span></span>: req.query.week}, <span class="hljs-literal"><span class="hljs-literal">null</span></span>]}, <span class="hljs-attr"><span class="hljs-attr">to</span></span>: {<span class="hljs-attr"><span class="hljs-attr">$or</span></span>: [{<span class="hljs-attr"><span class="hljs-attr">$gte</span></span>: req.query.week}, <span class="hljs-literal"><span class="hljs-literal">null</span></span>]} } }) .then( sendSuccess(res, <span class="hljs-string"><span class="hljs-string">'Calendar data extracted.'</span></span>), throwError(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-string"><span class="hljs-string">'sequelize error'</span></span>) ) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (error) { catchError(res, error) } })</code> </pre> <br><br>  Y aqu√≠ est√° PATCH para cambiar el conjunto de reglas: <br><pre> <code class="javascript hljs">routes.patch(<span class="hljs-string"><span class="hljs-string">'/timeblocks/:id(\\d+)'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (req, res) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ... validation ... const initialRules = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Rule .findAll({ <span class="hljs-attr"><span class="hljs-attr">where</span></span>: { <span class="hljs-attr"><span class="hljs-attr">timeblock_id</span></span>: req.params.id, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: {<span class="hljs-attr"><span class="hljs-attr">$in</span></span>: req.params.rules.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">rule</span></span></span><span class="hljs-function"> =&gt;</span></span> rule.type)} } }).catch(throwError(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-string"><span class="hljs-string">'sequelize error'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> promises = [] req.params.rules.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">rule</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// This function defined in stripe coloring repo, https://github.com/Kasheftin/timeblock-rules/blob/master/src/fn/rules.js; const actions = processNewRule(rule, initialRules[rule.type] || []) actions.forEach(action =&gt; { if (action.type === 'delete') { promises.push(Rule.destroy({where: {id: action.id}})) } else if (action.type === 'update') { promises.push(Rule.update(action.data, {where: {id: action.id}})) } else if (action.type === 'insert') { promises.push(Rule.build({...action.data, timeblock_id: rule.timeblock_id, type: rule.type}).save()) } }) }) Promise.all(promises).then( result =&gt; sendSuccess(res, 'Timeblock rules updated.')() ) } catch (error) { catchError(res, error) } })</span></span></code> </pre><br><br>  Esta es la parte ideol√≥gica m√°s dif√≠cil del backend, el resto es a√∫n m√°s simple. <br><br>  La pregunta es c√≥mo eliminar ranuras.  En este caso, se almacena el historial completo, no se elimina nada.  Hay un campo de estado que se puede abrir, cerrar temporalmente y cerrar.  Los visitantes ven espacios activos y temporalmente inactivos, en este √∫ltimo, el administrador generalmente escribe un comentario sobre por qu√© no hay actividad.  Con el tiempo, hay muchos espacios cerrados, y para simplificar la situaci√≥n, es √∫til introducir otra propiedad, como un a√±o escolar, y mostrar solo el a√±o escolar actual al editar espacios. <br><br><h2>  Frontend </h2><br>  El c√≥digo est√° en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este repositorio</a> , es un sitio simple de una p√°gina en nuxt.  En realidad, hay algunos problemas con ssr (por ejemplo, analizo en detalle c√≥mo escribir autenticaci√≥n en nuxt), pero las aplicaciones simples se escriben en √©l muy r√°pidamente. <br><br>  Aqu√≠ est√° el c√≥digo para una sola p√°gina: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">components</span></span>: {...}, fetch ({app, route, redirect, store}) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!route.query.week) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newRoute = app.router.resolve({<span class="hljs-attr"><span class="hljs-attr">query</span></span>: {...route.query, <span class="hljs-attr"><span class="hljs-attr">week</span></span>: moment().format(<span class="hljs-string"><span class="hljs-string">'YYYYWW'</span></span>)}}, route) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> redirect(newRoute.href) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.resolve() .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> store.dispatch(<span class="hljs-string"><span class="hljs-string">'calendar/set'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">week</span></span>: route.query.week})) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> store.dispatch(<span class="hljs-string"><span class="hljs-string">'calendar/fetch'</span></span>)) }, <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { week () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.state.calendar.week } }, <span class="hljs-attr"><span class="hljs-attr">watch</span></span>: { week (week) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$router.push({ <span class="hljs-attr"><span class="hljs-attr">query</span></span>: { ...this.$route.query, week } }) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.dispatch(<span class="hljs-string"><span class="hljs-string">'calendar/fetch'</span></span>) } } }</code> </pre><br><br>  El m√©todo fetch funciona en el servidor y el cliente, redirige a la semana actual y solicita un calendario.  Cuando cambia la semana, los datos se vuelven a solicitar. <br><br>  ¬øQu√© hacer con las ranuras superpuestas?  La respuesta depende de la l√≥gica del negocio, por ejemplo, puede necesitar la validaci√≥n del servidor que proh√≠be las superposiciones.  En este caso, se permiten superposiciones y, para obtener una imagen hermosa, estas ranuras se dibujan la mitad del ancho una al lado de la otra.  Agregue el dise√±o y obtenga este aspecto: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6d/kv/7m/6dkv7mn28thsjpj3zkb7zy8asey.png"></div><br><br>  Todo lo dem√°s es javascript sin ideas especiales.  Al hacer clic con el mouse en el bloque, comienza a arrastrar y soltar.  Los eventos mousemove y mouseup se cuelgan en toda la ventana.  Arrastrar y soltar comienza con un retraso de 200 ms para distinguir el arrastre del clic.  Los par√°metros de los contenedores en los que se realiza un seguimiento de drop se calculan de antemano, porque getBoundingClientRect es una operaci√≥n demasiado pesada para cada movimiento del mouse.  Tuve que hacer dos formularios: uno para crear (establecer todas las reglas a la vez a partir de la semana actual), el otro para los cambios granulares en la ranura. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://calendar.rag.lt</a> : aqu√≠ puede comprobar c√≥mo funciona todo. <br><br><h2>  Enlaces al articulo </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://calendar.rag.lt</a> : aplicaci√≥n nuxt implementada; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://calendar-api.rag.lt</a> - backend detallado; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://timeblock-rules.rag.lt</a> - prueba detallada para la tarea de llenar la tira; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://github.com/Kasheftin/calendar-demo-frontend</a> - fuentes frontend; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://github.com/Kasheftin/calendar-demo-backend</a> - fuentes de fondo </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://github.com/Kasheftin/timeblock-rules</a> : c√≥digo fuente de la tarea; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://codeburst.io/nuxt-authentication-from-scratch-a7a024c7201b</a> - tutorial de autorizaci√≥n sobre nuxt desde cero; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://codeburst.io/node-express-async-code-and-error-handling-121b1f0e44ba</a> - manejo de errores en el c√≥digo de fondo as√≠ncrono en nodo / express; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://codeburst.io/weekly-schedule-editor-concept-8df79ab83305</a> - el mismo art√≠culo en ingl√©s. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es412665/">https://habr.com/ru/post/es412665/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es412653/index.html">Los mosqueteros ya no son los mismos, o esperaron a Athos, pero lleg√≥ Porthos</a></li>
<li><a href="../es412655/index.html">Jerarqu√≠a de billetera con firma m√∫ltiple (sistema de confianza)</a></li>
<li><a href="../es412657/index.html">Fichas de servicios p√∫blicos o acciones: cu√°l ser√° el futuro de ICO</a></li>
<li><a href="../es412661/index.html">Ingl√©s para trabajar en un mercado extranjero: de qu√© libros de texto no se habla</a></li>
<li><a href="../es412663/index.html">AI vende pizza o c√≥mo Voximplant se hace amigo de Dialogflow</a></li>
<li><a href="../es412667/index.html">Cybergroup Turla usa Metasploit en la campa√±a Mosquito</a></li>
<li><a href="../es412669/index.html">La gesti√≥n del tiempo no da miedo: c√≥mo hacer m√°s</a></li>
<li><a href="../es412671/index.html">Consola BLE: una forma completamente nueva de interactuar con dispositivos BLE</a></li>
<li><a href="../es412675/index.html">Contratos y direcciones multigrado en Bitcoin y Ethereum</a></li>
<li><a href="../es412677/index.html">Matriz de trazabilidad</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>