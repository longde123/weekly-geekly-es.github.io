<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฟ ๐ฎ ๐ ุงูููุฒู ุงูุฐูู ูู ุญุงููุงุช (ioBroker + Zigbee in Docker) ๐ ๐จ๐ฝโ๐ง ๐ช</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฏุฎูู 
 ูุจุนุถ ุงูููุช ุ ุงุณุชุฎุฏูุช ุนุฏุฉ ูุฑุญูุงุช Sonoff ููุงุณูุฉ ุชุชุญูู ูู ุงูุถูุก ูู ุฎูุงู Google Home Mini. ููู ูู ุงูููุงูุฉ ุฃุฑุฏุช ุฃูุซุฑ. ุงููุธููุฉ ุงูููุงุณูุฉ ููุณุช ูุงููุฉ ุ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูููุฒู ุงูุฐูู ูู ุญุงููุงุช (ioBroker + Zigbee in Docker)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474354/" style=";text-align:right;direction:rtl"><h2 style=";text-align:right;direction:rtl">  ุฏุฎูู </h2><br>  ูุจุนุถ ุงูููุช ุ ุงุณุชุฎุฏูุช ุนุฏุฉ ูุฑุญูุงุช Sonoff ููุงุณูุฉ ุชุชุญูู ูู ุงูุถูุก ูู ุฎูุงู Google Home Mini.  ููู ูู ุงูููุงูุฉ ุฃุฑุฏุช ุฃูุซุฑ.  ุงููุธููุฉ ุงูููุงุณูุฉ ููุณุช ูุงููุฉ ุ ูุฑุฑุช ุฃู ุชุฌุนู ุดูุฆุง ุชุฏุฑูุฌูุง ุงููุธุงู ุฃูุซุฑ ูุฑููุฉ.  ุงุฎุชุฑุช ioBroker. <br><br>  ูู ุงูุจุฏุงูุฉ ุ ูุงููุนุชุงุฏ ุ ูุธุฑุช ุ ุงุฎุชุฑุช ุ ูุญุตุช ูุธุงุฆู.  ุนูุฏูุง ุ ุจุดูู ูููุตู ุ ุนููุช ุงูุถุฑูุฑูุงุช ุงูุฃุณุงุณูุฉ ุ ุจุฏุฃ ูู ุงูุชุฌููุน.  ูุจุทุจูุนุฉ ุงูุญุงู ุ ูุงุฌูุช ูุดุงูู. <br><br>  ุงูุตุนูุจุงุช ุงูุฑุฆูุณูุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุงูุถุจุท ูุง ุชุฎุชุงุฑุ  ุจุนุฏ ูู ุดูุก ุ ููุงู ุงูุนุฏูุฏ ูู ุงูุทุฑู ูุชูููุฐ ุฎุทุชูุง.  ูุญุชู ูู ุงูุญู ุงููุฎุชุงุฑ ุ ููุงู ุงูุนุฏูุฏ ูู ุงูุฎูุงุฑุงุช ... </li><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ุฅุฑุดุงุฏุงุช ุฌุงูุฒุฉ ุญูู ููููุฉ ุชุฌููุน ูุฌููุนุฉ ุงูุญููู ุงูุชู ุงุฎุชุฑุชูุง ุจุงูุถุจุท ูุจุงูุชุญุฏูุฏ ูู ุงูุชููููุงุช ุงูุฎุงุตุฉ ุจู. </li></ul><br>  ูุง ุงุฎุชุฑุชู ุ ูููุงุฐุง ุ ููุง ุงูุตุนูุจุงุช ุงูุชู ูุงุฌูุชูุง ูููููุฉ ุญููุง ุ ูุณูุชู ููุงูุดุชูุง. <br><br>  ูู ุงููุณุชูุจู ุ ุณูู ุฃุตู ููู ุฃุทููุช ioBroker ูู ุฌูุงุฒ ุงูุงูุชุญุงู ุนูู ุฌูุงุฒ ููุจููุชุฑ ูุญููู ูุฏูู ูุฃููุช Zigbee ุจู ููุชูุงุนู ูุน ุฃุฌูุฒุฉ ุงุณุชุดุนุงุฑ Xiaomi ูุจุงุดุฑุฉ ุ ุฏูู ุจูุงุจุฉ.  ุฃูุง ูุง ุฃุนุทู ุชุนูููุงุช ููุงุณูุฉ ุ ููุท "ุงููุทุจุงุช". <a name="habracut"></a><br><br>  ูุธุฑูุง ูุฃูู ูู ูุชู ุฅูุชุงุฌู ุจุนุฏ ุ ููู ุงููููู ุชูุงููุง ุชุบููุฑ ุดูุก ูุง.  ูุฐูู ุณูู ุฃููู ููุชูุง ูููุตูุญุฉ ูุงูุชุตุญูุญ :) <br><br><h2 style=";text-align:right;direction:rtl">  ูุงุฆูุฉ ุงูุงูููุงุช ูุชุฏุฑูุจ ุฃููุงุฑู </h2><br>  ูุงูุช ููุงู ุจูุฑุงุช Sonoff (ุงูุชูู ุจูุง ุงููุทุงู ูู eWeLink) ุ ููุน ูู ุณูู ุงูุชูุฏูุฏ (Tuya SmartLife) ุ ุจูุงุจุฉ Xiaomi ูุน ุนุฏุฉ ุฃุฌูุฒุฉ ุงุณุชุดุนุงุฑ (Mi Home) ุ ุนููุฏ Google Home Mini. <br><br>  ุนุงุฏุฉู ูุง ูุชู ุงูุชูุงุท eWeLink ู SmartLife ุนูู Google Home ุ ูุงูุงุณุชูุงุน ุฅูู ุงูุฃูุงูุฑ ุงูุตูุชูุฉ ูุซู "ุชุดุบูู ุงูุฃููุงุฑ ุนูู ุงูุทุงููุฉ".  ูู ูุจุฏุฃ Mi Home (ููุงู ุนุฏุฏ ูููู ูู ุฃุฌูุฒุฉ Xiaomi ุงููุฏุนููุฉ ูู Google Home). <br><br>  ุฃูุง ูุถุนุช ioBroker ุ ุงูุชูุทุช ุจูุงุจุฉ ุดูุงููู ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ูู ุดูุก ูุนูู.  ูู ุดูุก ุฌููู ุ ุฑุงุฌุนุช ุงูุจุฑุงูุฌ ุงููุตูุฉ ุ ููุชูุจุฉ (ุงุฎุชุฑุช Node-Red) ุ ูุฑุฑุช ุฃู ุฃูุนู ูู ุดูุก ูู ูุฐุง. <br><br>  ููุน ุฐูู ุ ูุณุช ูุณุคูููุง ูุญุชุฑููุง ุ ูููููู ูุนุฑูุฉ ููููุฉ ุฅุนุฏุงุฏู ุ ููููู ูุง ุฃุนุฑู ุงูุชูุงุตูู ุงูุฏูููุฉ ูุซู ุงูููุชุจุงุช ูุงูููููุงุช ุงูุชู ุชู ูุถุนูุง (ููุง ุฃุฑูุฏ ุงูุชุนูู).  ูุฐูู ุ ุฃุฒุนุฌูู ููููุงู ุฃู ioBroker ูุญุชุงุฌ ุฅูู nodejs ุ ุจุนุถ npm ุงูุชู ูู ุฃุชุนุงูู ูุนูุง ูู ูุจู.  ููุงู ุตุนูุจุงุช ูู ุงูุฅุตุฏุงุฑุงุช (ูุซู yum ุงูููุงุณู ูู ุงููุณุชูุฏุน ุงูุฐู ูุถุน nodejs ูุฏููุฉ ุฌุฏูุง ุ ููุง ุฅูู ุฐูู). <br><br>  ุญุณููุง ุ ุฃูุง  ุจุฏุฃุช ูู ุดูุก ุ ููู ุธู ุงูุฎูู ูู ููุจู ูู ุฃูู ุนูู ุงูุฑุบู ูู ุฃูู ูุนูู ุ ุฅูุง ุฃููู ูุง ุฃููู ููู.  ูุฅุฐุง ุญุฏุซ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุญุฏูุซ ุดูุก ุฃุซูุงุก ุงูุชุฑููุฉ ุ ููู ุฃุนุฑู ููููุฉ ุฅุตูุงุญู.  ููู ุจุงูุฅุถุงูุฉ ุฅูู ุจุฑูุงูุฌ ioBroker ุ ุฃุฑุฏุช ุฃูุถูุง ุชูุฏูุณ ุงูุฃูุธูุฉ ุงูุฃุฎุฑู ุนูู ุงูููุจููุชุฑ ุงููุญููู. <br><br>  ุณุฃุถุน ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชุญุฏูุซูุง ุญูู ุดูุก ูุจุฏู ุฃูู ูุนูู.  ูุจุนุฏ ุจุนุถ ุงูููุช ุงุชุถุญ ุฃูู ูุนูู ุจุดูู ุณูุก.  ุณูุชุนูู ุนูููุง ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ูุจู ุดูุฑ.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ูุง ุชูุชุตุฑ ุนูู ูุฐุง ุงููุธุงู ูุญุณุจ ุ ุจู ุนูู ุฌููุน ุงูุฃูุธูุฉ ุงูุฃุฎุฑู ุ ูุฃููู ูุง ุฃููู ุญุชู ุงูููุงูุฉ ูู ุฃู ูุธุงู ุชูุฌุฏ ุงููููุงุช ุงููุงุจูุฉ ููุชูููุฐ ุ ูุฃูู ูู ูููุงุช ุงูุชูููู ุ ูุฃูู ูู ุงูุจูุงูุงุช ููุณูุง ... <br><br>  ููุฏ ุฃุฒุนุฌูู ูุซูุฑูุง ุ ูุฐูู ูุฑุฑุช ุงุณุชุฎุฏุงู Docker.  ุงูุฑูุฒ ูู ุงูุญุงููุฉ.  ุงูุจูุงูุงุช ุจุดูู ูููุตู ุ ูุชู ุชุญููู ุงูุฏููู ุนูู ุงููุถูู.  ุณููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู. <br><br>  ูู ููุงู ูุณุฎุฉ ุฌุฏูุฏุฉุ  ูุนู ุ ุญุชู ุนูู ุฌูุงุฒ ุธุงูุฑู ุขุฎุฑ ุ ูู ุงูุณูู ุงูุชุญูู ูู ููููุฉ ุนูู ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ูู ุงูุญุงููุฉ ูุน ุจูุงูุงุช ูู ูุฐุง ุงูุฏููู.  ุฃูุธูุฉ ูุฎุชููุฉ ูุง ุชุชุฏุงุฎู ูุน ุจุนุถูุง ุงูุจุนุถ.  ูู ุงูุณูู ุงุณุชุนุงุฏุฉ ุซูุงุฆูุงุช ุจุนุถ ุงููุธุงู.  ูุฑุฉ ุฃุฎุฑู ุ ูู ุงูุณูู ุงูููู ุฅูู ุดูุก ุขุฎุฑ (ูุนูู ุจุฑูุงูุฌ ioBroker ูู ุงูุญุงููุฉ ุนูู Synology ูุนูู ุงูููุญุฉ ุงูููุฑุฏุฉ).  ุงูุฌูุงู! <br><br>  ุณูููู ููุงู ุงููุฒูุฏ ูู ุงููุชุทูุจุงุช (ูุฅุชุงุญุฉ ุนุจุฑ ุงูุฅูุชุฑูุช ุ ูููู ููุณุช ูุชุงุญุฉ ููุฌูููุฑ ููุฃูู) ุ ูุณูู ุชุคุซุฑ ุจุดูู ุฃูุจุฑ ุนูุฏ ุงุฎุชูุงุฑ ุงูุชููููุงุช. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุฑููุจ </h2><br>  ูุธุงู ุงูุชุดุบูู ุงููุถูู ููุณ ุจุงูุบ ุงูุฃูููุฉ ุ ููุฏ ููุช ุจุชูุฒูู CentOS (ูู ุงูุฐุงูุฑุฉ ุงููุฏููุฉ ุชุฐูุฑุช ุฃูู ูุฌููุน ููุงู ุงูุดุจูุฉ ูุงู ูุนูู ุจุซุจุงุช ูุจุฏูู ุฃู ูุดุงูู).  ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูุงู Cent OS 8. <br><br>  ุถุนู  ููุช ุจุฅุฌุฑุงุก ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ ูุซู ุงุณู ุงููุถูู ุ fail2ban (ูุฌุฑุฏ ุนุงุฏุฉ ุ ุนูู ุงูุฑุบู ูู ุฃู ุงููุถูู ููุฌูุฏ ููุท ูู ุงูุดุจูุฉ ุงููุญููุฉ).  ุถุน ุนุงูู ุงููููุงุก.  ูู ุฃุณูุจ ูู ุงูุญุฏูุซ ุนู ูุฐุง.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงู ุงูุชุนูููุงุช</a> . <br><br>  ุญุงู ุงูููุช ูุฅุทูุงู ioBroker.  ููู ุฃู ุดุจูุฉ ุชุฎุชุงุฑุ  ุงููุถูู ุฃู Macvlanุ <br><br>  ุฃููุงู ุ ุฃุฑุงุฏ Macvlan ุฃู ุชุญุตู ูู ุญุงููุฉ ุนูู ุนููุงู IP ุงูุฎุงุต ุจูุง ูู ุฌูุงุฒ ุงูุชูุฌูู.  ูููู ุจุนุฏ ุฐูู ูุฑุฑ ุงูุชุฎูู ุนู ูุฐุง ุงููุดุฑูุน: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุน Host ุ ุจุงูุทุจุน ุ ุชุญุชุงุฌ ุฅูู ุงูุฅุดุงุฑุฉ ุจูุถูุญ ุฅูู ุฃู ุงูููุงูุฐ ูุฅุนุงุฏุฉ ุชูุฌูููุง ุ ุชุฃูุฏ ูู ุฃููุง ูุง ุชุชูุงุทุน ูุน ุงูุญุงููุงุช ุงูุฃุฎุฑู.  ููู </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุชูููู iptables ุฏุงุฎู ูู ุญุงููุฉ.  ุจูุง ูู ุฐูู ุจุนุฏ ูู ุฅุนุงุฏุฉ ุชุดุบูู ูุน ุงููุนููุงุช ุงูุฃุฎุฑู ุ ุงูุชุฑููุฉ / ุงูุงุณุชุจุฏุงู.  ููู ูุถุน ุงููุถูู ุ ุฅููุง ููุทุฉ ูุงุญุฏุฉ ูุฅุฏุงุฑุฉ ุงูุฃูู. </li><li style=";text-align:right;direction:rtl">  ูุง ุฒูุช ุฃุฎุทุท ูุฌุนูู ูุชุงุญูุง ููุณ ููุท ูู ุดุจูุฉ WiFi ุงูููุฒููุฉ.  ููู ูุฐู ุงูุญุงูุฉ ุ ูููู ุฃูุซุฑ ููุงุกูุฉ ูุฌุนู ูุถูููุง ูุงุญุฏูุง ูููู ุงููุตูู ุฅููู ูู ุงูุฎุงุฑุฌ (ูุชุฎุทูุท ุงูููุงูุฐ ุนููู) ุจุฏูุงู ูู ุชููููู ููุนุฏูุฏ. </li></ul><br>  <i>ุชู ุงููุญุต ุญุงูููุง ZeroTier One.</i>  <i>ุชุซุจูุชู ููุท ุนูู ุงููุถูู.</i>  <i>ุงููุตูู ุฅูู ุนููุงู IP ููุฐุง ุงููุถูู (ุบูุฑ ูุญูู ุ ูููู ุตุงุฏุฑ ุนู ZeroTier) ูุงููููุฐ 8082 ูู ุงููุงุชู ุงููุญููู ุนุจุฑ GPRS ุนูุฏูุง ูุนูู ุนููู ZeroTier ููุชุญ ูุงุฌูุฉ vis ุชูุงููุง.</i> <br><br>  ูุฐูู ุงูููุงุณูุฉ <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">docker run -d --name ioBroker -p 8081:8081 -p 8082:8082 -v /opt/iobroker/:/opt/iobroker/ --device=/dev/ttyACM0 --env-file /opt/ioBroker_env.list --restart=always buanet/iobroker:latest</code> </pre> <br>  ุนููุง.  ุญุฏุซ ุฎุทุฃ ูุง. <br><br>  <code>docker logs ioBroker</code> ููุถุญ <code>docker logs ioBroker</code> ุฃูู ูู ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ูุง ููุฌุฏ ุงุชุตุงู ุจุงูููุงุฑุฏ ุงูุฎุงุฑุฌูุฉ.  ูุง ูููููู ุงูุญุตูู ุนูู ุงุณู razorolvit. <br><br>  ููุถุญ <code>docker exec -it ioBroker bash</code> ุฃู ุชูููุฐ ุงูุฃูุฑ ping ุนุจุฑ IP ููุฑุฑ ุฌูุฏูุง ููู ุ ูููู ููุณ ุจุงูุงุณู. <br><br>  Google ุ ุฃุฌุฏ ูุฌููุนุฉ ูู ุงูุฑูุงุจุท ุญูู ููููุฉ ููุงู ุนุงูู ุงูููู ุจุงุณุชุจุฏุงู ุฎุงุฏู DNS ุจุดูู ุบูุฑ ุตุญูุญ ุ ูุฃูุง ุฃุญูู /etc/docker/daemon.json ุ ูุฃูุง ุฃููู dnsmasq - ูุง ุดูุก ูุณุงุนุฏ. <br><br>  ูุฒุญู ุงูููุฑ ุ ูุฌุฃุฉ ูุชู ุญุธุฑ ุดูุก ุนูู ูุณุชูู ุงูุดุจูุฉ.  ูููู ูุง ููุฌุฏ telnet ุฃู ุญูููุฉ ูู ุงูุญุงููุฉ ุ ูุง ูููููู ุงูุชุญูู.  ุงูุชุซุจูุช ุฃูุถูุง ููุณ ุณููุงู - ุงูุชุซุจูุช yum ูุง ูุนูู.  ููููู ุจุงูุทุจุน ุชุญุฏูุฏ ุงููุถูููู ุงูุถุฑูุฑููู ูู / etc / hosts ูุฏูููุง ุ ููู ูุฐุง ูุณุชุบุฑู ููุชูุง ุทูููุงู ููุบุงูุฉ ุ ูุณุฃุญูู ุจุดูู ุฃูุถู ูู ุงูุฅุตุฏุงุฑุงุช ุงูุฃุฎุฑู. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุฃููู ุฌุฏุงุฑ ุงูุญูุงูุฉ ุนูู ุงููุถูู ุจุบุจุงุก ุนูู ุฃูู ุฃู ููุชุญ ูู ุดูุก.  ููู ูุง. <br><br>  ุฃุฐูุฑ ุฃูู ูุง ูุฒุงู ูู ุงููููู ุงูุชุญูู ูู ุชููุฑ ุงููููุฐ ุจุงุณุชุฎุฏุงู wget.  ููู ูู ุงูุญุงููุฉ!  ููุง ูููู ุชูุฒูู ุฃู ุดูุก ุญุชู ุจูุงุณุทุฉ IP.  ุญุชู ูุงุฌูุฉ ุงูููุจ ูุฌูุงุฒ ุงูุชูุฌูู ุงูููุฒูู ูุง ูููู ุงูุงุชุตุงู.  ุญุณููุง ุ ูุฐุง ูุนูู ุฃู ุงููุดููุฉ ููุณุช ุจุงูุชุฃููุฏ ูู DNS ุ ูููู ูู iptables. <br><br>  ูุชูุฌุฉ ูุฐูู ุ ูู ุดูุก ูุนูู ุจุนุฏ ุฅุถุงูุฉ ูุงุฌูุฉ ุนุงูู ูููุงุก ุฅูู ุงูููุทูุฉ ุงูููุซููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo firewall-cmd --permanent --zone=trusted --change-interface=docker0 sudo firewall-cmd --reload</code> </pre> <br>  ูุฐุง ูุซูุฑ ููุงูุชูุงู ุ ูู ุฃุบููุช ูู ููุงู ูุง ูู ุงูุชุนูููุงุชุ <br><br>  ุฃู ูู ุขุฎุฐ ูุง CentOS 8 ุ ูููู ุดูุก ุขุฎุฑ ุ ูู ูููู ููุงู ูุดููุฉ (ูู ูุธุงู ุงูุชุดุบูู ุงูุขุฎุฑ ูุฅูู ูุง ุฌุฏุงุฑ ุงูุญูุงูุฉ ุจุดูู ุงูุชุฑุงุถู)ุ <br><br>  ุฃู ุฃูู ูู ุงููุงุถุญ ููุฌููุน ุฃูู ูู ููุชุจูุง ูู ุงูุชุนูููุงุช ุ ููุฏ ููุช ุบุจูุฉ ููุชุฑุฉ ุทูููุฉ ูุญุฏูุ <br><br><h2 style=";text-align:right;direction:rtl">  ุฒูุฌุจู </h2><br>  ูุฐุง ุ ูุฅู ุจุฑูุงูุฌ ioBroker ุงูุฎุงุต ุจู ููุฌูุฏ ูู ุงูุญุงููุฉ ุ ููู ููุดุฑ ุณูู ุนุฏุฏ ูููู ูู ุงูููุงูุฐ.  ุงูุขู ูุฐุง ูู ุงููุดุฑู 8081 ู 8082 ุ ุซู ุณุชุชู ุฅุถุงูุฉ mqtt 1883 ุ ูุฑุจูุง ุดูุก ูุฏุนู Tuya (ุฑุฃูุช ูุซู ูุฐุง ุงูุณุงุฆู ุ ููููู ูู ุฃุญุณุจู ุจุนุฏ). <br><br>  ููุฃุณู ุ ููุชูุงุนู ูุน ุฃุฌูุฒุฉ Xiaomi ูู ุฎูุงู ุจูุงุจุชูุง ุ ููุงู ุญุงุฌุฉ ุฅูู ุจุซ ูุชุนุฏุฏ ุ ููุฐุง ูู ูุฐุง ุงูุชูููู ูู ุงูุชุนููุฏ.  ูุฐูู ุ ูุฑุฑุช ุฑูู โโูู ุญุงููุฉ ุนุตุง USB.  ุฃูุถุง ุนูููุฉ ุทุจูุนูุฉ. <br><br>  ูู ุณุทุฑ ุงูุฃูุงูุฑ ุ ููุฏ ุดุงูุฏุช ุจุงููุนู <code>--device=/dev/ttyACM0</code> ููุฐุง ุงูุบุฑุถ.  ุธูุฑ ุงูุฌูุงุฒ ูู ุงูุญุงููุฉ.  ูู ioBroker ุ ููุช ุจุชูุดูุท ุจุฑูุงูุฌ ุงูุชุดุบูู ุงูููุงุณู "Zigbee for Xiaomi ูุงูุฃุฌูุฒุฉ ุงูุฃุฎุฑู" ุ ูููู ูู ููุฌุญ. <br><br>  ุชูุชุฑุญ Google ุฃูู ูููุตูู ุฅูู ุงููููุฐ ุงูุชุณูุณูู ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุงููุณุชุฎุฏู ุฅูู ูุฌููุนุฉ ุงูุทูุจ ุงููุงุชูู.  ุฃุฐูุจ ุฅูู ุงูุญุงููุฉ ุ ุฃุถู iobroker ุฅูู ูุฐู ุงููุฌููุนุฉ - ูุง ูุณุงุนุฏ ุฐูู. <br><br>  ุฃุฑู ุงูุชูููุญุงุช ุงูุชู ุชุญุชุงุฌูุง ูุชุซุจูุช ุญุฒูุฉ serialport ูู ุฎูุงู npm. <br><br>  ูุง ุฃุณุชุทูุน ุ ูุง ุญููู.  ุฌูุฌู ูุฐูู. <br><br>  ูุฎุจุฑ Bluefox ุจููุฑุฏู ุฃูู ูุฌุจ ุงูููุงู ุจุฐูู ูู ุฏููู /opt/iobroker/node_modules/iobroker.javascript/ - ููุณ ูุฏู ูุงุญุฏ ุ ููุง ุฒูุช ูุง ุฃูุชูู ุญููู ุงูุชุซุจูุช (ุญุณููุง ุ ุฃู ุฃู ุงูุชุซุจูุช ูุจุฏุฃ ุ ุฅุญุจุงุท). <br><br>  ุฃุฎูุฑูุง ุ ูุชุถุญ ูู ุฃููู ุจุญุงุฌุฉ ุฅูู ุชุญุฏูุฏ ุตุฑูุญ ูู ุณุทุฑ ุงูุฃูุงูุฑ ูู ุงูุฏููู ุงูุฐู ูุฌุจ ูุถุนู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">npm install -g serialport --production --save --prefix "/opt/iobroker"</code> </pre> <br>  ูุชู ุชุซุจูุชู ุ ูููู ูุง ูุณุงุนุฏ. <br><br>  ุจุฏุฃุช ุฃุดู ูู ุฃูู ูุง ุฒูุช ุจุญุงุฌุฉ ููุชุนุงูู ูุน ุญููู ุงููุตูู.  ุงูุชุญูู (ูู ุฏุงุฎู ุงูุญุงููุฉ ุ ุจุงูุทุจุน): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">test -w /dev/ttyACM0 &amp;&amp; echo success || echo failure</code> </pre> <br>  ุงููุฌุงุญ.  ุฃู  ููุน ุฐูู ุ ุฃููู ุนุงูู ุงููููุงุก ุงูุฌูุงุฒ ุจุดูู ุตุญูุญ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo -H -u iobroker test -w /dev/ttyACM0 &amp;&amp; echo success || echo failure</code> </pre> <br>  ูุตูู ุนุจุฏ ุงููุงุญุฏุ ุงูุชูุท!  ูุดู <br><br>  ุจุงุด ุฏุงุฎู ุงูุญุงููุฉ ูุนูู ุชุญุช ุงูุฌุฐุฑ ุ ูููู ูู ูุณุชุฎุฏู iobroker ูุง ููุฌุฏ ูููุฐ ุฅูู ุงููููุฐ.  ุนูู ุงูุฑุบู ูู ุฅุถุงูุชู ูุณุจููุง ุฅูู ูุฌููุนุฉ Dialout. <br><br>  <code>ls -l /dev/ttyACM0</code> ูุนุทู <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">crw-rw----. 1 root 18 166, 0 Nov 3 18:14 /dev/ttyACM0</code> </pre> <br>  ูุง!  ูุง ูู 18 ุจุฏูุง ูู ุงุณู ุงููุฌููุนุฉุ <br><br>  ูู ุดูุก ุตุญูุญ ุนูู ุงููุถูู ุงูุฑุฆูุณู: <code>crw-rw----. 1 root dialout 166, 0 Nov 3 15:15 /dev/ttyACM0</code> <code>crw-rw----. 1 root dialout 166, 0 Nov 3 15:15 /dev/ttyACM0</code> <br><br>  ุงุชุถุญ ุฃูู ุนูู ุงููุถูู ุงูุฑุฆูุณู ูู / etc / <code>dialout:x:18</code> ุงููุฌููุนุฉ <code>dialout:x:18</code> ุ ููู <code>dialout:x:20</code> ุงูุญุงููุฉ <code>dialout:x:20</code> <br><br>  ุนูู ุงูุฑุบู ูู ุฃููู ุฃุถูุช ูุณุชุฎุฏููุง ุฅูู ุงููุฌููุนุฉ ุจูุฐุง ุงูุงุณู ุ ูููุณ ููุงู ูุนูู ุ ูุงูุนุฏุฏ ููุณ ูู ููุณู.  ูุฐูู ููุช ุจุฅูุดุงุก ูุฌููุนุฉ ุฃุฎุฑู ุฐุงุช ุงููุนุฑู 18 ุ ูุฃุถูุช ุงููุณุชุฎุฏู ุฅูููุง ุจุงููุนู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">groupadd -g 18 serial usermod -a -G serial iobroker</code> </pre> <br>  ููุช ุจุฅุนุงุฏุฉ ุชุดุบูู ูู ุดูุก ููุฒูุฏ ูู ุงููููู.  ูุนูู ูุฐุง ุงูุชูู ููุงุฌูุชู :) <br><br>  ูุงู ุจูุฏูุก ุจุฑุจุท ุฌููุน ุงููุณุชุดุนุฑุงุช ูู ุจูุงุจุฉ Xiaomi ุ ูุฑุจุทูุง ุจู ioBroker. <br><br>  ุฃุฑุงูุง ููุงุฆูุงุช ูู ioBroker ููุณูุง: <br><br><img src="https://habrastorage.org/webt/p9/0w/em/p90wem95eieewuuow1fuofngsdw.png"><br><br>  ุชุชู ูุฑุงุกุฉ ูุฑุงุกุงุช Vis: <br><br><img src="https://habrastorage.org/webt/k7/fb/x2/k7fbx2cnulyb2zyrcjmtr4hzrtg.png"><br><br>  ุนูุฏ ุฅุบูุงู ุฌูุงุช ุงูุงุชุตุงู ูู ูุณุชุดุนุฑ ุงูุชุณุฑุจ ุ ูุชู ุงุณุชูุงู ุงูุจูุงูุงุช.  ูุงูุตูุฑุฉ ุชุชุบูุฑ: <br><br><img src="https://habrastorage.org/webt/2l/qp/z9/2lqpz9rduv_p7am-g-rny-zbdba.png"><br><br>  ููู Node-Red ุ ุชุฃุชู ุงูุฅุดุงุฑุฉ.  ููููุง ูุฐูู ุ ุนูู ุงูุฑุบู ูู ุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ุฃู ุดูุก ุขุฎุฑ ุ ูุชู ุฅุฑุณุงู ููู ุตูุชู ุฃู MP3 ุฅูู ุนููุฏ GH Mini: <br><br><img src="https://habrastorage.org/webt/vq/mx/0e/vqmx0eq0tbyf_biq_vpbvkj6lgk.png"><br><br>  ุจุงูููุงุณุจุฉ ุ ุนูุฏ ุนุฑุถ ุงูุฃุดูุงุก ุ ุงูุชุธุฑุชูู ููุงุฌุฃุฉ: <br><br><img src="https://habrastorage.org/webt/ny/sk/2a/nysk2aaoyr3nv_zlcf87qqhctya.png"><br><br>  ุงูุชูุช Xiaomi Cube ุฅูู ุฌุงูุจ ุขุฎุฑ.  ุชุธูุฑ ุงูุชุบููุฑุงุช ุงูุฃุฎูุฑุฉ ุจุงูููู ุงูุฃุฎุถุฑ. <br>  ููุฏ ุชุบูุฑ Flip90 - ููุฐุง ุฃูุฑ ููููู.  ูุชู ุงูุชุดุงู ูุฐู ุงูุฅุดุงุฑุฉ ููุณูุทุฑุฉ.  ูููู ุ ููุง ุงุชุถุญ ุ ูุง ูุฒุงู ููุงู flip90_from ู flip90_to - ูุน ุงูุฌุงูุจ ุงูุฐู ุงูุชูุช ุฅููู. <br><br>  ุงุชุถุญ ุฃูู ุ ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ููููู ุงูุญุตูู ุนูู ุงููุฒูุฏ ูู ุฅุดุงุฑุงุช ุงูุชุญูู ูู ุงูููุนุจ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุจุฑุณู ุฃุณูู ุนูู ุงูุญูุงู (ููุง ูู ููุช ูู ุฏุงุฆุฑุฉ) ุ ูููููู ุชุชุจุน ููุณ ููุท "ุชุญููู 90" ุ ูููู ุฃูุถูุง ูู ุฃู ุงุชุฌุงู (ูู ููุณู ุฃู ุฅูู ููุณู ุ ุฅูู ุงููุณุงุฑ ุฃู ุงููููู). <br><br>  ู flip180 ูุนูู ุฃูุถุง.  ููููุชุงุช ุงูุฃุฎุฑู ุชูุฌุฏ ูุนูููุงุช ุฅุถุงููุฉ ูุดุงุจูุฉ (ุงูุฌุงูุจ ุงูุนููู ุนูู ุงููุฌู 180 ุฏุฑุฌุฉ ุ ุงูุฌุงูุจ ุงูุนููู ุนูู ุงูุดุฑูุญุฉ ุ ุงูุฌุงูุจ ุงูุนููู ุนูุฏ ุงูููุฑ) <br><br>  ููุณ ูุฐุง ูู ุงูุญุงุฌุฉ ุงููุงุณุฉ.  ููู ูู Mi Home ุงูููุงุณู ุ ูู ุชูู ููุงู ูุนูููุงุช ุนู ุงููุฌูู.  ูุจุฏู ุฃูู ูุน ุงูุงุชุตุงู ุงูุณุงุจู ุนุจุฑ ุจูุงุจุฉ Xiaomi ุ ูู ุฃูู ุฃุฑู ุฐูู ุฃูุถูุง ุ ููู ุฃูู ุฃุนุฑู ุฃู ูู ูุฌู ูู ุฑูู.  ูู ุงูุณุงุจู ุ ูู ุฃูู ุฃุนูู ุณูู ุจุงูุฃุญุฏุงุซ ุงูุฅุถุงููุฉ ููุณููุท (ุงูุณููุท ุงูุญุฑ) ุ ูุงูุชู ูุงูุช ุ ูููู ุชู ุทุฑุฏูู ูู Mi Home (ุนูู ูุง ูุจุฏู ุ ููุฏ ุฃุณูุทููุง ูุซูุฑูุง). <br><br><h2 style=";text-align:right;direction:rtl">  ุฎุงุชูุฉ </h2><br>  ูู ูุง ุงุญุชุงุฌู ูู ุงูุนูู.  ุซู ููููู ุฅุญุถุงุฑ ุงูุฌูุงู ุ ูุชุงุจุฉ ุงูุจุฑุงูุฌ ุงููุตูุฉ ุ ุชูุตูู Tuya ุ ุฅุทูุงู ุญุงููุฉ ูุน Blynk ููุดุงุฑูุน ุฃุฎุฑู ... <br><br>  ูุฑุจูุง ุ ูุฅุนุงุฏุฉ ุดูุก ุจูุงุก ุนูู ุชุนูููุงุชูู :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar474354/">https://habr.com/ru/post/ar474354/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar474338/index.html">ููุฎุต ุนู ุชุนูู ุงูุขูุฉ. ุงูุชุญููู ุงูุฑูุงุถู. ูุฒูู ุงูุชุฏุฑุฌ</a></li>
<li><a href="../ar474342/index.html">ุชุณุฑูุน ุงููุดุงูุฏ ูู ุงูููุฏูู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุนุฑุถ ุงูุฌุฏูู</a></li>
<li><a href="../ar474344/index.html">ุฅูุชุฑูุช ุงูุฃุดูุงุก ูู ุงูุตูุงุนุฉ: ููู ุชุนูู ุงููุจุงุชุงุช ุงูุฐููุฉุ</a></li>
<li><a href="../ar474346/index.html">ุชุทููุฑ ุนุงูู ุงููููุงุก ุนูู ูุธุงู Windows ุงููุฑุนู ููุธุงู Linux (WSL)</a></li>
<li><a href="../ar474352/index.html">ุชุฏููุฑ ุงูุฃุนุฏุงุก ุนู ุทุฑูู ุงูููุฒ ุ ููุง ูู ุงูุญุงู ูู "ูุงุฑูู" ุงููุญุฏุฉ 2D</a></li>
<li><a href="../ar474356/index.html">ThingJS v1.0 ุฃููุง</a></li>
<li><a href="../ar474358/index.html">ุงุญุตู ุนูู ูุณุท ูุงู ูู ุงูููู ูู ุนุทูุฉ ููุงูุฉ ุงูุฃุณุจูุน: ููู ุชุณุงุนุฏ ุงูุถูุถุงุก ุงูุจูุถุงุก ุงูุจุงูุบูู ุนูู ุงูุงุณุชุฑุฎุงุก ููุฑุงูุจุฉ ุฌูุฏุฉ ููู ุงูุฃุทูุงู</a></li>
<li><a href="../ar474360/index.html">ุชุญุณูู CSS ุงูุฎุงุต ุจู ูุน ูุฐู ุงููุจุงุฏุฆ 5.</a></li>
<li><a href="../ar474364/index.html">ุชุทููุฑ ุงูุฅููุชุฑูููุงุช. ูุฑุงุฌุนุฉ ุฐุงุชูุฉ ูุฃูู ุฃุฌูุฒุฉ ุงูุงุณุชุดุนุงุฑ ุงููุชูุงููุฉ</a></li>
<li><a href="../ar474366/index.html">ุงูุฃุญุฏุงุซ ุงูุฑูููุฉ ูู ููุณูู ูู 4 ุฅูู 10 ููููุจุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>