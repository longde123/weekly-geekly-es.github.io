<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òùüèº üë∞üèø üéÖ Installer Windows via les services de d√©ploiement Windows et Microsoft Deployment Toolkit ü§∏üèΩ ü¶ë üí¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comme il a √©t√© √©crit dans un livre intelligent - si votre service informatique ne dispose pas d'une installation automatis√©e du syst√®me d'exploitation...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Installer Windows via les services de d√©ploiement Windows et Microsoft Deployment Toolkit</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442834/">  Comme il a √©t√© √©crit dans un livre intelligent - si votre service informatique ne dispose pas d'une installation automatis√©e du syst√®me d'exploitation, sa cr√©ation peut √™tre la t√¢che la plus importante que vous ayez jamais effectu√©e. <br><a name="habracut"></a><br>  Pour que MDT fonctionne: <br><br><ul><li>  Wds </li><li>  Windows ADK </li><li>  Powerhell </li><li>  Framework .net </li><li>  DHCP </li></ul><br><h4>  Plan </h4><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ajout du r√¥le WDS (Windows Deployment Services) au serveur;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">T√©l√©chargez et installez les composants n√©cessaires sur le serveur;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lancer et configurer WDS;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lancer et configurer MDT;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Importer des applications</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Importer des images d'installation;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Importer des pilotes;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Importer des packages;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cr√©ation de t√¢ches;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Test.</a> </li></ul><br><a name="1"></a><h4>  Ajout du r√¥le des services de d√©ploiement Windows (WDS) au serveur </h4><br>  Sur le serveur, activez le r√¥le WDS. <br><br><img src="https://habrastorage.org/webt/4y/2m/6-/4y2m6-ala1acnfriijjw6qtxvrk.png"><br><br><img src="https://habrastorage.org/webt/jo/-t/xm/jo-txmswyu7dy2gape4d92tlkpc.png"><br><br><img src="https://habrastorage.org/webt/ti/g4/pb/tig4pbape3rezepb_zhowwehavk.png"><br><br><a name="2"></a><h4>  T√©l√©chargez et installez les composants n√©cessaires sur le serveur </h4><br>  Depuis le site officiel, t√©l√©chargez et installez le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kit d'√©valuation et de d√©ploiement Windows (ADK)</a> : <br>  1) T√©l√©chargez Windows ADK pour Windows 10, version 1809 (√©ventuellement plus r√©cente) <br>  2) T√©l√©chargez le module compl√©mentaire Windows PE pour l'ADK <br><br>  Nous marquons pour l'installation: <br><br><ul><li>  Outils de d√©ploiement </li><li>  Concepteur d'imagerie et de configuration </li><li>  Concepteur de configuration </li><li>  Outils de migration de l'√©tat utilisateur </li></ul><br><img src="https://habrastorage.org/webt/cg/2c/ug/cg2cugnbadl-voxlpnqgrxnbeus.png"><br><br>  T√©l√©chargez et installez √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Microsoft Deployment Toolkit (MDT)</a> <br><br><a name="3"></a><h4>  Lancer et configurer WDS </h4><br>  Ouvrez la console WDS <br><br><img src="https://habrastorage.org/webt/ts/x4/i6/tsx4i6l6uvodfl80zdtvdxnk6qm.png"><br><br>  Nous commen√ßons la configuration. <br><br><img src="https://habrastorage.org/webt/l2/2_/qb/l22_qb3kmpqan8vzfs-cbbsnrzw.png"><br><br>  Dans l'assistant de configuration, s√©lectionnez l'int√©gration avec le domaine. <br><br><img src="https://habrastorage.org/webt/uk/fh/ss/ukfhssqpogmrhwerhfqsbjpm_ae.png"><br><br>  D√©finissez le dossier de service WDS. <br><br><img src="https://habrastorage.org/webt/uk/v8/gh/ukv8ghuoctyt4olqqfzf1e2j35w.png"><br><br>  √Ä l'√©tape suivante, vous pouvez choisir les ordinateurs auxquels le serveur WDS r√©pondra: <br><br><ul><li>  <b>Ne r√©pondez √† personne</b> - vous pouvez par exemple √©teindre le serveur lors de la configuration ou des tests, afin que les utilisateurs ne re√ßoivent pas de conflits potentiels lors de l'installation. </li><li>  <b>R√©pondez uniquement aux ordinateurs connus</b> - la liste est compil√©e dans la console et s'il n'y a pas d'enregistrement de l'adresse de l'ordinateur, alors il n'aura pas la possibilit√© de travailler avec le serveur. </li><li>  <b>R√©pondez √† tous les clients</b> - tous les ordinateurs recevront une r√©ponse.  Si vous installez la case √† cocher ci-dessous, puis lors de l'acc√®s √† des p√©riph√©riques inconnus (non enregistr√©s plus t√¥t), un message appara√Ætra dans la console qu'un certain ordinateur avec une adresse sp√©cifique demande une connexion.  Vous pouvez rejeter ou accepter et le processus se poursuivra.  Ces param√®tres peuvent √™tre modifi√©s ult√©rieurement dans la console WDS. </li></ul><br><img src="https://habrastorage.org/webt/sl/ut/8-/slut8-cfwjztoqe0neuuulmbzla.png"><br><br>  Nous terminons le processus de configuration initiale.  Nous avons la structure de dossiers suivante: <br><br><img src="https://habrastorage.org/webt/dl/2k/zy/dl2kzyhwoqyhlw3shomj4hsqcva.png"><br><br>  Nous avons besoin de WDS uniquement pour la connexion et le transfert d'images, donc sans explication d√©taill√©e: <br><br>  <b>Installer les images</b> - images d'installation (ne pas utiliser); <br>  <b>Images de</b> d√©marrage - images de d√©marrage (ajout cr√©√© dans MDT); <br>  <b>P√©riph√©riques en attente</b> - des p√©riph√©riques s'affichent pour demander une connexion si l'option "confirmation administrateur est requise" est activ√©e. <br><br><a name="4"></a><h4>  Lancer et configurer MDT </h4><br>  Pour configurer MDT, ex√©cutez sa console.  <i>Microsoft Deployment Toolkit -&gt; Deployment Workbench</i> . <br><br><img src="https://habrastorage.org/webt/dv/3i/5a/dv3i5ae4pf9wzxh5-t4b8bwlm_g.png"><br><br>  Ajoutez un nouveau <b>DeploymentShare</b> .  Il stockera tous les fichiers pour l'installation. <br><br><img src="https://habrastorage.org/webt/ib/dv/x8/ibdvx8blhqjdazcs7517wno_hbq.png"><br><br><img src="https://habrastorage.org/webt/iv/6a/eg/iv6aegx1oseodzop7fybblvqbvc.png"><br><br>  Les options suivantes s'appliquent au processus d'installation et sont susceptibles d'√™tre modifi√©es ult√©rieurement. <br><br><img src="https://habrastorage.org/webt/rc/8u/c-/rc8uc-iaqljoj__9qur7klbt9y4.png"><br><br>  Au stade final, le processus de cr√©ation commencera, ce qui devrait √™tre couronn√© de succ√®s. <br><br><img src="https://habrastorage.org/webt/tf/rx/qt/tfrxqtav_w7vf9xsap6vlefab_e.png"><br><br>  Le dossier partag√© <i>E: \ DeploymentShare $</i> peut √™tre transf√©r√© vers d'autres serveurs par simple copie.  La d√©connexion et la connexion se font dans la console MDT. <br><br>  <b>Applications</b> - applications install√©es sur le syst√®me d'exploitation; <br>  <b>Syst√®mes d'</b> exploitation - syst√®mes d'exploitation disponibles pour l'image de d√©marrage; <br>  <b>Pilotes pr√™ts √† l'emploi</b> - pilotes (.inf); <br>  <b>Packages</b> - packages de mise √† jour de s√©curit√©, service, langue, etc.  (.cab et .msu); <br>  <b>S√©quences de t√¢ches</b> - s√©quence de t√¢ches d'installation; <br>  <b>Profils de s√©lection</b> - groupes logiques pour combiner le contenu; <br>  <b>Partages de d√©ploiement li√©s</b> - autre <b>partage de d√©ploiement</b> connect√© √† partir d'autres serveurs; <br>  <b>Surveillance</b> - lorsque cette option est activ√©e, la progression de l'installation s'affiche sur les clients. <br><br><img src="https://habrastorage.org/webt/_q/6r/tn/_q6rtnedzux_xvprh5pj4rd4qmm.png"><br><br>  D√©couvrez les propri√©t√©s de nos balles <b>MDT Deployment Share</b> .  Dans l'onglet <b>G√©n√©ral</b> , vous pouvez choisir pour quelles plates-formes cr√©er des fichiers .wim √† partir desquels vous pourrez t√©l√©charger ult√©rieurement. <br><br><img src="https://habrastorage.org/webt/1y/_-/wp/1y_-wpvioyu2hutijrk2ijmlrb8.png"><br><br>  Dans l'onglet <b>R√®gles</b> , les fichiers de configuration de l'automatisation MDT sont configur√©s.  Le texte du fichier <i>. \ Control \ CustomSettings.ini</i> s'affiche dans la fen√™tre elle-m√™me et le fichier <i>. \ Control \ Bootstrap.ini</i> sous le bouton <b>Modifier Bootstrap.ini</b> . <br>  <b>CustomSettings.ini</b> - situ√© sur le serveur et masque les √©tapes du menu d'installation, et d√©finit √©galement certains param√®tres d'installation. <br>  <b>Bootstrap.ini</b> - situ√© dans l'image de d√©marrage et d√©finit les param√®tres de connexion √† DeploymentShare. <br><br><img src="https://habrastorage.org/webt/wf/ci/6r/wfci6r8wfjlxgfxlapnyj7em19y.png"><br><br>  <i>. \ Control \ CustomSettings.ini</i> <br><br><pre><code class="plaintext hljs">OSInstall=Y //   JoinDomain=alx*.com //    DomainAdmin=alx -      DomainAdminDomain=alx*.com //  DomainAdminPassword= //  AdminPassword= //      HideShell=YES // Shell SkipUserData=NO //       (     ) TimeZoneName=N. Central Asia Standard Time //  SkipTimeZone=YES //    UILanguage=ru-RU //   UserLocale=ru-RU //  SkipLocaleSelection=YES //   SystemLocale=ru-RU //   non-Unicode  SkipCapture=YES //     SkipComputerName=NO //    SkipDomainMembership=YES //    SkipAdminPassword=YES //   SkipProductKey=YES //    SkipComputerBackup=YES //    SkipBitLocker=YES //   BitLocker SkipSummary=YES //      EventService=http://SRV04:9800 //    </code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Liste des fuseaux horaires</a> <br><br><img src="https://habrastorage.org/webt/fj/6v/uq/fj6vuqy87usgqtdxsw7iwnwxg6m.png"><br><br>  <i>. \ Control \ Bootstrap.ini</i> <br><br><pre> <code class="plaintext hljs">[Settings] Priority=Default [Default] DeployRoot=\\SRV04\DeploymentShare$ UserID=alx //      Deployment Share UserDomain=alx*.com //  UserPassword= //  KeyboardLocale=en-US //  SkipBDDWelcome=YES //   </code> </pre> <br>  Sous l'onglet <b>Windows PE,</b> la cr√©ation d'image de d√©marrage est configur√©e.  Vous pouvez d√©sactiver la cr√©ation du fichier .wim sur le premier onglet, mais s√©lectionnez le fichier .iso sur le troisi√®me onglet si nous en avons besoin.  Maintenant, il ne reste que la plate-forme x64.  Le deuxi√®me √©l√©ment <b>G√©n√©rer une image ISO de d√©marrage Lite Touch</b> sera n√©cessaire si nous avons besoin d'un fichier ISO de d√©marrage que nous pourrions √©crire sur une cl√© USB ou un disque USB et d√©marrer √† partir de celui-ci.  <b>Taille de l'espace de travail</b> - <b>taille de la</b> m√©moire en m√©gaoctets allou√©e aux scripts et aux commandes du programme d'installation. <br><br><img src="https://habrastorage.org/webt/vb/qa/0l/vbqa0lw78zmpqenkh7apsswdi1c.png"><br><br>  Dans l'onglet <b>Fonctionnalit√©s</b> , nous pouvons ajouter n'importe quel composant √† l'image de d√©marrage.  Dans l'onglet <b>Pilotes et correctifs</b> , il est pr√©f√©rable de s√©lectionner le <b>profil de s√©lection</b> avec les pilotes r√©seau cr√©√©s sp√©cifiquement pour l'image de d√©marrage. <br>  Dans l'onglet <b>Surveillance</b> suivant, activez l'option pour qu'il commence √† accepter les journaux des clients lors de l'installation et affiche l'√©tat dans le dossier Surveillance. <br><br>  Conform√©ment √† notre politique de s√©curit√©, nous ajoutons des autorisations de lecture au r√©pertoire <b>DeploymentShare $</b> , ce qui termine la configuration MDT simple. <br><br><img src="https://habrastorage.org/webt/_g/rw/he/_grwheitdlrp1e-l9zceobi0goi.png"><br><br><a name="5"></a><h4>  Importer des applications </h4><br>  Dans le menu contextuel du dossier <b>Applications</b> , s√©lectionnez <b>Nouvelle application</b> . <br><br><img src="https://habrastorage.org/webt/fl/s7/0p/fls70pzut1fe-atayzuvbh3kjbw.png"><br><br>  Ajoutez Google Chrome. <br><br><img src="https://habrastorage.org/webt/ca/pl/-d/capl-d3hmiksdwlyidrdj3cwf-i.png"><br><br>  T√©l√©chargez Standalone Enterprise 64 bits et enregistrez-le dans un dossier temporaire distinct, par exemple <i>E: \ Soft</i> .  Nous indiquons o√π se trouve le programme et s√©lectionnons l'option pour que tout le contenu soit d√©plac√© vers un nouveau dossier. <br><br><img src="https://habrastorage.org/webt/0q/jv/pq/0qjvpqqkpmudaabntzseysmkj1o.png"><br><br>  Ensuite, nous composons une commande pour l'installation silencieuse de cette application et remplissons le champ correspondant. <br><br><img src="https://habrastorage.org/webt/jo/et/h2/joeth2mxkzimrkr6unzu38sm9_q.png"><br><br><img src="https://habrastorage.org/webt/tx/_o/8x/tx_o8xxq43s1fnngcmjeiaaiz4w.png"><br><br>  Par analogie, nous ajoutons tous les logiciels dont nous avons besoin. <br><br>  Lorsque vous acc√©dez aux propri√©t√©s de l'application import√©e sous l'onglet G√©n√©ral, vous pouvez modifier les param√®tres pr√©c√©demment remplis, le masquer de la liste de s√©lection des applications lors de l'installation (si vous souhaitez forcer l'installation via une t√¢che, par exemple) et d√©sactiver cette application dans MDT si vous souhaitez exclure son utilisation dans l'installation, mais ne le faites pas supprimer (par exemple, tester ou mettre √† jour). <br><br><img src="https://habrastorage.org/webt/mh/ny/s3/mhnys3zowc9x5owygldndp74izo.png"><br><br>  Dans l'onglet D√©tails, vous pouvez modifier les param√®tres d√©finis, vous obliger √† red√©marrer apr√®s l'installation et autoriser le lancement uniquement sur les plates-formes s√©lectionn√©es. <br><br><img src="https://habrastorage.org/webt/hc/sl/es/hcslescelpvu0at5gmnkz1lc6fa.png"><br><br>  Le dernier onglet D√©pendances indique les d√©pendances.  Si l'application a besoin de param√®tres suppl√©mentaires, leur ordre est indiqu√© ici.  Ce n'est qu'apr√®s l'installation des d√©pendances que l'application principale sera install√©e.  Les logiciels r√©pertori√©s doivent √™tre import√©s √† l'avance. <br><br><img src="https://habrastorage.org/webt/0p/jz/5j/0pjz5jacaedpb1ekd32d6-_9z68.png"><br><br><a name="6"></a><h4>  Importer des images d'installation </h4><br>  Dans le dossier <b>Syst√®mes d'exploitation</b> , ajoutez le syst√®me d'exploitation.  J'ai un fichier .wim avec Windows 10 Pro x64. <br><br><div class="spoiler">  <b class="spoiler_title">Pourquoi .wim?</b> <div class="spoiler_text">  Pas de licences LTSC, seulement Pro.  Par cons√©quent, vous devez t√©l√©charger la derni√®re version de Windows 10 avec la sortie de la nouvelle version et utiliser <b>MSMG ToolKit pour</b> nettoyer les programmes pr√©install√©s ...  La sortie est .iso avec un .wim int√©gr√©. <br></div></div><br><img src="https://habrastorage.org/webt/sw/kf/78/swkf78ds6ki_ugxwfbs7-4ybtmo.png"><br><br><img src="https://habrastorage.org/webt/ci/a9/tw/cia9tw67euv_dmfn2hro7fjy2zu.png"><br><br><img src="https://habrastorage.org/webt/di/5k/xn/di5kxnhdoyupgkzvsmgklka5z9s.png"><br><br><img src="https://habrastorage.org/webt/ku/nn/u5/kunnu5vvt7h5jn7sud9zqut3sfe.png"><br><br>  Renommez-le en une vue plus pratique. <br><br><img src="https://habrastorage.org/webt/gv/vq/s2/gvvqs2zaie-h2ypfzmxaamsiiea.png"><br><br><a name="7"></a><h4>  Importer un pilote </h4><br>  Par exemple, nous importons des pilotes pour les cartes r√©seau Intel.  Il convient de noter imm√©diatement que toutes les archives doivent √™tre d√©ball√©es car  MDT recherche automatiquement les fichiers .inf dans le r√©pertoire sp√©cifi√©. <br><br><img src="https://habrastorage.org/webt/-b/qj/m2/-bqjm28feaujot4ibmv1hqsog0k.png"><br><br><img src="https://habrastorage.org/webt/_z/me/ru/_zmerutvjiwgv5fu3d9qzlaxdmw.png"><br><br><img src="https://habrastorage.org/webt/uu/wr/dr/uuwrdr_rsd8mnrioticgs0ekgrq.png"><br><br><img src="https://habrastorage.org/webt/y2/rx/ot/y2rxotfhsgwoeg5ewedpbtj1fsm.png"><br><br><img src="https://habrastorage.org/webt/tn/yl/jm/tnyljmepqvmhsdrxpiml10qeyci.png"><br><br><img src="https://habrastorage.org/webt/f1/hr/ww/f1hrwwhycg3sswioxhiuoqg-bfg.png"><br><br>  Il est conseill√© de cr√©er des sous-dossiers pour s√©parer les fabricants et les mod√®les d'√©quipement informatique.  S√©par√©ment, il convient de mettre en √©vidence les pilotes pour les cartes r√©seau et les disques pour une image de d√©marrage √† l'aide des <b>profils de s√©lection</b> . <br><br><a name="8"></a><h4>  Importer des packages </h4><br>  S'il y a <b>WSUS</b> , vous pouvez pointer vers le dossier avec son emplacement et tous les packages seront trouv√©s automatiquement (parmi ceux trouv√©s, triez les <b>profils de s√©lection</b> ).  Sinon, vous devez t√©l√©charger manuellement les packages et indiquer leur emplacement. <br><br><img src="https://habrastorage.org/webt/bz/fz/b0/bzfzb0xykgi6k2j2bqe5v84jwu8.png"><br><br><img src="https://habrastorage.org/webt/jl/op/fu/jlopfuiwottmhiwrm5lfvwhwseu.png"><br><br><img src="https://habrastorage.org/webt/gu/w6/bq/guw6bqav1l4oqbmdapyi9u7qapq.png"><br><br><a name="9"></a><h4>  Cr√©ation de t√¢che </h4><br>  <b>Les s√©quences de t√¢ches</b> sont une s√©quence de t√¢ches √† installer.  Vous pouvez ajouter, supprimer ou modifier des √©tapes d'installation.  Sur la premi√®re page, lors de l'ajout, un ID et un nom sont sp√©cifi√©s. <br><br><img src="https://habrastorage.org/webt/3l/mn/ke/3lmnke8udsaxwvuokljoocgcvh8.png"><br><br>  Le mod√®le est s√©lectionn√©. <br><br><img src="https://habrastorage.org/webt/c8/5m/-g/c85m-gqcqhpba4kd2jzyzcindwk.png"><br><br>  S√©lection d'un syst√®me d'exploitation parmi ceux ajout√©s pr√©c√©demment. <br><br><img src="https://habrastorage.org/webt/vv/ot/si/vvotsieb6rkthuhs2plmzyry8b8.png"><br><br>  Saisie des cl√©s de licence.  La cl√© sera sp√©cifi√©e apr√®s ou pendant l'installation, elle n'est donc pas d√©finie. <br><br><img src="https://habrastorage.org/webt/kt/ub/uv/ktubuv3zozee1jajgbrrwxzfe_c.png"><br><br>  Saisissez le nom d'utilisateur et le nom de l'organisation. <br><br><img src="https://habrastorage.org/webt/i_/hl/wn/i_hlwn5vre1ty5naf0yahmvtfjo.png"><br><br>  Mot de passe du futur administrateur local. <br><br><img src="https://habrastorage.org/webt/sr/qo/wd/srqowdmmgh9mh9uibkx4oudz4ve.png"><br><br>  Apr√®s la cr√©ation, vous pouvez √©galement afficher ses propri√©t√©s et apporter des modifications. <br><br><img src="https://habrastorage.org/webt/b0/lj/g8/b0ljg89sdvq4muhmbhp4s4vr_cm.png"><br><br>  L'onglet <b>S√©quence de t√¢ches</b> d√©crit l'ensemble du processus d'installation.  La s√©quence doit √™tre modifi√©e pour r√©pondre √† vos besoins. <br><br><img src="https://habrastorage.org/webt/e7/31/pn/e731pnh5aa2aekey2chjqnr3rxa.png"><br><br>  Par exemple, j'ajouterai un script qui inclut la possibilit√© de se connecter via RDP car  apr√®s l'installation, il est d√©sactiv√© par d√©faut. <br><br>  Dans le dossier <i>. \ Scripts \ Custom</i> , un script a √©t√© cr√©√© sur PowerShell <b>Enable_RDP.ps1</b> : <br><br><pre> <code class="plaintext hljs">(Get-WmiObject Win32_TerminalServiceSetting -Namespace root\cimv2\TerminalServices).SetAllowTsConnections(1,1) (Get-WmiObject -Class "Win32_TSGeneralSetting" -Namespace root\cimv2\TerminalServices -Filter "TerminalName='RDP-tcp'").SetUserAuthenticationRequired(1) Enable-NetFirewallRule -DisplayGroup "Remote Desktop"</code> </pre> <br>  Ensuite, s√©lectionnez l'emplacement souhait√© dans cet ordre et ajoutez un nouvel √©l√©ment. <br><br><img src="https://habrastorage.org/webt/kr/oz/nz/kroznzubkfji-ucumkhcwvdpsgo.png"><br><br><img src="https://habrastorage.org/webt/a2/se/bn/a2sebndsjksq6fzcusroscaoowi.png"><br><br>  Dans l'onglet <b>Options</b> , nous pouvons d√©sactiver l'ex√©cution de cette √©tape et activer la poursuite de l'installation si une erreur se produit √† cette √©tape.  Des conditions suppl√©mentaires n√©cessaires y sont ajout√©es pour terminer cette √©tape. <br><br>  Je recommande une √©tude plus d√©taill√©e des possibilit√©s de diff√©rents types de t√¢ches.  Une fois que vous avez termin√© de modifier la s√©quence, vous pouvez commencer √† cr√©er des images de d√©marrage. <br><br><img src="https://habrastorage.org/webt/nc/1r/8q/nc1r8qo7rshn0lu50xsxsp0m7pc.png"><br><br>  Pour cr√©er des images, s√©lectionnez le deuxi√®me √©l√©ment. <br><br><img src="https://habrastorage.org/webt/e-/hh/7k/e-hh7kleh047sflffnbpnjobp_o.png"><br><br>  <b>DeploymentShare</b> doit √™tre mis √† jour apr√®s: <br><br><ul><li>  mise √† jour des pilotes de d√©marrage (cartes r√©seau et lecteurs de disque); </li><li>  Ajouter des composants √† l'image de d√©marrage </li><li>  Modification des param√®tres d'image de d√©marrage </li><li>  Mises √† jour de la version Windows ADK; </li><li>  Modifications de Bootrstrap.ini </li><li>  modifications des fichiers des r√©pertoires "extra". </li></ul><br>  Acc√©dez √† la console WDS et ajoutez l'image de d√©marrage cr√©√©e au dossier <b>Boot Images</b> .  WDS copiera cette image dans son r√©pertoire de travail. <br><br><img src="https://habrastorage.org/webt/ho/fn/pj/hofnpjeowy81c10khdgavtp6tzi.png"><br><br><a name="10"></a><h4>  Test </h4><br>  Nous avons configur√© un d√©marrage r√©seau sur un ordinateur de test.  Le serveur WDS est automatiquement d√©tect√©.  Par d√©faut, l'ordinateur attend que F12 continue de d√©marrer.  Ce param√®tre est modifi√© dans les propri√©t√©s du serveur WDS sous l'onglet D√©marrage. <br><br><img src="https://habrastorage.org/webt/wj/32/g8/wj32g83vzky-aqtlcwrhcvbl-am.png"><br><br><img src="https://habrastorage.org/webt/wj/op/er/wjoperj6o0pldldzhfmr2ldg24a.png"><br><br>  La plupart des param√®tres ont √©t√© d√©finis dans les fichiers de configuration, il reste √† combler les manquants.  S√©lectionnez les s√©quences de t√¢ches disponibles. <br><br><img src="https://habrastorage.org/webt/2y/7u/bb/2y7ubbboryagqc8kkezxznbd5oq.png"><br><br>  D√©finissez le nom de l'ordinateur. <br><br><img src="https://habrastorage.org/webt/c3/3c/1r/c33c1rdzyds-zlzabcs50apqzzo.png"><br><br>  Ce param√®tre vous permet d'enregistrer des profils utilisateur.  Nous avons une installation propre, alors laissons-la telle quelle. <br><br><img src="https://habrastorage.org/webt/8s/33/ye/8s33yeb0xi_zkointpvurc1knlg.png"><br><br>  Vous pouvez le restaurer quelque part. <br><br><img src="https://habrastorage.org/webt/vj/nw/rv/vjnwrvpwgpp954wiqd3atbitu1w.png"><br><br>  Nous s√©lectionnons le logiciel n√©cessaire. <br><br><img src="https://habrastorage.org/webt/bj/og/hf/bjoghfmx5959ym6sq3yxzsgkciq.png"><br><br>  Une nouvelle installation est effectu√©e automatiquement. <br><br><img src="https://habrastorage.org/webt/7r/h9/sd/7rh9sdxzptu-2wlyu65xorjp3sk.png"><br><br>  Lorsque la surveillance est activ√©e, le processus d'installation peut √™tre surveill√© via la console. <br><br><img src="https://habrastorage.org/webt/iw/g9/kj/iwg9kjmzub8gdtyygdjsfpawbna.png"><br><br>  En fin de compte, en passant quelques minutes de notre temps (sans compter l'installation) pour t√©l√©charger sur le r√©seau et entrer les param√®tres restants, nous obtenons un syst√®me d'exploitation qui est pr√™t √† fonctionner et r√©pond √† nos exigences.  La complexit√© du r√©sultat final est d√©termin√©e √† l'avance, donc cela n'a pas de sens particulier. <br><br><img src="https://habrastorage.org/webt/ej/8k/a_/ej8ka__iq4hggffihy9colvywno.png"><br><br>  Les avantages √©vidents de l'automatisation: <br><br><ul><li>  Gain de temps.  Pendant l'installation, nous pouvons faire des choses int√©ressantes. </li><li>  Uniformit√© des syst√®mes install√©s. </li><li>  Moins de temps d'attente que ce qui serait fait manuellement. </li><li>  La possibilit√© de changer des √©l√©ments individuels lors du changement, plut√¥t que de reconstruire l'image enti√®re. </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Documentation MDT officielle compl√®te</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442834/">https://habr.com/ru/post/fr442834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442824/index.html">Bienvenue dans la Silicon Valley</a></li>
<li><a href="../fr442826/index.html">L'ing√©nierie sociale comme dramaturgie, ou ce que le domaine du phishing et le fusil Tchekhov ont en commun</a></li>
<li><a href="../fr442828/index.html">Gestion informatique sans n≈ìuds et avec accroc</a></li>
<li><a href="../fr442830/index.html">Le cr√©ateur d'Anubis arr√™t√©</a></li>
<li><a href="../fr442832/index.html">Pourquoi les tests ne se limitent pas √† trouver des bugs</a></li>
<li><a href="../fr442836/index.html">Fonctions de rendu et transitions Vue.js (traduit par Hajime Yamasaki Vukelic)</a></li>
<li><a href="../fr442840/index.html">Backend United 3: Gel√©</a></li>
<li><a href="../fr442844/index.html">Kapitan √† la t√™te de Kubernetes</a></li>
<li><a href="../fr442846/index.html">Notre industrie spatiale. Un regard sur les probl√®mes de l'industrie du point de vue d'un d√©veloppeur ordinaire</a></li>
<li><a href="../fr442852/index.html">Dell 6000 ou bonjour de 2005</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>