<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🚒 💆🏾 👎🏽 Revisão de código: você está fazendo errado 👨🏽‍🤝‍👨🏼 ⬇️ 👨🏾‍🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, muitas pessoas usam revisões de código em desenvolvimento. A prática é útil, necessária. Mesmo se você não estiver fazendo uma revisão, provavel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Revisão de código: você está fazendo errado</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/413965/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/cv/7k/_c/cv7k_cci5hkf6ovm1evt04o-qr8.jpeg"></div><br>  Hoje, muitas pessoas usam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">revisões de código</a> em desenvolvimento.  A prática é útil, necessária.  Mesmo se você não estiver fazendo uma revisão, provavelmente já sabe o que é. <br><br>  Existem várias ferramentas para revisão de código no mercado, com cenários, recomendações e regras de uso prontos.  GitHub, Phabricator, FishEye / Crisol, GitLab, Bitbucket, Upsource - a lista continua.  No Badoo, também trabalhamos com eles ao mesmo tempo: no meu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo anterior</a> , contei nossa história sobre revisões de código e como criamos a invenção de nossas próprias “bicicletas” - soluções <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Codeisok</a> . <br><br>  Há muitas informações, você pode pesquisar no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Google</a> vários artigos sobre revisões de código com exemplos, práticas, abordagens reais que falam sobre quão bom, quão ruim, como fazer e como - você não precisa, o que precisa considerar e o que não, etc. e) Em geral, o tema é "sugado até os ossos". <br><br>  É por isso que a outra parte do iceberg pode não ser percebida. <br><a name="habracut"></a><br><blockquote>  Espero que você leve a sério as coisas que descreverei neste artigo, em alguns casos deliberadamente exagerando.  Uma revisão, como qualquer outro processo, requer implementação cuidadosa e deliberada, enquanto a abordagem "Faremos o que todos os outros, se for o caso", pode não apenas falhar, mas até prejudicar. </blockquote><br>  Depois de ler esta introdução, você pode ter uma pergunta: o que é complicado na revisão de código?  O ponto é insignificante.  Além disso, a maioria das ferramentas listadas acima imediatamente oferece uma revisão do fluxo (pronto para uso: defina, confirme / inicie - e pronto!). <br><br>  Mas a prática mostra que nem tudo é tão óbvio quanto parece à primeira vista.  Inclusive devido à simplicidade imaginária do processo.  Quando tudo está funcionando, existe o risco de o gerente se acalmar e parar de afundar no processo, passando-o para os desenvolvedores.  E eles seguirão o processo ou farão outra coisa em detrimento da resolução dos problemas que o processo de revisão foi projetado para resolver.  O gerente pode não estar ciente de que algo está errado, porque não define as regras nem impõe regras.  Embora seja muito importante para uma empresa resolver problemas o mais rápido possível, sem perder tempo em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">atividades não planejadas</a> . <br><br><blockquote> Era uma vez, quando eu trabalhava em outra empresa, fiquei profundamente impressionado com a conversa sobre revisões de código com um dos principais desenvolvedores.  Foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">p1lot</a> .  Talvez um dos leitores esteja familiarizado com ele (p1lot, olá :)).  Atualmente, ele está trabalhando conosco no Badoo, o que é ótimo. <br><br>  Então, o PILOT disse: "A coisa mais difícil para mim no processo de revisão é comprometer e pular ainda mais a tarefa concluída e funcionando corretamente, mesmo que eu conheça outra maneira de resolvê-la e que goste mais do meu método".  Na minha opinião, este é um pensamento-chave.  E a principal mensagem de todo o meu artigo gira de alguma forma em torno deste postulado. </blockquote><br><h1>  Por que preciso de um processo de revisão de código? </h1><br>  Você tem um comentário em sua empresa?  Você está fazendo certo?  Eu tenho um teste que pode fazer você duvidar. <br><br>  Você precisa responder apenas três perguntas: <br><br><ol><li>  Quanto tempo leva uma revisão de código para uma tarefa média (esférica no vácuo)? <br></li><li>  Como você minimiza o tempo de revisão? <br></li><li>  Como você determina se uma revisão de uma tarefa específica é feita corretamente? <br></li></ol><br>  Se você não tiver respostas claras para algumas (ou todas) perguntas, se duvidar de suas respostas, ouso assumir que algo está errado. <br><br>  Se você não sabe quanto tempo levará para revisar e não a minimiza constantemente, como planeja?  É possível que o artista, que fez a revisão por quatro horas, não tenha bebido chá pela metade desse tempo?  É possível ter certeza de que o tempo para beber chá não aumenta de tarefa para tarefa?  Ou talvez o revisor não veja o código, mas simplesmente clique em "O código está bom"? <br><br>  E, mesmo que a revisão seja feita de boa fé, como podemos garantir que, com o crescimento da base de códigos e da empresa, o tempo para concluir as tarefas não aumente?  Afinal, o gerenciamento, em regra, espera que os processos se acelerem, e não diminuam. <br><br>  Se a resposta para a terceira pergunta não vier à mente imediatamente, faz sentido perguntar mais uma.  Você sabe por que você realmente precisa desse processo?  Porque "é tão habitual para todos os grandes"?  Talvez você não precise dele? <br><br>  Se você perguntar aos seus líderes e desenvolvedores sobre o que é a revisão de código "correta", ficará muito surpreso com o quão diferente você ouve.  As respostas podem variar de acordo com a experiência pessoal, crenças, confiança pessoal na correção ou incorreta das coisas, e até mesmo na pilha de tecnologia usada e na linguagem de desenvolvimento. <br><br>  Lembra das ferramentas prontas para revisão de código, oferecendo suas próprias abordagens e fluxo?  Por exemplo, eu me pergunto como os desenvolvedores dessas ferramentas responderiam à pergunta.  Suas respostas sobre a “correção” da revisão estão correlacionadas com as respostas de seus funcionários?  Não tenho certeza.  Às vezes, infelizmente, vejo como alguém implementa ferramentas de revisão em casa, sem duvidar nem por um minuto de que elas são necessárias.  As pessoas fazem isso "para mostrar" ou relatam que "eles implementaram a revisão de código, está tudo bem".  E no final eles esquecem disso. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/we/be/co/webecot6dql7z1t18tw5b9dazdm.png" height="300"></div><br>  Não quero ser cap, mas mesmo assim.  Ao se comunicar com os funcionários, preste atenção a respostas como "Porque é tão estabelecido" ou "Esta é uma prática recomendada, todo mundo faz".  Você mesmo está ciente de que não precisa implementar um processo sem pensar, sem entender por que ele é necessário.  Qualquer processo deve ser justificado e implementado (se necessário), ajustado às necessidades do negócio e do projeto, bem como aos problemas que realmente existem e que você realmente deseja resolver.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O culto à carga</a> em uma empresa com uma boa cultura de engenharia não pertence. <br><br>  Portanto, é importante que o gerente transmita às pessoas a revisão "correta" do código, necessária precisamente em seu projeto.  E antes disso, é claro, os critérios de “correção” devem ser formulados por você, escolher as ferramentas certas e estabelecer as regras apropriadas.  E já existe perto de controle. <br><br><h1>  Revisão de código incorreta </h1><br>  Então, qual é o processo certo?  Vamos acertar.  Abaixo, há muito do meu raciocínio pessoal e, para aqueles que mal podem esperar para descobrir o que estou escrevendo tudo isso, proponho ir imediatamente para a parte "Revisão do código bom". <br><br>  Aos que ficaram, agradeço e, no entanto, proponho determinar a correção da revisão por conta própria, com base nas necessidades do seu projeto, considerando cuidadosamente tudo.  E eu apenas tento ajudá-lo com isso. <br><br>  Para destacar coisas importantes e necessárias para você em qualquer processo, pode ser útil começar cortando coisas obviamente desnecessárias que prejudicam a cultura de engenharia.  Então vamos lá. <br><br><h2>  Partilha de conhecimento </h2><br>  Para a pergunta "Por que preciso de um processo de revisão de código?"  Já ouvi a resposta " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Compartilhar conhecimento</a> " muitas vezes.  De fato, uma coisa útil e necessária.  E muitos concordam que é importante ter um processo em equipe para a troca de conhecimento e experiência.  Mas você tem certeza de que a revisão do código é adequada para isso? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gi/b0/mp/gib0mpzqapstxacukqt0romlzkm.jpeg" height="300"></div><br>  Eu perguntei repetidamente às pessoas o que elas querem dizer com "compartilhamento de conhecimento".  E em resposta ouvi coisas diferentes. <br><br>  Em primeiro lugar, é uma demonstração para os recém-chegados (na equipe ou no componente afetado) das regras e práticas aceitas: é assim que é habitual fazermos isso, e não o fazemos, é por isso e é por isso. <br><br>  Em segundo lugar, essa é uma nova visão de um iniciante (novamente em uma equipe ou em um componente afetado) sobre como as coisas comuns são feitas.  De repente, eles estão sendo feitos de maneira ineficiente, e uma nova pessoa ajudará a descobrir isso? <br><br>  Em terceiro lugar, isso é apenas uma introdução a alguma parte do código.  De fato, se no futuro o revisor enfrentar a necessidade de alterar essa parte do código, será muito mais fácil para ele. <br><br>  Vamos examinar todos os pontos e tentar avaliar a relevância deles no processo de revisão. <br><br><h2>  Revisão de código como uma ferramenta de treinamento para iniciantes </h2><br>  Nesse caso, estamos falando principalmente desse cenário: um iniciante recebe uma tarefa, ele a executa e, em seguida, um membro experiente da equipe (proprietário do componente) indica os erros que ele cometeu.  O processo é importante e necessário, não discuto - os iniciantes precisam mostrar de alguma forma as regras aceitas na equipe. <br><br>  Mas vamos ser honestos: não é tarde demais?  Não seria mais correto contar ao iniciante sobre essas regras <b>antes de</b> admiti-lo no código?  Afinal, o preço de um erro é muito alto - raramente os iniciantes trabalham imediatamente da maneira que você precisa.  Portanto, a tarefa voltará e voltará para revisão.  Portanto, o produto ficará disponível para o usuário mais tarde do que poderia. <br><br>  Acontece que em um processo cuja duração é difícil de avaliar, adicionamos outro, cujos custos de tempo são ainda menos previsíveis.  Assim, aumentamos o tempo necessário para entregar a tarefa ao usuário em uma quantidade ainda mais desconhecida. <br><br>  Obviamente, às vezes o treinamento de iniciantes através de processos de trabalho tem o direito de existir.  Mas, às vezes, não pensamos nas deficiências das abordagens que se tornaram um hábito.  E cometer um erro aqui não é apenas fácil, mas muito fácil. <br><br>  Por exemplo, se a empresa não possui um processo simplificado de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">treinamento e coaching</a> , o gerente é forçado a "jogar na água" um recém-chegado.  Ao mesmo tempo, o último não tem escolha: você deve "nadar" ou deixar a empresa.  Alguém realmente aprende com essas situações e alguém não se levanta.  Eu acho que muitos encontraram problemas semelhantes em suas trajetórias profissionais.  Minha mensagem é que o tempo mais valioso pode ser gasto de maneira não ideal devido a esse fenômeno.  Assim como o processo de adaptação de um novo funcionário em uma equipe, pode não ser o ideal.  Só porque ninguém tinha as mãos para organizar um processo eficaz de introdução de novos funcionários na equipe, e o gerente pensou que o recém-chegado aprenderia tudo na fase de revisão do código.  Mas, de fato, esses são dois processos diferentes, muito necessários e importantes. <br><br>  É claro que, mesmo nas condições em que as regras foram explicadas inicialmente ao iniciante e que a empresa possui outros processos de treinamento, o processo de adaptação do iniciante precisa ser controlado de alguma forma.  Uma revisão é um processo que pode ajudar.  Mas controle e treinamento são duas coisas diferentes, certo?  Além disso, todos os membros da equipe precisam de controle, e não apenas iniciantes.  Afinal, todos nós podemos cometer erros, esquecer os acordos e afetar de alguma forma a parte do sistema que a equipe inteira possui (nesse caso, o código). <br><br>  Que conclusão pode ser feita?  O processo descrito acima visa atingir um objetivo diferente: não para treinamento, mas para controle.  E esse mesmo controle é necessário não apenas para iniciantes, mas para a equipe como um todo. <br><br>  Tudo isso é facilmente formulado na seguinte tese: " <i>É necessária</i> uma <i>revisão de código para monitorar a conformidade com os acordos e regras gerais de todos os membros da equipe</i> ".  E o treinamento de iniciantes, neste caso, não passará de uma substituição artificial de uma meta que apenas confunde as pessoas e direciona o processo em uma direção diferente. <br><br>  Mas mesmo com essa conclusão, que, ao que parece, foi formulada corretamente, a lenha pode ser quebrada.  Uma revisão de código é uma fase que começa quando o código já está gravado.  E pode acontecer que o código escrito sem seguir as regras gerais seja muito caro para personalizar o padrão geral.  Nossa tarefa é informar ao contratado que algo deu errado o mais cedo possível.  E, portanto, argumento que às vezes as revisões de código não são o processo mais apropriado para monitorar a conformidade com as regras gerais.  Em muitos casos, as verificações de conformidade podem e devem ser transferidas para estágios anteriores. <br><br>  Por exemplo, você pode verificar a formatação do código nos ganchos do sistema de controle de versão (bem como o uso de classes seguras, disposições para a localização de arquivos nas pastas correspondentes, o uso de dependências externas e bibliotecas de terceiros, etc.).  Isso minimiza o tempo necessário para a revisão do código. <br><br>  Continuando a conversa sobre o treinamento de iniciantes no processo de revisão de código, vamos fazer uma analogia.  Suponha que você produza algum tipo de produto, por exemplo, bolos.  Suponha que você tenha recebido um pedido de bolo para um casamento VIP.  Você confia a “revisão” do bolo pronto ao novato?  Você está pronto para o novo confeiteiro assumir a responsabilidade pela vergonha ou pelo sucesso de toda a padaria deste casamento?  Ou talvez você queira que ele, nesta fase, se familiarize com as regras adotadas pela equipe (como assar bolos, preparar creme e insistir em cranberries com conhaque)?  Obviamente, tanto o processo de introdução das regras para o iniciante quanto o controle da parte dele são coisas bastante estranhas nesse estágio: o bolo já foi assado.  Então, por que podemos agir de maneira diferente com os recursos e o código?  Ou os recursos que lançamos não trazem vergonha ou o sucesso de nossa equipe aos olhos de usuários e clientes? <br><br>  Você pode contestar, dizendo que não preparamos tarefas “para pessoas importantes” todos os dias e que é inteiramente possível que um iniciante seja encarregado de uma tarefa não muito urgente ou não muito importante.  E você estará certo. <br><br>  Mas, primeiro, o que um iniciante aprende com tarefas triviais nas quais há poucas alterações de código (e essas mudanças não estão em locais críticos e para os negócios provavelmente não são tão importantes, pois a tarefa é urgente)?  Como ele pode aprender a assar bolos se chicoteia o creme o tempo todo?  A transição de simples para complexa, é claro, é necessária.  Mas é necessário fazer isso, controlando cuidadosamente o processo.  Iniciantes precisam ser ensinados, não deixar de aprender por conta própria. <br><br>  E segundo, mesmo uma abordagem aparentemente útil e correta pode prejudicar uma empresa.  Entender isso é muito simples, usando o método de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">levar ao ponto do absurdo</a> para tornar a conclusão o mais simples e compreensível possível. <br><br>  Imagine que declaramos abertamente que as tarefas que o gerente de produto nos dá são necessárias para o treinamento de recém-chegados.  Porque  E o mesmo da revisão de código: afinal, confiamos algumas tarefas simples e não urgentes aos iniciantes, para que eles aprendam a trabalhar da maneira habitual conosco. <br><br>  O que isso pode resultar no final?  Um artista zeloso que fielmente faz seu trabalho e acredita que tudo o que faz deve ser feito da melhor maneira possível, assumirá o processo de aprendizado.  Ele pode definir a tarefa de fazer várias implementações em vez de uma, para que mais tarde possa mostrar ao aluno as desvantagens e vantagens de diferentes abordagens.  Ele pode dar palestras, comparando as abordagens e as melhores práticas usadas na empresa e além.  Ele pode fazer muito mais para educar o iniciante.  Como resultado, o tempo necessário para concluir a tarefa aumentará, porque, em vez de <b>desenvolver,</b> nos concentramos no <b>treinamento</b> . <br><br>  No caso de uma revisão de código, um funcionário tão zeloso inicia uma longa discussão nos comentários à revisão sobre os benefícios e perigos de determinadas implementações, publica trechos de código no Stack Overflow, mostrando que existem outras idéias em outras cabeças, fornece links para artigos e livros que o aluno deve leia para entender que sua implementação é imperfeita. <br><br>  Esse é um processo de aprendizado normal que pode existir, mas que deve ser feito corretamente.  E nem sempre vale a pena integrá-lo ao processo de solução de um problema comercial.  Porque esses são dois processos diferentes.  Deixe o iniciante fazer os diferentes componentes do bolo, faça várias opções, deixe que algo estrague e jogue fora.  Deixe alguém mais experiente mostrar a ele como agir e recontar receitas antigas.  Mas aprender “na linha de produção” que produz seu produto para os clientes não é uma boa ideia.  E se você já decidiu isso, “conduza o recém-chegado” pela manivela, não permitindo que ele interfira no processo de produção durante o treinamento. <br><br>  Se sua empresa não é uma instituição, uma escola, uma escola técnica ou qualquer outra instituição educacional, o treinamento não é de sua responsabilidade direta.  A empresa contratou você para resolver outros problemas e obter outros resultados. <br><br>  A propósito, é por isso que não adicionamos funcionalidade ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Codeisok</a> para fazer upload de imagens, digitar e destacar o código nos comentários, embora tenha havido e ainda haja muitos pedidos para esses recursos.  Promovemos a ideia de que a revisão de código não é um blog pessoal, nem um messenger e nem um serviço de treinamento.  Uma ferramenta é necessária para outra.  De fato, para indicar as falhas no código, um comentário em texto simples é mais que suficiente. <br><br><h2>  Revisão de código como uma nova visão do código </h2><br>  Vamos seguir em frente.  O seguinte cenário de “troca de experiências” é o seguinte: fazemos algo na equipe, observando acordos internos, nossos olhos ficam embaçados e então uma nova pessoa chega (de outra empresa ou de outro componente) - e talvez ele veja falhas em nossa organização do trabalho. <br><br>  A ideia é boa, parece razoável.  De fato, e se estamos fazendo algo errado? <br><br>  Mais uma vez, voltemos à vida da tarefa e ao início da fase de revisão de código.  É tarde demais?  O bolo já está assado, os bolos são manchados com creme, as rosas são coladas.  O preço do erro é muito alto.  E então descobrimos que em outra padaria nos bolos adicione refrigerante, cortado com suco de limão, para esplendor.  E daí?  O que fazer  Remodelar? <br><br>  Obviamente não, porque: 1) sempre ficamos sem refrigerante, e o resultado não foi ruim;  2) é possível que os clientes tirem bolos de nós, e não de outra padaria, porque não gostam do sabor do refrigerante;  3) o bolo está pronto, o casamento é hoje à noite e não teremos tempo para fazer um novo bolo. <br><br>  Então por que isso é tudo?  É necessário compartilhar experiências.  É necessário um novo visual.  Mas, parece-me, em um estágio diferente.  Por exemplo, <b>antes de</b> assar bolos, você pode verificar com um iniciante: “E como você fez isso antes?  Por que esse método é melhor? ”  E, provavelmente, vale a pena fazer alguns bolos da maneira antiga e nova para dar a nossos clientes regulares uma chance de obter sua opinião. <br><br>  A implementação impensada das melhores práticas vistas em artigos ou relatórios pode prejudicar a empresa e o produto.  “O refrigerante é adicionado aos bolos por todos os principais players:“ Bugle ”,“ Tracebook ”,“ Rile.ru ”,“ Yumdeks ”.  Todo mundo faz isso.  E daí?  Por causa disso, Petya deve enfrentar imediatamente um remake de uma tarefa que já está pronta? <br><br>  Tenho certeza que não.  Se, inicialmente, antes de resolver o problema, você não concordou que "haverá refrigerante nos bolos", é muito míope exigir sua adição no estágio de revisão do código.  Sua empresa não tem o objetivo de "tomar refrigerante em bolos".  Se seus bolos já estão vendendo bem, não importa se eles têm refrigerante ou não. <br><br>  Você precisa entender que a troca de experiências é <b>outro</b> processo que não está vinculado a nenhuma revisão de código.  Pode ocorrer mais cedo, mais tarde ou em paralelo, mas é diferente.  Você pode organizar master classes mútuas com os concorrentes.  Alguns estão tentando roubar uma receita super secreta e uma técnica ultramoderna de chantilly com um perfurador.  Alguém está tentando espionar as idéias de outras pessoas e melhorar seus processos com a ajuda deles.  Mas é estranho fazer isso em uma esteira de trabalho, no estágio em que seu produto está quase pronto, e o preço da conversão é muito alto. <br><br>  Afinal, estamos falando sobre a fase de revisão.  Uma revisão de código que já foi gravada e está pronta para a próxima etapa.  Este código está aguardando o revisor clicar no botão "O código está OK".  E seus clientes não estão preparados para o fato de que você preparará um bolo com um novo chef para mostrar a ele como você assa bolos e ouve suas críticas. <br><br><h2>  Revisão de código como uma introdução a um pedaço de código </h2><br>  Talvez isso pareça a parte mais razoável e compreensível, com a qual muitos concordam.  O cenário aqui é entendido da seguinte maneira: um programador escreveu o código da tarefa, o resto olhou para ele, o estudou e agora eles sabem como trabalhar com ele.  Assim, reduzimos o risco de um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fator de barramento</a> : se o desenvolvedor sair, outros poderão trabalhar com sucesso com seu código.  E também estamos prontos para o fato de que na próxima vez que esse código puder ser "tocado" por outra pessoa, nesse caso, ele já saberá como trabalhar com ele. <br><br>  Vamos pensar se isso realmente funciona como planejado e se realmente ajuda as pessoas a compartilhar competências e conhecimentos sobre seções específicas do código. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tv/xo/qk/tvxoqkltup2c0f-u6sxe8hji9oi.jpeg" height="300"></div><br>  Vamos olhar a situação através dos olhos da pessoa que escreveu o código.         ,       ? <br><br> ,   -    (,      ,   ,  ).  ,       ? , . ,   ,           ,    . <br><br> ,   ,   ,         ,    .        .       <b></b> ,  <b></b>       <b></b>  ? <br><br> ,         -      .      ,  -  .      ,  :          ,      .    ,   ,   ,      , . <br><br>        ,           .           ,     -   ?   —     .     ,              ,      . <br><br> , ,   ,         - .  , .         ,   ,              .   ,    ,   ,      .           . ,  -   :  , ,  . <br><br> ? ,   ,      —         .  <b></b> . <br><br>        best practices    «      -»  « ,    ».  E daí? Best practices   ,     ,   .   ,        ?    .      ,  -     ,    <b></b>  . <br><br>      best practices, ,    . . — - ,    /  —      . «    », «     », « —  ,     DI».  ?  ? <br><br>     ,       ,    .          ,    , — ,      . <br><br>  ,           -,  «»,  ,      - .         ?      -   , , , .          ,  . ,        . <br><br> -,    « »    «» ,     .  -,    .      , ,  -      ,       :    ?         . ,  ,       ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a>   :          ,      ). <br><br>        ,  ,        .     ,  ,            (    ,     ?). <br><br>   —          .       ,   ,        . .         ?   bus factor , ,  -         ,      . <br><br>  , ,        ,    :  ,       ? <br><br> — ,   ,   ? <br> — . <br> —  ? <br> —  . <br><br>     .     ,     ?    , ,         ,    ?   ,       ,       ,   —      ? <br><br>  ,    ,            ,   ,   ,          ? <br><br>  ,  ,              ,  .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>    ,  ,    . <br><br>       ,           .      ,    ,       ,    (      ),           ,       (  ,    ,   ,   — ,       . .).         ,    . <br><br>   —   , , ,     .       ( ,  ,     . .)  .       —  —     . <br><br><h2> Code review   </h2><br>       «   ?»   .      ,    ,  . <br><br>   :      -     ,   ,   -    ,       ,        .    git blame  ,    ,    ,    ,    ,    . <br><br> ,  ,        —   ,  ,   ,   (   ) —     .    ,       ,    .           .  ,   ? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t4/hb/s3/t4hbs3qqgfkrkymesp83pykywr8.jpeg" height="300"></div><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>  .     ? <br><br> , ,      ,    .    ,      ,         ,      .     ,      -  (  , ).         , ,        —   ,   ,  ,    . <br><br>      ,  ,           .                ? ,  . <br><br>  ,   ,       ,    .      ,         .  ,         ?     . <br><br>    ,          ,           —    ,     .    (     )? <br><br>     «  -  - »    .     ,        .        . <br><br>    :        .     . <br><br><h1>    </h1><br>     ,        ,   .            ,       .   ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . <br><br>  ,          ,       —   .      ,      . <br><br>     —   .  ,      .  ,      .  ,             . <br><br> ,     ,        : <br><br><h2>     </h2><br>     ?     , , ?           ?     , , ?   - ,     ?       ?   ?  E assim por diante <br><br>  ,    . ,      .      ,   . <br><br>     ,      ,       . ,    ,          ,     .       ,        ,           ,     . <br><br>     ,         best practices,    .   <b></b>  ,  ,     ,       ,   <b></b> .   .      ,       ,       .        ,   <b></b> . <br><br><h2>    ,    </h2><br>   .      ,    ,             . - ,    ,  -   . <br><br>       ,              ,   .     ,         API-         .      ,     bus factor,    . <br><br>       ,         .             . <br><br><h2>   </h2><br>    - ?   , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>    . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>    ,       . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  null</a>   ,    «   ».      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>   . <br><br>      ,        .       ,       ?     ? <br><br><h2>     - </h2><br>  Esse estágio de verificação também é muito importante, pois visa melhorar o notório <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">suporte ao</a> código. <br><br>  Muitas pessoas entendem o significado do termo manutenção de código, mas nem todos podem explicar o que é.  E se sim, como definir a tarefa para a equipe para manter essa manutenibilidade?  Portanto, acredito que um desenvolvedor que pensa em como seu código será testado, muito menos em testar seu próprio código e escrever um autoteste para automatizar o teste, naturalmente se esforçará para garantir que seu código atenda à maioria dos critérios de manutenção de código.  De fato, sem isso, escrever um autoteste é quase impossível. <br><br>  A recomendação geral para qualquer alteração de código também pode ser a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">decomposição</a> correta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">das tarefas</a> .  Quanto menor a quantidade de código que passa pelo pipeline de todos os processos, da ideia à produção, mais fácil é esse código para verificar a conformidade, testar, combinar com o código de outras tarefas e fazer upload.  Uma revisão de código não é exceção.  Uma tarefa com um grande número de linhas alteradas em muitos arquivos é muito difícil de ler e entender (e manter as dependências em mente).  O risco e o custo da correção de bugs podem ser muito altos. <br><br><h1>  Conclusão </h1><br>  Isso, de fato, é tudo.  Esses quatro pontos são precisamente as mesmas coisas que precisam ser verificadas na fase de revisão.  Eles são fáceis de formalizar, fáceis de transmitir aos artistas, o que significa que não é difícil formular critérios de verificação e prever a duração.  A automação e outras maneiras de minimizar o tempo de revisão são mais do que possíveis. <br><br>  E, finalmente, darei mais algumas dicas. <br><br>  É importante lembrar que qualquer retorno do código para revisão não afeta a qualidade da implementação da melhor maneira.  Mesmo que todos sejam bem-intencionados.  No caso de revisão de código, funciona da seguinte maneira: o desenvolvedor corrige o código, mas não o testa tão completamente quanto na primeira iteração (por quê? Afinal, ele já verificou tudo e o modificou um pouco).  A experiência mostrou que a maioria dessas situações se transforma em bugs precisamente nos locais em que houve correções com base nos resultados da revisão do código.  É assim que a psicologia humana funciona. <br><br>  No início do artigo, sugeri que você respondesse três perguntas sobre a necessidade e a correção de uma revisão.  Agora você tem um algoritmo para ajudá-lo a encontrar as respostas.  Conhecendo as etapas de controle e levando em consideração o tamanho da tarefa, é bem possível planejar o tempo necessário para a revisão do código, sempre tentando reduzi-la cada vez mais. <br><br>  Ao implementar qualquer processo, é importante lembrar os objetivos que estabelecemos para nós mesmos e os problemas que queremos resolver.  Então será muito mais fácil separar os grãos do joio e formular critérios mensuráveis ​​para avaliar a eficácia.  E você precisa formulá-los para você e sua equipe, que também precisam resolver urgentemente os problemas que surgiram, mas que podem entendê-los à sua maneira. <br><br>  Há mais um ponto importante: os processos, regras e valores que são justos para uma empresa podem não ser tão úteis e funcionar em outra.  O que descrevi como exemplos da revisão correta funciona em nossa empresa.  Promovemos o desenvolvimento rápido, lançamentos frequentes e a revisão de cada tarefa.  Pense em como isso é aplicável ao seu projeto e que uma revisão é um daqueles processos que não podem ser deixados ao acaso. <br><br>  Mas a decisão, é claro, permanece com você. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt413965/">https://habr.com/ru/post/pt413965/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt413953/index.html">Quando e por que vale a pena usar as funções de seta ES6 e quando não</a></li>
<li><a href="../pt413955/index.html">Ciclo de desenvolvimento completo do dispositivo IoT para controle de aquecimento de piscinas no ESP8266 em um ambiente Arduino</a></li>
<li><a href="../pt413957/index.html">Um exemplo de criação de um aplicativo esportivo em tempo real no Node.js</a></li>
<li><a href="../pt413959/index.html">Menor imagem do Docker - Menos de 1000 bytes</a></li>
<li><a href="../pt413963/index.html">Mini CRM para pequenas empresas</a></li>
<li><a href="../pt413967/index.html">Engenharia Reversa no Modo Desenvolvedor Animal Crossing</a></li>
<li><a href="../pt413969/index.html">Technopark Russky - desenvolvimento inovador de bilhões de orçamento</a></li>
<li><a href="../pt413971/index.html">Mais de 10 mídias noticiosos em inglês para alunos de idiomas</a></li>
<li><a href="../pt413973/index.html">Avaliação Cavium ThunderX2: O sonho do servidor de armários é verdadeiro (parte 2)</a></li>
<li><a href="../pt413977/index.html">Construindo um sistema de proteção antivírus expandido para uma pequena empresa. Parte 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>