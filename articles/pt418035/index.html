<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üß† üëÉüèΩ üñåÔ∏è Apresentando a linha do tempo na Unity üòí üôã ü•Ä</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[O tutorial possui cerca de 50 MB de imagens, incluindo GIFs animados] 

 Os desenvolvedores costumam usar cenas para contar parte do enredo do jogo o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apresentando a linha do tempo na Unity</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418035/">  <i>[O tutorial possui cerca de 50 MB de imagens, incluindo GIFs animados]</i> <br><br>  Os desenvolvedores costumam usar cenas para contar parte do enredo do jogo ou cativar o jogador.  Alguns jogos criam cenas animadas especialmente renderizadas com modelos altamente detalhados, enquanto outros usam modelos reais no jogo.  Gra√ßas ao uso de modelos no jogo, voc√™ pode economizar muito dinheiro e tempo, porque n√£o precisa criar novos modelos, plataformas e anima√ß√µes exclusivamente para cenas.  Mas mesmo se voc√™ usar modelos prontos, isso n√£o significa que voc√™ precisa sacrificar efeitos especiais ou drama!  O Unity tem uma ferramenta poderosa para criar cenas emocionantes - Linha do tempo da unidade! <br><br>  Neste tutorial, voc√™ conhecer√° a Linha do tempo e aprender√° a criar cenas com anima√ß√µes e trocas de c√¢mera. <br><br><h2>  Come√ßando a trabalhar </h2><br>  Fa√ßa o download do projeto preliminar e do projeto finalizado <a href="">aqui</a> . <br><br>  Abra o arquivo Starter Project e carregue a cena principal.  Ela ser√° nossa base.  H√° um her√≥i nele, parado em uma torre e olhando o mundo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5fc/7a6/c5c/5fc7a6c5cd759ce8aa9c08509db3830d.png"></div><br>  Com sua ajuda, ele ser√° capaz de pular da torre, virar-se, ir ao ba√∫ do tesouro e abri-lo com um chute.  Com essas anima√ß√µes, a c√¢mera tamb√©m mudar√° de posi√ß√£o. <a name="habracut"></a>  Aqui est√° a apar√™ncia da cena final: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af7/5c6/b3f/af75c6b3fbbe8e5e5ef322edb65b96d9.gif"></div><br><h2>  O que √© a linha do tempo? </h2><br>  Neste tutorial, trabalharemos com a Linha do tempo do Unity - mas o que √© a linha do tempo?  Linha do tempo √© um GameObject com um componente da linha do tempo que pode ser editado na janela Linha do tempo da Unity, que controla os quadros-chave da anima√ß√£o e os ciclos de vida dos objetos.  Ao criar uma cena usando a Linha do tempo do Unity, definimos as teclas de anima√ß√£o e determinamos quando elas devem funcionar.  Neste tutorial, tamb√©m usaremos o AnimationController, que pode ser considerado um superconjunto de quadros-chave da anima√ß√£o. <br><br>  Quando um personagem executa uma anima√ß√£o, como caminhar, cada v√©rtice individual de um objeto deve indicar seu caminho.  Neste tutorial, n√£o estaremos envolvidos na cria√ß√£o de um modelo e anima√ß√µes de rigging - tudo j√° foi feito por n√≥s.  Mas √© √∫til saber que, quando voc√™ define manualmente um quadro-chave para uma anima√ß√£o ou usa um AnimationController, eles s√£o essencialmente a mesma coisa: a posi√ß√£o dos objetos em um determinado momento.  A linha do tempo controla todos esses movimentos para criar a cena.  Voc√™ entender√° tudo isso quando come√ßar a entender a Linha do tempo da Unidade. <br><br>  Por√©m, antes de mergulhar no estudo, √© √∫til fornecer uma breve vis√£o geral da janela Linha do tempo.  Olhe para a imagem e leia as descri√ß√µes sob os n√∫meros: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/275/91e/f57/27591ef57ff5efa79752c74bdbc99906.png"></div><br><ol><li>  <em>Ativo da linha do tempo:</em> esta √© uma faixa que √© mapeada para um GameObject na hierarquia.  Ele armazena os quadros-chave associados a este GameObject, usados ‚Äã‚Äãpara executar anima√ß√µes ou determinar se o GameObject est√° ativo. </li><li>  <em>GameObject associado:</em> este √© o GameObject ao qual a faixa est√° associada. </li><li>  <em>Quadro:</em> este √© o quadro da Linha do tempo definido atualmente.  Quando precisamos alterar as anima√ß√µes, definimos os quadros-chave nos quadros inicial e final. </li><li>  <em>Grupo de faixas:</em> aumentar a escala da cena tamb√©m aumenta o n√∫mero de faixas.  Voc√™ pode organizar as faixas agrupando-as. </li><li>  <em>Bot√£o Gravar:</em> quando este bot√£o est√° ativo, podemos alterar o quadro atual e definir a posi√ß√£o e / ou rota√ß√£o do GameObject na cena.  As altera√ß√µes ser√£o gravadas. </li><li>  <em>√çcone Curvas:</em> clicar neste √≠cone abrir√° a janela Curvas, na qual √© poss√≠vel ajustar os detalhes dos quadros-chave associados da anima√ß√£o para alter√°-los da maneira desejada. </li></ol><br>  N√£o se preocupe se essa informa√ß√£o parecer muito complicada para voc√™ at√© agora - no processo de conclus√£o do tutorial, retornaremos a ela.  Nesse est√°gio, √© mais importante lembrar onde est√° a janela Linha do tempo e que, quando voc√™ seleciona a Linha do tempo do GameObject, pode acessar a janela Linha do tempo. <br><br><h2>  Luz, c√¢mera, MOTOR! </h2><br>  Depois de carregar a cena principal, clique em Reproduzir.  Voc√™ deve ver um her√≥i parado no topo de uma torre: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/57b/ad7/7b9/57bad77b9bb301ff866534b848e143c8.gif"></div><br>  Essa √© a anima√ß√£o padr√£o especificada no controlador de anima√ß√£o.  Neste tutorial, usaremos anima√ß√µes pr√©-criadas, para que voc√™ n√£o precise se preocupar com a estrutura interna de modelos, anima√ß√µes ou controladores.  Mas se voc√™ quiser entender esse processo, pode estudar o nosso tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdu√ß√£o √† Anima√ß√£o do Unity</a> . <br><br><h3>  Criando um GameObject do tipo Timeline </h3><br>  O primeiro passo √© criar uma linha do <em>tempo do</em> GameObject.  Crie um <em>GameObject</em> vazio clicando com o bot√£o direito do mouse (em um Mac com o Comando pressionado) na janela Hierarquia e selecionando <em>Criar Vazio</em> .  Ent√£o, adicionamos um GameObject √† cena e selecionamos: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b50/b0d/cd1/b50b0dcd1373675793c2ad2b912e8119.gif"></div><br>  Sem remover a sele√ß√£o do GameObject, abra o <em>menu Janela</em> e selecione <em>Linha do tempo</em> .  A janela Linha do tempo √© aberta.  Clique no <em>bot√£o Criar</em> para abrir a caixa de di√°logo Salvar.  <em>Mude o nome do arquivo para Timeline</em> e clique em Save: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6cd/90a/840/6cd90a840183dae9b1ceeb36ac181325.gif"></div><br>  <em>Renomeie GameObject</em> para <em>Timeline</em> clicando nele, pressionando a tecla <em>F2</em> e digitando <em>Timeline</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/909/b39/198/909b3919810d8d85ccaa55866aa24aad.png"></div><br>  Criamos uma linha do tempo do GameObject que coordenar√° todas as anima√ß√µes e altera√ß√µes de c√¢mera na cena.  Dentro do mecanismo, o Unity salvou um arquivo de ativo chamado Timeline.playable em disco.  Na linha do tempo do GameObject, o Unity adicionou os componentes <em>Playable Director</em> e <em>Animator</em> . <br><br>  O componente Playable Director cont√©m um campo Playable anexado ao ativo Timeline que acabamos de salvar.  O componente Animator adicionado pelo Unity em teoria deve permitir animar a Linha do tempo do GameObject, mas n√£o faremos isso, portanto voc√™ pode simplesmente ignor√°-lo. <br><br>  Antes de prosseguir, quero arrastar a <em>guia Linha</em> do <em>tempo</em> para a parte inferior da tela.  Isso nos permitir√° abrir simultaneamente as janelas Cena e Linha do tempo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/15f/7ca/f00/15f7caf00a0c02304d0b303475ea64a6.gif"></div><br>  Selecione GameObject <em>Timeline</em> e retorne √† janela Timeline.  No momento, temos uma <em>faixa de anima√ß√£o</em> para a linha do tempo do GameObject.  N√£o precisamos disso, ent√£o voc√™ pode selecion√°-lo e pressionar <em>Excluir</em> para excluir: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78c/af5/d9a/78caf5d9a6a19b7f9e4a0416839ed893.gif"></div><br><h2>  Animando o salto! </h2><br>  Agora estamos prontos para iniciar anima√ß√µes.  Expanda GameObject <em>Hero</em> para ver GameObject <em>Model</em> .  Selecione <em>Linha do tempo do</em> GameObject.  Arraste GameObject <em>Modelo</em> na janela Timeline;  isso abrir√° o menu da faixa, ent√£o selecione <em>Faixa de anima√ß√£o</em> .  Repita esta etapa para o GameObject <em>Hero</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/753/53a/a08/75353aa08cbffd2a4a73d577ad9659e7.gif"></div><br><blockquote>  <em>Nota:</em> adicionamos Hero e Model para usar corretamente o espa√ßo local zero.  O GameObject Hero √© um cont√™iner para o GameObject Model, que permite reproduzir anima√ß√µes sem afetar a posi√ß√£o em que s√£o reproduzidas.  Quando precisamos mover o her√≥i, animaremos o GameObject Hero.  Quando um personagem precisar ser animado - o que pode ser feito enquanto se move -, usaremos o Modelo GameObject.  Sem esse relacionamento pai-filho, as anima√ß√µes reproduzidas pelo objeto Modelo substituir√£o incorretamente os par√¢metros de movimento do objeto Her√≥i, se voc√™ n√£o o configurar como filho. </blockquote><br><h3>  Gravar quadros-chave </h3><br>  Como a trilha do GameObject Hero representa a posi√ß√£o do her√≥i, precisamos definir sua posi√ß√£o como o quadro-chave inicial. <br><br>  Selecione <em>a faixa Hero</em> na janela Timeline e clique no <em>bot√£o Record</em> (c√≠rculo vermelho) para iniciar a grava√ß√£o.  Selecione <em>GameObject Hero</em> na janela Hierarchy e <em>defina sua posi√ß√£o X como -1</em> e, em seguida, <em>defina</em> imediatamente <em>sua posi√ß√£o X como 0</em> . <br><br>  Volte √† janela Timeline e pressione o bot√£o Record na trilha Hero para <em>concluir a grava√ß√£o</em> .  Ent√£o, adicionamos um quadro-chave para a posi√ß√£o inicial do her√≥i: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c0/626/7e2/0c06267e22f895f6f5ef74c9fa28bff7.gif"></div><br>  Em nosso projeto, o her√≥i j√° est√° na posi√ß√£o em que deve come√ßar.  No entanto, at√© mudarmos de posi√ß√£o, ela n√£o ser√° registrada ao gravar como quadro principal.  Portanto, se voc√™ precisar definir um quadro-chave ao gravar para uma posi√ß√£o que j√° tenha um quadro-chave, mova-o e retorne-o para registrar. <br><br>  A maneira mais f√°cil de fazer isso √© definir a posi√ß√£o X do objeto como -1 em rela√ß√£o √† sua posi√ß√£o atual e retornar o valor ao seu lugar.  Neste tutorial, usaremos esse truque v√°rias vezes. <br><br>  Em seguida, precisamos que o her√≥i espere 100 quadros antes de pular da torre.  No momento, definimos apenas a posi√ß√£o inicial do her√≥i, mas precisamos dar ao her√≥i a mesma posi√ß√£o (ou seja, no topo da torre) ap√≥s 100 quadros.  Caso contr√°rio, a Unidade come√ßar√° imediatamente a interpolar o movimento. <br><br>  Como antes, selecione <em>GameObject Timeline</em> , mas desta vez voc√™ precisa clicar no <em>campo de quadro</em> na parte superior da janela e <em>inserir "100"</em> .  Ent√£o, movemos o quadro-chave para o quadro 100. <br><br>  Pressione o bot√£o <em>Record</em> para a faixa Hero.  Selecione GameObject <em>Hero</em> e, no campo Transform da janela Inspector, <em>defina sua posi√ß√£o X para -1 e, em seguida, retorne imediatamente para 0</em> .  Pressione o bot√£o <em>Gravar</em> novamente para parar a grava√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b9d/f81/629/b9df816295a4a093690123d7c0aad18e.gif"></div><br>  Assim, configuramos o quadro-chave inicial do Hero e estamos prontos para continuar trabalhando com anima√ß√µes. <br><br><h3>  Adicionar clipes animados </h3><br>  <em>Definindo dados de posi√ß√£o</em> <br><br>  Primeiro, precisamos definir os dados da posi√ß√£o. <br><br>  Clique em GameObject <em>Timeline</em> para selecion√°-lo.  Na janela Linha do tempo, adicione <em>Anima√ß√£o</em> √† trilha Modelo, clicando com o bot√£o direito do mouse (em um Mac - clicando em Comando) na trilha Modelo e selecionando <em>Adicionar do clipe de anima√ß√£o</em> .  Agora selecione a anima√ß√£o <em>inativa</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1da/e61/ba0/1dae61ba06cdce0322107b23ff6f37a0.gif"></div><br>  Em seguida, animamos o salto do her√≥i da torre, mas primeiro precisamos mov√™-lo para cima e por cima dos trilhos e depois para o ch√£o. <br><br>  Para fazer isso, primeiro selecione a janela Linha do tempo e depois v√° para o quadro <em>138</em> .  Pressione o bot√£o <em>Gravar</em> na faixa Hero.  Agora selecione GameObject <em>Hero</em> .  No campo Transformar da janela Inspetor, defina a posi√ß√£o Y como <em>3.934 e a posi√ß√£o Z como 1.97</em> . <br><br>  Volte √† janela Timeline e <em>v√° para o quadro 176</em> .  Selecione GameObject <em>Hero</em> novamente e <em>defina a posi√ß√£o Y como 0 e a posi√ß√£o Z como 5.159</em> .  Termine a grava√ß√£o pressionando o bot√£o <em>Gravar</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/25a/4ab/f21/25a4abf2175ff8db75ba9f84617592d9.gif"></div><br>  Salve a cena e clique em <em>Reproduzir</em> para ver o resultado do seu trabalho! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3b7/2db/a22/3b72dba221854fa69d6026f3e752d33d.gif"></div><br>  <em>Adicionar anima√ß√µes</em> <br><br>  Definimos essas posi√ß√µes, mas n√£o as anima√ß√µes executadas com elas.  Agora vamos fazer isso. <br><br>  Com a janela Linha de tempo selecionada, clique com o bot√£o direito do mouse (em um Mac, mantenha pressionada a tecla Command) na faixa <em>Modelo</em> e clique em <em>Adicionar do clipe de anima√ß√£o</em> e selecione <em>Ir</em> .  Ent√£o voc√™ adiciona a anima√ß√£o Jump imediatamente ap√≥s a anima√ß√£o Idle. <br><br>  Arraste o lado direito da <em>anima√ß√£o Jump</em> para que fique no quadro <em>176</em> .  Agora adicionaremos outro <em>clipe de anima√ß√£o</em> , mas desta vez adicionaremos a anima√ß√£o <em>Land</em> (n√£o √© necess√°rio alterar o tamanho, basta adicion√°-lo): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4fc/d59/386/4fcd59386cf3bb429e88dfbd43d9eb2c.gif"></div><br>  Salve a cena, clique em Reproduzir e veja o resultado! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4ec/db1/a6e/4ecdb1a6e1251571174489fda2781e60.gif"></div><br><h3>  Adicionar c√¢meras </h3><br>  √â um pouco dif√≠cil seguir a a√ß√£o ap√≥s o salto do her√≥i da torre, por isso √© o momento certo para trabalhar com c√¢meras. <br><br>  Na janela Hierarquia, renomeie <em>MainCamera</em> para <em>Camera1</em> .  Selecione <em>Linha do tempo do</em> GameObject.  Arraste <em>Camera1</em> para a janela Timeline, isso abrir√° o menu de sele√ß√£o de faixa;  selecione <em>Faixa de ativa√ß√£o</em> .  Arraste a pista <em>Ativa</em> da Camera1 para que ela termine no quadro <em>157</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/964/9ba/994/9649ba9949b1ab49a1a35e1ebaf6402f.gif"></div><br><blockquote>  <em>Dica:</em> o marcador de quadro atual pode ser definido usando o campo de contador de quadros no Timeline Inspector.  Se voc√™ definir o marcador no quadro no qual deseja arrastar a faixa, a faixa ser√° anexada ao marcador do quadro. </blockquote><br>  A atividade ou inatividade do GameObject durante uma cena √© controlada pela <em>Faixa de Ativa√ß√£o</em> .  Nossa c√¢mera principal agora ser√° desligada ap√≥s o quadro 157. Clique em Reproduzir e veja o resultado: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/30d/d87/28a/30dd8728a41999eb04bbc442a4a608dc.gif"></div><br>  Agora vamos adicionar outra c√¢mera, mas ela mostrar√° o her√≥i depois de pular o parapeito da torre. <br><br>  Na janela Hierarquia, selecione <em>C√¢mera1</em> e duplique-a pressionando <em>Control-D</em> (Command-D no Mac).  Renomeie a duplicata para <em>Camera2</em> e <em>desative</em> -a. <br><br>  Neste tutorial, usamos mais duas c√¢meras, ent√£o vamos cri√°-las agora, repetindo o mesmo algoritmo;  <em>renomeie-os para Camera3 e Camera4</em> e desconecte-os.  Depois disso, todos os objetos do jogo C√¢mera, exceto C√¢mera1, devem ser desativados.  Aqui est√° a apar√™ncia da hierarquia: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ac/49e/f6c/1ac49ef6c59edbcdc0c13d244044c43f.png"></div><br>  Agora vamos colocar o Camera2.  Selecione <em>C√¢mera2</em> e, no campo Transformar da janela Inspetor, <em>defina a posi√ß√£o Y como 10,75 e a posi√ß√£o Z como 2,84</em> .  Defina a rota√ß√£o X para <em>79,5</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/453/024/5d2/4530245d2df0228ca5729db4d55630c9.png"></div><br>  Quanto √† Camera1, selecione a janela <em>Timeline</em> e arraste o objeto <em>Camera2</em> para dentro da Hierarquia;  o menu de sele√ß√£o de faixa aparece novamente, ent√£o selecione <em>Faixa de ativa√ß√£o</em> .  Arraste <em>a barra Ativa</em> para que inicie imediatamente ap√≥s a conclus√£o da ativa√ß√£o da C√¢mera1 (quadro 158).  Arraste o lado direito da <em>faixa Ativa</em> da C√¢mera2 para que ela termine no <em>quadro 216</em> . <br><br>  Salve a cena, clique em Reproduzir e assista a troca de c√¢meras na sua cena. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/675/626/169/67562616913b51e0bf42e7cb68cf648f.gif"></div><br><h2>  √â hora de chegar ao tesouro! </h2><br><h3>  N√≥s olhamos para o peito </h3><br>  Agora que nosso her√≥i caiu no ch√£o, ele deve se virar para o ba√∫ do tesouro e come√ßar a andar. <br><br>  Selecione GameObject <em>Timeline</em> e defina o quadro <em>202</em> .  Pressione o <em>bot√£o Gravar</em> na faixa <em>Hero</em> para iniciar a grava√ß√£o. <br><br>  Selecione GameObject <em>Hero</em> e, no campo Transform da janela Inspector, <em>defina Y Rotation como -1 e, imediatamente, altere o valor de volta para 0</em> para definir o quadro-chave inicial da rota√ß√£o do GameObject Hero. <br><br>  Quando terminar, selecione GameObject Timeline novamente e <em>defina o quadro 216</em> .  Selecione GameObject Hero novamente e, no campo Transform da janela Inspector, <em>defina Y Rotation para -90</em> . <br><br><blockquote>  <em>Nota: os</em> quadros principais da posi√ß√£o e rota√ß√£o s√£o definidos independentemente um do outro.  Anteriormente, quando defin√≠amos a posi√ß√£o inicial do her√≥i, o quadro-chave do turno n√£o era salvo, portanto, precisamos definir um novo quadro antes de avan√ßar para o turno desejado na dire√ß√£o do tesouro. </blockquote><br>  Al√©m disso, o her√≥i deve estar em um estado de espera neste momento. Portanto, adicione anima√ß√£o <em>inativa</em> √† <em>trilha de</em> anima√ß√£o do <em>modelo</em> e fa√ßa com que ela dure at√© o quadro <em>216</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a2/cc9/f3c/2a2cc9f3c2b9309b71f563b9409a1bc0.gif"></div><br>  Ent√£o, nosso her√≥i chegou e est√° pronto para procurar um tesouro.  √â hora de ir at√© ele e abrir o ba√∫! <br><br>  <em>Dica:</em> Se a faixa Timeline ficar muito grande, √© poss√≠vel girar a roda do mouse para mudar a escala.  Para mover para a esquerda ou direita, pressione e segure o bot√£o do meio do mouse enquanto o move para a esquerda ou direita. <br><br><h3>  Estamos nos aproximando do tesouro </h3><br>  Selecione GameObject <em>Timeline</em> e defina o quadro <em>216</em> .  Pressione o bot√£o <em>Gravar</em> na faixa Hero para iniciar a grava√ß√£o. <br><br>  Selecione GameObject <em>Hero</em> e defina a posi√ß√£o X como <em>-1</em> no campo Transform da janela Inspector e, em seguida, retorne a <em>0</em> novamente para definir o quadro-chave para a posi√ß√£o inicial.  Em seguida, na Linha do tempo, selecione o quadro <em>361</em> na trilha Hero. <br><br>  Retorne ao GameObject <em>Hero</em> e defina a posi√ß√£o X para <em>-6</em> no campo Transform da janela Inspector.  Volte √† faixa Hero e termine a grava√ß√£o. <br><br>  Finalmente, d√™ ao objeto Model uma anima√ß√£o <em>Walk</em> , seguindo as mesmas etapas de antes, e depois estique-o para o <em>quadro 361</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9af/24e/f3a/9af24ef3ab3b37448c18d1a76650ef15.gif"></div><br>  Voc√™ pode perceber que o her√≥i parece passar pelo tesouro, mas na verdade √© um problema com a visualiza√ß√£o da Linha do tempo, porque, como veremos em breve, o her√≥i vai diretamente ao ba√∫ e para. <br><br>  Para impedir que a C√¢mera2 siga todo o caminho do her√≥i, agora podemos usar a C√¢mera3 para fotografar pelas costas do her√≥i. <br><br>  Para fazer isso, no menu principal da janela Hierarquia, selecione e arraste <em>Camera3</em> para o GameObject <em>Model</em> , localizado dentro do GameObject Hero, para tornar a c√¢mera sua filha. <br><br>  Defina a posi√ß√£o <em>C√¢mera3</em> <em>(X: 0, Y: 2,06, Z: -2,5)</em> .  D√™ uma volta <em>(X: 0, Y: 0, Z: 0)</em> .  A hierarquia deve ficar assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/949/c01/76c/949c0176c544e6fcfaf58f04cd295e38.png"></div><br>  Devido ao fato de que o Camera3 agora √© filho do GameObject Model, ele repetir√° todos os movimentos do GameObject Model, olhando-o por tr√°s.  No entanto, o Camera3 ainda precisa de uma faixa de ativa√ß√£o para que seja ativada no momento certo. <br><br>  Arraste GameObject <em>Camera3</em> para Timeline e selecione <em>Activation Track</em> , como fizemos com Camera1 e Camera2.  Defina o quadro inicial da <em>C√¢mera3 como o</em> quadro final da C√¢mera2 e defina o quadro <em>final</em> como <em>C√¢mera3 como</em> <em>361</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fbe/e67/de1/fbee67de1449ff7f4cc0e4390c398fef.gif"></div><br>  Agora salve a cena, clique em <em>Reproduzir</em> e veja como tudo acontece: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a70/cfb/30f/a70cfb30f5c7f7eb24e2946503f08c7f.gif"></div><br>  J√° fizemos quase tudo!  Agora o her√≥i s√≥ precisa abrir o ba√∫ ... √© claro, chut√°-lo! <br><br><h3>  Abra o ba√∫ </h3><br>  Para a visualiza√ß√£o final, usamos o Camera4, configurando-o da maneira que fizemos com o Camera1 e o Camera2. <br><br>  Arraste <em>Camera4</em> para a Linha do tempo e adicione <em>Faixa de ativa√ß√£o</em> .  Defina o quadro inicial da <em>C√¢mera4</em> no final da fase de atividade da <em>C√¢mera3</em> e estenda-o para o quadro <em>555</em> .  Deve ficar assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7c9/7a8/c48/7c97a8c485527dde14bfc746363179e4.png"></div><br>  Adicione uma anima√ß√£o <em>Kick</em> .  Clique com o bot√£o direito do mouse (em um Mac, mantenha pressionada a tecla Command) na trilha Modelo.  Selecione <em>Adicionar anima√ß√£o do clipe</em> e selecione <em>Kick</em> .  N√£o mude a dura√ß√£o.  A trilha Modelo deve ficar assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7a/026/bf0/b7a026bf0b4c0a6799b3d30e3ff718c2.png"></div><br>  Precisamos abrir o ba√∫, ent√£o agora vamos adicionar uma anima√ß√£o de sua capa.  A configura√ß√£o dessa anima√ß√£o √© semelhante ao que fizemos antes. <br><br>  Expanda <em>GameObject ChestBottom</em> na janela Hierarquia.  Arraste <em>GameObject ChestLid</em> para Timeline e selecione <em>Animation Track</em> .  Na Linha do tempo, defina o quadro <em>389</em> .  Agora selecione a faixa <em>ChestLid</em> .  Clique no <em>bot√£o Gravar</em> . <br><br>  Agora que a grava√ß√£o est√° em <em>andamento</em> , selecione <em>GameObject ChestLid</em> na janela Hierarchy e defina a Posi√ß√£o X como <em>-1</em> e depois retorne a <em>0</em> para definir a posi√ß√£o inicial.  Na janela Linha do tempo, defina o quadro <em>555</em> .  Finalmente, no campo Transformar da janela Inspetor, defina Y Position <em>ChestLid</em> como <em>6</em> .  Pressione o bot√£o <em>Gravar</em> na faixa novamente para finalizar a grava√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e4a/f94/e52/e4af94e527578b184b63008474bb83fd.gif"></div><br>  Ent√£o, animamos a tampa do peito para que ele voe atrav√©s da parede. <br><br>  Agora voc√™ precisa colocar o Camera4 para que fique acima do peito quando a tampa se abrir.  Repetiremos os mesmos passos novamente para a c√¢mera anterior, portanto n√£o descreverei cada a√ß√£o em detalhes. <br><br>  D√™ ao objeto Camera4 uma posi√ß√£o <em>(X: -9.00, Y: 5.4, Z: 5.18)</em> .  Defina Camera4 para girar <em>(X: 90, Y: 0, Z: 0)</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e2d/9ee/bb5/e2d9eebb5e49796441b0c48b7599d3d2.png"></div><br>  Como em todas as outras c√¢meras adicionadas, a adi√ß√£o de uma anima√ß√£o torna a cena mais interessante; portanto, voc√™ deve ampliar a c√¢mera depois de abrir o ba√∫. <br><br>  Selecione a janela <em>Timeline</em> .  Arraste <em>GameObject Camera4</em> para ele e crie uma <em>faixa de anima√ß√£o</em> .  Defina a faixa <em>389</em> para acompanhar.  Clique na <em>faixa Camera4</em> e, em seguida, clique no bot√£o <em>Gravar</em> .  Selecione <em>GameObject Camera4</em> .  No campo Transformar da janela Inspetor, <em>defina X Position como 0 e -9 novamente</em> . <br><br>  Na janela <em>Linha</em> do <em>tempo</em> , arraste a trilha de anima√ß√£o para o <em>quadro 555</em> . <br><br>  Por fim, defina a posi√ß√£o Y da <em>c√¢mera4</em> como <em>3,74</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e4a/f94/e52/e4af94e527578b184b63008474bb83fd.gif"></div><br>  A cena finalmente acabou.  Clique em <em>Play</em> e avalie-o! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af7/5c6/b3f/af75c6b3fbbe8e5e5ef322edb65b96d9.gif"></div><br><h2>  Gerenciando com complexidade: agrupando trilhas </h2><br>  Foi uma curta anima√ß√£o de tudo com alguns "atores", por isso foi muito f√°cil rastrear objetos e faixas do jogo.  Por√©m, ao criar cenas mais complexas com muitas partes e atores em movimento, torna-se muito dif√≠cil de controlar.  √â por isso que a encomenda √© muito necess√°ria.  Embora a cena esteja pronta, vamos dedicar alguns minutos para organiz√°-la - no futuro voc√™ ainda se agradecer√° por isso. <br><br>  Uma maneira de organizar seu trabalho √© agrupando faixas.  Primeiro, clique com o bot√£o direito do mouse nas faixas na <em>janela Linha do tempo</em> e selecione <em>Grupo de faixas</em> .  Clique em Grupo de trilhas e no Inspetor altere seu nome para <em>Ativa√ß√µes</em> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/376/e55/34c/376e5534cbfc44d8954cf55b63a908ac.gif"></div><br>  Repita esse processo e crie um grupo de trilhas chamado <em>anima√ß√µes</em> .  A linha do tempo agora deve ficar assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/937/cf7/31c/937cf731c4247663201ede9c2e91cb80.png"></div><br>  Agora arraste todas as faixas com se√ß√µes Ativas para <em>o grupo Ativa√ß√µes</em> e todo o resto para <em>o grupo Anima√ß√µes</em> .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Agora voc√™ pode abrir e fechar cada grupo para a conveni√™ncia de trabalhar com eles: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/376/e55/34c/376e5534cbfc44d8954cf55b63a908ac.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o esque√ßa de salvar seu trabalho. </font><font style="vertical-align: inherit;">Sente-se na cadeira de seu diretor e se elogie - voc√™ terminou sua primeira linha do tempo.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para onde ir a seguir </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ perdeu algumas partes do tutorial, n√£o esque√ßa que pode fazer o download da pe√ßa e do projeto finalizado </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√≥s trabalhamos duro e criamos uma cena usando anima√ß√µes de modelo, trocando c√¢meras e atualizando o ciclo de vida dos objetos, mas muito mais pode ser aprendido aqui. Um dos aspectos mais importantes relacionados √† Linha do tempo √© a cria√ß√£o de seus pr√≥prios scripts, nos quais voc√™ pode associar anima√ß√µes a c√≥digos que podem ser executados com elas. Saiba mais sobre scripts </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Se voc√™ j√° se sentir confort√°vel, tente adicionar um script √† cena depois de abrir a arca do tesouro. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ estiver interessado em aprender mais sobre anima√ß√µes no Unity em geral, confira nosso √≥timo tutorial </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introdu√ß√£o √† anima√ß√£o do Unity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para saber mais sobre a cria√ß√£o de modelos 3D e a janela Anima√ß√£o, confira a s√©rie detalhada de tutoriais para desenvolvedores do Unity apresentados </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E a √∫ltima - se voc√™ estiver interessado em criar jogos, poder√° comprar o nosso </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livro Unity Games By Tutorial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ele fala sobre a cria√ß√£o de quatro tipos de jogos a partir do zero, com uma descri√ß√£o detalhada de cada est√°gio do processo.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt418035/">https://habr.com/ru/post/pt418035/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418023/index.html">Ponteiros em C s√£o mais abstratos do que voc√™ imagina</a></li>
<li><a href="../pt418025/index.html">O livro ‚ÄúAprendendo Java EE. Programa√ß√£o moderna para grandes empresas "</a></li>
<li><a href="../pt418027/index.html">Microservice Blitz</a></li>
<li><a href="../pt418029/index.html">ReactOS 0.4.9: haters ter√£o que procurar novos argumentos</a></li>
<li><a href="../pt418031/index.html">Empilhamento em massa de modelos ML em produ√ß√£o: real ou n√£o?</a></li>
<li><a href="../pt418037/index.html">Testador m√≥vel, prepare-se. Bem-vindo ao Meetup sobre testes m√≥veis da Avito</a></li>
<li><a href="../pt418041/index.html">Cerca de 500 milh√µes de dispositivos IoT s√£o suscet√≠veis a ataques atrav√©s de falsifica√ß√£o de DNS</a></li>
<li><a href="../pt418043/index.html">Como n√£o sa√≠ para os EUA e me tornei presidente na R√∫ssia</a></li>
<li><a href="../pt418045/index.html">Usando fun√ß√µes JavaScript para criar modelos 3D</a></li>
<li><a href="../pt418047/index.html">Os melhores empregadores em TI: os primeiros resultados do servi√ßo de classifica√ß√£o no My Circle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>