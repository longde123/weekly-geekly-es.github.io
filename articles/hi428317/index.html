<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯНЬ ЁЯджЁЯП┐ ЁЯНУ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╣реБрдХ - рдЬреАрдд рдпрд╛ рд╣рд╛рд░? ЁЯСйЁЯП╛тАНЁЯЪТ ЁЯУ░ ЁЯСиЁЯП╜тАНтЬИя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдирдП рд░рд┐рдПрдХреНрдЯ 16.6.0 рдХреА рд░рд┐рд▓реАрдЬрд╝ рдХреЗ рд╕рд╛рде, HOOKS (PROPOSAL) рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ред рд╡реЗ рдЕрдм рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ 17.0.0-рдЕрд▓реНрдлрд╛ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ рдФрд░ рдЦреБрд▓реЗ рдЖрд░рдПрдлрд╕реА: рд░рд┐рдПрдХреНрдЯ рд╣реБрдХ рдо...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╣реБрдХ - рдЬреАрдд рдпрд╛ рд╣рд╛рд░?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428317/"><p><img src="https://habrastorage.org/webt/qi/fs/qc/qifsqcglrtrastzefywxuzgnhfk.jpeg" alt="рдЫрд╡рд┐"></p><br><p>  рдирдП рд░рд┐рдПрдХреНрдЯ 16.6.0 рдХреА рд░рд┐рд▓реАрдЬрд╝ рдХреЗ рд╕рд╛рде, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">HOOKS (PROPOSAL)</a> рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ред  рд╡реЗ рдЕрдм рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ 17.0.0-рдЕрд▓реНрдлрд╛ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ рдФрд░ рдЦреБрд▓реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд░рдПрдлрд╕реА: рд░рд┐рдПрдХреНрдЯ рд╣реБрдХ</a> рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ рд╣реИред  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдпрд╣ рдХреНрдпрд╛ рд╣реИ рдФрд░ рдХрдЯ рдХреЗ рддрд╣рдд рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИред </p><a name="habracut"></a><br><p>  рд╣рд╛рдБ, рдпрд╣ RFC рд╣реИ рдФрд░ рдЖрдк рдЕрдВрддрд┐рдо рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рд░рдЪрдирд╛рдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдЪрд░реНрдЪрд╛ рдХрд░рддреЗ рд╣реБрдП рдХрд┐ рдЙрдиреНрд╣реЛрдВрдиреЗ рдпрд╣ рдпрд╛ рдЙрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рдХреНрдпреЛрдВ рдЪреБрдирд╛ред </p><br><p>  рдЖрдЗрдП рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ рдХрд┐ рдорд╛рдирдХ рд╣реБрдХ рдХреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useState } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Example</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Declare a new state variable, which we'll call "count" const [count, setCount] = useState(0); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); }</span></span></code> </pre> <br><p>  рдЗрд╕ рдХреЛрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ, рдпрд╣ рдПрдХ рдЯреАрдЬрд╝рд░ рд╣реИ рдФрд░ рд▓реЗрдЦ рдХреЗ рдЕрдВрдд рддрдХ рдЖрдк рдкрд╣рд▓реЗ рд╣реА рд╕рдордЭ рдЬрд╛рдПрдВрдЧреЗ рдХрд┐ рдЗрд╕рдХрд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИред  рдкрд╣рд▓реА рдмрд╛рдд рдЬреЛ рдЖрдкрдХреЛ рдкрддрд╛ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рдХрд┐ рдпрд╣ рдкрд┐рдЫрдбрд╝реА рдЕрдиреБрдХреВрд▓рддрд╛ рдХреЛ рдирд╣реАрдВ рддреЛрдбрд╝рддреА рд╣реИ рдФрд░ рд╢рд╛рдпрдж RFC рдореЗрдВ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдФрд░ рд╕реБрдЭрд╛рд╡ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЙрдиреНрд╣реЗрдВ 16.7 рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рд▓реЛрдЧ рдЖрд╢реНрд╡рд╛рд╕рди рджреЗрддреЗ рд╣реИрдВ, рдпрд╣ рдПрдХ рдЕрднрд┐рдХрд░реНрдордХ рд╕реЗ рдХрдХреНрд╖рд╛рдПрдВ рдХрд╛рдЯрдиреЗ рдХреА рдпреЛрдЬрдирд╛ рдирд╣реАрдВ рд╣реИред </p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣реБрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреА рд╡рд░реНрддрдорд╛рди рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд╕рдм рдХреБрдЫ рд╕рд╣рд╛рд░рд╛ / рд░рд╛рдЬреНрдп / рд╕рдВрджрд░реНрдн / рд░реЗрдл рдХреЗ рд╕реНрдерд╛рди рдкрд░ рд╣реИред  рдпрд╣ рдЙрдирдХреА рд╢рдХреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рд╕рд┐рд░реНрдл рдПрдХ рдФрд░ рддрд░реАрдХрд╛ рд╣реИред </p><br><h3 id="motivaciya">  рдкреНрд░реЗрд░рдгрд╛ </h3><br><p>  рд╣реБрдХ рдкрд╣рд▓реА рдирдЬрд╝рд░ рдореЗрдВ рдЧреИрд░-рдХрдиреЗрдХреНрдЯреЗрдб рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдлреЗрд╕рдмреБрдХ рд╕реЗ 5 рд╡рд░реНрд╖реЛрдВ рдореЗрдВ рд╣рдЬрд╛рд░реЛрдВ рдШрдЯрдХреЛрдВ рдХреЗ рд╕рдорд░реНрдерди рдХреЗ рд╕рд╛рде рджрд┐рдЦрд╛рдИ рджрд┐рдПред </p><br><p>  рд╕рдмрд╕реЗ рдореБрд╢реНрдХрд┐рд▓ рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд░рд╛рдЬреНрдп рдХреЗ рдШрдЯрдХреЛрдВ рдореЗрдВ рддрд░реНрдХ рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрд╛рд╕ рдШрдЯрдХ рдХреЗ рд▓рд┐рдП рдкреБрди: рдкреНрд░рдпреЛрдЬреНрдп рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╕рдВрд▓рдЧреНрди рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рднрдВрдбрд╛рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ)ред  рдпрджрд┐ рдЖрдкрдиреЗ рд░рд┐рдПрдХреНрдЯ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЖрдк рдПрдЪрдУрд╕реА (рдЙрдЪреНрдЪ-рдХреНрд░рдо-рдШрдЯрдХ) рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЛ рдЬрд╛рдирддреЗ рд╣реИрдВ рдпрд╛ рд╕рд╣рд╛рд░рд╛ рджреЗрддреЗ рд╣реИрдВред  рдпреЗ рдХрд╛рдлреА рдЕрдЪреНрдЫреЗ рдкреИрдЯрд░реНрди рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХрднреА-рдХрднреА рдЗрдиреНрд╣реЗрдВ рдЕрддреНрдпрдзрд┐рдХ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЙрдиреНрд╣реЗрдВ рдШрдЯрдХреЛрдВ рдХреЗ рдкреБрдирд░реНрдЧрдарди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рддрд╛рдХрд┐ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ рдХреЛрдб рдХреЛ рдЕрдзрд┐рдХ рдмреЛрдЭрд┐рд▓ рдмрдирд╛ рджреЗрддрд╛ рд╣реИред  рдпрд╣ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд╛рдпрдХ рд╣реИ рдФрд░ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЬрд╛рдПрдЧрд╛ рдХрд┐ рджрд╛рдВрд╡ рдкрд░ рдХреНрдпрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/35f/c76/c98/35fc76c98f2288b4c2c46a45a2f4145c.gif" alt="рдЫрд╡рд┐"></p><br><p>  рдЗрд╕реЗ <em>рд▓рдкреЗрдЯрд╛-рдирд░рдХ</em> - рдЖрд╡рд░рдг рдирд░рдХ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рд╡рд░реНрддрдорд╛рди рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛рдУрдВ рдореЗрдВ рдЕрдХреЗрд▓реЗ рдПрдЪрдУрд╕реА рд╕реЗ рдПрдХ рдЖрд╡реЗрджрди рд╕рд╛рдорд╛рдиреНрдп рд╣реИ, рдЙрдиреНрд╣реЛрдВрдиреЗ рдШрдЯрдХ рдХреЛ рд╕реНрдЯреЛрд░ / рдереАрдо / рд╕реНрдерд╛рдиреАрдпрдХрд░рдг / рдХрд╕реНрдЯрдо рд╣реЙрдХ рд╕реЗ рдЬреЛрдбрд╝рд╛, рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╣рд░ рдХреЛрдИ рдпрд╣ рдЬрд╛рдирддрд╛ рд╣реИред </p><br><p>  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рддрд░реНрдХ рдХреЛ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдЖрджрд┐рдо рддрдВрддреНрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рд╣реБрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рд╣рдо рдПрдХ рдШрдЯрдХ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЗрд╕рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдФрд░ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред  рд╣реБрдХ рдЖрдкрдХреЛ рдШрдЯрдХреЛрдВ рдХреЗ рдкрджрд╛рдиреБрдХреНрд░рдо рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рдмрд┐рдирд╛ рд░рд╛рдЬреНрдп рддрд░реНрдХ рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред  рдпрд╣ рдХрдИ рдШрдЯрдХреЛрдВ рдпрд╛ рдкреВрд░реЗ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмреАрдЪ рд▓рд┐рдВрдХ рдХреЗ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рдХреА рд╕реБрд╡рд┐рдзрд╛ рджреЗрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХреНрд▓рд╛рд╕ рдХреЗ рдШрдЯрдХ рдХрд╛рдлреА рдбрд░рд╛рд╡рдиреЗ рджрд┐рдЦрддреЗ рд╣реИрдВ, рд╣рдо рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреЗ рд▓рд╛рдЗрдл рд╕рд╛рдЗрдХрд▓ рдореЗрдердбреНрд╕ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реИрдВред  рдЖрдорддреМрд░ рдкрд░, рдРрд╕реЗ рдШрдЯрдХ рдПрдХреНрд╕ рд▓рд╛рдЗрдиреЛрдВ рд╕реЗ рдЖрдЧреЗ рдЬрд╛рддреЗ рд╣реИрдВ, рдЬрд╣рд╛рдВ рдПрдХреНрд╕ рдХреЛ рд╕рдордЭрдирд╛ рдХрд╛рдлреА рдХрдард┐рди рд╣реИред </p><br><p>  рд╣реБрдХ рдЖрдкрдХреЛ рдЕрд╡рдпрд╡реЛрдВ рдХреЗ рдмреАрдЪ рддрд░реНрдХ рдХреЛ рдЫреЛрдЯреЗ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рддреЛрдбрд╝рдХрд░ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдШрдЯрдХреЛрдВ рдХреЗ рдЕрдВрджрд░ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред </p><br><h3 id="klassy-slozhny-dlya-lyudey-i-dlya-mashin">  рдХрдХреНрд╖рд╛рдПрдВ рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдФрд░ рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдореБрд╢реНрдХрд┐рд▓ рд╣реИрдВ </h3><br><p>  рд░рд┐рдПрдХреНрдЯ рд╕реАрдЦрдиреЗ рдХреЗ рджреМрд░рд╛рди рдлреЗрд╕рдмреБрдХ рдХрдХреНрд╖рд╛рдПрдВ рджреЗрдЦрдирд╛ рдПрдХ рдмрдбрд╝реА рдмрд╛рдзрд╛ рд╣реИред  рдЖрдкрдХреЛ <code>this</code> рд╕рдордЭрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ <code>this</code> рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдЕрдиреНрдп рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛рдУрдВ рдХреА рддрд░рд╣ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдЖрдкрдХреЛ рдмрд╛рдзреНрдпрдХрд╛рд░реА рдЗрд╡реЗрдВрдЯ рд╣реИрдВрдбрд▓рд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдпрд╛рдж рд░рдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╕реНрдерд┐рд░ рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕ рд╡рд╛рдХреНрдпреЛрдВ рдХреЗ рдмрд┐рдирд╛, рдХреЛрдб рдмрд╣реБрдд рдХреНрд░рд┐рдпрд╛рддреНрдордХ рджрд┐рдЦрддрд╛ рд╣реИред  рд▓реЛрдЧ рдкреНрд░реЙрдкрд░ / рд╕реНрдЯреЗрдЯ рдкреИрдЯрд░реНрди рдФрд░ рддрдерд╛рдХрдерд┐рдд рдЯреЙрдк-рдбрд╛рдЙрди рдбреЗрдЯрд╛ рдлреНрд▓реЛ рдХреЛ рд╕рдордЭрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХрдХреНрд╖рд╛рдПрдВ рд╕рдордЭрдирд╛ рдХрд╛рдлреА рдореБрд╢реНрдХрд┐рд▓ рд╣реИред </p><br><p>  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдпрджрд┐ рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ рддрдХ рд╕реАрдорд┐рдд рдирд╣реАрдВ рд╣реИ, рддреЛ рдмрд╣реБрдд рдкрд╣рд▓реЗ рдирд╣реАрдВ рдЬрдм рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕реЗ рд▓реЛрдЧ рдкреНрд░реАрдкреИрдХ рдХреЗ рд╕рд╛рде <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдШрдЯрдХреЛрдВ</a> рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЖрдЙрдЯ рдХреЗ</a> рд╕рд╛рде рдкреНрд░рдпреЛрдЧ рдХрд░рддреЗ рдереЗ рдФрд░ рдЖрд╢рд╛рдЬрдирдХ рдкрд░рд┐рдгрд╛рдо рджреЗрдЦрддреЗ рдереЗ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА, рдХрдХреНрд╖рд╛ рдХреЗ рдШрдЯрдХ рдЖрдкрдХреЛ рдЕрдирдкреЗрдХреНрд╖рд┐рдд рдЦрд░рд╛рдм рдкреИрдЯрд░реНрди рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ рдЬреЛ рдЗрди рдЕрдиреБрдХреВрд▓рди рдХреЛ рдЧрд╛рдпрдм рдХрд░ рджреЗрддреЗ рд╣реИрдВ, рдХрдХреНрд╖рд╛рдПрдВ рднреА рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдкрд▓рд╛рдпрди рдирд╣реАрдВ рдХрд░рддреА рд╣реИрдВ рд╣реЙрдЯ рд░реАрд▓реЛрдб рдХрдХреНрд╖рд╛рдПрдВ рдЗрд╕реЗ рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдмрдирд╛рддреА рд╣реИрдВред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд▓реЛрдЧ рдПрдХ рдПрдкреАрдЖрдИ рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рдереЗ рдЬреЛ рд╕рднреА рдЕрдиреБрдХреВрд▓рди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдПрдХ рдЧрд░реНрдо рд░рд┐рдмреВрдЯ рдХреЗ рд╕рд╛рде рдареАрдХ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред </p><br><h3 id="glyanem-na-huki">  рд╣реБрдХ рдХреЛ рджреЗрдЦреЛ </h3><br><h4 id="state-hook">  рд░рд╛рдЬреНрдп рд╣реБрдХ </h4><br><p>  рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рдХреЛрдб рдПрдХ рдкреИрд░рд╛рдЧреНрд░рд╛рдл рдФрд░ рдПрдХ рдмрдЯрди рдХреЛ рд░реЗрдВрдбрд░ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдпрджрд┐ рд╣рдо рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдкреИрд░рд╛рдЧреНрд░рд╛рдл рдореЗрдВ рдореВрд▓реНрдп рдмрдврд╝ рдЬрд╛рдПрдЧрд╛ред </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useState } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Example</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Declare a new state variable, which we'll call "count" const [count, setCount] = useState(0); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); }</span></span></code> </pre> <br><p>  рдЗрд╕рд╕реЗ рд╣рдо рдпрд╣ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рд╣реБрдХ <code>state</code> рдЬреИрд╕реА рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br>  рдереЛрдбрд╝реА рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд <code>useState</code> рд╡рд┐рдзрд┐ рдПрдХ рддрд░реНрдХ рд▓реЗрддреА рд╣реИ, рдпрд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рд╣реИ рдФрд░ рдПрдХ рдЯрдкрд▓ рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕реНрд╡рдпрдВ рдореВрд▓реНрдп рд╣реИ рдФрд░ рдЗрд╕реЗ рдмрджрд▓рдиреЗ рдХреА рд╡рд┐рдзрд┐, рд╕реЗрдЯрд╕реНрдЯреЗрдЯ рдХреЗ рд╡рд┐рдкрд░реАрдд, рд╕реЗрдЯрдХрд╛рдЙрдВрдЯ рдорд╛рдиреЛрдВ рдХреЛ <em>рдорд░реНрдЬ</em> рдирд╣реАрдВ рдХрд░реЗрдЧрд╛, рд▓реЗрдХрд┐рди рдмрд╕ рдЗрд╕реЗ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВред  рд╣рдо рдХрдИ рд░рд╛рдЬреНрдп рдШреЛрд╖рдгрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExampleWithManyStates</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Declare multiple state variables! const [age, setAge] = useState(42); const [fruit, setFruit] = useState('banana'); const [todos, setTodos] = useState([{ text: 'Learn Hooks' }]); // ... }</span></span></code> </pre> <br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдо рдПрдХ рд╕рд╛рде рдХрдИ рд░рд╛рдЬреНрдп рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рд╣рдореЗрдВ рдпрд╣ рд╕реЛрдЪрдиреЗ рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ рд╣реИ рдХрд┐ рдХрд┐рд╕реА рддрд░рд╣ рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рд╡рд┐рдШрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдпрд╣ рдкреНрд░рддрд┐рд╖реНрдард┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╣реБрдХ рдРрд╕реЗ рдХрд╛рд░реНрдп рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рдХрдХреНрд╖рд╛ рдХреЗ рдШрдЯрдХреЛрдВ рдХреЗ рдЪрд┐рдкреНрд╕ рд╕реЗ "рдХрдиреЗрдХреНрдЯ" рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рдЬрд┐рд╕ рддрд░рд╣ рд╣реБрдХ рдХрдХреНрд╖рд╛рдУрдВ рдХреЗ рдЕрдВрджрд░ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдпрд╣ рдпрд╛рдж рд░рдЦрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред </p><br><h4 id="effect-hook">  рдкреНрд░рднрд╛рд╡ рд╣реБрдХ </h4><br><p>  рдЕрдХреНрд╕рд░ рдХрдХреНрд╖рд╛ рдХреЗ рдШрдЯрдХреЛрдВ рдореЗрдВ, рд╣рдо рд╕рд╛рдЗрдб рдЗрдлреЗрдХреНрдЯ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдмрдирд╛рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдШрдЯрдирд╛рдУрдВ рдХреА рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрдВ рдпрд╛ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рдХрд░реЗрдВ, рдЖрдорддреМрд░ рдкрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдо <code>componentDidMount</code> / <code>componentDidUpdate</code> рдпреВрдкрдбреЗрдЯ рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useState, useEffect } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Example</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Similar to componentDidMount and componentDidUpdate: useEffect(() =&gt; { // Update the document title using the browser API document.title = `You clicked ${count} times`; }); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); }</span></span></code> </pre> <br><p>  рдЬрдм рд╣рдо рдХреЙрд▓ рдХрд╛ <code>useEffect</code> рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо DOM рдЯреНрд░реА рдореЗрдВ рдмрджрд▓рд╛рд╡реЛрдВ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ 'рд╕рд╛рдЗрдб рдЗрдлреЗрдХреНрдЯ' рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддреЗ рд╣реИрдВред  рдШрдЯрдХ рдХреЗ рдЕрдВрджрд░ рдкреНрд░рднрд╛рд╡ рдХреА рдШреЛрд╖рдгрд╛ рдХреА рдЬрд╛рддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЙрдирдХреЗ рдкрд╛рд╕ рдкреНрд░реЙрдкреНрд╕ / рд░рд╛рдЬреНрдп рддрдХ рдкрд╣реБрдВрдЪ рд╣реЛрддреА рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдо рдЙрдиреНрд╣реЗрдВ рдареАрдХ рдЙрд╕реА рддрд░рд╣ рд╕реЗ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕рд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВред </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FriendStatusWithCounter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = useState(<span class="hljs-number"><span class="hljs-number">0</span></span>); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">`You clicked </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${count}</span></span></span><span class="hljs-string"> times`</span></span>; }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [isOnline, setIsOnline] = useState(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); }; }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleStatusChange</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">status</span></span></span><span class="hljs-function">) </span></span>{ setIsOnline(status.isOnline); } <span class="hljs-comment"><span class="hljs-comment">// ...</span></span></code> </pre> <br><p>  рдЗрд╕рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рдЗрд╕рдореЗрдВ рджреВрд╕рд░реЗ рд╕рд╛рдЗрдб рдЗрдлреЗрдХреНрдЯ рдкрд░ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ, рд╣рдо рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рддреЗ рд╣реИрдВ, рд╣рдо рдРрд╕рд╛ рдХреБрдЫ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдШрдЯрдХ рдЕрдирдорд╛рдЙрдВрдЯ рдХрд░рддрд╛ рд╣реИ, рдирдП рдПрдкреАрдЖрдИ рдореЗрдВ рдЗрд╕реЗ рд╕рдлрд╛рдИ рдХреЗ рд╕рд╛рде рдкреНрд░рднрд╛рд╡ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЕрдиреНрдп рдкреНрд░рднрд╛рд╡ рдХреБрдЫ рднреА рд╡рд╛рдкрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h3 id="pravila-hukov">  рд╣реБрдХ рдирд┐рдпрдо </h3><br><p>  рд╣реБрдХ рд╕рд┐рд░реНрдл рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛рд░реНрдп рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдиреНрд╣реЗрдВ рдХреЗрд╡рд▓ рджреЛ рдирд┐рдпрдореЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ: </p><br><ul><li>  рд╣реБрдХ рдХреЛ рдкрджрд╛рдиреБрдХреНрд░рдо рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдкреНрд░рджрд░реНрд╢рди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдФрд░ рд▓реВрдк рдореЗрдВ рд╣реБрдХ рдХреЛ рдХреЙрд▓ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЕрдиреНрдпрдерд╛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╣реБрдХ рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рдЖрджреЗрд╢ рдХреА рдЧрд╛рд░рдВрдЯреА рдирд╣реАрдВ рджреЗ рд╕рдХрддреА рд╣реИ) </li><li>  рдХреЗрд╡рд▓ рд╣реБрдХ рдХреЛ рд░рд┐рдПрдХреНрдЯ рдлрд╝рдВрдХреНрд╢рди рдпрд╛ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдШрдЯрдХреЛрдВ рдореЗрдВ рдХреЙрд▓ рдХрд░реЗрдВ рдпрд╛ рдХрд╕реНрдЯрдо рд╣реБрдХ рд╕реЗ рдХреЙрд▓ рдХрд░реЗрдВ (рдпрд╣ рдиреАрдЪреЗ рд╣реИ)ред <br>  рдЗрди рдирд┐рдпрдореЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЯреАрдо рдХреЗ рд▓рдбрд╝рдХреЛрдВ рдиреЗ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдВрдЯрд░ рдкреНрд▓рдЧрдЗрди</a> рдмрдирд╛рдпрд╛ рдЬреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ</a> рддреНрд░реБрдЯрд┐ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдлреЗрдВрдХ</a> рджреЗрдЧрд╛ рдпрджрд┐ рдЖрдк рд╡рд░реНрдЧ рдШрдЯрдХреЛрдВ рдпрд╛ рдЫреЛрд░реЛрдВ рдФрд░ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рд╣реБрдХ рдХрд╣рддреЗ рд╣реИрдВред </li></ul><br><h3 id="kastomnye-huki">  рдХрд╕реНрдЯрдо рд╣реБрдХ </h3><br><p>  рдЙрд╕реА рд╕рдордп, рд╣рдо рд╕реНрдЯреЗрдЯрдлреБрд▓ рдШрдЯрдХреЛрдВ рдХреЗ рддрд░реНрдХ рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЖрдорддреМрд░ рдкрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдЪрдУрд╕реА рдпрд╛ рд░реЗрдВрдбрд░ рдкреНрд░реЙрдкреНрд╕ рдкреИрдЯрд░реНрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╡реЗ рд╣рдорд╛рд░реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдЕрддрд┐рд░рд┐рдХреНрдд рдорд╛рддреНрд░рд╛ рдмрдирд╛рддреЗ рд╣реИрдВред <br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useState, useEffect } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">useFriendStatus</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">friendID</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [isOnline, setIsOnline] = useState(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleStatusChange</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">status</span></span></span><span class="hljs-function">) </span></span>{ setIsOnline(status.isOnline); } useEffect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange); }; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isOnline; }</code> </pre> <br><p>  рдЗрд╕ рдХреЛрдб рдХреЛ рдорд╣рд╕реВрд╕ рдХрд░реЗрдВ, рдпрд╣ рдПрдХ рдХрд╕реНрдЯрдо рд╣реБрдХ рд╣реЛрдЧрд╛ рдЬрд┐рд╕реЗ рд╣рдо рд╡рд┐рднрд┐рдиреНрди рдШрдЯрдХреЛрдВ рдореЗрдВ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рддрд░рд╣: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FriendStatus</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isOnline = useFriendStatus(props.friend.id); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isOnline === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Loading...'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isOnline ? <span class="hljs-string"><span class="hljs-string">'Online'</span></span> : <span class="hljs-string"><span class="hljs-string">'Offline'</span></span>; }</code> </pre> <br><p>  рдпрд╛ рддреЛ </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FriendListItem</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isOnline = useFriendStatus(props.friend.id); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">color:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">isOnline</span></span></span></span><span class="xml"><span class="hljs-tag"> ? '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">green</span></span></span></span><span class="xml"><span class="hljs-tag">' </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">black</span></span></span></span><span class="xml"><span class="hljs-tag">' }}&gt;</span></span></span><span class="xml"> {props.friend.name} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre> <br><p>  рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдШрдЯрдХ рдХреА рд╕реНрдерд┐рддрд┐ рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рдХреЙрд▓ <code>useFriendStatus</code> рдлрд╝рдВрдХреНрд╢рди рдПрдХ рдЕрд▓рдЧ рд░рд╛рдЬреНрдп рдмрдирд╛рддрд╛ рд╣реИред  рдпрд╣ рднреА рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреА рд╢реБрд░реБрдЖрдд рд╢рдмреНрдж рдХреЗ <em>рдЙрдкрдпреЛрдЧ рд╕реЗ</em> рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдпрд╣ рдПрдХ рд╣реБрдХ рд╣реИред  рд╣рдо рдЕрдиреБрд╢рдВрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк рдЗрд╕ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред  рдЖрдк рдХреБрдЫ рднреА, рдПрдирд┐рдореЗрд╢рди / рд╕рджрд╕реНрдпрддрд╛ / рдЯрд╛рдЗрдорд░ рдФрд░ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдХреЗ рд▓рд┐рдП рдХрд╕реНрдЯрдо рд╣реБрдХ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдХреБрдЫ рдФрд░ рд╣реБрдХ рд╣реИрдВред </p><br><h4 id="usecontext">  useContext </h4><br><p>  <code>useContext</code> рдЖрдкрдХреЛ <code>useContext</code> рдмрдЬрд╛рдп рд╕рд╛рдорд╛рдиреНрдп рд░рд┐рдЯрд░реНрди рд╡реИрд▓реНрдпреВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рд╕ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╣рдо рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рдЗрд╕реЗ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд▓реМрдЯрд╛ рджреЗрдЧрд╛, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЙрди рд╕рднреА HOCs рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдкреНрд░реЙрдкреНрд╕ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдерд╛ред </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Example</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> locale = useContext(LocaleContext); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> theme = useContext(ThemeContext); <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  рдФрд░ рдЕрдм рд╣рдо рдХреЗрд╡рд▓ рд░рд┐рдЯрд░реНрди рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рд╕рдВрджрд░реНрдн рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h4 id="usecallback">  useCallback </h4><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> memoizedCallback = useCallback( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { doSomething(a, b); }, [a, b], );</code> </pre> <br><p>  рдХрд┐рд╕реА рд╡рд┐рдзрд┐ рдХреЗ рд╕рдВрджрд░реНрдн рдХреЛ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдХрд┐рддрдиреА рдмрд╛рд░ рдХрдХреНрд╖рд╛ рдХрд╛ рдПрдХ рдШрдЯрдХ рдмрдирд╛рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИ?  рдЗрд╕реЗ рдЕрдм рдФрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рд╣рдо рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВрдХреЙрд▓рдмреИрдХ рдФрд░ рд╣рдорд╛рд░реЗ рдШрдЯрдХреЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рддреИрдпрд╛рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдХреНрдпреЛрдВрдХрд┐ рдСрдирдХреНрд▓рд┐рдХ рдкрд░ рдПрдХ рдирдпрд╛ рд▓рд┐рдВрдХ рдЖ рдЧрдпрд╛ рд╣реИред </p><br><h4 id="usememo">  useMemo </h4><br><p>  рд╣рдо рдпрд╛рдж рдХрд┐рдП рдЧрдП рдореВрд▓реНрдп рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рддреЗ рд╣реИрдВ, рдпрд╛рдж рдХрд┐рдП рдЧрдП рдореВрд▓реНрдп рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрд╣ рдХреЗрд╡рд▓ рддрднреА рдЧрдгрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИ рдЬрдм рдХреЛрдИ рддрд░реНрдХ рдмрджрд▓ рдЧрдпрд╛ рд╣реЛ, рджреВрд╕рд░реА рдмрд╛рд░ рдЙрд╕реА рдЪреАрдЬ рдХреА рдЧрдгрдирд╛ рдирд╣реАрдВ рдХреА рдЬрд╛рдПрдЧреАред </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> memoizedValue = useMemo(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> computeExpensiveValue(a, b), [a, b]);</code> </pre> <br><p>  рд╣рд╛рдВ, рдпрд╣рд╛рдВ рдЖрдкрдХреЛ рд╕рд░рдгреА рдореЗрдВ рдорд╛рдиреЛрдВ рдХреЛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рддрд╛рдХрд┐ рд╣реБрдХ рд╕рдордЭреЗ рдХрд┐ рд╡реЗ рдмрджрд▓ рдирд╣реАрдВ рдЧрдП рд╣реИрдВред </p><br><h4 id="useref">  useRef </h4><br><p>  <code>useRef</code> рдПрдХ рдЙрддреНрдкрд░рд┐рд╡рд░реНрддрд┐рдд рдорд╛рди рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдЬрд╣рд╛рдБ <code>.current</code> рдлрд╝реАрд▓реНрдб рдХреЛ рдкрд╣рд▓реЗ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рдЖрд░рдВрднреАрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрдм рддрдХ рдШрдЯрдХ рдореМрдЬреВрдж рд░рд╣реЗрдЧрд╛ рддрдм рддрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдореМрдЬреВрдж рд░рд╣реЗрдЧрд╛ред <br>  рдЗрдирдкреБрдЯ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рддреЗ рд╕рдордп рд╕рдмрд╕реЗ рдЖрдо рдЙрджрд╛рд╣рд░рдг рд╣реИ </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TextInputWithFocusButton</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> inputEl = useRef(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> onButtonClick = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// `current` points to the mounted text input element inputEl.current.focus(); }; return ( &lt;&gt; &lt;input ref={inputEl} type="text" /&gt; &lt;button onClick={onButtonClick}&gt;Focus the input&lt;/button&gt; &lt;/&gt; ); }</span></span></code> </pre> <br><h4 id="useimperativemethods">  useImperativeMethods </h4><br><p>  <code>useImperativeMethods</code> рдорд╛рддрд╛-рдкрд┐рддрд╛ рд╕реЗ рдкрд╛рд░рд┐рдд рдЙрджрд╛рд╣рд░рдг рдХреЗ рдорд╛рди рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╕реАрдзреЗ рд░реЗрдлрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣, рдкреНрд░рддреНрдпрдХреНрд╖ рд▓рд┐рдВрдХ рд╕реЗ рдмрдЪрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ <code>forwardRef</code> рдкреНрд░рдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FancyInput</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props, ref</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> inputRef = useRef(); useImperativeMethods(ref, () =&gt; <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ focus: (</span></span></span><span class="hljs-function">) =&gt;</span></span> { inputRef.current.focus(); } })); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{inputRef}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">; } FancyInput = forwardRef(FancyInput);</span></span></code> </pre> <br><p>  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдШрдЯрдХ рдЬреЛ <code>FancyInput</code> рдХреЛ <code>FancyInput</code> <code>fancyInputRef.current.focus()</code> рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h4 id="usemutationeffect">  useMutationEffect </h4><br><p>  <code>useMutationEffect</code> рдмрд╣реБрдд рдЙрдкрдпреЛрдЧ рдХреЗ рд╕рдорд╛рди рд╣реИ, рд╕рд┐рд╡рд╛рдп рдЗрд╕рдХреЗ рдХрд┐ рдпрд╣ рдордВрдЪ рдкрд░ рд╕рд┐рдВрдХреНрд░реЛрдирд╕ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкрдбрд╝реЛрд╕реА рдШрдЯрдХреЛрдВ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ DOM рдореВрд▓реНрдпреЛрдВ рдХреЛ рдмрджрд▓ рджреЗрддреА рд╣реИ, рдЗрд╕ рд╣реБрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ DOM рдореНрдпреВрдЯреЗрд╢рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br>  рджреГрд╢реНрдп рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рдЕрд╡рд░реЛрдзрди рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗрдирд╛ рдмреЗрд╣рддрд░ рд╣реИред </p><br><h4 id="uselayouteffect">  useLayoutEffect </h4><br><p>  <code>useLayoutEffect</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд╕рдорд╛рди рд╣реИ, рд╕рд┐рд╡рд╛рдп рдЗрд╕рдХреЗ рдХрд┐ рдпрд╣ <em>рд╕рднреА DOM рдЕрдкрдбреЗрдЯреНрд╕</em> рдФрд░ рд╕рд┐рдВрдХреНрд░реЛрдирд╕ рд░реА-рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХреЗ <em>рдмрд╛рдж</em> рд╕рд┐рдВрдХреНрд░реЛрдирд╛рдЗрдЬрд╝ рдХрд░рддрд╛ рд╣реИред  рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рддрддреНрд╡реЛрдВ рдХреЛ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЙрдкрдпреЛрдЧ рдореЗрдВ <code>useLayoutEffect</code> рдЕрдкрдбреЗрдЯ <code>useLayoutEffect</code> рдпреЛрдЬрдирд╛ рдХреЛ <code>useLayoutEffect</code> рд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдкрдХреЛ рдорд╛рдирдХ рдЙрдкрдпреЛрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рджреГрд╢реНрдп рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдЕрд╡рд░реБрджреНрдз рди рдХрд░реЗрдВред </p><br><h4 id="usereducer">  useReducer </h4><br><p>  <code>useReducer</code> рдПрдХ reducer рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реБрдХ рд╣реИ рдЬреЛ рд░рд╛рдЬреНрдп рдХреЛ рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдФрд░ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рднреЗрдЬрдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [state, dispatch] = useReducer(reducer, initialState);</code> </pre> <br><p>  рдпрджрд┐ рдЖрдк рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ Redux рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЖрдк рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ <code>useReducer</code> ред  рдПрдХ рд╣реА рдЙрджрд╛рд╣рд░рдг рд╣реИ рдЬреЛ рдХреЗрд╡рд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдКрдкрд░ рдХреЗ рдХрд╛рдЙрдВрдЯрд░ рдХреЗ рд╕рд╛рде рдерд╛: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = {<span class="hljs-attr"><span class="hljs-attr">count</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reducer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (action.type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'reset'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> initialState; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'increment'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">count</span></span>: state.count + <span class="hljs-number"><span class="hljs-number">1</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'decrement'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">count</span></span>: state.count - <span class="hljs-number"><span class="hljs-number">1</span></span>}; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{initialCount}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [state, dispatch] = useReducer(reducer, initialState); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;&gt; Count: {state.count} &lt;button onClick={(</span></span></span><span class="hljs-function">) =&gt;</span></span> dispatch({<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'reset'</span></span>})}&gt; Reset &lt;<span class="hljs-regexp"><span class="hljs-regexp">/button&gt; &lt;button onClick={() =&gt; dispatch({type: 'increment'})}&gt;+&lt;/</span></span>button&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> dispatch({type: 'decrement'})}&gt;-</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/&gt; ); }</span></span></code> </pre> <br><p>  UseReducer рднреА 3 рддрд░реНрдХ рд▓реЗрддрд╛ рд╣реИ, рдпрд╣ рд╡рд╣ <code>action</code> рд╣реИ рдЬрд┐рд╕реЗ рддрдм рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрдм reducer рдЖрд░рдВрднреАрдХреГрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = {<span class="hljs-attr"><span class="hljs-attr">count</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reducer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (action.type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'reset'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">count</span></span>: action.payload}; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'increment'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">count</span></span>: state.count + <span class="hljs-number"><span class="hljs-number">1</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'decrement'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">count</span></span>: state.count - <span class="hljs-number"><span class="hljs-number">1</span></span>}; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Counter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{initialCount}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [state, dispatch] = useReducer( reducer, initialState, {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'reset'</span></span>, <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: initialCount}, ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;&gt; Count: {state.count} &lt;button onClick={(</span></span></span><span class="hljs-function">) =&gt;</span></span> dispatch({<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'reset'</span></span>, <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: initialCount})}&gt; Reset &lt;<span class="hljs-regexp"><span class="hljs-regexp">/button&gt; &lt;button onClick={() =&gt; dispatch({type: 'increment'})}&gt;+&lt;/</span></span>button&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> dispatch({type: 'decrement'})}&gt;-</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/&gt; ); }</span></span></code> </pre> <br><p>  рд╣рдо рдЗрд╕ <code>useContext</code> рдореЗрдВ рдПрдХ рд╕рдВрджрд░реНрдн рднреА рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЙрдкрдпреЛрдЧ <code>useContext</code> рд╣реБрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрд╕реЗ рдкреВрд░реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдореЗрдВ рдЙрдкрдпреЛрдЧ <code>useContext</code> рд▓рд┐рдП, рдпрд╣ рд╣реЛрдорд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рд░рд╣рддрд╛ рд╣реИред </p><br><h4 id="podvodya-itog">  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рджреЗрдирд╛ </h4><br><p>  рд░реИрдкрд░-рдирд░реНрдХ рдХреЛ рд╕реБрд▓рдЭрд╛рдиреЗ рдФрд░ рдХрдИ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реБрдХ рдПрдХ рдХрд╛рдлреА рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╣реИ, рд▓реЗрдХрд┐рди рдЗрди рд╕рднреА рдХрд╛ рдЙрдкрдпреЛрдЧ <em>рд▓рд┐рдВрдХ рдЯреНрд░рд╛рдВрд╕рдлрд░</em> рдХреА рдПрдХ рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдм <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЙрдкрдпреЛрдЧ</a> рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд╕ рд╕рдВрдЧреНрд░рд╣ рдХреЗ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдП</a> рд╣реБрдХ рдХреЗ рд╕рдВрдЧреНрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рд▓рдЧреЗред  рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджрд╕реНрддрд╛рд╡реЗрдЬрд╝</a> рдореЗрдВ рд╣реБрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рди рд╕рдХрддреЗ рд╣реИрдВред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi428317/">https://habr.com/ru/post/hi428317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi428305/index.html">рдХреНрдпрд╛ рдЖрдк рдЕрдВрдЧреНрд░реЗрдЬреА рдкрдврд╝рддреЗ рд╣реИрдВ? рдмрдЪрд╛рд╡ рдХреЗ рд▓рд┐рдП рдХреЙрдорд┐рдХреНрд╕</a></li>
<li><a href="../hi428307/index.html">рдЬрд╛рд╡рд╛ рдЪреИрд▓реЗрдВрдЬрд░реНрд╕ # 1: рдЬреЗрд╡реАрдПрдо рдореЗрдВ рд╡рд┐рдзрд┐ рдЕрдзрд┐рднрд╛рд░</a></li>
<li><a href="../hi428311/index.html">рдЯреНрд░рд╕реНрдЯрдЬреЛрди: рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдУрдПрд╕ рдФрд░ рдЗрд╕рдХреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧ</a></li>
<li><a href="../hi428313/index.html">MacOS рдкрд░ рдЯреЗрд▓реАрдЧреНрд░рд╛рдо [рд╕рдВрднрд╡рддрдпрд╛] рдПрдХ рд╕реБрд▓рдн рд░реВрдк рдореЗрдВ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдкрддреНрд░рд╛рдЪрд╛рд░ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi428315/index.html">рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ 5 рдбрд░ рдЬреЛ рд╣рдордиреЗ рджреВрд░ рдХрд┐рдП рд╣реИрдВ</a></li>
<li><a href="../hi428321/index.html">рднрд╡рд┐рд╖реНрдп рдХрд╣рдиреЗрд╡рд╛рд▓рд╛ рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рд┐рдХреА - рдореЙрдбрд▓рд┐рдВрдЧ рдФрд░ рд╕рддреНрдпрд╛рдкрди</a></li>
<li><a href="../hi428327/index.html">рдХреНрдпрд╛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП: рдпреВрд░реЛрдкреАрдп eIDAS рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдкрд╣рдЪрд╛рди рд╡рд┐рдирд┐рдпрдорди</a></li>
<li><a href="../hi428329/index.html">рд╕реБрджреГрдвреАрдХрд░рдг рдкреНрд░рд╢рд┐рдХреНрд╖рдг: рд╡реАрдбрд┐рдпреЛ рдЧреЗрдо рдкрд╛рд░реНрд╕ рдХрд░рдирд╛</a></li>
<li><a href="../hi428333/index.html">2018 RAIF рд╣реИрдХрдереЙрди рдПрдЖрдИ рд╣реИрдХрдереЙрди рдкрд░рд┐рдгрд╛рдо</a></li>
<li><a href="../hi428335/index.html">рд╕рд┐рд░реА рд╢реЙрд░реНрдЯрдХрдЯ рдЕрдкрдбреЗрдЯ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>