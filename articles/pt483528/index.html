<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ú¥Ô∏è ‚õπüèæ üßëüèª API REST deve ser baseada em hipertexto üç≠ üë®üèø‚Äçü§ù‚Äçüë®üèæ ‚úãüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""E voc√™ acreditou nele?" O ombudsman do casco disse reprovadoramente. "Bem, o que voc√™ acha, eu teria levado esses pesos sem a sua permiss√£o?" 

 "Ent...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>API REST deve ser baseada em hipertexto</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483528/"><img src="https://habrastorage.org/getpro/habr/post_images/755/6ed/61e/7556ed61e151619dd42f5373b092c8ef.jpg" alt="imagem"><br><br>  <i>"E voc√™ acreditou nele?"</i>  <i>O ombudsman do casco disse reprovadoramente.</i>  <i>"Bem, o que voc√™ acha, eu teria levado esses pesos sem a sua permiss√£o?"</i> <i><br><br></i>  <i>"Ent√£o voc√™ pegou os pesos?"</i>  <i>Gritou Ostap.</i>  <i>Porque?</i> <i><br><br></i>  <i>- Panikovsky disse que eles s√£o ouro.</i> <i><br><br></i>  <i>Ostap olhou para Panikovsky.</i>  <i>S√≥ agora ele percebeu que, sob o palet√≥, n√£o havia mais do que uma camisa de cinquenta d√≥lares e, a partir da√≠, o olhar nu de Deus olhou para a luz do dia.</i>  <i>Sem uma palavra, o grande combinador caiu em uma cadeira.</i>  <i>Ele balan√ßou, pegando as m√£os no ar.</i>  <i>Ent√£o estrondos vulc√¢nicos sa√≠ram de sua garganta, l√°grimas escorreram de seus olhos e risos, que afetaram todo o cansa√ßo da noite, toda a decep√ß√£o na luta contra Koreiko, t√£o pateticamente parodiada por seus irm√£os de leite.</i> <i><br></i> <br>  Com esse fragmento dos cl√°ssicos, eu gostaria de prefaciar a tradu√ß√£o das postagens de blog de Roy T. Fielding. As APIs REST devem ser orientadas por hipertexto.  Agradecimentos especiais a <a href="https://habr.com/users/arthuriantech">habr.com/users/arthuriantech</a> pelo link para o material. <br><br>  Esta semana em Habr√© foi marcada como a semana da API REST (completa).  Nesse sentido, sempre fiquei confuso com a presen√ßa do prefixo REST nesse termo.  E, como se viu, n√£o apenas eu.  Hoje vou ler eu mesmo e convidar todos a descobrir o que Roy T. Fielding pensou sobre isso em 2008.  Obviamente, algu√©m rasteja nervosamente em um banquinho e diz: diga a Roy, Benya conhece a API REST.  No entanto, come√ßaremos. <br><a name="habracut"></a><br>  Estou desanimado com o pensamento de quantas pessoas chamam qualquer interface com base na API REST do protocolo HTTP.  O exemplo de hoje √© a API REST SocialSite.  Este √© um RPC.  Este √© um RPC flagrante.  Isso demonstra v√≠nculos t√£o duros que √© hora de ele atribuir a categoria de pornografia pesada. <br><br>  O que precisa ser feito para que eles entendam que o hipertexto √© um elemento necess√°rio na arquitetura REST?  Em outras palavras, se o mecanismo de estado do aplicativo (e, portanto, a API) n√£o for baseado em hipertexto, ele n√£o poder√° ser RESTful e n√£o poder√° ser uma API REST.  O ponto.  Que livro devo reescrever para deixar claro? <br><br>  Desenvolvedores de API, preste aten√ß√£o √†s seguintes regras antes de chamar suas cria√ß√µes de API REST: <br><br>  A API REST n√£o deve depender de um protocolo de comunica√ß√£o espec√≠fico, embora seu mapeamento bem-sucedido para esse protocolo possa depender da disponibilidade de metadados, escolha de m√©todos etc. Em geral, qualquer protocolo em um esquema de URI deve permitir que qualquer esquema de URI seja usado para identifica√ß√£o.  [O erro aqui √© que a identifica√ß√£o n√£o √© separada da intera√ß√£o.] <br><br>  A API REST n√£o deve conter nenhuma altera√ß√£o nos protocolos de comunica√ß√£o, exceto preenchendo ou corrigindo os detalhes de bits insuficientemente definidos dos protocolos padr√£o, como o m√©todo PATCH HTTP ou o campo de cabe√ßalho Link.  As solu√ß√µes alternativas para implementa√ß√µes que n√£o funcionam (como navegadores que s√£o burros o suficiente para acreditar que o HTML define um conjunto de m√©todos HTTP) devem ser determinadas separadamente ou, pelo menos em aplicativos, com a expectativa de que a solu√ß√£o alternativa se torne obsoleta.  [O erro aqui √© que as interfaces de recursos s√£o espec√≠ficas e n√£o universais.] <br><br>  A API REST deve gastar quase todos os seus esfor√ßos descritivos na defini√ß√£o dos tipos de m√≠dia usados ‚Äã‚Äãpara representar recursos e no gerenciamento do estado do aplicativo, bem como na defini√ß√£o de nomes estendidos de relacionamento e marca√ß√£o de hipertexto para os tipos de m√≠dia padr√£o existentes.  Qualquer esfor√ßo despendido para descrever quais m√©todos usar com quais URIs de interesse deve ser totalmente definido como parte das regras de processamento para o tipo de m√≠dia (e, na maioria dos casos, j√° definido pelos tipos de m√≠dia existentes).  [O erro aqui √© que informa√ß√µes externas ao recurso controlam a intera√ß√£o em vez de hipertexto.] <br><br>  A API REST n√£o deve definir nomes de recursos ou espa√ßos de nomes fixos (conectividade forte entre cliente e servidor).  Os servidores devem ter liberdade para gerenciar seus pr√≥prios namespaces.  Em vez disso, permita que os servidores instruam os clientes sobre como criar os URIs apropriados, por exemplo, em formul√°rios HTML e modelos de URI, definindo essas instru√ß√µes nos tipos de m√≠dia e nos relacionamentos de refer√™ncia.  [O erro aqui √© que a estrutura do recurso √© configurada fora desse recurso, por exemplo, em um padr√£o espec√≠fico de dom√≠nio, que na verdade √© um an√°logo do relacionamento funcional da RPC]. <br><br>  A API REST nunca deve ter "digitado" recursos significativos para o cliente.  Os autores das especifica√ß√µes podem usar tipos de recursos para descrever a implementa√ß√£o do servidor atr√°s da interface, mas esses tipos devem ser irrelevantes e invis√≠veis para o cliente.  Os √∫nicos tipos que s√£o importantes para o cliente s√£o o tipo de m√≠dia da exibi√ß√£o atual e os nomes de relacionamento padronizados.  [veja  acima] <br><br>  A API REST deve ser inserida sem nenhum conhecimento pr√©vio que n√£o seja o URI inicial e um conjunto de tipos de m√≠dia padronizados adequados para o p√∫blico-alvo (ou seja, o esperado no lado do cliente, que pode usar a API).  A partir deste momento, todas as transi√ß√µes de estados de aplicativos devem ser determinadas pela escolha das op√ß√µes fornecidas pelo servidor que est√£o presentes nas visualiza√ß√µes recebidas ou pelas manipula√ß√µes do usu√°rio com essas visualiza√ß√µes.  As transi√ß√µes podem ser determinadas (ou limitadas) pelo conhecimento do cliente sobre os tipos de mecanismos de comunica√ß√£o de m√≠dia e recursos que podem ser aprimorados rapidamente (por exemplo, c√≥digo sob solicita√ß√£o).  [O erro aqui √© que informa√ß√µes externas ao recurso controlam a intera√ß√£o em vez de hipertexto.] <br><br>  Talvez eu tenha perdido alguma coisa, mas as regras acima s√£o essenciais para o hipertexto, que s√£o violadas com mais freq√º√™ncia na chamada API REST.  Tente ficar com eles ou escolha outra palavra da moda para sua API. <br><br>  Este post de Roy T. Fielding provocou uma discuss√£o nos coment√°rios.  Proponho me familiarizar com a parte da discuss√£o, que foi acompanhada pelas respostas do autor. <br><br><blockquote>  Pergunta: <br><br>  Em que sentido voc√™ usa o termo "hipertexto" aqui?  Preciso ler seu trabalho para entender o que voc√™ quer dizer ou h√° algo online que revele o significado desse conceito? <br></blockquote><br><br><blockquote>  A resposta √©: <br><br>  Eu tenho um slide na minha palestra REST que explica o que significa hipertexto (e hiperm√≠dia). <br><br>  O hipertexto tem muitas defini√ß√µes: <br><br>  A defini√ß√£o inicial de Ted Nelson foi focada em documentos n√£o lineares. <br><br>  <i>Por "hipertexto", quero dizer um documento n√£o linear - um texto que bifurca e permite ao leitor fazer uma escolha, um documento que √© f√°cil de ler em uma tela interativa.</i>  <i>√â geralmente aceito que essa √© uma sequ√™ncia de blocos de texto vinculados por links que oferecem ao leitor v√°rias rotas.</i>  <i>Theodore H. Nelson</i> <i><br></i> <br><br>  Mais tarde, o hipertexto tornou-se associado a um mecanismo espec√≠fico da interface do usu√°rio. <br><br>  <i>O hipertexto √© um meio de armazenamento suportado por computador no qual os documentos relacionados s√£o exibidos com seus links em uma tela de computador de alta resolu√ß√£o.</i>  <i>Jeffrey Conklin</i> <i><br></i> <br><br>  Quando digo "hipertexto", quero dizer a apresenta√ß√£o simult√¢nea de informa√ß√µes e controles de forma que as informa√ß√µes fiquem dispon√≠veis, gra√ßas √†s quais o usu√°rio (ou m√°quina) escolhe e escolhe a√ß√µes.  A hiperm√≠dia √© simplesmente uma extens√£o do que o texto significa para incluir √¢ncoras tempor√°rias no fluxo de m√≠dia;  a maioria dos pesquisadores rejeitou essa distin√ß√£o. <br><br>  O hipertexto n√£o precisa ser HTML para o navegador.  As m√°quinas podem seguir os links quando entenderem o formato dos dados e os tipos de relacionamento. <br></blockquote><br><br><blockquote>  Dave Johnson (autor da API criticada): <br><br>  Talvez eu tenha dado uma express√£o confusa.  Eu nunca pretendi afirmar que as APIs RPC do OpenSocial ou SocialSite eram RESTful.  Mais no meu blog <a href="https://rollerweblogger.org/roller/entry/the_x_rated_socialsite_api" rel="nofollow">rollerweblogger.org/roller/entry/the_x_rated_socialsite_api</a> . <br></blockquote><br><br><blockquote>  A resposta √©: <br><br>  O protocolo OpenSocial RESTful n√£o √© RESTful.  Isso pode ser corrigido com altera√ß√µes relativamente pequenas, mas agora apenas compacta os resultados da RPC em tipos comuns de m√≠dia da web. <br><br>  A verdadeira API RESTful se parece com hipertexto.  Cada unidade de informa√ß√£o endere√ß√°vel carrega um endere√ßo, explicitamente (por exemplo, atributos de link e ID) ou implicitamente (por exemplo, obtido a partir da defini√ß√£o do tipo de m√≠dia e estrutura de apresenta√ß√£o).  Os resultados da consulta s√£o representados por uma lista de links com informa√ß√µes resumidas, em vez de matrizes de representa√ß√µes de objetos (a consulta n√£o substitui a identifica√ß√£o de recursos).  As representa√ß√µes de recursos s√£o auto-documentadas: o cliente n√£o precisa saber se esse recurso √© um OpenSocialist, porque simplesmente afeta as representa√ß√µes recebidas. <br><br>  Pense nisso em termos de Internet.  Quantos navegadores da web est√£o cientes da diferen√ßa entre um recurso banc√°rio on-line e um wiki?  N√£o √© um deles.  Eles n√£o precisam saber sobre os tipos de recursos.  O que eles precisam saber s√£o as transi√ß√µes de estado em potencial: links e formul√°rios e que tipo de sem√¢ntica ou a√ß√£o est√° impl√≠cita ao atravessar esses links.  O navegador os apresenta como controles separados da interface do usu√°rio, para que o usu√°rio possa ver poss√≠veis transi√ß√µes e antecipar o efeito das a√ß√µes selecionadas.  Os rob√¥s podem segui-los na medida em que se sabe que as a√ß√µes s√£o seguras.  Relacionamentos digitados, tipos espec√≠ficos de m√≠dia e elementos relacionados √† a√ß√£o fornecem a orienta√ß√£o necess√°ria para agentes automatizados. <br></blockquote><br><br>  Links √∫teis: <br>  1. <a href="https://hackmd.io/l9HYMf7fTiWY3__-QbCLIw" rel="nofollow">Vers√£o de tradu√ß√£o de</a> <a href="https://habr.com/ru/users/arthuriantech/">habr.com/us/users/arthuriantech</a> <br><br>  2. <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/fielding_dissertation.pdf" rel="nofollow">A mesma tese do velho Roy</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt483528/">https://habr.com/ru/post/pt483528/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt483516/index.html">Pare de colocar o diodo 2</a></li>
<li><a href="../pt483518/index.html">O desenvolvedor do jogo VVVVVV em homenagem a sua d√©cada tornou o c√≥digo fonte aberto</a></li>
<li><a href="../pt483520/index.html">Usando o observador de padr√µes de similaridade em C</a></li>
<li><a href="../pt483524/index.html">An√°lise Habra: quando √© melhor publicar seu post?</a></li>
<li><a href="../pt483526/index.html">Gerenciando o estado do aplicativo com o RxJS / Immer como uma alternativa simples ao Redux / MobX</a></li>
<li><a href="../pt483530/index.html">Como fizemos um jogo de tabuleiro. Porque e porque?</a></li>
<li><a href="../pt483532/index.html">Confer√™ncia DefCon 27: Nos bastidores da cria√ß√£o de crach√°s eletr√¥nicos Parte 1</a></li>
<li><a href="../pt483536/index.html">A hist√≥ria do microprocessador e computador pessoal: 1974 - 1980</a></li>
<li><a href="../pt483538/index.html">Conex√£o de um monitor ER-TFT101-1 de 10 "ao STM32F429 via FMC</a></li>
<li><a href="../pt483540/index.html">ChaiScript - linguagem de script para C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>