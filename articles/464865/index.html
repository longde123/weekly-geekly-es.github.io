<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßìüèº üêè üñ±Ô∏è Telegram como almac√©n de datos para proyectos de TI üïµüèæ üëèüèæ üèÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buenas tardes, hoy me gustar√≠a compartir con ustedes los problemas y sus soluciones inusuales que se encontraron al escribir peque√±os proyectos de TI....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Telegram como almac√©n de datos para proyectos de TI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464865/">  Buenas tardes, hoy me gustar√≠a compartir con ustedes los problemas y sus soluciones inusuales que se encontraron al escribir peque√±os proyectos de TI.  Debo decir de inmediato que el art√≠culo es para aquellos que est√°n un poco versados ‚Äã‚Äãen el desarrollo de telegramas para bots, bases de datos, SQL y el lenguaje de programaci√≥n Python. <br><br>  Todo el proyecto est√° publicado en github, el enlace estar√° al final del art√≠culo. <br><br><img src="https://www.vamtlgrm.com/wp-content/uploads/2018/04/y-pDbyfXZqI.jpg" alt="imagen"><br><br><h3>  Problema principal </h3><br>  Inicialmente, quer√≠a escribir para m√≠ un simple contador de calor√≠as de bot de telegramas, que recibe un n√∫mero del usuario y devuelve cu√°ntas calor√≠as quedan a la normalidad durante el d√≠a.  Es decir, debe almacenar aproximadamente un par de variables para cada usuario. <br><a name="habracut"></a><br>  Al final, tuvo que elegir una forma de almacenar estos datos. <br><br><ol><li>  Opci√≥n: <b>variables globales</b> , memoria de acceso aleatorio.  La opci√≥n es inmediatamente un fracaso, porque cuando el programa falla, perdemos todo </li><li>  Opci√≥n: <b>escribir en un archivo</b> en el disco.  Podr√≠a funcionar para tal proyecto, pero plane√© implementar un bot en heroku, que borra todos los datos del disco todos los d√≠as.  Entonces esta opci√≥n no encajaba </li><li>  Opci√≥n: <b>hojas de c√°lculo de Google</b> .  Inicialmente, quer√≠a pensar en esta opci√≥n, pero comenc√© a comprender y me di cuenta de que hab√≠a un l√≠mite en la cantidad de consultas a la tabla, y para comenzar a usar la tabla, debe escribir un mont√≥n de l√≠neas de c√≥digo y descubrir su no tan simple api </li><li>  La opci√≥n es <b>una base de datos</b> .  S√≠, esta es la mejor opci√≥n en todo.  Pero para tal proyecto, incluso es divertido de usar.  Adem√°s, la implementaci√≥n y el soporte de una base de datos en un servidor de terceros costar√° un centavo. </li></ol><br>  Como resultado, ninguna de estas opciones surgi√≥.  Por supuesto, hay docenas de otras formas, pero me gustar√≠a que fuera gratis, r√°pido y con un m√≠nimo de c√≥digo. <br><cut><br><h3>  Soluci√≥n </h3><br>  La idea es muy simple, para el almacenamiento de datos usaremos la base de datos sqllite en la memoria, ya que est√° integrada en python 3 y haremos una copia de seguridad de nuestra tabla en los servidores de Telegram con un peque√±o intervalo (aproximadamente cada 30 segundos) y una copia de seguridad cuando se cierre el proceso del programa. <br><br>  Si el servidor falla, entonces, en la primera solicitud, descargaremos autom√°ticamente nuestra tabla desde el servidor de Telegram y restauraremos los datos a sqllite. <br><br>  Puede usar cualquier otro en la base de datos de memoria como desee. <br><br><h3>  Pros </h3><br><ol><li>  <b>Rendimiento</b> : debido al trabajo con datos en la memoria principal, la velocidad de ejecuci√≥n del programa es a√∫n m√°s r√°pida que cuando se usa la base de datos en un servidor de terceros (la velocidad y los gr√°ficos de prueba estar√°n al final) </li><li>  <b>Gratis</b> : no es necesario comprar servidores de terceros para bases de datos y todos los datos se almacenan como una copia de seguridad de forma gratuita en los servidores de Telegram </li><li>  <b>Relativamente confiable</b> : si el servidor falla por razones desconocidas, entonces perdemos los datos m√°ximos durante los √∫ltimos 30 segundos (tiempo de intervalo de respaldo), para un prototipo que funcione o un proyecto peque√±o ser√° suficiente. </li><li>  <b>Costos m√≠nimos</b> al cambiar a una base de datos normal: debe reemplazar los datos de conexi√≥n, eliminar el c√≥digo de respaldo y transferir los datos de la tabla del respaldo a una nueva base de datos. </li></ol><br><h3>  Contras </h3><br><ol><li>  Falta de escala horizontal </li><li>  Necesita dos cuentas en Telegram (una para el administrador y la otra para probar al usuario) </li><li>  El servidor no funcionar√° en Rusia debido a bloqueos </li><li>  En los comentarios, creo que encontrar√°s una docena de otros matices. </li></ol><cut><br><h3>  Hora de cagar </h3><br>  Vamos a escribir un simple clicker y ejecutar pruebas de velocidad. <br><br>  El bot se escribir√° en el lenguaje de programaci√≥n python utilizando una biblioteca as√≠ncrona de interacci√≥n con el aiograma de telegrama api. <br><br>  Lo primero que debe hacer es completar la configuraci√≥n del bot, no le dir√© c√≥mo obtener un token de BotFather, ya hay cientos de art√≠culos sobre este tema. <br><br>  Tambi√©n necesitamos una segunda cuenta en un telegrama para el administrador, en la que se guardar√°n nuestras copias de seguridad. <br><br>  Para obtener admin_id y config_id, necesitamos iniciar el bot desde la cuenta de administrador y escribir "admin" en el bot, despu√©s de lo cual crear√° la primera copia de seguridad y escribir√° su admin_id, config_id.  Reemplace e inicie el bot nuevamente. <br><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#-------------------- ------------------------- #    BotFather TOKEN = '1234567:your_token' #  logging.basicConfig(level=logging.INFO) bot = Bot(token=TOKEN) dp = Dispatcher(bot) #             admin_id=12345678 config_id=12345 conn = sqlite3.connect(":memory:") #  in memory  cursor = conn.cursor()</span></span></code> </pre> <br><h4>  As√≠ que ahora veamos la l√≥gica principal del bot </h4><br>  Si el bot recibe un mensaje con la palabra "admin", entonces creamos una tabla de usuario con el siguiente modelo de datos: <br><br><ul><li>  chatid: usuario de identificaci√≥n de chat √∫nico </li><li>  nombre - nombre de usuario </li><li>  clic - n√∫mero de clics </li><li>  estado: el valor de la m√°quina de estado no se usa en este proyecto, pero no puede prescindir de otros m√°s complejos </li></ul><br>  Agregue un usuario de prueba y env√≠e el documento al servidor de Telegram con nuestra tabla.  Tambi√©n enviamos admin_id y config_id al administrador en forma de mensajes.  Despu√©s de recibir ID, este c√≥digo debe comentarse. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    if message.text == 'admin': cursor.execute("CREATE TABLE users (chatid INTEGER , name TEXT, click INTEGER, state INTEGER)") cursor.execute("INSERT INTO users VALUES (1234, 'eee', 1,0)") conn.commit() sql = "SELECT * FROM users " cursor.execute(sql) data = cursor.fetchall() str_data = json.dumps(data) await bot.send_document(message.chat.id, io.StringIO(str_data)) await bot.send_message(message.chat.id, 'admin_id = {}'.format(message.chat.id)) await bot.send_message(message.chat.id, 'config_id = {}'.format(message.message_id+1))</span></span></code> </pre><br><h4>  L√≥gica de usuario </h4><br>  En primer lugar, tratamos de obtener de la base de datos en memoria los datos del usuario que envi√≥ el mensaje.  Si detectamos un error, cargue los datos de la copia de seguridad del servidor Telergam, complete nuestra base de datos con los datos de la copia de seguridad e intente nuevamente encontrar al usuario. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    try: sql = "SELECT * FROM users where chatid={}".format(message.chat.id) cursor.execute(sql) data = cursor.fetchone() # or use fetchone() except Exception: data = await get_data() cursor.execute("CREATE TABLE users (chatid INTEGER , name TEXT, click INTEGER, state INTEGER)") cursor.executemany("INSERT INTO users VALUES (?,?,?,?)", data) conn.commit() sql = "SELECT * FROM users where chatid={}".format(message.chat.id) cursor.execute(sql) data = cursor.fetchone() # or use fetchone()</span></span></code> </pre><br>  Si encontramos al usuario en la base de datos, procesamos los botones: <br><br><ul><li>  Al hacer clic en "Hacer clic", actualizamos el n√∫mero de clics para este usuario </li><li>  Cuando hace clic en "Calificaci√≥n", mostramos una lista de quince personas que tienen la mayor cantidad de clics. </li></ul><br>  Si no encontr√≥ al usuario, escr√≠bale un error. <cut><br><br><pre> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment">#      click     if data is not None: if message.text == '': sql = "UPDATE users SET click = {} WHERE chatid = {}".format(data[2]+1,message.chat.id) cursor.execute(sql) conn.commit() await bot.send_message(message.chat.id, ': {} '.format(data[2]+1)) #        10 if message.text == '': sql = "SELECT * FROM users ORDER BY click DESC LIMIT 15" cursor.execute(sql) newlist = cursor.fetchall() # or use fetchone() sql_count = "SELECT COUNT(chatid) FROM users" cursor.execute(sql_count) count=cursor.fetchone() rating=': {}\n'.format(count[0]) i=1 for user in newlist: rating=rating+str(i)+': '+user[1]+' - '+str(user[2])+'\n' i+=1 await bot.send_message(message.chat.id, rating) else: await bot.send_message(message.chat.id, '  ')</span></span></code> </pre> <br><h4>  Escribamos la l√≥gica para el registro de usuarios </h4><br>  Estamos tratando de encontrar al usuario en la base de datos, si no est√° all√≠, agregue una nueva fila a la tabla y haga una copia de seguridad. <br><br>  Si detectamos un error, cargamos la √∫ltima copia de seguridad, completamos la tabla y repetimos el intento de registro. <br><br><pre> <code class="python hljs">sql_select = <span class="hljs-string"><span class="hljs-string">"SELECT * FROM users where chatid={}"</span></span>.format(message.chat.id) sql_insert = <span class="hljs-string"><span class="hljs-string">"INSERT INTO users VALUES ({}, '{}', {},{})"</span></span>.format(message.chat.id,message.chat.first_name, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: cursor.execute(sql_select) data = cursor.fetchone() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> data <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: cursor.execute(sql_insert) conn.commit() <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> save_data() <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception: data = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> get_data() cursor.execute(<span class="hljs-string"><span class="hljs-string">"CREATE TABLE users (chatid INTEGER , name TEXT, click INTEGER, state INTEGER)"</span></span>) cursor.executemany(<span class="hljs-string"><span class="hljs-string">"INSERT INTO users VALUES (?,?,?,?)"</span></span>, data) conn.commit() cursor.execute(sql_select) data = cursor.fetchone() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> data <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: cursor.execute(sql_insert) conn.commit() <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> save_data() <span class="hljs-comment"><span class="hljs-comment">#   button = KeyboardButton('') button2 = KeyboardButton('') #  kb = ReplyKeyboardMarkup(resize_keyboard=True).add(button).add(button2) #     await bot.send_message(message.chat.id,' {}'.format(message.chat.first_name),reply_markup=kb)</span></span></code> </pre> <br>  Entonces, bueno, y lo m√°s interesante. <br><br><h4>  Guardar y recuperar datos del servidor Telergam </h4><br>  Descargamos todos los datos de la tabla de usuarios, traducimos el diccionario en una cadena y modificamos nuestro archivo, que se almacena en los servidores de Telegram. <br><br><pre> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment">#-------------------- ------------------------- async def save_data(): sql = "SELECT * FROM users " cursor.execute(sql) data = cursor.fetchall() # or use fetchone() try: #     str_data=json.dumps(data) #      await bot.edit_message_media(InputMediaDocument(io.StringIO(str_data)), admin_id, config_id) except Exception as ex: print(ex)</span></span></code> </pre><br>  Para obtener una copia de seguridad, debemos reenviar el mensaje con el archivo del administrador al administrador.  Luego obtenga la ruta al archivo, lea los datos por url y devuelva la copia de seguridad completa. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># #-------------------- ------------------------- async def get_data(): #         forward_data = await bot.forward_message(admin_id, admin_id, config_id) #    ,   file_data = await bot.get_file(forward_data.document.file_id) #    url file_url_data = bot.get_file_url(file_data.file_path) #     json_file= urlopen(file_url_data).read() #    json     return json.loads(json_file)</span></span></code> </pre> <br>  Bueno, eso es casi todo, solo queda escribir un temporizador para hacer copias de seguridad y probar el bot. <br>  Cree un hilo que ejecute nuestro m√©todo save_data () cada 30 segundos. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">timer_start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> threading.Timer(<span class="hljs-number"><span class="hljs-number">30.0</span></span>, timer_start).start() <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: asyncio.run_coroutine_threadsafe(save_data(),bot.loop) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> exc: <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre> <br>  Bueno, en el programa principal, iniciamos el temporizador y el propio bot. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#-------------------- ------------------------- if __name__ == '__main__': timer_start() executor.start_polling(dp, skip_updates=True)</span></span></code> </pre> <cut><br>  Entonces, el c√≥digo parece estar ordenado, aqu√≠ est√° el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace del borrador de trabajo a github</a> . <br><br><h3>  Como correr </h3><br><ol><li>  Descargue el proyecto desde github.  Comenzamos el proyecto en cualquier entorno de desarrollo para python (por ejemplo: PyCharm). </li><li>  El entorno de desarrollo cargar√° autom√°ticamente las bibliotecas necesarias del archivo de requisitos. </li><li>  Reemplazar token de BotFather en main.py <br><br><img src="https://habrastorage.org/webt/7c/jz/75/7cjz75bpkulsulwhaefjh4h_go0.png"></li><li>  Comenzamos el proyecto </li><li>  Desde la segunda cuenta, haga clic / iniciar y escriba la palabra "admin" <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gq/jk/ru/gqjkru3lwkehvo5bwwgqkdvdxgw.jpeg" width="360"></div></li><li>  Apague el proyecto y complete admin_id y config_id en el archivo main.py </li><li>  Iniciamos el proyecto y desde la cuenta de usuario presionamos inicio <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qw/f8/q6/qwf8q6x6t981g8hxbrnaxcnbabi.jpeg" width="360"></div></li><li>  <b>Ganancia</b> </li></ol><br><h3>  Pruebas y gr√°ficos </h3><br>  Las pruebas se realizaron en servidores heroku con caracter√≠sticas de instancia m√≠nimas.  Por lo tanto, podemos suponer que todas las pruebas se realizaron en condiciones m√°s o menos iguales. <br><br>  Los gr√°ficos est√°n hechos de muestras de ~ 100 solicitudes-respuestas.  Y se presenta el promedio de la muestra. <br><br>  PostgreSQL en Amazon RDS con caracter√≠sticas m√≠nimas se utiliz√≥ como base de datos en un servidor de terceros. <br><br><img src="https://habrastorage.org/webt/oq/os/4g/oqos4grqh9eklte_qsqw4wf7poa.png"><br><br>  Con un mill√≥n de usuarios, el tiempo de respaldo se convierte en un problema. <br><br><img src="https://habrastorage.org/webt/a4/4r/6l/a44r6lleh7ihuqzeephau9xtj6k.png"><br><br>  El tama√±o de la copia de seguridad depende completamente de su modelo de datos, en mi caso, con un mill√≥n de usuarios, se obtuvo un archivo de datos con 21 megabytes. <br><br><img src="https://habrastorage.org/webt/di/tt/s1/ditts1fk_ty-uoysteakhbvjsai.png"><br><br><h3>  Conclusi√≥n </h3><br>  Este m√©todo de almacenamiento de datos tiene sentido para proyectos de hasta un mill√≥n de usuarios.  Es decir, para un prototipo o una startup personal, este m√©todo tiene derecho a la vida. <br><br>  Como resultado, obtuvimos un clicker totalmente independiente, independiente de las bases de datos remotas. <br><br>  Aqu√≠ est√° el proyecto descrito anteriormente desplegado en heroku: @Clicker_fast_bot <br><br>  Tambi√©n implement√© un proyecto m√°s complejo con esta ideolog√≠a: @Random_friend_bot <br><br>  La imagen de una sala de chat y chat de dos personas, pero solo en un telegrama. <br><br>  Est√° buscando comunicaci√≥n dentro de un radio de 100 km de una persona del sexo opuesto y se da cuenta de una conversaci√≥n cerrada con un nuevo interlocutor. <br><br>  Si es interesante, puedo descartar el c√≥digo fuente del proyecto.  Adem√°s, si este tema es relevante, en el pr√≥ximo art√≠culo puedo describir la creaci√≥n de la API Rest sin bases de datos externas.  Esa es una pila de django-sqllite-Telegram. <br><br>  Estar√© encantado de cualquier cr√≠tica, ¬°gracias por su atenci√≥n! </cut></cut></cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/464865/">https://habr.com/ru/post/464865/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../464853/index.html">D√≥nde escuchar equipos de audio: una cultura de instituciones tem√°ticas para fan√°ticos del audio: de Jap√≥n a Rusia</a></li>
<li><a href="../464857/index.html">Desarrollo del sistema operativo multitarea Microkernel - Programador</a></li>
<li><a href="../464859/index.html">Controlar m√∫ltiples motores paso a paso Nema 17 al mismo tiempo o NemaStepper</a></li>
<li><a href="../464861/index.html">Mini referencia y gu√≠a de Scrum</a></li>
<li><a href="../464863/index.html">Natas Web. Paso de la plataforma CTF destinada a explotar vulnerabilidades web. Parte 4</a></li>
<li><a href="../464867/index.html">"Borrador"</a></li>
<li><a href="../464869/index.html">La historia de un monolito. Parte 2</a></li>
<li><a href="../464871/index.html">15 libros de aprendizaje autom√°tico para principiantes</a></li>
<li><a href="../464873/index.html">Por qu√© realizar operaciones con divisas en el intercambio: 3 escenarios pr√°cticos</a></li>
<li><a href="../464877/index.html">Noticias del mundo de OpenStreetMap No. 473 (06/08/2019 - 12/08/2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>