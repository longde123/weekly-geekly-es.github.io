<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéá ü§µüèæ üìä Como visitar a Universidade da Cor√©ia com o sistema de arquivos em rede ‚úçüèª üëÉüèº üë©üèº‚Äç‚öñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pref√°cio 


 Era uma vez, no in√≠cio dos anos 2000, muitos se divertiam com o fato de "verificarem" regularmente as redes de seus provedores e, √†s veze...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como visitar a Universidade da Cor√©ia com o sistema de arquivos em rede</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444382/"><p><img src="https://habrastorage.org/webt/yv/yo/g3/yvyog3c-gz4kkanb5hdlhenybg8.png"></p><br><h2 id="predislovie">  Pref√°cio </h2><br><p>  Era uma vez, no in√≠cio dos anos 2000, muitos se divertiam com o fato de "verificarem" regularmente as redes de seus provedores e, √†s vezes, destinos ainda mais distantes, a fim de detectar m√°quinas e recursos Windows (SMB), dispon√≠veis para leitura (grava√ß√£o).  O processo de busca foi primitivo: foi definido um intervalo de endere√ßos IP ou uma m√°scara de rede e, por meio de v√°rias ferramentas - LANguard Network Scanner, xIntruder e similares - os endere√ßos foram verificados e os servidores foram localizados.  Freq√ºentemente, as m√°quinas detectadas estavam dispon√≠veis para leitura, menos frequentemente para grava√ß√£o, v√°rios recursos de rede (discos, impressoras, diret√≥rios).  Atrav√©s de uma sess√£o an√¥nima, atrav√©s do IPC $ e do usu√°rio ‚ÄúGuest‚Äù, foi poss√≠vel transferir recursos na m√°quina, √†s vezes havia membros dos ‚ÄúAdministradores‚Äù sem senhas e, √†s vezes, ap√≥s um impacto mais ‚Äúativo‚Äù nas m√°quinas detectadas, era poss√≠vel encontrar servidores executando o Windows NT 4.0 ou Windows 2000 Server.  Se a sorte era encontrar m√°quinas com o Windows 98, ent√£o generalizado, ficava mais f√°cil - naqueles dias o sistema operacional especificado continha muitas vulnerabilidades diferentes, incluindo a implementa√ß√£o do trabalho com SMB, o bruteforce para acesso ao recurso era realizado em quest√£o de minutos, mesmo em dial-up conex√µes.  Para quem quer mergulhar nos velhos tempos, est√° escrito em detalhes sobre o "acesso" ao Windows 9x - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Hacking Exposed: Segredos e Solu√ß√µes de Seguran√ßa de Rede.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cap√≠tulo 4: Hackeando o Windows 95/98 e Me</a> .  Mas o resto do artigo n√£o √© sobre isso. </p><a name="habracut"></a><br><p>  Eu nunca teria pensado que, em 2019, esse "entretenimento" √© poss√≠vel.  A semelhan√ßa est√° na facilidade de encontrar os recursos dispon√≠veis de outras pessoas para todos os curiosos.  Al√©m disso, n√£o focaremos em uma tend√™ncia popular nos √∫ltimos dois anos - a busca por bancos de dados MongoDB ou Elasticsearch abertos para acesso -, mas em um servi√ßo um pouco mais realista. </p><br><p>  <em>Al√©m disso, proponho n√£o avaliar todo o procedimento, sua norma √©tica, observo que este post n√£o √© um chamado para a√ß√µes que podem ser atribu√≠das a alguns artigos do C√≥digo Penal da Federa√ß√£o Russa ou normas similares das leis de outros estados.</em> </p><br><h2 id="network-file-system-nfs">  Sistema de arquivos de rede (NFS) </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Wikipedia">Network File System (NFS)</a> - um protocolo para acesso de rede a sistemas de arquivos, permite conectar (montar) sistemas de arquivos remotos atrav√©s de uma rede, fornece aos usu√°rios acesso a arquivos, permite trabalhar com esses arquivos da mesma maneira que com os locais. </p><br><p>  A maioria do NAS (Network-Attached Storage) dispon√≠vel no mercado oferece suporte ao NFS e fornece acesso a recursos locais e a qualquer servidor com um sistema operacional no qual √© poss√≠vel implantar o servi√ßo NFS. </p><br><p>  As configura√ß√µes para acessar recursos do servidor a partir de qualquer sistema operacional Ubuntu e endere√ßo IP 192.168.1.1 est√£o contidas no arquivo / etc / exporta√ß√µes e s√£o entradas do formul√°rio: </p><br><ul><li>  / data / place1 192.168.1.0/255.255.255.0(rw,no_subtree_check,nohide,async) 192.168.101.0/255.255.255.0(rw,no_subtree_check,nohide,async) </li><li>  data / place2 192.168.1.0/255.255.255.0(rw,no_subtree_check,nohide,async) 192.168.101.0/255.255.255.0(rw,no_subtree_check,nohide,async) </li></ul><br><p>  Nesse caso, o acesso do NFS ao servidor e seu recurso / dados / local1 √© poss√≠vel para clientes com endere√ßos IP das redes 192.168.1.0/255.255.255.0, 192.168.101.0/255.255.255.0. </p><br><p> Monte o recurso remoto em um diret√≥rio local, por exemplo, / home / user / example, se o cliente estiver em uma sub-rede permitida e o cliente para NFS estiver instalado, √© poss√≠vel atrav√©s do comando (Ubuntu): <br> <code>mount -t nfs 192.168.1.1:/data/place1 /home/user/example</code> </p> <br><p>  Se, em vez de endere√ßos IP, * ou (todos) for especificado, geralmente qualquer cliente poder√° montar um recurso remoto em seu sistema. </p><br><p>  O usu√°rio (por exemplo, no Ubuntu) s√≥ precisa digitar o terminal: showmount -e ip-target e obter informa√ß√µes sobre os recursos dispon√≠veis no servidor (lista de exporta√ß√£o do servidor). </p><br><p>  Por exemplo: <br> <code>showmount -e 81.24..</code> <br> <code>Export list for 81.24..:</code> <br> <code>/home/admin 192.168.52.1/24</code> </p> <br><p>  Assim, o seguinte cen√°rio √© formado: para detectar servidores executando o NFS, determinar os recursos dispon√≠veis nos servidores, consolidar o resultado em um √∫nico formul√°rio de sa√≠da e prosseguir de acordo com a situa√ß√£o. </p><br><p>  O que pode estar nos recursos - obviamente, qualquer coisa: </p><br><ul><li>  arquivos pessoais de usu√°rios da Internet, por exemplo, nos casos de dispositivos NAS "abertos"; </li><li>  diret√≥rios com arquivos de empresas inteiras, bancos de dados, arquivos de bancos de dados; </li><li>  freq√ºentemente diret√≥rios com endere√ßos / home / * (algumas vezes com chaves em .ssh e grav√°veis); </li><li>  diret√≥rios com arquivos de sistemas de vigil√¢ncia por v√≠deo; </li><li>  outro ... </li></ul><br><h2 id="poluchenie-ip-adresov">  Obtendo endere√ßos IP </h2><br><p>  No que diz respeito √† descoberta de servidores com NFS na Internet global, existem duas maneiras: independentemente, usando v√°rias ferramentas e resultados de varredura, bancos de dados e servi√ßos de terceiros prontos.  De fato, tudo se resume a obter uma lista de endere√ßos IP.  Na rede local, acho que a op√ß√£o √© √≥bvia - aja de forma independente. </p><br><p>  As portas TCP abertas 111, 2049 podem servir como evid√™ncia do funcionamento do servi√ßo NFS. <br>  Para obter independentemente uma lista de endere√ßos IP do servidor, basta varrer o intervalo de endere√ßos ou toda a sub-rede quanto √† presen√ßa das portas abertas indicadas.  Qualquer ferramenta √© adequada para isso: nmap, masscan e assim por diante. </p><br><p>  Por exemplo, com o comando <code>masscan -p111,2049 200.26.1XX.0/24 ‚Äîrate=10000</code> rede 200.26.1XX.0 / 24 ser√° varrida por v√°rios segundos nas portas abertas 111, 2049: <br> <code>Scanning 256 hosts [2 ports/host]</code> <br> <code>Discovered open port 2049/tcp on 200.26.1XX.28</code> <br> <code>Discovered open port 111/tcp on 200.26.1XX.15</code> <br> <code>Discovered open port 111/tcp on 200.26.1XX.20</code> <br> <code>Discovered open port 111/tcp on 200.26.1XX.28</code> <br>  Al√©m de cada um dos endere√ßos IP detectados, √© poss√≠vel aplicar o comando: <br> <code>showmount --no-headers -e 200.26.1XX.28</code> <br>  Resultado: <br> <code>/usr/common *</code> <br>  Obviamente, √© poss√≠vel digitalizar milh√µes de endere√ßos IP do espa√ßo da Internet, mas esse n√£o √© o caminho mais r√°pido, e o maravilhoso servi√ßo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Shodan</a> pode ser a solu√ß√£o para a subtarefa, √© claro que existem outros, mas este com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sintaxe</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">API</a> muito convenientes.  Investigar a descri√ß√£o dos recursos do servi√ßo n√£o √© o objetivo do artigo.  Resumidamente - o servi√ßo fornece uma pesquisa avan√ßada por dispositivos conectados √† Internet.  Os crit√©rios de pesquisa podem ser identificadores de rede e outros metadados: n√∫meros de s√©rie de certificados e similares.  Shodan possui muitos recursos para pesquisa direcionada, mas n√£o encontrei uma pesquisa separada no NFS, pois, por exemplo, existe um crit√©rio de produto com um nome de produto: mongodb, elastic ou apache.  Portanto, atrav√©s do NFS da Web, √© poss√≠vel procurar as seguintes consultas: nfs, tcp 2049, tcp 111, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Portmap: 2049</a> e assim por diante, conforme desejar. </p><br><p><img src="https://habrastorage.org/webt/am/n2/hq/amn2hqii1_gsemlxivnffoawgek.png"></p><br><p>  Ou instale o cliente Shodan (CLI), inicialize sua API KEY no servi√ßo e chame uma pesquisa na linha de comando, por exemplo: </p><br><ol><li>  shodan search --fields ip_str, port Portmap: 2049 </li><li>  shodan search --fields ip_str, port --separator, nfs <br>  Resultado: <br>  139.196.154.23.111, <br>  198.27.116.37.111, <br>  95.211.192.96.111, <br>  80.23.66.122.111, <br>  210.116.82.97.111, <br>  192.198.82.3.111, <br>  165.227.67.242.111, <br>  116.12.48.9.111, <br>  85.34.250.102.111, <br>  182.75.249.197.111, <br>  192.151.212.175.111, <br>  119.216.107.127.111, <br>  217.59.68.2.111, <br>  178.159.12.97.111, <br>  ... </li></ol><br><p>  Portanto, √© f√°cil entender como obter as listas de endere√ßos IP de dispositivos com um servi√ßo NFS v√°lido. </p><br><h2 id="poluchenie-informacii-o-dostupnyh-resursah-sluzhby-nfs-na-konkretnyh-serverah">  Recupere informa√ß√µes sobre os recursos NFS dispon√≠veis em servidores espec√≠ficos. </h2><br><p>  Existem v√°rias maneiras de resolver esse problema em massa: escrever scripts bash, organizar um pipeline complicado a partir de uma cadeia de comandos com uma chamada para showmount e outras op√ß√µes - quem gosta do qu√™. </p><br><p>  Em minha pesquisa, resolvi esse problema em Python e de duas maneiras diferentes.  O primeiro √© conectar via ssh ao seu servidor Ubuntu pessoal com um cliente NFS e, em seguida, invocar o comando showmount nele com o pool de endere√ßos IP desejado.  A segunda solu√ß√£o est√° em Python puro. </p><br><p>  Suponho que possa surgir uma pergunta: por que √© t√£o dif√≠cil, por que em Python? </p><br><p>  Porque, como no meu artigo anterior sobre Habr, usarei a ferramenta Lampyre, na qual em 26 de fevereiro eles publicaram uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">API</a> que permite gravar seus m√≥dulos na plataforma em Python. </p><br><div class="spoiler">  <b class="spoiler_title">Lampyre</b> <div class="spoiler_text"><p>  <em>Brevemente sobre Lampyre - uma plataforma de software para OSINT e an√°lise de dados com um cliente "grosso" para Windows, um an√°logo da ferramenta popular e conhecida para o mesmo objetivo - Maltego.</em>  <em>Como em Maltego, Lampyre "pronto para uso" fornece um conjunto de solicita√ß√µes para v√°rios servi√ßos.</em>  <em>As consultas s√£o conceitualmente equivalentes √†s transforma√ß√µes de um produto mais conhecido.</em>  <em>Se algo estiver faltando, agora √© poss√≠vel escrever seus pr√≥prios pedidos.</em>  <em>Os pedidos fornecidos com o Lampyre s√£o executados na infraestrutura da plataforma, escritos de forma independente - na m√°quina.</em>  <em>Ou seja, o usu√°rio deve ter o Python instalado e todas as bibliotecas necess√°rias usadas no c√≥digo.</em> </p></div></div><br><p>  Decidi testar os recursos da API.  O ponto principal √© que o Lampyre j√° possui v√°rias "solicita√ß√µes" para a Shodan, principalmente porque o usu√°rio n√£o precisa ter sua pr√≥pria API KEY do servi√ßo.  Assim, com uma solicita√ß√£o, voc√™ pode obter listas de endere√ßos IP com o servi√ßo NFS gerado, e com a segunda solicita√ß√£o, o m√≥dulo que escrevi verificar√° os recursos dispon√≠veis e visualizar√° o resultado com as caracter√≠sticas dos recursos no mesmo gr√°fico. </p><br><h2 id="prichem-tut-koreya">  E aqui a Cor√©ia </h2><br><p>  Durante a pesquisa em Shodan e o teste do m√≥dulo, ficou interessante ver a situa√ß√£o com a qualidade e a quantidade de resultados da digitaliza√ß√£o pelo servi√ßo Shodan nos pa√≠ses asi√°ticos, como est√£o as coisas com recursos inseguros.  A escolha recaiu sobre a Rep√∫blica da Cor√©ia, acho que n√£o h√° necessidade de dizer que a Cor√©ia do Sul √© um pa√≠s muito tecnologicamente avan√ßado e sugeri que voc√™ pudesse encontrar algo interessante em suas redes. </p><br><p>  Pesquisa por Shodan, em Consulta: <strong>nfs</strong> , em Pa√≠s: c√≥digo da Rep√∫blica da Cor√©ia, <strong>kr</strong> </p><br><p><img src="https://habrastorage.org/webt/o0/e8/fy/o0e8fya-deqqydh5uaetrbgsvqe.png"></p><br><p>  O resultado n√£o demorou a chegar (na imagem abaixo, apenas parte do esquema geral). </p><br><p><img src="https://habrastorage.org/webt/z1/-4/ir/z1-4ir1uwvo7buc3ie46qfcuuo0.png"></p><br><p>  Lista de Host: </p><br><ul><li>  psi.kaist.ac.kr </li><li>  hulk.kaist.ac.kr </li><li>  messi.kaist.ac.kr </li><li>  marvel.kaist.ac.kr </li><li>  kaist.ac.kr </li><li>  ai1.kaist.ac.kr </li><li>  jarvis3.kaist.ac.kr </li><li>  baraddur.kaist.ac.kr </li><li>  rho.kaist.ac.kr </li><li>  jarvis.kaist.ac.kr </li></ul><br><p>  Todos eles, como podem ser vistos no gr√°fico e nos nomes, est√£o listados como AS1781 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Kaist">Instituto Avan√ßado de Ci√™ncia e Tecnologia da Cor√©ia</a> </p><br><p><img src="https://habrastorage.org/webt/ci/ez/nd/ciezndaw7a3brrrrxmcbe1wppak.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Wikipedia">O Instituto de Tecnologia Avan√ßada</a> da Cor√©ia - a principal universidade acad√™mica e de pesquisa da Cor√©ia do Sul, localizada em Daejeon, est√° na segunda linha do ranking nacional na Cor√©ia do Sul.  A universidade √© constantemente inclu√≠da em 5% das principais institui√ß√µes de ensino da Cor√©ia do Sul. </p><br><p>  Usamos os endere√ßos IP especificados como argumentos de entrada para o m√≥dulo escrito ‚ÄúExplore: NFS (SSH)‚Äù e, como resultado: </p><br><p><img src="https://habrastorage.org/webt/u2/dm/ur/u2dmurykafqs9yqdor1s06hg0wc.png"></p><br><p>  Elaborei rapidamente esse esquema para exibir os resultados de uma tabela em um gr√°fico (sobre esquemas e princ√≠pios para a constru√ß√£o de gr√°ficos posteriormente neste artigo). </p><br><p><img src="https://habrastorage.org/webt/ev/v4/44/evv444hbsakygnttrnhxuinlmq0.png"></p><br><p>  O resultado da combina√ß√£o com um esquema Shodan </p><br><p><img src="https://habrastorage.org/webt/ys/pk/ij/yspkijyrvwhazpwjrzvfr5daabs.png"></p><br><p>  Ao analisar os v√©rtices e os relacionamentos do gr√°fico, torna-se √≥bvio em que endere√ßos o recurso / home est√° dispon√≠vel, acess√≠vel a todos (*). </p><br><p>  Para uma melhor percep√ß√£o visual, altere as propriedades dos objetos gr√°ficos e outras configura√ß√µes do diagrama: </p><br><p><img src="https://habrastorage.org/webt/nl/j5/9z/nlj59zv9p321nvnavqgin6krc1q.png"></p><br><p>  Obviamente, revezei-me na montagem de parte dos recursos em um dos meus servidores e comecei a estudar.  Ele ficou praticamente o mesmo em todos os lugares - diret√≥rios de usu√°rios: asm, hoo, hyshin, jay, jiwon, jkhee110, jokangjin, kmh603, ksm782, lee, linus, lost + found, marvel_guest, pie, qwe, scloud, seokmin, sgim, thrlek, yoosj, ysha, z√≠nia </p><br><p>  Quase todos os diret√≥rios com arquivos foram lidos e gravados.  Alguns usu√°rios no .ssh tinham arquivos_chave autorizados com acesso de grava√ß√£o a eles. </p><br><p>  Gerei minha chave, copiei-a para as chaves autorizadas de um dos usu√°rios e conectei-me ao servidor via ssh na porta 2222, recebi o n√∫mero da porta dos dados da Shodan. </p><br><p>  <em>Usu√°rios, configura√ß√µes de rede:</em> </p><br><p><img src="https://habrastorage.org/webt/i4/gr/i5/i4gri5enls82hjdxe6hwtq-xqpq.png"></p><br><p>  <em>Hosts na rede:</em> </p><br><p><img src="https://habrastorage.org/webt/bz/sg/y3/bzsgy3oti0hescz1uxmcud7krpa.png"></p><br><p>  <em>O arquivo / etc / exporta√ß√µes e unidades:</em> </p><br><p><img src="https://habrastorage.org/webt/1v/sk/7e/1vsk7eluqu93suzw5gxo65kbzg8.png"></p><br><p>  <em>Arquivo / etc / fstab e SO:</em> </p><br><p><img src="https://habrastorage.org/webt/uh/iv/cp/uhivcpdgcfzx1pezrbi_aguvgz4.png"></p><br><p>  Acredito que essa seja uma rede de algum departamento para estudantes ou estudantes de p√≥s-gradua√ß√£o, e eles realizam algum tipo de c√°lculo nos servidores, porque existem muitas fontes Python diferentes, algo relacionado √† distribui√ß√£o da GPU e da Anaconda e assim por diante.  Eu n√£o estudei tudo e comecei a pensar no que fazer com tudo isso, √© claro, eu poderia "andar" na maioria dos n√≥s <em>(talvez eu pudesse pensar em algo mais ex√≥tico)</em> , mas isso n√£o me causou muito interesse.  E pensei no seguinte: como o instituto √© cient√≠fico e avan√ßado, deve haver √°reas de seguran√ßa da informa√ß√£o.  De fato, mesmo um laborat√≥rio inteiro: o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="softsec.kaist.ac.kr">Software Security Lab</a> e seu chefe, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sang Kil Cha</a> <br>  Decidi escrever uma carta para ele, e √© o que dizem, permitir que todos na Internet conectem recursos NFS com permiss√µes de leitura e grava√ß√£o √© muito perigoso, aparentemente voc√™ precisa consertar algo, anexar capturas de tela e enviar. </p><br><div class="spoiler">  <b class="spoiler_title">Carta 1</b> <div class="spoiler_text"><blockquote>  <strong><em>Dear Sang Kil Cha,</em></strong> <strong><em><br></em></strong>  <strong><em>Estou escrevendo para voc√™, pois no site kaist.ac.kr voc√™ √© referido como o principal SoftSec Lab da KAIST, e acredito que o seguinte assunto √© da sua preocupa√ß√£o.</em></strong> <strong><em><br></em></strong>  <strong><em>Durante nossa pesquisa no campo da seguran√ßa da informa√ß√£o, sem querer e por acaso, os seguintes servidores foram detectados:</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.131 - psi.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.4 - jarvis3.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.169</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.223</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.235</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.251 - marvel.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.239 - jarvis.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.194 - hulk.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.2.23</em></strong> <strong><em><br></em></strong>  <strong><em>Todos esses servidores t√™m o servi√ßo NFS (Network File System) em funcionamento.</em></strong> <strong><em><br></em></strong>  <strong><em>O n√≠vel de seguran√ßa do acesso a esses servidores √© incrivelmente baixo.</em></strong> <strong><em><br></em></strong>  <strong><em>Os diret√≥rios pessoais desses servidores com todo o seu conte√∫do podem ser acessados ‚Äã‚Äãpor qualquer pessoa que utilize a Internet.</em></strong> <strong><em><br></em></strong>  <strong><em>Por exemplo, configura√ß√µes nfs - / etc / export 143.248.247.251 -&gt; / home <em>ou para 143.248.247.239</em></em></strong> <strong><em><em><br></em></em></strong>  <strong><em><em>showmount -e 143.248.247.239</em></em></strong> <strong><em><em><br></em></em></strong>  <strong><em><em>Lista de exporta√ß√£o para 143.248.247.239:</em></em></strong> <strong><em><em><br></em></em></strong>  <strong><em><em>/ data</em></em></strong> <strong><em><br></em></strong>  <strong><em>/ home <em>/ appl</em></em></strong> <strong><em><br></em></strong>  <strong><em>Os diret√≥rios de usu√°rios da maioria dos servidores s√£o acess√≠veis para leitura e grava√ß√£o, incluindo seus subdiret√≥rios, que cont√™m chaves de acesso ssh p√∫blicas e privadas.</em></strong> <strong><em><br></em></strong>  <strong><em>A edi√ß√£o de arquivos permite adicionar novas chaves de acesso e obter acesso ssh remoto aos servidores e - a algumas sub-redes KAIST internas.</em></strong> <strong><em><br></em></strong>  <strong><em>Somente para testar esse acesso superficial foi obtido, nenhuma modifica√ß√£o foi feita, nenhum dado foi editado, copiado ou exclu√≠do, nenhum dano foi causado √† infraestrutura.</em></strong> <strong><em><br></em></strong>  <strong><em>Por favor, veja os arquivos anexados para algum tipo de reconhecimento e prova.</em></strong> <strong><em><br></em></strong>  <strong><em>N√£o tenho requisitos ou reivindica√ß√µes, mas recomendo melhorar significativamente o n√≠vel de seguran√ßa da sua rede.</em></strong> </blockquote></div></div><br><p>  Logo eles me responderam, tradu√ß√£o gratuita: obrigado, encaminharemos para qualquer um. </p><br><div class="spoiler">  <b class="spoiler_title">Resposta 1</b> <div class="spoiler_text"><blockquote>  <strong><em>Obrigado por me avisar!</em></strong>  <strong><em>Encaminharemos este e-mail para algu√©m respons√°vel por nossa rede e seguran√ßa.</em></strong>  <strong><em>Best, Sang Kil</em></strong> </blockquote></div></div><br><p>  Antes de publicar este artigo, decidi verificar, ver o que mudou: </p><br><p><img src="https://habrastorage.org/webt/ia/w5/tv/iaw5tvajx2s5sw8l5rmed42cs2m.png"></p><br><p>  De fato, o acesso aos recursos era permitido apenas a partir de m√°quinas na rede interna, mas e o servidor 143.248.247.251?  De acordo com as entradas na tabela, os recursos do host nas configura√ß√µes do NFS permanecem *.  Esbocei outra vers√£o do "mapeamento" da tabela em um gr√°fico: </p><br><p><img src="https://habrastorage.org/webt/p0/fy/xu/p0fyxuck0k1mza0y-ebciyk9tik.png"></p><br><p>  Quais s√£o as altera√ß√µes no "mapeamento": os objetos NFS agora "se unem" com 2 atributos id√™nticos - caminho IP e NFS.  O objeto Status √© criado apenas quando o atributo value, que cont√©m o conte√∫do da coluna de registro bruto, cont√©m o valor " <strong>*</strong> " <br>  E o gr√°fico na tabela aparece em um novo formul√°rio: </p><br><p><img src="https://habrastorage.org/webt/zb/ht/k0/zbhtk0swvgaxzkogph-tlqn88_g.png"></p><br><p>  Agora, a prop√≥sito, o endere√ßamento da rede interna tornou-se claramente vis√≠vel e, no servidor 143.248.247.251, tamb√©m √© poss√≠vel editar o conte√∫do dos diret√≥rios do usu√°rio, arquivos;  em princ√≠pio, as possibilidades permaneciam as mesmas de antes. </p><br><p>  Ent√£o, estou escrevendo uma segunda carta ao Sr. Sang Kil Cha, com um primeiro conte√∫do semelhante, observando que alguns dos eventos ser√£o apresentados em um artigo sobre o popular recurso habr.com: </p><br><div class="spoiler">  <b class="spoiler_title">Carta 2</b> <div class="spoiler_text"><blockquote>  <strong><em>Caro Sang Kil Cha, bom dia para voc√™.</em></strong> <strong><em><br></em></strong>  <strong><em>Decidi dar uma olhada se algo mudasse depois do meu e-mail para voc√™ e, de fato, as configura√ß√µes de acesso foram alteradas.</em></strong>  <strong><em>Mas, aparentemente, os engenheiros de seguran√ßa deixaram de fora o endere√ßo IP 143.248.247.251 e suas configura√ß√µes permaneceram as mesmas.</em></strong>  <strong><em>Por favor, proteja este ip tamb√©m para que nenhum estranho possa acess√°-lo.</em></strong> <strong><em><br></em></strong>  <strong><em>Estou escrevendo um artigo sobre o assunto Seguran√ßa da informa√ß√£o e o publicarei em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://habr.com</a> .</em></strong>  <strong><em>Este √© um site muito popular na R√∫ssia.</em></strong>  <strong><em>O artigo incluir√° algumas passagens sobre a baixa qualidade das configura√ß√µes de acesso ao NFS com alguns exemplos do caso com seus servidores.</em></strong>  <strong><em>Vou enviar o link para o meu artigo quando ele for publicado.</em></strong> </blockquote></div></div><br><h2 id="kak-ispolzovat-api-lampyre-i-napisat-svoy-modul">  Como usar a API Lampyre e escrever seu m√≥dulo </h2><br><p>  O m√≥dulo precisar√° aceitar uma lista de endere√ßos IP ou uma lista de sub-redes na forma de 192.168.0 / 24 como entrada - nesse est√°gio, ser√° necess√°rio validar os dados de entrada sobre o envolvimento de cadeias nos endere√ßos IP independentemente do c√≥digo, no caso de uma sub-rede - converter para lista de IPs. </p><br><p>  A pr√≥xima etapa, atrav√©s da biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">paramiko</a> Python, ser√° acessada no servidor ssh pessoal e seq√ºencial (h√° uma tentativa de assincronia no c√≥digo de conceito do m√≥dulo), o comando √© chamado: <br> <code>timeout {timeouts} showmount --no-headers -e {ip}</code> <br>  A sa√≠da do resultado ser√° analisada atrav√©s do c√≥digo Python na estrutura de sa√≠da, tabela: uma lista de dicion√°rios em Python. <br>  Chaves no dicion√°rio: </p><br><ul><li>  current_day - data da solicita√ß√£o do usu√°rio </li><li>  host_query - IP para o qual as informa√ß√µes s√£o recebidas </li><li>  shared_path - recurso NFS </li><li>  status_ip - informa√ß√µes sobre o acesso ao recurso, se os endere√ßos IP estiverem listados atrav√©s de ",", a sequ√™ncia de caracteres do dicion√°rio ser√° duplicada na lista. </li></ul><br><p>  Al√©m disso, de acordo com o conceito do conceito, √© feita uma tentativa primitiva de analisar o valor da chave status_ip no assunto: endere√ßo IP, registro do host, os valores "*" ou "todos" </p><br><p>  De acordo com a documenta√ß√£o da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">API</a> e explica√ß√µes do suporte Lampyre.io - cada m√≥dulo deve retornar dados para a tabela, um ou mais, mas a tabela deve ser descrita como parte da API (cabe√ßalhos de tarefas, cabe√ßalho da tabela).  De fato, este √© o principal resultado do m√≥dulo. <br>  Assim, o resultado final, considerando as chaves do dicion√°rio, ser√° uma tabela: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NFSHeader</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(metaclass=Header)</span></span></span><span class="hljs-class">:</span></span> display_name = <span class="hljs-string"><span class="hljs-string">'Search data from NFS services'</span></span> current_day = Field(<span class="hljs-string"><span class="hljs-string">'Date'</span></span>, ValueType.Datetime) host_query = Field(<span class="hljs-string"><span class="hljs-string">'Search ip'</span></span>, ValueType.String) shared_path = Field(<span class="hljs-string"><span class="hljs-string">'NFS path'</span></span>, ValueType.String) ip = Field(<span class="hljs-string"><span class="hljs-string">'ip address'</span></span>, ValueType.String) network = Field(<span class="hljs-string"><span class="hljs-string">'network address'</span></span>, ValueType.String) host = Field(<span class="hljs-string"><span class="hljs-string">'host'</span></span>, ValueType.String) status = Field(<span class="hljs-string"><span class="hljs-string">'raw record'</span></span>, ValueType.String)</code> </pre> <br><p>  Os valores (ligeiramente modificados) da an√°lise do resultado do comando showmount no servidor ser√£o gravados na tabela.  Os nomes dos campos da classe falam por si mesmos; na coluna de registro bruto, as informa√ß√µes sobre o acesso ao recurso ser√£o armazenadas.  De certa forma, essa an√°lise de dados sobre os recursos NFS tamb√©m pode ser considerada um OSINT. As informa√ß√µes sobre o poss√≠vel acesso de v√°rios endere√ßos IP d√£o uma id√©ia dos propriet√°rios do recurso ou do endere√ßamento na rede de recursos.  Por exemplo, o endere√ßo IP do servidor com NFS est√° localizado na Ucr√¢nia e o endere√ßo IP permitido para acesso est√° na Alemanha: </p><br><p><img src="https://habrastorage.org/webt/hp/mf/mr/hpmfmro1juiiepv15asjt1-wjuo.png"></p><br><p>  E se voc√™ expandir o estudo deste exemplo, imediatamente haver√° confirma√ß√£o da conex√£o dos servidores n√£o apenas atrav√©s do NFS, mas tamb√©m atrav√©s de um certificado nos endere√ßos: 77.120.103.9, 138.201.202.135 e o dom√≠nio * .aniart.com.ua: </p><br><p><img src="https://habrastorage.org/webt/1u/vv/cx/1uvvcxp71ezvhzbvjplr57agbtm.png"></p><br><p>  Como transferir dados para um m√≥dulo e gravar em uma tabela: <br>  Crie sua pr√≥pria classe SearchDataNFS a partir da classe Task: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchDataNFS</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Task)</span></span></span></span></code> </pre> <br><p>  No m√©todo <code>get_id</code> , retornamos um UUID aleat√≥rio exclusivo: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_id</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'bf51fd57-3fec-4416-9d07-905935a484b4'</span></span></code> </pre> <br><p>  No m√©todo <code>get_display_name</code> especifique como a Tarefa ser√° chamada e no m√©todo <code>get_description</code> , de acordo com o nome, a descri√ß√£o da Tarefa: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_display_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Explore: NFS(SSH)'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_description</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Explore NFS resourses'</span></span></code> </pre> <br><p>  No m√©todo <code>get_headers</code> especifique quais tabelas vamos usar: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_headers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NFSHeader</code> </pre> <br><p>  O m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">get_enter_params</a> determinar√° a apar√™ncia da janela de entrada.  A partir do c√≥digo, √© √≥bvio que uma lista de strings √© fornecida √† entrada, que posteriormente ser√° convertida em endere√ßos IP independentemente: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_enter_params</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> ep_coll = EnterParamCollection() ep_coll.add_enter_param(<span class="hljs-string"><span class="hljs-string">'ips'</span></span>, <span class="hljs-string"><span class="hljs-string">'IP'</span></span>, ValueType.String, is_array=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, value_sources=[Attributes.System.IPAddress], description=<span class="hljs-string"><span class="hljs-string">'IPs, networks'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ep_coll</code> </pre> <br><p>  No m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">execute</a> , a principal tarefa de execu√ß√£o ocorre: </p><br><pre> <code class="python hljs">ips = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> input_ip <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> set(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> z: z.strip(), enter_params.ips)): ips.extend(reparse_ip_hosts(input_ip))</code> </pre> <br><p>  Os par√¢metros de entrada s√£o acessados ‚Äã‚Äãvia enter_params.ips.  No m√©todo <code>reparse_ip_hosts</code> , <code>reparse_ip_hosts</code> uma valida√ß√£o auto-implementada de seq√º√™ncias de caracteres em endere√ßos IP. </p><br><pre> <code class="python hljs">targets = ((ip, port) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ip <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ips <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> port <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ports) lines = thread_async_nfs_one_client(targets) info = reparse_result_rows(lines) fields_table = NFSHeader.get_fields() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> data_id <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> info: tmp = NFSHeader.create_empty() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> field <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> fields_table: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> field <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data_id: tmp[fields_table[field]] = data_id[field] result_writer.write_line(tmp, header_class=NFSHeader)</code> </pre> <br><p>  A fun√ß√£o <code>thread_async_nfs_one_client</code> conecta ao servidor com ssh (o endere√ßo IP, o nome de usu√°rio e a senha s√£o definidos por hardcode) e o showmount √© executado, conforme indicado anteriormente, o resultado √© analisado e depois modificado novamente na fun√ß√£o <code>reparse_result_rows</code> .  √â importante observar que info √© uma lista composta por dicion√°rios. Em cada dicion√°rio, as chaves s√£o nomeadas como campos da classe NFSHeader.  Ou seja, o dicion√°rio fica assim: </p><br><pre> <code class="python hljs">{ <span class="hljs-string"><span class="hljs-string">'current_day'</span></span>: datetime.datetime(<span class="hljs-number"><span class="hljs-number">2019</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>), <span class="hljs-string"><span class="hljs-string">'host_query'</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'shared_path'</span></span>: <span class="hljs-string"><span class="hljs-string">'/volume1/workspace'</span></span>, <span class="hljs-string"><span class="hljs-string">'ip'</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.10.10'</span></span>, <span class="hljs-string"><span class="hljs-string">'network'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'host'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'status'</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.10.10'</span></span> }</code> </pre> <br><p>  √â importante observar os tipos de dados no dicion√°rio, eles devem ser os mesmos que na descri√ß√£o da tabela. <br>  Ainda mais no loop, ocorre a itera√ß√£o nos elementos da lista e a grava√ß√£o atrav√©s do m√©todo API ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">result_writer.write_line</a> ) em uma tabela NFSHeader espec√≠fica. <br>  Para uma descri√ß√£o mais detalhada, voc√™ deve ler a documenta√ß√£o. <br>  Basicamente, o m√≥dulo est√° pronto para ser adicionado ao Lampyre. </p><br><h2 id="ispolzovanie-svoego-modulya-v-lampyre">  Usando seu m√≥dulo em Lampyre </h2><br><p>  Devido ao fato de o ssh ser usado e √† execu√ß√£o do comando showmount, √© claro, voc√™ deve ter acesso ao seu servidor via ssh.  Para meus testes, esse papel foi desempenhado pela m√°quina virtual no Virtualbox com o Ubuntu e o cliente NFS instalado. </p><br><p>  Para trabalhar com m√≥dulos nativos na m√°quina do usu√°rio, √© necess√°rio o Python 3.6, o caminho para o int√©rprete deve estar nas vari√°veis ‚Äã‚Äãdo sistema ou o caminho para ele deve ser especificado no <code>Lampyre\config\appSettings.config</code> .  Por padr√£o, a chave pythonPath √© comentada nas configura√ß√µes. </p><br><p>  O carregamento de um m√≥dulo no Lampyre √© realizado nas seguintes etapas: </p><br><ol><li>  Na janela Scripts, carregue o arquivo Lampyre \ user_tasks \ ontology.py (vem com o aplicativo) </li><li>  Na mesma janela, carregue seu m√≥dulo, neste caso, nfs_via_ssh.py.  Se algo der errado, o bot√£o <em>Detalhes</em> deve ajudar </li><li>  Ap√≥s o carregamento, na janela <em>Lista de solicita√ß√µes</em> , na guia <em>Tarefas</em> , a se√ß√£o <em>Tarefas locais</em> ser√° exibida (no c√≥digo do m√≥dulo, voc√™ poderia cham√°-lo de maneira diferente), com o nome <em>Explorar: NFS (SSH)</em> : <br><br><img src="https://habrastorage.org/webt/5j/q2/6w/5jq26wc0brfodioawferz1_mu-8.png"><br>  Janela Lista de solicita√ß√µes atualizada: <br><br><img src="https://habrastorage.org/webt/gv/gs/tb/gvgstbglshazcckwnl6wevpjlla.png"></li><li>  Os endere√ßos IP dos servidores com NFS, como eu disse anteriormente, s√£o melhor obtidos executando primeiro a consulta de <em>pesquisa Shodan</em> com os par√¢metros <em>Query: tcp 2049</em> (voc√™ pode simplesmente especificar <em>nfs</em> ).  O par√¢metro <em>Page ou range</em> , definido por padr√£o como 1, significa que 1 p√°gina de respostas do servi√ßo Shodan ser√° retornada. Em uma p√°gina, geralmente h√° 100 resultados (linhas). <br>  O resultado da execu√ß√£o de Shodan: <br><br><img src="https://habrastorage.org/webt/zb/ui/uw/zbuiuww94uf18wbzhh9pm2aomoe.png"></li><li>  Copie os endere√ßos IP da tabela ou do diagrama para a √°rea de transfer√™ncia e cole-os na janela do m√≥dulo IP Explore: NFS (SSH).  Execute e espere o resultado: <br><br><img src="https://habrastorage.org/webt/t8/2h/vz/t82hvzwegvfjmbjcfch662vx7nk.png"></li></ol><br><p>  Obviamente, voc√™ deve levar em considera√ß√£o a largura de banda de seus pr√≥prios servidores e os estrangeiros, e o tempo limite, que s√£o definidos rigidamente no c√≥digo do m√≥dulo. </p><br><p>  O resultado √© obtido na forma de uma tabela, mas voc√™ pode continuar e combinar o resultado da tabela com o gr√°fico dos resultados da execu√ß√£o da pesquisa Shodan.  Ser√° um pouco dif√≠cil de perceber a princ√≠pio. </p><br><h2 id="vizualizaciya-tablicy-s-rezultatom">  Visualiza√ß√£o da tabela com o resultado </h2><br><p>  Vamos come√ßar.  H√° uma tabela com um conjunto de colunas com valores da execu√ß√£o do m√≥dulo do usu√°rio.  Mas se voc√™ prestar aten√ß√£o ao bot√£o Esquema da janela Solicita√ß√µes, ele estar√° inativo.  Como o mapeamento da tabela para o gr√°fico n√£o est√° especificado, ele deve ser definido. </p><br><p>  <em><strong>Esquema 1 (n√£o √© o melhor)</strong></em> <br>  Com a tabela aberta a partir do resultado do m√≥dulo, no canto inferior direito, h√° um elemento de interface "Adicionar modelo de cria√ß√£o", clicando no qual a janela "Modelo de cria√ß√£o" √© exibida.  Neste, voc√™ pode especificar o mapeamento das linhas da tabela para objetos gr√°ficos, n√£o descreverei o processo detalhadamente no artigo, o link no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Tutorial Lampyre - An√°lise financeira">canal da plataforma</a> no Youtube mostra como fazer isso, no artigo vou me limitar a imagens do que deve acontecer: </p><br><p><img src="https://habrastorage.org/webt/qj/vd/ju/qjvdjurktmgvg17ymyrv_flbohu.png"></p><br><p>  Modelo para gr√°fico: </p><br><p><img src="https://habrastorage.org/webt/am/n_/od/amn_odxussgaxfxuw_yzwwyu5ee.png"></p><br><p>  √â importante observar que os objetos IP, Dom√≠nio est√£o em Lampyre e eu criei objetos NFS e Rede.     ,    ¬´¬ª  . ,      ,    ‚Äî     ¬´¬ª   ‚Äî ,  ‚Äî    - ,          . ,   NFS ‚Äì  2 , NFS path  Status,   ‚Äî NFS path.      ‚Äî     .   ¬´¬ª        ‚Äî    <em>Schema</em>  . <br>  : </p><br><p><img src="https://habrastorage.org/webt/vy/al/oj/vyaloj8xba0pbjl7iiobalahaqy.png"></p><br><p>      : </p><br><p><img src="https://habrastorage.org/webt/ix/3u/jr/ix3ujruec1bbtfbbbi3i6ru_3mu.png"></p><br><p>      ¬´¬ª               ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">i2 (IBM i2 Analyst's Notebook)</a> : </p><br><p><img src="https://habrastorage.org/webt/w7/sr/dn/w7srdn9y0ko8jwqi2viop0uj4l8.png"></p><br><p>      ¬´¬ª  ,     :   IP-   IP-  ,    ,    NFS  ,          IP.     (      ). </p><br><p> <em><strong> 2</strong></em> </p><br><p><img src="https://habrastorage.org/webt/iy/y7/wt/iyy7wtjyjeb4onmq0vcjjxb50gu.png"></p><br><p>  .      ‚Äî     ,    IP-    : </p><br><p><img src="https://habrastorage.org/webt/n5/zw/sb/n5zwsbgrorkn2-vucszn1hulsgk.png"></p><br><p>           ,         ,       (csv)  .   ,     ¬´¬ª      .    ¬´¬ª         ,         . </p><br><p>       Shodan  NFS    Shodan search,   add to active tab          ‚Äî  : </p><br><p><img src="https://habrastorage.org/webt/qq/e-/3p/qqe-3p5p8bdbogvruzlqs8pypze.png"></p><br><p>  : </p><br><p><img src="https://habrastorage.org/webt/8w/uj/az/8wujazcvenzdsalorp1nh5mfas8.png"></p><br><p>    Lampyre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,          ssh. </p><br><p>   ‚Äî ,      NFS   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt444382/">https://habr.com/ru/post/pt444382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt444370/index.html">Do que o formato Mini PCI-e √© capaz?</a></li>
<li><a href="../pt444372/index.html">Orienta√ß√£o √† m√°quina a longa dist√¢ncia usando aprendizado refor√ßado</a></li>
<li><a href="../pt444374/index.html">Efeito hipster: por que os n√£o-conformistas costumam ter a mesma apar√™ncia</a></li>
<li><a href="../pt444376/index.html">A economia da aten√ß√£o est√° quase morta</a></li>
<li><a href="../pt444378/index.html">USPACE - Espa√ßo √∫nico para aeronaves tripuladas e n√£o tripuladas</a></li>
<li><a href="../pt444384/index.html">Livro "An√°lise de dados de texto aplicada em Python"</a></li>
<li><a href="../pt444386/index.html">Miss√£o lunar "Bereshit" - a quarta manobra foi conclu√≠da com sucesso; os preparativos est√£o em andamento para entrar na √≥rbita lunar</a></li>
<li><a href="../pt444388/index.html">Modems lend√°rios do passado: os melhores titulares de conex√£o nas condi√ß√µes das trocas dom√©sticas</a></li>
<li><a href="../pt444390/index.html">Sistema DeviceLock 8.3 DLP: um ano se passou, Billy, mas voc√™ n√£o mudou nada</a></li>
<li><a href="../pt444392/index.html">Radia√ß√£o: riscos, seguran√ßa, prote√ß√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>