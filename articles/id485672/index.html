<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍⚖️ 👩🏽‍🤝‍👨🏿 👩🏼‍🏭 Redis Praktik Terbaik, Bagian 1 🚵 👰🏾 👨🏿‍🔧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam serangkaian beberapa artikel, saya akan menyajikan terjemahan adaptasi saya dari bagian Praktik Terbaik Redis dari situs web resmi Redis Labs. 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Redis Praktik Terbaik, Bagian 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485672/">  Dalam serangkaian beberapa artikel, saya akan menyajikan terjemahan adaptasi saya dari bagian <a href="https://redislabs.com/redis-best-practices/" rel="nofollow">Praktik Terbaik Redis</a> dari situs web resmi Redis Labs. <div style="text-align:center;"><img src="https://habrastorage.org/webt/hr/6y/f5/hr6yf5w1hp0fh-i5vfa0p1pxeuy.png"></div><a name="habracut"></a><br>  Redis dapat digunakan dalam banyak cara, namun, ada beberapa pola yang dapat digunakan untuk memecahkan masalah umum.  Kami telah mengumpulkan kumpulan pola umum yang kami anggap <i>praktik terbaik</i> untuk menyelesaikan masalah ini.  Koleksi ini tidak lengkap dan tampaknya bukan satu-satunya cara untuk menggunakan Redis, tetapi kami berharap ini akan berfungsi sebagai titik awal untuk menyelesaikan masalah menggunakan Redis. <br><br>  Kami membagi panduan ini ke praktik terbaik menjadi beberapa bab dan sub-bab sesuai kebutuhan (Catatan oleh penerjemah: beberapa sub-bab pendek, jadi saya akan menggabungkannya menjadi satu): <br><br><ul><li>  dalam bab "Pola Pengindeksan," kita akan melihat cara untuk melampaui akses nilai kunci yang biasa dengan Redis.  Ini termasuk cara untuk menggunakan pola utama secara cerdas menggunakan berbagai tipe data Redis untuk membantu tidak hanya menemukan data, tetapi juga mengurangi kompleksitas akses; </li><li> Bab Pola Interaksi berfokus pada pola Redis yang memindahkan data melintasi infrastruktur.  Dalam hal ini, Redis tidak bertindak sebagai repositori, tetapi lebih sebagai panduan untuk data; </li><li>  bab "Pola Penyimpanan Data" menjelaskan metode untuk menyimpan representasi data yang kompleks di Redis.  Kami akan menghitung skrip dokumen kompleks yang dapat digeneralisasi menjadi cara yang sederhana dan kompleks; </li><li>  pola mengenai data yang disimpan sementara dijelaskan dalam bab "Pola Rangkaian Waktu"; </li><li>  batas kecepatan sering digunakan dalam Redis.  Dalam bab "Pola dasar pembatasan kecepatan" kita akan beralih ke dasar-dasar kasus penggunaannya; </li><li>  Filter Bloom telah lama dilihat dalam Redis, dan dalam bab "Pola dengan Filter Bloom" kita melihat struktur data probabilistik dan bagaimana mereka berbeda dari analog yang luar biasa; </li><li>  konter adalah penerimaan yang sangat dalam.  Dalam bab terpisah, kami mengeksplorasi cara menghitung aktivitas dan elemen unik dengan cara komputasi yang efisien; </li><li>  akhirnya, kita akan berbicara tentang bagaimana memanfaatkan Lua untuk membuat Redis berbuat lebih banyak dengan lebih sedikit. </li></ul><br>  Panduan ini tidak konsisten, jadi Anda bisa memulainya dengan bab apa saja.  Anda juga dapat menggunakan navigasi di awal setiap posting untuk menemukan sesuatu yang cocok. <br><br><h2>  Pola pengindeksan </h2><br>  Secara konseptual, Redis adalah basis data yang didasarkan pada paradigma kunci / nilai, ketika setiap bagian data dikaitkan dengan kunci tertentu.  Jika Anda ingin mendapatkan data untuk sesuatu selain kunci, Anda perlu menerapkan indeks yang menggunakan salah satu dari banyak tipe data yang tersedia di Redis. <br><br>  Pengindeksan di Redis sangat berbeda dari apa yang disajikan dalam database lain, jadi skenario dan data penggunaan Anda sendiri akan menentukan strategi pengindeksan terbaik.  Dalam bab ini, kita akan melihat beberapa strategi pengambilan data umum selain pengambilan kunci / nilai sederhana: <br><br><ul><li>  set diurutkan sebagai indeks; </li><li>  indeks leksikografis; </li><li>  indeks geospasial; </li><li>  Geolokasi IP </li><li>  pencarian teks lengkap; </li><li>  indeks terpartisi. </li></ul><br><h3>  Set yang diurutkan sebagai indeks </h3><br>  Kumpulan yang disortir (ZSET) adalah tipe data standar dalam Redis yang mewakili banyak objek unik (pengulangan tidak disimpan), di mana setiap objek ditugaskan ke nomor (disebut "hitungan"), yang bertindak sebagai mekanisme penyortiran alami.  Dan meskipun objek tidak dapat diulang, beberapa objek dapat memiliki jumlah yang sama.  Dengan kompleksitas waktu yang relatif rendah untuk menambah, menghapus, dan mendapatkan rentang nilai (berdasarkan peringkat atau jumlah), set yang diurutkan cukup cocok untuk dijadikan indeks.  Sebagai contoh, ambillah negara-negara di dunia, yang diperingkat berdasarkan populasi: <br><br><pre><code class="plaintext hljs">&gt; ZADD countries-by-pop 1409517397 china &gt; ZADD countries-by-pop 146573899 russia &gt; ZADD countries-by-pop 81456724 germany &gt; ZADD countries-by-pop 333016381 usa &gt; ZADD countries-by-pop 1 mars &gt; ZADD countries-by-pop 37290812 afghanistan &gt; ZADD countries-by-pop 1388350202 india</code> </pre> <br>  Mendapatkan 5 negara teratas akan mudah: <br><br><pre> <code class="plaintext hljs">&gt; ZRANGE countries-by-pop 0 4 1) "mars" 2) "afghanistan" 3) "germany" 4) "russia" 5) "india"</code> </pre> <br>  Dan membuat negara-negara dengan populasi antara 10.000.000 dan 1.000.000: <br><br><pre> <code class="plaintext hljs">&gt; ZRANGEBYSCORE countries-by-pop 10000000 1000000000 1) "afghanistan" 2) "germany" 3) "russia"</code> </pre> <br>  Anda dapat membuat beberapa indeks untuk menunjukkan berbagai cara penyortiran data.  Dalam contoh kita, kita dapat menggunakan objek yang sama, tetapi alih-alih jumlah orang, ambil kepadatan populasi, ukuran geografis, jumlah pengguna Internet, dll.  Ini akan membuat indeks kinerja tinggi untuk berbagai aspek.  Selain itu, dengan membagi nama objek dengan data tentangnya disimpan baik di Redis (di Hash, misalnya) atau di penyimpanan data lain, proses sekunder dapat memperoleh informasi tambahan tentang setiap elemen yang diperlukan. <br><br><h3>  Indeks leksikografis </h3><br>  Kumpulan yang disortir (ZSET) dengan pemeringkatan berdasarkan hitungan memiliki satu properti menarik yang dapat digunakan untuk membuat mekanisme penyortiran alfabet kasar.  Properti adalah bahwa objek dengan skor yang sama dapat dikembalikan dalam urutan leksikografis dan dengan nilai batas.  Ambil data berikut: <br><br><pre> <code class="plaintext hljs">&gt; ZADD animal-list 0 bison 0 boa 0 dog 0 emu 0 falcon 0 alligator 0 chipmunk</code> </pre> <br>  Perintah ini akan menambahkan beberapa hewan ke kunci daftar hewan.  Setiap objek memiliki skor 0. Setelah menjalankan perintah ZRANGE dengan argumen 0 dan -1, kita melihat urutan yang aneh: <br><br><pre> <code class="plaintext hljs">&gt; ZRANGE animal-list 0 -1 1) "alligator" 2) "bison" 3) "boa" 4) "chipmunk" 5) "dog" 6) "emu" 7) "falcon"</code> </pre> <br>  Meskipun elemen tidak ditambahkan secara alfabetis, mereka dikembalikan diurutkan berdasarkan abjad.  Urutan ini adalah hasil dari perbandingan string biner, byte-by-bit.  Ini berarti bahwa karakter ASCII akan dikembalikan dalam urutan abjad.  Ini menyarankan hal-hal berikut: <br><br><ul><li>  karakter dalam huruf kecil dan huruf besar tidak akan dikenali sebagai sama; </li><li>  karakter multibyte tidak akan diurutkan seperti yang diharapkan. </li></ul><br>  Redis juga menyediakan beberapa fitur canggih untuk mempersempit pencarian leksikografis.  Misalnya, kami ingin mengembalikan hewan yang dimulai dengan <i>b</i> dan diakhiri dengan <i>e</i> .  Kita dapat menggunakan perintah berikut: <br><br><pre> <code class="plaintext hljs">&gt; ZRANGEBYLEX animal-list [b (f 1) "bison" 2) "boa" 3) "chipmunk" 4) "dog" 5) "emu"</code> </pre> <br>  Argumen <i>(f</i> bisa sedikit membingungkan. Ini adalah poin penting, karena Redis tidak tahu tentang pemahaman literal huruf-huruf alfabet. Ini berarti bahwa kita harus memperhitungkan bahwa segala sesuatu yang dimulai dengan <i>e</i> akan selalu berdiri sebelum segala sesuatu dimulai dengan <i>f</i> , terlepas dari huruf-huruf berikutnya. Catatan lain adalah bahwa kurung siku menunjukkan pencarian dengan penyertaan, dan kurung bundar menunjukkan pencarian tanpa penyertaan. Dalam kasus kami, jika kami kueri dengan <i>b</i> , ini akan dimasukkan dalam daftar, sementara <i>f</i> tidak akan muncul dalam pemilihan. Jika Anda perlu semua elemen sampai akhir, gunakan  dikodekan simbol terakhir (255 atau 0xFF): <br><br><pre> <code class="plaintext hljs">&gt; ZRANGEBYLEX animal-list [c "[\xff" 1) "chipmunk" 2) "dog" 3) "emu" 4) "falcon"</code> </pre> <br>  Perintah ini juga dapat dibatasi, sehingga memastikan pagination: <br><br><pre> <code class="plaintext hljs">&gt; ZRANGEBYLEX animal-list [b (f LIMIT 0 2 1) "bison" 2) "boa" &gt; ZRANGEBYLEX animal-list [b (f LIMIT 2 2 1) "chipmunk" 2) "dog"</code> </pre> <br>  Satu-satunya jebakan adalah bahwa kompleksitas waktu akan meningkat ketika indentasi meningkat (argumen pertama setelah LIMIT).  Oleh karena itu, jika Anda memiliki 1 juta objek dan Anda mencoba untuk mendapatkan dua yang terakhir, ini akan membutuhkan perayapan hanya satu juta. <br><br><h3>  Indeks Geospasial </h3><br>  Redis memiliki beberapa tim pengindeksan geospasial (tim GEO), tetapi tidak seperti tim lain, tim ini tidak memiliki tipe data sendiri.  Perintah-perintah ini sebenarnya melengkapi jenis set yang diurutkan.  Ini dicapai dengan menyandikan lintang dan bujur ke dalam skor set yang diurutkan menggunakan algoritma geohash. <br>  Menambahkan elemen ke geo-indeks itu mudah.  Misalkan Anda melacak sekelompok mobil yang berkendara di sepanjang jalan.  Kami menyebut set mobil ini hanya "mobil".  Katakanlah mesin khusus Anda dapat diidentifikasi sebagai objek "mobil saya" (kami menggunakan istilah "objek" karena geo-indeks hanyalah bentuk set).  Untuk menambahkan mesin ke set, kita dapat menjalankan perintah: <br><br><pre> <code class="plaintext hljs">&gt; GEOADD cars -115.17087 36.12306 my-car</code> </pre> <br>  Argumen pertama adalah set yang kita tambahkan, yang kedua adalah garis lintang, yang ketiga adalah garis bujur, dan yang keempat adalah nama objek. <br><br>  Untuk memperbarui lokasi mesin, Anda hanya perlu menjalankan perintah lagi dengan koordinat baru.  Ini berfungsi karena geo-indeks hanyalah set di mana elemen duplikat tidak diperbolehkan. <br><br><pre> <code class="plaintext hljs">&gt; GEOADD cars -115.17172 36.12196 my-car</code> </pre> <br>  Tambahkan mobil kedua ke "mobil".  Kali ini Volodya membimbingnya: <br><br><pre> <code class="plaintext hljs">&gt; GEOADD cars -115.171971 36.120609 volodias-car</code> </pre> <br>  Melihat koordinat, Anda dapat mengatakan bahwa mobil-mobil ini cukup dekat satu sama lain, tetapi berapa banyak?  Anda dapat mendefinisikan ini dengan perintah GEODIST: <br><br><pre> <code class="plaintext hljs">&gt; GEODIST cars my-car volodias-car "151.9653"</code> </pre> <br>  Ini berarti bahwa dua kendaraan berjarak sekitar 151 meter.  Anda juga dapat menghitung di unit lain: <br><br><pre> <code class="plaintext hljs">&gt; GEODIST cars my-car robins-car ft "498.5737"</code> </pre> <br>  Ini mengembalikan jarak yang sama dalam beberapa langkah.  Anda juga dapat menggunakan mil (ml) atau kilometer (km). <br><br>  Sekarang mari kita lihat siapa yang berada dalam radius titik tertentu: <br><br><pre> <code class="plaintext hljs">&gt; GEORADIUS cars -115.17258 36.11996 100 m 1) "volodias-car"</code> </pre> <br>  Ini mengembalikan semua orang dalam radius 100 meter di sekitar titik yang ditentukan.  Anda juga dapat meminta semua orang dalam radius objek apa pun dari set: <br><br><pre> <code class="plaintext hljs">&gt; GEORADIUSBYMEMBER cars volodias-car 152 m 1) "volodias-car" 2) "my-car"</code> </pre> <br>  Kami juga dapat mengaktifkan jarak dengan menambahkan argumen WITHDIST opsional (ini berfungsi untuk GEORADIUS atau GEORADIUSBYMEMBER): <br><br><pre> <code class="plaintext hljs">&gt; GEORADIUSBYMEMBER cars volodias-car 152 m WITHDIST 1) 1) "volodias-car" 2) "0.0000" 2) 1) "my-car" 2) "151.9653"</code> </pre> <br>  Argumen opsional lain untuk GEORADIUS dan GEORADIUSBYMEMBER adalah WITHCOORD, yang mengembalikan koordinat setiap objek.  WITHDIST dan WITHCOORD dapat digunakan bersama atau secara terpisah: <br><br><pre> <code class="plaintext hljs">&gt; GEORADIUSBYMEMBER cars volodias-car 152 m WITHDIST WITHCOORD 1) 1) "volodias-car" 2) "0.0000" 3) 1) "-115.17197102308273315" 2) "36.12060917648089031" 2) 1) "my-car" 2) "151.9653" 3) 1) "-115.17171889543533325" 2) "36.12196018285882104"</code> </pre> <br>  Karena indeks geospasial hanyalah alternatif untuk set yang disortir, beberapa operator yang terakhir dapat digunakan.  Jika kita ingin menghapus "mobil saya" dari set "mobil", kita dapat menggunakan perintah dari set ZREM yang diurutkan: <br><br><pre> <code class="plaintext hljs">&gt; ZREM cars my-car</code> </pre> <br>  Redis menyediakan seperangkat alat yang kaya untuk bekerja dengan geospasial, dan dalam bagian ini kami hanya memeriksa yang dasar. <br><br><h3>  Geolokasi IP </h3><br>  Menemukan lokasi sebenarnya dari layanan yang terhubung dapat sangat berguna.  Tabel geolokasi IP biasanya cukup besar dan sulit dikelola secara efektif.  Kita dapat menggunakan set diurutkan untuk mengimplementasikan layanan geolokasi IP cepat dan efisien. <br><br>  IPv4 paling sering dirujuk dalam notasi desimal (74.125.43.99, misalnya).  Namun, layanan jaringan melihat alamat yang sama ini sebagai nomor 32-bit, dengan setiap byte mewakili satu dari empat angka dalam bentuk desimal.  Contoh di atas adalah 0x4A7D2B63 dalam heksadesimal atau 1249717091 dalam desimal. <br><br>  Dataset geolokasi IP tersedia secara luas dan biasanya berbentuk tabel sederhana dengan tiga kolom (mulai, akhir, lokasi).  Awal dan akhir adalah representasi desimal dari IPv4.  Di Redis, kita dapat mengadaptasi set yang diurutkan ke format ini, karena tidak ada "lubang" dalam rentang IP, oleh karena itu, kita dapat dengan aman berasumsi bahwa akhir dari satu rentang adalah awal dari yang lain. <br><br>  Untuk contoh sederhana, tambahkan beberapa rentang ke set diurutkan: <br><br><pre> <code class="plaintext hljs">&gt; ZADD ip-loc 1249716479 us:1 &gt; ZADD ip-loc 1249716735 taiwan:1 &gt; ZADD ip-loc 1249717759 us:2 &gt; ZADD ip-loc 1249718015 finland:1</code> </pre> <br>  Argumen pertama adalah kunci dari himpunan kami, yang kedua adalah representasi desimal dari akhir rentang IP, dan yang terakhir adalah objek itu sendiri.  Perhatikan bahwa objek yang ditetapkan memiliki angka setelah titik dua.  Ini hanya untuk memudahkan contoh.  Tabel IP asli memiliki pengidentifikasi unik untuk setiap rentang (dan informasi tambahan lebih dari sekadar nama negara). <br><br>  Untuk kueri tabel untuk alamat IP yang diberikan, kita bisa menggunakan perintah ZRANGEBYSCORE dengan beberapa argumen tambahan.  Ambil alamat IP dan ubah menjadi desimal.  Ini dapat dilakukan dengan menggunakan bahasa pemrograman Anda.  Pertama, gunakan alamat dari contoh aslinya 74.125.43.99 (1249717091).  Jika kita mengambil nomor ini sebagai titik referensi dan tidak menentukan maksimum, dan kemudian membatasi hasilnya hanya untuk objek pertama, kita akan menemukan geolokasi-nya: <br><br><pre> <code class="plaintext hljs">&gt; ZRANGEBYSCORE ip-loc 1249717091 +inf LIMIT 0 1 1) "us:2"</code> </pre> <br>  Argumen pertama adalah kunci dari set kami yang diurutkan, yang kedua adalah representasi desimal dari alamat IP, yang ketiga (+ inf) memberitahu Redis untuk meminta tanpa batas atas, dan tiga argumen terakhir hanya menunjukkan bahwa kami hanya ingin mendapatkan hasil yang pertama. <br><br><h3>  Pencarian Teks Lengkap </h3><br>  Sebelum munculnya modul, pencarian teks lengkap dilaksanakan menggunakan perintah asli Redis.  Modul RedisSearch jauh lebih produktif daripada pola ini, namun, di beberapa lingkungan tidak tersedia.  Selain itu, pola ini sangat menarik dan dapat digeneralisasi ke beban kerja lain di mana RedisSearch tidak akan ideal. <br>  Misalkan kita memiliki beberapa dokumen teks yang perlu dicari.  Ini mungkin bukan kasus penggunaan yang jelas untuk Redis, karena menyediakan akses utama, tetapi di sisi lain, Redis dapat digunakan sebagai mesin pencari teks lengkap yang benar-benar baru. <br><br>  Pertama, mari kita ambil beberapa sampel teks dalam dokumen: <br><br>  <i>"Redis sangat cepat"</i> <br>  <i>"Cheetah cepat"</i> <br>  <i>“Cheetah punya bintik-bintik”</i> <br><br>  Kami membaginya menjadi set kata, dipisahkan oleh ruang untuk kesederhanaan: <br><br><pre> <code class="plaintext hljs">&gt; SADD ex1 redis is very fast &gt; SADD ex2 cheetahs are very fast &gt; SADD ex3 cheetahs have spots</code> </pre> <br>  Perhatikan bahwa kami menempatkan setiap baris di set sendiri.  Tampaknya kita hanya menambahkan seluruh baris - SADD adalah variabel dan mengambil beberapa elemen sekaligus sebagai argumen.  Kami juga mengonversi semua kata menjadi huruf kecil. <br>  Maka kita perlu membalikkan indeks ini dan menunjukkan kata mana yang terkandung dalam dokumen mana.  Untuk melakukan ini, kita akan membuat satu set untuk setiap kata dan meletakkan nama dokumen sebagai objek: <br><br><pre> <code class="plaintext hljs">&gt; SADD redis ex1 &gt; SADD is ex1 &gt; SADD very ex1 ex2 &gt; SADD fast ex1 ex2 &gt; SADD cheetahs ex2 ex3 &gt; SADD have ex3 &gt; SADD spots ex3</code> </pre> <br>  Untuk kejelasan, kami membagi ini menjadi perintah yang berbeda, tetapi semua perintah biasanya dijalankan secara atom di blok MULTI / EXEC. <br><br>  Untuk menanyakan indeks teks lengkap kecil kami, kami menggunakan perintah SINTER (persimpangan set).  Temukan dokumen dengan "sangat" dan "cepat": <br><br><pre> <code class="plaintext hljs">&gt; SINTER very fast 1) "ex2" 2) "ex1"</code> </pre> <br>  Jika tidak ada dokumen yang cocok dengan permintaan, kami akan mendapatkan hasil kosong: <br><br><pre> <code class="plaintext hljs">&gt; SINTER cheetahs redis (empty list or set)</code> </pre> <br>  Untuk konsistensi, lebih baik menggunakan SUNION daripada SINTER: <br><br><pre> <code class="plaintext hljs">&gt; SUNION cheetahs redis 1) "ex2" 2) "ex1" 3) "ex3"</code> </pre> <br>  Menghapus objek dari indeks sedikit lebih rumit.  Pertama, dapatkan kata yang diindeks dari dokumen, lalu hapus pengidentifikasi dokumen dari setiap kata: <br><br><pre> <code class="plaintext hljs">&gt; SMEMBERS ex3 1) "spots" 2) "have" 3) "cheetahs" &gt; SREM have ex3 &gt; SREM cheetahs ex3 &gt; SREM spots ex3</code> </pre> <br>  Redis tidak memiliki operator terpisah untuk melakukan semua langkah ini dengan satu perintah, jadi pertama-tama Anda harus melakukan kueri dengan perintah SMEMBERS, lalu hapus setiap objek secara berurutan menggunakan SREM. <br><br>  Tentu saja, ini adalah pencarian teks lengkap yang sangat disederhanakan.  Anda dapat melakukan lebih lanjut dengan menggunakan set yang disortir daripada yang biasa.  Dalam hal ini, jika sebuah kata muncul lebih dari satu kali dalam sebuah dokumen, Anda dapat memeringkatnya lebih tinggi dari pada dokumen yang muncul sekali.  Pola yang diuraikan di atas kurang lebih sama, dengan pengecualian pada jenis set yang digunakan. <br><br><h3>  Indeks yang Dipartisi </h3><br>  Satu instance (atau pecahan) Redis sangat memungkinkan, tetapi ada beberapa kondisi di mana Anda mungkin memerlukan indeks yang didistribusikan di beberapa instance.  Misalnya, untuk meningkatkan throughput dengan memparalelkan indeks yang lebih besar dari ruang kosong sebuah instance.  Katakanlah Anda ingin melakukan operasi pada beberapa tombol.  Cara efektif untuk memisahkan (mempartisi) kunci-kunci ini adalah untuk memastikan distribusi kunci yang merata di setiap partisi, melakukan operasi apa pun di setiap partisi secara paralel, dan kemudian menggabungkan hasilnya di akhir. <br><br>  Untuk mencapai distribusi kunci yang seragam, kami akan menggunakan algoritma hashing non-kriptografi.  Setiap fungsi hash cepat akan dilakukan, tetapi kami menggunakan CRC-32 yang terkenal sebagai contoh.  Dalam kebanyakan kasus, algoritma ini mengembalikan hasilnya dalam heksadesimal (untuk "dokumen-keren-ku" CRC-32 akan mengembalikan F9FDB2C9).  Representasi heksadesimal lebih sederhana untuk mesin, tetapi itu hanyalah representasi lain dari bilangan bulat desimal, yang berarti bahwa Anda dapat melakukan perhitungan pada nilai-nilai ini. <br>  Selanjutnya, Anda perlu menentukan jumlah partisi - ini harus setidaknya x2 dari jumlah salinan.  Ini selanjutnya berkontribusi pada penskalaan. <br><br>  Katakanlah kita memiliki 3 salinan dan 6 partisi.  Partisi tempat dokumen dikirim dapat dihitung dengan operasi berikut: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi><msub><mtext>&amp;#xA0;</mtext><mi>f</mi></msub><mi>u</mi><mi>n</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>e</mi><mi>r</mi><msub><mtext>&amp;#xA0;</mtext><mi>d</mi></msub><mi>o</mi><mi>c</mi><mi>u</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>o</mi><mi>d</mi><mi>n</mi><mi>u</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi><msub><mtext>&amp;#xA0;</mtext><mi>p</mi></msub><mi>a</mi><mi>r</mi><mi>t</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="60.941ex" height="2.78ex" viewBox="0 -832 26238.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-68" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-61" x="576" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-73" x="1106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-68" x="1575" y="0"></use><g transform="translate(2152,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-66" x="353" y="-219"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-75" x="2891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6E" x="3463" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-63" x="4064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-74" x="4497" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-69" x="4859" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6F" x="5204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6E" x="5690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMAIN-28" x="6290" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-69" x="6680" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-64" x="7025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-65" x="7549" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6E" x="8015" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-74" x="8616" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-69" x="8977" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-66" x="9323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-69" x="9873" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-65" x="10219" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-72" x="10685" y="0"></use><g transform="translate(11137,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-64" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6F" x="11857" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-63" x="12342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-75" x="12776" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6D" x="13348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-65" x="14227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6E" x="14693" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-74" x="15294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMAIN-29" x="15655" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6D" x="16295" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6F" x="17173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-64" x="17659" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6E" x="18182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-75" x="18783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6D" x="19355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-62" x="20234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-65" x="20663" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-72" x="21130" y="0"></use><g transform="translate(21581,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-70" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-61" x="22287" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-72" x="22817" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-74" x="23268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-69" x="23630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-74" x="23975" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-69" x="24337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6F" x="24682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-6E" x="25168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/485672/&amp;xid=17259,15700022,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhjy30ANgEgfnj_7z3Zx2xTp2qsqVQ#MJMATHI-73" x="25768" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi><msub><mtext>&nbsp;</mtext><mi>f</mi></msub><mi>u</mi><mi>n</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo stretchy="false">(</mo><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>e</mi><mi>r</mi><msub><mtext>&nbsp;</mtext><mi>d</mi></msub><mi>o</mi><mi>c</mi><mi>u</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>m</mi><mi>o</mi><mi>d</mi><mi>n</mi><mi>u</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi><msub><mtext>&nbsp;</mtext><mi>p</mi></msub><mi>a</mi><mi>r</mi><mi>t</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> hash \ _function (identifier \ _document) \ mod number \ _partitions </script></p><br><br><pre> <code class="plaintext hljs">CRC32(“my-cool-document”) = F9FDB2C9 (16)  4194153161 (10) 4194153161 mod 6 = 5</code> </pre> <br>  Di Redis Enterprise, Anda dapat mengontrol partisi milik kunci tersebut, menggunakan ekspresi reguler yang telah ditentukan sebelumnya, atau dengan membungkus bagian kunci dengan kurung kurawal.  Jadi untuk contoh kita, kita dapat mengatur kunci untuk dokumen sebagai berikut: <br><br>  <i>idx: my-cool-document {5}</i> <br><br>  Kemudian kami memiliki dokumen lain yang mengeluarkan partisi dengan nomor 3, oleh karena itu, kuncinya akan terlihat seperti ini: <br><br>  <i>idx: my-other-document {3}</i> <br><br>  Jika Anda memiliki kunci tambahan yang perlu Anda kerjakan dan yang terkait dengan dokumen ini, Anda harus berada di partisi yang sama sehingga Anda dapat melakukan operasi dengan kedua kunci secara bersamaan tanpa menemukan banyak kesalahan.  Untuk melakukan ini, Anda perlu menambahkan nomor partisi yang sama ke kunci sebagai dokumen. <br><br>  Melihat data Anda dari jarak jauh, Anda akan melihat bahwa indeks Anda didistribusikan secara merata di seluruh partisi.  Anda dapat memparalelkan tugas yang perlu dilakukan untuk setiap partisi.  Ketika Anda memiliki tugas yang perlu dilakukan melalui seluruh indeks, aplikasi Anda harus melakukan logika yang sama untuk setiap partisi, mengembalikan hasilnya dan menggabungkan seperti yang diperlukan dalam aplikasi. <br><br>  Tentang ini, artikel pertama berakhir.  Berikutnya akan menjadi terjemahan dari subpos "Pola Interaksi" dan "Pola Penyimpanan Data". </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id485672/">https://habr.com/ru/post/id485672/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id485650/index.html">Teknik Pengurangan Gambar Docker</a></li>
<li><a href="../id485652/index.html">Statistik komentar inline pertemuan</a></li>
<li><a href="../id485654/index.html">Sebuah ide yang diambil dari fisika membantu AI bekerja dalam dimensi yang lebih tinggi.</a></li>
<li><a href="../id485660/index.html">Perusahaan perlindungan DDoS sendiri meluncurkan serangan DDoS, diakui pendirinya</a></li>
<li><a href="../id485664/index.html">Membuat parameter dinamis dalam pekerjaan Jenkins, atau cara membuat tugas Anda lebih mudah digunakan</a></li>
<li><a href="../id485682/index.html">Manajemen waktu tidak akan membantu: penundaan adalah masalah mengatur emosi, bukan waktu</a></li>
<li><a href="../id485688/index.html">Myapp memperpanjang liburan</a></li>
<li><a href="../id485692/index.html">Saran spesialis TI kepada pelanggan, atau cara mengotomatisasi kekacauan</a></li>
<li><a href="../id485694/index.html">Embox pada prosesor Elbrus. Atau jangan pernah melupakan kecerdasan Anda</a></li>
<li><a href="../id485702/index.html">Pertemuan FunCorp iOS # 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>