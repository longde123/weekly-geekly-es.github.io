<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾 👁️ 👩🏼‍🤝‍👩🏻 您想要了解的有关MAC地址的所有信息 👵🏻 🤜🏻 🏌️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="每个人都知道这是六个字节（通常以十六进制格式显示），它们在出厂时已分配给网卡，乍一看，它们是随机的。 有人知道地址的前三个字节是制造商的标识符，其余的三个字节分配给它们。 还众所周知，您可以为自己设置一个任意地址。 许多人听说过Wi-Fi中的“随机地址”。 


 让我们弄清楚它是什么。 


 M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>您想要了解的有关MAC地址的所有信息</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483670/"><p><img src="https://habrastorage.org/webt/so/w5/21/sow5218j24fiojm2deevv3xnko8.jpeg" align="right"> 每个人都知道这是六个字节（通常以十六进制格式显示），它们在出厂时已分配给网卡，乍一看，它们是随机的。 有人知道地址的前三个字节是制造商的标识符，其余的三个字节分配给它们。 还众所周知，您可以为自己设置<em>一个任意</em>地址。 许多人听说过Wi-Fi中的“随机地址”。 </p><br><p> 让我们弄清楚它是什么。 </p><br><p> MAC地址（媒体访问控制地址）-分配给网络适配器的唯一标识符；它用于IEEE 802标准网络，主要是以太网，Wi-Fi和蓝牙。 正式地，它被称为“ EUI-48类型标识符”。 从名称可以明显看出，该地址的长度为48位，即  6个字节。 没有一个普遍接受的写地址标准（与IPv4地址相反，在IPv4地址中八位字节总是用点分隔），通常写为六个十六进制数字，并用冒号分隔：00：AB：CD：EF：11：22，尽管某些设备制造商更喜欢写为00 -AB-CD-EF-11-22甚至00ab.cdef.1122。 </p><a name="habracut"></a><br><p> 从历史上看，地址是在网卡芯片组的ROM中缝合的，没有闪存编程器就无法修改它们的地址，但是目前，可以从操作系统中以编程方式更改地址。 您可以在Linux和MacOS（始终），Windows（在驱动程序允许的情况下，几乎总是这样），Android（仅根）中手动设置网卡的MAC地址。 使用iOS（无root用户）时，类似的技巧是不可能的。 </p><br><h3> 地址结构 </h3><br><p> 该地址由制造商标识符OUI和制造商分配的标识符的一部分组成。  OUI（组织唯一标识符）由IEEE分配。 实际上，它的长度不仅可以是3个字节（24位），而且可以是28或36位，从而形成大（MA-L），中（MA-M）和小（Small）类型的MAC地址块（MA）块（MA-S）。 在这种情况下，已发布块的大小将是24、20、12位或1600万，100万，4000个地址。 目前，已分发了约38 000个块，可以使用许多在线工具（例如<a href="https://regauth.standards.ieee.org/standards-ra-web/pub/view.html" rel="nofollow">IEEE</a>或<a href="https://www.wireshark.org/tools/oui-lookup.html" rel="nofollow">Wireshark）</a>查看它们。 </p><br><h3> 谁拥有地址 </h3><br><p> 公开可用的IEEE <a href="https://code.wireshark.org/review/gitweb%3Fp%3Dwireshark.git%3Ba%3Dblob_plain%3Bf%3Dmanuf%3Bhb%3DHEAD" rel="nofollow">上传数据库</a>的简单处理提供了很多信息。 例如，一些组织采取了许多OUI阻止措施。 这是我们的英雄： </p><br><div class="scrollable-table"><table><thead><tr><th> 供应商 </th><th> 块/记录数 </th><th> 地址数，万 </th></tr></thead><tbody><tr><td> 思科系统公司 </td><td>  888 </td><td>  14208 </td></tr><tr><td> 苹果苹果 </td><td>  772 </td><td>  12352 </td></tr><tr><td> 三星 </td><td>  636 </td><td>  10144 </td></tr><tr><td> 华为技术有限公司 </td><td>  606 </td><td>  9696 </td></tr><tr><td> 英特尔公司 </td><td>  375 </td><td>  5776 </td></tr><tr><td> 阿里斯集团公司 </td><td>  319 </td><td>  5104 </td></tr><tr><td> 诺基亚公司 </td><td>  241 </td><td>  3856 </td></tr><tr><td> 私人的 </td><td>  232 </td><td>  2704 </td></tr><tr><td> 德州仪器 </td><td>  212 </td><td>  3392 </td></tr><tr><td> 中兴通讯股份有限公司 </td><td>  198 </td><td>  3168 </td></tr><tr><td>  IEEE注册机构 </td><td>  194 </td><td>  3072 </td></tr><tr><td> 惠普 </td><td>  149 </td><td>  2384 </td></tr><tr><td> 鸿海精密 </td><td>  136 </td><td>  2176 </td></tr><tr><td>  TP链接 </td><td>  134 </td><td>  2144 </td></tr><tr><td> 戴尔公司 </td><td>  123 </td><td>  1968年 </td></tr><tr><td> 瞻博网络 </td><td>  110 </td><td>  1760 </td></tr><tr><td>  Sagemcom宽带SAS </td><td>  97 </td><td>  1552 </td></tr><tr><td>  home火通信技术有限公司  LTD </td><td>  97 </td><td>  1552 </td></tr><tr><td> 小米通讯有限公司 </td><td>  88 </td><td>  1408 </td></tr><tr><td> 广东欧宝移动通信有限公司 </td><td>  82 </td><td>  1312 </td></tr></tbody></table></div><br><p>  Google只有40台，这不足为奇：它们自己生产的网络设备并不多。 </p><br><p> 并非免费提供MA块，可以用合理的钱（没有月租费）购买它们，价格分别为$ 3000，$ 1800或$ 755。 有趣的是，您可以（每年）多花钱购买有关所分配区块的公共信息“隐藏”。 如上所示，现在有232个。 </p><br><h3 id="kogda-zakonchatsya-mas-adresa">  MAC地址什么时候用完？ </h3><br><p> 我们都对已有十年历史的“ IPv4地址即将用完”的故事感到厌倦。 是的，不再容易获得新的IPv4块。 还知道IP地址的<a href="https://habr.com/ru/company/globalsign/blog/355006/">分布极为不均匀</a> ; 大型公司和美国政府拥有巨大且很少使用的区块，但是他们没有太多希望将它们重新分配给有需要的人。  NAT，CG-NAT和IPv6的激增使缺乏公共地址的问题变得不太严重。 </p><br><p>  MAC地址具有48位，其中46位是有用的（为什么要读），它提供2 <sup>46</sup>或10 <sup>14个</sup>地址，这是IPv4地址空间的2 <sup>14</sup>倍。 <br> 目前，大约有五万亿个地址被分配，或仅占总数的0.73％。  MAC地址的耗尽仍然非常非常远。 </p><br><h3 id="sluchaynost-bit"> 随机位 </h3><br><p> 可以假定OUI是随机分布的，然后供应商也将地址随机分配给各个网络设备。 是这样吗 让我们看看<a href="https://www.netams.com/wnam/" rel="nofollow">WNAM</a>无线网络中有效的授权系统收集的我可支配的802.11设备地址的MAC基数中的位分布。 这些地址属于在三个国家/地区已连接Wi-Fi数年的真实设备。 此外，还有少量的802.3有线LAN设备。 </p><br><p> 我们将每个样本的每个MAC地址（六个字节）按字节分解，并查看48个位置中每个位置“ 1”位的出现频率。 如果以完全任意的方式设置该位，则获得“ 1”的可能性应为50％。 </p><br><div class="scrollable-table"><table><thead><tr><th></th><th>  Wi-Fi 1号样本（RF） </th><th>  Wi-Fi示例2（白俄罗斯） </th><th>  Wi-Fi示例3（乌兹别克斯坦） </th><th> 局域网样本（RF） </th></tr></thead><tbody><tr><td> 数据库中的记录数 </td><td>  5929000 </td><td>  1274000 </td><td>  366000 </td><td>  1000 </td></tr><tr><td> 位数： </td><td>  ％位“ 1” </td><td>  ％位“ 1” </td><td>  ％位“ 1” </td><td>  ％位“ 1” </td></tr><tr><td>  1个 </td><td>  48.6％ </td><td>  49.2％ </td><td>  50.7％ </td><td>  28.7％ </td></tr><tr><td>  2 </td><td>  44.8％ </td><td>  49.1％ </td><td>  47.7％ </td><td>  30.7％ </td></tr><tr><td>  3 </td><td>  46.7％ </td><td>  48.3％ </td><td>  46.8％ </td><td>  35.8％ </td></tr><tr><td>  4 </td><td>  48.0％ </td><td>  48.6％ </td><td>  49.8％ </td><td>  37.1％ </td></tr><tr><td>  5 </td><td>  45.7％ </td><td>  46.9％ </td><td>  47.0％ </td><td>  32.3％ </td></tr><tr><td>  6 </td><td>  46.6％ </td><td>  46.7％ </td><td>  47.8％ </td><td>  27.1％ </td></tr><tr><td>  7 </td><td>  <strong>0.3％</strong> </td><td>  <strong>0.3％</strong> </td><td>  <strong>0.2％</strong> </td><td>  <strong>0.7％</strong> </td></tr><tr><td>  8 </td><td>  <strong>0.0％</strong> </td><td>  <strong>0.0％</strong> </td><td>  <strong>0.0％</strong> </td><td>  <strong>0.0％</strong> </td></tr><tr><td></td></tr><tr><td>  9 </td><td>  48.1％ </td><td>  50.6％ </td><td>  49.4％ </td><td>  38.1％ </td></tr><tr><td>  10 </td><td>  49.1％ </td><td>  50.2％ </td><td>  47.4％ </td><td>  42.7％ </td></tr><tr><td>  11 </td><td>  50.8％ </td><td>  50.0％ </td><td>  50.6％ </td><td>  42.9％ </td></tr><tr><td>  12 </td><td>  49.0％ </td><td>  48.4％ </td><td>  48.2％ </td><td>  53.7％ </td></tr><tr><td>  13 </td><td>  47.6％ </td><td>  47.0％ </td><td>  46.3％ </td><td>  48.5％ </td></tr><tr><td>  14 </td><td>  47.5％ </td><td>  47.4％ </td><td>  51.7％ </td><td>  46.8％ </td></tr><tr><td>  15 </td><td>  48.3％ </td><td>  47.5％ </td><td>  48.7％ </td><td>  46.1％ </td></tr><tr><td>  16 </td><td>  50.6％ </td><td>  50.4％ </td><td>  51.2％ </td><td>  45.3％ </td></tr><tr><td></td></tr><tr><td>  17 </td><td>  49.4％ </td><td>  50.4％ </td><td>  54.3％ </td><td>  38.2％ </td></tr><tr><td>  18岁 </td><td>  49.8％ </td><td>  50.5％ </td><td>  51.5％ </td><td>  51.9％ </td></tr><tr><td>  19 </td><td>  51.6％ </td><td>  53.3％ </td><td>  53.9％ </td><td>  42.6％ </td></tr><tr><td>  20 </td><td>  46.6％ </td><td>  46.1％ </td><td>  45.5％ </td><td>  48.4％ </td></tr><tr><td>  21 </td><td>  51.7％ </td><td>  52.9％ </td><td>  47.7％ </td><td>  48.9％ </td></tr><tr><td>  22 </td><td>  49.2％ </td><td>  49.6％ </td><td>  41.6％ </td><td>  49.8％ </td></tr><tr><td>  23 </td><td>  51.2％ </td><td>  50.9％ </td><td>  47.0％ </td><td>  41.9％ </td></tr><tr><td>  24 </td><td>  49.5％ </td><td>  50.2％ </td><td>  50.1％ </td><td>  47.5％ </td></tr><tr><td></td></tr><tr><td>  25 </td><td>  47.1％ </td><td>  47.3％ </td><td>  47.7％ </td><td>  44.2％ </td></tr><tr><td>  26 </td><td>  48.6％ </td><td>  48.6％ </td><td>  49.2％ </td><td>  43.9％ </td></tr><tr><td>  27 </td><td>  49.8％ </td><td>  49.0％ </td><td>  49.7％ </td><td>  48.9％ </td></tr><tr><td>  28 </td><td>  49.3％ </td><td>  49.3％ </td><td>  49.7％ </td><td>  55.1％ </td></tr><tr><td>  29日 </td><td>  49.5％ </td><td>  49.4％ </td><td>  49.8％ </td><td>  49.8％ </td></tr><tr><td>  30 </td><td>  49.8％ </td><td>  49.8％ </td><td>  49.7％ </td><td>  52.1％ </td></tr><tr><td>  31 </td><td>  49.5％ </td><td>  49.7％ </td><td>  49.6％ </td><td>  46.6％ </td></tr><tr><td>  32 </td><td>  49.4％ </td><td>  49.7％ </td><td>  49.5％ </td><td>  47.5％ </td></tr><tr><td></td></tr><tr><td>  33 </td><td>  49.4％ </td><td>  49.8％ </td><td>  49.7％ </td><td>  48.3％ </td></tr><tr><td>  34 </td><td>  49.7％ </td><td>  50.0％ </td><td>  49.6％ </td><td>  44.9％ </td></tr><tr><td>  35 </td><td>  49.9％ </td><td>  50.0％ </td><td>  50.0％ </td><td>  50.6％ </td></tr><tr><td>  36 </td><td>  49.9％ </td><td>  49.9％ </td><td>  49.8％ </td><td>  49.1％ </td></tr><tr><td>  37 </td><td>  49.8％ </td><td>  50.0％ </td><td>  49.9％ </td><td>  51.4％ </td></tr><tr><td>  38 </td><td>  50.0％ </td><td>  50.0％ </td><td>  49.8％ </td><td>  51.8％ </td></tr><tr><td>  39 </td><td>  49.9％ </td><td>  50.0％ </td><td>  49.9％ </td><td>  55.7％ </td></tr><tr><td>  40 </td><td>  50.0％ </td><td>  50.0％ </td><td>  50.0％ </td><td>  49.5％ </td></tr><tr><td></td></tr><tr><td>  41 </td><td>  49.9％ </td><td>  50.0％ </td><td>  49.9％ </td><td>  52.2％ </td></tr><tr><td>  42 </td><td>  50.0％ </td><td>  50.0％ </td><td>  50.0％ </td><td>  53.9％ </td></tr><tr><td>  43 </td><td>  50.1％ </td><td>  50.0％ </td><td>  50.3％ </td><td>  56.1％ </td></tr><tr><td>  44 </td><td>  50.1％ </td><td>  50.0％ </td><td>  50.1％ </td><td>  45.8％ </td></tr><tr><td>  45 </td><td>  50.0％ </td><td>  50.0％ </td><td>  50.1％ </td><td>  50.1％ </td></tr><tr><td>  46 </td><td>  50.0％ </td><td>  50.0％ </td><td>  50.1％ </td><td>  49.5％ </td></tr><tr><td>  47 </td><td>  49.2％ </td><td>  49.4％ </td><td>  49.7％ </td><td>  45.2％ </td></tr><tr><td>  48 </td><td>  49.9％ </td><td>  50.1％ </td><td>  50.7％ </td><td>  54.6％ </td></tr></tbody></table></div><br><p> 第7和8位中的这种不公正来自何处？ 几乎总是零。 </p><br><p> 实际上，该标准将这些位定义为特殊位（ <a href="https://ru.wikipedia.org/wiki/MAC-%25D0%25B0%25D0%25B4%25D1%2580%25D0%25B5%25D1%2581" rel="nofollow">Wikipedia</a> ）： <br><img src="https://habrastorage.org/webt/0-/oc/jk/0-ocjkovhfyalpqzrsjdecvg7na.png"></p><br><p>  MAC地址第一个字节的第8位（从头开始）称为单播/多播位，并确定使用该地址（普通（0）或广播（1）（多播或广播））传输哪种类型的帧（帧）。 对于正常的单播网络适配器交互，在发送给它的所有数据包中，此位都设置为“ 0”。 </p><br><p>  MAC地址第一个字节的第七个（从头开始）位称为U / L（通用/本地）位，它确定该地址是全局唯一（0）还是本地唯一（1）。 默认情况下，所有“由制造商缝制”的地址都是全局唯一的，因此，收集到的大量MAC地址包含设置为“ 0”的第七位。 在分配的OUI标识符表中，只有大约130个条目的U / L位为“ 1”，并且很可能是特殊需要的MAC地址块。 </p><br><p> 从第一个字节的第六个到第一位，OUI标识符中的第二个和第三个字节的位，或什至更多，是由制造商分配的地址的4-6个字节中的位，或多或少均匀地分布。 </p><br><p> 因此，在网络适配器的实际MAC地址中，这些位实际上是等效的，并且不具有技术含义，除了高字节的两个服务位之外。 </p><br><h3 id="rasprostranennost"> 患病率 </h3><br><p> 我想知道哪个无线设备制造商最受欢迎？ 将OUI搜索与1号样本数据结合起来。 </p><br><div class="scrollable-table"><table><thead><tr><th> 供应商 </th><th> 设备所占百分比 </th></tr></thead><tbody><tr><td> 苹果苹果 </td><td>  26.09 </td></tr><tr><td> 三星 </td><td>  19.79 </td></tr><tr><td> 华为技术有限公司 有限公司 </td><td>  7.80 </td></tr><tr><td> 小米通讯有限公司 </td><td>  6.83 </td></tr><tr><td> 索尼移动通信公司 </td><td>  3.29 </td></tr><tr><td>  LG电子（移动通信） </td><td>  2.76 </td></tr><tr><td> 华硕电脑股份有限公司 </td><td>  2,58 </td></tr><tr><td>  TCT Mobile Ltd </td><td>  2.13 </td></tr><tr><td> 中兴通讯股份有限公司 </td><td>  2.00 </td></tr><tr><td> 在IEEE数据库中找不到 </td><td>  1.92 </td></tr><tr><td> 联想移动通信技术有限公司 </td><td>  1.71 </td></tr><tr><td>  HTC公司 </td><td>  1.68 </td></tr><tr><td> 村田制作所 </td><td>  1.31 </td></tr><tr><td>  Inpro通讯 </td><td>  1.26 </td></tr><tr><td> 微软公司 </td><td>  1,11 </td></tr><tr><td> 深圳市天诺移动技术有限公司 </td><td>  1,02 </td></tr><tr><td> 摩托罗拉（武汉）移动技术通信有限公司 有限公司 </td><td>  0.93 </td></tr><tr><td> 诺基亚公司 </td><td>  0.88 </td></tr><tr><td> 上海风科技有限公司 有限公司 </td><td>  0.74 </td></tr><tr><td> 联想移动通信（武汉）有限公司 </td><td>  0.71 </td></tr></tbody></table></div><br><p> 实践表明，在这个地方，无线用户的数量越多，Apple设备的比例就越大。 </p><br><h3 id="unikalnost"> 独特性 </h3><br><p>  MAC地址是否唯一？ 从理论上讲，是的，因为要求每个设备制造商（MA单元的所有者）为其每个网络适配器提供唯一的地址。 但是，一些芯片制造商，即： </p><br><ul><li>  00：0A：F5 Airgo Networks，Inc.  （现在是高通） </li><li>  00:08:22 InPro Comm（现为联发科） </li></ul><br><p> 将MAC地址的最后三个字节设置为一个随机数，显然是在每次设备重新启动之后。 我的1号样本中有82,000个这样的地址。 </p><br><p> 当然，您可以通过有目的地像“邻居”那样设置陌生人而不是唯一地址，将其定义为嗅探器，或随意选择。 例如，还可以通过执行诸如Mikrotik或OpenWrt之类的路由器的备份配置恢复，意外地为自己设置一个非唯一地址。 </p><br><p> 如果网络上存在两个具有相同MAC地址的设备，该怎么办？ 这完全取决于网络设备（有线路由器，无线网络控制器）的逻辑。 这两种设备很可能要么不工作，要么间歇工作。 从IEEE标准的角度来看，提出了使用例如MACsec或802.1X来解决针对MAC地址的伪造的保护。 </p><br><p> 如果您将自己的MAC地址设置为第七或第八位为“ 1”，该怎么办？ 本地还是多播地址？ 您的网络很可能不会对此加以注意，但是从形式上讲，这样的地址将不符合标准，最好不要这样做。 </p><br><h3 id="kak-rabotaet-randomizaciya"> 随机如何工作 </h3><br><p> 我们知道，为了防止通过扫描空气和收集智能手机的MAC操作系统来跟踪人员的移动，使用随机化技术已有几年了。 从理论上讲，当扫描空中搜索已知网络时，智能手机会发送以MAC地址为源的802.11探测请求类型的数据包（数据包组）： </p><br><p><img src="https://habrastorage.org/webt/ys/xx/sp/ysxxspu7y2giwvvdflhwrgiar-m.gif"></p><br><p> 所包含的随机化允许您指定不是“闪存”，而是指定数据包的某些其他源地址，随每个扫描周期，时间或以某种方式更改。 这样行吗？ 让我们看一下通过所谓的“ Wi-Fi Radar”从空中收集的MAC地址的统计信息： </p><br><div class="scrollable-table"><table><thead><tr><th></th><th> 整个样本 </th><th> 仅7m位采样 </th></tr></thead><tbody><tr><td> 数据库中的记录数 </td><td>  3920000 </td><td>  305,000 </td></tr><tr><td> 位数： </td><td>  ％位“ 1” </td><td>  ％位“ 1” </td></tr><tr><td>  1个 </td><td>  66.1％ </td><td>  43.3％ </td></tr><tr><td>  2 </td><td>  66.5％ </td><td>  43.4％ </td></tr><tr><td>  3 </td><td>  31.7％ </td><td>  43.8％ </td></tr><tr><td>  4 </td><td>  66.6％ </td><td>  46.4％ </td></tr><tr><td>  5 </td><td>  66.7％ </td><td>  45.7％ </td></tr><tr><td>  6 </td><td>  31.9％ </td><td>  46.4％ </td></tr><tr><td>  7 </td><td>  <strong>92.2％</strong> </td><td>  0.0％ </td></tr><tr><td>  8 </td><td>  0.0％ </td><td>  0.0％ </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  9 </td><td>  67.2％ </td><td>  47.5％ </td></tr><tr><td>  10 </td><td>  32.3％ </td><td>  45.6％ </td></tr><tr><td>  11 </td><td>  66.9％ </td><td>  45.3％ </td></tr><tr><td>  12 </td><td>  32.3％ </td><td>  46.8％ </td></tr><tr><td>  13 </td><td>  32.6％ </td><td>  50.1％ </td></tr><tr><td>  14 </td><td>  33.0％ </td><td>  56.1％ </td></tr><tr><td>  15 </td><td>  32.5％ </td><td>  45.0％ </td></tr><tr><td>  16 </td><td>  67.2％ </td><td>  48.3％ </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  17 </td><td>  33.2％ </td><td>  56.9％ </td></tr><tr><td>  18岁 </td><td>  33.3％ </td><td>  56.8％ </td></tr><tr><td>  19 </td><td>  33.3％ </td><td>  56.3％ </td></tr><tr><td>  20 </td><td>  66.8％ </td><td>  43.2％ </td></tr><tr><td>  21 </td><td>  67.0％ </td><td>  46.4％ </td></tr><tr><td>  22 </td><td>  32.6％ </td><td>  50.1％ </td></tr><tr><td>  23 </td><td>  32.9％ </td><td>  51.2％ </td></tr><tr><td>  24 </td><td>  67.6％ </td><td>  52.2％ </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  25 </td><td>  49.8％ </td><td>  47.8％ </td></tr><tr><td>  26 </td><td>  50.0％ </td><td>  50.0％ </td></tr><tr><td>  27 </td><td>  50.0％ </td><td>  50.2％ </td></tr><tr><td>  28 </td><td>  50.0％ </td><td>  49.8％ </td></tr><tr><td>  29日 </td><td>  50.0％ </td><td>  49.4％ </td></tr><tr><td>  30 </td><td>  50.0％ </td><td>  50.0％ </td></tr><tr><td>  31 </td><td>  50.0％ </td><td>  49.7％ </td></tr><tr><td>  32 </td><td>  50.0％ </td><td>  49.9％ </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  33 </td><td>  50.0％ </td><td>  49.7％ </td></tr><tr><td>  34 </td><td>  50.0％ </td><td>  49.6％ </td></tr><tr><td>  35 </td><td>  50.0％ </td><td>  50.1％ </td></tr><tr><td>  36 </td><td>  50.0％ </td><td>  49.5％ </td></tr><tr><td>  37 </td><td>  50.0％ </td><td>  49.9％ </td></tr><tr><td>  38 </td><td>  50.0％ </td><td>  49.8％ </td></tr><tr><td>  39 </td><td>  50.0％ </td><td>  49.9％ </td></tr><tr><td>  40 </td><td>  50.0％ </td><td>  50.1％ </td></tr><tr><td></td><td></td><td></td></tr><tr><td>  41 </td><td>  50.0％ </td><td>  50.2％ </td></tr><tr><td>  42 </td><td>  50.0％ </td><td>  50.2％ </td></tr><tr><td>  43 </td><td>  50.0％ </td><td>  50.1％ </td></tr><tr><td>  44 </td><td>  50.0％ </td><td>  50.1％ </td></tr><tr><td>  45 </td><td>  50.0％ </td><td>  50.0％ </td></tr><tr><td>  46 </td><td>  50.0％ </td><td>  49.8％ </td></tr><tr><td>  47 </td><td>  50.0％ </td><td>  49.8％ </td></tr><tr><td>  48 </td><td>  50.1％ </td><td>  50.9％ </td></tr></tbody></table></div><br><p> 情况完全不同。 </p><br><p>  MAC地址第一个字节的第8位仍与探测请求数据包中SRC地址的单播性质匹配。 </p><br><p> 在92.2％的情况下，第7位设置为本地，即 可以肯定地说，我们可以假设收集到的这么多地址是随机的，只有不到8％是真实的。 此外，OUI中此类实际地址的位分布与上表中的数据大致重合。 </p><br><p> 根据OUI，随机地址属于哪个制造商（即“ 1”中的第7位）？ </p><br><div class="scrollable-table"><table><thead><tr><th>  OUI制造商 </th><th> 在所有地址之间共享 </th></tr></thead><tbody><tr><td> 在IEEE数据库中找不到 </td><td>  62.45％ </td></tr><tr><td>  Google Inc. </td><td>  37.54％ </td></tr><tr><td> 其余的 </td><td>  0.01％ </td></tr></tbody></table></div><br><p> 此外，所有分配给Google的随机地址都属于一个前缀为<strong>DA：A1：19的</strong> OUI。 这个前缀是什么？ 让我们看一下<a href="" rel="nofollow">Android</a>的<a href="" rel="nofollow">源代码</a> 。 </p><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MacAddress BASE_GOOGLE_MAC = MacAddress.fromString(<span class="hljs-string"><span class="hljs-string">"da:a1:19:0:0:0"</span></span>);</code> </pre> <br><p> 原始android在搜索无线网络时使用了特殊的注册OUI，这是设置了第七位的少数OUI之一。 </p><br><h3 id="vychislit-realnyy-mas-iz-randomnogo"> 从随机计算真实MAC </h3><br><p> 让我们看看那里： </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> VALID_LONG_MASK = (<span class="hljs-number"><span class="hljs-number">1L</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">48</span></span>) - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> LOCALLY_ASSIGNED_MASK = MacAddress.fromString(<span class="hljs-string"><span class="hljs-string">"2:0:0:0:0:0"</span></span>).mAddr; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> MULTICAST_MASK = MacAddress.fromString(<span class="hljs-string"><span class="hljs-string">"1:0:0:0:0:0"</span></span>).mAddr; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-function">MacAddress </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createRandomUnicastAddress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MacAddress base, Random r)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> addr; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (base == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { addr = r.nextLong() &amp; VALID_LONG_MASK; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { addr = (base.mAddr &amp; OUI_MASK) | (NIC_MASK &amp; r.nextLong()); } addr |= LOCALLY_ASSIGNED_MASK; addr &amp;= ~MULTICAST_MASK; MacAddress mac = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MacAddress(addr); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mac.equals(DEFAULT_MAC_ADDRESS)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> createRandomUnicastAddress(base, r); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mac; }</code> </pre><br><p> 整个地址或其至少三个字节是纯<em>Random.nextLong（）</em> 。  “真实MAS的专利恢复”-欺诈。 可以肯定的是，可以预期Android手机的制造商会使用其他未注册的OUI。 我们没有任何iOS来源，但是很可能在那里使用了类似的算法。 </p><br><p> 基于对探测请求帧的其他字段的分析或由设备发送的请求的相对频率的相关性，以上内容并未取消Wi-Fi用户取消匿名化的其他机制的操作。 但是，通过外部手段可靠地跟踪用户是非常成问题的。 所收集的数据更适合根据位置和时间来分析平均/峰值负载，基于大量数据，而无需参考特定的设备和人员。 准确的数据仅适用于“内部”（移动操作系统制造商自己）已安装应用程序的人员。 </p><br><p> 如果其他人找到了您设备的MAC地址，会有什么危险呢？ 对于有线和无线网络，可以组织拒绝服务攻击。 另外，对于无线设备，有可能将出现的瞬间固定在安装传感器的位置。 通过欺骗地址，您可以尝试“假装”为设备，只有在不使用其他安全功能（授权和/或加密）的情况下，该设备才能工作。 这里有99.9％的人无后顾之忧。 </p><br><p>  MAC地址比听起来复杂，但比可能简单。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN483670/">https://habr.com/ru/post/zh-CN483670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN483660/index.html">用于基础架构管理的电报机器人</a></li>
<li><a href="../zh-CN483662/index.html">思科威胁响应和思科Stealthwatch Enterprise的集成</a></li>
<li><a href="../zh-CN483664/index.html">TensorFlow中的Keras功能API</a></li>
<li><a href="../zh-CN483666/index.html">关于Volodya和臭氧发生器</a></li>
<li><a href="../zh-CN483668/index.html">上周第397号（2020年1月6日至12日）前端世界的新鲜材料摘要</a></li>
<li><a href="../zh-CN483674/index.html">二进制神经网络如何工作以及为什么它们将在2020年流行</a></li>
<li><a href="../zh-CN483676/index.html">评估实施端到端营销分析系统的有效性和成本</a></li>
<li><a href="../zh-CN483678/index.html">开发速度极快的Python程序</a></li>
<li><a href="../zh-CN483680/index.html">应避免的常见编程缺陷</a></li>
<li><a href="../zh-CN483682/index.html">JavaScript捆绑和性能：最佳实践</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>