<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧓🏻 👷🏼 🙌🏽 Auf den Bezier-Kurven und Arduino Speed, Teil Zwei 🖐🏾 ⚪️ 📷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir werden vorbeikommen - und weiter 


 In meinem vorherigen Beitrag habe ich gezeigt, wie Sie die Geschwindigkeit der Punkteberechnung auf einer Bez...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Auf den Bezier-Kurven und Arduino Speed, Teil Zwei</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429254/"><h3>  Wir werden vorbeikommen - und weiter </h3><br><img src="https://habrastorage.org/webt/hx/vp/j2/hxvpj2li3y68iwtzbikjgddqauy.jpeg"><br><br>  In meinem vorherigen Beitrag habe ich gezeigt, wie Sie die Geschwindigkeit der Punkteberechnung auf einer Bezier-Kurve (KB) verbessern können, indem Sie: <br><br><ol><li>  Transformationen von Berechnungsformeln - Beschleunigung ~ 3 mal. </li><li>  Es gibt fast keine Beschleunigung von PT nach FT - aber es erlaubt 3. </li><li>  Die Ersetzungsoperation der Division durch Multiplikation und Verschiebung ist eine Beschleunigung von weiteren 40%. </li></ol><br><div class="spoiler">  <b class="spoiler_title">Trauriger Rückzug</b> <div class="spoiler_text">  - Ich habe in der letzten Formel einen Fehler gemacht. Es war möglich, die Berechnungen durch Falten eines weiteren konstanten Ausdrucks etwas zu beschleunigen und statt 502 anstelle von 502 410 Taktzyklen pro Berechnungszyklus zu erhalten.  Leider hat mich keiner der Leser des vorherigen Beitrags in den Kommentaren darauf hingewiesen ... aber ich habe darauf gehofft, was bedeutet, dass ich meine Leser nicht genug interessieren konnte, damit sie meine Werke richtig (dh sorgfältig) lesen.  Okay, versuchen Sie es erneut. </div></div><br><a name="habracut"></a><br>  Am Ende des erwähnten Beitrags sagte ich, dass Berechnungen noch schneller durchgeführt werden können, aber was "der Junge sagte - der Junge tat". <br><br>  Ich möchte Sie noch einmal an die Formel erinnern, die zur Berechnung des Punkts auf der KB erhalten wurde <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>P</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>A</mi><mn>1</mn><mo>&amp;#x2217;</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>+</mo><mi>B</mi><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>+</mo><mi>C</mi><mo stretchy=&quot;false&quot;>(</mo><mo>=&amp;gt;</mo><mn>2</mn><mo>&amp;#x2217;</mo><mn>2</mn><mo>+</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="44.601ex" height="2.66ex" viewBox="0 -832 19203.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-28" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-41" x="2475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-31" x="3225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2217" x="3948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-75" x="4671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-6E" x="5243" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-64" x="5844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2B" x="6589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-42" x="7590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-31" x="8349" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-29" x="8850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2217" x="9462" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-75" x="10184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-6E" x="10757" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-64" x="11357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2B" x="12103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-43" x="13104" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-28" x="13864" y="0"></use><g transform="translate(14254,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-3D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-3E" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-32" x="16089" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2217" x="16811" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-32" x="17534" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2B" x="18035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-29" x="18813" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>P</mi><mo>=</mo><mo stretchy="false">(</mo><mi>A</mi><mn>1</mn><mo>∗</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>+</mo><mi>B</mi><mn>1</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>+</mo><mi>C</mi><mo stretchy="false">(</mo><mo>=&gt;</mo><mn>2</mn><mo>∗</mo><mn>2</mn><mo>+</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> P = (A1 * und + B1) * und + C (=> 2 * 2 +) </script></p>  Die nächste Geschwindigkeitssteigerung hängt mit der Besonderheit des Problems zusammen - wir müssen nicht nur den Wert von KB bei verschiedenen Werten des Parameters „und“ berechnen, sondern eine Reihe von Werten finden, wenn wir diesen Parameter um einen bekannten, darüber hinaus festen Wert (in unserem Fall) ändern (in diesem Fall erhöhen) Falleinheit), mit der Sie die unten beschriebene Technik anwenden können.  Zu meiner Zeit wurde es die Differenzberechnungsmethode genannt (wenn das Gedächtnis mir recht tut, zumindest wurde es in Vorlesungen so genannt), das gesamte Internet steht zu Ihrer Verfügung, vielleicht gibt es (sogar sicher) einen anderen Namen. <br><br>  Wir betrachten den Fall P = A * und (=&gt; 1 *) und nehmen an, dass wir den Wert von P0 mit einem Argument u0 kennen.  Dann kann der Wert mit dem nächsten Argument u0 + 1 berechnet werden als P = A * (u0 + 1) = A * u0 + A = P0 + A (=&gt; 1+).  Ohne an Präzision zu verlieren, konnten wir die Multiplikationsoperation durch die Additionsoperation ersetzen, die viel schneller ist. <br><br>  Als komplexeres Beispiel P = A * und * und (=&gt; 2 *) betrachten wir analog P = A * (und + 1) * (und + 1) = A * (und * und + 2 * und + 1). = A * und * und + 2 * A * und + A = P0 + 2 * A * und + A (=&gt; 2 * 2 +).  Auf den ersten Blick haben wir nichts gewonnen, aber wenn wir A '= 2 * A im Voraus berechnen, erhalten wir (=&gt; 1 * 2 +), ein Gewinn ist durchaus möglich.  Aber wir werden nicht bei dem stehen bleiben, was mit dem erhaltenen Ausdruck A '* erreicht wurde, und die uns bereits bekannte Technik anwenden, dann werden wir zwei Operationen mit zwei Variablen erhalten: P = P + A' + A;  A '= A' + A (=&gt; 3+).  Wenn wir berücksichtigen, dass der Anfangswert von A 'mehr durch A erreicht werden kann, gibt es im Allgemeinen nur zwei Additionen anstelle von zwei Multiplikationen.  Ja, wir mussten zwei zusätzliche Variablen erhalten, aber dies ist ein klassischer Austausch - wir zahlen mit Speicher für die Zeit. <br><br>  Es bleibt nur die Berechnung der korrekten Anfangswerte, dies wird jedoch nur einmal zu Beginn der Iterationen durchgeführt, und wenn der Anfangswert des Parameters u = 0 ist, ist es im Allgemeinen trivial P = 0, A '= A.  Wir werden unsere Methode an mehreren Iterationen testen (dies ist völlig unnötig, korrekt angewandte Mathematik kann nicht die falsche Antwort geben), aber es wird uns ermöglichen, besser zu verstehen, was passiert.  Also <br>  Iteration 0: und = 0;  P = 0 (wahr);  A '= A;  A '' = 2 * A; <br>  Iteration 1: und = 1;  P = 0 + A '= 0 + A = A (wahr);  A '= A' + A '' = A + 2 * A = 3 * A; <br>  Iteration 2: und = 2;  P = A + 3 · A = 4 · A (wahr);  A '= 3 · A + 2 · A = 5 · A; <br>  Iteration 3: und = 3;  P = 9 * A (wahr);  A '= 7 * A und so weiter. <br><br>  Wir stellen den Zusammenhang zwischen den erhaltenen Formeln und der Newton-Methode zur Berechnung des Wertes einer Funktion in der Nähe eines Punktes mit einem bekannten Wert fest.  Da unsere Funktion von zweiter Ordnung ist und alle Ableitungen ab der dritten gleich Null sind, können wir das ungefähre Gleichheitszeichen sicher durch das exakte Vorzeichen ersetzen.  Der einzige Unterschied zu dieser Methode besteht darin, dass wir den Punkt, zu dem wir eine neue Nachbarschaft aufbauen, ständig verschieben, um zu vermeiden, dass Multiplikationsoperationen in der ursprünglichen Formulierung durchgeführt werden. <br><br>  Schreiben Sie unseren ursprünglichen Ausdruck für KB in erweiterter Form neu <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>P</mi><mo>=</mo><mi>A</mi><mn>1</mn><mo>&amp;#x2217;</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>&amp;#x2217;</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>+</mo><mi>B</mi><mn>1</mn><mo>&amp;#x2217;</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>+</mo><mi>C</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="36.528ex" height="2.178ex" viewBox="0 -780.1 15727.3 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-41" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-31" x="2836" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2217" x="3558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-75" x="4281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-6E" x="4854" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-64" x="5454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2217" x="6200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-75" x="6922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-6E" x="7495" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-64" x="8095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2B" x="8841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-42" x="9842" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-31" x="10601" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2217" x="11324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-75" x="12047" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-6E" x="12619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-64" x="13220" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMAIN-2B" x="13966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/429254/&amp;usg=ALkJrhhBTsDaE_HwIVo3KhTFgjkE0kG2dw#MJMATHI-43" x="14966" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>P</mi><mo>=</mo><mi>A</mi><mn>1</mn><mo>∗</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>∗</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>+</mo><mi>B</mi><mn>1</mn><mo>∗</mo><mi>u</mi><mi>n</mi><mi>d</mi><mo>+</mo><mi>C</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> P = A1 * und * und + B1 * und + C </script></p>  Für Berechnungen mit dieser Methode benötigen wir 2+ für den ersten Term (und zwei Variablen), 1+ für den zweiten Term (und eine Variable) und 2+, um alles zu addieren (=&gt; 5+).  Es ist zu erwarten, dass selbst dieser (falsche) Ansatz im Vergleich zu 2 * 2 + einen Gewinn bringt, aber alles ist viel besser.  Offensichtlich ist die Additionsoperation additiv (danke, Kapitän), sodass Sie die Begriffe gruppieren und die konstanten Begriffe durch neue Ausdrücke ersetzen können, was den folgenden Algorithmus ergibt: <br><br>  1. Die Anfangswerte von P = C;  A '= A1 + B1;  A '' = 2 * A1; <br>  2. im nächsten Schritt P = P + A ';  A '= A' + A '' (=&gt; 2+), was zweifellos schneller ist als Horners Schema. <br><br>  Wir implementieren unseren Algorithmus in Form eines Programms (dies ist nicht so trivial, wie es scheinen mag, da ich der Einfachheit halber die Notwendigkeit von Schichten vergessen habe, aber es ist nicht zu schwierig ... für 20 Minuten), erhalten wir die rechnerische Komplexität (=&gt; 2 + 1 &gt;&gt;) und messen Geschwindigkeit - es stellte sich heraus, dass 140 Zyklen pro Zyklus um das Dreifache erhöht wurden, aber dies ist fast ein ideales Ergebnis.  Was wir tun müssen, um die ideale Option (in gewissem Sinne) zu erhalten, ist, auf die Dimension der Operanden in den Formeln zu achten.  Jetzt führen wir alle Operationen mit langen (32-Bit) Ganzzahlen aus, und dies kann an einigen Stellen unnötig sein.  Wenn wir die Kapazität der Operanden auf das erforderliche Minimum reduzieren, können wir einen Gewinn von 20 bis 25 Prozent erzielen. Dies erfordert jedoch, dass wir zum Assembler wechseln (C verfügt nicht über die für solche Operationen geeigneten Mittel) und die Daten des ursprünglichen Problems sorgfältig analysieren.  Ob es an dem Leser liegt, zu entscheiden, ob er dies tut, haben wir die Berechnungen im Vergleich zum „naiven“ Ansatz bereits mehr als 1900/140 = 13-mal beschleunigt. <br><br>  Die letzte Bemerkung zur Implementierung des Algorithmus ist, dass wir die Divisionsoperation immer noch ausschließen, indem wir sie durch konstante Multiplikation ändern, was wir bei der Erzeugung der Anfangsdaten und der Verschiebung um ein konstantes Vielfaches von 8 berücksichtigen. Dies kann auf verschiedene Weise mit leicht unterschiedlichen Ausführungszeiten erfolgen, wobei solche Experimente einem neugierigen Leser überlassen bleiben . <br><br>  Ein Problem trat jedoch völlig unerwartet auf - wir sehen deutlich zwei Additionsoperationen für 32-Bit-Zahlen, die 4 + 4 = 8 Taktzyklen dauern sollten, weitere 8 * 3 * 2 = 48 Taktzyklen zum Senden von Operanden, 4 Taktzyklen zum Empfangen des Verschiebungsergebnisses, 4 ein Taktzyklus zum Aufrufen des Berechnungsverfahrens und zum Zurückkehren sowie 4 Taktzyklen zum Organisieren des Zyklus - von wo aus weitere 60 Taktzyklen nicht klar sind.  Früher haben wir dies vor dem Hintergrund von Hunderten von Taktzyklen einfach nicht bemerkt, aber jetzt können Sie darauf achten.  Übermäßige Maßnahmen waren leicht zu finden - im Zyklus gab es unnötige Debugging-Vorgänge. Wenn Sie alles sorgfältig bereinigen, bleiben nur 120 Maßnahmen übrig und der Zweck jeder ist verständlich (nicht, damit es vollständig verständlich wäre, aber immer noch).  Als nächstes finden wir die Ausführungszeit des leeren Zyklus heraus - 22 Takte. Ich frage mich, was sie die ganze Zeit dort tun, aber na ja, und löschen die tatsächliche Berechnungszeit, die 98 Zyklen betragen wird.  Beachten Sie, dass sich die Schätzung der erhaltenen Arbeitsbeschleunigung ändert: Anstelle von 1900/140 = 13 erhalten wir (1900-50) / (140-40) = 19-mal, was praktisch keinen Sinn ergibt, da der Zyklus noch erforderlich ist, Sie ihn jedoch noch weiter erhöhen können Selbstwertgefühl. <br><br>  Und die letzte Bemerkung - wie leicht zu sehen ist, haben wir erst begonnen, Flöhe zu suchen und zu beseitigen, als wir uns mit großen Hirschkäfern befassten und ihre (Flöhe-) Existenz offensichtlich und darüber hinaus bedeutsam wurde.  Ich empfehle genau diesen Ansatz (und ich bin mit dieser Empfehlung nicht allein), wenn ich Programme hinsichtlich der Leistung optimiere. <br><br>  Nun, abschließend zum Hinweis „in gewissem Sinne“: Wenn wir beim Ändern des Parameters (der die Zeit darstellt) über die sequentielle Berechnung der Koordinaten des nächsten Punkts im Konstruktionsbüro sprechen, kann der vorgeschlagene Algorithmus (nach allen Optimierungen) nicht mehr verbessert werden.  Wenn Sie jedoch die Aufgabe neu formulieren und beispielsweise das Ziel festlegen, einfach ein Designbüro auf dem Bildschirm aufzubauen (ohne Bezug zur Zeit), gibt es eine vielversprechende Methode, das Schlüsselwort "Brezenheim", aber "dies ist eine völlig andere Geschichte", die ich in einem separaten Beitrag behandeln werde (Vielleicht eines Tages, wenn es der älteren Schwester nichts ausmacht). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de429254/">https://habr.com/ru/post/de429254/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de429244/index.html">Gieriger Gnom: Als ich Marktanalyse in Lineage 2 schrieb</a></li>
<li><a href="../de429246/index.html">Sommerpraktikum bei Mars IS: ein Einblick</a></li>
<li><a href="../de429248/index.html">Polyglotte Tipps: Wie man eine Sprache ohne Tränen und Flüche lernt</a></li>
<li><a href="../de429250/index.html">Hundert digitale Buchhaltungsrezepte</a></li>
<li><a href="../de429252/index.html">Statische Analyse mobiler Anwendungen</a></li>
<li><a href="../de429256/index.html">So erstellen Sie eine Gesamtstruktur in Actionscript3 / Flash in wenigen * Codezeilen</a></li>
<li><a href="../de429258/index.html">So erstellen Sie zuverlässige Spielmechaniken nur mit Excel: Modellierung und Optimierung von Lösungen</a></li>
<li><a href="../de429260/index.html">Unser Weg zur zentralen Protokollspeicherung</a></li>
<li><a href="../de429262/index.html">Willkommen zum Herbst DIYorDIE Meetup am 17. November</a></li>
<li><a href="../de429264/index.html">Li-Ionen-USV-Zeit: Brandgefahr oder sicherer Schritt in die Zukunft?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>