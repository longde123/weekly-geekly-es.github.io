<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçüè´ ü•í üë¥üèΩ Travailler avec une base de donn√©es depuis une application üïµÔ∏è ü§≥üèæ üí§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au d√©but, je d√©crirai certains probl√®mes et fonctionnalit√©s lors de l'utilisation de la base de donn√©es, je montrerai des trous dans les abstractions....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Travailler avec une base de donn√©es depuis une application</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433100/"><p>  Au d√©but, je d√©crirai certains probl√®mes et fonctionnalit√©s lors de l'utilisation de la base de donn√©es, je montrerai des trous dans les abstractions.  Ensuite, nous analyserons une abstraction plus simple bas√©e sur l'immunit√©. </p><br><p>  Le lecteur est cens√© √™tre un peu familier avec les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sch√©mas</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Active Record</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Data Maper</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Identity Map</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Unit of Work</a> . </p><br><p>  Les probl√®mes et les solutions sont envisag√©s dans le contexte de projets suffisamment importants qui ne peuvent pas √™tre jet√©s et r√©√©crits rapidement. </p><a name="habracut"></a><br><h2 id="identity-map">  Carte d'identit√© </h2><br><p>  Le premier probl√®me est le probl√®me du maintien de l'identit√©.  L'identit√© est quelque chose qui identifie de mani√®re unique une entit√©.  Dans la base de donn√©es, il s'agit de la cl√© primaire et en m√©moire, du lien (pointeur).  C'est bien lorsque les liens pointent vers un seul objet. </p><br><p>  Pour les biblioth√®ques <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ruby ActiveRecord</a> , ce n'est pas le cas: </p><br><pre><code class="ruby hljs">post_a = Post.find <span class="hljs-number"><span class="hljs-number">1</span></span> post_b = Post.find <span class="hljs-number"><span class="hljs-number">1</span></span> post_a.object_id != post_b.object_id <span class="hljs-comment"><span class="hljs-comment"># true post_a.title = "foo" post_b.title != "foo" # true</span></span></code> </pre> <br><p>  C'est-√†-dire  on obtient 2 r√©f√©rences √† 2 objets diff√©rents en m√©moire. </p><br><p>  Ainsi, nous pouvons perdre des modifications si nous commen√ßons par inadvertance √† travailler avec la m√™me entit√©, mais repr√©sent√©e par des objets diff√©rents. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Hibernate</a> a une session, en fait un cache de premier niveau qui stocke le mappage d'un identifiant d'entit√© √† un objet en m√©moire.  Si nous demandons √† nouveau la m√™me entit√©, nous obtiendrons un lien vers un objet existant.  C'est-√†-dire  Hibernate impl√©mente le mod√®le de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">carte d'identit√©</a> . </p><br><h2 id="dolgie-tranzakcii">  Transactions longues </h2><br><p>  Mais que se passe-t-il si nous ne s√©lectionnons pas par identifiant?  Pour √©viter que l'√©tat des objets et l'√©tat de la base de donn√©es ne soient d√©synchronis√©s, Hibernate <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vider</a> avant de demander une s√©lection. <br>  c'est-√†-dire  vide les objets sales dans la base de donn√©es afin que la demande lise les donn√©es convenues. </p><br><p>  Cette approche vous oblige √† garder la transaction de base de donn√©es ouverte pendant que la transaction commerciale est en cours. <br>  Si la transaction commerciale est longue, le processus responsable de la connexion dans la base de donn√©es elle-m√™me est √©galement inactif.  Par exemple, cela peut se produire si une transaction commerciale demande des donn√©es sur le r√©seau ou effectue des calculs complexes. </p><br><h2 id="n1">  N + 1 </h2><br><p>  Le plus gros ¬´trou¬ª dans l'abstraction ORM est peut-√™tre le probl√®me de requ√™te N + 1. </p><br><p>  Exemple sur ruby ‚Äã‚Äãpour la biblioth√®que ActiveRecord: </p><br><pre> <code class="ruby hljs">posts = Post.all <span class="hljs-comment"><span class="hljs-comment"># select * from posts posts.each do |post| like = post.likes.order(id: :desc).first # SELECT * FROM likes WHERE post_id = ? ORDER BY id DESC LIMIT 1 # ... end</span></span></code> </pre> <br><p>  ORM conduit le programmeur √† l'id√©e qu'il travaille simplement avec des objets en m√©moire.  Mais cela fonctionne avec un service disponible sur le r√©seau, et sur l'√©tablissement de connexions et de transfert de donn√©es <br>  cela prend du temps.  M√™me si la requ√™te est ex√©cut√©e 50 ms, 20 requ√™tes seront ex√©cut√©es pendant une seconde. </p><br><h2 id="dopolnitelnye-dannye">  Donn√©es suppl√©mentaires </h2><br><p>  Dites pour √©viter le probl√®me N + 1 d√©crit ci-dessus, vous √©crivez <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">demande</a> : </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> posts <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> LATERAL ( <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> likes <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> post_id = posts.id <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> likes.id <span class="hljs-keyword"><span class="hljs-keyword">DESC</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIMIT</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> last_like <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br><p>  C'est-√†-dire  en plus des attributs du post, tous les attributs du dernier like sont √©galement s√©lectionn√©s.  √Ä quelle entit√© ces donn√©es correspondent-elles?  Dans ce cas, vous pouvez renvoyer un couple de la poste et aimer, car  le r√©sultat contient tous les attributs n√©cessaires. </p><br><p>  Mais que se passe-t-il si nous s√©lectionnons seulement une partie des champs, ou des champs s√©lectionn√©s qui ne sont pas dans le mod√®le, par exemple, le nombre de publications aiment?  Doivent-ils √™tre mapp√©s sur des entit√©s?  Peut-√™tre ne leur laisser que des donn√©es? </p><br><h2 id="state--identity">  √âtat et identit√© </h2><br><p>  Consid√©rez le code js: </p><br><pre> <code class="plaintext hljs">const alice = { id: 0, name: 'Alice' };</code> </pre> <br><p>  Ici, la r√©f√©rence √† l'objet a re√ßu le nom d' <code>alice</code> .  Parce que  c'est une constante, alors il n'y a aucun moyen d'appeler Alice un autre objet.  Dans le m√™me temps, l'objet lui-m√™me est rest√© mutable. </p><br><p>  Par exemple, nous pouvons attribuer un identifiant existant: </p><br><pre> <code class="plaintext hljs">const bob = { id: 1, name: 'Bob' }; alice.id = bob.id;</code> </pre> <br><p>  Permettez-moi de vous rappeler qu'une entit√© a 2 identit√©s: un lien et une cl√© primaire dans la base de donn√©es.  Et les constantes ne peuvent pas arr√™ter de cr√©er Alice Bob, m√™me apr√®s avoir enregistr√©. </p><br><p>  L'objet, le lien auquel nous avons appel√© <code>alice</code> , remplit 2 fonctions: il mod√©lise simultan√©ment l'identit√© et l'√©tat.  Un √©tat est une valeur qui d√©crit une entit√© √† un moment donn√©. </p><br><p>  Mais que se passe-t-il si nous s√©parons ces 2 responsabilit√©s et utilisons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des structures immuables</a> pour l'√âtat? </p><br><pre> <code class="plaintext hljs">function Ref(initialState, validator) { let state = initialState; this.deref = () =&gt; state; this.swap = (updater) =&gt; { const newState = updater(state); if (! validator(state, newState) ) throw "Invalid state"; state = newState; return newState; }; } const UserState = Immutable.Record({ id: null, name: '' }); const aliceState = new UserState({id: 0, name: 'Alice'}); const alice = new Ref( aliceState, (oldS, newS) =&gt; oldS.id === newS.id ); alice.swap( oldS =&gt; oldS.set('name', 'Queen Alice') ); alice.swap( oldS =&gt; oldS.set('id', 1) ); // BOOM!</code> </pre> <br><p>  <code>Ref</code> - un conteneur pour un √©tat immuable, permettant son remplacement contr√¥l√©.  <code>Ref</code> mod√®les de <code>Ref</code> identifient tout comme nous nommons des objets.  Nous appelons la Volga, mais √† chaque instant, elle a un √©tat immuable diff√©rent. </p><br><h2 id="storage">  Stockage </h2><br><p>  Consid√©rez l'API suivante: </p><br><pre> <code class="plaintext hljs">storage.tx( t =&gt; { const alice = t.get(0); const bobState = new UserState({id: 1, name: 'Bob'}); const bob = t.create(bobState); alice.swap( oldS =&gt; oldS.update('friends', old =&gt; old.push(bob.deref.id)) ); });</code> </pre> <br><p>  <code>t.get</code> et <code>t.create</code> renvoient une instance de <code>Ref</code> . </p><br><p>  Nous ouvrons la transaction commerciale, trouvons Alice par son identifiant, cr√©ons Bob et indiquons qu'Alice consid√®re Bob son ami. </p><br><p>  L'objet <code>t</code> contr√¥le la cr√©ation de <code>ref</code> . </p><br><p>  <code>t</code> peut stocker en lui-m√™me le mappage des identifiants d'entit√© √† l'√©tat <code>ref</code> les contenant.  C'est-√†-dire  peut impl√©menter Identity Map.  Dans ce cas, <code>t</code> agit comme un cache; √† la demande r√©p√©t√©e d'Alice, il n'y aura pas de demande √† la base de donn√©es. </p><br><p>  On peut se souvenir de l'√©tat initial des entit√©s afin de suivre √† la fin de la transaction les changements qui doivent √™tre √©crits dans la base de donn√©es.  C'est-√†-dire  peut mettre en ≈ìuvre l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">unit√© de travail</a> .  Ou, si le support d'observateur est ajout√© √† <code>Ref</code> , il devient possible de r√©initialiser les modifications apport√©es √† la base de donn√©es √† chaque modification de <code>ref</code> .  Ce sont des approches optimistes et pessimistes pour fixer les changements. </p><br><p>  Avec une approche optimiste, vous devez suivre les versions d'√©tat des entit√©s. <br>  Lors de la modification de la base de donn√©es, nous devons nous souvenir de la version et lors de la validation des modifications, v√©rifier que la version de l'entit√© dans la base de donn√©es ne diff√®re pas de la version initiale.  Sinon, vous devez r√©p√©ter la transaction commerciale.  Cette approche permet d'utiliser des op√©rations d'insertion et de suppression de groupe et des transactions de base de donn√©es tr√®s courtes, ce qui √©conomise des ressources. </p><br><p>  Avec une approche pessimiste, une transaction de base de donn√©es est enti√®rement coh√©rente avec une transaction commerciale.  C'est-√†-dire  nous sommes oblig√©s de retirer la connexion du pool au moment de la conclusion de la transaction commerciale. </p><br><p>  L'API vous permet d'extraire des entit√©s une par une, ce qui n'est pas tr√®s optimal.  Parce que  nous avons impl√©ment√© le mod√®le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Identity Map</a> , puis nous pouvons entrer la m√©thode de <code>preload</code> dans l'API: </p><br><pre> <code class="plaintext hljs">storage.tx( t =&gt; { t.preload([0, 1, 2, 3]); const alice = t.get(0); // from cache });</code> </pre> <br><h2 id="queries">  Requ√™tes </h2><br><p>  Si nous ne voulons pas de transactions longues, nous ne pouvons pas effectuer de s√©lections par une cl√© arbitraire, car  la m√©moire peut contenir des objets sales et la s√©lection renverra un r√©sultat inattendu. </p><br><p>  Nous pouvons utiliser Query et r√©cup√©rer toutes les donn√©es (√©tat) en dehors de la transaction et relire les donn√©es pendant la transaction. </p><br><pre> <code class="plaintext hljs">const aliceId = userQuery.findByEmail('alice@mail.com'); storage.tx( t =&gt; { const alice = t.getOne(aliceId); });</code> </pre> <br><p>  Il y a donc une division des responsabilit√©s.  Pour les requ√™tes, nous pouvons utiliser des moteurs de recherche pour mettre √† l'√©chelle la lecture √† l'aide de r√©pliques.  Et l'API de stockage fonctionne toujours avec le stockage principal (ma√Ætre).  Naturellement, les r√©pliques contiendront des donn√©es obsol√®tes, la relecture des donn√©es dans la transaction r√©sout ce probl√®me. </p><br><h2 id="commands">  Commandes </h2><br><p>  Il existe des situations o√π une op√©ration peut √™tre effectu√©e sans lire de donn√©es.  Par exemple, d√©duisez des frais mensuels des comptes de tous les clients.  Ou ins√©rez et mettez √† jour les donn√©es (upsert) en cas de conflit. </p><br><p>  En cas de probl√®mes de performances, le bundle de Storage and Query peut √™tre remplac√© par une telle commande. </p><br><h2 id="svyazi">  Les communications </h2><br><p>  Si les entit√©s se r√©f√®rent de mani√®re al√©atoire, il est difficile d'assurer la coh√©rence lors de leur modification.  Les relations tentent de simplifier, de rationaliser, d'abandonner inutiles. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les agr√©gats</a> sont un moyen d'organiser les relations.  Chaque agr√©gat a une entit√© racine et des entit√©s imbriqu√©es.  Toute entit√© externe ne peut se r√©f√©rer qu'√† la racine de l'agr√©gat.  La racine garantit l'int√©grit√© de l'ensemble de l'unit√©.  Une transaction ne peut pas franchir une fronti√®re d'agr√©gation; en d'autres termes, l'ensemble de l'agr√©gat est impliqu√© dans la transaction. </p><br><p>  Un agr√©gat peut, par exemple, √™tre compos√© du Car√™me (racine) et de ses traductions.  Ou l'Ordre et ses Positions. </p><br><p>  Notre API fonctionne avec des agr√©gats entiers.  Dans le m√™me temps, l'int√©grit√© r√©f√©rentielle entre les agr√©gats d√©pend de l'application.  L'API ne prend pas en charge le chargement paresseux des liens. <br>  Mais nous pouvons choisir la direction des relations.  Consid√©rez la relation un √† plusieurs Utilisateur - Publication.  Nous pouvons stocker l'ID utilisateur dans la publication, mais sera-t-il pratique?  Nous obtiendrons beaucoup plus d'informations si nous stockons un tableau d'identificateurs de publication dans l'utilisateur. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  J'ai soulign√© les probl√®mes lors de l'utilisation de la base de donn√©es, montr√© la possibilit√© d'utiliser l'immunit√©. <br>  Le format de l'article ne permet pas de r√©v√©ler le sujet en d√©tail. </p><br><p>  Si vous √™tes int√©ress√© par cette approche, alors faites attention √† mon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">application de</a> livre √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partir de z√©ro</a> , qui d√©crit la cr√©ation d'une application Web √† partir de z√©ro en mettant l'accent sur l'architecture.  Il comprend SOLID, Clean Architecture, les mod√®les de travail avec la base de donn√©es.  Les exemples de code dans le livre et l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">application</a> elle-m√™me sont √©crits dans le langage Clojure, qui est impr√©gn√© des id√©es d'immunit√© et de la commodit√© du traitement des donn√©es. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr433100/">https://habr.com/ru/post/fr433100/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr433088/index.html">Comment aimez-vous cela, Elon Musk: BMW et Porsche ont d√©velopp√© une recharge qui ajoute 100 km de voyage en 3 minutes</a></li>
<li><a href="../fr433090/index.html">Techniques d'indexation bitmap Oracle</a></li>
<li><a href="../fr433092/index.html">Mod√©lisation CG de niveau 80: personnages photor√©alistes r√©alistes dans Unreal</a></li>
<li><a href="../fr433094/index.html">Mod√©lisation num√©rique dans une grande entreprise industrielle</a></li>
<li><a href="../fr433098/index.html">L'histoire de DDR3, SPD et des fabricants chinois originaux</a></li>
<li><a href="../fr433102/index.html">Pourquoi les scientifiques croient que la neuvi√®me plan√®te n'existe pas</a></li>
<li><a href="../fr433104/index.html">Le d√©fi Foobar: le test secret de Google pour les d√©veloppeurs</a></li>
<li><a href="../fr433106/index.html">SpaceX et la NASA r√©affirment leurs intentions de lancer le premier lancement du navire Crew Dragon en janvier 2019</a></li>
<li><a href="../fr433108/index.html">ld -z code s√©par√©</a></li>
<li><a href="../fr433114/index.html">Certification PMP: pr√©paration aux examens de style banlieue</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>