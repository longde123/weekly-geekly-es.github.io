<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСиЁЯП┐тАНЁЯдЭтАНЁЯСиЁЯП╗ ЁЯЫЛя╕П ЁЯзФЁЯП╜ рдЧрд╛рд░рдмреЗрдЬ рдХрд▓реЗрдХреНрдЯрд░ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпрдХреНрд░рдореЛрдВ рдХрд╛ рдЕрдиреБрдХреВрд▓рди ЁЯжР ЁЯСиЁЯП╗тАНЁЯОУ ЁЯСиЁЯП╝тАНЁЯТ╝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдмрд╣реБрдд рд╕рдордп рдкрд╣рд▓реЗ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реБрдЖ рдерд╛, рдПрдХ рдЕрддреНрдпрдзрд┐рдХ рднрд╛рд░рд┐рдд .NET рд╕реЗрд╡рд╛ рдореЗрдВ рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣рдг рдХреЗ Habr├й рдЕрдиреБрдХреВрд▓рди рдкрд░ рдПрдХ рдЙрддреНрдХреГрд╖реНрдЯ рд▓реЗрдЦ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ред рдпрд╣ рд▓реЗрдЦ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдмрд╣реБрдд рджрд┐...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЧрд╛рд░рдмреЗрдЬ рдХрд▓реЗрдХреНрдЯрд░ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпрдХреНрд░рдореЛрдВ рдХрд╛ рдЕрдиреБрдХреВрд▓рди</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/clrium/blog/453082/"><p>  рдмрд╣реБрдд рд╕рдордп рдкрд╣рд▓реЗ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реБрдЖ рдерд╛, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ рдЕрддреНрдпрдзрд┐рдХ рднрд╛рд░рд┐рдд .NET рд╕реЗрд╡рд╛ рдореЗрдВ рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣рдг рдХреЗ</a> Habr├й <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдиреБрдХреВрд▓рди</a> рдкрд░ рдПрдХ рдЙрддреНрдХреГрд╖реНрдЯ рд▓реЗрдЦ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ред  рдпрд╣ рд▓реЗрдЦ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдмрд╣реБрдд рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рдХрд┐ рд▓реЗрдЦрдХ, рд╕рд┐рджреНрдзрд╛рдВрдд рд╕реЗ рд▓реИрд╕, рдкрд╣рд▓реЗ рдЕрд╕рдВрднрд╡ рдерд╛: рдЙрдиреНрд╣реЛрдВрдиреЗ рдЬреАрд╕реА рдХреЗ рдЬреНрдЮрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ рдЖрд╡реЗрджрди рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ред  рдФрд░ рдЕрдЧрд░ рдкрд╣рд▓реЗ рд╣рдореЗрдВ рдкрддрд╛ рдирд╣реАрдВ рдерд╛ рдХрд┐ рдпрд╣ рдЬреАрд╕реА рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЕрдм рд╣рдо рдЕрдкрдиреА рдкреБрд╕реНрддрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░реЛ .NET рдореЗрдореЛрд░реА рдореИрдиреЗрдЬрдореЗрдВрдЯ</a> рдореЗрдВ рдХреЛрдирд░рд╛рдб рдХреЛрдХреЛрд╕ рдХреЗ рдкреНрд░рдпрд╛рд╕реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд╛рдВрджреА рдХреЗ рдерд╛рд▓ рдкрд░ рд╣рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддреЗ рд╣реИрдВред  рдореИрдВрдиреЗ рдЕрдкрдиреЗ рд▓рд┐рдП рдХреНрдпрд╛ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓реЗ рд╣реИрдВ?  рдЖрдЗрдП рд╕рдорд╕реНрдпрд╛ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рд╕реЛрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПред </p><br><p>  рд╣рд╛рд▓ рд╣реА рдореЗрдВ CLRium # 5 рдХрд╛рд░реНрдпрд╢рд╛рд▓рд╛: рдХрдЪрд░рд╛ рдХрд▓реЗрдХреНрдЯрд░ рдореЗрдВ, рд╣рдордиреЗ рдкреВрд░реЗ рджрд┐рди рдЬреАрд╕реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХреАред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдореИрдВрдиреЗ рдЯреЗрдХреНрд╕реНрдЯ рдбрд┐рдХреЛрдбрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдПрдХ рд░рд┐рдкреЛрд░реНрдЯ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред  рдпрд╣ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдЕрдиреБрдХреВрд▓рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд┐рд╖реНрдХрд░реНрд╖ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рд╣реИред </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/EduXgLWAhm8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br><h1 id="snizhayte-krosspokolencheskuyu-svyaznost">  рдХреНрд░реЙрд╕-рдЬрдирд░реЗрд╢рди рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХреЛ рдХрдо рдХрд░реЗрдВ </h1><br><h3 id="problema">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣рдг рдЧрддрд┐ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, GC рдЬрдм рднреА рд╕рдВрднрд╡ рд╣реЛ рдпреБрд╡рд╛ рдкреАрдврд╝реА рдХреЛ рдЗрдХрдЯреНрдард╛ рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЙрд╕реЗ рдкреБрд░рд╛рдиреА рдкреАрдврд╝рд┐рдпреЛрдВ рд╕реЗ рд▓рд┐рдВрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдЬрд╛рдирдХрд╛рд░реА рдЪрд╛рд╣рд┐рдП (рд╡реЗ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдЬрдбрд╝ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддреЗ рд╣реИрдВ): рдХрд╛рд░реНрдб рдЯреЗрдмрд▓ рдХреЗред </p><br><p>  рдЙрд╕реА рд╕рдордп, рдпреБрд╡рд╛ рдкреАрдврд╝реА рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕реЗ рдПрдХ рд▓рд┐рдВрдХ рдЖрдкрдХреЛ рдХрд╛рд░реНрдб рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд╕рд╛рде рдХреНрд╖реЗрддреНрд░ рдХреЛ рдХрд╡рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд░рддрд╛ рд╣реИ: </p><br><ul><li>  4 рдмрд╛рдЗрдЯреНрд╕ рдУрд╡рд░рд▓реИрдк 4 рдХреЗрдмреА рдпрд╛ рдЕрдзрд┐рдХрддрдоред  320 рд╡рд╕реНрддреБрдУрдВ - x86 рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рд▓рд┐рдП </li><li>  8 рдмрд╛рдЗрдЯреНрд╕ рдУрд╡рд░рд▓реИрдк 8 рдХреЗрдмреА рдпрд╛ рдЕрдзрд┐рдХрддрдоред  320 рд╡рд╕реНрддреБрдУрдВ - x64 рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рд▓рд┐рдП </li></ul><br><p>  рдпрд╛рдиреА  рдЬреАрд╕реА, рдХрд╛рд░реНрдб рддрд╛рд▓рд┐рдХрд╛ рдХреА рдЬрд╛рдВрдЪ, рдЗрд╕рдореЗрдВ рдПрдХ рдЧреИрд░-рд╢реВрдиреНрдп рдореВрд▓реНрдп рдХреА рдмреИрдардХ, рд╣рдорд╛рд░реА рдкреАрдврд╝реА рдореЗрдВ рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рд▓рд┐рдВрдХ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрддрдо 320 рд╡рд╕реНрддреБрдУрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рд╣реИред </p><br><p>  рдЗрд╕рд▓рд┐рдП рдпреБрд╡рд╛ рдкреАрдврд╝реА рдореЗрдВ рд╡рд┐рд░рд▓ рд╕рдВрдмрдВрдз рдЬреАрд╕реА рдХреЛ рдЕрдзрд┐рдХ рд╕рдордп рд▓реЗрдиреЗ рд╡рд╛рд▓реЗ рдмрдирд╛ рджреЗрдВрдЧреЗ </p><br><h3 id="reshenie">  рдирд┐рд░реНрдгрдп </h3><br><ul><li>  рдпреБрд╡рд╛ рдкреАрдврд╝реА рдореЗрдВ рдХрдиреЗрдХреНрд╢рди рдХреЗ рд╕рд╛рде рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдВ - рдкрд╛рд╕; </li><li>  рдпрджрд┐ рд╢реВрдиреНрдп рдкреАрдврд╝реА рдХреА рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдпрд╛рддрд╛рдпрд╛рдд рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдкреБрд▓рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рдпрд╛рдиреА  рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдПрдХ рдкреВрд▓ рдмрдирд╛рдПрдВ (рдХреЛрдИ рдирдпрд╛ рдирд╣реАрдВ рд╣реЛрдЧрд╛: рд╢реВрдиреНрдп рдкреАрдврд╝реА рдХреА рдХреЛрдИ рд╡рд╕реНрддреБ рдирд╣реАрдВ рд╣реЛрдЧреА)ред  рдФрд░ рдЖрдЧреЗ, рд▓рдЧрд╛рддрд╛рд░ рджреЛ GCs рдХреЗ рд╕рд╛рде рдкреВрд▓ рдХреЛ "рд╡рд╛рд░реНрдо рдЕрдк" рдХрд░рдХреЗ, рддрд╛рдХрд┐ рдЗрд╕рдХреА рд╕рд╛рдордЧреНрд░реА рджреВрд╕рд░реА рдкреАрдврд╝реА рдореЗрдВ рд╡рд┐рдлрд▓ рд╣реЛрдиреЗ рдХреА рдЧрд╛рд░рдВрдЯреА рд╣реЛ, рдЖрдк рдЗрд╕ рддрд░рд╣ рдпреБрд╡рд╛ рдкреАрдврд╝реА рдХреЗ рд▓рд┐рдВрдХ рд╕реЗ рдмрдЪрддреЗ рд╣реИрдВ рдФрд░ рдХрд╛рд░реНрдб рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╢реВрдиреНрдп рд╣реЛрддреЗ рд╣реИрдВ; </li><li>  рдпреБрд╡рд╛ рдкреАрдврд╝реА рдХреЗ рд▓рд┐рдВрдХ рд╕реЗ рдмрдЪреЗрдВ; </li></ul><br><h1 id="ne-dopuskayte-silnoy-svyaznosti">  рдордЬрдмреВрдд рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рд╕реЗ рдмрдЪреЗрдВ </h1><br><h3 id="problema-1">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  SOH рдореЗрдВ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд╕рдВрдкреАрдбрд╝рди рдХреЗ рдЪрд░рдг рдХреЗ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рд╕реЗ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╣реИ: </p><br><ul><li>  рдвреЗрд░ рдХреЛ рд╕рдВрдкреАрдбрд╝рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкреЗрдбрд╝ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдЬрд╛рдиреЗ рдФрд░ рд╕рднреА рд▓рд┐рдВрдХ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЙрдиреНрд╣реЗрдВ рдирдП рдореВрд▓реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рдХрд░рдирд╛ </li><li>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХрд╛рд░реНрдб рддрд╛рд▓рд┐рдХрд╛ рд╕реЗ рд▓рд┐рдВрдХ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдкреВрд░реЗ рд╕рдореВрд╣реЛрдВ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВ </li></ul><br><p>  рдЗрд╕рд▓рд┐рдП, рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕рд╛рдорд╛рдиреНрдп рдордЬрдмреВрдд рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдЬреАрд╕реА рдХреЗ рджреМрд░рд╛рди рдШрдЯрд╛рд╡ рдкреИрджрд╛ рдХрд░ рд╕рдХрддреА рд╣реИред </p><br><h3 id="reshenie-1">  рдирд┐рд░реНрдгрдп </h3><br><ul><li>  рдкрд╛рд╕ рдХреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдПрдХ рдкреАрдврд╝реА рдореЗрдВ, рджреГрдврд╝рддрд╛ рд╕реЗ рдЬреЛрдбрд╝рд╛ рд╣реИ </li><li>  рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдЕрдирд╛рд╡рд╢реНрдпрдХ рд▓рд┐рдВрдХ рд╕реЗ рдмрдЪреЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рдХреЙрдкреА рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп-&gt; рд▓рд┐рдВрдХ рдХреЛ рд╣реИрдВрдбрд▓ рдХрд░реЗрдВ, рдкрд╣рд▓реЗ рд╕реЗ рдореМрдЬреВрдж рдЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ-&gt; рд╕реЗрд╡рд╛-&gt; рд╣реИрдВрдбрд▓) </li><li>  рдЫрд┐рдкреЗ рд╣реБрдП рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рд╡рд╛рд▓реЗ рдХреЛрдб рд╕реЗ рдмрдЪреЗрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдмрдВрдж </li></ul><br><h1 id="monitorte-ispolzovanie-segmentov">  рдЦрдВрдб рдХреЗ рдЙрдкрдпреЛрдЧ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░реЗрдВ </h1><br><h3 id="problema-2">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдЧрд╣рди рдХрд╛рд░реНрдп рдХреЗ рджреМрд░рд╛рди, рдирдИ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдЖрд╡рдВрдЯрди рдореЗрдВ рджреЗрд░реА рд╣реЛрдиреЗ рдкрд░ рд╕реНрдерд┐рддрд┐ рдЙрддреНрдкрдиреНрди рд╣реЛ рд╕рдХрддреА рд╣реИ: рдХрдЪрд░реЗ рдХреЛ рд╕рд╛рдл рдХрд░рддреЗ рд╕рдордп рдвреЗрд░ рдХреЗ рдиреАрдЪреЗ рдирдП рдЦрдВрдбреЛрдВ рдХрд╛ рдЖрд╡рдВрдЯрди рдФрд░ рдЙрдирдХреЗ рдЖрдЧреЗ рдХрд╛ рдЕрдкрдШрдЯрди </p><br><h3 id="reshenie-2">  рдирд┐рд░реНрдгрдп </h3><br><ul><li>  рдирдП рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рдЪрдпрди рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдФрд░ рдЙрдирдХреЗ рд╡рд┐рдШрдЯрди рдФрд░ рд╡рд┐рдореЛрдЪрди рдХреЗ рд▓рд┐рдП PerfMon / Sysinternal рдпреВрдЯрд┐рд▓рд┐рдЯреАрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </li><li>  рдпрджрд┐ рд╣рдо LOH рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЬреЛ рдПрдХ рдШрдиреЗ рдмрдлрд░ рдЯреНрд░реИрдлрд╝рд┐рдХ рд╣реИ, рддреЛ ArrayPool рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ </li><li> рдпрджрд┐ рд╣рдо SOH рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рд╕рдорд╛рди рдЬреАрд╡рдирдХрд╛рд▓ рдХреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдкрд╛рд╕ рдореЗрдВ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдХрд▓реЗрдХреНрдЯ рдХреЗ рдмрдЬрд╛рдп рд╕реНрд╡реАрдк рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ </li><li>  SOH: рдСрдмреНрдЬреЗрдХреНрдЯ рдкреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ </li></ul><br><h1 id="ne-vydelyayte-pamyat-v-nagruzhennyh-uchastkah-koda">  рдХреЛрдб рдХреЗ рд▓реЛрдб рдХрд┐рдП рдЧрдП рдЕрдиреБрднрд╛рдЧреЛрдВ рдореЗрдВ рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрд┐рдд рди рдХрд░реЗрдВ </h1><br><h3 id="problema-3">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдХреЛрдб рдХрд╛ рднрд░рд╛ рд╣реБрдЖ рдЦрдВрдб рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрд┐рдд рдХрд░рддрд╛ рд╣реИ: </p><br><ul><li>  рдирддреАрдЬрддрди, GC 1Kb рдХреА рдирд╣реАрдВ рдмрд▓реНрдХрд┐ 8Kb рдХреА рдЖрд╡рдВрдЯрди рд╡рд┐рдВрдбреЛ рдХрд╛ рдЪрдпрди рдХрд░рддрд╛ рд╣реИред </li><li>  рдпрджрд┐ рдЦрд┐рдбрд╝рдХреА рдЕрдВрддрд░рд┐рдХреНрд╖ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рддреА рд╣реИ, рддреЛ рдпрд╣ рдПрдХ рдЬреАрд╕реА рдФрд░ рдмрдВрдж рдХреНрд╖реЗрддреНрд░ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддрд╛ рд╣реИ </li><li>  рдирдИ рд╡рд╕реНрддреБрдУрдВ рдХреА рдПрдХ рдШрдиреАрднреВрдд рдзрд╛рд░рд╛ рдЕрдиреНрдп рдереНрд░реЗрдбреНрд╕ рд╕реЗ рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рдЦрд░рд╛рдм рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рдкреБрд░рд╛рдиреА рдкреАрдврд╝реА рдореЗрдВ рдЪрд▓реА рдЬрд╛рдПрдЧреА </li><li>  рдЬрд┐рд╕рд╕реЗ рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣рдг рдХрд╛ рд╕рдордп рдмрдврд╝реЗрдЧрд╛ </li><li>  рдЬрд┐рд╕рд╕реЗ рд╕рдорд╡рд░реНрддреА рдореЛрдб рдореЗрдВ рднреА рджреБрдирд┐рдпрд╛ рдХреЛ рдЕрдзрд┐рдХ рд╕рдордп рддрдХ рд░реЛрдХрд╛ рдЬрд╛ рд╕рдХреЗрдЧрд╛ </li></ul><br><h3 id="reshenie-3">  рдирд┐рд░реНрдгрдп </h3><br><ul><li>  рдХреЛрдб рдХреЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЦрдВрдбреЛрдВ рдореЗрдВ рдХреНрд▓реЛрдЬрд░ рдХреЗ рдЙрдкрдпреЛрдЧ рдкрд░ рдкреВрд░реНрдг рдкреНрд░рддрд┐рдмрдВрдз </li><li>  рдХреЛрдб рдХреЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЦрдВрдбреЛрдВ рдкрд░ рдореБрдХреНрдХреЗрдмрд╛рдЬреА рдХрд╛ рдкреВрд░реНрдг рдирд┐рд╖реЗрдз (рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рдЖрдк рдЦреАрдВрдЪрдиреЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдиреБрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ) </li><li>  рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛ рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рдмреЗрд╣рддрд░ рд░реЗрдлрд░реА рд╕рдВрд░рдЪрдирд╛ рд╣реИред  рдЬрдм рдЦреЗрддреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ 2 рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛ, рддреЛ рд░реЗрдл рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд░рд┐рдд рдХрд░реЗрдВ </li></ul><br><h1 id="izbegayte-izlishnih-vydeleniy-pamyati-v-loh">  LOH рдореЗрдВ рдЕрдирд╛рд╡рд╢реНрдпрдХ рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрди рд╕реЗ рдмрдЪреЗрдВ </h1><br><h3 id="problema-4">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  LOH рдореЗрдВ рдПрд░реЗрдЬрд╝ рд░рдЦрдиреЗ рд╕реЗ рдЬреАрд╕реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рд╡рд┐рдЦрдВрдбрди рдпрд╛ рднрд╛рд░ рд╣реЛрддрд╛ рд╣реИ </p><br><h3 id="reshenie-4">  рдирд┐рд░реНрдгрдп </h3><br><ul><li>  рд╕рд░рдгрд┐рдпреЛрдВ рдХреЗ рд╡рд┐рднрд╛рдЬрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрдк-рд╡рд░реНрдЧреЛрдВ рдореЗрдВ рдХрд░реЗрдВ рдФрд░ рдПрдХ рдРрд╕рд╛ рд╡рд░реНрдЧ рдЬреЛ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╕рд░рдгрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рддрд░реНрдХ рдХреЛ рдЕрд▓рдЧ рдХрд░рддрд╛ рд╣реИ (рдЕрд░реНрдерд╛рдд, рд╕реВрдЪреА &lt;рдЯреА&gt; рдХреЗ рдмрдЬрд╛рдп, рдЬрд╣рд╛рдВ рдореЗрдЧрд╛-рд╕рд░рдгреА рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИ, рд╕рд░рдгреА рдХреЗ рд╕рд╛рде рдЗрд╕рдХрд╛ MyList [] [], рд╕рд░рдгреА рдХреЛ рдереЛрдбрд╝рд╛ рдЫреЛрдЯрд╛ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рддрд╛ рд╣реИ) <br><ul><li>  рдПрд░реЛрд╕ рдПрд╕рдУрдПрдЪ рдЬрд╛рдПрдВрдЧреЗ </li><li>  рдХреВрдбрд╝реЗ рдХреЗ рд╕рдВрдЧреНрд░рд╣ рдХреЗ рдПрдХ рдЬреЛрдбрд╝реЗ рдХреЗ рдмрд╛рдж, рд╡реЗ рдХрднреА-рдХрднреА рдЬреАрд╡рд┐рдд рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдмрдЧрд▓ рдореЗрдВ рд▓реЗрдЯ рдЬрд╛рдПрдВрдЧреЗ рдФрд░ рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрдШрд░реНрд╖ рдХрд░реЗрдВрдЧреЗ </li></ul></li><li>  1000 рд╕реЗ рдЕрдзрд┐рдХ рддрддреНрд╡реЛрдВ рдХреА рд▓рдВрдмрд╛рдИ рдХреЗ рд╕рд╛рде рджреЛрд╣рд░реЗ рд╕рд░рдгрд┐рдпреЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░реЗрдВред </li></ul><br><h1 id="gde-opravdano-i-vozmozhno-ispolzovat-thread-stack">  рдЬрд╣рд╛рдВ рдЙрдЪрд┐рдд рдФрд░ рд╕рдВрднрд╡ рд╣реЛ, рдереНрд░реЗрдб рд╕реНрдЯреИрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ </h1><br><h3 id="problema-5">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдПрдХ рд╡рд┐рдзрд┐ рдХреЙрд▓ (рдЖрдВрддрд░рд┐рдХ рдХреЙрд▓ рд╕рд╣рд┐рдд) рдХреЗ рднреАрддрд░ рд░рд╣рдиреЗ рд╡рд╛рд▓реЗ рдХрдИ рдЕрд▓реНрдЯреНрд░рд╛рд╢реЙрд░реНрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдпрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВред  рд╡реЗ рд╡рд╕реНрддреБ рдпрд╛рддрд╛рдпрд╛рдд рдмрдирд╛рддреЗ рд╣реИрдВ </p><br><h3 id="reshenie-5">  рдирд┐рд░реНрдгрдп </h3><br><ul><li>  рд╕реНрдЯреИрдХ рдкрд░ рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЬрд╣рд╛рдВ рд╕рдВрднрд╡ рд╣реЛ: <br><ul><li>  рдпрд╣ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рд▓реЛрдб рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ </li><li>  рдЬреАрд╕реА рд▓реЛрдб рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ </li><li>  рдореЗрдореЛрд░реА рдЬрд╛рд░реА рдХрд░рдирд╛ - рддреБрд░рдВрдд </li></ul></li><li> <code>Span T x = stackalloc T[];</code> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ <code>Span T x = stackalloc T[];</code>  <code>new T[]</code> рдмрдЬрд╛рдп рдЬрд╣рд╛рдВ рд╕рдВрднрд╡ рд╣реЛ </li><li>  рдЬрд╣рд╛рдБ рд╕рдВрднрд╡ рд╣реЛ, <code>Span/Memory</code> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ </li><li>  <code>ref stack</code> рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдореЗрдВ рдХрдирд╡рд░реНрдЯ рдХрд░реЗрдВ (StackList: рд╕реНрдЯреНрд░рдХреНрдЪрд░, <a href="">ValueStringBuilder</a> ) </li></ul><br><h1 id="osvobozhdayte-obekty-kak-mozhno-ranshe">  рдЬрд┐рддрдиреА рдЬрд▓реНрджреА рд╣реЛ рд╕рдХреЗ рдореБрдХреНрдд рд╡рд╕реНрддреБрдУрдВ </h1><br><h3 id="problema-6">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд▓реНрдкрдирд╛ рдХреА рдЧрдИ, рд╡рд╕реНрддреБрдПрдВ рдЬреАрди 1 рдореЗрдВ рдФрд░ рдХрднреА-рдХрднреА рдЬреАрди 2 рдореЗрдВ рдЖрддреА рд╣реИрдВред <br>  рдпрд╣ рдПрдХ рднрд╛рд░реА рдЬреАрд╕реА рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рд╣реИ рдЬреЛ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд░рд╣рддрд╛ рд╣реИ </p><br><h3 id="reshenie-6">  рдирд┐рд░реНрдгрдп </h3><br><ul><li>  рдЖрдкрдХреЛ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕рдВрджрд░реНрдн рдХреЛ рдпрдерд╛рд╢реАрдШреНрд░ рдЬрд╛рд░реА рдХрд░рдирд╛ рд╣реЛрдЧрд╛ </li><li>  рдпрджрд┐ рдПрдХ рд▓рдВрдмреА рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдореЗрдВ рдХреЛрдб рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдХрд┐рд╕реА рднреА рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдХреЛрдб рджреНрд╡рд╛рд░рд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЬрд┐рд╕реЗ рдПрдХ рд╕реНрдерд╛рди рдкрд░ рд╕рдореВрд╣рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрд╕реЗ рд╕рдореВрд╣рдмрджреНрдз рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЙрдиреНрд╣реЗрдВ рдкрд╣рд▓реЗ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред <br><ul><li>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд▓рд╛рдЗрди 10 рдкрд░, рд╕рдВрдЧреНрд░рд╣ рдХреЛ рдирд┐рдХрд╛рд▓ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рд▓рд╛рдЗрди 120 рдкрд░, рдЗрд╕реЗ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </li></ul></li></ul><br><h1 id="vyzyvat-gccollect-ne-nuzhno">  GC.Collect () рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ </h1><br><h3 id="problema-7">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдЕрдХреНрд╕рд░ рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рдЖрдк GC.Collect () рдХрд╣рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд╕реНрдерд┐рддрд┐ рдХреЛ рдареАрдХ рдХрд░ рджреЗрдЧрд╛ </p><br><h3 id="reshenie-7">  рдирд┐рд░реНрдгрдп </h3><br><ul><li>  рдпрд╣ рдЬреАрд╕реА рдСрдкрд░реЗрд╢рди рдПрд▓реНрдЧреЛрд░рд┐рджрдо рд╕реАрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╕рд╣реА рд╣реИ, рдИрдЯреАрдбрдмреНрд▓реНрдпреВ рдФрд░ рдЕрдиреНрдп рдбрд╛рдпрдЧреНрдиреЛрд╕реНрдЯрд┐рдХ рдЯреВрд▓ (рдЬреЗрдЯрдмреНрд░реЗрдиреНрд╕ рдбреЙрдЯрдореЗрд░реА, ...) рдХреЗ рддрд╣рдд рдЖрд╡реЗрджрди рдХреЛ рджреЗрдЦреЗрдВред </li><li>  рд╕рдмрд╕реЗ рд╕рдорд╕реНрдпрд╛рдЧреНрд░рд╕реНрдд рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░реЗрдВ </li></ul><br><h1 id="izbegayte-pinning">  рдкрд┐рдирд┐рдВрдЧ рд╕реЗ рдмрдЪреЗрдВ </h1><br><h3 id="problema-8">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдкрд┐рдирд┐рдВрдЧ рдореЗрдВ рдХрдИ рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реИрдВ: </p><br><ul><li>  рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣рдг рдХреА рд╢рд┐рдХрд╛рдпрдд рдХрд░рддрд╛ рд╣реИ </li><li>  рдореБрдХреНрдд рдореЗрдореЛрд░реА рд╕реНрдкреЗрд╕ рдмрдирд╛рддрд╛ рд╣реИ (рдиреЛрдбреНрд╕ рдлреНрд░реА-рд▓рд┐рд╕реНрдЯ рдЖрдЗрдЯрдо, рдИрдВрдЯреЛрдВ рдХреА рдореЗрдЬ, рдмрд╛рд▓реНрдЯреА) </li><li>  рдХрд╛рд░реНрдб рдЯреЗрдмрд▓ рд╕реЗ рд▓рд┐рдВрдХ рдмрдирд╛рддреЗ рд╕рдордп рдпреБрд╡рд╛ рдкреАрдврд╝реА рдореЗрдВ рдХреБрдЫ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ </li></ul><br><h3 id="reshenie-8">  рдирд┐рд░реНрдгрдп </h3><br><p>  рдпрджрд┐ рдХреЛрдИ рдЕрдиреНрдп рд░рд╛рд╕реНрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдирд┐рд╢реНрдЪрд┐рдд () {} рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рдХрдорд┐рдЯ рдХрд╛ рдпрд╣ рддрд░реАрдХрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХрдорд┐рдЯ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ: рдпрд╣ рдХреЗрд╡рд▓ рддрдм рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдЬреАрд╕реА рдиреЗ рдШреБрдВрдШрд░рд╛рд▓реЗ рдмреНрд░реЗрд╕ рдХреЗ рдЕрдВрджрд░ рдХрд╛рдо рдХрд┐рдпрд╛ рд╣реЛред </p><br><h1 id="izbegayte-finalizacii">  рдЕрдВрддрд┐рдо рд░реВрдк рджреЗрдиреЗ рд╕реЗ рдмрдЪреЗрдВ </h1><br><h3 id="problema-9">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдЕрдВрддрд┐рдо рд░реВрдк рд╕реЗ рдирд┐рдпрдд рдирд╣реАрдВ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ: </p><br><ul><li>  рдмрд┐рди рдмреБрд▓рд╛рдП рд╡рд╕реНрддреБ () рд╡рд╕реНрддреБ рд╕реЗ рд╕рднреА рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рд▓рд┐рдВрдХ рдХреЗ рд╕рд╛рде рдЕрдВрддрд┐рдо рд░реВрдк рджреЗрдиреЗ рдореЗрдВ рдкрд░рд┐рдгрд╛рдо </li><li>  рдЖрд╢реНрд░рд┐рдд рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдпреЛрдЬрдирд╛ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рджреЗрд░реА рд╣реЛ рд░рд╣реА рд╣реИ </li><li>  рдмреБрдврд╝рд╛рдкрд╛, рдкреБрд░рд╛рдиреА рдкреАрдврд╝рд┐рдпреЛрдВ рдХреА рдУрд░ рдмрдврд╝ рд░рд╣рд╛ рд╣реИ </li><li>  рдпрджрд┐ рдЙрд╕реА рд╕рдордп рдЙрдирдХреЗ рдкрд╛рд╕ рдЫреЛрдЯреЗ рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдВрдХ рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рд╡реЗ рдХрд╛рд░реНрдб рдЯреЗрдмрд▓ рд╕реЗ рд▓рд┐рдВрдХ рдЙрддреНрдкрдиреНрди рдХрд░рддреЗ рд╣реИрдВ </li><li>  рдкреБрд░рд╛рдиреА рдкреАрдврд╝рд┐рдпреЛрдВ рдХреА рдЕрд╕реЗрдВрдмрд▓реА рдХреА рд╢рд┐рдХрд╛рдпрдд рдХрд░рдирд╛, рдЙрдиреНрд╣реЗрдВ рдЯреБрдХрдбрд╝реЗ рдЯреБрдХрдбрд╝реЗ рдХрд░рдирд╛ рдФрд░ рд╕реНрд╡реАрдк рдХреЗ рдмрдЬрд╛рдп рдХреЙрдореНрдкреИрдХреНрдЯ рдХрд░рдирд╛ </li></ul><br><h3 id="reshenie-9">  рдирд┐рд░реНрдгрдп </h3><br><p>  рдзреАрд░реЗ рд╕реЗ рдХреЙрд▓ рдбрд┐рд╕реНрдкреЛрдЬрд╝ () </p><br><h1 id="izbegayte-bolshogo-kolichestva-potokov">  рдмрд╣реБрдд рд╕рд╛рд░реЗ рдзрд╛рдЧреЗ рд╕реЗ рдмрдЪреЗрдВ </h1><br><h3 id="problema-10">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдереНрд░реЗрдбреНрд╕ рдХреЗ рд╕рд╛рде, рдЖрд╡рдВрдЯрди рд╕рдВрджрд░реНрдн рдмрдврд╝рддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐  рдЙрдиреНрд╣реЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдзрд╛рдЧреЗ рдХреЛ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: </p><br><ul><li>  рдирддреАрдЬрддрди, GC.Collect рддреЗрдЬреА рд╕реЗ рдЖрддрд╛ рд╣реИред </li><li>  рдкрдВрдЪрд╛рдВрдЧ рдЦрдВрдб рдореЗрдВ рдЬрдЧрд╣ рдХреА рдХрдореА рдХреЗ рдХрд╛рд░рдг, рд╕рдВрдЧреНрд░рд╣ рд╕рд╛рдореВрд╣рд┐рдХ рд╕реНрд╡реАрдк рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдЧрд╛ </li></ul><br><h3 id="reshenie-10">  рдирд┐рд░реНрдгрдп </h3><br><ul><li>  рдХреЛрд░ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рдереНрд░реЗрдбреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░реЗрдВ </li></ul><br><h1 id="izbegayte-traffika-obektov-raznogo-razmera">  рд╡рд┐рднрд┐рдиреНрди рдЖрдХрд╛рд░реЛрдВ рдХреА рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдпрд╛рддрд╛рдпрд╛рдд рд╕реЗ рдмрдЪреЗрдВ </h1><br><h3 id="problema-11">  рд╕рдорд╕реНрдпрд╛ </h3><br><p>  рдЬрдм рд╡рд┐рднрд┐рдиреНрди рдЖрдХрд╛рд░реЛрдВ рдФрд░ рдЬреАрд╡рдирдХрд╛рд▓ рдХреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╡рд┐рдЦрдВрдбрди рд╣реЛрддрд╛ рд╣реИ: </p><br><ul><li>  рд╡рд┐рдЦрдВрдбрди рдЕрдиреБрдкрд╛рдд рдмрдврд╝рд╛рдПрдБ </li><li>  рд╕рднреА рд╕рдВрджрд░реНрдн рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдореЗрдВ рдкрддрд╛ рдкрд░рд┐рд╡рд░реНрддрди рдЪрд░рдг рдХреЗ рд╕рд╛рде рд╕рдВрдЧреНрд░рд╣ рдЯреНрд░рд┐рдЧрд░ </li></ul><br><h3 id="reshenie-11">  рдирд┐рд░реНрдгрдп </h3><br><p>  рдпрджрд┐ рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдЖрд╡рд╛рдЧрдорди рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ: </p><br><ul><li>  рдЕрддрд┐рд░рд┐рдХреНрдд рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪреЗрдВ, рдЖрдХрд╛рд░ рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рддреЗ рд╣реБрдП </li><li>  рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реЗрд░рдлреЗрд░ рдХреА рдХрдореА рдХреЗ рд▓рд┐рдП рдЬрд╛рдБрдЪ рдХрд░реЗрдВ: рдЬрд╣рд╛рдВ рд╕рдВрднрд╡ рд╣реЛ, ReadOnlySpan / ReadOnlyMemory рд╕реЗ рдмрджрд▓реЗрдВ </li><li>  рдЬрд┐рддрдиреА рдЬрд▓реНрджреА рд╣реЛ рд╕рдХреЗ рд▓рд┐рдВрдХ рдЬрд╛рд░реА рдХрд░реЗрдВ </li><li>  рдЦреАрдВрдЪрдиреЗ рдХрд╛ рд▓рд╛рдн рдЙрдард╛рдПрдВ </li><li>  рдХреЙрдореНрдкреИрдХреНрдЯ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд▓рд┐рдП рдбрдмрд▓ рдЬреАрд╕реА рдХреЗ рд╕рд╛рде рдЧрд░реНрдо рдХреИрд╢ рдФрд░ рдкреВрд▓ред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЖрдк рдХрд╛рд░реНрдб рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдУрдВ рд╕реЗ рдмрдЪрддреЗ рд╣реИрдВред </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi453082/">https://habr.com/ru/post/hi453082/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi453072/index.html">рдореИрдВрдиреЗ Google рдХреНрд▓рд╛рдЙрдб рдкреНрд░реЛрдлреЗрд╢рдирд▓ рдбреЗрдЯрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░ рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрд╢рди рдкрд░реАрдХреНрд╖рд╛ рдХреИрд╕реЗ рдЙрддреНрддреАрд░реНрдг рдХреА</a></li>
<li><a href="../hi453074/index.html">рд╡реЛрд▓реНрдлреНрд░рд╛рдо рдЗрдВрдЬрди рдЕрдм рдбреЗрд╡рд▓рдкрд░реНрд╕ (рдЕрдиреБрд╡рд╛рдж) рдХреЗ рд▓рд┐рдП рдЦреБрд▓рд╛ рд╣реИ</a></li>
<li><a href="../hi453076/index.html">рдЦреБрдж рдХрд╛ рд╡реНрдпрд╡рд╕рд╛рдп: рдЗрд╕ рдЦреЗрд▓ рдХреЛ рдкрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░рдгрдиреАрддрд┐ рдХреЗ рд╕рд╛рде рдПрдХ рдкреБрд╕реНрддрдХ</a></li>
<li><a href="../hi453078/index.html">рд╕рдореАрдХреНрд╖рд╛ред рдПрдХ рдлреНрд░реАрд▓рд╛рдВрд╕рд░ рдХреЗ рдЬреАрд╡рди рдореЗрдВ рдЙрдирдХреА рднреВрдорд┐рдХрд╛ рдФрд░ рди рдХреЗрд╡рд▓</a></li>
<li><a href="../hi453080/index.html">рдРрд▓рд┐рд╕ рдХреЗ рд╕рд╛рде рд╕реНрдорд╛рд░реНрдЯ рдШрд░ред Yandex рд╕рднреА рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдЦреЛрд▓рддрд╛ рд╣реИ</a></li>
<li><a href="../hi453084/index.html">рдкреГрд╖реНрдарднреВрдорд┐: рдпреВрдПрд╕-рд╣реБрдЖрд╡реЗрдИ рд╕рдВрдШрд░реНрд╖ - рд╕рдордп рдФрд░ рдХрд╛рд░рдг</a></li>
<li><a href="../hi453088/index.html">"рдУрдкрди рдСрд░реНрдЧрдирд╛рдЗрдЬреЗрд╢рди": рдЕрд░рд╛рдЬрдХрддрд╛ рдФрд░ рд░реИрд▓реА рдХреЗ рд▓рд╛рдЦреЛрдВ рд▓реЛрдЧреЛрдВ рдореЗрдВ рдЦреЛ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреИрд╕реЗ рдирд╣реАрдВ</a></li>
<li><a href="../hi453090/index.html">MERLION, Zextras рдХрд╛ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡рд┐рддрд░рдХ рдмрди рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЬреЛрдореНрд░рд╛ рдореЗрд▓ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдПрдХ рдкреНрд░рдореБрдЦ рд╡реИрд╢реНрд╡рд┐рдХ рдбреЗрд╡рд▓рдкрд░ рд╣реИ</a></li>
<li><a href="../hi453092/index.html">рд╕реНрдкрдВрджрди рдбреЗрд╕реНрдХрдЯреЙрдк рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдПрдХ рд╕рд╛рде рд▓рд╛рдирд╛</a></li>
<li><a href="../hi453094/index.html">MD5 рд╣реИрд╢ рдореЗрдВ рдЕрдВрдХ рдЖрд╡реГрддреНрддрд┐ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>