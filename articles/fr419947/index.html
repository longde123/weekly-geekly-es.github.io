<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîã ü¶ñ üö∂üèæ Connectez-vous √† PiZeroW avec Raspbian Stretch Lite, sans adaptateurs suppl√©mentaires ni moniteur üí¨ üî¥ üë®‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En g√©n√©ral, l'autre jour, je suis tomb√© entre les mains d'un Raspberry Pi Zero W. Mais la difficult√© √©tait qu'il n'a que des ports micro pour la conne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Connectez-vous √† PiZeroW avec Raspbian Stretch Lite, sans adaptateurs suppl√©mentaires ni moniteur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419947/"><p>  En g√©n√©ral, l'autre jour, je suis tomb√© entre les mains d'un Raspberry Pi Zero W. Mais la difficult√© √©tait qu'il n'a que des ports micro pour la connexion, et je n'avais pas d'adaptateurs pour eux. <br><img src="https://habrastorage.org/getpro/habr/post_images/ed8/cb8/6a2/ed8cb86a2c81a805037301098894f78f.jpg" alt="image"><br>  Et cela a rendu la configuration difficile, contrairement au m√™me Raspbery Pi 3+ </p><a name="habracut"></a><br><p>  Si vous n'avez pas recours √† un fer √† souder et √† des cartes d'extension, les framboises ont √† bord deux microUSB et un microHDMI.  S'il y avait deux adaptateurs (microHDMI (M) -HDMI (F) et microUSB (M) -USB (F)), vous pouvez le connecter au moniteur et au clavier, puis tout configurer en mode console.  Mais comme je l'ai dit, je n'avais pas de tels adaptateurs, le magasin le plus proche √©tait assez loin et il n'y avait tout simplement pas de patience pour attendre la livraison. </p><br><p>  Bien s√ªr, nous avons encore besoin d'adaptateurs, mais ils sont faciles √† obtenir.  En particulier, le cordon microUSB peut √™tre pris du t√©l√©phone un adaptateur SD √† la carte microSD de la cam√©ra. </p><br><p> Afin de me connecter, j'ai trouv√© deux fa√ßons.  Le premier est sur le WiFi.  Tout ce dont vous avez besoin est de configurer le WiFi et SSH dessus.  Mais vous devez le faire uniquement √† l'aide d'une carte SD.  Et comme je n'avais qu'un MacBook depuis un ordinateur, je n'avais pas acc√®s √† la partition Linux (je n'ai pas envisag√© l'option d'installer <strong>ext4fuse</strong> ).  Tout ce qui restait √©tait la partition <strong>/ boot</strong> , qui √©tait en FAT32 et fonctionnait √† merveille avec MacOS.  Par cons√©quent, tout ce que nous ferons se produira dans cette section. </p><br><p>  Donc, la premi√®re chose dont nous avons besoin est d'activer l'acc√®s SSH √† la framboise. <br>  Pour ce faire, cr√©ez un fichier <strong>ssh</strong> sans aucun contenu ni extension </p><br><pre><code class="bash hljs">touch /Volumes/boot/ssh</code> </pre> <br><p>  Deuxi√®mement, nous devons en quelque sorte configurer la connexion WiFi au d√©marrage <br>  Pour ce faire, vous devez d'abord obtenir le hachage de mot de passe pour le WiFi.  Et puis j'ai rencontr√© un nouveau probl√®me, comment le faire sur MacOS.  Depuis avant, je devais configurer la connexion pour la pr√©sence d'une sorte de machine Linux.  L√† c'est fait comme √ßa </p><br><pre> <code class="bash hljs">wpa_passphrase __ </code> </pre> <br><p>  Le r√©sultat de l'√©quipe ressemblait √† ceci </p><br><pre> <code class="bash hljs">network={ ssid=<span class="hljs-string"><span class="hljs-string">"__"</span></span> psk=656c4700f528aced39b853b3c51b3fdcfc55409faa83a6402e936842237ac6f3 }</code> </pre> <br><p>  Eh bien, pour MacOs, je n'ai pas trouv√© comment g√©n√©rer du <strong>psk</strong> .  Par cons√©quent, j'ai d√ª sp√©cifier <strong>temporairement</strong> le mot de passe en texte clair.  Ou configurez le WiFi plus tard (plus √† ce sujet √† la fin de l'article) </p><br><pre> <code class="bash hljs">network={ ssid=<span class="hljs-string"><span class="hljs-string">"__"</span></span> psk=<span class="hljs-string"><span class="hljs-string">""</span></span> }</code> </pre> <br><p>  Ainsi, nous configurons tous les r√©seaux WiFi et enregistrons le r√©sultat dans le fichier <strong>wpa_supplicant.conf</strong> </p><br><pre> <code class="bash hljs">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev update_config=1 country=UK <span class="hljs-comment"><span class="hljs-comment">##       Raspbian &gt;= Stretch network={ ssid="__" psk=656c4700f528aced39b853b3c51b3fdcfc55409faa83a6402e936842237ac6f3 } network={ ssid="__2" psk="" }</span></span></code> </pre> <br><p>  Eh bien, c'est tout.  Il reste √† ins√©rer la carte dans RaspberryPi, √† brancher l'alimentation et √† attendre en moyenne ~ 90 secondes jusqu'√† ce qu'elle d√©marre et reprenne la connexion WiFi. </p><br><p>  Pour trouver l'IP framboise dans le r√©seau local, vous pouvez utiliser la commande </p><br><pre> <code class="bash hljs">arp -na | grep -i b8:27:eb</code> </pre> <br><p>  ou consultez les clients connect√©s sur un routeur WiFi. <br>  Il ne reste plus qu'√† se connecter via SSH √† l'adresse IP trouv√©e.  (Par d√©faut, si quelqu'un ne savait pas soudainement alors pour raspbian le nom d'utilisateur et le mot de passe sont <strong>pi: raspberry</strong> ) </p><br><p>  Mais il existe une autre fa√ßon de se connecter √† Raspberry.  Comme beaucoup l'ont remarqu√© sur la carte, il y a un autre connecteur USB en plus de l'alimentation, nous en aurons donc besoin.  La seule chose √† laquelle je ferai attention est que le c√¢ble USB doit √™tre compl√®tement soud√© (et pas comme je l'avais fait, seulement les deux derniers contacts d'alimentation, c'est pourquoi j'ai d'abord eu recours √† une connexion WiFi). </p><br><p>  L'essence de la deuxi√®me m√©thode est de connecter le c√¢ble USB √† un autre connecteur (ils sont <strong>√©tiquet√©s</strong> <strong>USB</strong> et <strong>PWR_IN</strong> sur la carte), d'ailleurs, dans ce cas, la carte sera aliment√©e √† partir de celui-ci. </p><br><p>  Mais vous devez d'abord ajouter plusieurs param√®tres √† deux fichiers dans la m√™me section <strong>/ boot</strong> <br>  La premi√®re consiste √† ajouter des modules Ethernet apr√®s <strong>rootwait dans cmdline.txt</strong> </p><br><pre> <code class="bash hljs">modules-load=dwc2,g_ether</code> </pre> <br><p>  Et ajoutez le second dans <strong>config.txt</strong> √† la fin du fichier </p><br><pre> <code class="bash hljs">dtoverlay=dwc2</code> </pre> <br><p>  C‚Äôest tout.  Nous ins√©rons la carte, attendons le t√©l√©chargement et nous nous connectons via SSH √† la <strong>framboise</strong> √† <strong>raspberrypi.local</strong> </p><br><p>  Apr√®s avoir acc√©d√© via SSH, vous pouvez configurer le WiFi via <strong>wpa_supplicant.conf en</strong> utilisant <strong>wpa_passphrase en</strong> utilisant le <strong>malink lui</strong> - <strong>m√™me</strong> , <strong>gardez</strong> juste <strong>√† l'esprit</strong> que le fichier de la partition <strong>/ boot</strong> est copi√© dans <strong>/ etc</strong> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419947/">https://habr.com/ru/post/fr419947/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419935/index.html">Exactement une fois n'est PAS exactement la m√™me: analyse d'article</a></li>
<li><a href="../fr419939/index.html">Comment j'ai rendu la navigation dans React Native pas si terrible</a></li>
<li><a href="../fr419941/index.html">Visite photo du bureau Audiomania: premi√®re partie</a></li>
<li><a href="../fr419943/index.html">Ce que nous lisons en juillet: comment trouver du temps pour lire, cinq livres pour le chef d'√©quipe et quelques articles frais</a></li>
<li><a href="../fr419945/index.html">Comment se pr√©parer √† un entretien sur Google et ne pas le passer. Deux fois</a></li>
<li><a href="../fr419949/index.html">Quels codecs vid√©o (non) les navigateurs utilisent-ils pour les appels vid√©o?</a></li>
<li><a href="../fr419951/index.html">Exp√©rience de l'utilisation de WebRTC. Conf√©rence Yandex</a></li>
<li><a href="../fr419953/index.html">J'√©cris un livre sur la premi√®re ¬´notre¬ª startup qui a conquis le monde: aide</a></li>
<li><a href="../fr419955/index.html">Caract√©ristiques du tampon FIFO UART dans ESP32</a></li>
<li><a href="../fr419961/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 265 (6 ao√ªt - 12 ao√ªt)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>