<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👶🏾 👠 💡 Schulung Cisco 200-125 CCNA v3.0. Tag 23. Erweiterte Routing-Technologien 🤛 🕺🏾 🗾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute werden wir uns einige Aspekte des Routings genauer ansehen. Bevor ich anfange, möchte ich die Frage der Schüler zu meinen Seiten in sozialen Net...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schulung Cisco 200-125 CCNA v3.0. Tag 23. Erweiterte Routing-Technologien</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/463581/"> Heute werden wir uns einige Aspekte des Routings genauer ansehen.  Bevor ich anfange, möchte ich die Frage der Schüler zu meinen Seiten in sozialen Netzwerken beantworten.  Links habe ich Links zu den Seiten unseres Unternehmens platziert und rechts - zu meinen persönlichen Seiten.  Ich stelle fest, dass ich meinen Freunden auf Facebook keine Personen hinzufüge, wenn ich ihn nicht persönlich kenne. Sie sollten mir daher keine Freundschaftsanfragen senden. <br><br><img src="https://habrastorage.org/webt/cd/dh/hf/cddhhfm9q5hueguocujcskcltkq.jpeg"><br><br>  Sie können einfach meine Facebook-Seite abonnieren und sich über alle Ereignisse auf dem Laufenden halten.  Ich antworte auf Nachrichten in meinem LinkedIn-Konto, damit Sie mir dort schreiben können, und natürlich bin ich auf Twitter am aktivsten.  Unter diesem Video-Tutorial finden Sie Links zu allen 6 sozialen Netzwerken, sodass Sie sie verwenden können. <a name="habracut"></a><br><br>  Wie immer werden wir heute drei Themen studieren.  Das erste ist eine Erklärung der Art des Routings, in der ich Sie über Routing-Tabellen, statisches Routing usw. informieren werde.  Dann betrachten wir das Inter-Switch-Routing, dh wie das Routing zwischen den beiden Switches erfolgt.  Am Ende der Lektion werden wir uns mit dem Konzept des Inter-VLAN-Routings vertraut machen, wenn ein Switch mit mehreren VLANs interagiert und wie die Verbindung zwischen diesen Netzwerken hergestellt wird.  Dies ist ein sehr interessantes Thema, das Sie möglicherweise mehrmals überprüfen möchten.  Es gibt ein weiteres interessantes Thema namens Router-on-a-Stick oder „Stick-Router“. <br><br>  Was ist eine Routing-Tabelle?  Dies ist die Tabelle, auf deren Grundlage Router Routing-Entscheidungen treffen.  Sie sehen, wie eine typische Cisco-Router-Routing-Tabelle aussieht.  Jeder Computer unter Windows verfügt auch über eine Routing-Tabelle, aber das ist ein anderes Thema. <br><br>  Der Buchstabe R am Anfang der Zeile bedeutet, dass die Route zum Netzwerk 192.168.30.0/24 vom RIP-Protokoll bereitgestellt wird, C bedeutet, dass das Netzwerk direkt mit der Schnittstelle des Routers verbunden ist, S bedeutet statisches Routing und der Punkt nach diesem Buchstaben zeigt an, dass diese Route Standardkandidat ist. oder der Standardkandidat für statisches Routing.  Es gibt verschiedene Arten von statischen Routen, und heute werden wir sie treffen. <br><br><img src="https://habrastorage.org/webt/vi/kv/bw/vikvbwfpuot-7hcco4vkpijzztq.jpeg"><br><br>  Betrachten Sie beispielsweise das erste Netzwerk, 192.168.30.0/24.  In der Zeile sehen Sie zwei Zahlen in eckigen Klammern, die durch einen Schrägstrich getrennt sind. Wir haben bereits darüber gesprochen.  Die erste Zahl 120 ist die administrative Entfernung, die den Grad des Vertrauens in eine bestimmte Route kennzeichnet.  Angenommen, die Tabelle hat eine andere Route zu diesem Netzwerk, die durch den Buchstaben C oder S mit einer geringeren administrativen Entfernung angezeigt wird, z. B. 1, wie beim statischen Routing.  In dieser Tabelle finden Sie keine zwei identischen Netzwerke, wenn wir keinen Mechanismus wie den Lastausgleich verwenden. Nehmen wir jedoch an, wir haben zwei Einträge für dasselbe Netzwerk.  Wenn Sie also eine kleinere Anzahl sehen, bedeutet dies, dass diese Route mehr Vertrauen verdient, und umgekehrt, je größer der Wert der Verwaltungsentfernung ist, desto weniger Vertrauen verdient diese Route.  Die nächste Zeile gibt an, welche Schnittstelle Datenverkehr senden soll - in unserem Fall ist dies Port 192.168.20.1 FastEthernet0 / 1.  Dies sind die Komponenten einer Routing-Tabelle. <br><br>  Lassen Sie uns nun darüber sprechen, wie der Router Routing-Entscheidungen trifft.  Ich habe oben den Standardkandidaten erwähnt und jetzt werde ich sagen, was dies bedeutet.  Angenommen, der Router hat Datenverkehr für das Netzwerk 30.1.1.1 empfangen, dessen Eintrag nicht in der Routing-Tabelle enthalten ist.  Im Normalfall verwirft der Router diesen Datenverkehr einfach. Wenn die Tabelle jedoch standardmäßig einen Eintrag über den Kandidaten enthält, bedeutet dies, dass alles, was der Router nicht weiß, standardmäßig an den Kandidaten gesendet wird.  In diesem Fall gibt der Eintrag an, dass der für ein unbekanntes Routernetzwerk empfangene Datenverkehr weiter über Port 192.168.10.1 geleitet werden soll.  Somit folgt der Verkehr für das Netzwerk 30.1.1.1 der Route, die der Standardkandidat ist. <br><br>  Wenn ein Router eine Anforderung zum Herstellen einer Verbindung mit einer beliebigen IP-Adresse erhält, prüft er zunächst, ob diese Adresse in einer bestimmten Route enthalten ist.  Wenn es Datenverkehr für das Netzwerk 30.1.1.1 empfängt, prüft es daher zunächst, ob seine Adresse in einem bestimmten Routing-Tabelleneintrag enthalten ist.  Wenn der Router also Datenverkehr für 192.168.30.1 empfängt, sieht er nach Überprüfung aller Einträge, dass diese Adresse im Bereich der Netzwerkadressen 192.168.30.0/24 liegt, und sendet dann Datenverkehr entlang dieser Route.  Nachdem keine spezifischen Einträge für das Netzwerk 30.1.1.1 gefunden wurden, sendet der Router den beabsichtigten Datenverkehr entlang der Standardroute des Kandidaten.  So werden Entscheidungen getroffen: Zuerst werden die Datensätze bestimmter Routen in der Tabelle gescannt, und dann wird die Standardkandidatenroute verwendet. <br>  Schauen wir uns nun die verschiedenen Arten statischer Routen an.  Der erste Typ ist die Standardroute oder die Standardroute. <br><br><img src="https://habrastorage.org/webt/v1/wg/c8/v1wgc8nei2y3vybgvw-yqa4kai8.jpeg"><br><br>  Wie gesagt, wenn der Router Datenverkehr empfangen hat, der an ein unbekanntes Netzwerk adressiert ist, sendet er ihn entlang der Standardroute.  Das Gateway des letzten Auswegs ist 192.168.10.1 zum Netzwerk 0.0.0.0, dh das "Gateway des letzten Zugriffs auf das Netzwerk 0.0.0.0 hat eine IP-Adresse von 192.168.10.1" meldet, dass die Standardroute festgelegt wurde.  Diese Route wird in der letzten Zeile der Routing-Tabelle mit dem Titel S mit einem Punkt angezeigt. <br><br>  Sie können diesen Parameter im globalen Konfigurationsmodus zuweisen.  Für eine reguläre Route über RIP müssen Sie den Befehl ip route eingeben und die Kennung des entsprechenden Netzwerks, in unserem Fall 192.168.30.0, und die Subnetzmaske 255.255.255.0 angeben. Anschließend müssen Sie 192.168.20.1 als nächsten Hop angeben.  Wenn Sie jedoch die Standardroute festlegen, müssen Sie die Netzwerkkennung und -maske nicht angeben. Geben Sie einfach ip route 0.0.0.0 0.0.0.0 ein, dh geben Sie anstelle der Adresse der Subnetzmaske erneut vier Nullen ein und geben Sie am Ende der Zeile die Adresse 192.168.20.1 an. Dies bedeutet die Standardroute. <br>  Der nächste Typ einer statischen Route ist die Netzwerkroute oder Netzwerkroute.  Um die Netzwerkroute festzulegen, müssen Sie das gesamte Netzwerk angeben, dh den Befehl ip route 192.168.30.0 255.255.255.0 verwenden, wobei 0 am Ende der Subnetzmaske den gesamten Bereich von 256 Netzwerkadressen / 24 bedeutet, und die IP-Adresse des nächsten Hops angeben. <br><br>  Jetzt werde ich oben eine Vorlage zeichnen, die den Befehl zum Festlegen der Standardroute und der Netzwerkroute darstellt.  Es sieht so aus: <br><br>  IP-Route erster Teil der Adresse zweiter Teil der Adresse &lt;IP-Adresse des nächsten Hops&gt;. <br><br>  Für die Standardroute besteht sowohl der erste als auch der zweite Teil der Adresse aus 0.0.0.0, und für die Netzwerkroute ist der erste Teil die Netzwerkkennung und der zweite Teil die Subnetzmaske.  Als nächstes wird die IP-Adresse des Netzwerks gefunden, zu dem der Router den nächsten Hop ausgeführt hat. <br><br><img src="https://habrastorage.org/webt/uz/6h/g1/uz6hg1jfts-rflw6bjw-wgmixli.jpeg"><br><br>  Zum Konfigurieren der Hostroute verwendet die Hostroute die IP-Adresse eines bestimmten Hosts.  In der Befehlsvorlage ist dies der erste Teil der Adresse, in unserem Fall 192.168.30.1, der ein bestimmtes Gerät angibt.  Der zweite Teil ist eine Subnetzmaske von 255.255.255.255, die auch die IP-Adresse eines bestimmten Hosts und nicht eines gesamten / 24-Netzwerks angibt.  Dann müssen Sie die IP-Adresse des nächsten Hops angeben.  Auf diese Weise können Sie die Hostroute festlegen. <br><br>  Zusammenfassungsroute ist eine Zusammenfassungsroute.  Sie erinnern sich, dass wir das Problem der Zusammenfassung von Routen bereits erörtert haben, wenn wir einen bestimmten Bereich von IP-Adressen haben.  Nehmen Sie zum Beispiel das erste Netzwerk 192.168.30.0/24 und stellen Sie sich vor, wir haben einen R1-Router, an den ein Netzwerk 192.168.30.0/24 mit vier IP-Adressen angeschlossen ist: 192.168.30.4, 192.168.30.5, 192.168.30.6 und 192.168.30.7 .  Ein Schrägstrich 24 bedeutet, dass sich in diesem Netzwerk insgesamt 256 gültige Adressen befinden. In diesem Fall haben wir jedoch nur 4 IP-Adressen. <br><br><img src="https://habrastorage.org/webt/y_/oi/ri/y_oirin08ea7786klgeuycljbz0.jpeg"><br><br>  Wenn ich Sie darüber informiere, dass der gesamte Datenverkehr für das Netzwerk 192.168.30.0/24 entlang dieser Route geleitet werden sollte, ist dies eine Lüge, da eine IP-Adresse wie 192.168.30.1 möglicherweise nicht über diese Schnittstelle verfügbar ist.  Daher können wir in diesem Fall die Adressen 192.168.30.0 nicht als ersten Teil verwenden, sondern müssen angeben, welche spezifischen Adressen verfügbar sein werden.  In diesem Fall sind 4 bestimmte Adressen über die rechte Schnittstelle und die verbleibenden Netzwerkadressen über die linke Schnittstelle des Routers zugänglich.  Aus diesem Grund müssen wir eine Zusammenfassung oder eine Zusammenfassungsroute konfigurieren. <br><br>  Ausgehend von den Prinzipien der Summierung von Routen erinnern wir uns, dass im selben Subnetz die ersten drei Oktette der Adresse unverändert bleiben und wir ein Subnetz erstellen müssen, das alle 4 Adressen kombiniert.  Dazu müssen wir im ersten Teil die Adresse 192.168.30.4 angeben und im zweiten Teil 255.255.255.252 als Subnetzmaske verwenden, wobei 252 bedeutet, dass dieses IP-Subnetz 4 IP-Adressen enthält: .4, .5., .6 und .7. <br><br>  Wenn Sie zwei Einträge in der Routing-Tabelle haben: die RIP-Route für das Netzwerk 192.168.30.0/24 und die Gesamtroute 192.168.30.4/252, ist gemäß den Routing-Prinzipien die Prioritätsroute für einen bestimmten Verkehr die Zusammenfassungsroute.  Alles, was sich nicht auf diesen bestimmten Verkehr bezieht, verwendet die Netzwerkroute Netzwerkroute. <br><br><img src="https://habrastorage.org/webt/u_/kq/bx/u_kqbxi8_i0vkef3ky3xyoe0inu.jpeg"><br><br>  Dies ist eine zusammenfassende Route. Sie fassen mehrere spezifische IP-Adressen zusammen und erstellen eine separate Route für sie. <br><br>  In der Gruppe der statischen Routen gibt es auch die sogenannte "Floating Route" oder Floating Route.  Dies ist eine Sicherungsroute.  Es wird bei Problemen mit der physischen Verbindung entlang der statischen Route verwendet, die eine administrative Entfernung von 1 hat. In unserem Beispiel ist dies die Route durch die IP-Adresse 192.168.10.1 in der letzten Zeile der Routing-Tabelle und im Fall, wenn diese Route auf der physischen Route unterbrochen ist Ebene wird die Backup-Floating-Route verwendet. <br><br>  Um die Sicherungsroute zu verwenden, geben Sie am Ende der Befehlszeile anstelle der IP-Adresse des nächsten Hops, der standardmäßig den Wert 1 hat, eine andere Hop-Größe an, z. B. 5. Die Floating-Route wird in der Routing-Tabelle nicht angegeben, da sie nur in verwendet wird Wenn die statische Route aufgrund von Schäden nicht verfügbar ist. <br><br>  Wenn Sie etwas von dem, worüber ich gerade gesprochen habe, nicht verstehen, schauen Sie sich dieses Video erneut an.  Wenn Sie noch Fragen haben, können Sie mir eine E-Mail senden, und ich werde Ihnen alles erklären. <br><br>  Beginnen wir jetzt mit dem Inter-Switch-Routing.  Links im Diagramm befindet sich ein Schalter, der das blaue Netzwerk der Verkaufsabteilung bedient.  Auf der rechten Seite befindet sich ein weiterer Schalter, der nur mit dem grünen Netzwerk der Marketingabteilung funktioniert.  In diesem Fall werden zwei unabhängige Switches verwendet, die unterschiedliche Abteilungen bedienen, da das gemeinsame VLAN in dieser Topologie nicht verwendet wird. <br><br><img src="https://habrastorage.org/webt/sn/i0/fu/sni0fu7l_ivaglqq0fziino5q0q.jpeg"><br><br>  Wenn Sie eine Verbindung zwischen diesen beiden Switches herstellen müssen, dh zwischen zwei verschiedenen Netzwerken 192.168.1.0/24 und 192.168.2.0/24, müssen Sie einen Router verwenden.  Dann können diese Netzwerke Pakete austauschen und über den R1-Router online gehen.  Wenn wir das Standard-VLAN1 für beide Switches verwenden, indem wir sie mit physischen Kabeln verbinden, können sie miteinander kommunizieren.  Da dies jedoch aufgrund der Trennung von Netzwerken, die zu verschiedenen Broadcast-Domänen gehören, technisch unmöglich ist, ist für ihre Kommunikation ein Router erforderlich. <br><br>  Angenommen, jeder Switch verfügt über 16 Ports.  In unserem Fall verwenden wir keine 14 Ports, da jede Abteilung nur 2 Computer hat.  Daher ist es in diesem Fall optimal, VLAN zu verwenden, wie in der folgenden Abbildung dargestellt. <br><br><img src="https://habrastorage.org/webt/je/a3/sq/jea3sq0nm7kxvzohumawvt28nqa.jpeg"><br><br>  In diesem Fall haben das blaue Netzwerk VLAN10 und das grüne Netzwerk VLAN20 eine eigene Broadcast-Domäne.  Das VLAN10-Netzwerk ist per Kabel mit einem Port des Routers verbunden, und das VLAN20-Netzwerk ist mit einem anderen Port verbunden, während beide Kabel von verschiedenen Ports des Switches stammen.  Es scheint, dass wir dank dieser wunderbaren Lösung eine Verbindung zwischen den Netzwerken hergestellt haben.  Da der Router jedoch nur über eine begrenzte Anzahl von Ports verfügt, können wir die Funktionen dieses Geräts äußerst ineffizient nutzen und sie auf diese Weise belegen. <br><br>  Es gibt eine effektivere Lösung - einen „Stick-Router“.  In diesem Fall verbinden wir den Switch-Port mit einem Trunk mit einem der Router-Ports.  Wir haben bereits gesagt, dass der Router standardmäßig die Kapselung gemäß dem .1Q-Standard nicht versteht. Sie müssen daher einen Trunk verwenden, um mit ihm zu kommunizieren.  Dabei geschieht Folgendes. <br><br>  Das blaue VLAN10-Netzwerk sendet Datenverkehr über einen Switch an die F0 / 0-Schnittstelle des Routers.  Dieser Port ist in Subschnittstellen unterteilt, von denen jede eine IP-Adresse im Adressbereich des Netzwerks 192.168.1.0/24 oder des Netzwerks 192.168.2.0/24 hat.  Hier entsteht eine gewisse Unsicherheit - schließlich müssen Sie für zwei verschiedene Netzwerke zwei verschiedene IP-Adressen haben.  Obwohl die Amtsleitung zwischen dem Switch und dem Router auf derselben physischen Schnittstelle erstellt wird, müssen daher für jedes VLAN zwei Subschnittstellen erstellt werden.  Somit wird eine Subschnittstelle das VLAN10-Netzwerk bedienen und die zweite - VLAN20.  Für die erste Subschnittstelle müssen wir eine IP-Adresse aus dem Adressbereich 192.168.1.0/24 und für die zweite aus dem Bereich 192.168.2.0/24 auswählen.  Wenn VLAN10 ein Paket sendet, ist das Gateway eine IP-Adresse, und wenn das Paket VLAN20 sendet, wird die zweite IP-Adresse als Gateway verwendet.  Gleichzeitig entscheidet der „Router on a Stick“ über die Übertragung des Datenverkehrs von jedem der beiden Computer, die zu verschiedenen VLANs gehören.  Einfach ausgedrückt, teilen wir eine physische Schnittstelle eines Routers in zwei oder mehr logische Schnittstellen auf. <br><br><img src="https://habrastorage.org/webt/p0/gp/gz/p0gpgzl0tzewtprahmg3rhkrecy.jpeg"><br><br>  Mal sehen, wie es im Packet Tracer-Programm aussieht. <br><br><img src="https://habrastorage.org/webt/al/w3/q3/alw3q3sktyzezdbisbn_takakzm.jpeg"><br><br>  Ich habe das Schema etwas vereinfacht, sodass wir einen PC0-Computer mit der IP-Adresse 192.168.1.10 und einen zweiten PC1-Computer mit der Adresse 192.168.2.10 haben.  Bei der Konfiguration des Switches hebe ich eine Schnittstelle für VLAN10 und die andere für VLAN20 hervor.  Ich gehe in die CLI-Konsole und gebe den Befehl show ip interface brief aus, um sicherzustellen, dass FastEthernet0 / 2 und 0/3 aktiviert sind.  Dann schaue ich in die VLAN-Datenbank und sehe, dass im Moment alle Switch-Schnittstellen Teil des Standard-VLAN sind.  Dann tippe ich nacheinander config t und int f0 / 2, um den Port aufzurufen, mit dem das Verkaufs-VLAN verbunden ist. <br><br>  Als nächstes verwende ich den Befehl switchport mode access.  Der Zugriffsmodus wird standardmäßig verwendet, daher gebe ich einfach diesen Befehl ein.  Danach gebe ich Switchport Access VLAN10 ein und das System antwortet, dass ein solches Netzwerk VLAN10 selbst erstellt, da es nicht existiert.  Wenn Sie ein VLAN manuell erstellen möchten, z. B. VLAN20, müssen Sie den Befehl vlan 20 eingeben. Anschließend wechselt die Befehlszeile zu den Einstellungen des virtuellen Netzwerks und ändert den Header von Switch (config) # in Switch (config-vlan) #.  Als Nächstes müssen Sie dem erstellten Netzwerk den Namen MARKETING mit dem Befehlsnamen &lt;Name&gt; geben.  Dann konfigurieren wir die f0 / 3-Schnittstelle.  Ich gebe nacheinander die Befehle switchport mode access und switchport access vlan 20 ein, wonach das Netzwerk mit diesem Port verbunden wird. <br><br>  Auf diese Weise können Sie den Switch auf zwei Arten konfigurieren: erstens mit dem Befehl switchport access vlan 10, nach dem das Netzwerk automatisch an diesem Port erstellt wird, und zweitens, wenn Sie das Netzwerk zum ersten Mal erstellen und dann an einen bestimmten Port binden. <br>  Sie können dasselbe mit VLAN10 tun.  Ich gehe zurück und wiederhole den manuellen Konfigurationsprozess für dieses Netzwerk: Ich gehe in den globalen Konfigurationsmodus, gebe den Befehl vlan 10 ein und gebe ihm den Namen SALES und so weiter.  Jetzt werde ich Ihnen zeigen, was passieren wird, wenn dies nicht getan wird, dh das System selbst ein VLAN erstellen lässt. <br><br><img src="https://habrastorage.org/webt/iy/qv/7s/iyqv7sea4drfyyyjduimhihs1wk.jpeg"><br><br>  Sie sehen, dass wir beide Netzwerke haben, aber das zweite, das wir manuell erstellt haben, hat seinen eigenen Namen MARKETING, während das erste VLAN10-Netzwerk den Standardnamen VLAN0010 hat.  Ich kann dies beheben, wenn ich jetzt den Befehl name SALES im globalen Konfigurationsmodus eingebe.  Jetzt sehen Sie, dass das erste Netzwerk danach seinen Namen in SALES geändert hat. <br><br>  Kehren Sie nun zu Packet Tracer zurück und prüfen Sie, ob PC0 mit PC1 kommunizieren kann.  Dazu öffne ich das Befehlszeilenterminal des ersten Computers und sende einen Ping an die Adresse des zweiten Computers. <br><br>  Wir sehen, dass der Ping erfolglos beendet wurde.  Der Grund ist, dass PC0 eine ARP-Anfrage über das 192.168.1.1-Gateway an 192.168.2.10 gesendet hat.  Gleichzeitig fragte der Computer den Switch tatsächlich, wer diese 192.168.1.1 ist.  Der Switch verfügt jedoch nur über eine Schnittstelle für das VLAN10-Netzwerk, und die empfangene Anforderung kann nirgendwo hingehen. Er kommt an diesem Port an und stirbt hier ab.  Der Computer erhält keine Antwort, daher wird das Zeitlimit als Ursache für den Ping-Fehler angezeigt.  Es wurde keine Antwort empfangen, da sich außer PC0 kein Gerät mehr im VLAN10 befindet.  Selbst wenn beide Computer Teil desselben Netzwerks wären, könnten sie dennoch nicht kommunizieren, da sie einen unterschiedlichen Bereich von IP-Adressen haben.  Damit dieses Schema funktioniert, müssen Sie einen Router verwenden. <br><br>  Bevor ich jedoch zeige, wie man den Router benutzt, werde ich einen kleinen Exkurs machen.  Ich werde den Fa0 / 1-Switch-Port und den Gig0 / 0-Router-Port mit einem Kabel verbinden und dann ein weiteres Kabel hinzufügen, das mit dem Switch-Fa0 / 4-Port und dem Gif0 / 1-Port des Routers verbunden wird. <br><br><img src="https://habrastorage.org/webt/v9/6o/kd/v96okd_k-wdjqvudbarahz_b5nq.jpeg"><br><br>  Ich werde das VLAN10-Netzwerk an den Switch-Port f0 / 1 binden, für den ich die Befehle int f0 / 1 und switchport access vlan10 eingeben werde, und das VLAN20-Netzwerk mit den Befehlen int f0 / 4 und switchport access vlan 20 an den f0 / 4-Port In der VLAN-Datenbank ist ersichtlich, dass das SALES-Netzwerk mit den Fa0 / 1-, Fa0 / 2-Schnittstellen und das MARKETING-Netzwerk mit den Fa0 / 3-, Fa0 / 4-Ports verbunden ist. <br><br>  Kehren wir zum Router zurück und gehen Sie zu den Einstellungen der g0 / 0-Schnittstelle, geben Sie den Befehl no shutdown ein und weisen Sie ihm die IP-Adresse zu: ip add 192.168.1.1 255.255.255.0. <br><br>  Konfigurieren Sie auf ähnliche Weise die g0 / 1-Schnittstelle, indem Sie ihr die IP-Adresse add 192.168.2.1 255.255.255.0 zuweisen.  Dann bitten wir Sie, uns die Routing-Tabelle zu zeigen, die jetzt Einträge zu den Netzwerken 1.0 und 2.0 enthält. <br><br><img src="https://habrastorage.org/webt/p6/az/37/p6az37t5llvyvmjo9kgamsd--8s.jpeg"><br><br>  Mal sehen, ob diese Schaltung funktioniert.  Warten wir, bis beide Ports des Switches und des Routers grün werden, und wiederholen Sie das Pingen der IP-Adresse 192.168.2.10.  Wie Sie sehen können, hat alles funktioniert! <br><br><img src="https://habrastorage.org/webt/cp/2f/zy/cp2fzy43fdjqv9c30td5axr1os0.jpeg"><br><br>  Der Computer PC0 sendet eine Anforderung über ARP an den Switch, der Switch adressiert sie an den Router und der Switch sendet seine MAC-Adresse zurück an den Computer.  Danach sendet der Computer das Ping-Paket auf derselben Route.  Der Router weiß, dass das VLAN20-Netzwerk mit seinem Port g0 / 1 verbunden ist, und sendet es daher an den Switch, der das Paket an das Ziel - PC1 - weiterleitet. <br><br>   ,   ,    2  ,        .   ,          . <br><br>               .  f0/1    -,             switchport mode trunk.  f0/4    .     show int trunk,  ,    . <br><br><img src="https://habrastorage.org/webt/74/kj/1l/74kj1l72phfmypnm6mb17ea9jea.jpeg"><br><br>  ,   Fa0/1        802.1q.    VLAN –  ,   F0/2      VLAN10,   f0/3 –    VLAN20. <br><br><img src="https://habrastorage.org/webt/qs/hx/vm/qshxvmymn8gfuyfqgxguhch4isa.jpeg"><br><br>       g0/0 .       int g0/0  no ip address,   IP-  .      ,      shutdown.   ,        – 1.0  2.0.      ,          ,    .   IP-       ? <br><br> G0/0    ,       IP-.      .      int g0/0,      :  /  .        0/0/0,      ,     . <br><br>      int g0/0. ?,          GigabitEthernet,    : &lt;0 – 4294967295&gt;.     4-  ,        . <br><br><img src="https://habrastorage.org/webt/f8/bn/g4/f8bng4fx6ta7g8akbk6au-zwgd8.jpeg"><br><br>      10,    VLAN10.      ,        CLI  Router (config-subif) #,       g0/0.10.      IP-,     ip add 192.168.1.1 255.255.255.0.  ,    ,   ,     ,      — 802.1q  ISL.      encapsulation,         . <br><br><img src="https://habrastorage.org/webt/xn/wn/bz/xnwnbz5eygkvqvyhsth56ks0ecy.jpeg"><br><br>    encapsulation dot1Q.     ,      ,     ,        VLAN,         ,   VLAN.     ,        dot1Q.       ,      VLAN10. C    IP-,     VLAN10  . <br><br><img src="https://habrastorage.org/webt/rv/ga/jn/rvgajnqeizsiwxipzqin6jnhgue.jpeg"><br><br>      g0/0.20.    ,      IP-  ip add 192.168.2.1 255.255.255.0. <br><br><img src="https://habrastorage.org/webt/bk/hk/ch/bkhkch2dtkwb7-o_ay8mhkhzopu.jpeg"><br><br>       IP-  ,                 VLAN20.       int g0/1  no ip address.     ,       . <br><br><img src="https://habrastorage.org/webt/gs/zy/yk/gszyykcxxxhj9x1buje8sesbg4w.jpeg"><br><br>       g0/0.20    IP-  ip add 192.168.2.1 255.255.255.0.      . <br><br>     show ip route,     . <br><br><img src="https://habrastorage.org/webt/pn/0u/os/pn0uosesmeykedvhyg5buotjc7m.jpeg"><br><br>  ,   192.168.1.0/24     GigabitEthernet0/0.10,   192.168.2.0/24     GigabitEthernet0/0.20.        PC0   PC1.       ,             PC1.  ,   .     ,         ,       MAC-,        .      «  ». <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2_sw10F72WY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> ,    .    ?     ?  Unterstützen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% für Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir für Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit über VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a> (   RAID1  RAID10,  24    40GB DDR4). <br><br> <b>Dell R730xd  2  ?</b>    <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2  Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100   $199</a>  ! <b>Dell R420 — 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB —  $99!</b></b>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de463581/">https://habr.com/ru/post/de463581/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de463571/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 21. RIP Remote Vector Routing</a></li>
<li><a href="../de463573/index.html">Der erste Chip für Rechenzentren basierend auf der Zen 2-Architektur</a></li>
<li><a href="../de463575/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 22. Dritte CCNA: RIP weiter studieren</a></li>
<li><a href="../de463577/index.html">Plastizität und Festigkeit: Aushärtung des Intermetalls ohne Betonung der Versetzung</a></li>
<li><a href="../de463579/index.html">Windows: Finden Sie heraus, wer wo angemeldet ist</a></li>
<li><a href="../de463583/index.html">Fantastische Plugins, vol. 1. Theorie</a></li>
<li><a href="../de463585/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 24. IPv6</a></li>
<li><a href="../de463587/index.html">ConfigureAwait, wer ist schuld und was zu tun?</a></li>
<li><a href="../de463591/index.html">BlueKeep-2 - Alle neuen Windows-Versionen sind jetzt anfällig</a></li>
<li><a href="../de463595/index.html">Wir steuern den Fokus oder eine Prise C # und STM32 für eine Webcam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>