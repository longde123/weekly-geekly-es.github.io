<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìé üë®üèø‚Äçüéì üåØ El precio oculto de las bibliotecas CSS-in-JS en las aplicaciones React ü•É üéé üßñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En las aplicaciones de front-end modernas, la tecnolog√≠a CSS-in-JS es bastante popular. Lo que pasa es que brinda a los desarrolladores un mecanismo p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El precio oculto de las bibliotecas CSS-in-JS en las aplicaciones React</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/480358/">  En las aplicaciones de front-end modernas, la tecnolog√≠a CSS-in-JS es bastante popular.  Lo que pasa es que brinda a los desarrolladores un mecanismo para trabajar con estilos que es m√°s conveniente que el CSS normal.  No me malinterpretes.  Realmente me gusta CSS, pero crear una buena arquitectura CSS no es una tarea f√°cil.  La tecnolog√≠a CSS-in-JS ofrece algunas <a href="https://gist.github.com/threepointone/731b0c47e78d8350ae4e105c1a83867d">ventajas</a> significativas sobre los estilos CSS convencionales.  Pero, desafortunadamente, el uso de CSS-in-JS puede, en ciertas aplicaciones, conducir a problemas de rendimiento.  En este art√≠culo, tratar√© de analizar las caracter√≠sticas de alto nivel de las bibliotecas CSS-in-JS m√°s populares, hablar√© sobre algunos de los problemas que a veces surgen al usarlas y sugerir√© formas de mitigar estos problemas. <br><br> <a href="https://habr.com/ru/company/ruvds/blog/480358/"><img src="https://habrastorage.org/webt/u6/f3/cr/u6f3crp6pcjspyohewwxptq84ve.png"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Resumen de la situaci√≥n</font> </h2><br>  En mi empresa, se decidi√≥ crear una biblioteca de interfaz de usuario.  Esto nos brindar√≠a un beneficio considerable, nos permitir√≠a reutilizar fragmentos est√°ndar de interfaces en varios proyectos.  Fui uno de los voluntarios que asumi√≥ la tarea.  Decid√≠ usar la tecnolog√≠a CSS-in-JS, ya que estaba familiarizado con la API de dise√±o de las bibliotecas CSS-in-JS m√°s populares.  En el curso del trabajo, me esforc√© por actuar razonablemente.  Dise√±√© l√≥gica reutilizable y apliqu√© propiedades compartidas en componentes.  Por lo tanto, tom√© la composici√≥n de los componentes.  Por ejemplo, el <code>&lt;IconButton /&gt;</code> extendi√≥ el componente <code>&lt;BaseButton /&gt;</code> , que, a su vez, fue una implementaci√≥n de una entidad simple con <code>styled.button</code> .  Desafortunadamente, result√≥ que <code>IconButton</code> necesita su propio estilo, por lo que convert√≠ este componente en un componente estilizado: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IconButton</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">styled</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">BaseButton</span></span>)`  <span class="hljs-selector-tag"><span class="hljs-selector-tag">border-radius</span></span>: 3<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span>; `;</code> </pre> <br>  A medida que aparec√≠an m√°s y m√°s componentes en nuestra biblioteca, us√°bamos m√°s y m√°s operaciones de composici√≥n.  Esto no parec√≠a antinatural.  Despu√©s de todo, la composici√≥n es, de hecho, la base de React.  Todo estuvo bien hasta que cre√© el componente <code>Table</code> .  Comenc√© a sentir que este componente se procesaba lentamente.  Especialmente en situaciones donde el n√∫mero de filas en la tabla excedi√≥ 50. Esto era incorrecto.  Por lo tanto, comenc√© a comprender el problema recurriendo a las herramientas de desarrollo. <br><br>  Por cierto, si alguna vez se pregunt√≥ por qu√© las reglas CSS no se pueden editar con el inspector de herramientas de desarrollador, tenga en cuenta que esto se debe a que usan <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet/insertRule">CSSStyleSheet.insertRule ()</a> .  Esta es una forma muy r√°pida de modificar hojas de estilo.  Pero uno de sus inconvenientes es el hecho de que el inspector ya no puede editar las hojas de estilo correspondientes. <br><br>  No hace falta decir que el √°rbol generado por React fue realmente enorme.  La cantidad de componentes de <code>Context.Consumer</code> fue tan grande que podr√≠a privarme del sue√±o.  El hecho es que cada vez que se representa un √∫nico componente con <a href="https://www.styled-components.com/">estilo</a> usando componentes con <a href="https://www.styled-components.com/">estilo</a> o <a href="https://emotion.sh/">emoci√≥n</a> , adem√°s de crear un componente React regular, tambi√©n se <code>Context.Consumer</code> un componente <code>Context.Consumer</code> adicional.  Esto es necesario para permitir que la secuencia de comandos correspondiente (la mayor√≠a de las bibliotecas CSS-in-JS dependen de las secuencias de comandos que se ejecutan mientras se ejecuta la p√°gina) para procesar correctamente las reglas de estilo generadas.  Por lo general, esto no causa ning√∫n problema especial, pero no debemos olvidar que los componentes deben tener acceso al tema.  Esto se traduce en la necesidad de representar <code>Context.Consumer</code> adicional para cada elemento estilizado, lo que le permite "leer" el tema desde el componente <code>ThemeProvider</code> .  Como resultado, al crear un componente estilizado en una aplicaci√≥n con un tema, se crean 3 componentes.  Este es un componente <code>StyledXXX</code> y dos componentes m√°s <code>Context.Consumer</code> . <br><br>  Es cierto que no hay nada particularmente terrible aqu√≠, ya que React hace su trabajo r√°pidamente, lo que significa que en la mayor√≠a de los casos no tenemos nada de qu√© preocuparnos.  Pero, ¬øqu√© sucede si se ensamblan varios componentes estilizados para crear un componente m√°s complejo?  ¬øQu√© sucede si este componente complejo es parte de una lista larga o una tabla grande donde se representan al menos 100 de estos componentes?  Aqu√≠ en tales situaciones, nos enfrentamos a problemas ... <br><br><h2>  <font color="#3AC1EF">Perfilado</font> </h2><br>  Para probar diferentes soluciones CSS-in-JS, cre√© una aplicaci√≥n simple.  Muestra el texto <code>Hello World</code> 50 veces.  En la <a href="https://gist.github.com/3nvi/a47c22872d85d584662e1dbed09dab34">primera</a> versi√≥n de esta aplicaci√≥n, envolv√≠ este texto en un elemento <code>div</code> regular.  En el <a href="https://gist.github.com/3nvi/fed37f5286be2575b8203ec37ff00c99">segundo</a> , utilic√© el componente <code>styled.div</code> .  Adem√°s, agregu√© un bot√≥n a la aplicaci√≥n que hace que estos 50 elementos se vuelvan a representar. <br><br>  Despu√©s de representar el componente <code>&lt;App /&gt;</code> , se mostraron dos √°rboles React diferentes.  Las siguientes figuras muestran los √°rboles de elementos deducidos por React. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5b7/4c1/161/5b74c11614f8364a88d3cf204c12c7f3.png"></div><br>  <i><font color="#999999">Un √°rbol que se muestra en una aplicaci√≥n que usa un elemento div regular</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/370/d8b/513/370d8b51371c91ac2c3106c636522711.png"></div><br>  <i><font color="#999999">Un √°rbol que se muestra en una aplicaci√≥n que usa styled.div</font></i> <br><br>  Luego, usando el bot√≥n, renderic√© <code>&lt;App /&gt;</code> 10 veces para recopilar datos sobre la carga en el sistema, que <code>Context.Consumer</code> componentes adicionales de <code>Context.Consumer</code> .  Aqu√≠ hay informaci√≥n sobre volver a representar repetidamente una aplicaci√≥n con elementos <code>div</code> regulares en modo de dise√±o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c25/5ef/c20/c255efc205d63352d9e966a8aefbbff7.png"></div><br>  <i><font color="#999999">Vuelva a representar la aplicaci√≥n con elementos div regulares en modo de dise√±o.</font></i>  <i><font color="#999999">El valor promedio es 2.54 ms.</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddc/5b1/14a/ddc5b114a6e93cc4dbd7fe52ddf8aa26.png"></div><br>  <i><font color="#999999">Vuelva a representar la aplicaci√≥n con elementos styled.div en modo de desarrollo.</font></i>  <i><font color="#999999">El valor promedio es 3.98 ms.</font></i> <br><br>  Lo que es muy interesante es que, en promedio, una aplicaci√≥n CSS-in-JS es 56.6% m√°s lenta de lo habitual.  Pero era un modo de desarrollo.  ¬øQu√© pasa con el modo de producci√≥n? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/937/07d/34d/93707d34db954762fda1fb82f41fa4ec.png"></div><br>  <i><font color="#999999">Vuelva a representar la aplicaci√≥n con los elementos div habituales en modo de producci√≥n.</font></i>  <i><font color="#999999">El valor promedio es 1.06 ms.</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d66/b66/400/d66b66400375542ed0644cfd7c962e11.png"></div><br>  <i><font color="#999999">Vuelva a representar la aplicaci√≥n con elementos styled.div en modo de producci√≥n.</font></i>  <i><font color="#999999">El valor promedio es 2.27 ms.</font></i> <br><br>  Cuando el modo de producci√≥n est√° activado, la implementaci√≥n div de la aplicaci√≥n parece ser m√°s de un 50% m√°s r√°pida en comparaci√≥n con la misma versi√≥n en modo de desarrollo.  Una aplicaci√≥n styled.div es solo un 43% m√°s r√°pida.  Y aqu√≠, como antes, est√° claro que la soluci√≥n CSS-in-JS es casi el doble de lenta que la soluci√≥n habitual.  ¬øQu√© lo frena? <br><br><h2>  <font color="#3AC1EF">An√°lisis de la aplicaci√≥n durante su ejecuci√≥n.</font> </h2><br>  La respuesta obvia a la pregunta de qu√© ralentiza una aplicaci√≥n CSS-in-JS puede ser la siguiente: "Se dijo que cien bibliotecas CSS-in-JS representan dos <code>Context.Consumer</code> por componente".  Pero si piensa en todo esto <code>Context.Consumer</code> , <code>Context.Consumer</code> es solo un mecanismo para acceder a una variable JS.  Por supuesto, React necesita hacer algo de trabajo para descubrir d√≥nde leer el valor correspondiente, pero esto solo no explica los resultados de medici√≥n anteriores.  La respuesta real a esta pregunta se puede encontrar analizando la raz√≥n para usar <code>Context.Consumer</code> .  El hecho es que la mayor√≠a de las bibliotecas CSS-in-JS dependen de scripts que se ejecutan durante la salida de la p√°gina en el navegador, lo que ayuda a las bibliotecas a actualizar din√°micamente los estilos de los componentes.  Estas bibliotecas no crean clases CSS durante el ensamblaje de la p√°gina.  En cambio, generan y actualizan din√°micamente etiquetas <code>&lt;style&gt;</code> en el documento.  Esto se hace cuando se montan los componentes o cuando cambian sus propiedades.  Estas etiquetas generalmente contienen una sola clase CSS cuyo nombre hash se asigna a un solo componente React.  Cuando las propiedades de este componente cambian, la etiqueta <code>&lt;style&gt;</code> correspondiente tambi√©n debe cambiar.  Aqu√≠ se describe c√≥mo se hace durante este proceso: <br><br><ul><li>  Las reglas CSS que debe tener la etiqueta <code>&lt;style&gt;</code> se vuelven a generar. </li><li>  Se crea un nuevo nombre de clase hash que se utiliza para almacenar las reglas CSS mencionadas anteriormente. </li><li>  La propiedad <code>classname</code> del componente React correspondiente se actualiza a una nueva, lo que indica la clase que acaba de crear. </li></ul><br>  Considere, por ejemplo, la biblioteca de <code>styled-components</code> .  Al crear el componente <code>styled.div</code> biblioteca <a href="">asigna un</a> identificador interno (ID) a este componente y agrega una nueva etiqueta <code>&lt;style&gt;</code> a la etiqueta HTML <code>&lt;head&gt;</code> .  Esta etiqueta contiene un solo comentario que se refiere al identificador interno del componente React al que pertenece el estilo correspondiente: <br><br><pre> <code class="css hljs">&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">data-styled-components</span></span>&gt;   <span class="hljs-comment"><span class="hljs-comment">/* sc-component-id: sc-bdVaJa */</span></span> &lt;/<span class="hljs-selector-tag"><span class="hljs-selector-tag">style</span></span>&gt;</code> </pre> <br>  Y aqu√≠ est√°n las acciones que realiza la biblioteca de componentes con estilo al mostrar el componente React correspondiente: <br><br><ol><li>  Analiza las reglas CSS de la cadena de plantilla de componentes con estilo. </li><li>  <a href="">Genera un</a> nuevo nombre de clase CSS (o descubre si se <a href="">debe mantener el</a> nombre anterior). </li><li>  <a href="">Realiza el</a> preprocesamiento de estilos usando stylis. </li><li>  <a href="">Incrusta el</a> CSS resultante del preprocesamiento en la etiqueta <code>&lt;style&gt;</code> correspondiente de la etiqueta <code>&lt;head&gt;</code> . </li></ol><br>  Para poder utilizar el tema en el paso 1 de este proceso, <a href="">se requiere Context.Consumer</a> .  Gracias a este componente, los valores se leen del tema en la cadena de plantilla.  Para poder modificar la etiqueta <code>&lt;style&gt;</code> asociada con este componente, <code>Context.Consumer</code> necesita un <code>Context.Consumer</code> m√°s del componente.  Le permite acceder a una instancia de una hoja de estilo.  Es por eso que en la mayor√≠a de las bibliotecas CSS-in-JS encontramos dos instancias de <code>Context.Consumer</code> . <br><br>  Adem√°s de esto, dado que todos estos c√°lculos afectan la interfaz de usuario, debe tenerse en cuenta que deben realizarse durante la fase de representaci√≥n del componente.  No pueden ejecutarse en el c√≥digo de los controladores de eventos para el ciclo de vida de los componentes React (de esta forma, su ejecuci√≥n puede retrasarse y parecer√° una formaci√≥n de p√°gina lenta para el usuario).  Es por eso que la representaci√≥n de aplicaciones styled.div es m√°s lenta que la representaci√≥n de una aplicaci√≥n normal. <br><br>  Todo esto ha sido notado por los desarrolladores de componentes con estilo.  Optimizaron la biblioteca para reducir el tiempo de representaci√≥n de componentes.  En particular, la biblioteca descubre si el componente estilizado es "est√°tico".  Es decir, si los estilos del componente dependen del tema o de las propiedades que se le pasan.  Por ejemplo, el componente est√°tico se muestra a continuaci√≥n: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">StaticStyledDiv</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">styled</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.div</span></span>`  <span class="hljs-selector-tag"><span class="hljs-selector-tag">color</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:red</span></span> `;</code> </pre> <br>  Y este componente no es est√°tico: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">const</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">DynamicStyledDiv</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">styled</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.div</span></span>`  <span class="hljs-selector-tag"><span class="hljs-selector-tag">color</span></span>: ${props =&gt; props.color} `;</code> </pre> <br>  Si la biblioteca descubre que el componente es est√°tico, omite los <a href="">4 pasos</a> anteriores y se da cuenta de que nunca tendr√° que cambiar el nombre de clase generado (ya que no hay un elemento din√°mico para el que sea necesario cambiar las reglas CSS asociadas a √©l).  Adem√°s, en esta situaci√≥n, la biblioteca <a href="">no muestra</a> <code>ThemeContext.Consumer</code> alrededor del componente estilizado, ya que la dependencia del tema ya no permitir√≠a que el componente se considere "est√°tico". <br><br>  Si fue lo suficientemente cuidadoso al analizar las capturas de pantalla presentadas anteriormente, entonces podr√≠a notar que incluso en el modo de producci√≥n para cada <code>styled.div</code> se <code>Context.Consumer</code> dos componentes <code>Context.Consumer</code> .  Curiosamente, el componente que se proces√≥ fue "est√°tico", ya que no se asociaron reglas CSS din√°micas.  En tal situaci√≥n, uno esperar√≠a que si este ejemplo se escribiera usando la biblioteca de componentes con estilo, no <code>Context.Consumer</code> necesario para trabajar con el tema.  La raz√≥n por la que se muestran exactamente dos <code>Context.Consumer</code> aqu√≠ es porque el experimento, cuyos datos se dan arriba, se llev√≥ a cabo utilizando la emoci√≥n, otra biblioteca CSS-in-JS.  Esta biblioteca adopta casi el mismo enfoque que los componentes con estilo.  Las diferencias entre ellos son peque√±as.  Por lo tanto, la biblioteca de emociones analiza la cadena de la plantilla, procesa previamente los estilos usando <a href="https://stylis.js.org/">stylis</a> y actualiza el contenido de la <code>&lt;style&gt;</code> correspondiente.  Aqu√≠, sin embargo, debe notarse una diferencia clave entre los componentes con estilo y la emoci√≥n.  Consiste en el hecho de que la biblioteca de emociones <a href="">siempre</a> envuelve todos los componentes en <code>ThemeContext.Consumer</code> , independientemente de si usan el tema o no (esto explica la apariencia de la captura de pantalla anterior).  Curiosamente, a pesar de que la emoci√≥n representa m√°s componentes del consumidor que los componentes con estilo, las emociones <a href="https://medium.com/%40tkh44/emotion-ad1c45c6d28b">superan a</a> los componentes con estilo en t√©rminos de rendimiento.  Esto indica que el n√∫mero de componentes de <code>Context.Consumer</code> no es un factor importante para ralentizar el renderizado.  Vale la pena se√±alar que al momento de escribir este material, se lanz√≥ una versi√≥n beta de componentes con estilo v5.xx que, seg√∫n los desarrolladores de la biblioteca, <a href="https://medium.com/styled-components/announcing-styled-components-v5-beast-mode-389747abd987">evita la</a> emoci√≥n en t√©rminos de rendimiento. <br><br>  Resume de lo que est√°bamos hablando.  Resulta que una combinaci√≥n de muchos elementos <code>Context.Consumer</code> (lo que significa que React tiene que coordinar el trabajo de elementos adicionales) y los mecanismos internos de dise√±o din√°mico pueden ralentizar la aplicaci√≥n.  Debo decir que todas las etiquetas <code>&lt;style&gt;</code> agregadas al <code>&lt;head&gt;</code> para cada componente nunca se eliminan.  Esto se debe al hecho de que las operaciones de eliminaci√≥n de elementos crean una gran carga en el DOM (por ejemplo, el navegador debe reorganizar la p√°gina debido a esto).  Esta carga es mayor que la carga adicional en el sistema causada por la presencia en la p√°gina de elementos <code>&lt;style&gt;</code> innecesarios.  Para ser sincero, no puedo decir con confianza que las etiquetas <code>&lt;style&gt;</code> innecesarias pueden causar problemas de rendimiento.  Simplemente almacenan las clases no utilizadas generadas durante el funcionamiento de la p√°gina (es decir, estos datos no se transmitieron a trav√©s de la red).  Pero debe conocer esta caracter√≠stica del uso de la tecnolog√≠a CSS-in-JS. <br><br>  Debo decir que las etiquetas <code>&lt;style&gt;</code> no crean todas las bibliotecas CSS-in-JS, ya que no todas se basan en los mecanismos que funcionan cuando las p√°ginas funcionan en los navegadores.  Por ejemplo, la biblioteca <a href="https://github.com/callstack/linaria">linaria</a> no hace nada mientras la p√°gina se ejecuta en el navegador. <br><br>  Define un conjunto de clases CSS fijas durante el proceso de construcci√≥n del proyecto y ajusta la correspondencia de todas las reglas din√°micas en la cadena de plantilla (es decir, las reglas CSS que dependen de las propiedades del componente) con propiedades CSS personalizadas.  Como resultado, cuando cambia la propiedad de un componente, cambia la propiedad CSS y cambia el aspecto de la interfaz.  Gracias a esto, linaria es mucho m√°s r√°pido que las bibliotecas que dependen de mecanismos que funcionan mientras se ejecutan las p√°ginas.  La cuesti√≥n es que cuando se usa esta biblioteca, el sistema tiene que realizar mucho menos c√≥mputo durante la representaci√≥n de componentes.  Lo √∫nico que debe hacer cuando usa linaria durante el renderizado es recordar <a href="">actualizar la</a> propiedad CSS personalizada.  Al mismo tiempo, sin embargo, este enfoque es incompatible con IE11, tiene soporte limitado para propiedades CSS populares y, sin configuraci√≥n adicional, no le permite usar temas.  Como es el caso con otras √°reas de desarrollo web, entre las bibliotecas CSS-in-JS no hay una ideal, adecuada para todas las ocasiones. <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  La tecnolog√≠a CSS-in-JS en un momento parec√≠a una revoluci√≥n en el campo del estilo.  Hizo la vida m√°s f√°cil para muchos desarrolladores y tambi√©n permiti√≥, sin esfuerzos adicionales, resolver muchos problemas, como las colisiones de nombres y el uso de prefijos del fabricante del navegador.  Este art√≠culo est√° escrito para arrojar algo de luz sobre la cuesti√≥n de c√≥mo las bibliotecas populares CSS-in-JS (aquellas que controlan los estilos mientras se ejecuta una p√°gina) pueden afectar el rendimiento de los proyectos web.  Me gustar√≠a llamar la atenci√≥n sobre el hecho de que la influencia de estas bibliotecas en el rendimiento no siempre conduce a la aparici√≥n de problemas notables.  De hecho, en la mayor√≠a de las aplicaciones este efecto es completamente invisible.  Pueden ocurrir problemas en aplicaciones que tienen p√°ginas que contienen cientos de componentes complejos. <br><br>  Los beneficios de CSS-in-JS generalmente superan los posibles efectos negativos del uso de esta tecnolog√≠a.  Sin embargo, las desventajas de CSS-in-JS deben ser tenidas en cuenta por aquellos desarrolladores cuyas aplicaciones procesan grandes cantidades de datos, aquellos cuyos proyectos contienen muchos elementos de interfaz que cambian constantemente.  Si sospecha que su aplicaci√≥n est√° sujeta a los efectos negativos de CSS-in-JS, entonces, antes de refactorizar, vale la pena evaluar y medir adecuadamente todo. <br><br>  Estos son algunos consejos para mejorar el rendimiento de las aplicaciones que utilizan las bibliotecas populares CSS-in-JS que hacen su trabajo cuando las p√°ginas se ejecutan en un navegador: <br><br><ol><li>  No te dejes llevar por la composici√≥n de los componentes estilizados.  Intente no repetir el error del que habl√© al principio, y no intente, para crear un bot√≥n desafortunado, construir una composici√≥n de tres componentes estilizados.  Si desea "reutilizar" el c√≥digo, use la propiedad CSS y redacte cadenas de plantillas.  Esto le permitir√° prescindir de los muchos componentes innecesarios de <code>Context.Consumer</code> .  Como resultado, React tendr√° que administrar menos componentes, lo que aumentar√° la productividad del proyecto. </li><li>  Esforzarse por usar componentes "est√°ticos".  Algunas bibliotecas CSS-in-JS optimizan el c√≥digo generado si los estilos del componente no dependen del tema o las propiedades.  Cuanto m√°s "est√°tica" haya en las cadenas de plantilla, mayor ser√° la probabilidad de que los scripts en las bibliotecas CSS-in-JS se ejecuten m√°s r√°pido. </li><li>  Intente evitar operaciones innecesarias de representaci√≥n de sus aplicaciones React.  Esfu√©rcese por renderizar solo cuando realmente lo necesite.  Gracias a esto, ni las acciones React ni las acciones de la biblioteca CSS-in-JS se cargar√°n.  La representaci√≥n nueva es una operaci√≥n que solo debe realizarse en casos excepcionales.  Por ejemplo, con la retirada simult√°nea de una gran cantidad de componentes "pesados". </li><li>  Averig√ºe si una biblioteca CSS-in-JS es adecuada para su proyecto que no utiliza scripts que se ejecutan mientras la p√°gina se ejecuta en el navegador.  A veces elegimos la tecnolog√≠a CSS-in-JS porque es m√°s conveniente para el desarrollador usarla, y no varias API de JavaScript.  Pero si su aplicaci√≥n no necesita soporte si no tiene un uso intensivo de las propiedades CSS, entonces es posible que pueda usar una biblioteca CSS-in-JS como linaria que no usa scripts que se ejecutan mientras se ejecuta la p√°gina.  Este enfoque, adem√°s, reducir√° el tama√±o del paquete de aplicaciones en aproximadamente 12 Kb.  El hecho es que el tama√±o del c√≥digo de la mayor√≠a de las bibliotecas CSS-in-JS cabe en 12-15 Kb, y el c√≥digo de la misma linaria es inferior a 1 Kb. </li></ol><br>  <b>Estimados lectores!</b>  ¬øUtiliza bibliotecas CSS-in-JS? <br><br><div style="text-align:center;"> <a href="https://ruvds.com/ru-rub"><img src="https://habrastorage.org/webt/yx/3g/bv/yx3gbv0xlht1gyjfwlg2z_kgylo.png"></a> </div><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/480358/">https://habr.com/ru/post/480358/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../480338/index.html">C√≥mo funciona la renderizaci√≥n de juegos en 3D: rasterizaci√≥n y trazado de rayos</a></li>
<li><a href="../480342/index.html">Paradigma de desarrollo a trav√©s de comentarios</a></li>
<li><a href="../480350/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 326 (del 9 al 15 de diciembre)</a></li>
<li><a href="../480352/index.html">El genetista de Harvard desarrolla la aplicaci√≥n de dataci√≥n de an√°lisis de ADN prototipo</a></li>
<li><a href="../480356/index.html">Consejos √∫tiles de Python que no has conocido</a></li>
<li><a href="../480362/index.html">Aventuras del hexafluoruro de uranio empobrecido alem√°n en Rusia. Parte 1. Historia y tecnolog√≠as de enriquecimiento.</a></li>
<li><a href="../480364/index.html">Metaf√≠sica de la inyecci√≥n de dependencia</a></li>
<li><a href="../480368/index.html">Captura de p√©rdidas de memoria en C / C ++</a></li>
<li><a href="../480370/index.html">Conferencia DEFCON 19. Los jefes adoran Excel, los hackers tambi√©n</a></li>
<li><a href="../480374/index.html">DogBot de React Robotics persigue la revoluci√≥n en la industria de la construcci√≥n</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>