<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏩ 👆🏽 👎🏼 JMeter - Swiss Tester Knife (Bagian 1) 🔋 ㊗️ ✏️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bicara tentang JMeter? Kemungkinan besar, jika Anda berada di subjek, maka Anda sudah membaca segala sesuatu tentang alat ini untuk pengujian stres. T...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JMeter - Swiss Tester Knife (Bagian 1)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456928/">  Bicara tentang JMeter?  Kemungkinan besar, jika Anda berada di subjek, maka Anda sudah membaca segala sesuatu tentang alat ini untuk pengujian stres.  Tapi aku punya sesuatu yang mengejutkanmu.  Selama tiga tahun di QA, saya menyadari bahwa JMeter sangat fleksibel dan dapat digunakan untuk berbagai keperluan.  Misalnya, untuk: <br><br><ul><li>  mencari bug yang sulit dipahami dengan jatuhnya situs untuk beberapa pengguna; </li><li>  pemanasan cache cepat di ribuan halaman produk; </li><li>  menguji backend aplikasi seluler; </li><li>  membuat 2000 catatan dengan data pengguna dalam database aplikasi dalam waktu singkat. </li></ul><br>  Jika Anda tertarik, selamat datang di kucing.  Ternyata dengan lantang, jadi saya akan memecah artikel menjadi dua bagian. <br><a name="habracut"></a><br><blockquote> <i><b>Penafian:</b> Untuk alasan yang jelas, saya tidak memasukkan tangkapan layar dari proyek nyata ke dalam artikel (atau mengekstrak semua informasi penting dari mereka).</i>  <i>Ilustrasi diberikan hanya untuk tujuan penelitian dan pendidikan.</i> </blockquote><br><h2>  Aplikasi JMeter Klasik </h2><br>  JMeter - applet Java dengan GUI.  Untuk pengujian, ini dimulai tanpa antarmuka grafis.  Dan untuk menulis skrip uji, ia memiliki panel di mana Anda dapat melakukan apa saja. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d8/ac5/d62/8d8ac5d625f266f640fe6d65dce8e994.png" alt="Membuat skrip di JMeter"></div>  <font color="#999999"><i>Beginilah proses pembuatan skrip terlihat (bahkan kata "menulis" tidak cocok)</i></font> <br><br>  Rencana Uji umum dibuat, di mana Grup Thread melemparkan dirinya sendiri dengan elemen-elemen utama pengujian: pengontrol dan permintaan proses (HTTP, FTP, dll.). <br><br>  Selain itu, ada elemen tambahan untuk pengaturan parameter.  Misalnya, Default Permintaan HTTP memungkinkan Anda menentukan server utama, tajuk dan mengaktifkan / menonaktifkan unduhan aset tambahan (gambar, gaya, font, dll.).  Sangat mudah untuk mengetahuinya.  Dan Anda dapat langsung menjalankan tes dari antarmuka ini dan melihat hasilnya. <br><br>  JMeter dapat merekam kasus uji tersebut.  Ini berjalan sebagai proxy pada mesin lokal dan, jika Anda mengkonfigurasi browser (atau aplikasi), mengarahkan lalu lintas melalui proxy ini, JMeter akan mencatat semua permintaan dan tanggapan.  Dan dari set ini, Anda dapat membuat skrip uji yang akan mengulangi tindakan pengguna, dan menjalankannya di mana pun dan kapan pun Anda inginkan: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qy/z7/lq/qyz7lqjkh8y-e9ul3mqi76qceam.png" alt="Menulis skrip di JMeter berdasarkan tindakan pengguna"></div><br><br>  Masalah utama adalah tumpukan memori Java itu sendiri.  Itu terletak di langit-langit dan dapat jatuh dengan 50 utas pengujian simultan, bahkan pada mesin kelas atas. <br>  Jika mesin tidak memiliki daya yang cukup untuk pengujian beban penuh, hubungi organisasi pihak ketiga.  Mereka mengerahkan infrastruktur yang merupakan satu set server.  Mereka mendapat JMeter yang sama.  Dengan bayaran, orang-orang ini akan menjalankan skrip Anda pada beban apa pun.  Kami melamar layanan seperti itu di Octoperf dan Blazemeter. <br><br><h2>  Ini sepak bola, sayang: bagaimana kami menangkap bug dengan kerusakan sebagian server </h2><br>  Kami telah terlibat dalam pengembangan web selama 18 tahun (sorakan - sekarang Anda bisa merokok, menikah, dan menonton John Wick).  Ada banyak pelanggan seumur hidup mereka, tetapi yang terbesar baru-baru ini muncul.  Misalnya, kami membuat situs di <b>Sitecore</b> untuk salah satu klub sepak bola Liga Premier Inggris dengan paradigma SPW (situs web satu halaman: semua halaman terbuka tanpa memuat ulang halaman browser itu sendiri).  Di bawah tenda adalah panel admin untuk mengelola halaman pertandingan langsung.  Ini adalah siaran online tekstual dari permainan: acara utama (gol, penghapusan, tendangan bebas) dimuat secara otomatis dari sistem Opta, dan foto, komentar, dan kiriman ulang penggemar dari Twitter dan Instagram diterbitkan oleh orang-orang langsung - manajer konten klub sepakbola. <br><br>  Saya akan mencatat dengan bangga: setelah rilis, media Inggris menerbitkan artikel di bawah judul seperti "Akhirnya, hegemoni situs-situs lama klub sepak bola berakhir."  Saat itu, sebagian besar klub sudah memiliki situs.  Tetapi mereka tampak seperti dikembangkan pada awal tahun 2000-an dan tidak berubah sejak saat itu - dengan desain dan UX yang sesuai. <br><br>  Sebelum diluncurkan, kami melakukan uji beban penuh dan memastikan semuanya berjalan sebagaimana mestinya.  Struktur server terlihat seperti ini: <br><br><ol><li>  permintaan dari klien masuk ke server load balancing → </li><li>  server load balancing memeriksa status delapan server <abbr title="Pengiriman Konten, server pengiriman konten">CD</abbr> → </li><li>  server load balancing mengirimkan permintaan ke server CD yang paling sedikit dimuat → </li><li>  Server CD merespons klien. </li></ol><br>  Setahun setelah peluncuran, selama gelombang besar pengguna ke situs, klien menelepon dan mengatakan bahwa situs itu turun: <br><br>  - Situs kami tidak berfungsi!  Tidak berfungsi sama sekali!  Hanya layar putih dan tulisan dari browser yang situsnya rusak!  - kata klien. <br>  Kami panik membuka situs, dan dengan itu semuanya OK: <br>  "Masih bekerja," jawab kami. <br>  Klien membuka situs dari telepon dan komputer dan ... semuanya baik-baik saja! <br>  - Sungguh, maaf.  Tampaknya, pengguna memiliki masalah. <br><br>  Pesan tersebut tidak muncul dari awal, jadi kami melakukan penelitian: kami meluncurkan utilitas untuk memantau status server Server Density dan melihat apa yang terjadi pada mereka selama masuknya pengguna di situs: <br><br><img src="https://habrastorage.org/webt/o8/m9/rd/o8m9rd9amg7mcl_vlf8ky2ce1wu.png" alt="Lihat riwayat pemuatan server di Server Density"><br>  <font color="#999999"><i>Ada beban, tetapi semua server CD terlihat hampir sama</i></font> <br><br>  Segera cerita itu terulang kembali - beberapa pengguna melaporkan situs yang benar-benar rusak.  Itu bukan semacam kesalahan atau halaman tidak ditemukan - server tidak menanggapi permintaan.  Itu mungkin untuk menangkap situasi dengan bantuan JMeter. <br><br>  Tujuannya sederhana - muat delapan server dan lihat apa yang terjadi.  Tes stres dilakukan ketika fajar terjadi di Chelyabinsk, dan di London itu adalah malam yang dalam.  Kami menggunakan beberapa mesin dalam mode non-antarmuka (memungkinkan Anda menjalankan lebih banyak utas pada saat yang bersamaan).  Script tanpa henti membuka halaman utama, dan ini adalah kesalahan utama kami. <br><br><img src="https://habrastorage.org/webt/g_/fu/c-/g_fuc-c3uungpae4vrrhn2q-c94.png" alt="Skrip uji muat termudah di JMeter untuk meminta satu halaman dalam satu lingkaran"><br><br>  Kami mengunduh aset yang sama yang sudah di-cache ratusan kali.  Karena itu, beban keluar tidak signifikan.  Kemudian muncul ide: di situs - kereta dan gerobak kecil halaman dengan berita untuk tanggal tertentu.  Jika Anda memajukan beberapa variabel dan menggantinya di URL, kami akan selalu mendapatkan halaman acak (misalnya - ... url / news / 2016/08/23 /? Halaman = 4). <br><br>  Tiba-tiba, kami menyadari bahwa Server Density memiliki beberapa “perataan” bawaan dalam grafik beban server selama periode sebelumnya.  Jika dalam lima menit beban pada server mencapai 100%, kemudian turun menjadi 0%, dan setelah 20-30 detik meningkat menjadi 90%, itu akan menunjukkan nilai rata-rata untuk periode ini - sekitar 80-90%.  Karena itu, kami tidak melihat kerusakan server nyata. <br><br>  Setelah memeriksa log secara terperinci selama stress test, kami menemukan bahwa salah satu server-CD masuk ke reboot pada 100% beban dan tidak memberi tahu siapa pun tentang hal itu (ia sangat tertutup). <br><br><img src="https://habrastorage.org/webt/i5/ie/n6/i5ien6w5zjrwwm1lk23crcj9vn8.png"><br><br>  Penyeimbang beban hanya melihat pemanfaatan CPU dari semua server.  Dia melihat bahwa salah satu dari mereka dimuat di 20%, dan sisanya di 90%, dan mengirim pengguna ke yang pertama.  Dan dia dalam reboot dan membagikan layar putih.  Selain itu, server distribusi mengekspos pengguna ke cookie dan mengikatnya dengan erat ke server idle.  Karena itu, bahkan setelah pembaruan, situs tidak tersedia.  7 dari 8 pengguna yang tersisa pada saat yang sama menikmati hidup dan mengatakan bahwa semuanya berfungsi. <br><br><h4>  <font color="#cc0000">Kesimpulan:</font> </h4><br>  kami menemukan bahwa JMeter dapat digunakan untuk stress test dan pada saat yang sama menganalisis status server selama pengujian dengan alat lain.  Kami berhasil "menangkap" masalah dengan jatuhnya situs di antara beberapa pengguna dan menyelesaikannya dengan memperbaiki logika distribusi muatan dan menambahkan kontrol keadaan. <br><br>  Di bagian selanjutnya saya akan memberi tahu Anda bagaimana, dengan bantuan JMeter, kami menyiapkan proses caching untuk halaman produk, menguji pengoperasian aplikasi seluler tanpa aplikasi itu sendiri dan menciptakan 2.000 pengguna dalam sistem tanpa akses ke database. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id456928/">https://habr.com/ru/post/id456928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id456912/index.html">Cara membuat situs di 2019</a></li>
<li><a href="../id456916/index.html">Kompilasi silang di buruh pelabuhan. Kenapa tidak</a></li>
<li><a href="../id456920/index.html">Sony Xperia 1 di Rusia - bonus harga dan pre-order</a></li>
<li><a href="../id456922/index.html">Bagaimana prosesor dirancang dan diproduksi: dasar-dasar arsitektur komputer</a></li>
<li><a href="../id456926/index.html">Bagaimana kami melakukan Sportmaster</a></li>
<li><a href="../id456932/index.html">OpenGL Ultramodern. Bagian 1</a></li>
<li><a href="../id456936/index.html">Kartu Animasi di SwiftUI</a></li>
<li><a href="../id456938/index.html">Meluncurkan aplikasi taksi-memanggil di Tokyo: Bagaimana Sony melakukannya dengan S. Ride?</a></li>
<li><a href="../id456942/index.html">Dewa tenggat waktu yang banyak bersenjata atau penggunaan analisis yang luas</a></li>
<li><a href="../id456944/index.html">3 contoh praktis menggunakan perusakan dalam JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>