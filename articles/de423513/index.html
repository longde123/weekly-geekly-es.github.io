<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👉🏻 🏯 🤳🏽 Wir sparen auf einem RAID-Controller oder wie man Varia mit Iops füttert 💝 👴🏾 😠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In unserer Zeit der Cloud-Services, AWS Lambda und anderen gemeinsamen Hosts von absolut immateriellen Computerressourcen möchte ich manchmal ein weni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir sparen auf einem RAID-Controller oder wie man Varia mit Iops füttert</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423513/"><img align="right" src="https://habrastorage.org/webt/tk/12/jd/tk12jdebhacj1uexhpnwt0bbzo0.jpeg">  In unserer Zeit der Cloud-Services, AWS Lambda und anderen <s>gemeinsamen Hosts von</s> absolut immateriellen Computerressourcen möchte ich manchmal ein wenig von mir.  Zusätzlich zum Wunsch besteht manchmal auch die Notwendigkeit, das eine oder andere Softwareprodukt mit minimalen Plattformkosten nachdenklich zu verdrehen.  Man kann fast immer überschüssige Ausrüstung finden, manchmal stellt sich sogar heraus, dass alles zusammengesetzt und eingeschaltet wird.  Wenn diese Überschüsse eine CPU mit mindestens 4-6 Kernen und Speicher von 64 GB darstellen - im Allgemeinen ausgezeichnet -, können Sie ESXi verwenden und mit allem arbeiten.  Ein Problem: Mit einer Festplattenkapazität auf Haushaltshardware bei VMWare - absolut nichts.  Die Leistung lokaler Einzelfestplatten ist gering, und der Verlust des Inhalts einer einzelnen Schraube im Vakuum im 21. Jahrhundert ist wie Hallo.  Versuchen wir, etwas über das Netzwerk zu verbinden. <br><br>  TL; DR&gt; Assoziation, Balancing, rr-Limit, das ist alles. <br><a name="habracut"></a><br>  Im folgenden Text geht es eigentlich nicht darum, dass dies allgemein möglich ist oder um eine Art Know-how.  Das Internet ist voll von Artikeln für Dummies (siehe hier, dann Weiter, Weiter, Fertig) zum Übermitteln einer iSCSI-Festplattenkapazität.  Ich schreibe nur, um die „Fehler der Überlebenden“ auszuschließen und die Momente zu teilen, in denen „alles schief gehen wird“ (und es wird gehen, Murphy hatte Recht), und wenn Sie versuchen, die Lösung zu laden, stürzt sie einfach ab. <br><br>  Wir werden also versuchen, unseren "Haushaltshypervisor" mit einem externen Festplattenarray zu ersticken, das über das Netzwerk verbunden ist.  Da sich alles um „kostengünstig“ dreht, handelt es sich um FreeNAS- und 4 SATA-Festplatten, die von mittelmäßigen 3-GHz-45-nm-Prozent bedient werden.  Wir schauen uns Ebay an und für Geld, das mit einem gebrauchten RAID-Controller vergleichbar ist, ziehen sie ein paar i350-T4-Netzwerkkarten von dort.  Dies sind Gigabit-Adapter mit vier Ports von Intel.  Demnach werden wir den Speicher dem Hypervisor zuordnen. <br><br>  Zähle ein wenig.  Die durchschnittliche Datenübertragungsgeschwindigkeit einer durchschnittlichen SATA-Festplatte beträgt 160-180 MB / s bei einer Schnittstellenbreite von 6 Gbit / s.  Tatsächlich überschreitet die tatsächliche Datenübertragungsrate von der Festplatte 2 Gbit / s nicht.  Dies ist keine so große Zahl, da wir 4-Gigabit-Ports planen (wie man 4x1Gbps in 4Gbps verwandelt - wir werden weiter diskutieren).  Alles mit zufälligen Zugriffsgeschwindigkeiten ist viel schlechter - hier fällt alles fast auf das Niveau von Disketten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7y/cn/re/7ycnrez1dwgdr_nsgkti4zjdsjw.png"></div><br>  Angesichts der Tatsache, dass das Festplattenladeprofil vieler Gastbetriebssysteme alles andere als linear ist, würde ich mir mehr Spaßzahlen wünschen.  Um die Situation im Dateisystem des Hypervisors (VMFS v6) zu korrigieren, beträgt die Blockgröße 1 MB. Dies hilft, viele zufällige Vorgänge zu komprimieren und den Zugriff auf Daten auf virtuellen Laufwerken zu beschleunigen.  Aber selbst dann reicht eine physische Festplatte nicht aus, um E / A-Vorgänge aller "Gäste" abzuwickeln. <br><br>  Ich werde sofort eine Reservierung vornehmen - alles ist sinnvoll, wenn Sie mehr als zwei Adapter für das "Speichernetzwerk" haben.  ESXi mit einer kostenlosen Einzelprozessorlizenz kann zusätzlich zu lokalen Festplatten eine Verbindung zu zwei Speichertypen herstellen - NFS und iSCSI.  NFS beinhaltet Zugriff auf Dateiebene und ist auch auf seine eigene Weise gut.  Darauf können Sie Gäste bereitstellen, die keine Anforderungen an die Festplattenleistung stellen.  Es ist mir eine Freude, sie zu sichern.  Sie können denselben NFS-Ball an einer anderen Stelle öffnen und Snapshots vm kopieren.  Im Allgemeinen mit einer Netzwerkschnittstelle (wenn es nicht 10GE ist, natürlich) - NFS ist Ihre Wahl. <br><br>  ISCSI hat gegenüber NFS mehrere Vorteile.  Um sie vollständig zu realisieren, haben wir uns bereits vorbereitet - nachdem wir bereits 4 Gigabit-Ports für das Speichernetzwerk festgelegt haben.  Wie erfolgt die Erweiterung der Netzwerkbandbreite normalerweise bei einer bekannten Schnittstellengeschwindigkeit?  Das ist richtig, Aggregation.  Für die vollständige Nutzung des aggregierten Kanals sind jedoch eine Reihe von Bedingungen erforderlich, und dies ist besser für die Kommunikation zwischen Switches oder für eine Netzwerk-Uplink eines Hypervisors geeignet.  Die Implementierung des iSCSI-Protokolls bietet eine Funktion wie Multipathing (buchstäblich viele Pfade) - die Möglichkeit, dasselbe Volume über verschiedene Netzwerkschnittstellen zu verbinden.  Natürlich auch dort über die Möglichkeit des Lastausgleichs, obwohl der Hauptzweck die Fehlertoleranz des Speichernetzwerks ist.  (Fairerweise unterstützt NFSv4.1 Session Trunking basierend auf der fortschrittlichsten Magie wie RDMA und MPTCP, aber dies ist ein Versuch, Dateizugriffsprobleme <s>von einem wunden Kopf auf einen gesunden</s> auf niedrigere Ebenen zu verlagern.) <br><br>  Zunächst werden wir unser Ziel veröffentlichen.  Wir glauben, dass FreeNAS installiert ist, die IP-Adresse des Managements regelmäßig die Webschnittstelle an uns versendet, wir das Array abschneiden und darauf gemäß unseren internen Überzeugungen zvol.  In unserem Fall handelt es sich um ein 4 x 500 GB großes Laufwerk, das in raidz1 kombiniert ist (was nur 1,3 TiB effektive Kapazität ergibt), und zvol ist genau 1 TB groß.  Wir werden die i350-Netzwerkschnittstellen konfigurieren. Der Einfachheit halber akzeptieren wir, dass jeder zu verschiedenen Subnetzen gehört. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3f/ci/-b/3fci-bzni4siodupm_admdf8nfe.png"></div><br>  Anschließend konfigurieren wir den iSCSI-Ball mit der Methode „Weiter, Weiter, Fertig“.  Vergessen Sie bei der Konfiguration des Portals nicht, alle für iSCSI bestimmten Netzwerkschnittstellen dort hinzuzufügen.  Es sollte ungefähr so ​​aussehen wie auf den Bildern. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uk/4w/hu/uk4whuf8w2gxvts-vxu-3oupyn8.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yq/pp/wg/yqppwgzsqzxkxkffbatxbgxiiy0.png"></div><br>  Ein wenig mehr Aufmerksamkeit muss dem Einstellungsumfang gewidmet werden - bei der Darstellung eines Volumes muss eine Blockgröße von 512 Bytes erzwungen werden.  Ohne dies weigerte sich der ESXi-Initiator, die präsentierten Volumes überhaupt zu identifizieren.  Aus Gründen der Wiedergabetreue ist es besser, die Probros-Größen des physischen Blocks (der auf zvol nicht vorhanden ist und nicht sein kann) zu deaktivieren und den Xen-Unterstützungsmodus zu aktivieren. <br>  Vorerst mit FreeNAS. <br><br>  Auf der ESXi-Seite ist die Netzwerkeinrichtung etwas komplizierter.  Auch hier glauben wir, dass der Hypervisor selbst auf einem separaten Port installiert und verwaltet wird.  Sie müssen 4 VM-Kernel-Schnittstellen auswählen, die zu 4 verschiedenen Portgruppen in 4 verschiedenen virtuellen Switches gehören.  Jeder dieser Switches verfügt über einen eigenen physischen Uplink-Port.  Wir verwenden die vmk # -Adressen natürlich in den entsprechenden Subnetzen, ähnlich wie bei der Konfiguration der Speicherports.  Die Reihenfolge der Adresseinstellung ist im Allgemeinen wichtig: Entweder verbinden wir Port-zu-Port-Karten ohne Switch, oder wir geben verschiedene Links zu verschiedenen Netzwerken (naja, wenn auch nur für Erwachsene), sodass der physische Port-Matching wichtig ist. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qe/hq/ox/qehqoxnpinkpxs1fy2ajiamu7om.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cn/vr/q1/cnvrq1slbat9sqajuqy0wvudadi.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3x/ml/1b/3xml1bfwyrzwqqkzmin3pwz4ltw.png"></div><br>  Beim Einrichten eines Netzwerks für iSCSI achten wir besonders auf den MTU-Parameter.  Dies ist genau dann der Fall, wenn „Größe zählt“ - wir nehmen das Maximum, das alle Netzwerkkomponenten installieren können.  Wenn die Karten direkt angeschlossen sind, können Sie das mtu 9000 auf beiden Seiten auf ESXi und FreeNAS richten.  Normale Schalter unterstützen diesen Wert jedoch.  Wir pingen, wir sehen, dass das Netzwerk normal ist und die Pakete der erforderlichen Größe passieren.  Großartig.  Wir setzen den Initiator in Brand. <br><br>  Aktivieren Sie iSCSI und fügen Sie dem Abschnitt zur dynamischen Konfiguration IP-Adressen hinzu (Speicher -&gt; Adapter -&gt; iSCSI konfigurieren -&gt; Dynamische Ziele).  Nach dem Speichern werden die iSCSI-Portale an diesen Adressen abgefragt. Der Initiator stellt fest, dass jedes von ihnen das gleiche Volume hat, und stellt an allen verfügbaren Adressen (dem gleichen Mehrweg) eine Verbindung her.  Als Nächstes müssen wir einen Datenspeicher auf dem angezeigten Gerät erstellen. <br><br>  Danach können Sie die virtuelle Maschine ausrollen und messen, was wir haben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4t/hf/bd/4thfbd-txhgteetxgb6zs3gggjo.png"></div><br>  Nicht so beeindruckende Ergebnisse.  Öffnen Sie die Speicherkonsole, zeigen Sie den aktuellen Netzwerkstatus an und führen Sie die Tests aus. <br><br> <code>root@freenas:~ # systat -ifstat</code> <br> <div class="spoiler">  <b class="spoiler_title">Was sehen wir?</b> <div class="spoiler_text"><pre> <code class="hljs sql"> /0 /1 /2 /3 /4 /5 /6 /7 /8 /9 /10 <span class="hljs-keyword"><span class="hljs-keyword">Load</span></span> Average <span class="hljs-keyword"><span class="hljs-keyword">Interface</span></span> Traffic Peak Total lo0 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.319</span></span> KB/s <span class="hljs-number"><span class="hljs-number">0.893</span></span> KB/s <span class="hljs-number"><span class="hljs-number">3.041</span></span> MB <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">0.319</span></span> KB/s <span class="hljs-number"><span class="hljs-number">0.893</span></span> KB/s <span class="hljs-number"><span class="hljs-number">3.041</span></span> MB alc0 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.478</span></span> KB/s <span class="hljs-number"><span class="hljs-number">1.233</span></span> KB/s <span class="hljs-number"><span class="hljs-number">3.934</span></span> MB <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">0.412</span></span> KB/s <span class="hljs-number"><span class="hljs-number">1.083</span></span> KB/s <span class="hljs-number"><span class="hljs-number">2.207</span></span> MB igb3 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.046</span></span> KB/s <span class="hljs-number"><span class="hljs-number">0.105</span></span> KB/s <span class="hljs-number"><span class="hljs-number">181.434</span></span> KB <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">0.073</span></span> KB/s <span class="hljs-number"><span class="hljs-number">0.196</span></span> KB/s <span class="hljs-number"><span class="hljs-number">578.396</span></span> KB igb2 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.046</span></span> KB/s <span class="hljs-number"><span class="hljs-number">0.105</span></span> KB/s <span class="hljs-number"><span class="hljs-number">120.963</span></span> KB <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">0.096</span></span> KB/s <span class="hljs-number"><span class="hljs-number">0.174</span></span> KB/s <span class="hljs-number"><span class="hljs-number">517.221</span></span> KB igb1 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">4.964</span></span> MB/s <span class="hljs-number"><span class="hljs-number">121.255</span></span> MB/s <span class="hljs-number"><span class="hljs-number">10.837</span></span> GB <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">6.426</span></span> MB/s <span class="hljs-number"><span class="hljs-number">120.881</span></span> MB/s <span class="hljs-number"><span class="hljs-number">3.003</span></span> GB igb0 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.046</span></span> KB/s <span class="hljs-number"><span class="hljs-number">0.105</span></span> KB/s <span class="hljs-number"><span class="hljs-number">139.123</span></span> KB <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">0.073</span></span> KB/s <span class="hljs-number"><span class="hljs-number">0.210</span></span> KB/s <span class="hljs-number"><span class="hljs-number">869.938</span></span> KB</code> </pre><br></div></div><br>  Es wurde nur einer der vier Netzwerkports (igb1) verwendet.  Dies liegt daran, dass der standardmäßig für Multipath bereitgestellte Ausgleichsmechanismus mit jedem Datenpaket denselben Adapter auswählt.  Wir müssen aus allem heraus nutzen. <br>  Wir sind über SSH und Befehl mit dem Hypervisor verbunden. <br>  Lassen Sie uns zunächst sehen, welche ID der Mond mit Multipath hat und wie er funktioniert: <br><br> <code>[root@localhost:~] esxcfg-mpath -b <br> naa.6589cfc000000b478db42ca922bb9308 : FreeNAS iSCSI Disk (naa.6589cfc000000b478db42ca922bb9308) <br> <br> [root@localhost:~] esxcli storage nmp device list -d naa.6589cfc000000b478db42ca922bb9308 | grep PSP <br> Path Selection Policy: VMW_PSP_MRU</code> <br> <br>  Die Pfadauswahlrichtlinie ist MRU, dh die zuletzt verwendete.  Alle Daten werden an denselben Port gesendet. Die erneute Auswahl des Pfads erfolgt nur, wenn die Netzwerkverbindung nicht verfügbar ist.  Wir wechseln zu Round-Robin, bei dem sich alle Schnittstellen nach einer bestimmten Anzahl von Operationen nacheinander ändern: <br><br> <code>[root@localhost:~] esxcli storage nmp device set -d naa.6589cfc000000b478db42ca922bb9308 -P VMW_PSP_RR</code> <br> <br>  Wir starten ESXi neu, öffnen die Überwachung und führen Tests durch.  Wir sehen, dass die Last gleichmäßig auf die Netzwerkadapter verteilt ist (zumindest Spitzenwerte, zu stark abgekratzt), die Testergebnisse machen auch mehr Spaß. <br><br><img align="right" src="https://habrastorage.org/webt/pg/au/ov/pgauovsykzwhnis_ustnqqp-d_y.png"><pre> <code class="hljs delphi"> <span class="hljs-keyword"><span class="hljs-keyword">Interface</span></span> Peak igb3 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">43.233</span></span> MB/s <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">46.170</span></span> MB/s igb2 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">42.806</span></span> MB/s <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">45.773</span></span> MB/s igb1 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">43.495</span></span> MB/s <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">45.489</span></span> MB/s igb0 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">43.208</span></span> MB/s <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">46.079</span></span> MB/s</code> </pre> <br>  Es gibt einige Abweichungen an den Ports. Dies ist auf die Richtlinienbeschränkungen für die Pfadauswahl zurückzuführen - die Anzahl der Operationen oder Bytes, nach denen auf einen anderen Port gewechselt wird.  Standardmäßig 1000 IOPS, dh wenn der Datenaustausch innerhalb von 999 Vorgängen erfolgt, wird er über einen Netzwerkport übertragen.  Sie können den entsprechenden Wert ändern, vergleichen und auswählen.  Sie können nicht ändern, Standard ist für die meisten Aufgaben ausreichend. <br><br>  Wir messen, testen, arbeiten.  Die Ergebnisse sind den Funktionen eines einzelnen Laufwerks deutlich überlegen, sodass unsere virtuellen Maschinen jetzt möglicherweise nicht mehr auf E / A-Vorgänge beschränkt sind.  Die resultierenden Geschwindigkeiten und Fehlertoleranzen des Arrays hängen von der Hardware und der Konfiguration des Volumes ab. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de423513/">https://habr.com/ru/post/de423513/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de423499/index.html">DevBoy - wie ich ein Open Source-Geräteprojekt erstellt und ein Projekt auf Kickstarter gestartet habe</a></li>
<li><a href="../de423503/index.html">Meine Erfahrung in Deutschland zu bewegen, zu leben und zu studieren</a></li>
<li><a href="../de423505/index.html">Zuckerberg verkauft Facebook-Aktien für 13 Milliarden US-Dollar, damit „unsere Kinder nie krank werden müssen“</a></li>
<li><a href="../de423507/index.html">So speichern Sie Speicher auf Browser-Registerkarten, ohne deren Inhalt zu verlieren. Die Erfahrung des Yandex.Browser-Teams</a></li>
<li><a href="../de423511/index.html">Abfangen der Installation von Firefox und Chrome unter Windows 10</a></li>
<li><a href="../de423515/index.html">Ist DRY gut oder kann es O von SOLID brechen</a></li>
<li><a href="../de423519/index.html">Wandering Monster: Wie man Probleme auf der Karte beseitigt</a></li>
<li><a href="../de423521/index.html">Sieben Faustregeln zum Experimentieren mit Websites</a></li>
<li><a href="../de423523/index.html">Kombinierter Sensor mit Vorlieben und Dichtern</a></li>
<li><a href="../de423527/index.html">Kinder-Apps sammeln massiv personenbezogene Daten und geben diese an Dritte weiter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>