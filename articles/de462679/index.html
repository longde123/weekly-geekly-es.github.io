<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👄 🧑🏼 📚 Warum wir uns entschieden haben, die ML-Testpraxis zu entwickeln 😍 🏗️ 🌮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vorhersage- und Optimierungsdienste auf der Basis von maschinellem Lernen sind heutzutage für viele Unternehmen von Interesse: von großen Banken bis z...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Warum wir uns entschieden haben, die ML-Testpraxis zu entwickeln</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/462679/"><img src="https://habrastorage.org/webt/jj/4m/8x/jj4m8xa_0bw0pikr53u3wm-pbdo.jpeg"><br><br>  Vorhersage- und Optimierungsdienste auf der Basis von maschinellem Lernen sind heutzutage für viele Unternehmen von Interesse: von großen Banken bis zu kleinen Online-Shops.  Bei der Lösung der Probleme verschiedener Kunden stießen wir auf eine Reihe von Problemen, die als Grundlage für unsere Diskussionen über die Merkmale von ML-Tests dienten.  Für Interessierte ist dies unser nächster Beitrag von Sergey Agaltsov, Testmanager von Jet Infosystems. <br><a name="habracut"></a><br>  Bisher konnten nur große Unternehmen das maschinelle Lernen nutzen, da es teuer und schwierig war und nur sehr wenige Daten öffentlich zugänglich waren.  Heute ist es viel einfacher geworden.  Fachwissen ML kann bei einem Integrator, einem spezialisierten Unternehmen oder an einem thematischen Standort angefordert werden.  Das ist gut für alle, denn mit dem Anwachsen des Fachwissens werden neue Algorithmen entwickelt und das „Sparschwein der Erfahrung“ im Bereich des maschinellen Lernens wird ständig bereichert. <br><br>  Der einzige Aspekt, für den wir keine fertige Lösung gefunden haben, ist das Testen von ML-Diensten.  Durch Googeln können Sie sicherstellen, dass in den Suchergebnissen die Aktivitäten von Testern bei der Entwicklung solcher Dienste nicht erwähnt werden.  Natürlich testen Data-Science-Experten ihre Modelle selbst anhand verschiedener Metriken, und gemäß diesen Metriken kann der Service sogar so genau wie möglich sein. In der Realität kann das Modell jedoch nicht immer verschiedene Produktionsnuancen und -engpässe berücksichtigen.  Dann beginnt die Logik des maschinellen Lernens zu einem Hardcode zu werden. <br><br>  In dieser Hinsicht stehen wir vor einer Reihe von Problemen: <br><br><ul><li>  Berücksichtigt unser Optimierungsmodell immer mögliche Produktionsbeschränkungen? <br></li><li>  Können unsere Modelle mit Engpässen umgehen? <br></li><li>  Kann unser Modell korrekt auf Produktionsänderungen reagieren? <br></li></ul><br>  Hier haben wir beschlossen, das Testteam zu fokussieren. <br><br>  Unsere Aufgabe ist es, die ML-Testpraxis zu vereinheitlichen, um auf alle oben genannten Probleme reagieren zu können.  Im Moment sind wir zu einer Reihe von Schlussfolgerungen gekommen, und jetzt werde ich Ihnen sagen, welche. <br><br>
<h3>  Testen Sie die Einhaltung von Produktionsbeschränkungen und -anforderungen für deren Berücksichtigung durch den Optimierungsalgorithmus </h3><br>  Bei klassischen Tests haben wir bei jedem Test immer ein „erwartetes Ergebnis“.  Wir wissen genau, wie das System auf die eine oder andere Eingabedaten reagieren soll.  Wenn es sich jedoch um ML in Produktionsumgebungen handelt, kann dieses am meisten erwartete Ergebnis die Einhaltung von behördlichen Dokumenten wie GOSTs, technologischen Anweisungen und temporären Flussdiagrammen sein, die sowohl die Produktionsprozesse selbst als auch die Qualitätskriterien des Endprodukts einschränken.  Während ihrer Tests müssen wir sicher sein, dass alle diese Einschränkungen tatsächlich eingehalten werden, und trotz ihrer Anzahl sind wir sicher, dass jeder von ihnen von Testfällen abgedeckt wird. <br><br>  Am Beispiel eines realen Projekts zur Optimierung der Produktion von Materialien N (wir haben den Fall noch nicht bekannt gegeben, daher werden wir anonyme Namen verwenden) haben wir dieses Problem wie folgt gelöst: <br><br><ul><li>  Wir haben alle Qualitäten von N-Materialmischungen nach dem Gehalt an chemischen Elementen in ihnen klassifiziert.  Als Ergebnis erhielten wir eine Liste, die wir später als Hilfsmittel verwenden wollten, um eine ausreichende Testabdeckung sicherzustellen. <br></li><li>  Wir waren davon überzeugt, dass die Empfehlungen des Modells für alle diese Gemische von Produktionstechnologen bedingungslos akzeptiert wurden, und haben das Ergebnis dieses Problems in einer CSV-Datei festgehalten.  So erhielten wir Empfehlungen des Systems eines bestimmten „Goldstandards“. <br></li><li>  Dann wurde ein Skript geschrieben, das die Liste unserer Referenzmischungen von Version zu Version durch das Modell führte und das Ergebnis seiner Lieferung mit dem verglich, was in unserer „Goldstandard“ -CSV gespeichert war. <br></li><li>  Wenn keine Änderungen im Verhalten des Modells festgestellt wurden, können die Regressionstests als erfolgreich angesehen werden.  Wenn nicht, wurde eine Nachbesprechung durchgeführt. <br></li></ul><br>  Auf diese Weise konnten wir das Problem der Regressionstests lösen und das Vertrauen gewinnen, dass die in das Modell eingeführten Änderungen die früheren Ergebnisse unserer Arbeit nicht beeinflussen. <br><br><h3>  Die Tests konzentrierten sich auf Engpässe </h3><br>  Optimierungsmodelle können am besten vorhersagen, was in historischen Daten am häufigsten vorkommt, und umgekehrt kann sich ein Modell in einen Kürbis verwandeln, sobald es auf etwas Ungewöhnliches stößt. <br><br>  In solchen Fällen muss der Optimierungsdienst häufig ein angemessenes Verhaltensmodell „auffordern“, und dies generiert den Hardcode, über den ich zuvor geschrieben habe.  Aber wie kann man diese Engpässe identifizieren und den Service debuggen?  Ich werde dies am Beispiel der Entwicklung eines Dienstes für Empfehlungen zur Verwaltung der Produktion von Material N erläutern (der Fall ist noch nicht offenlegungspflichtig, daher wird im Folgenden auf verschleierte Namen verwiesen). <br><br>  Zunächst entwickelte unser Architekt einen Integrationsemulator, der produktive Daten erzeugte und damit den Datumsrahmen ausfüllte, auf dessen Grundlage das Optimierungsmodell Empfehlungen für die Verarbeitung von Material N herausgab. Anschließend analysierte der Tester diese Empfehlungen und identifizierte die verdächtigsten - diejenigen, die ausgeschlagen wurden empfohlene Parameter für den Gesamtmassenstrom.  Bereits zu diesem Zeitpunkt konnten wir viele Probleme identifizieren, wenn das Modell auf die eine oder andere Weise den eingehenden Datenstrom nicht angemessen verarbeiten konnte.  Dies ermöglichte es uns, den Zustand des Dienstes zu stabilisieren und mit dem nächsten Schritt fortzufahren. <br><br>  Die zweite Stufe war das Testen der Stille.  Der Service wurde in der Produktionsumgebung im Hintergrund angehoben.  Er arbeitete, ohne den Materialbearbeiter N von der Maschinensteuerung abzulenken, und wir sammelten wiederum „Bedienerlösungen“ und verglichen sie mit den Empfehlungen des Dienstes.  Aus diesem Grund haben wir die toten Winkel des Modells gefunden, die in der vorherigen Phase nicht erfasst werden konnten. <br><br><h4>  Das Modell muss in der Lage sein, auf Produktionsänderungen zu reagieren. </h4><br>  Wir haben ein Dienstleistungsportfolio in unserem Projektportfolio, um die Produktion von Kraftstoffmaterialien zu optimieren.  Das Wesentliche des Service ist, dass der Technologe den Bestand der Produktionskomponenten auf das Modell überträgt, die Grenzindikatoren für die Produktqualität festlegt und den erforderlichen Produktionsplan festlegt und als Antwort eine Empfehlung erhält: In welchen Anteilen muss er bestimmte Komponenten verwenden, um den Kraftstoff der angegebenen Menge zu erhalten Qualität. <br><br>  Bei der Entwicklung dieses Dienstes sind wir auf ein merkwürdiges Problem gestoßen, das wir nicht im Voraus vorhersehen konnten. <br><br>  Das Unternehmen in der Kraftstoffherstellung arbeitete mehrere Jahre in einem bestimmten Bereich von Gesamtumdrehungen und verwendete gleichzeitig plus / minus das gleiche Verhältnis von Komponenten. <br><br>  In letzter Zeit hat die Organisation das Angebot dieser Komponenten geändert, und es ist möglich geworden, diese Tatsache durch eine Erhöhung der Geschwindigkeit der Einheiten zu kompensieren.  Der Kunde erwartete, dass das Modell in der Lage sein wird, auf diese Änderungen zu reagieren. Aus Sicht der technologischen Produktion ist dies eine akzeptable Lösung, dies ist jedoch nicht geschehen.  Warum?  Die Antwort liegt auf der Hand: Das Modell wurde an einer historischen Stichprobe trainiert, wo dies zuvor noch nicht geschehen war.  Sie können lange über das Thema sprechen, wer in dieser Situation Recht hat und wer schuld ist, aber in Zukunft haben wir geplant, die Wahrscheinlichkeit solcher Situationen wie folgt zu verringern: <br><br><ol><li>  Arbeiten Sie enger mit dem Kundenvertreter der Produktionseinheit zusammen, um Engpässe und mögliche Produktänderungen zu identifizieren. <br></li><li>  Behandeln Sie Testfälle mit ähnlichen Fällen im Voraus. <br></li><li>  Schreiben Sie Autotests, um die Einhaltung der Produktionsbeschränkungen und die Korrelation der Zeichen zu überprüfen. <br></li></ol><br>  Nur ein paar Worte zu den Testwerkzeugen, die wir verwenden mussten: <br><br><ul><li>  Bugtracking - Jira, <br></li><li>  Qualitätsmanagementsystem - Test Rail, <br></li><li>  Versionskontrollsystem - GitLab, <br></li><li>  CI / CD - Jenkins, <br></li><li>  Autotests - Java + Junit / TestNG, <br></li><li>  Skripte für die direkte Interaktion mit dem Modell - Python + Jupyter. <br></li></ul><br><h2>  Testen Sie ML? </h2><br>  Für uns ist der Aufbau einer ML-Testpraxis zu einer Herausforderung geworden, die eigentlich von Grund auf neu entwickelt werden musste.  Es sind jedoch Tests erforderlich - dies hilft, die Anzahl der Fehler vor Beginn des Testbetriebs zu verringern und die Implementierungszeit zu verkürzen. <br><br>  Heute müssen wir alle Erfahrungen austauschen.  Es ist notwendig, Diskussionen über Tests an spezialisierten Standorten und in professionellen Foren zu beginnen, die im Bereich der ML übrigens immer mehr werden.  Und wenn Sie bereits Praktiken zum Testen von ML etabliert haben, werden wahrscheinlich alle daran interessiert sein, darüber zu lesen. Teilen Sie Ihre Erfahrungen in den Kommentaren mit. <br><br>  <i>Sergey Agaltsov, Testmanager, Jet Infosystems</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de462679/">https://habr.com/ru/post/de462679/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de462667/index.html">Galaxy Guide DevOpsConf 2019</a></li>
<li><a href="../de462671/index.html">Unternehmensinfrastruktur als Produkt</a></li>
<li><a href="../de462673/index.html">Stein, Schere, Papier, Vorstellungsgespräche, Spock</a></li>
<li><a href="../de462675/index.html">Informationsenttäuschung</a></li>
<li><a href="../de462677/index.html">Vepp - neues Server- und Site-Control-Panel von ISPsystem</a></li>
<li><a href="../de462681/index.html">Wie Chris Zhukovsky den Kundensupport für seine Spiele am Flughafen studierte</a></li>
<li><a href="../de462685/index.html">Auf dem Weg zu dauerhaften Anwendungen am Beispiel des statischen PSKOV-Site-Generators</a></li>
<li><a href="../de462687/index.html">Neues Hosting Control Panel von ISPsystem: wie man es sieht</a></li>
<li><a href="../de462689/index.html">DISKOBALL: HDD-Wurfwettbewerbe, 23. August, Moskau</a></li>
<li><a href="../de462691/index.html">So migrieren Sie von AD zu LDAP, wenn Sie Zimbra verwenden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>