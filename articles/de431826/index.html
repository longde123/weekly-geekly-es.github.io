<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® üë©üèº üèåÔ∏è Beginnen Sie in 2 Tagen mit React and Bootstrap. Tag Nummer 1 üë©‚Äçüíº üç∏ üëÅ‚Äçüó®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich muss sofort sagen, dass die Site schneller funktioniert, wenn Sie Bootstrap durch reines CSS und JS ersetzen. In diesem Artikel geht es darum, wie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Beginnen Sie in 2 Tagen mit React and Bootstrap. Tag Nummer 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431826/">  Ich muss sofort sagen, dass die Site schneller funktioniert, wenn Sie Bootstrap durch reines CSS und JS ersetzen.  In diesem Artikel geht es darum, wie Sie schnell mit der Entwicklung sch√∂ner Webanwendungen beginnen k√∂nnen. Die Optimierung ist bereits ein separates Thema, das √ºber den Rahmen dieses Artikels hinausgeht. <br><br>  Zuerst m√ºssen Sie mindestens ein wenig HTML, CSS, JavaScript, XML, DOM, OOP verstehen und in der Lage sein, im Terminal (Befehlszeile) zu arbeiten. <br><br><div class="spoiler">  <b class="spoiler_title">Wo bekomme ich Materialien f√ºr das Studium?</b> <div class="spoiler_text"> Um HTML und CSS zu lernen, empfehle ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">htmlbook.ru</a> <br>  Zum Erlernen von JavaScript empfehle ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">learn.javascript.ru</a> <br>  Zum Erlernen von XML empfehle ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">msiter.ru/tutorials/uchebnik-xml-dlya-nachinayushchih</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen</a> zum DOM finden Sie in der JavaScript-Lektion <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">learn.javascript.ru/dom-nodes</a> <br>  Um OOP zu studieren, empfehle ich den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Videokurs proglib.io/p/oop-videocourse</a> <br>  Zum Erkunden der Windows-Befehlszeile empfehle ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">cmd.readthedocs.io/cmd.html</a> <br>  Um das Terminal auf einem Mac zu studieren, empfehle ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ixrevo.me/mac-os-x-terminal</a> <br>  Wenn Sie unter Linux arbeiten, wissen <b>Bash</b> und Analoga, <b>dass</b> Ihnen in letzter Instanz ein <b>Mann</b> oder eine <b>Hilfe helfen</b> wird. <br>  Um React zu lernen, verwende ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">learn-reactjs.ru</a> (eine √úbersetzung der offiziellen React-Dokumentation: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">reactjs.org</a> ). <br>  Um Bootstrap zu studieren, verwende ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bootstrap-4.ru</a> (eine √úbersetzung der offiziellen Bootstrap-Dokumentation: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">getbootstrap.com</a> ). <br>  Um Freunde zum Reagieren und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Booten zu bringen, habe</a> ich einen ausgezeichneten Artikel gefunden: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">webformyself.com/kak-ispolzovat-bootstrap-s-react</a> <br></div></div><br>  In diesem Artikel werde ich das f√ºr die Arbeit notwendige Minimum zusammenpressen und einen solchen Timer erstellen: <br><br><img src="https://habrastorage.org/webt/w1/dy/2l/w1dy2laijxapz0r7bgxtrmzsny0.png"><br><a name="habracut"></a><br><h2>  Installation </h2><br>  Zuerst brauchen wir einen Paketmanager.  Ich habe <b>npm gew√§hlt</b> und es ist in <b>Node.js.</b> <br>  Installieren Sie <b>Node.js zun√§chst</b> auf Ihrem Betriebssystem von der offiziellen Website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nodejs.org/en/download</a> .  Sie k√∂nnen die Installation herausfinden, daher werde ich den Installationsprozess nicht beschreiben.  Ich stelle nur fest, dass die Installation unter Ubuntu einfach ist: <br><br><pre><code class="bash hljs">sudo apt update sudo apt install nodejs sudo apt install npm</code> </pre> <br>  √úber das Terminal √ºberpr√ºfen wir, ob Node.js und npm erfolgreich installiert wurden: <br><br><pre> <code class="bash hljs">nodejs -v npm -v</code> </pre> <br>  Wenn w√§hrend der Ausgabe Fehler auftreten, bedeutet dies, dass ein Fehler aufgetreten ist und Sie ihn verstehen m√ºssen. Sie k√∂nnen ihn erneut installieren.  Wenn vc mit Zahlen und Punkten angezeigt wird, ist alles in Ordnung. <br><br>  Installieren Sie die Create-React-App, damit Sie schnell Anwendungsframeworks erstellen k√∂nnen: <br><br><pre> <code class="bash hljs">npm install -g create-react-app</code> </pre> <br>  Als N√§chstes erstellen wir das Anwendungsframework f√ºr React.  Nennen wir unsere Anwendung <b>new-app</b> .  Wenn Sie eine Anwendung f√ºr einen Ordner erstellen m√∂chten, der sich vom Benutzerordner unterscheidet, gehen Sie zuerst mit dem <b>Befehl cd</b> √ºber das Terminal zum Terminal.  Geben Sie im Terminal einfach 3 Befehle ein: <br><br><pre> <code class="bash hljs">create-react-app new-app <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> new-app npm start</code> </pre> <br>  Wir erstellen die <b>neue App-</b> Anwendung.  Wechseln Sie in den Ordner " <b>Neue App</b> ".  Wir starten die Anwendung.  Nach diesen Zeilen sollte der Browser mit der React-Anwendung unter der Adresse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: // localhost: 3000</a> starten <br><br><img src="https://habrastorage.org/webt/ie/bw/in/iebwintgkkdp17m8azkkkydy4bu.png"><br><br>  Das Terminal sollte ge√∂ffnet bleiben, ohne es wird die Anwendungsseite nicht ge√∂ffnet.  Wenn Sie pl√∂tzlich geschlossen haben, spielt es keine Rolle.  Es reicht aus, den <b>Befehl cd</b> zu verwenden, um zum Anwendungsordner zu wechseln und ihn mit dem Befehl <b>npm start zu starten</b> <br><br>  Installieren Sie nun Bootstrap <br><br><pre> <code class="bash hljs">npm install bootstrap</code> </pre> <br>  Es wird auch empfohlen, die Abh√§ngigkeiten von jquery und popper.js darauf zu installieren, diese werden jedoch nur f√ºr den Bootstrap JS-Teil ben√∂tigt.  Ich habe es ohne sie versucht - der CSS-Teil von Bootstrap funktioniert einwandfrei, daher sind die folgenden Zeilen im Terminal optional: <br><br><pre> <code class="bash hljs">npm install jquery popper.js</code> </pre> <br>  Als N√§chstes m√ºssen Sie √Ñnderungen an den Anwendungsdateien vornehmen. Wechseln Sie dazu in den Ordner new-app, in dem sich die Anwendung befindet, und f√ºgen Sie die Zeile zur Datei <b>src / index.js hinzu. Dies</b> sollte die erste sein: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'bootstrap/dist/css/bootstrap.min.css'</span></span>;</code> </pre> <br>  Wenn Sie jQuery, popper.js oder den Bootstrap JS-Teil (modale Fenster, Animationen usw.) verwenden, m√ºssen Sie unter der ersten Zeile drei weitere Zeilen hinzuf√ºgen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> $ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'jquery'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Popper <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'popper.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'bootstrap/dist/js/bootstrap.bundle.min'</span></span>;</code> </pre> <br>  Jetzt muss das Projekt noch ausgef√ºhrt werden: <br><br><pre> <code class="bash hljs">npm start</code> </pre> <br>  Und wieder √∂ffnet sich der Browser unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: // localhost: 3000,</a> wobei die Anwendung bereits mit Bootstrap geadelt wurde: <br><br><img src="https://habrastorage.org/webt/5c/py/6v/5cpy6vpskbkuox6-gill3kkkr_u.png"><br>  Zum Debuggen von React k√∂nnen Sie auch die Erweiterung " <b>React Developer Tools</b> " f√ºr den Browser installieren.  Aktuelle Links zur Erweiterung f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Chrome</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Firefox</a> sowie zu anderen Anwendungsf√§llen finden Sie im offiziellen Repository <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com/facebook/react-devtools</a> <br>  Die Installation und Ersteinrichtung ist nun abgeschlossen. <br><br><h2>  JSX, Komponenten und Eigenschaften </h2><br>  Mal sehen, welche <b>Create-React-App</b> f√ºr uns generiert wurde - die Quelldateien befinden sich im Verzeichnis src.  Schauen wir uns zun√§chst die Datei <b>index.js an</b> - es gibt mehrere Importzeilen.  Aus den Zeilen geht hervor, was sie tun, daher werde ich keinen Kommentar abgeben. <br><br>  Die wichtigste Zeile in dieser Datei: <br><br><pre> <code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById('root'));</span></span></code> </pre> <br>  Es zeichnet die Anwendungsseite.  In der HTML-Quelldatei befindet sich ein <b>&lt;div&gt;</b> -Element mit id = root.  Dieses <b>&lt;div&gt;</b> zeigt die <b>App-</b> Komponente an, die von der <b>Renderfunktion</b> der <b>ReactDOM-</b> Klasse gezeichnet wird.  In diesem Fall wird die Komponente in einer XML-√§hnlichen Form gezeichnet, die als JSX bezeichnet wird (wor√ºber sp√§ter). <br><br>  <b>Fahren</b> wir nun mit der Datei <b>App.js fort</b> , in der sich die Implementierung der App-Klasse befindet, die von der <b>React.Component-</b> Klasse erbt. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{     &lt;b&gt;render()&lt;<span class="hljs-regexp"><span class="hljs-regexp">/b&gt;,     JSX: &lt;div className="App"&gt; &lt;header className="App-header"&gt; &lt;img src={logo} className="App-logo" alt="logo" /</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Edit </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">code</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">src/App.js</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">code</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> and save to reload. </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;a className=<span class="hljs-string"><span class="hljs-string">"App-link"</span></span> href=<span class="hljs-string"><span class="hljs-string">"https://reactjs.org"</span></span> target=<span class="hljs-string"><span class="hljs-string">"_blank"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"noopener noreferrer"</span></span> &gt; Learn React &lt;<span class="hljs-regexp"><span class="hljs-regexp">/a&gt; &lt;/</span></span>header&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  JSX ist HTML sehr √§hnlich, aber es gibt JS-Code-Einf√ºgungen in geschweiften Klammern {}.  Und es muss ein Stammelement geben, in diesem Fall &lt;div&gt;. <br><br>  Zum besseren Verst√§ndnis l√∂schen wir den gesamten Code der <b>render ()</b> -Methode und schreiben die einfachste Komponente: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">, {this.props.name}!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } }</code> </pre> <br>  Kehren wir nun zur Datei index.js zur√ºck und korrigieren sie. <br><br><pre> <code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">""</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById('root'));</span></span></code> </pre> <br>  Nach dem Speichern der Dateien wird die Seite im Browser aktualisiert.  Und jetzt werden wir verstehen. <br><br>  Konzeptionell √§hneln Komponenten JavaScript-Funktionen.  Sie nehmen beliebige Daten (sogenannte Requisiten) und geben React-Elemente zur√ºck, die beschreiben, was auf dem Bildschirm angezeigt werden soll.  Mit Komponenten k√∂nnen Sie die Benutzeroberfl√§che in unabh√§ngige, wiederverwendbare Teile unterteilen und mit jedem einzeln arbeiten. <br><br>  Wenn React erkennt, dass ein Element eine benutzerdefinierte Komponente ist, werden alle JSX-Attribute als einzelnes Objekt an diese Komponente √ºbergeben.  Ein solches Objekt nennt man Requisiten. <br><br>  Im Beispiel wird der Parameter <b>name</b> als Attribut des <b>&lt;App&gt; -Tags</b> mit dem Wert " <b>World</b> " an die Komponente √ºbergeben.  In der <b>render ()</b> -Methode der <b>App-</b> Klasse geben geschweifte Klammern <b>{}</b> als Ergebnis einer Funktion in JSX, die eigentlich eine HTML-Vorlage ist, <b>dies an</b> - die aktuelle Klasse, <b>Requisiten</b> - das Benutzerobjekt, den <b>Namen</b> - den Namen des Objektparameters. <br><br><h2>  Konstruktor, Lebenszyklus und Zustands√§nderung </h2><br>  Zus√§tzlich zu den in <b>Requisiten</b> gespeicherten Parametern k√∂nnen Sie den Status des Objekts im <b>Status</b> speichern. <br><br>  Machen wir einen Timer.  F√ºr den Timer werden keine Parameter ben√∂tigt. Entfernen Sie daher die Parameter in <b>index.js</b> : <br><br><pre> <code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span>, <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'root'</span></span>));</code> </pre> <br>  Und jetzt ersetzen <b>wir</b> in der Datei <b>App.js</b> den gesamten Text zwischen <b>Import</b> und <b>Export</b> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> INTERVAL = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}; } increment(){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value + <span class="hljs-number"><span class="hljs-number">1</span></span>}); } componentDidMount() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.increment(), <span class="hljs-number"><span class="hljs-number">1000</span></span>/INTERVAL); } componentWillUnmount() { clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID); } render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">:</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{Math.floor(value/INTERVAL/60/60)} : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{Math.floor(value/INTERVAL/60) % 60} : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{Math.floor(value/INTERVAL) % 60} . </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{value % INTERVAL}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br>  Nach dem Einf√ºgen und Speichern dieses Codes wird ein Timer auf der Seite angezeigt und automatisch gestartet. <br><br>  Lassen Sie uns diesen Code analysieren.  Vor dem Unterricht wurde eine Konstante angek√ºndigt, mit der Sie die Bildwiederholfrequenz des Timers einstellen k√∂nnen. <br><br>  Als n√§chstes gibt es innerhalb der Klasse einen obligatorischen Konstruktor der Klasse, an den Requisiten √ºbergeben werden.  Als n√§chstes ist die Standardverarbeitung des Konstruktors der √ºbergeordneten Klasse <b>super (Requisiten)</b> und das Bestimmen des <b>Wertzustands</b> durch <b>dieses</b> das aktuelle Objekt.  Dies ist der einzige Ort, an dem Sie den Status direkt festlegen k√∂nnen.  An anderen Stellen ist nur das Lesen verf√ºgbar oder das Festlegen des Status mit der speziellen <b>setState ()</b> -Methode, die in der n√§chsten <b>increment ()</b> -Methode verwendet wird, um den <b>Wertstatus</b> um eins zu erh√∂hen. <br><br>  In Anwendungen mit vielen Komponenten ist es sehr wichtig, Ressourcen freizugeben, die von Komponenten belegt werden, wenn diese zerst√∂rt werden.  Wir m√ºssen jedes Mal einen Timer einstellen, wenn das DOM zum ersten Mal gezeichnet wird.  In React wird dies als "mount / install" bezeichnet.  Wir m√ºssen diesen Timer auch jedes Mal l√∂schen, wenn das von der Komponente erstellte DOM gel√∂scht wird.  In React wird dies als "Absteigen / Absteigen" bezeichnet. <br><br>  Hierzu werden die Methoden <b>componentDidMount ()</b> und <b>componentWillUnmount () verwendet</b> .  In der Dokumentation werden diese Methoden als " <b>Lifecycle Hooks</b> " bezeichnet.  Der Einfachheit halber werden wir sie Lebenszyklusmethoden nennen.  Die <b>componentDidMount ()</b> -Methode wird ausgel√∂st, nachdem die Komponente im DOM gerendert wurde.  Dies ist ein guter Ort, um einen Timer einzustellen.  Wir werden den Timer in der <b>componentWillUnmount ()</b> -Methode des Lebenszyklus l√∂schen. <br><br>  Beachten Sie, wie wir in <b>componentDidMount ()</b> die Timer-ID mithilfe der Pfeilfunktion direkt darin speichern.  W√§hrend this.props unabh√§ngig von React installiert wird und <b>this.state</b> eine bestimmte Bedeutung hat, k√∂nnen Sie der Klasse manuell zus√§tzliche Felder hinzuf√ºgen, wenn Sie etwas speichern m√ºssen, das nicht f√ºr die visuelle Ausgabe verwendet wird.  Wenn Sie in <b>render ()</b> nichts verwenden, sollte es sich nicht im Status <b>state befinden</b> . <br><br>  Ferner ist f√ºr die Dauer des <b>render () -</b> Laufs der Wertezustand im lokalen konstanten Wert festgelegt.  Und dann erhalten wir mit der mathematischen Funktion <b>floor ()</b> , die die Zahl abrundet, dividiert ( <b>/</b> ) und den Rest der Division ( <b>%</b> ) erh√§lt, die Teile des Timers, die dann in derselben Zeile nach dem Wort Timer angezeigt werden.  Sie k√∂nnen die Ergebnisse unserer Arbeit sehen. <br><br><h2>  Aussehen mit Bootstrap </h2><br>  Es ist nicht praktisch, dass der Timer sofort funktioniert, wenn die Seite aktualisiert wird.  Ich m√∂chte, dass es startet und stoppt, wenn Sie auf die entsprechenden Schaltfl√§chen klicken.  Und ich m√∂chte, dass es in der Mitte und gro√ü ist. <br><br>  Beginnen wir mit dem Design.  <b>F√ºgen Sie dazu der</b> Datei <b>App.css</b> die folgenden Zeilen <b>hinzu</b> : <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.container-fluid</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: flex; <span class="hljs-attribute"><span class="hljs-attribute">flex-direction</span></span>: column; }</code> </pre> <br>  Dank des adaptiven Gummibeh√§lter <b>-Fl√ºssigkeitsbeh√§lters</b> in Bootstrap k√∂nnen Sie ein vollst√§ndig flexibles Layout f√ºr eine Seite oder einen Block erstellen.  Dieser Beh√§lter ist 100% breit.  Erstellen wir einen <b>Flex-</b> Container mit der Richtung, in der die Elemente vertikal ausgerichtet werden - so dass er den gesamten Raum einnimmt und in der Mitte ausgerichtet werden kann. <br><br>  Lassen Sie uns nun die <b>render ()</b> -Methode in <b>App.js finalisieren</b> , um Bootstrap-Stile anzuwenden und einige Schaltfl√§chen hinzuzuf√ºgen.  Ersetzen Sie dazu den von der Methode zur√ºckgegebenen Wert durch den folgenden: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container-fluid align-items-center"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{Math.floor(value/INTERVAL/60/60)}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span> : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{Math.floor(value/INTERVAL/60) % 60}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span> : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{Math.floor(value/INTERVAL) % 60}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span> . <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{value % INTERVAL <span class="hljs-tag"><span class="hljs-tag">&lt; </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span><span class="hljs-tag"> ? '</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span><span class="hljs-tag">' </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span><span class="hljs-tag"> ''}{</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag"> % </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">INTERVAL</span></span></span><span class="hljs-tag">}&lt;/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">kbd</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  In der ersten Zeile wurden dem Stamm <b>&lt;div&gt;</b> 2 Bootstrap-Klassen hinzugef√ºgt: <b>container-fluid</b> (√ºber die ich oben geschrieben habe) und <b>align-items-center</b> - wodurch nur die Containerelemente in der Mitte ausgerichtet werden. <br><br>  Als n√§chstes zwei <b>&lt;div&gt;</b> mit der Klasse <b>display-1</b> - diese Klasse dient nur zum <b>Anzeigen von</b> gro√üem Text. <br><br>  Als n√§chstes wurde den Zahlen ein neues <b>&lt;kbd&gt;</b> -Tag hinzugef√ºgt, mit dem normalerweise die Tasten hervorgehoben werden, die gedr√ºckt werden m√ºssen.  In diesem Fall eignet es sich hervorragend zum Kontrastieren der angezeigten Zahlen. <br><br>  Der bedingte Ausdruck wird in der letzten Ziffer hinzugef√ºgt und zeigt einen Teil einer Sekunde. Dadurch k√∂nnen einstellige Ziffern (&lt;10) am Anfang 0 ausgegeben werden und nicht f√ºr zweistellige Zahlen.  Dies ist notwendig, damit die Zahlen nicht jede Sekunde zucken.  Verwenden Sie dazu den tern√§ren JavaScript-Operator: <b>Bedingung?</b>  <b>wahr: falsch</b> <br><br>  Dann habe <b>ich</b> in einem separaten <b>&lt;div&gt;</b> 2 Schaltfl√§chen mit der <b>Display-4-</b> Klasse platziert - diese Klasse wurde als die am besten geeignete ausgew√§hlt, damit die Schaltfl√§chen der Gr√∂√üe des Timers entsprechen.  Ich habe ein Zeichen zwischen die Schaltfl√§chen eingef√ºgt <b>&nbsp;</b>  - Untrennbarer Raum, damit die Schaltfl√§chen nicht zusammengef√ºhrt werden. <br><br>  Sie k√∂nnen starten, aber die Schaltfl√§chen funktionieren noch nicht.  Lassen Sie uns Tasten zum Arbeiten beibringen. <br><br><h2>  Ereignisbehandlung </h2><br>  F√ºgen Sie den Aufruf zun√§chst den entsprechenden Funktionen im Schaltfl√§chenausgabecode hinzu: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.stopTimer}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.resetTimer}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Beachten Sie, dass in React der <b>onClick-</b> Ereignishandler und nicht <b>onclick</b> wie in JavaScript und die aufgerufene Funktion in geschweiften Klammern ohne Klammern angegeben sind und das Objekt angeben, von dem aus die Methode aufgerufen wird, in diesem Fall <b>dies</b> . <br><br>  Nun definieren wir die angegebenen Methoden <b>stopTimer ()</b> und <b>resetTimer ()</b> : <br><br><pre> <code class="javascript hljs">stopTimer(){ clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID); } resetTimer(){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}); }</code> </pre> <br>  Dies reicht jedoch immer noch nicht aus. Wenn Sie es so belassen, wird beim Dr√ºcken der Taste ein Fehler angezeigt.  Dies ist beim Aufrufen der Funktion <b>undefiniert</b> .  Dies liegt daran, dass in JavaScript Klassenmethoden nicht standardm√§√üig gebunden sind.  Wenn Sie danach auf eine Methode ohne () <b>verweisen</b> , z. B. <b>onClick = {this.resetTimer}</b> , m√ºssen Sie diese Methode <b>normalerweise</b> binden. <br><br>  Binden Sie die Methoden im Klassenkonstruktor, indem Sie 2 Zeilen hinzuf√ºgen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.stopTimer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.stopTimer.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.resetTimer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.resetTimer.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre> <br>  Gro√üartig, es hat funktioniert!  Es kann jedoch nur einmal die Stopptaste verwendet werden, und danach funktionieren die Tasten nicht mehr.  Dies ist logisch, da wir durch Aufrufen von <b>stopTimer ()</b> den regul√§ren Funktionsaufruf durch Aufrufen von <b>clearInterval () deaktiviert haben</b> . <br><br>  In den Kommentaren wurde die Verwendung von Pfeilfunktionen vorgeschlagen.  Versucht es funktioniert.  Sie k√∂nnen dem Konstruktor also keine 2 Zeilen hinzuf√ºgen, sondern die Funktionen selbst durch die folgenden Pfeilfunktionen ersetzen: <br><pre> <code class="javascript hljs">stopTimer = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.increment(), <span class="hljs-number"><span class="hljs-number">1000</span></span>/INTERVAL); } resetTimer = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}); }</code> </pre> <br>  Um dies zu l√∂sen, wird die Schaltfl√§che "Stopp" auch als "Ausf√ºhren" verwendet. <br><br>  F√ºgen Sie dem Konstruktor zun√§chst den <b>gestoppten</b> booleschen Status hinzu, um zu verstehen, in welchem ‚Äã‚ÄãModus die Schaltfl√§che funktioniert: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">stopped</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>};</code> </pre> <br>  Ersetzen Sie nun den Inhalt der <b>stopTimer ()</b> -Methode vollst√§ndig: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">stopped</span></span>: !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped}); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped){ clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.increment(), <span class="hljs-number"><span class="hljs-number">1000</span></span>/INTERVAL); };</code> </pre> <br>  √Ñndern Sie zu Beginn der Methode den Status <b>stop</b> √ºber <b>setState ()</b> in den entgegengesetzten <b>Zustand</b> . <br><br>  Wenn der Timer gestoppt werden soll (d. H. <b>Gestoppt</b> <b>= wahr</b> ), deaktivieren wir den regul√§ren Funktionsaufruf √ºber <b>clearInterval ()</b> , und wenn der Timer gestartet werden soll (d. H. <b>Gestoppt</b> <b>= falsch</b> ), starten wir den regul√§ren Funktionsaufruf auf die gleiche Weise wie <b>componentDidMount ()</b> . <br><br>  Sie m√ºssen auch die Methode <b>increment ()</b> so korrigieren, dass sie stoppt, wenn <b>gestoppt wird = true</b> : <br><pre> <code class="javascript hljs">increment(){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped) (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value + <span class="hljs-number"><span class="hljs-number">1</span></span>})); }</code> </pre> <br>  Und schlie√ülich √§ndern wir den Namen der Schaltfl√§che abh√§ngig vom Status "Angehalten" und f√ºgen anstelle von "Anhalten" Folgendes ein: <br><br><pre> <code class="javascript hljs">{<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped?<span class="hljs-string"><span class="hljs-string">''</span></span>:<span class="hljs-string"><span class="hljs-string">''</span></span>}</code> </pre> <br>  Jetzt haben wir einen sch√∂nen, praktischen Timer. <br><br><h2>  Anstelle eines Abschlusses oder einer Kirsche auf einem Kuchen </h2><br>  Abschlie√üend m√∂chte ich den Standardtitel und das Fenstersymbol in unser Symbol √§ndern. <br><br>  Sie k√∂nnen den Titel √§ndern, indem Sie <b>document.title</b> in der <b>componentDidMount ()</b> -Methode festlegen. Wir werden jedoch fortfahren und die Anzeigedauer des Seitentitels auf Sekunden genau festlegen. Dazu f√ºgen wir der speziellen <b>componentDidUpdate ()</b> -Methode die <b>document.title-</b> Einstellung hinzu: <br><br><pre> <code class="javascript hljs">componentDidUpdate(){ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped) <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">": "</span></span>+<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(value/INTERVAL/<span class="hljs-number"><span class="hljs-number">60</span></span>/<span class="hljs-number"><span class="hljs-number">60</span></span>)+<span class="hljs-string"><span class="hljs-string">":"</span></span> +<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(value/INTERVAL/<span class="hljs-number"><span class="hljs-number">60</span></span>) % <span class="hljs-number"><span class="hljs-number">60</span></span>+<span class="hljs-string"><span class="hljs-string">":"</span></span>+<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(value/INTERVAL) % <span class="hljs-number"><span class="hljs-number">60</span></span>; }</code> </pre> <br>  Jetzt wiederholt sich der Timer im Seitentitel bis zu Sekunden, und wenn der Timer angehalten wird, wird nur das Wort Timer angezeigt. <br><br>  Das Symbol ist einfach.  Es reicht aus, ein Bild im Format <b>jpg</b> , <b>bmp</b> , <b>gif</b> , <b>png</b> vorzubereiten, es in den <b>√∂ffentlichen</b> Ordner (und nicht in den <b>src</b> , in dem wir haupts√§chlich gearbeitet haben) zu legen, beispielsweise <b>favicon.png zu</b> benennen und die Zeile in der Datei <b>public \ index.html zu</b> √§ndern: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"%PUBLIC_URL%/favicon.ico"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  pro Zeile: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/favicon.png"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  F√ºr heute war das alles, was ich sagen wollte.  Im n√§chsten Artikel werde ich mehr √ºber Bootstrap sprechen, das in diesem Artikel nur geringf√ºgig ber√ºhrt wurde.  Neben Bootstrap gibt es noch wichtige Themen: Listen, Tabellen, Formulare und Denken im React-Stil. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b>Schlie√ülich das Repository in BitBucket, das den gesamten Code f√ºr diesen Artikel enth√§lt</b></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de431826/">https://habr.com/ru/post/de431826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de431816/index.html">3. Dezember SpaceX wird zum dritten Mal versuchen, die erste Stufe der Tr√§gerrakete zu starten</a></li>
<li><a href="../de431818/index.html">Vergleichen Sie PHP FPM, PHP PPM, Nginx Unit, React PHP und RoadRunner</a></li>
<li><a href="../de431820/index.html">Starten Sie zur ISS und bremsen Sie am Asteroiden</a></li>
<li><a href="../de431822/index.html">De facto Closed Source: Argumente f√ºr klare Software</a></li>
<li><a href="../de431824/index.html">Informationen auf einem Smartphone von Yandex wurden einige Tage vor der Pr√§sentation versehentlich auf der M.Video-Website ge√∂ffnet</a></li>
<li><a href="../de431828/index.html">Digitale Veranstaltungen in Moskau vom 3. bis 9. Dezember</a></li>
<li><a href="../de431830/index.html">Erweiterung f√ºr Chrom: Erstellung, Ver√∂ffentlichung, Erfahrung</a></li>
<li><a href="../de431832/index.html">Technisch interaktiv auf fantastischen Kongressen. Teil 1</a></li>
<li><a href="../de431834/index.html">Mehr Kaffee, weniger Koffein: Intel 9th ‚Äã‚ÄãGen (Teil 4)</a></li>
<li><a href="../de431836/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends f√ºr die letzte Woche Nr. 341 (26. November - 2. Dezember 2018)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>