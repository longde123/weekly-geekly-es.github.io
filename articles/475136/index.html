<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßîüèª ‚§µÔ∏è üëçüèΩ Aprendizaje autom√°tico para su caza plana. Parte 3: el empuj√≥n final ‚ùï ü•ü üë®‚Äçüë®‚Äçüë¶‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foto de Dugan Arnett en Boston Globe 


 ¬øSigues buscando un piso nuevo? ¬øListo para hacer el √∫ltimo intento? Si es as√≠, s√≠gueme y te mostrar√© c√≥mo ll...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprendizaje autom√°tico para su caza plana. Parte 3: el empuj√≥n final</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475136/"><p><img src="https://habrastorage.org/webt/yj/dy/xa/yjdyxaijfwrdh4wzjpx1fyphbuw.jpeg" alt="Foto de Dugan Arnett en Boston GlobeAre"><br>  <em>Foto de Dugan Arnett en Boston Globe</em> </p><br><p>  ¬øSigues buscando un piso nuevo?  ¬øListo para hacer el √∫ltimo intento?  Si es as√≠, s√≠gueme y te mostrar√© c√≥mo llegar a la l√≠nea de meta. </p><a name="habracut"></a><br><h1 id="short-introduction-and-references">  Breve introducci√≥n y referencias </h1><br><p>  Es la tercera parte del ciclo dirigida a explicar c√≥mo podr√≠a encontrar el piso √≥ptimo en el mercado inmobiliario.  En pocas palabras, la idea principal: encontrar la mejor oferta entre los apartamentos en Ekaterimburgo, donde viv√≠a antes.  Pero creo que la misma idea puede considerarse en el contexto de otra ciudad. </p><br><p> Si no ha le√≠do las partes anteriores, ser√≠a una buena idea leerlas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte1</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte2</a> . </p><br><p>  Adem√°s, puede encontrar port√°tiles Ipython <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">all√≠</a> . <br>  Esta parte ten√≠a que ser mucho m√°s corta que las anteriores, pero el diablo est√° en los detalles. </p><br><h1 id="consequences">  Consecuencias </h1><br><p>  Como resultado de todas las acciones, obtuvimos un modelo ML (Random Forest) que funciona bastante bien.  No es tan bueno como esper√°bamos (el puntaje es superior al 87%), pero para datos reales, es lo suficientemente bueno.  Y ... d√©jame ser sincero, que los pensamientos sobre el resultado me afectaron de manera extra√±a.  Quer√≠a m√°s puntaje, la brecha entre el resultado esperado y la predicci√≥n real era menor al 3%.  El optimismo mezclado con la codicia se me ha subido a la cabeza </p><br><p><img src="https://habrastorage.org/webt/9l/m9/lk/9lm9lkw5g9pcbkeeolew26yakkw.jpeg" alt="MOAR!"><br>  <em>Quiero mas</em> <del>  <em>oro</em> </del>  <em>precisi√≥n</em> </p><br><p>  Es ampliamente conocido, si desea mejorar algo, probablemente habr√° enfoques opuestos.  Por lo general, parece una elecci√≥n entre: </p><br><ul><li>  Evoluci√≥n vs revoluci√≥n </li><li>  Cantidad vs calidad </li><li>  Extenso vs intensivo </li></ul><br><p>  Y debido a la falta de voluntad para cambiar de caballo a mitad de camino, decid√≠ usar RF (Random Forest) con algunas nuevas caracter√≠sticas. </p><br><p>  Parec√≠a una idea, "solo necesitamos m√°s funciones" para mejorar la puntuaci√≥n.  Al menos eso es lo que pensaba. </p><br><h1 id="per-aspera-ad-astra-through-hardships-to-the-stars">  Per aspera ad astra (a trav√©s de las dificultades para las estrellas) </h1><br><p>  Tratemos de pensar en las caracter√≠sticas relacionadas, que podr√≠an influir en el precio de un piso.  Hay caracter√≠sticas de piso como balc√≥n o edad de la casa y caracter√≠sticas relacionadas con la geograf√≠a, como la distancia a la estaci√≥n de metro / autob√∫s m√°s cercana.  ¬øQu√© podr√≠a ser el pr√≥ximo para el mismo enfoque con RF? </p><br><h2 id="idea-1-distance-to-centre">  Idea # 1.  Distancia al centro </h2><br><p>  Podr√≠amos reutilizar longitud y latitud (coordenadas planas).  Bas√°ndonos en esta informaci√≥n, podr√≠amos contar la distancia al centro de la ciudad.  La misma idea se utiliz√≥ para los distritos, cuanto m√°s lejos estuvi√©ramos del centro, m√°s barato deber√≠a ser.  Y adivina qu√© ... ¬°funciona!  No es un gran crecimiento ( <strong>+ 1%</strong> del puntaje), pero es mejor que nada. </p><br><p>  Solo hay un problema, la misma idea no tiene sentido para los distritos que est√°n muy lejos.  Si viviste fuera de una ciudad, podr√≠as saber que hay otras reglas para el precio. </p><br><p>  No ser√° f√°cil de interpretar si extrapolamos ese enfoque. </p><br><h2 id="idea-2-near-metro">  Idea # 2.  Cerca del metro </h2><br><p>  El metro tiene una influencia significativa en el precio.  Especialmente cuando se coloca en una zona de poca distancia.  Pero el significado de "a poca distancia" no est√° claro.  Cada persona puede interpretar ese par√°metro de diferentes maneras.  Podr√≠a establecer el l√≠mite manualmente, pero un aumento de la puntuaci√≥n no ser√≠a superior al <strong>0.2%</strong> </p><br><p>  Al mismo tiempo, no funciona con flat desde la idea anterior.  No hay metro cerca. </p><br><h2 id="idea-3-rationality-and-equilibrium-of-the-market">  Idea # 3.  Racionalidad y equilibrio del mercado. </h2><br><p>  El equilibrio del mercado es una combinaci√≥n de demanda y oferta.  Adam Smith habl√≥ sobre eso.  Por supuesto, el mercado puede ser exagerado.  Pero en general, esta idea funciona bien.  Al menos para casas que en proceso de construcci√≥n. </p><br><p>  En otras palabras: cuantos m√°s competidores tenga, menos probabilidades hay de que la gente compre su piso (si todo lo dem√°s es igual).  Y esto produce una suposici√≥n: "si a mi alrededor se colocan otros pisos, necesito disminuir el precio para obtener m√°s compradores". </p><br><p>  Y suena como una conclusi√≥n bastante l√≥gica, ¬øno? </p><br><p>  Entonces cont√© pisos SIMILARES cerca de cada uno de ellos, en la misma casa y dentro de un radio de 200 metros.  Las medidas fueron hechas para la fecha de venta.  ¬øQu√© resultado esperar√≠as tomar?  Solo <strong>0.1%</strong> en validaci√≥n cruzada.  Triste pero cierto. </p><br><hr><br><h1 id="rethinking">  Repensando </h1><br><blockquote>  Dejar de fumar es ... a veces dar un paso hacia atr√°s para dar dos pasos hacia adelante. <br><br>  - una persona sabia desconocida </blockquote><p>  De acuerdo, un ataque frontal no funciona.  Consideremos esta situaci√≥n desde otro √°ngulo. </p><br><p>  Supongamos que usted es una persona que quiere comprar un piso cerca del r√≠o lejos de la ruidosa ciudad.  Tiene tres variantes de publicidad que son similares entre s√≠ y tienen el mismo precio (m√°s o menos).  Las m√©tricas formales que describen plano no le dan nada sobre el medio ambiente, solo son m√©tricas en una pantalla.  Pero hay algo importante. </p><br><p><img src="https://habrastorage.org/webt/zg/9j/jm/zg9jjmx04quhqfqcwqiko-q_hna.png" alt="La descripci√≥n de un piso es una excelente oportunidad"><br>  <em>Una descripci√≥n de un piso es una excelente oportunidad.</em> </p><br><p>  Una descripci√≥n plana podr√≠a proporcionar todo lo que necesita.  Podr√≠a contarle una historia sobre un piso, sobre vecinos y oportunidades incre√≠bles relacionadas con ese lugar de vida espec√≠fico.  Y en alg√∫n momento una descripci√≥n podr√≠a tener m√°s sentido que los n√∫meros aburridos. <br>  Pero en la vida real es ligeramente diferente de nuestras expectativas.  D√©jame mostrarte qu√© funcionar√° / no funcionar√° y por qu√©. </p><br><h2 id="what-will-not-work-and-why">  ¬øQu√© no funcionar√° y por qu√©? </h2><br><p>  <strong>Expectativas</strong> : "¬°Vaya! Puedo intentar clasificar el texto y encontrar planos" buenos "y" malos ". Usar√© el mismo m√©todo que usualmente se usa para analizar los sentimientos". </p><br><p>  <strong>Realidad</strong> : "No, no lo har√°s. La gente no escribe nada malo contra su apartamento. Puede pasar por alto una situaci√≥n real o mentir" </p><br><p>  <strong>Expectativas</strong> : "Est√° bien. Entonces puedo intentar encontrar patrones y encontrar el p√∫blico objetivo para un piso. Por ejemplo, podr√≠an ser personas mayores o estudiantes". </p><br><p>  <strong>Realidad</strong> : "No, no lo har√°s. A veces un anuncio tiene una menci√≥n sobre diferentes edades y grupos sociales, es solo marketing" </p><br><h2 id="what-probably-would-work-and-why">  Lo que probablemente funcionar√≠a y por qu√© </h2><br><p>  <strong>Algunas palabras clave</strong> : hay palabras que se√±alan cosas o momentos espec√≠ficos relacionados con el plano.  Por ejemplo, cuando se trata de un estudio, el precio ser√≠a m√°s bajo.  En general, los verbos son in√∫tiles, pero los sustantivos y los adverbios pueden dar m√°s contexto. </p><br><p>  <strong>La fuente alternativa de informaci√≥n</strong> : usar la descripci√≥n para llenar valores vac√≠os o NaN m√°s correctos.  A veces, la descripci√≥n contiene m√°s informaci√≥n que las caracter√≠sticas formales de la publicidad. </p><br><p>  Sospecho que se basa en la pereza humana para llenar campos no obligatorios como "balc√≥n".  Poner todo en la descripci√≥n parece una idea m√°s preferible </p><br><h1 id="getting-information">  Obteniendo informaci√≥n </h1><br><p>  Me salto la descripci√≥n del proceso t√≠pico de tokenizaci√≥n / lematizaci√≥n / derivaci√≥n.  Adem√°s, creo que hay autores capaces de describirlo mejor que yo. </p><br><p>  Aunque creo que deber√≠a mencionarse el conjunto de herramientas utilizado para extraer funciones.  En pocas palabras, parece. </p><br><p><img src="https://habrastorage.org/webt/lr/e8/53/lre853kpee2cyuwnu6wqo8y6sio.png" alt="separaci√≥n-> coincidencia por parte del discurso"><br>  <em>separaci√≥n-&gt; coincidencia por parte del discurso</em> </p><br><p>  Despu√©s del procesamiento previo del texto publicitario, obtuve un conjunto de palabras rusas como estas. </p><br><p><img src="https://habrastorage.org/webt/sb/0q/lx/sb0qlxyhx4n_50go7u4ryofkg_m.png" alt="El texto original se coloca https://pastebin.com/Pxh8zVe3"><br>  <em>El texto original se coloca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://pastebin.com/Pxh8zVe3</a></em> </p><br><p>  Trat√© de usar el enfoque de Word2Vec, pero no hab√≠a un diccionario especial para pisos y anuncios, por lo que la imagen general parec√≠a extra√±a </p><br><p><img src="https://habrastorage.org/webt/uh/we/ls/uhwelsmg_mgtfamtjdtuncts9lo.png"><br>  <em>la distancia entre palabras no se ajusta a las expectativas</em> </p><br><p>  Por lo tanto, lo mantuve lo m√°s simple posible y decid√≠ hacer varias columnas nuevas para el conjunto de datos </p><br><hr><br><h1 id="a-little-less-conversation-a-little-more-action">  Un poco menos de conversaci√≥n, un poco m√°s de acci√≥n. </h1><br><p>  Es hora de ensuciarse las manos y hacer algunas cosas pr√°cticas.  Descubre nuevas caracter√≠sticas.  Varios factores importantes fueron separados por una influencia en el precio. </p><br><h2 id="positive-impact">  impacto positivo </h2><br><ul><li>  <strong>muebles</strong> : a veces las personas pueden dejar una cama, una lavadora, etc. </li><li>  <strong>lujo</strong> - pisos con cosas lujosas como jacuzzi o un interior exclusivo </li><li>  <strong>control de video</strong> : hace que las personas se sientan seguras, con frecuencia lo considera una ventaja </li></ul><br><h2 id="negative-impact">  impacto negativo </h2><br><ul><li>  <strong>dormitorio</strong> : s√≠, a veces es un piso en un dormitorio.  No tan popular, pero significativamente m√°s barato que un piso promedio </li><li>  <strong>prisa</strong> : cuando las personas se apresuran a vender su piso, generalmente est√°n listas para bajar el precio. </li><li>  <strong>estudio</strong> , como dije antes, son m√°s baratos que sus an√°logos de pisos. </li></ul><br><p>  Vamos a recogerlos en algo universal. </p><br><pre><code class="python hljs">df3 = pd.read_csv(<span class="hljs-string"><span class="hljs-string">'flats3.csv'</span></span>) positive_impact = [<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'luxury'</span></span>,<span class="hljs-string"><span class="hljs-string">''</span></span>] negative_impact = [<span class="hljs-string"><span class="hljs-string">'studio'</span></span>, <span class="hljs-string"><span class="hljs-string">'rush'</span></span>,<span class="hljs-string"><span class="hljs-string">'dorm'</span></span>] geo_features = [<span class="hljs-string"><span class="hljs-string">'metro'</span></span>,<span class="hljs-string"><span class="hljs-string">'num_of_stops_1km'</span></span>,<span class="hljs-string"><span class="hljs-string">'num_of_shops_1km'</span></span>,<span class="hljs-string"><span class="hljs-string">'num_of_kindergarden_1km'</span></span>, <span class="hljs-string"><span class="hljs-string">'num_of_medical_1km'</span></span>,<span class="hljs-string"><span class="hljs-string">'center_distance'</span></span>] flat_features=[<span class="hljs-string"><span class="hljs-string">'total_area'</span></span>, <span class="hljs-string"><span class="hljs-string">'repair'</span></span>,<span class="hljs-string"><span class="hljs-string">'balcony_y'</span></span>, <span class="hljs-string"><span class="hljs-string">'walls_y'</span></span>,<span class="hljs-string"><span class="hljs-string">'district_y'</span></span>, <span class="hljs-string"><span class="hljs-string">'age_y'</span></span>] competitors_features = [<span class="hljs-string"><span class="hljs-string">'distance_200m'</span></span>, <span class="hljs-string"><span class="hljs-string">'same_house'</span></span>] cols = [<span class="hljs-string"><span class="hljs-string">'cost'</span></span>] cols+=flat_features cols+=geo_features cols+=competitors_features cols+=positive_impact cols+=negative_impact df3 = df3[cols]</code> </pre> <br><h2 id="general-impact">  impacto general </h2><br><p>  Es solo una combinaci√≥n de caracter√≠sticas negativas y positivas.  Inicialmente, para cada piso, es igual a 0. Por ejemplo, un estudio con control de video seguir√° teniendo un impacto general igual a 0 ( <em>1 [positivo] ‚Äì1 [negativo] = 0</em> ) </p><br><pre> <code class="python hljs">df3[<span class="hljs-string"><span class="hljs-string">'impact'</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i, row <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> df3.iterrows(): impact = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> positive <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> positive_impact: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> row[positive]: impact+=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> negative <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> negative_impact: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> row[negative]: impact-=<span class="hljs-number"><span class="hljs-number">1</span></span> df3.at[i, <span class="hljs-string"><span class="hljs-string">'impact'</span></span>] = impact</code> </pre> <br><p>  De acuerdo, tenemos datos, nuevas caracter√≠sticas y un objetivo anterior con un 10% de error medio para la predicci√≥n.  Haga una operaci√≥n t√≠pica como lo hicimos antes </p><br><pre> <code class="python hljs">y = df3.cost X = df3.drop(columns=[<span class="hljs-string"><span class="hljs-string">'cost'</span></span>]) X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number"><span class="hljs-number">0.2</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">42</span></span>)</code> </pre> <br><h1 id="old-approachextensive-growth-of-features">  Enfoque antiguo (amplio crecimiento de caracter√≠sticas) </h1><br><p>  Haremos un nuevo modelo basado en viejas ideas. </p><br><pre> <code class="python hljs">data = [] max_features = int(X.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>]/<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>): regressor = RandomForestRegressor(verbose=<span class="hljs-number"><span class="hljs-number">0</span></span>, n_estimators=<span class="hljs-number"><span class="hljs-number">128</span></span>, max_features=max_features, max_depth=x, random_state=<span class="hljs-number"><span class="hljs-number">42</span></span>) model = regressor.fit(X_train, y_train) score = do_cross_validation(X, y, model) data.append({<span class="hljs-string"><span class="hljs-string">'max_depth'</span></span>:x,<span class="hljs-string"><span class="hljs-string">'score'</span></span>:score}) data = pd.DataFrame(data) f, ax = plot.subplots(figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>)) sns.lineplot(x=<span class="hljs-string"><span class="hljs-string">"max_depth"</span></span>, y=<span class="hljs-string"><span class="hljs-string">"score"</span></span>, data=data) max_result = data.loc[data[<span class="hljs-string"><span class="hljs-string">'score'</span></span>].idxmax()] ax.set_title(<span class="hljs-string"><span class="hljs-string">f'Max score - </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{max_result.score}</span></span></span><span class="hljs-string">\nDepth </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{max_result.max_depth}</span></span></span><span class="hljs-string"> '</span></span>)</code> </pre> <br><p>  Y el resultado fue un poco ... inesperado. <br><img src="https://habrastorage.org/webt/us/et/xv/usetxvj9vr4pjrsfnx-7jzcruqm.png" alt="92% es resultado abrumador"></p><br><p>  92% es un resultado abrumador.  Quiero decir, decir que me sorprendi√≥ ser√≠a quedarse corto. </p><br><p>  ¬øPero por qu√© funcion√≥ tan bien?  Echemos un vistazo a las nuevas caracter√≠sticas. </p><br><pre> <code class="python hljs">regressor = RandomForestRegressor(random_state=<span class="hljs-number"><span class="hljs-number">42</span></span>, max_depth=max_result.max_depth, n_estimators=<span class="hljs-number"><span class="hljs-number">128</span></span>, max_features=max_features) rf3 = regressor.fit(X_train, y_train) feat_importances = pd.Series(rf3.feature_importances_, index=X.columns) feat_importances.nlargest(X.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>]).plot(kind=<span class="hljs-string"><span class="hljs-string">'barh'</span></span>)</code> </pre> <br><p><img src="https://habrastorage.org/webt/lj/27/a8/lj27a8esi5qhxqdycqwgduvq1ki.png" alt="Importancia de todas las funciones para nuestro modelo."><br>  <strong>Importancia de todas las funciones para nuestro modelo.</strong> </p><br><p>  La importancia no brinda informaci√≥n sobre la contribuci√≥n de las caracter√≠sticas (esa es una historia diferente), solo muestra c√≥mo el modelo activo usa una u otra caracter√≠stica.  Pero para la situaci√≥n actual, parece informativo.  Algunas de las nuevas caracter√≠sticas son m√°s importantes que las anteriores, otras casi in√∫tiles. </p><br><h1 id="new-approachintensive-work-with-data">  Nuevo enfoque (trabajo intensivo con datos) </h1><br><p>  Bueno ... se cruza la l√≠nea de meta, se logra el resultado.  ¬øPodr√≠a ser mejor? <br>  Respuesta corta: <em>"S√≠, podr√≠a"</em> </p><br><ul><li>  Primero, podr√≠amos reducir la profundidad de un √°rbol.  Tambi√©n llevar√° a un menor tiempo para el entrenamiento y la predicci√≥n. </li><li>  En segundo lugar, podr√≠amos aumentar un poco el puntaje de predicci√≥n. </li></ul><br><p>  Para ambos momentos usaremos <strong>XGBoost</strong> .  A veces las personas prefieren usar otros <strong>potenciadores</strong> como <strong>LightGBM</strong> o <strong>CatBoost</strong> , pero mi humilde opini√≥n: el primero es lo suficientemente bueno cuando tienes muchos datos, el segundo es mejor si trabajas con variables categ√≥ricas.  Y como beneficio adicional, XGBoost parece m√°s r√°pido </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> xgboost <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> XGBRegressor,plot_importance data = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>): regressor = XGBRegressor(verbose=<span class="hljs-number"><span class="hljs-number">0</span></span>, reg_lambda=<span class="hljs-number"><span class="hljs-number">10</span></span>, n_estimators=<span class="hljs-number"><span class="hljs-number">1000</span></span>, objective=<span class="hljs-string"><span class="hljs-string">'reg:squarederror'</span></span>, max_depth=x, random_state=<span class="hljs-number"><span class="hljs-number">42</span></span>) model = regressor.fit(X_train, y_train) score = do_cross_validation(X, y, model) data.append({<span class="hljs-string"><span class="hljs-string">'max_depth'</span></span>:x,<span class="hljs-string"><span class="hljs-string">'score'</span></span>:score}) data = pd.DataFrame(data) f, ax = plot.subplots(figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>)) sns.lineplot(x=<span class="hljs-string"><span class="hljs-string">"max_depth"</span></span>, y=<span class="hljs-string"><span class="hljs-string">"score"</span></span>, data=data) max_result = data.loc[data[<span class="hljs-string"><span class="hljs-string">'score'</span></span>].idxmax()] ax.set_title(<span class="hljs-string"><span class="hljs-string">f'Max score-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{max_result.score}</span></span></span><span class="hljs-string">\nDepth </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{max_result.max_depth}</span></span></span><span class="hljs-string"> '</span></span>)</code> </pre> <br><p><img src="https://habrastorage.org/webt/zb/23/4j/zb234jravshc6z1zepkcc90gd0a.png" alt="El resultado es mejor que el anterior."></p><br><p>  <em>El resultado es mejor que el anterior.</em> </p><br><p>  Por supuesto, no es la gran diferencia entre Random Forest y XGBoost.  Y cada uno de ellos podr√≠a usarse como una buena herramienta para resolver nuestro problema con la predicci√≥n.  Depende de usted. </p><br><h1 id="conclusion">  Conclusi√≥n </h1><br><p>  ¬øSe logra el resultado?  Definitivamente si. </p><br><p>  La soluci√≥n est√° disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">all√≠</a> y se puede usar cualquiera de forma gratuita.  Si est√° interesado en la evaluaci√≥n de un apartamento utilizando este enfoque, no dude y cont√°cteme. </p><br><p>  Como prototipo lo coloc√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">all√≠</a> </p><br><p>  <strong>Gracias por leer!</strong>  . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/475136/">https://habr.com/ru/post/475136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../475114/index.html">Presentaci√≥n de .NET Core 3.1 Preview 2</a></li>
<li><a href="../475116/index.html">.NET Core 3 para escritorio de Windows</a></li>
<li><a href="../475126/index.html">Moscow Node.js Meetup 10: Arquitectura de aplicaciones Node.js, Hot Reload en Node.js y un informe secreto</a></li>
<li><a href="../475132/index.html">H√©lice sin bloqueo en una m√°quina CNC</a></li>
<li><a href="../475134/index.html">Otra forma de fraude de alta tecnolog√≠a.</a></li>
<li><a href="../475138/index.html">5 maneras de usar la Raspberry Pi de manera beneficiosa Parte dos</a></li>
<li><a href="../475140/index.html">¬øPor qu√© los mejores f√≠sicos consideran que las mediciones cu√°nticas d√©biles son una pseudociencia?</a></li>
<li><a href="../475142/index.html">Sue√±o, relajaci√≥n y m√∫sica: c√≥mo los atletas profesionales superan la fatiga y qu√© podemos hacer al respecto</a></li>
<li><a href="../475144/index.html">Divida a Laravel en componentes</a></li>
<li><a href="../475146/index.html">La agon√≠a o la larga historia de un intento de recuperaci√≥n de datos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>