<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍐 🧝 🤟🏽 Une tentative de résoudre le problème du choix des billets avant les vacances 👇 🤯 👤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour à tous! Je veux parler un peu de la façon dont j'ai fait, fait et ferai (probablement) pendant mon temps libre le prochain service de voyage p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Une tentative de résoudre le problème du choix des billets avant les vacances</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484222/"><p>  Bonjour à tous!  Je veux parler un peu de la façon dont j'ai fait, fait et ferai <i>(probablement)</i> pendant mon temps libre le <s>prochain</s> service de voyage pour rechercher des billets d'avion. </p><br><p>  Capture d'écran d'une des pages: </p><br><p><img src="https://habrastorage.org/webt/hh/kz/h5/hhkzh58n6pmxt9hvbets7cbphcm.png" alt="image"></p><a name="habracut"></a><br><h3 id="motivaciya-i-predystoriya">  Motivation et antécédents </h3><br><p>  Avant de m'envoler en vacances, je suis toujours confronté au problème de choisir un point sur la carte où s'envoler.  Ce problème apparemment facile peut être facilement résolu à l'aide d'agrégateurs de billets d'avion bien connus.  Mais pour une raison quelconque, il est difficile pour moi de résoudre pour les raisons suivantes: </p><br><ul><li> la plupart des agrégateurs ont une recherche insuffisamment flexible (ringard, il n'y a pas de filtre par plage de dates inférieure à un mois); </li><li>  une recherche flexible à la «partout» et «chaque fois» dans la pratique est rarement utile; </li></ul><br><p>  Il convient également de noter que les blogs de voyage (communautés sur les voyages sur les réseaux sociaux qui apparaissent dans mon flux et les sites proposant des offres spéciales, par exemple, <a href="https://www.fly4free.com/">fly4free</a> ), aident probablement quelqu'un, mais pas moi.  Les offres pour les dates souhaitées (même approximativement) ne sont jamais disponibles. </p><br><p>  En réfléchissant à ce sujet, j’ai décidé qu’il valait la peine d’essayer de faire quelque chose de différent, même si cela n’a pas fonctionné.  Et le risque d'un échec complet (n'atteint pas les ventes) était grand - je n'avais jamais fait le service seul auparavant, il y avait toujours des gars expérimentés à proximité et ils ont tous fait leur propre petit morceau de l'ensemble. </p><br><p>  Afin de résoudre le problème de sélection, j'ai formé les fonctionnalités suivantes, qui me manquent: </p><br><ul><li>  Kits avec billets d'avion (pour destinations, intérêts, etc.); </li><li>  Itinéraires difficiles et prêts, par exemple, point A - point B - point C - point A;  (comme il s'est avéré plus tard, cette fonctionnalité est partiellement implémentée sur <a href="https://eightydays.me/">eightydays.me</a> ) </li><li>  Une carte où vous pouvez construire vous-même de tels itinéraires complexes; </li><li>  Recherchez "partout" dans une plage de dates flexible avec des filtres de base. </li></ul><br><p>  Ensuite, je décrirai brièvement chaque tentative et le résultat intermédiaire. </p><br><h3 id="popytka-1-0">  Tentative <del>  # 1 </del>  # 0 </h3><br><p>  Enregistrez un beau nom de domaine sur <a href="https://ru.godaddy.com/">godaddy.com</a> .  Recherchez une équipe pour votre propre argent.  Location de serveur sur <a href="https://www.digitalocean.com/">digitalocean.com</a> .  Début du développement.  Échec. </p><br><h3 id="popytka-1">  Tentative n ° 1 </h3><br><p>  Cette fois, j'ai décidé de ne pas me précipiter avec un beau domaine, une équipe et un serveur magnifiques.  Je fais tout localement sur mon ancien macbook air avec 4 Go de RAM. </p><br><p>  Il a été décidé qu'il n'était pas nécessaire de tout faire en même temps, mais de faire au moins quelque chose.  Quelque chose s'est avéré être une caractéristique de la <em>compilation avec des billets d'avion</em> .  Comme il me semblait (il y a environ deux mois), cela semblait le meilleur de tous.  Pour cela, j'avais besoin: </p><br><ul><li>  Comprendre les API qui donnent des tickets hors du cache et comprendre comment obtenir correctement des informations utiles;  (ils sont bien décrits, cela n'a posé aucun problème) </li><li>  Créez votre propre API, qui la prépare à la visualisation sur le site;  (en python et flacon, je savais déjà comment faire ça, ça va aussi); </li><li>  Développer les postgres pour les répertoires - aéroports, pays, intérêts, etc.;  (mis en deux clics) </li><li>  Développez clickhouse pour stocker des données et des journaux intermédiaires;  (curieusement, il était également prêt à l'emploi en 5 minutes, même sur un ancien macbook air avec 4 Go de RAM) </li><li>  Se faire des amis (faire des dictionnaires) postgres et clickhouse; </li><li>  Trouvez un géo-service gratuit pour déterminer l'emplacement; </li><li>  Choisissez un cadre pour le site - le choix s'est porté sur la vue (vuetify), comme le cadre avec le seuil d'entrée le plus bas (selon plusieurs de mes amis).  Toute mon expérience de développement Web jusqu'à présent n'a utilisé que flask-admin.  Le développement Web a été le plus problématique. </li></ul><br><p>  Le résultat peut être consulté sur <a href="https://cheapster.travel/collections">cheapster.travel/collections</a> (à partir d'appareils mobiles - regardez les photos) </p><br><div class="spoiler">  <b class="spoiler_title">ou en images</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/xy/ci/cn/xycicnm0infc2ulk_ro_qycbwo8.png" alt="image"></p><br><p><img src="https://habrastorage.org/webt/n3/hg/a6/n3hga6g-e_ndgkrcsd6dktdgcam.png" alt="image"></p></div></div><br><p>  À ce stade, j'ai choisi un nom de domaine et loué un serveur à hetzner pour 5 $. </p><br><p>  Au cours de cette tentative, la fonctionnalité <em>Itinéraires complexes prêts</em> a également été implémentée sous la forme de collections distinctes, mais cette fonctionnalité est désormais désactivée en raison de problèmes de performances - un serveur à 5 $ ne suffit pas pour résoudre ce problème. </p><br><p>  Cette tentative a pris 3-4 semaines par intermittence (soir-nuit-week-end). </p><br><h3 id="popytka-2">  Tentative # 2 </h3><br><p>  J'ai besoin d'une carte, ai-je pensé, et j'ai commencé à implémenter les fonctionnalités de la <em>carte, où vous pouvez créer vous-même des itinéraires aussi complexes</em> . </p><br><p>  Après une heure de recherche sur Google et une brève consultation avec un ami, j'ai choisi <a href="https://www.mapbox.com/">mapbox</a> , à savoir le package mapbox-gl-vue pour vue. </p><br><p>  Avec la carte, tout s'est avéré beaucoup plus compliqué que prévu.  Par conséquent, il a immédiatement abandonné l'espoir de devenir subjectivement beau.  Ensuite, je ferai une autre tentative pour rendre la carte meilleure et plus fonctionnelle. </p><br><p>  L'essence de cette fonctionnalité: </p><br><ul><li>  Une carte avec les prix de votre ville s'affiche; </li><li>  Choisissez une option intéressante pour le prix sur la carte; </li><li>  Après avoir choisi une option, les données sur la carte sont rechargées pour le point sélectionné; </li><li>  Répétez les étapes ci-dessus le nombre de fois souhaité. </li></ul><br><p>  Résultat de <a href="https://cheapster.travel/map">cheapster.travel/map</a> </p><br><div class="spoiler">  <b class="spoiler_title">Les photos</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/y6/gu/t5/y6gut50iugiwme3uduarsb3eggw.png" alt="image"></p><br><p><img src="https://habrastorage.org/webt/ub/ub/ed/ububedffqe21o6e8be-1rsxomwi.png" alt="image"></p></div></div><br><p>  Cette tentative a pris 1 à 2 semaines (soir, nuit, week-end). </p><br><h3 id="popytka-3">  Tentative # 3 </h3><br><p>  Après les vacances du Nouvel An, le moment est venu pour la fonction <em>Rechercher «partout» dans une plage de dates flexible</em> . <br>  C'est la tentative la plus simple - presque toutes les méthodes de l'API ont déjà été implémentées plus tôt, il vous suffit de la tordre un peu et de la dessiner en utilisant vuetify (ayant déjà un peu d'expérience). </p><br><p>  L'essence des fonctionnalités: </p><br><ul><li>  Recherche simple mais fonctionnelle sur une plage de dates flexible; </li><li>  Il existe des filtres de base (pas de visa, uniquement direct, etc.) </li></ul><br><p>  Résultat de <a href="https://cheapster.travel/simple">cheapster.travel/simple</a> </p><br><p><img src="https://habrastorage.org/webt/ye/9i/m2/ye9im2wsl2lcuu8gi3fl0epex3s.png" alt="image"></p><br><p>  Cette tentative a pris 14 heures.  La tentative la plus réussie. </p><br><h3 id="vmesto-itogov">  Au lieu de totaux </h3><br><p>  L'arriéré a encore un tas de tâches.  J'espère que ces tentatives me rapprocheront de la résolution du problème de choix avant les vacances.  Et encore mieux, sinon juste moi. </p><br><p>  Passez une bonne journée à tous! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr484222/">https://habr.com/ru/post/fr484222/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr484212/index.html">Des trucs gratuits pour le karma - l'histoire d'une startup biélorusse qui change le principe de la consommation</a></li>
<li><a href="../fr484214/index.html">Tenseurs dans TensorFlow</a></li>
<li><a href="../fr484216/index.html">Deuxième conférence Zabbix en Russie: inscription et dates importantes</a></li>
<li><a href="../fr484218/index.html">Nous optimisons l'automatisation: comment nous avons accéléré les autotests de 3 à 4 fois, en préservant les anciens développements</a></li>
<li><a href="../fr484220/index.html">Avez-vous commandé la livraison? Comment Crossroads livre 6 000 commandes par jour</a></li>
<li><a href="../fr484224/index.html">Tri LSD au niveau du bit (Tri Radix)</a></li>
<li><a href="../fr484236/index.html">Fantômes dans les nuages: détails du piratage de nombreuses entreprises</a></li>
<li><a href="../fr484238/index.html">L'apprentissage automatique face à un problème mathématique non résolu</a></li>
<li><a href="../fr484240/index.html">Devenez conférencier aux Positive Hack Days 10. L'appel à communications commence</a></li>
<li><a href="../fr484244/index.html">Paul Graham sur Java et les langages de programmation Hacker (2001)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>