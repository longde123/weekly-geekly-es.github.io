<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’ ğŸ‘¨ğŸ¾â€ğŸ³ ğŸ¤´ğŸ¼ nginxçš„é…ç½®ç”Ÿæˆï¼Œä¸€ä¸ªæ‹‰å–è¯·æ±‚çš„å†å²è®°å½• ğŸ‘¨ğŸ»â€âœˆï¸ ğŸ§“ğŸ½ ğŸƒ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="äº²çˆ±çš„é—®å€™ã€‚ è‡ª2006å¹´ä»¥æ¥ï¼Œåœ¨æˆ‘çš„æˆ˜æ–—æœåŠ¡å™¨ä¸Šï¼Œæ¼‚äº®çš„nginxä¸€ç›´åœ¨æ—‹è½¬ï¼Œå¹¶ä¸”åœ¨å…¶ç®¡ç†çš„è¿™äº›å¹´ä¸­ï¼Œæˆ‘ç§¯ç´¯äº†å¾ˆå¤šé…ç½®å’Œæ¨¡æ¿ã€‚ æˆ‘å¯¹Nginxè¡¨ç¤ºäº†å¾ˆå¤šèµæ‰¬ï¼Œå¹¶ä¸”ä»¥æŸç§æ–¹å¼è¯æ˜ï¼Œå³ä½¿æ˜¯Habrä¸Šçš„Nginxé›†çº¿å™¨ä¹Ÿä½¿æˆ‘èµ·æ­¥ï¼Œç‚«è€€\ m / 

 æœ‹å‹è¦æˆ‘ä¸ºä»–ä»¬å»ºç«‹ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨åœºï¼Œè€Œä¸æ˜¯ç”¨æˆ‘çš„ç‰¹å®š...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>nginxçš„é…ç½®ç”Ÿæˆï¼Œä¸€ä¸ªæ‹‰å–è¯·æ±‚çš„å†å²è®°å½•</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448522/">äº²çˆ±çš„é—®å€™ã€‚ è‡ª2006å¹´ä»¥æ¥ï¼Œåœ¨æˆ‘çš„æˆ˜æ–—æœåŠ¡å™¨ä¸Šï¼Œæ¼‚äº®çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nginxä¸€ç›´åœ¨</a>æ—‹è½¬ï¼Œå¹¶ä¸”åœ¨å…¶ç®¡ç†çš„è¿™äº›å¹´ä¸­ï¼Œæˆ‘ç§¯ç´¯äº†å¾ˆå¤šé…ç½®å’Œæ¨¡æ¿ã€‚ æˆ‘å¯¹Nginxè¡¨ç¤ºäº†å¾ˆå¤šèµæ‰¬ï¼Œå¹¶ä¸”ä»¥æŸç§æ–¹å¼è¯æ˜ï¼Œå³ä½¿æ˜¯Habrä¸Šçš„Nginxé›†çº¿å™¨ä¹Ÿä½¿æˆ‘èµ·æ­¥ï¼Œç‚«è€€\ m / <br><br> æœ‹å‹è¦æˆ‘ä¸ºä»–ä»¬å»ºç«‹ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨åœºï¼Œè€Œä¸æ˜¯ç”¨æˆ‘çš„ç‰¹å®šæ¨¡æ¿æ‹–åŠ¨å®ƒä»¬ï¼Œæˆ‘è®°å¾—ä¸€ä¸ªæœ‰è¶£çš„é¡¹ç›®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nginxconfig.io</a> ï¼Œè¯¥é¡¹ç›®åˆ†æ•£äº†é…ç½®å¹¶å‡†å¤‡äº†è¿›è¡ŒåŠ å¯†çš„æ‰€æœ‰å†…å®¹ï¼Œç­‰ç­‰ã€‚ æˆ‘æƒ³ï¼Œä¸ºä»€ä¹ˆä¸å‘¢ï¼Ÿ ä½†æ˜¯ï¼Œnginxconfigå…è®¸æˆ‘å°†zipå­˜æ¡£ä¸‹è½½åˆ°æµè§ˆå™¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨wget / fetch / curlå°†å…¶ç›´æ¥åˆå¹¶åˆ°æœåŠ¡å™¨ä¸Šï¼Œè¿™è®©æˆ‘å¾ˆç”Ÿæ°”ã€‚ ä»€ä¹ˆæ ·çš„åºŸè¯ï¼Œä¸ºä»€ä¹ˆæˆ‘éœ€è¦åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œè€Œæˆ‘éœ€è¦ä»æ§åˆ¶å°åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ã€‚ ç”Ÿæ°”ï¼Œæˆ‘çˆ¬åˆ°githubä¸ŠæŸ¥çœ‹è¯¥é¡¹ç›®çš„èƒ†é‡ï¼Œè¿™å¯¼è‡´äº†å®ƒçš„åˆ†å‰ï¼Œå¹¶å› æ­¤äº§ç”Ÿäº†pullè¯·æ±‚ã€‚ å¦‚æœä¸æœ‰è¶£çš„è¯æˆ‘ä¸ä¼šå†™;ï¼‰ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf1/0c3/6c3/cf10c36c3b10ad401a5a0f94f4074384.svg" alt="å›¾ç‰‡"><a name="habracut"></a><br><br> å½“ç„¶ï¼Œåœ¨é€‰æ‹©æºä»£ç ä¹‹å‰ï¼Œæˆ‘ä»chromeä¸­æå–äº†å¸¦æœ‰é…ç½®æ–‡ä»¶çš„ç”Ÿæˆçš„zipå½’æ¡£æ–‡ä»¶ï¼Œç„¶ååœ¨é‚£å„¿ç­‰å¾…ä»¥â€œ blobï¼šâ€å¼€å¤´çš„åœ°å€ï¼Œoppaã€‚ å·²ç»å¾ˆæ¸…æ¥šï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡ä¸ä¼šç”Ÿæˆä»»ä½•ä¸œè¥¿ï¼Œå®é™…ä¸Šjså®Œæˆäº†æ‰€æœ‰è¿™äº›å·¥ä½œã€‚ å®é™…ä¸Šï¼Œzipå­˜æ¡£æ˜¯ç”±å®¢æˆ·ç«¯æœ¬èº«ï¼Œæµè§ˆå™¨ï¼Œjavascriptç”Ÿæˆçš„ã€‚ å³ é­…åŠ›åœ¨äºï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nginxconfig.io</a>é¡¹ç›®å¯ä»¥ç®€å•åœ°å¦å­˜ä¸ºhtmlé¡µé¢ï¼Œå¹¶ä¸Šä¼ åˆ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">narod.ruä¸Š</a> ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸å·¥ä½œã€‚ï¼‰è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£ä¸”æœ‰è¶£çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ï¼Œå¯¹äºè®¾ç½®æœåŠ¡å™¨è€Œè¨€ï¼Œè¿™éå¸¸ä¸ä¾¿ï¼Œå®é™…ä¸Šï¼Œå¯¹äºè¯¥é¡¹ç›®çš„ç›®çš„æ˜¯ä»€ä¹ˆã€‚ é€šè¿‡æµè§ˆå™¨ä¸‹è½½ç”Ÿæˆçš„å­˜æ¡£ï¼Œç„¶ååœ¨2019å¹´ä½¿ç”¨nc ...å°†å…¶ä¼ è¾“åˆ°æœåŠ¡å™¨ï¼Ÿ æˆ‘ä¸ºè‡ªå·±è®¾å®šäº†å¯»æ‰¾ä¸€ç§æ–¹æ³•æ¥å°†ç”Ÿæˆçš„é…ç½®ç›´æ¥ä¸‹è½½åˆ°æœåŠ¡å™¨çš„ä»»åŠ¡ã€‚ <br><br> åˆ†å‰äº†é¡¹ç›®ä¹‹åï¼Œæˆ‘å¼€å§‹æ€è€ƒæˆ‘æœ‰ä»€ä¹ˆé€‰æ‹©ã€‚ æˆ‘ä¸æƒ³ç¦»å¼€è¯¥é¡¹ç›®åº”ä¿æŒå¹²å‡€çš„å‰ç«¯è€Œæ²¡æœ‰ä»»ä½•åç«¯çš„æ¡ä»¶ï¼Œè¿™ä½¿ä»»åŠ¡å˜å¾—å¤æ‚ã€‚ å½“ç„¶ï¼Œæœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯æå–nodejsï¼Œå¹¶ä½¿å…¶é€šè¿‡ç›´æ¥é“¾æ¥ä½¿ç”¨é…ç½®ç”Ÿæˆå­˜æ¡£ã€‚ <br><br> å®é™…ä¸Šï¼Œæ²¡æœ‰å¤ªå¤šé€‰æ‹©ã€‚ æ›´å‡†ç¡®åœ°è¯´ï¼Œåªæœ‰ä¸€ä¸ªæƒ³åˆ°ã€‚ æˆ‘ä»¬éœ€è¦é…ç½®é…ç½®å¹¶è·å¾—ä¸€ä¸ªé“¾æ¥ï¼Œè¯¥é“¾æ¥å¯ä»¥å¤åˆ¶åˆ°æœåŠ¡å™¨æ§åˆ¶å°ä»¥è·å–zipå­˜æ¡£ã€‚ <br><br> æœ€ç»ˆçš„zipå½’æ¡£æ–‡ä»¶ä¸­çš„å‡ ä¸ªæ–‡æœ¬æ–‡ä»¶çš„é‡é‡ç›¸å½“å¤§ï¼Œå®é™…ä¸Šåªæœ‰å‡ åƒå­—èŠ‚ã€‚ æ˜¾è€Œæ˜“è§çš„è§£å†³æ–¹æ¡ˆæ˜¯ä»ç”Ÿæˆçš„zipå½’æ¡£æ–‡ä»¶ä¸­è·å–base64å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶æ‰”åˆ°ç¼“å†²åŒºä¸­ï¼Œè€Œåœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨æ§åˆ¶å°ä¸­çš„å‘½ä»¤ <br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'base64string'</span></span> | base64 --decode &gt; config.zip</code> </pre> æˆ‘ä»¬å¯ä»¥åˆ›å»ºè¿™ä¸ªéå¸¸zipçš„æ–‡ä»¶ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nginxconfig.io</a>æ˜¯ç”¨AngularJSç¼–å†™çš„ï¼Œæˆ‘ä»€è‡³æ— æ³•æƒ³è±¡å¦‚æœä½œè€…ä¸é€‰æ‹©ååº”å¼jsæ¡†æ¶å°†éœ€è¦å¤šå°‘å…¬é‡Œçš„ä»£ç ã€‚ ä½†æ˜¯æˆ‘å®Œå…¨å¯ä»¥æƒ³è±¡ï¼Œå°½ç®¡è¿™å·²ç»æ˜¯ä¸€ä¸ªå®Œå…¨ä¸åŒçš„è¯é¢˜ï¼Œä½†åœ¨VueJSä¸Šå®ç°æ‰€æœ‰è¿™äº›åŠŸèƒ½å°†æœ‰å¤šä¹ˆå®¹æ˜“å’Œç¾ä¸½ã€‚ <br><br> åœ¨é¡¹ç›®èµ„æºä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€ç§ç”Ÿæˆzipå½’æ¡£æ–‡ä»¶çš„æ–¹æ³•ï¼š <br><br><pre> <code class="javascript hljs">$scope.downloadZip = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> zip = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JSZip(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sourceCodes = $<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.document.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'main .file .code.source'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; sourceCodes.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sourceCode = sourceCodes[i]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name = sourceCode.dataset.filename; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> content = sourceCode.children[<span class="hljs-number"><span class="hljs-number">0</span></span>].children[<span class="hljs-number"><span class="hljs-number">0</span></span>].innerText; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$scope.isSymlink() &amp;&amp; name.match(<span class="hljs-regexp"><span class="hljs-regexp">/^sites-available\//</span></span>)) { name = name.replace(<span class="hljs-regexp"><span class="hljs-regexp">/^sites-available\//</span></span>, <span class="hljs-string"><span class="hljs-string">'sites-enabled/'</span></span>); } zip.file(name, content); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (name.match(<span class="hljs-regexp"><span class="hljs-regexp">/^sites-available\//</span></span>)) { zip.file(name.replace(<span class="hljs-regexp"><span class="hljs-regexp">/^sites-available\//</span></span>, <span class="hljs-string"><span class="hljs-string">'sites-enabled/'</span></span>), <span class="hljs-string"><span class="hljs-string">'../'</span></span> + name, { <span class="hljs-attr"><span class="hljs-attr">unixPermissions</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(<span class="hljs-string"><span class="hljs-string">'120755'</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>), }); } } zip.generateAsync({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'blob'</span></span>, <span class="hljs-attr"><span class="hljs-attr">platform</span></span>: <span class="hljs-string"><span class="hljs-string">'UNIX'</span></span>, }).then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">content</span></span></span><span class="hljs-function">) </span></span>{ saveAs(content, <span class="hljs-string"><span class="hljs-string">'nginxconfig.io-'</span></span> + $scope.getDomains().join(<span class="hljs-string"><span class="hljs-string">','</span></span>) + <span class="hljs-string"><span class="hljs-string">'.zip'</span></span>); }); gtag(<span class="hljs-string"><span class="hljs-string">'event'</span></span>, $scope.getDomains().join(<span class="hljs-string"><span class="hljs-string">','</span></span>), { <span class="hljs-attr"><span class="hljs-attr">event_category</span></span>: <span class="hljs-string"><span class="hljs-string">'download_zip'</span></span>, }); };</code> </pre><br> ä¸€åˆ‡éƒ½éå¸¸ç®€å•ï¼Œä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">jszip</a>åº“ï¼Œå°†åœ¨å…¶ä¸­æ”¾ç½®é…ç½®æ–‡ä»¶çš„åœ°æ–¹åˆ›å»ºä¸€ä¸ªzipã€‚ åˆ›å»ºzipå½’æ¡£æ–‡ä»¶åï¼Œjsä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FileSaver.js</a>åº“å°†å…¶æä¾›ç»™æµè§ˆå™¨ï¼š <br><br><pre> <code class="javascript hljs">saveAs(content, <span class="hljs-string"><span class="hljs-string">'nginxconfig.io-'</span></span> + $scope.getDomains().join(<span class="hljs-string"><span class="hljs-string">','</span></span>) + <span class="hljs-string"><span class="hljs-string">'.zip'</span></span>);</code> </pre><br> å†…å®¹æ˜¯ç”Ÿæˆçš„Blob zipå­˜æ¡£å¯¹è±¡ã€‚ <br><br> å¥½çš„ï¼Œæˆ‘è¦åšçš„å°±æ˜¯åœ¨å®ƒæ—è¾¹æ·»åŠ å¦ä¸€ä¸ªæŒ‰é’®ï¼Œå½“æˆ‘å•å‡»å®ƒæ—¶ï¼Œä¸è¦å°†ç”Ÿæˆçš„zipå­˜æ¡£ä¿å­˜åˆ°æµè§ˆå™¨ä¸­ï¼Œè€Œæ˜¯ä»ä¸­è·å–base64ä»£ç ã€‚ ç»è¿‡ä¸€äº›è¨æ»¡æ•™ä¹‰ä¹‹åï¼Œæˆ‘å¾—åˆ°äº†2ç§æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¸€ç§downloadZipï¼š <br><br><pre> <code class="javascript hljs">$scope.downloadZip = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ generateZip(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">content</span></span></span><span class="hljs-function">) </span></span>{ saveAs(content, <span class="hljs-string"><span class="hljs-string">'nginxconfig.io-'</span></span> + $scope.getDomains().join(<span class="hljs-string"><span class="hljs-string">','</span></span>) + <span class="hljs-string"><span class="hljs-string">'.zip'</span></span>); }); gtag(<span class="hljs-string"><span class="hljs-string">'event'</span></span>, $scope.getDomains().join(<span class="hljs-string"><span class="hljs-string">','</span></span>), { <span class="hljs-attr"><span class="hljs-attr">event_category</span></span>: <span class="hljs-string"><span class="hljs-string">'download_zip'</span></span>, }); }; $scope.downloadBase64 = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ generateZip(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">content</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> reader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileReader(); reader.readAsDataURL(content); reader.onloadend = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> base64 = reader.result.replace(<span class="hljs-regexp"><span class="hljs-regexp">/^data:.+;base64,/</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   base64     zip    base64  } }); gtag('event', $scope.getDomains().join(','), { event_category: 'download_base64', }); };</span></span></code> </pre><br> å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘å°†zipå½’æ¡£æ–‡ä»¶çš„ç”Ÿæˆæ”¾å…¥ç§æœ‰çš„generateZipæ–¹æ³•ä¸­ï¼Œå› ä¸º è¿™æ˜¯AngularJSï¼Œä½œè€…æœ¬äººåšæŒå›è°ƒï¼Œä½†å¹¶æœªé€šè¿‡promiseså®ç°å®ƒã€‚  downloadZipä»åœ¨è¾“å‡ºä¸­æ‰§è¡ŒsaveAsï¼Œè€ŒdownloadBase64åˆ™æœ‰æ‰€ä¸åŒã€‚ æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªHTML5ä¸­<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æä¾›</a>çš„FileReaderå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å·²ç»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¯ä»¥</a>ä½¿ç”¨ã€‚ åœ¨é€‚å½“çš„æ—¶å€™ï¼Œå®ƒçŸ¥é“å¦‚ä½•ä»blobä¸­åˆ›å»ºbase64å­—ç¬¦ä¸²ï¼Œæ›´ç¡®åˆ‡åœ°è¯´ï¼Œå®ƒæ˜¯å¦‚ä½•åˆ›å»ºDataURLå­—ç¬¦ä¸²ï¼Œä½†è¿™å¯¹æˆ‘ä»¬è€Œè¨€å¹¶ä¸é‡è¦ï¼Œå› ä¸º  DataURLåŒ…å«æˆ‘ä»¬æ‰€éœ€è¦çš„ã€‚ å®¾æœï¼Œå½“æˆ‘è¯•å›¾å°†æ‰€æœ‰è¿™äº›æ”¾å…¥ç¼“å†²åŒºæ—¶ï¼Œæœ‰ä¸€ç‚¹æ”¶è·åœ¨ç­‰ç€æˆ‘ã€‚ ä½œè€…åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å‰ªè´´æ¿js</a>åº“ï¼Œè¯¥åº“å…è®¸æ ¹æ®æ‰€é€‰æ–‡æœ¬ä½¿ç”¨æ²¡æœ‰Flashå¯¹è±¡çš„å‰ªè´´æ¿ã€‚ æœ€åˆï¼Œæˆ‘å†³å®šå°†base64æ”¾åœ¨å¸¦æœ‰displayï¼šnoneçš„å…ƒç´ ä¸­ï¼Œä½†æ˜¯åœ¨é‚£ç§æƒ…å†µä¸‹ï¼Œæˆ‘æ— æ³•å°†å…¶æ”¾åœ¨å‰ªè´´æ¿ä¸Šï¼Œå› ä¸º æ²¡æœ‰é€‰æ‹©å‘ç”Ÿã€‚ å› æ­¤ï¼Œä»£æ›¿æ˜¾ç¤ºï¼šnone; æˆ‘åšåˆ°äº† <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">position</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">absolute</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">z-index</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-1</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">opacity</span></span>: 0;</code> </pre><br> è¿™æ ·æˆ‘å°±å¯ä»¥å°†å…ƒç´ éšè—åœ¨è‡ªå·±çš„è§†çº¿ä¹‹å¤–ï¼Œè€Œå®é™…ä¸Šå´å°†å…¶ç•™åœ¨äº†é¡µé¢ä¸Šã€‚ ç§ï¼Œä»»åŠ¡å®Œæˆäº†ï¼Œå½“æˆ‘ç‚¹å‡»æˆ‘çš„æŒ‰é’®æ—¶ï¼Œåœ¨ç¼“å†²åŒºä¸­æ”¾äº†ä¸€è¡Œè¡¨æ ¼ï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'base64string'</span></span> | base64 --decode &gt; config.zip</code> </pre> <br> æˆ‘åªæ˜¯å°†å…¶æ’å…¥æœåŠ¡å™¨ä¸Šçš„æ§åˆ¶å°ï¼Œå¹¶ç«‹å³æ”¶åˆ°åŒ…å«æ‰€æœ‰é…ç½®çš„zipå­˜æ¡£ã€‚ <br><br> å¥½å§ï¼Œå½“ç„¶ï¼Œæˆ‘å‘ä½œè€…æå‡ºäº†æ‹‰å–è¯·æ±‚ï¼Œå› ä¸º è¯¥é¡¹ç›®æ´»è·ƒä¸”æ´»è·ƒï¼Œæˆ‘æƒ³æŸ¥çœ‹ä½œè€…çš„æ›´æ–°å¹¶æœ‰è‡ªå·±çš„æŒ‰é’®ï¼‰è°åœ¨ä¹ï¼Œè¿™æ˜¯<a href="">æˆ‘çš„</a>é¡¹ç›®<a href="">åˆ†æ”¯ï¼Œä¹Ÿæ˜¯</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pull requestæœ¬èº«</a> ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­æŸ¥çœ‹æˆ‘ä¿®å¤/æ›´æ–°çš„å†…å®¹ã€‚ <br><br> å¼ºåŠ›çš„å‘å±•:-) <br><br><img src="https://habrastorage.org/webt/et/op/sv/etopsv7os4ew9wv8kkccgvvbw78.gif"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN448522/">https://habr.com/ru/post/zh-CN448522/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN448504/index.html">ä»–ä»¬ä¸ºæ¯ä¸ªäººâ€œ Habromâ€æ”¶é›†äº†æŠ¤ç…§çš„å‚è€ƒä¹¦â€œç”±è°å‘è¡Œâ€¦â€¦â€ã€‚ ä¸‹è½½åˆ°å¥åº·</a></li>
<li><a href="../zh-CN448506/index.html">é»‘å®¢å¸å›½å·²æœ‰20å¹´å†å²ï¼šæ²ƒå“æ–¯åŸºå¦‚ä½•åˆ¶ä½œæœ‹å…‹ï¼Œè¿™å†³å®šäº†æ•´ä¸ªä¸€ä»£äººçš„è®®ç¨‹</a></li>
<li><a href="../zh-CN448510/index.html">å®cerï¼ˆAcerï¼‰2019å¹´ï¼šå¦‚æœä»æ¸¸æˆç¬”è®°æœ¬ç”µè„‘ä¸­æ¸…é™¤æ‰€æœ‰è‹è‡è¯¥æ€ä¹ˆåŠ</a></li>
<li><a href="../zh-CN448516/index.html">åœ¨ARDUINOå¹³å°ä¸Šè¿›åŒ–æˆ–ä¸ºæœºå™¨äººå¥ å®šåŸºç¡€ï¼Œæˆ‘ä»¬é€šè¿‡æ™ºèƒ½æ‰‹æœºå°†ä¼ æ„Ÿå™¨å’Œè§†é¢‘é©±åŠ¨åˆ°è®¡ç®—æœº</a></li>
<li><a href="../zh-CN448518/index.html">å¦‚ä½•çœ‹åˆ°é»‘æ´ï¼Ÿ</a></li>
<li><a href="../zh-CN448524/index.html">ä»¥è‰²åˆ—ç§‘å­¦å®¶é¦–æ¬¡åœ¨ä¸–ç•Œä¸Šå°å‡ºä¸€é¢—æ´»æ³¼çš„å¿ƒ</a></li>
<li><a href="../zh-CN448528/index.html">AWSä¸Šçš„å…è´¹Wireguard VPNæœåŠ¡</a></li>
<li><a href="../zh-CN448530/index.html">æ‰©éŸ³å™¨å¦‚ä½•åœ¨ç§»åŠ¨è®¢æˆ·ä¸Šç¡è§‰</a></li>
<li><a href="../zh-CN448532/index.html">ç©ºé—´æ•°æ®ä¸­å¿ƒã€‚ æ€»ç»“å®éªŒ</a></li>
<li><a href="../zh-CN448534/index.html">ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å…·æœ‰å¢å¼ºçš„EMCçš„å·¥ä¸šäº¤æ¢æœºï¼Ÿ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>