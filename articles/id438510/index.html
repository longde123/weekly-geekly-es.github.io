<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ”³ ğŸ¤›ğŸ¿ ğŸ¤²ğŸ» Komposisi versus pewarisan, pola tim dan pengembangan game secara umum ğŸ—ï¸ ğŸ‘¦ğŸ» ğŸ“‰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penafian: Menurut pendapat saya, artikel tentang arsitektur perangkat lunak seharusnya tidak dan tidak bisa ideal. Setiap solusi yang dijelaskan mungk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Komposisi versus pewarisan, pola tim dan pengembangan game secara umum</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438510/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/na/sz/bh/naszbh_usuh0jpozxmoiuqpdl1q.png"></div><br>  Penafian: <i>Menurut pendapat saya, artikel tentang arsitektur perangkat lunak seharusnya tidak dan tidak bisa ideal.</i>  <i>Setiap solusi yang dijelaskan mungkin tidak mencakup level yang diperlukan untuk satu programmer, dan untuk programmer lain itu akan memperumit arsitektur terlalu tidak perlu.</i>  <i>Tetapi harus memberikan solusi untuk tugas-tugas yang telah ditetapkan untuk dirinya sendiri.</i>  <i>Dan pengalaman ini, bersama dengan semua pengetahuan lain dari seorang programmer yang mempelajari, mengatur informasi, mengasah pendatang baru, dan mengkritik dirinya sendiri dan orang lain - pengalaman ini berubah menjadi produk perangkat lunak yang sangat baik.</i>  <i>Artikel akan beralih di antara seni dan bagian teknis.</i>  <i>Ini adalah eksperimen kecil dan saya harap ini akan menarik.</i> <br><blockquote>  - Dengar, aku datang dengan ide permainan yang hebat!  - desainer game Vasya acak-acakan, dan matanya merah.  Saya masih minum kopi dan holivar di HabrÃ© untuk menghabiskan waktu sebelum berdiri.  Dia menatapku penuh harap sampai aku selesai menulis dalam komentar untuk pria itu apa yang salah tentang dirinya.  Vasya tahu bahwa sampai keadilan berlaku dan kebenaran tidak dipertahankan, tidak ada gunanya melanjutkan pembicaraan dengan saya.  Saya menambahkan kalimat terakhir dan menatapnya. <br><br>  Singkatnya - penyihir dengan mana bisa merapal mantra, dan para prajurit bisa bertarung dalam pertarungan jarak dekat dan menghabiskan stamina.  Baik penyihir dan prajurit bisa bergerak.  Ya, masih ada kemungkinan untuk merampok sapi, tetapi kami akan melakukannya dalam versi berikutnya, singkatnya.  Apakah Anda akan menunjukkan prototipe setelah stand-up, oke? <br><br>  Dia lari pada bisnis desain gimnya, dan saya membuka IDE. </blockquote><a name="habracut"></a><br>  Bahkan, topik "komposisi versus warisan", "masalah pisang-monyet", "masalah belah ketupat (multiple inheritance)" adalah pertanyaan umum pada wawancara dalam format yang berbeda dan untuk alasan yang baik.  Penggunaan warisan yang salah dapat menyulitkan arsitektur, dan programmer yang tidak berpengalaman tidak tahu bagaimana menghadapi hal ini dan, sebagai akibatnya, mulai mengkritik OOP secara keseluruhan dan mulai menulis kode prosedural.  Oleh karena itu, programmer yang berpengalaman (atau mereka yang telah membaca hal-hal cerdas di Internet) menganggap tugas mereka untuk bertanya tentang hal-hal seperti itu dalam sebuah wawancara dalam berbagai bentuk.  Jawaban universal adalah "komposisi lebih baik daripada warisan, dan tidak ada nuansa abu-abu yang harus diterapkan."  Mereka yang baru saja membaca setiap jawaban seperti itu akan 100% puas. <br><br>  Tapi, seperti yang saya katakan di awal artikel, setiap arsitektur akan sesuai dengan proyek Anda dan jika warisan cukup untuk proyek Anda dan semua yang diperlukan untuk menyelesaikan masalah adalah membuat Monyet dengan Pisang - buatlah.  Programmer kami berada dalam situasi yang sama.  Tidak masuk akal untuk menolak warisan hanya karena FPS akan menertawakan Anda. <br><br><pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Character</span></span></span><span class="hljs-class"> </span></span>{ x = <span class="hljs-number"><span class="hljs-number">0</span></span>; y = <span class="hljs-number"><span class="hljs-number">0</span></span>; moveTo (x, y) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.x = x; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.y = y; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Mage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Character</span></span></span><span class="hljs-class"> </span></span>{ mana = <span class="hljs-number"><span class="hljs-number">100</span></span>; castSpell () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.mana--; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Warrior</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Character</span></span></span><span class="hljs-class"> </span></span>{ stamina = <span class="hljs-number"><span class="hljs-number">100</span></span>; meleeHit () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.stamina--; } }</code> </pre> <br><blockquote>  Stand-up, seperti biasa, berlarut-larut.  Saya menggoyang-goyang kursi dan menggantung di telepon sementara June Petya mencoba meyakinkan penguji bahwa ketidakmungkinan kendali cepat melalui tombol kanan mouse bukanlah bug, karena tidak ada peluang seperti yang dijelaskan di mana pun, yang berarti Anda harus menyerahkan tugas ke departemen pra-produksi.  Penguji berpendapat bahwa karena bagi pengguna kontrol melalui tombol kanan tampaknya wajib, maka ini adalah bug, bukan fitur.  Faktanya, sebagai satu-satunya pemain di tim kami yang memainkan permainan kami di server pertempuran, ia ingin menambahkan fitur ini sesegera mungkin, tetapi ia tahu bahwa jika Anda memasukkannya ke dalam departemen pra-produksi, mesin birokrasi akan membiarkannya dirilis tidak lebih awal dari pada 4 berbulan-bulan, dan telah menerbitkannya sebagai bug - Anda bisa mendapatkannya di build berikutnya.  Manajer proyek, seperti biasanya, datang terlambat, dan orang-orang itu sangat mengutuk sehingga mereka sudah beralih ke tikar dan, mungkin, hal-hal akan segera mencapai perkelahian jika direktur studio tidak mengalami kutukan dan tidak membawa keduanya ke kantornya.  Mungkin lagi untuk 300 dolar yang didenda. <br><br>  Ketika saya meninggalkan ruang reli, seorang desainer game berlari ke arah saya dan dengan gembira mengatakan bahwa semua orang menyukai prototipe, mereka membawanya untuk bekerja dan sekarang ini adalah proyek baru kami selama enam bulan ke depan.  Saat kami berjalan menuju meja saya, dia dengan antusias memberi tahu fitur baru apa yang akan ada dalam permainan kami.  Berapa banyak mantra berbeda yang ia temukan dan, tentu saja, bahwa akan ada seorang Paladin yang bisa bertarung dan melempar sihir.  Dan seluruh departemen artis sudah mengerjakan animasi baru, dan China telah menandatangani perjanjian di mana game kami akan dirilis di pasar mereka.  Saya diam-diam melihat kode prototipe saya, berpikir dalam-dalam, menyoroti semuanya dan menghapusnya. </blockquote>  Saya percaya bahwa dari waktu ke waktu, setiap programmer, berdasarkan pengalamannya, mulai melihat masalah-masalah nyata yang mungkin dia temui.  Apalagi jika Anda bekerja dalam tim dengan satu desainer game untuk waktu yang lama.  Kami memiliki banyak persyaratan dan fitur baru.  Dan "arsitektur" lama kita jelas tidak bisa mengatasinya. <br><br>  Ketika Anda diminta tugas serupa di sebuah wawancara, mereka pasti akan mencoba untuk menangkap Anda.  Mereka bisa dalam berbagai bentuk - buaya, yang bisa berenang dan berlari.  Tank yang bisa menembakkan meriam atau senapan mesin dan sebagainya.  Properti paling penting dari tugas-tugas tersebut adalah bahwa Anda memiliki objek yang dapat melakukan beberapa hal berbeda.  Dan warisan Anda tidak dapat mengatasi dengan cara apa pun, karena tidak mungkin untuk mewarisi dari FlyingObject dan SwimmingObject. Dan objek yang berbeda dapat melakukan tindakan yang berbeda.  Pada titik ini, kami meninggalkan warisan dan beralih ke komposisi: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Character</span></span></span><span class="hljs-class"> </span></span>{ abilities = []; addAbility (...abilities) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> abilities) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.abilities.push(a); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } getAbility (AbilityClass) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.abilities) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> AbilityClass) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } <span class="hljs-comment"><span class="hljs-comment">/////////////////////////////////////// // //    ,      //       // /////////////////////////////////////// class Ability {} class HealthAbility extends Ability { health = 100; maxHealth = 100; } class MovementAbility extends Ability { x = 0; y = 0; moveTo(x, y) { this.x = x; this.y = y; } } class SpellCastAbility extends Ability { mana = 100; maxMana = 100; cast () { this.mana--; } } class MeleeFightAbility extends Ability { stamina = 100; maxStamina = 100; constructor (power) { this.power = power; } hit () { this.stamina--; } } /////////////////////////////////////// // //        // /////////////////////////////////////// class CharactersFactory { createMage () { return new Character().addAbility( new MovementAbility(), new HealthAbility(), new SpellCastAbility() ); } createWarrior () { return new Character().addAbility( new MovementAbility(), new HealthAbility(), new MeleeFightAbility(3) ); } createPaladin () { return new Character().addAbility( new MovementAbility(), new HealthAbility(), new SpellCastAbility(), new MeleeFightAbility(2) ); } }</span></span></code> </pre><br>  Setiap tindakan yang mungkin sekarang adalah kelas yang terpisah dengan statusnya sendiri, dan jika perlu, kita dapat membuat karakter unik dengan melemparkan mereka sejumlah kemampuan yang diperlukan.  Sebagai contoh, sangat mudah untuk membuat pohon ajaib abadi: <br><br><pre> <code class="javascript hljs">createMagicTree () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Character().addAbility( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpellCastAbility() ); }</code> </pre> <br>  Kami kehilangan warisan dan komposisi muncul sebagai gantinya.  Sekarang kita membuat karakter dan daftar kemungkinan kemampuannya.  Tetapi ini tidak berarti bahwa warisan selalu buruk, hanya saja dalam kasus ini tidak cocok.  Cara terbaik untuk memahami apakah warisan itu benar adalah dengan menjawab pertanyaan untuk diri sendiri apa hubungan yang diwakilinya.  Jika koneksi ini "is-a", artinya, Anda mengindikasikan bahwa MeleeFightAbility adalah kemampuan, maka itu sempurna.  Jika koneksi dibuat hanya karena Anda ingin menambahkan tindakan dan menampilkan "has-a", maka Anda harus memikirkan komposisi. <br><blockquote>  Saya senang melihat hasil yang bagus.  Ia bekerja dengan cerdas dan tanpa bug, arsitektur impian!  Saya yakin itu akan melewati lebih dari satu ujian waktu dan untuk waktu yang lama kita tidak perlu menulis ulang.  Saya sangat antusias tentang kode saya sehingga saya bahkan tidak memperhatikan bagaimana June Petya mendekati saya. <br><br>  Jalanan sudah gelap, yang membuatnya semakin mencolok bagaimana ia bersinar dengan kebahagiaan.  Rupanya, dia berhasil mendorong keluar tugas dan menyingkirkan hukuman untuk tikar ke arah rekan-rekannya, yang diumumkan minggu lalu. <br><br>  "Para seniman hanya melukis animasi ilahi," dia cepat-cepat mengobrol, "Aku tidak sabar untuk membuat mereka kacau."  Plus terbang yang sangat indah ketika mantra penyembuhan diterapkan.  Mereka begitu hijau dan plus seperti itu! <br><br>  Aku mengutuk diriku sendiri, karena aku benar-benar lupa bahwa kita masih harus mengacaukan pandangan.  Sial, sepertinya harus menulis ulang arsitektur. </blockquote>  Dalam artikel seperti itu biasanya hanya bekerja dengan model yang dijelaskan, karena abstrak dan dewasa, dan Anda dapat memberikan "gambar untuk ditampilkan" hingga Juni juga, tidak peduli apa arsitektur yang akan ada.  Namun demikian, model kami harus memberikan informasi maksimum untuk tampilan sehingga dapat melakukan tugasnya.  Di GameDev, pola "Tim" biasanya digunakan untuk ini.  Singkatnya - kami memiliki keadaan tanpa logika, dan setiap perubahan harus terjadi di tim yang sesuai.  Ini mungkin tampak seperti komplikasi, tetapi menawarkan banyak keuntungan: <br>  - Mereka bergabung dengan sangat baik ketika satu tim memanggil tim lainnya <br>  - Setiap perintah, ketika dieksekusi, adalah, pada kenyataannya, suatu peristiwa yang Anda dapat berlangganan <br>  - Kita dapat dengan mudah membuat cerita bersambung. <br><br>  Misalnya, perintah kerusakan mungkin terlihat seperti ini.  Saat itulah prajurit akan menggunakannya ketika dipukul dengan pedang dan penyihir ketika dipukul oleh mantra api.  Sekarang, untuk kesederhanaan, saya menerapkan validasi perintah melalui pengecualian, tetapi kemudian mereka dapat ditulis ulang sebagai kode kembali. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DealDamageCommand</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (target, damage) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target = target; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damage = damage; } execute () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> healthAbility = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target.getAbility(HealthAbility); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (healthAbility == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'NoHealthAbility'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> resultHealth = healthAbility.health - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damage; healthAbility.health = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max( <span class="hljs-number"><span class="hljs-number">0</span></span>, resultHealth ); } }</code> </pre> <br>  Saya suka membuat perintah hierarkis - ketika seseorang dieksekusi, itu <s>melahirkan</s> banyak anak, yang kemudian dieksekusi oleh mesin.  Jadi sekarang kita memiliki kemampuan untuk menangani kerusakan, kita dapat mencoba menerapkan serangan jarak dekat <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MeleeHitCommand</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (source, target, damage) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source = source; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target = target; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damage = damage; } execute () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fightAbility = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source.getAbility(MeleeFightAbility); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fightAbility == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'NoFightAbility'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChildren([ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DealDamageCommand(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target, fightAbility.power); ]); } }</code> </pre> <br>  Kedua tim ini memiliki semua yang Anda butuhkan untuk animasi kami.  Penyaji dapat dengan mudah berlangganan acara dan menampilkan semua yang diinginkan artis dengan kode berikut: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> onMeleeHit (meleeHitCommand) { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> view.drawMeleeHit( meleeHitCommand.source, meleeHitCommand.target ); } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> onDealDamage (dealDamageCommand) { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> view.showDamageNumbers( dealDamageCommand.target, dealDamageCommand.damage ); }</code> </pre> <br><blockquote>  Saya kehilangan hitungan, yang sekali berturut-turut saya tetap bekerja sampai gelap.  Sejak kecil, perkembangan permainan telah menarik saya, bagi saya itu terasa ajaib, dan bahkan sekarang, ketika saya telah melakukan ini selama bertahun-tahun, saya cemas tentang hal itu.  Terlepas dari kenyataan bahwa saya belajar sebuah rahasia tentang bagaimana mereka diciptakan - saya belum kehilangan kepercayaan pada sihir.  Dan keajaiban ini membuat saya duduk dengan inspirasi seperti itu di malam hari dan menulis kode saya.  Vasya mendatangi saya.  Dia benar-benar tidak tahu cara memprogram, tetapi membagikan sikap saya terhadap permainan. <br><br>  - Di sini - desainer game meletakkan di depan saya sebuah Talmud 200 halaman yang dicetak pada lembar A4.  Meskipun dokumen desain dilakukan dalam pertemuan, kami suka mencetaknya pada tahap penting untuk merasakan pekerjaan ini dalam perwujudan fisik.  Saya membukanya di halaman acak dan mendapatkan daftar besar berbagai mantra yang bisa dilakukan oleh penyihir dan paladin, deskripsi efeknya, persyaratan intelijen, harga mana, dan deskripsi perkiraan untuk seniman cara menampilkannya.  Bekerja selama berbulan-bulan, karena hari ini saya akan kembali bekerja. </blockquote>  Arsitektur kami membuatnya mudah untuk membuat kombinasi mantra yang kompleks.  Hanya saja setiap mantra dapat mengembalikan daftar perintah yang perlu dilakukan selama pemeran <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CastSpellCommand</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (source, target, spell) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source = source; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target = target; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spell = spell; } execute () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> spellAbility = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source.getAbility(SpellCastAbility); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (spellAbility == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'NoSpellCastAbility'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChildren(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PayManaCommand(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spell.manaCost)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addChildren(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.spell.getCommands(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.source, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target)); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Spell</span></span></span><span class="hljs-class"> </span></span>{ manaCost = <span class="hljs-number"><span class="hljs-number">0</span></span>; getCommands (source, target) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DamageSpell</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Spell</span></span></span><span class="hljs-class"> </span></span>{ manaCost = <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (damageValue) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damageValue = damageValue; } getCommands (source, target) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DealDamageCommand(target, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.damageValue) ]; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HealSpell</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Spell</span></span></span><span class="hljs-class"> </span></span>{ manaCost = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (healValue) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.healValue = healValue; } getCommands (source, target) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HealDamageCommand(target, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.healValue) ]; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VampireSpell</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Spell</span></span></span><span class="hljs-class"> </span></span>{ manaCost = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span> (value) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value = value; } getCommands (source, target) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DealDamageCommand(target, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HealDamageCommand(source, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value) ]; } }</code> </pre><br><blockquote>  <i>Satu setengah tahun kemudian</i> <br><br>  Stand-up, seperti biasa, berlarut-larut.  Aku bergoyang di kursi dan menggantung di laptop sementara Middle Petya berdebat dengan penguji tentang bug yang telah dimulai.  Dengan segala ketulusan, ia mencoba meyakinkan penguji bahwa kurangnya kontrol melalui tombol kanan mouse di game baru kami tidak boleh ditandai sebagai bug, karena tugas seperti itu tidak pernah berdiri dan tidak berhasil oleh desainer game atau badut.  Saya punya perasaan deja vu, tetapi pesan baru dalam perselisihan itu mengganggu saya: <br><br>  - Dengar - desainer game menulis - Saya punya ide bagus ... </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id438510/">https://habr.com/ru/post/id438510/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id438496/index.html">Python + Raspberry Pi + Pixhawk dan quadrocopter. Atau bagaimana tidak membuat robot</a></li>
<li><a href="../id438498/index.html">Bagaimana cara mempersiapkan wawancara dengan cepat, yang akan memiliki pertanyaan tentang algoritma dan teknologi pemrosesan informasi?</a></li>
<li><a href="../id438500/index.html">Sisi baiknya: bagaimana Optimus Prime membawa Kingston dan HyperX ke CES 2019</a></li>
<li><a href="../id438506/index.html">Musim dingin kedua saya tanpa salju atau magistrasi di Belgia</a></li>
<li><a href="../id438508/index.html">Aktivitas otak manusia pertama kali diterjemahkan ke dalam ucapan yang jelas</a></li>
<li><a href="../id438512/index.html">Kompresi data Huffman</a></li>
<li><a href="../id438514/index.html">Bagaimana saya belum bekerja selama setahun di Sberbank</a></li>
<li><a href="../id438516/index.html">Kapan harus menyimpan panjang array ke variabel lokal di C #</a></li>
<li><a href="../id438518/index.html">Membuat jsfiddle Anda, bagian 2</a></li>
<li><a href="../id438522/index.html">Equaliser strategis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>