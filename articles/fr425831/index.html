<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍💻 👫 🌝 Alerte RKN - Base de données Roskomnadzor dans votre navigateur 👨🏽‍🎤 🧖🏻 🐇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comme tout le monde, j'utilise l'un des moyens simples de contourner les écluses, dont la mer est maintenant. Tous les sites s'ouvrent sans problèmes ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Alerte RKN - Base de données Roskomnadzor dans votre navigateur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425831/"><img src="https://habrastorage.org/webt/i1/kl/mv/i1klmvcs9azzyrzvqany1ypbbj4.png" align="right">  Comme tout le monde, j'utilise l'un des moyens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">simples</a> de contourner les écluses, dont la mer est maintenant.  Tous les sites s'ouvrent sans problèmes et sans freins.  Mais récemment (il y a 2 semaines), j'avais une question: quels sites sont réellement bloqués de ceux qui s'ouvrent et lesquels ne le font pas?  La vérification manuelle de chaque site sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le site officiel d'ILV</a> n'est pas une option, bien que ce soit le moyen le plus fiable.  Naturellement, je suis allé googler les outils appropriés, mais à ma grande surprise, je n'ai rien trouvé. <br><a name="habracut"></a><br><h4>  Idée </h4><br><img src="https://habrastorage.org/webt/qx/3h/ok/qx3hokeqhgesfjbq52huv5fols0.png" align="right">  L'idée est donc née de faire une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">extension</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">open source</a> ), qui vérifiera la conformité de chaque site aux entrées de la base de données ILV.  Au début, c'était simple, en vérifiant uniquement le domaine.  Maintenant, il montre même si le site a été <b>illégalement bloqué</b> (a été mis en distribution).  Par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">reactos.org</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">7-zip.org</a> (au moment de la lecture de l'article, ils peuvent déjà être déverrouillés).  En général, depuis le début de la guerre avec Telegram, de nombreux réseaux sont toujours en blocage constant, périodiquement cette liste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">change</a> selon des lois inconnues. <br><br><h4>  Fonctionnement de l'extension </h4><br><ul><li>  Téléchargez la base de données ILV et stockez-la localement. </li><li>  Dans l'onglet actuel, vérifie l'URL (si elle se trouve dans la base de données). </li><li>  Coupe un domaine à partir d'une URL et vérifie s'il y a un domaine dans la base de données. </li><li>  Vérifie l'adresse IP actuelle dans la base de données sur laquelle le site actuel est chargé. </li><li>  Vérifie si l'adresse IP appartient aux sous-réseaux bloqués. </li><li>  Affiche un rapport sous la forme d'une icône.  Si vous cliquez dessus, alors des informations un peu plus détaillées. </li></ul><br>  C'est tout, pas de magie.  La vérification de domaine est toujours disponible, même si le site n'est pas chargé, bloqué, remplacé, etc.  - car la barre d'adresse est analysée, c'est-à-dire l'URL que vous saisissez dans la barre d'adresse ou qui y apparaît elle-même.  Tous les problèmes sont liés uniquement à la vérification ip. <br><br><h4>  Mais que faire si le proxy est dans le navigateur? </h4><br><img src="https://habrastorage.org/webt/u3/mq/dg/u3mqdg1qgetgkvnabkvoafewdkm.png" align="left">  Si le proxy est configuré dans le navigateur, l'extension fonctionne dans toute la mesure, car  rencontrant des problèmes pour déterminer le site IP <b>actuel</b> .  Au lieu de cela, l'IP du serveur proxy est déterminée.  Il s'agit simplement du proxy dans le navigateur lui-même, et non du VPN et d'autres solutions.  Soit dit en passant, pour déterminer ip, nous avions besoin des droits de webRequest (accès aux données).  L'IP n'est pas non plus détecté depuis le navigateur Tor (malheureusement). <br><br><h4>  Et si le site est bloqué par le fournisseur? </h4><br>  Une autre difficulté technique est de déterminer l'adresse IP actuelle lorsque le <b>site n'est pas disponible</b> (vraisemblablement bloqué, mais le contournement des verrous n'est pas configuré).  Dans ce cas, le navigateur ne fournit pas d'informations sur l'adresse IP.  Et nous avons besoin exactement de l'adresse IP sur laquelle le navigateur tente d'établir une connexion - et il est impossible de la déterminer, hélas.  Mais la vérification par URL et domaine fonctionne correctement. <br><br><h4>  Mais que se passe-t-il si le site se trouve juste? </h4><br><img src="https://habrastorage.org/webt/rl/pw/m4/rlpwm4yjwg-wah2zzp5o5tc7i04.png" align="right">  Dans ce cas, il existe une fonction pour <b>vérifier la disponibilité du site</b> - cela fonctionne indépendamment du DNS et du blocage (tandis que le <s><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">service d'</a></s> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hébergement</a> correspondant fonctionne sans surprise).  Après avoir installé l'extension, vous devez l'activer dans les paramètres.  <s>Mais la définition de ip échoue pour la même raison que dans le paragraphe précédent.</s>  Il existe une idée pour obtenir des informations IP à partir de là, mais cela peut être différent du vôtre. <br><br><h4>  Et si le fournisseur redirige DNS? </h4><br>  Si le fournisseur a un bloc au niveau DNS, l'extension recevra une fausse adresse IP actuelle du site et n'en aura pas connaissance.  Et vice versa, si vous écrivez l'IP requise dans le fichier hosts (ou même si vous avez votre propre serveur DNS), alors ils seront dans le rapport pop-up.  Dans le même temps, la vérification par URL et domaine fonctionne correctement, car  ils sont extraits de la barre d'adresse du navigateur. <br><br><h4>  Essayer de résoudre des problèmes IP </h4><br>  Comme demi-mesure pour résoudre ces problèmes, l'extension effectue une requête DNS et détermine toutes les adresses IP du site, ainsi que leur statut d'appartenance à la base de données ILV.  En même temps, l'extension ne sait pas exactement laquelle des plusieurs IP est actuellement utilisée pour accéder au site en cours de vérification.  Par conséquent, si au moins une adresse IP est bloquée, l'extension déclenchera l'alarme et changera la couleur de l'icône en rouge. <br><br>  Pour obtenir des enregistrements DNS, vous devez utiliser un service externe via <b>HTTP-DNS</b> , car le navigateur lui-même ne permet pas de résoudre les adresses.  Mais c'est bien, car  les fournisseurs ne bloquent ni ne redirigent ces demandes.  La fiabilité des informations est élevée.  Vous pouvez utiliser les DNS de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://developers.google.com/speed/public-dns/docs/dns-over-">Google</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://developers.cloudflare.com/1.1.1.1/dns-over-">Cloudflare</a> , et aussi l'utilisateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">brzsmg a</a> hébergé les DNS gratuits éternels, dont il remercie. <br><br><h4>  Où trouver une nouvelle base ILV? </h4><br>  Bien sûr, une quête distincte consistait à trouver la base ILV la plus adéquate.  Le fait est que l'ILV lui-même ne maintient pas la base dans le domaine public.  Au lieu de cela, il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">suggère que les</a> fournisseurs utilisent une signature numérique pour accéder à la base de données.  Je n'avais pas d'EDS supplémentaire à portée de main.  Pendant ce temps, ILV recommande aux fournisseurs de mettre à jour la base de données <b>une fois par heure</b> .  Et certaines mises à jour de base de données "urgentes" se produisent <b>encore plus souvent</b> .  Autrement dit, une serrure à tapis peut toucher des ressources clés (ou vos) pendant seulement quelques heures, puis disparaître, comme si de rien n'était.  Le plus acceptable était le fichier fréquemment mis à jour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur github</a> .  Merci aux bonnes personnes! <br><br><h4>  Talon du fournisseur </h4><br>  Situations où le stub du fournisseur est affiché, l'extension reconnaît.  Il se souvient des informations sur la page à partir de laquelle il y a eu une redirection vers le talon et affiche des informations sur le site, pas le talon.  Maintenant pris en charge: Rostelecom, MTS, Beeline, Iota, TTK, Dom.ru.  Si vous avez un talon spécial du fournisseur, vous pouvez le spécifier dans les paramètres, et il sera reconnu (il ne sera pas considéré comme un site). <br><br><h4>  Conclusion </h4><br>  Quelle autre liste de souhaits ajouter?  Écrivez.  Quant à moi, l'extension a un look fini.  Ensuite, il y a la correction de bugs mineurs une fois par an ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">si vous en trouvez</a> ). <br><br>  Je ne peux rien dire sur l'avenir de RKN Alert, car il est lié au travail des services externes et dépend également de la disponibilité de la base de données dans le domaine public.  Mais de mon vivant, je surveille la situation.  Il y a toujours une issue, je pense. <br><br>  Merci à tous ceux qui aident!  Bon à tous! <br><img src="https://habrastorage.org/webt/fk/bc/5u/fkbc5u0hht27ck_km82e4mj8rzw.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr425831/">https://habr.com/ru/post/fr425831/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425819/index.html">GitLab 11.3 publié avec le référentiel Maven et des environnements sécurisés</a></li>
<li><a href="../fr425821/index.html">Comment devenir développeur React en 2018</a></li>
<li><a href="../fr425823/index.html">Statistiques IPO 2018: 45 milliards de dollars levés, Dropbox a levé moins d'argent que les sociétés pharmaceutiques et les vendeurs immobiliers</a></li>
<li><a href="../fr425827/index.html">Leçon Google+: les projets doivent s'assurer que les frontières entre les intérêts des utilisateurs dans la vie réelle sont respectées en ligne</a></li>
<li><a href="../fr425829/index.html">Comment nous nous sommes battus avec Roskomnadzor et ce qu'il en est advenu</a></li>
<li><a href="../fr425833/index.html">Un outil pour vous aider à choisir les meilleures idées pour votre produit.</a></li>
<li><a href="../fr425835/index.html">«Breaking Bugs» dans Sberbank: comment corriger le taux de bogues sur sept jours par jour</a></li>
<li><a href="../fr425837/index.html">Copier la sémantique et la gestion des ressources en C ++</a></li>
<li><a href="../fr425839/index.html">Examen de la conférence Atlassian</a></li>
<li><a href="../fr425843/index.html">Python pour l'enfant: choisir un tutoriel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>