<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶Ç ‚ÜóÔ∏è üíß Wechseln Sie zu Androidx oder einem aufregenden Rake-Abenteuer üëäüèº üëµ üßìüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das Thema des √úbergangs zu Androidx liegt nun in der Luft. Es gibt bereits einen kurzen Artikel in englischer Sprache von Daniel Lew , es gibt einen B...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wechseln Sie zu Androidx oder einem aufregenden Rake-Abenteuer</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430660/">  Das Thema des √úbergangs zu Androidx liegt nun in der Luft.  Es gibt bereits einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kurzen Artikel in englischer Sprache von Daniel Lew</a> , es gibt einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bericht</a> .  Alle betrachten das in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Google-Dokumentation</a> beschriebene √úbergangsszenario jedoch eher oberfl√§chlich. <br><br>  Ich m√∂chte meine Erfahrungen teilen.  Mein Projekt verwendet Moxy und Cicerone. Ich finde meine Erfahrung interessant, da in den offiziellen Telegrammkan√§len dieser Bibliotheken regelm√§√üig die Frage auftaucht, wann sie auf Androidx √ºbertragen werden. <br><a name="habracut"></a><br><h3>  Einfach auf AndroidX migrieren ... </h3><br>  Um das Projekt auf Androidx zu √ºbertragen, m√ºssen Sie einige einfache Schritte ausf√ºhren: <br><br>  1. Installieren Sie <i>compileSdkVersion 28</i> und <i>targetSdkVersion 28</i> und aktualisieren Sie alle Support-Bibliotheken auf die neuesten Versionen. <br><br>  2. <b>F√ºgen Sie in der</b> Datei <b>gradle.properties</b> die folgenden Zeilen hinzu: <br><br><pre><code class="java hljs">android.useAndroidX=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span> android.enableJetifier=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span></code> </pre> <br>  3. Wenn Sie bereits Android Studio 3.2 verwenden, verwenden Sie Refactoring: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wf/po/nl/wfponll56lhhbcwnjivi3kjmqjw.png"></div><br>  Er wird den gr√∂√üten Teil (oder weniger) der Arbeit f√ºr Sie erledigen. <br><br>  Wenn Sie aus irgendeinem Grund kein Git oder ein anderes Versionskontrollsystem verwenden, haben Sie zu diesem Zeitpunkt die M√∂glichkeit, ein Projektarchiv zu erstellen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1e/li/f8/1elif8ewwv6zqp8bvanrehovr4k.png"></div><br>  Klicken Sie auf die Schaltfl√§che Migrieren, w√§hlen Sie aus, wo das Archiv gespeichert werden soll, und nach einer Weile erhalten wir das Ergebnis der √úberpr√ºfung des Projekts vor dem Refactoring: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vg/af/4q/vgaf4qodaeif-k-364trpqna8dg.png"></div><br>  Hier sehen wir, welche Abh√§ngigkeiten in build.gradle und in Importanweisungen ersetzt werden.  Im Beispiel der MainActivity-Klasse wird, wie im obigen Screenshot zu sehen ist, eine Abh√§ngigkeit ersetzt: <i>android.support.v4.view.GravityCompat</i> . Wenn wir diese Klasse √∂ffnen, werden wir <i>feststellen</i> , dass tats√§chlich drei weitere Abh√§ngigkeiten ersetzt werden m√ºssen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/az/6_/pw/az6_pwztikubna136ym0ytcpp08.png"></div><br>  Ich habe den Grund f√ºr dieses selektive Verhalten nicht verstanden, aber diese Abh√§ngigkeiten m√ºssen manuell behoben werden.  Klicken Sie auf "Refactor ausf√ºhren". <br><br><div class="spoiler">  <b class="spoiler_title">Wenn Sie Android Studio 3.2 nicht verwenden, werden alle Abh√§ngigkeiten manuell korrigiert</b> <div class="spoiler_text">  Die Abh√§ngigkeiten in <b>build.gradle m√ºssen ge√§ndert werden</b> (aus Gr√ºnden der √úbersichtlichkeit habe ich die alten Abh√§ngigkeiten <b>auskommentiert</b> ): <br><br><img src="https://habrastorage.org/webt/cz/bk/8b/czbk8bq-aqjhgnheueigg3uihv4.png"><br><br>  Eine vollst√§ndige Liste der Ersatzprodukte finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br>  Synchronisieren Sie dann das Projekt mit Gradle und erhalten Sie eine Reihe von Fehlern.  Dies sind Importanweisungen in Ihren Klassen. Sie beziehen sich auf alte Pakete. Sie m√ºssen sie gem√§√ü <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieser Tabelle</a> √§ndern. </div></div><br>  Da das Studio nicht alle Abh√§ngigkeiten ersetzen konnte (vielleicht k√∂nnten Sie, dann k√∂nnen Sie gratulieren), wird beim Versuch, ein Projekt zu erstellen, eine √§hnliche Liste von Fehlern angezeigt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lx/jq/6c/lxjq6cnbtmamvnucswhuu2uoizm.png"></div><br>  Wenn wir die Klasse mit Fehlern √∂ffnen, sehen wir ungef√§hr Folgendes: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/2q/zk/zn2qzk5bfvbkxcd83rzirsgxyec.png"></div><br>  Wir entfernen veraltete Abh√§ngigkeiten und importieren mit dem Hotkey Alt + Enter Klassen aus dem <i>AndroidX-</i> Paket <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jj/b8/9x/jjb89xdnwy3f-_zsk0bzavlplxo.png"></div><br>  Somit fixieren wir alle Klassen.  Wenn der Fehler nicht mit ‚ÄûImportieren‚Äú zusammenh√§ngt, beachten Sie ihn nicht. H√∂chstwahrscheinlich liegt er an denselben Problemen in einer anderen Klasse. <br><br>  Zum Beispiel: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ej/5a/e_/ej5ae_pnjax2vwvgo0wpxdtrx1a.png"></div><br>  Die Fehler hier h√§ngen damit zusammen, dass Sie in der TimelineView-Klasse auch Importprobleme beseitigen m√ºssen.  Wenn alle Fehler behoben sind, f√ºhren wir die Projekterstellung erneut aus, und m√∂glicherweise erhalten wir die Fehlerliste erneut. Nur in anderen Klassen setzen wir den iterativen Prozess fort. <br><br>  Achten Sie bei Fehlern mit generierten Klassen (Dolch oder Datenbindung) zu diesem Zeitpunkt nicht darauf.  Wenn Ihre Klassen keine Fehler enthalten und das Studio nur auf den generierten Code schw√∂rt, m√ºssen Sie das Projekt "Projekt bereinigen" und "Projekt neu erstellen" ausf√ºhren. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jq/6w/fa/jq6wfazm_1px_ufr0gt9krylx2c.png"></div><br>  Wenn dies nicht hilft, k√∂nnen Sie versuchen, den Studio-Cache zu leeren: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cp/qu/9k/cpqu9kvavad18ait-52xxnnv5fy.png"></div><br>  Sie m√ºssen den Cache mindestens einmal leeren, damit die Klassen, die die Datenbindung oder den Raum generieren, korrekt erstellt werden. <br><br><h3>  Externe Bibliotheken </h3><br>  Im Allgemeinen setzen wir das <i>Flag android.enableJetifier = true,</i> damit in der Phase der Projekterstellung die Abh√§ngigkeiten externer Bibliotheken automatisch durch die entsprechenden AndroidX-Abh√§ngigkeiten ersetzt werden. Aus irgendeinem Grund geschieht dies jedoch nicht. <br><br>  Bevor Sie die unten beschriebenen Schritte ausf√ºhren, stellen Sie auf jeden Fall sicher, dass Sie dieses Problem haben und dass die neuesten Versionen der von Ihnen verwendeten Bibliotheken noch nicht in AndroidX √ºbersetzt wurden. <br><br><h4>  Moxy </h4><br>  <i>MainActivity</i> in meinem Projekt wurde von <i>MvpAppCompatActivity</i> geerbt. <i>Dies</i> ist die Moxy-Klasse, die zum Zeitpunkt des Schreibens noch nicht in AndroidX √ºbersetzt wurde.  Um dieses Problem zu l√∂sen, habe ich die Klasse in einem separaten <i>AndroidX-</i> Paket in mein Projekt kopiert und die Abh√§ngigkeiten darin behoben.  Der Klassenname bleibt besser unver√§ndert, damit die Abh√§ngigkeiten leichter aktualisiert werden k√∂nnen. <br><br>  Das gleiche Verfahren muss f√ºr Fragmente f√ºr die <i>MvpAppCompatFragment-</i> Klasse durchgef√ºhrt werden. <br><br>  Beachten Sie, dass diese Klassen im Feld <b>mMvpDelegate</b> ein Generikum enthalten. Vergessen Sie nicht, die Abh√§ngigkeit darin zu <b>korrigieren.</b> Es ist leicht, sie nicht zu bemerken, da es sich um eine Abh√§ngigkeit von der Moxy-Klasse und nicht von der Support-Bibliotheksklasse handelt. <br><br><h4>  Cicerone </h4><br>  Um Probleme mit Cicerone zu l√∂sen, musste ich in meinem Projekt eine Kopie der Klassen <i>SupportAppScreen</i> und <i>SupportAppNavigator</i> erstellen.  Beachten Sie, dass die SupportAppNavigator-Klasse von SupportAppScreen abh√§ngig ist.  Denken Sie daran, diese Abh√§ngigkeit von Ihrer Kopie zu beheben. <br><br><h3>  Schlussfolgerungen </h3><br>  Der Wechsel zu AndroidX ist eine aufregende Erfahrung. Wenn Sie keinen dringenden Bedarf haben, sollten Sie ein wenig warten.  Wenn der gr√∂√üte Teil des Rechens von Ihrem Pfad entfernt wird, ist dies schlie√ülich einfacher und schneller.  Aber ich pers√∂nlich freue mich, dass dieser Weg vorbei ist, die Unebenheiten auf der Stirn heilen und die n√ºtzliche Erfahrung bei mir bleiben wird. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430660/">https://habr.com/ru/post/de430660/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430648/index.html">Geschichte von Pac-Man</a></li>
<li><a href="../de430650/index.html">Sex ist ein Verk√§ufer klassischer Arcade-Spiele. Und wer ist der K√§ufer?</a></li>
<li><a href="../de430654/index.html">devleads meetup: Wir stellen ein effektives Team zusammen, optimieren die Entwicklung und diskutieren aktuelle Themen</a></li>
<li><a href="../de430656/index.html">Zertifiziertes SAFe¬Æ-Programm</a></li>
<li><a href="../de430658/index.html">Wie es begann - Die Geburt von Videospielen</a></li>
<li><a href="../de430662/index.html">√úberwachen von Windows-Servern unter reinem MS SQL und wie ich es heimlich implementiert habe</a></li>
<li><a href="../de430664/index.html">Die Rolle des Teamleiters bei der Rekrutierung</a></li>
<li><a href="../de430666/index.html">Wie man die Teameffektivit√§t bewertet</a></li>
<li><a href="../de430668/index.html">Allein auf dem Feld ist kein Krieger. Der Weg zu effektiver Teamarbeit</a></li>
<li><a href="../de430670/index.html">Arrangement Management</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>