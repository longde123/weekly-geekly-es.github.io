<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ƒğŸ» ğŸ™‡ğŸ¼ ğŸ‡ğŸ¾ Ray: Sistem terdistribusi untuk menggunakan AI ğŸ° ğŸº ğŸ“’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo kolega. 

 Kami berharap dapat memulai terjemahan sebuah buku kecil, tetapi benar - benar dasar tentang implementasi kapabilitas AI dalam Python ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ray: Sistem terdistribusi untuk menggunakan AI</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/420695/">  Halo kolega. <br><br>  Kami berharap dapat memulai terjemahan sebuah buku kecil, tetapi benar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">-</a> benar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dasar</a> tentang implementasi kapabilitas AI dalam Python sebelum akhir Agustus. <br><br><img src="https://habrastorage.org/webt/n1/bi/e-/n1bie-mblp_vav_j89bejegoj8m.jpeg"><br><br>  Mr. Gift, mungkin, tidak membutuhkan iklan tambahan (untuk yang penasaran - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">profil master</a> di GitHub): <br><br><img src="https://habrastorage.org/webt/9n/l0/3x/9nl03xcz2j1mpum2a8_c2y4gy-y.jpeg"><br><br>  Artikel yang ditawarkan hari ini akan secara singkat berbicara tentang perpustakaan Ray, yang dikembangkan di University of California (Berkeley) dan disebutkan dalam buku Peter oleh petite.  Kami berharap itu sebagai penggoda awal - apa yang Anda butuhkan.  Selamat datang di bawah kucing <br><a name="habracut"></a><br>  Dengan pengembangan algoritma dan teknik pembelajaran mesin, semakin banyak aplikasi pembelajaran mesin perlu dijalankan pada banyak mesin sekaligus, dan mereka tidak dapat melakukannya tanpa konkurensi.  Namun, infrastruktur untuk melakukan pembelajaran mesin pada cluster masih terbentuk secara situasional.  Sekarang sudah ada solusi yang baik (misalnya, server parameter atau pencarian hyperparameters) dan sistem terdistribusi berkualitas tinggi (misalnya, Spark atau Hadoop), awalnya dibuat bukan untuk bekerja dengan AI, tetapi praktisi sering membuat infrastruktur untuk sistem terdistribusi mereka sendiri dari awal.  Banyak upaya ekstra dihabiskan untuk ini. <br><br>  Sebagai contoh, perhatikan algoritma konseptual sederhana, katakanlah, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">strategi evolusi untuk pembelajaran penguatan</a> .  Pada pseudo-code, algoritma ini cocok menjadi sekitar selusin baris, dan implementasinya dalam Python sedikit lebih besar.  Namun, penggunaan efektif dari algoritma ini pada mesin atau cluster yang lebih besar membutuhkan rekayasa perangkat lunak yang jauh lebih canggih.  Dalam implementasi algoritma ini dari penulis artikel ini, ada ribuan baris kode, di sini perlu untuk menentukan protokol komunikasi, serialisasi pesan dan strategi deserialisasi, serta berbagai metode pemrosesan data. <br><br>  Salah satu tujuan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ray</a> adalah untuk membantu seorang praktisi mengubah algoritma prototipe yang berjalan pada laptop menjadi aplikasi terdistribusi tinggi yang bekerja secara efisien pada sebuah cluster (atau pada mesin multi-core tunggal) dengan menambahkan sedikit baris kode.  Dalam hal kinerja, kerangka kerja seperti itu harus memiliki semua keuntungan dari sistem yang dioptimalkan secara manual dan tidak mengharuskan pengguna untuk berpikir tentang penjadwalan, transfer data, dan kerusakan mesin. <br><br>  <b>Kerangka AI gratis</b> <br><br>  <b>Tautkan dengan kerangka kerja pembelajaran dalam lainnya</b> : Ray sepenuhnya kompatibel dengan kerangka kerja pembelajaran dalam seperti TensorFlow, PyTorch, dan MXNet, jadi dalam banyak aplikasi itu benar-benar alami untuk menggunakan satu atau lebih kerangka kerja pembelajaran dalam lainnya dengan Ray (misalnya, di perpustakaan pembelajaran kami yang diperkuat secara aktif terapkan TensorFlow dan PyTorch). <br><br>  <b>Komunikasi dengan sistem terdistribusi lain</b> : Saat ini, banyak sistem terdistribusi populer digunakan, namun, kebanyakan dari mereka dirancang tanpa mempertimbangkan tugas-tugas yang terkait dengan AI, oleh karena itu mereka tidak memiliki kinerja yang diperlukan untuk mendukung AI dan tidak memiliki API untuk mengekspresikan aspek-aspek yang diterapkan AI.  Dalam sistem terdistribusi modern tidak ada (perlu, tergantung pada sistem) fitur yang diperlukan seperti: <br><br><ul><li>  Dukungan tugas tingkat milidetik dan dukungan untuk jutaan tugas per detik </li><li>  Pararelisme bersarang (paralelisasi tugas di dalam tugas, misalnya, simulasi paralel saat mencari hyperparameters) (lihat gambar berikut) </li><li>  Ketergantungan sewenang-wenang antara tugas, secara dinamis selama eksekusi (misalnya, untuk tidak harus menunggu, menyesuaikan dengan kecepatan pekerja lambat) </li><li>  Tugas yang beroperasi pada status variabel bersama (misalnya, bobot dalam jaringan saraf atau simulator) </li><li>  Dukungan untuk sumber daya yang heterogen (CPU, GPU, dll.) </li></ul><br><br><img src="https://habrastorage.org/webt/9-/0o/je/9-0ojeen_te_v9xyudtqh59aesq.png"><br><br>  <i>Contoh sederhana konkurensi bersarang.</i>  <i>Dalam aplikasi kami, dua percobaan dilakukan secara paralel (masing-masing adalah tugas jangka panjang), dan dalam setiap percobaan beberapa proses paralel disimulasikan (setiap proses juga merupakan tugas).</i> <br><br>  Ada dua cara utama untuk menggunakan Ray: melalui API tingkat rendah dan melalui perpustakaan tingkat tinggi.  Perpustakaan tingkat tinggi dibangun di atas API tingkat rendah.  Ini saat ini termasuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ray RLlib</a> (perpustakaan terukur untuk pembelajaran penguatan) dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ray.tune</a> , perpustakaan yang efisien untuk pencarian terdistribusi untuk hyperparameter. <br><br>  <b>API Tingkat Rendah Ray</b> <br><br>  Tujuan dari Ray API adalah untuk memberikan ekspresi alami dari pola dan aplikasi komputasi yang paling umum, tanpa terbatas pada pola tetap seperti MapReduce. <br><br>  <i><b>Grafik tugas dinamis</b></i> <br><br>  Primitif dasar dalam aplikasi (tugas) Ray adalah grafik tugas dinamis.  Ini sangat berbeda dari grafik komputasi di TensorFlow.  Sedangkan di TensorFlow grafik komputasi mewakili jaringan saraf dan dieksekusi berkali-kali di setiap aplikasi yang terpisah, di Ray grafik tugas sesuai dengan seluruh aplikasi dan dieksekusi hanya sekali.  Grafik tugas tidak diketahui sebelumnya.  Itu dibangun secara dinamis saat aplikasi sedang berjalan, dan pelaksanaan satu tugas dapat memicu pelaksanaan banyak tugas lainnya. <br><br><img src="https://habrastorage.org/webt/sw/u8/xs/swu8xsuyr5gtqoghtk5gkfgihme.png"><br><br>  <i>Contoh grafik komputasi.</i>  <i>Dalam oval putih, tugas ditampilkan, dan dalam persegi panjang biru - benda.</i>  <i>Tanda panah menunjukkan bahwa beberapa tugas bergantung pada objek, sementara yang lain membuat objek.</i> <br><br>  Fungsi sewenang-wenang python dapat dilakukan sebagai tugas, dan dalam urutan apa pun mereka dapat bergantung pada output tugas lainnya.  Lihat contoh di bawah ini. <br><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    .      , #  . @ray.remote def multiply(x, y): return np.dot(x, y) @ray.remote def zeros(size): return np.zeros(size) #    .     , #       . x_id = zeros.remote((100, 100)) y_id = zeros.remote((100, 100)) #   .    ,     #  . z_id = multiply.remote(x_id, y_id) #  .      ,     . z = ray.get(z_id)</span></span></code> </pre> <br><br>  <b><i>Aktor</i></b> <br><br>  Dengan bantuan fungsi jarak jauh saja dan penanganan tugas di atas, tidak mungkin untuk mencapai bahwa beberapa tugas secara bersamaan bekerja pada keadaan yang bisa ditukar pakai yang sama.  Masalah seperti itu dengan pembelajaran mesin muncul dalam konteks yang berbeda, di mana keadaan simulator, bobot dalam jaringan saraf, atau sesuatu yang sama sekali berbeda dapat dibagi.  Aktor abstraksi digunakan dalam Ray untuk merangkum keadaan bisa berubah yang dibagikan di antara banyak tugas.  Berikut adalah contoh ilustrasi yang menunjukkan bagaimana melakukan ini dengan simulator Atari. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gym @ray.remote <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Simulator</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.env = gym.make(<span class="hljs-string"><span class="hljs-string">"Pong-v0"</span></span>) self.env.reset() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, action)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.env.step(action) <span class="hljs-comment"><span class="hljs-comment">#  ,    , ,   , #      simulator = Simulator.remote() observations = [] for _ in range(4): #     0.       #    observations.append(simulator.step.remote(0))</span></span></code> </pre> <br><br>  Untuk semua kesederhanaannya, aktor ini sangat fleksibel dalam penggunaannya.  Misalnya, simulator atau kebijakan jaringan saraf dapat diringkas dalam aktor, itu juga dapat digunakan untuk pelatihan terdistribusi (seperti dengan server parameter) atau untuk memberikan kebijakan dalam aplikasi "langsung". <br><br><img src="https://habrastorage.org/webt/hr/or/fe/hrorfevzvb-zqne47z4xa1octgu.png"><br><br>  <i>Kiri: Aktor memberikan ramalan / tindakan ke sejumlah proses klien.</i>  <i>Kanan: Banyak aktor dari server parameter melakukan pelatihan terdistribusi untuk banyak alur kerja.</i> <br><br>  <i><b>Contoh server parameter</b></i> <br><br>  Server parameter dapat diimplementasikan sebagai aktor Ray sebagai berikut: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@ray.remote class ParameterServer(object): def __init__(self, keys, values): #    ,     . values = [value.copy() for value in values] self.parameters = dict(zip(keys, values)) def get(self, keys): return [self.parameters[key] for key in keys] def update(self, keys, values): #        ,  #      for key, value in zip(keys, values): self.parameters[key] += value</span></span></code> </pre> <br><br>  Ini adalah contoh yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lebih lengkap</a> . <br><br>  Untuk instantiate server parameter, kami melakukan ini. <br><br><pre> <code class="python hljs">parameter_server = ParameterServer.remote(initial_keys, initial_values)</code> </pre><br><br>  Untuk membuat empat pekerja lama, terus mengekstraksi dan memperbarui parameter, kami akan melakukannya. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@ray.remote def worker_task(parameter_server): while True: keys = ['key1', 'key2', 'key3'] #     values = ray.get(parameter_server.get.remote(keys)) #     updates = â€¦ #   parameter_server.update.remote(keys, updates) #  4   for _ in range(4): worker_task.remote(parameter_server)</span></span></code> </pre> <br><br>  <b>Perpustakaan Tingkat Tinggi Ray</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ray RLlib</a> adalah perpustakaan pembelajaran penguatan skalabel yang dirancang untuk digunakan pada banyak mesin.  Itu dapat diaktifkan menggunakan skrip pelatihan yang disediakan sebagai contoh, serta melalui API Pytho.  Saat ini, ini termasuk implementasi algoritma: <br><br><ul><li>  A3C </li><li>  Dqn </li><li>  Strategi evolusi </li><li>  PPO </li></ul><br><br>  Pekerjaan sedang dilakukan pada implementasi algoritma lain.  RLlib sepenuhnya kompatibel dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OpenAI gym</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ray.tune</a> adalah perpustakaan yang efisien untuk pencarian hyperparameter yang terdistribusi.  Ini menyediakan API Python untuk pembelajaran yang mendalam, pembelajaran penguatan, dan tugas-tugas lain yang membutuhkan banyak kekuatan pemrosesan.  Ini adalah contoh ilustratif dari jenis ini: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> ray.tune <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> register_trainable, grid_search, run_experiments <span class="hljs-comment"><span class="hljs-comment">#   .     config def my_func(config, reporter): import time, numpy as np i = 0 while True: reporter(timesteps_total=i, mean_accuracy=(i ** config['alpha'])) i += config['beta'] time.sleep(0.01) register_trainable('my_func', my_func) run_experiments({ 'my_experiment': { 'run': 'my_func', 'resources': {'cpu': 1, 'gpu': 0}, 'stop': {'mean_accuracy': 100}, 'config': { 'alpha': grid_search([0.2, 0.4, 0.6]), 'beta': grid_search([1, 2]), }, } })</span></span></code> </pre> <br><br>  Hasil saat ini dapat divisualisasikan secara dinamis menggunakan alat khusus, misalnya, Tensorboard dan VisKit dari rllab (atau langsung membaca log JSON).  Ray.tune mendukung pencarian grid, pencarian acak, dan lebih banyak algoritma berhenti non-sepele seperti HyperBand. <br><br>  <b>Lebih banyak tentang Ray</b> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel akademis</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Basis kode</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dokumentasi</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id420695/">https://habr.com/ru/post/id420695/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id420685/index.html">Memperbaiki dan menetralkan: bagaimana kita menjinakkan perak. Sepatah kata tentang bakterisida untuk air</a></li>
<li><a href="../id420687/index.html">Menggunakan VS Code untuk memanggil REST API di Azure IoT Hub [+ bahan yang bermanfaat]</a></li>
<li><a href="../id420689/index.html">Desainer game dari awal: cara memulai membuat game tanpa pengalaman</a></li>
<li><a href="../id420691/index.html">Kivy. Xamarin Bereaksi Asli. Tiga kerangka kerja - satu percobaan</a></li>
<li><a href="../id420693/index.html">Kursus Pengembangan Java dari Mail.Ru Group di Technostream Channel</a></li>
<li><a href="../id420697/index.html">Tema abadi dengan PHP dan MySQL</a></li>
<li><a href="../id420701/index.html">HSBI mengundang ke malam kuliah tentang desain game pada 29 Agustus</a></li>
<li><a href="../id420703/index.html">Sinopsis buku â€œNegosiasi tanpa kekalahan. Metode Harvard</a></li>
<li><a href="../id420705/index.html">8 ide mendalam dari Tribors of Mentor Tim Ferris</a></li>
<li><a href="../id420707/index.html">Startup JITX menggunakan AI untuk mengotomatisasi pengembangan papan sirkuit tercetak yang kompleks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>