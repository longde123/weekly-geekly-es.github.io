<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤰🏼 🐿️ 👨‍❤️‍👨 Para a questão das curvas de Bezier, velocidade do Arduino e um site interessante, ou como passei o fim de semana 🥚 📹 👨‍👦‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="“Qualquer um pode resolver o paradoxo de Grey com golfinhos, e você tenta fazê-lo sem golfinhos. " 


 Na verdade, eu planejava passar o fim de semana...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Para a questão das curvas de Bezier, velocidade do Arduino e um site interessante, ou como passei o fim de semana</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428113/"><h3>  “Qualquer um pode resolver o paradoxo de Grey com golfinhos, e você tenta fazê-lo sem golfinhos.  " </h3><br><img src="https://habrastorage.org/webt/hx/vp/j2/hxvpj2li3y68iwtzbikjgddqauy.jpeg"><br><br>  Na verdade, eu planejava passar o fim de semana de uma maneira um pouco diferente, ir ao Copter Huck (não que eu fosse fã de helicópteros, apenas para ver o que os jovens estavam inventando, para sair assim), mas a irmã mais velha era categoricamente contra.  Obviamente, eu insisti (ou seja, eu ri algumas vezes e disse: "Bem, talvez ... seja divertido, de qualquer maneira"), mas ela era implacável e, quando minha esposa ficou do seu lado, não havia chance de uma viagem.  Bem, tudo bem, "eu realmente não queria", mas sentei-me um pouco sobre um quebra-cabeça engraçado do campo de programação, que pensei por mim mesmo, sobre o qual estou relatando. <br><br>  (Observação necessária - o fim de semana anterior foi feito, é sempre assim - a elaboração de um programa requer algumas horas, a elaboração de um relatório sobre o assunto e cinco dias de viagem em transporte público não são concluídos.) <br><br>  Em um post recente, o autor considerou o problema de acelerar (entre outras coisas) o cálculo das curvas de Bezier (KB) no MK com parâmetros relativamente fracos.  Bem, de fato, esses parâmetros estão no nível do mainframe médio dos anos 70, mas atualmente são considerados claramente insuficientes.  Como resultado de certas ações, o autor conseguiu acelerar um pouco os cálculos, na minha opinião, claramente não é suficiente, então decidi escrever como isso deve ser feito como uma primeira aproximação.  Conheço perfeitamente a receita universal para resolver problemas de desempenho - levar o MK com uma frequência mais alta ou mudar para outra família, mas venho do momento em que o estudamos custou o que é, simplesmente porque não havia mais nada da palavra.  Atualmente, a abordagem está desatualizada, mas me pareceu que não seria desinteressante para os leitores modernos de Habr. <br><a name="habracut"></a><br>  Afirmamos o problema - queremos calcular as coordenadas dos pontos na curva de Bezier definidas pelos pontos extremos A e B e o foco imaginário C. o mais rápido possível.A fórmula para calcular o ponto P na curva é dada por <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo>=</mo><mi>T</mi><mo>&amp;#x2217;</mo><mi>T</mi><mo>&amp;#x2217;</mo><mi>B</mi><mo>+</mo><mn>2</mn><mo>&amp;#x2217;</mo><mi>T</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>T</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>C</mi><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>T</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>T</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>A</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="62.549ex" height="2.66ex" viewBox="0 -832 26930.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-50" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="2308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="4291" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="5014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="5941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="6663" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="7645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="8646" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="9369" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="10091" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="11018" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="11741" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="12130" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2212" x="12853" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="13854" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="14558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="15170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-43" x="15893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="16875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="17876" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="18266" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2212" x="18988" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="19989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="20694" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="21305" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="22028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="22418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2212" x="23140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="24141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="24845" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="25457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="26180" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mi>T</mi><mo>∗</mo><mi>T</mi><mo>∗</mo><mi>B</mi><mo>+</mo><mn>2</mn><mo>∗</mo><mi>T</mi><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>T</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>C</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>T</mi><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>T</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>A</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> (1) P = T * T * B + 2 * T * (1-T) * C + (1-T) * (1-T) * A </script></p>  onde T varia de 0 a 1 inclusive.  (No Wiki, eles escrevem que essa fórmula era secreta ao mesmo tempo, era estranho assim, mas tudo é possível).  É claro que não o tomaremos de forma complexa, em vez disso, procuraremos separadamente as coordenadas X e Y. Estimaremos a complexidade do cálculo usando essa fórmula, simplesmente contando o número de sinais de operações aritméticas nesta expressão - 7 multiplicações e 5 adições (=&gt; 7 * 5 + )  É possível que um bom compilador (e agora todos os compiladores sejam bons e otimize perfeitamente se você não os proibir explicitamente) reduza os custos para 7 * 3 +, embora seja melhor ajudá-lo calculando (1-T) com antecedência.  De um modo geral, um bom compilador geralmente pode fazer maravilhas se todos os valores na fórmula são representados por constantes, mas assumimos que todos os valores são estaticamente indefinidos. <br><br><h2>  Parte Um, Matemática </h2><br>  Iniciamos o processo de otimização, para o qual expandimos os colchetes e agrupamos os termos em T (talvez um dia o compilador possa fazer isso por nós, mas até agora essa parte do trabalho é atribuída à inteligência natural), obtendo <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo>=</mo><mi>T</mi><mo>&amp;#x2217;</mo><mi>T</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>B</mi><mo>+</mo><mi>A</mi><mo>&amp;#x2212;</mo><mn>2</mn><mo>&amp;#x2217;</mo><mi>C</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mi>T</mi><mo>&amp;#x2217;</mo><mn>2</mn><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mo>&amp;#x2212;</mo><mi>A</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mi>A</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="54.369ex" height="2.66ex" viewBox="0 -832 23409 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-50" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="2308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="4291" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="5014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="5941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="6663" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="7053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="8035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="9035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2212" x="10008" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="11009" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="11732" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-43" x="12454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="13215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="13827" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="14827" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="15754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="16477" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="17199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="17922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-43" x="18312" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2212" x="19294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="20295" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="21046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="21657" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="22658" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mi>T</mi><mo>∗</mo><mi>T</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>B</mi><mo>+</mo><mi>A</mi><mo>−</mo><mn>2</mn><mo>∗</mo><mi>C</mi><mo stretchy="false">)</mo><mo>+</mo><mi>T</mi><mo>∗</mo><mn>2</mn><mo>∗</mo><mo stretchy="false">(</mo><mi>C</mi><mo>−</mo><mi>A</mi><mo stretchy="false">)</mo><mo>+</mo><mi>A</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> (2) P = T * T * (B + A-2 * C) + T * 2 * (C-A) + A </script></p>  =&gt; 5 * 5 +, que é claramente melhor que o valor inicial de 7 * 5 +, mas 7 * 3 + relativamente melhorado ainda deve ser considerado. <br><br>  Se dedicarmos algum tempo para concluir a operação de adição como um só, o tempo para concluir a multiplicação será exatamente não menos que um, como regra, mais longo, mas quanto isso depende da implementação do MK (primeiro escrita - na arquitetura, mas isso não é totalmente verdade).  Quando não houver multiplicador de hardware no cristal, o tempo de execução da multiplicação será dez (30+) vezes maior que um e, quando estiver presente, será várias vezes (1-6).  Portanto, podemos acreditar com confiança que substituir a multiplicação pela adição gera um ganho (e geralmente significativo) no tempo de execução quase sempre.  Bem, notamos imediatamente que a transição de números de ponto fixo para ponto flutuante (deixamos de lado a prova desse fato) leva a um aumento no tempo de execução em mais de 20 vezes para adição (o alinhamento é muito influente aqui), mas apenas para um pequeno aumento na multiplicação .  Portanto, para números de ponto flutuante, os tempos de adição e multiplicação diferem pouco, especialmente em termos relativos (podemos esperar um máximo de 2 vezes), mas eles ainda diferem e não são a favor da multiplicação, portanto, há um ganho aqui. <br><br>  Voltando ao parágrafo anterior, descobrimos que para a PT a classificação 5 * 5 + não deve ter uma vantagem significativa sobre 7 * 3 +, mas ainda temos reservas.  Preste atenção ao fato de que devemos calcular o conjunto de pontos na curva de Bezier quando o parâmetro T mudar e todos os outros parâmetros da curva forem fixos (mas não constantes, mas desculpe), o restante da fórmula poderá ser calculado antecipadamente e obter <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>3</mn><mo stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo>=</mo><mi>T</mi><mo>&amp;#x2217;</mo><mi>T</mi><mo>&amp;#x2217;</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>T</mi><mo>&amp;#x2217;</mo><mi>B</mi><mn>1</mn><mo>+</mo><mi>A</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.565ex" height="2.66ex" viewBox="0 -832 14020.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-33" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-50" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="2308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="4291" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="5014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="5941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="6663" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="7414" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="8137" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="9137" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="10064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="10787" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="11546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="12269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="13270" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mi>T</mi><mo>∗</mo><mi>T</mi><mo>∗</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>T</mi><mo>∗</mo><mi>B</mi><mn>1</mn><mo>+</mo><mi>A</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> (3) P = T * T * A1 + T * B1 + A </script></p>  =&gt; 3 * 2 +, em que <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>A</mi><mn>1</mn><mo>=</mo><mi>A</mi><mo>+</mo><mi>B</mi><mo>&amp;#x2212;</mo><mn>2</mn><mo>&amp;#x2217;</mo><mi>C</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.315ex" height="2.178ex" viewBox="0 -780.1 8746.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="1528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="2585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="3557" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="4558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2212" x="5540" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="6540" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="7263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-43" x="7986" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>A</mi><mn>1</mn><mo>=</mo><mi>A</mi><mo>+</mo><mi>B</mi><mo>−</mo><mn>2</mn><mo>∗</mo><mi>C</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> A1 = A + B-2 * C </script>  e <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi><mn>1</mn><mo>=</mo><mn>2</mn><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mo>&amp;#x2212;</mo><mi>A</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.541ex" height="2.66ex" viewBox="0 -832 7552.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="1537" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="2594" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="3316" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="4039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-43" x="4429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2212" x="5411" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="6412" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="7162" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi><mn>1</mn><mo>=</mo><mn>2</mn><mo>∗</mo><mo stretchy="false">(</mo><mi>C</mi><mo>−</mo><mi>A</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-5"> B1 = 2 * (C-A) </script>  já é bom, mas se você se lembra do esquema de Horner e escreve <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>4</mn><mo stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo>=</mo><mi>T</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>T</mi><mo>&amp;#x2217;</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mi>A</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="30.543ex" height="2.66ex" viewBox="0 -832 13150.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-34" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-50" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="2308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="4291" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="5014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-54" x="5404" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="6330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="7053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="7803" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="8526" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="9527" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="10286" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="10787" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="11399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="12399" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mi>T</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>T</mi><mo>∗</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>A</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> (4) P = T * (T * A1 + B1) + A </script></p>  =&gt; 2 * 2 +, em comparação com a decisão "na testa", temos que vencer mais de 2 vezes, quase 3, e essas otimizações são completamente óbvias. <br><br>  Vamos verificar a teoria com prática (embora isso seja completamente redundante, estamos confiantes em nossas estimativas, mas de repente subestimei o compilador), para o qual precisamos medir o tempo real de execução de diferentes opções em hardware real.  Bem, aconteceu que em casa eu tenho muitos tipos de placas de depuração para MK de várias empresas (incluindo raridades como depurações da Luminary Micro ou Intel Edisson, tentamos comprar uma agora), mas não existe uma única placa Arduino ("Bem não temos abacaxi ").  Parece um beco sem saída, mas existem opções - um site muito interessante que o tinkercad.com vem em nosso auxílio, no qual você pode construir seu circuito em uma placa de ensaio usando o módulo Arduino, escrever um esboço e executá-lo imediatamente.  Ao mesmo tempo, você pode definir pontos de interrupção, executar o programa passo a passo e até (uma coisa sem precedentes para um Arduino real) visualizar os valores das variáveis ​​no momento da falha. <br><br>  Nos voltamos para este site e começamos a medir.  Para começar, verificamos nossas suposições sobre o tempo de execução das operações e, depois de esclarecidas as circunstâncias, obtemos os seguintes dados para números inteiros: <br><br>  8 + 8 =&gt; 8-1 batida, 16 + 16 =&gt; 16-2, <br>  8 * 8 =&gt; 16 - 2, 16 * 16 =&gt; 16 - 14 (a única coisa que acabou sendo inesperada, pensei em obter 4 * 2 + 4 * 2 = 16, há otimizações interessantes), <br>  8/8 =&gt; 8 - 230, 16/16 =&gt; 16 - 230. <br><br>  Preste atenção nos dois últimos dígitos, é claro que a operação de divisão é proibida se realmente quisermos contar rapidamente.  Agora (finalmente) medimos o tempo necessário para executar operações nos números de PTs com uma mantissa de 24 bits <br>  a + b - 126 (e depende muito de operandos), a * b - 140, a / b - 482. <br>  Os dados obtidos se correlacionam bem com nossos pressupostos teóricos, é claro que existe uma implementação de hardware a bordo deste MK: para multiplicação, divisão, e não operações, PT. <br><br>  Agora começamos a medir o tempo do cálculo completo.  Definimos os valores A = 140, B = 120, C = 70 e construímos 170 pontos distribuídos uniformemente no departamento de design.  Por que exatamente esses valores - eles foram dados no post especificado ao avaliar o desempenho.  Abaixo estão os algoritmos e o tempo de execução do teste correspondente. <br><br>  Fórmula (1) =&gt; 20ms ou 1.900 ciclos de relógio por amostra <br>  Fórmula (1) =&gt; 18ms ou 1660 ciclos de relógio por amostra (considere separadamente 1-T) <br>  Fórmula (2) =&gt; 16ms ou 1540 ciclos de relógio por amostra <br>  Fórmula (3) =&gt; 10ms ou 923 ciclos de relógio por amostra <br>  Fórmula (4) =&gt; 8ms ou 762 medidas por contagem <br><br>  Pode-se observar que a redução resultante no tempo de execução (de 20ms para 8ms) correlaciona-se bem com o esperado e conseguimos acelerar os cálculos mais de 2 vezes.  Observe que, além de considerações e matemática completamente óbvias, não indo além do curso do ensino médio, não precisávamos. <br><br>  E agora vamos falar sobre o que fazer se o resultado não for suficiente e já extraímos tudo das fórmulas de cálculo.  Eles escreveram aqui para mim (nos comentários de outro post) que, em geral, qualquer problema pode ser reduzido à computação com FT e, apesar da óbvia controvérsia da suposição (tente fazer isso para a solução numérica das equações de Navier-Stokes), neste caso específico, essa recomendação é aplicável Embora, como sempre, haja nuances. <br><br><h2>  Parte Dois, Computação </h2><br>  Uma vez esgotadas as modificações no algoritmo, apenas as estruturas de dados permanecem e entramos no solo dos números de ponto fixo.  Aqui encontraremos muitas armadilhas nas quais não pensamos em termos de alcance e precisão do PT (em geral, para o PT deve-se pensar sobre essas questões, mas aqui tudo é mais simples, muito foi feito por nós).  É necessário realizar um pequeno estudo do problema para determinar a representação necessária da TF (selecionada no post 9.7 acima mencionado, a julgar pelos resultados, é claramente insuficiente), mas proponho um caminho ligeiramente diferente.  A propósito, se não dermos 170 passos no intervalo, mas 128 (não vejo razão para nos proibir dessa etapa), essa ideia nos servirá perfeitamente.  Se levarmos em conta o fato de que as constantes que definem o KB são dadas por números inteiros, e o único parâmetro T pode ser representado por uma fração do formulário e / e usaremos o resultado para renderizar na tela, ou seja, traduzir em coordenadas inteiras, podemos basta fazer tudo em números inteiros, que processam muito mais rápido. <br><br>  Usamos apenas a última fórmula e a reescrevemos na nova notação <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>5</mn><mo stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo>=</mo><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>U</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>U</mi><mo>&amp;#x2217;</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mi>A</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.82ex" height="2.66ex" viewBox="0 -832 15422.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-35" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-50" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="2308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-75" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2F" x="3937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-55" x="4438" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="5427" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="6150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-75" x="6540" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2F" x="7112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-55" x="7613" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="8602" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="9325" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="10075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="10798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="11799" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="12558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="13059" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="13671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="14671" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>U</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>U</mi><mo>∗</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>A</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> (5) P = u / U * (u / U * A1 + B1) + A </script></p>  (=&gt; 2 * 2 + 2 /), em que A1 e B1 são calculados da mesma maneira que para PT.  Obviamente, todos os números são inteiros e as operações correspondentes devem ser executadas muito mais rapidamente.  Para não perder a precisão durante a operação da divisão inteira (2/3 = 1! = 1,5) e fazer a divisão no último momento, transformamos levemente a fórmula na forma <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>6</mn><mo stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mi>e</mi><mo>&amp;#x2217;</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>1</mn><mo>&amp;#x2217;</mo><mi>E</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>E</mi><mo>&amp;#x2217;</mo><mi>E</mi><mo>+</mo><mi>A</mi><mo>&amp;#x2217;</mo><mi>E</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>E</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="45.756ex" height="2.66ex" viewBox="0 -832 19700.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-36" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-50" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="2308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="3754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-65" x="4144" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="4832" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="5555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="6306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="7028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="8029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="8788" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="9511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-45" x="10234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="10998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2F" x="11388" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-45" x="11888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="12875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-45" x="13598" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="14585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="15585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="16558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-45" x="17281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="18045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2F" x="18435" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-45" x="18935" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mn>6</mn><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>e</mi><mo>∗</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>1</mn><mo>∗</mo><mi>E</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>E</mi><mo>∗</mo><mi>E</mi><mo>+</mo><mi>A</mi><mo>∗</mo><mi>E</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>E</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-8"> (6) P = ((e * A1 + B1 * E) / E * E + A * E) / E </script></p>  (=&gt; 4 * 2 + 2 /).  Todos os números do FT, então implementamos esse algoritmo e obtemos ... aqui está, avó e o dia de Yuryev ... 1869 ciclos, mas isso é muito pior do que para o FT, partimos disso, algum tipo de lixo, porque os números inteiros são muito mais rápidos. <br><br>  Começamos a análise e acontece que apenas alterar o tipo de variáveis ​​não é suficiente.  Primeiro, devemos usar números não 8 ou mesmo 16, mas 32 bits, caso contrário, ocorrerá um excesso e números longos, embora mais rápidos que o PT, mas não tanto para compensar as falhas do algoritmo. novamente tivemos constantes calculadas em cada medida - as removemos por cálculo preliminar B2 = B1 * I, A2 = A * I * I.  Então nós temos <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>7</mn><mo stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mi>e</mi><mo>&amp;#x2217;</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>e</mi><mo>+</mo><mi>A</mi><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>E</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>E</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="38.285ex" height="2.66ex" viewBox="0 -832 16483.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-37" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-50" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="2308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="3754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-65" x="4144" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="4832" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="5555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="6306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="7028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="8029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="8788" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="9289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="9901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-65" x="10623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="11312" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="12313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="13063" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="13564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2F" x="13953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-45" x="14454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2F" x="15218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-45" x="15719" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mn>7</mn><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>e</mi><mo>∗</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>2</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>e</mi><mo>+</mo><mi>A</mi><mn>2</mn><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>E</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>E</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-9"> (7) P = ((e * A1 + B2) * e + A2) / E / E </script></p>  (=&gt; 2 * 2 + 2 /) com um resultado de 1684 é melhor que o anterior, mas ainda não nos afastamos. <br><br>  Excluímos o cálculo de mais uma constante And2 = And * E obtemos <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>8</mn><mo stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mi>e</mi><mo>&amp;#x2217;</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>e</mi><mo>+</mo><mi>A</mi><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>I</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.915ex" height="2.66ex" viewBox="0 -832 15463.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-38" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-50" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="2308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="3754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-65" x="4144" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="4832" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="5555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="6306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="7028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="8029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="8788" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="9289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="9901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-65" x="10623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="11312" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="12313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="13063" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="13564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2F" x="13953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-49" x="14454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-49" x="14958" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mn>8</mn><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>e</mi><mo>∗</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>2</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>e</mi><mo>+</mo><mi>A</mi><mn>2</mn><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>I</mi><mi>I</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> (8) P = ((e * A1 + B2) * e + A2) / II </script></p>  (=&gt; 2 * 2 + 1 /), com o tempo de execução de 956 ciclos - mas isso é interessante, a exclusão de uma operação levou a um aumento significativo na produtividade. <br><br>  Isso é o que nos atrasa - a divisão, porque é uma operação muito demorada, mas temos um truque interessante para lidar com isso.  Para calcular a expressão 1 / E podemos realizar transformações elementares 1 /  = 1 /  * ( / ) = 1 * ( / ) / .  Se escolhermos o grau de dois como H, a divisão por H poderá ser substituída por turnos, e se o expoente for múltiplo de 8, não serão necessários turnos pares.  E o valor de N / A terá que ser calculado honestamente, mas apenas uma vez, após o qual somente a multiplicação permanece no ciclo de cálculo. <br><br>  Preste atenção ao fato de que fizemos uma conversão não muito correta e substituímos o N / A pelo seu valor arredondado K para passar às operações exclusivamente com números inteiros.  O erro consiste na perda de precisão e pesquisas adicionais devem ser realizadas para comprovar a aplicabilidade dessa abordagem ao nosso caso.  Escrevemos H / I na forma (K * I + d) / I = K + (d / I), onde q é menor que I. Então o erro absoluto em ir de H / I a K será d / I e o erro relativo será d / I I / (K + d / I)&gt; = d / I / (K + 1) ~ d / I / K, desde que K &gt;&gt; 1 (isto não é uma mudança).  Daqui resulta que o valor de H deve ser escolhido o maior possível, uma vez que o erro de cálculo absoluto é igual a A * d / I / K&gt; = A * 1 / N / I.  Se queremos que o erro não seja mais do que unidade, devemos suportar a condição A / K &lt;= 1, então K&gt; = A, converter K * I&gt; = A * I, o que significa H&gt; = A * I, então não o fazemos perdendo em precisão.  No nosso caso, A &lt;= 256 e I &lt;= 256, obtemos H&gt; = 2 ** 16, o que é bastante aceitável.  Obviamente, nas fórmulas acima, os módulos dos números originais devem ser usados. <br><br>  Observamos no futuro que, se arredondarmos não para baixo, mas em direção ao número inteiro mais próximo, os requisitos serão um pouco reduzidos e H deverá ser a metade o suficiente, embora haja nuances. <br><br>  De qualquer forma, podemos fornecer a precisão necessária e obter o seguinte algoritmo: H = 2 ** 16;  K = [N / A] (I &lt;256);  0 &lt;= e &lt;= AND; <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>9</mn><mo stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mi>e</mi><mo>&amp;#x2217;</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>e</mi><mo>+</mo><mi>A</mi><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>K</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;gt;&amp;gt;</mo><mn>16</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>K</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;gt;&amp;gt;</mo><mn>16</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="59.917ex" height="2.66ex" viewBox="0 -832 25797.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-39" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-50" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3D" x="2308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="3754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="4144" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-28" x="4533" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-65" x="4923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="5611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="6334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31" x="7085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="7807" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-42" x="8808" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="9567" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="10068" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="10680" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-65" x="11402" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2B" x="12091" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-41" x="13092" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-32" x="13842" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="14343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="14955" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-4B" x="15677" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="16567" y="0"></use><g transform="translate(17234,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3E"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3E" x="778" y="0"></use></g><g transform="translate(19069,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-36" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="20070" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-2217" x="20682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMATHI-4B" x="21404" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-29" x="22294" y="0"></use><g transform="translate(22961,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3E"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-3E" x="778" y="0"></use></g><g transform="translate(24796,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/428113/&amp;usg=ALkJrhgzZSupSEgZJzFyXPZoAIdWLh1g_g#MJMAIN-36" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><mn>9</mn><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>e</mi><mo>∗</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>B</mi><mn>2</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>e</mi><mo>+</mo><mi>A</mi><mn>2</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>K</mi><mo stretchy="false">)</mo><mo>&gt;&gt;</mo><mn>16</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>K</mi><mo stretchy="false">)</mo><mo>&gt;&gt;</mo><mn>16</mn></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> (9) P = ((((e * A1 + B2) * e + A2) * K) >> 16) * K) >> 16 </script></p>  (=&gt; 4 * 2 + 2 &gt;&gt; 16) onde todas as operações são realizadas em números inteiros longos.  Implementamos esse algoritmo e obtemos 583 ciclos de relógio ... mas isso já está próximo do ideal, mas ainda não é o ideal. <br><br>  Em seguida, vêm as pequenas configurações para um MK específico - trabalhar com variáveis ​​globais é mais rápido.  do que com os locais, mas ainda mais rápido com os locais registrados, o que leva a uma redução no tempo para 506 ciclos de relógio. <br><br>  Além disso, observamos que a última multiplicação antes do turno pode ser realizada com números de 16 bits, o que dará 504 - um pouco, mas é legal. <br><br>  No total, aceleramos os cálculos em comparação com a implementação da “testa” em 1900/504 - mais de três vezes e não perdemos exatamente a palavra.  Esse é o resultado que chamo de otimização de tempo, e não 20% recebido no post original. <br><br>  É possível alcançar indicadores ainda melhores - é possível, mas este é o tópico do próximo post. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt428113/">https://habr.com/ru/post/pt428113/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt428103/index.html">Mitap em São Petersburgo: Engenharia de Dados e mais</a></li>
<li><a href="../pt428105/index.html">O Blogger recomenda: influenciar o marketing</a></li>
<li><a href="../pt428107/index.html">Containerização de aplicativos Angular 6 SPA Template ASP .NET Core 2.1</a></li>
<li><a href="../pt428109/index.html">Parede corporativa</a></li>
<li><a href="../pt428111/index.html">Aritmética da precisão arbitrária em Erlang</a></li>
<li><a href="../pt428115/index.html">Desenvolvimento web para comércio eletrônico: 5 tendências tecnológicas para 2019</a></li>
<li><a href="../pt428117/index.html">Processadores tensores gratuitos do Google na Nuvem Colaborativa</a></li>
<li><a href="../pt428119/index.html">"Classe-campos-proposta" ou "O que deu errado no commit do tc39"</a></li>
<li><a href="../pt428121/index.html">Stan Drapkin. Armadilhas de criptografia de alto nível no .NET</a></li>
<li><a href="../pt428123/index.html">Semana 41 da Segurança: Boas Novas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>