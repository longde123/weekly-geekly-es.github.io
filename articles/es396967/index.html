<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê≠ üëë ‚èØÔ∏è Reproductor multimedia del armario üê¶ üåû üö∂üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Autor: Nikolai Khabarov
 
 Un buen viernes por la noche, decid√≠ ver una pel√≠cula en casa: encend√≠ la computadora port√°til, conect√© el cable HDMI a tra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reproductor multimedia del armario</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataart/blog/396967/"><img src="https://habrastorage.org/files/454/fd7/d95/454fd7d9552b452cb8cc2f285fdc88bc.png"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autor: Nikolai Khabarov</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Un buen viernes por la noche, decid√≠ ver una pel√≠cula en casa: encend√≠ la computadora port√°til, conect√© el cable HDMI a trav√©s del adaptador DisplayPort, tom√© el control remoto, encend√≠ el televisor y comenc√© a jugar en la computadora port√°til. Y me di cuenta de que el volumen en el televisor no era suficiente: tuve que buscar el control remoto nuevamente para aumentarlo ... Entonces pens√©: "¬øPuede este proceso simplificarse de alguna manera?" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El s√°bado por la ma√±ana fue extremadamente fruct√≠fero. Decid√≠ hacer mi propio reproductor multimedia en red, tal como lo imagino. Casi todos los detalles fueron tomados de la despensa, el coraz√≥n del jugador es la Raspberry Pi. Para m√°s detalles, qu√© hay dentro y c√≥mo ensamblar un dispositivo similar, vea debajo del corte.</font></font><a name="habracut"></a><br>
<br>
<img src="https://habrastorage.org/files/a14/a2d/e46/a14a2de464df4a66bf1aa09eba6748ef.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como puede ver en la descripci√≥n, mis requisitos para el reproductor son extremadamente simples: la capacidad de reproducir contenido desde la red, el almacenamiento de varios cientos de gigabytes, la capacidad de controlar el mismo control remoto que el televisor; </font><font style="vertical-align: inherit;">un puerto USB es deseable, pero no necesario. </font><font style="vertical-align: inherit;">Los reproductores Android comprados desaparecieron de inmediato, porque tales dispositivos son en su mayor√≠a de China pura, en el peor sentido de la palabra, y no ten√≠a ganas de luchar con errores dentro de ellos. </font><font style="vertical-align: inherit;">Adem√°s, no est√° claro c√≥mo implementar el control de dicho dispositivo desde un control remoto de televisi√≥n, adem√°s, la interfaz gr√°fica de Android claramente no est√° pensada para el control remoto en principio. </font><font style="vertical-align: inherit;">Por lo tanto, comenz√≥ la b√∫squeda de basura a partir de la cual uno puede hacer algo.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seleccionamos los detalles</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, me gustar√≠a intentar comprender la viabilidad de fabricar el dispositivo final. Por lo tanto, para comenzar, tomaremos un m√≠nimo de detalles y probaremos un posible reproductor multimedia en funcionamiento. Vamos a la despensa y literalmente desenterramos los detalles que necesitamos: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Una computadora con una salida HDMI. El viejo Raspberry Pi 1 es bastante adecuado para nuestros prop√≥sitos, tambi√©n puede usar el Raspberry Pi 2. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Fuente de alimentaci√≥n para la placa: es adecuada la carga microUSB de un tel√©fono antiguo. Puede tomar cualquier "probar", pero es recomendable tomar una fuente que proporcione una corriente de salida de 1A (un amperio para los ojos es suficiente para Pi 2, consulte los </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">requisitos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Tarjeta microSD con 4 GB o m√°s.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Rat√≥n y / o teclado USB (se puede usar inal√°mbrico) y, opcionalmente, receptor de se√±al infrarroja TSOP4836 o similar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Adaptador USB Wi-Fi o la capacidad de conectar un cable Ethernet con Internet a la placa.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ponemos OpenElec, intentamos</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este punto, ejecutaremos OpenElec de la manera m√°s peque√±a posible. Tan pronto como pens√© en el software para mi reproductor multimedia, record√© el XBMC, m√°s tarde renombrado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kodi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pero no hab√≠a ning√∫n deseo de instalar ning√∫n sistema operativo y luego configurar Kodi. As√≠ que decid√≠ buscarlo en Google y encontr√© este ensamblaje del sistema operativo GNU / Linux, sobre el cual Kodi ya est√° instalado. Este ensamblado se llama OpenElec, es un proyecto de c√≥digo abierto. Su sitio web oficial es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openelec.tv.</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Entonces, descargamos la imagen de instalaci√≥n desde el sitio </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oficial </font><font style="vertical-align: inherit;">. Seleccionamos la versi√≥n deseada y la plataforma en la que la ejecutaremos (en mi caso, la versi√≥n estable para Rasberry Pi), y descargamos el 'Diskimage' (archivo con la extensi√≥n .img.gz). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desempaquete la imagen: </font><font style="vertical-align: inherit;">
y escriba en la tarjeta de memoria:</font></font><br>
<code> $ gunzip -d &lt; &gt;.img.gz<br>
</code><br><font style="vertical-align: inherit;"></font><br>
 <code>$ sudo dd if= &lt; &gt;.img of=/dev/mmblck0 bs=4M<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Correct / dev / mmblck0: si hay m√°s de una tarjeta de memoria en su sistema. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atencion El contenido de la tarjeta de memoria se borrar√° por completo.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Los usuarios de Windows pueden usar la utilidad gratuita </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Win32 Disk Imager</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La utilidad tiene una interfaz gr√°fica: seleccione el archivo, la tarjeta de memoria y presione 'Escribir'. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora aseg√∫rese de que todo est√© escrito en la tarjeta con el comando</font></font><br>
<code>$ sync<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O simplemente retire la tarjeta mediante la extracci√≥n segura del dispositivo en la interfaz gr√°fica del sistema operativo. Lo obtenemos f√≠sicamente y lo ponemos en la Raspberry Pi. Luego, conecte el cable Ethernet con Internet o inserte el adaptador USB Wi-Fi, conecte el mouse y el cable HDMI al televisor. Si desea utilizar un control remoto por infrarrojos, debe conectar el receptor IR a GPIO18 y la potencia del procesador (3.3V). El diagrama de conexi√≥n final es el siguiente: </font></font><br>
<img src="https://habrastorage.org/files/6d3/6bf/259/6d36bf259da347bcb0a1e6818b949c99.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
si decide utilizar un receptor de infrarrojos, tenga cuidado con √©l </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
: aseg√∫rese de que la disposici√≥n de los pines para su receptor sea correcta. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo, ahora puedes mirar el entorno mismo. Alimentamos la placa desde la fuente de energ√≠a. Despu√©s de cargar, el asistente de configuraci√≥n inicial aparece en la pantalla:</font></font><br>
<img src="https://habrastorage.org/files/143/7e8/037/1437e803748c4fc3a275a1a5cacbc1bb.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante la configuraci√≥n, recomiendo habilitar inmediatamente el acceso SSH. </font><font style="vertical-align: inherit;">Todas las dem√°s preguntas son triviales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora puedes jugar con el entorno del futuro jugador usando el mouse y / o el teclado. </font><font style="vertical-align: inherit;">Puede intentar reproducir el video en varios formatos (puede conectar una unidad flash USB a puertos libres) y, en general, comprender qu√© es qu√©. </font><font style="vertical-align: inherit;">Hay varios casos para la placa Raspberry Pi en s√≠, tal vez alguien est√© contento con todo de una manera tan minimalista, por ejemplo, puede conectar un mouse USB inal√°mbrico y usar el dispositivo. </font><font style="vertical-align: inherit;">Seguiremos mejorando.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conecte el control remoto IR</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si decide no conectar un receptor IR, simplemente puede omitir esta secci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para usar el control remoto, necesitamos configurar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LIRC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Primero, activemos el m√≥dulo, que funciona directamente con el receptor a trav√©s del puerto GPIO. Para hacer esto, agregue una l√≠nea al archivo de configuraci√≥n DeviceTree. Iniciamos sesi√≥n a trav√©s de SSH en su dispositivo (¬øhabilit√≥ SSH durante la configuraci√≥n inicial? Si no, puede hacerlo en la interfaz gr√°fica del sistema). </font><font style="vertical-align: inherit;">
La contrase√±a predeterminada es openelec. Agregue la l√≠nea que necesitamos al archivo: </font><font style="vertical-align: inherit;">
al final agregamos la l√≠nea y luego </font><font style="vertical-align: inherit;">
volvemos a </font><font style="vertical-align: inherit;">cargar: </font><font style="vertical-align: inherit;">ahora debemos asegurarnos de que todo funcione y que el LIRC pueda recibir comandos del control remoto, para esto detenemos LIRC e intentamos obtener datos del control remoto:</font></font><br>
<code>$ ssh root@ip_address<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<code># mount -o remount,rw /flash<br>
# nano /flash/config.txt<br>
</code><br><font style="vertical-align: inherit;"></font><br>
 <code> dtoverlay=lirc-rpi<br>
</code><br><font style="vertical-align: inherit;"></font><br>
 <code> # killall lircd<br>
 # mode2 -d /dev/lirc0<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hacemos clic en cualquier bot√≥n del control remoto y brillamos en el receptor; un texto que describe los pulsos entrantes debe ejecutarse en la consola. Ahora estamos convencidos de que todo funciona y podemos entrenar a LIRC para usar su control remoto. Tenga en cuenta que lircd debe detenerse durante el proceso de configuraci√≥n, lo hicimos antes usando el comando kill. Hay una utilidad especial irrecord para la capacitaci√≥n, ejecutamos los siguientes comandos para iniciarla: </font><font style="vertical-align: inherit;">
A continuaci√≥n, siga las instrucciones en pantalla. Al principio, la utilidad le pedir√° que presione los diversos botones del control remoto hasta que se llenen los puntos en la pantalla para conocer el patr√≥n de su control remoto. Luego, deber√° indicar con texto qu√© bot√≥n desea ense√±arle a LIRC a usar, y brillar en el receptor. </font><font style="vertical-align: inherit;">
Te recomiendo que ense√±es al menos los siguientes botones: </font><font style="vertical-align: inherit;">
KEY_UP </font><font style="vertical-align: inherit;">
KEY_DOWN</font></font><br>
<code># cd /storage/.config<br>
# irrecord -d /dev/lirc0 lircd.conf<br>
</code><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_LEFT </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_RIGHT </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_OK </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_PLAY </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_EXIT </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_STOP </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_INFO </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KEY_EPG </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La lista completa de botones disponibles en el sistema se puede obtener mediante el comando: </font><font style="vertical-align: inherit;">
En el control remoto, puede elegir los botones que le resulten convenientes. La mayor√≠a de los televisores en modo HDMI, la mayor√≠a de los botones no hacen nada, lo que, por supuesto, est√° a la mano. Como resultado, deber√≠amos obtener el archivo lircd.conf con los par√°metros de su control remoto: reiniciamos la placa e intentamos usar el control remoto. </font><font style="vertical-align: inherit;">
Tambi√©n puede encender / apagar el reproductor. Para hacer esto, conecte el receptor al segundo pin del Raspberry PI GPIO1 para Raspberry PI 1 o GPIO3 para Raspberry PI 2: en ambos tableros, estos pines se encuentran en el mismo lugar en el conector del tablero:</font></font><br>
<code> # irrecord -list namespace<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br>
<img src="https://habrastorage.org/files/f81/505/c34/f81505c3453242c6afaaa75e72237b19.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al conectar este pin al suelo, puede activar la placa en estado apagado. Con esta conexi√≥n, puede programar el bot√≥n KEY_POWER, y el reproductor se apagar√° cuando haga clic en √©l, y se encender√° con cualquier se√±al de cualquier control remoto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recogemos el dispositivo m√°s en serio</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quer√≠a hacer un dispositivo m√°s completo con la apariencia del dispositivo de f√°brica y agregarle un disco duro. Mir√© en la despensa y encontr√© un viejo receptor de sat√©lite. En el interior, ya hay una fuente de alimentaci√≥n suficiente para todos los componentes de la alimentaci√≥n, hay un receptor de se√±al IR, un interruptor de apagado en la pared posterior. Tambi√©n existe la oportunidad de hacer un reloj en el panel frontal debido al indicador de siete segmentos ya instalado. Y, por supuesto, el caso en s√≠ es excelente para nuestros prop√≥sitos. El receptor de sat√©lite se puede reemplazar con un viejo reproductor de DVD o VHS incluso cuando no funciona.</font></font><br>
<i>,         ‚Äî   ,        .    /     ‚Äî     ,       220 .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abrimos la carcasa del receptor / VCR. Para empezar, debemos asegurarnos de que la fuente de alimentaci√≥n tenga una salida de 5V, que puede proporcionar la potencia necesaria. Para hacer esto, usando un mult√≠metro, verificamos la presencia de energ√≠a de 5V y luego rastreamos a trav√©s de qu√© componentes se obtienen estos 5V. Si la base del elemento del rectificador y el di√°metro del devanado del transformador de la fuente de alimentaci√≥n pueden soportar 2-3 amperios, tenemos suerte: hay una fuente, de lo contrario, tendr√° que cambiar la fuente en el caso a una m√°s potente. Luego sacamos la placa principal / unidad de cinta / unidad √≥ptica y la enviamos de vuelta a la despensa, ser√° √∫til. En el interior, dejamos solo la placa PSU y la placa con un panel frontal en el que hay un receptor IR.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora elija d√≥nde instalar Raspberry Pi. La elecci√≥n aqu√≠ es bastante simple: el lado de la placa con HDMI debe salir de la carcasa, el lado con los puertos USB debe estar montado en el interior para conectar los componentes internos, adem√°s, necesitamos al menos alg√∫n acceso a la tarjeta microSD en caso de cambiar el firmware. Hay aberturas para los conectores RCA en la carcasa del receptor, colocaremos la placa para que el conector HDMI sea lo m√°s accesible posible desde el exterior. En el mismo lado hay salidas de la tarjeta de sonido y microUSB que funcionan en modo perif√©rico. No estamos interesados ‚Äã‚Äãen estos conectores; suministraremos energ√≠a desde el exterior a trav√©s del conector GPIO principal de la placa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Marcamos d√≥nde necesita recortar un poco para que el conector HDMI se inserte libremente en la placa desde el exterior de la carcasa y describimos cuatro agujeros para instalar la placa. Us√© los siguientes bastidores:</font></font><br>
<img src="https://habrastorage.org/files/29f/6ab/6c5/29f6ab6c5f4b4e2daf092489d0ba57a7.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los bastidores de la placa base interfirieron, y los quit√© con la ayuda de unos alicates. Las manipulaciones deben llevarse a cabo con cuidado, con un movimiento inc√≥modo puede doblar f√°cilmente la caja. Perforamos, aserramos, sujetamos el estante con pernos adecuados y la tabla en s√≠. </font></font><br>
<img src="https://habrastorage.org/files/2bf/30d/ec7/2bf30dec733c4c6ca8db3c46d4beb367.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora necesita encontrar un lugar para el HDD. Aqu√≠ el requisito es bastante simple: debe dejar unos cent√≠metros libres dentro de la caja desde el lado del conector SATA, porque se insertar√° un adaptador all√≠. El disco duro tiene hilos en la superficie inferior y en los lados del HDD. Winchester necesita estar ligeramente elevado para que no descanse sobre el metal. Resolv√≠ el problema de manera muy simple: tom√© tornillos adecuados para la rosca inferior, pero un poco m√°s de lo necesario, y establec√≠ la distancia entre la caja y el HDD con tuercas m√°s grandes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora necesitamos encontrar un convertidor USB SATA o un contenedor antiguo para HDD, desde donde se pueda extraer dicho convertidor. Ten√≠a un contenedor, pero desafortunadamente no funcion√≥. Tuve que correr a la tienda por el convertidor USB SATA. Insertaremos el conector USB en el Raspberry PI, pero para no cargar la placa con las corrientes bastante graves que requiere el HDD, especialmente al girar el eje, debe conducir energ√≠a adicional directamente desde la fuente de alimentaci√≥n. En mi caso, el adaptador ten√≠a un cable con dos conectores USB, conect√© uno de ellos directamente a la unidad de fuente de alimentaci√≥n soldando el conector de respuesta USB cerca de la fuente de alimentaci√≥n.</font></font><br>
<img src="https://habrastorage.org/files/f53/06a/235/f5306a2353de423592d7e82a33878e1c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dos cosas m√°s para pensar de inmediato. El primero es d√≥nde y c√≥mo se ubicar√° el puerto USB externo. El segundo es d√≥nde colocar el adaptador Wi-Fi, o si planea implementar solo una conexi√≥n Ethernet, c√≥mo colocar un conector Ethernet en la pared de la carcasa (si coloca la placa con este conector en el borde de la carcasa, no puede conectar dispositivos USB desde el interior). Ethernet puede alargarse colocando un enchufe de pared convencional dentro de la caja y engarzando un cable corto con un conector.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora se venden dongles USB con Wi-Fi muy peque√±os, pero no es necesario ponerlos dentro de una caja de metal: la se√±al puede pasar mal. Puede tomar un cable de extensi√≥n USB corto, colocar el conector USB en la parte posterior de la caja e insertarlo all√≠. Tambi√©n hay adaptadores USB con antenas extra√≠bles, puede extender el conector RMA a la parte posterior de la carcasa y atornillar la antena all√≠. Ten√≠a un adaptador USB Wi-Fi bastante viejo y, como resultado, bastante grande con una antena envolvente y entrada miniUSB. No ten√≠a d√≥nde colocarlo debido a su tama√±o, y decid√≠ usarlo en los negocios. Retir√≥ el estuche, su forma no permit√≠a conectar la antena desde el exterior. La tarifa era bastante grande, y tuve que pensar cuidadosamente sobre su ubicaci√≥n. Afortunadamente, result√≥ ser muy delgado, y decid√≠ ponerlo sobre los conectores USB de la Raspberry Pi. El conector RMA est√° fueratorcido en una tuerca y dentro de la caja poner un estante alto para el tablero. Se mantuvo el acceso a USB y la antena se elev√≥ por encima de la carcasa. Genial</font></font><br>
<img src="https://habrastorage.org/files/c1d/ed1/7c7/c1ded17c77d24ba0b3f44aadb5e88ae9.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora necesita fijar de alguna manera el cable de extensi√≥n USB al panel frontal, asegur√°ndose de que no interfiera con nada dentro de la carcasa. En mi caso, el receptor ten√≠a una puerta para las tarjetas de acceso, y decid√≠ poner un conector detr√°s para no acumular polvo. Por lo tanto, no lo cort√© con mucho cuidado y lo llen√© con pegamento caliente en la parte posterior.</font></font><br>
<img src="https://habrastorage.org/files/800/d2b/468/800d2b46858841028fdacbd45c9eee9a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La situaci√≥n con la placa del panel frontal es m√°s interesante: hay muchas opciones en qu√© consiste. Tuve que implementar la indicaci√≥n din√°mica de los indicadores de siete segmentos utilizando DMA (el acceso directo a la memoria, la implementaci√≥n directa de la indicaci√≥n din√°mica a trav√©s de los puertos GPIO consumir√≠a demasiados recursos de la CPU y el brillo de los segmentos ser√≠a desigual debido a la actividad del sistema operativo). Pero este ya es un tema para un art√≠culo separado, y adem√°s, tales tableros pueden diferir radicalmente, por lo tanto, aqu√≠ le daremos el derecho de mostrar nuestro potencial creativo al lector. Puedes estudiar el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo fuente de la implementaci√≥n para mi placa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">En el caso m√°s simple, simplemente puede cortar las pistas que van al receptor de IR y soldar directamente con tres cables. </font><font style="vertical-align: inherit;">Solo noto que utilic√© un cable IDE para conectarme al conector GPIO de la placa, se adapta perfectamente al conector Raspberry Pi y los cables se pueden soldar f√°cilmente con otros componentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al final, obtuve ese dispositivo:</font></font><br>
<img src="https://habrastorage.org/files/1fd/936/99e/1fd93699eee74e1888e1fd8476e10135.png"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Personalizar</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si cuando enciende ve un cuadrado de color en la esquina superior derecha de la pantalla, esto significa que la potencia de la Raspberry Pi no es suficiente: una fuente de alimentaci√≥n d√©bil, cables demasiado delgados o perif√©ricos USB requieren demasiado. En el primer caso, solo reemplazar√° la PSU por una m√°s poderosa ayudar√°. En el segundo, el problema se puede resolver f√°cilmente reemplazando los cables por unos m√°s gruesos o utilizando varios n√∫cleos en paralelo, en el tercero, el problema se resuelve alimentando los dispositivos USB directamente desde la fuente de alimentaci√≥n o, por ejemplo, instalando un concentrador USB con la capacidad de conectar una fuente de alimentaci√≥n externa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Probablemente tambi√©n ver√° que su HDD est√° conectada al sistema como una unidad flash externa. Hag√°moslo el almacenamiento principal en el sistema operativo. En el primer inicio, OpenElec comienza a usar autom√°ticamente todo el espacio libre en la tarjeta microSD para la secci√≥n de datos, que luego se monta como / almacenamiento. La decisi√≥n m√°s exitosa me parece usar todo el disco duro como / almacenamiento. Para hacer esto, formatee el disco duro y cree una partici√≥n con el sistema de archivos ext3 / 4. Esto se puede hacer directamente en el reproductor usando las utilidades parted y mkfs, los comandos a continuaci√≥n borrar√°n todo el contenido del disco y crear√°n una partici√≥n ext4: </font><font style="vertical-align: inherit;">
para esto, deber√° iniciar sesi√≥n en el reproductor a trav√©s de SSH. Luego monte la nueva partici√≥n en alg√∫n lugar:</font></font><br>
<br>
<code># umount /dev/sda1<br>
 # parted /dev/sda<br>
 GNU Parted 3.2<br>
 Using /dev/sda<br>
 Welcome to GNU Parted! Type 'help' to view a list of commands.<br>
 (parted) mklabel GPT <br>
 mklabel GPT<br>
 Warning: The existing disk label on /dev/sda will be destroyed and all data on<br>
 this disk will be lost. Do you want to continue?<br>
 Yes/No? yes <br>
 yes<br>
 (parted) mkpart primary 2048s 100% <br>
 mkpart primary 2048s 100%<br>
 (parted) q <br>
 q<br>
 Information: You may need to update /etc/fstab.<br>
 # mkfs.ext4 /dev/sda1<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code># mkdir /tmp/hdd<br>
# mount /dev/sda1 /tmp/hdd<br>
</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Copie todo el contenido de / storage en una nueva partici√≥n para guardar el estado actual: </font><font style="vertical-align: inherit;">
desmonte la partici√≥n y, si lo desea, elimine la carpeta: </font><font style="vertical-align: inherit;">
ahora debe especificar qu√© unidad debemos montar en el momento del arranque. Puede hacer esto ajustando la l√≠nea de comando de los par√°metros del n√∫cleo, pero primero descubrimos el UUID de la partici√≥n de nuestro disco duro: </font><font style="vertical-align: inherit;">
copie el UUID de la partici√≥n en el portapapeles. Ahora vuelva a montar el sistema de archivos con la configuraci√≥n del kernel para escribir y corr√≠jalo: </font><font style="vertical-align: inherit;">
en el archivo, reemplace el par√°metro de disco con el UUID de nuestro disco. El contenido del archivo deber√≠a verse as√≠: </font><font style="vertical-align: inherit;">
despu√©s de reiniciar, el reproductor usar√° el disco duro como / almacenamiento, y la secci√≥n en la tarjeta de memoria se puede eliminar para que no se monte autom√°ticamente cuando se inicia:</font></font><br>
 <code># cp -rf /storage/. /tmp/hdd<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
 <code># umount /dev/sda1<br>
# rmdir /tmp/hdd<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code># blkid /dev/sda1<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code># mount -o rw,remount /flash<br>
# nano /flash/cmdline.txt<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code>boot=/dev/mmcblk0p1 disk=UUID=95013338-89b1-43af-8471-9b30efc85d98 quiet<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<code># parted -s /dev/mmcblk0 rm 2<br>
</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay un fin de semana tan divertido que tuve. </font><font style="vertical-align: inherit;">No olvide que el sistema operativo GNU / Linux est√° integrado en este reproductor multimedia, y puede modificarlo / complementarlo usted mismo como lo desee. </font><font style="vertical-align: inherit;">Tambi√©n puede resolver algunas tareas de dom√≥tica, utilizando el mismo dispositivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y finalmente, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video del discurso del</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> autor de un art√≠culo sobre el dispositivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que tengas una buena vista!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es396967/">https://habr.com/ru/post/es396967/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es396957/index.html">Compre de forma r√°pida y sencilla en los Estados Unidos con Pochtoy.com (+ regalo para lectores)</a></li>
<li><a href="../es396959/index.html">F√≠sica en el mundo animal: anguila el√©ctrica y su "central el√©ctrica"</a></li>
<li><a href="../es396961/index.html">¬øQui√©n est√° construyendo un reactor de fusi√≥n?</a></li>
<li><a href="../es396963/index.html">C√≥mo comprar un iPhone usado</a></li>
<li><a href="../es396965/index.html">Interceptar una conversaci√≥n por tel√©fono o c√≥mo hacer un control de radio simple a 39 MHz</a></li>
<li><a href="../es396969/index.html">Intel Ahora Hermano en BRAZOS</a></li>
<li><a href="../es396971/index.html">Se propone revivir una eider sin alas con la ayuda de la ingenier√≠a gen√©tica.</a></li>
<li><a href="../es396973/index.html">Los fabricantes en los Estados Unidos no tienen derecho a rechazar una garant√≠a despu√©s de quitar la etiqueta de garant√≠a. ¬øQu√© hay en Rusia?</a></li>
<li><a href="../es396975/index.html">Computadora en auto, a√±o 2016</a></li>
<li><a href="../es396977/index.html">La inteligencia artificial tiene problemas de lenguaje.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>