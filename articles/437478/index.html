<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤣 💊 👩🏿‍🤝‍👨🏾 Que debemos construir un camino. Parte 1 🤴🏿 💭 😂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El itinerario diario de la mayoría de nosotros se limita a viajar desde casa al trabajo y viceversa. Y el obstáculo más difícil que puede ralentizar n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Que debemos construir un camino. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digdes/blog/437478/"><p>  El itinerario diario de la mayoría de nosotros se limita a viajar desde casa al trabajo y viceversa.  Y el obstáculo más difícil que puede ralentizar nuestro movimiento son los atascos.  Pero en nuestro país hay una gran cantidad de lugares donde solo puedes subirte a vehículos especiales. </p><br><p>  Tal transporte es bueno si no necesita transportar grandes volúmenes de carga o viajar a áreas inaccesibles de manera regular.  Entonces ya deberíamos pensar en la construcción de infraestructura, cuyo movimiento es posible en el transporte civil habitual. </p><br><p>  Y es bueno si toda la complejidad del diseño de una ruta futura radica en encontrar una regla y un lápiz para dibujar una línea recta en el mapa que conecte un par de objetos.  Pero, por desgracia, nuestra realidad es muy diferente a esto.  ¿Qué pasa si el terreno que vuela sobre él se parece a un buen pedazo de queso suizo? <br><br><img src="https://habrastorage.org/webt/kd/8q/cl/kd8qclv05rk4drn8gq2rs7xuc1k.png"></p><br><p>  Durante más de un año, hemos estado trabajando con colegas del laboratorio de investigación de Diseño Digital para crear una herramienta que pueda construir varias redes de comunicación en modo automático.  Para más detalles, bienvenido a cat. </p><a name="habracut"></a><br><h2>  Como empezó todo </h2><br><p>  Por lo general, los viajes a lugares tan remotos se deben a ciertos beneficios financieros.  Y aunque a menudo se sabe de antemano que el desarrollo de estas áreas traerá buenas ganancias, ¿por qué no ahorrar dinero en cosas que se pueden hacer sin dificultades especiales?  ¿Qué sucede si una ruta diseñada de manera más competente nos permite no construir varios kilómetros adicionales de la carretera? </p><br><p> Pero solo la disponibilidad de carreteras para recibir ganancias significativas es claramente insuficiente.  Y básicamente solo es traído por depósitos minerales.  Por lo tanto, además de las carreteras, es necesario diseñar una red de varias tuberías, una red de tuberías de agua, una red de líneas eléctricas con subestaciones eléctricas colocadas correctamente.  Toda esta infraestructura puede designarse como objetos lineales. <br><br><img src="https://habrastorage.org/webt/pg/-y/gb/pg-ygbmuqmntphkawdvucakd01c.jpeg"></p><br><p>  Y cuando un ingeniero se enfrenta a la tarea de diseñar una red de comunicaciones en el terreno con condiciones complejas de ingeniería y geológicas, una tarea analítica increíblemente compleja recae sobre él. </p><br><p></p><blockquote>  ¿Cómo no entrar en la zona de inundación del río?  ¿Cómo minimizar el camino en los suelos de permafrost?  ¿Cómo ahorrar en la cantidad de colchón de arena al tender una carretera a través de un pantano?  ¿Dónde conseguir arena para esta almohada? </blockquote>  Esta es solo una pequeña fracción de las preguntas que se hace un ingeniero durante el trabajo y, sin embargo, aún debe tener en cuenta varios GOST y SNiP.  Y bueno, si quieres conectar solo dos objetos, y si hay un par de docenas de objetos? <br><p>  Por lo tanto, la industria del diseño necesita urgentemente una herramienta que pueda calcular tanto el costo de los objetos lineales diseñados por un ingeniero como la capacidad de construirlos en modo automático. </p><br><h2>  Datos </h2><br><p>  Lo primero que tuvimos que enfrentar cuando comenzamos la tarea fue la búsqueda de datos.  ¿Qué datos se requieren?  ¿Dónde conseguirlos?  Y si la segunda pregunta puede resolverse con la ayuda del usuario, para comprender la primera pregunta necesitamos análisis serios. </p><br><p>  Y los datos para el cálculo correcto requieren realmente mucho, comenzando por la marca más banal del área en la que se marcan los lagos y ríos, varios pantanos, así como áreas kársticas, en las que se recomienda no construir debido a la amenaza de colapso.  Por lo tanto, además de las áreas que se pueden ver desde el satélite, aquí también se requieren datos de estudios geológicos del área. <br><br><img src="https://habrastorage.org/webt/i7/oc/oo/i7ocoob7ldrjvrorsirgymhk81g.png"></p><br><p>  Pero no todos los datos están limitados a objetos naturales en nuestro país.  También hay un montón de cosas que fueron creadas por el hombre.  Por ejemplo, en el caso de la construcción de carreteras, podemos usar las carreteras que se construyeron anteriormente.  Pero en la construcción de tuberías, el uso de la infraestructura existente está lejos de ser siempre posible.  Dado que la conexión de una nueva tubería a una red existente puede no pasar el cálculo hidráulico. </p><br><p>  Además de la reutilización de lo que fue creado previamente por el hombre, también se deben tener en cuenta varias restricciones en la construcción cerca de cualquier objeto. Por ejemplo, para la construcción de líneas eléctricas, debe tener en cuenta las muescas de los lugares de habitación humana dependiendo del voltaje en la línea eléctrica misma. </p><br><p>  Pero no es del todo correcto considerar el cálculo del problema solo en un avión, ya que además del terreno plano, hay áreas con una gran diferencia de elevación, en las que tampoco se puede llevar a cabo la construcción. </p><br><p>  Obtener datos sobre el terreno es un proceso mucho más simple que los datos sobre el marcado de áreas y la infraestructura existente.  Para simplificar el desarrollo, utilizamos datos de elevación SRTM (Shuttle Radar Topography Mission) abiertos que cualquiera puede obtener. </p><br><img src="https://habrastorage.org/webt/8f/qp/ng/8fqpng4-_lhqvsw6a8w7w0hbvga.png"><br><br><p>  Entonces, tenemos los datos, sabemos dónde podemos construir, dónde no podemos construir, hay costos de construcción para diferentes áreas del terreno.  Tenemos una región, tiene un conjunto de objetos que queremos conectar a una sola red de comunicación.  En términos matemáticos, esto parecerá una búsqueda de una solución al problema de Steiner. </p><br><h2>  Un poco de matemática </h2><br><p>  <i>Se sabe que cada fórmula reduce a la mitad el número de lectores, por lo que redujimos drásticamente esta sección ...</i> </p><br><p>  Para optimizar la ruta de la instalación lineal diseñada, es necesario poder calcular su costo de construcción.  Cada objeto lineal se puede representar como una polilínea <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="noError" id="MJXp-Span-2" style="display: inline-block;">L&nbsp;=&nbsp;\&nbsp;{A_i,&nbsp;B_i&nbsp;\}&nbsp;_&nbsp;{i&nbsp;=&nbsp;0}&nbsp;^&nbsp;n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-1"> L = \ {A_i, B_i \} _ {i = 0} ^ n </script>  que consiste en segmentos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">A</span><span class="MJXp-msubsup" id="MJXp-Span-5"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6" style="margin-right: 0.05em;">B</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-7" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-2"> AB_ {i} </script>  . <br>  El costo de construcción de cada sección recta se puede representar como un valor de función <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-msubsup" id="MJXp-Span-10"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-12" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">A</span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15" style="margin-right: 0.05em;">B</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">i</span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-3"> C_ {AB_ {i}} </script>  , donde cada segmento se especifica paramétricamente: </p><p><math> </math> $$ display $$ {\ displaystyle AB_i \ colon \ left \ {{\ begin {alineado} &amp; s = s \ left (t \ right) - \ mbox {curva parametrizada}, \\ &amp; h = h \ left (s (t ) \ right) - \ mbox {función de altura de elevación}, \\ &amp; c = c \ left (s (t) \ right) - \ mbox {función del costo unitario de construcción en un punto}, \\ \ end {alineado}} \ right .} $$ display $$ </p>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-79"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">t</span><span class="MJXp-mtext" id="MJXp-Span-81">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">n</span><span class="MJXp-mtext" id="MJXp-Span-84">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">t</span><span class="MJXp-mo" id="MJXp-Span-89" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-90">0</span><span class="MJXp-mo" id="MJXp-Span-91" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-92">1</span><span class="MJXp-mtext" id="MJXp-Span-93">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">t</span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-5"> t \ in \ left [0, 1 \ right] </script>  - parametrización del segmento. <br><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-100"><span class="MJXp-msubsup" id="MJXp-Span-101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-103" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">A</span><span class="MJXp-msubsup" id="MJXp-Span-105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106" style="margin-right: 0.05em;">B</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-107" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-108" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-109">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">t</span><span class="MJXp-mtext" id="MJXp-Span-113">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">t</span><span class="MJXp-msubsup" id="MJXp-Span-119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-121" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">A</span><span class="MJXp-msubsup" id="MJXp-Span-123"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124" style="margin-right: 0.05em;">B</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-125" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">c</span><span class="MJXp-mtext" id="MJXp-Span-127">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">t</span><span class="MJXp-mo" id="MJXp-Span-132" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">s</span><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">t</span><span class="MJXp-mo" id="MJXp-Span-136" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-137">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">t</span><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-144">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">t</span><span class="MJXp-mrow" id="MJXp-Span-149"><span class="MJXp-mtext" id="MJXp-Span-150">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">t</span><span class="MJXp-mo" id="MJXp-Span-155" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-156"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-158" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">y</span></span></span><span class="MJXp-mo" id="MJXp-Span-161" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">s</span><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">t</span><span class="MJXp-mo" id="MJXp-Span-165" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-166" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-167" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-168">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">c</span><span class="MJXp-mrow" id="MJXp-Span-173"><span class="MJXp-mtext" id="MJXp-Span-174">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">h</span></span><span class="MJXp-mrow" id="MJXp-Span-183"><span class="MJXp-mtext" id="MJXp-Span-184">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">l</span><span class="MJXp-msubsup" id="MJXp-Span-192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-194" style="vertical-align: -0.4em;">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-195">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">t</span><span class="MJXp-mtext" id="MJXp-Span-200">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">c</span><span class="MJXp-mrow" id="MJXp-Span-205"><span class="MJXp-mtext" id="MJXp-Span-206">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">h</span></span><span class="MJXp-mrow" id="MJXp-Span-215"><span class="MJXp-mtext" id="MJXp-Span-216">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">l</span><span class="MJXp-msubsup" id="MJXp-Span-224"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-226" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mtext" id="MJXp-Span-227">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">t</span><span class="MJXp-mo" id="MJXp-Span-233" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mtext" id="MJXp-Span-234">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">t</span><span class="MJXp-msubsup" id="MJXp-Span-238"><span class="MJXp-mrow" id="MJXp-Span-239" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">s</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-241" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-243">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">t</span><span class="MJXp-msubsup" id="MJXp-Span-247"><span class="MJXp-mrow" id="MJXp-Span-248" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">s</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-250" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">y</span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-6"> C_ {AB_i} = \ int \ limits_ {AB_i} c \ left (s (t) \ right) \ sqrt {\ left [g_ {xy} (s (t)) + \ frac {\ partial h} {\ parcial s_x} \ cdot \ frac {\ partial h} {\ partial s_y} \ right] \ dot {s} _ {x} \ dot {s} _ {y}} dt </script>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">g</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> g </script>  - el tensor métrico de la superficie de la Tierra sin tener en cuenta el relieve, es decir, en palabras simples, la función de medir la distancia en la superficie de la Tierra. </p><br><p>  Debido al hecho de que nuestro planeta tiene la forma de un geoide, es necesario usar fórmulas especiales para medir distancias.  Para esto usamos la fórmula de Haversinus.  En él, la forma del planeta parece una esfera, pero esto es suficiente para nuestros propósitos, ya que el error de medición es de aproximadamente <i>0.3%</i> , y la velocidad de cálculo de distancias por este método sigue siendo alta. </p><br><h2>  Enfoques para encontrar la mejor manera </h2><br><img src="https://habrastorage.org/webt/hm/ie/wb/hmiewbsiqgbvd0owqf-vbqar8pk.png" width="450"><br><br><p>  Pero antes de pasar a unirte a un grupo de objetos, debes aprender a encontrar el camino óptimo entre los dos.  Dos formas de hacer esto vienen a la mente de inmediato: <br><br></p><ol><li>  construya un gráfico y luego aplique los métodos de búsqueda de ruta más cortos; </li><li>  use una solución basada en métodos de optimización. </li></ol><br><p>  Al implementar el primer método, tenemos un problema asociado con el método de construir un gráfico para obtener la mayor precisión posible de la solución.  Es necesario encontrar un equilibrio entre la cantidad de vértices y aristas en el gráfico, la calidad de la solución y el tiempo necesario para calcularla. </p><br><img src="https://habrastorage.org/webt/qx/6n/xq/qx6nxqqy6to2huichszqjldt3wu.png" width="300"><br><p>  En el segundo caso, el principal problema son los mínimos locales.  Es fácil elegir un caso en el que la solución no converja o esté lejos de ser óptima.  Dado que la solución obtenida por este método depende increíblemente de la aproximación inicial.  Si tenemos una buena aproximación inicial, el resultado será de alta calidad. </p><br><img src="https://habrastorage.org/webt/lt/qp/sf/ltqpsfsvq5jtf9sqrkdi-y8ly5k.png" width="325"><br><p>  Entonces, tenemos dos enfoques para resolver este problema.  El primero tiene una calidad bastante baja, pero no hay problema de mínimos locales.  El segundo tiene un problema de mínimos locales, pero una solución de alta calidad.  Y si combina correctamente estos dos enfoques, las deficiencias de cada uno desaparecerán.  Tomamos la solución obtenida en el gráfico como una aproximación inicial y luego le aplicamos métodos de optimización. </p><br><p>  En esta parte del artículo, consideraremos exactamente la solución propuesta para este problema en el gráfico. </p><br><h2>  Selección de herramienta </h2><br><p>  Se ha delineado un plan de acción, solo queda "codificarlo".  Como en la etapa inicial de redacción de la solicitud teníamos poco conocimiento sobre el área temática, necesitábamos un lenguaje flexible para que, en caso de algunos errores de cálculo arquitectónicos, reescribiéramos el código completo para un par de <s>latas de cerveza de la</s> tarde.  Opcionalmente, también quería bibliotecas para todas las ocasiones, a fin de no recurrir a la invención de las bicicletas.  Por lo tanto, Python fue elegido como el lenguaje de programación principal. </p><br><p>  En la aplicación, utilizamos una impresionante pila tecnológica, que no se limita a lo siguiente: <br><br></p><ul><li>  <i>bien proporcionado</i> para trabajar con datos geométricos como polígonos y polilíneas; </li><li>  <i>geopandas</i> para trabajo conveniente con <i>bien proporcionado</i> ; </li><li>  <i>scipy</i> para almacenar el gráfico calculado y encontrar el camino más corto en él, así como encontrar los árboles de expansión mínima; </li><li>  <i>PyTorch</i> para trabajar con la función de costo; </li><li>  <i>Almohada</i> para trabajar con imágenes. </li></ul><br><h2>  Implementación </h2><br><p>  El módulo se puede dividir en varias etapas: <br><br></p><ul><li>  generación de función de costo; </li><li>  generación de cuadrícula computacional; </li><li>  construir un gráfico basado en una cuadrícula; </li><li>  ponderación de grafos; </li><li>  cálculo de los caminos más cortos en un gráfico. </li></ul><br><p>  Dado que los bordes del gráfico son segmentos, podemos ponderar estos bordes calculando el valor de una determinada integral, que se presenta arriba.  Pero hay muchos bordes en el gráfico y, en consecuencia, los valores de los costos y las alturas deberán obtenerse para una gran cantidad de puntos, lo que puede llevar mucho tiempo. </p><br><p>  Inicialmente, la idea era encontrar el costo unitario de construcción determinando si un punto pertenece a un polígono.  Pero esta idea se observó debido a la alta complejidad algorítmica de este enfoque, ya que puede haber muchos polígonos, y cada uno de ellos tiene una gran cantidad de vértices. </p><br><p>  Por lo tanto, para resolver este problema, podemos representar todos los polígonos que tenemos en forma de imagen, que en forma matemática es una matriz.  Por lo tanto, podemos obtener el costo unitario de construcción en un punto más allá de <b>O (1)</b> y, por lo tanto, podemos obtener el costo de construir una costilla en particular con alta precisión. </p><br><p>  Ahora estamos listos para construir un gráfico, pero no hay una forma única y correcta de construirlo para obtener soluciones de alta precisión.  Para construir un gráfico, es necesario generar una cuadrícula computacional, es decir, un conjunto de puntos en la región en consideración, conectados en el orden correspondiente por segmentos que forman las caras de las celdas.  Las cuadrículas se pueden dividir en dos tipos: uniformes y desiguales. </p><br><img src="https://habrastorage.org/webt/mb/ao/_e/mbao_ewczdah5kn0zusjjef1mng.png" width="250"><img src="https://habrastorage.org/webt/0r/g2/5x/0rg25xauhijkbezqogs4bhypy48.png" width="250"><br><p>  El modelo de cuadrícula uniforme describe las coordenadas de puntos individuales, de modo que la distancia entre los nodos de la cuadrícula es la misma.  Una cuadrícula desigual aparece como un conjunto <s>aleatorio</s> de puntos individuales. </p><br><p>  El uso de una cuadrícula uniforme no siempre dará un resultado de alta calidad para encontrar el camino más corto, por lo tanto, es necesario probar este enfoque en una cuadrícula desigual.  La más versátil es la malla triangular. </p><br><p>  La cuadrícula se generó introduciendo ruido con cierto coeficiente en una cuadrícula rectangular uniforme y luego aplicando puntos de triangulación de Delaunay para este conjunto de puntos. <br><br><img src="https://habrastorage.org/webt/dw/ap/ei/dwapeih8ddznaauhuvzlcjov7qe.png"></p><br><p>  La eficacia de las cuadrículas construidas se probó en varios mapas modelo del área, que tuvieron en cuenta los diferentes costos de las regiones y el alivio, y luego se realizó una comparación con la solución obtenida analíticamente.  Al buscar la longitud del borde del gráfico y el coeficiente de introducción de ruido en la cuadrícula uniforme, se encontraron parámetros óptimos para construir la ruta óptima entre dos puntos. </p><br><h2>  Problemas mayores </h2><br><p>  Al principio todo salió bien, el algoritmo calculó las redes óptimas, pero una vez que hubo un problema con la calidad de la ruta construida.  El caso era bastante simple: había que conectar dos objetos en un mapa bastante largo.  El algoritmo no quería construir una ruta que obviamente fuera correcta. <br><br><img src="https://habrastorage.org/webt/kp/0y/dm/kp0ydmvz8yvor5pwpo8fhjuj8ho.png" width="500"><br></p><p>  El problema, como siempre, fue con la cuadrícula computacional.  Continuamos nuestros experimentos con la apariencia de las cuadrículas y llegamos a la conclusión de que conectar los vértices a un gráfico, donde cada vértice está conectado a los <b>n</b> vecinos más cercanos, es la solución a nuestros problemas. </p><br><h2>  Redes </h2><br><p>  Después de que aprendimos cómo encontrar caminos óptimos entre dos puntos, el siguiente paso fue resolver el problema de construir una red óptima de objetos lineales.  Los algoritmos encontrados en la literatura para construir árboles de Steiner en gráficos están orientados a problemas más generales y, por lo tanto, serán ineficaces en nuestro caso.  Nuestro gráfico es muy escaso, con un pequeño número de vértices terminales, en relación con el número total de vértices en el gráfico, y nuestra tarea también se aplica.  Por lo tanto, por varias otras razones, se decidió desarrollar nuestro propio algoritmo que utiliza una cierta heurística para construir de manera efectiva una red óptima. </p><br><p>  La descripción del algoritmo para construir la red óptima en el gráfico para nuestro caso es un tema para una publicación separada, no lo consideraremos aquí.  Dado que al calcular una tarea real, es necesario tener en cuenta muchas condiciones adicionales de la industria de la construcción que son relevantes para el usuario final, que imponen ciertas restricciones en el algoritmo utilizado. </p><br><h2>  Caso real </h2><br><p>  Entonces, ahora pasamos a los resultados del algoritmo.  Nuestra tarea es conectar un conjunto dado de objetos con una red de comunicación.  La comparación de los resultados del algoritmo ocurrió con una red de carreteras previamente construida.  La longitud total de la red existente es 153.5 km versus 122.6 km para la calculada.  Esto proporciona una reducción de aproximadamente un 25% en la longitud de la red de carreteras, lo que finalmente ahorrará entre un 5 y un 15% en los costos de construcción de capital. </p><br><img src="https://habrastorage.org/webt/ut/zu/xc/utzuxclddgftean_gzytgvdhcx4.png"><br><img src="https://habrastorage.org/webt/zn/qw/yh/znqwyh8vnz9yxdbnm8zpxbsv46e.png" width="500"><br><br>  Puede ver más de cerca los resultados de cálculo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> . <br><br><p>  Una descripción de los métodos de optimización utilizados estará en la siguiente parte del artículo. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/437478/">https://habr.com/ru/post/437478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../437468/index.html">Retropie Dreamcast</a></li>
<li><a href="../437470/index.html">Algunas palabras simples sobre defensa antimisiles</a></li>
<li><a href="../437472/index.html">Transición de la oficina a udalenka: compartir experiencias y trucos para la vida</a></li>
<li><a href="../437474/index.html">Optimice el rendimiento del juego con las opciones de importación de sonido de Unity</a></li>
<li><a href="../437476/index.html">Ok Yandex! ¿Dónde están nuestros objetivos de alcance?</a></li>
<li><a href="../437480/index.html">4 novelas visuales para aprender inglés</a></li>
<li><a href="../437482/index.html">Pregúntele a Ethan: si la luz se contrae y se expande con el espacio, ¿cómo podemos detectar ondas gravitacionales?</a></li>
<li><a href="../437484/index.html">Cómo realicé con éxito seis entrevistas en Silicon Valley</a></li>
<li><a href="../437486/index.html">AlphaStar: un nuevo sistema de inteligencia artificial para StarCraft II de DeepMind (traducción completa)</a></li>
<li><a href="../437488/index.html">Cloud Key: Cómo construir sus aplicaciones nativas de la nube</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>