<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§£ üíä üë©üèø‚Äçü§ù‚Äçüë®üèæ Que debemos construir un camino. Parte 1 ü§¥üèø üí≠ üòÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El itinerario diario de la mayor√≠a de nosotros se limita a viajar desde casa al trabajo y viceversa. Y el obst√°culo m√°s dif√≠cil que puede ralentizar n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Que debemos construir un camino. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digdes/blog/437478/"><p>  El itinerario diario de la mayor√≠a de nosotros se limita a viajar desde casa al trabajo y viceversa.  Y el obst√°culo m√°s dif√≠cil que puede ralentizar nuestro movimiento son los atascos.  Pero en nuestro pa√≠s hay una gran cantidad de lugares donde solo puedes subirte a veh√≠culos especiales. </p><br><p>  Tal transporte es bueno si no necesita transportar grandes vol√∫menes de carga o viajar a √°reas inaccesibles de manera regular.  Entonces ya deber√≠amos pensar en la construcci√≥n de infraestructura, cuyo movimiento es posible en el transporte civil habitual. </p><br><p>  Y es bueno si toda la complejidad del dise√±o de una ruta futura radica en encontrar una regla y un l√°piz para dibujar una l√≠nea recta en el mapa que conecte un par de objetos.  Pero, por desgracia, nuestra realidad es muy diferente a esto.  ¬øQu√© pasa si el terreno que vuela sobre √©l se parece a un buen pedazo de queso suizo? <br><br><img src="https://habrastorage.org/webt/kd/8q/cl/kd8qclv05rk4drn8gq2rs7xuc1k.png"></p><br><p>  Durante m√°s de un a√±o, hemos estado trabajando con colegas del laboratorio de investigaci√≥n de Dise√±o Digital para crear una herramienta que pueda construir varias redes de comunicaci√≥n en modo autom√°tico.  Para m√°s detalles, bienvenido a cat. </p><a name="habracut"></a><br><h2>  Como empez√≥ todo </h2><br><p>  Por lo general, los viajes a lugares tan remotos se deben a ciertos beneficios financieros.  Y aunque a menudo se sabe de antemano que el desarrollo de estas √°reas traer√° buenas ganancias, ¬øpor qu√© no ahorrar dinero en cosas que se pueden hacer sin dificultades especiales?  ¬øQu√© sucede si una ruta dise√±ada de manera m√°s competente nos permite no construir varios kil√≥metros adicionales de la carretera? </p><br><p> Pero solo la disponibilidad de carreteras para recibir ganancias significativas es claramente insuficiente.  Y b√°sicamente solo es tra√≠do por dep√≥sitos minerales.  Por lo tanto, adem√°s de las carreteras, es necesario dise√±ar una red de varias tuber√≠as, una red de tuber√≠as de agua, una red de l√≠neas el√©ctricas con subestaciones el√©ctricas colocadas correctamente.  Toda esta infraestructura puede designarse como objetos lineales. <br><br><img src="https://habrastorage.org/webt/pg/-y/gb/pg-ygbmuqmntphkawdvucakd01c.jpeg"></p><br><p>  Y cuando un ingeniero se enfrenta a la tarea de dise√±ar una red de comunicaciones en el terreno con condiciones complejas de ingenier√≠a y geol√≥gicas, una tarea anal√≠tica incre√≠blemente compleja recae sobre √©l. </p><br><p></p><blockquote>  ¬øC√≥mo no entrar en la zona de inundaci√≥n del r√≠o?  ¬øC√≥mo minimizar el camino en los suelos de permafrost?  ¬øC√≥mo ahorrar en la cantidad de colch√≥n de arena al tender una carretera a trav√©s de un pantano?  ¬øD√≥nde conseguir arena para esta almohada? </blockquote>  Esta es solo una peque√±a fracci√≥n de las preguntas que se hace un ingeniero durante el trabajo y, sin embargo, a√∫n debe tener en cuenta varios GOST y SNiP.  Y bueno, si quieres conectar solo dos objetos, y si hay un par de docenas de objetos? <br><p>  Por lo tanto, la industria del dise√±o necesita urgentemente una herramienta que pueda calcular tanto el costo de los objetos lineales dise√±ados por un ingeniero como la capacidad de construirlos en modo autom√°tico. </p><br><h2>  Datos </h2><br><p>  Lo primero que tuvimos que enfrentar cuando comenzamos la tarea fue la b√∫squeda de datos.  ¬øQu√© datos se requieren?  ¬øD√≥nde conseguirlos?  Y si la segunda pregunta puede resolverse con la ayuda del usuario, para comprender la primera pregunta necesitamos an√°lisis serios. </p><br><p>  Y los datos para el c√°lculo correcto requieren realmente mucho, comenzando por la marca m√°s banal del √°rea en la que se marcan los lagos y r√≠os, varios pantanos, as√≠ como √°reas k√°rsticas, en las que se recomienda no construir debido a la amenaza de colapso.  Por lo tanto, adem√°s de las √°reas que se pueden ver desde el sat√©lite, aqu√≠ tambi√©n se requieren datos de estudios geol√≥gicos del √°rea. <br><br><img src="https://habrastorage.org/webt/i7/oc/oo/i7ocoob7ldrjvrorsirgymhk81g.png"></p><br><p>  Pero no todos los datos est√°n limitados a objetos naturales en nuestro pa√≠s.  Tambi√©n hay un mont√≥n de cosas que fueron creadas por el hombre.  Por ejemplo, en el caso de la construcci√≥n de carreteras, podemos usar las carreteras que se construyeron anteriormente.  Pero en la construcci√≥n de tuber√≠as, el uso de la infraestructura existente est√° lejos de ser siempre posible.  Dado que la conexi√≥n de una nueva tuber√≠a a una red existente puede no pasar el c√°lculo hidr√°ulico. </p><br><p>  Adem√°s de la reutilizaci√≥n de lo que fue creado previamente por el hombre, tambi√©n se deben tener en cuenta varias restricciones en la construcci√≥n cerca de cualquier objeto. Por ejemplo, para la construcci√≥n de l√≠neas el√©ctricas, debe tener en cuenta las muescas de los lugares de habitaci√≥n humana dependiendo del voltaje en la l√≠nea el√©ctrica misma. </p><br><p>  Pero no es del todo correcto considerar el c√°lculo del problema solo en un avi√≥n, ya que adem√°s del terreno plano, hay √°reas con una gran diferencia de elevaci√≥n, en las que tampoco se puede llevar a cabo la construcci√≥n. </p><br><p>  Obtener datos sobre el terreno es un proceso mucho m√°s simple que los datos sobre el marcado de √°reas y la infraestructura existente.  Para simplificar el desarrollo, utilizamos datos de elevaci√≥n SRTM (Shuttle Radar Topography Mission) abiertos que cualquiera puede obtener. </p><br><img src="https://habrastorage.org/webt/8f/qp/ng/8fqpng4-_lhqvsw6a8w7w0hbvga.png"><br><br><p>  Entonces, tenemos los datos, sabemos d√≥nde podemos construir, d√≥nde no podemos construir, hay costos de construcci√≥n para diferentes √°reas del terreno.  Tenemos una regi√≥n, tiene un conjunto de objetos que queremos conectar a una sola red de comunicaci√≥n.  En t√©rminos matem√°ticos, esto parecer√° una b√∫squeda de una soluci√≥n al problema de Steiner. </p><br><h2>  Un poco de matem√°tica </h2><br><p>  <i>Se sabe que cada f√≥rmula reduce a la mitad el n√∫mero de lectores, por lo que redujimos dr√°sticamente esta secci√≥n ...</i> </p><br><p>  Para optimizar la ruta de la instalaci√≥n lineal dise√±ada, es necesario poder calcular su costo de construcci√≥n.  Cada objeto lineal se puede representar como una polil√≠nea <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="noError" id="MJXp-Span-2" style="display: inline-block;">L&nbsp;=&nbsp;\&nbsp;{A_i,&nbsp;B_i&nbsp;\}&nbsp;_&nbsp;{i&nbsp;=&nbsp;0}&nbsp;^&nbsp;n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-1"> L = \ {A_i, B_i \} _ {i = 0} ^ n </script>  que consiste en segmentos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">A</span><span class="MJXp-msubsup" id="MJXp-Span-5"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6" style="margin-right: 0.05em;">B</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-7" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-2"> AB_ {i} </script>  . <br>  El costo de construcci√≥n de cada secci√≥n recta se puede representar como un valor de funci√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-msubsup" id="MJXp-Span-10"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-12" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">A</span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15" style="margin-right: 0.05em;">B</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">i</span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-3"> C_ {AB_ {i}} </script>  , donde cada segmento se especifica param√©tricamente: </p><p><math> </math> $$ display $$ {\ displaystyle AB_i \ colon \ left \ {{\ begin {alineado} &amp; s = s \ left (t \ right) - \ mbox {curva parametrizada}, \\ &amp; h = h \ left (s (t ) \ right) - \ mbox {funci√≥n de altura de elevaci√≥n}, \\ &amp; c = c \ left (s (t) \ right) - \ mbox {funci√≥n del costo unitario de construcci√≥n en un punto}, \\ \ end {alineado}} \ right .} $$ display $$ </p>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-79"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">t</span><span class="MJXp-mtext" id="MJXp-Span-81">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">n</span><span class="MJXp-mtext" id="MJXp-Span-84">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">t</span><span class="MJXp-mo" id="MJXp-Span-89" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-90">0</span><span class="MJXp-mo" id="MJXp-Span-91" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-92">1</span><span class="MJXp-mtext" id="MJXp-Span-93">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">t</span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-5"> t \ in \ left [0, 1 \ right] </script>  - parametrizaci√≥n del segmento. <br><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-100"><span class="MJXp-msubsup" id="MJXp-Span-101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-103" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">A</span><span class="MJXp-msubsup" id="MJXp-Span-105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106" style="margin-right: 0.05em;">B</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-107" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-108" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-109">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">t</span><span class="MJXp-mtext" id="MJXp-Span-113">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">t</span><span class="MJXp-msubsup" id="MJXp-Span-119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-121" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">A</span><span class="MJXp-msubsup" id="MJXp-Span-123"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124" style="margin-right: 0.05em;">B</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-125" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">c</span><span class="MJXp-mtext" id="MJXp-Span-127">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">t</span><span class="MJXp-mo" id="MJXp-Span-132" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">s</span><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">t</span><span class="MJXp-mo" id="MJXp-Span-136" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-137">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">t</span><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-144">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">t</span><span class="MJXp-mrow" id="MJXp-Span-149"><span class="MJXp-mtext" id="MJXp-Span-150">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">t</span><span class="MJXp-mo" id="MJXp-Span-155" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-156"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-158" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">y</span></span></span><span class="MJXp-mo" id="MJXp-Span-161" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">s</span><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">t</span><span class="MJXp-mo" id="MJXp-Span-165" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-166" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-167" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-168">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">c</span><span class="MJXp-mrow" id="MJXp-Span-173"><span class="MJXp-mtext" id="MJXp-Span-174">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">h</span></span><span class="MJXp-mrow" id="MJXp-Span-183"><span class="MJXp-mtext" id="MJXp-Span-184">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">l</span><span class="MJXp-msubsup" id="MJXp-Span-192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-194" style="vertical-align: -0.4em;">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-195">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">t</span><span class="MJXp-mtext" id="MJXp-Span-200">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">c</span><span class="MJXp-mrow" id="MJXp-Span-205"><span class="MJXp-mtext" id="MJXp-Span-206">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">h</span></span><span class="MJXp-mrow" id="MJXp-Span-215"><span class="MJXp-mtext" id="MJXp-Span-216">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">l</span><span class="MJXp-msubsup" id="MJXp-Span-224"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-226" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mtext" id="MJXp-Span-227">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">t</span><span class="MJXp-mo" id="MJXp-Span-233" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mtext" id="MJXp-Span-234">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">t</span><span class="MJXp-msubsup" id="MJXp-Span-238"><span class="MJXp-mrow" id="MJXp-Span-239" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">s</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-241" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-243">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">t</span><span class="MJXp-msubsup" id="MJXp-Span-247"><span class="MJXp-mrow" id="MJXp-Span-248" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">s</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-250" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">y</span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-6"> C_ {AB_i} = \ int \ limits_ {AB_i} c \ left (s (t) \ right) \ sqrt {\ left [g_ {xy} (s (t)) + \ frac {\ partial h} {\ parcial s_x} \ cdot \ frac {\ partial h} {\ partial s_y} \ right] \ dot {s} _ {x} \ dot {s} _ {y}} dt </script>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">g</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> g </script>  - el tensor m√©trico de la superficie de la Tierra sin tener en cuenta el relieve, es decir, en palabras simples, la funci√≥n de medir la distancia en la superficie de la Tierra. </p><br><p>  Debido al hecho de que nuestro planeta tiene la forma de un geoide, es necesario usar f√≥rmulas especiales para medir distancias.  Para esto usamos la f√≥rmula de Haversinus.  En √©l, la forma del planeta parece una esfera, pero esto es suficiente para nuestros prop√≥sitos, ya que el error de medici√≥n es de aproximadamente <i>0.3%</i> , y la velocidad de c√°lculo de distancias por este m√©todo sigue siendo alta. </p><br><h2>  Enfoques para encontrar la mejor manera </h2><br><img src="https://habrastorage.org/webt/hm/ie/wb/hmiewbsiqgbvd0owqf-vbqar8pk.png" width="450"><br><br><p>  Pero antes de pasar a unirte a un grupo de objetos, debes aprender a encontrar el camino √≥ptimo entre los dos.  Dos formas de hacer esto vienen a la mente de inmediato: <br><br></p><ol><li>  construya un gr√°fico y luego aplique los m√©todos de b√∫squeda de ruta m√°s cortos; </li><li>  use una soluci√≥n basada en m√©todos de optimizaci√≥n. </li></ol><br><p>  Al implementar el primer m√©todo, tenemos un problema asociado con el m√©todo de construir un gr√°fico para obtener la mayor precisi√≥n posible de la soluci√≥n.  Es necesario encontrar un equilibrio entre la cantidad de v√©rtices y aristas en el gr√°fico, la calidad de la soluci√≥n y el tiempo necesario para calcularla. </p><br><img src="https://habrastorage.org/webt/qx/6n/xq/qx6nxqqy6to2huichszqjldt3wu.png" width="300"><br><p>  En el segundo caso, el principal problema son los m√≠nimos locales.  Es f√°cil elegir un caso en el que la soluci√≥n no converja o est√© lejos de ser √≥ptima.  Dado que la soluci√≥n obtenida por este m√©todo depende incre√≠blemente de la aproximaci√≥n inicial.  Si tenemos una buena aproximaci√≥n inicial, el resultado ser√° de alta calidad. </p><br><img src="https://habrastorage.org/webt/lt/qp/sf/ltqpsfsvq5jtf9sqrkdi-y8ly5k.png" width="325"><br><p>  Entonces, tenemos dos enfoques para resolver este problema.  El primero tiene una calidad bastante baja, pero no hay problema de m√≠nimos locales.  El segundo tiene un problema de m√≠nimos locales, pero una soluci√≥n de alta calidad.  Y si combina correctamente estos dos enfoques, las deficiencias de cada uno desaparecer√°n.  Tomamos la soluci√≥n obtenida en el gr√°fico como una aproximaci√≥n inicial y luego le aplicamos m√©todos de optimizaci√≥n. </p><br><p>  En esta parte del art√≠culo, consideraremos exactamente la soluci√≥n propuesta para este problema en el gr√°fico. </p><br><h2>  Selecci√≥n de herramienta </h2><br><p>  Se ha delineado un plan de acci√≥n, solo queda "codificarlo".  Como en la etapa inicial de redacci√≥n de la solicitud ten√≠amos poco conocimiento sobre el √°rea tem√°tica, necesit√°bamos un lenguaje flexible para que, en caso de algunos errores de c√°lculo arquitect√≥nicos, reescribi√©ramos el c√≥digo completo para un par de <s>latas de cerveza de la</s> tarde.  Opcionalmente, tambi√©n quer√≠a bibliotecas para todas las ocasiones, a fin de no recurrir a la invenci√≥n de las bicicletas.  Por lo tanto, Python fue elegido como el lenguaje de programaci√≥n principal. </p><br><p>  En la aplicaci√≥n, utilizamos una impresionante pila tecnol√≥gica, que no se limita a lo siguiente: <br><br></p><ul><li>  <i>bien proporcionado</i> para trabajar con datos geom√©tricos como pol√≠gonos y polil√≠neas; </li><li>  <i>geopandas</i> para trabajo conveniente con <i>bien proporcionado</i> ; </li><li>  <i>scipy</i> para almacenar el gr√°fico calculado y encontrar el camino m√°s corto en √©l, as√≠ como encontrar los √°rboles de expansi√≥n m√≠nima; </li><li>  <i>PyTorch</i> para trabajar con la funci√≥n de costo; </li><li>  <i>Almohada</i> para trabajar con im√°genes. </li></ul><br><h2>  Implementaci√≥n </h2><br><p>  El m√≥dulo se puede dividir en varias etapas: <br><br></p><ul><li>  generaci√≥n de funci√≥n de costo; </li><li>  generaci√≥n de cuadr√≠cula computacional; </li><li>  construir un gr√°fico basado en una cuadr√≠cula; </li><li>  ponderaci√≥n de grafos; </li><li>  c√°lculo de los caminos m√°s cortos en un gr√°fico. </li></ul><br><p>  Dado que los bordes del gr√°fico son segmentos, podemos ponderar estos bordes calculando el valor de una determinada integral, que se presenta arriba.  Pero hay muchos bordes en el gr√°fico y, en consecuencia, los valores de los costos y las alturas deber√°n obtenerse para una gran cantidad de puntos, lo que puede llevar mucho tiempo. </p><br><p>  Inicialmente, la idea era encontrar el costo unitario de construcci√≥n determinando si un punto pertenece a un pol√≠gono.  Pero esta idea se observ√≥ debido a la alta complejidad algor√≠tmica de este enfoque, ya que puede haber muchos pol√≠gonos, y cada uno de ellos tiene una gran cantidad de v√©rtices. </p><br><p>  Por lo tanto, para resolver este problema, podemos representar todos los pol√≠gonos que tenemos en forma de imagen, que en forma matem√°tica es una matriz.  Por lo tanto, podemos obtener el costo unitario de construcci√≥n en un punto m√°s all√° de <b>O (1)</b> y, por lo tanto, podemos obtener el costo de construir una costilla en particular con alta precisi√≥n. </p><br><p>  Ahora estamos listos para construir un gr√°fico, pero no hay una forma √∫nica y correcta de construirlo para obtener soluciones de alta precisi√≥n.  Para construir un gr√°fico, es necesario generar una cuadr√≠cula computacional, es decir, un conjunto de puntos en la regi√≥n en consideraci√≥n, conectados en el orden correspondiente por segmentos que forman las caras de las celdas.  Las cuadr√≠culas se pueden dividir en dos tipos: uniformes y desiguales. </p><br><img src="https://habrastorage.org/webt/mb/ao/_e/mbao_ewczdah5kn0zusjjef1mng.png" width="250"><img src="https://habrastorage.org/webt/0r/g2/5x/0rg25xauhijkbezqogs4bhypy48.png" width="250"><br><p>  El modelo de cuadr√≠cula uniforme describe las coordenadas de puntos individuales, de modo que la distancia entre los nodos de la cuadr√≠cula es la misma.  Una cuadr√≠cula desigual aparece como un conjunto <s>aleatorio</s> de puntos individuales. </p><br><p>  El uso de una cuadr√≠cula uniforme no siempre dar√° un resultado de alta calidad para encontrar el camino m√°s corto, por lo tanto, es necesario probar este enfoque en una cuadr√≠cula desigual.  La m√°s vers√°til es la malla triangular. </p><br><p>  La cuadr√≠cula se gener√≥ introduciendo ruido con cierto coeficiente en una cuadr√≠cula rectangular uniforme y luego aplicando puntos de triangulaci√≥n de Delaunay para este conjunto de puntos. <br><br><img src="https://habrastorage.org/webt/dw/ap/ei/dwapeih8ddznaauhuvzlcjov7qe.png"></p><br><p>  La eficacia de las cuadr√≠culas construidas se prob√≥ en varios mapas modelo del √°rea, que tuvieron en cuenta los diferentes costos de las regiones y el alivio, y luego se realiz√≥ una comparaci√≥n con la soluci√≥n obtenida anal√≠ticamente.  Al buscar la longitud del borde del gr√°fico y el coeficiente de introducci√≥n de ruido en la cuadr√≠cula uniforme, se encontraron par√°metros √≥ptimos para construir la ruta √≥ptima entre dos puntos. </p><br><h2>  Problemas mayores </h2><br><p>  Al principio todo sali√≥ bien, el algoritmo calcul√≥ las redes √≥ptimas, pero una vez que hubo un problema con la calidad de la ruta construida.  El caso era bastante simple: hab√≠a que conectar dos objetos en un mapa bastante largo.  El algoritmo no quer√≠a construir una ruta que obviamente fuera correcta. <br><br><img src="https://habrastorage.org/webt/kp/0y/dm/kp0ydmvz8yvor5pwpo8fhjuj8ho.png" width="500"><br></p><p>  El problema, como siempre, fue con la cuadr√≠cula computacional.  Continuamos nuestros experimentos con la apariencia de las cuadr√≠culas y llegamos a la conclusi√≥n de que conectar los v√©rtices a un gr√°fico, donde cada v√©rtice est√° conectado a los <b>n</b> vecinos m√°s cercanos, es la soluci√≥n a nuestros problemas. </p><br><h2>  Redes </h2><br><p>  Despu√©s de que aprendimos c√≥mo encontrar caminos √≥ptimos entre dos puntos, el siguiente paso fue resolver el problema de construir una red √≥ptima de objetos lineales.  Los algoritmos encontrados en la literatura para construir √°rboles de Steiner en gr√°ficos est√°n orientados a problemas m√°s generales y, por lo tanto, ser√°n ineficaces en nuestro caso.  Nuestro gr√°fico es muy escaso, con un peque√±o n√∫mero de v√©rtices terminales, en relaci√≥n con el n√∫mero total de v√©rtices en el gr√°fico, y nuestra tarea tambi√©n se aplica.  Por lo tanto, por varias otras razones, se decidi√≥ desarrollar nuestro propio algoritmo que utiliza una cierta heur√≠stica para construir de manera efectiva una red √≥ptima. </p><br><p>  La descripci√≥n del algoritmo para construir la red √≥ptima en el gr√°fico para nuestro caso es un tema para una publicaci√≥n separada, no lo consideraremos aqu√≠.  Dado que al calcular una tarea real, es necesario tener en cuenta muchas condiciones adicionales de la industria de la construcci√≥n que son relevantes para el usuario final, que imponen ciertas restricciones en el algoritmo utilizado. </p><br><h2>  Caso real </h2><br><p>  Entonces, ahora pasamos a los resultados del algoritmo.  Nuestra tarea es conectar un conjunto dado de objetos con una red de comunicaci√≥n.  La comparaci√≥n de los resultados del algoritmo ocurri√≥ con una red de carreteras previamente construida.  La longitud total de la red existente es 153.5 km versus 122.6 km para la calculada.  Esto proporciona una reducci√≥n de aproximadamente un 25% en la longitud de la red de carreteras, lo que finalmente ahorrar√° entre un 5 y un 15% en los costos de construcci√≥n de capital. </p><br><img src="https://habrastorage.org/webt/ut/zu/xc/utzuxclddgftean_gzytgvdhcx4.png"><br><img src="https://habrastorage.org/webt/zn/qw/yh/znqwyh8vnz9yxdbnm8zpxbsv46e.png" width="500"><br><br>  Puede ver m√°s de cerca los resultados de c√°lculo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><p>  Una descripci√≥n de los m√©todos de optimizaci√≥n utilizados estar√° en la siguiente parte del art√≠culo. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/437478/">https://habr.com/ru/post/437478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../437468/index.html">Retropie Dreamcast</a></li>
<li><a href="../437470/index.html">Algunas palabras simples sobre defensa antimisiles</a></li>
<li><a href="../437472/index.html">Transici√≥n de la oficina a udalenka: compartir experiencias y trucos para la vida</a></li>
<li><a href="../437474/index.html">Optimice el rendimiento del juego con las opciones de importaci√≥n de sonido de Unity</a></li>
<li><a href="../437476/index.html">Ok Yandex! ¬øD√≥nde est√°n nuestros objetivos de alcance?</a></li>
<li><a href="../437480/index.html">4 novelas visuales para aprender ingl√©s</a></li>
<li><a href="../437482/index.html">Preg√∫ntele a Ethan: si la luz se contrae y se expande con el espacio, ¬øc√≥mo podemos detectar ondas gravitacionales?</a></li>
<li><a href="../437484/index.html">C√≥mo realic√© con √©xito seis entrevistas en Silicon Valley</a></li>
<li><a href="../437486/index.html">AlphaStar: un nuevo sistema de inteligencia artificial para StarCraft II de DeepMind (traducci√≥n completa)</a></li>
<li><a href="../437488/index.html">Cloud Key: C√≥mo construir sus aplicaciones nativas de la nube</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>