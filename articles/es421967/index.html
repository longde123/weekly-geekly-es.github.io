<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úãüèª üï° ü§• Juguete infantil sobre elementos l√≥gicos. ‚õ≤Ô∏è üóëÔ∏è üò™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo, por as√≠ decirlo, quiero hablar sobre mi primer proyecto en ingenier√≠a el√©ctrica. Debo decir que, por mi ocupaci√≥n, estoy lejos de lo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Juguete infantil sobre elementos l√≥gicos.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421967/"><p>  En este art√≠culo, por as√≠ decirlo, quiero hablar sobre mi primer proyecto en ingenier√≠a el√©ctrica.  Debo decir que, por mi ocupaci√≥n, estoy lejos de los circuitos y la electr√≥nica de radio, pero el inter√©s en este tema no me dio descanso desde una edad temprana.  Para las personas con experiencia, la siguiente informaci√≥n puede parecer demasiado obvia, y mucho de lo que he hecho es "inventar una bicicleta".  Pero quiz√°s algunos novatos, como yo, puedan descubrir algo nuevo e interesante.  A qui√©n le importa, por favor, debajo del gato. </p><a name="habracut"></a><br><p>  Todo comenz√≥ con la idea de hacer una placa de desarrollo para mi peque√±a hija.  Primero, quer√≠a estirar los brazos y hacer algo yo mismo.  En segundo lugar, quer√≠a estirar mi cerebro y llegar a algo que no est√° en tableros comunes de este tipo. </p><br><p>  Despu√©s de observar lo que m√°s le gusta hacer al ni√±o en la vida cotidiana, se decidi√≥ que, adem√°s de la cadena est√°ndar de manijas, debe agregar botones para presionar y un cierto dispositivo que muestra la reacci√≥n al presionar.  Como se deber√≠a haber mostrado algo simple, pero brillante, la elecci√≥n recay√≥ en la matriz roja de LED 8x8. </p><br><p>  Hasta la creaci√≥n del juguete, hab√≠a estado acumulando polvo en el estante Arduino Uno durante un tiempo; estaba esperando hasta que pudiera encontrar algo √∫til que no fuera un sistema de riego autom√°tico de colores, que, adem√°s del aburrimiento del campo en s√≠, era un poco menos de lo que no necesitaba.  Pens√© que su hora (Arduino) hab√≠a llegado, porque debes comenzar por alg√∫n lado.  Despu√©s de leer los manuales de la matriz, descubr√≠ que adem√°s de no conectarlo al Arduino (solo para eso necesitas 16 pines que no est√°n en mi Arduino), es imposible controlar todos los LED al mismo tiempo.  Puede brillar simult√°neamente con ciertos diodos en una fila o en una columna (control del c√°todo com√∫n o √°nodo com√∫n).  Y si hace esto de manera consistente y lo suficientemente r√°pido, una persona deja de percibir el parpadeo y ve una imagen estable.  Tambi√©n aprend√≠ que para Arduino hay controladores y bibliotecas disponibles en el mercado que se toman la molestia de administrar este proceso.  Y el hecho de la ausencia de tal controlador en ese momento predetermin√≥ el resultado de todo el proyecto. </p><br><p>  Mientras postergaba todo y pospon√≠a la elecci√≥n del mejor lugar para comprar un controlador, me encontr√© con un art√≠culo sobre el funcionamiento de los sistemas de activaci√≥n.  Para mi cerebro, las humanidades, se ha convertido en un verdadero descubrimiento, dando una comprensi√≥n de c√≥mo se organiza la memoria en un nivel primitivo.  Luego me pregunt√© si podr√≠a prescindir de Arduino y hacer mi proyecto basado en disparadores y circuitos l√≥gicos. </p><br><p>  Entonces, primero ten√≠a que decidir qu√© mostrar y c√≥mo hacerlo.  Estaba claro que era necesario aplicar una se√±al a su vez a ocho filas de la matriz y para cada iteraci√≥n aplicar una se√±al paralela a ciertas columnas.  Bueno, eso me dio una comprensi√≥n de los tres componentes principales: un generador de impulsos, un convertidor de reloj en ocho se√±ales consecutivas y un convertidor que para cada una de las ocho se√±ales generar√° una cierta combinaci√≥n de se√±ales paralelas.  No es tan complicado. </p><br><p>  Despu√©s de pensarlo, se form√≥ un circuito en mi cabeza en el que la se√±al del reloj se convierte en c√≥digo binario usando tres disparadores JK conectados en serie y luego, usando circuitos l√≥gicos, en octal.  Los detalles sobre este tipo de disparadores se pueden leer al menos en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Wikipedia</a> .  En resumen, tiene dos entradas (J y K) y dos salidas (Q y QÃÑ), as√≠ como una entrada de sincronizaci√≥n (CLK).  Cuando una unidad l√≥gica se alimenta a una de las entradas durante el siguiente pulso de sincronizaci√≥n, la unidad se mostrar√° en la salida correspondiente y se almacenar√° en ella independientemente de si el pulso de sincronizaci√≥n se aplica nuevamente y si el valor en la entrada seleccionada cambia, siempre que la segunda entrada permanezca en cero.  Si env√≠a una unidad a la segunda entrada y al primer cero, en el siguiente impulso de sincronizaci√≥n, el valor de la primera salida cambiar√° a cero y el segundo a uno.  Pero si se aplica una unidad a ambas entradas de disparo, entonces con cada impulso de sincronizaci√≥n, la unidad aparecer√° alternativamente en una de las salidas.  Y si toma dos disparadores, aplique un pulso de reloj a la entrada de sincronizaci√≥n del primero, y la se√±al de la salida QÃÑ del primero a la entrada de sincronizaci√≥n del segundo, como resultado, la salida Q1 emitir√° uno cada dos ciclos y Q2 cada cuatro.  Por lo tanto, se obtiene un contador binario de dos d√≠gitos.  Y si agrega el tercer activador de la misma manera, entonces, debido al tercer d√≠gito, puede contar hasta ocho con un c√≥digo binario; eso es lo que necesita. </p><br><p><img src="https://habrastorage.org/webt/gw/wn/qi/gwwnqi_br_qm-118vxpnk1s5suq.png" alt="imagen"></p><br><p>  Luego, fue necesario crear una tabla de verdad y seleccionar un conjunto de claves l√≥gicas para que el c√≥digo binario se convirtiera en ocho se√±ales consecutivas.  Si, para algunos, la tabla de verdad y las operaciones booleanas son algo nuevo y desconocido, puede leer sobre ellas nuevamente en Wikipedia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Parece que la mitad del trabajo est√° ah√≠, pero de hecho, no fue tan simple.  Cuando arm√© la primera parte del circuito para la prueba en una placa e imagin√© c√≥mo implementar la segunda parte de manera similar, mi fantas√≠a se dibuj√≥ durante muchos meses (y tal vez a√±os: el tiempo para dedicarme a un pasatiempo es un poco m√°s de una hora despu√©s del trabajo) de dibujar diagramas y compilar tablas de verdad.  De hecho, para ocho filas de cada imagen, debe generar una combinaci√≥n √∫nica de columnas.  Y cuantas m√°s fotos haya, m√°s monstruoso ser√° el circuito.  Me di cuenta de que no funcionar√≠a hacer lo que se pretend√≠a solo con las teclas l√≥gicas.  Era necesario buscar algo que pudiera simplificar este proceso. </p><br><p>  La soluci√≥n fue un chip de memoria.  Para mi tarea, la EEPROM (memoria de solo lectura programable y borrable el√©ctricamente) era una buena opci√≥n: una memoria programable con la posibilidad de borrado el√©ctrico con entrada / salida paralela.  La memoria tiene cu√°ntas entradas de direcci√≥n, que, de hecho, son bits de la direcci√≥n binaria de las celdas de memoria.  Es decir, si la memoria tiene n entradas de direcci√≥n, se pueden programar 2 ^ n celdas.  El n√∫mero de pines de memoria es la llamada "longitud de palabra", o la longitud real de una cadena binaria que se puede escribir en cada celda.  El producto del n√∫mero de celdas por longitud de palabra determina la cantidad de memoria en bits. </p><br><p>  La se√±al de entrada en forma de c√≥digo binario estaba disponible para m√≠ en la salida de los activadores JK.  Queda por complementarlo con bits de los botones, que deber√≠an ser responsables de la salida de diferentes im√°genes, y el punto est√° en el sombrero. </p><br><p>  Y nuevamente, la falta de experiencia no me permiti√≥ evaluar adecuadamente la complejidad del proceso.  Despu√©s de todo, la memoria necesita ser programada, y para esto necesita un programador: el dispositivo es significativamente costoso para comprarlo para una nave de juguete √∫nica.  Buscar en Google demostr√≥ que era te√≥ricamente posible hacer esto con el Arduino.  Pero para la programaci√≥n, es necesario suministrar simult√°neamente se√±ales tanto a las entradas de direcci√≥n del chip de memoria como a las salidas, que posteriormente deber√≠an reproducir la se√±al.  Y tambi√©n necesitamos se√±ales de control de chips.  Es decir, de nuevo m√°s que los pines disponibles.  Google adicional me abri√≥ un registro de desplazamiento, un chip que recuerda una secuencia dada de ceros y unos y los muestra en salidas paralelas.  A menudo, estos chips tambi√©n funcionan como un b√∫fer y tienen una salida que puede reproducir secuencialmente las se√±ales de entrada.  Es decir, si conecta el siguiente registro al mismo, puede mostrar simult√°neamente una secuencia dos veces m√°s grande que una.  Al ingresar a la l√≠nea, la primera parte pasar√° por el primer registro como a trav√©s de un b√∫fer en el segundo, y el resto permanecer√° en el primer registro.  Al agregar un tercer registro, puede triplicar la longitud de la cadena, etc.  Para implementar esto, ten√≠a que escribir un boceto en un lenguaje de programaci√≥n desconocido.  Pero teniendo algo de experiencia en Python y muchos ejemplos en Internet, despu√©s de una serie de prueba y error, esta tarea result√≥ bastante factible.  Sketch se puede tomar en <a href="">github</a> . </p><br><p>  Y ahora el boceto est√° escrito, el microcircuito est√° conectado, el lanzamiento y ... nada: la memoria no est√° programada.  Algunas muestras, cambios en la configuraci√≥n de grabaci√≥n y ning√∫n resultado.  Ten√≠a un microcircuito W27C512-45Z.  Una lectura cuidadosa de los manuales mostr√≥ un momento desagradable.  Para escribir en un contacto espec√≠fico del microcircuito, es necesario suministrar una corriente de 0.03A con un voltaje de 12V.  Pens√© que acababa de comprar un chip no tan adecuado.  Pero despu√©s de desplazarme por los estantes de las tiendas locales de componentes el√©ctricos, me asegur√© de que todos necesitaran 12V.  No ten√≠a una fuente de alimentaci√≥n de laboratorio.  Hay muchos bloques de 12V en la casa, pero todos est√°n pulsados, adem√°s, la corriente es de aproximadamente 1A.  Perd√≥name, ingenieros experimentados por tal sacrilegio, pero desesperado, decid√≠ intentar ver si un milagro ocurrir√≠a con esos bloques que estaban a la mano.  No sucedi√≥  Los dos primeros pasos de la grabaci√≥n no produjeron nada, y despu√©s del tercer microcircuito, dej√≥ de mostrar signos de vida. </p><br><p>  En Internet, encontr√© referencias a un cierto microcircuito ST662AB, un convertidor de 5V-12V, que, junto con el conjunto correcto de condensadores, deber√≠a producir la corriente y el voltaje necesarios.  De hecho, no fue f√°cil encontrar el chip.  Como resultado, lo orden√© a China, tambi√©n a SMD.  ¬øY qu√© hay de cuatro a seis semanas de entrega?  Bien, aprende.  Al desplazarme por los art√≠culos sobre programaci√≥n de memoria, me encontr√© con una menci√≥n de un chip que se puede programar a 5V.  Se trataba del AT28C256.  Y, de hecho, en las hojas de datos a ella no se mencionaba 12V.  Necesito tomar!  Es cierto que el chip para mis necesidades era un poco redundante, ya que me permit√≠a ahorrar 256Kb: una salida de 8 bits para direcciones de 32K, que, teniendo en cuenta los tres pines de direcci√≥n ocupados para las se√±ales de sincronizaci√≥n de l√≠nea, me permiti√≥ codificar hasta 4096 im√°genes (10 ser√≠an suficientes para m√≠).  Adem√°s, la entrega ya deb√≠a hacerse desde el Reino Unido.  Pero no encontr√© otras opciones, y al final, la memoria se puede reprogramar, y cuando el juguete ya no es relevante, el chip se puede usar en otro lugar.  As√≠ que despu√©s de cuatro d√≠as tuve un recuerdo.  Prueba de croquis y felicidad: todo funciona. </p><br><p>  Lo √∫ltimo que queda es decidir cu√°ntos botones habr√°, dibujar im√°genes de 8x8 e implementar la adici√≥n de se√±ales de los botones al circuito.  Habiendo estimado el lugar en el tablero, me decid√≠ por cinco botones.  Dada la demanda in√∫til en comparaci√≥n con el recurso de memoria, la forma m√°s f√°cil era enviar una se√±al de cada bot√≥n directamente a una entrada separada sin usar ninguna codificaci√≥n.  Es cierto que todav√≠a ten√≠a que resolver el problema de cambiar entre im√°genes.  Fue posible utilizar botones con fijaci√≥n de presi√≥n.  Pero tal implementaci√≥n no era adecuada para su uso por un ni√±o de un a√±o de edad, porque entonces, antes de presionar el siguiente bot√≥n, era necesario presionar el que funcionaba, y era bastante primitivo en s√≠ mismo.  Quer√≠a idear un esquema para botones sin fijar, en el que se guardar√≠a presionar cada bot√≥n, e incluso cancelar la presi√≥n del bot√≥n anterior.  Le√≠ sobre las caracter√≠sticas del uso de diferentes tipos de desencadenantes, con la esperanza de que algunos de ellos puedan resolver este problema por su cuenta, pero lamentablemente.  Despu√©s de sentarme un poco con una hoja y un l√°piz, se me ocurri√≥ el siguiente diagrama (un ejemplo para tres botones). </p><br><p>  Primero, debe conectar todos los botones a un determinado colector, que en la salida dar√° una unidad cuando haga clic en cualquiera de los botones.  Para esto, la tecla OR es adecuada.  Como la mayor√≠a de las veces los circuitos clave tienen solo dos entradas, es necesario conectar los primeros dos botones a una tecla, luego conectar su salida a la primera entrada de la segunda tecla y el tercer bot√≥n a su segunda entrada.  De esta manera, puede continuar conectando m√°s botones, agregando una nueva clave para cada uno posterior.  Adem√°s, cada bot√≥n debe estar conectado a una tecla XOR separada y a la entrada J de un disparador JK separado.  Conecte la salida del b√∫fer OR a la segunda entrada de las teclas XOR, y la salida de cada tecla XOR a la entrada K del disparador JK correspondiente.  Por lo tanto, al presionar, por ejemplo, el bot√≥n 1, se enviar√° una unidad a J1 y XOR1 no se activar√°, ya que se le suministra una unidad desde el bot√≥n y desde el b√∫fer OR.  En la salida Q1, tambi√©n aparecer√° una unidad y se guardar√°.  Al mismo tiempo, XOR2 y XOR3 funcionar√°n, alimentando una unidad a K2 y K3.  Y si en Q2 o Q3 antes hab√≠a una unidad, cambiar√° a cero. </p><br><p><img src="https://habrastorage.org/webt/oh/xn/cy/ohxncyowh6dyszw84t6h_1h3y_e.png" alt="imagen"></p><br><p>  Llegar con im√°genes de 8x8 tambi√©n fue una prueba separada.  Muy pocos puntos para reproducir una imagen reconocible.  Pero encendiendo la fantas√≠a, todav√≠a logr√≥ dibujar algunos, por ejemplo, un androide. </p><br><p><img src="https://habrastorage.org/webt/7p/sm/rv/7psmrvy70smfaguwt1kkv90-cxi.png" alt="imagen"></p><br><p>  Para las im√°genes, cre√© tablas de verdad.  Pero dado que uno debe enviar uno para las filas de la matriz y cero para las columnas, la tabla tuvo que invertirse.  Escrib√≠ el c√≥digo binario resultante en codificaci√≥n hexadecimal para un uso m√°s conveniente en el boceto de Arduino. </p><br><p>  Para construir todo el circuito, quer√≠a pedir un tablero terminado.  Pero de la lista de compa√±√≠as disponibles que ofrecen servicios de fabricaci√≥n de placas simuladas, me ofrecieron la opci√≥n m√°s barata para una junta bilateral por casi $ 25.  No lo s√©, tal vez sea un costo normal, pero me pareci√≥ demasiado.  Adem√°s, no tengo absolutamente ninguna experiencia en el dise√±o de dise√±os.  Y encuentro que el proceso de soldadura es muy agradable y relajante.  Por lo tanto, compr√© una placa universal, un rollo de alambre multicolor, los componentes necesarios y me sent√© en la asamblea durante varias noches.  Dado que todos los componentes funcionan con voltaje de 5V a 12V.  Para mayor comodidad, hice una bater√≠a de 9V. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> se puede ver c√≥mo funciona todo, el esquema completo est√° disponible en el <a href="">github</a> . <br>  Como el "coraz√≥n" de todo el circuito, utilic√© un generador de impulsos.  No estaba seguro de qu√© se necesita exactamente la frecuencia del pulso del reloj, as√≠ que utilic√© el circuito listo para usar con el ajuste.  Desafortunadamente, no tengo un osciloscopio, pero al comparar los ajustes y la hoja de datos del circuito, se usa alrededor de 1KHz.  Aqu√≠, el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">video</a> muestra c√≥mo la frecuencia cambia de menor a mayor, puede ver c√≥mo se dibujan las filas de la matriz. </p><br><p>  Gracias por su atencion </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es421967/">https://habr.com/ru/post/es421967/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es421957/index.html">C√≥mo Yandex cre√≥ la realidad aumentada en Maps para iOS. Experiencia usando ARKit</a></li>
<li><a href="../es421959/index.html">Qu√© hacer cuando "esto" pierde el enlace de contexto</a></li>
<li><a href="../es421961/index.html">Crear una demostraci√≥n para un tel√©fono antiguo - AONDEMO</a></li>
<li><a href="../es421963/index.html">Contabilidad y contabilidad: su papel en la organizaci√≥n</a></li>
<li><a href="../es421965/index.html">"Adem√°s del trabajo, sigo trabajando" - 10 preguntas para el programador, tercera edici√≥n</a></li>
<li><a href="../es421969/index.html">Generaci√≥n de secuencia de fecha PostgreSQL y generate_series</a></li>
<li><a href="../es421971/index.html">El ruso nativo de Xorg en rdesktop es un poco, pero agradable</a></li>
<li><a href="../es421975/index.html">Nuevas caracter√≠sticas de FLProg: ESP8266 como controlador, no como m√≥dem</a></li>
<li><a href="../es421977/index.html">GPS subacu√°tico en dos transceptores</a></li>
<li><a href="../es421979/index.html">Tema Dr√°cula: un tema universal para casi todo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>