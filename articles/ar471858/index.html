<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ง๐ฝ ๐จโ๐ค ๐ต RabbitMQ ููุงุจู ูุงููุง: ุชุฌุงูุฒ ุงููุดู ูุชูุงูุฑ ุนุงููุฉ ูู ูุฌููุนุงุช ๐ง๐ฝ โ๏ธ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุนุฏ ุงูุชุณุงูุญ ูุน ุงูุฎุทุฃ ูุงูุชูุงูุฑ ุงููุจูุฑ ูู ุงูููุถูุนุงุช ุงููุจูุฑุฉ ุ ูุฐุง ุณููุฑุณ RabbitMQ ู Kafka ููุงูุงุช ูููุตูุฉ. ูุฐู ุงูููุงูุฉ ุชุฏูุฑ ุญูู RabbitMQ ุ ูุงูููุงู ุงูุชุงูู ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RabbitMQ ููุงุจู ูุงููุง: ุชุฌุงูุฒ ุงููุดู ูุชูุงูุฑ ุนุงููุฉ ูู ูุฌููุนุงุช</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/471858/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hr/j2/oy/hrj2oyxwqv8-wo-vpmagx_dwmia.jpeg"><br><br>  ูุนุฏ ุงูุชุณุงูุญ ูุน ุงูุฎุทุฃ ูุงูุชูุงูุฑ ุงููุจูุฑ ูู ุงูููุถูุนุงุช ุงููุจูุฑุฉ ุ ูุฐุง ุณููุฑุณ RabbitMQ ู Kafka ููุงูุงุช ูููุตูุฉ.  ูุฐู ุงูููุงูุฉ ุชุฏูุฑ ุญูู RabbitMQ ุ ูุงูููุงู ุงูุชุงูู ูุฏูุฑ ุญูู Kafka ุ ููุงุฑูุฉ ุจู RabbitMQ.  ุงูููุงู ุทููู ุ ูุฐุง ุงุฌุนู ููุณู ูุฑูุญูุง. <br><br>  ุงููุธุฑ ูู ุงุณุชุฑุงุชูุฌูุงุช ุงูุชุณุงูุญ ูุน ุงูุฎุทุฃ ุ ูุงูุงุชุณุงู ุ ูุชูุงูุฑ ุนุงููุฉ (HA) ุ ููุฐูู ุงูููุงุถูุงุช ุงูุชู ูุชุนูู ุนูู ูู ุงุณุชุฑุงุชูุฌูุฉ ูุฌุนู.  ูููู ุชุดุบูู RabbitMQ ุนูู ูุฌููุนุฉ ูู ุงูุนูุฏ - ุซู ูุชู ุชุตููููุง ููุธุงู ููุฒุน.  ุนูุฏูุง ูุชุนูู ุงูุฃูุฑ ุจุงูุฃูุธูุฉ ุงูููุฒุนุฉ ุ ูุฅููุง ูุชุญุฏุซ ุบุงูุจูุง ุนู ุงูุงุชุณุงู ูุฅููุงููุฉ ุงููุตูู. <br><br>  ุชุตู ูุฐู ุงูููุงููู ููู ูุชุตุฑู ุงููุธุงู ูู ุญุงูุฉ ุญุฏูุซ ูุดู.  ูุดู ูู ุงุชุตุงู ุงูุดุจูุฉ ุฃู ูุดู ุงูุฎุงุฏู ุฃู ูุดู ุงููุฑุต ุงูุซุงุจุช ุฃู ุนุฏู ุชููุฑ ุงูุฎุงุฏู ุงููุคูุช ุจุณุจุจ ุชุฌููุน ุงูุจูุงูุงุช ุงูููููุฉ ุฃู ููุฏ ุงูุญุฒูุฉ ุฃู ุชุจุงุทุค ุงุชุตุงู ุงูุดุจูุฉ.  ูู ูุฐุง ูููู ุฃู ูุคุฏู ุฅูู ููุฏุงู ุงูุจูุงูุงุช ุฃู ุชุนุงุฑุถุงุช.  ุงุชุถุญ ุฃูู ููุงุฏ ูููู ูู ุงููุณุชุญูู ุฑูุน ูุธุงู ูุชุณู ุชูุงููุง (ุจุฏูู ููุฏุงู ุงูุจูุงูุงุช ุ ุฏูู ุชุจุงููุงุช ูู ุงูุจูุงูุงุช) ุ ููููู ุงููุตูู ุฅููู (ุณููุจู ุนูููุงุช ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ) ูุฌููุน ุฃููุงุน ุงููุดู. <br><a name="habracut"></a><br>  ุณูุฑู ุฃู ุงูุงุชุณุงู ูุฅููุงููุฉ ุงููุตูู ูู ููุงูุงุช ูุฎุชููุฉ ูู ุงูุทูู ุ ูุณุชุญุชุงุฌ ุฅูู ุงุฎุชูุงุฑ ุงูุทุฑููุฉ ุงูุฃูุซู.  ูุงูุฎุจุฑ ุงูุณุงุฑ ูู ุฃูู ูุน RabbitMQ ูุซู ูุฐุง ุงูุฎูุงุฑ ูููู.  ูุฏูู ููุน ูู ุถุบุท "ุงูุทุงูุจ ุงูุฐู ูุฐุงูุฑ ูุซูุฑุง" ูุชุญููู ุงูุชูุงุฒู ูุญู ูุฒูุฏ ูู ุงูุชูุงุณู ุฃู ุฅููุงููุฉ ุงููุตูู ุฃูุจุฑ. <br><br>  ุณูููู ุงูุชูุงููุง ุฎุงุตูุง ููุชููููุงุช ุงูุชู ุชุคุฏู ุฅูู ููุฏ ุงูุจูุงูุงุช ุจุณุจุจ ุงูุณุฌูุงุช ุงููุคูุฏุฉ.  ููุงู ุณูุณูุฉ ูู ุงููุณุคูููุฉ ุจูู ุงููุงุดุฑูู ูุงููุณุทุงุก ูุงููุณุชููููู.  ุจุนุฏ ุฅุฑุณุงู ุงูุฑุณุงูุฉ ุฅูู ุงููุณูุท ุ ูู ูุธููุชู ุฃูุง ุชููุฏ ุงูุฑุณุงูุฉ.  ุนูุฏูุง ูุคูุฏ ุงููุณูุท ูููุงุดุฑ ุงุณุชูุงู ุงูุฑุณุงูุฉ ุ ูุง ูุชููุน ููุฏูุง.  ููููุง ุณูุฑู ุฃู ูุฐุง ูููู ุฃู ูุญุฏุซ ุจุงููุนู ุงุนุชูุงุฏูุง ุนูู ุชููุฆุฉ ุงููุณูุท ูุงููุงุดุฑ. <br><br><h1 style=";text-align:right;direction:rtl">  ุจุฏุงุฆู ุงุณุชูุฑุงุฑ ุนูุฏุฉ ูุงุญุฏุฉ </h1><br><h3 style=";text-align:right;direction:rtl">  ููุงุฆู ุงูุงูุชุธุงุฑ ุงูุฏุงุฆูุฉ / ุงูุชูุฌูู </h3><br>  ููุงู ููุนุงู ูู ููุงุฆู ุงูุงูุชุธุงุฑ ูู RabbitMQ: ุฏุงุฆู / ุบูุฑ ุฏุงุฆู.  ูุชู ุชุฎุฒูู ุฌููุน ููุงุฆู ุงูุงูุชุธุงุฑ ูู ูุงุนุฏุฉ ุจูุงูุงุช Mnesia.  ูุชู ุฅุนุงุฏุฉ ุชุนุฑูู ููุงุฆู ุงูุงูุชุธุงุฑ ุงูุฏุงุฆูุฉ ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุนูุฏุฉ ูุจุงูุชุงูู ุชูุฌู ูู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุฃู ุชุนุทู ุงููุธุงู ุฃู ุชุนุทู ุงูุฎุงุฏู (ุทุงููุง ูุชู ุญูุธ ุงูุจูุงูุงุช).  ูุฐุง ูุนูู ุฃูู ุจูููุง ุชุนูู ุนู ุงูุชูุฌูู (ุงูุชุจุงุฏู) ููุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงููุฑูุฉ ุ ุณุชุนูุฏ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ููุตููู / ุงูุชูุฌูู ุนุจุฑ ุงูุฅูุชุฑูุช. <br><br>  ูุชู ุญุฐู ููุงุฆู ุงูุงูุชุธุงุฑ ุงููุชุบูุฑุฉ ูุงูุชูุฌูู ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงููุถูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฑุณุงุฆู ุงููุณุชูุฑุฉ </h3><br>  ููุฌุฑุฏ ุฃู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุทูููุฉ ูุง ุชุนูู ุฃู ุฌููุน ุฑุณุงุฆููุง ุณุชุณุชูุฑ ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุนูุฏุฉ.  ุณูุชู ุงุณุชุนุงุฏุฉ ุงูุฑุณุงุฆู ุงูุชู ุญุฏุฏูุง ุงููุงุดุฑ ุนูู ุฃููุง ุซุงุจุชุฉ ููุท.  ุชุฎูู ุงูุฑุณุงุฆู ุงููุณุชูุฑุฉ ุนุจุฆูุง ุฅุถุงูููุง ุนูู ุงููุณูุท ุ ูููู ุฅุฐุง ูุงูุช ุฎุณุงุฑุฉ ุงูุฑุณุงุฆู ุบูุฑ ููุจููุฉ ุ ููุง ุชูุฌุฏ ุทุฑููุฉ ุฃุฎุฑู. <br><br><img src="https://habrastorage.org/webt/hl/nv/gv/hlnvgvt20t-fbikkajwnkirflyo.png"><br>  <i>ุงูุชูู.</i>  <i>1. ูุตูููุฉ ุงูุงุณุชูุฑุงุฑ</i> <br><br><h1 style=";text-align:right;direction:rtl">  ูุงุฆูุฉ ุงูุชุธุงุฑ ุงููุณุฎ ุงููุชุทุงุจู </h1><br>  ููุจูุงุก ุนูู ููุฏ ุงูุญูุงุฉ ูู ููุฏุงู ูุณูุท ุ ูุญู ุจุญุงุฌุฉ ุฅูู ุงูุชูุฑุงุฑ.  ูููููุง ุฏูุฌ ุงูุนุฏูุฏ ูู ุนูุฏ RabbitMQ ูู ูุธุงู ูุฌููุนุฉ ุ ุซู ุฅุถุงูุฉ ุชูุฑุงุฑ ุฅุถุงูู ุนู ุทุฑูู ูุณุฎ ููุงุฆู ุงูุงูุชุธุงุฑ ุจูู ุนุฏุฉ ุนูุฏ.  ูุจุงูุชุงูู ุ ุฅุฐุง ุณูุทุช ุนูุฏุฉ ูุงุญุฏุฉ ุ ูุฅููุง ูุง ูููุฏ ุงูุจูุงูุงุช ููุธู ูุชุงุญูู. <br><br>  ูุงุฆูุฉ ุงูุชุธุงุฑ ุงููุณุฎ ุงููุชุทุงุจู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุงุฆูุฉ ุงูุชุธุงุฑ ุฑุฆูุณูุฉ ูุงุญุฏุฉ (ุฑุฆูุณูุฉ) ุ ูุงูุชู ุชุชููู ุฌููุน ุฃูุงูุฑ ุงููุชุงุจุฉ ูุงููุฑุงุกุฉ <br></li><li style=";text-align:right;direction:rtl">  ูุงุญุฏ ุฃู ุฃูุซุฑ ูู ุงููุฑุงูุง ุงูุชู ุชุชููู ุฌููุน ุงูุฑุณุงุฆู ูุงูุจูุงูุงุช ุงููุตููุฉ ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ.  ูุฐู ุงููุฑุงูุง ุบูุฑ ููุฌูุฏุฉ ููุชุญุฌูู ุ ูููู ููุท ููุชูุฑุงุฑ. </li></ul><br><img src="https://habrastorage.org/webt/am/-b/ol/am-boljly334-fiqfajsoowe3iu.png"><br>  <i>ุงูุชูู.</i>  <i>2. ุนูุณ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ</i> <br><br>  ูุชู ุชุนููู ุงููุณุฎ ุงููุชุทุงุจู ุจูุงุณุทุฉ ุงูุณูุงุณุฉ ุงูููุงุณุจุฉ.  ูู ุฐูู ุ ููููู ุงุฎุชูุงุฑ ูุนุฏู ุงููุณุฎ ุงููุชูุงุซู ูุญุชู ุงูุนูุฏ ุงูุชู ูุฌุจ ูุถุน ูุงุฆูุฉ ุงูุงูุชุธุงุฑ.  ุงูุฃูุซูุฉ ุนูู ุฐูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><code>ha-mode: all</code> <br> </li><li style=";text-align:right;direction:rtl">  <code>ha-mode: exactly, ha-params: 2</code> (ูุงุญุฏ ุฑุฆูุณู ููุฑุขุฉ ูุงุญุฏุฉ) <br></li><li style=";text-align:right;direction:rtl"> <code>ha-mode: nodes, ha-params: rabbit@node1, rabbit@node2</code> </li> </ul><br><h1 style=";text-align:right;direction:rtl">  ุชุฃููุฏ ูููุงุดุฑ </h1><br>  ูุชุญููู ุชุณุฌูู ูุชุณูุณู ุ ูุฌุจ ุชุฃููุฏ Publisher ุชุฃููุฏ.  ุจุฏูููุง ุ ููุงู ูุฑุตุฉ ูููุฏุงู ุงูุฑุณุงุฆู.  ูุชู ุฅุฑุณุงู ุชุฃููุฏ ูููุงุดุฑ ุจุนุฏ ูุชุงุจุฉ ุงูุฑุณุงูุฉ ุฅูู ุงููุฑุต.  RabbitMQ ููุชุจ ุฑุณุงุฆู ุฅูู ุงููุฑุต ููุณ ุนูุฏ ุงูุงุณุชูุงู ุ ูููู ุนูู ุฃุณุงุณ ุฏูุฑู ุ ูู ููุทูุฉ ุนุฏุฉ ูุฆุงุช ูู ูููู ุซุงููุฉ.  ุนูุฏ ูุณุฎ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุ ูุชู ุฅุฑุณุงู ุงูุชุฃููุฏ ููุท ุจุนุฏ ุฃู ุชููู ุฌููุน ุงููุณุฎ ุงููุชุทุงุจูุฉ ุฃูุถูุง ูุฏ ูุชุจุช ูุณุฎุชูุง ูู ุงูุฑุณุงูุฉ ุฅูู ุงููุฑุต.  ูุฐุง ูุนูู ุฃู ุงุณุชุฎุฏุงู ุงูุฅูุฑุงุฑุงุช ูุถูู ุฅูู ุงูุชุฃุฎูุฑ ุ ูููู ุฅุฐุง ูุงู ุฃูุงู ุงูุจูุงูุงุช ููููุง ุ ูุณูููู ุฐูู ุถุฑูุฑููุง. <br><br><h1 style=";text-align:right;direction:rtl">  ูุงุฆูุฉ ุงูุชุธุงุฑ ุชุฌุงูุฒ ุงููุดู </h1><br>  ุนูุฏูุง ูุบูู ุงููุณูุท ุฃู ูุชุนุทู ุ ูุฅู ุฌููุน ููุงุฆู ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ (ุงููุงุฌุณุชูุฑ) ุนูู ูุฐู ุงูุนูุฏุฉ ุชูุน ูุนูุง.  ุชููู ุงููุชูุฉ ุจุนุฏ ุฐูู ุจุชุญุฏูุฏ ุฃูุฏู ูุณุฎุฉ ูุชุทุงุจูุฉ ููู ุณูุฏ ูุชุฑููุฌูุง ูุณูุฏ ุฌุฏูุฏ. <br><br><img src="https://habrastorage.org/webt/pq/v_/_a/pqv__ahffpye5i6h_2pdzozyrgi.png"><br>  <i>ุงูุชูู.</i>  <i>3. ุนุฏุฉ ุทูุงุจูุฑ ูุนููุณุฉ ูุณูุงุณุงุชูุง</i> <br><br>  ูุณูุท 3 ูุทุฑุงุช.  ูุงุญุธ ุฃูู ูุชู ุชุฑููุฉ ูุณุฎุฉ ูุชุทุงุจูุฉ Queue C ุนูู Broker 2 ุฅูู ุฑุฆูุณู.  ูุงุญุธ ุฃูุถูุง ุฃูู ุชู ุฅูุดุงุก ูุณุฎุฉ ูุชุทุงุจูุฉ ุฌุฏูุฏุฉ ููุงุฆูุฉ ุงูุงูุชุธุงุฑ C ุนูู ุงููุณูุท 1. ูุญุงูู RabbitMQ ุฏุงุฆููุง ุงูุญูุงุธ ุนูู ูุนุฏู ุงููุณุฎ ุงููุชูุงุซู ุงููุญุฏุฏ ูู ุณูุงุณุงุชู. <br><br><img src="https://habrastorage.org/webt/df/e7/la/dfe7laf8pyg0pobmrkgteky-wsw.png"><br>  <i>ุงูุชูู.</i>  <i>4. ุงููุณูุท 3 ูุณูุท ุ ููุง ุชุณุจุจ ูู ูุดู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ C</i> <br><br>  ุงููุณูุท ุงูุชุงูู 1 ูุณูุท!  ูุฏููุง ูุณูุท ูุงุญุฏ ููุท ุงููุณุงุฑ.  ุชุฑุชูุน ูุฑุขุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ B ููุณูุฏ. <br><br><img src="https://habrastorage.org/webt/b2/bd/qi/b2bdqi_lz21qoe8hcdmsjy8g5kc.png"><br>  <i>ุงูุชูู.</i>  <i>5</i> <br><br>  ููุฏ ุนุฏูุง Broker 1. ุจุบุถ ุงููุธุฑ ุนู ูุฏู ูุฌุงุญ ุงูุจูุงูุงุช ูู ุงูุชุบูุจ ุนูู ุฎุณุงุฑุฉ ูุงุณุชุฑุฏุงุฏ ุงููุณูุท ุ ูุชู ุชุฌุงูู ุฌููุน ุฑุณุงุฆู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงููุชุทุงุจูุฉ ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู.  ูู ุงูููู ููุงุญุธุฉ ุฐูู ุ ุญูุซ ุณุชููู ููุงู ุนูุงูุจ.  ุณููุธุฑ ูุฑูุจุงู ูู ูุฐู ุงูุนูุงูุจ.  ูุจุงูุชุงูู ุ ุฃุตุจุญ Broker 1 ุงูุขู ูุฑุฉ ุฃุฎุฑู ุนุถููุง ูู ุงููุฌููุนุฉ ุ ูุชุญุงูู ุงููุฌููุนุฉ ุงูุงูุชุซุงู ููุณูุงุณุงุช ูุจุงูุชุงูู ุชูุดุฆ ูุฑุงูุง ุนูู Broker 1. <br><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุงู ููุฏุงู ุงููุณูุท 1 ูุงููุงู ุ ููุฐูู ุงูุจูุงูุงุช ุ ูุจุงูุชุงูู ููุฏ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุบูุฑ ุงููุชุทุงุจูุฉ ุจุงููุงูู. <br><br><img src="https://habrastorage.org/webt/wi/ql/68/wiql68dzsoerzuibhspllun85ec.png"><br>  <i>ุงูุชูู.</i>  <i>6. ุนุงุฏ ุงููุณูุท 1 ุฅูู ุงูุฎุฏูุฉ</i> <br><br>  ุนุงุฏ ุงูุณูุณุงุฑ 3 ุนุจุฑ ุงูุฅูุชุฑูุช ุ ูุฐุง ุชู ุฅูุดุงุก ุฎุทูุท A ู B ุนูู ุงููุฑุงูุง ูุชูุงุณุจ ุณูุงุณุงุช HA ุงูุฎุงุตุฉ ุจูู.  ูููู ุงูุขู ูู ุงูุฎุทูุท ุงูุฑุฆูุณูุฉ ููุฌูุฏุฉ ุนูู ุนูุฏุฉ ูุงุญุฏุฉ!  ูุฐู ููุณุช ูุซุงููุฉ ุ ุงูุชูุฒูุน ุงูููุญุฏ ุจูู ุงูุนูุฏ ูู ุฃูุถู.  ูุณูุก ุงูุญุธ ุ ูุง ุชูุฌุฏ ุฎูุงุฑุงุช ุฎุงุตุฉ ูุฅุนุงุฏุฉ ุงูุชูุงุฒู ููุณุงุฏุฉ.  ุณูุนูุฏ ุฅูู ูุฐู ุงููุดููุฉ ูุงุญููุง ุ ุญูุซ ูุญุชุงุฌ ุฅูู ุงูุชูููุฑ ูู ูุฒุงููุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุฃููุงู. <br><br><img src="https://habrastorage.org/webt/bg/hj/4n/bghj4n6pdd5ki4oideq7zbwmasi.png"><br>  <i>ุงูุชูู.</i>  <i>7. ุนุงุฏ ุงููุณูุท 3 ุฅูู ุงูุฎุฏูุฉ.</i>  <i>ุฌููุน ููุงุฆู ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ุนูู ุนูุฏุฉ ูุงุญุฏุฉ!</i> <br><br>  ูุจุงูุชุงูู ุ ูุฌุจ ุฃู ูููู ูุฏูู ุงูุขู ููุฑุฉ ุนู ููููุฉ ุชูููุฑ ุงููุฑุงูุง ููุชูุฑุงุฑ ูุงูุชุณุงูุญ ูุน ุงูุฎุทุฃ.  ูุฐุง ูุถูู ุชูุงูุฑ ูู ุญุงูุฉ ูุดู ุนูุฏุฉ ูุงุญุฏุฉ ููุญูู ูู ููุฏุงู ุงูุจูุงูุงุช.  ููููุง ูู ููุชู ุจุนุฏ ุ ูุฃูู ูู ุงููุงูุน ูู ุดูุก ุฃูุซุฑ ุชุนููุฏูุง. <br><br><h1 style=";text-align:right;direction:rtl">  ุชุฒุงูู </h1><br>  ุนูุฏ ุฅูุดุงุก ูุณุฎุฉ ูุชุทุงุจูุฉ ุฌุฏูุฏุฉ ุ ุณูุชู ุฏุงุฆููุง ูุณุฎ ุฌููุน ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ ุฅูู ูุฐู ุงููุฑุขุฉ ูุฃู ุฑุณุงุฆู ุฃุฎุฑู.  ุจุงููุณุจุฉ ููุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ุ ูููููุง ูุณุฎูุง ูู ูุณุฎุฉ ูุชุทุงุจูุฉ ุฌุฏูุฏุฉ ุ ูุงูุชู ุชุตุจุญ ูุณุฎุฉ ูุงููุฉ ูู ุงููุณุฎุฉ ุงูุฑุฆูุณูุฉ.  ูุง ูููููุง ุฃูุถูุง ุชูุฑุงุฑ ุงูุฑุณุงุฆู ุงูุญุงููุฉ ูุงูุณูุงุญ ููุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ูุงููุฑุขุฉ ุงูุฌุฏูุฏุฉ ุจุงูุงูุชูุงุก ูู ุงูููุช ุงูููุงุณุจ ุนูุฏูุง ุชุตู ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ ุฅูู ุงูุฐูู ูุชุชุฑู ุงูุฑุณุงุฆู ุงูุญุงููุฉ ุฑุฃุณ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ. <br><br>  ุชุชู ูุฐู ุงููุฒุงููุฉ ุชููุงุฆููุง ุฃู ูุฏูููุง ููุชู ุงูุชุญูู ูููุง ุจุงุณุชุฎุฏุงู ุณูุงุณุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ.  ุงููุธุฑ ูู ูุซุงู. <br><br>  ูุฏููุง ุงุซููู ูู ุฎุทูุท ูุนููุณุฉ.  ูุงุฆูุฉ ุงูุงูุชุธุงุฑ A ุชุชู ูุฒุงููุชูุง ุชููุงุฆููุง ุ ู Queue B ูุฏูููุง.  ูุญุชูู ููุง ุงูุฎุทูู ุนูู ุนุดุฑ ุฑุณุงุฆู ููู ููููุง. <br><br><img src="https://habrastorage.org/webt/vz/zm/5x/vzzm5x_2w3tphqi09kn6h_9_e1c.png"><br>  <i>ุงูุชูู.</i>  <i>8. ุงุซููู ูู ููุงุฆู ุงูุงูุชุธุงุฑ ูุน ุฃูุถุงุน ุงูุชุฒุงูู ุงููุฎุชููุฉ</i> <br><br>  ุงูุขู ูุญู ูููุฏ ุงููุณูุท 3. <br><br><img src="https://habrastorage.org/webt/5x/wp/ki/5xwpki1aoj_-e1hdt0i-gswn-nu.png"><br>  <i>ุงูุชูู.</i>  <i>9. ุงูุฎูุถ ุงูุณูุณุงุฑ 3</i> <br><br>  ุนุงุฏ ุงูุณูุณุงุฑ 3 ุฅูู ุงูุฎุฏูุฉ.  ุชููู ุงููุชูุฉ ุจุฅูุดุงุก ูุณุฎุฉ ูุชุทุงุจูุฉ ููู ูุงุฆูุฉ ุงูุชุธุงุฑ ุนูู ุงูุนูุฏุฉ ุงูุฌุฏูุฏุฉ ููุฒุงููุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฌุฏูุฏุฉ ุชููุงุฆููุง ูุน ุงูุฑุฆูุณู.  ููุน ุฐูู ุ ูุฅู ูุฑุขุฉ Turn B ุงูุฌุฏูุฏุฉ ุชุธู ูุงุฑุบุฉ.  ูุจุงูุชุงูู ุ ูุฏููุง ุชูุฑุงุฑ ูุงูู ููุงุฆูุฉ ุงูุงูุชุธุงุฑ A ููุฑุขุฉ ูุงุญุฏุฉ ููุท ููุฑุณุงุฆู ุงูููุฌูุฏุฉ ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ B. <br><br><img src="https://habrastorage.org/webt/zo/hb/ha/zohbhaicbgsjdynexgjhuh70ujg.png"><br>  <i>ุงูุชูู.</i>  <i>10. ุงููุณุฎุฉ ุงููุชุทุงุจูุฉ ุงูุฌุฏูุฏุฉ ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ A ุชุชููู ุฌููุน ุงูุฑุณุงุฆู ุงูููุฌูุฏุฉ ุ ููู ุงููุณุฎุฉ ุงููุชุทุงุจูุฉ ุงูุฌุฏูุฏุฉ ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ B ูุง ุชุณุชูุจููุง</i> <br><br>  ููุง ุงูุฎุทูู ูุชููู ุนุดุฑุฉ ุฑุณุงุฆู ุฃุฎุฑู.  ุซู ููุน Broker 2 ุ ูุชุนูุฏ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ A ุฅูู ุฃูุฏู ูุณุฎุฉ ูุชุทุงุจูุฉ ุ ูุงูุชู ุชูุน ุนูู Broker 1. ูู ุญุงูุฉ ุญุฏูุซ ุนุทู ุ ูุง ููุฌุฏ ููุฏุงู ููุจูุงูุงุช.  ุชูุฌุฏ 20 ุฑุณุงูุฉ ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ B ูู ุงููุนุงูุฌ ูุนุดุฑุฉ ุฑุณุงุฆู ููุท ูู ุงููุณุฎุฉ ุงููุชุทุงุจูุฉ ุ ูุฃู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูุฐู ูู ุชูุณุฎ ุงูุฑุณุงุฆู ุงูุนุดุฑุฉ ุงูุฃุตููุฉ ุฃุจุฏูุง. <br><br><img src="https://habrastorage.org/webt/yy/hc/sz/yyhcszfowfi6eiidhubgqfy1zry.png"><br>  <i>ุงูุชูู.</i>  <i>11. ูุชู ุฅุฑุฌุงุน ุงูุฎุท A ุฅูู ุงููุณูุท 1 ุฏูู ููุฏ ุงูุฑุณุงุฆู</i> <br><br>  ููุง ุงูุฎุทูู ูุชููู ุนุดุฑุฉ ุฑุณุงุฆู ุฃุฎุฑู.  ุชุนุทู ุงููุณูุท 1. ุงูุขู ุชูุชูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ A ุฅูู ุงููุณุฎุฉ ุงููุชุทุงุจูุฉ ุฏูู ุฃู ูุดุงูู ุฏูู ููุฏ ุงูุฑุณุงุฆู.  ููุน ุฐูู ุ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ B ูุฏูู ูุดุงูู.  ูู ูุฐู ุงููุฑุญูุฉ ุ ูููููุง ุชุญุณูู ุฅููุงููุฉ ุงููุตูู ุฃู ุงูุชูุงุณู. <br><br>  ุฅุฐุง ููุง ูุฑุบุจ ูู ุชุญุณูู ุฅููุงููุฉ ุงููุตูู ุ ููุฌุจ ุฃู ุชููู ุณูุงุณุฉ <b><i>ha-promotion-on-ุงููุดู</i></b> ูุนุฏุฉ <b><i>ุฏุงุฆููุง</i></b> .  ูุฐู ูู ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ุ ูุฐูู ููููู ุจุจุณุงุทุฉ ุญุฐู ุงูุณูุงุณุฉ ุนูู ุงูุฅุทูุงู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูู ุงููุงูุน ุ ูุญู ูุณูุญ ุจุงููุดู ูู ุงููุณุฎ ุงููุชุทุงุจูุฉ ุบูุฑ ุงููุชุฒุงููุฉ.  ุณูุคุฏู ุฐูู ุฅูู ููุฏ ุงูุฑุณุงูุฉ ุ ููู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุชุธู ูุงุจูุฉ ูููุฑุงุกุฉ ูุงููุชุงุจุฉ. <br><br><img src="https://habrastorage.org/webt/4h/hv/_n/4hhv_n4seyvz33pq_sk3my2bnmk.png"><br>  <i>ุงูุชูู.</i>  <i>12. ูุชู ุฅุฑุฌุงุน ุงูุฎุท A ุฅูู ุงููุณูุท 3 ุฏูู ููุฏ ุงูุฑุณุงุฆู.</i>  <i>ูุนูุฏ ุงูุณุทุฑ B ุฅูู ุงููุณูุท 3 ูุน ููุฏุงู ุนุดุฑ ุฑุณุงุฆู</i> <br><br>  ูููููุง ุฃูุถูุง ุถุจุท <code>ha-promote-on-failure</code> ุนูู <code>when-synced</code> .  ูู ูุฐู ุงูุญุงูุฉ ุ ุจุฏูุงู ูู ุงูุชุฑุงุฌุน ุฅูู ุงููุณุฎุฉ ุงููุชุทุงุจูุฉ ุ ุณูู ุชูุชุธุฑ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุญุชู ูุนูุฏ ูุณูุท 1 ูุน ุจูุงูุงุชู ุฅูู ูุถุน ุงูุงุชุตุงู.  ุจุนุฏ ุนูุฏุชู ุ ุชุธูุฑ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ูุฑุฉ ุฃุฎุฑู ุนูู ุงููุณูุท 1 ุฏูู ููุฏุงู ุงูุจูุงูุงุช.  ุชู ุงูุชุถุญูุฉ ุจุฅููุงููุฉ ุงููุตูู ูู ุฃุฌู ุฃูุงู ุงูุจูุงูุงุช.  ููู ูุฐุง ูุถุน ูุญููู ุจุงููุฎุงุทุฑ ุ ููุฏ ูุคุฏู ุญุชู ุฅูู ููุฏ ุงูุจูุงูุงุช ุจุดูู ูุงูู ุ ูุงูุฐู ุณูุฃุฎุฐู ูู ุงูุงุนุชุจุงุฑ ูู ุงููุณุชูุจู ุงููุฑูุจ. <br><br><img src="https://habrastorage.org/webt/fk/mx/gx/fkmxgxilgyi8bp_n_-osz6q8be0.png"><br>  <i>ุงูุชูู.</i>  <i>13. ูุง ูุฒุงู ุงูุฎุท B ุบูุฑ ูุชููุฑ ุจุนุฏ ุฎุณุงุฑุฉ ุงููุณูุท 1</i> <br><br>  ููููู ุทุฑุญ ุณุคุงู: "ุฑุจูุง ูู ุงูุฃูุถู ุนุฏู ุงุณุชุฎุฏุงู ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ ูุทูููุงุ".  ุงูุฌูุงุจ ูู ุฃู ุงููุฒุงููุฉ ูู ุนูููุฉ ุญุธุฑ.  ุฃุซูุงุก ุงููุฒุงููุฉ ุ ูุง ูููู ููุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ุฅุฌุฑุงุก ุฃู ุนูููุงุช ูุฑุงุกุฉ ุฃู ูุชุงุจุฉ! <br><br>  ุงููุธุฑ ูู ูุซุงู.  ุงูุขู ูุฏููุง ุฎุทูุท ุทูููุฉ ุฌุฏุง.  ููู ูููู ุฃู ุชููู ุฅูู ูุฐุง ุงูุญุฌูุ  ูุนุฏุฉ ุฃุณุจุงุจ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ุชุณุชุฎุฏู ููุงุฆู ุงูุงูุชุธุงุฑ ุจูุดุงุท. <br></li><li style=";text-align:right;direction:rtl">  ูุฐู ุฎุทูุท ุนุงููุฉ ุงูุณุฑุนุฉ ุ ูุงููุณุชููููู ุงูุขู ุจุทูุฆูู <br></li><li style=";text-align:right;direction:rtl">  ูุฐู ูู ุทูุงุจูุฑ ุนุงููุฉ ุงูุณุฑุนุฉ ุ ููุฏ ุญุฏุซ ูุดู ูุงููุณุชููููู ุงููุญุงู ุจุงูุฑูุจ </li></ul><br><img src="https://habrastorage.org/webt/es/6q/gy/es6qgy7p-1cu0avxb1xivijyjii.png"><br>  <i>ุงูุชูู.</i>  <i>14. ุทุงุจูุฑ ูุจูุฑ ูุน ุฃูุถุงุน ุงูุชุฒุงูู ุงููุฎุชููุฉ</i> <br><br>  ุงูุขู ุชุนุทู ุงููุณูุท 3. <br><br><img src="https://habrastorage.org/webt/vg/ta/ue/vgtauedea7kaitatv7oshzottps.png"><br>  <i>ุงูุชูู.</i>  <i>15. ููุน ุงูุณูุณุงุฑ 3 ุ ููุชุฑู ุณูุฏูุง ููุฑุขุฉ ูู ูู ูุงุฆูุฉ ุงูุชุธุงุฑ</i> <br><br>  ูุนูุฏ ูุณูุท 3 ุ ููุชู ุฅูุดุงุก ูุฑุงูุง ุฌุฏูุฏุฉ.  ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ A ุชุจุฏุฃ ูู ูุณุฎ ุงูุฑุณุงุฆู ุงูููุฌูุฏุฉ ุฅูู ูุณุฎุฉ ูุชุทุงุจูุฉ ุฌุฏูุฏุฉ ุ ูุฎูุงู ูุฐุง ุงูููุช ุ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ A ุบูุฑ ูุชููุฑุฉ.  ูุชุทูุจ ุงููุณุฎ ุงููุชูุงุซู ููุจูุงูุงุช ุณุงุนุชูู ุ ููุง ูุคุฏู ุฅูู ุชููู ุณุงุนุชูู ุนู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูุฐู! <br><br>  ููุน ุฐูู ุ ูุจูู ุงูุฎุท B ูุชุงุญูุง ุทูุงู ุงููุชุฑุฉ ุจุฃููููุง.  ููุฏ ุถุญุช ุจุจุนุถ ุงูุชูุฑุงุฑ ูู ุฃุฌู ุงููุตูู. <br><br><img src="https://habrastorage.org/webt/qn/rd/ep/qnrdep5m7sszgxjesb_kfwuw-zw.png"><br>  <i>ุงูุชูู.</i>  <i>16. ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุบูุฑ ูุชููุฑุฉ ุฃุซูุงุก ุงููุฒุงููุฉ</i> <br><br>  ุจุนุฏ ุณุงุนุชูู ุ ุชุตุจุญ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ A ูุชุงุญุฉ ุฃูุถูุง ููุฏ ุชุจุฏุฃ ูุฑุฉ ุฃุฎุฑู ูู ูุจูู ุนูููุงุช ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุญุฏูุซ </h3><br>  ูุฐุง ุงูุณููู ุญุธุฑ ุฃุซูุงุก ุงููุฒุงููุฉ ูุฌุนู ูู ุงูุตุนุจ ุชุฑููุฉ ุงููุชู ูุน ููุงุฆู ุงูุชุธุงุฑ ูุจูุฑุฉ ุฌุฏุงู.  ูู ูุฑุญูุฉ ูุง ุ ูุฌุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุนูุฏุฉ ูุน ุงููุนุงูุฌ ุ ููุง ูุนูู ุฅูุง ุงูุชุจุฏูู ุฅูู ุงููุณุฎุฉ ุงููุชุทุงุจูุฉ ุฃู ุฅููุงู ุชุดุบูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุฃุซูุงุก ุชุญุฏูุซ ุงูุฎุงุฏู.  ุฅุฐุง ุงุฎุชุฑูุง ุนูููุฉ ุงูุชูุงู ุ ูุณูู ูููุฏ ุงูุฑุณุงุฆู ุฅุฐุง ูู ุชุชู ูุฒุงููุฉ ุงููุฑุงูุง.  ุจุดูู ุงูุชุฑุงุถู ุ ุฃุซูุงุก ูุตู ุงููุณูุท ุ ูุง ูุชู ุชูููุฐ ุงูุงูุชูุงู ุฅูู ูุณุฎุฉ ูุชุทุงุจูุฉ ุบูุฑ ูุชุฒุงููุฉ.  ูุฐุง ูุนูู ุฃูู ุจูุฌุฑุฏ ุนูุฏุฉ ุงููุณูุท ุ ูุง ูููุฏ ุฃู ุฑุณุงุฆู ุ ูุงูุถุฑุฑ ุงููุญูุฏ ูุงู ูุฌุฑุฏ ูุงุฆูุฉ ุงูุชุธุงุฑ ุจุณูุทุฉ.  ูุฎุถุน ุงููุณุทุงุก ุงููุนุทููู ูุณูุงุณุฉ <code>ha-promote-on-shutdown</code> .  ููููู ุชุนููู ุฅุญุฏู ุงููููุชูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>always</code> = ุชูููู ุงูุชุจุฏูู ุฅูู ุงููุฑุงูุง ุบูุฑ ุงููุชุฒุงููุฉ <br></li><li style=";text-align:right;direction:rtl">  <code>when-synced</code> = ูู ุจุงูุชุจุฏูู ุฅูู ุงููุณุฎุฉ ุงููุชุทุงุจูุฉ ููุท ุ ูุฅูุง ุชุตุจุญ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุบูุฑ ูุงุจูุฉ ูููุตูู ูููุฑุงุกุฉ ูุงููุชุงุจุฉ.  ุชุนูุฏ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุจูุฌุฑุฏ ุนูุฏุฉ ุงููุณูุท </li></ul><br>  ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ูุน ููุงุฆู ุงูุงูุชุธุงุฑ ุงููุจูุฑุฉ ุ ุนููู ุฃู ุชุฎุชุงุฑ ุจูู ููุฏุงู ุงูุจูุงูุงุช ูุนุฏู ุฅููุงููุฉ ุงููุตูู ุฅูููุง. <br><br><h3 style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชููุฑ ูุญุณู ุฃูู ุงูุจูุงูุงุช </h3><br>  ูุจู ุงุชุฎุงุฐ ูุฑุงุฑ ุ ูุฌุจ ุฃู ุชุคุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุชุนููุฏ ูุงุญุฏ.  ูู ุญูู ุฃู ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ ุฃูุถู ููุชูุฑุงุฑ ุ ููู ุชุคุซุฑ ุนูู ุฃูุงู ุงูุจูุงูุงุชุ  ุจุงูุทุจุน ุ ุจูุถู ุงูุชูุฑุงุฑ ุงูุฃูุถู ุ ูู ุบูุฑ ุงููุฑุฌุญ ุฃู ูููุฏ RabbitMQ ุงูุฑุณุงุฆู ุงูููุฌูุฏุฉ ุ ูููู ูุงุฐุง ุนู ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ ูู ุงููุงุดุฑููุ <br><br>  ููุง ุชุญุชุงุฌ ุฅูู ูุฑุงุนุงุฉ ูุง ููู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ูููู ูููุงุดุฑ ููุท ุฅุฑุฌุงุน ุงูุฎุทุฃ ุ ูุณูู ุชููู ุงูุฎุฏูุฉ ุฃู ุงููุณุชุฎุฏู ุงูุฃุนูู ุจุฅุนุงุฏุฉ ุงููุญุงููุฉ ูุงุญููุงุ <br></li><li style=";text-align:right;direction:rtl">  ูู ูููู ูููุงุดุฑ ุญูุธ ุฑุณุงูุฉ ูุญูููุง ุฃู ูู ูุงุนุฏุฉ ุจูุงูุงุช ูุฅุนุงุฏุฉ ุงููุญุงููุฉ ูุงุญููุงุ </li></ul><br>  ุฅุฐุง ูุงู ุงููุงุดุฑ ูุงุฏุฑูุง ููุท ุนูู ุฅุณูุงุท ุงูุฑุณุงูุฉ ุ ูุฅู ุชุญุณูู ุฅููุงููุฉ ุงููุตูู ูุฒูุฏ ุฃูุถูุง ูู ุฃูุงู ุงูุจูุงูุงุช. <br><br>  ูุจุงูุชุงูู ุ ูุฌุจ ุงูุณุนู ูุชุญููู ุงูุชูุงุฒู ุ ูุงููุฑุงุฑ ูุนุชูุฏ ุนูู ุงููููู ุงููุญุฏุฏ. <br><br><h1 style=";text-align:right;direction:rtl">  ูุดุงูู ha-promotion-on-failure = ุนูุฏ ุงููุฒุงููุฉ </h1><br>  ููุฑุฉ <i><b>ha-promotion-on-failure</b></i> = <i><b>ุนูุฏูุง</b></i> ุชุชู <i><b>ูุฒุงููุชูุง</b></i> ูู ุฃููุง ูููุน ุงูุชุจุฏูู ุฅูู ูุณุฎุฉ ูุชุทุงุจูุฉ ุบูุฑ ูุชุฒุงููุฉ ูุจุงูุชุงูู ุชุฌูุจ ููุฏ ุงูุจูุงูุงุช.  ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูุง ูููู ุงููุตูู ุฅูููุง ูููุฑุงุกุฉ ุฃู ุงููุชุงุจุฉ.  ุจุฏูุงู ูู ุฐูู ุ ูุญุงูู ุฅุฑุฌุงุน ูุณูุท ูุชุฑุงุฌุน ุจุจูุงูุงุช ุบูุฑ ุชุงููุฉ ุจุญูุซ ูุณุชุฃูู ุงูุนูู ูุณูุฏ ุจุฏูู ููุฏุงู ุงูุจูุงูุงุช. <br><br>  ููู (ููุฐุง ูุจูุฑ ููู) ุฅุฐุง ููุฏ ุงููุณูุท ุจูุงูุงุชู ุ ุนูุฏุฆุฐู ูุฏููุง ูุดููุฉ ูุจูุฑุฉ: ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุถุงุฆุนุฉ!  ุฐูุจ ูู ุงูุจูุงูุงุช!  ุญุชู ูู ูุงู ูุฏูู ูุฑุงูุง ุชูุญู ุจุงูุฑูุจ ุงูุฃุณุงุณู ุ ููุฐู ุงููุฑุงูุง ูุชู ุชุฌุงูููุง ุฃูุถูุง. <br><br>  ูุฅุนุงุฏุฉ ุฅุถุงูุฉ ุนูุฏุฉ ุจููุณ ุงูุงุณู ุ ูุทูุจ ูู ุงููุฌููุนุฉ ุฃู ุชูุณู ุงูุนูุฏุฉ ุงูููููุฏุฉ (ุจุงุณุชุฎุฏุงู <i>ุงูุฃูุฑ rabbitmqctl forget_cluster_node</i> ) ูุฃู ุชุจุฏุฃ ูุณูุทูุง ุฌุฏูุฏูุง ูุญูู ููุณ ุงุณู ุงููุถูู.  ุทุงููุง ูุชุฐูุฑ ูุธุงู ุงููุฌููุนุฉ ุงูุนูุฏุฉ ุงูููููุฏุฉ ุ ูุฅูู ูุชุฐูุฑ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงููุฏููุฉ ูุงููุฑุงูุง ุบูุฑ ุงููุชุฒุงููุฉ.  ุนูุฏูุง ููุทูุจ ูู ุงููุฌููุนุฉ ุฃู ุชูุณู ุนูุฏุฉ ููููุฏุฉ ุ ูุชู ุฃูุถูุง ูุณูุงู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูุฐู.  ุฃูุช ุงูุขู ุจุญุงุฌุฉ ุฅูู ุฅุนุงุฏุฉ ุงูุฅุนูุงู ุนููุง.  ููุฏูุง ุฌููุน ุงูุจูุงูุงุช ุ ุนูู ุงูุฑุบู ูู ุฃู ูุฏููุง ูุฑุงูุง ูุน ูุฌููุนุฉ ุจูุงูุงุช ุฌุฒุฆูุฉ.  ุณูููู ูู ุงูุฃูุถู ุงูุชุจุฏูู ุฅูู ูุณุฎุฉ ูุชุทุงุจูุฉ ุบูุฑ ูุชุฒุงููุฉ! <br><br>  ูุฐูู ุ ูุฅู ุงููุฒุงููุฉ ุงููุฏููุฉ (ููุดู ุงููุฒุงููุฉ) ุจุงูุงูุชุฑุงู ูุน <code>ha-promote-on-failure=when-synced</code> ุ ูู ุฑุฃูู ุ ุชุนุชุจุฑ ูุฎุงุทุฑุฉ ูุจูุฑุฉ.  ุชุดูุฑ ุงููุณุชูุฏุงุช ุฅูู ุฃู ูุฐุง ุงูุฎูุงุฑ ููุฌูุฏ ูู ุฃุฌู ุฃูุงู ุงูุจูุงูุงุช ุ ูููู ุณููู ุฐู ุญุฏูู. <br><br><h1 style=";text-align:right;direction:rtl">  ุฅุนุงุฏุฉ ุงูุชูุงุฒู ููุงุณุงุชุฐุฉ </h1><br>  ููุง ูุนุฏูุง ุ ูุนูุฏ ุฅูู ูุดููุฉ ุชุฑุงูู ุฌููุน ุงูุฃุณุงุชุฐุฉ ุนูู ุนูุฏ ูุงุญุฏุฉ ุฃู ุฃูุซุฑ.  ูููู ุฃู ูุญุฏุซ ูุฐุง ุญุชู ูุชูุฌุฉ ูุงุณุชููุงู ุชุญุฏูุซุงุช ูุธุงู ุงููุฌููุนุฉ.  ูู ูุฌููุนุฉ ููููุฉ ูู ุซูุงุซุฉ ุนูุฏ ุ ุชุชุฑุงูู ุฌููุน ููุงุฆู ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ุนูู ุนูุฏ ุฃู ุงุซูุชูู. <br><br>  ูููู ุฃู ูููู ุฅุนุงุฏุฉ ุงูุชูุงุฒู ููุณุงุฏุฉ ูุดููุฉ ูุณุจุจูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ุฃุฏูุงุช ุฌูุฏุฉ ูุฅุนุงุฏุฉ ุงูุชูุงุฒู </li><li style=";text-align:right;direction:rtl">  ูุงุฆูุฉ ุงูุชุธุงุฑ ุงููุฒุงููุฉ </li></ul><br>  ูู ุฃุฌู ุฅุนุงุฏุฉ ุงูุชูุงุฒู ุ ููุฌุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุญู ุฅุถุงูู</a> ูุฌูุฉ ุฎุงุฑุฌูุฉ ุบูุฑ ูุนุชูุฏ ุฑุณูููุง.  ูููุง ูุชุนูู ุจุงูููููุงุช ุงูุฅุถุงููุฉ ูุฌูุฉ ุฎุงุฑุฌูุฉ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู</a> ุฏููู RabbitMQ: "ูููุฑ ุงูููููู ุงูุฅุถุงูู ุจุนุถ ุฃุฏูุงุช ุงูุชูููู ูุฅุนุฏุงุฏ ุงูุชูุงุฑูุฑ ุงูุฅุถุงููุฉ ุ ูููู ุบูุฑ ูุฏุนูู ููุง ูุชู ุงุฎุชุจุงุฑู ูู ูุจู ูุฑูู RabbitMQ.  ุงุณุชุฎุฏู ุนูู ูุณุคูููุชู ุงูุฎุงุตุฉ. " <br><br>  ููุงู ุญููุฉ ุฃุฎุฑู ูููู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ูู ุฎูุงู ุณูุงุณุงุช HA.  ูุฐูุฑ ุงูุฏููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุตู</a> ููุฐุง ุงูุบุฑุถ.  ูุนูู ุนูู ุงููุญู ุงูุชุงูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุฐู ุฌููุน ุงููุณุฎ ุงููุชุทุงุจูุฉ ุจุงุณุชุฎุฏุงู ุณูุงุณุฉ ูุคูุชุฉ ุฐุงุช ุฃููููุฉ ุฃุนูู ูู ุณูุงุณุฉ HA ุงูุญุงููุฉ. <br></li><li style=";text-align:right;direction:rtl">  ูุบูุฑ ุณูุงุณุฉ HA ุงููุคูุชุฉ ูุงุณุชุฎุฏุงู ูุถุน ุงูุนูุฏ ูุน ุงูุนูุฏุฉ ุงูุชู ูุฌุจ ููู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ุฅูููุง. <br></li><li style=";text-align:right;direction:rtl">  ูุฒุงููุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูููุฌุฑุฉ ุงููุณุฑูุฉ. <br></li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุชูุงู ุงูุชุฑุญูู ุ ูุญุฐู ุงูุณูุงุณุฉ ุงููุคูุชุฉ.  ุชุฏุฎู ุงูุณูุงุณุฉ ุงูุฃูููุฉ ูู HA ุญูุฒ ุงูุชูููุฐ ููุชู ุฅูุดุงุก ุงูุนุฏุฏ ุงููุทููุจ ูู ุงููุฑุงูุง. </li></ul><br>  ุงูุนูุจ ูู ุฃู ูุฐุง ุงูููุฌ ูุฏ ูุง ูุนูู ุฅุฐุง ูุงู ูุฏูู ููุงุฆู ุงูุชุธุงุฑ ูุจูุฑุฉ ุฃู ูุชุทูุจุงุช ุงูุชูุฑุงุฑ ุงูุตุงุฑูุฉ. <br><br>  ุงูุขู ุฏุนููุง ูุฑู ููู ุชุนูู ูุฌููุนุงุช RabbitMQ ูุน ุฃูุณุงู ุงูุดุจูุฉ. <br><br><h1 style=";text-align:right;direction:rtl">  ุงููุทุงุน ุงูุงุชุตุงู </h1><br>  ูุชู ุชูุตูู ุนูุฏ ุงููุธุงู ุงูููุฒุน ุจูุงุณุทุฉ ุงุฑุชุจุงุทุงุช ุงูุดุจูุฉ ุ ููููู ุ ูุณูุชู ูุทุน ุงุชุตุงู ุงุฑุชุจุงุทุงุช ุงูุดุจูุฉ.  ูุนุชูุฏ ุชูุฑุงุฑ ุงูุงููุทุงุน ุนูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงููุญููุฉ ุฃู ููุซูููุฉ ุงูุณุญุงุจุฉ ุงููุญุฏุฏุฉ.  ูู ุฃู ุญุงู ุ ูุฌุจ ุฃู ุชููู ุงูุฃูุธูุฉ ุงูููุฒุนุฉ ูุงุฏุฑุฉ ุนูู ุงูุชุนุงูู ูุนูุง.  ูุฑุฉ ุฃุฎุฑู ุ ูุฏููุง ุฎูุงุฑ ุจูู ุฅููุงููุฉ ุงููุตูู ูุงูุงุชุณุงู ุ ูุงูุฎุจุฑ ุงูุณุงุฑ ูู ุฃู RabbitMQ ูููุฑ ููุงููุง (ููุณ ููุท ูู ููุณ ุงูููุช). <br><br>  ูุน RabbitMQ ุ ูุฏููุง ุฎูุงุฑุงู ุฑุฆูุณูุงู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุณูุงุญ ุจุงููุตู ุงูููุทูู (ุงููุณุงู ุงูุฏูุงุบ).  ูููุฑ ูุฐุง ุฅููุงููุฉ ุงููุตูู ุ ูููู ูููู ุฃู ูุณุจุจ ููุฏุงู ุงูุจูุงูุงุช. <br></li><li style=";text-align:right;direction:rtl">  ุนุฏู ุงูุณูุงุญ ุจุงููุตู ุงูููุทูู.  ูุฏ ูุคุฏู ุฅูู ููุฏุงู ูุฏู ุงูุชููุฑ ุนูู ุงููุฏู ุงููุตูุฑ ุงุนุชูุงุฏูุง ุนูู ููููุฉ ุงุชุตุงู ุงูุนููุงุก ุงููุชูุฉ.  ูููู ุฃู ูุคุฏู ุฃูุถูุง ุฅูู ุนุฏู ุฅููุงููุฉ ุงููุตูู ุงููุงูู ูู ูุฌููุนุฉ ูู ุงูุนูุฏุชูู. </li></ul><br>  ูููู ูุง ูู ุงููุตู ุงูููุทููุ  ูุฐุง ูู ุนูุฏูุง ูุชู ุชูุณูู ูุชูุฉ ูู ุงุซููู ุจุณุจุจ ููุฏุงู ุงุชุตุงูุงุช ุงูุดุจูุฉ.  ุนูู ูู ุฌุงูุจ ุ ุชุฑุชูุน ุงููุฑุงูุง ุฅูู ุฏุฑุฌุฉ ุงููุงุฌุณุชูุฑ ุ ูุฐูู ูู ุงูููุงูุฉ ุ ููุงู ุงูุนุฏูุฏ ูู ุงูุฃุณูุงุฏ ูู ูู ููุนุทู. <br><br><img src="https://habrastorage.org/webt/mi/4f/bb/mi4fbbuk9maj487alkqsbbykkns.png"><br>  <i>ุงูุชูู.</i>  <i>17. ุงูุฎุท ุงูุฑุฆูุณู ูุงุซููู ูู ุงููุฑุงูุง ุ ูู ุนูู ุนูุฏุฉ ูููุตูุฉ.</i>  <i>ุซู ูุญุฏุซ ูุดู ูู ุงูุดุจูุฉ ูููุตู ูุณุฎุฉ ูุชุทุงุจูุฉ ูุงุญุฏุฉ.</i>  <i>ุชุฑู ุงูุนูุฏุฉ ุงููููุตูุฉ ุฃู ุงูุงุซููู ุงูุฃุฎุฑููู ูุฏ ุณูุทุง ุ ูุชูุฏู ุงููุฑุงูุง ุงูุฎุงุตุฉ ุจู ููุณูุฏ.</i>  <i>ุงูุขู ูุฏููุง ุณุทุฑูู ุฑุฆูุณููู ุ ูููุงููุง ูุณูุญ ุจุงููุชุงุจุฉ ูุงููุฑุงุกุฉ.</i> <br><br>  ุฅุฐุง ูุงู ุงููุงุดุฑูู ุจุฅุฑุณุงู ุจูุงูุงุช ุฅูู ููุง ุงููุงุฌุณุชูุฑ ุ ูุณูุญุตู ุนูู ูุณุฎุชูู ูุชุจุงุนุฏุชูู ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ. <br><br>  ุชููุฑ ุฃูุถุงุน RabbitMQ ุงููุฎุชููุฉ ุฅููุงููุฉ ุงููุตูู ุฃู ุงูุชูุงุณู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุฌุงูู ุงููุถุน (ุงูุงูุชุฑุงุถู) </h3><br>  ูููุฑ ูุฐุง ุงููุถุน ุฅููุงููุฉ ุงููุตูู.  ุจุนุฏ ููุฏุงู ุงูุงุชุตุงู ุ ูุญุฏุซ ูุตู ููุทูู.  ุจุนุฏ ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุ ูุฌุจ ุนูู ุงููุณุคูู ุชุญุฏูุฏ ุงููุณู ุงูููุถู.  ุณูุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฌุงูุจ ุงูุฎุงุณุฑ ุ ูุณูุชู ููุฏ ุฌููุน ุงูุจูุงูุงุช ุงููุชุฑุงููุฉ ูู ูุฐุง ุงูุฌุงูุจ. <br><br><img src="https://habrastorage.org/webt/ih/rj/ow/ihrjow-ceolx0wy8y2o-cn2yiuk.png"><br>  <i>ุงูุชูู.</i>  <i>18. ุซูุงุซุฉ ูุงุดุฑูู ูุฑุชุจุทูู ุจุซูุงุซุฉ ูุณุทุงุก.</i>  <i>ุฏุงุฎูููุง ุ ุชููู ุงููุฌููุนุฉ ุจุฅุนุงุฏุฉ ุชูุฌูู ุฌููุน ุงูุทูุจุงุช ุฅูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ุนูู ุงููุณูุท 2.</i> <br><br>  ุงูุขู ูุญู ูุฎุณุฑ ุงููุณูุท 3. ุฅูู ูุฑู ุฃู ุงูุณูุงุณุฑุฉ ุงูุขุฎุฑูู ูุฏ ุณูุทูุง ุ ููููู ูุฑุขุชู ุฅูู ุงูุณูุฏ.  ูุฐุง ูู ุงููุตู ุงูููุทูู. <br><br><img src="https://habrastorage.org/webt/u_/l8/af/u_l8af-qqcyv4ldqdgwrn4t22ei.png"><br>  <i>ุงูุชูู.</i>  <i>19. ุงูุงููุตุงู ุงูููุทูู (ุงููุณุงู ุงูุฏูุงุบ).</i>  <i>ุชุณุฌู ุงูุณุฌูุงุช ูู ุณุทุฑูู ุฑุฆูุณููู ุ ูุชุชุจุงุนุฏ ูุณุฎุชุงู.</i> <br><br>  ุชุชู ุงุณุชุนุงุฏุฉ ุงูุงุชุตุงู ุ ูููู ูุจูู ุงููุตู ุงูููุทูู.  ูุฌุจ ุนูู ุงููุณุคูู ุชุญุฏูุฏ ุงูุฌุงูุจ ุงูุฎุงุณุฑ ูุฏูููุง.  ูู ุงูุญุงูุฉ ุงูุชุงููุฉ ุ ูููู ุงููุณุคูู ุจุฅุนุงุฏุฉ ุชุดุบูู Broker 3. ูุชู ููุฏ ุฌููุน ุงูุฑุณุงุฆู ุงูุชู ูู ูุชููู ูู ููููุง. <br><br><img src="https://habrastorage.org/webt/_o/a9/ft/_oa9ftbuvl6dwnewtgfkrhkyva4.png"><br>  <i>ุงูุชูู.</i>  <i>20. ุงููุณุคูู ูุนุทู ุงููุณูุท 3.</i> <br><br><img src="https://habrastorage.org/webt/ni/y_/xq/niy_xqsgzuvf5ktcta35z98zzxs.png"><br>  <i>ุงูุชูู.</i>  <i>21. ูุจุฏุฃ ุงููุณุคูู Broker 3 ูููุถู ุฅูู ุงููุฌููุนุฉ ููููุฏ ูู ุงูุฑุณุงุฆู ุงูุชู ุจููุช ููุงู.</i> <br><br>  ุฃุซูุงุก ููุฏ ุงูุงุชุตุงู ูุจุนุฏ ุงุณุชุนุงุฏุชู ุ ูุงูุช ุงููุฌููุนุฉ ููุงุฆูุฉ ุงูุงูุชุธุงุฑ ูุฐู ูุชุงุญุฉ ูููุฑุงุกุฉ ูุงููุชุงุจุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุถุน Autoheal </h3><br>  ูุนูู ุจุดูู ูุดุงุจู ููุถุน ุงูุชุฌุงูู ุ ุจุงุณุชุซูุงุก ุฃู ุงููุชูุฉ ููุณูุง ุชุญุฏุฏ ุชููุงุฆููุง ุงูุฌุงูุจ ุงูุฎุงุณุฑ ุจุนุฏ ุชูุณูู ุงูุงุชุตุงู ูุงุณุชุนุงุฏุชู.  ูุนูุฏ ุงูุฌุงูุจ ุงูุฎุงุณุฑ ุฅูู ุงููุชูุฉ ูุงุฑุบูุง ุ ููููุฏ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุฌููุน ุงูุฑุณุงุฆู ุงูุชู ุชู ุฅุฑุณุงููุง ููุท ุฅูู ูุฐุง ุงูุฌุงูุจ. <br><br><h3 style=";text-align:right;direction:rtl">  ูููุฉ ูุถุน ุงูุฃูููุฉ </h3><br>  ุฅุฐุง ููุง ูุง ูุฑูุฏ ุงูุณูุงุญ ุจุงููุตู ุงูููุทูู ุ ูุฅู ุฎูุงุฑูุง ุงููุญูุฏ ูู ุฑูุถ ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ุนูู ุงูุฌุงูุจ ุงูุฃุตุบุฑ ุจุนุฏ ูุณู ุงููุฌููุนุฉ.  ุนูุฏูุง ูุฑู ูุณูุท ุฃูู ุนูู ุงูุฌุงูุจ ุงูุฃูู ุ ูุฅูู ูุชููู ูุคูุชูุง ุ ุฃู ุ ูุบูู ุฌููุน ุงูุงุชุตุงูุงุช ุงูุญุงููุฉ ููุฑูุถ ุฃู ุงุชุตุงูุงุช ุฌุฏูุฏุฉ.  ูุฑุฉ ูุงุญุฏุฉ ูู ุงูุซุงููุฉ ุ ูุฅูู ูุชุญูู ูุฅุนุงุฏุฉ ุงูุงุชุตุงู.  ุจูุฌุฑุฏ ุงุณุชุนุงุฏุฉ ุงูุงุชุตุงู ุ ูุณุชุฃูู ุงูุนูู ูููุถู ุฅูู ุงููุชูุฉ. <br><br><img src="https://habrastorage.org/webt/xl/cc/af/xlccafaylyx2nrsz5scaafo1h6u.png"><br>  <i>ุงูุชูู.</i>  <i>22. ูุฑุชุจุท ุซูุงุซุฉ ูุงุดุฑูู ุจุซูุงุซุฉ ูุณุทุงุก.</i>  <i>ุฏุงุฎูููุง ุ ุชููู ุงููุฌููุนุฉ ุจุฅุนุงุฏุฉ ุชูุฌูู ุฌููุน ุงูุทูุจุงุช ุฅูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุฑุฆูุณูุฉ ุนูู ุงููุณูุท 2.</i> <br><br>  ุจุนุฏ ุฐูู ูุชู ูุตู ุงููุณุทุงุก 1 ู 2 ุนู ุงููุณูุท 3. ุจุฏูุงู ูู ุชุฑููุฉ ูุณุฎุชูู ุฅูู ุฑุฆูุณูุฉ ุ ูุชููู ุงููุณูุท 3 ูุคูุชูุง ููุตุจุญ ูุชุนุฐุฑ ุงููุตูู ุฅููู. <br><br><img src="https://habrastorage.org/webt/8h/0_/hc/8h0_hc8vj99u6zaht7cgymlckve.png"><br>  <i>ุงูุชูู.</i>  <i>23. ูููู ุงููุณูุท 3 ุจุฅููุงู ุชุดุบูู ุฌููุน ุงูุนููุงุก ูุคูุชูุง ุ ููุฑูุถ ุทูุจุงุช ุงูุงุชุตุงู.</i> <br><br>  ุจูุฌุฑุฏ ุงุณุชุนุงุฏุฉ ุงูุงุชุตุงู ุ ูุฅูู ูุนูุฏ ุฅูู ุงููุชูุฉ. <br><br>  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ูุซุงู ุขุฎุฑ ุ ุญูุซ ูููู ุงูุฎุท ุงูุฑุฆูุณู ูู Broker 3. <br><br><img src="https://habrastorage.org/webt/rs/0s/if/rs0siffyxwpdc8imasvfvkapykw.png"><br>  <i>ุงูุชูู.</i>  <i>24. ุงูุฎุท ุงูุฑุฆูุณู ูู ุงููุณูุท 3.</i> <br><br>  ุซู ูุญุฏุซ ููุณ ููุฏุงู ุงูุงุชุตุงู.  ุงููุณูุท 3 ูุชููู ูุคูุชูุง ูุฃูู ุนูู ุงูุฌุงูุจ ุงูุฃุตุบุฑ.  ุนูู ุงูุฌุงูุจ ุงูุขุฎุฑ ุ ุชุฑู ุงูุนูุฏ ุฃู ุงููุณูุท 3 ูุฏ ุณูุท ุ ุจุญูุซ ุชุฑุชูุน ุงููุณุฎุฉ ุงููุฏููุฉ ูู ุงููุณูุทูู 1 ู 2 ููุณูุฏ. <br><br><img src="https://habrastorage.org/webt/ba/o3/gr/bao3gr7y31x5ljbbpkqkretaaty.png"><br>  <i>ุงูุชูู.</i>  <i>25. ุงูุงูุชูุงู ุฅูู ุงููุณูุท 2 ุฅุฐุง ูุงู ุงููุณูุท 3 ุบูุฑ ูุชููุฑ.</i> <br><br>  ุนูุฏ ุงุณุชุนุงุฏุฉ ุงูุงุชุตุงู ุ ุณููุถู Broker 3 ุฅูู ุงููุฌููุนุฉ. <br><br><img src="https://habrastorage.org/webt/3z/rp/3k/3zrp3knvfoew7m25bg6bg4dlhju.png"><br>  <i>ุงูุชูู.</i>  <i>26. ุนุงุฏุช ุงููุชูุฉ ุฅูู ุงูุชุดุบูู ุงูุทุจูุนู.</i> <br><br>  ูู ุงูููู ุฃู ูููู ุฃููุง ูุญุตู ุนูู ุชูุงุณู ุ ูููู ูููููุง ุฃูุถูุง ุงูุญุตูู ุนูู ุฅููุงููุฉ ุงููุตูู <i><b>ุฅุฐุง</b></i> ูุฌุญูุง ูู ููู ุงูุนููุงุก ุฅูู ูุนุธู ุงููุณู.  ุจุงููุณุจุฉ ููุนุธู ุงูููุงูู ุ ุณุฃุฎุชุงุฑ ุดุฎุตููุง ูุถุน Pause Minority ุ ูููู ูุนุชูุฏ ุญููุง ุนูู ุงูุญุงูุฉ ุงูุฎุงุตุฉ. <br><br>  ูุถูุงู ุชููุฑูุง ุ ูู ุงูููู ุงูุชุฃูุฏ ูู ุฃู ุงูุนููุงุก ูุชุตููู ุจูุฌุงุญ ุจุงููููุน.  ุงููุธุฑ ูู ุฎูุงุฑุงุชูุง. <br><br><h1 style=";text-align:right;direction:rtl">  ุงุชุตุงู ุงูุนููุงุก </h1><br>  ูุฏููุง ุงูุนุฏูุฏ ูู ุงูุฎูุงุฑุงุช ุญูู ููููุฉ ุฅุฑุณุงู ุงูุนููุงุก ุฅูู ุงูุฌุฒุก ุงูุฑุฆูุณู ูู ุงููุชูุฉ ุฃู ุฅูู ุนูุฏ ุงูุนูู (ุจุนุฏ ูุดู ุนูุฏุฉ ูุงุญุฏุฉ) ุจุนุฏ ููุฏุงู ุงูุงุชุตุงู.  ุฃููุงู ุ ุฏุนูุง ูุชุฐูุฑ ุฃู ูุงุฆูุฉ ุงูุชุธุงุฑ ูุนููุฉ ูุชู ุงุณุชุถุงูุชูุง ุนูู ูุถูู ูุนูู ุ ูููู ูุชู ูุณุฎ ุงูุชูุฌูู ูุงูุณูุงุณุงุช ุนูู ุฌููุน ุงููุถูููู.  ูููู ููุนููุงุก ุงูุงุชุตุงู ุจุฃู ุนูุฏุฉ ุ ูุณููุฌููู ุงูุชูุฌูู ุงูุฏุงุฎูู ุนูุฏ ุงูุถุฑูุฑุฉ.  ูููู ุนูุฏูุง ูุชู ุชุนููู ุงูุนูุฏุฉ ุ ูุฅููุง ุชุฑูุถ ุงูุงุชุตุงู ุ ูุฐูู ูุฌุจ ุนูู ุงูุนููุงุก ุงูุงุชุตุงู ุจุนูุฏุฉ ุฃุฎุฑู.  ุฅุฐุง ุณูุทุช ุนูุฏุฉ ุ ูุฅูู ูุง ูุณุชุทูุน ูุนู ุงููุซูุฑ ุนูู ุงูุฅุทูุงู. <br><br>  ุฎูุงุฑุงุชูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุงููุตูู ุฅูู ุงููุชูุฉ ุจุงุณุชุฎุฏุงู ููุงุฒู ุงูุชุญููู ุ ูุงูุฐู ูููู ุจุจุณุงุทุฉ ุจุงูุชุฏููุฑ ุนุจุฑ ุงูุนูุฏ ููููู ุงูุนููุงุก ุจูุญุงููุงุช ูุชูุฑุฑุฉ ููุงุชุตุงู ุญุชู ูุชู ุงูุงูุชูุงุก ุจูุฌุงุญ.      ,        ,        (  ).         ,    . <br></li><li style=";text-align:right;direction:rtl">         /   ,    .    ,        ,     . <br></li><li style=";text-align:right;direction:rtl">      ,          .       ,       ,   . <br></li><li style=";text-align:right;direction:rtl">    /    DNS.      TTL. </li></ul><br><h1 style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h1><br>   RabbitMQ    .      , : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">        ; <br></li><li style=";text-align:right;direction:rtl">      . </li></ul><br>         .   RabbitMQ      ,     .        ,     .         RabbitMQ        .      RabbitMQ     : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  . <br></li><li style=";text-align:right;direction:rtl">  . <br></li><li style=";text-align:right;direction:rtl">   . </li></ul><br>      ,   : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>ha-promote-on-failure=always</code> <br> </li><li style=";text-align:right;direction:rtl"> <code>ha-sync-mode=manual</code> <br> </li><li style=";text-align:right;direction:rtl"> <code>cluster_partition_handling=ignore</code> ( <code>autoheal</code> ) <br></li><li style=";text-align:right;direction:rtl">   <br></li><li style=";text-align:right;direction:rtl"> ,      ,  -     </li></ul><br>   ( )   : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> Publisher Confirms  Manual Acknowledgements    <br></li><li style=";text-align:right;direction:rtl"> <code>ha-promote-on-failure=when-synced</code> ,              !   <code>=always</code> . <br></li><li style=";text-align:right;direction:rtl"> <code>ha-sync-mode=automatic</code> (        ;  , ,       ) <br></li><li style=";text-align:right;direction:rtl">  Pause Minority <br></li><li style=";text-align:right;direction:rtl">   </li></ul><br>          ; ,      (,   ).        Shovel. <br><br>    - , ,  . <br><br> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> ,       RabbitMQ   Docker  Blockade,      ,    . <br><br>   : <br> โ1 โ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">habr.com/ru/company/itsumma/blog/416629</a> <br> โ2 โ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">habr.com/ru/company/itsumma/blog/418389</a> <br> โ3 โ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">habr.com/ru/company/itsumma/blog/437446</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar471858/">https://habr.com/ru/post/ar471858/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar471840/index.html">ููุงุฐุง ุชุฐูุจ ููููุงุจูุงุช</a></li>
<li><a href="../ar471844/index.html">5 ุฃุณุจุงุจ ูุฒูุงุฑุฉ EPAM INSIDER ูู ูุงุฒุงุฎุณุชุงู</a></li>
<li><a href="../ar471852/index.html">ุฃุฎุจุงุฑ ูู ุฎุฑูุทุฉ ุงูุดุงุฑุน ุงูููุชูุญ ุฑูู 481 (10/01/2019 - 07/10/2019)</a></li>
<li><a href="../ar471854/index.html">ุงูุญุฑุงุฑุฉ ุงูููุช 5G</a></li>
<li><a href="../ar471856/index.html">ูุญู ูุญู ุฌููุน ุฅุตุฏุงุฑุงุช 42 ูู ูุบุฒ ุฌุฑุนุฉ ูุงุฑู ุจูุชุฑ</a></li>
<li><a href="../ar471860/index.html">ููุฒุนู ุงููุชุฏ</a></li>
<li><a href="../ar471862/index.html">ุชูููุฐ ูุญูู PEG</a></li>
<li><a href="../ar471868/index.html">ุนูู ุงููุฑุงุซุฉ ูู ุงูุญุจ: ุงูุตุฑุงุน ุจูู ุงูุฌูุณูู ูุฃุณุงุณ ููุชุนุงูู ูู ุฃุฒูุงุฌ ูู ุงูุทููุฑ ุฃุญุงุฏูุฉ ุงูุฒูุงุฌ</a></li>
<li><a href="../ar471870/index.html">ุงูุงุณุชุฎุฏุงู ุงููุนุงู ูู libdispatch</a></li>
<li><a href="../ar471872/index.html">ูุงุฌูุงุช ูู C # 8: ุงูุชุฑุงุถุงุช ุฎุทูุฑุฉ ูู ุงูุชูููุฐ ุงูุงูุชุฑุงุถู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>