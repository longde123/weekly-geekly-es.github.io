<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ûó üåö ü§¨ Stockage AERODISK sur les processeurs Elbrus 8C domestiques üöµüèø üé≤ ‚ô•Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut, lecteurs de Habr. Nous voulons partager une tr√®s bonne nouvelle. Nous avons enfin attendu la v√©ritable production en s√©rie d'une nouvelle g√©n√©r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Stockage AERODISK sur les processeurs Elbrus 8C domestiques</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/aerodisk/blog/482434/"><p><img src="https://habrastorage.org/webt/ou/jl/p-/oujlp-a--ob6zgj5myhry58rdkm.jpeg"></p><br><p>  Salut, lecteurs de Habr.  Nous voulons partager une tr√®s bonne nouvelle.  Nous avons enfin attendu la v√©ritable production en s√©rie d'une nouvelle g√©n√©ration de processeurs Elbrus 8C russes.  Officiellement, la production en s√©rie devait commencer d√©j√† en 2016, mais, en fait, c'√©tait la production de masse qui n'a commenc√© qu'en 2019 et actuellement environ 4000 processeurs ont d√©j√† √©t√© commercialis√©s. </p><br><p>  Presque imm√©diatement apr√®s le d√©but de la production de masse, ces processeurs sont √©galement apparus dans notre Aerodisk, pour lesquels nous tenons √† remercier la soci√©t√© NORSI-TRANS, qui nous a aimablement fourni sa plate-forme mat√©rielle Yakhont UVM, prenant en charge les processeurs Elbrus 8C, pour le portage du logiciel de stockage.  Il s'agit d'une plate-forme moderne et universelle r√©pondant √† toutes les exigences du MCST.  √Ä l'heure actuelle, la plate-forme est utilis√©e par des consommateurs sp√©ciaux et des op√©rateurs de t√©l√©communications pour assurer la mise en ≈ìuvre des actions √©tablies lors des activit√©s de recherche op√©rationnelle. </p><br><p>  Pour le moment, le portage a √©t√© effectu√© avec succ√®s et le stockage AERODISK est d√©sormais disponible dans la version avec les processeurs Elbrus nationaux. </p><br><p>  Dans cet article, nous parlerons des processeurs eux-m√™mes, de leur histoire, de leur architecture et, bien s√ªr, de notre impl√©mentation du stockage sur Elbrus. </p><a name="habracut"></a><br><h2 id="istoriya">  L'histoire </h2><br><p>  L'histoire des processeurs Elbrus remonte √† l'√©poque de l'Union sovi√©tique.  En 1973, √† l'Institut de m√©canique de pr√©cision et de g√©nie informatique.  S.A.  Lebedev (du nom du m√™me Sergey Lebedev, qui avait auparavant dirig√© le d√©veloppement du premier ordinateur sovi√©tique MESM, puis de BESM) a commenc√© le d√©veloppement de syst√®mes informatiques multiprocesseurs appel√©s "Elbrus".  Vsevolod Sergeevich Burtsev a dirig√© le d√©veloppement, et Boris Artashesovich Babayan, qui √©tait l'un des concepteurs en chef adjoints, a √©galement pris une part active au d√©veloppement. </p><br><p><img src="https://habrastorage.org/webt/32/v3/-z/32v3-ztuwe2lzirl5m-iwar5gog.jpeg"><br>  <em>Vsevolod Sergeevich Burtsev</em> </p><br><p><img src="https://habrastorage.org/webt/nn/y7/op/nny7opn3lokxamvfgphpbp2caxw.png"><br>  <em>Boris Artashesovich Babayan</em> </p><br><p> Le principal client du projet √©tait, bien s√ªr, les forces arm√©es de l'URSS, et cette s√©rie d'ordinateurs a finalement √©t√© utilis√©e avec succ√®s pour cr√©er des centres informatiques de commandement et des syst√®mes de tir pour les syst√®mes de d√©fense antimissile, ainsi que d'autres syst√®mes √† usage sp√©cial. </p><br><p>  Le premier ordinateur Elbrus a √©t√© achev√© en 1978.  Il avait une architecture modulaire et pouvait comprendre de 1 √† 10 processeurs bas√©s sur des circuits d'int√©gration moyens.  La vitesse de cette machine a atteint 15 millions d'op√©rations par seconde.  La quantit√© de RAM, qui √©tait courante pour les 10 processeurs, pouvait aller de 2 √† 20 mots de machine, soit 64 Mo. </p><br><p>  Plus tard, il s'est av√©r√© que de nombreuses technologies utilis√©es dans le d√©veloppement d'Elbrus en m√™me temps ont √©t√© √©tudi√©es dans le monde, et l'International Business Machine (IBM) y a particip√©, mais le travail sur ces projets, contrairement au travail sur Elbrus, n'a jamais √©t√© ont √©t√© achev√©s et n'ont pas abouti √† un produit fini. </p><br><p>  Selon Vsevolod Burtsev, les ing√©nieurs sovi√©tiques ont essay√© d'appliquer l'exp√©rience la plus avanc√©e des d√©veloppeurs nationaux et √©trangers.  L'architecture des ordinateurs Elbrus a √©galement √©t√© influenc√©e par les ordinateurs Burroughs, les d√©veloppements Hewlett-Packard, ainsi que par l'exp√©rience des d√©veloppeurs BESM-6. </p><br><p>  Mais en m√™me temps, de nombreux d√©veloppements √©taient originaux.  Le plus int√©ressant dans "Elbrus-1" √©tait pr√©cis√©ment son architecture. </p><br><p>  Le supercalculateur cr√©√© a √©t√© le premier ordinateur de l'URSS √† utiliser une architecture superscalaire.  L'utilisation massive de processeurs superscalaires √† l'√©tranger n'a commenc√© que dans les ann√©es 90 du si√®cle dernier avec l'av√®nement de processeurs Intel Pentium abordables sur le march√©. </p><br><p>  De plus, pour organiser le transfert des flux de donn√©es entre les p√©riph√©riques et la RAM de l'ordinateur, des processeurs d'entr√©e / sortie sp√©ciaux pourraient √™tre utilis√©s.  Il pouvait y avoir jusqu'√† quatre de ces processeurs dans le syst√®me; ils fonctionnaient en parall√®le avec le processeur central et avaient leur propre m√©moire d√©di√©e. </p><br><h3 id="elbrus-2">  Elbrus-2 </h3><br><p>  En 1985, Elbrus a obtenu sa suite logique, l'ordinateur Elbrus-2 a √©t√© cr√©√© et mis en production en s√©rie.  En architecture, il n'√©tait pas tr√®s diff√©rent de son pr√©d√©cesseur, mais il utilisait une nouvelle base d'√©l√©ments, ce qui a permis d'augmenter la productivit√© globale de pr√®s de 10 fois - de 15 millions d'op√©rations par seconde √† 125 millions. La RAM de l'ordinateur est pass√©e √† 16 millions de mots de 72 bits ou 144 Mo.  Le d√©bit maximal des canaux d'E / S Elbrus-2 √©tait de 120 Mo / s. </p><br><p>  "Elbrus-2" a √©t√© activement utilis√© dans les centres de recherche nucl√©aire de Chelyabinsk-70 et Arzamas-16 dans le MCC, dans le syst√®me de d√©fense antimissile A-135, ainsi que dans d'autres installations militaires. </p><br><p><img src="https://habrastorage.org/webt/z1/i4/t4/z1i4t4rscjdds4558nywm7z3kc8.jpeg"><br>  <em>Complexe SPRUT C1200 bas√© sur les processeurs Elbrus</em> </p><br><p>  La cr√©ation d'Elbrus a √©t√© appr√©ci√©e par les dirigeants de l'Union sovi√©tique.  De nombreux ing√©nieurs ont re√ßu des ordres et des m√©dailles.  Le concepteur g√©n√©ral Vsevolod Burtsev et un certain nombre d'autres sp√©cialistes ont re√ßu des prix d'√âtat.  Et Boris Babayan a re√ßu l'Ordre de la R√©volution d'Octobre. </p><br><p>  Ces r√©compenses sont plus que m√©rit√©es, Boris Babayan a d√©clar√© plus tard: </p><br><blockquote>  "En 1978, nous avons fabriqu√© la premi√®re machine superscalaire, Elbrus-1. Maintenant en Occident, ils ne fabriquent des superscalaires que de cette architecture. La premi√®re superscalaire est apparue dans la 92e ann√©e, la n√¥tre dans la 78e. De plus, cette version de la superscalaire que nous avons fabriqu√©e , similaire au Pentium Pro, fabriqu√© par Intel au cours de la 95e ann√©e. " </blockquote><p>  Ces mots sur la primaut√© historique sont √©galement confirm√©s aux √âtats-Unis, Keith Diefendorff, le d√©veloppeur de Motorola 88110, l'un des premiers processeurs superscalaires occidentaux, a √©crit: </p><br><blockquote>  "En 1978, pr√®s de 15 ans plus t√¥t que les premiers processeurs superscalaires occidentaux sont apparus, un processeur a √©t√© utilis√© dans Elbrus-1, avec l'√©mission de deux instructions par cycle, modifiant l'ordre d'ex√©cution des instructions, renommant les registres et l'ex√©cution par hypoth√®se." </blockquote><br><h3 id="elbrus-3">  Elbrus-3 </h3><br><p>  C'√©tait en 1986, et presque imm√©diatement apr√®s avoir termin√© les travaux sur le deuxi√®me Elbrus, ITM &amp; VT a commenc√© √† d√©velopper un nouveau syst√®me Elbrus-3 en utilisant une architecture de processeur fondamentalement nouvelle.  Boris Babayan a qualifi√© cette approche de ¬´post-superscalaire¬ª.  C'est cette architecture, appel√©e plus tard VLIW / EPIC, que les processeurs Intel Itanium ont commenc√© √† utiliser √† l'avenir (au milieu des ann√©es 90) (et en URSS, ces d√©veloppements ont commenc√© en 1986 et se sont termin√©s en 1991). </p><br><p>  L'id√©e de g√©rer explicitement le parall√©lisme des op√©rations √† l'aide d'un compilateur a d'abord √©t√© r√©alis√©e dans ce complexe informatique. </p><br><p>  En 1991, le premier et, malheureusement, le seul ordinateur Elbrus-3 a √©t√© lib√©r√©, qu'ils n'ont pas pu installer compl√®tement, et apr√®s l'effondrement de l'Union sovi√©tique, personne n'en avait besoin, et les conceptions et les plans sont rest√©s sur papier. </p><br><h3 id="predposylki-k-novoy-arhitekture">  Contexte de la nouvelle architecture </h3><br><p>  L'√©quipe qui a travaill√© √† ITMiVT pour cr√©er des superordinateurs sovi√©tiques n'a pas √©clat√©, mais a continu√© √† travailler en tant qu'entreprise distincte sous le nom de MCST (Moscow SPARK-Technology Center).  Et au d√©but des ann√©es 90, l'ICST a commenc√© une coop√©ration active avec Sun Microsystems, o√π l'√©quipe ICST a particip√© au d√©veloppement du microprocesseur UltraSPARC. </p><br><p>  C'est durant cette p√©riode qu'est n√© le projet d'architecture E2K, initialement financ√© par Sun.  Plus tard, le projet est devenu compl√®tement ind√©pendant et toute la propri√©t√© intellectuelle y est rest√©e avec le personnel du STIC. </p><br><blockquote>  "Si nous avions continu√© √† travailler avec Sun dans ce domaine, alors tout aurait appartenu √† Sun. Bien que 90% du travail ait √©t√© fait avant l'apparition de Sun."  (Boris Babayan) </blockquote><br><h2 id="arhitektura-e2k">  Architecture E2K </h2><br><p>  Lorsque nous discutons de l'architecture des processeurs Elbrus, tr√®s souvent de nos coll√®gues de l'industrie informatique, nous entendons les d√©clarations suivantes: </p><br><blockquote>  ¬´Elbrus est une architecture RISC¬ª <br>  ¬´Elbrus est une architecture EPIC¬ª <br>  ¬´Elbrus est une architecture SPARC¬ª </blockquote><p>  En fait, aucune de ces affirmations n'est compl√®tement vraie, et si c'est le cas, ce n'est que partiellement. </p><br><p>  L'architecture E2K est une architecture de processeur originale distincte, les principales caract√©ristiques de E2K sont l'efficacit√© √©nerg√©tique et une excellente √©volutivit√© obtenues en d√©finissant un parall√©lisme explicite des op√©rations.  L'architecture E2K a √©t√© d√©velopp√©e par l'√©quipe ICST et est bas√©e sur l'architecture post-superscalaire (√† la EPIC) avec une certaine influence de l'architecture SPARC (avec le pass√© RISC).  Parall√®lement, dans la cr√©ation de trois des quatre architectures de base (Superscalars, postsuperscalars et SPARC), le MCST a √©t√© directement impliqu√©.  Le monde est vraiment petit. </p><br><p>  Afin d'√©viter toute confusion suppl√©mentaire, nous avons dessin√© un sch√©ma simple qui, bien que simpliste, mais montre tr√®s clairement les racines de l'architecture E2K. </p><br><p><img src="https://habrastorage.org/webt/_p/di/ek/_pdiekhlikt5q_vpspizfbiznby.png"></p><br><p>  Maintenant, un peu plus sur le nom de l'architecture, par rapport √† laquelle il y a aussi un malentendu. </p><br><p>  Dans diff√©rentes sources, vous pouvez trouver les noms suivants de cette architecture: "E2K", "Elbrus", "Elbrus 2000", ELBRUS ("ExpLicit Basic Resources Utilization Scheduling", c'est-√†-dire une planification explicite pour l'utilisation des ressources de base).  Tous ces noms disent la m√™me chose - √† propos de l'architecture, mais dans la documentation technique officielle, ainsi que dans les forums techniques, le nom E2K est utilis√© pour d√©signer l'architecture, donc √† l'avenir si nous parlons d'architecture de processeur, nous utilisons le terme "E2K", et si √† propos d'un processeur sp√©cifique, nous utilisons le nom "Elbrus". </p><br><h3 id="tehnicheskie-osobennosti-arhitektury-e2k">  Caract√©ristiques techniques de l'architecture E2K </h3><br><p>  Dans les architectures traditionnelles telles que RISC ou CISC (x86, PowerPC, SPARC, MIPS, ARM), le processeur re√ßoit un flux d'instructions con√ßues pour une ex√©cution s√©quentielle.  Le processeur peut d√©tecter des op√©rations ind√©pendantes et les ex√©cuter en parall√®le (superscalarit√©) et m√™me changer leur ordre (ex√©cution extraordinaire).  Cependant, l'analyse dynamique des d√©pendances et la prise en charge d'une ex√©cution extraordinaire ont leurs limites en termes de nombre de lancement et d'analyse de commandes par cycle.  De plus, les blocs correspondants √† l'int√©rieur du processeur consomment une quantit√© importante d'√©nergie, et leur mise en ≈ìuvre la plus compliqu√©e conduit parfois √† des probl√®mes de stabilit√© ou de s√©curit√©. </p><br><p>  Dans l'architecture E2K, le compilateur prend la majeure partie du travail sur l'analyse des d√©pendances et l'optimisation de l'ordre des op√©rations.  Le processeur re√ßoit la soi-disant entr√©e.  des commandes larges, dans chacune desquelles sont cod√©es les instructions pour tous les p√©riph√©riques ex√©cutifs du processeur qui doivent √™tre ex√©cut√©s sur cette horloge.  Le processeur n'a pas besoin d'analyser les d√©pendances entre les op√©randes ou de r√©organiser les op√©rations entre les commandes larges: tout cela est fait par le compilateur bas√© sur l'analyse du code source et la planification des ressources du processeur.  En cons√©quence, le composant mat√©riel du processeur peut √™tre plus simple et plus √©conomique. </p><br><p>  Le compilateur est capable d'analyser le code source beaucoup plus en profondeur que le mat√©riel du processeur RISC / CISC et de trouver des op√©rations plus ind√©pendantes.  Par cons√©quent, il y a plus d'actionneurs simultan√©s dans l'architecture E2K que dans les architectures traditionnelles. </p><br><p>  Caract√©ristiques actuelles de l'architecture E2K: </p><br><ul><li>  6 canaux de dispositifs arithm√©tiques logiques (ALU) fonctionnant en parall√®le. </li><li>  Un fichier de registre de 256 registres de 84 bits. </li><li>  Support mat√©riel pour les boucles, y compris le pipelining.  Am√©liore l'utilisation du processeur. </li><li>  Dispositif de pr√©-recherche de donn√©es asynchrone programmable avec canaux de lecture s√©par√©s.  Vous permet de masquer les retards d'acc√®s √† la m√©moire et d'utiliser pleinement ALU. </li><li>  Prise en charge de l'informatique sp√©culative et des pr√©dicats sur un seul bit.  Il permet de r√©duire le nombre de transitions et d'ex√©cuter simultan√©ment plusieurs branches du programme. </li><li>  Une large √©quipe capable de mettre en place jusqu'√† 23 op√©rations en un seul cycle avec un remplissage maximum (plus de 33 op√©rations lors du conditionnement d'op√©randes en instructions vectorielles). </li></ul><br><p><img src="https://habrastorage.org/webt/8a/d3/2t/8ad32tlti3athw8wndcx4kg0ngu.png"></p><br><h3 id="emulyaciya-h86">  √âmulation X86 </h3><br><p>  M√™me au stade de la conception de l'architecture, les d√©veloppeurs comprenaient l'importance de prendre en charge les logiciels √©crits pour l'architecture Intel x86.  Pour cela, un syst√®me de traduction dynamique (c'est-√†-dire en cours d'ex√©cution de programme, ou "√† la vol√©e") de codes binaires x86 en codes processeurs de l'architecture E2K a √©t√© impl√©ment√©.  Ce syst√®me peut fonctionner √† la fois en mode application (√† la mani√®re de WINE) et dans un mode similaire √† l'hyperviseur (il est alors possible d'ex√©cuter l'int√©gralit√© du syst√®me d'exploitation invit√© pour l'architecture x86). </p><br><p>  Gr√¢ce √† plusieurs niveaux d'optimisation, il est possible d'atteindre une vitesse √©lev√©e du code traduit.  La qualit√© de l'√©mulation de l'architecture x86 est confirm√©e par le lancement r√©ussi de plus de 20 syst√®mes d'exploitation (dont plusieurs versions de Windows) et des centaines d'applications sur les complexes informatiques Elbrus. </p><br><h3 id="zaschischennyy-rezhim-ispolneniya-programm">  Mode d'ex√©cution de programme prot√©g√© </h3><br><p>  L'une des id√©es les plus int√©ressantes h√©rit√©es des architectures Elbrus-1 et Elbrus-2 est la soi-disant ex√©cution s√©curis√©e des programmes.  Son essence est de garantir le fonctionnement du programme uniquement avec des donn√©es initialis√©es, de v√©rifier que tous les acc√®s √† la m√©moire appartiennent √† une plage d'adresses valide, de fournir une protection inter-modules (par exemple, prot√©ger le programme appelant d'une erreur dans la biblioth√®que).  Toutes ces v√©rifications sont effectu√©es dans le mat√©riel.  Pour le mode prot√©g√©, il existe un compilateur complet et une biblioth√®que de support d'ex√©cution.  Il faut comprendre que les restrictions impos√©es rendent impossible l'organisation de l'ex√©cution, par exemple, de code √©crit en C ++. </p><br><p>  M√™me dans le mode de fonctionnement ¬´non prot√©g√©¬ª habituel des processeurs Elbrus, il existe des fonctionnalit√©s qui augmentent la fiabilit√© du syst√®me.  Ainsi, la pile d'informations de liaison (la cha√Æne d'adresses de retour pour les appels de proc√©dure) est s√©par√©e de la pile de donn√©es utilisateur et n'est pas disponible pour les attaques utilis√©es dans les virus comme l'usurpation de l'adresse de retour. </p><br><p>  Ces d√©veloppements nous permettent non seulement de rattraper et de d√©passer √† l'avenir les architectures concurrentes en termes de performances et d'√©volutivit√©, mais offrent √©galement une protection contre les erreurs qui affectent x86 / amd64.  Signets comme Meltdown (CVE-2017-5754), Spectre (CVE-2017-5753, CVE-2017-5715), RIDL (CVE-2018-12126, CVE-2018-12130), Fallout (CVE-2018-12127), ZombieLoad (CVE-2019-11091) et similaires. </p><br><p>  La protection moderne contre les vuln√©rabilit√©s de l'architecture x86 / amd64 est bas√©e sur des correctifs au niveau du syst√®me d'exploitation.  C'est pourquoi la baisse des performances sur les g√©n√©rations actuelles et pr√©c√©dentes de processeurs de ces architectures est si sensible et varie de 30% √† 80%.  En tant qu'utilisateurs actifs de processeurs x86, nous le savons, souffrons et continuons de ¬´manger un cactus¬ª, mais la solution √† ces probl√®mes est dans l'≈ìuf pour nous (et, par cons√©quent, pour nos clients), un avantage incontestable, surtout si la solution est russe. </p><br><h3 id="tehnicheskie-harakteristiki">  Sp√©cifications techniques </h3><br><p>  Vous trouverez ci-dessous les sp√©cifications techniques officielles des processeurs Elbrus des g√©n√©rations pass√©es (4C), actuelles (8C), nouvelles (8CB) et futures (16C) en comparaison avec des processeurs Intel x86 similaires. </p><br><p><img src="https://habrastorage.org/webt/k5/3a/dn/k53adnhxrse033qqcwvvxrqwyis.png"></p><br><p>  Un simple coup d'≈ìil sur ce tableau montre (et c'est tr√®s agr√©able) que l'arri√©r√© technologique des transformateurs nationaux, qui semblait insurmontable il y a 10 ans, semble d√©sormais tr√®s faible, et en 2021 avec le lancement d'Elbrus-16C (qui, entre autres, supportera la virtualisation) sera r√©duit √† des distances minimales. </p><br><h2 id="shd-aerodisk-na-processorah-elbrus-8s">  Stockage AERODISK sur les processeurs Elbrus 8C </h2><br><p>  On passe de la th√©orie √† la pratique.  Dans le cadre de l'alliance strat√©gique des soci√©t√©s MTsST, Aerodisk, Basalt SPO (anciennement Alt Linux) et NORSI-TRANS, un syst√®me de stockage de donn√©es a √©t√© d√©velopp√© et pr√©par√© pour fonctionner, ce qui pour le moment n'est pas le meilleur en termes de s√©curit√©, fonctionnalit√©, co√ªt et performance, puis , √† notre avis, une solution ind√©niablement digne qui peut fournir avec vous le niveau d'ind√©pendance technologique de notre pays. <br>  Maintenant, les d√©tails ... </p><br><h3 id="apparatnaya-chast">  Mat√©riel informatique </h3><br><p>  Le mat√©riel de stockage est impl√©ment√© sur la base de la plateforme universelle Yakhont UVM de NORSI-TRANS.  La plate-forme Yakhont UVM a re√ßu le statut d'√©quipement de t√©l√©communication d'origine russe et figure dans le registre unifi√© des produits radio√©lectroniques russes.  Le syst√®me se compose de deux contr√¥leurs de stockage s√©par√©s (2U chacun), qui sont interconnect√©s par une interconnexion Ethernet 1G ou 10G, ainsi que des √©tag√®res de disques communes utilisant une connexion SAS. </p><br><p>  Bien s√ªr, ce n'est pas aussi beau que le format ¬´Cluster in a box¬ª (lorsque les contr√¥leurs et les lecteurs avec un fond de panier commun sont install√©s dans le m√™me ch√¢ssis 2U), que nous utilisons habituellement, mais il sera √©galement disponible dans un proche avenir.  L'essentiel ici est de bien fonctionner, mais nous penserons plus tard aux ¬´arcs¬ª. </p><br><p><img src="https://habrastorage.org/webt/ev/mg/s7/evmgs7gsr9wnbjyazymhzry_q78.jpeg"></p><br><p><img src="https://habrastorage.org/webt/2b/sa/ta/2bsatabl7o537ee6kkqngy9uixw.jpeg"></p><br><p>  Sous le capot, chaque contr√¥leur dispose d'une carte m√®re mono-processeur avec quatre emplacements RAM (DDR3 pour processeur 8C).  Chaque contr√¥leur poss√®de √©galement 4 ports Ethernet 1G (dont deux sont utilis√©s par AERODISK ENGINE en tant que service) et trois connecteurs PCIe pour les adaptateurs dorsaux (SAS) et frontaux (Ethernet ou FibreChannel). </p><br><p>  Comme disques de d√©marrage, nous utilisons des disques SSD SATA russes de GS Nanotech, que nous avons test√©s et utilis√©s √† plusieurs reprises dans des projets. </p><br><p><img src="https://habrastorage.org/webt/bz/48/nx/bz48nxtpe4j3ja7gmrappql8pmu.jpeg"></p><br><p>  Lorsque nous avons rencontr√© la plate-forme pour la premi√®re fois, nous l'avons soigneusement examin√©e.  Nous n'avons eu aucune question concernant la qualit√© de l'assemblage et de la soudure, tout a √©t√© fait de mani√®re soign√©e et fiable. </p><br><h3 id="operacionnaya-sistema">  Syst√®me d'exploitation </h3><br><p>  Le syst√®me d'exploitation utilise la version du syst√®me d'exploitation Alt 8SP pour la certification.  Dans un avenir proche, nous pr√©voyons de cr√©er un plug-in et un r√©f√©rentiel constamment mis √† jour pour Alt OS avec le logiciel de stockage Aerodisk. </p><br><p>  Cette version de la distribution est construite sur la version stable actuelle du noyau Linux 4.9 pour E2K (une branche avec un support √† long terme a √©t√© port√©e par les sp√©cialistes du MCST), compl√©t√©e par des correctifs pour la fonctionnalit√© et la s√©curit√©.  Tous les packages dans Alt OS ont √©t√© collect√©s directement sur Elbrus en utilisant le syst√®me d'assemblage transactionnel d'origine du projet ALT Linux Team, ce qui a permis de r√©duire les co√ªts de main-d'≈ìuvre pour le port lui-m√™me et d'accorder plus d'attention √† la qualit√© des produits. </p><br><p>  Toute version d'Alt OS pour Elbrus peut √™tre consid√©rablement √©tendue en termes de fonctionnalit√©s, en utilisant le r√©f√©rentiel √† sa disposition (d'environ 6 000 packages source pour la huiti√®me version √† environ 12 pour la neuvi√®me). </p><br><p>  Le choix a √©galement √©t√© fait parce que la soci√©t√© Basalt SPO, le d√©veloppeur d'Alt OS, travaille activement avec d'autres d√©veloppeurs de logiciels et d'appareils sur diverses plates-formes, offrant une interaction transparente dans le cadre des syst√®mes mat√©riels et logiciels. </p><br><h3 id="po-sistemy-hraneniya-dannyh">  Logiciels de stockage </h3><br><p>  Lors du portage, nous avons imm√©diatement abandonn√© l'id√©e d'utiliser l'√©mulation x86 prise en charge dans E2K, et avons commenc√© √† travailler directement avec les processeurs (car Alt a d√©j√† les outils n√©cessaires pour cela). </p><br><p>  Entre autres choses, le mode d'ex√©cution natif offre une meilleure s√©curit√© (ces m√™mes trois piles mat√©rielles au lieu d'une) et des performances accrues (il n'est pas n√©cessaire d'allouer un ou deux noyaux sur huit pour que le traducteur binaire fonctionne, et le compilateur fait son travail mieux que JIT). </p><br><p>  En fait, dans la mise en ≈ìuvre d'AERODISK ENGINE sur E2K, la plupart des fonctionnalit√©s de stockage existantes, qui sont en x86, sont prises en charge.  En tant que logiciel du syst√®me de stockage, la version actuelle d'AERODISK ENGINE est utilis√©e (A-CORE version 2.30) </p><br><p>  Sans aucun probl√®me, les fonctions suivantes ont √©t√© lanc√©es sur E2K et test√©es pour une utilisation dans le produit: </p><br><ul><li>  Tol√©rance aux pannes pour jusqu'√† deux contr√¥leurs et E / S multivoies (mpio) </li><li>  Bloquer et acc√©der aux fichiers avec des volumes l√©gers (RDG, pools DDP; protocoles FC, iSCSI, NFS, SMB, y compris l'int√©gration avec Active Directory) </li><li>  Diff√©rents niveaux RAID jusqu'√† la triple parit√© (y compris la possibilit√© d'utiliser le constructeur RAID) </li><li>  Stockage hybride (combinant SSD et HDD dans le m√™me pool, c'est-√†-dire cache et d√©chirement) </li><li>  Options d'√©conomie d'espace avec d√©duplication et compression </li><li>  Instantan√©s ROW, clones et diff√©rentes options de r√©plication </li><li>  Et d'autres fonctionnalit√©s petites mais utiles comme QoS, hotspare global, VLAN, BOND, etc. </li></ul><br><p>    E2K      ,   ( )    -,     all-flash   20-30%. </p><br><p>     , ,  ,  . </p><br><h3 id="nemnogo-o-proizvoditelnosti">    </h3><br><p>        , ,    . </p><br><p>  ,    (2xCPU E8C 1.3 Ghz, 32 GB RAM + 4 SAS SSD 800GB 3DWD),     RAM-,     DDP    RAID-10   LUN  500G    LUN-  iSCSI (10G Ethernet)  Linux-.                FIO. </p><br><p>     . </p><br><p><img src="https://habrastorage.org/webt/sd/4g/ox/sd4goxz7ia3wzktjxk3pcl4_xdm.png"></p><br><p>         60%, ..   ,      . </p><br><p> ,    highload     -     , ,    ,     80%  ,    . </p><br><p>                . </p><br><h2 id="svetloe-buduschee">   </h2><br><p>    ,    8      ‚Äì   2019         4000 .  ,     4         5000,    . </p><br><p>  ,     ,    ,    . <br>  2020         8,     .  ,   2020   -8        . </p><br><p>    ‚Äî           . </p><br><p>                      ,              (       -16).   ,        . </p><br><p>         ,      ,      ,         ,   .  ,  ,         . </p><br><p>      ,     ,    ,        -   ,     ‚Äì   ,  ,     .     ,  ,       . </p><br><p><img src="https://habrastorage.org/webt/lv/hn/gm/lvhngmwzjvpif378cj77omw09k4.jpeg"></p><br><p>                        .   ,   ,    ,        ! </p><br><p>    , ,   ,  , , .   . </p><br><p>           -      ,  100%  ‚Äì         ))). </p><br><h3 id="ispolzuemye-materialy">   </h3><br><p>     ,   : <br> <a href="https://www.ixbt.com/cpu/e2k-spec.html">https://www.ixbt.com/cpu/e2k-spec.html</a> </p><br><p>      ¬´¬ª: <br> <a href="https://topwar.ru/34409-istoriya-kompyuterov-elbrus.html">https://topwar.ru/34409-istoriya-kompyuterov-elbrus.html</a> </p><br><p>     e2k: <br> <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581_2000">https://ru.wikipedia.org/wiki/%D0%AD%D0%BB%D1%8C%D0%B1%D1%80%D1%83%D1%81_2000</a> </p><br><p>    4-  (-8)  5-  (-8, 2020 ): <br> <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581-8%25D0%25A1">https://ru.wikipedia.org/wiki/%D0%AD%D0%BB%D1%8C%D0%B1%D1%80%D1%83%D1%81-8%D0%A1</a> </p><br><p>   6-   (-16, 2021 ): <br> <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581-16%25D0%25A1">https://ru.wikipedia.org/wiki/%D0%AD%D0%BB%D1%8C%D0%B1%D1%80%D1%83%D1%81-16%D0%A1</a> </p><br><p>    : <br> <a href="http://www.elbrus.ru/elbrus_arch">http://www.elbrus.ru/elbrus_arch</a> </p><br><p>   -  ¬´¬ª     : <br> <a href="http://www.mcst.ru/files/5a9eb2/a10cd8/501810/000003/kim_a._k._perekatov_v._i._feldman_v._m._na_puti_k_rossiyskoy_ekzasisteme_plany_razrabotchikov.pdf">http://www.mcst.ru/files/5a9eb2/a10cd8/501810/000003/kim_a._k._perekatov_v._i._feldman_v._m._na_puti_k_rossiyskoy_ekzasisteme_plany_razrabotchikov.pdf</a> </p><br><p>   ¬´¬ª   ,   : <br> <a href="http://www.mcst.ru/files/5472ef/770cd8/50ea05/000001/rossiyskietehnologiielbrus-it-edu9-201410l.pdf">http://www.mcst.ru/files/5472ef/770cd8/50ea05/000001/rossiyskietehnologiielbrus-it-edu9-201410l.pdf</a> </p><br><p>    ,     : <br> <a href="http://www.mcst.ru/e2k_arch.shtml">http://www.mcst.ru/e2k_arch.shtml</a> </p><br><p>    : <br> <a href="https://www.osp.ru/os/1999/05-06/179819">https://www.osp.ru/os/1999/05-06/179819</a> </p><br><p>  ,  : <br> <a href="https://yadi.sk/i/HDj7d31jTDlDgA">https://yadi.sk/i/HDj7d31jTDlDgA <br></a> </p><br><p>       : <br> <a href="https://altlinux.org/%25D1%258D%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581">https://altlinux.org/</a> </p><br><p> <a href="https://sdelanounas.ru/blog/shigorin/">https://sdelanounas.ru/blog/shigorin/</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr482434/">https://habr.com/ru/post/fr482434/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr482418/index.html">Introduction au langage de requ√™te Cypher</a></li>
<li><a href="../fr482420/index.html">JavaFX - pas encore mort</a></li>
<li><a href="../fr482428/index.html">Dotnetru. 2019. R√©sultats</a></li>
<li><a href="../fr482430/index.html">L'√©tude n'est pas une loterie, les mesures mentent</a></li>
<li><a href="../fr482432/index.html">L'informatique dans le syst√®me scolaire</a></li>
<li><a href="../fr482438/index.html">Que ne devrait pas faire un informaticien en 2020?</a></li>
<li><a href="../fr482440/index.html">Le condens√© de mati√®res fra√Æches du monde du front-end de la derni√®re semaine n ¬∞ 395 (23-29 d√©cembre 2019)</a></li>
<li><a href="../fr482442/index.html">La plus grande technologie √©choue de 2019</a></li>
<li><a href="../fr482446/index.html">Prions - peur et horreur de l'avenir</a></li>
<li><a href="../fr482452/index.html">Le syst√®me br√©silien n'est pas un mythe. Comment l'utiliser en informatique?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>