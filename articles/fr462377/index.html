<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👎🏽 🏵️ 🧜 Comment les donjons sont générés dans Enter The Gungeon ⛳️ 🙇🏼 🤳🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Récemment, j'ai beaucoup joué dans Enter The Gungeon . Ceci est un jeu d'enfer de balle génial et terriblement difficile qui me rappelle beaucoup de B...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment les donjons sont générés dans Enter The Gungeon</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462377/">  Récemment, j'ai beaucoup joué dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Enter The Gungeon</a> .  Ceci est un jeu d'enfer de balle génial et terriblement difficile qui me rappelle beaucoup de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Binding of Isaac</a> .  Mais plus je le jouais, plus je réalisais le génie subtil du design du donjon. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6d0/d78/179/6d0d781792726ea4aa6b2bb499bc5b01.jpg"></div><br>  Il existe de nombreux générateurs procéduraux qui créent des schémas de niveaux logiques qui garantissent le bon rythme du jeu et récompensent les joueurs, et il existe d'autres générateurs qui créent des niveaux avec des boucles et des schémas compacts.  Mais il est rare de trouver les deux types dans un jeu.  Le seul jeu que je connaisse dans lequel il y ait eu une tentative d'implémentation d'une telle chose est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">inexploré</a> . <br><br>  J'ai donc naturellement lancé le décompilateur pour que <em>Gungeon me</em> révèle tous ses secrets.  Dans cet article, je partagerai avec vous ce que j'ai réussi à trouver. <br><a name="habracut"></a><br><hr><br>  À première vue, les niveaux de <em>Gungeon</em> semblent assez simples.  Voici un exemple de carte typique. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/159/520/7a5/1595207a5c1a10a0ddbc1f5ff12d6bae.png"></div><br>  <i>Carte de niveau 1 typique</i> <br><br>  Le joueur commence à l'entrée. <img src="https://habrastorage.org/getpro/habr/post_images/bd6/369/4b5/bd63694b581ec8cc248912d691d92a6a.png">  traverse les coffres <img src="https://habrastorage.org/getpro/habr/post_images/3e0/707/eeb/3e0707eeb4c181335ed5004c68ff2cb0.png"><img src="https://habrastorage.org/getpro/habr/post_images/ef2/a72/506/ef2a725063f1d74b143f73f70ea5818c.png">  et commerçant <img src="https://habrastorage.org/getpro/habr/post_images/049/972/3fa/0499723fa301f287b6f694bce8adf961.png">  pour collecter du butin et finalement vainc le patron <img src="https://habrastorage.org/getpro/habr/post_images/013/e7d/45a/013e7d45a58d641f50305d936877a502.png">  .  Si vous tombez dans une longue impasse, vous pouvez utiliser les téléports pour retourner rapidement dans les chambres.  De toute évidence, des pièces séparées ont été créées à la main et habitées par divers ennemis qui doivent être abattus.  Lors de la progression vers les niveaux suivants du jeu, le joueur voit le même schéma encore et encore, seules les étapes deviennent plus grandes. <br><br>  Jusqu'à présent, il semble que ce ne soit rien d'intéressant.  Sur Internet, vous pouvez trouver de nombreux générateurs reliant des allées à des pièces aléatoires. <br><br>  La fonction de générateur devient perceptible lorsque vous commencez à jouer.  Les niveaux semblent ... un peu plus planifiés que ce à quoi on pourrait s'attendre par hasard.  La salle des boss est toujours à une distance raisonnable du départ.  Les pièces avec des ennemis sont toujours raisonnablement entrecoupées de pièces calmes, de bancs et d'intersections.  Et le plus important - de nombreux coffres sont situés derrière les charnières avec une croix à sens unique. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/21e/239/247/21e2392476dc8aea44f7b5efbe414bc9.png"></div><br>  La ligne rouge est un couloir à sens unique.  Si vous voulez entrer dans une pièce avec un coffre, alors vous devez aller loin.  La grande majorité des coffres sont situés soit à la fin d'une boucle à sens unique, soit assez profondément à l'intérieur du niveau, ce qui oblige le joueur à se battre dans de nombreuses pièces, juste pour atteindre le coffre.  Il n'y a pas de récompense sans risque. <br><br>  Le secret de ce passage est que les schémas généraux sont créés manuellement.  Voici le diagramme utilisé pour générer le niveau indiqué ci-dessus. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b0/297/f46/9b0297f4693df241ae5d3b16961a8eb9.svg"></div><br>  Les salles normales sont des salles sélectionnées au hasard avec des ennemis, des salles d'intersection ou de grandes salles avec plusieurs sorties.  Les récompenses (récompense) et le boss (boss) n'ont pas besoin d'être expliqués.  Il ne montre pas les pièces «communicantes», c'est-à-dire les pièces sans ennemis, souvent avec des risques naturels.  Les pièces restantes sont prédéfinies ou sélectionnées à partir d'une table de pièce spéciale. <br><br>  Dans <em>Gungeon,</em> il existe de nombreux schémas de ce type appelés «flux» (flux).  Aux niveaux Hollow, ils sont les moins (4), et dans le Gungeon Proper, les plus (8).  Ce ne sont pas des schémas simples, leur conception est créée sur la base d'une certaine caractéristique qui peut être remarquée à plusieurs passages.  Il peut s'agir d'une boucle géante, ou d'une fourche importante à bien des égards, ou de la nécessité de se rendre au banc pour passer le niveau.  Ils sont si visibles que les coureurs de vitesse ont remarqué des différences et ont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">établi des horaires</a> grâce auxquels vous pouvez trouver le patron le plus rapidement possible.  J'ai préparé une liste complète des programmes qui peuvent être téléchargés à <a href="">partir d'ici</a> . <br><br>  Vous avez peut-être remarqué que le modèle de flux et la carte ne correspondent pas complètement.  Sous le banc, il y a une pièce supplémentaire.  incompatible avec le schéma, et d'étranges salles de couloir <img src="https://habrastorage.org/getpro/habr/post_images/c34/f40/36e/c34f4036eab070741e9091b9b1fec63f.png">  .  Étudions tout le processus, il contient beaucoup d'idées intelligentes. <br><br>  Le processus commence par la sélection aléatoire d'un fichier de flux comme celui illustré ci-dessus.  Il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">s'agit de la structure de données «graphique»</a> , c'est-à-dire qu'elle stocke les interconnexions des pièces, mais pas leur emplacement.  Chaque pièce contient des métadonnées sur le type de pièce et les connexions qu'elle devrait avoir.  Les connexions ont une direction - chaque diagramme commence à partir du nœud racine, puis forme un arbre de nœuds enfants.  Ensuite, des connexions supplémentaires rompent l'arborescence pour créer des boucles.  Je pense que cela est principalement dû aux particularités du développement du jeu, mais cela simplifie la procédure d'analyse de la carte, car toutes les boucles ont clairement défini le début et la fin. <br><br><h4>  Conversion de flux </h4><br>  Un fichier de flux peut être converti de plusieurs façons.  Tout d'abord, certaines pièces spécifiques seront remplacées par des séries de pièces de longueurs aléatoires.  Cette fonction n'est utilisée qu'à des niveaux ultérieurs plus importants.  De plus, certaines parties du fichier de flux ont des chemins alternatifs, et l'un d'eux est sélectionné au hasard.  Cette fonction n'est utilisée que deux fois. <br><br>  Ensuite, quelques nœuds supplémentaires sont «injectés».  Cette fonction est assez flexible et est utilisée à de nombreuses fins différentes. <br><br>  Chaque «injection» contient des données qui déterminent quel type d'objet doit être inséré, où il doit être inséré, la probabilité de création et toutes les conditions qui doivent être remplies (par exemple, la présence d'un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tour principal</a> , une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">malédiction</a> élevée ou que le joueur n'a pas encore enregistré le personnage )  Par exemple, les salles secrètes sont généralement créées dans des impasses, mais ont une probabilité de 1/5 d'être attachées à n'importe quelle pièce.  Ils ont 90% de chances de se produire et ne nécessitent aucune condition supplémentaire. <br><br>  Presque toutes les pièces spéciales du jeu sont déterminées par l'injection du site, y compris les marchands (à l'exception du magasin principal), les prisons, les pièces avec cheminées et ascenseurs. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/63c/4fd/188/63c4fd188ec12a7d5061c94be8866802.png"></div><br>  <i>L'une des cellules de la prison qui peut être injectée dans un niveau</i> <br><br>  Au même stade, le générateur sélectionne une pièce spécifique pour chaque nœud.  Cela dépend principalement de la scène actuelle et du type de salle nécessaire.  Il y a une énorme liste de pièces - près de 300 pour la première étape - mais le générateur essaie de ne pas sélectionner deux fois la même pièce. <br><br>  Les nœuds de connecteur fonctionnent différemment.  Leurs chambres sont sélectionnées plus tard, tandis que le schéma est créé.  Ce sont souvent des pièces longues et étroites, il est donc très important de choisir une pièce avec la bonne orientation. <br><br><h4>  Objets composés </h4><br>  Une fois la création du flux terminée, il est divisé en «objets composites».  Chaque objet composite est soit une boucle distincte des pièces, soit un ensemble de pièces connectées sans boucles (c'est-à-dire un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">arbre</a> ).  Pour ce faire, recherchez la plus petite boucle sur la carte et découpez-la en tant qu'objet composite.  L'opération est répétée jusqu'à ce qu'il n'y ait plus de boucles sur la carte.  Le reste de la carte devient un ensemble d'arbres divisés et de connexions entre des objets composites individuels. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ce/7e1/8d5/1ce7e18d589db917b1a3de7f290d20dd.svg"></div><br>  <i>Le même flux après injection et fractionnement</i> <br><br><h4>  Schéma d'objet composé </h4><br>  Ensuite, chaque objet composite est créé séparément, sur une carte distincte.  Ils seront réunis plus tard. <br><br>  Pour planifier un objet composé, la première pièce est placée dans un endroit arbitraire.  Ensuite, les pièces sont ajoutées au circuit une par une en sélectionnant une paire de sorties, dont l'une se rapporte à la nouvelle pièce et l'autre au circuit existant.  Les sorties sont des emplacements prédéfinis dans les métadonnées de chaque pièce.  Ensuite, la nouvelle pièce est placée de sorte que sa sortie soit directement connectée à la sortie de la pièce précédente.  Ensuite, le processus se répète. <br><br>  Plus précisément, les objets d'arbre composite sont placés en traversant l'arbre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en profondeur</a> .  L'algorithme ne sélectionne que les paires de sorties qui conduisent à l'apparition d'une nouvelle pièce sans se croiser avec les précédentes.  En général, l'algorithme préfère choisir des sorties éloignées des sorties existantes.  S'il est impossible de placer une pièce, elle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">reviendra</a> et régénérera le choix des pièces, en répétant ce processus jusqu'à trois fois. <br><br>  Pendant ce temps, les objets de boucle composite sont placés en ajoutant des éléments de la boucle tour à tour des deux côtés de la ligne.  Pour commencer, les paires de sorties sont sélectionnées au hasard (la préférence est donnée aux murs opposés, est-ouest ou nord-sud).  Lorsque la boucle est à moitié créée, elle commence à privilégier les paires de sorties qui réunissent deux bords ouverts de la boucle.  Après avoir créé toutes les salles, l'algorithme doit ajouter une autre connexion entre les deux dernières salles.  Il choisit une autre paire de sorties.  Si possible, il conçoit entre ces sorties une petite pièce rectangulaire.  Sinon, il cherche un chemin entre les sorties et crée une «pièce» qui n'est qu'un couloir étroit.  La longueur du couloir devrait être de 4 à 30 unités (dans les mines jusqu'à 50). <br><br><h4>  Assemblage final </h4><br>  À ce stade, de petites parties séparées du donjon sont connectées les unes aux autres, mais les objets composites eux-mêmes doivent être connectés pour créer une carte complète. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/600/c1b/d34/600c1bd345e65085a31b08bc3a08674b.png"></div><br>  <i>La même carte que les objets composites avant l'assemblage final</i> <br><br>  Comme vous pouvez le voir, les composés restants dans ce cas ne donnent pas une très grande sélection.  Mais il peut y avoir des cas plus complexes qu'auparavant.  L'algorithme contourne la carte, en commençant par la pièce avec le plus de connexions.  Comme précédemment, une paire de sorties est sélectionnée pour chaque connexion créée.  Si deux pièces se trouvent dans des parties distinctes de la carte, ces deux parties de la carte sont alignées pour créer un court chemin.  Sinon, une recherche d'itinéraire est utilisée pour créer l'itinéraire. <br><br>  Et c'est là que la création du diagramme de niveau se termine.  Il ne reste plus qu'à choisir les ennemis et les décorations des pièces, et c'est un sujet complètement différent. <br><br><h2>  En conclusion </h2><br>  Il semble que l'objectif principal des développeurs était de créer un générateur procédural qui offre un gameplay satisfaisant.  Évidemment, pour qu'il soit correctement implémenté, ils ont dû effectuer de nombreuses itérations - j'ai trouvé une grande quantité de code de génération, qui, semble-t-il, n'est pas utilisé, car les développeurs ont changé leur formule procédurale à la recherche de la perfection. <br><br>  Une astuce curieuse est qu'ils génèrent d'abord les parties les plus complexes / importantes de la carte.  Le générateur se concentre sur la création de boucles étroites et de courts couloirs dans les parties très centrales du niveau, puis essaie de connecter tout le reste avec eux. <br><br>  Comme dans le cas de mon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">étude de la génération de niveaux Diablo 1</a> , cela m'a frappé à quel point il est efficace de générer une partie du donjon sous une forme abstraite - dans ce cas, il s'agit d'un graphique sans information sur l'emplacement.  Tout ne devient plus précis que plus tard.  La fonction "injection" serait tout simplement impossible si nous allions immédiatement travailler avec une carte de tuiles.  Grâce à l'abstraction des détails du placement des pièces, il vous permet de contrôler le style de jeu et l'échelle de niveau. <br><br>  De plus, j'ai été impressionné par l'extensibilité du système dans son ensemble.  Unity encourage une approche active <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">basée</a> sur les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">données</a> .  L'ajout d'une nouvelle pièce, d'un nouveau schéma ou même d'un comportement spécial peut être réalisé en ajoutant simplement de nouveaux objets aux tables correspondantes.  Cela a dû être d'une grande aide, car Dodge Roll a déjà publié quelques DLC gratuits et, sans aucun doute, prend en charge la création de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mods</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd8/876/fb0/cd8876fb047b128c2d2c358820c8bac2.png"></div><br><br><h2>  Bonus </h2><br>  L'étude de ce générateur a été ma première chance de rechercher la création d'un jeu professionnel dans Unity.  Les développeurs de Dodge Roll ont fait de leur mieux et ont écrit du bon code.  Il est bien lu et, dans certains endroits, assez drôle - il semble que leur amour des jeux de mots s'est propagé au code.  J'ai aimé ceux-ci: <br><br><ul><li> Le moteur fluide du jeu s'appelle <code>DeadlyDeadlyGoopManager</code> </li><li>  Le code de génération de donjon est appelé <code>Dungeonator</code> </li><li>  Les différentes étapes sont appelées <code>CASTLEGEON/GUNGEON/MINEGEON/CATACOMBGEON</code> etc.  Je me demande si les développeurs se sont inspirés de Diablo 1, qui utilise un schéma très similaire? </li><li>  Littéralement, chaque pièce a son propre nom, généralement sous la forme d'un jeu de mots (ou en l'honneur de certains Joe; c'est probablement un artiste avec une grande vanité). </li></ul><br>  J'ai également remarqué qu'au départ le studio avait des projets de scènes sur les thèmes de l'espace, de la jungle et du Far West.  Hélas, ils n'étaient pas destinés à apparaître.  Dodge Roll a décidé que son travail sur <em>Gungeon était</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">terminé</a> .  J'attendrai leur prochain match et j'espère qu'ils y mettront autant d'amour et d'attention. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462377/">https://habr.com/ru/post/fr462377/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462357/index.html">Premier prototype: Unikernels comme étape de l'évolution de Linux</a></li>
<li><a href="../fr462359/index.html">Dat - de quel protocole s'agit-il et qui l'utilise</a></li>
<li><a href="../fr462365/index.html">Limitations de l'apprentissage automatique</a></li>
<li><a href="../fr462367/index.html">13 faits sur le capital-risque pour les fondateurs</a></li>
<li><a href="../fr462371/index.html">Démarrer Spring StateMachine</a></li>
<li><a href="../fr462379/index.html">Chiffrement du fichier de configuration</a></li>
<li><a href="../fr462381/index.html">Réseaux de neurones et apprentissage profond, chapitre 5: pourquoi les réseaux de neurones profonds sont-ils si difficiles à former?</a></li>
<li><a href="../fr462383/index.html">D'un entrepôt au Daghestan aux programmeurs: comment je suis devenu développeur iOS à partir de zéro</a></li>
<li><a href="../fr462385/index.html">Une nouvelle approche peut nous aider à nous débarrasser des calculs en virgule flottante</a></li>
<li><a href="../fr462387/index.html">Qu'est-ce que la programmation musicale - qui le fait et pourquoi, organiser de vraies sessions en direct</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>