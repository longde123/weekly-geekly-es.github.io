<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∞üèª üë©üèΩ‚Äçüè´ ‚è∞ Mobile Cloud-Testplattformen üñºÔ∏è üë®‚Äçüëß‚Äçüë¶ üëê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Und jetzt ist die Zeit gekommen, in der unsere Testanforderungen auf dem Desktop des Testers √ºberf√ºllt sind. Die Seele fragte nach den Wolken. Nicht w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mobile Cloud-Testplattformen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464433/"><p>  Und jetzt ist die Zeit gekommen, in der unsere Testanforderungen auf dem Desktop des Testers √ºberf√ºllt sind.  Die Seele fragte nach den Wolken.  Nicht wirklich.  Nicht wirklich. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/2o/7s/ww/2o7swwlml3ipcdpgc8qzmkyfdja.jpeg"></div><a name="habracut"></a><br><h1>  Unsere Ziele und Vorgaben </h1><br><p>  <i>(Eiliger Leser, Sie k√∂nnen mit dem n√§chsten Abschnitt fortfahren)</i> </p><br><p>  Wir entwickeln eine Finanzanwendung f√ºr den ausl√§ndischen Markt, die in verschiedenen Formaten verf√ºgbar ist: f√ºr Desktop-Browser (Website und Erweiterung f√ºr Google Chrome), f√ºr mobile Browser sowie eine Hybridanwendung f√ºr Telefone.  Aufgrund der Besonderheiten der Anwendung legen wir besonderes Augenmerk auf das Testen der Anwendung auf verschiedenen Konfigurationen und Ger√§ten.  F√ºr uns ist der stabile und sichere Betrieb der Anwendung sowohl auf den Desktop-Browsern unserer Kunden als auch auf deren Ger√§ten wichtig. </p><br><p>  Der Grund f√ºr die Suche nach einer Cloud-basierten Farm von Ger√§ten zum Testen f√ºr uns war eine √Ñnderung des Arbeitsformats von B√ºro zu vollst√§ndig entfernt und verteilt (zwischen St√§dten und L√§ndern).  Das hei√üt, wenn wir fr√ºher zum Testen verschiedene Ger√§te in einem B√ºndel (buchst√§blich) zusammenbauen und gleichzeitig die n√§chste Baugruppe in einer Tabelle manuell testen k√∂nnten, ist dies jetzt unm√∂glich geworden.  Dar√ºber hinaus automatisieren wir mit zunehmender Funktionalit√§t die Regressionss√§tze wichtiger Tests, um die manuelle Arbeit zu reduzieren. Dies bedeutet, dass wir nach der Montage Tests f√ºr die gew√ºnschte Konfiguration und das gew√ºnschte Ger√§t aufrufen m√ºssen. Dies ist besser, sobald die Montage zur Bereitstellung rollt. </p><br><p>  In diesem Fall besteht die einfachste und naheliegendste L√∂sung darin, Emulatoren f√ºr Android und Simulatoren f√ºr iOS-Ger√§te in unserer DevOps-Pipeline zu verwenden.  Die Implementierung auf dem Arbeitscomputer des Entwicklers ist jedoch relativ einfach und wird in der Cloud zu einer schwierigen und teuren Aufgabe.  Damit derselbe Android-Emulator schnell funktioniert, ist ein x86-Server mit HAXVM-Unterst√ºtzung erforderlich, und f√ºr einen iOS-Simulator ist nur ein MacOS-Ger√§t mit xcode erforderlich.  Aber leider bleibt die Frage nach der L√∂sung dieses Problems bei der L√ºcke zwischen dem Verhalten der Software auf Emulatoren und realen Ger√§ten.  Zum Beispiel entdecken wir bei jeder zweiten Ver√∂ffentlichung seltsame Fehler auf Samsung-Ger√§ten, die nicht auf Emulatoren abgespielt werden k√∂nnen.  Nun, und nat√ºrlich seltene exotische "chinesische" "Freude" mit einzigartigen und Fehlern, die ich auch in der Entwicklungsphase gerne fangen w√ºrde. </p><br><p>  Infolgedessen hatten wir Verst√§ndnis f√ºr die Notwendigkeit, eine Cloud-Farm mobiler Ger√§te zu verwenden, auf der wir unsere Tests schnell ausf√ºhren und bei Bedarf manuell debuggen konnten.  Und auf die unser gesamtes Team von √ºberall auf der Welt zugreifen kann (wir lieben es, auch auf Reisen zu arbeiten). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tk/mv/-3/tkmv-3efjgaskkz1tbveeo0rh-4.jpeg"></div><br><p>  Unsere Tests sind in Python 3.7 geschrieben (dies wird sp√§ter wichtig sein), da wir als Stapel tox + pytest + Selenium + Appium verwenden, also eine kleine Reihe n√ºtzlicher Python-Bibliotheken.  Wir werden auf jeden Fall Computer unter Windows und MacOS mit Edge-, Firefox-, Chrome-, Safari-Browsern sowie Android- und iOS-Ger√§ten mit Browsern und einer Anwendung testen.  Wir haben nicht viele Tests f√ºr jedes Ger√§t (weniger als tausend), aber wenn Sie in einem einzelnen Thread auf den Ger√§ten testen, dauert ein vollst√§ndiger Satz einige Stunden.  Daher ist das Kriterium f√ºr die Auswahl eines Dienstes f√ºr uns: </p><br><ul><li>  API-Tests (Selen / Appium) </li><li>  IOS, Android-Ger√§te </li><li>  Unterst√ºtzt das Testen mobiler Browser </li><li>  Unterst√ºtzung f√ºr das Herunterladen und Testen von Anwendungen </li><li>  Referenzger√§t (GooglePixel (Android 9) und iPhone X (iOS 12+)) </li><li>  Manuelles Debuggen </li><li>  Protokollierung (plus Screenshots, Aufzeichnung eines Videolaufs) </li><li>  Ger√§tepark und Verf√ºgbarkeit </li><li>  Durchschnittliche Testvorlaufzeit </li><li>  Preis </li></ul><br><p>  W√ºnschenswert, aber nicht notwendig: </p><br><ul><li>  Python-Unterst√ºtzung auf Service-Ebene (was auch immer das bedeutet) </li><li>  Unterst√ºtzung f√ºr Desktop-Ger√§te \ Browser </li></ul><br><h1>  Marktforschungsergebnisse </h1><br><p>  Eine Woche lang habe ich im Internet gesurft und ein Dutzend verschiedene Dienste ausprobiert.  Die meisten von ihnen bieten Freizeit f√ºr Testm√∂glichkeiten.  Die Ergebnisse meiner Forschung, je mehr Schlussfolgerungen subjektiv sind.  Ihre Meinung und Ergebnisse k√∂nnen von meinen abweichen. </p><br><p>  Auf Habr√© habe ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen Artikel f√ºr 2017 gefunden</a> , der sich dem gleichen Thema widmet, aber seitdem sind neue Dienste erschienen, und unsere Aufgabe ist etwas strenger.  So passen beispielsweise ‚Äûleckere‚Äú Dienste wie das Samsung Remote Test Lab, das Firebase Test Lab und die Xamarin Test Cloud leider nicht zu uns. </p><br><h2>  Aus dem Spiel </h2><br><h3>  Samsung Remote Test Lab </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hd/jg/ky/hdjgkycr6wiajxi8ucwp6spgasa.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Der Dienst bietet die M√∂glichkeit, kostenlos zu versuchen, mit verschiedenen Samsung-Ger√§ten zu arbeiten, einschlie√ülich der neuesten, einschlie√ülich Fernsehger√§ten oder Smartwatches auf Tizen (die Beschr√§nkung betr√§gt maximal 10 Stunden pro Tag, pro Tag vergibt der Dienst 10 Credits kostenlos, was 2,5 Stunden pro Tag entspricht Die Mindestsitzung betr√§gt eine halbe Stunde (2 Credits).  Dies ist sehr gut zum Debuggen und Auffinden der Hauptursachen f√ºr Fehler auf bestimmten Ger√§ten. Der Dienst bietet sogar Zugriff auf Remote-Debugging (Remote-Debug-Bridge, Zugriff auf die Konsole und Systemprotokolle). Leider bietet der Dienst keinen API-Zugriff auf Ger√§te.  Die einzige M√∂glichkeit zum ‚ÄûAutomatisieren‚Äú besteht darin, Benutzeraktionen aufzuzeichnen und sie dann in Ihrem lokalen Automatisierungstool wiederzugeben. </p><br><h3>  Firebase-Testlabor </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ix/4r/t0/ix4rt0ohclapstllgnbyl5726qm.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Mit einem Dienst von Google k√∂nnen Sie Ihre Anwendung auf Ger√§ten mit Android und iOS kostenlos testen (nicht ganz).  Es gibt jedoch eine Einschr√§nkung: Der Dienst erfordert entweder die Verwendung nativer Automatisierungstools (UIAtomator2 und Espresso f√ºr Android und XCTest f√ºr iOS) oder die Verwendung von automatischen Spinnen (Crawler) f√ºr Android - Robo Test und Game Loop Test.  Das hei√üt, die Verwendung von UIAutomator und Selen funktioniert leider nicht.  Kostenlos - das kostenlose Paket ist auf 10 Tests auf Emulatoren und f√ºnf auf realen Ger√§ten pro Tag beschr√§nkt.  Wenn Sie mehr ben√∂tigen, m√ºssen Sie f√ºr jede weitere Stunde weitere 1 USD bzw. 5 USD zahlen.  Im Allgemeinen w√§re dies f√ºr unsere Aufgaben eine gute Wahl, wenn wir Tests von Grund auf neu schreiben w√ºrden, aber ich habe keine Lust, mehrere hundert Tests zu √ºberarbeiten - es ist einfach teuer.  Und es stellt sich heraus, dass wir bei Tests zwischen Desktop-Versionen und Mobilger√§ten sehr unterschiedlich sein m√ºssen, was den Support erheblich erschweren w√ºrde. </p><br><h3>  Visual Studio App Center </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3g/_o/pr/3g_oprmudubtaulwkgqjahqot74.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Ehemalige Xamarin Test Cloud.  Dieser Dienst unterst√ºtzt schlie√ülich Appium und erm√∂glicht das Testen auf Tausenden verschiedener Ger√§te.  Wie bei anderen Microsoft-Produkten ist es jedoch fest mit dem nativen Stack verbunden. Um diesen Service nutzen zu k√∂nnen, ben√∂tigen Sie sowohl VisualStudio als auch die Anforderung, das Projekt und die Tests ausschlie√ülich in Java zu schreiben.  Wenn Sie jedoch pl√∂tzlich einen Java-Stack (mit MS VS) haben, betr√§gt der Preis 99 US-Dollar pro Ger√§teschlitz und Monat, was relativ liberal ist. </p><br><h2>  Dienstleistungen zur Auswahl </h2><br><h3>  AWS-Ger√§tefarm </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/pb/r9/znpbr9hu4dkgiqjcwoudrviaid8.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Vielleicht die derzeit leistungsst√§rkste Farm zum Testen auf virtuellen und realen Ger√§ten (mehr als 2500 Ger√§te).  F√ºr uns war dies ein vorrangiger Service, da unsere Services nur in der AWS-Cloud bereitgestellt werden. Au√üerdem beginnen die Preise pro Minute der Ger√§tezeit bei 17 Cent.  Mit AWS k√∂nnen Sie sowohl mit nativen Frameworks als auch mit Appium, Calabash und anderen automatisierten Test-Frameworks arbeiten.  Zus√§tzlich zu automatisierten Tests bietet der Dienst die M√∂glichkeit, manuell zu debuggen.  Nun, 1000 Minuten "zu versuchen" ist sehr verlockend.  Der Teufel steckt jedoch wie immer im Detail.  In Bezug auf das Testen verf√ºgt AWS √ºber mehrere Funktionen. </p><br><p>  Wie bereits erw√§hnt, verwenden wir Python 3.7. AWS Device Farm funktioniert jedoch weiterhin mit Python 2.7.6 (siehe Handbuch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ).  Und out of the box wei√ü nichts √ºber Tox.  F√ºr uns bedeutet dies das Fehlen einer Reihe von Funktionen und die Notwendigkeit, einen Teil der Tests zu verarbeiten, um die Abw√§rtskompatibilit√§t sicherzustellen und eine Umgebung zu schaffen, die Tox umgeht.  Ein ziemlich seltsamer Mechanismus zum Herunterladen eines Testpakets (Archivs) impliziert au√üerdem das Herunterladen der Anwendung zum Testen.  In unserem Fall ist das Herunterladen der Anwendung ein zus√§tzlicher Schritt, wenn wir unseren Dienst √ºber einen mobilen Browser testen.  Sie k√∂nnen die Anwendung jedoch durch einen "Stub" ersetzen und ein Venv mit Python 3.7 in der Python 2.7-Umgebung erstellen und dann eine Umgebung mit Tox darin erstellen, die ... </p><br><div style="text-align:center;"><img src="https://i.gifer.com/embedded/download/S5u.gif"></div><br><p>  Amazon w√§re nicht Amazon, wenn alles auf alten Versionen ruhen w√ºrde.  Als Alternative (und kein Dienst hat unten eine solche M√∂glichkeit) schl√§gt AWS vor, AWS Device Farm √ºber die AWS CLI (Befehlszeilenschnittstelle) zu verwenden (siehe Handbuch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ).  Das hei√üt, wir k√∂nnen das Ger√§t aus der Cloud als echtes Ger√§t im Remote-Debug-Modus mit unserem Computer verbinden, nachdem wir zuvor adb durch das gepatchte ersetzt haben (es gibt keine Bin√§rdatei f√ºr Linux in der Liste der Bin√§rdateien, aber ich bin sicher, dass sie in der Natur vorhanden ist).  Nachdem wir die AWS-CLI eingerichtet haben, m√ºssen wir zum Testen nur wenige Befehle ausf√ºhren (da wir die GUI nicht als AWS-Ger√§tefarm-App verwenden werden). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ka/ln/tv/kalntvkkefpkcemawikixglisfq.jpeg"></div><br><div class="spoiler">  <b class="spoiler_title">Codebeispiel</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> boto3 <span class="hljs-comment"><span class="hljs-comment">#  AWS SDK https://pypi.org/project/boto3/ aws_client = boto3.client('devicefarm') response = aws_client.list_devices() #     device_arn = '' for phone in response["devices"]: if phone['name'] == "Google Pixel XL": #      (  ) device_arn = phone['arn'] #   Amazon Resource Name break project_arn = aws_client.list_projects()['projects'][0]['arn'] #        #      ,    SSH    response = aws_client.create_remote_access_session(projectArn=project_arn, deviceArn=device_arn, remoteDebugEnabled=True, ssh-public-key=SSH_KEY) #     adb devices     uuid Google Pixel XL  AWS Device Farm,   iOS #     ... RUN_TESTS() ... #    ( )    aws_client.stop-remote-access-session(arn=response['remoteAccessSession']['arn']) aws_client.delete_remote_access_session(arn=response['remoteAccessSession']['arn'])</span></span></code> </pre> </div></div><br><p>  Wenn wir die Anwendung testen m√∂chten, kann sie auch √ºber das AWS SDK heruntergeladen werden. </p><br><p>  Aber ich habe hier keine Schl√ºsselnuance genannt.  Wir stolpern wieder ausf√ºhrlich √ºber den Teufel.  Tatsache ist, dass die Remote-Debugging-Option nur verf√ºgbar ist, wenn wir den Plan f√ºr private Ger√§te f√ºr AWS verwenden.  Erstens ist diese Funktion nur auf Anfrage verf√ºgbar (Sie m√ºssen einen Brief an Amazon schreiben), zweitens ist die Option f√ºr die Region us-west-2 verf√ºgbar, und drittens kehrt diese Option tats√§chlich zu dem Szenario zur√ºck, in dem wir einen Server f√ºr haben Testen mit einer Reihe (oder mindestens einem) angeschlossenen Ger√§ten.  Die Vorteile liegen auf der Hand - wir k√∂nnen dieses Ger√§t ausschlie√ülich verwenden, was offensichtlich sicherer und schneller ist. Andererseits verlieren wir den Hauptvorteil - die Auswahl und Vielfalt der Ger√§te. </p><br><p>  Ich mochte den Service insgesamt, aber f√ºr unser Team gibt es leider zu viele ‚ÄûAber‚Äú. </p><br><h3>  Bitbar </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5a/gg/lp/5agglpijttxv29qnnlrgr12ksgu.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Diese Cloud-basierte mobile Farm ist die erste, die auf Suchmaschinen st√∂√üt.  Und nicht umsonst.  Mit Blick auf die Zukunft m√∂chte ich sagen, dass dieser Dienst die beste Auswahl an Ger√§ten (nur echte Ger√§te) und die beste Leistung in Bezug auf einen Test im Vergleich zu anderen bietet.  Bitbar bietet Dienste f√ºr manuelle und automatisierte Remote-Tests (unter Verwendung von Appium und anderen Frameworks) und erm√∂glicht auf Wunsch auch die Verwendung eines √§hnlichen Crawlers wie Firebase Test Lab (Robotertest) - AI TestBot.  Der Hauptvorteil von BitBar ist eine unbegrenzte Anzahl von Testthreads (dh Sie k√∂nnen Ihre Anwendung sofort auf Hunderten von Ger√§ten testen), indem Sie den erforderlichen Ger√§tepool im Voraus ausw√§hlen.  Wenn das Ger√§t ausgelastet ist, wird ein anderes ausgew√§hlt oder die Sitzung wird in die Warteschlange gestellt.  Am Ende des Testlaufs wird ein Protokoll erstellt, ein Testprotokoll erstellt, die Ergebnisse werden gespeichert und die Benachrichtigung wird an die E-Mail gesendet.  Es gibt zwar M√∂glichkeiten, die Interaktion mit verschiedenen CI / CD-Tools zu konfigurieren.  Der Dienst bietet auch die M√∂glichkeit, Desktop-Browser in verschiedenen Aufl√∂sungen zu testen und bei Bedarf wie in AWS Ihre privaten Ger√§te zu erstellen.  Sie m√ºssen zwar f√ºr all diese Chips bezahlen - jede Testminute kostet 0,29 US-Dollar. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oq/te/_v/oqte_v0jovfktqprbfpjzyt6kbw.jpeg"></div><br><p>  Der Einrichtungsprozess ist einfach, wie das Zusammenspiel zweier Finger mit Asphalt: </p><br><div class="spoiler">  <b class="spoiler_title">Codebeispiel</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> appium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> com_executor = <span class="hljs-string"><span class="hljs-string">'https://appium.bitbar.com/wd/hub'</span></span> desired_capabilities = { <span class="hljs-string"><span class="hljs-string">'deviceName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Motorola Google Nexus 6'</span></span>, <span class="hljs-string"><span class="hljs-string">'deviceId'</span></span>: <span class="hljs-string"><span class="hljs-string">'FA7AN1A00253'</span></span>, <span class="hljs-string"><span class="hljs-string">'newCommandTimeout'</span></span>: <span class="hljs-number"><span class="hljs-number">12000</span></span>, <span class="hljs-string"><span class="hljs-string">'browserName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Chrome'</span></span>, <span class="hljs-comment"><span class="hljs-comment">#     Chrome,    app 'bitbar_apiKey': 'BITBAR_API_KEY', 'bitbar_project': 'Software Testing', 'bitbar_testrun': 'Test run #N', 'bitbar_device': 'Motorola Google Nexus 6', 'bitbar_app': '23425235' } driver = webdriver.Remote(com_executor, desired_capabilities) """ ... """</span></span></code> </pre></div></div><br><h3>  Kobiton </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pm/jx/7z/pmjx7zlxb9om476zsp_qd24tqb0.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Ein weiterer Dienst, der Testdienste auf realen Ger√§ten bereitstellt.  Die Auswahl der Ger√§te ist bescheidener als bei Bitbar (350+), die Verf√ºgbarkeit der Ger√§te ist ebenfalls geringer.  Im Allgemeinen ist es in seiner Grundfunktionalit√§t BitBar sehr √§hnlich, es erm√∂glicht manuelle und automatische Tests (mit Appium - hier ohne Auswahl von Frameworks).  Es gibt keine M√∂glichkeit, auf Desktop-Browsern zu testen.  Mit diesem Dienst k√∂nnen Sie auch Tests mit einer unbegrenzten Anzahl von Sitzungen und Ger√§ten organisieren. Sie k√∂nnen hier jedoch keinen Ger√§tepool erstellen.  Der Preis des Dienstes ist sehr liberal - von 0,10 USD pro zus√§tzliche Testminute, aber w√§hrend des Testzeitraums machte ich auf eine gewisse Instabilit√§t des Dienstes aufmerksam - das Internet fiel auf Ger√§ten h√§ufig ab, sobald das Ger√§t h√§ngen blieb.  Wenn das Ger√§t ausgelastet oder reserviert ist, schlagen alle laufenden Tests fehl.  Das hei√üt, im Gegensatz zu Bitbar gibt es keine Warteschlangen von Sitzungen.  Es ist wahr, es kann zu geringen Kosten organisiert werden.  Kobiton hat eine eigene kleine API. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0b/8n/p9/0b8np9ceky_s0e2schcgitmgi4w.jpeg"></div><br><p>  Das Setup ist auch sehr einfach, im Gegensatz zur Bitbar, fast dem urspr√ºnglichen Appium. </p><br><div class="spoiler">  <b class="spoiler_title">Codebeispiel</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> base64 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sleep <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> appium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> <span class="hljs-comment"><span class="hljs-comment">#  base64EncodedBasicAuth = base64.b64encode(bytes(f'{USERNAME}:{API_KEY}', 'utf-8')) headers = { 'Authorization': f'Basic {base64EncodedBasicAuth}' } reply = requests.get(f'https://api.kobiton.com/v1/apps', params={ }, headers = headers) #     deviceId headers = { 'Authorization': base64EncodedBasicAuth, 'Accept': 'application/json' } reply = requests.get(f'https://api.kobiton.com/v1/devices/{deviceId}/status', params={ }, headers = headers) #   ,      while (reply['isOnline'] == False or reply['isBooked'] == True): sleep(60) #   com_executor = f'https://{USERNAME}:{API_KEY}@api.kobiton.com/wd/hub' desired_capabilities = { 'browserName': 'Chrome', # The generated session will be visible to you only. 'sessionName': 'Automation test session', 'sessionDescription': '', 'deviceOrientation': 'portrait', 'captureScreenshots': True, 'deviceGroup': 'KOBITON', # For deviceName, platformVersion Kobiton supports wildcard # character *, with 3 formats: *text, text* and *text* # If there is no *, Kobiton will match the exact text provided 'deviceName': 'Pixel 2', 'platformName': 'Android', 'platformVersion': '9' } driver = webdriver.Remote(com_executor, desired_capabilities) """ ... """ #   RUN_TESTS() """ ... """ #       ,     (   ) headers = { 'Authorization': {base64EncodedBasicAuth} } requests.delete(f'https://api.kobiton.com/v1/sessions/{sessionId}/terminate', params={ }) """ ... """</span></span></code> </pre></div></div><br><h3>  Browserstack </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ug/zt/ed/ugztedawkg6ed9okmi1htaactgc.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Guter alter BrowserStack.  Es wurden viele Dinge √ºber ihn geschrieben und viele, die es benutzen.  Ja, es erm√∂glicht das Testen nicht nur in verschiedenen Browsern, sondern auch auf verschiedenen Ger√§ten.  Sowohl im manuellen Modus als auch mit Selen / Appium.  Abh√§ngig von Ihren Anforderungen - in mobilen Browsern oder mit Ihrer Anwendung.  In Bezug auf die Funktionen ist alles dasselbe wie bei den beiden oben genannten Diensten, aber im Gegensatz zu ihnen gibt es bereits Einschr√§nkungen hinsichtlich der Anzahl gleichzeitiger Sitzungen.  Im Gegenteil, zahlen Sie 199 US-Dollar pro Monat und testen Sie unbegrenzt.  Es gibt Plugins f√ºr Jenkins, Travis CI, TeamCity, seine umfangreiche API, hervorragende Protokolle und eine gro√üe Auswahl an Ger√§ten und Desktop-Browsern in verschiedenen Konfigurationen.  Abh√§ngig davon, was Sie testen, variieren die Einstellungen - zum Testen von Browsern (auch von mobilen) wird ein Selenium-Hub und f√ºr Anwendungen ein Appium-Hub verwendet.  Dar√ºber hinaus m√ºssen Sie zum Testen der Anwendung separat bezahlen.  Das hei√üt, um sowohl mobile Browser als auch Anwendungen zu testen, m√ºssen Sie 199 US-Dollar und weitere 159 US-Dollar zahlen (der Preis f√ºr ein Ger√§t zum gleichzeitigen Testen). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xi/xv/zz/xixvzzad9ae94ktoao0yzkodra8.png"></div><br><div class="spoiler">  <b class="spoiler_title">Beispielcode f√ºr die Anwendung</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> appium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> com_executor = <span class="hljs-string"><span class="hljs-string">'https://USERNAME:API_KEY@hub-cloud.browserstack.com/wd/hub'</span></span> desired_capabilities = {<span class="hljs-string"><span class="hljs-string">'device'</span></span>: <span class="hljs-string"><span class="hljs-string">'Google Pixel'</span></span>, <span class="hljs-string"><span class="hljs-string">'deviceName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Google Pixel'</span></span>, <span class="hljs-string"><span class="hljs-string">'app'</span></span>: app_name, <span class="hljs-string"><span class="hljs-string">'realMobile'</span></span>: <span class="hljs-string"><span class="hljs-string">'true'</span></span>, <span class="hljs-string"><span class="hljs-string">'os_version'</span></span>: <span class="hljs-string"><span class="hljs-string">'8.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>: <span class="hljs-string"><span class="hljs-string">'Bstack-[Python] Sample Test'</span></span> } driver = webdriver.Remote(com_executor, desired_capabilities) <span class="hljs-string"><span class="hljs-string">""" ... """</span></span></code> </pre></div></div><br><div class="spoiler">  <b class="spoiler_title">Beispielcode f√ºr einen mobilen Browser</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> selenium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> com_executor = <span class="hljs-string"><span class="hljs-string">'http://USERNAME:API_KEY@hub.browserstack.com:80/wd/hub'</span></span> desired_capabilities = {<span class="hljs-string"><span class="hljs-string">'device'</span></span>: <span class="hljs-string"><span class="hljs-string">'Google Pixel'</span></span>, <span class="hljs-string"><span class="hljs-string">'deviceName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Google Pixel'</span></span>, <span class="hljs-string"><span class="hljs-string">'browserName'</span></span>: <span class="hljs-string"><span class="hljs-string">'Chrome'</span></span>, <span class="hljs-string"><span class="hljs-string">'realMobile'</span></span>: <span class="hljs-string"><span class="hljs-string">'true'</span></span>, <span class="hljs-string"><span class="hljs-string">'os_version'</span></span>: <span class="hljs-string"><span class="hljs-string">'8.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>: <span class="hljs-string"><span class="hljs-string">'Bstack-[Python] Sample Test'</span></span> } driver = webdriver.Remote(com_executor, desired_capabilities) <span class="hljs-string"><span class="hljs-string">""" ... """</span></span></code> </pre></div></div><br><h3>  Experimentell </h3><br><img src="https://habrastorage.org/webt/do/7d/uv/do7duvaiufyiok6muyz_zuerya4.png"><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Ein weiterer Dienst, der die M√∂glichkeit bietet, sowohl mobile Ger√§te als auch Desktop-Browser manuell und automatisch mit Appium, Selenium und anderen Frameworks zu testen.  Wie bei BrowserStack ist die Anzahl der gleichzeitigen Sitzungen begrenzt, die Preise unterscheiden sich jedoch geringf√ºgig. F√ºr das Testen mobiler Anwendungen verlangt der Dienst 199 US-Dollar pro Monat und f√ºr das Cross-Browser-Testen nur 39 US-Dollar (f√ºr eine gleichzeitige Sitzung).  Dar√ºber hinaus k√∂nnen Sie wie Bitbar mit AWS Ihr eigenes privates Labor mit Ger√§ten erstellen, die jedoch auf Wunsch mit einer √∂ffentlichen Cloud aus Tausenden von Ger√§ten, Emulatoren und Browsern verschiedener Versionen und Plattformen (MacOS, Windows) gemischt werden k√∂nnen.  Zu den interessanten Funktionen geh√∂rt die Verf√ºgbarkeit von Erweiterungen f√ºr IntelliJ und Eclipse, ein eigenes Appium Studio-Tool, mit dem Sie die erweiterten Funktionen von Ger√§ten wie die Interaktion mit FaceID, die Sprachsteuerung, das Scannen von Barcodes, das Einstellen der Kommunikationsqualit√§t, die geografische Position und vieles mehr nutzen k√∂nnen.  Von den Minuspunkten kann ich eine seltsame Reihe von Ger√§ten f√ºr den Testzeitraum, die drakonische Tarifierung f√ºr den Testzeitraum sowie die Anforderung zur Verwendung von Unternehmenspost nennen (Google Mail funktioniert nicht). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fi/z3/wy/fiz3wy8hud0aa5zd28-86zluljg.jpeg"></div><br><div class="spoiler">  <b class="spoiler_title">Codebeispiel</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> appium <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> webdriver <span class="hljs-string"><span class="hljs-string">""" ... """</span></span> com_executor = <span class="hljs-string"><span class="hljs-string">'https://Uhttps://cloud.seetest.io/wd/hub'</span></span> desired_capabilities = {<span class="hljs-string"><span class="hljs-string">"deviceName"</span></span>: <span class="hljs-string"><span class="hljs-string">"iPhone X"</span></span>, <span class="hljs-string"><span class="hljs-string">"accessKey"</span></span>: API_KEY, <span class="hljs-string"><span class="hljs-string">"platformName"</span></span>: <span class="hljs-string"><span class="hljs-string">"ios"</span></span>, <span class="hljs-string"><span class="hljs-string">"deviceQuery"</span></span>: <span class="hljs-string"><span class="hljs-string">"'@os='ios' and @version='12.1.3' and @category='PHONE'"</span></span>, } driver = webdriver.Remote(com_executor, desired_capabilities) <span class="hljs-string"><span class="hljs-string">""" ... """</span></span></code> </pre></div></div><br><h3>  Saucelabs </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jo/vz/sy/jovzsyon88bmkdxcknin36wro8k.jpeg"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Einer der √§ltesten Cloud-Testdienste.  Fast 400 verschiedene reale Ger√§te, eine gro√üe Auswahl an Simulatoren und Emulatoren, einschlie√ülich atypischer Emulatoren von Samsung-Ger√§ten, gibt es Desktop-Browser f√ºr verschiedene Betriebssysteme, einschlie√ülich Linux.  Automatisierung auf Appium / Selen und nativen Frameworks.  Der Hauptvorteil des Dienstes ist das Vorhandensein einer umfangreichen Sammlung von Konfigurationen, einschlie√ülich alter Betriebssysteme, Browser und Ger√§te.  SauceLabs haben auch eine Begrenzung f√ºr die Anzahl gleichzeitiger Sitzungen, aber hier umfasst die billigste Option nicht eine, sondern zwei gleichzeitige Sitzungen.  Was ungew√∂hnlich ist: Tarifpl√§ne f√ºr reale Ger√§te und Emulatoren sind unterschiedlich.  Die billigsten Optionen, die zwei Sitzungen mit 2000 Testminuten pro Monat auf Emulatoren umfassen, kosten 149 US-Dollar und auf realen Ger√§ten bereits 349 US-Dollar.  Es gibt eine Integration mit CI / CD, Slack. Leider konnte ich SauceLabs nicht live testen, da die Registrierung m√∂glicherweise fehlschl√§gt, m√∂glicherweise aufgrund der Region, aber ich kann nicht sicher sagen. </p><br><h3>  Perfecto </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pl/bj/h2/plbjh2r1jax9nmtdxkq08sxzfvs.png"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> </p><br><p>  Der neueste Cloud-Testanbieter ist Experitest optisch am √§hnlichsten, jedoch ohne erweiterte Funktionen.  Es gibt eine einfache Skriptsprache.  Es ist sehr seltsam, aber im Dienst f√ºr Nicht-Unternehmenstarife (Enterprise-Tarife) gibt es keinen Vorschlag zum Testen in Desktop-Browsern. Es ist auch unm√∂glich, die Ausf√ºhrung von Tests in Echtzeit zu √ºberwachen (nur wenn dies kein manueller Test ist).  Zum Testen stehen ungef√§hr hundert verschiedene Ger√§te zur Verf√ºgung.  Es gibt eine Integration mit Jenkins und interessanterweise auch mit Testmanagement-Tools wie HP ALM, IBM Rational und TFS.  Es sind auch sehr seltsame Tarifpl√§ne verf√ºgbar, z. B. 5 Teststunden pro Monat (in Minuten bis zu 0,33 US-Dollar (dies ist der teuerste Service)), obwohl es m√∂glich ist, ein Paket mit zus√§tzlichen Stunden zu kaufen, aber es ist auch seltsam, dass dies nicht der Fall ist pro Minute oder mindestens st√ºndliche Abrechnung nachtr√§glich.  Zur Vereinfachung der Verwendung stehen w√§hrend des Testzeitraums nur manuelle Tests sowie ein gemeinsames Labor zur Verf√ºgung, sodass alle Starts von verschiedenen Benutzern auf einen Haufen fallen.  Es ist daher unm√∂glich, den Komfort und die Geschwindigkeit des Dienstes genau zu beurteilen.  Es ist ersichtlich, dass sich der Service haupts√§chlich auf gro√üe Unternehmenskunden konzentriert, w√§hrend die F√§higkeiten dieses Anbieters zumindest nach den verf√ºgbaren Informationen die bescheidensten von allen sind, die ich getestet habe. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4x/l_/so/4xl_so-pdliodrvlt7huphfnybe.jpeg"></div><br><br><h2>  Zusammenfassende Ergebnisse </h2><br><p>  Nach allen Auswahlkriterien sind die Services sehr √§hnlich, der Unterschied zwischen den Services in Leistung und Preis (wenn beispielsweise keine Funktionen vorhanden sind, wie im Fall von AWS).  Daher werden wir die Forschungsdaten in einer Tabelle zusammenfassen, die Geschwindigkeit der Dienste (unter Ber√ºcksichtigung der Verbindung √ºber US-VPN) sowie den Preis der Einfachheit halber vergleichen und die durchschnittliche monatliche Testzeit auf Ger√§ten vergleichen (5 Releases pro Monat, 2 Stunden Test auf Android- und iOS-Ger√§ten) = 20 Stunden).  Als Referenzwerte verwende ich Daten von meinem lokalen Computer mit einem Emulator, der zur Reinheit des Experiments √ºber ein VPN in den USA erneut mit diesem verbunden wird. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m9/1k/ym/m91kymmminidgp5q_ivtq110dqs.png"></div><br><h1>  Schlussfolgerungen </h1><br><p>  Es war sehr interessant f√ºr mich, den richtigen Service f√ºr unser Team zu suchen und auszuw√§hlen.  Im Allgemeinen gibt es L√∂sungen f√ºr jeden Geschmack und f√ºr jede Aufgabe, und die Dienstleistungen erwiesen sich in Bezug auf Eigenschaften und Implementierung als sehr √§hnlich.  Daher w√ºrde ich abh√§ngig von Ihren Aufgaben die folgende Auswahl empfehlen: </p><br><p>  <b>Option A</b> : Wenn Ihnen die Geschwindigkeit der √úberpr√ºfung wichtig ist und Sie Dutzende verschiedener Ger√§te gleichzeitig √ºberpr√ºfen m√ºssen, haben Sie die Wahl zwischen <b>Bitbar</b> . </p><br><p>  <b>Option B</b> : Wenn Sie Vorrang vor den Ergebnissen von Referenzger√§ten haben und Konfigurationstests zweitrangig (aber erforderlich) sind, haben Sie die Wahl zwischen <b>BrowserStack</b> .  Dies ist nur unser Fall, da statistisch gesehen 90% aller Fehler Fehler von Referenzplattformen und -ger√§ten sind (meistens treten Fehler f√ºr alle Referenzplattformen gleichzeitig auf).  Die restlichen 8% sind MS IE-Fehler, wobei die IE-Unterst√ºtzung abgelehnt wird - 2% MS Edge-Fehler und 0,5% Fehler bei bestimmten Konfigurationen. </p><br><p>  <b>Option B</b> : Wenn Sie spezielle Bedingungen wie schlechte Kommunikation, Geolokalisierung oder Touch / FaceID √ºberpr√ºfen m√∂chten, haben Sie die Wahl zwischen <b>Experitest</b> . </p><br><p>  Wenn Ihr Unternehmen jedoch auf lange Sicht ein gro√ües B√ºro besetzt, ist Ihre Arbeit Vollzeit. In der Regel kostet die Organisation eigener, sogar Mini-Labors mit einem Server f√ºr Emulatoren mit 2-3 angeschlossenen Ger√§ten weniger und bequemer als die Verwendung von Spezialger√§ten Dienstleistungen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de464433/">https://habr.com/ru/post/de464433/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de464415/index.html">Neuer Hinweisservice f√ºr die Suche nach hh.ru.</a></li>
<li><a href="../de464417/index.html">10 beliebte PHP-Frameworks im Jahr 2019</a></li>
<li><a href="../de464421/index.html">Radio Viber - alle Radiosender im Messenger online</a></li>
<li><a href="../de464423/index.html">Wie man Zeit verwaltet? Freelancer-Antwort</a></li>
<li><a href="../de464429/index.html">Die 10 h√§ufigsten Fehler bei der Arbeit mit der Spring-Plattform. Teil 1</a></li>
<li><a href="../de464435/index.html">Wie man nicht in einem Meer von Technologie und Ans√§tzen ertrinkt: die Erfahrung von 50 Experten</a></li>
<li><a href="../de464437/index.html">Wie das Entwicklungsteam mehr verdienen kann, indem es Verkehrsseiten erstellt [Implementierungshandbuch]</a></li>
<li><a href="../de464443/index.html">Natas Web. Passage der CTF-Plattform zur Ausnutzung von Web-Schwachstellen. Teil 2</a></li>
<li><a href="../de464445/index.html">Warum es wirklich unm√∂glich ist, Vegetarier zu sein</a></li>
<li><a href="../de464447/index.html">Count Scoring de la Fer oder eine Studie zum Kredit-Scoring als Teil der Erweiterung des eigenen Horizonts. Teil 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>