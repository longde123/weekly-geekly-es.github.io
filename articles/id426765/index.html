<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧘🏿 👊🏼 👨🏻‍🔧 Dasar-dasar pemrograman SAS Base. Pelajaran 4. Membuat Kumpulan Data SAS 👨🏿‍🔬 🏰 🧠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam artikel sebelumnya , kami belajar cara membaca data mentah eksternal. Hari ini kita akan berkenalan dengan operator SET, yang membaca set data S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dasar-dasar pemrograman SAS Base. Pelajaran 4. Membuat Kumpulan Data SAS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sas/blog/426765/">  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> sebelumnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">,</a> kami belajar cara membaca data mentah eksternal.  Hari ini kita akan berkenalan dengan operator SET, yang membaca set data SAS standar (SAS Data Set), mempelajari cara membuat irisan data, mengkonfigurasi atribut persisten, dan juga mempelajari beberapa fungsi SAS yang berguna.  Sekali lagi, saya akan mencoba menyajikan materi dalam bahasa yang sesederhana mungkin, menggunakan sebanyak mungkin contoh. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mh/41/za/mh41zamhljv6eb9q3esmouqgqmy.jpeg"></div><br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z5/gp/dc/z5gpdcquyr1srkiskv378g39vpa.png"></div>  Katakanlah data disimpan dalam format EXCEL di direktori <i>C: \ workshop \ habrahabr</i> .  Kami mengimpor spreadsheet, membuat sepotong darinya, membuat kolom terhitung baru menggunakan fungsi SAS, dan kemudian membagi kumpulan data ini menjadi dua. <br><br><h2>  Impor spreadsheet dan atur filter </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vc/h1/ea/vch1eafptkkhr1zdxbg1rejuhvy.jpeg"></div><br>  File excel disimpan dalam direktori di atas dan terlihat seperti ini: <br><br>  Cuplikan file: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dp/yu/ta/dpyutaqneikteedo3fw-kz_w7dk.png"></div><br>  Kami menerapkan prosedur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IMPOR PROC</a> untuk mengonversi spreadsheet ke dataset SAS: <br><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">options</span></span> validvarname=v7; proc <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datafile="C:\workshop\habrahabr\company.xlsx" dbms=xlsx <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>=company replace; getnames=yes; run;</code> </pre> <br>  Opsi <b>validvarname = V7</b> menetapkan nama bidang yang benar dari sudut pandang SAS: mengganti semua karakter yang tidak valid dengan garis bawah.  Aturan untuk variabel penamaan dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pelajaran 1.</a> <br><br>  Kami segera menetapkan filter saat membaca file eksternal, misalnya, kami hanya memilih pengamatan di mana tanggal akhir tidak hilang.  Perhatikan sintaks parameter where. <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">options</span></span> validvarname=v7; proc <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datafile="C:\workshop\habrahabr\company.xlsx" dbms=xlsx <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>=company (<span class="hljs-keyword"><span class="hljs-keyword">where</span></span>=(End_Date <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> missing)) replace; getnames=yes; run;</code> </pre><br>  Mari kita pertimbangkan secara rinci operator langkah PROC IMPORT: <br><br>  <b>Datafile</b> - mendefinisikan path lengkap dan nama file eksternal <br>  <b>Dbms</b> - Menentukan tipe data yang akan diimpor. <br>  <b>Out</b> - mengidentifikasi dataset SAS output dengan nama SAS satu atau dua tingkat (nama perpustakaan dan nama dataset). <br>  <b>Ganti</b> - Timpa dataset SAS yang ada. <br>  <b>Getnames</b> - Menunjukkan apakah PROC IMPORT menghasilkan nama variabel SAS dari nilai data di baris pertama dari file eksternal input. <br><br>  Jalankan langkah IMPOR PROC dan periksa LOG: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ie/jx/f3/iejxf3zmynbwn2enbnmsejxpehs.jpeg"></div><br>  Cetak dataset SAS yang dihasilkan: <br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> data=work.company noobs; run;</code> </pre> <br>  Output dari prosedur PROC PRINT ditunjukkan di bawah ini: <br><br>  Fragmen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/48/_q/fc/48_qfcru6laeswnqaalj9fbsm5u.jpeg"></div><br>  Juga di SAS UE, Anda dapat menggunakan tab Hasil untuk melihat dataset SAS yang diimpor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qt/do/sd/qtdosdz9p9fls5-zpbs6sl8sde0.jpeg"></div><br><h2>  Membaca Kumpulan Data SAS </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/su/sz/ny/susznyrezwwkzaae2pheftsoipa.jpeg"></div><br>  Membaca dataset SAS diimplementasikan pada langkah DATA menggunakan pernyataan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SET</a> : <br><br>  Pertimbangkan sintaks umum untuk pernyataan SET: <br><br><pre> <code class="hljs lisp">SET&lt;SAS-data-set(<span class="hljs-name"><span class="hljs-name">s</span></span>) &lt;(<span class="hljs-name"><span class="hljs-name">data-set-options</span></span>(<span class="hljs-name"><span class="hljs-name">s</span></span>) )&gt; &gt; &lt;options&gt;<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>  Jika Anda tidak menentukan dataset dalam pernyataan SET, maka ia membaca pengamatan dari dataset SAS yang terakhir dibuat. <br><br>  Dalam pernyataan SET, Anda dapat menentukan beberapa set data, dalam hal ini, Set Data SAS akan ditambahkan satu di bawah yang lain (mirip dengan UNION dalam SQL). <br><br>  Juga, pada langkah DATA, bisa ada dua pernyataan SET, dalam hal ini tabel digabungkan dengan kolom umum.  Anda dapat membaca lebih lanjut tentang dua pernyataan SET dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel ini</a> , misalnya. <br><br>  Kode paling sederhana untuk membuat salinan dataset SAS adalah sebagai berikut: <br><br><pre> <code class="hljs sql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> company; run;</code> </pre> <br><h2>  Mengkonfigurasi Descriptor Dataset SAS </h2><br>  Anda dapat memeriksa deskriptor dataset SAS menggunakan prosedur ISI PROC ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lihat Pelajaran 2</a> ).  Dalam tutorial ini, kami akan mencetak komponen deskriptor menggunakan prosedur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PROC DATASETS</a> : <br><br><pre> <code class="hljs pgsql">proc datasets library=<span class="hljs-keyword"><span class="hljs-keyword">work</span></span> nolist; contents data=company <span class="hljs-keyword"><span class="hljs-keyword">order</span></span>=varnum; quit;</code> </pre> <br>  Sebuah fragmen hasil: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hx/dv/fb/hxdvfb9xumkbypqe3kx_ps0yggy.jpeg"></div><br>  Tetapkan format konstan untuk variabel Travel_Expenses dan Anggaran: <br><br><pre> <code class="hljs pgsql">data company; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> company; <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span>; run;</code> </pre> <br>  Periksa atribut dataset SAS: <br><br><pre> <code class="hljs pgsql">proc datasets library=<span class="hljs-keyword"><span class="hljs-keyword">work</span></span> nolist; contents data=company <span class="hljs-keyword"><span class="hljs-keyword">order</span></span>=varnum; quit;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zs/ue/jq/zsuejqa6eyz7mhuwznywso-j-1e.jpeg"></div><br><h2>  Membuat kolom terhitung </h2><br>  Semua fungsi SAS dapat dieksplorasi dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Fungsi SAS 9.4 dan Rutin PANGGILAN: Referensi, Edisi Kelima</a> . <br><br>  Selain itu, jika tidak ada fungsi yang sesuai untuk melakukan tugas tertentu, Anda dapat menggunakan prosedur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PROC FCMP</a> dan membuat fungsi Anda sendiri. <br><br>  Dalam pelajaran ini, kita akan mengeksplorasi tiga fungsi YRDIF, SUM, dan CATS. <br><br>  Untuk menghitung perbedaan tanggal dalam tahun, kami akan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">fungsi YRDIF</a> . <br><br>  Biarkan saya mengingatkan Anda bahwa tanggal dalam format SAS adalah jumlah hari mulai 01 Januari 1960 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lihat Pelajaran 1</a> ).  Pada data yang disajikan, kita perlu menghitung waktu eksekusi: <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> company1; set work.company; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Lead_Time</span></span></span><span class="hljs-class">=yrdif(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Start_Date</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">End_Date</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">actual'</span></span></span><span class="hljs-class">); format </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Travel_Expenses</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Budget</span></span></span><span class="hljs-class"> dollar10.2 </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Lead_Time</span></span></span><span class="hljs-class"> 3.1; run;</span></span></code> </pre><br>  Harap perhatikan bahwa menggunakan format 3.1 untuk variabel Lead_Time, kami membulatkan nilai yang dihitung dalam laporan (!) Ke 1 tempat desimal.  Operator format <b>tidak mengubah</b> nilai dalam dataset SAS! <br><br>  Sebuah fragmen hasil: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t_/ch/fv/t_chfvwkcil_pslkfobagw3zhjs.jpeg"></div><br>  Selanjutnya, kami menghitung biaya kerja tanpa biaya perjalanan: <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; run;</code> </pre> <br>  Sebuah fragmen hasil: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yp/ss/4i/ypss4iuzxz8yib7g0pkltst0jxc.jpeg"></div><br>  Sebagai bagian dari tugas kami, kami menghitung biaya kerja tanpa memperhitungkan biaya perjalanan tanpa menggunakan fungsi.  Tidak ada nilai yang hilang dalam tabel kami, jika salah satu variabel (Anggaran atau Travel_Expenses) memiliki nilai yang hilang, hasilnya adalah "misi". <br><br>  Sebagai contoh: <br><br>  Buat set data uji: <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> test; input </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Budget</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Travel_Expenses</span></span></span><span class="hljs-class">; datalines; 12345 233 . 345 12543 . ;</span></span></code> </pre> <br>  Hitung perbedaan dalam variabel Budget Travel_Expenses <br><br><pre> <code class="hljs sql">data test; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">test</span></span>; value=Budget-Travel_Expenses; run;</code> </pre> <br>  Hasil dari langkah ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kj/ng/h9/kjngh9l39sj9hht7mf0o3ptfauy.jpeg"></div><br>  Untuk mendapatkan hasil yang benar, Anda dapat menggunakan fungsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SUM</a> . <br><br>  Fungsi ini termasuk dalam kategori fungsi <b>statistik deskriptif</b> .  Fungsi statistik deskriptif <b>mengabaikan</b> nilai yang hilang. <br><br>  Menulis kode melalui SUM: <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> test; set test; value=sum(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Budget</span></span></span><span class="hljs-class">,-</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Travel_Expenses</span></span></span><span class="hljs-class">); run;</span></span></code> </pre> <br>  Dalam hal ini, hasil langkahnya adalah sebagai berikut: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ls/ji/6u/lsji6u565y1z9dinudwbzhrgygo.jpeg"></div><br>  Kolom terhitung ketiga adalah alamat email manajer.  Itu bisa "dirakit" dari kolom Manager_FirstName, Manager_LastName dan nilai-nilai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">habr</a> .com <br><br>  Anda dapat menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">fungsi CATS</a> untuk menggabungkan nilai teks menjadi satu baris. <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; run;</code> </pre> <br>  Sebuah fragmen hasil: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ta/rg/cn/targcncw0c3sg7w09xf1d3hizoq.jpeg"></div><br>  Mari kita periksa deskriptor dari kumpulan data yang dibuat: <br><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">proc</span></span> contents <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">=work.company1 varnum; run;</span></span></code> </pre> <br>  Menangani fragmen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cu/sk/sw/cusksw789cltrxqyxhl9vumtafu.jpeg"></div><br>  Perhatikan panjang variabel Email. Ini adalah 200 byte, ini adalah panjang default yang dikembalikan oleh fungsi CATS.  Jika kita memeriksa atribut variabel Manager_FirstName dan Manager_LastName, kita dapat memastikan bahwa 8 + 6 + panjang string '@ habr.com' cukup untuk variabel Email, yaitu, 9 byte, total 23. Mengapa saya harus memperhatikan hal ini?  Semua karakter yang hilang mencapai spasi, yang memengaruhi ukuran kumpulan data dan akan memengaruhi kinerja sejumlah besar data. <br><br>  Untuk mengatur panjang variabel Email secara eksplisit, Anda harus menggunakan operator LENGTH: <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; length Email <span class="hljs-meta"><span class="hljs-meta">$23</span></span>; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; run;</code> </pre><br>  Tangani fragmen <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aa/gb/1m/aagb1mayhm8qb27qe1q_uemuc_i.jpeg"></div><br>  Buat kolom terperinci berdasarkan pada variabel Lead_Time, dengan mempertimbangkan kondisi berikut: <br><br><ol><li>  Jika nilai variabel Lead_Time kurang dari 1, maka kolom Detail memiliki nilai kurang dari 1 tahun. </li><li>  Jika nilai variabel Lead_Time berada dalam kisaran dari 1 hingga 2, termasuk batas, maka kolom Detail memiliki nilai 1-2 tahun. </li><li>  Jika nilai variabel Lead_Time berada dalam kisaran 2 hingga 3, tidak termasuk 2, maka kolom Detail memiliki nilai 2-3 tahun. </li><li>  Jika nilai variabel Lead_Time berada dalam kisaran 3 hingga 4, tidak termasuk 3, maka kolom Detail memiliki nilai 3-4 tahun. </li><li>  Jika nilai variabel Lead_Time berada dalam kisaran 4 hingga 5, tidak termasuk 4, maka kolom Detail memiliki nilai 4-5 tahun. </li><li>  Dalam semua kasus lain, kolom Detail memiliki nilai di atas 5 tahun. </li></ol><br>  Anda dapat membuat kolom terperinci dengan berbagai cara, misalnya, opsi paling sederhana dan paling jelas adalah menggunakan pemrosesan bersyarat.  Itu dapat diimplementasikan menggunakan operator berikut: <br><br><ol><li>  JIKA-KEMUDIAN LAIN </li><li>  LAIN JIKA </li><li>  PILIH-KAPAN </li></ol><br>  Untuk sejumlah besar data, lebih efisien menggunakan dua opsi terakhir. <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; length Email <span class="hljs-meta"><span class="hljs-meta">$23</span></span>; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'less than a year'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time=&gt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'1-2 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'3-4 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'4-5 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> detail=<span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; run;</code> </pre> <br>  Tambahkan kondisi yang hanya memilih pengamatan di mana nilai variabel Detail tidak sama dengan 'di atas 5 tahun'.  Saat menggunakan tempat sebagai filter, kesalahan sintaksis akan terjadi: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/1g/xw/dg1gxwpxot2yr4y8hxfyf1qn5yy.jpeg"></div><br>  Klausa mana tidak digunakan untuk kolom yang dihitung.  Untuk memilih variabel yang kita butuhkan, kita membutuhkan pernyataan IF selektif.  Ini membatalkan output pengamatan ke set data yang dibuat: <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; length Email <span class="hljs-meta"><span class="hljs-meta">$23</span></span>; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'less than a year'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time=&gt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'1-2 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'3-4 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> detail=<span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> detail ne <span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; run;</code> </pre> <br>  Perhatikan juga bahwa pernyataan IF selektif membutuhkan operator aritmatika.  Kami tidak dapat menulis, misalnya, seperti ini: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> detail <span class="hljs-built_in"><span class="hljs-built_in">contains</span></span> 'above <span class="hljs-number"><span class="hljs-number">5</span></span> years';</code> </pre> <br>  Kesalahan akan ditampilkan di Log: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bb/pg/bn/bbpgbnq-vb-xinyyoedx4psogra.jpeg"></div><br><h2>  Konfigurasikan dataset SAS. </h2><br>  Variabel Manager_FirstName dan Manager_LastName tidak boleh ada dalam dataset SAS baru.  Persyaratan ini diimplementasikan menggunakan parameter DROP, dan operator DROP juga dapat digunakan. <br><br><pre> <code class="hljs pgsql">data company1 (<span class="hljs-keyword"><span class="hljs-keyword">drop</span></span>=Manager_FirstName Manager_LastName); <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; length Email <span class="hljs-meta"><span class="hljs-meta">$23</span></span>; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'less than a year'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time=&gt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'1-2 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'3-4 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> detail=<span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> detail ne <span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; run;</code> </pre> <br><h2>  Kami membagi dataset SAS yang dibuat menjadi dua sesuai dengan kondisi yang diberikan <br></h2><br>  Dalam satu langkah DATA, Anda dapat membuat beberapa dataset SAS.  Buat kumpulan data terpisah untuk setiap negara. <br><br>  Untuk memeriksa nilai apa yang ada di kolom Negara, misalnya, Anda dapat menggunakan prosedur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PROC FREQ</a> . <br><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">proc</span></span> freq <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">=company1; table </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Country</span></span></span><span class="hljs-class"> /nocum nopercent; run;</span></span></code> </pre> <br>  Langkah ini mempertimbangkan berapa kali nilai tertentu dari variabel Negara terjadi dalam dataset SAS yang ditentukan dalam data = parameter. <br><br>  Hasil dari langkah ini adalah sebagai berikut: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iu/nw/d7/iunwd74wia2efvl8dufe1lss-wa.jpeg"></div><br>  Jadi, kami akan membuat dua set data pada satu langkah DATA menggunakan operator OUTPUT dan pemrosesan bersyarat: <br><br><pre> <code class="hljs pgsql">data US AU; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company1; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Country=<span class="hljs-string"><span class="hljs-string">'AU'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> output AU; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Country=<span class="hljs-string"><span class="hljs-string">'US'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> output US; run;</code> </pre> <br>  Jalankan kode dan lihat LOG: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kp/ml/qh/kpmlqhkwiaykfvnpglwkzfjryiy.jpeg"></div><br>  Ini secara singkat tentang membaca dan mengkonfigurasi dataset SAS.  Pada artikel selanjutnya, kami akan memperkenalkan Anda untuk menggabungkan dataset menggunakan pernyataan MERGE dan SET. <br><br>  Dan sebagai PS, saya akan mengingatkan Anda struktur pelajaran SAS BASE kami: <br><br>  Artikel yang sudah diterbitkan: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dasar-dasar pemrograman pada SAS BASE.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pelajaran 1.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dasar-dasar pemrograman pada SAS BASE.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pelajaran 2. Akses Data</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dasar-dasar pemrograman pada SAS BASE.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pelajaran 3. Membaca file teks.</a> </li><li>  Anda baru saja belajar pelajaran keempat. </li></ol><br>  Dalam artikel berikut ini saya ingin menyoroti masalah seperti bergabung dengan tabel di SAS Base (menggabungkan, mengatur), pemrosesan bersyarat, loop, fungsi SAS, membuat format khusus, SAS Macro, PROC SQL. <br><br><img src="https://habrastorage.org/webt/5h/3z/5l/5h3z5lwpgz1n66okrqwkvu6gnm0.png">  Saya akan dengan senang hati memberi tanggapan dalam komentar!  Apa topik lain yang ingin Anda lihat di artikel? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id426765/">https://habr.com/ru/post/id426765/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id426747/index.html">Pada tahun 2018, para pengembang proyek KDE menerima lebih dari $ 0,5 juta sumbangan. Dan bukan hanya mereka ...</a></li>
<li><a href="../id426749/index.html">Pindah ke London bersama istri dan anjingnya. Sejarah pengembang seluler</a></li>
<li><a href="../id426753/index.html">Piala Desain Surat 2018 - Persaingan untuk Desainer Antarmuka</a></li>
<li><a href="../id426755/index.html">Pengembang Windows 10 telah menerapkan perlindungan terhadap virus ransomware. Itu bisa dielakkan dengan injeksi DLL</a></li>
<li><a href="../id426759/index.html">Gambar penguji modern. Apa yang perlu Anda ketahui dan dapat lakukan</a></li>
<li><a href="../id426769/index.html">Buku "Minecraft. Programlah dunia Anda dengan Python. Edisi Internasional ke-2</a></li>
<li><a href="../id426771/index.html">Kami sedang melakukan proyek pembelajaran mesin dengan Python. Bagian 3</a></li>
<li><a href="../id426773/index.html">Kiat untuk penggunaan profesional RecyclerView. Bagian 2</a></li>
<li><a href="../id426777/index.html">Kiat dukungan teknis buruk</a></li>
<li><a href="../id426779/index.html">Bagaimana cara kerja stasiun</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>