<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚜️ 💘 ☝🏾 جو ناقد: المحلل الثابت الأكثر عنادا لـ Go 👩‍👧 💇🏽 👒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="نحن نعلن عن اللتر الجديد (محلل ثابت) لـ Go ، والذي يعد أيضًا وضع حماية لنماذج أفكارك في عالم التحليل الثابت. 


 يقوم الناقد على الملاحظات التالية: 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>جو ناقد: المحلل الثابت الأكثر عنادا لـ Go</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414739/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qo/je/x2/qojex27wlzk161udn-fmhxwsnzc.png"></p><br><p style=";text-align:right;direction:rtl">  نحن نعلن عن اللتر الجديد (محلل ثابت) لـ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Go</a> ، والذي يعد أيضًا وضع حماية لنماذج أفكارك في عالم التحليل الثابت. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">يقوم الناقد</a> على الملاحظات التالية: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  من الأفضل أن يكون الاختبار "جيدًا بما فيه الكفاية" بدلاً من عدم إجرائه على الإطلاق </li><li style=";text-align:right;direction:rtl">  إذا كان الشيك مثيرًا للجدل ، فهذا لا يعني أنه لا يمكن أن يكون مفيدًا.  نحن نحتفل ب "رأيه" وصب </li><li style=";text-align:right;direction:rtl"> عادة ما تكون كتابة اللتر من الصفر أكثر صعوبة من إضافة شيك جديد إلى إطار عمل موجود إذا كان الإطار نفسه سهل الفهم. </li></ul><br><p style=";text-align:right;direction:rtl">  في هذا المنشور ، سنلقي نظرة على استخدام وهندسة الناقد ، وبعض <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الفحوصات المنفذة فيه</a> ، وسنصف أيضًا الخطوات الرئيسية لإضافة وظيفة المحلل لدينا. </p><a name="habracut"></a><br><h1 id="bystryy-start" style=";text-align:right;direction:rtl">  بداية سريعة </h1><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> <span class="hljs-variable"><span class="hljs-variable">$GOPATH</span></span> $ go get -u github.com/go-critic/go-critic/... $ ./bin/gocritic check-package strings <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/replace.go:450:22: unslice: could simplify s[:] to s <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/replace.go:148:2: elseif: should rewrite <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-else to switch statement <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/replace.go:156:3: elseif: should rewrite <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-else to switch statement <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/replace.go:219:3: elseif: should rewrite <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-else to switch statement <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/replace.go:370:1: paramTypeCombine: func(pattern string, value string) *singleStringReplacer could be replaced with func(pattern, value string) *singleStringReplacer <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/replace.go:259:2: rangeExprCopy: copy of r.mapping (256 bytes) can be avoided with &amp;r.mapping <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/replace.go:264:2: rangeExprCopy: copy of r.mapping (256 bytes) can be avoided with &amp;r.mapping <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/strings.go:791:1: paramTypeCombine: func(s string, cutset string) string could be replaced with func(s, cutset string) string <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/strings.go:800:1: paramTypeCombine: func(s string, cutset string) string could be replaced with func(s, cutset string) string <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/strings.go:809:1: paramTypeCombine: func(s string, cutset string) string could be replaced with func(s, cutset string) string <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/strings.go:44:1: unnamedResult: consider to give name to results <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/strings.go:61:1: unnamedResult: consider to give name to results <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/export_test.go:28:3: rangeExprCopy: copy of r.mapping (256 bytes) can be avoided with &amp;r.mapping <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src/strings/export_test.go:42:1: unnamedResult: consider to give name to results</code> </pre> <br><p style=";text-align:right;direction:rtl">  (تم تعديل تنسيق التحذيرات ؛ النسخ الأصلية متاحة في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجوهر</a> ). </p><br><p style=";text-align:right;direction:rtl">  يمكن للأداة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">gocritic</a> التحقق من الحزم الفردية من خلال مسار الاستيراد الخاص بها ( <code>check-package</code> ) ، وكذلك اجتياز جميع الأدلة بشكل متكرر ( <code>check-project</code> ).  على سبيل المثال ، يمكنك التحقق من <code>$GOROOT</code> أو <code>$GOPATH</code> باستخدام أمر واحد: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ gocritic check-project <span class="hljs-variable"><span class="hljs-variable">$GOROOT</span></span>/src $ gocritic check-project <span class="hljs-variable"><span class="hljs-variable">$GOPATH</span></span>/src</code> </pre> <br><p style=";text-align:right;direction:rtl">  هناك دعم لـ "القائمة البيضاء" لعمليات الفحص من أجل إدراج عمليات الفحص التي يجب إجراؤها بشكل <code>-enable</code> (علامة <code>-enable</code> ).  بشكل افتراضي ، يتم تشغيل جميع عمليات التحقق التي لم يتم تمييزها <code>VeryOpinionated</code> <code>Experimental</code> أو رمز <code>VeryOpinionated</code> . </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">يتم التخطيط</a> للتكامل في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">golangci-lint</a> و <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">gometalinter</a> . </p><br><h1 id="kak-vsyo-nachinalos" style=";text-align:right;direction:rtl">  كيف بدأ كل شيء </h1><br><p style=";text-align:right;direction:rtl">  عند إجراء مراجعة الشفرة التالية لمشروع Go ، أو عند تدقيق بعض مكتبة الطرف الثالث ، يمكنك ملاحظة نفس المشاكل مرارًا وتكرارًا. </p><br><p style=";text-align:right;direction:rtl">  للأسف ، لم يكن من الممكن العثور على اللتر الذي يشخص هذه الفئة من المشاكل. </p><br><p style=";text-align:right;direction:rtl">  قد تكون خطوتك الأولى محاولة لتصنيف المشكلة والاتصال بمؤلفي اللنتر الموجود ، مع اقتراح إضافة شيك جديد.  تعتمد فرص قبول اقتراحك بشكل كبير على المشروع ويمكن أن تكون منخفضة جدًا.  علاوة على ذلك ، على الأرجح ، ستتبعه أشهر من التوقعات. </p><br><p style=";text-align:right;direction:rtl">  ولكن ماذا لو كان الشيك غامضًا تمامًا ويمكن أن ينظر إليه شخص ما على أنه غير موضوعي للغاية أو غير دقيق بما فيه الكفاية؟ </p><br><p style=";text-align:right;direction:rtl">  ربما يكون من المنطقي محاولة كتابة هذا الشيك بنفسك؟ </p><br><p style=";text-align:right;direction:rtl">  <code>go-critic</code> موجود من أجل أن تصبح موطنًا للاختبارات التجريبية التي يسهل تنفيذها من قبل أنفسنا بدلاً من إرفاقها بالمحللات الثابتة الموجودة.  يقلل جهاز <code>go-critic</code> نفسه من حجم السياق والإجراءات اللازمة لإضافة فحص جديد - يمكننا القول أنك تحتاج إلى إضافة ملف واحد فقط (دون احتساب الاختبارات). </p><br><h1 id="kak-ustroen-go-critic" style=";text-align:right;direction:rtl">  كيف يعمل الناقد </h1><br><p style=";text-align:right;direction:rtl">  الناقد هو مجموعة من <strong>القواعد</strong> التي تصف خصائص الشيكات <strong>والمدققين</strong> الصغار الذين ينفذون فحص الشفرة للامتثال لقاعدة. </p><br><p style=";text-align:right;direction:rtl">  يتلقى التطبيق الذي <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">يشتمل على مادة اللتر</a> (على سبيل المثال ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">cmd / gocritic</a> أو <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">golangci-lint</a> ) قائمة بالقواعد المدعومة ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ويقوم</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بتصفيةها</a> بطريقة محددة ، وإنشاء وظيفة فحص لكل قاعدة محددة ، وتشغيل كل منها على الحزمة قيد الدراسة. </p><br><p style=";text-align:right;direction:rtl">  تتلخص عملية إضافة مدقق جديد في ثلاث خطوات رئيسية: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  مضيفا الاختبارات. </li><li style=";text-align:right;direction:rtl">  تنفيذ التحقق نفسه. </li><li style=";text-align:right;direction:rtl">  إضافة وثائق للليتر. </li></ol><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">سنستعرض</a> جميع هذه النقاط باستخدام مثال <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">captLocal</a> الذي يتطلب عدم وجود أسماء محلية تبدأ بحرف كبير. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/t9/a_/0-/t9a_0-i2mt6zy1dlzixhb6dkcc8.gif"></p><br><h1 id="dobavlenie-testov" style=";text-align:right;direction:rtl">  مضيفا الاختبارات </h1><br><p style=";text-align:right;direction:rtl">  لإضافة بيانات اختبار للتحقق الجديد ، تحتاج إلى إنشاء دليل جديد في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">lint / testdata</a> . </p><br><p style=";text-align:right;direction:rtl">  يجب أن يحتوي كل دليل من هذا القبيل على ملف <a href="">إيجابي_</a> tests.go ، يصف أمثلة التعليمات البرمجية التي يجب أن يعمل عليها الفحص.  لاختبار عدم وجود نتائج إيجابية خاطئة ، يتم استكمال الاختبارات برمز "صحيح" ، حيث لا يجب على الشيك الجديد أن يجد أي مشاكل ( <a href="">سلبية_test.go</a> ). </p><br><p style=";text-align:right;direction:rtl">  <strong>أمثلة:</strong> </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// lint/testdata/positive_tests.go /// consider `in' name instead of `IN' /// `X' should not be capitalized /// `Y' should not be capitalized /// `Z' should not be capitalized func badFunc1(IN, X int) (Y, Z int) { /// `V' should not be capitalized V := 1 return V, 0 }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// lint/testdata/negative_tests.go func goodFunc1(in, x int) (x, y int) { v := 1 return v, 0 }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  يمكنك تشغيل الاختبارات بعد إضافة اللتر الجديد. </p><br><h1 id="realizaciya-proverki" style=";text-align:right;direction:rtl">  تنفيذ التحقق </h1><br><p style=";text-align:right;direction:rtl">  قم بإنشاء ملف باسم المدقق: <code>lint/captLocal_checker.go</code> . <br>  حسب الاصطلاح ، تحتوي جميع ملفات micro- <code>_checker</code> لاحقة <code>_checker</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> lint <span class="hljs-comment"><span class="hljs-comment">//  “Checker”    . type captLocalChecker struct { checkerBase upcaseNames map[string]bool }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <a href="">checkerBase</a> هو نوع يجب تضمينه في كل مدقق. <br>  يوفر تطبيقات افتراضية ، والتي تسمح لك بكتابة كود أقل في كل اللبيتر. <br>  من بين أمور أخرى ، تتضمن checkerBase مؤشرًا إلى <code>lint.context</code> ، والذي يحتوي على معلومات النوع والبيانات الوصفية الأخرى حول الملف الذي يتم التحقق منه. </p><br><p style=";text-align:right;direction:rtl">  <code>upcaseNames</code> حقل <code>upcaseNames</code> على جدول بالأسماء المعروفة ، والذي <code>upcaseNames</code> .  بالنسبة لتلك الأسماء غير الواردة في الخريطة ، يُقترح عدم استخدام حرف كبير ، ولكن لن يتم توفير بديل صحيح. </p><br><p style=";text-align:right;direction:rtl">  يتم تهيئة الحالة الداخلية مرة واحدة لكل مثيل. <br>  يجب تعريف طريقة <code>Init()</code> فقط لأولئك الذين يحتاجون إلى تنفيذ التهيئة الأولية. </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(c *captLocalChecker)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { c.upcaseNames = <span class="hljs-keyword"><span class="hljs-keyword">map</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>{ <span class="hljs-string"><span class="hljs-string">"IN"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"OUT"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"INOUT"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  تحتاج الآن إلى تحديد وظيفة الفحص نفسها. <br>  في حالة <code>captLocal</code> ، نحتاج إلى التحقق من جميع <code>ast.Ident</code> المحلية التي تقدم متغيرات جديدة. </p><br><p style=";text-align:right;direction:rtl">  للتحقق من جميع التعريفات المحلية للأسماء ، يجب عليك تنفيذ طريقة بالتوقيع التالي في المدقق الخاص بك: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">VisitLocalDef(name astwalk.Name, initializer ast.Expr)</code> </pre> <br><p style=";text-align:right;direction:rtl">  يمكن الاطلاع على قائمة واجهات الزائر المتاحة في الملف <a href="">lint / internal / Visitor.go</a> . <br>  <code>captLocal</code> بتنفيذ <code>LocalDefVisitor</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//  ast.Expr,         //  .      . func (c *captLocalChecker) VisitLocalDef(name astwalk.Name, _ ast.Expr) { switch { case c.upcaseNames[name.ID.String()]: c.warnUpcase(name.ID) case ast.IsExported(name.ID.String()): c.warnCapitalized(name.ID) } } func (c *captLocalChecker) warnUpcase(id *ast.Ident) { c.ctx.Warn(id, "consider `%s' name instead of `%s'", strings.ToLower(id.Name), id) } func (c *captLocalChecker) warnCapitalized(id ast.Node) { c.ctx.Warn(id, "`%s' should not be capitalized", id) }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  عادة ، يتم وضع الطرق التي تولد تحذيرات في طرق منفصلة.  هناك استثناءات نادرة ، ولكن اتباع هذه القاعدة يعتبر ممارسة جيدة. </p><br><h1 id="dobavlenie-dokumentacii" style=";text-align:right;direction:rtl">  إضافة وثائق </h1><br><p style=";text-align:right;direction:rtl">  طريقة تنفيذ ضرورية أخرى هي <code>InitDocumentation</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(c *captLocalChecker)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InitDocumentation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(d *Documentation)</span></span></span></span> { d.Summary = <span class="hljs-string"><span class="hljs-string">"Detects capitalized names for local variables"</span></span> d.Before = <span class="hljs-string"><span class="hljs-string">`func f(IN int, OUT *int) (ERR error) {}`</span></span> d.After = <span class="hljs-string"><span class="hljs-string">`func f(in int, out *int) (err error) {}`</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  عادة ، املأ 3 حقول فقط: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>Summary</code> - وصف إجراء التحقق في جملة واحدة. </li><li style=";text-align:right;direction:rtl">  <code>Before</code> - رمز قبل التصحيح. </li><li style=";text-align:right;direction:rtl">  <code>After</code> - رمز بعد التصحيح (لا ينبغي أن يسبب تحذير). </li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">إنشاء الوثائق</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  إعادة إنشاء الوثائق ليست شرطا مسبقا ل linter الجديد ، ربما في المستقبل القريب ستكون هذه الخطوة مؤتمتة بالكامل.  ولكن إذا كنت لا تزال تريد التحقق من كيفية ظهور ملف علامة الإخراج ، فاستخدم الأمر <code>make docs</code> .  سيتم تحديث ملف <code>docs/overview.md</code> . </p></div></div><br><h1 id="registraciya-novogo-lintera-i-zapusk-testov" style=";text-align:right;direction:rtl">  تسجيل اللتر الجديد وإجراء الاختبارات </h1><br><p style=";text-align:right;direction:rtl">  اللمسة الأخيرة هي تسجيل اللتر الجديد: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//   captLocal_checker.go init . func init() { addChecker(&amp;captLocalChecker{}, attrExperimental, attrSyntaxOnly) }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  يتوقع <code>addChecker</code> مؤشرًا إلى القيمة الصفرية <code>addChecker</code> الجديد.  بعد ذلك تأتي الحجة المتباينة ، مما يسمح لك بتمرير صفات أو أكثر تصف خصائص تنفيذ القاعدة. </p><br><p style=";text-align:right;direction:rtl">  يعد <code>attrSyntaxOnly</code> علامة اختيارية <code>attrSyntaxOnly</code> التي لا تستخدم معلومات النوع في تنفيذها ، مما يسمح لك بتشغيلها دون إجراء تدقيق النوع.  <code>golangci-lint</code> علامة <code>golangci-lint</code> علامة على مثل هذه <code>golangci-lint</code> "سريعة" (لأنها تعمل بشكل أسرع). </p><br><p style=";text-align:right;direction:rtl">  <code>attrExperimental</code> هي سمة يتم تعيينها لجميع عمليات التنفيذ الجديدة.  لا يمكن إزالة هذه السمة إلا بعد تثبيت الشيك المطبق. </p><br><p style=";text-align:right;direction:rtl">  الآن بعد أن تم تسجيل اللنتر الجديد من خلال addChecker ، يمكنك تشغيل الاختبارات: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  GOPATH: $ go test -v github.com/go-critic/go-critic/lint #  GOPATH/src/github.com/go-critic/go-critic: $ go test -v ./lint #  ,      make: $ make test</span></span></code> </pre> <br><h1 id="optimistic-merging-pochti" style=";text-align:right;direction:rtl">  دمج متفائل (تقريبًا) </h1><br><p style=";text-align:right;direction:rtl">  عند النظر في طلبات السحب ، نحاول الالتزام باستراتيجية <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الدمج المتفائلة</a> .  يتم التعبير عن هذا بشكل رئيسي في قبول PRs تلك التي قد يكون للمراجع بعض المطالبات ، ولا سيما الذاتية البحتة.  مباشرة بعد حقن هذا التصحيح ، قد يتبع PR من المراجع ، الذي يصحح هذه العيوب ، تتم إضافة مؤلف التصحيح الأصلي إلى CC (نسخة). </p><br><p style=";text-align:right;direction:rtl">  لدينا أيضًا علامتي لبرتين يمكن استخدامهما لتجنب العلامات الحمراء في حالة عدم وجود إجماع كامل: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>Experimental</code> : يمكن أن يحتوي التنفيذ على كمية كبيرة من الإيجابية الزائفة ، أو يكون غير فعال (يتم تحديد مصدر المشكلة) ، أو "يسقط" في بعض المواقف.  يمكنك غرس مثل هذا التنفيذ إذا قمت <code>attrExperimental</code> علامة عليه <code>attrExperimental</code> .  في بعض الأحيان ، بمساعدة التجارب ، يشار إلى تلك الفحوصات التي فشلت في العثور على اسم جيد من الالتزام الأول. </li><li style=";text-align:right;direction:rtl">  <code>VeryOpinionated</code> : إذا كان الشيك يمكن أن يكون فيه مدافعون وأعداء ، فمن الجدير وضع علامة عليه بالسمة <code>attrVeryOpinionated</code> .  وبهذه الطريقة ، يمكننا تجنب رفض الأفكار حول نمط الكود التي قد لا تتوافق مع طعم بعض الجوف. </li></ol><br><p style=";text-align:right;direction:rtl">  <code>Experimental</code> هي خاصية تنفيذ مؤقتة وقابلة للإصلاح.  يعد <code>VeryOpinionated</code> خاصية قاعدة أساسية أكثر وهي مستقلة عن التنفيذ. </p><br><p style=";text-align:right;direction:rtl">  من المستحسن إنشاء تذكرة <code>[checker-request]</code> على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">github</a> قبل إرسال التنفيذ ، ولكن إذا كنت قد أرسلت بالفعل طلب سحب ، يمكنك فتح المشكلة المقابلة لك. </p><br><p style=";text-align:right;direction:rtl">  لمزيد من التفاصيل حول عملية التطوير ، راجع <a href="">CONTRIBUTING.md</a> . <br>  يتم سرد القواعد الأساسية في قسم <a href="">القواعد الرئيسية</a> . </p><br><h1 id="naputstviya" style=";text-align:right;direction:rtl">  فراق الكلمات </h1><br><p style=";text-align:right;direction:rtl">  يمكنك المشاركة في المشروع ليس فقط عن طريق إضافة اللنت الجديد. <br>  هناك العديد من الطرق الأخرى: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  جربها في مشاريعك أو مشاريع مفتوحة المصدر كبيرة / معروفة وأبلغ عن الإيجابيات الكاذبة والسلبيات الكاذبة وأوجه القصور الأخرى.  سنكون ممتنين إذا أضفت أيضًا ملاحظة حول المشكلة التي تم العثور عليها / إصلاحها إلى صفحة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجوائز</a> . </li><li style=";text-align:right;direction:rtl">  اقتراح أفكار لعمليات التفتيش الجديدة.  يكفي أن نخلق <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مشكلة</a> على تعقبنا. </li><li style=";text-align:right;direction:rtl">  أضف اختبارات للوبر الموجودة. </li></ul><br><p style=";text-align:right;direction:rtl">  جو <code>go-critic</code> ينتقد كود Go الخاص بك بأصوات جميع المبرمجين المشاركين في تطويره.  يمكن لأي شخص أن ينتقد ، لذلك - انضم! </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/kd/oc/qy/kdocqyc1jjv48xggojdca62tmqg.png"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar414739/">https://habr.com/ru/post/ar414739/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar414729/index.html">الفيروسات تطيل العمر؟</a></li>
<li><a href="../ar414731/index.html">ngCinimex - لقاء موسكو الزاوي (07/02/2018)</a></li>
<li><a href="../ar414733/index.html">في العشرة الأوائل: قصة شخصية حول كيف تصبح RHCA ، وما يمكنك الحصول عليه منه</a></li>
<li><a href="../ar414735/index.html">العلامة التجارية لتكنولوجيا المعلومات. ماذا تتحدث مع الناس في المؤتمرات</a></li>
<li><a href="../ar414737/index.html">"إنهم لم ينتظروا من أين": سيتم تغريم ياهو 250 ألف جنيه إسترليني لانتهاك القواعد القديمة للعمل مع PD</a></li>
<li><a href="../ar414741/index.html">نفسك مزود VDS</a></li>
<li><a href="../ar414743/index.html">التعريب: Case Slack</a></li>
<li><a href="../ar414745/index.html"># بيغ جون. أبسط كرونوغراف "إطار" على Arduino (قياس سرعة الرصاصة)</a></li>
<li><a href="../ar414747/index.html">الجهاز العصبي المركزي والمخدرات والروك أند رول: قصة عن جهاز جعلنا نشرب ، لا ننام ، ولا نغمز</a></li>
<li><a href="../ar414749/index.html">مجموعة مسؤول النظام</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>