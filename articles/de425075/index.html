<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçì üë®üèº‚Äçüè≠ üë©üèº‚Äçüç≥ Bildverarbeitung: Installieren, Konfigurieren und Verwenden von Google Cloud Vision in PHP üçº üë®üèª‚Äç‚öïÔ∏è ‚òùüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute hat Google erhebliche Fortschritte beim maschinellen Lernen und bei der k√ºnstlichen Intelligenz erzielt. Die angesammelten informativen und fina...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bildverarbeitung: Installieren, Konfigurieren und Verwenden von Google Cloud Vision in PHP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425075/"><img src="https://habrastorage.org/getpro/habr/post_images/57b/f55/7d5/57bf557d5b318192eb20ac3e863bfdda.png" alt="Bildverarbeitung"><br><br>  Heute hat Google erhebliche Fortschritte beim maschinellen Lernen und bei der k√ºnstlichen Intelligenz erzielt.  Die angesammelten informativen und finanziellen Ressourcen erm√∂glichen es ihr, dies zu tun.  Alle anderen Unternehmen oder nur Enthusiasten haben die gro√üartige Gelegenheit, das gesammelte Wissen ohne solche Ressourcen zu nutzen.  Gl√ºcklicherweise bietet die Suchmaschine eine solche M√∂glichkeit gegen eine Geb√ºhr.  Eines der von Google bereitgestellten Tools ist Machine Vision oder Cloud Vision.  Das Tool ist sehr leistungsf√§hig und kann ein digitales Bild f√ºr die darauf vorhandenen Bilder bis zur Stimmung der Helden des Fotos detailliert analysieren.  Im Folgenden wird der Prozess der Installation, Konfiguration und Verwendung von Vision ausf√ºhrlich beschrieben. <br><a name="habracut"></a><br><h2>  √úber die Zahlung </h2><br>  Google mietet Cloud Vision und berechnet f√ºr jede der verf√ºgbaren Optionen einen bestimmten Betrag.  Die Option zum Definieren von Bildern auf einem Bild kostet beispielsweise 1,50 USD pro 1000 Fotos.  Die Suchmaschine nimmt f√ºr die verbleibenden Optionen ungef√§hr den gleichen Betrag ein.  Die vollst√§ndige Preisliste finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Die gute Nachricht ist, dass jedes neue Google-Konto dem Konto 300 US-Dollar gibt.  Auf diese Weise k√∂nnen Sie die Bildverarbeitung von einer Suchmaschine aus praktisch unbegrenzt kostenlos testen. <br><br><h2>  Registrierung </h2><br>  Folgen Sie dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> , klicken Sie auf Try It Free und f√ºllen Sie das Registrierungsformular aus.  Unabh√§ngig davon ist nur zu erw√§hnen, dass Sie f√ºr die Arbeit Ihre Zahlungsdaten eingeben m√ºssen, auch wenn Sie ein Darlehen in H√∂he von 300 USD haben.  Innerhalb dieser Grenze wird nichts von Ihrer Karte abgezogen.  Die Kartendaten m√ºssen echt angegeben werden (wie die Kontakttelefonnummer), aber der Name des Unternehmens kann von jedem erfunden werden - niemand √ºberpr√ºft ihn.  Wenn Sie die falschen Kontakt- oder Zahlungsinformationen angeben, m√ºssen Sie das Zahlungskonto neu erstellen. Geben Sie daher sofort die tats√§chlichen Daten an. <br><br><h2>  Installation </h2><br>  Installieren des Frameworks √ºber Composer: <br><br><pre><code class="bash hljs">composer require google/cloud-vision</code> </pre> <br>  Hier stelle ich fest, dass Composer bei der Installation der Bibliothek m√∂glicherweise nicht gen√ºgend Arbeitsspeicher hat, wenn Sie einen schwachen Server haben.  Zum Beispiel habe ich 1 GB RAM, was nicht genug war.  Es gibt zwei M√∂glichkeiten, die Situation zu umgehen: entweder die Ressourcen des Servers erweitern oder auf dem lokalen Computer installieren (auf den meisten modernen PCs sind mehr als 2 GB vorhanden, was mehr als ausreichend ist).  Nach der Installation k√∂nnen die Bibliotheksdateien manuell auf den Server √ºbertragen werden und mit dem Framework arbeiten.  Sie k√∂nnen die Installation √ºber WSL (Windows Subsystem f√ºr Linux) unter Windows oder √ºber die Linux-Konsole mit dem obigen Befehl durchf√ºhren. <br><br>  Der zweite Punkt ist die Version von PHP.  Vision erfordert nicht weniger als 7 ..  Aktualisieren Sie, wenn Sie √§lter sind. <br><br><h2>  Authentifizierung </h2><br>  Nach der Installation m√ºssen Sie Ihre Installation irgendwie identifizieren, indem Sie auf Ihr Google-Konto verlinken.  Dies erfolgt mit dem Dienstkontoschl√ºssel, der in der Datei auf Ihrem Server / lokalen Computer gespeichert ist.  Folgen Sie dem Link, um einen Schl√ºssel zu erstellen: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://console.cloud.google.com/apis/credentials/serviceaccountkey?_ga=2.81515287.-1059122667.1452437442</a> <br><br>  W√§hlen Sie in der einzigen Dropdown-Liste "Neues Dienstkonto" aus und geben Sie den Namen in lateinischer Sprache ein (alle, die Sie verstehen).  W√§hlen Sie keine Rolle (in diesem Fall nicht).  Klicken Sie auf "Erstellen" und √ºberspringen Sie die Warnung √ºber das Fehlen der Rolle.  Gleichzeitig wird die Schl√ºsseldatei auf Ihren Computer heruntergeladen.  Legen Sie die Datei in einem Ordner mit installiertem Framework ab (Projektordner).  Dies ist optional, aber einfacher.  Das Framework erfordert, dass der Pfad zur Datei im System speziell festgelegt wird.  Erstellen Sie dazu eine Umgebungsvariable wie folgt: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> GOOGLE_APPLICATION_CREDENTIALS=<span class="hljs-string"><span class="hljs-string">"/var/www/myproject/myproject_service.json"</span></span></code> </pre> <br>  Der Pfad zur Datei ist f√ºr Sie unterschiedlich - vergessen Sie nicht, ihn zu √§ndern. <br><br><h2>  Verwenden Sie </h2><br>  Alles ist eingerichtet, es ist Zeit, Cloud Vision in Aktion zu testen.  Erstellen Sie eine PHP-Datei mit folgenden Inhalten: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#        require __DIR__ . '/vendor/autoload.php'; #         use Google\Cloud\Vision\V1\ImageAnnotatorClient; #    $imageAnnotator = new ImageAnnotatorClient(); #   ,    ""   $fileName = 'test/data/cat.jpg'; #   $image = file_get_contents($fileName); # ""      ,  "" $response = $imageAnnotator-&gt;labelDetection($image); $labels = $response-&gt;getLabelAnnotations(); if ($labels) { echo(" :" . PHP_EOL); foreach ($labels as $label) { echo($label-&gt;getDescription() . PHP_EOL); } } else { echo('  ' . PHP_EOL); }</span></span></code> </pre> <br>  Der gesamte Prozess wird in den Kommentaren zum Code beschrieben.  Zuerst f√ºgen wir das Framework in den Code ein, erstellen eine Instanz davon und laden das Bild zum Parsen in den Code.  Es muss zuvor in diesem Ordner abgelegt werden, dem Pfad, zu dem Sie angeben.  Als n√§chstes zeigt der Code nacheinander alle Attribute an, die das gegebene Bild bestimmen.  Zum Beispiel kann es "Katze", "wei√ües Fell", "gr√ºnes Gras" und mehr sein - alles, was Google Cloud Vision auf dem Bild sieht, ist Bildverarbeitung.  Und das ist es im Grunde.  Sie k√∂nnen diese Informationen nach Belieben speichern und verwenden.  Anspruchsvollere Optionen f√ºr die Arbeit mit Vision werde ich in anderen Artikeln beschreiben. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de425075/">https://habr.com/ru/post/de425075/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de425061/index.html">CodeRainbow: Interaktives Lernen und Dokumentieren von Code</a></li>
<li><a href="../de425063/index.html">Migrieren eines Datenbankschemas ohne Ausfallzeit f√ºr postgresql am Beispiel von django</a></li>
<li><a href="../de425069/index.html">Testen eines Pr√§sentators mit PromiseKit</a></li>
<li><a href="../de425071/index.html">Wie sch√ºtzt man sich vor Stapel√ºberlauf (bei Cortex M)?</a></li>
<li><a href="../de425073/index.html">Einfache Erstellung eines Git-Repositorys auf OneDrive</a></li>
<li><a href="../de425077/index.html">Kotlin unter der Haube - siehe dekompilierten Bytecode</a></li>
<li><a href="../de425079/index.html">Schwierige IPSec unter Linux</a></li>
<li><a href="../de425081/index.html">Der Staat wei√ü nicht, wie viel er f√ºr IT ausgibt. Wir beweisen die Zahlen</a></li>
<li><a href="../de425083/index.html">Postgres stat ohne Nerven und Belastungen</a></li>
<li><a href="../de425085/index.html">7 Best Container Practices von Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>