<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤰🏿 🤹🏾 🍃 Wie personenbezogene Daten von Patienten und Ärzten durch die geöffnete ClickHouse-Datenbank (aktualisiert) beeinflusst werden könnten 🚢 👨🏻‍🚀 🐽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich schreibe viel über die Entdeckung frei zugänglicher Datenbanken in fast allen Ländern der Welt, aber es gibt fast keine öffentlich zugänglichen Na...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie personenbezogene Daten von Patienten und Ärzten durch die geöffnete ClickHouse-Datenbank (aktualisiert) beeinflusst werden könnten</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444114/"><p>  Ich schreibe viel über die Entdeckung frei zugänglicher Datenbanken in fast allen Ländern der Welt, aber es gibt fast keine öffentlich zugänglichen Nachrichten über russische Datenbanken mehr.  Obwohl er kürzlich über den „Kremlarm“ schrieb, den der niederländische Forscher in mehr als 2.000 offenen Datenbanken erschrocken entdeckte. </p><br><p>  Es kann ein Missverständnis bestehen, dass in Russland alles wunderbar ist und die Eigentümer großer russischer Online-Projekte für die verantwortungsvolle Speicherung von Benutzerdaten verantwortlich sind.  Ich beeile mich, diesen Mythos an diesem Beispiel zu entlarven. </p><br><p> Anscheinend ist es dem russischen medizinischen Onlinedienst DOC + gelungen, die ClickHouse-Datenbank mit gemeinfreien Zugriffsprotokollen zu verlassen.  Leider sehen die Protokolle so detailliert aus, dass die persönlichen Daten von Mitarbeitern, Partnern und Kunden des Dienstes einem möglichen Leck ausgesetzt sein könnten. </p><br><p><img src="https://habrastorage.org/webt/gn/o4/1w/gno41wini5uwh-rol1bdw0ys67w.png"></p><br><p>  <em>Das Wichtigste zuerst ...</em> </p><a name="habracut"></a><br><p><code>:        .           .      ,      .</code> </p> <cut></cut><br><p>  Bei mir, wie auch beim Besitzer des Telegrammkanals " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Information Leaks</a> ", kontaktierte mich ein Kanalleser, der anonym bleiben wollte und buchstäblich Folgendes berichtete: </p><br><blockquote>  Im Internet wurde ein offener ClickHouse-Server entdeckt, der zu doc ​​+ gehört.  Die IP-Adresse des Servers stimmt mit der IP-Adresse überein, auf der die Domäne docplus.ru konfiguriert ist. </blockquote><p>  Aus Wikipedia: <em>DOC + (New Medicine LLC) ist ein russisches medizinisches Unternehmen, das Dienstleistungen im Bereich der Telemedizin erbringt, einen Arzt zu Hause anruft, <strong>persönliche medizinische Daten</strong> speichert und verarbeitet.</em>  <em>Das Unternehmen erhielt Investitionen von Yandex.</em> </p><br><p>  Den gesammelten Informationen nach zu urteilen, war die ClickHouse-Datenbank tatsächlich frei verfügbar, und jeder, der die IP-Adresse kennt, konnte Daten daraus abrufen.  Diese Daten erwiesen sich angeblich als Dienstzugriffsprotokolle. </p><br><p><img src="https://habrastorage.org/webt/au/r9/ne/aur9neaa-w8sxo88v55uejqcfwu.png"></p><br><p>  Wie Sie auf dem Bild oben sehen können, "hängt" neben dem Webserver www.docplus.ru und dem ClickHouse-Server (Port 9000) die Open Base MongoDB an derselben IP-Adresse (in der anscheinend nichts Interessantes vorhanden ist). </p><br><p>  Soweit ich weiß, wurde die Shodan.io-Suchmaschine verwendet, um den ClickHouse-Server (ich habe separat darüber geschrieben, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wie Forscher offene Datenbanken entdecken</a> ) in Verbindung mit einem speziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ClickDown-</a> Skript zu erkennen, das die gefundene Datenbank auf mangelnde Authentifizierung überprüfte und alle ihre Tabellen auflistete.  Zu dieser Zeit schienen es 474 zu sein. </p><br><p><img src="https://habrastorage.org/webt/d0/iw/fm/d0iwfmizl7xpwbyllrhfxefdj-g.png"></p><br><p>  Aus der Dokumentation ist bekannt, dass der ClickHouse-Server standardmäßig auf HTTP an Port 8123 wartet.  Um zu sehen, was in den Tabellen enthalten ist, reicht es daher aus, so etwas wie diese SQL-Abfrage auszuführen: </p><br><pre> <code class="sql hljs">http://[IP-]:8123?query=<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> [ ]</code> </pre> <br><p>  Als Ergebnis der Abfrage könnte wahrscheinlich das zurückgegeben werden, was im folgenden Screenshot angegeben ist: </p><br><p><img src="https://habrastorage.org/webt/um/7l/-q/um7l-q-7iq2b7szzbnkryr7qxa0.png"></p><br><p>  Aus dem Screenshot geht hervor, dass die Informationen im Feld <em>HEADERS</em> Daten zum Standort (Breiten- und Längengrad) des Benutzers, seiner IP-Adresse, Informationen zu dem Gerät, von dem aus er eine Verbindung zum Dienst hergestellt hat, zur Betriebssystemversion usw. enthalten. </p><br><p>  Wenn es jemandem einfiel, eine SQL-Abfrage ein wenig zu ändern, zum Beispiel wie folgt: </p><br><pre> <code class="sql hljs">http://[IP-]:8123?query=<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> [ ] <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> REQUEST <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'%25Profiles%25'</span></span></code> </pre><br><p>  Es könnte etwas Ähnliches wie die persönlichen Daten der Mitarbeiter zurückgeben, nämlich: Name, Geburtsdatum, Geschlecht, TIN, Adresse der Registrierung und tatsächlicher Wohnort, Telefonnummern, Positionen, E-Mail-Adressen und vieles mehr: </p><br><p><img src="https://habrastorage.org/webt/g_/wl/of/g_wlofigb-u1nbflt9cuboqbpbu.png"></p><br><p>  Alle diese Informationen aus dem obigen Screenshot sind den Daten der Personalabteilung von 1C: Enterprise 8.3 sehr ähnlich. </p><br><p>  <em>Wenn Sie sich</em> den Parameter <em>API_USER_TOKEN angesehen haben,</em> denken Sie möglicherweise, dass dies ein "funktionierendes" Token ist, mit dem Sie verschiedene Aktionen im Namen des Benutzers ausführen können - einschließlich des Empfangs seiner persönlichen Daten.  Aber das kann ich natürlich nicht sagen. </p><br><p>  Derzeit gibt es keine Informationen darüber, dass der ClickHouse-Server unter derselben IP-Adresse noch frei verfügbar ist. </p><br><p>  New Medicine LLC hat eine offizielle Erklärung zu dem Vorfall abgegeben.  Die Aussage enthält viele Buchstaben, die kurz zusammenfassen: „Geringes Leck.  Menschlicher Faktor.  Weniger als 1%.  Testumgebung (auf der Haupt-IP!) “.  Ich bin nicht zu faul, um die gesamte Aussage zu lesen: </p><br><blockquote>  Die Firma New Medicine LLC (DOC +) ist Betreiber personenbezogener Daten und ergreift daher alle gesetzlich vorgeschriebenen Schutzmaßnahmen.  Das Unternehmen hat moderne Sicherheitsausrüstung eingeführt, die die erforderlichen Zertifizierungsverfahren von FSB und FSTEC bestanden hat.  Aufbau interner Verwaltungs- und Kontrollprozesse über den Sicherheitszustand von Informationssystemen, in denen personenbezogene Daten verarbeitet werden.  Die Richtlinien zum Schutz und zur Verarbeitung personenbezogener Daten können auf unserer Website eingesehen werden. <br><br>  DOC + verwendet den ClickHouse-Dienst, um die Funktionalität von Verbesserungen an Client-Produkten zu debuggen.  ClickHouse lädt Daten aus einer Test- und Produktionsumgebung.  Der ClickHouse-Dienst wird auf den Servern des Unternehmens ausgeführt, deren Zugriff streng reguliert und eingeschränkt ist.  Das Auftreten von Daten aus ClickHouse im öffentlichen Bereich war auf einen Fehler im Zusammenhang mit dem Faktor Mensch zurückzuführen.  Der Zugriff auf Daten wurde sofort nach der Veröffentlichung der Sicherheitsanfälligkeit um den 17.03.19 geschlossen.  Das Unternehmen analysiert regelmäßig Schwachstellen im Datenschutzsystem, und dieser Fehler wäre definitiv erkannt und behoben worden.  Leider hatten wir keine Zeit dafür, bis andere Spezialisten den Fehler entdeckten. <br><br>  Eine unbedeutende Datenmenge wurde vorübergehend öffentlich zugänglich gemacht, was keine negativen Folgen für Mitarbeiter und Nutzer des DOC + -Dienstes haben kann.  Zum Zeitpunkt des Vorfalls verfügte ClickHouse hauptsächlich über Daten aus der Testumgebung.  Die öffentlichen Daten von Kunden, die gemeinfrei sind, sind anonymisiert, der Gegenstand personenbezogener Daten könnte von ihnen nur identifiziert werden, wenn die gesamte Datenbank empfangen wurde.  Eine Analyse des Verlaufs des Zugriffs auf die Datenbank und des ausgehenden Datenverkehrs von unseren Servern legt nahe, dass das Leck &lt;1% aller Informationen betreffen könnte. <br><br>  Die Tatsache des Vorfalls ist ein laufendes internes Verfahren.  Wir entwickeln und haben bereits begonnen, zusätzliche Maßnahmen zur weiteren Verschärfung des Datenschutzes umzusetzen.  Wir bedauern den Vorfall, betonen aber erneut das Fehlen negativer Konsequenzen für unsere Kunden.  Ihre Sicherheit und Privatsphäre haben von den ersten Tagen des Unternehmens an Priorität für das gesamte DOC + -Team. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de444114/">https://habr.com/ru/post/de444114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de444104/index.html">Wie können Sie Ihr Anlageportfolio optimal nutzen?</a></li>
<li><a href="../de444106/index.html">Staffelei für einen Mikrocontroller-Programmierer</a></li>
<li><a href="../de444108/index.html">Frontend Weekly Digest (11. - 17. März 2019)</a></li>
<li><a href="../de444110/index.html">Seriell, UART und Android als Verbindung zu Mikrocontrollern</a></li>
<li><a href="../de444112/index.html">Zählen von nachgestellten Nullen von Fakultätszahlen in einem beliebigen Zahlensystem</a></li>
<li><a href="../de444116/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 356 (11. - 17. März 2019)</a></li>
<li><a href="../de444124/index.html">Wie aus Irrtum Sünde wird</a></li>
<li><a href="../de444126/index.html">In Russland bieten sie an, eingebaute SIM-Karten zu legalisieren</a></li>
<li><a href="../de444128/index.html">Digitale Veranstaltungen in Moskau vom 18. bis 24. März</a></li>
<li><a href="../de444130/index.html">Gib mir meinen Monolithen zurück</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>