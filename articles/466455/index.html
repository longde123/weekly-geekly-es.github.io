<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèº üßï üíâ Servicios, microservicios y programaci√≥n orientada a lotes. üíõ üßë‚Äçü§ù‚Äçüßë üïã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Muchos programadores han escuchado que a veces el c√≥digo debe asignarse a bibliotecas separadas para su posterior reutilizaci√≥n. Sin embargo, la pregu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Servicios, microservicios y programaci√≥n orientada a lotes.</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466455/">  Muchos programadores han escuchado que a veces el c√≥digo debe asignarse a bibliotecas separadas para su posterior reutilizaci√≥n.  Sin embargo, la pregunta de qu√© tipo de c√≥digo debe destacarse como entidad separada confunde a muchos desarrolladores.  Al leer art√≠culos / conversaciones sobre este tema, generalmente se recuerda el problema de la generalizaci√≥n prematura. <br><br>  Los programadores experimentados generalmente tienen sus propias reglas, seg√∫n las cuales entienden si el c√≥digo debe distinguirse como reutilizable.  Por ejemplo, si tal c√≥digo (o muy similar) se usa en tres lugares o m√°s.  Sin embargo, todas las personas con las que he tenido ocasi√≥n de hablar sobre este tema est√°n de acuerdo en que debe existir un c√≥digo tan reutilizable, su creaci√≥n es una bendici√≥n y vale la pena pasar su tiempo. <br><br>  Quiero plantear el tema de la reutilizaci√≥n de c√≥digo en el contexto de la creaci√≥n de una arquitectura orientada a servicios y microservicios. <br><a name="habracut"></a><br><h3>  ¬øQu√© es el c√≥digo reutilizable? </h3><br>  El c√≥digo reutilizable es un c√≥digo aislado en una entidad separada, llamada de manera diferente en diferentes idiomas: biblioteca, paquete, dependencia, etc.  Normalmente, dicho c√≥digo se almacena en un repositorio separado, y hay documentaci√≥n para conectar y usar este c√≥digo (README.md).  Adem√°s, el c√≥digo puede estar cubierto por pruebas, puede haber instrucciones para realizar cambios (CONTRIBUTING.md) y se puede configurar CI.  Varias insignias adjuntas a la descripci√≥n solo mejoran la representaci√≥n visual de la madurez de una entidad determinada, y el n√∫mero de estrellas asignadas indicar√° la popularidad de esta soluci√≥n.  No tiene que ir muy lejos para obtener ejemplos: solo abra la p√°gina de github de cualquiera de los marcos populares en su idioma favorito, por ejemplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">vue.js.</a>  En general, los m√©todos de dise√±o de alta calidad de las bibliotecas son un vag√≥n y un peque√±o carro. <br><br><h3>  Servicios y microservicios. </h3><br>  En este art√≠culo, un servicio es una entidad completa que realiza un conjunto espec√≠fico de tareas espec√≠ficas en su dominio de responsabilidad y proporciona una interfaz para la interacci√≥n.  El servicio o microservicio en este art√≠culo desde un punto de vista arquitect√≥nico pueden ser conceptos id√©nticos, la pregunta es solo a escala.  Un servicio puede consistir en un conjunto de microservicios que implementan su sector de l√≥gica de negocios, o ser un microservicio orgulloso. <br><br>  La arquitectura orientada a servicios supone que cada servicio est√° m√≠nimamente conectado con otros.  Sin embargo, la interacci√≥n entre servicios no est√° excluida, sino que solo se supone que debe minimizarse.  Para recibir solicitudes, un servicio generalmente implementa alguna API estandarizada.  Puede ser cualquier cosa: REST, SOAP, JSONRPC o la nueva GraphQL. <br><br>  Convencionalmente, los servicios se pueden dividir en infraestructura y supermercados.  Los servicios de productos son aquellos que implementan la l√≥gica de un producto cliente.  Por ejemplo, trabajan con aplicaciones para su conexi√≥n, u organizan soporte para este producto durante todo el ciclo de vida de un cliente.  Los servicios de infraestructura tratan m√°s sobre la funcionalidad b√°sica de una empresa (o proyecto), por ejemplo, un servicio que contiene informaci√≥n del cliente o un servicio que almacena informaci√≥n sobre ciertos pedidos.  Adem√°s, los servicios de infraestructura incluyen servicios que implementan una funcionalidad auxiliar, por ejemplo, un servicio de informaci√≥n al cliente (env√≠o de mensajes push o SMS) o un servicio para interactuar con los datos. <br><br><h3>  Una peque√±a fantas√≠a </h3><br>  Supongamos que hay una hipot√©tica tienda en l√≠nea construida sobre una arquitectura orientada a servicios.  Los desarrolladores de este milagro de ingenier√≠a pudieron ponerse de acuerdo entre ellos y llegaron a la conclusi√≥n de que todos sus servicios funcionar√°n como API, por ejemplo, utilizando el protocolo jsonrpc.  Sin embargo, dado que la tienda en l√≠nea es grande, no se detiene y se est√° desarrollando activamente, hay varios grupos de desarrollo all√≠, que sean m√°s de dos, dos de dise√±o, uno acompa√±ado de lo que ya se ha escrito.  Adem√°s, para mejorar el efecto, todos los equipos escriben en la misma pila. <br><br>  <i>La arquitectura de una hipot√©tica tienda en l√≠nea:</i> <br><br><img src="https://habrastorage.org/webt/8t/di/2r/8tdi2rdhusrs66kvbyrwkcoauag.png"><br><br>  Solo el servicio API que sobresale en Internet proporciona acceso a todos los sistemas front-end: la interfaz web de la tienda en l√≠nea, as√≠ como las aplicaciones m√≥viles. <br><br>  El servicio de informaci√≥n al cliente almacena informaci√≥n sobre los clientes, sabe c√≥mo iniciarlos, autorizarlos, emitir la informaci√≥n necesaria sobre ellos. <br><br>  El servicio de informaci√≥n de productos almacena informaci√≥n sobre productos, sus saldos y disponibilidad para pedidos, tambi√©n proporciona m√©todos para obtener convenientemente la informaci√≥n necesaria. <br><br>  El servicio de pedidos opera con pedidos.  Aqu√≠ est√° la l√≥gica de la formaci√≥n del pedido, su confirmaci√≥n, la elecci√≥n del tipo de pago y la direcci√≥n de entrega, etc. <br><br>  El servicio de informaci√≥n al cliente puede enviar PUSH / SMS / mensajes de correo electr√≥nico.  El tipo de comunicaci√≥n, por ejemplo, depende de la configuraci√≥n de un cliente en particular, y el cliente tambi√©n puede establecer el tiempo deseado para recibir notificaciones. <br><br>  Estos servicios son de infraestructura condicional, porque sin ellos una tienda en l√≠nea no puede funcionar como tal. <br><br>  Se supone que los servicios de promociones y ofertas y la distribuci√≥n del resumen se desarrollar√°n en un futuro pr√≥ximo por los equipos del proyecto.  Estos servicios son condicionalmente comestibles. <br><br>  Obviamente, en cualquier caso, cualquier servicio de producto nuevo no podr√° existir sin interacci√≥n con los servicios de infraestructura; lo m√°s probable es que tenga que recibir informaci√≥n sobre los clientes o enviar notificaciones. <br><br>  En el ejemplo descrito anteriormente, los detalles de la implementaci√≥n de cada servicio se ocultan intencionalmente.  Entonces, por ejemplo, un servicio de informaci√≥n del cliente probablemente tenga un mecanismo de ejecuci√≥n de c√≥digo retrasado, como una cola de ejecuci√≥n, y un servicio de informaci√≥n del producto puede tener su propio panel de administraci√≥n para una gesti√≥n conveniente de los productos, y la API para sistemas front-end probablemente tenga varias r√©plicas.  Adem√°s, la arquitectura descrita puede no ser √≥ptima; simplemente se toma de la cabeza. <br><br>  En el contexto de la arquitectura propuesta, queda claro de inmediato que las bibliotecas preparadas son esenciales para el r√°pido desarrollo del producto.  Por lo tanto, es importante contar con una implementaci√≥n preparada del servidor jsonrpc, as√≠ como del cliente, ya que este es el protocolo principal para organizar la interacci√≥n entre servicios.  Tambi√©n en este ejemplo, el problema de documentar la API aumenta a su m√°ximo potencial.  Obviamente, los equipos tambi√©n deben tener una herramienta preparada para generar documentaci√≥n.  Si suponemos que todav√≠a hay una herramienta lista para generar esquemas smd para servidores jsonrpc, entonces la velocidad de desarrollo de nuevos servicios puede aumentar a√∫n m√°s.  Como resultado, dentro de la empresa, idealmente, deber√≠a haber un conjunto de bibliotecas listas para usar que todos los equipos usan para realizar tareas t√≠picas.  Estas bibliotecas pueden ser propietarias o de c√≥digo abierto, lo principal es que realizan bien sus tareas.  Obviamente, un equipo que est√° en la pila general y escribe servicios utilizando bibliotecas listas para usar ser√° m√°s efectivo que un equipo que realiza ciclos constantemente.  La presencia de un marco √∫nico y una base de datos √∫nica de bibliotecas que se utilizan en todos los equipos del proyecto, llamo un ecosistema √∫nico. <br><br><h3>  ¬øY las grandes empresas? </h3><br>  En las grandes empresas, hay muchos m√°s servicios de infraestructura, as√≠ como los protocolos de interacci√≥n utilizados.  El n√∫mero de bibliotecas terminadas puede llegar a decenas o incluso cientos.  Destacar aqu√≠ el c√≥digo reutilizable es a√∫n m√°s relevante. <br><br>  Dio la casualidad de que tengo experiencia en una empresa que emplea a unos 200 desarrolladores que escriben en diferentes idiomas: java, c #, php, python, go, js, etc. Sorprendentemente, el ecosistema com√∫n, en el contexto de una sola pila, lejos de todos los equipos de desarrollo tienen y usan.  Parecer√≠a que lo obvio, preparar el c√≥digo reutilizable, formatearlo correctamente y usarlo, est√° lejos de ser obvio.  Por supuesto, los equipos de desarrollo resuelven sus problemas.  Alguien usa una plantilla de servicio, un conjunto de c√≥digo que constituye el n√∫cleo de cada nuevo servicio, del cual se desecha todo lo innecesario y se agrega el necesario. <br><br>  Otros equipos de desarrollo usan sus propias bicicletas, las copian y las pegan de un proyecto a otro, y no les importa documentarlas y probarlas.  En general, hay mucha desuni√≥n en las herramientas y los enfoques utilizados dentro de la misma pila en una empresa.  Por otra parte, geogr√°ficamente ubicado en una ciudad. <br><br><h3>  Los beneficios de un ecosistema √∫nico </h3><br>  La formaci√≥n de un ecosistema √∫nico puede resolver muchas dificultades y tiene un enorme potencial para aumentar la productividad de una gran empresa.  De hecho, esta pr√°ctica est√° tomada de la comunidad de c√≥digo abierto: las mejores soluciones en su campo sobreviven y son las m√°s populares.  Ahora es suficiente para abrir cualquier administrador de dependencias y simplemente sorprenderse de la abundancia de las soluciones propuestas.  Pero tal enfoque puede implementarse dentro de la empresa.  Las ventajas de este enfoque al implementar un nuevo servicio son las siguientes: <br><br><ul><li>  Alta estabilidad: el uso de bibliotecas bien documentadas y cubiertas por pruebas aumenta la estabilidad del servicio en su conjunto; </li><li>  F√°cil rotaci√≥n de colegas entre equipos: si todos los equipos est√°n dentro de un solo ecosistema, entonces, al pasar de un equipo a otro, el desarrollador no tendr√° que pasar mucho tiempo para conocer las herramientas utilizadas, porque ya las conoce; </li><li>  Concentraci√≥n en la l√≥gica empresarial: de hecho, el desarrollo de un nuevo servicio se reduce a la necesidad de reforzar las dependencias necesarias que resuelven todas las tareas de infraestructura y escriben solo la l√≥gica empresarial; </li><li>  Aceleraci√≥n del desarrollo: no hay necesidad de hacer un ciclo, todo est√° listo, excepto la l√≥gica de negocios; </li><li>  Simplificaci√≥n de las pruebas: solo es necesario probar la l√≥gica empresarial, porque las bibliotecas ya se han probado; </li></ul><br><h3>  Volar en la pomada </h3><br>  Est√° claro que para lograr este enfoque, se deben seguir algunas pr√°cticas, a saber, desarrollar bibliotecas utilizando versiones sem√°nticas, cuidar la documentaci√≥n y las pruebas, y tener ci configurado.  Este es un tipo de indicador de madurez no solo del equipo de desarrollo, sino tambi√©n de los desarrolladores de la empresa en su conjunto. <br><br><h3>  PS </h3><br>  Y el enfoque orientado a paquetes es solo porque el c√≥digo reutilizable en mi pila se llama paquete.  Bueno, eso suena gracioso.  Recientemente, tuve un di√°logo con uno de mis colegas que me impuls√≥ a escribir este art√≠culo: <br><blockquote>  - Colega: te conviertes en cajero en cinco <br>  - yo: significado?) <br>  - Colega: pronto preguntar√°s "¬ønecesitas un paquete?" <br>  - I: por favor abre un pensamiento.  no entiendo <br>  - Colega: bueno, por en√©sima vez tienes un paquete listo para resolver mi problema <br></blockquote><br>  Lo que pasa es que en nuestra comunidad de desarrolladores dentro de la empresa hay alrededor de 20 piezas de paquetes listos para usar, y la creaci√≥n de un nuevo servicio se traduce en extraer las dependencias necesarias, as√≠ como en escribir la l√≥gica comercial.  El costo de vinculaci√≥n en t√©rminos de escribir c√≥digo est√° casi anulado. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466455/">https://habr.com/ru/post/466455/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466445/index.html">Ataques entre fideicomisos entre dominios</a></li>
<li><a href="../466447/index.html">¬øPara qu√© deber√≠amos construir un CDN?</a></li>
<li><a href="../466449/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 44. Introducci√≥n a OSPF</a></li>
<li><a href="../466451/index.html">Leer_No puedes_lanzar</a></li>
<li><a href="../466453/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 45. Configurando OSPF</a></li>
<li><a href="../466457/index.html">Agricultura y paneles solares: estrategia de beneficio mutuo para ingenieros y agricultores</a></li>
<li><a href="../466459/index.html">Pruebas de integraci√≥n paralela Postgresql en la aplicaci√≥n GO</a></li>
<li><a href="../466461/index.html">Cumbre Zabbix 2019: qu√© esperar este a√±o</a></li>
<li><a href="../466463/index.html">C√≥mo hicimos una aplicaci√≥n prototipo de reparaci√≥n de parada</a></li>
<li><a href="../466465/index.html">Summ3r 0f h4ck 2019: resultados de la investigaci√≥n</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>