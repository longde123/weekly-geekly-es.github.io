<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå™Ô∏è üñ±Ô∏è üë∞üèø Au moins une astuce Vim que vous ne connaissiez pas üßîüèæ üëåüèº üßôüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je travaille chez Vim depuis huit ans et je d√©couvre constamment quelque chose de nouveau. Il est consid√©r√© comme une vertu de Vim. Pour moi, c'est un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Au moins une astuce Vim que vous ne connaissiez pas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454742/"> Je travaille chez Vim depuis huit ans et je d√©couvre constamment quelque chose de nouveau.  Il est consid√©r√© comme une vertu de Vim.  Pour moi, c'est un manque d'ouverture: un tas de fonctions cach√©es sont cach√©es trop profond√©ment. <br><br>  Ils parlent de la beaut√© de l'√©dition modale et des objets texte, mais il me semble que l'essence de Vim n'est pas cela.  Vim est un patchwork de sous-syst√®mes obstru√©s par des outils suppl√©mentaires.  Seulement en mode d'√©dition normal plus d'une centaine de raccourcis clavier!  Cette densit√© de bo√Ætes √† outils explique en grande partie pourquoi Vim est si utile.  Si ¬´afficher toutes les balises d'un mot cl√©¬ª est juste <code>g]</code> , cette commande sera utilis√©e beaucoup plus souvent. <br><br>  Dans les syst√®mes avec un manque d'ouverture, il faut compter sur le leadership.  Mais pour Vim, il n'y en a pas tellement.  Il existe des articles pour les d√©butants, tels que <code>ciw</code> (√† ne pas confondre avec la CIA, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le manuel de la CIA pour Vim</a> ) et similaires.  Et il y a des articles d'experts qui sont plong√©s dans des sous-syst√®mes.  Mais personne ne parle vraiment de ces trucs sp√©ciaux qui vous font vous exclamer: bon sang, comme j'en avais besoin depuis six ans! <br><a name="habracut"></a><br>  Cet article concerne certaines des petites astuces que j'utilise dans Vim.  Aucun d'entre eux n'est d√©mont√© dans tous les d√©tails, donc si quelque chose vous int√©resse, je vous recommande de creuser des informations suppl√©mentaires.  Ils ne sont pas non plus li√©s les uns aux autres.  Mais c'est normal.  En g√©n√©ral, il y en a plus qu'assez pour vraiment aider presque tout le monde. <br><br><h1>  Structure de l'article </h1><br>  Tr√®s grossier, les utilisateurs de Vim se r√©partissent en deux cat√©gories.  <b>Les puristes</b> appr√©cient la petite taille et l'omnipr√©sence.  En r√®gle g√©n√©rale, ils minimisent la configuration au cas o√π vous devriez travailler sur un ordinateur inconnu (par exemple, via ssh).  Les extenseurs, d'autre part, remplissent Vim de plugins, de fonctions et de mappages locaux dans une tentative futile de pr√©tendre utiliser Emacs.  Si vous leur prenez du vimrc, les gars resteront compl√®tement impuissants. <br><br>  Comme vous le devinez probablement, je suis beaucoup plus proche des expanseurs que des puristes.  J'ai divis√© les astuces en deux sections selon que des modifications sont n√©cessaires dans le Vim de base. <br><br><h1>  Puristes </h1><br>  Pour les commandes modales, des vues d'aide standard sont utilis√©es, c'est-√†-dire que <code>&lt;cr&gt;</code> signifie que vous appuyez sur la touche Entr√©e.  Lorsque vous avez besoin d'aide <code>:h</code> pour une ligne sp√©cifique, par exemple <code>:h E676</code> , la ligne sera entre parenth√®ses. <br><br><h2>  Diverses commandes en mode normal </h2><br><h4>  ": et @: </h4><br>  <code>":</code> est un registre contenant la derni√®re commande ex√©cut√©e. Vous pouvez taper <code>":p</code> pour l'imprimer dans le tampon.  <code>@:</code> r√©p√®te la derni√®re commande. <br><br><h4>  "= </h4><br>  Inscrivez-vous aux ¬´expressions¬ª.  Ici, vous pouvez entrer n'importe quelle expression vimL et l'ins√©rer, l'utiliser avec ctrl-R, etc. Ainsi, par exemple, l'horodatage local est ins√©r√© en tapant <code>"=strftime("%c")&lt;cr&gt;p</code> . <br><br><h4>  mA, 'A </h4><br>  <code>m{letter}</code> place la marque √† la position du curseur.  Ensuite, <code>'{letter}</code> ira √† cette ligne.  Pour les lettres minuscules, il agit sur le tampon, il convient donc √† la navigation.  Cela fonctionne globalement pour les lettres majuscules: m√™me si vous √™tes dans un autre fichier, <code>'A</code> ira dans le fichier √©tiquet√© <code></code>  Vous pouvez voir toutes vos balises avec la commande <code>:marks:</code> <br><br><h4>  ctrl-A et ctrl-X </h4><br>  Augmente et diminue le nombre suivant de la ligne √† l'emplacement du curseur ou √† sa droite.  Puisqu'il va imm√©diatement au nombre, la combinaison peut √™tre utilis√©e de n'importe o√π.  <code>10c-A</code> beaucoup plus simple que <code>wwwwwciw20</code> . <br><br><h4>  q: </h4><br>  Ouvre l'historique des √©quipes pr√©c√©dentes.  Vous pouvez l'utiliser avec n'importe quel texte Vim, mais les modifications ne sont pas enregistr√©es.  Cependant, vous pouvez ex√©cuter la commande modifi√©e √† l'aide de <code>&lt;CR&gt;</code> .  Cela vous permet de modifier et de red√©marrer tr√®s rapidement les commandes ou de rechercher les anciennes pour les r√©utiliser. <br><br><h4>  q /, q? </h4><br>  Identique √† <code>q:</code> sauf recherche. <br><br><h4>  ctrl-I, ctrl-O </h4><br>  Passe √† l'emplacement suivant ou pr√©c√©dent dans la liste des sauts.  Utile pour une v√©rification rapide puis un retour en arri√®re.  C'est tr√®s agr√©able de lire les fichiers d'aide. <br><br><h2>  Macros </h2><br>  Consultez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> pour un aper√ßu plus approfondi de l'utilisation des macros. <br><br><h2>  Mode visuel </h2><br><h4>  gv </h4><br>  S√©lectionne l'√©l√©ment visuel pr√©c√©dent. <br><br><h4>  v_o </h4><br>  Va de l'autre c√¥t√© du bloc visuel.  Utile si vous avez commenc√© une ligne trop bas ou quelque chose comme √ßa.  En mode bloc, il passe √† l'angle diagonal oppos√© et utilise <code>v_O</code> pour passer √† l' <code>v_O</code> horizontal oppos√©. <br><br><h4>  g ctrl-A / ctrl-X </h4><br>  En mode visuel, ctrl-A incr√©mente simplement le premier nombre de chaque ligne.  D'un autre c√¥t√©, <code>g ctrl-A</code> incr√©mentera d'une ligne √† chaque ligne.  Ceci est beaucoup plus facile √† expliquer dans le tableau: <br><br><div class="scrollable-table"><table><thead><tr><th>  <strong>s√©lectionn√©</strong> </th><th> <code>ctrl-A</code> </th> <th> <code>g ctrl-A</code> </th> <th> <code>2 g ctrl-A</code> </th> </tr></thead><tbody><tr><td><pre>  un 0
 b 0
 c
 d 0 </pre></td><td><pre>  un 1
 b 1
 c
 d 1 </pre></td><td><pre>  un 1
 b 2
 c
 d 3 </pre></td><td><pre>  un 2
 b 4
 c
 d 6 </pre></td></tr></tbody></table></div><br><h4>  Op√©rateurs: v, V, cv (: h o_v) </h4><br>  Vous savez probablement qu'en mode visuel, vous pouvez s√©lectionner des caract√®res (v), des lignes (V) et des blocs (ctrl-V).  Mais ces trois combinaisons peuvent √™tre utilis√©es comme op√©rateurs de mouvement pour le fragment correspondant.  Par exemple, vous avez le texte suivant: <br><br> <code>abc <br> abc <br> abc</code> <br> <br>  Si vous placez le curseur sur le haut <code>b</code> et appuyez sur <code>d2j</code> , il supprimera les trois lignes, car <code>j</code> d√©place ligne par ligne.  Si <code>d&lt;cV&gt;2j</code> enfonc√© √† la place, le mouvement devient bloc par bloc et seule la colonne du milieu avec trois lettres <code>b</code> est supprim√©e. <br><br>  Un cas d'utilisation est la suppression dans la recherche.  Normal <code>d/</code> d√©place caract√®re par caract√®re.  Par cons√©quent, j'utilise <code>dV/</code> pour le mouvement ligne par ligne avec suppression.  Il existe une autre fa√ßon de proc√©der: <br><br><h4>  / regex / {n} </h4><br>  D√©placer n lignes en dessous de la correspondance, ou autant de lignes vers le haut si la valeur est n√©gative.  Comme effet secondaire, le mouvement se produit ligne par ligne.  Ainsi, si vous souhaitez supprimer la premi√®re ligne correspondant √† <code>regex</code> , vous pouvez saisir <code>d/regex//0</code> . <br><br><h2>  Ex-√©quipes </h2><br>  Vous entrez des ex-commandes en mode commande, par exemple, la commande <code>:s</code> .  En plus du remplacement, il existe de nombreuses autres commandes utiles.  Tous ces exemples n√©cessitent une plage, telle que <code>%</code> . <br><br><h4>  : g / regex / ex </h4><br>  Ex√©cute la commande uniquement sur les lignes correspondant √† l'expression r√©guli√®re.  Par exemple, vous pouvez saisir <code>g/regex/d</code> pour supprimer toutes les lignes correspondant √† regex.  La commande <code>v</code> est similaire √† <code>g</code> , mais fonctionne sur toutes les lignes qui <i>ne</i> correspondent <i>pas</i> √† l'expression r√©guli√®re. <br><br>  Les astuces deviennent plus puissantes avec la norme et quelques autres. <br><br><h4>  : norme {Vim} </h4><br>  Agit comme si vous ex√©cutiez {Vim} sur chaque ligne de la plage.  Par exemple, <code>g/regex/norm f dw</code> supprimera le premier mot apr√®s le premier espace de chaque ligne correspondant √† l'expression r√©guli√®re regex.  C'est souvent beaucoup plus simple qu'une macro. <br><br>  <code>norm</code> ob√©it √† toutes vos comparaisons.  Par exemple, si vous avez attribu√© <code>jk</code> √† <code>&lt;esc&gt;</code> en mode insertion, la <code>norm I jk$diw</code> ajoutera un espace au d√©but de la ligne, <i>quittera le mode insertion</i> , puis supprimera le dernier mot de la ligne.  J'aime vraiment cette fonctionnalit√©, mais si vous pr√©f√©rez ne pas utiliser vos mappages, vous pouvez appliquer la <code>norm!</code>  . <br><br><h4>  : co. </h4><br>  Copie une plage dans la ligne actuelle.  Vous pouvez √©galement sp√©cifier des valeurs arbitraires au lieu d'un point, par exemple, <code>+3</code> ou <code>'a. mv</code>  <code>'a. mv</code> pour se d√©placer. <br><br><h4>  : y {reg} </h4><br>  Copie la plage dans le registre <code>{reg}</code> .  Si <code>{reg}</code> majuscule, il est ajout√© au cas existant.  c'est √† dire une telle √©quipe <br><br> <code>let @a = '' | %g/regex/y A</code> <br> <br>  copiera toutes les lignes correspondant √† l' <code>regex</code> dans tout le fichier.  Cela permet d'extraire le texte cass√© du fichier et de le copier dans le presse-papiers du syst√®me (en utilisant <code>let @+ = @a</code> ). <br><br><h4>  : windo {ex} </h4><br>  Ex√©cute une commande dans toutes les fen√™tres.  Par exemple <code>:windo $</code> toutes les fen√™tres vers le bas.  Il y a <code>bufdo</code> , <code>cdo</code> , <code>tabdo</code> et autres. <br><br>  Fonctionne tr√®s bien avec <code>g</code> et <code>s</code> .  Pour remplacer toutes les combinaisons <code>AA</code> par <code>BB</code> avec un aper√ßu des remplacements, vous pouvez entrer <code>vimgrep AA</code> en chargeant toutes les correspondances dans quickfix puis <code>cdo s/AA/BB/cge</code> pour rechercher / remplacer toutes les correspondances. <br><br><h2>  Vim for Extender </h2><br>  Voici des astuces qui n√©cessitent d'enregistrer les param√®tres ou de modifier une session Vim.  Hypoth√©tiquement, ils peuvent √™tre utilis√©s dans le mode "puritain", simplement en entrant des commandes, mais certains impliquent des changements assez s√©rieux qui contredisent l'esprit du purisme. <br><br>  Voici seulement le plus insolite.  Beaucoup de gens attribuent <code>H</code> √† la casquette <code>^</code> , donc ces choses ne valent pas la peine d'√™tre mentionn√©es.  En outre, cela n'a aucun sens de parler de <code>vim-sensible</code> ou de <code>vim-surround</code> , mais uniquement de plugins plus exotiques. <br><br>  Si vous configurez constamment votre vimrc, faites-vous plaisir et ajoutez une commande distincte pour cela: <br><br> <code>command! Vimrc :vs $MYVIMRC</code> <br> <br><h2>  Param√®tres </h2><br>  J'ai tous les param√®tres, les raccourcis clavier et les fonctions stock√©s dans un seul fichier vimrc.  La division en plusieurs fichiers rend la recherche difficile. <br><br>  La plupart des param√®tres ne sont pas vraiment des ¬´trucs¬ª.  Il vaut mieux regarder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vim-sensible</a> : presque tous les param√®tres √† partir de l√† conviendront √† votre vimrc. <br><br><h4>  d√©finir lazyredraw </h4><br>  Ne redessinez pas l'√©cran au milieu d'une macro (pour am√©liorer les performances). <br><br><h4>  d√©finir smartcase / ignorecase </h4><br>  Avec ces deux param√®tres, une recherche sans majuscules ne respecte pas la casse et une recherche avec des majuscules est sensible √† la casse. <br><br><h4>  d√©finir un fichier </h4><br>  Sauvegarde des actions, m√™me si vous fermez et ouvrez Vim, afin que les actions d'annulation soient toujours disponibles.  Tr√®s pratique en combinaison avec le plugin undotree. <br><br><h4>  set foldcolumn = {n} </h4><br>  Colonne lat√©rale avec blocs effondr√©s.  Plus <code>n</code> grand, plus les blocs sont r√©duits dans la colonne et pour le reste, le nombre est indiqu√©. <br><br><h4>  set suffixesadd = {str} </h4><br>  <code>gf</code> signifie g√©n√©ralement "aller au fichier sous le curseur", mais n√©cessite une extension de fichier dans la ligne.  <code>suffixesadd</code> ajoute l'extension sp√©cifi√©e.  Si <code>suffixesadd=.md</code> , la commande <code>gf</code> sur la ligne 'foo' recherchera les fichiers <code>foo</code> et <code>foo.md</code> <br><br><h4>  set inccommand = nosplit </h4><br>  Uniquement pour Neovim.  La <code>incommand</code> montre en temps r√©el les changements que l'√©quipe apportera.  Seul <code>s</code> est actuellement pris en charge, mais m√™me cela est incroyablement utile.  Si vous entrez <code>:s/regex</code> , toutes les correspondances sont mises en surbrillance.  Si vous ajoutez <code>/change</code> , il affichera tous les remplacements.  Fonctionne avec toutes les propri√©t√©s d'expression r√©guli√®re, y compris les backlinks et les groupes. <br><br><h3>  d√©finir la ligne d'√©tat (: h √©tat ligne) </h3><br>  D√©termine les √©l√©ments √† afficher dans le panneau en bas de chaque fen√™tre.  Ici, le formatage est beaucoup plus compliqu√© et capricieux que dans d'autres param√®tres, vous devez donc passer du temps √† l'expliquer.  Il existe quelques astuces simples.  Tout d'abord, regardez la barre d'√©tat Vim par d√©faut: <br><br> <code>:set statusline=%&lt;%f\ %h%m%r%=%-14.(%l,%c%V%)\ %P</code> <br> <br>  Ici, il est plus facile de remplacer <code>%P</code> (pourcentage du fichier sur le curseur).  Le format de la barre d'√©tat est la valeur apr√®s le signe de pourcentage entre accolades.  Par cons√©quent, pour les fichiers Markdown, vous pouvez √©crire ceci: <br><br> <code>:set statusline=%&lt;%f\ %h%m%r%=%-14.(%l,%c%V%)\ %{wordcount()[\"words\"]}</code> <br> <br>  Et remplacez le pourcentage du fichier par le nombre de mots dans le document. <br><br>  Ou installez une <code>tabline</code> .  Si vous n'utilisez pas d'onglets, cette ligne peut devenir une ¬´ligne d'√©tat globale¬ª.  Par exemple <br><br> <code>set tabline=%{strftime('%c')}</code> <br> <br>  affichera toujours la date en haut. <br><br><h2>  Liaisons de touches </h2><br>  J'ai <i>beaucoup de</i> fixations. <br><br>  De nombreuses touches pratiques dans Vim sont stupidement attribu√©es par d√©faut.  Par exemple, enregistrer la s√©quence de touches <code>s</code> est synonyme de <code>cl</code> (enregistrer une s√©quence de touches), et <code>U</code> est identique √† <code>u</code> , sauf pour √©crire annuler comme une nouvelle modification, qui est fonctionnellement inutile.  <code>Q</code> identique √† <code>gQ</code> et est en tout cas un formidable pi√®ge.  <code>Z</code> utilis√© uniquement pour <code>ZZ</code> et <code>ZQ</code> .  Mon Dieu, m√™me le manuel de Vim recommande de r√©affecter les touches <code>_</code> et √† certaines fonctions, car "vous ne les utiliserez probablement jamais".  Je pr√©f√©rerais ne pas enregistrer un clic, mais ajouter des fonctions compl√®tement nouvelles au clavier.  Voici quelques unes de mes fixations: <br><br><h4>  nnoremap Q @@ </h4><br>  Sans ralentir le passage en ex-mode, r√©p√®te la derni√®re macro. <br><br><h4>  nnoremap s "_d </h4><br>  Il fait fonctionner la cl√© <code>s</code> (avec les param√®tres appropri√©s pour <code>ss</code> et <code>S</code> ) comme d, uniquement sans enregistrer le texte supprim√© dans le registre.  Utile pour ne pas obstruer le registre. <br><br><h4>  nnoremap &lt;cj&gt; &lt;cw&gt; j </h4><br>  Acc√©dez √† la fen√™tre ci-dessous.  Affectations appropri√©es pour <code>h</code> , <code>k</code> , <code>l</code> .  Travailler avec des fen√™tres est beaucoup plus facile. <br><br><h4>  nnoremap &lt;leader&gt; e: exe getline (ligne ('.')) &lt;cr&gt; </h4><br>  Ex√©cutez la ligne actuelle comme s'il s'agissait d'une commande.  Dans les exp√©riences, c'est souvent plus pratique que <code>q:</code> <br><br><h2>  Arguments sp√©ciaux (: h map-arguments) </h2><br>  La commande <code>map &lt;buffer&gt; lhs rhs</code> active le mappage de cl√© pour ce tampon uniquement.  Il fonctionne vraiment de mani√®re pratique avec les commandes automatiques comme combinaison de touches temporaire ou lors de la d√©finition d'affectations via une fonction.  Les affectations de tampons ont priorit√© sur les affectations globales, c'est-√†-dire que vous pouvez remplacer la commande g√©n√©rale plus utile dans une situation sp√©cifique. <br><br>  La commande <code>map &lt;expr&gt; {lhs} {expr}</code> v√©rifie <code>{expr}</code> et utilise la valeur de retour comme remappage final des cl√©s.  Un cas d'utilisation simple est contraignant en fonction des conditions.  Je les ai: <br><br> <code>nnoremap &lt;expr&gt; k (v:count == 0 ? 'gk' : 'k') <br> nnoremap &lt;expr&gt; j (v:count == 0 ? 'gj' : 'j')</code> <br> <br>  Ce qui fait que <code>j</code> et <code>k</code> d√©placent le long de la ligne <i>jusqu'√† ce qu'un</i> nombre soit trouv√©, et ensuite la cl√© est annul√©e.  Par cons√©quent, je peux parcourir de longs paragraphes de prose sans casser des combinaisons telles que <code>10j</code> . <br><br>  L'argument <code>&lt;silent&gt;</code> utile si des liaisons ex√©cutent des commandes ex. <br><br><h2>  inoremaps </h2><br>  Gr√¢ce √† <code>inoremap</code> liaisons fonctionnent en mode insertion.  L√†, ils commencent √† travailler, donc <code>inoremap ;a aaaa</code> introduira ¬´aaaa¬ª au lieu de ¬´; a¬ª.  Si vous voulez faire quelque chose en mode normal, utilisez <code>&lt;cO&gt;</code> .  Par exemple, si nous avons <br><br> <code>inoremap ;1 &lt;co&gt;ma</code> <br> <br>  puis <code>;1</code> d√©finira <code>'a</code> . <br><br>  J'aime sp√©cifier d'utiliser des points-virgules comme cl√© pour les r√©affectations, car dans les textes normaux, il y a presque toujours un espace ou une nouvelle ligne apr√®s le point-virgule. <br><br><h2>  autocmd </h2><br>  Les commandes automatiques sont id√©ales pour la configuration.  Habituellement, vous les configurez comme ceci: <br><br><pre> <code class="plaintext hljs">augroup {name} autocmd! " Prevents duplicate autocommands au {events} {file regex} {command} augroup END</code> </pre> <br>  Ensuite, si l'un des √©v√©nements {events} se produit dans le fichier {file regex}, la commande {command} se d√©clenchera.  Les √©v√©nements sont r√©pertori√©s <code>:h event</code> .  Par exemple, si vous √©crivez <br><br><pre> <code class="plaintext hljs">augroup every autocmd! au InsertEnter * set norelativenumber au InsertLeave * set relativenumber augroup END</code> </pre> <br>  alors vim d√©sactivera le num√©ro relatif pour le mode d'insertion uniquement. <br><br>  La commande <code>au {event} &lt;buffer&gt; {ex}</code> applique la commande auto uniquement au tampon actuel.  Parfois, j'utilise ceci pour ajouter des gestionnaires d'√©v√©nements √† court terme √† un fichier sp√©cifique. <br><br><h3>  BufNewFile, BufRead </h3><br>  <code>BufnewFile</code> d√©marre lorsqu'un nouveau fichier est cr√©√©, <code>BufRead</code> - lorsque le tampon est ouvert pour la premi√®re fois.  Ils sont g√©n√©ralement utilis√©s pour ajouter des param√®tres et des remappages √† des types de fichiers sp√©cifiques.  J'en ai un: <br><br><pre> <code class="plaintext hljs">augroup md autocmd! au BufNewFile,BufRead *.md syntax keyword todo TODO au BufNewFile,BufRead *.md inoremap &lt;buffer&gt; ;` ```&lt;cr&gt;&lt;cr&gt;```&lt;Up&gt;&lt;Up&gt; augroup END</code> </pre> <br>  Ce n'est que dans les fichiers Markdown que la ligne TODO est mise en √©vidence et les caract√®res <code>;`</code> en mode insertion ajoute une notation de code. <br><br>  Les √©quipes automatiques vous permettent de faire des choses beaucoup plus complexes.  Par exemple, <code>au</code> pour <code>BufWriteCmd</code> remplace l'enregistrement standard, vous permettant d'impl√©menter une logique personnalis√©e.  Cela va au-del√† des ¬´astuces¬ª et va dans le domaine de la ¬´magie noire¬ª. <br><br><h2>  Plugins </h2><br>  La plupart des gens connaissent les plugins populaires tels que <code>vim-surround</code> et <code>NERDtree</code> .  Voici une liste de quelques-uns peu connus que je trouve tr√®s utiles. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Undotree</a> </h3><br>  Dans la plupart des √©diteurs de texte, les actions d'annulation se produisent de fa√ßon lin√©aire.  Si vous apportez une modification √† A, l'annulez, puis apportez une modification √† B, alors A est perdu pour toujours.  Cependant, Vim stocke l'arborescence enti√®re des actions annul√©es.  La commande <code>u</code> annule l'action dans la branche d'arbre actuelle et <code>g</code> passe √† la version <i>chronologique</i> pr√©c√©dente.  Vous pouvez afficher la liste des actions annul√©es avec la commande <code>:undolist</code> . <br><br>  Mais ce format n'est pas tr√®s clair.  Il est pr√©f√©rable de voir l'arbre r√©el.  C'est exactement ce <code>Undotree</code> fait <code>Undotree</code> : il pr√©sente une bonne repr√©sentation ASCII de l'arbre des actions annul√©es avec une navigation pratique. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vim.swap</a> </h3><br>  Le plugin fournit des commandes pour √©changer des arguments, vous pouvez donc remplacer <code>(a, f(b, c))</code> par <code>(f(b, c), a)</code> en quelques frappes.  Je dois r√©guli√®rement faire de telles modifications, c'est donc une am√©lioration majeure de la qualit√© de vie. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Neoterm</a> </h3><br>  Connecte une API de niveau sup√©rieur au terminal int√©gr√© neo / vim.  Par exemple <code>:T {text}</code> envoie {text} √† la console.  Bon pour cr√©er un environnement interactif. <br><br><h2>  "TODO {{{ </h2><br>  De nombreux sujets ne sont pas trait√©s dans cet article car ils sont trop techniques ou doivent √™tre expliqu√©s en d√©tail, comme l'√©criture de fonction ou le syst√®me de syntaxe.  Et je ne sais pas grand-chose.  Je voudrais √©tudier plus en d√©tail les sujets suivants: <br><br><h3>  Fen√™tres Aper√ßu, Quickfix et Liste </h3><br>  J'utilise parfois des outils avec ces fen√™tres, mais je ne sais pas comment les manipuler.  Je voudrais ajouter des erreurs de correction rapide √† mon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugin TLA +</a> .  J'aime aussi l'id√©e de mettre les informations de support et les commandes de rappel dans la fen√™tre d'aper√ßu.  Cela ouvre des possibilit√©s difficiles √† reproduire dans l'IDE. <br><br><h2>  API Neovim </h2><br>  Neovim propose une API avanc√©e pour int√©grer Vim √† des programmes externes.  Votre script Python peut envoyer des commandes √† l'instance Neovim et vous pouvez contr√¥ler l'√©diteur via le serveur, par exemple.  J'ai vu des d√©mos conceptuelles sympas o√π la saisie semi-automatique se produit en fonction des informations d'un navigateur.  √áa a l'air tr√®s cool! <br><br><h2>  Objets texte </h2><br>  Jamais cr√©√© un tel. <br><br><hr><br>  Il s'agissait donc d'un bref aper√ßu de certaines des fonctions implicites de Vim.  J'esp√®re que vous avez d√©couvert quelque chose d'utile! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr454742/">https://habr.com/ru/post/fr454742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr454732/index.html">5 techniques de priorisation robustes pour les √©quipes informatiques</a></li>
<li><a href="../fr454734/index.html">Sauvegarde, Partie 4: Pr√©sentation et test de zbackup, restic, borgbackup</a></li>
<li><a href="../fr454736/index.html">Prise en charge de Visual Studio 2019 dans PVS-Studio</a></li>
<li><a href="../fr454738/index.html">Prise en charge de Visual Studio 2019 dans PVS-Studio</a></li>
<li><a href="../fr454740/index.html">Mai 2019 Joomla Digest</a></li>
<li><a href="../fr454744/index.html">Pr√©sentation des rapports de suivi Java de la conf√©rence RigaDevDays</a></li>
<li><a href="../fr454748/index.html">Guide de survie MongoDB</a></li>
<li><a href="../fr454750/index.html">Swift UI - galoper √† travers l'Europe</a></li>
<li><a href="../fr454754/index.html">Quand vaut-il la peine de v√©rifier l'hypoth√®se d'une efficacit√© non moindre?</a></li>
<li><a href="../fr454756/index.html">V√©rification de l'efficacit√© du site et des param√®tres publicitaires, du co√ªt pour attirer les clients du grossiste</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>