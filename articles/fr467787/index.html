<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌂 💵 👸🏼 Comment configurer la recherche d'adresses par coordonnées (et où trouver le répertoire nécessaire) 🏂🏾 👇🏽 👨🏾‍🔧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au printemps, nous avons ajouté la fonction «Géocodage inversé» à l'API DaData.ru, également appelée « Adresse par coordonnées ». Le nom indique: la m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment configurer la recherche d'adresses par coordonnées (et où trouver le répertoire nécessaire)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hflabs/blog/467787/"><img src="https://habrastorage.org/webt/_w/mf/y5/_wmfy5eag0qfwexxhm4qerr0-64.jpeg"><br><br>  Au printemps, nous avons ajouté la fonction «Géocodage inversé» à l'API DaData.ru, également appelée « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Adresse par coordonnées</a> ».  Le nom indique: la méthode prend des coordonnées géographiques et fournit des données sur l'adresse. <br><br>  Un produit solide avec les mêmes fonctionnalités offre Yandex - il s'appelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Geocoder</a> .  Mais le service Yandex est gratuit uniquement pour les projets non commerciaux ouverts.  Le tarif standard - à partir de 120 000 ₽ par an - ne convient pas à tout le monde. <br><br>  Nous avons pensé - si vous faites une alternative gratuite ou peu coûteuse à "Geocoder", les développeurs vous diront probablement merci.  Et ils l'ont fait.  Dans l'article, je vais vous expliquer le fonctionnement de la structure "Adresse par coordonnées": comment nous configurons la recherche, créons un répertoire et l'empaquetons dans une méthode toute faite. <br><a name="habracut"></a><br><h2>  Où obtenons-nous les données et comment recherchons-nous l'adresse </h2><br>  En approchant de la tâche, nous avons étudié des solutions toutes faites: où trouver le répertoire de coordonnées avec des adresses et comment ensuite rechercher des objets géographiques à partir de ce répertoire.  Il s'est avéré que vous n'avez même pas besoin d'aller loin pour les bons outils. <br><br>  <b>Nous prenons les objets d'adresse dans FIAS</b> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Federal Information Address System</a> .  Il s'agit du répertoire d'adresses ouvert et officiel le plus complet.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nous avons déjà écrit</a> à ce sujet en détail sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Habré</a> , et maintenant quatre faits sont importants: <br><br><ul><li>  FIAS stocke tous les objets adressables du pays, des régions et en dessous - aux bâtiments et territoires supplémentaires; </li><li>  le répertoire est disponible gratuitement aux formats DBF et XML; </li><li>  FIAS n'est pas parfait - il manque des dizaines de milliers de maisons et de nombreuses rues, en particulier de nouvelles; </li><li>  Chaque objet adresse du répertoire correspond à un code ID - FIAS unique.  Le code objet est parfois modifié, mais pour notre article, ce n'est pas si important. </li></ul><br>  Les objets d'adresse téléchargés depuis FIAS avec ID sont la base de notre annuaire pour le géocodage inversé. <br><br>  <b>Téléchargez les coordonnées depuis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenStreetMap</a> (OSM).</b>  OSM est un projet avec une licence gratuite: les passionnés collectent les coordonnées de divers objets et les affichent à tout le monde. <br><br>  En termes simples, OSM est un ensemble de points, de lignes et de polygones sur une carte.  Chaque objet a sa propre description, type et ensemble de coordonnées.  Les données OSM pour la Russie se trouvent sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">needgeo.com</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">osm.sbin.ru/osm_dump/</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">osmosis.svimik.com/latest/</a> . <br><br><img src="https://habrastorage.org/webt/ws/p6/hy/wsp6hyjy8brd4qmc11clfyoulic.png"><br>  <sub>La liste des sources est publiée <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur une page spéciale sur le «Wiki» du projet</a></sub> <br><br>  Le déchargement consiste en des fichiers PBF - ce format est utilisé à la place de XML comme un format plus compact.  Transformer PBF en OSM XML ne coûte rien, un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tas d'utilitaires approuvés par la communauté peuvent</a> gérer cela. <br><br>  Pour notre propre répertoire, nous prenons les objets d'adresse de FIAS, puis recherchons leurs coordonnées dans OSM.  S'il est trouvé, enregistrez les données combinées.  Il s'avère une telle intersection de FIAS et OSM. <br><br>  Et tout cela est merveilleux, mais il y a un problème: les choses ne sont pas faciles avec la qualité des données dans OSM.  Les coordonnées des objets ne correspondent souvent pas à la réalité.  Par exemple, les polygones pour les régions et les districts sont adéquats.  Mais pour les villes et en dessous - pas tant. <br><br><img src="https://habrastorage.org/webt/dc/hn/uh/dchnuhisbetq44m1uyd8sniuy20.png"><br>  <sub>Les polygones sont des polygones qui délimitent des zones sur une carte.</sub>  <sub>Ils se composent d'un ensemble de points liés avec des coordonnées.</sub>  <sub>Les polygones indiquent les limites des régions, des quartiers, des villes et même des bâtiments</sub> <br><br>  Le travail principal, et dans une large mesure, consiste à collecter des données adéquates auprès de l'OSM et à éliminer le mariage.  La tâche est si volumineuse que je lui ai consacré une section distincte dans l'article. <br><br>  <b>Nous téléchargeons également des maisons qui ne sont pas dans FIAS à partir d'OSM.</b>  Comme je l'ai dit plus haut, il y a des dizaines de milliers de logements à FIAS.  Ce n'est même pas un problème, mais simplement une réalité, un arrière-plan.  Par conséquent, nous réapprovisionnons notre répertoire avec des maisons d'OSM.  Mais seulement ceux pour lesquels il y a une rue à FIAS.  Les bâtiments provenant d'OSM n'ont pas d'ID FIAS, nous les identifions donc comme <i>code FIAS + numéro de maison</i> du <i>parent</i> . <br><br>  <b>Dans le répertoire que nous recherchons avec l'aide de la belle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lucene</a></b> - notre assistante à long terme.  Merci pour le conseil, à un Indien bien versé qui a écrit le post <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Indexing Geographical Data With Lucene</a> (un bon ajout est le matériel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ad spatial dans les algorithmes de recherche spatiale</a> - sur les kd-arbres sur lesquels l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">algorithme de recherche</a> est construit). <br><br>  Dès que nous avons découvert Lucene, le problème de recherche a été résolu presque tout seul.  Les affaires restent - optez pour du papier de verre. <br><br><ol><li>  Nous avons chargé dans Lucene votre répertoire de coordonnées et d'adresses, obtenu un index de recherche.  Pour plus de facilité, presque tout a été supprimé, ne laissant que les identifiants et coordonnées des adresses. </li><li>  Nous mettons en place une recherche par index: entrée - coordonnées, sortie - ID des objets d'adresse trouvés.  La recherche ne renvoie pas d'autres informations, car l'index a été totalement raccourci. </li><li>  Satisfait de l'émission, chargement des données de la "grande" FIAS par les identifiants trouvés.  Nous ajoutons beaucoup de tout, de l'adresse dont tout le monde a besoin en une seule ligne au signe de la capitale régionale des villes. </li><li>  Nous avons compris comment trier et donner les objets reçus. </li></ol><br>  Jusqu'à présent, tout semble simple, mais ce n'est qu'une petite partie du travail.  Aucune recherche d'adresse par coordonnées n'aurait fonctionné si nous n'avions pas compilé un répertoire décent. <br><br><h2>  Comment collecter la base de coordonnées et d'adresses </h2><br>  Pour commencer, je vais disposer les bagages: après avoir lu l'article, faire rapidement un tel manuel ne fonctionne pas.  Nous le collectons depuis 2014, en le complétant constamment.  Je vais parler de ce putain de long chemin. <br><br>  La partie la plus difficile lors de la compilation d'un répertoire est de trier les coordonnées provenant d'OSM.  Au début, nous les avons vérifiés du mieux que nous pouvions, y compris avec nos mains.  L'objectif principal était alors d'obtenir des points de référence dans les grandes villes et d'en faire un guide de référence.  Maintenant qu'il existe de nombreux points de ce type, il n'est presque plus nécessaire de vérifier manuellement les nouvelles données.  À la fois, nous ajoutons 200 000 à 300 000 adresses avec coordonnées au répertoire de référence, et voici comment procéder. <br><br>  <b>Nous formons des adresses complètes à partir de balises OSM.</b>  Dans les téléchargements OSM, les composants des adresses sont dispersés par différentes balises: <br><br><ul><li>  <i>addr: ville - village Bulatnikovo</i> ; </li><li>  <i>addr: rue - rue centrale</i> ; </li><li>  <i>addr: numéro de maison - 103</i> . </li></ul><br>  Nous parcourons les tags et collectons l'adresse complète d'eux: <i>village Bulatnikovo, 103, rue Central</i> . <br><br>  <b>Nous exécutons chaque nouvelle adresse via l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API de normalisation Dadat</a> .</b>  Le service convertit les adresses dans un format unique "comme dans FIAS": <br><br><ul><li>  corrige les fautes de frappe; </li><li>  décode les abréviations comme "NiNo" et "Msk"; </li><li>  change les anciens noms en nouveaux; </li><li>  trouve la ville manquante dans l'adresse par index; </li><li>  définit un code FIAS. </li></ul><br>  Les adresses de l'API sont propres, bien qu'elles envoient maintenant une lettre ou un colis. <br><div class="scrollable-table"><table><tbody><tr><th>  Avant la normalisation </th><th>  Après </th></tr><tr><td>  <i>Bulatnikovo village, Central Street, 103</i> </td><td><p>  <i>142718, région de Moscou, quartier Leninsky, avec Bulatnikovo, rue centrale, 103.</i> </p><br><p>  Code FIAS - <i>a8b6a52f-e96d-4ec3-a0ff-641013ab0445</i> </p></td></tr></tbody></table></div>  Nous stockons les maisons, les rues et les colonies standardisées comme un seul point.  Pour la rue et le village, ce point est le centre.  Par conséquent, tous les objets d'adresse sont dans la même table, à l'intérieur - l'adresse, l'ID FIAS, la latitude et la longitude. <br><div class="scrollable-table"><table><tbody><tr><th>  L'adresse </th><th>  ID FIAS </th><th>  Latitude </th><th>  Longitude </th></tr><tr><td>  <i>142718, région de Moscou, quartier Leninsky, avec Bulatnikovo, rue centrale, 103</i> </td><td>  <i>a8b6a52f-e96d-4ec3-a0ff-641013ab0445</i> </td><td>  <i>55,558773</i> </td><td>  <i>37,667103</i> </td></tr><tr><td>  <i>119034, Moscou, voie Turchaninov, d 6 bldg.2</i> </td><td>  <i>8c925e61-9173-48b3-999e-dc85c86d89e7</i> </td><td>  <i>55,737096</i> </td><td>  <i>37,597190</i> </td></tr></tbody></table></div>  <b>Nous analysons les adresses que Dadata n'a pas standardisées.</b>  Les adresses qui n'ont pas pu être mises en correspondance avec FIAS sont marquées d'un drapeau par le service.  Nous les vérifions manuellement, il existe plusieurs options. <br><br><ol><li>  L'adresse n'est pas entrée dans les balises de téléchargement OSM appropriées, mais le diable sait où.  Étiquettes d'adresse remplies et non remplies, et la ville dans l'étiquette de rue, et bien plus encore. </li><li>  Dans OSM se trouve un objet exotique comme une aire de jeux, un terrain de football universitaire ou même un cimetière.  Il n'y a rien de tel dans FIAS, et pour nos besoins, ces résultats ne conviennent pas.  Ces objets sont simplement filtrés. </li><li>  Une erreur - et pas une erreur du tout.  Par exemple, un quartier d'une ville qui n'existe pas dans FIAS provenait de l'OSM.  Ou dans OSM, l'objet est situé dans une colonie, mais dans FIAS, cette colonie a été attachée à la ville et supprimée.  Ensuite, nous terminons l'algorithme pour les données chargées et le réexécutons. </li></ol><br><img src="https://habrastorage.org/webt/_u/yc/1u/_uyc1uds-xef7yiwtpu01vgk7ju.png"><br>  <sub>Analyser le déchargement, et là - confusion dans les balises</sub> <br><br>  <b>Nous vérifions l'adéquation des coordonnées chargées.</b>  Pour ce faire, nous regardons avec un utilitaire spécial si les coordonnées du nouvel objet tombent dans le polygone de la région ou du district parent.  Si l'adresse informe que l'objet se trouve dans la région d'Omsk, veuillez avoir la gentillesse de rentrer dans sa décharge.  L'entrée dans la ville n'est pas obligatoire - toutes les villes ne sont pas couvertes avec précision dans OSM, pour beaucoup, les données ne sont pas mises à jour. <br><br>  Nous chargeons les polygones de référence depuis OSM et les stockons tels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">quels</a> - au format <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GeoJSON</a> .  Pour choisir le polygone à essayer sur un point, regardez dans un tableau séparé.  Dans ce document, nous avons comparé les préfixes des codes CLADR et les ID de polygone: vous trouvez le code CLADR pour l'adresse et vous voyez quel polygone choisir. <br><br><img src="https://habrastorage.org/webt/f_/ud/tt/f_udtt5i_rael-f2i8exqc-4k0g.png"><br>  <sub>Le code KLADR est un identifiant unique utilisé avant la FIAS.</sub>  <sub>Un million de services peuvent trouver ce code pour une adresse</sub> <br><br>  L'utilitaire permet à l'objet de se tenir à 1 700 mètres de la décharge.  Cette règle a été ajoutée en raison des autoroutes qui dépassent souvent les frontières de la région.  Mais une distance supérieure à 1700 mètres est un signe d'erreur, selon les statistiques. <br><br>  Sur ceci pour les villes et les rues, le contrôle se termine. <br><br>  <b>Encore une fois, plus strictement, nous vérifions les coordonnées chargées des maisons.</b>  L'utilitaire mentionné à nouveau entre en jeu, et c'est ce qu'il fait. <br><br><ol><li>  Il prend l'adresse de la nouvelle maison et trouve des voisins pour lui dans le répertoire de référence. </li><li>  Selon les coordonnées, il considère la distance entre la nouvelle maison non vérifiée et les voisins fiables. </li></ol><br><img src="https://habrastorage.org/webt/sx/vx/y-/sxvxy-u2l54hlaggzda0zx8u-tw.jpeg"><br>  <sub>Il est facile de trouver des voisins: 1. Nous prenons une nouvelle maison et trouvons l'ID FIAS du parent.</sub>  <sub>2. Nous sélectionnons dans l'annuaire de référence les maisons dont les parents ont le même identifiant FIAS</sub> <br><br>  L'inspection est effectuée uniquement à domicile, à moins de 150 mètres de collègues fiables.  De plus, nous considérons chaque nouvelle maison approuvée lors de l'analyse des éléments suivants.  Voici comment cela fonctionne. <br><br>  Supposons que, dans le guide de référence, les maisons <i>n ° 1, 2 et 3</i> soient stockées le <i>long de la rue Kommunarov</i> .  Dans les nouvelles données, les maisons <i>n ° 5, 6 et 7 se trouvaient</i> dans la même rue.  A en juger par les coordonnées, les nouvelles maisons sont à proximité.  L'utilitaire voit que la maison <i>numéro 5</i> est à côté des maisons <i>numéro 1, 2 et 3</i> et l'ajoute au répertoire de référence.  Ainsi, les maisons <i>numéro 6 et 7 sont</i> également testées. <br><br>  Et puis le sort des données provenant d'OSM est décidé: <br><br><ul><li>  maisons qui ont passé les deux contrôles: pour les décharges et pour les voisins, nous ajoutons au répertoire de référence; </li><li>  si l'objet ne tombe pas dans le polygone, les nouvelles données ne conviennent pas.  De même si la distance entre la maison et les voisins est trop grande; </li><li>  les maisons qui n'ont pas de voisins, nous reportons.  Ils se trouvent dans une base de données distincte, un jour nous analyserons. </li></ul><br>  <b>Nous divisons les objets testés en deux parties.</b>  Ils iront aux différentes plaques de notre manuel de référence. <br><br><img src="https://habrastorage.org/webt/60/mh/30/60mh30nzsamn2rv_gegjgooqusy.png"><br>  <sub>Dans le premier tableau - tous les objets avec ID FIAS aux maisons: régions, agglomérations, rues.</sub>  <sub>Dans le second - à la maison et un lien vers le parent de la première table</sub> <br><br>  Deux tables sont nécessaires pour attribuer les clés aux maisons manquantes dans FIAS.  Ils n'ont pas leur propre code FIAS, alors voici comment: <br><br><ul><li>  nous collectons des objets d'adresse à la maison dans une table, chacun d'eux a son propre code FIAS; </li><li>  dans le second - uniquement à la maison, en se référant au parent dans le premier tableau. </li></ul><br>  À la suite d'un immeuble sans code FIAS, nous identifions l' <i>ID + le numéro de maison</i> du <i>parent à l'</i> aide de la clé <i>FIAS</i> . <br><br>  <b>La référence est prête, il reste à tester.</b>  Nous exécutons un service de test fonctionnel pendant la nuit et testons les performances.  Nous vérifions la vitesse à Moscou, en demandant toutes les maisons dans un rayon de trois kilomètres.  Pour être sûr.  Bien sûr, ils ont tout recouvert d'autotests. <br><br>  L'essentiel après la mise à jour est de ne pas empirer. <br><br><h2>  Géocodage inversé à travers les yeux de l'utilisateur </h2><br>  La méthode de saisie prend trois paramètres: coordonnées, nombre de résultats et rayon de recherche.  Le rayon par défaut est de 100 mètres, le maximum est d'un kilomètre.  La valeur exacte est définie dans les paramètres. <br><br><pre><code class="java hljs">curl -X POST \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Authorization: Token ${API_KEY}"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">'{ "lat": 55.878, "lon": 37.653, "radius_meters": 50 }'</span></span> \ https:<span class="hljs-comment"><span class="hljs-comment">//suggestions.dadata.ru/suggestions/api/4_1/rs/geolocate/address</span></span></code> </pre> <br>  La méthode renvoie les objets trouvés: maisons, rues et habitations.  Il les trie par ordre décroissant de précision. <br><br><ol><li>  À la maison. </li><li>  Les rues. </li><li>  Règlements. </li><li>  Les villes </li></ol><br>  Ensuite, il trie à nouveau - par distance des coordonnées données.  Si la méthode a trouvé quatre maisons et une rue, les maisons se tiendront d'abord par ordre de distance d'un point donné.  Derrière eux, la rue. <br><br>  Après tous ces châteaux, la méthode retourne enfin les objets qu'elle a trouvés. <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"suggestions"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">" ,  ,  11"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"unrestricted_value"</span></span>: <span class="hljs-string"><span class="hljs-string">" ,  ,  11"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"data"</span></span>: {...} }, { <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">" ,  ,  11"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"unrestricted_value"</span></span>: <span class="hljs-string"><span class="hljs-string">" ,  ,  11"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"data"</span></span>: {...} } ] }</code> </pre> <br>  À l'intérieur - beaucoup de choses différentes sur les objets trouvés: lignes avec l'adresse complète et abrégée, noms actuels et obsolètes, code postal, code FIAS de l'objet parent et ainsi de suite. <br><br><img src="https://habrastorage.org/webt/c5/_4/8i/c5_48iyueonoygc22saytynllr4.png"><br>  <sub>Toutes les données fournies par la méthode se trouvent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans la documentation</a></sub> <br><br>  La couverture par coordonnées pour différentes régions est différente, comme ceci avec les maisons: <br><br><ul><li>  Moscou - 96%, </li><li>  Saint-Pétersbourg - 88%, </li><li>  autres millions de villes - 74%, </li><li>  le reste de la Russie est de 47%. </li></ul><br>  Et le voici - couvrant les rues: <br><br><ul><li>  Moscou - 92% </li><li>  Saint-Pétersbourg - 79%, </li><li>  autres villes millionnaires - 75%, </li><li>  le reste de la Russie est de 67%. </li></ul><br>  Ils ne considéraient pas les villes - à l'échelle de la Russie, même le fait d'appartenir au titre fier de la ville était instable.  Par exemple, la <i>région de Yaroslavl, le district de Poshekhonsky, s / o Fedorkovsky</i> est une ville, selon le répertoire officiel de la FIAS.  Mais en fait, et à l'adresse - le district rural.  Physiquement, le district rural ressemble à l'union de plusieurs villages dans une grande tache.  Il est difficile non seulement de déterminer le centre, mais même de trouver la colonie sur la carte. <br><br>  Nous réfléchissons déjà à ce qu'il faut ajouter à la méthode: permettre le filtrage par type d'objet, renvoyer la distance à un point donné, autre chose.  Nous surveillons la demande et décidons d'investir. <br><br>  Sinon, tout est déjà sur la prod.  Jusqu'à 10 000 demandes par jour - gratuitement, plus - par abonnement à partir de 5 000 ₽ par an.  Si vous avez besoin d'adresses par coordonnées pour un projet commercial et que Geocoder est trop cher, essayez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'API Dadati</a> . <br><br>  <i>L'article original est publié <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur le blog HFLabs</a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr467787/">https://habr.com/ru/post/fr467787/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr467775/index.html">5 mythes sur les affaires: pourquoi le client a tort et comment dépasser Apple</a></li>
<li><a href="../fr467779/index.html">À propos de Godot, GLSL et WebGL, shaders utilisés dans le mini-jeu</a></li>
<li><a href="../fr467781/index.html">Cours C ++ au centre CS, première partie</a></li>
<li><a href="../fr467783/index.html">Comment un informaticien peut-il travailler et vivre en Suisse</a></li>
<li><a href="../fr467785/index.html">Comment optimiser les pandas lorsque vous travaillez avec de grands ensembles de données (essai)</a></li>
<li><a href="../fr467789/index.html">Java 13 vient d'arriver. ZGC a commencé à partager la mémoire, CDS se souvient des classes et d'autres merveilles techniques</a></li>
<li><a href="../fr467791/index.html">Analyse du défilement des pages dans Google Data Studio</a></li>
<li><a href="../fr467793/index.html">Pile technologique ennuyeuse d'une entreprise Internet unipersonnelle</a></li>
<li><a href="../fr467795/index.html">Remarque sur les crypto-monnaies et la réglementation de l'État</a></li>
<li><a href="../fr467797/index.html">"Riez pour le plaisir de": pourquoi pourriez-vous avoir besoin d'outils logiciels qui n'ont pas d'application "de combat"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>