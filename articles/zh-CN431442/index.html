<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💃🏿 👩🏽‍🤝‍👨🏻 👨🏼‍🍳 更新的WD Black NVMe：3D NAND真正具备的功能是什么？ 👨🏽‍🎓 🈸 ☺️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="根据计算机组件市场的标准，西部数据公司相对较近地开始开发固态驱动器细分市场：如果我们省略了Silicon Edge Blue（2009）和混合动力车WD Black SSHD（2013）等形式的首次尝试，那么起点可以称为2016年10月11日， SATA驱动器系列WD Green和Blue SSD，...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>更新的WD Black NVMe：3D NAND真正具备的功能是什么？</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wd/blog/431442/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/vu/r2/sf/vur2sfib0ycuntpakmn2ua_hwci.jpeg"></div><br> 根据计算机组件市场的标准，西部数据公司相对较近地开始开发固态驱动器细分市场：如果我们省略了Silicon Edge Blue（2009）和混合动力车WD Black SSHD（2013）等形式的首次尝试，那么起点可以称为2016年10月11日， SATA驱动器系列WD Green和Blue SSD，不久之后又推出了面向发烧友的高速WD Black NVMe SSD。 从那时起已经过去了2年。 在此期间，我们重新设计了生产设施，以生产出创新的3D NAND，而避免了平面闪存的诸多弊端，并更新了SSD驱动器的型号范围。  Black系列也有所发展：2018年6月4日，我们推出了新一代WD Black 3D NVMe SSD。 过渡到新制造工艺有什么好处？NVMe设备与SATA有何不同？ <a name="habracut"></a><br><br>  WD Black 3D NVMe SSD清楚地展示了闪存芯片新架构和重新设计的控制器的所有优点，从而显着提高了驱动器的性能，如下表所示。 <br><br>  <b><i>以500 GB型号为例比较第一代和第二代WD Black NVMe SSD的性能</i></b> <br><table><tbody><tr><td><p> 型号 </p><br></td><td><p>  WDS512G1X0C </p><br></td><td><p>  WDS500G2X0C </p><br></td></tr><tr><td><p> 外形尺寸 </p><br></td><td colspan="2"><p>  M.2 2280 </p><br></td></tr><tr><td><p> 介面 </p><br></td><td colspan="2"><p>  PCI Express 3.0 x4-NVMe </p><br></td></tr><tr><td><p> 记忆体晶片 </p><br></td><td><p> 闪迪15nm 128Gb TLC NAND </p><br></td><td><p>  SanDisk 64层256 Gb BiCS3 3D TLC NAND </p><br></td></tr><tr><td><p> 控制者 </p><br></td><td><p>  Marvell 88SS1093 </p><br></td><td><p> 闪迪20-82-007011 </p><br></td></tr><tr><td><p> 缓冲液 </p><br></td><td><p>  LPDDR3-1600，512兆字节 </p><br></td><td><p>  DDR4-2400，512兆字节 </p><br></td></tr><tr><td><p> 顺序读取速度，MB /秒 </p><br></td><td><p>  2050年 </p><br></td><td><p>  3400 </p><br></td></tr><tr><td><p> 顺序写入速度，MB /秒 </p><br></td><td><p>  700 </p><br></td><td><p>  2500 </p><br></td></tr><tr><td><p> 随机读取速度（4 KB块），IOPS </p><br></td><td><p>  170,000 </p><br></td><td><p>  410,000 </p><br></td></tr><tr><td><p> 随机写入速度（4 KB块），IOPS </p><br></td><td><p>  130,000 </p><br></td><td><p>  330,000 </p><br></td></tr><tr><td><p> 记录资源，TB </p><br></td><td><p>  160 </p><br></td><td><p>  300 </p><br></td></tr></tbody></table> 如您所见，向新制造工艺的过渡使阅读生产率提高了近40％，记录和随机操作提高了四倍，并且产品的使用寿命几乎翻了一番，这当然将吸引内容制作者和游戏玩家。 顺便说一句，特别是对于最顽固的播放器以及那些与视频处理相关的工作的人，我们发布了一个TB的旗舰产品，在读取时已经拥有50万IOPS，在写入时已经拥有40万IOPS！ <br><br> 结果确实令人印象深刻，并且SATA版本的固态驱动器的情况更加奇怪。 当然，那些跟随3D NAND技术发展的人都对阅读这些数字感到失望： <br><br><ul><li> 顺序读取速度-560 MB / s，之前为545 MB； </li><li> 顺序写入速度-530 MB / s与525; </li><li> 随机读取速度-95,000 IOPS与100,000; </li><li> 随机写入速度-84000 IOPS与80,000。 </li></ul><br> 令人困惑，不是吗？ 在其他条件相同的情况下，对于SATA，性能几乎保持不变，但是现代化的重点是什么？ 简短地讲-在增加以前的外形尺寸的同时增加驱动器的容错能力，这<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在3D NAND</a>的以前的一种<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">材料中进行</a>了详细介绍。 至于速度指示器，可惜-一切都取决于接口本身的功能，而这些功能根本无法揭示该技术的全部潜力。 今天我们将详细讨论。 <br><br><h2> 关于SATA，AHCI和NVMe的几句话 </h2><br> 很久以前，即几十年前，个人计算机硬盘驱动器使用ST-506 / 412接口，该接口的名称以第一个5.25英寸硬盘驱动器为荣。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/en/pz/ut/enpzutikcf6eegi1lutg2d6axec.jpeg"></div><br>  <i>第一个5.25英寸Seagate ST-506硬盘驱动器</i> <br><br> 它的主要特点是HDD板本身仅包含引擎控制模块，执行器和开关头以及模拟处理-其他所有内容都位于PC控制器本身中。 这种方法的实现成本相当低廉，但即使在那时，接口带宽仍低于第一台个人计算机可能提供的带宽。 但是在那些日子里，没有地方着急了，就价格和质量而言，一切都对每个人都很好。 <br><br> 但是，进步并没有停滞不前，私人和商业用户的需求势不可挡。 以前的性能和设备数量（ST-506 / 412只允许连接两个磁盘）都无法满足任何人的需求，因此开发人员开始寻找替代方案。  ATA就是这样产生的，多年来，ATA成为所有PC的标准，而ATAPI的扩展极大地促进了ATA的发展，该扩展本质上是高性能服务器中使用的一组SCSI标准的实现。 <br><br> 几年后，并行接口达到了133 MB / s的上限。 从前面提到的ST-506 / 412继承的功能使人感到自己：一对磁盘设备连接到一个通道，根本不可能消除它们彼此之间的相互影响。 因此出现了SATA，其吞吐量增加到150 MB / s，并且有可能进一步增长，并且由于采用了星形拓扑结构，每个通道都变得独立。 <br><br> 总的来说，正是拓扑结构才是王牌，因为对于当时的慢速硬盘驱动器，甚至有一百五十兆字节是冗余的。 为了提高它们的性能，有必要优化读取/写入请求并最小化磁头块移动的次数。 到了这时，借助本地命令队列（NCQ）技术（即命令序列的硬件设置）的支持，高级主机控制器接口（AHCI）出现了。 当然，这里并没有真正的并行性：尽管NCQ可以同时接受来自多个来源的请求，但是它们的进一步重组是在同一队列中进行的，这仅有助于减少写入头的移动次数以及磁道上所需扇区的等待时间。 另一方面，不需要更多，因为磁头可以在任何给定的时间定位在一个特定圆柱体的正上方。 <br><br> 随着固态硬盘的问世，情况正好相反。 对于固态硬盘，甚至SATA III也局促不安，只有开发新协议才有帮助。 戏剧性的：如果AHCI仅支持一个深度为32个请求的队列，则2012年8月引入的非易失性存储器主机控制器接口（NVMe）已经能够处理深度为65536个队列（即64K）的65536个队列并使用多核处理器。 还增加了中断延迟的优化，提供了近一半的性能提升。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/c1/dr/lt/c1drltg_gnrq4norkcdohqadego.png"></div><br>  <i>SAS，SATA和NVMe之间的读取/写入延迟比较</i> <br><br> 但是，NVMe只是一个工具，如果没有适当的硬件支持，就无法提供如此令人印象深刻的结果。 <br><br><h2> 释放潜力：新控制器有什么功能？ </h2><br> 为更新的WD Black SSD系列选择控制器时，我们得出的结论令人失望：早先使用的Marvell提供的解决方案及其竞争对手的产品根本无法满足我们当前的需求。 在这种情况下，唯一正确的步骤是创建自己的微控制器，因此，我们首先获得了与第三方开发人员的完全独立性，其次-可以针对特定驱动器修改的功能巧妙地优化硬件平台的能力。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tw/__/yv/tw__yvk1s0vy8t0s_3ngndmfbys.jpeg"></div><br>  <i>操作在计算单元之间分配</i> <br><br> 因此出现了SanDisk 20-82-007011，它基于ARM Cortex-R上的28纳米三核处理器，其性能已经大大优于以前使用的Marvell Eldora。 主要创新是将在程序级别处理的部分操作转移到专用计算单元：例如，这些操作包括从闪存读取数据，处理NVMe命令以及LDPC编码。 顺便说一下，后者变成了三个层次，并获得了一个分层的角色。 实际上，这意味着根据存储单元的磨损程度选择最合适的算法。 刚安装在计算机中的新WD Black 3D NAND SSD将使用轻量级的纠错选项，其特点是执行速度快，能耗最低。 相反，当闪存资源用尽时，将使用更多资源密集型方案，尽管它们减慢了读/写速度，但可以防止有价值的信息丢失，同时最大限度地延长了SSD的使用寿命。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/om/oj/v9/omojv93vzzi8okimmgoi3vpikbk.png"></div><br>  <i>根据闪存的状态选择ECC方案</i> <br><br> 该控制器本身支持最新的NVM Express 1.3协议，同时实现4条PCI-E 3.0线，并且信息通过八个通道传输，因此带宽没有问题。 <br><br> 我们还致力于消除另一个“瓶颈”，即缓存。 和以前一样，这里有一个中间SLC缓冲区，但是，专有的nCache 3.0算法现在已经学会了切换到直接到TLC模式并将数据直接写到TLC存储器。 这是什么意思？ 和以前一样，您可以充分利用高速缓存，但是，如果缓冲区溢出，性能将不会急剧下降，因为信息将绕过缓存直接刷新到内存中。 同时，在高速SLC模式下，WD Black NVMe演示了令人印象深刻的2.4 GB / s顺序记录，并且以840 MB / s的速度直接记录到TLC内存，比以前的版本快2倍以上。 缓存量保持不变，这使设备更便宜。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1j/np/hf/1jnphffsr5yxxh4lnksod6lleuq.png"></div><br>  <i>缓存弹出时的性能动态</i> <br><br> 因此，事实证明WD Black NVMe SSD非常平衡：更新的硬件平台是3D NAND芯片的理想补充，充分展示了它们的潜力。 最重要的是，我们针对那些SATA框架似乎过于狭窄的人们提供了一个真正可靠的解决方案，它展示了不错的性能指标，并且由于最佳的价格质量比而能够与消费者细分市场中的大多数参考模型保持一致。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN431442/">https://habr.com/ru/post/zh-CN431442/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN431430/index.html">参与开源项目可能对公司有利-原因和作用</a></li>
<li><a href="../zh-CN431434/index.html">数据中心现代化的三个故事</a></li>
<li><a href="../zh-CN431436/index.html">为什么SRE文档很重要。 第二部分</a></li>
<li><a href="../zh-CN431438/index.html">朱莉娅 字符串和元编程</a></li>
<li><a href="../zh-CN431440/index.html">Timofey Bokarev，有趣的俄罗斯游戏设计师</a></li>
<li><a href="../zh-CN431444/index.html">如何计划两周的冲刺</a></li>
<li><a href="../zh-CN431446/index.html">光吗 相机？ OSMO！ 大疆创新推出最小的OSMO Pocket掌上电脑</a></li>
<li><a href="../zh-CN431448/index.html">三星芽2019：Gear IconX的神秘更新或Apple AirPods的潜在杀手</a></li>
<li><a href="../zh-CN431450/index.html">谁在卖您的帐户？</a></li>
<li><a href="../zh-CN431452/index.html">实用的TypeScript。 React + Redux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>