<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📯 🦗 👃🏼 普通人的IDE或我们为什么选择摩纳哥 🕊️ 👊🏼 👨🏿‍🤝‍👨🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="编者注 
 在上一篇文章中，我们讨论了Voximplant控制面板的发布，不要忘了提到更新的IDE。 今天，我们为此工具专门设计了一个替代品 -我们的同事Geloosa精心描述了选择技术的过程以及带有选项卡，自动完成和自定义样式的实现。 更方便地坐下，把其余的事情搁置一旁，去索具，摩纳哥的胆量正等待...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>普通人的IDE或我们为什么选择摩纳哥</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/445390/"><h2> 编者注 </h2><br> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上一篇文章中，</a>我们讨论了Voximplant控制面板的发布，不要忘了提到更新的IDE。 今天，我们为此工具专门设计了一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">替代品</a> -我们的同事<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Geloosa</a>精心描述了选择技术的过程以及带有选项卡，自动完成和自定义样式的实现。 更方便地坐下，把其余的事情搁置一旁，去索具，摩纳哥的胆量正等待着好奇-不要滑倒，有很多:)喜欢阅读。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t1/vr/8x/t1vr8xlaaladvtlhhi47hm4ihsg.png" width="700"></div><a name="habracut"></a><br><h2> 为代码编辑器选择哪个库？ </h2><br>  Npm为代码编辑器生成400多个结果。 在大多数情况下，它们是为特定框架或项目制作的几个最受欢迎的lib的UI包装器，针对同一lib的插件或对其fork进行了修改的分叉，以及不用于在浏览器中编辑代码的操作，它们只是通过关键字进入输出。 因此，幸运的是，选择范围要窄得多。 还有几个库-轻量级但不是很实用的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CodeFlask</a>库，专为小片段和交互式示例而设计，但不适用于具有我们在桌面编辑器中惯用的功能的完整的Web IDE。 <br><br> 最后，我们有3个库可供选择： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Ace</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CodeMirror</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Monaco Editor</a> 。 其中最早的CodeMirror是由柏林人<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Marijn Haverbeke</a>提出的一项私人计划，他在其在线教程<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Eloquent JavaScript</a>中需要一个练习代码编辑器。 编辑器的第一版于2007年发布。  2010年，Ace的第一个版本在同一柏林的JSConf.eu上发布，Ajax.org随后为基于云的IDE Cloud9开发了Ace（实际上，Ace代表Ajax.org Cloud9 Editor）。  2016年，Cloud9被亚马逊收购，现已成为AWS的一部分。 最新的摩纳哥编辑器是VS Code的组件，由Microsoft于2015年底发布。 <br><br> 每个编辑器都有自己的优点和缺点；每个编辑器都用于多个大型项目中。 例如，Chrome和Firefox开发人员工具（Bitbucket中的IDE）在npm中的RunKit中使用CodeMirror。  Ace-MODX可汗学院Codecademy； 摩纳哥-在GitLab IDE和CodeSandbox中。 下面是一个比较表，可以帮助您选择最适合您的项目的库。 <br><br><table><tbody><tr><td></td><td colspan="3" align="center"> 图书馆 </td></tr><tr><td></td><td> 王牌 </td><td> 代码镜像 </td><td> 摩纳哥 </td></tr><tr><td> 开发者 </td><td>  Cloud9 IDE（Ajax.org）， <br> 现在是AmazonMozilla的一部分 </td><td> 玛丽恩·哈弗贝克 </td><td> 微软公司 </td></tr><tr><td> 浏览器支持 </td><td>  Firefox ^ 3.5 <br> 镀铬 <br>  Safari ^ 4.0 <br>  IE ^ 8.0 <br> 歌剧^ 11.5 </td><td>  Firefox ^ 3.0 <br> 镀铬 <br>  Safari ^ 5.2 <br>  IE ^ 8.0 <br> 歌剧^ 9.2 </td><td>  Firefox ^ 4.0 <br> 镀铬 <br>  Safari（v-？） <br>  IE ^ 11.0 <br> 歌剧^ 15.0 </td></tr><tr><td> 语言支持 <br>  （语法突出显示） </td><td>  &gt; 120 </td><td>  &gt; 100 </td><td>  &gt; 20 </td></tr><tr><td>中的字符数 <br> 的最新版本 <br>  cndjs.com </td><td>  366608（v1.4.3） </td><td>  394,269（v5.44.0） </td><td>  2,064,949（v0.16.2） </td></tr><tr><td> 最新版本的重量， <br>  gzip </td><td>  2.147 KB </td><td>  1.411 KB </td><td>  10.898 KB </td></tr><tr><td> 渲染图 </td><td> 多姆 </td><td> 多姆 </td><td>  DOM和部分&lt;canvas&gt; <br>  （用于滚动和小地图） </td></tr><tr><td> 该文件 </td><td>  10人中有7人：没有搜索，不一定总是清晰 <br> 方法返回，令人怀疑 <br> 完整性和相关性 <br>  （并非所有链接都在扩展坞中起作用） </td><td> 十分之六：与用户指南合并， <br> 通过Ctrl + F搜索， <br> 对完整性存在疑问 </td><td>  10人中有9人：很漂亮，而且搜索 <br> 交叉参考 <br>  -1分，缺乏解释 <br> 到某些标志的应用 <br> 从名字上不太明显 </td></tr><tr><td> 快速入门演示 </td><td> 操作方法-带有代码示例的文本文档， <br> 分别有带有代码示例的演示 <br>  （是的，它们分散在不同的页面上， <br> 并非每个人都能正常工作，因此最容易通过Google进行搜索）， <br> 有一个演示，您可以在其中触摸不同的功能， <br> 但建议通过UI控件进行管理， <br> 也就是说，我们仍然必须分别搜索方法 <br> 连接他们 </td><td> 方法真的很差 <br> 基本上一切都散布在github上 <br> 和stackoverflow，但其中有一些带有示例的功能演示 <br> 实施代码 </td><td> 以游乐场的形式组合： <br> 带有注释和一些演示的代码，您可以 <br> 立即尝试并评估 <br> 许多可能性 </td></tr><tr><td> 社区活动 </td><td> 平均值 </td><td> 高 </td><td> 平均值 </td></tr><tr><td> 开发者活动 </td><td> 平均值 </td><td> 平均值 </td><td> 高 </td></tr></tbody></table><br> 按大小比较库是没有意义的，因为这完全取决于特定项目的连接方式和连接方式：使用其中一个版本（也有所不同）加载完成的文件，或者通过某种收集器运行npm软件包。 最重要的是使用了多少编辑器：是否加载了所有样式和主题，使用了多少以及哪些附加组件和插件。 例如，在CodeMirror中，开箱即用在Monaco和Ace中可用的大多数功能仅在附加组件中可用。 该表显示了CDN上最新版本中的字符数及其压缩文件的权重，以大致了解所涉及的顺序。 <br><br> 所有库都具有大致相同的基本功能集：代码自动格式化，折叠线，剪切/复制/粘贴，热键，添加用于突出显示和排序的新语法的功能，语法检查（仅在CodeMirror中通过加载项，在Ace中到目前为止仅针对JavaScript） / CoffeeScript / CSS / XQuery），工具提示和自动完成功能（在CodeMirror中-通过附加组件），按代码进行高级搜索（在CodeMirror中-通过附加组件），用于实现制表符和拆分模式的方法，diff模式和合并工具（在CodeMirror中） -在一个窗口中有加号或减号，或者在附加组件中有两个面板， 王牌 - 独立利布）。 由于年代久远，已经为CodeMirror编写了许多附加组件，但是它们的数量将影响编辑器的重量和速度。 摩纳哥可以开箱即用地做很多事情，而且我认为它比Ace和CodeMirror更好，更大。 <br><br> 我们之所以在摩纳哥停留有几个原因： <br><br><ol><li> 我们认为对项目至关重要的最先进的工具： <br><ul><li>  IntelliSense-提示和自动完成； </li><li> 在上下文菜单中和通过小地图进行智能代码导航； </li><li> 开箱即用的两面板差异模式。 </li></ul><br></li><li> 用TypeScript编写。 我们的控制台使用Vue + Typescript编写，因此TS支持非常重要。 顺便说一下，Ace最近还支持TS，但是它最初是用JS编写的。 对于CodeMirror， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">DefinitelyTyped中</a>有一些<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">类型</a> 。 </li><li> 它是其中最活跃的开发工具（可能是因为它是不久前发布的），错误得到更快地纠正，并且池请求也得到了解决。 为了进行比较，使用CodeMirror时，我们经历了一段悲伤的经历，当时错误多年没有得到纠正，我们将拐杖放在拐杖上，然后开车拐杖。 </li><li> 方便的自动生成的文档（为其完整性提供了希望），在接口和方法之间具有交叉引用。 </li><li> 以我们的口味，最漂亮的UI（可能还与创建时间有关）和简洁的API。 </li><li> 在问过开发人员的朋友之后，哪位编辑最引起头痛，Ace和CodeMirror是领导者。 </li></ol><br> 另外，应该说工作速度。 昂贵的解析在并行工作线程中进行。 另外，所有计算都受到视口大小的限制（所有类型，颜色，渲染仅针对可见线进行计算）。 仅当代码包含100,000行时，它才会开始制动-可以计算出几秒钟的提示。  Ace也使用大量的工人进行大量计算，结果证明速度更快：在相同长度的代码中，提示几乎立即出现，并且可以快速处理200,000行（在官方网站上，即使是400万行也不是问题，尽管螺丝被加速，输入开始变慢，并且提示消失了（一百万之后）。 没有并行计算的CodeMirror几乎无法提取此类卷：它可以闪烁文本和语法突出显示。 由于文件中的100,000行在现实世界中很少见，因此我们对此视而不见。 即使拥有4万到5万行，摩纳哥也做得很好。 <br><br><h2> 连接摩纳哥并使用基本功能（例如，与Vue集成） </h2><br><h3> 连接方式 </h3><br> 在这里，我将提供来自vue组件的代码示例，并使用适当的术语。 但是，所有这些都可以轻松移植到任何其他框架或纯JS。 <br><br> 摩纳哥的源代码可以在官方网站上下载并放入您的项目中，您可以从CDN中提取它，也可以通过npm连接到该项目。 我将讨论第三个选项并使用webpack进行构建。 <br><br> 我们放置了monaco-editor和一个用于组装的插件： <br><br><pre><code class="bash hljs">npm i -S monaco-editor npm i -D monaco-editor-webpack-plugin</code> </pre> <br> 在webpack配置中，添加： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MonacoWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'monaco-editor-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-comment"><span class="hljs-comment">// ... plugins: [ // ... new MonacoWebpackPlugin() ] };</span></span></code> </pre> <br> 如果使用Vue和vue-cli-service进行构建，请添加到vue.config.js： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MonacoWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'monaco-editor-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-comment"><span class="hljs-comment">// ... configureWebpack: (config) =&gt; { // ... config.plugins.push(new MonacoWebpackPlugin()); } };</span></span></code> </pre> <br> 如果不需要Monaco的所有语言和功能，要减小捆绑包的大小，可以将具有设置<code>MonacoWebpackPlugin</code>对象传输到<code>MonacoWebpackPlugin</code> ： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MonacoWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">output</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-comment"><span class="hljs-comment">// ,     languages: ['markdown'], //     ,     features: ['format', 'contextmenu'] //      })</span></span></code> </pre> <br> 插件的功能和语言的完整列表在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这里</a> 。 <br><br><h3> 创建和自定义编辑器 </h3><br> 我们导入<code>editor</code>并调用<code>editor.create(el: HTMLElement, config?: IEditorConstructionOptions)</code> ，将要在其中创建编辑器的DOM元素作为第一个参数传递。 <br><br> 在编辑器组件中： <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {editor} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'monaco-editor'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {Component, Prop, Vue} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'vue-property-decorator'</span></span></span><span class="javascript">; @Component() </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> </span><span class="hljs-class"><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Monaco</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Vue</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span></span><span class="javascript">{ private editor = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">; mounted() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.editor = editor.create(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.$refs.editor); } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.editor</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin</span></span></span><span class="css">: auto; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">60vw</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">height</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">200px</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> 编辑器的容器必须设置高度，以免高度不为零。 如果您在一个空的div中创建编辑器（高度为零，即K.O.），则Monaco将在编辑器窗口中以内联样式编写相同的高度。 <br><br>  <code>editor.create</code>的第二个可选参数是编辑器配置。 其中有一百多个选项，有关<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IEditorConstructionOptions</a>接口的完整说明，请<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">参见</a>文档。 <br><br> 例如，我们将设置语言，主题和初始文本并启用换行（默认情况下，它们不被换行）： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> config = { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">`function hello() { alert('Hello world!'); }`</span></span>, <span class="hljs-attr"><span class="hljs-attr">language</span></span>: <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>, <span class="hljs-attr"><span class="hljs-attr">theme</span></span>: <span class="hljs-string"><span class="hljs-string">'vs-dark'</span></span>, <span class="hljs-attr"><span class="hljs-attr">wordWrap</span></span>: <span class="hljs-string"><span class="hljs-string">'on'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.editor = editor.create(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$refs.editor, config);</code> </pre> <br>  <code>editor.create</code>函数返回带有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IStandaloneCodeEditor</a>接口的对象。 通过它，您现在可以控制编辑器中发生的所有事情，包括更改初始设置： <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//        read-only  this.editor.updateOptions({wordWrap: 'off', readOnly: true});</span></span></code> </pre> <br> 现在让您痛苦的是： <code>updateOptions</code>接受带有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IEditorOptions</a>接口的对象，而不是IEditorConstructionOptions。 它们略有不同：IEditorConstructionOptions较宽，它包含此编辑器实例的属性和某些全局实例的属性。  <code>updateOptions</code>属性通过<code>updateOptions</code>全局更改-通过全局<code>editor</code>的方法更改。 因此，全局更改的那些实例在所有情况下都会更改。 在这些选项中， <code>theme</code> 。 创建两个具有不同主题的实例； 两者中的y将是最后一个给出的（此处为深色）。 全局<code>editor.setTheme('vs')</code>方法也将同时更改这两个主题。 这甚至会影响SPA另一页上的那些窗口。 这样的地方很少，但是您需要关注它们。 <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor1'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor2'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// ... this.editor1 = editor.create(this.$refs.editor1, {theme: 'vs'}); this.editor2 = editor.create(this.$refs.editor2, {theme: 'vs-dark'}); // ... </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><h3> 删除编辑器 </h3><br> 销毁摩纳哥窗口时，必须调用<code>dispose</code>方法，否则将不会清除所有侦听器，并且此后创建的窗口可能无法正常工作，对某些事件进行多次响应： <br><br><pre> <code class="javascript hljs">beforeDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.editor &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.editor.dispose(); }</code> </pre> <br><h3> 标签 </h3><br> 在文件编辑器中打开的选项卡使用相同的Monaco窗口。 要在它们之间切换，请使用IStandaloneCodeEditor方法：用于保存的<code>getModel</code>和用于更新编辑器模型的<code>setModel</code> 。 该模型存储文本，光标位置，撤消重做的动作历史记录。 要创建新文件的模型，请使用<code>editor.createModel(text: string, language: string)</code>全局方法。 如果文件为空，则无法创建模型并将<code>null</code>传递给<code>setModel</code> ： <br><br><div class="spoiler">  <b class="spoiler_title">查看代码</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'tabs'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'tab'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tab in tabs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:key</span></span></span><span class="hljs-tag">'</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tab.id</span></span></span><span class="hljs-tag">' @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'() =&gt; switchTab(tab.id)'</span></span></span><span class="hljs-tag">&gt;</span></span> {{tab.name}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {editor} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'monaco-editor'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {Component, Prop, Vue} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'vue-property-decorator'</span></span></span><span class="javascript">; @Component() </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> </span><span class="hljs-class"><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Monaco</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Vue</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span></span><span class="javascript">{ private editor = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">; private tabs: [ {</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">id</span></span></span><span class="javascript">: </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'tab 1'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">text</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'const tab = 1;'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">model</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">active</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">}, {</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">id</span></span></span><span class="javascript">: </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'tab 2'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">text</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'const tab = 2;'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">model</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">active</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">} ]; mounted() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.editor = editor.create(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.$refs.editor); } private switchTab(id) { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> activeTab = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.tabs.find(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">tab</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> tab.id === id); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (!activeTab.active) { </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">//    (     )    const model = !activeTab.model &amp;&amp; activeTab.text ? editor.createModel(activeTab.text, 'javascript') : activeTab.model; //          this.tabs = this.tabs.map(tab =&gt; ({ ...tab, model: tab.active ? this.editor.getModel() : tab.model, active: tab.id === id })); //    this.editor.setModel(model); } } </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br><h3> 差异模式 </h3><br> 对于差异模式，创建编辑器窗口时需要使用另一种<code>editor</code>方法<code>createDiffEditor</code> ： <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'diffEditor'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> // ... mounted() { this.diffEditor = editor.createDiffEditor(this.$refs.diffEditor, config); } // ...</code> </pre> <br> 它使用与<code>editor.create</code>相同的参数，但配置应具有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IDiffEditorConstructionOptions</a>接口，该接口与常规编辑器配置稍有不同，尤其是它没有<code>value</code> 。 通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">setModel</a>创建返回的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IStandaloneDiffEditor</a>后，设置要比较的文本： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.diffEditor.setModel({ <span class="hljs-attr"><span class="hljs-attr">original</span></span>: editor.createModel(<span class="hljs-string"><span class="hljs-string">'const a = 1;'</span></span>, <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>), <span class="hljs-attr"><span class="hljs-attr">modified</span></span>: editor.createModel(<span class="hljs-string"><span class="hljs-string">'const a = 2;'</span></span>, <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>) });</code> </pre> <br><br><h3> 上下文菜单，命令面板和热键 </h3><br> 摩纳哥使用其自己的非浏览器上下文菜单，该菜单具有智能导航，可更改所有事件的多光标以及类似于VS Code（命令面板）的命令面板，其中包含一堆有用的命令和快捷键，可加速代码编写： <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ka/ob/fa/kaobfagb3sdmtmikvocuai96die.png"></div><br><pre> 摩纳哥上下文菜单 </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eg/2s/_c/eg2s_c1kzyqi0eo4yhxo2o-sde4.png"></div><br><pre> 摩纳哥命令面板 </pre><br><br> 上下文菜单通过<code>addAction</code>方法扩展（在<code>IStandaloneCodeEditor</code>和<code>IStandaloneDiffEditor</code>都可用），该<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">菜单</a>接受<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IActionDescriptor</a>对象： <br><br><div class="spoiler">  <b class="spoiler_title">查看代码</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... &lt;div ref='diffEditor' :style='{display: isDiffOpened ? "block" : "none"}'&gt;&lt;/div&gt; // ... //  KeyCode  KeyMod     import {editor, KeyCode, KeyMod} from "monaco-editor"; // ... private editor = null; private diffEditor = null; private isDiffOpened = false; private get activeTab() { return this.tabs.find(tab =&gt; tab.active); } mounted() { this.diffEditor = editor.createDiffEditor(this.$refs.diffEditor); this.editor = editor.create(this.$refs.editor); this.editor.addAction({ //  ,     . contextMenuGroupId: '1_modification', //   : 1 - 'navigation', 2 - '1_modification', 3 - '9_cutcopypaste'; //    contextMenuOrder: 3, //       label: 'Show diff', id: 'showDiff', keybindings: [KeyMod.CtrlCmd + KeyMod.Shift + KeyCode.KEY_D], //   // ,     //    run: this.showDiffEditor }); } //      private showDiffEditor() { this.diffEditor.setModel({ original: this.activeTab.initialText, modified: this.activeTab.editedText }); this.isDiffOpened = true; }</span></span></code> </pre> <br></div></div><br> 为了仅将快捷方式绑定到操作而不在上下文菜单中显示该快捷方式，使用了相同的方法，仅未指定该操作的<code>contextMenuGroupId</code> ： <br><br><div class="spoiler">  <b class="spoiler_title">查看代码</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... //   private myActions = [ { contextMenuGroupId: '1_modification', contextMenuOrder: 3, label: &lt;string&gt;this.$t('scenarios.showDiff'), id: 'showDiff', keybindings: [KeyMod.CtrlCmd + KeyMod.Shift + KeyCode.KEY_D], run: this.showDiffEditor }, // ,   Ctrl + C + L      { label: 'Get content length', id: 'getContentLength', keybindings: [KeyMod.CtrlCmd + KeyCode.Key_C + KeyCode.Key_L], run: () =&gt; this.editor &amp;&amp; alert(this.editor.getValue().length) } ]; mounted() { this.editor = editor.create(this.$refs.editor); this.myActions.forEach(this.editor.addAction); //     }</span></span></code> </pre> <br></div></div><br> 命令面板将包括所有添加的操作。 <br><br><h3> 提示和自动完成 </h3><br> 出于这些目的，摩纳哥使用了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IntelliSense</a> ，这很酷。 您可以阅读并在屏幕快照上看到链接，他可以显示多少有用的信息。 如果您的语言还没有自动完成功能，则可以通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">registerCompletionItemProvider</a>添加它。 对于JS和TS，已经有一个<code>addExtraLib</code>方法，允许您加载工具提示和自动完成的TypeScript定义： <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... import {languages} from "monaco-editor"; // ... // ,          private myAddedLib = null; mounted() { // languages     Monaco this.myAddedLib = languages.typescript.javascriptDefaults.addExtraLib('interface MyType {prop: string}', 'myLib'); } beforeDestroy() { //  ,   this.myAddedLib &amp;&amp; this.myAddedLib.dispose(); }</span></span></code> </pre> <br> 在第一个参数中，该行传递定义，在第二个可选参数中传递库的名称。 <br><br><h3> 自定义语言和主题 </h3><br> 摩纳哥拥有用于确定其语言语法的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Monarch</a>模块。 语法非常标准地描述：设置了该语言特有的常规和标记之间的对应关系。 <br><br><div class="spoiler">  <b class="spoiler_title">查看代码</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... //  ,    : private myLanguage = { defaultToken: 'text', //  , brackets: [{ open: '(', close: ')', token: 'bracket.parenthesis' }], // ,   , keywords: [ 'autumn', 'winter', 'spring', 'summer' ], //     tokenizer: { root: [{ regex: /\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2}/, action: { token: 'date' } }, { regex: /(boy|girl|man|woman|person)(\s[A-Za-z]+)/, action: ['text', 'variable'] } ] } }; mounted() { //     languages.register({ id: 'myLanguage' }); //      languages.setMonarchTokensProvider('myLanguage', this.myLanguage); // ... }</span></span></code> </pre> <br></div></div><br> 您还可以为令牌创建主题（具有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IStandaloneThemeData</a>接口的对象）并将其安装在全局<code>editor</code> ： <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... private myTheme = { base: 'vs', // ,      inherit: true, //       rules: [ {token: 'date', foreground: '22aacc'}, {token: 'variable', foreground: 'ff6600'}, {token: 'text', foreground: 'd4d4d4'}, {token: 'bracket', foreground: 'd4d4d4'} ] }; mounted() { editor.defineTheme('myTheme', this.myTheme); // ... }</span></span></code> </pre> <br> 现在，所描述语言的文本将如下所示： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gv/b-/3-/gvb-3-3by31loig9rdgmjoy0kb8.png"></div><br> 只要您有足够的想象力，就可以应用此功能。 例如，我们在开发人员面板中制作了一个呼叫日志查看器。 日志通常很长且难以理解，但是当它们以语法突出显示，智能搜索，折叠/展开线，必要的命令（例如，Prettify params）显示时，按其ID突出显示所有呼叫行或将日志中的时间转换为其他时区，然后进行挖掘在他们中变得容易得多（可单击屏幕快照）： <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/4i/5v/rk/4i5vrkhe7g__s_mecfpytcf1gra.png"></a> </div><br><h3> 结论 </h3><br> 总而言之，我要说摩纳哥是火。 与他一起工作了几个月之后，我有了特别愉快的回忆。 如果您选择代码的编辑器，请确保进入其<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Playground</a>并试用该代码，看看它还能做什么。 也许这正是您想要的。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN445390/">https://habr.com/ru/post/zh-CN445390/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN445370/index.html">Prometheus 2中的TSDB分析</a></li>
<li><a href="../zh-CN445372/index.html">机器视觉与人类直觉：破坏对象识别程序操作的算法</a></li>
<li><a href="../zh-CN445378/index.html">迷宫：分类，生成，寻找解决方案</a></li>
<li><a href="../zh-CN445380/index.html">现代PHP美丽而高效</a></li>
<li><a href="../zh-CN445384/index.html">e娥四号任务-着陆模块和中继卫星上的科学设备</a></li>
<li><a href="../zh-CN445392/index.html">MyTarget动态再营销：非个人产品推荐</a></li>
<li><a href="../zh-CN445394/index.html">3D安全协议更改：满足3-D Secure 2.0</a></li>
<li><a href="../zh-CN445398/index.html">程序员的语言学（这不是错字）</a></li>
<li><a href="../zh-CN445402/index.html">晚上开火，或为什么要装载产品-不可怕</a></li>
<li><a href="../zh-CN445406/index.html">C ++ Russia 2019程序概述。我们接下来的日子是什么？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>