<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖌️ 🙈 ☘️ 电源模块开发人员。 错误处理 👩🏽‍💼 🎆 👨🏿‍💼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="问候！ 在我以前的文章（ 一 两次 ）中，您熟悉了半桥的电源模块，这使您可以构建几乎任何拓扑的转换器。 我展示了如何快速而又不费力地获得电源转换器的布局并按照想法运行，并在其实现过程中发现了某些缺点。 

 las，即使在相当简单的设备中，也需要对熨斗进行第二次修改，以“清理”特定功能的不良实现，改...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>电源模块开发人员。 错误处理</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434658/"> 问候！ 在我以前的文章（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">一</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">两次</a> ）中，您熟悉了半桥的电源模块，这使您可以构建几乎任何拓扑的转换器。 我展示了如何快速而又不费力地获得电源转换器的布局并按照想法运行，并在其实现过程中发现了某些缺点。 <br><br>  las，即使在相当简单的设备中，也需要对熨斗进行第二次修改，以“清理”特定功能的不良实现，改善布局和设计。 结果，进行了工作以优化技术参数并改善模块的可用性。 今天，在本文中，我将仅向您介绍这些更改，并说明原因，并在本文结尾处看到更新的资源。 走吧 <br><br> <a href=""><img src="https://habrastorage.org/webt/go/w1/bv/gow1bvqvzdybxs94xxigwzryhao.jpeg"></a> <br><br><a name="habracut"></a><br><h2>  1号变更 </h2><br> 在收集布局的过程中，我遇到了极大的不便，即必须将额外的电源+ 3.3V拖到电源板上。 我什至不知道为什么要这样做，我看着电路，但我自己也不了解。）无论如何，决定将模块的电源设为仅12V，板上已经有3.3V的电压。  3.3V总线上的电流消耗约为10 mA，它为晶体管驱动器的逻辑部分，硬件保护逻辑和1个LED供电，因此设置dc / dc在经济上不可行，因此决定使用传统的线性稳压器（LDO）： <br><br> <a href=""><img src="https://habrastorage.org/webt/rw/4n/li/rw4nliora3rkvs9zyryyzn8nn7g.png"></a> <br><br><h2>  2号变更 </h2><br> 该设计的第二次修订版还针对组件成本进行了优化。 决定模块特性的关键组件之一是电源键的驱动器-1EDC60I12AHXUMA1。 这是Infineon的顶级驱动程序，但事实证明它有点多余，或者，我无法在这个概念中意识到自己。 <br><br> 是的，它在打开时有6.8A的大电流，在闭合时有10A的电流，这使您可以在高频下切换相当大的电流。 从理论上讲这很酷，但实际上我遇到了一个频率极限，该频率极限是由与模块连接的电路和电线的虚假参数引起的。 实际的上限在250-300 kHz范围内，最“流行”的工作频率范围约为60 ... 120 kHz，因此决定从同一条线路安装驱动器，但需要较低的开路电流，同时更便宜和可用-1EDC40I12AHXUMA1。 它通常仅在较低电流方面有所不同，实际上，对降压转换器和工作频率高达250 kHz的半桥进行了测试，结果证明该驱动器足以获得最佳损耗，总计约为通道静态电流的15 ... 20％。 而且，这种替换只允许在一个位置上减少$ 6的成本！ 顺便说一句，这名驾驶员以非常优惠的价格在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">DKO Elektronshchik</a>中行驶，尽管200周前的价格为2周前以121卢布的价格售出，但他们迅速进行了抽奖，我本人从贪婪中抢走了其中的50个人。 <br><br> <a href=""><img src="https://habrastorage.org/webt/2k/ah/d8/2kahd83r1nrawo1xpgexetoylvi.png"></a> <br><br> 当然，您可以离开旧的驱动器，但是在俄罗斯联邦，它的成本要高出2倍，尽管这可以使晶体管的总损耗降低约5..10％。 或在模型上使用1EDC40I12AH，并将1EDC60I12AH哥哥投入生产，因为这些驱动器的整个生产线都是引脚对引脚兼容的。 <br><br><h2> 变更编号3 </h2><br> 最深刻的处理是硬件电流保护。 评论中有很多有价值的建议，但<s>不是很</s>忠告和问题，其中一些已被考虑在内，另一部分似乎与我无关。 <br><br> 在这里，我想稍作讨论，并讨论在第一版中进行的微实验。 您还记得，最简单的光耦合器LTV-817用于将功率单元与控制装置解耦（这与“流行”的PC-817相同）。 通常可以在便宜的开关电源（IIPS）的反馈（OS）中找到它，但在不需要特殊性能的电压OS中可以使用它。 我想在硬件电流保护中尝试一下，因为 他有一个不错的价格（约0.03美元），并在实践中观察他的行为。 原则上，他可以在频率高达40 ... 60 kHz的情况下完成任务，随着频率的进一步增加，光耦合器没有时间进行切换（电压缓慢增加），直通电流在2-3个周期内通过按键。 当然，短路电流为10-15A时，只会产生一点热量，并且保护仍将起作用，但是当通过网络供电时，它是100％宽幅-已检查。 我认为该实验是成功的，如果您要制造具有低开关频率的大型设备，则PC817可以处于防御状态，这将节省0.2-0.3美元。 <br><br> 结果，我用更快，但更昂贵且不那么受欢迎的TLP2362代替了这种光耦合器，它的反应响应时间为2 ... 6μs。 <br><br> <a href=""><img src="https://habrastorage.org/webt/sq/fg/5t/sqfg5txrkqexoncrrmfptql9pcw.png"></a> <br><br> 如您所见，一般意识形态保持不变；实现和组件有所变化。 作为电流传感器，在类似于2512的情况下使用2个并联的分流器，实际上它们是Bourns生产的2个精度电阻器，误差为1％，焊接面积更大，耗散功率为3W。 在俄罗斯联邦的商店中，它们的成本约为1-1.5美元，但我在LCSC上订购了1000片，他们可能立即购买了它们，并且余额出现在其网站上，价格为0.05美元或低20倍！ 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">链接</a>股票时可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">稍作选择</a> 。 通常，LCSC上没有这样的特定组件，但是只有当有人订购了很多东西并且商店购买了它们并卖掉了剩菜时才出现。 否则，您将需要订购100多个这样的分流器，然后它们才能为您带来。 <br><br> 使用运算放大器D5放大来自电流传感器的信号，该放大器在20A时将电压升至4V。 然后，使用D6比较器将该信号与参考信号进行比较，如果该信号高于参考信号，则逻辑1出现在D6的输出（引脚1）上，该信号“点亮”光耦合器中的LED。 在这种情况下，光耦合器具有一个反相，即当将log.1应用于光耦合器时，它在输出端给出log.0，并且为了禁用D2和D4驱动器，他们需要将log.1发送到引脚3，事实证明该信号需要反转才能适用逆变器D8。 我们得到的结果是，当保护输出出现错误时，将安装log.1并关闭驱动程序，并且在正常操作期间，输出为保护log.0，这使驱动程序可以正常工作。 <br><br> 当然，也可以不使用反相器，而在比较器上实现``初步反相''，将其打开的方式略有不同，因此，如果超过电流，它将输出log.0，则光耦合器的输出将有log.1，并且可以将D8反相器从电路中移除。 我所做的就是使初学者更容易理解保护的逻辑，因为 这个包容是最明显的，并且逆变器本质上是一个附加的电流放大器，这一点很重要，因为 在错误信号的输出处，有一个LED，2个驱动器微电路以及我们的微控制器，或者您可能决定悬挂其他东西，因此在这里电流裕度不会受到损害。 <br><br> 另外，为方便起见，添加了2个跳线。 第一个（在J1电路上）用于通过电流保护断开信号；默认情况下，此跳线处于关闭状态，并将信号发送至驱动器和PWM控制器/ DSP。 如果出于某种原因需要禁用保护信号或将其带到其他电路，则可以卸下跳线。 第二个（在J2图中）只是分流器放大信号的输出，因此尽管电流隔离是“丢失的”，但可以方便地连接示波器探头或连接当前的OS。 <br><br><h2> 变更编号4 </h2><br> 实际上，这是一组更改，是指布局和连接器的更改。 首先，用于连接到控制板的连接器已从WF-6替换为BH-10，因为 后者使您可以更准确地布置回路，并且组装回路不需要焊接或狡猾的压接。 其次，将散热器从晶体管移开1毫米，即移开陶瓷垫片的厚度，因为 在第一版中，没有考虑到这一点，我不得不强奸晶体管的腿，这是不好的。 第三，将电源总线上的电容器C7-C9距离散热器再移动1毫米，现在散热器和电容器之间的间隙为3毫米。 <br><br> 最后的更改对我而言并不重要，因为 额定电流为20A的散热器并未在+65 <sup>o</sup> C以上的温度下预热，但是有几个人谈到了这一潜在问题，因此决定多花一毫米的纺织品。 <br><br><h2> 变更编号5 </h2><br> 这可能不是更改，而只是替代版本-这次还制作了模块的高压版本。 使用IPP65R225C7XKSA1晶体管，在类似的22x25 mm外壳中使用C7-C9电容器，在400V时容量为100uF。 同样，在电流保护电路中，您只能安装一个分流器，其电阻将为4 mOhm，而不是2，因此，电流截止将为10A而不是20A。 <br><br> 客观上讲，高压模块中的20A不能被挤出，因为 散热器的尺寸将不允许散发如此多​​的热量，并且在10A的电流下，它们已在3 kW chastotnik布局中成功进行了测试。 因此，我们在高压模块中放置了1个晶体管，并已经自己选择了分流器的数量。 原则上，如果将保护设置为20A，则它也将避免短路，并且由于涌入电流很大，因此不会发疯。 另外，没有人禁止在高压模块中上下放两个键，这个地方并没有消失。 <br><br>  dc / dc模块和驱动器之间的距离也增加了，模块的占地面积也固定了。 事实是，起初我是从3dcontent中获取模块外壳（SIP-7）的模型并没有对其进行检查的，结果发现这是一个错误-支脚比实际情况离外壳边缘更远1毫米，因此该模块过盈配合。 现在，模型已修复，间隙增加了3毫米。 <br><br><h2>  PCB订单 </h2><br> 在第一个修订版中，我确定了模块和布局的基本概念，第二个修订版当然在某种程度上改变了模块，但并未在全球范围内进行更改，因此决定一次订购50块板，组装一套完整的模块并将其分发给我的朋友，以测试<s>弯曲的手的</s>可重复性和生存性。 <br><br><img src="https://habrastorage.org/webt/kj/s1/w6/kjs1w6shht-dod1olgmnv6szlqq.jpeg"><br><br> 我自己组装了5个模块：2个低压和3个高压。 我将这样的套件设想为“开发套件”，因为 它使您不仅可以组装一个单独的转换器，还可以组装整个设备，例如，我已经在一个稳压器（3个高压半桥），一个变频器上进行了流利的测试，现在我在一个逆变器上工作，该逆变器是2个低压模块，可以通过以下方式将24V增加到+ -380V：一个桥电路和一个半桥，用于从双极性电压中提取一个正弦（我打算写这篇文章）。 因此，如果您打算彻底研究电力电子设备，请组装相同的套件，当然要“足够尝试”。 <br><br><img src="https://habrastorage.org/webt/w0/ns/hr/w0nshra5c_1f75i9cur-jbwlhme.jpeg"><br><br> 我在PCBway上订购了电路板，并得到以下价格标签： <br><br> <a href=""><img src="https://habrastorage.org/webt/ki/do/0z/kido0zxkaq6zhp3xdmodxitzujc.png"></a> <br><br> 顺序中有2个板，但是可以看出，模块本身的成本为64美元，即每个板的成本为1.28美元/个。 交付所有东西的费用为13美元，我想如果您扔掉第二套板子，则可以支付10美元。 板子的总成本出来了1.48美元/个。 你可以燃烧而不沮丧）） <br><br> 下次我打算尝试订购PCBway和电路板，组件以及安装。 有趣的是，最终是否可以节省购买零件的费用。 与LCSC不同，PCBway本身是通过Digikey，Mouser和Arrow购买的（这些分销商带来更多信心），因此您可以一次购买所有产品。 按照相同的顺序，晶体管和驱动器来自电子工程师，其余的LCSC带来不便，为3项交货（费用+ 2个元件商店）付款无利可图，您可以节省20-30美元。 如果有趣的话，我可以编写此过程的“教程”并准备文档包。 <br><br><h2> 如何获得董事会？ </h2><br> 许多人在PM中对此进行了询问，并在评论中用模糊的“稍后”回答，并且只是反击了源代码的分发，这些内容附在文章的末尾。 不幸的是，对于第一个修订版，我不是100％肯定的，所以我要求等待其磨合和第二修订版。  “第二修订版”已经到来，我将描述各种方式： <br><br><ul><li> 以Gerber文件的形式获取源代码，然后发送给您最喜欢的制造商。 是的，我不限制您进行特定的制作，一切都是开放和民主的。 也许您会发现较低的价格，或者想要美国而不是中国的董事会。 如果某处的订单有困难，那么您也可以问我，我将尽力提供帮助； </li><li> 一键订购PCBway- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">order</a> 。 您可以从文章中的照片中看到所获得的电路板的质量，制造商也不会混淆电路板上的切口，因为其他人有问题，他们只是没有在驱动器和dc / dc模块下进行隔离切割； </li><li> 我还剩下大约30个板，原则上我可以共享它们。 唯一的要求是，如果您可以自己订购，那么订购5板的价格为12美元，包括运费。 如果由于某种原因您无法订购自己的商品，请写信-我将通过邮件发送给您。 </li></ul><br><h2> 电源模块的电源 </h2><br> 这次您不仅可以在pdf和gerber文件中看到该方案，还可以在Altium Designer中看到源项目。 您可以进行任何更改或更换组件，例如，突然想要在TO-247中放入晶体管，如果需要的话就放上它。 评论中有很多建议和不同的技巧，以客观地实现它们都是行不通的，因为 有时他们彼此矛盾，我根本没有车，所以现在您有机会自己添加所有心愿单，并向所有人展示如何做。 <br><br><ul><li> 电路图<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-PDF</a> </li><li> 组件列表（BOM） <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-Excel</a> </li><li>  PCB Gerber文件<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-RAR</a> </li><li>  Altium Designer中的源代码<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-RAR</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN434658/">https://habr.com/ru/post/zh-CN434658/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN434648/index.html">英语注释1：以“ very”结尾</a></li>
<li><a href="../zh-CN434650/index.html">现在正式。 对于互联网上的极端主义，刑事责任被废除（首次）</a></li>
<li><a href="../zh-CN434652/index.html">与家人一起进行IT移民。 特别是当您已经在德国一个小城市中寻找工作时</a></li>
<li><a href="../zh-CN434654/index.html">科学即将将Twitter正确地转化为您的大脑</a></li>
<li><a href="../zh-CN434656/index.html">南非ESET数据库中的许可证泄漏</a></li>
<li><a href="../zh-CN434660/index.html">如何评估引入昂贵系统的成本效益并在管理之前证明预算合理性</a></li>
<li><a href="../zh-CN434662/index.html">产品与 项目：经常混淆的职业之间有什么区别</a></li>
<li><a href="../zh-CN434664/index.html">几乎工程汉堡的方法</a></li>
<li><a href="../zh-CN434666/index.html">现代加密货币市场上的游戏规则</a></li>
<li><a href="../zh-CN434670/index.html">年度报告Habrapost-2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>