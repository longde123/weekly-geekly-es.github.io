<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßñüèª üçâ üë®üèª‚ÄçüöÄ Exp√©rience VonmoTrade. Partie 3: Livre des mandats. Traitement et stockage des informations commerciales ‚òëÔ∏è üõÅ üóª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans le dernier article du cycle, nous nous sommes familiaris√©s avec les types d'ordres de change. Aujourd'hui, nous analyserons le livre des commande...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Exp√©rience VonmoTrade. Partie 3: Livre des mandats. Traitement et stockage des informations commerciales</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482254/"><p><img src="https://habrastorage.org/webt/lv/ju/tn/lvjutn5seci4yo6l0tjwdpzp2hc.jpeg"></p><br><p>  Dans le <a href="https://habr.com/ru/post/481772/">dernier article du</a> cycle, nous nous sommes familiaris√©s avec les types d'ordres de change.  Aujourd'hui, nous analyserons le livre des commandes, le traitement des demandes et les questions li√©es √† l'organisation du stockage des informations commerciales. </p><a name="habracut"></a><br><h2 id="spros-i-predlozhenie">  Offre et demande </h2><br><p>  Vous vous souvenez s√ªrement de la loi de l'offre et de la demande au cours de l'√©conomie, qui montre la m√©canique du march√© pour la formation des prix: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k3/wd/4f/k3wd4fqvwmpscyvlwrzwunvga2s.png"></div><br><p>  La m√™me m√©canique travaille sur les √©changes. </p><br><p>  Le carnet de commandes est une liste dans laquelle les commandes limit√©es des vendeurs et des acheteurs sont saisies, montrant ainsi l'int√©r√™t actuel pour un instrument financier particulier. </p><br><p>  Si vous convertissez le graphique pr√©c√©dent par rapport au carnet de commandes, vous obtenez quelque chose comme ceci: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kp/eg/xa/kpegxayhhmx9tshlntcmgdkaxtw.jpeg"></div><br><p>  Nous voyons ici que le prix du march√© est obtenu lorsque le prix de demande maximum et le prix d'offre minimum sont √©gaux.  L'√©cart est la diff√©rence entre ces prix.  Il s'agit d'un indicateur important, car il est associ√© √† la liquidit√© de l'instrument.  Plus l'√©cart est petit, plus l'instrument est liquide.  Pour assurer la liquidit√© dans le cadre des √©changes, ils imposent souvent une limite √† l'√©cart maximum, au-dessus duquel les √©changes peuvent √™tre interrompus. </p><br><h2 id="sozdanie-zayavok">  Cr√©ation d'applications </h2><br><p>  Consid√©rez le cycle de vie d'une demande depuis l'admission √† l'√©change jusqu'√† son ex√©cution ou son annulation.  Pour simplifier, nous consid√©rerons le cas du march√© des changes.  Un processus sp√©cial est responsable de la logique de traitement des ordres, appelons-le contr√¥leur de march√©. </p><br><p>  Ainsi, le participant cr√©e une application, il arrive √† l'√©change.  Le responsable du traitement doit s'assurer que le participant dispose de suffisamment de liquidit√©s pour cr√©er le type d'ordre demand√©.  La source d'informations peut √™tre un service de comptabilit√© interne ou toute API externe. </p><br><p>  Pour l'ex√©cution imm√©diate de cette application, une contre-application dite appari√©e doit exister sur le march√©. </p><br><p>  S'il y a un contre-ordre, de la paire trouv√©e, le plus petit ordre est ex√©cut√© en totalit√© et le plus grand en partie.  Bien s√ªr, si une ex√©cution partielle est autoris√©e par les instructions de trading de l'application.  En l'absence de contre-commande, une nouvelle commande entre dans le carnet de commandes et prend sa place dans la liste des commandes de son type. </p><br><p>  √âtant donn√© que seules les commandes en attente entrent dans le carnet de commandes, pour les commandes d'autres types, vous devez s√©lectionner vos listes. </p><br><p>  Dans toutes les listes de commandes, le c√¥t√© achat doit √™tre tri√© par ordre d√©croissant et le c√¥t√© vente doit √™tre tri√© par ordre croissant.  Le premier √©l√©ment de la liste des ordres √† cours limit√© pour chaque c√¥t√© constitue respectivement le meilleur prix de l'offre et de la demande. </p><br><p>  Un autre point important est l'ordre d'ex√©cution.  Le contr√¥leur doit impl√©menter FIFO.  Par cons√©quent, si les prix des deux offres co√Øncident, l'offre cr√©√©e pr√©c√©demment devrait √™tre plus √©lev√©e. </p><br><p>  Dans l'interface utilisateur, le livre ressemble √† un tableau compos√© d'un ensemble de niveaux de prix, qui pr√©sente des ordres √† cours limit√© pour l'achat et la vente. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sf/ea/sq/sfeasqf4984trxw4f22naanwgps.png"></div><br><p>  Pour une distinction visuelle suppl√©mentaire, les demandes de vente et d'achat ont des couleurs diff√©rentes. </p><br><h2 id="agregirovanie-urovney">  Agr√©gation de niveaux </h2><br><p>  Profondeur du livre - Le nombre de niveaux de prix.  Pour les march√©s actifs avec un grand nombre d'ordres en attente, s√©par√©s par une distance minimale, la profondeur peut √™tre tr√®s grande pour √™tre affich√©e dans le terminal du trader.  Pour √©valuer l'ensemble du livre, vous avez besoin d'un outil de mise √† niveau. </p><br><p>  En coupant une d√©cimale et en regroupant les niveaux, nous pouvons r√©duire leur nombre √† chaque √©tape. </p><br><h2 id="vypolnenie-i-otmena-zayavok">  Ex√©cution et annulation des candidatures </h2><br><p>  Une fois la commande dans le livre ex√©cut√©e ou annul√©e, le responsable du traitement doit mettre √† jour le livre en supprimant cette commande et en informant toutes les personnes int√©ress√©es par les modifications du livre. </p><br><h2 id="arhitektura-i-masshtabirovanie-obrabotchikov">  Architecture et mise √† l'√©chelle du gestionnaire </h2><br><p>  Compte tenu des performances et de la fiabilit√© requises, il est n√©cessaire de d√©terminer des approches pour faire √©voluer les applications et les syst√®mes de stockage. </p><br><p>  En r√®gle g√©n√©rale, les √©changes utilisent une mise √† l'√©chelle verticale.  Le code de traitement des applications et des comptes d'utilisateurs est ex√©cut√© sur une seule machine dans un seul monolithe.  Une telle approche montre de bonnes performances, mais a une limitation importante - dans tous les cas, la mise √† l'√©chelle verticale a une limite, √† la fois en termes de puissance du processeur et de capacit√© de stockage. </p><br><p>  Dans le cadre de l'exp√©rience, j'ai d√©cid√© que le traitement du march√© devrait √©voluer horizontalement.  Chaque outil individuel est trait√© par son propre processus.  Les processus sont r√©partis automatiquement entre les n≈ìuds de cluster.  En cas d'√©chec, le march√© est transf√©r√© vers un autre n≈ìud sans perte de statut. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cq/zt/id/cqztidkf705boagoxloher7o1to.png"></div><br><p>  La formule du syst√®me est extr√™mement simple: M gestionnaires sont r√©partis sur K n≈ìuds du cluster et utilisent L stockages de donn√©es. <br>  Un sch√©ma similaire vous permet de faire √©voluer le syst√®me √† environ 150 n≈ìuds.  Et chaque contr√¥leur de march√© peut g√©rer environ 30 000 RPS. </p><br><p>  √âtant donn√© que le flux d'applications sur tous les march√©s est diff√©rent et d√©pend de l'activit√© des utilisateurs, les march√©s peuvent √™tre divis√©s en plusieurs groupes: petits, moyens et grands.  Chaque n≈ìud a des param√®tres qui vous permettent de sp√©cifier des limites sur le nombre de march√©s qu'il peut traiter.  L'assistant r√©partit automatiquement et uniform√©ment les march√©s du m√™me type entre les n≈ìuds de cluster.  En cas de modification de la composition des clusters, les march√©s sont redistribu√©s.  Ainsi, une distribution plus ou moins uniforme de la charge sur le syst√®me est obtenue. </p><br><p>  Un exemple de vue des n≈ìuds dans l'interface de gestion des √©changes: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m2/bj/p_/m2bjp_piybni9hzrwneo9lo9yju.png"></div><br><h2 id="hranenie-dannyh">  Stockage de donn√©es </h2><br><p>  Le carnet de commandes est en constante √©volution et doit √™tre conserv√© en m√©moire.  Pour MVP, j'ai choisi Tarantool avec WAL comme stockage en m√©moire.  Toutes les donn√©es historiques seront enregistr√©es dans PostgreSQL. </p><br><p>  Le sch√©ma de stockage des donn√©es actuelles et historiques doit correspondre au sch√©ma s√©lectionn√© pour la mise √† l'√©chelle du code des gestionnaires.  Chaque march√© peut utiliser ses propres postgres et tarantool.  Pour ce faire, combinez la paire de postgresql et tarantool en une seule entit√© - un entrep√¥t de donn√©es de march√©. </p><br><p>  Lors de la mise en place du march√©, l'administrateur a la possibilit√© de g√©rer des r√©f√©rentiels.  Pour maintenir la flexibilit√©, au lieu d'acc√©der √† des instances sp√©cifiques de postgresql et tarantool, nous sp√©cifierons un identifiant de pool de connexions unique.  L'interface de ces pools est prise en charge par la plateforme.  Ainsi, le r√©f√©rentiel dans l'interface d'administration ressemble √† ceci: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ow/es/qq/owesqqyxx3_unguebi8nv4yjxt0.png"></div><br><p>  Lors de la configuration d'un march√©, l'administrateur doit sp√©cifier au moins un magasin pour chaque march√©.  Si vous en sp√©cifiez quelques-uns, vous obtenez un march√© avec une r√©plication logique des donn√©es.  Cette fonctionnalit√© vous permet de configurer la fiabilit√© et les performances d'un sch√©ma de stockage. </p><br><h2 id="dannye-knigi-orderov">  Donn√©es du carnet de commandes </h2><br><p>  Tarantool utilise l'espace pour organiser les donn√©es stock√©es.  La d√©claration des espaces requis pour le carnet de commandes est la suivante: </p><br><pre><code class="lua hljs">book = { state = { name = <span class="hljs-string"><span class="hljs-string">'book_state'</span></span>, id = <span class="hljs-number"><span class="hljs-number">1</span></span>, }, orders = { limit = { buy_orders = { name = <span class="hljs-string"><span class="hljs-string">'limit_buy_orders'</span></span>, id = <span class="hljs-number"><span class="hljs-number">10</span></span>, }, sell_orders = { name = <span class="hljs-string"><span class="hljs-string">'limit_sell_orders'</span></span>, id = <span class="hljs-number"><span class="hljs-number">20</span></span>, }, }, market = { buy_orders = { name = <span class="hljs-string"><span class="hljs-string">'market_buy_orders'</span></span>, id = <span class="hljs-number"><span class="hljs-number">30</span></span>, }, sell_orders = { name = <span class="hljs-string"><span class="hljs-string">'market_sell_orders'</span></span>, id = <span class="hljs-number"><span class="hljs-number">40</span></span>, }, }, ... }, orders_mapping = { name = <span class="hljs-string"><span class="hljs-string">'orders_mapping'</span></span>, id = <span class="hljs-number"><span class="hljs-number">50</span></span>, }, }</code> </pre> <br><p>  √âtant donn√© que plusieurs march√©s peuvent stocker leurs donn√©es sur une seule instance de tarantool, nous ajouterons un identifiant de march√© √† toutes les entit√©s.  La mise en ≈ìuvre actuelle du livre est construite sur le principe de compter une fois, de donner plusieurs fois.  Lors des op√©rations de mise √† jour des livres, les regroupements sont automatiquement recompt√©s.  Par exemple, nous ajoutons une commande au march√©, la pr√©cision des prix est de 6, il existe 6 groupes de prix possibles + une tranche avec les donn√©es de commande d'origine qui doivent √™tre mises √† jour. </p><br><p>  Il existe de nombreuses commandes Orders_Mapping pour √©mettre des listes de commandes client actives. </p><br><p>  Gr√¢ce au mod√®le de donn√©es tarantool, utilisant une combinaison d'indices et de divers it√©rateurs d'√©chantillonnage, le code lua qui impl√©mente le stockage du carnet de commandes ne prend que 600 lignes (avec l'initialisation). </p><br><h2 id="istoricheskie-dannye">  Donn√©es historiques </h2><br><p>  Les donn√©es du march√© sont stock√©es dans des tableaux s√©par√©s pour chaque march√©.  Consid√©rons un ensemble de tables de base. </p><br><h3 id="istoriya-vypolnennyh-zayavok">  Historique des candidatures compl√©t√©es </h3><br><p>  Pour enregistrer les r√©sultats du traitement des demandes, utilisez la table d'historique.  Il comprend les demandes enti√®rement remplies, ainsi que les demandes annul√©es, mais partiellement compl√©t√©es. </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> public.history ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uuid</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, ts <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">without</span></span> <span class="hljs-built_in"><span class="hljs-built_in">time</span></span> zone <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">now</span></span>(), owner <span class="hljs-built_in"><span class="hljs-built_in">character</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varying</span></span>(<span class="hljs-number"><span class="hljs-number">75</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> pg_catalog.<span class="hljs-string"><span class="hljs-string">"default"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, order_type <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, order_side <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, price <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, qty <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, commission <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, opts jsonb <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> history_pkey PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, ts) )</code> </pre> <br><p>  Sur sa base, l'√©mission pour les utilisateurs finaux est bas√©e sur l'historique de leurs offres. </p><br><h3 id="istoricheskiy-datafid">  Flux de donn√©es historiques </h3><br><p>  √Ä des fins d'analyse, ainsi que pour la formation d'un flux de donn√©es historiques, apr√®s chaque transaction, le contr√¥leur de march√© doit enregistrer des informations sur cet √©v√©nement.  Pour corriger les √©v√©nements de changements du march√©, utilisez le tableau des ticks: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> public.ticks ( ts <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">without</span></span> <span class="hljs-built_in"><span class="hljs-built_in">time</span></span> zone <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, bid <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, ask <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">last</span></span> <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, bid_vol <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), ask_vol <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), last_vol <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), opts jsonb <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'{}'</span></span>::jsonb, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> ticks_pk PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (ts) )</code> </pre> <br><p>  Il stocke les prix et les volumes du march√© apr√®s la transaction, et le champ opts contient des informations de service, telles qu'une description des commandes impliqu√©es dans la transaction. </p><br><h3 id="datafid-dlya-grafikov">  Flux de donn√©es du graphique </h3><br><p>  Pour construire des graphiques de trading, le tableau des ticks suffit.  Il contient ce que l'on appelle le flux brut, mais postgresql poss√®de de puissantes fonctions analytiques et vous permet d'agr√©ger des donn√©es √† la demande. </p><br><p>  Les probl√®mes commencent lorsqu'il y a trop de donn√©es et qu'il n'y a d√©j√† pas assez de puissance.  Pour r√©soudre, cr√©ez un tableau avec des donn√©es pr√©-calcul√©es: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> public.df ( t <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">without</span></span> <span class="hljs-built_in"><span class="hljs-built_in">time</span></span> zone <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, r df_resolution <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'1m'</span></span>::df_resolution, o <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), h <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), l <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), c <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), v <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> df_pk PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (t, r) )</code> </pre> <br><p>  Nous expliquerons comment travailler avec des s√©ries chronologiques dans Postgresql, pr√©parer des donn√©es pour la table df et comment cr√©er des graphiques dans le prochain article. </p><br><h2 id="itog">  R√©sum√© </h2><br><p>  Nous avons compris les principaux points de l'organisation du livre des commandes et du m√©canisme de traitement des commandes, ainsi qu'un peu plong√© dans la pratique du travail avec les donn√©es du march√©. </p><br><p>  Le sch√©ma de stockage s√©lectionn√© vous permet de partir d'un magasin pour tous les march√©s et, √† mesure que le projet se d√©veloppe, de r√©partir les march√©s dans diff√©rents magasins, en les pla√ßant le plus pr√®s possible des processeurs de march√©. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr482254/">https://habr.com/ru/post/fr482254/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr482240/index.html">Nous d√©montons les premiers appareils TP-Link avec Wi-Fi 6: routeur Archer AX6000 et adaptateur Archer TX3000E</a></li>
<li><a href="../fr482244/index.html">R√©sultats des tests de cam√©ras aveugles: iPhone, Pixel, Huawei, Samsung</a></li>
<li><a href="../fr482246/index.html">R√©ponses correctes et annonce du gagnant</a></li>
<li><a href="../fr482250/index.html">Une machine d'√©tat simple pour VueJS</a></li>
<li><a href="../fr482252/index.html">Toilette automatique pour chats - suite</a></li>
<li><a href="../fr482256/index.html">L'IA et l'avenir du travail: perspectives d'emploi dans un avenir proche</a></li>
<li><a href="../fr482258/index.html">Comment fonctionnent les r√©seaux de neurones et pourquoi ils ont commenc√© √† rapporter beaucoup d'argent</a></li>
<li><a href="../fr482260/index.html">TelegramBot. La fonctionnalit√© de base. Autocollants et √©motic√¥nes. (Partie 3)</a></li>
<li><a href="../fr482262/index.html">Comment se connecter √† Talend Open Studio</a></li>
<li><a href="../fr482264/index.html">Br√©sil, magie noire, Mortal Kombat, Mars et 15 000 personnes. R√©sultats de l'ann√©e Ontiko</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>