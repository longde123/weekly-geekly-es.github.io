<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∑ üë®‚Äçüíª üåßÔ∏è Formation Cisco 200-125 CCNA v3.0. Jour 37. STP: S√©lection du pont racine, fonctions de protection PortFast et BPDU. 2e partie ‚ôèÔ∏è ‚õµÔ∏è üöµüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Supposons que STP soit dans un √©tat de convergence. Que se passe-t-il si je prends le c√¢ble et connecte le commutateur H directement au commutateur ra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formation Cisco 200-125 CCNA v3.0. Jour 37. STP: S√©lection du pont racine, fonctions de protection PortFast et BPDU. 2e partie</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466425/"> Supposons que STP soit dans un √©tat de convergence.  Que se passe-t-il si je prends le c√¢ble et connecte le commutateur H directement au commutateur racine A?  Root Bridge ¬´voit¬ª qu'il a un nouveau port activ√© et envoie un BPDU dessus. <br><br><img src="https://habrastorage.org/webt/gb/xf/nx/gbxfnxwkx_0wqivijpl1vcbxxic.jpeg"><br><br>  Le commutateur H, ayant re√ßu cette trame avec un co√ªt nul, d√©terminera le co√ªt de la route via le nouveau port comme 0 + 19 = 19, tandis que le co√ªt de son port racine est de 76. Apr√®s cela, le port du commutateur H, qui √©tait auparavant d√©sactiv√©, passera par toutes les √©tapes de la transition et passe en mode de transfert apr√®s seulement 50 secondes.  Si d'autres appareils sont connect√©s √† ce commutateur, alors tous perdront la connexion avec le commutateur racine et avec le r√©seau dans son ensemble pendant 50 secondes. <a name="habracut"></a><br><br>  Le commutateur G se comporte de la m√™me mani√®re, recevant une trame BPDU avec une notification de prix 19 du commutateur H.Il modifie la valeur de son port affect√© √† 19 + 19 = 38 et le r√©affecte en tant que nouveau port racine, car la valeur de son ancien port racine est 57, plus de 38. Dans le m√™me temps, toutes les √©tapes de r√©attribution de port d'une dur√©e de 50 secondes recommencent et, finalement, tout le r√©seau s'effondre. <br><br><img src="https://habrastorage.org/webt/7i/zg/pd/7izgpd1gse7cxs-ex8tutsnbice.jpeg"><br><br>  Voyons maintenant ce qui se passera dans une situation similaire lors de l'utilisation de RSTP.  Le commutateur racine enverra √©galement BPDU au commutateur H qui lui est connect√©, mais imm√©diatement apr√®s, il bloquera son port.  Apr√®s avoir re√ßu cette trame, le commutateur N d√©terminera que cette route a un co√ªt inf√©rieur √† son port racine et la bloquera imm√©diatement.  Apr√®s cela, N enverra la proposition de commutateur racine avec une demande d'ouverture d'un nouveau port, car son co√ªt est inf√©rieur au co√ªt du port racine existant.  Une fois que le commutateur racine a accept√© la demande, il d√©verrouille son port et envoie l'accord au commutateur H, apr√®s quoi ce dernier fera du nouveau port son port racine. <br><br><img src="https://habrastorage.org/webt/x_/ep/dr/x_epdroynd-6-f1qlhdls_lfing.jpeg"><br><br>  De plus, gr√¢ce au m√©canisme de proposition / accord, la r√©affectation du port racine se fera presque instantan√©ment, et tous les appareils connect√©s au commutateur H ne perdront pas la connexion avec le r√©seau. <br>  En attribuant un nouveau port racine, le commutateur H transformera l'ancien port racine en un port alternatif.  La m√™me chose se produira avec le commutateur G - il √©changera des messages de proposition / accord avec le commutateur H, assignera un nouveau port racine et bloquera les autres ports.  Ensuite, le processus se poursuivra dans le segment de r√©seau suivant avec le commutateur F. <br><br><img src="https://habrastorage.org/webt/le/dc/mi/ledcmit2scjkqd15ymdhwe_pusw.jpeg"><br><br>  Le commutateur F, apr√®s avoir analys√© les co√ªts, verra que la route vers le commutateur racine via le port inf√©rieur co√ªtera 57, tandis que la route existante via le port sup√©rieur co√ªtera 38, et laisse tout tel quel.  En apprenant cela, le commutateur G bloquera le port face √† F et acheminera le trafic vers le commutateur racine le long de la nouvelle route GHA. <br><br>  Jusqu'√† ce que le commutateur F re√ßoive une proposition / un accord du commutateur G, il gardera son port inf√©rieur bloqu√© pour √©viter les boucles.  Ainsi, vous pouvez voir que RSTP est un protocole tr√®s rapide qui ne cr√©e pas les probl√®mes typiques de STP sur le r√©seau. <br>  Passons maintenant √† l'examen des √©quipes.  Vous devez entrer dans le mode de configuration globale du commutateur et s√©lectionner le mode PVST ou RPVST √† l'aide de la commande spanning-tree mode &lt;pvst / rpvst&gt;.  Ensuite, vous devez d√©cider comment modifier la priorit√© d'un VLAN particulier.  Pour ce faire, utilisez la commande spanning-tree vlan &lt;num√©ro VLAN&gt; priorit√© &lt;valeur&gt;.  Dans le dernier didacticiel vid√©o, vous devez vous rappeler que la priorit√© est un multiple de 4096, et par d√©faut ce nombre est 32768 plus le num√©ro VLAN.  Si vous s√©lectionnez VLAN1, la priorit√© par d√©faut sera 32768 + 1 = 32769. <br><br><img src="https://habrastorage.org/webt/ds/dg/xv/dsdgxvuxv7_csffcqnmtdpfbmea.jpeg"><br><br>  Pourquoi pourriez-vous avoir besoin de changer la priorit√© des r√©seaux?  Nous savons qu'un BID se compose d'une valeur de priorit√© num√©rique et d'une adresse MAC.  L'adresse MAC de l'appareil ne peut pas √™tre modifi√©e, elle a une valeur constante, vous ne pouvez donc modifier que la valeur de priorit√©. <br><br>  Supposons qu'il existe un grand r√©seau o√π tous les p√©riph√©riques Cisco sont connect√©s selon un mod√®le circulaire.  Dans ce cas, PVST est activ√© par d√©faut, donc le commutateur racine sera s√©lectionn√© par le syst√®me.  Si tous les appareils ont la m√™me priorit√©, le commutateur avec l'adresse MAC la plus ancienne aura un avantage.  Cependant, il peut s'agir d'un commutateur h√©rit√© √¢g√© de 10 √† 12 ans, qui n'a m√™me pas la puissance et les performances pour ¬´diriger¬ª un r√©seau aussi √©tendu. <br>  Dans le m√™me temps, votre r√©seau peut disposer du dernier commutateur pour plusieurs milliers de dollars, ce qui, en raison de la plus grande adresse MAC, est oblig√© ¬´d'ob√©ir¬ª √† l'ancien commutateur au prix de quelques centaines de dollars.  Si l'ancien commutateur devient le commutateur racine, cela indique une grave erreur de conception du r√©seau. <br><br>  Par cons√©quent, vous devez entrer dans les param√®tres du nouveau commutateur et lui affecter une valeur de priorit√© minimale, par exemple, 0. Lorsque vous utilisez VLAN1, la valeur de priorit√© totale sera 0 + 1 = 1, et tous les autres appareils le consid√©reront toujours comme le commutateur racine. <br><br>  Imaginez maintenant une telle situation.  Si, pour une raison quelconque, le commutateur racine devient indisponible, vous souhaiterez peut-√™tre que le nouveau commutateur racine ne soit pas un commutateur avec la priorit√© la plus basse, mais un commutateur sp√©cifique avec les meilleures fonctionnalit√©s r√©seau.  Dans ce cas, dans les param√®tres du pont racine, une commande est utilis√©e qui affecte les commutateurs racine principal et secondaire: spanning-tree vlan &lt;num√©ro de r√©seau VLAN&gt; racine &lt;primaire / secondaire&gt;.  La valeur de priorit√© pour le commutateur primaire primaire sera 32768 - 4096 - 4096 = 24576. Pour le commutateur secondaire secondaire, elle est calcul√©e par la formule 32768 - 4096 = 28672. <br><br>  Vous ne pouvez pas saisir ces num√©ros manuellement - le syst√®me le fera automatiquement pour vous.  Ainsi, le commutateur racine aura la priorit√© 24576, et s'il n'est pas disponible, le commutateur avec la priorit√© 28672, tandis que la priorit√© de tous les autres commutateurs est au moins 32 768 par d√©faut. Cela doit √™tre fait si vous ne souhaitez pas que le syst√®me attribue automatiquement le commutateur racine. <br><br>  Si vous souhaitez voir les param√®tres STP, vous devez utiliser la commande show spanning-tree summary.  Voyons maintenant tous les sujets que nous avons appris aujourd'hui avec Packet Tracer.  J'utilise la topologie r√©seau de 4 commutateurs mod√®le 2690, cela n'a pas d'importance, car tous les mod√®les de commutateurs Cisco prennent en charge STP.  Ils sont connect√©s les uns aux autres afin que le r√©seau forme un cercle vicieux. <br><br>  Par d√©faut, les appareils Cisco fonctionnent en mode PSTV +, c'est-√†-dire que chaque port ne mettra pas plus de 20 secondes √† converger.  Le panneau de simulation vous permet d'afficher l'envoi de trafic et de visualiser les param√®tres de fonctionnement du r√©seau cr√©√©. <br><br><img src="https://habrastorage.org/webt/_u/1w/wo/_u1wworrzyuxdfrdbw-puoxbjry.jpeg"><br><br>  Vous voyez ce qu'est la trame BPDU STP.  Si vous voyez la d√©signation version 0, alors vous avez STP, car la version 2 est utilis√©e pour RSTP. Voici √©galement la valeur d'ID racine, compos√©e de la priorit√© et de l'adresse MAC du commutateur racine, et la valeur d'ID de pont √©gale √† celle-ci. <br><br><img src="https://habrastorage.org/webt/wd/gt/ic/wdgticvk35on9102-mcjwf4hlxg.jpeg"><br><br>  Ces valeurs sont √©gales, puisque le co√ªt de la route vers le commutateur racine pour SW0 est 0, par cons√©quent, c'est lui-m√™me le commutateur racine.  Ainsi, apr√®s avoir activ√© les commutateurs en raison de l'utilisation de STP, le pont racine a √©t√© automatiquement s√©lectionn√© et le r√©seau a fonctionn√©.  Vous voyez que pour √©viter une boucle, le port sup√©rieur Fa0 / 2 du commutateur SW2 a √©t√© r√©gl√© sur Blocking, comme indiqu√© par la couleur orange du marqueur. <br><br><img src="https://habrastorage.org/webt/jr/mn/_w/jrmn_w7vygcm2sjvmnvddla6sq8.jpeg"><br><br>  Allons √† la console des param√®tres du commutateur SW0 et utilisons quelques commandes.  La premi√®re est la commande show spanning-tree, apr√®s √™tre entr√©e √† l'√©cran, nous afficherons des informations sur le mode PSTV + pour VLAN1.  Si nous utilisons plusieurs VLAN, un autre bloc d'informations pour le deuxi√®me et les r√©seaux utilis√©s suivants appara√Ætra en bas de la fen√™tre. <br><br><img src="https://habrastorage.org/webt/02/ng/ir/02ngirpnlpfjjtx9lkoahvledbi.jpeg"><br><br>  Vous pouvez voir que le protocole STP est disponible selon la norme IEEE, ce qui signifie l'utilisation de PVSTP +.  Techniquement, ce n'est pas une norme .1d.  Les informations d'ID racine sont √©galement fournies ici: priorit√© 32769, adresse MAC du p√©riph√©rique racine, co√ªt 19, etc.  Voici les informations de Bridge ID, dans lesquelles la valeur de priorit√© 32768 +1 est d√©crypt√©e et une adresse MAC diff√©rente suit.  Comme vous pouvez le voir, je me suis tromp√© - le commutateur SW0 n'est pas un commutateur racine, le commutateur racine a une adresse MAC diff√©rente donn√©e dans les param√®tres Root ID.  Je pense que cela est d√ª au fait que SW0 a re√ßu une trame BPDU avec des informations selon lesquelles certains commutateurs du r√©seau ont de bonnes raisons de jouer le r√¥le de racine.  Nous allons maintenant l'examiner. <br><br>  (Note du traducteur: Root ID est l'identifiant du commutateur racine qui est le m√™me pour tous les appareils du m√™me VLAN fonctionnant via STP, Bridge ID est l'identifiant du commutateur local dans le cadre de Root Bridge, qui peut √™tre diff√©rent pour diff√©rents commutateurs et diff√©rents VLAN). <br><br>  Une autre circonstance qui indique que SW0 n'est pas un commutateur racine est que le commutateur racine n'a pas de port racine, et dans ce cas, il y a √† la fois un port racine et un port d√©sign√©, qui sont √† l'√©tat de transmission.  Vous voyez √©galement le type de connexion p2p, ou point √† point.  Cela signifie que les ports fa0 / 1 et fa0 / 2 sont directement connect√©s aux commutateurs voisins. <br>  Si un port √©tait connect√© au concentrateur, le type de connexion serait d√©sign√© comme partag√©, nous y r√©fl√©chirons plus tard.  Si j'entre la commande pour visualiser les informations r√©capitulatives du r√©sum√© de show spanning-tree, nous verrons que ce commutateur est en mode PVSTP, puis la liste des fonctions de port inaccessibles est r√©pertori√©e. <br><br><img src="https://habrastorage.org/webt/oq/v6/sb/oqv6sb8fuljx0vzdgk43bigsfb8.jpeg"><br><br>  Ce qui suit montre l'√©tat et le nombre de ports desservant VLAN1: blocage 0, √©coute 0, apprentissage 0, dans l'√©tat de transmission en mode STP, il y a 2 ports. <br>  Avant de passer au commutateur SW2, examinons les param√®tres du commutateur SW1.  Pour ce faire, nous utilisons la m√™me commande show spanning-tree. <br><br><img src="https://habrastorage.org/webt/yz/yb/f7/yzybf7phzs61b09drhqgnvig1ig.jpeg"><br><br>  Vous pouvez voir que l'adresse MAC de l'ID racine du commutateur SW1 est la m√™me que pour SW0, car tous les p√©riph√©riques du r√©seau obtiennent la m√™me adresse de p√©riph√©rique de pont racine lors de la convergence, car ils font confiance au choix effectu√© par le protocole STP.  Comme vous pouvez le voir, SW1 est le commutateur racine, car les adresses Root ID et Bridge ID sont les m√™mes.  De plus, il y a un message "ce commutateur est la racine". <br><br>  Un autre signe du commutateur racine est qu'il n'a pas de ports racine, les deux ports sont d√©sign√©s comme d√©sign√©s.  Si tous les ports sont indiqu√©s comme d√©sign√©s et sont en √©tat de transfert, vous disposez du commutateur racine. <br><br>  Le commutateur SW3 contient des informations similaires, et maintenant je passe √† SW2 car l'un de ses ports est en √©tat de blocage.  J'utilise la commande show spanning-tree et nous voyons que les informations d'ID racine et la valeur de priorit√© sont les m√™mes que les autres commutateurs. <br>  Ce qui suit indique que l'un des ports est Alternative.  Ne vous inqui√©tez pas, la norme 802.1d l'appelle le port de blocage et dans PVSTP, un port bloqu√© est toujours appel√© Alternative.  Ainsi, ce port Fa0 / 2 alternatif est dans un √©tat bloqu√© et le port Fa0 / 1 agit comme un port racine. <br><br>  Le port bloqu√© est situ√© dans le segment de r√©seau entre le commutateur SW0 et le commutateur SW2, de sorte que nous ne formons pas de boucle.  Comme vous pouvez le voir, les commutateurs utilisent une connexion comme p2p, car aucun autre p√©riph√©rique n'y est connect√©. <br><br><img src="https://habrastorage.org/webt/io/l4/zt/iol4zt5fm3clkpjrqme5nkedalw.jpeg"><br><br>  Nous avons un r√©seau qui converge en utilisant le protocole STP.  Je vais maintenant prendre le c√¢ble et connecter le commutateur SW2 directement au commutateur SW1.  Apr√®s cela, tous les ports SW2 seront indiqu√©s par des marqueurs orange. <br><br><img src="https://habrastorage.org/webt/cv/0x/2d/cv0x2djghir-4ht3yaza36tz9gu.jpeg"><br><br>  Si nous utilisons la commande show spanning-tree summary, nous verrons qu'au d√©but les deux ports sont dans l'√©tat Listening, puis passons dans l'√©tat Learning et apr√®s quelques secondes dans l'√©tat Forwarding, avec la couleur du marqueur passant au vert.  Si vous entrez maintenant la commande show spanning-tree, vous pouvez voir que Fa0 / 1, qui √©tait autrefois un port racine, est maintenant entr√© dans un √©tat de blocage et est devenu connu sous le nom de port alternatif. <br><br><img src="https://habrastorage.org/webt/zt/3u/zh/zt3uzhakx9ischj3l7nhzpay0xy.jpeg"><br><br>  Le port Fa0 / 3, auquel le c√¢ble du commutateur racine est connect√©, est devenu le port racine et le port Fa0 / 2 est devenu le port d√©sign√© d√©sign√©.  Jetons un autre regard sur le processus de convergence en cours.  Je vais d√©connecter le c√¢ble SW2-SW1 et revenir √† la topologie pr√©c√©dente.  Vous voyez que les ports SW2 sont d'abord bloqu√©s et redeviennent orange, puis passent s√©quentiellement par les √©tats d'√©coute et d'apprentissage et finissent par l'√©tat de transfert.  Dans ce cas, un port devient vert et le second, connect√© au commutateur SW0, reste orange.  Le processus de convergence a pris assez de temps, ce sont les co√ªts du STP. <br><br><img src="https://habrastorage.org/webt/2b/2f/sv/2b2fsvymkmhweas-zsqywgln9_i.jpeg"><br><br>  Voyons maintenant comment fonctionne RSTP.  Commen√ßons par le commutateur SW2 et entrez la commande rapid-pvst en mode spanning-tree dans ses param√®tres.  Cette commande n'a que deux options: pvst et rapid-pvst, j'utilise la seconde.  Apr√®s avoir entr√© la commande, le commutateur passe en mode RPVST, vous pouvez le v√©rifier avec la commande show spanning-tree. <br><br><img src="https://habrastorage.org/webt/3l/ox/ik/3loxikgk8uz1-pendamxieyv7fk.jpeg"><br><br>  Au d√©but, vous voyez un message indiquant que le protocole RSTP fonctionne maintenant avec nous.  Tout le reste reste inchang√©.  Ensuite, je dois faire la m√™me chose pour tous les autres appareils, et c'est l√† que la configuration RSTP est effectu√©e.  Voyons comment ce protocole fonctionne comme nous l'avons fait pour STP. <br><br>  Je reconnecte le commutateur SW2 directement au commutateur racine SW1 avec un c√¢ble - voyons √† quelle vitesse la convergence se produit.  Je tape la commande de r√©sum√© de show spanning-tree et vois que deux ports de commutateur sont en √©tat de blocage, 1 en √©tat de transmission. <br><br><img src="https://habrastorage.org/webt/po/nb/6y/ponb6yceu2_uezs940bmpot4zr8.jpeg"><br><br>  Vous pouvez voir que la convergence s'est produite presque instantan√©ment, vous pouvez donc juger combien RSTP est plus rapide que STP.  Ensuite, nous pouvons utiliser la commande par d√©faut portfast de spanning-tree, qui place tous les ports de commutateur en mode portfast par d√©faut.  Cela est vrai si la plupart des ports de commutation sont des ports Edge directement connect√©s aux h√¥tes.  Si nous avons une sorte de port qui n'est pas Edge, nous le reconfigurons en mode Spanning Tree. <br><br>  Pour configurer le travail avec le VLAN, vous pouvez utiliser la commande spanning-tree vlan &lt;num√©ro&gt; avec des param√®tres de priorit√© (d√©finit la priorit√© du commutateur pour le spanning-tree) ou root (d√©finit le commutateur en tant que root).  Nous utilisons la commande spanning-tree vlan 1 priority, sp√©cifiant comme priorit√© tout nombre qui est un multiple de 4096, compris entre 0 et 61440. Ainsi, vous pouvez modifier manuellement la priorit√© de tout VLAN. <br><br>  Vous pouvez taper la commande root de spanning-tree vlan 1 avec des param√®tres primaires ou secondaires pour configurer le port racine principal ou secondaire pour un r√©seau particulier.  Si j'utilise la racine principale de splan-tree vlan 1, ce port sera le port racine principal pour VLAN1. <br><br>  J'entrerai la commande show spanning-tree, et nous verrons que ce commutateur SW2 a la priorit√© 24577, les adresses MAC de l'ID racine et de l'ID pont sont les m√™mes, ce qui signifie qu'il est maintenant devenu le commutateur racine. <br><br><img src="https://habrastorage.org/webt/bo/5h/m6/bo5hm64ib1fyej_6kmphrslvn3o.jpeg"><br><br>  Vous voyez √† quelle vitesse la convergence et le changement de r√¥le des commutateurs se sont produits.  Maintenant, j'annule le mode de commutateur principal avec la commande no spanning-tree vlan 1 root primary, apr√®s quoi sa priorit√© reviendra √† la valeur pr√©c√©dente 32769, et le r√¥le du commutateur racine sera √† nouveau transf√©r√© vers SW1. <br><br>  Voyons comment fonctionne portfast.  Je vais entrer la commande int f0 / 1, entrer dans les param√®tres de ce port et utiliser la commande spanning-tree, apr√®s quoi le syst√®me donnera des invites pour les valeurs des param√®tres. <br><br><img src="https://habrastorage.org/webt/va/9j/qx/va9jqxbgepa3y9pjq0qwlpsyc5c.jpeg"><br><br>  Ensuite, j'utilise la commande spanning-tree portfast, qui peut √™tre entr√©e avec les param√®tres de d√©sactivation (d√©sactive la fonction portfast pour ce port) ou trunk (active la fonction portfast pour ce port m√™me en mode trunk). <br><br>  Si vous saisissez le portfast de spanning-tree, la fonction activera simplement ce port.  Pour activer la fonction BPDU Guard, vous devez utiliser la commande enable de spanning-tree bpduguard, la commande disable de spanning-tree bpduguard d√©sactive cette fonction. <br><br>  Je vais vous dire rapidement encore une chose.  Si pour VLAN1 l'interface du commutateur SW2 en direction de SW3 est bloqu√©e, alors avec d'autres param√®tres pour un autre VLAN, par exemple, VLAN2, la m√™me interface peut devenir le port racine.  Ainsi, un m√©canisme d'√©quilibrage de la charge du trafic peut √™tre impl√©ment√© dans le syst√®me - dans un cas, ce segment de r√©seau n'est pas utilis√©, dans un autre - il est utilis√©. <br><br>  Je montrerai ce qui se passe lorsqu'une interface partag√©e appara√Æt lorsqu'un concentrateur est connect√©.  Je vais ajouter un concentrateur au circuit et le connecter au commutateur SW2 avec deux c√¢bles. <br><br><img src="https://habrastorage.org/webt/gx/he/hh/gxhehhxqpnrxyabevd7l-sr6d9u.jpeg"><br><br>  La commande show spanning-tree refl√©tera l'image suivante. <br><br><img src="https://habrastorage.org/webt/1v/fd/co/1vfdcoqljwc45rzj4--t6vizme4.jpeg"><br><br>  Fa0 / 5 (le port inf√©rieur gauche du commutateur) devient le port de sauvegarde et le port Fa0 / 4 (le port inf√©rieur droit du commutateur) devient le port d√©sign√© d√©sign√©.  Le type des deux ports est partag√© ou partag√©.  Cela signifie que le segment d'interface du commutateur concentrateur est un r√©seau commun. <br><br>  Gr√¢ce √† l'utilisation de RSTP, nous avons obtenu la s√©paration des ports alternatifs et de sauvegarde.  Si nous commutons le commutateur SW2 en mode pvst avec la commande pvst en mode spanning-tree, nous verrons que l'interface Fa0 / 5 est √† nouveau dans l'√©tat alternatif, car maintenant il n'y a plus de diff√©rence entre le port de sauvegarde et le port alternatif. <br><br><img src="https://habrastorage.org/webt/3s/9g/d5/3s9gd5pqpga1k-vbj0xjavyqmvi.jpeg"><br><br>  Ce fut une tr√®s longue le√ßon, et si vous ne comprenez pas quelque chose, je vous conseille de le revoir. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/LRGmg5omwW0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?  Soutenez-nous en passant une commande ou en le recommandant √† vos amis, une <b>r√©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entr√©e de gamme que nous avons invent√©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la v√©rit√© sur VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbps √† partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV √† partir de 199 $</a> aux Pays-Bas!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - √† partir de 99 $!</b></b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466425/">https://habr.com/ru/post/fr466425/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466409/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 37. STP: S√©lection du pont racine, fonctions de protection PortFast et BPDU. Partie 1</a></li>
<li><a href="../fr466413/index.html">√âchange de sites pour Bitrix et 1C: r√©soudre les principaux probl√®mes</a></li>
<li><a href="../fr466417/index.html">Warshipping - une cyber-menace envoy√©e par courrier ordinaire</a></li>
<li><a href="../fr466419/index.html">Pourquoi nous travaillons chez Sitefinity</a></li>
<li><a href="../fr466423/index.html">Le myst√©rieux programme LyX. Partie 1</a></li>
<li><a href="../fr466427/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 38. Protocole EtherChannel pour la couche 2 OSI</a></li>
<li><a href="../fr466429/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 39. Piles et agr√©gation de ch√¢ssis de commutateurs</a></li>
<li><a href="../fr466431/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 40. Norme 802.1X et famille de protocoles AAA</a></li>
<li><a href="../fr466433/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 41. DHCP Snooping et Nondefault Native VLAN</a></li>
<li><a href="../fr466435/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 42. Routage inter-VLAN et SVI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>