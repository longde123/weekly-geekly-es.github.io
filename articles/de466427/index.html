<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚è∞ üìÇ ü§ö Schulung Cisco 200-125 CCNA v3.0. Tag 38. EtherChannel-Protokoll f√ºr OSI Layer 2 ‚ùï üßñüèº üëµüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute betrachten wir den Betrieb des EtherChannel-Link-Aggregationsprotokolls der Schicht 2 f√ºr die OSI-Modellschicht 2. Dieses Protokoll unterscheide...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schulung Cisco 200-125 CCNA v3.0. Tag 38. EtherChannel-Protokoll f√ºr OSI Layer 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466427/"> Heute betrachten wir den Betrieb des EtherChannel-Link-Aggregationsprotokolls der Schicht 2 f√ºr die OSI-Modellschicht 2.  Dieses Protokoll unterscheidet sich nicht allzu sehr vom Layer 3-Protokoll, aber bevor ich mich mit dem Layer 3 EtherChannel vertraut mache, muss ich Ihnen einige Konzepte vorstellen, damit wir sp√§ter zur dritten Ebene √ºbergehen.  Wir halten uns weiterhin an den CCNA-Kursplan. Daher lesen wir heute Abschnitt 1.5 ‚ÄûKonfigurieren, √úberpr√ºfen und Beheben von Problemen mit Layer 2/3 EtherChannel‚Äú und Unterabschnitte 1.5a ‚ÄûStatischer EtherChannel‚Äú, 1.5b ‚ÄûPAGP-Protokoll‚Äú und 1.5c ‚ÄûOffener IEEE-LACP-Standard‚Äú. . <br><br><img src="https://habrastorage.org/webt/xb/7i/bl/xb7iblcsfkfg3qg51pr6hkl9k-8.jpeg"><br><br>  Bevor wir fortfahren, m√ºssen wir verstehen, was ein EtherChannel ist.  Angenommen, wir haben Schalter A und Schalter B, die √ºberm√§√üig durch drei Kommunikationsleitungen verbunden sind.  Wenn Sie das STP-Protokoll verwenden, werden zwei zus√§tzliche Leitungen logisch blockiert, um die Bildung von Schleifen zu verhindern. <a name="habracut"></a><br><br>  Angenommen, wir haben FastEthernet-Ports, die eine Verkehrsgeschwindigkeit von 100 Mbit / s bieten, sodass der Gesamtdurchsatz 3 x 100 = 300 Mbit / s betr√§gt.  Wir lassen nur einen Kommunikationskanal √ºbrig, aufgrund dessen er auf 100 Mbit / s abf√§llt, dh in diesem Fall verschlechtert STP die Netzwerkleistung.  Au√üerdem sind 2 zus√§tzliche Kan√§le vergeblich inaktiv. <br><br>  Um dies zu verhindern, entwickelte der KALPANA-Entwickler, das Unternehmen, das die Cisco Catalist-Switches entwickelte und das Cisco sp√§ter kaufte, in den 1990er Jahren eine Technologie namens EtherChannel. <br><br><img src="https://habrastorage.org/webt/np/0y/7x/np0y7xshs60ireatpkieqkl0p6u.jpeg"><br><br>  In unserem Fall verwandelt diese Technologie drei separate Kommunikationskan√§le in einen logischen Kanal mit einem Durchsatz von 300 Mbit / s. <br><br>  Der erste Modus der EtherChannel-Technologie ist der manuelle oder statische Modus.  In diesem Fall tun die Schalter unter keinen √úbertragungsbedingungen etwas, da alle manuellen Einstellungen f√ºr die Betriebsparameter korrekt vorgenommen wurden.  Der Kanal wird einfach eingeschaltet und funktioniert, wobei den Einstellungen des Netzwerkadministrators voll vertraut wird. <br><br>  Der zweite Modus ist das propriet√§re Cisco PAGP-Link-Aggregationsprotokoll, der dritte das IEEE-Standard-LACP-Link-Aggregationsprotokoll. <br><br>  Damit diese Modi funktionieren, muss der EtherChannel verf√ºgbar sein.  Die statische Version dieses Protokolls ist sehr einfach zu aktivieren: Sie m√ºssen in die Einstellungen der Switch-Schnittstelle gehen und den Befehl f√ºr den Kanalgruppen-1-Modus eingeben. <br><br>  Wenn wir Switch A mit zwei Schnittstellen f0 / 1 und f0 / 2 haben, m√ºssen wir in die Einstellungen jedes Ports gehen und diesen Befehl eingeben, und die EtherChannel-Schnittstellengruppennummer kann zwischen 1 und 6 liegen. Hauptsache, dieser Wert ist der gleiche f√ºr alle Ports des Switches.  Dar√ºber hinaus sollten Ports in denselben Modi arbeiten: sowohl im Zugriffsmodus als auch im Trunk-Modus und mit demselben nativen VLAN oder zul√§ssigen VLANs. <br><br><img src="https://habrastorage.org/webt/sh/uf/sv/shufsv48th79jzcokqt2ogcgvry.jpeg"><br><br>  Die EtherChannel-Aggregation funktioniert nur, wenn die Kanalgruppe aus denselben konfigurierten Schnittstellen besteht. <br><br>  Wir verbinden Schalter A mit zwei Kommunikationsleitungen mit Schalter B, der auch zwei Schnittstellen f0 / 1 und f0 / 2 hat.  Diese Schnittstellen bilden eine eigene Gruppe.  Sie k√∂nnen sie so konfigurieren, dass sie mit demselben Befehl in EtherChannel funktionieren, und die Gruppennummer spielt keine Rolle, da sie sich auf dem lokalen Switch befinden.  Sie k√∂nnen diese Gruppe als Nummer 1 festlegen, und alles wird funktionieren.  Beachten Sie jedoch, dass alle Schnittstellen f√ºr denselben Modus f√ºr denselben Modus - Zugriff oder Amtsleitung - genau gleich konfiguriert sein m√ºssen, damit beide Kan√§le problemlos funktionieren.  Nachdem Sie die Einstellungen beider Schnittstellen von Switch A und Switch B eingegeben und den Modus f√ºr Befehlskanalgruppe 1 aktiviert haben, wird die Aggregation der EtherChannel-Kan√§le durchgef√ºhrt. <br><br>  Beide physischen Schnittstellen jedes Switches arbeiten als eine logische Schnittstelle.  Wenn wir uns die STP-Parameter ansehen, werden wir sehen, dass Switch A eine gemeinsame Schnittstelle zeigt, die aus zwei physischen Ports gruppiert ist. <br><br>  Fahren wir mit PAGP fort, einem von Cisco entwickelten Portaggregationsprotokoll. <br><br><img src="https://habrastorage.org/webt/fp/kb/6j/fpkb6jgy3xm_7d1flyaiesro8ji.jpeg"><br><br>  Stellen Sie sich dasselbe Bild vor - zwei Schalter A und B mit jeweils den Schnittstellen f0 / 1 und f0 / 2, die √ºber zwei Kommunikationsleitungen verbunden sind.  Verwenden Sie zum Aktivieren von PAGP denselben Befehl f√ºr den Kanalgruppen-1-Modus mit den Parametern &lt;w√ºnschenswert / automatisch&gt;.  Im manuellen statischen Modus rufen Sie einfach auf Befehl an allen Schnittstellen den Kanalgruppen-1-Modus auf, und die Aggregation beginnt zu funktionieren. Hier m√ºssen Sie den gew√ºnschten oder automatischen Parameter angeben.  Wenn Sie den Modusbefehl Kanalgruppe 1 mit dem Zeichen? Eingeben, zeigt das System einen Hinweis mit den folgenden Optionen an: Ein, w√ºnschenswert, automatisch, passiv, aktiv. <br><br>  Wenn Sie an beiden Enden der Verbindung denselben gew√ºnschten Befehl f√ºr den Kanalgruppenmodus 1 eingeben, wird EtherChannel aktiviert.  Das gleiche passiert, wenn an einem Ende des Kanals die Schnittstellen mit dem gew√ºnschten Befehl f√ºr den Kanalgruppen-1-Modus und am anderen Ende mit dem automatischen Befehl f√ºr den Kanalgruppen-1-Modus konfiguriert sind. <br><br>  Wenn jedoch die Schnittstellen an beiden Enden der Kan√§le mit dem Befehl auto-channel mode 1 mode auf auto eingestellt sind, erfolgt keine Kanalaggregation.  Denken Sie daher daran: Wenn Sie EtherChannel √ºber PAGP verwenden m√∂chten, m√ºssen sich die Schnittstellen mindestens einer der Parteien in einem gew√ºnschten Zustand befinden. <br><br>  Bei Verwendung des offenen LACP-Protokolls wird derselbe Befehl f√ºr den Kanalgruppen-1-Modus mit den Parametern &lt;aktiv / passiv&gt; zum Aggregieren von Kan√§len verwendet. <br><br><img src="https://habrastorage.org/webt/b3/px/gm/b3pxgmyabpd1ermxo_xqerrt-og.jpeg"><br><br>  M√∂gliche Kombinationen von Einstellungen auf beiden Seiten der Kan√§le sind wie folgt: Wenn die Schnittstellen auf den aktiven Modus eingestellt sind oder eine Seite aktiv ist und die andere Seite passiv ist - Der EtherChannel-Modus funktioniert, wenn beide Gruppen von Schnittstellen auf passiv eingestellt sind, erfolgt keine Kanalaggregation.  Es muss beachtet werden, dass zum Organisieren der Kanalaggregation unter Verwendung des LACP-Protokolls mindestens eine der Schnittstellengruppen im aktiven Zustand sein muss. <br><br>  Versuchen wir, die Frage zu beantworten: Wenn die Schalter A und B √ºber Kommunikationsleitungen verbunden sind, befinden sich die Schnittstellen eines Schalters im aktiven Zustand und der anderen im automatischen oder gew√ºnschten Zustand. Funktioniert EtherChannel? <br><br><img src="https://habrastorage.org/webt/ek/su/ta/eksutaqprcruqvub8yqzhvowweu.jpeg"><br><br>  Nein, das wird nicht der Fall sein, da das Netzwerk dasselbe Protokoll haben muss - entweder PAGP oder LACP, da sie nicht miteinander kompatibel sind. <br><br>  Betrachten Sie einige Befehle zum Organisieren eines EtherChannel.  Zun√§chst m√ºssen Sie eine Gruppennummer zuweisen, es kann eine beliebige sein.  F√ºr den ersten Modusbefehl f√ºr Kanalgruppe 1 k√∂nnen Sie optional 5 Parameter ausw√§hlen: Ein, W√ºnschenswert, Automatisch, Passiv oder Aktiv. <br>  In den Schnittstellen-Unterbefehlen verwenden wir das Schl√ºsselwort channel-group. Wenn Sie jedoch beispielsweise den Lastenausgleich angeben m√∂chten, wird das Wort port-channel verwendet.  √úberlegen Sie, was Lastausgleich ist. <br><br>  Angenommen, wir haben Switch A mit zwei Ports, die mit den entsprechenden Ports von Switch B verbunden sind. Drei Computer sind mit Switch B - 1,2,3 und ein Computer mit Nummer 4 mit Switch A verbunden. <br><br><img src="https://habrastorage.org/webt/my/5g/-n/my5g-ni-rha-l69pts0eavoofnk.jpeg"><br><br>  Wenn sich der Verkehr von Computer Nr. 4 zu Computer Nr. 1 bewegt, beginnt Switch A, Pakete auf beiden Kommunikationsleitungen zu √ºbertragen.  Bei der Lastausgleichsmethode wird die MAC-Adresse des Absenders gehasht, sodass der gesamte Datenverkehr auf dem vierten Computer nur eine der beiden Kommunikationsleitungen durchl√§uft.  Wenn wir Computer Nr. 5 an Switch A anschlie√üen, bewegt sich der Datenverkehr dieses Computers aufgrund des Lastausgleichs nur entlang einer unteren Kommunikationsleitung. <br><br><img src="https://habrastorage.org/webt/xh/bs/oe/xhbsoeo0zldmxnyxjejwrdtbi-m.jpeg"><br><br>  Dies ist jedoch keine typische Situation.  Angenommen, wir haben ein Cloud-Internet und ein Ger√§t, mit dem Switch A mit drei Computern verbunden ist.  Der Internetverkehr wird mit der MAC-Adresse dieses Ger√§ts, dh mit der Adresse eines bestimmten Ports, an den Switch geleitet, da dieses Ger√§t ein Gateway ist.  Somit hat der gesamte ausgehende Verkehr die MAC-Adresse dieses Ger√§ts. <br><br><img src="https://habrastorage.org/webt/bf/3g/pe/bf3gpelb4suq-tj4uupoz80tgws.jpeg"><br><br>  Wenn wir den durch drei Kommunikationsleitungen mit ihm verbundenen Schalter B vor den Schalter A stellen, l√§uft der gesamte Verkehr des Schalters B in Richtung des Schalters A entlang einer der Leitungen, was unsere Ziele nicht erf√ºllt.  Daher m√ºssen wir die Ausgleichsparameter f√ºr diesen Schalter einstellen. <br><br><img src="https://habrastorage.org/webt/rs/5m/0a/rs5m0ai3cyhyhrb8p7azfjzvxcy.jpeg"><br><br>  Verwenden Sie dazu den Befehl port-channel load-balance, bei dem die Ziel-IP-Adresse als Optionsparameter verwendet wird.  Wenn dies die Adresse von Computer Nr. 1 ist, wird der Datenverkehr entlang der ersten Zeile, wenn Nr. 3 - entlang der dritten, und wenn Sie die IP-Adresse des zweiten Computers angeben, in der mittleren Zeile. <br><br><img src="https://habrastorage.org/webt/uw/eh/xi/uwehxim1dl3bneklf4jggwnbkze.jpeg"><br><br>  Zu diesem Zweck verwendet der Befehl das Schl√ºsselwort port-channel im globalen Konfigurationsmodus. <br><br>  Wenn Sie sehen m√∂chten, welche Links am Kanal beteiligt sind und welche Protokolle verwendet werden, m√ºssen Sie im privilegierten Modus den Befehl show etherchannel summary eingeben.  Sie k√∂nnen die Einstellungen f√ºr den Lastausgleich mit dem Befehl show etherchannel load-balance anzeigen. <br><br>  Betrachten Sie dies nun im Packet Tracer-Programm.  Wir haben 2 Schalter, die durch zwei Verbindungen verbunden sind.  STP nimmt seine Arbeit auf und einer der 4 Ports wird blockiert. <br><br><img src="https://habrastorage.org/webt/ou/od/2o/ouod2o38wmmcejjbo-deannlb44.jpeg"><br><br>  Wir gehen in die Einstellungen von SW0 und geben den Befehl show spanning-tree ein.  Wir sehen, dass STP funktioniert und die Root-ID und die Bridge-ID √ºberpr√ºfen k√∂nnen.  Wenn Sie denselben Befehl f√ºr den zweiten Switch verwenden, werden Sie feststellen, dass der erste Switch SW0 der Root-Switch ist, da er im Gegensatz zu SW1 dieselben Root- und Bridge-IDs hat.  Zus√§tzlich gibt es eine Meldung, dass SW0 die Wurzel ist - "Diese Br√ºcke ist die Wurzel". <br><br><img src="https://habrastorage.org/webt/nm/v2/zi/nmv2zi3bxwt7v1oemttrbrc9kfq.jpeg"><br><br>  Beide Ports des Root-Switch befinden sich im Status Designated. Der blockierte Port des zweiten Switch wird als Alternative und der zweite als Root-Port angezeigt.  Sie sehen, wie STP alle erforderlichen Arbeiten fehlerfrei ausf√ºhrt und die Verbindung automatisch herstellt. <br><br>  Wir aktivieren das PAGP-Protokoll, daf√ºr geben wir in den Einstellungen von SW0 nacheinander die Befehle im Modus f0 / 1 und Kanalgruppe 1 mit einem von 5 m√∂glichen Parametern ein, die ich w√ºnschenswert verwende. <br><br><img src="https://habrastorage.org/webt/kp/qa/wv/kpqawvjis6sc1y6w2xyt8v4cckw.jpeg"><br><br>  Sie sehen, dass das lineare Protokoll zuerst ausgeschaltet und dann wieder eingeschaltet wurde, dh die vorgenommenen √Ñnderungen wurden wirksam und die Schnittstelle f√ºr Port-Kanal 1 wurde erstellt. <br><br><img src="https://habrastorage.org/webt/if/pq/tl/ifpqtlgsasxio-40cuw3vkvj2fa.jpeg"><br><br>  Gehen wir nun zur f0 / 2-Schnittstelle √ºber und rufen den gleichen gew√ºnschten Kanal-Kanal-Gruppe-1-Modus auf. <br><br><img src="https://habrastorage.org/webt/9k/sd/qb/9ksdqbsfuvqyjlbf0rqnt0vfcto.jpeg"><br><br>  Sie sehen, dass jetzt die Ports des Oberlenkers mit einer gr√ºnen Markierung und die Ports des Unterlinks mit Orange markiert sind.  In diesem Fall kann es keinen w√ºnschenswerten automatischen Mixed-Port-Modus geben, da alle Schnittstellen desselben Switches mit demselben Befehl konfiguriert werden m√ºssen.  Der Auto-Modus kann f√ºr den zweiten Switch verwendet werden, aber f√ºr den ersten sollten alle Ports im selben Modus arbeiten. In diesem Fall ist dies w√ºnschenswert. <br><br>  Wir werden in die Einstellungen von SW1 gehen und den Befehl f√ºr den Bereich der Schnittstellen im Bereich f0 / 1-2 verwenden, um die Befehle nicht manuell f√ºr jede der Schnittstellen manuell einzugeben, sondern beide mit einem Befehl zu konfigurieren. <br><br>  Ich verwende den Modusbefehl f√ºr Kanalgruppe 2, kann jedoch eine beliebige Zahl von 1 bis 6 verwenden, um die Gruppe der Schnittstellen des zweiten Schalters zu kennzeichnen.  Da die gegen√ºberliegende Seite des Kanals auf den gew√ºnschten Modus eingestellt ist, m√ºssen sich die Schnittstellen dieses Schalters im gew√ºnschten oder automatischen Modus befinden.  Ich w√§hle den ersten Parameter aus, gebe den gew√ºnschten Kanalgruppen-2-Modus ein und dr√ºcke die Eingabetaste. <br>  Wir sehen eine Meldung, dass die Kanalschnittstelle Port-Kanal 2 erstellt wurde und die Ports f0 / 1 und f0 / 2 nacheinander vom Abw√§rtszustand in den Aufw√§rtszustand umgeschaltet wurden.  Das Folgende ist eine Meldung, dass die Port-Kanal 2-Schnittstelle aktiviert wurde und dass das Leitungsprotokoll dieser Schnittstelle ebenfalls aktiviert wurde.  Jetzt haben wir den aggregierten EtherChannel-Kanal gebildet. <br><br>  Sie k√∂nnen dies √ºberpr√ºfen, indem Sie zu den Einstellungen des Schalters SW0 gehen und den Befehl show etherchannel summary ausgeben.  Sie sehen verschiedene Flags, die wir sp√§ter betrachten werden, und dann Gruppe 1 mit 1 Kanal, die Anzahl der Aggregatoren ist ebenfalls 1. Po1 bedeutet PortChannel 1, und die Bezeichnung (SU) steht f√ºr S - Flag der Ebene 2, U - verwendet.  Das folgende PAGP-Protokoll wird verwendet, und die im Kanal zusammengefassten physischen Ports sind Fa0 / 1 (P) und Fa0 / 2 (P), wobei das P-Flag angibt, dass diese Ports Teil des PortChannel sind. <br><br>  Ich verwende dieselben Befehle f√ºr den zweiten Schalter, und √§hnliche Informationen f√ºr SW1 werden im CLI-Fenster angezeigt. <br><br><img src="https://habrastorage.org/webt/qe/j4/bu/qej4bu23qi21lubbbp_i9tbxtri.jpeg"><br><br>  Ich gebe den Befehl show spanning-tree in den SW1-Einstellungen ein, und Sie k√∂nnen sehen, dass PortChannel 2 eine logische Schnittstelle darstellt und seine Kosten im Vergleich zu den Kosten f√ºr zwei separate Ports 19 gesunken sind und jetzt 9 betragen. <br><br><img src="https://habrastorage.org/webt/4a/eo/y7/4aeoy7q47qlcgvzi-_hcckwbvcg.jpeg"><br><br>  Machen wir dasselbe mit dem ersten Schalter.  Sie sehen, dass sich die Root-Parameter nicht ge√§ndert haben, aber jetzt gibt es zwischen den beiden Switches anstelle von zwei physischen Verbindungen eine logische Schnittstelle Po1-Po2. <br><br><img src="https://habrastorage.org/webt/wq/mx/3n/wqmx3nkjs7ctva_yfoftxigmpck.jpeg"><br><br>  Versuchen wir, PAGP durch LACP zu ersetzen.  Dazu verwende ich in den Einstellungen des ersten Schalters den Befehl f√ºr den Schnittstellenbereich im Bereich f0 / 1-2.  Wenn ich jetzt den aktiven Befehl channel-group1 mode zur Aktivierung von LACP eingebe, wird dieser abgelehnt, da die Ports Fa0 / 1 und Fa0 / 2 bereits Teil eines Kanals sind, der ein anderes Protokoll verwendet. <br><br><img src="https://habrastorage.org/webt/ur/fd/w8/urfdw8qgugivc0wewcjqbwvfvly.jpeg"><br><br>  Daher muss ich zuerst den Befehl no channel-group 1 mode active eingeben und erst dann den Befehl channel-group1 mode active verwenden.  Machen wir dasselbe mit dem zweiten Schalter, indem wir zuerst den Befehl no channel-group 2 und dann den aktiven Befehl channel-group 2 mode eingeben.  Wenn Sie sich die Schnittstellenparameter ansehen, k√∂nnen Sie sehen, dass Po2 wieder eingeschaltet ist, sich aber immer noch im PAGP-Protokollmodus befindet.  Dies ist nicht wahr, da wir jetzt LACP haben und in diesem Fall die Parameter vom Packet Tracer-Programm falsch angezeigt werden. <br>  Um diese Diskrepanz zu beheben, verwende ich eine tempor√§re L√∂sung - das Erstellen eines weiteren PortChannel.  Dazu tippe ich die Befehle int range f0 / 1-2 und no channel-group 2 ein, und dann ist der Befehl channel-group 2 mode aktiv.  Mal sehen, wie sich das auf den ersten Schalter auswirkt.  Ich gebe den Befehl show etherchannel summary ein und sehe, dass Po1 wieder mit PAGP angezeigt wird.  Dies ist ein Packet Tracer-Simulationsproblem, da PortChannel derzeit deaktiviert ist und wir √ºberhaupt keinen Kanal ben√∂tigen. <br><br>  Ich gehe zur√ºck zum CLI-Fenster des zweiten Schalters und gebe den Befehl show etherchannel summary aus.  Jetzt wird Po2 mit einem Index (SD) angezeigt, wobei D down bedeutet, dh der Kanal funktioniert nicht.  Technisch gesehen ist PortChannel vorhanden, wird jedoch nicht verwendet, da ihm kein Port zugeordnet ist. <br>  Ich gebe in den Einstellungen des ersten Schalters den Befehl int range f0 / 1-2 und keine Befehle f√ºr Kanalgruppe 1 ein und erstelle dann eine neue Kanalgruppe, diesmal unter Nummer 2, mit dem aktiven Befehl f√ºr den Modus Kanalgruppe 2.  Dann mache ich dasselbe in den Einstellungen des zweiten Schalters, nur jetzt bekommt die Kanalgruppe die Nummer 1. <br><br>  Jetzt wurde eine neue Port Channel 2-Gruppe auf dem ersten Switch und Port Channel 1 auf dem zweiten Switch erstellt. Ich habe gerade die Namen der Gruppen ausgetauscht.  Wie Sie sehen k√∂nnen, habe ich technisch gesehen einen neuen Port-Kanal auf dem zweiten Switch erstellt und dieser wird jetzt mit dem richtigen Parameter angezeigt. Nach Eingabe des Befehls show etherchannel summary sehen wir, dass Po1 (SU) LACP verwendet. <br><br>  Wir sehen genau das gleiche Bild im CLI-Fenster des SW0-Switches - in der neuen Po2 (SU) -Gruppe wird LACP ausgef√ºhrt. <br><br><img src="https://habrastorage.org/webt/gx/ve/xb/gxvexbyeb1jxmpvl-as-9hvs7dq.jpeg"><br><br>  Betrachten Sie den Unterschied zwischen einer Schnittstelle im aktiven Zustand und einer Schnittstelle, die immer eingeschaltet ist.  Ich werde eine neue Kanalgruppe f√ºr den Schalter SW0 mit den Befehlen im Bereich f0 / 1-2 und im Modus f√ºr Kanalgruppe 3 erstellen.  Zuvor m√ºssen die Kanalgruppen 1 und 2 mit den Befehlen no channel-group 1 und no channel-group 2 gel√∂scht werden. Andernfalls zeigt das System beim Versuch, den Befehl channel-group 3 on on zu verwenden, die Meldung an, dass die Schnittstelle bereits f√ºr die Arbeit mit einem anderen Kanalprotokoll verwendet wird. <br><br>  Machen Sie dasselbe mit dem zweiten Schalter - l√∂schen Sie Kanalgruppe 1 und 2 und erstellen Sie Gruppe 3 mit aktiviertem Befehl Kanalgruppe 3.  Gehen wir nun zu den Einstellungen von SW0 und verwenden den Befehl show etherchannel summary.  Sie werden sehen, dass der neue Po3-Kanal bereits betriebsbereit ist und keine Vorarbeiten wie PAGP oder LACP erfordert. <br><br><img src="https://habrastorage.org/webt/b-/i8/1p/b-i81p-_tppmxsrtuobxu9bcyqy.jpeg"><br><br>  Es wird sofort eingeschaltet, ohne die Anschl√ºsse aus- und wieder einzuschalten.  Mit dem gleichen Befehl f√ºr SW1 werden wir sehen, dass Po3 hier kein Protokoll verwendet, dh wir haben einen statischen EtherChannel erstellt. <br><br>  Cisco behauptet, dass Sie f√ºr eine weit verbreitete Netzwerkverf√ºgbarkeit PAGP vergessen und den statischen EtherChannel als zuverl√§ssigere Methode zur Link-Aggregation verwenden m√ºssen. <br>  Wie gleichen wir die Last aus?  Ich kehre zum CLI-Fenster des SWI-Switch zur√ºck und gebe den Befehl show etherchannel load-balance aus.  Sie sehen, dass der Lastausgleich basierend auf der MAC-Adresse der Quell-MAC-Adresse erfolgt. <br><br><img src="https://habrastorage.org/webt/ai/vw/zu/aivwzus8ei6ffabb_vmlq9wlbke.jpeg"><br><br>  Normalerweise verwendet der Ausgleich diesen bestimmten Parameter, aber manchmal entspricht er nicht unseren Aufgaben.  Wenn wir diese Ausgleichsmethode √§ndern m√∂chten, m√ºssen wir den globalen Konfigurationsmodus aufrufen und den Befehl zum Ausgleichen des Portkanal-Lastausgleichs eingeben. Anschlie√üend gibt das System Eingabeaufforderungen mit m√∂glichen Parametern f√ºr diesen Befehl aus. <br><br><img src="https://habrastorage.org/webt/tg/2a/oq/tg2aoqxzmzxbf7kw4bykdl-xziw.jpeg"><br><br>  Wenn Sie den Parameter src-mac f√ºr den Lastausgleich des Portkanals angeben, dh die Quell-MAC-Adresse angeben, wird eine Hash-Funktion aktiviert, die angibt, welcher Port, der Teil dieses EtherChannel ist, zur √úbertragung des Datenverkehrs verwendet werden soll.  Jedes Mal, wenn die Quelladresse identisch ist, verwendet das System diese bestimmte physische Schnittstelle, um Datenverkehr zu senden. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/mkLnjNFBjRs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Vielen Dank f√ºr Ihren Aufenthalt bei uns.  Gef√§llt dir unser Artikel?  M√∂chten Sie weitere interessante Materialien sehen?  Unterst√ºtzen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% f√ºr Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir f√ºr Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit √ºber VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verf√ºgbar). <br><br>  <b>Dell R730xd 2 mal g√ºnstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2,6 GHz 14C 64 GB DDR4 4 x 960 GB SSD 1 Gbit / s 100 TV von 199 US-Dollar</a> in den Niederlanden!</b>  <b><b>Dell R420 - 2x E5-2430 2,2 GHz 6C 128 GB DDR3 2x960 GB SSD 1 Gbit / s 100 TB - ab 99 US-Dollar!</b></b>  Lesen Sie mehr √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgeb√§udes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern f√ºr 9.000 Euro f√ºr einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466427/">https://habr.com/ru/post/de466427/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466413/index.html">Site Exchange f√ºr Bitrix und 1C: L√∂sung der Hauptprobleme</a></li>
<li><a href="../de466417/index.html">Warshipping - eine Cyber-Bedrohung, die per Post verschickt wird</a></li>
<li><a href="../de466419/index.html">Warum wir bei Sitefinity arbeiten</a></li>
<li><a href="../de466423/index.html">Das mysteri√∂se LyX-Programm. Teil 1</a></li>
<li><a href="../de466425/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 37. STP: Root Bridge-Auswahl, PortFast- und BPDU-Schutzfunktionen. Teil 2</a></li>
<li><a href="../de466429/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 39. Stapel und Aggregation von Switch-Chassis</a></li>
<li><a href="../de466431/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 40. 802.1X Standard- und AAA-Protokollfamilie</a></li>
<li><a href="../de466433/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 41. DHCP-Snooping und nicht standardm√§√üiges natives VLAN</a></li>
<li><a href="../de466435/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 42. Inter-VLAN-Routing und SVI</a></li>
<li><a href="../de466437/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 43. Routing-Protokolle Distanzvektor und Verbindungsstatus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>