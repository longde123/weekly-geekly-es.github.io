<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚴🏾 🌜 🐨 Bangun server server yang siap-jaringan untuk Kubernet menggunakan LTSP 🕕 🏂🏾 ✊🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada artikel ini, saya ingin menunjukkan kepada Anda satu teknologi keren, saya berhasil menggunakannya untuk Kubernetes. Ini bisa sangat berguna untu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bangun server server yang siap-jaringan untuk Kubernet menggunakan LTSP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423785/"><p><img src="https://habrastorage.org/getpro/habr/post_images/8bb/8a3/0c9/8bb8a30c990d198d478d1062f444b7a7.svg"></p><br><p>  Pada artikel ini, saya ingin menunjukkan kepada Anda satu teknologi keren, saya berhasil menggunakannya untuk Kubernetes.  Ini bisa sangat berguna untuk membangun kelompok besar. </p><br><p>  Mulai sekarang, Anda tidak perlu lagi berpikir untuk menginstal OS dan paket terpisah untuk setiap node.  Mengapa  Anda dapat melakukan semua ini secara otomatis melalui Dockerfile! </p><br><p> Fakta bahwa Anda dapat membeli ratusan server baru, menambahkannya ke lingkungan kerja Anda dan segera membuatnya siap untuk digunakan sungguh menakjubkan! </p><br><p>  Penasaran?  Sekarang mari kita bicara tentang semuanya secara berurutan. </p><a name="habracut"></a><br><h1 id="rezyume">  Ringkasan </h1><br><p>  Untuk memulai, kita perlu memahami persis bagaimana sirkuit ini bekerja. </p><br><p>  Secara singkat, untuk semua node kami sedang mempersiapkan satu gambar dengan OS, Docker, Kubelet dan yang lainnya. <br>  Gambar sistem ini bersama dengan kernel secara otomatis dibangun oleh CI menggunakan Dockerfile. <br>  Node akhir memuat OS dan kernel dari gambar ini secara langsung melalui jaringan. </p><br><p> Node menggunakan overlayfs sebagai sistem file root, jadi jika terjadi reboot, perubahan apa pun akan hilang (serta dalam kasus kontainer buruh pelabuhan). <br>  Ada konfigurasi utama, di dalamnya Anda dapat menggambarkan titik-titik mount dan beberapa perintah yang harus dieksekusi ketika node dimuat (misalnya, perintah untuk menambahkan kunci ssh dan <code>kubeadm join</code> ) </p><br><h2 id="process-podgotovki-obraza">  Proses persiapan gambar </h2><br><p>  Kami akan menggunakan proyek LTSP karena memberi kami semua yang kami butuhkan untuk mengatur boot jaringan. <br>  Secara umum, LTSP adalah kumpulan skrip shell yang membuat hidup kita jauh lebih mudah. </p><br><p>  Ini menyediakan modul initramfs, beberapa skrip pembantu, dan beberapa jenis sistem konfigurasi yang menyiapkan sistem pada tahap awal pemuatan, bahkan sebelum memanggil init. </p><br><p>  <strong>Beginilah tampilan prosedur persiapan gambar:</strong> </p><br><ul><li>  Menyebarkan sistem basis di lingkungan chroot. </li><li>  Kami melakukan perubahan yang diperlukan, menginstal perangkat lunak. </li><li>  Jalankan perintah <code>ltsp-build-image</code> </li></ul><br><p>  Tepat setelah itu Anda akan mendapatkan gambar terkompresi dari chroot ini dengan semua perangkat lunak yang diinstal di dalamnya. <br>  Setiap node akan mengunduh gambar ini saat boot dan menggunakannya sebagai rootfs. <br>  Untuk memperbarui, cukup restart simpul, gambar baru akan diunduh dan digunakan untuk rootfs. </p><br><h2 id="servernye-komponenty">  Komponen server </h2><br><p>  <strong>Bagian server LTSP dalam kasus kami hanya mencakup dua komponen:</strong> </p><br><ul><li>  <strong>TFTP server</strong> - TFTP adalah protokol inisialisasi, digunakan untuk memuat kernel, initramfs dan config-lts.conf utama. </li><li>  <strong>Server NBD</strong> - Protokol NBD yang digunakan untuk mengirimkan gambar rootf yang terkompresi ke klien.  Ini adalah metode tercepat, tetapi jika diinginkan, itu dapat diganti dengan NFS atau AoE. </li></ul><br><p>  Anda juga harus memiliki: </p><br><ul><li>  <strong>Server DHCP</strong> - ia akan mendistribusikan konfigurasi IP dan beberapa opsi tambahan yang dibutuhkan klien kami sehingga mereka dapat melakukan booting dari server LTSP kami. </li></ul><br><h2 id="process-zagruzki-nody">  Proses pemuatan simpul </h2><br><p>  <strong>Deskripsi proses pemuatan simpul</strong> </p><br><ul><li>  Pertama, node akan meminta alamat IP DHCP dan opsi untuk <code>next-server</code> , <code>filename</code> . </li><li>  Kemudian node akan menerapkan pengaturan dan mengunduh bootloader (pxelinux atau grub) </li><li>  Bootloader akan mengunduh dan memuat konfigurasi dengan kernel dan initramfs. </li><li>  Kemudian ia akan memuat kernel dan initramfs dengan opsi spesifik yang ditentukan untuk kernel. </li><li>  Pada saat boot, modul initramfs akan memproses parameter dari cmdline dan melakukan beberapa tindakan, seperti menghubungkan perangkat nbd, menyiapkan rootfs overlay, dll. </li><li>  Setelah itu, alih-alih init biasa, ltsp-init khusus akan dipanggil. </li><li>  Skrip ltsp-init akan menyiapkan sistem sejak awal sebelum init utama dipanggil.  Pada dasarnya, opsi dari lts.conf (file konfigurasi utama) digunakan di sini: ini memperbarui catatan dalam fstab dan rc.local, dll. </li><li>  Kemudian akan ada panggilan ke init utama (systemd), yang akan memuat sistem yang sudah dikonfigurasi seperti biasa, me-mount sumber daya bersama dari fstab, meluncurkan target dan layanan, dan menjalankan perintah dari rc.local. </li><li>  Sebagai hasilnya, kami mendapatkan sistem yang sepenuhnya dikonfigurasi dan dimuat, siap untuk tindakan lebih lanjut. </li></ul><br><h1 id="podgotovka-servera">  Persiapan server </h1><br><p>  Seperti yang saya katakan, saya menyiapkan server LTSP dengan gambar terjepit secara otomatis menggunakan Dockerfile.  Metode ini tidak buruk, karena semua langkah untuk membangun dapat dijelaskan di repositori git Anda.  Anda dapat mengontrol versi, menggunakan tag, menerapkan CI dan semua sama yang akan Anda gunakan untuk persiapan proyek Docker biasa. </p><br><p>  Di sisi lain, Anda dapat menggunakan server LTSP secara manual dengan mengikuti semua langkah secara manual, ini bisa baik untuk tujuan pelatihan dan untuk memahami prinsip-prinsip dasar. <br>  Jalankan perintah yang tercantum dalam artikel secara manual jika Anda hanya ingin mencoba LTSP tanpa Dockerfile. </p><br><h2 id="spisok-ispolzovannyh-patchey">  Daftar tambalan bekas </h2><br><p>  Saat ini, LTSP memiliki beberapa kekurangan, dan penulis proyek tidak mau menerima koreksi.  Untungnya, LTSP mudah disesuaikan, jadi saya menyiapkan beberapa tambalan untuk diri saya sendiri, saya akan berikan di sini. <br>  Mungkin suatu hari nanti saya akan matang dalam percabangan jika komunitas dengan hangat menerima keputusan saya. </p><br><ul><li>  <a href="">feature-grub.diff</a> <br>  Secara default, LTSP tidak mendukung EFI, jadi saya menyiapkan tambalan yang menambahkan GRUB2 dengan dukungan EFI. </li><li>  <a href="">feature_preinit.diff</a> <br>  Patch ini menambahkan opsi PREINIT ke lts.conf, yang memungkinkan Anda untuk menjalankan perintah arbitrer sebelum memanggil init utama.  Ini dapat berguna untuk memodifikasi unit systemd dan pengaturan jaringan.  Perlu dicatat bahwa semua variabel dari lingkungan boot disimpan, dan Anda dapat menggunakannya dalam skrip yang dipanggil melalui opsi ini. </li><li>  <a href="">feature_initramfs_params_from_lts_conf.diff</a> <br>  Memecahkan masalah dengan opsi NBD_TO_RAM yang dinonaktifkan, setelah tambalan ini Anda dapat menentukannya di lts.conf di dalam chroot.  (bukan yang ada di direktori tftp) </li><li>  <a href="">nbd-server-wrapper.sh</a> <br>  Ini bukan tambalan, tetapi hanya skrip shell, ini memungkinkan Anda untuk menjalankan nbd-server di foregroud, Anda akan memerlukannya jika Anda ingin menjalankan nbd-server di dalam wadah Docker. </li></ul><br><h2 id="dockerfile-stages">  Tahap Dockerfile </h2><br><p>  Kami akan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tahap bangunan</a> di Dockerfile kami untuk menyimpan hanya bagian-bagian yang diperlukan dari gambar buruh pelabuhan kami, bagian-bagian yang tidak terpakai yang tersisa akan dikeluarkan dari gambar akhir. </p><br><pre> <code class="hljs ruby">ltsp-base (    ltsp ) <span class="hljs-params"><span class="hljs-params">| |</span></span>---basesystem <span class="hljs-params"><span class="hljs-params">| ( chroot-     ) |</span></span> <span class="hljs-params"><span class="hljs-params">| |</span></span> <span class="hljs-params"><span class="hljs-params">|---builder |</span></span> <span class="hljs-params"><span class="hljs-params">| (    ,  ) |</span></span> <span class="hljs-params"><span class="hljs-params">| |</span></span> <span class="hljs-string"><span class="hljs-string">'---ltsp-image | (  , docker, kubelet   squashed ) | '</span></span>---final-stage ( squashed ,   initramfs   stage)</code> </pre> <br><h3 id="stage-1-ltsp-base">  Tahap 1: ltsp-base </h3><br><p>  OK, mari kita mulai, ini adalah bagian pertama dari Dockerfile kami: </p><br><pre> <code class="bash hljs">FROM ubuntu:16.04 as ltsp-base ADD nbd-server-wrapper.sh /bin/ ADD /patches/feature-grub.diff /patches/feature-grub.diff RUN apt-get -y update \ &amp;&amp; apt-get -y install \ ltsp-server \ tftpd-hpa \ nbd-server \ grub-common \ grub-pc-bin \ grub-efi-amd64-bin \ curl \ patch \ &amp;&amp; sed -i <span class="hljs-string"><span class="hljs-string">'s|in_target mount|in_target_nofail mount|'</span></span> \ /usr/share/debootstrap/<span class="hljs-built_in"><span class="hljs-built_in">functions</span></span> \ <span class="hljs-comment"><span class="hljs-comment">#   EFI   Grub (#1745251) &amp;&amp; patch -p2 -d /usr/sbin &lt; /patches/feature-grub.diff \ &amp;&amp; rm -rf /var/lib/apt/lists \ &amp;&amp; apt-get clean</span></span></code> </pre> <br><p>  Saat ini, gambar buruh pelabuhan kami telah diinstal sebagai berikut: </p><br><ul><li>  Server NBD </li><li>  Server TFTP </li><li>  Skrip LTSP dengan dukungan bootloader grub (untuk EFI) </li></ul><br><h3 id="stage-2-basesystem">  Tahap 2: sistem basis </h3><br><p>  Pada tahap ini, kami akan menyiapkan lingkungan chroot dengan sistem dasar dan menginstal perangkat lunak utama dengan kernel. <br>  Kami akan menggunakan <strong>debootstrap</strong> biasa alih <strong>-</strong> alih <strong>ltsp-build-client</strong> untuk menyiapkan gambar, karena <strong>ltsp-build-client akan</strong> menginstal GUI dan beberapa hal lain yang tidak perlu yang kami jelas tidak akan berguna untuk menggunakan server. </p><br><pre> <code class="bash hljs">FROM ltsp-base as basesystem ARG DEBIAN_FRONTEND=noninteractive <span class="hljs-comment"><span class="hljs-comment">#    RUN mkdir -p /opt/ltsp/amd64/proc/self/fd \ &amp;&amp; touch /opt/ltsp/amd64/proc/self/fd/3 \ &amp;&amp; debootstrap --arch amd64 xenial /opt/ltsp/amd64 \ &amp;&amp; rm -rf /opt/ltsp/amd64/proc/* #   RUN echo "\ deb http://archive.ubuntu.com/ubuntu xenial main restricted universe multiverse\n\ deb http://archive.ubuntu.com/ubuntu xenial-updates main restricted universe multiverse\n\ deb http://archive.ubuntu.com/ubuntu xenial-security main restricted universe multiverse" \ &gt; /opt/ltsp/amd64/etc/apt/sources.list \ &amp;&amp; ltsp-chroot apt-get -y update \ &amp;&amp; ltsp-chroot apt-get -y upgrade #   LTSP RUN ltsp-chroot apt-get -y install ltsp-client-core #   initramfs # 1:    /etc/lts.conf    (#1680490) # 2:   PREINIT   lts.conf ADD /patches /patches RUN patch -p4 -d /opt/ltsp/amd64/usr/share &lt; /patches/feature_initramfs_params_from_lts_conf.diff \ &amp;&amp; patch -p3 -d /opt/ltsp/amd64/usr/share &lt; /patches/feature_preinit.diff #  LTSP_NBD_TO_RAM    ,     ram: RUN echo "[Default]\nLTSP_NBD_TO_RAM = true" \ &gt; /opt/ltsp/amd64/etc/lts.conf #   RUN echo 'APT::Install-Recommends "0";\nAPT::Install-Suggests "0";' \ &gt;&gt; /opt/ltsp/amd64/etc/apt/apt.conf.d/01norecommend \ &amp;&amp; ltsp-chroot apt-get -y install \ software-properties-common \ apt-transport-https \ ca-certificates \ ssh \ bridge-utils \ pv \ jq \ vlan \ bash-completion \ screen \ vim \ mc \ lm-sensors \ htop \ jnettop \ rsync \ curl \ wget \ tcpdump \ arping \ apparmor-utils \ nfs-common \ telnet \ sysstat \ ipvsadm \ ipset \ make #   RUN ltsp-chroot apt-get -y install linux-generic-hwe-16.04</span></span></code> </pre> <br><p>  Harap dicatat bahwa beberapa paket, seperti lvm2, mungkin mengalami masalah.  Mereka tidak sepenuhnya dioptimalkan untuk instalasi dalam chroot yang tidak terjangkau.  Skrip postinstall mereka mencoba untuk memanggil perintah istimewa yang mungkin gagal dan memblokir instalasi seluruh paket. </p><br><p>  Solusi: </p><br><ul><li>  Beberapa dapat diinstal tanpa masalah jika Anda menginstalnya sebelum menginstal kernel (misalnya, lvm2) </li><li>  Tetapi untuk beberapa dari mereka, Anda harus menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">solusi</a> ini untuk menginstal tanpa skrip postinstall. </li></ul><br><h3 id="stage-3-builder">  Tahap 3: pembangun </h3><br><p>  Pada tahap ini, kita dapat mengumpulkan semua perangkat lunak dan modul kernel yang diperlukan dari sumber, sangat keren bahwa dimungkinkan untuk melakukan ini pada tahap ini, dalam mode otomatis penuh. <br>  Lewati langkah ini jika Anda tidak perlu mengumpulkan apa pun dari artis. </p><br><p>  Saya akan memberikan contoh menginstal driver MLNX_EN versi terbaru: </p><br><pre> <code class="bash hljs">FROM basesystem as builder <span class="hljs-comment"><span class="hljs-comment">#  cpuinfo (   ) RUN cp /proc/cpuinfo /opt/ltsp/amd64/proc/cpuinfo #    Mellanox driver RUN ltsp-chroot sh -cx \ ' VERSION=4.3-1.0.1.0-ubuntu16.04-x86_64 \ &amp;&amp; curl -L http://www.mellanox.com/downloads/ofed/MLNX_EN-${VERSION%%-ubuntu*}/mlnx-en-${VERSION}.tgz \ | tar xzf - \ &amp;&amp; export \ DRIVER_DIR="$(ls -1 | grep "MLNX_OFED_LINUX-\|mlnx-en-")" \ KERNEL="$(ls -1t /lib/modules/ | head -n1)" \ &amp;&amp; cd "$DRIVER_DIR" \ &amp;&amp; ./*install --kernel "$KERNEL" --without-dkms --add-kernel-support \ &amp;&amp; cd - \ &amp;&amp; rm -rf "$DRIVER_DIR" /tmp/mlnx-en* /tmp/ofed*' #    RUN ltsp-chroot sh -c \ ' export KERNEL="$(ls -1t /usr/src/ | grep -m1 "^linux-headers" | sed "s/^linux-headers-//g")" \ &amp;&amp; tar cpzf /modules.tar.gz /lib/modules/${KERNEL}/updates'</span></span></code> </pre><br><h3 id="stage-4-ltsp-image">  Tahap 4: ltsp-image </h3><br><p>  Pada tahap ini kami akan menetapkan apa yang telah kami kumpulkan di langkah sebelumnya: </p><br><pre> <code class="bash hljs">FROM basesystem as ltsp-image <span class="hljs-comment"><span class="hljs-comment">#    COPY --from=builder /opt/ltsp/amd64/modules.tar.gz /opt/ltsp/amd64/modules.tar.gz #    RUN ltsp-chroot sh -c \ ' export KERNEL="$(ls -1t /usr/src/ | grep -m1 "^linux-headers" | sed "s/^linux-headers-//g")" \ &amp;&amp; tar xpzf /modules.tar.gz \ &amp;&amp; depmod -a "${KERNEL}" \ &amp;&amp; rm -f /modules.tar.gz'</span></span></code> </pre> <br><p>  Sekarang kami akan membuat perubahan tambahan untuk melengkapi gambar LTSP kami: </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  docker RUN ltsp-chroot sh -c \ ' curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add - \ &amp;&amp; echo "deb https://download.docker.com/linux/ubuntu xenial stable" \ &gt; /etc/apt/sources.list.d/docker.list \ &amp;&amp; apt-get -y update \ &amp;&amp; apt-get -y install \ docker-ce=$(apt-cache madison docker-ce | grep 18.06 | head -1 | awk "{print $ 3}")' #    docker RUN DOCKER_OPTS="$(echo \ --storage-driver=overlay2 \ --iptables=false \ --ip-masq=false \ --log-driver=json-file \ --log-opt=max-size=10m \ --log-opt=max-file=5 \ )" \ &amp;&amp; sed "/^ExecStart=/ s|$| $DOCKER_OPTS|g" \ /opt/ltsp/amd64/lib/systemd/system/docker.service \ &gt; /opt/ltsp/amd64/etc/systemd/system/docker.service #  kubeadm, kubelet  kubectl RUN ltsp-chroot sh -c \ ' curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add - \ &amp;&amp; echo "deb http://apt.kubernetes.io/ kubernetes-xenial main" \ &gt; /etc/apt/sources.list.d/kubernetes.list \ &amp;&amp; apt-get -y update \ &amp;&amp; apt-get -y install kubelet kubeadm kubectl cri-tools' #    RUN rm -f /opt/ltsp/amd64/etc/apt/apt.conf.d/20auto-upgrades #   apparmor RUN ltsp-chroot find /etc/apparmor.d \ -maxdepth 1 \ -type f \ -name "sbin.*" \ -o -name "usr.*" \ -exec ln -sf "{}" /etc/apparmor.d/disable/ \; #    (cmdline) RUN KERNEL_OPTIONS="$(echo \ init=/sbin/init-ltsp \ forcepae \ console=tty1 \ console=ttyS0,9600n8 \ nvme_core.default_ps_max_latency_us=0 \ )" \ &amp;&amp; sed -i "/^CMDLINE_LINUX_DEFAULT=/ s|=.*|=\"${KERNEL_OPTIONS}\"|" \ "/opt/ltsp/amd64/etc/ltsp/update-kernels.conf"</span></span></code> </pre> <br><p>  Sekarang buat gambar pendek dari chroot kami: </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   RUN rm -rf /opt/ltsp/amd64/var/lib/apt/lists \ &amp;&amp; ltsp-chroot apt-get clean #  squashed  RUN ltsp-update-image</span></span></code> </pre> <br><h3 id="stage-5-final-stage">  Tahap 5: Tahap akhir </h3><br><p>  Pada tahap akhir, kita hanya menyimpan image dan kernel yang tergencet dengan initramfs </p><br><pre> <code class="bash hljs">FROM ltsp-base COPY --from=ltsp-image /opt/ltsp/images /opt/ltsp/images COPY --from=ltsp-image /etc/nbd-server/conf.d /etc/nbd-server/conf.d COPY --from=ltsp-image /var/lib/tftpboot /var/lib/tftpboot</code> </pre> <br><p>  Oke, sekarang kami memiliki gambar buruh pelabuhan yang meliputi: </p><br><ul><li>  Server TFTP </li><li>  Server NBD </li><li>  bootloader yang dikonfigurasi </li><li>  kernel dengan initramfs </li><li>  gambar rootfs tergencet </li></ul><br><h1 id="ispolzovanie">  Gunakan </h1><br><p>  OK, sekarang karena gambar Docker kami dengan server LTSP, kernel, initramfs dan squffs rootfs sudah sepenuhnya siap, kami dapat menjalankan penyebaran dengan itu. </p><br><p>  Kita bisa melakukan ini seperti biasa, tetapi ada masalah lain yang harus kita pecahkan. <br>  Sayangnya, kami tidak dapat menggunakan layanan Kubernet biasa untuk penyebaran kami, karena pada saat boot node bukan bagian dari kluster Kubernet dan mereka perlu menggunakan externalIP, tetapi Kubernetes selalu menggunakan NAT untuk externalIP dan saat ini tidak ada cara untuk mengubah perilaku ini. </p><br><p>  Saya tahu dua cara untuk menghindari ini: gunakan <code>hostNetwork: true</code> atau use <a href="">pipework</a> , opsi kedua juga akan memberi kita toleransi kesalahan, seperti  jika terjadi kegagalan, alamat IP akan pindah ke node lain dengan wadah.  Sayangnya pipework bukan metode asli dan kurang aman. <br>  Jika Anda mengetahui solusi yang lebih cocok, silakan beri tahu kami. </p><br><p>  Berikut adalah contoh penerapan dengan hostNetwork: </p><br><pre> <code class="hljs pgsql">apiVersion: extensions/v1beta1 kind: Deployment metadata: <span class="hljs-type"><span class="hljs-type">name</span></span>: ltsp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> labels: app: ltsp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> spec: selector: matchLabels: <span class="hljs-type"><span class="hljs-type">name</span></span>: ltsp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> replicas: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>: metadata: labels: <span class="hljs-type"><span class="hljs-type">name</span></span>: ltsp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> spec: hostNetwork: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> containers: - <span class="hljs-type"><span class="hljs-type">name</span></span>: tftpd image: registry.example.org/example/ltsp:latest command: [ "/usr/sbin/in.tftpd", "-L", "-u", "tftp", "-a", ":69", "-s", "/var/lib/tftpboot" ] lifecycle: postStart: exec: command: ["/bin/sh", "-c", "cd /var/lib/tftpboot/ltsp/amd64; ln -sf config/lts.conf ." ] volumeMounts: - <span class="hljs-type"><span class="hljs-type">name</span></span>: config mountPath: "/var/lib/tftpboot/ltsp/amd64/config" - <span class="hljs-type"><span class="hljs-type">name</span></span>: nbd-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> image: registry.example.org/example/ltsp:latest command: [ "/bin/nbd-server-wrapper.sh" ] volumes: - <span class="hljs-type"><span class="hljs-type">name</span></span>: config configMap: <span class="hljs-type"><span class="hljs-type">name</span></span>: ltsp-config</code> </pre> <br><p>  Seperti yang mungkin Anda perhatikan, configmap dengan file <strong>lts.conf</strong> juga digunakan di sini. <br>  Sebagai contoh, saya akan memberikan bagian dari konfigurasi saya: </p><br><pre> <code class="hljs 1c">apiVersion: v1 kind: ConfigMap metadata: name: ltsp-config data: lts.conf: <span class="hljs-string"><span class="hljs-string">| [default] KEEP_SYSTEM_SERVICES = "</span></span>ssh ureadahead dbus-org.freedesktop.login1 systemd-logind polkitd cgmanager ufw rpcbind nfs-kernel-server<span class="hljs-string"><span class="hljs-string">" PREINIT_00_TIME = "</span></span>ln -sf /usr/share/zoneinfo/Europe/Prague /etc/localtime<span class="hljs-string"><span class="hljs-string">" PREINIT_01_FIX_HOSTNAME = "</span></span>sed -i '/^127.0.0.2/d' /etc/hosts<span class="hljs-string"><span class="hljs-string">" PREINIT_02_DOCKER_OPTIONS = "</span></span>sed -i 's|^ExecStart=.*|ExecStart=/usr/bin/dockerd -H fd:// --storage-driver overlay2 --iptables=false --ip-masq=false --log-driver=json-file --log-opt=max-size=10m --log-opt=max-file=5|' /etc/systemd/system/docker.service<span class="hljs-string"><span class="hljs-string">" FSTAB_01_SSH = "</span></span>/dev/data/ssh /etc/ssh ext4 nofail,noatime,nodiratime <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-string"><span class="hljs-string">" FSTAB_02_JOURNALD = "</span></span>/dev/data/journal /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/journal ext4 nofail,noatime,nodiratime <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-string"><span class="hljs-string">" FSTAB_03_DOCKER = "</span></span>/dev/data/docker /var/lib/docker ext4 nofail,noatime,nodiratime <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-string"><span class="hljs-string">" # Each command will stop script execution when fail RCFILE_01_SSH_SERVER = "</span></span>cp /rofs/etc/ssh/*_config /etc/ssh; ssh-keygen -A<span class="hljs-string"><span class="hljs-string">" RCFILE_02_SSH_CLIENT = "</span></span>mkdir -p /root/.ssh/; echo 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDBSLYRaORL2znr1V4a3rjDn3HDHn2CsvUNK1nv8+CctoICtJOPXl6zQycI9KXNhANfJpc6iQG1ZPZUR74IiNhNIKvOpnNRPyLZ5opm01MVIDIZgi9g0DUks1g5gLV5LKzED8xYKMBmAfXMxh/nsP9KEvxGvTJB3OD+/bBxpliTl5xY3Eu41+VmZqVOz3Yl98+X8cZTgqx2dmsHUk7VKN9OZuCjIZL9MtJCZyOSRbjuo4HFEssotR1mvANyz+BUXkjqv2pEa0I2vGQPk1VDul5TpzGaN3nOfu83URZLJgCrX+8whS1fzMepUYrbEuIWq95esjn0gR6G4J7qlxyguAb9 admin@kubernetes' &gt;&gt; /root/.ssh/authorized_keys<span class="hljs-string"><span class="hljs-string">" RCFILE_03_KERNEL_DEBUG = "</span></span>sysctl -w kernel.unknown_nmi_panic=<span class="hljs-number"><span class="hljs-number">1</span></span> kernel.softlockup_panic=<span class="hljs-number"><span class="hljs-number">1</span></span>; modprobe netconsole netconsole=@/vmbr0,@<span class="hljs-number"><span class="hljs-number">10.9</span></span>.<span class="hljs-number"><span class="hljs-number">0.15</span></span>/<span class="hljs-string"><span class="hljs-string">" RCFILE_04_SYSCTL = "</span></span>sysctl -w fs.file-max=<span class="hljs-number"><span class="hljs-number">20000000</span></span> fs.nr_open=<span class="hljs-number"><span class="hljs-number">20000000</span></span> net.ipv4.neigh.default.gc_thresh1=<span class="hljs-number"><span class="hljs-number">80000</span></span> net.ipv4.neigh.default.gc_thresh2=<span class="hljs-number"><span class="hljs-number">90000</span></span> net.ipv4.neigh.default.gc_thresh3=<span class="hljs-number"><span class="hljs-number">100000</span></span><span class="hljs-string"><span class="hljs-string">" RCFILE_05_FORWARD = "</span></span>echo <span class="hljs-number"><span class="hljs-number">1</span></span> &gt; /proc/sys/net/ipv4/ip_forward<span class="hljs-string"><span class="hljs-string">" RCFILE_06_MODULES = "</span></span>modprobe br_netfilter<span class="hljs-string"><span class="hljs-string">" RCFILE_07_JOIN_K8S = "</span></span>kubeadm join --token <span class="hljs-number"><span class="hljs-number">2</span></span>a4576.<span class="hljs-number"><span class="hljs-number">504356</span></span>e45fa3d365 <span class="hljs-number"><span class="hljs-number">10.9</span></span>.<span class="hljs-number"><span class="hljs-number">0.20</span></span>:<span class="hljs-number"><span class="hljs-number">6443</span></span> --discovery-token-ca-cert-hash sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855<span class="hljs-string"><span class="hljs-string">"</span></span></code> 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDBSLYRaORL2znr1V4a3rjDn3HDHn2CsvUNK1nv8 + CctoICtJOPXl6zQycI9KXNhANfJpc6iQG1ZPZUR74IiNhNIKvOpnNRPyLZ5opm01MVIDIZgi9g0DUks1g5gLV5LKzED8xYKMBmAfXMxh / nsP9KEvxGvTJB3OD + / bBxpliTl5xY3Eu41 + VmZqVOz3Yl98 + X8cZTgqx2dmsHUk7VKN9OZuCjIZL9MtJCZyOSRbjuo4HFEssotR1mvANyz + BUXkjqv2pEa0I2vGQPk1VDul5TpzGaN3nOfu83URZLJgCrX + 8whS1fzMepUYrbEuIWq95esjn0gR6G4J7qlxyguAb9 admin @ kubernetes' &gt;&gt; /root/.ssh/authorized_keys" <code class="hljs 1c">apiVersion: v1 kind: ConfigMap metadata: name: ltsp-config data: lts.conf: <span class="hljs-string"><span class="hljs-string">| [default] KEEP_SYSTEM_SERVICES = "</span></span>ssh ureadahead dbus-org.freedesktop.login1 systemd-logind polkitd cgmanager ufw rpcbind nfs-kernel-server<span class="hljs-string"><span class="hljs-string">" PREINIT_00_TIME = "</span></span>ln -sf /usr/share/zoneinfo/Europe/Prague /etc/localtime<span class="hljs-string"><span class="hljs-string">" PREINIT_01_FIX_HOSTNAME = "</span></span>sed -i '/^127.0.0.2/d' /etc/hosts<span class="hljs-string"><span class="hljs-string">" PREINIT_02_DOCKER_OPTIONS = "</span></span>sed -i 's|^ExecStart=.*|ExecStart=/usr/bin/dockerd -H fd:// --storage-driver overlay2 --iptables=false --ip-masq=false --log-driver=json-file --log-opt=max-size=10m --log-opt=max-file=5|' /etc/systemd/system/docker.service<span class="hljs-string"><span class="hljs-string">" FSTAB_01_SSH = "</span></span>/dev/data/ssh /etc/ssh ext4 nofail,noatime,nodiratime <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-string"><span class="hljs-string">" FSTAB_02_JOURNALD = "</span></span>/dev/data/journal /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/journal ext4 nofail,noatime,nodiratime <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-string"><span class="hljs-string">" FSTAB_03_DOCKER = "</span></span>/dev/data/docker /var/lib/docker ext4 nofail,noatime,nodiratime <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-string"><span class="hljs-string">" # Each command will stop script execution when fail RCFILE_01_SSH_SERVER = "</span></span>cp /rofs/etc/ssh/*_config /etc/ssh; ssh-keygen -A<span class="hljs-string"><span class="hljs-string">" RCFILE_02_SSH_CLIENT = "</span></span>mkdir -p /root/.ssh/; echo 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDBSLYRaORL2znr1V4a3rjDn3HDHn2CsvUNK1nv8+CctoICtJOPXl6zQycI9KXNhANfJpc6iQG1ZPZUR74IiNhNIKvOpnNRPyLZ5opm01MVIDIZgi9g0DUks1g5gLV5LKzED8xYKMBmAfXMxh/nsP9KEvxGvTJB3OD+/bBxpliTl5xY3Eu41+VmZqVOz3Yl98+X8cZTgqx2dmsHUk7VKN9OZuCjIZL9MtJCZyOSRbjuo4HFEssotR1mvANyz+BUXkjqv2pEa0I2vGQPk1VDul5TpzGaN3nOfu83URZLJgCrX+8whS1fzMepUYrbEuIWq95esjn0gR6G4J7qlxyguAb9 admin@kubernetes' &gt;&gt; /root/.ssh/authorized_keys<span class="hljs-string"><span class="hljs-string">" RCFILE_03_KERNEL_DEBUG = "</span></span>sysctl -w kernel.unknown_nmi_panic=<span class="hljs-number"><span class="hljs-number">1</span></span> kernel.softlockup_panic=<span class="hljs-number"><span class="hljs-number">1</span></span>; modprobe netconsole netconsole=@/vmbr0,@<span class="hljs-number"><span class="hljs-number">10.9</span></span>.<span class="hljs-number"><span class="hljs-number">0.15</span></span>/<span class="hljs-string"><span class="hljs-string">" RCFILE_04_SYSCTL = "</span></span>sysctl -w fs.file-max=<span class="hljs-number"><span class="hljs-number">20000000</span></span> fs.nr_open=<span class="hljs-number"><span class="hljs-number">20000000</span></span> net.ipv4.neigh.default.gc_thresh1=<span class="hljs-number"><span class="hljs-number">80000</span></span> net.ipv4.neigh.default.gc_thresh2=<span class="hljs-number"><span class="hljs-number">90000</span></span> net.ipv4.neigh.default.gc_thresh3=<span class="hljs-number"><span class="hljs-number">100000</span></span><span class="hljs-string"><span class="hljs-string">" RCFILE_05_FORWARD = "</span></span>echo <span class="hljs-number"><span class="hljs-number">1</span></span> &gt; /proc/sys/net/ipv4/ip_forward<span class="hljs-string"><span class="hljs-string">" RCFILE_06_MODULES = "</span></span>modprobe br_netfilter<span class="hljs-string"><span class="hljs-string">" RCFILE_07_JOIN_K8S = "</span></span>kubeadm join --token <span class="hljs-number"><span class="hljs-number">2</span></span>a4576.<span class="hljs-number"><span class="hljs-number">504356</span></span>e45fa3d365 <span class="hljs-number"><span class="hljs-number">10.9</span></span>.<span class="hljs-number"><span class="hljs-number">0.20</span></span>:<span class="hljs-number"><span class="hljs-number">6443</span></span> --discovery-token-ca-cert-hash sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855<span class="hljs-string"><span class="hljs-string">"</span></span></code> </pre> <br><ul><li>  <strong>KEEP_SYSTEM_SERVICES</strong> - selama boot LTSP secara otomatis menghapus beberapa layanan, variabel ini diperlukan untuk mencegah perilaku ini untuk layanan yang tercantum di sini. </li><li>  <b>PREINIT_ *</b> - perintah yang tercantum di sini akan dieksekusi sebelum menjalankan systemd (fitur ini ditambahkan oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">feature_preinit.diff</a> patch) </li><li>  <b>FSTAB_ *</b> - baris yang tercantum di sini akan ditambahkan ke file <code>/etc/fstab</code> . <br>  Anda mungkin memperhatikan bahwa saya menggunakan opsi <code>nofail</code> , ini memberikan perilaku berikut, bahwa jika bagian itu tidak ada, unduhan berlanjut tanpa kesalahan. </li><li>  <b>RCFILE_ *</b> - perintah ini akan ditambahkan ke file <code>rc.local</code> , yang akan dipanggil oleh systemd saat boot. <br>  Di sini saya memuat modul kernel yang diperlukan, menjalankan beberapa pengaturan sysctl, dan kemudian menjalankan perintah <code>kubeadm join</code> , yang menambahkan node ke cluster kubernetes. </li></ul><br><p>  Anda bisa mendapatkan informasi lebih rinci tentang semua variabel dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman manual lts.conf</a> . </p><br><p>  Sekarang Anda dapat mengkonfigurasi DHCP Anda.  Pada dasarnya, yang Anda butuhkan di sana adalah untuk menentukan opsi <code>next-server</code> dan <code>filename</code> . </p><br><p>  Saya menggunakan server ISC-DHCP, saya akan memberikan contoh <code>dhcpd.conf</code> : </p><br><pre> <code class="hljs pgsql">shared-network ltsp-netowrk { subnet <span class="hljs-number"><span class="hljs-number">10.9</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> netmask <span class="hljs-number"><span class="hljs-number">255.255</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> { authoritative; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>-lease-<span class="hljs-type"><span class="hljs-type">time</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>; max-lease-<span class="hljs-type"><span class="hljs-type">time</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">option</span></span> <span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>-<span class="hljs-type"><span class="hljs-type">name</span></span> "example.org"; <span class="hljs-keyword"><span class="hljs-keyword">option</span></span> <span class="hljs-keyword"><span class="hljs-keyword">domain</span></span>-<span class="hljs-type"><span class="hljs-type">name</span></span>-servers <span class="hljs-number"><span class="hljs-number">10.9</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">option</span></span> routers <span class="hljs-number"><span class="hljs-number">10.9</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>; next-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> ltsp<span class="hljs-number"><span class="hljs-number">-1</span></span>; # <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> ltsp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> hostname here <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">option</span></span> architecture = <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">07</span></span> { filename "/ltsp/amd64/grub/x86_64-efi/core.efi"; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { filename "/ltsp/amd64/grub/i386-pc/core.0"; } <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-number"><span class="hljs-number">10.9</span></span><span class="hljs-number"><span class="hljs-number">.200</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> <span class="hljs-number"><span class="hljs-number">10.9</span></span><span class="hljs-number"><span class="hljs-number">.250</span></span><span class="hljs-number"><span class="hljs-number">.254</span></span>; }</code> </pre> <br><p>  Anda dapat mulai dengan ini, tetapi bagi saya, saya memiliki beberapa server LTSP dan untuk setiap node saya mengkonfigurasi alamat IP statis yang terpisah dan opsi yang diperlukan menggunakan buku pedoman yang dimungkinkan. </p><br><p>  Coba mulai simpul pertama Anda dan jika semuanya dilakukan dengan benar, Anda akan mendapatkan sistem yang dimuat di dalamnya.  Node juga akan ditambahkan ke cluster Kubernetes. </p><br><p>  Sekarang Anda dapat mencoba membuat perubahan sendiri. </p><br><p>  Jika Anda membutuhkan sesuatu yang lebih, perhatikan bahwa LTSP dapat dengan mudah disesuaikan agar sesuai dengan kebutuhan Anda.  Jangan ragu untuk melihat ke sumbernya, di sana Anda dapat menemukan banyak jawaban. </p><br><p>  Bergabunglah dengan saluran Telegram kami: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">@ltsp_ru</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id423785/">https://habr.com/ru/post/id423785/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id423775/index.html">Saya ingin sepotong besi yang indah. Ternyata</a></li>
<li><a href="../id423777/index.html">Proyek Keystone: Lingkungan Tepercaya untuk Menjalankan Aplikasi Berbasis RISC-V</a></li>
<li><a href="../id423779/index.html">Cadangan cloud-to-cloud: apa itu dan mengapa diperlukan</a></li>
<li><a href="../id423781/index.html">Catatan dari penyedia IoT. Kasus: kami membuat jaringan LoRa untuk dispenser bahan bakar di Chelyabinsk</a></li>
<li><a href="../id423783/index.html">Splunk: Pembelajaran mesin ke tingkat berikutnya</a></li>
<li><a href="../id423787/index.html">TEST Labs 2018. Mitap online untuk penguji. 28-29 September</a></li>
<li><a href="../id423791/index.html">Kami membuat konfigurator 3D tanpa pemrograman dan tata letak. Bagian dua</a></li>
<li><a href="../id423793/index.html">"Kami membuat keputusan ini, sial, tepat waktu!" - 10 pertanyaan kepada programmer, masalah 5</a></li>
<li><a href="../id423797/index.html">Struktur Burung Cakep: aliran pengembangan</a></li>
<li><a href="../id423799/index.html">Briefing sebagai investasi. Penggunaan intranet dengan benar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>