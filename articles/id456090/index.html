<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸŒ ğŸŠ ğŸ‘©ğŸ¾â€ğŸŒ¾ Pengantar Unit Testing in Unity ğŸ‘²ğŸ½ ğŸ‘©ğŸ»â€âš•ï¸ ğŸ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Apakah Anda ingin tahu bagaimana pengujian unit bekerja di Unity? Tidak yakin apa pengujian unit secara umum? Jika Anda menjawab pertanyaan-pertanyaan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pengantar Unit Testing in Unity</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456090/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b63/9d9/71f/b639d971f3e2a10105d91bb3c94fdbb1.jpg" alt="gambar"></div><br>  Apakah Anda ingin tahu bagaimana pengujian unit bekerja di Unity?  Tidak yakin apa pengujian unit secara umum?  Jika Anda menjawab pertanyaan-pertanyaan ini secara positif, maka tutorial ini akan bermanfaat bagi Anda.  Dari sini Anda akan mempelajari yang berikut tentang pengujian unit: <br><br><ul><li>  Apa ini </li><li>  Manfaatnya </li><li>  Keuntungan dan kerugian </li><li>  Cara kerjanya di Unity menggunakan Test Runner </li><li>  Cara menulis dan menjalankan unit test yang akan diuji </li></ul><br><blockquote>  <em>Catatan</em> : tutorial ini mengasumsikan bahwa Anda terbiasa dengan C # dan dasar-dasar pengembangan di Unity.  Jika Anda baru mengenal Unity, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lihat tutorial lain di mesin ini terlebih dahulu</a> . </blockquote><h2>  Apa itu unit test? </h2><br>  Sebelum mempelajari kode, penting untuk mendapatkan pemahaman yang jelas tentang apa pengujian unit itu.  Sederhananya, pengujian unit adalah pengujian ... unit. <br><br>  <em>Tes unit</em> (idealnya) dirancang untuk menguji unit kode yang terpisah.  Komposisi "unit" dapat bervariasi, tetapi penting untuk diingat bahwa pengujian unit harus menguji tepat satu "elemen" pada suatu waktu. <br><a name="habracut"></a><br>  Tes unit perlu dibuat untuk memverifikasi bahwa sepotong kecil kode logis dalam skenario tertentu berjalan persis seperti yang Anda harapkan.  Ini bisa sulit dipahami sebelum Anda mulai menulis unit test Anda sendiri, jadi mari kita lihat sebuah contoh: <br><br>  Anda telah menulis metode yang memungkinkan pengguna memasukkan nama.  Metode ini ditulis sehingga angka tidak diperbolehkan dalam nama, dan nama itu sendiri dapat terdiri dari hanya sepuluh karakter atau kurang.  Metode Anda memotong ketukan tombol masing-masing dan menambahkan karakter yang sesuai ke bidang <code>name</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> name = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UpdateNameWithCharacter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">: character</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// 1 if (!Char.IsLetter(char)) { return; } // 2 if (name.Length &gt; 10) { return; } // 3 name += character; }</span></span></code> </pre> <br>  Apa yang terjadi di sini: <br><br><ol><li>  Jika karakter bukan huruf, maka kode keluar dari fungsi dan tidak menambahkan karakter ke string. </li><li>  Jika nama panjangnya sepuluh karakter atau lebih, kode tersebut tidak memungkinkan pengguna untuk menambahkan karakter lain. </li><li>  Jika dua pemeriksaan ini diteruskan, kode akan menambahkan karakter ke akhir nama. </li></ol><br>  Unit ini dapat diuji, karena merupakan "modul" dari pekerjaan yang dilakukan.  Tes unit <i>menegakkan</i> logika metode. <br><br><h2>  Contoh Uji Unit </h2><br>  Bagaimana cara menulis unit test untuk metode <code>UpdateNameWithCharacter</code> ? <br><br>  Sebelum kita mulai menerapkan tes unit ini, kita perlu mempertimbangkan dengan hati-hati apa yang dilakukan tes ini dan menghasilkan nama untuknya. <br><br>  Lihatlah contoh-contoh nama tes unit di bawah ini.  Dari nama-nama itu harus jelas bahwa mereka memeriksa: <br><br> <code>UpdateNameDoesntAllowCharacterAddingToNameIfNameIsTenOrMoreCharactersInLength</code> <br> <br> <code>UpdateNameAllowsLettersToBeAddedToName</code> <br> <br> <code>UpdateNameDoesntAllowNonLettersToBeAddedToName</code> <br> <br>  Dari nama-nama metode pengujian ini, kami melihat bahwa kami benar-benar memeriksa apakah "unit" pekerjaan <code>UpdateNameWithCharacter</code> oleh metode <code>UpdateNameWithCharacter</code> .  Nama pengujian ini mungkin tampak terlalu panjang dan terperinci, tetapi bagus untuk kita. <br><br>  Setiap tes unit yang Anda tulis adalah bagian dari serangkaian tes.  <em>Suite tes</em> berisi semua tes unit yang terkait dengan grup logis fungsional (misalnya, "tes unit pertempuran").  Jika ada tes dari kit gagal tes, maka seluruh test suite gagal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/20d/1e7/0ed/20d1e70ed7231be0c0cfd5f6f082751c.png"></div><br><h2>  Peluncuran game </h2><br>  Buka proyek <em>Crashteroids Starter</em> (Anda dapat mengunduhnya <a href="">dari sini</a> ), lalu buka adegan <em>Permainan</em> dari folder <em>Aset / RW / Adegan</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/029/6fd/316/0296fd31696c7e75eeea4ec626709277.jpg"></div><br>  Klik <em>Play</em> untuk meluncurkan Crashteroids, dan kemudian klik tombol <em>Start Game</em> .  Pindahkan pesawat ruang angkasa dengan panah <em>kiri</em> dan <em>kanan</em> di keyboard. <br><br>  Untuk menembakkan sinar laser, tekan <em>bilah spasi</em> .  Jika balok menyentuh asteroid, maka skor akan meningkat satu.  Jika asteroid bertabrakan dengan sebuah kapal, kapal itu meledak dan permainan berakhir (dengan kemampuan untuk memulai lagi). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c2f/cea/c40/c2fceac408455035e41f3c9c268ff448.jpg"></div><br>  Cobalah untuk bermain sedikit dan pastikan bahwa setelah tabrakan asteroid dengan kapal muncul tulisan Game Over. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b5/55f/fa6/0b555ffa69f33fb09fb17204197af889.jpg"></div><br><h2>  Memulai dengan Runner Uji Unity </h2><br>  Sekarang kita tahu bagaimana permainan berjalan, sekarang saatnya untuk menulis tes unit untuk memverifikasi bahwa semuanya berjalan sebagaimana mestinya.  Jadi, jika Anda (atau orang lain) memutuskan untuk memperbarui game, Anda akan yakin bahwa pembaruan itu tidak akan merusak apa pun yang berhasil sebelumnya. <br><br>  Untuk menulis tes, Anda harus terlebih dahulu belajar tentang Pelari Tes Persatuan.  <em>Test Runner</em> memungkinkan Anda untuk menjalankan tes dan memeriksa apakah tes tersebut berhasil.  Untuk membuka Unity Test Runner, pilih <em>Window â–¸ General â–¸ Test Runner</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f48/f31/aa4/f48f31aa4fc16c486b2161c75ba772af.jpg"></div><br>  Setelah Test Runner terbuka di jendela baru, Anda dapat menyederhanakan hidup Anda dengan mengklik jendela Test Runner dan <em>menariknya</em> ke tempat di sebelah jendela Scene. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e10/25b/408/e1025b408f785453827a962ce33aff67.gif"></div><br><h2>  Mempersiapkan NUnit dan Folder Tes </h2><br>  Test Runner adalah fitur pengujian unit yang disediakan oleh Unity, tetapi menggunakan kerangka kerja <em>NUnit</em> .  Ketika Anda mulai bekerja dengan unit test lebih serius, saya sarankan mempelajari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">wiki di NUnit</a> untuk mempelajari lebih lanjut.  Tentang semua yang Anda butuhkan untuk pertama kalinya akan dibahas dalam artikel ini. <br><br>  Untuk menjalankan tes, pertama-tama kita perlu membuat folder tes di mana kelas tes akan disimpan. <br><br>  Di jendela <em>Proyek,</em> pilih folder <em>RW</em> .  Lihatlah jendela <em>Test Runner</em> dan pastikan <em>PlayMode</em> dipilih. <br><br>  Klik tombol yang disebut <em>Buat Folder Perakitan Tes PlayMode</em> .  Anda akan melihat folder baru muncul di folder RW.  Kami puas dengan <em>Tes</em> nama standar, jadi Anda cukup menekan <em>Enter</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5f5/be4/df3/5f5be4df386c8f262c4a3c257b55319f.gif"></div><br>  Anda mungkin bertanya-tanya apa dua tab berbeda ini di dalam Test Runner. <br><br>  Tab <em>PlayMode</em> digunakan untuk tes yang dilakukan dalam mode Play (saat game berjalan dalam waktu nyata).  Tes pada tab <em>EditMode</em> dijalankan di luar mode Play, yang nyaman untuk menguji hal-hal seperti perilaku khusus di Inspektur. <br><br>  Dalam tutorial ini, kita akan membahas tes PlayMode.  Tetapi ketika Anda merasa nyaman, Anda dapat mencoba bereksperimen dengan pengujian di EditMode.  <em>Saat bekerja dengan Test Runner dalam tutorial ini, selalu pastikan bahwa tab PlayMode dipilih</em> . <br><br><h2>  Apa yang ada di dalam test suite? </h2><br>  Seperti yang telah kita pelajari di atas, uji unit adalah fungsi yang menguji perilaku sepotong kecil kode tertentu.  Karena unit test adalah metode, untuk menjalankannya, harus dalam file kelas. <br><br>  Test Runner memintas semua file kelas uji dan melakukan tes unit dari mereka.  File kelas yang berisi unit test disebut test suite. <br><br>  Di dalam test suite, kami secara logis membagi pengujian kami.  Kita harus memisahkan kode tes menjadi set logis yang terpisah (misalnya, satu set tes untuk fisika dan set terpisah untuk pertempuran).  Dalam tutorial ini kita hanya perlu satu set tes, dan sekarang saatnya untuk membuatnya. <br><br><h2>  Mempersiapkan unit uji dan ruang uji </h2><br>  Pilih folder <em>Tes</em> dan di jendela <em>Test Runner</em> klik pada tombol <em>Buat Skrip Tes di folder saat ini</em> .  Beri nama file <em>TestSuite</em> baru. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c64/0ab/968/c640ab968dfd79a3c72e2a99bc5daa2c.gif"></div><br>  Selain file C # baru, mesin Unity juga membuat file lain yang disebut <em>Tests.asmdef</em> .  Ini adalah <em>file definisi rakitan</em> , yang digunakan untuk menunjukkan Unity di mana dependensi file uji berada.  Ini diperlukan karena kode aplikasi yang sudah selesai terkandung secara terpisah dari kode uji. <br><br>  Jika Anda memiliki situasi di mana Unity tidak dapat menemukan file tes atau tes, maka pastikan bahwa ada file definisi rakitan yang menyertakan suite pengujian Anda.  Langkah selanjutnya adalah mengkonfigurasinya. <br><br>  Agar kode tes memiliki akses ke kelas game, kami akan membuat rakitan kode kelas dan mengatur tautan di rakitan Tes.  Klik pada folder <em>Script</em> untuk memilihnya.  Klik kanan pada folder ini dan pilih <em>Create â–¸ Assembly Definition</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5b8/24c/84a/5b824c84ad6686493c41951751030b8d.jpg"></div><br>  Beri nama file <em>GameAssembly</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/21b/bd6/c96/21bbd6c968426c23ea7839dd9f747355.png"></div><br>  Klik folder <em>Tes</em> , dan kemudian file definisi <em>Tes</em> membangun.  Di <em>Inspektur,</em> klik tombol <em>tambah di</em> bawah judul <em>Referensi Definisi Majelis</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4be/fc3/d13/4befc3d13ea67e5ec94b707d04582a3d.png"></div><br>  Anda akan melihat bidang <em>Referensi Hilang</em> .  Klik pada <em>titik di</em> sebelah bidang ini untuk membuka jendela pemilihan.  Pilih file <em>GameAssembly</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/727/990/57f/72799057fe5ff62ba5c997d5ec2a7563.jpg"></div><br>  Anda harus melihat file rakitan GameAssembly di bagian tautan.  Klik tombol <em>Terapkan</em> untuk menyimpan perubahan ini. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a16/bf5/259/a16bf525984f2f23b819d9b2d0e37a2b.png"></div><br>  Jika Anda tidak mengikuti langkah-langkah ini, Anda tidak akan dapat merujuk file kelas gim di dalam file pengujian unit.  Setelah berurusan dengan ini, Anda dapat melanjutkan ke kode. <br><br><h2>  Kami menulis unit test pertama </h2><br>  Klik dua kali pada skrip <em>TestSuite</em> untuk membukanya di editor kode.  Ganti semua kode dengan ini: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.TestTools; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> NUnit.Framework; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TestSuite</span></span> { }</code> </pre> <br>  Tes apa yang perlu kita tulis?  Jujur, bahkan dalam gim kecil seperti Crashteroids, Anda dapat menulis beberapa tes untuk memverifikasi bahwa semuanya berfungsi sebagaimana mestinya.  Dalam tutorial ini, kami membatasi diri hanya pada bidang utama: pengenalan tabrakan dan mekanisme permainan dasar. <br><br><blockquote>  <em>Catatan</em> : dalam hal menulis unit test suatu produk pada tingkat produksi, Anda harus membayar cukup waktu untuk memperhitungkan semua kasus batas yang perlu diuji di semua area kode. </blockquote><br>  Sebagai tes pertama, senang memeriksa apakah asteroid benar-benar bergerak ke bawah.  Akan sulit bagi mereka untuk bertabrakan dengan kapal jika mereka menjauh darinya!  Tambahkan metode berikut dan variabel pribadi ke skrip <em>TestSuite</em> : <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Game game; <span class="hljs-comment"><span class="hljs-comment">// 1 [UnityTest] public IEnumerator AsteroidsMoveDown() { // 2 GameObject gameGameObject = MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;("Prefabs/Game")); game = gameGameObject.GetComponent&lt;Game&gt;(); // 3 GameObject asteroid = game.GetSpawner().SpawnAsteroid(); // 4 float initialYPos = asteroid.transform.position.y; // 5 yield return new WaitForSeconds(0.1f); // 6 Assert.Less(asteroid.transform.position.y, initialYPos); // 7 Object.Destroy(game.gameObject); }</span></span></code> </pre> <br>  Hanya ada beberapa baris kode, tetapi mereka melakukan banyak hal.  Jadi mari kita berhenti dan berurusan dengan setiap bagian: <br><br><ol><li>  Ini adalah <em>atribut</em> .  Atribut mendefinisikan perilaku kompiler tertentu.  Atribut ini memberi tahu kompilator Unity bahwa kode tersebut adalah unit test.  Karena ini, itu akan muncul di Test Runner ketika memulai tes. </li><li>  Buat instance dari Game.  Semua yang lain tertanam dalam gim, jadi saat kami membuatnya, itu akan berisi semua yang perlu diuji.  Dalam lingkungan produksi, kemungkinan besar semua elemen tidak akan berada di dalam cetakan yang sama.  Oleh karena itu, Anda harus membuat ulang semua objek yang diperlukan dalam adegan. </li><li>  Di sini kita membuat asteroid sehingga kita bisa memantau apakah itu bergerak.  Metode <code>SpawnAsteroid</code> mengembalikan turunan asteroid yang dibuat.  Komponen Asteroid memiliki metode <code>Move</code> (jika Anda ingin tahu bagaimana gerakan bekerja, Anda dapat melihat skrip <em>Asteroid</em> di dalam <em>RW / Script</em> ). </li><li>  Pelacakan posisi awal diperlukan untuk memastikan bahwa asteroid telah bergerak turun. </li><li>  Semua tes unit Unity adalah coroutine, jadi Anda perlu menambahkan pengembalian lunak.  Kami juga menambahkan langkah waktu 0,1 detik untuk mensimulasikan berlalunya waktu yang asteroid seharusnya turun.  Jika Anda tidak perlu mensimulasikan langkah waktu, Anda dapat mengembalikan nol. </li><li>  Ini adalah tahap <em>penegasan</em> , di mana kami mengklaim bahwa posisi asteroid lebih kecil dari posisi awal (artinya, ia telah bergerak ke bawah).  Memahami asersi adalah bagian penting dari pengujian unit, dan NUnit menyediakan berbagai metode asersi.  Lulus atau tidak lulus tes ditentukan oleh baris ini. </li><li>  Tentu saja, tidak ada yang akan memarahi Anda karena kekacauan yang tersisa setelah menyelesaikan tes, tetapi tes lain mungkin gagal karena itu.  Selalu penting untuk membersihkan (menghapus atau mengatur ulang) kode setelah pengujian unit, sehingga ketika Anda menjalankan tes unit berikutnya tidak ada artefak yang tersisa yang dapat mempengaruhi tes ini.  Cukup bagi kita untuk menghapus objek game, karena untuk setiap tes kita membuat instance game yang sama sekali baru. </li></ol><br><h2>  Lulus tes </h2><br>  Nah, Anda menulis unit test pertama Anda, tetapi bagaimana Anda tahu jika itu berhasil?  Tentu saja, dengan Test Runner!  Di jendela Test Runner, perluas semua garis dengan panah.  Anda akan melihat tes <code>AsteroidsMoveDown</code> dalam daftar dengan lingkaran abu-abu: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d4c/5d4/05a/d4c5d405a1aa5aded204806790a07233.jpg"></div><br>  Lingkaran abu-abu menunjukkan bahwa tes belum selesai.  Jika tes telah dimulai dan lulus, maka panah hijau ditampilkan di sebelahnya.  Jika tes gagal, maka X merah akan ditampilkan di sebelahnya.Jalankan tes dengan mengklik tombol <em>RunAll</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d45/da5/8c9/d45da58c99e0db679578aabab6e5601b.jpg"></div><br>  Ini akan membuat adegan sementara dan menjalankan tes.  Setelah selesai, Anda akan melihat bahwa tes lulus. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/640/16b/19e/64016b19e01a68544a1644b61ffb5c57.jpg"></div><br>  Anda telah berhasil menulis unit test pertama Anda yang menyatakan bahwa asteroid yang dibuat bergerak turun. <br><br><blockquote>  <em>Catatan</em> : sebelum Anda mulai menulis tes unit Anda sendiri, Anda harus memahami implementasi yang Anda uji.  Jika Anda ingin tahu bagaimana logika yang Anda uji berfungsi, maka pelajari kode di folder <em>RW / Script</em> . </blockquote><br><h2>  Menggunakan tes integrasi </h2><br>  Sebelum bergerak lebih jauh ke dalam lubang uji unit kelinci, inilah saatnya untuk mengetahui apa tes integrasi dan bagaimana mereka berbeda dari pengujian unit. <br><br>  <em>Tes integrasi</em> adalah tes yang memverifikasi bagaimana "modul" kode bekerja bersama.  "Modul" adalah istilah fuzzy lainnya.  Perbedaan penting adalah bahwa tes integrasi harus menguji operasi perangkat lunak dalam produksi nyata (mis. Ketika seorang pemain benar-benar memainkan permainan). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f01/824/6f3/f018246f3658664a77104a1fa1dc045b.png"></div><br>  Katakanlah Anda membuat game pertempuran di mana seorang pemain membunuh monster.  Anda dapat membuat tes integrasi untuk memastikan bahwa ketika seorang pemain membunuh 100 musuh, sebuah prestasi dibuka ("Prestasi"). <br><br>  Tes ini akan memengaruhi beberapa modul kode.  Kemungkinan besar, itu akan menyangkut mesin fisik (pengakuan tabrakan), dispatcher musuh (memantau kesehatan musuh dan memproses kerusakan, serta melewati ke peristiwa terkait lainnya) dan pelacak peristiwa yang melacak semua peristiwa yang dipicu (misalnya, "monster terbunuh").  Kemudian, ketika tiba saatnya untuk membuka pencapaian, ia dapat memanggil manajer prestasi. <br><br>  Tes integrasi akan mensimulasikan pemain yang membunuh 100 monster dan memeriksa apakah pencapaiannya tidak terkunci.  Ini sangat berbeda dari unit test karena ia menguji komponen kode besar yang bekerja bersama. <br><br>  Dalam tutorial ini, kami tidak akan mempelajari tes integrasi, tetapi ini harus menunjukkan perbedaan antara unit kerja (dan mengapa itu sedang diuji unit) dan modul kode (dan mengapa itu sedang diuji integrasi). <br><br><h2>  Menambahkan tes ke suite tes </h2><br>  Tes selanjutnya akan menguji akhir pertandingan ketika kapal bertabrakan dengan asteroid.  Dengan <em>TestSuite</em> terbuka di <em>editor</em> kode, tambahkan tes yang ditunjukkan di bawah ini di bawah tes unit pertama dan simpan file: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">UnityTest</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameOverOccursOnAsteroidCollision</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GameObject gameGameObject = MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;(<span class="hljs-string"><span class="hljs-string">"Prefabs/Game"</span></span>)); Game game = gameGameObject.GetComponent&lt;Game&gt;(); GameObject asteroid = game.GetSpawner().SpawnAsteroid(); <span class="hljs-comment"><span class="hljs-comment">//1 asteroid.transform.position = game.GetShip().transform.position; //2 yield return new WaitForSeconds(0.1f); //3 Assert.True(game.isGameOver); Object.Destroy(game.gameObject); }</span></span></code> </pre> <br>  Kami sudah melihat sebagian besar kode ini dalam tes sebelumnya, tetapi ada beberapa perbedaan: <br><br><ol><li>  Kami memaksa asteroid dan kapal bertabrakan, jelas memberikan asteroid posisi yang sama dengan kapal.  Ini akan membuat tabrakan dari hitbox mereka dan mengarah ke akhir permainan.  Jika Anda penasaran bagaimana kode ini bekerja, lihat file <em>Ship</em> , <em>Game</em> , dan <em>Asteroid</em> di folder Scripts. </li><li>  Sebuah langkah waktu diperlukan untuk acara Tabrakan dari mesin fisik untuk menyala, sehingga penundaan 0,1 detik dikembalikan. </li><li>  Pernyataan ini benar, dan itu memverifikasi bahwa flag <code>gameOver</code> dalam skrip Game itu benar.  Bendera mengambil benar selama operasi game, ketika kapal dihancurkan, yaitu, kami menguji untuk memastikan bahwa itu disetel ke benar setelah kehancuran kapal. </li></ol><br>  Kembali ke jendela Test Runner dan Anda akan melihat bahwa tes unit baru telah muncul di sana. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a8/f52/b28/4a8f52b2875ca90a37b74348435e3da5.jpg"></div><br>  Kali ini kita akan menjalankan yang ini bukan seluruh test suite.  Klik pada <em>GameOverOccursOnAsteroidCollision</em> , dan kemudian pada tombol <em>Run Selected</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7e2/0f5/fbd/7e20f5fbd8b4a8a6ff849fea66c90ed1.jpg"></div><br>  Dan voila, kami lulus ujian lain. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/966/02f/869/96602f869c59d8218407a7ce2e57df7d.jpg"></div><br><h2>  Tahapan penyetelan dan penghancuran </h2><br>  Anda mungkin telah memperhatikan bahwa dalam dua pengujian kami ada kode berulang: di mana objek Game dibuat dan di mana tautan ke skrip Game diatur: <br><br><pre> <code class="cs hljs">GameObject gameGameObject = MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;(<span class="hljs-string"><span class="hljs-string">"Prefabs/Game"</span></span>)); game = gameGameObject.GetComponent&lt;Game&gt;();</code> </pre> <br>  Anda juga akan melihat bahwa ada pengulangan dalam penghancuran objek Game: <br><br><pre> <code class="cs hljs">Object.Destroy(game.gameObject);</code> </pre> <br>  Ketika pengujian ini terjadi sangat sering.  Ketika datang untuk menjalankan tes unit, sebenarnya ada dua fase: fase <em>Pengaturan</em> dan fase <em>Tear Down</em> . <br><br>  Semua kode di dalam metode Pengaturan akan dieksekusi sebelum pengujian unit (dalam set ini), dan semua kode di dalam metode Tear Down akan dieksekusi setelah pengujian unit (dalam set ini). <br><br>  Inilah saatnya menyederhanakan hidup kita dengan memindahkan pengaturan dan meruntuhkan kode ke metode khusus.  Buka editor kode dan tambahkan kode berikut di awal file <em>TestSuite</em> , tepat sebelum atribut [UnityTest] pertama: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SetUp</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Setup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GameObject gameGameObject = MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;(<span class="hljs-string"><span class="hljs-string">"Prefabs/Game"</span></span>)); game = gameGameObject.GetComponent&lt;Game&gt;(); }</code> </pre> <br>  Atribut <code>SetUp</code> menunjukkan bahwa metode ini dipanggil sebelum setiap tes <code>SetUp</code> . <br><br>  Kemudian tambahkan metode berikut dan simpan file: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">TearDown</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Teardown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Object.Destroy(game.gameObject); }</code> </pre> <br>  Atribut <code>TearDown</code> menunjukkan bahwa metode ini dipanggil setelah setiap tes <code>TearDown</code> . <br><br>  Setelah menyiapkan kode pengaturan dan pemusnahan, hapus baris kode yang ada dalam metode ini dan ganti dengan panggilan ke metode yang sesuai.  Setelah itu, kode akan terlihat seperti ini: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TestSuite</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Game game; [SetUp] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Setup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GameObject gameGameObject = MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;(<span class="hljs-string"><span class="hljs-string">"Prefabs/Game"</span></span>)); game = gameGameObject.GetComponent&lt;Game&gt;(); } [TearDown] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Teardown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Object.Destroy(game.gameObject); } [UnityTest] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AsteroidsMoveDown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GameObject asteroid = game.GetSpawner().SpawnAsteroid(); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> initialYPos = asteroid.transform.position.y; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForSeconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.1f</span></span></span></span></span><span class="hljs-function">)</span></span>; Assert.Less(asteroid.transform.position.y, initialYPos); } [UnityTest] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameOverOccursOnAsteroidCollision</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GameObject asteroid = game.GetSpawner().SpawnAsteroid(); asteroid.transform.position = game.GetShip().transform.position; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForSeconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.1f</span></span></span></span></span><span class="hljs-function">)</span></span>; Assert.True(game.isGameOver); } }</code> </pre> <br><h2>  Menguji Game Over dan Laser Shooting </h2><br>  Setelah menyiapkan metode penyetelan dan penghancuran yang menyederhanakan kehidupan kita, kita dapat mulai menambahkan tes baru di mana mereka digunakan.  Tes selanjutnya adalah memverifikasi bahwa ketika seorang pemain mengklik <em>Game Baru</em> , nilai <em>bool gameOver</em> tidak benar.  Tambahkan tes seperti itu ke akhir file dan simpan: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">UnityTest</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NewGameRestartsGame</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//1 game.isGameOver = true; game.NewGame(); //2 Assert.False(game.isGameOver); yield return null; }</span></span></code> </pre> <br>  Ini seharusnya sudah akrab bagi Anda, tetapi yang berikut layak disebutkan: <br><br><ol><li>  Sepotong kode ini mempersiapkan tes ini agar flag boolean <code>gameOver</code> menjadi benar.  Saat memanggil metode <code>NewGame</code> , itu harus lagi mengatur flag ke <code>false</code> . </li><li>  Di sini kami berpendapat bahwa bool <code>isGameOver</code> <code>false</code> , yang seharusnya benar ketika menjalankan game baru. </li></ol><br>  Kembali ke Test Runner dan Anda akan melihat bahwa ada tes baru <em>NewGameRestartsGame</em> .  Jalankan tes ini, seperti yang kami lakukan sebelumnya, dan Anda akan melihat bahwa itu berhasil: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b63/9d9/71f/b639d971f3e2a10105d91bb3c94fdbb1.jpg"></div><br><h2>  Pernyataan Sinar Laser </h2><br>  Tes selanjutnya adalah menambahkan tes bahwa sinar laser yang ditembakkan oleh kapal terbang ke atas (mirip dengan tes unit pertama yang kami tulis).  Buka file <em>TestSuite</em> di editor.  Tambahkan metode berikut dan simpan file: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">UnityTest</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LaserMovesUp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// 1 GameObject laser = game.GetShip().SpawnLaser(); // 2 float initialYPos = laser.transform.position.y; yield return new WaitForSeconds(0.1f); // 3 Assert.Greater(laser.transform.position.y, initialYPos); }</span></span></code> </pre> <br>  Inilah yang dilakukan kode ini: <br><br><ol><li>  Mendapat tautan ke sinar laser yang dihasilkan yang dipancarkan dari kapal. </li><li>  Posisi awal direkam sehingga kami dapat memverifikasi bahwa itu bergerak ke atas. </li><li>  Pernyataan ini konsisten dengan pernyataan dari tes unit <code>AsteroidsMoveDown</code> , hanya sekarang kami mengklaim bahwa nilainya lebih besar (yaitu, laser bergerak ke atas). </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simpan file dan kembali ke Test Runner. </font><font style="vertical-align: inherit;">Jalankan tes </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LaserMovesUp</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan amati </font><em><font style="vertical-align: inherit;">bagaimana</font></em><font style="vertical-align: inherit;"> itu berlalu:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ce/a15/242/2cea152426f82ea491345ead3f0eaa94.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sekarang Anda harus sudah mulai memahami cara kerja semuanya, jadi sekarang saatnya untuk menambahkan dua tes terakhir dan menyelesaikan tutorial. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Memverifikasi bahwa laser menghancurkan asteroid </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selanjutnya, kita akan memastikan bahwa ketika terkena, laser menghancurkan asteroid. </font><font style="vertical-align: inherit;">Buka editor dan tambahkan </font><font style="vertical-align: inherit;">tes berikut </font><font style="vertical-align: inherit;">ke akhir </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan kemudian simpan file:</font></font><br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">UnityTest</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LaserDestroysAsteroid</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// 1 GameObject asteroid = game.GetSpawner().SpawnAsteroid(); asteroid.transform.position = Vector3.zero; GameObject laser = game.GetShip().SpawnLaser(); laser.transform.position = Vector3.zero; yield return new WaitForSeconds(0.1f); // 2 UnityEngine.Assertions.Assert.IsNull(asteroid); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Begini cara kerjanya: </font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kami membuat asteroid dan sinar laser, dan menetapkan mereka posisi yang sama untuk memicu tabrakan. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini adalah ujian khusus dengan perbedaan penting. </font><font style="vertical-align: inherit;">Lihat bahwa kami secara eksplisit menggunakan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnityEngine.Assertions</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk tes ini </font><font style="vertical-align: inherit;">? </font><font style="vertical-align: inherit;">Ini karena Unity memiliki kelas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Null</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> khusus </font><font style="vertical-align: inherit;">yang berbeda dari kelas Null "reguler". </font><font style="vertical-align: inherit;">Pernyataan kerangka kerja NUnit </font></font><code>Assert.IsNull()</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak akan berfungsi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di pemeriksaan Unity untuk null. </font><font style="vertical-align: inherit;">Saat memeriksa null di Unity, Anda harus secara eksplisit menggunakan UnityEngine.Assertions.Assert, bukan Assert dari NUnit.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kembali ke Test Runner dan jalankan tes baru. </font><font style="vertical-align: inherit;">Anda akan melihat ikon hijau yang menyenangkan kami.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/275/80f/1b2/27580f1b206647e0a2fd09c43577ee8f.jpg"></div><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Untuk menguji atau tidak menguji - itulah pertanyaannya </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keputusan untuk tetap pada unit test bukanlah keputusan yang mudah dan tidak boleh dianggap enteng. Namun, manfaat dari tes ini sepadan dengan usaha. Bahkan ada metodologi pengembangan, yang disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengembangan uji-driven</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Test Driven Development, TDD). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dalam kerangka TDD, Anda menulis tes sebelum menulis logika aplikasi itu sendiri. Pertama, Anda membuat tes, pastikan program tidak lulus, dan kemudian tulis kode yang hanya dirancang untuk lulus tes. Ini mungkin pendekatan yang sangat berbeda untuk pengkodean, tetapi memastikan bahwa Anda menulis kode dengan cara yang sesuai untuk pengujian. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingatlah hal ini ketika Anda mulai mengerjakan proyek Anda berikutnya. Tetapi untuk saat ini, saatnya untuk menulis unit test Anda sendiri, yang untuk itu Anda membutuhkan game yang telah kami sediakan untuk Anda.</font></font><br><br><blockquote> <em></em> :    â€”    ,    .   ,           .    Â«Â» ,   ,      .   ,             .        ,        .       ,     ,            . </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pengujian dapat menjadi investasi besar, jadi pertimbangkan kelebihan dan kekurangan dari menambahkan pengujian unit ke proyek Anda: </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Keuntungan Pengujian Unit </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pengujian unit memiliki banyak keuntungan penting, termasuk yang berikut: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ini memberi keyakinan bahwa metode berperilaku seperti yang diharapkan. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Berfungsi sebagai dokumentasi untuk orang baru yang mempelajari basis kode (tes unit sangat bagus untuk mengajar). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Membuat Anda menulis kode dengan cara yang dapat diuji. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Memungkinkan mengisolasi dan memperbaiki kesalahan lebih cepat. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Itu tidak memungkinkan pembaruan di masa depan untuk menambahkan bug baru ke kode kerja lama (mereka disebut kesalahan regresi). </font></font></li></ul><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kekurangan Pengujian Unit </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Namun, Anda mungkin tidak punya waktu atau anggaran untuk pengujian unit. </font><font style="vertical-align: inherit;">Berikut adalah kekurangannya untuk dipertimbangkan:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tes menulis bisa memakan waktu lebih lama daripada kode itu sendiri. </font></font></li><li>       . </li><li>      . </li><li> ,        . </li><li>         ,    -. </li><li>     (       ),       . </li><li> -    . </li><li> UI  . </li><li>           . </li><li>              . </li></ul><br><h2>  ,       </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saatnya menulis tes terakhir. </font><font style="vertical-align: inherit;">Buka editor kode, tambahkan kode di bawah ini ke akhir file </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan simpan:</font></font><br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">UnityTest</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DestroyedAsteroidRaisesScore</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// 1 GameObject asteroid = game.GetSpawner().SpawnAsteroid(); asteroid.transform.position = Vector3.zero; GameObject laser = game.GetShip().SpawnLaser(); laser.transform.position = Vector3.zero; yield return new WaitForSeconds(0.1f); // 2 Assert.AreEqual(game.score, 1); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini adalah tes penting, memverifikasi bahwa ketika seorang pemain menghancurkan asteroid, skornya meningkat. </font><font style="vertical-align: inherit;">Ini terdiri dari:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami membuat asteroid dan sinar laser, dan menempatkannya di satu posisi. </font><font style="vertical-align: inherit;">Karena ini, tabrakan muncul yang memicu peningkatan skor.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pernyataan bahwa game.score sekarang 1 (dan bukan 0, seperti di awal). </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Simpan kode dan kembali ke Test Runner untuk menjalankan tes terakhir ini dan lihat apakah itu menjalankan permainan: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e5d/d4c/0ee/e5dd4c0ee4ad72e21a180621c65c11ba.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luar biasa! </font><font style="vertical-align: inherit;">Semua tes lulus.</font></font><br><br><h2>  Ke mana harus pergi selanjutnya? </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam artikel tersebut kami memeriksa sejumlah besar informasi. </font><font style="vertical-align: inherit;">Jika Anda ingin membandingkan karya Anda dengan tugas akhir, maka lihatlah di </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arsip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tautan yang juga ditunjukkan di awal artikel. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam tutorial ini, Anda mempelajari tes unit apa dan bagaimana menulisnya di Unity. </font><font style="vertical-align: inherit;">Selain itu, Anda menulis enam unit pengujian yang berhasil melewati kode, dan berkenalan dengan beberapa pro dan kontra dari pengujian unit. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merasa percaya diri? </font><font style="vertical-align: inherit;">Maka Anda dapat menulis lebih banyak tes. </font><font style="vertical-align: inherit;">Periksa file kelas gim dan coba tulis unit test untuk bagian kode lainnya. </font><font style="vertical-align: inherit;">Pertimbangkan untuk menambahkan tes untuk skenario berikut:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Setiap jenis asteroid saat Anda menyentuh kapal mengarah ke akhir permainan. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Memulai game baru akan mengatur ulang skor. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gerakan ke kiri dan ke kanan agar kapal bekerja dengan benar. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda ingin meningkatkan pengetahuan Anda tentang pengujian unit, maka ada baiknya mengeksplorasi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementasi dependensi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kerangka kerja untuk bekerja dengan objek tiruan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ini dapat sangat menyederhanakan pengaturan pengujian. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baca juga </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi NUnit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mempelajari lebih lanjut tentang kerangka NUnit. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan jangan ragu untuk membagikan pemikiran dan pertanyaan Anda di forum. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengujian yang berhasil!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id456090/">https://habr.com/ru/post/id456090/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id456072/index.html">Dav1d - dekoder AV1 tercepat sekarang di Firefox secara default</a></li>
<li><a href="../id456078/index.html">Proyeksi konflik perusahaan pada konektivitas jaringan</a></li>
<li><a href="../id456084/index.html">Kubernet 1.15: Ikhtisar Sorotan</a></li>
<li><a href="../id456086/index.html">iOS Storyboards: analisis pro dan kontra, praktik terbaik</a></li>
<li><a href="../id456088/index.html">Masalah Analisis Data Besar</a></li>
<li><a href="../id456092/index.html">Tujuh tanda yang merisaukan bahwa Anda bergantung pada cuaca, meskipun Anda tidak mengira begitu</a></li>
<li><a href="../id456094/index.html">Kami membaca lembar data 2: SPI pada STM32; Pengatur waktu PWM dan interupsi pada STM8</a></li>
<li><a href="../id456096/index.html">Apa yang pembaca geektimes rata-rata lakukan sambil melayang di awan</a></li>
<li><a href="../id456100/index.html">Sekarang dalam kemasan baru - Kingston A400 dalam format M.2 bergegas ke pasar</a></li>
<li><a href="../id456102/index.html">Pelaporan mudah dalam C / C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>