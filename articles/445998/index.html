<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ê üóØÔ∏è üßñüèæ C√≥mo hacer amigos Progress OpenEdge y Oracle DBMS üèÇüèª üõÄüèª üíé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Desde 1999, nuestro banco ha estado utilizando el sistema bancario BISKVIT integrado en la plataforma Progress OpenEdge para dar servicio a la oficina...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo hacer amigos Progress OpenEdge y Oracle DBMS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vtb/blog/445998/">  Desde 1999, nuestro banco ha estado utilizando el sistema bancario BISKVIT integrado en la plataforma Progress OpenEdge para dar servicio a la oficina administrativa, que se usa ampliamente en todo el mundo, incluso en el sector financiero.  El rendimiento de este DBMS le permite leer hasta un mill√≥n o m√°s registros por segundo en una base de datos (DB).  Nuestro Progress OpenEdge atiende a aproximadamente 1.5 millones de dep√≥sitos de personas f√≠sicas y aproximadamente 22.2 millones de contratos para productos activos (pr√©stamos para autom√≥viles e hipotecas), y tambi√©n es responsable de todos los acuerdos con el regulador (CB) y SWIFT. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/307/c1d/98d/307c1d98db920948d240ad6101acc1e1.png"><br><br>  Al utilizar Progress OpenEdge, nos enfrentamos al hecho de que necesitamos hacer amigos con Oracle DBMS.  Inicialmente, este paquete era el "cuello de botella" de nuestra infraestructura, hasta que instalamos y configuramos Pro2 CDC, un producto de Progress que le permite enviar datos de Progress DBMS a Oracle DBMS directamente, en l√≠nea.  En esta publicaci√≥n, explicaremos en detalle, con todas las dificultades, c√≥mo hacer amigos de manera efectiva con OpenEdge y Oracle. <br><a name="habracut"></a><br><h2>  C√≥mo fue: cargar datos a QCD a trav√©s del intercambio de archivos </h2><br>  Primero, algunos datos sobre nuestra infraestructura.  El n√∫mero de usuarios activos de la base de datos es de aproximadamente 15 mil.  El volumen de todas las bases de datos productivas, incluidas las r√©plicas y en espera, es de 600 TB, la base de datos m√°s grande es de 16,5 TB.  Al mismo tiempo, las bases de datos se reponen constantemente: solo en el √∫ltimo a√±o, se han agregado aproximadamente 120 TB de datos productivos.  El sistema proporciona 150 servidores front-end en la plataforma x86.  Las bases de datos est√°n alojadas en 21 servidores de la plataforma IBM. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a9/f39/b08/1a9f39b085135d52cace5abb4f3f6dce.png"><br>  Los sistemas frontales, varios ABS y servicios bancarios est√°n integrados con OpenEdge Progress (IBS BISQUIT) a trav√©s del bus Sonic ESB.  Los datos se cargan a QCD a trav√©s del intercambio de archivos.  Tal soluci√≥n hasta cierto punto en el tiempo inmediatamente tuvo dos grandes problemas: el bajo rendimiento de cargar informaci√≥n en el almac√©n de datos corporativos (QCD) y el largo tiempo que lleva conciliar los datos (conciliaci√≥n) con otros sistemas. <br><img src="https://habrastorage.org/getpro/habr/post_images/5ed/b9b/7dc/5edb9b7dc0c77268d2a3d535f5593d80.png"><br>  Por lo tanto, comenzamos a buscar una herramienta que pudiera acelerar estos procesos.  La soluci√≥n a ambos problemas fue precisamente el nuevo producto Progress OpenEdge: Pro2 CDC (Change Data Capture).  Entonces comencemos. <br><br><h2>  Instalar Progress OpenEdge y Pro2Oracle </h2><br>  Para ejecutar Pro2 Oracle en la computadora Windows de un administrador, simplemente instale el Progress OpenEdge Developer Kit Classroom Edition, que se puede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descargar</a> de forma gratuita.  Directorios de instalaci√≥n predeterminados de OpenEdge: <br><br>  <i>DLC: C: \ Progreso \ OpenEdge</i> <i><br></i>  <i>WRK: C: \ OpenEdge \ WRK</i> <br><br>  Los procesos ETL requieren licencias de Progress OpenEdge versi√≥n 11.7+, a saber, OE DataServer para Oracle y 4GL Development System.  Estas licencias se incluyen con Pro2.  Para el funcionamiento completo de DataServer para Oracle con una base de datos remota de Oracle, se instala Full Oracle Client. <br><br>  En el servidor Oracle, debe instalar la versi√≥n de Oracle Database 12+, crear una base de datos vac√≠a y agregar el usuario (llam√©moslo <i>cdc</i> ). <br><br>  Para instalar Pro2Oracle, descargue el √∫ltimo paquete de distribuci√≥n desde el centro de descarga de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Progress Software</a> .  Desempaquete el archivo en el directorio <i>C: \ Pro2</i> (se usa el mismo kit de distribuci√≥n para configurar Pro2 en Unix y se aplican los mismos principios de configuraci√≥n). <br><br><h2>  Crear una base de datos de replicaci√≥n de cdc </h2><br>  Pro2 utiliza la base de datos de replicaci√≥n <i>cdc (repl)</i> para almacenar informaci√≥n de configuraci√≥n, incluido el mapa de replicaci√≥n, los nombres de las bases de datos replicadas y sus tablas.  Tambi√©n contiene una cola de replicaci√≥n que consta de notas sobre el hecho de que la fila de la tabla en la base de datos de origen ha cambiado.  Los procesos ETL utilizan los datos de la cola de replicaci√≥n para identificar las filas que deben copiarse a Oracle desde la base de datos de origen. <br><br>  Cree una base de datos cdc separada. <br><br><div class="spoiler">  <b class="spoiler_title">Procedimiento para crear una base de datos</b> <div class="spoiler_text"><ol><li>  En el servidor de bases de datos, cree un directorio para la base de datos de cdc, por ejemplo, en <i>/ database / cdc /</i> server. <br></li><li>  Cree un maniqu√≠ para la base del cdc: <i>procopy $ DLC / empty cdc</i> <br></li><li>  Habilite la compatibilidad con archivos grandes: <i>proutil cdc -C EnableLargeFiles</i> <br></li><li>  Preparamos el script para iniciar la base de datos cdc.  Los par√°metros de inicio deben ser similares a los par√°metros de inicio de la base de datos replicada. <br></li><li>  Iniciamos la base de datos cdc. <br></li><li>  Nos conectamos a la base de datos cdc y <i>cargamos</i> el diagrama Pro2 del archivo <i>cdc.df</i> , que se incluye con el paquete Pro2. <br></li><li>  En la base de datos cdc, cree los siguientes usuarios: <br></li></ol><br>  <i>pro2adm: para conectarse desde el panel de administraci√≥n de Pro2;</i> <i><br></i>  <i>pro2etl: para conectar procesos ETL (ReplBatch);</i> <i><br></i>  <i>pro2cdc: para conectar procesos CDC (CDCBatch);</i> <br></div></div><br><br><h2>  Activando OpenEdge Change Data Capture </h2><br>  Ahora activemos el mecanismo CDC en s√≠ mismo, a trav√©s del cual los datos se replicar√°n en un √°rea tecnol√≥gica adicional.  En cada base de datos de origen de Progress OpenEdge, debe agregar √°reas de almacenamiento separadas en las que se duplicar√°n los datos de origen y activar el mecanismo en s√≠ mediante el <i>comando proutil</i> . <br><br><div class="spoiler">  <b class="spoiler_title">Procedimiento de ejemplo para la base de datos bisquit</b> <div class="spoiler_text"><ol><li>  Copie el archivo <i>cdcadd.st</i> del <i>directorio</i> <i>C: \ Pro2 \ db al</i> <i>directorio</i> de la base de datos de origen <i>bisquit</i> . <br></li><li>  Describimos en <i>cdcadd.st</i> extensiones de <i>extensi√≥n</i> fija para <i>las</i> <i>√°reas</i> <i>ReplCDCArea</i> y <i>ReplCDCArea_IDX</i> .  Puede agregar nuevas √°reas de almacenamiento en l√≠nea: <i>prostrct addonline bisquit cdcadd.st</i> <br></li><li>  Active OpenEdge CDC: <br>  <i>proutil bisquit -C enablecdc area "ReplCDCArea" indexarea "ReplCDCArea_IDX"</i> <br></li><li>  Se deben crear los siguientes usuarios en la base de datos de origen para identificar los procesos en ejecuci√≥n: <br>  <i>a.</i>  <i>pro2adm: para conectarse desde el panel de administraci√≥n de Pro2.</i> <i><br></i>  <i>b.</i>  <i>pro2etl: para conectar procesos ETL (ReplBatch).</i> <i><br></i>  <i>c.</i>  <i>pro2cdc: para conectar procesos CDC (CDCBatch).</i> <br></li></ol><br></div></div><br><br><h2>  Crear un titular de esquema para DataServer para Oracle </h2><br>  Luego, necesitamos crear el titular del esquema de la base de datos en el servidor donde se replicar√°n los datos del Progress DBMS al Oracle DBMS.  DataServer Schema Holder es una base de datos Progress OpenEdge vac√≠a sin usuarios o datos de la aplicaci√≥n, que contiene un mapa de correspondencia entre las tablas de origen y las tablas externas de Oracle. <br><br>  La base de datos del titular del esquema para Progress OpenEdge DataServer para Oracle para Pro2 debe ubicarse en el servidor de procesos ETL; se crea por separado para cada rama. <br><br><div class="spoiler">  <b class="spoiler_title">C√≥mo crear un titular de esquema</b> <div class="spoiler_text"><ol><li>  Descomprima la distribuci√≥n Pro2 en el <i>directorio / pro2</i> <br></li><li>  Cree y vaya al <i>directorio / pro2 / dbsh</i> <br></li><li>  Cree la base de datos del titular del esquema usando el <i>comando $ DLC / empty bisquitsh de procopy</i> <br></li><li>  Convertimos <i>bisquitsh</i> a la codificaci√≥n necesaria, por ejemplo, en UTF-8 si las bases de datos Oracle est√°n codificadas en UTF-8: <i>proutil bisquitsh -C convchar convert UTF-8</i> <br></li><li>  Despu√©s de crear una base de datos <i>bisquitsh</i> vac√≠a, <i>nos</i> conectamos a ella en modo de usuario √∫nico: <i>pro bisquitsh</i> <br></li><li>  Vaya al Diccionario de datos: <i>Herramientas -&gt; Diccionario de datos -&gt; Servidor de datos -&gt; Utilidades ORACLE -&gt; Crear esquema de servidor de datos</i> <br></li><li>  Lanzar titular de esquema <br></li><li>  Configure el agente de Oracle DataServer: <br>  <i>a.</i>  <i>Inicie AdminServer</i> <i><br></i>  <i>proadsv -start</i> <i><br></i>  <i>b.</i>  <i>Inicio del broker Oracle DataServer</i> <i><br></i>  <i>oraman -name orabroker1 -start</i> <br></li></ol><br></div></div><br><br><h2>  Configurar el panel de administraci√≥n y el esquema de replicaci√≥n </h2><br>  El panel de administraci√≥n de Pro2 configura los ajustes de Pro2, incluida la configuraci√≥n del esquema de replicaci√≥n y la generaci√≥n de programas de proceso ETL (Biblioteca de procesadores), programas de sincronizaci√≥n primarios (Procesador de copia masiva), disparadores de replicaci√≥n y pol√≠ticas OpenEdge CDC.  Tambi√©n hay herramientas principales para monitorear y administrar procesos ETL y CDC.  En primer lugar, configuramos los archivos de par√°metros. <br><br><div class="spoiler">  <b class="spoiler_title">C√≥mo configurar archivos de par√°metros</b> <div class="spoiler_text"><ol><li>  Vaya al directorio <i>C: \ Pro2 \ bprepl \ Scripts</i> <br></li><li>  Abra el archivo <i>replProc.pf</i> para editar <br></li><li>  Agregue los par√°metros para conectarse a la base de datos de replicaci√≥n de cdc: <br>  <i># Base de datos de replicaci√≥n</i> <i><br></i>  <i>-db cdc -ld repl -H &lt;nombre de host de la base de datos principal&gt; -S &lt;puerto del agente de base de datos cdc&gt;</i> <i><br></i>  <i>-U pro2admin -P &lt;contrase√±a&gt;</i> <br></li><li>  Agregue los par√°metros para conectarse a las bases de datos de origen y al titular del esquema en forma de archivos de par√°metros a <i>replProc.pf</i> .  El nombre del archivo de par√°metros debe coincidir con el nombre de la base de datos de origen que se va a conectar. <br>  <i># Conectarse a todas las fuentes replicadas BISQUIT</i> <i><br></i>  <i>-pf bprepl \ scripts \ bisquit.pf</i> <br></li><li>  Agregue los par√°metros para conectarse al titular del esquema en replProc.pf. <br>  <i>#Target Pro DB Schema Holder</i> <i><br></i>  <i>-db bisquitsh -ld bisquitsh</i> <i><br></i>  <i>-H &lt;nombre de host de procesos ETL&gt;</i> <i><br></i>  <i>-S &lt;puerto de intermediario biskuitsh&gt;</i> <i><br></i>  <i>-db bisquitsql</i> <i><br></i>  <i>-ld bisquitsql</i> <i><br></i>  <i>-dt ORACLE</i> <i><br></i>  <i>-S 5162 -H &lt;nombre de host del intermediario de Oracle&gt;</i> <i><br></i>  <i>-DataService orabroker1</i> <br></li><li>  Guarde el <i>archivo de</i> par√°metros <i>replProc.pf</i> <br></li><li>  A continuaci√≥n, debe crear y abrir para editar los archivos de par√°metros para cada base de datos de origen conectada en el <i>directorio C: \ Pro2 \ bprepl \ Scripts: bisquit.pf</i> .  Cada archivo pf contiene par√°metros para conectarse a la base de datos correspondiente, por ejemplo: <br>  <i>-db bisquit -ld bisquit -H &lt;nombre de host&gt; -S &lt;puerto de intermediario&gt;</i> <i><br></i>  <i>-U pro2admin -P &lt;contrase√±a&gt;</i> <br></li></ol><br></div></div><br><br>  Para configurar los accesos directos de Windows, vaya al <i>directorio C: \ Pro2 \ bprepl \ Scripts</i> y edite el acceso directo "Pro2 - Administraci√≥n".  Para hacer esto, abra las propiedades del acceso directo y en la l√≠nea <i>Iniciar en</i> indique el directorio de instalaci√≥n Pro2.  Es necesario realizar una operaci√≥n similar para las etiquetas "Pro2 - Editor" y "RunBulkLoader". <br><br><h2>  Configuraci√≥n de la administraci√≥n Pro2: descarga de la configuraci√≥n primaria </h2><br>  Lanzamos la consola. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b82/639/717/b82639717e154bdb889038e56ca41d90.png"><br><br>  Vaya al "Mapa de DB". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ec/623/ae9/8ec623ae9f617ae630a42fa1d1b599c6.png"><br><br>  Para vincular las bases de datos en Pro2 - Administraci√≥n, vaya a la pesta√±a <i>Mapa DB</i> .  Agregamos mapeo de bases de datos de origen - <i>Esquema Holder - Oracle</i> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d23/db6/d6c/d23db6d6c53ea7e7d47aa2b6a71b2cde.png"><br><br>  Vaya a la pesta√±a <i>Asignaci√≥n</i> .  En la lista <i>Base de datos de origen</i> , la primera base de datos de origen conectada se selecciona de forma predeterminada.  A la derecha de la lista debe estar <i>Todas las bases de datos conectadas</i> : las bases de datos seleccionadas est√°n conectadas.  Una lista de las tablas de Progreso de bisquit deber√≠a estar visible a la izquierda.  A la derecha hay una lista de tablas de la base de datos Oracle. <br><br><h2>  Crear esquemas SQL y bases de datos en Oracle </h2><br>  Para crear un mapa de replicaci√≥n, primero debe generar el <i>esquema SQL</i> en Oracle.  En Pro2 Administration, ejecute el elemento de men√∫ <i>Herramientas -&gt; Generar c√≥digo -&gt; Esquema de destino</i> , luego, en el cuadro de di√°logo <i>Seleccionar base de datos</i> , <i>seleccione</i> una o m√°s bases de datos de origen y transfi√©ralas a la derecha. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a15/d6b/ca5/a15d6bca502084aea7c24faace6494f3.png"><br><br>  Haga clic en Aceptar y seleccione el directorio para guardar los esquemas SQL. <br><br>  A continuaci√≥n, creamos la base.  Esto se puede hacer, por ejemplo, a trav√©s de <i>Oracle SQL Developer</i> .  Para hacer esto, con√©ctese a la base de datos Oracle y cargue el esquema para agregar tablas.  Despu√©s de cambiar la composici√≥n de las tablas de Oracle, debe actualizar los esquemas SQL en el titular del esquema. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a21/86f/d8d/a2186fd8d269e13120ce1ff2c87467d3.png"><br><br>  Despu√©s de que la descarga se complete con √©xito, salga de la base de datos bisquitsh y abra el panel de administraci√≥n de Pro2.  Las tablas de la base de datos Oracle deber√≠an aparecer en la pesta√±a Asignaci√≥n a la derecha. <br><br><h2>  Tablas de mapeo </h2><br>  Para crear un mapa de replicaci√≥n en el panel de administraci√≥n de Pro2, vaya a la pesta√±a Asignaci√≥n, seleccione la base de datos de origen.  Hacemos clic en Tablas de mapas, seleccionamos a la izquierda las tablas Seleccionar cambios que deben replicarse en Oracle, las transferimos a la derecha y confirmamos la selecci√≥n.  Se crear√° un mapa autom√°ticamente para las tablas seleccionadas.  Repita la operaci√≥n para crear un mapa de replicaci√≥n para otras bases de datos de origen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/455/9f9/1fe/4559f91fe85a7e724bf015f13873cbc3.png"><br><br><h2>  Generaci√≥n de la biblioteca del procesador de replicaci√≥n Pro2 y los programas del procesador de copia masiva </h2><br><br>  La biblioteca de procesadores est√° dise√±ada para procesos especiales de replicaci√≥n (ETL) que procesan la cola de replicaci√≥n Pro2 y env√≠an los cambios a la base de datos Oracle.  Despu√©s de la generaci√≥n, los programas de la biblioteca del procesador de replicaci√≥n se guardan autom√°ticamente en el <i>directorio bprepl / repl_proc (par√°metro PROC_DIRECTORY)</i> .  Para generar la biblioteca del procesador de replicaci√≥n, vaya a <i>Herramientas -&gt; Generar c√≥digo -&gt; Biblioteca del procesador.</i>  Una vez completada la generaci√≥n, los programas aparecer√°n en el <i>directorio bprepl / repl_proc</i> . <br><br>  Los programas de procesador masivo se utilizan para sincronizar las bases de datos de Progress de origen con la base de datos de Oracle de destino basada en el lenguaje de programaci√≥n Progress ABL (4GL).  Para generarlos, vaya al elemento de men√∫ <i>Herramientas -&gt; Generar c√≥digo -&gt; Procesador de copia masiva</i> .  En el cuadro de di√°logo Seleccionar base de datos, seleccione la base de datos de origen, transfi√©rala al lado derecho de la ventana y haga <i>clic</i> en <i>Aceptar</i> .  Una vez completada la generaci√≥n, los programas aparecer√°n en el <i>directorio bprepl \ repl_mproc</i> . <br><br><h2>  Configurar procesos de replicaci√≥n en Pro2 </h2><br>  Dividir las tablas en conjuntos atendidos por un hilo de replicaci√≥n separado puede mejorar el rendimiento y la eficiencia de Oracle Pro2.  De forma predeterminada, todas las conexiones creadas en el mapa de replicaci√≥n para las nuevas tablas de replicaci√≥n est√°n vinculadas al flujo n√∫mero 1. Se recomienda que las tablas se dividan en diferentes flujos. <br><br>  La informaci√≥n sobre el estado de los flujos de replicaci√≥n se muestra en la pantalla Administraci√≥n de Pro2 en la pesta√±a Monitor en la secci√≥n Estado de replicaci√≥n.  Se puede encontrar una descripci√≥n detallada de los valores de los par√°metros en la documentaci√≥n de Pro2 (directorio C: \ Pro2 \ Docs). <br><br><h2>  Crear y activar pol√≠ticas de CDC </h2><br>  Las pol√≠ticas son un conjunto de reglas para el mecanismo OpenEdge CDC, seg√∫n el cual se realiza un seguimiento de los cambios en las tablas.  Al momento de escribir, Pro2 solo admite pol√≠ticas CDC con nivel 0, es decir, solo se realiza <i>un</i> seguimiento del hecho de <i>un cambio de registro</i> . <br><br>  Para crear una pol√≠tica de CDC en el panel administrativo, vaya a la pesta√±a Asignaci√≥n, seleccione la base de datos de origen y haga clic en el bot√≥n Agregar o quitar pol√≠ticas.  En la ventana Seleccionar cambios que se abre, seleccione en el lado izquierdo y transfi√©rala a la tabla derecha para la que necesita crear o eliminar una pol√≠tica de CDC. <br><br>  Para activar, abra nuevamente la pesta√±a Asignaci√≥n, seleccione la base de datos de origen y haga clic en el bot√≥n <i>(In) Activar pol√≠ticas</i> .  Seleccione y transfiera al lado derecho de la tabla cuyas pol√≠ticas necesita activar, haga clic en Aceptar.  Despu√©s de eso est√°n marcados en verde.  Usando <i>(In) Activar Pol√≠ticas</i> , tambi√©n puede desactivar las pol√≠ticas de CDC.  Todas las operaciones se realizan en l√≠nea. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/518/0ef/770/5180ef7709ef906a1541bb7e71b8b5ba.png"><br><br>  Despu√©s de activar la pol√≠tica de CDC, las notas sobre los registros modificados se guardan en el √°rea de almacenamiento <i>"ReplCDCArea"</i> de acuerdo con la base de datos original.  Estas notas ser√°n procesadas por un proceso especial de <i>CDCBatch</i> , que en su base crear√° notas en la cola de replicaci√≥n Pro2 en la base de datos <i>cdc (repl)</i> . <br><br>  Por lo tanto, tenemos dos colas para la replicaci√≥n.  La primera etapa es CDCBatch: desde la base de datos original, los datos primero van a la base de datos CDC intermedia.  La segunda etapa es cuando los datos se vierten desde la base de datos de CDC a Oracle.  Esta es una caracter√≠stica de la arquitectura actual y del producto en s√≠, mientras que los desarrolladores no han podido establecer la replicaci√≥n directa. <br><br><h2>  Sincronizaci√≥n principal </h2><br>  Despu√©s de activar el mecanismo CDC y configurar el servidor de replicaci√≥n Pro2, debemos iniciar la sincronizaci√≥n primaria.  Comando de inicio de sincronizaci√≥n principal: <br><br>  <i>/pro2/bprepl/Script/replLoad.sh bisquit nombre-tabla</i> <br><br>  Una vez completada la sincronizaci√≥n inicial, se pueden iniciar los procesos de replicaci√≥n. <br><br><h2>  Iniciar procesos de replicaci√≥n </h2><br>  Para iniciar los procesos de replicaci√≥n, debe ejecutar el script <i>replbatch.sh</i> .  Antes de comenzar, aseg√∫rese de que haya scripts replbatch para todos los hilos: replbatch1, replbatch2, etc.  Si todo est√° en su lugar, abra la l√≠nea de comando (por ejemplo, <i>proenv)</i> , vaya al directorio <i>/ bprepl / scripts</i> e inicie el script.  En el panel administrativo, verificamos que el proceso correspondiente haya recibido el estado EN EJECUCI√ìN. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f7f/e36/d10/f7fe36d10541f356f26d18f220a241cc.png"><br><br><h2>  Resultados </h2><br><img src="https://habrastorage.org/webt/96/tx/ic/96txicmq_eawginnc244qddkqww.png"><br>  Despu√©s de la implementaci√≥n, hemos acelerado enormemente la carga de informaci√≥n al almac√©n de datos corporativos.  Los datos en s√≠ mismos van a Oracle en l√≠nea.  No es necesario dedicar tiempo a algunas consultas de larga duraci√≥n para recopilar datos de diferentes sistemas.  Adem√°s, en esta soluci√≥n, el proceso de replicaci√≥n puede comprimir datos, lo que tambi√©n tiene un efecto positivo en la velocidad.  Ahora, la reconciliaci√≥n diaria del sistema BISKVIT con otros sistemas comenz√≥ a tomar 15-20 minutos en lugar de 2-2.5 horas, y la reconciliaci√≥n completa, varias horas en lugar de dos d√≠as. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/445998/">https://habr.com/ru/post/445998/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../445980/index.html">Programamos el control por voz de un helic√≥ptero usando Node.js y ARDrone</a></li>
<li><a href="../445984/index.html">Tormenta de carteristas Pacsafe</a></li>
<li><a href="../445986/index.html">Desarrollo del cliente como filosof√≠a de vida</a></li>
<li><a href="../445988/index.html">Propio correo temporal: bot telegram</a></li>
<li><a href="../445992/index.html">Nauchpop como m√≠nimo: ilusiones √≥pticas</a></li>
<li><a href="../446000/index.html">¬øQu√© le pasa a Yandex.Music? An√°lisis UX / UI</a></li>
<li><a href="../446006/index.html">Intel - suena nuevo</a></li>
<li><a href="../446008/index.html">Herramienta de c√≥digo abierto para la validaci√≥n de calidad de b√∫squeda basada en la intenci√≥n</a></li>
<li><a href="../446022/index.html">C√≥mo NO escane√© el internet bielorruso</a></li>
<li><a href="../446024/index.html">Instalar y configurar un nodo Ripple</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>