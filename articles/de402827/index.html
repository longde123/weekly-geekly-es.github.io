<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌺 🥩 👩🏼‍🎓 Verwendung von Twilio-, Python- und Google-Tools zur Automatisierung Ihrer Hochzeit ✂️ 👨‍👨‍👧‍👦 🤞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Autor des Artikels erzählt, wie er es geschafft hat, Programmierkenntnisse anzuwenden, um die Routineprozesse seines eigenen Hochzeitsereignisses ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verwendung von Twilio-, Python- und Google-Tools zur Automatisierung Ihrer Hochzeit</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wirex/blog/402827/">  <i>Der Autor des Artikels erzählt, wie er es geschafft hat, Programmierkenntnisse anzuwenden, um die Routineprozesse seines eigenen Hochzeitsereignisses zu automatisieren.</i> <br><br>  Für die meisten Menschen war der 3. September 2016 der häufigste Samstag, aber in meiner Erinnerung wird dieses Datum für immer bleiben, da meine Frau und ich an diesem Tag eine Hochzeit spielten. <br><br><img src="https://habrastorage.org/files/38f/a56/92c/38fa5692cb0b44e5886d66d912a39b87.jpg" alt="Bild"><br><br>  Bei der Planung einer Hochzeit müssen Sie viele Punkte berücksichtigen: Essen, Dekoration und Dekoration, Tischlampen (ja, getrennt von Dekoration), Blumen, Unterkunft für Gäste, Transport, Unterhaltung und die Wahl des Veranstaltungsortes.  Wenn Sie eine Hochzeit planen, sind Sie im Allgemeinen mit vielen Unbekannten konfrontiert, aber eines war ich mir sicher: Keine Hochzeit kann ohne eine ganze Reihe von Listen auskommen, verschachtelte Listen, die nicht bis zum Ende enden.  Je mehr Listen vor meinen Augen schwebten, desto öfter begann ich darüber nachzudenken, wie ich den Vorbereitungsprozess verbessern könnte.  Es war schmerzlich ineffizient und alle Arbeiten wurden manuell ausgeführt.  Ich war mir sicher, dass Technologie sicherlich dazu beitragen könnte, zumindest einige der Punkte zu verbessern. <br><a name="habracut"></a><br>  Sie werden überrascht sein zu erfahren, dass das Einladen von Personen zu einer Hochzeit teuer ist (über 380 Pfund pro Person).  Zuerst müssen Sie vorläufige Einladungen mit einem Datum und einer kurzen Benachrichtigung senden, und erst dann - vollwertig, mit einer detaillierteren Beschreibung des Ereignisses.  All dies wird außerdem per Post verschickt, was bedeutet, dass es langsam ist.  Versuche, die eingeladenen Personen zu „fangen“ und von ihnen eine Antwort zu erhalten, ob sie mit kostenlosem Essen und Trinken in den Urlaub kommen möchten (obwohl es den Anschein hat, wer will das nicht ?!), Nehmen viel Zeit in Anspruch.  Und schließlich ist das Versenden von Einladungen nicht umweltfreundlich, da Papierkarten eine einmalige Sache sind, sie schnell vergessen und für niemanden nutzlos werden. <br><br>  Aber zurück zu den Listen.  Wir teilen die Gäste in mehrere Gruppen ein: <br><br><ol><li>  Die, die Sie gerne auf dem Festival sehen würden </li><li>  Diejenigen, die die zweite Einladung beantworteten, baten um eine Antwort </li><li>  Diejenigen, die die Einladung angenommen haben </li><li>  Diejenigen, die die Einladung angenommen und Essen gewählt haben </li></ol><br>  Aber ich mag die Listen: Sie haben einige vordefinierte Anforderungen, die sie zu einem großartigen Objekt für die Automatisierung machen. <br><br><h3>  Flaschenpost </h3><br>  Ich war mir sicher, dass alle potenziellen Gäste, unabhängig von ihrem Alter, ein Mobiltelefon hatten, was bedeutete, dass die Zeit für Twilio gekommen war.  Der hier angegebene Code kann auf Wunsch sicher übersprungen werden, da er immer im entsprechenden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub-Repository</a> verfügbar ist. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SMS</a> als Kommunikationskanal passte perfekt zu meinen Bedürfnissen.  Ich konnte das Massenversenden von Nachrichten einrichten und die Antworten schnell und effizient verarbeiten.  Als ich die ersten Arbeitsskizzen des Produkts anfertigte und die Datenbankoptionen berücksichtigte, versuchte ich, etwas Einfaches zu tun, das leicht geteilt werden konnte, und wollte nicht viel Zeit für das Erscheinungsbild aufwenden.  Am Ende stieß ich auf die gspread-Python-Bibliothek, mit der ich aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Google-Tabellen</a> lesen und in diese schreiben konnte.  Dies war nicht die schnellste, sondern eine flexible Option, die den Zugriff auf Tabellen und das Lesen von Ergebnissen vereinfachte. <br><br>  Für die erste Eingabeaufforderung habe ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eine Tabelle</a> mit drei Spalten erstellt: <br><br><ul><li>  Name </li><li>  Telefonnummer </li><li>  Bestätigungsstatus (Bestätigungsstatus) </li><li>  Status der Kontaktdetails </li><li>  Message_count (Die Anzahl der an den Gast gesendeten Nachrichten hat sich in Zukunft als nützlich erwiesen.) </li></ul><br>  Nachdem ich die grundlegende Dateneingabe abgeschlossen hatte, führte ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die</a> Liste über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gspread aus</a> , das jedem Gast, der eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handynummer besitzt</a> , eine SMS schickte: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gspread <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> oauth2client.client <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SignedJwtAssertionCredentials <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> twilio.rest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TwilioRestClient <span class="hljs-comment"><span class="hljs-comment">#      #     json,    json_key = json.load(open('.json')) scope = ['https://spreadsheets.google.com/feeds'] credentials = SignedJwtAssertionCredentials(json_key['client_email'], json_key['private_key'].encode(), scope) gc = gspread.authorize(credentials) wks = gc.open("wedding_guests") #     workbook- wks_attendees = wks.get_worksheet(0) #     ACCOUNT_SID = 'TWILIO_ACCOUNT_SID' AUTH_TOKEN = 'TWILIO_AUTH_TOKEN' client = TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN) #    ,   range    for num in range(2, 60): print "sleeping for 2 seconds" time.sleep(2) #         guest_number = wks_attendees.acell('B'+str(num)).value guest_name = wks_attendees.acell('A'+str(num)).value Message_body = &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2709&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt; Save the date! &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2709&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;Lauren Pang and Thomas Curtis are delighted to invite you to our wedding.&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;Saturday 3rd September 2016. &lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;Colville Hall,&lt;span class="pl-cce"&gt;\n&lt;/span&gt;Chelmsford Road,&lt;span class="pl-cce"&gt;\n&lt;/span&gt;White Roding,&lt;span class="pl-cce"&gt;\n&lt;/span&gt;CM6 1RQ.&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;The Ceremony begins at 2pm.&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;More details will follow shortly!&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;Please text YES if you are saving the date and can join us or text NO if sadly, you won't be able to be with us.&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, if not guest_number: #      print guest_name + ' telephone number empty not messaging' wks_attendees.update_acell('E'+str(num), '0') else: print 'Sending message to ' + guest_name client.messages.create( to="+" + guest_number, #  +   e.164 from_="", #     Twillio body=message_body, ) wks_attendees.update_acell('E'+str(num), int(wks_attendees.acell('E'+str(num)).value) + 1) # increment the message count row else: # else-  print 'finished'</span></span></code> </pre> <br>  Und da Text-SMS normalerweise etwas langweilig aussehen, habe ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unicode</a> hinzugefügt, um sie aufzupeppen.  So sah die Nachricht für die glücklichen Gäste aus: <br><br><img src="https://habrastorage.org/files/f19/36c/7bb/f1936c7bbccd4cb29115c1fa182321f3.png" alt="Bild" width="340"><br><br>  Als Nächstes verwendete ich Flask als Webserver, stellte meine URL-Anfrage für Twilio Messaging auf / messages und fügte einfache if-Checks hinzu, um Antworten zu analysieren: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@app.route("/messages", methods=['GET', 'POST']) def hello_guest():  if "yes" in body_strip:    #      confirmation_status    wks_attendees.update_acell("F"+str(guest_confirmation_cell.row), 'Accepted')  #    « »       resp.message(u"\u2665" + "Thanks for confirming, we'll be in touch!" + u"\u2665")  # r ,    elif "no" in from_body.lower():    #    « »       wks_attendees.update_acell("F"+str(guest_confirmation_cell.row), 'Declined')    #       resp.message("Sorry to hear that, we still love you though!")  else:  #  ,        resp.message("You sent a different keyword, we need a yes or a no, you sent: "+           from_body)  return str(resp)</span></span></code> </pre><br><img src="https://habrastorage.org/files/e4e/e69/8e9/e4ee698e94b448ef9c8d6c3ac112f51d.png" alt="Bild" align="left" width="340"><img src="https://habrastorage.org/files/85b/422/750/85b42275037c4d16af0e6e2de2cffadf.png" alt="Bild" width="340"><br><br>  Die erste Nachricht wurde am 19. Februar um 8:37 Uhr gesendet, und die erste Bestätigung ging etwas später um 8:40 Uhr ein.  Um 9:38 Uhr hatte ich bereits 23 Bestätigungen erhalten, dh 32% der Antworten waren in meiner Tasche!  2 Tage nach Beginn des Massenmailing bestätigten 58% der Gäste ihre Teilnahme.  Trotz des offensichtlichen Erfolgs war meine zukünftige Frau noch nicht 100% beeindruckt von meinem SMS-Service für Hochzeitseinladungen, und ich beschloss, der Anwendung weitere Funktionen hinzuzufügen. <br><br>  Statistik!  Ich könnte eine aktuelle Gästeliste erstellen und auf Anfrage bereitstellen, um meiner zukünftigen Braut sofort ein Feedback zu geben.  Der Code erwies sich als recht einfach, da ich bereits einige der einfachsten Zähler in der Tabelle eingerichtet habe und es daher darauf ankam, den Inhalt einzelner Zellen abzurufen und zu SMS hinzuzufügen: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    guest_confirmed = wks_attendees.acell('C70').value guest_unconfirmed = wks_attendees.acell('C71').value guest_no_response = wks_attendees.acell('C72').value guest_acceptance = wks_attendees.acell('C73').value elif "numbers" in from_body.lower():  #   ( - ,   )  resp.message("RSVP update:\n\nTotal Accepted: " + guest_confirmed         "\n\nTotal declined: " guest_unconfirmed "\n\nTotal no response: "+         guest_no_response + "\n\nTotal acceptance rate: " + guest_acceptance)</span></span></code> </pre><br>  Beispiel für eine SMS mit diesem Code: <br><br><img src="https://habrastorage.org/files/910/1cc/089/9101cc08985742d58228a005a33271a8.png" alt="Bild" width="340"><br><br>  Es mag nicht sehr schön aussehen, aber es ist sehr informativ. <br><br>  Die Tatsache, dass Lauren nun den automatischen Aktualisierungen der Gästeliste folgen konnte, ersparte uns viele Kopfschmerzen.  Infolgedessen erhielt ich von ihr die Genehmigung für die weit verbreitete Integration von SMS, und bald wurde dieses Tool in fast allen Prozessen eingesetzt, in denen dies möglich war.  Einige der Anwendungen waren offensichtlich, zum Beispiel das Senden von SMS-Benachrichtigungen über den Start einer Hochzeitsseite (übrigens auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Heroku erstellt</a> ) oder das Arbeiten mit Listen von Hochzeitsgeschenken und vielen anderen Lösungen, auf die ich bis heute stolz bin. <br><br><h3>  Herrliches Fest </h3><br>  Nachdem die Liste der eingeladenen Personen zusammengestellt und Antworten gesammelt worden waren, kam es zu der Lektion, die normalerweise auf später verschoben wird - um die Geschmackspräferenzen der Gäste herauszufinden.  Der erste Schritt bestand darin, eine weitere SMS zu senden, in der die Gäste über die Notwendigkeit informiert wurden, die Website zu besuchen und die Kategorien der Speisen auszuwählen, die über das Google-Formular serviert werden.  Das Formular sah recht gewöhnlich aus, füllte jedoch dieselbe Datei, in der Daten über Besucher enthalten waren.  So hatten wir jetzt sowohl einen Besuchertisch, der Einladungen annahm, als auch einen Tisch, an dem das Formular zur Lebensmittelauswahl ausgefüllt war.  Wenn wir über ein gewöhnliches Automatisierungstool sprechen würden, müsste ich warten, bis die Gäste langsam ihre Gerichte auswählen. Meine Hochzeit wurde jedoch mit Unterstützung von Twillio abgehalten, und dies bedeutet, dass ich mit minimalem Aufwand eine Antwort von den Gästen erhalten konnte. <br><br>  Es war notwendig, zwei Tabellen mit dem Namen der Gäste zu überprüfen und den Status der ausgewählten Gerichte nach Erhalt neuer Informationen zu aktualisieren.  Dies erforderte einige zusätzliche Schnickschnack im Code, aber sobald ich damit fertig war, konnte ich das Skript so schnell wie nötig ausführen und eine SMS mit den neuesten Informationen erhalten: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gspread <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> oauth2client.client <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SignedJwtAssertionCredentials <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> twilio.rest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TwilioRestClient <span class="hljs-comment"><span class="hljs-comment">#     json,    json_key = json.load(open('')) scope = ['https://spreadsheets.google.com/feeds'] credentials = SignedJwtAssertionCredentials(json_key['client_email'],                      json_key['private_key'].encode(),                      scope) gc = gspread.authorize(credentials) wks = gc.open("")  #      wks_attendees = wks.get_worksheet(0)  #   wks_food = wks.get_worksheet(1)  #    ACCOUNT_SID = 'TWILIO_ACCOUNT_SID' AUTH_TOKEN = 'TWILIO_AUTH_TOKEN' client = TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN) #   . -       for num in range(2, 60):  food_guest_name = wks_food.acell('B'+str(num)).value  #        if food_guest_name:    attendees_name = wks_attendees.find(val_food_guest_name).value    attendees_name_row = wks_attendees.find(val_food_guest_name).row    menu_status = wks_attendees.acell("G"+str(attendees_name_row)).value    if food_guest_name == attendees_name:      print      if menu_status == 'Y':  #   ,          print('Skipping')      else:  #    ,           print ('Food sheet name ' + food_guest_name + 'Attendees sheet name ' + attendees_name)        #            wks_attendees.update_acell("G"+str(attendees_name_row), 'Y')    else:      print('nothing found, moving on')      wks_attendees.update_acell('E'+str(num), int(wks.acell('E'+str(num)).value) + 1)  #      else:    #           client.messages.create(from_="",  #  Twillio                to="",  #                  body="Finished processing current meal listnnGuest meals confirmed" + guest_meals_confirmed + "\n\nGuest meals unconfirmed: " + guest_meals_unconfirmed)</span></span></code> </pre><br>  Nachdem ich nun eine genaue Gästeliste und eine ständig aktualisierte Liste der Gerichte hatte, war es sinnvoll, diese Statistiken über die Hauptanwendung öffentlich zugänglich zu machen.  Dazu musste lediglich der Inhalt der entsprechenden Zellen zur SMS-Antwort hinzugefügt werden: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#           elif "food" in body_strip.strip():  resp.message("Guest meals decided:" + guest_meals_confirmed + "\nGuest meals undecided: " + guest_meals_unconfirmed + "\n\nMenu breakdown:\n\n" + starter_option_1 +": " + starter_option_1_amount + "\n" + starter_option_2 +": " + starter_option_2_amount + "\n" + starter_option_3 +": " + starter_option_3_amount + "\n" + main_option_1 +": " + main_option_1_amount + "\n" + main_option_2 +": " + main_option_2_amount + "\n" + main_option_3 +": " + main_option_3_amount + "\n" + dessert_option_1 + ": " + dessert_option_1_amount + "\n" + dessert_option_2 + ": " + dessert_option_2_amount)</span></span></code> </pre><br><img src="https://habrastorage.org/files/13c/a50/9dc/13ca509dc74a4dcd9401f68f736fa69c.png" alt="Bild" width="340"><br><br>  Diese Maßnahme erwies sich als sehr nützlich, da das Unternehmen, das den Urlaub bedient, über unsere Fortschritte informiert war und sehr praktische Informationen von denjenigen lieferte, die ihre Wahl noch nicht getroffen hatten.  Der nächste Anwärter auf Automatisierung war der Empfang von Antworten von Gästen.  Dazu war es nur notwendig, die Liste durchzugehen, darin "Übertreter" zu finden, die ihre Gerichte nicht ausgewählt hatten, und ihnen Nachrichten zu senden! <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">72</span></span>):  <span class="hljs-comment"><span class="hljs-comment">#         print "sleeping for 3 seconds"  time.sleep(3)  #            wedding_guest_number = wks_attendees.acell('B'+str(num)).value  #     wedding_guest_name = wks_attendees.acell('A'+str(num)).value  #     menu_guest = wks_attendees.acell('G'+str(num)).value  if not wedding_guest_number:    print wedding_guest_name+' telephone number empty not messaging'  #   ,     .            wks_attendees.update_acell('H'+str(num), '1')  #         else:    if menu_guest == "N":  #    !      !      print 'Sending message to '+wedding_guest_name      client.messages.create(        to="+" + wedding_guest_number,        from_="",  #   Twillio        body="If you have received this message, you have not chosen your food options for Tom &amp; Lauren's Wedding!\n\nYou can pick your choices via the website, no paper or postage required!\n\nhttp://www.yourwebsitehere.com/food"      )      wks_attendees.update_acell('H'+str(num), int(wks_attendees.acell('H'+str(num)).value) + 1)  #        else:          # else-   print 'finished'</span></span></code> </pre><br><img src="https://habrastorage.org/files/40a/1dd/ed8/40a1dded8a0b4697b34f7698bbc2917b.png" alt="Bild" width="340"><br><br>  Der große Tag näherte sich schneller als wir uns vorstellen konnten.  Wir mussten nur noch die letzte SMS senden, um die Gäste an die grundlegenden Details und die Notwendigkeit zu erinnern, sich mit einem Regenschirm zu bewaffnen, der zum Schutz vor dem typisch regnerischen britischen Sommer beiträgt: <br><br><img src="https://habrastorage.org/files/752/007/52e/75200752e7b04a8a8c488b8b923567a7.png" alt="Bild" width="340"><br><br><h3>  Abschließend </h3><br>  Eine Hochzeit zu organisieren ist nie einfach.  Es kann Ihnen jederzeit so erscheinen, als ob viele Aspekte des Ereignisses außerhalb Ihrer Kontrolle liegen.  Die Automatisierung hat mir das Leben definitiv erleichtert, indem sie einen direkten Kommunikationskanal mit Gästen und unzählige Tools bereitstellte, mit denen sie ihren Antworten folgen und sie an die Notwendigkeit erinnern konnten, sich zu entscheiden und zu antworten.  Sie half uns, eines der langweiligsten Dinge, die solche Ereignisse begleiten, selbst in die Hand zu nehmen, und erlaubte uns, viel Zeit freizugeben und uns auf andere wichtige Komponenten eines so wichtigen Ereignisses in unserem Leben zu konzentrieren. <br><br>  Das Erstellen skalierbarer Lösungen für komplexe Aufgaben ist nie einfach, und selbst eine der endgültigen Versionen meiner Anwendung könnte die Aufgaben an bestimmten Stellen kaum bewältigen.  Ursprünglich plante ich die Entwicklung einer umfassenderen Lösung mit Visualisierung des Fortschritts und der Sprachintegration, die weniger von CLI-Skripten abhängig war, aber in diesem Rennen herrschte Zeit.  Im Allgemeinen bin ich zufrieden mit dem Ergebnis.  Es gibt keine perfekten Kommunikationssysteme.  Sie sollten immer den Kanal verwenden, der für Ihr Publikum am besten geeignet ist, sei es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SMS</a> , Sprache, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Chat</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Video</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Semaphor</a> . <br><br>  Wenn Sie über Hochzeitsautomatisierung sprechen möchten, senden Sie mir eine E-Mail auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Twitter</a> . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/329/5ba/c7b/3295bac7b7fb4687b452049ac5cec9bc.png" alt="Bild"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de402827/">https://habr.com/ru/post/de402827/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de402813/index.html">Geräte vom Flohmarkt: Toshiba Camileo P10 Camcorder</a></li>
<li><a href="../de402815/index.html">Komet Hale-Bopp</a></li>
<li><a href="../de402817/index.html">Quantenverschränkung ohne Verwirrung - was ist das?</a></li>
<li><a href="../de402821/index.html">Tesla Amazing - Geek-Aufkleber von Autoren aus Russland, die überall aufgeklebt werden können</a></li>
<li><a href="../de402823/index.html">Versicherungstechnologiebranche als eine der am schnellsten wachsenden Fintech-Branchen</a></li>
<li><a href="../de402829/index.html">Eine kurze Anleitung zur Welt der Blockchain-Konsortien</a></li>
<li><a href="../de402831/index.html">Um die Zukunft der Finanzdienstleistungsbranche zu verstehen, müssen Sie aufhören, an Fintech zu denken</a></li>
<li><a href="../de402833/index.html">Wie die Internetinfrastruktur funktioniert</a></li>
<li><a href="../de402835/index.html">10 Insurtech Trends 2017</a></li>
<li><a href="../de402837/index.html">Warum ist Virtual Reality eine Killer-App für die Blockchain?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>