<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∂üèø üñïüèª üßïüèΩ 22 consejos para un desarrollador angular. Parte 1 üëä üíáüèæ üõí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El autor del art√≠culo, cuya primera parte de la traducci√≥n estamos publicando, dice que ha estado trabajando en una aplicaci√≥n angular a gran escala e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>22 consejos para un desarrollador angular. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/425661/">  El autor del art√≠culo, cuya primera parte de la traducci√≥n estamos publicando, dice que ha estado trabajando en una aplicaci√≥n angular a gran escala en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Trade Me</a> durante aproximadamente dos a√±os.  En los √∫ltimos a√±os, el equipo de desarrollo de aplicaciones ha estado mejorando constantemente el proyecto, tanto en t√©rminos de calidad de c√≥digo como de rendimiento. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7bb/9dc/3bc/7bb9dc3bca3b7f924e2835f11f666917.jpg"></div><br>  Esta serie de materiales se centrar√° en los enfoques de desarrollo utilizados por el equipo de Trade Me, que se expresan en forma de m√°s de dos docenas de recomendaciones sobre tecnolog√≠as como Angular, TypeScript, RxJS y @ ngrx / store.  Adem√°s, se prestar√° atenci√≥n a las t√©cnicas de programaci√≥n universal destinadas a hacer que el c√≥digo de la aplicaci√≥n sea m√°s limpio y preciso. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. Acerca de trackBy</font> </h2><br>  Usando <code>ngFor</code> para recorrer matrices en plantillas, use esta construcci√≥n con la funci√≥n <code>trackBy</code> , que devuelve un identificador √∫nico para cada elemento. <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  Cuando la matriz cambia, Angular vuelve a representar todo el √°rbol DOM.  Pero si usa <code>trackBy</code> , el sistema sabr√° qu√© elemento ha cambiado y realizar√° cambios en el DOM que se aplican solo a ese elemento en particular.  Los detalles sobre esto se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h3>  <font color="#3AC1EF">‚ñçTo</font> </h3><br><pre> <code class="hljs django"><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag"> *</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ngFor</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"let item of items;"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ item }}</span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçDespu√©s</font> </h3><br><pre> <code class="hljs django"><span class="xml"><span class="xml">//   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag"> *</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ngFor</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"let item of items; trackBy: trackByFn"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ item }}</span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> //   trackByFn(index, item) {     return item.id; //  id,   }</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">2. Palabras clave const y let</font> </h2><br>  Si va a declarar una variable cuyo valor no planea cambiar, use la palabra clave <code>const</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  El uso apropiado de las palabras clave <code>let</code> y <code>const</code> aclara la intenci√≥n con respecto al uso de entidades declaradas que las usan.  Adem√°s, este enfoque facilita el reconocimiento de los problemas causados ‚Äã‚Äãpor sobrescribir accidentalmente valores constantes.  En esta situaci√≥n, se produce un error de compilaci√≥n.  Adem√°s, mejora la legibilidad del c√≥digo. <br><br><h3>  <font color="#3AC1EF">‚ñçTo</font> </h3><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">let</span></span> car = <span class="hljs-string"><span class="hljs-string">'ludicrous car'</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">let</span></span> myCar = `My <span class="hljs-variable"><span class="hljs-variable">${car}</span></span>`; <span class="hljs-attribute"><span class="hljs-attribute">let</span></span> yourCar = `Your <span class="hljs-variable"><span class="hljs-variable">${car}</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (iHaveMoreThanOneCar) {  <span class="hljs-attribute"><span class="hljs-attribute">myCar</span></span> = `<span class="hljs-variable"><span class="hljs-variable">${myCar}</span></span>s`; } <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (youHaveMoreThanOneCar) {  <span class="hljs-attribute"><span class="hljs-attribute">yourCar</span></span> = `<span class="hljs-variable"><span class="hljs-variable">${youCar}</span></span>s`; }</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçDespu√©s</font> </h3><br><pre> <code class="hljs powershell">//  car  ,     car  const car = <span class="hljs-string"><span class="hljs-string">'ludicrous car'</span></span>; let myCar = `My <span class="hljs-variable"><span class="hljs-variable">$</span></span>{car}`; let yourCar = `Your <span class="hljs-variable"><span class="hljs-variable">$</span></span>{car}; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (iHaveMoreThanOneCar) {  myCar = `${myCar}s`; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (youHaveMoreThanOneCar) {  yourCar = `${youCar}s`; }</code> </pre> <br><h2>  <font color="#3AC1EF">3. Operadores de transportadores</font> </h2><br>  Cuando trabaje con RxJS, use operadores canalizados. <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  Los operadores transportados admiten el algoritmo de vibraci√≥n de √°rbol, es decir, cuando se importan, solo se incluir√° en el proyecto el c√≥digo que se planea ejecutar.  Esto tambi√©n facilita la identificaci√≥n de declaraciones no utilizadas en los archivos. <br><br>  Tenga en cuenta que esta recomendaci√≥n es relevante para Angular versi√≥n 5.5 y superior. <br><br><h3>  <font color="#3AC1EF">‚ñçTo</font> </h3><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/add/operator/map'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/add/operator/take'</span></span>; iAmAnObservable   .map(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.item)   .take(<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçDespu√©s</font> </h3><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { map, take } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/operators'</span></span>; iAmAnObservable   .pipe(      map(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.item),      take(<span class="hljs-number"><span class="hljs-number">1</span></span>)    );</code> </pre> <br><h2>  <font color="#3AC1EF">4. Aislamiento de correcciones de API</font> </h2><br>  No todas las API son completamente estables y sin errores.  Por lo tanto, a veces es necesario introducir algo de l√≥gica en el c√≥digo destinado a solucionar problemas de API.  En lugar de colocar esta l√≥gica en componentes donde se usan API parcheadas, ser√≠a mejor aislarla en alg√∫n lugar, por ejemplo, en un servicio, y referirse desde el componente ya no es a la API problem√°tica, sino al servicio correspondiente. <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  El enfoque propuesto permite mantener las correcciones "m√°s cerca" de la API, es decir, lo m√°s cerca posible del c√≥digo desde el que se realizan las solicitudes de red.  Como resultado, se reduce la cantidad de c√≥digo de aplicaci√≥n que interact√∫a con API problem√°ticas.  Adem√°s, resulta que todas las correcciones est√°n en un solo lugar, como resultado ser√° m√°s f√°cil trabajar con ellas.  Si tiene que corregir errores en la API, entonces es mucho m√°s f√°cil hacer esto en un solo archivo que distribuir estas correcciones en toda la aplicaci√≥n.  Esto facilita no solo la creaci√≥n de correcciones, sino tambi√©n la b√∫squeda del c√≥digo apropiado en el proyecto y su soporte. <br><br>  Adem√°s, puede crear sus propias etiquetas, como <code>API_FIX</code> (que se parece a la etiqueta <code>TODO</code> ), y marcar las correcciones con ellas.  Esto facilita encontrar tales soluciones. <br><br><h2>  <font color="#3AC1EF">5. Suscripci√≥n en la plantilla.</font> </h2><br>  Evite suscribirse a observables desde componentes.  En cambio, suscr√≠base a ellos en plantillas. <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  Los operadores canalizados as√≠ncronos se anulan autom√°ticamente, lo que simplifica el c√≥digo y elimina la necesidad de una administraci√≥n de suscripci√≥n manual.  Esto, adem√°s, reduce el riesgo de que el desarrollador se olvide de darse de baja del componente, lo que puede provocar p√©rdidas de memoria.  Es posible reducir la probabilidad de p√©rdidas de memoria utilizando reglas de interinterruptor destinadas a identificar objetos observables de los que no se dieron de baja. <br><br>  Adem√°s, la aplicaci√≥n de este enfoque lleva al hecho de que los componentes dejan de ser componentes con estado, lo que puede generar errores cuando los datos cambian fuera de la suscripci√≥n. <br><br><h3>  <font color="#3AC1EF">‚ñçTo</font> </h3><br><pre> <code class="hljs django"><span class="xml"><span class="xml">//  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ textToDisplay }}</span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> //  iAmAnObservable   .pipe(      map(value =&gt; value.item),      takeUntil(this._destroyed$)    )   .subscribe(item =&gt; this.textToDisplay = item);</span></span></code> </pre><br><h3>  <font color="#3AC1EF">‚ñçDespu√©s</font> </h3><br><pre> <code class="hljs django"><span class="xml"><span class="xml">//  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ textToDisplay$ | async }}</span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> //  this.textToDisplay$ = iAmAnObservable   .pipe(      map(value =&gt; value.item)    );</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">6. Eliminar suscripciones</font> </h2><br>  Al suscribirse a objetos supervisados, aseg√∫rese siempre de que las suscripciones a ellos se eliminen correctamente utilizando operadores como <code>take</code> , <code>takeUntil</code> etc. <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  Si no se da de baja del objeto observado, esto provocar√° p√©rdidas de memoria, ya que la secuencia del objeto observado permanecer√° abierta, lo que es posible incluso despu√©s de que se destruya el componente o despu√©s de que el usuario vaya a otra p√°gina de la aplicaci√≥n. <br><br>  A√∫n mejor ser√≠a crear una regla linter para detectar objetos observados con una suscripci√≥n v√°lida para ellos. <br><br><h3>  <font color="#3AC1EF">‚ñçTo</font> </h3><br><pre> <code class="hljs javascript">iAmAnObservable   .pipe(      map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function"> =&gt;</span></span> value.item)        )   .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.textToDisplay = item);</code> </pre><br><h3>  <font color="#3AC1EF">‚ñçDespu√©s</font> </h3><br>  Use el operador <code>takeUntil</code> si desea observar los cambios de un objeto hasta que otro objeto observado genere un cierto valor: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> destroyed$ = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Subject(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ngOnInit</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span></span> {   iAmAnObservable   .pipe(      map(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.item)     <span class="hljs-comment"><span class="hljs-comment">//    iAmAnObservable         takeUntil(this._destroyed$)    )   .subscribe(item =&gt; this.textToDisplay = item); } public ngOnDestroy (): void {   this._destroyed$.next(); }</span></span></code> </pre> <br>  Usar algo como <code>this</code> es un patr√≥n utilizado para controlar la eliminaci√≥n de suscripciones a muchos objetos observados en un componente. <br><br>  Use <code>take</code> si solo necesita el primer valor devuelto por el objeto observado: <br><br><pre> <code class="hljs javascript">iAmAnObservable   .pipe(      map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function"> =&gt;</span></span> value.item),      take(<span class="hljs-number"><span class="hljs-number">1</span></span>),      takeUntil(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._destroyed$)   )   .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.textToDisplay = item);</code> </pre> <br>  Tenga en cuenta que aqu√≠ usamos <code>takeUntil</code> con <code>take</code> .  Esto se hace para evitar p√©rdidas de memoria causadas por el hecho de que la suscripci√≥n no condujo a obtener el valor hasta que se destruy√≥ el componente.  Si la funci√≥n <code>takeUntil</code> no se usara <code>takeUntil</code> , la suscripci√≥n existir√≠a hasta que se recibiera el primer valor, pero como el componente ya se habr√≠a destruido, este valor nunca se habr√≠a recibido, lo que provocar√≠a una p√©rdida de memoria. <br><br><h2>  <font color="#3AC1EF">7. Utilizando operadores adecuados</font> </h2><br>  Usando operadores de suavizado con objetos observables, aplique aquellos que correspondan a las caracter√≠sticas del problema que se est√° resolviendo. <br><br><ul><li>  Use <code>switchMap</code> cuando necesite ignorar la acci√≥n programada anterior cuando llegue una nueva acci√≥n. </li><li>  Use <code>mergeMap</code> en caso de que necesite procesar todas las acciones despachadas en paralelo. </li><li>  Utilice <code>concatMap</code> cuando las acciones deban procesarse una tras otra, en el orden en que se reciben. </li><li>  Use <code>exhaustMap</code> en situaciones en las que, en el proceso de procesamiento de acciones recibidas anteriormente, necesite ignorar otras nuevas. </li></ul><br>  Los detalles sobre esto se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  Usar, si es posible, un operador, en lugar de lograr el mismo efecto combinando varios operadores en una cadena, reduce la cantidad de c√≥digo de aplicaci√≥n que debe enviarse al usuario.  El uso de un operador seleccionado incorrectamente puede conducir a un comportamiento incorrecto del programa, ya que diferentes operadores procesan los objetos observados de manera diferente. <br><br><h2>  <font color="#3AC1EF">8. Carga perezosa</font> </h2><br>  Luego, siempre que sea posible, intente organizar la carga diferida de los m√≥dulos de la aplicaci√≥n angular.  Esta t√©cnica se reduce al hecho de que algo se carga solo si se usa.  Por ejemplo, un componente se carga solo cuando debe mostrarse. <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  La carga diferida reduce el tama√±o de los materiales de la aplicaci√≥n que el usuario tiene que descargar.  Esto puede mejorar la velocidad de descarga de la aplicaci√≥n debido al hecho de que los m√≥dulos no utilizados no se transfieren del servidor a los clientes. <br><br><h3>  <font color="#3AC1EF">‚ñçTo</font> </h3><br><pre> <code class="hljs pgsql">// app.routing.ts { <span class="hljs-type"><span class="hljs-type">path</span></span>: <span class="hljs-string"><span class="hljs-string">'not-lazy-loaded'</span></span>, component: NotLazyLoadedComponent }</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçDespu√©s</font> </h3><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> app.routing.ts { path: <span class="hljs-string"><span class="hljs-string">'lazy-load'</span></span>, loadChildren: <span class="hljs-string"><span class="hljs-string">'lazy-load.module#LazyLoadModule'</span></span> } <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> lazy-load.<span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.ts <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { NgModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/core'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { CommonModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/common'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { RouterModule } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@angular/router'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { LazyLoadComponent }   <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./lazy-load.component'</span></span>; @NgModule({ imports: [   CommonModule,   RouterModule.forChild([        {            path: <span class="hljs-string"><span class="hljs-string">''</span></span>,            component: LazyLoadComponent        }   ]) ], declarations: [   LazyLoadComponent ] }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LazyModule</span></span></span><span class="hljs-class"> {}</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">9. Acerca de las suscripciones dentro de otras suscripciones</font> </h2><br>  A veces, para realizar alguna acci√≥n, es posible que necesite datos de varios objetos observables.  En tal situaci√≥n, evite crear suscripciones a dichos objetos dentro de los bloques de <code>subscribe</code> de otros objetos observables.  En su lugar, utilice operadores adecuados para encadenar comandos.  Entre tales operadores, uno puede notar con <code>withLatestFrom</code> y <code>combineLatest</code> .  Considere los ejemplos y luego comente sobre ellos. <br><br><h3>  <font color="#3AC1EF">‚ñçTo</font> </h3><br><pre> <code class="hljs javascript">firstObservable$.pipe(  take(<span class="hljs-number"><span class="hljs-number">1</span></span>) ) .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">firstValue</span></span></span><span class="hljs-function"> =&gt;</span></span> {   secondObservable$.pipe(       take(<span class="hljs-number"><span class="hljs-number">1</span></span>)   )   .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">secondValue</span></span></span><span class="hljs-function"> =&gt;</span></span> {       <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Combined values are: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${firstValue}</span></span></span><span class="hljs-string"> &amp; </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${secondValue}</span></span></span><span class="hljs-string">`</span></span>);   }); });</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçDespu√©s</font> </h3><br><pre> <code class="hljs powershell">firstObservable<span class="hljs-variable"><span class="hljs-variable">$</span></span>.pipe(   withLatestFrom(secondObservable<span class="hljs-variable"><span class="hljs-variable">$</span></span>),   first() ) .subscribe(([<span class="hljs-type"><span class="hljs-type">firstValue</span></span>, <span class="hljs-type"><span class="hljs-type">secondValue</span></span>]) =&gt; {   console.log(`Combined values are: <span class="hljs-variable"><span class="hljs-variable">$</span></span>{firstValue} &amp; <span class="hljs-variable"><span class="hljs-variable">$</span></span>{secondValue}`); });</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  Si hablamos de legibilidad, de la complejidad del c√≥digo o de los signos de c√≥digo incorrecto, cuando el programa no utiliza las funciones de RxJS en su totalidad, esto indica que el desarrollador no conoce bien la API de RxJS.  Si tocamos el tema del rendimiento, resulta que si el objeto observable necesita algo de tiempo para inicializarse, se suscribir√° a <code>firstObservable</code> , entonces el sistema esperar√° a que se complete la operaci√≥n, y solo despu√©s de eso comenzar√° el trabajo con el segundo objeto observable.  Si estos objetos son solicitudes de red, se ver√° como una ejecuci√≥n s√≠ncrona de solicitudes. <br><br><h2>  <font color="#3AC1EF">10. Sobre escribir</font> </h2><br>  Siempre trate de declarar variables o constantes con un tipo diferente a <code>any</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  Si se declara una variable o constante en TypeScript sin especificar un tipo, el tipo se deducir√° en funci√≥n del valor que se le asigne.  Esto puede llevar a problemas.  Considere un ejemplo cl√°sico de comportamiento del sistema en una situaci√≥n similar: <br><br><pre> <code class="hljs pgsql">const x = <span class="hljs-number"><span class="hljs-number">1</span></span>; const y = <span class="hljs-string"><span class="hljs-string">'a'</span></span>; const z = x + y; console.log(`<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> z <span class="hljs-keyword"><span class="hljs-keyword">is</span></span>: ${z}` //  <span class="hljs-keyword"><span class="hljs-keyword">Value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> z <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>a</code> </pre> <br>  Se supone que <code>y</code> es un n√∫mero aqu√≠, pero nuestro programa no lo sabe, por lo que muestra algo que parece incorrecto, pero no genera ning√∫n mensaje de error.  Se pueden evitar problemas similares asignando tipos apropiados a variables y constantes. <br><br>  Reescribimos el ejemplo anterior: <br><br><pre> <code class="hljs pgsql">const x: number = <span class="hljs-number"><span class="hljs-number">1</span></span>; const y: number = <span class="hljs-string"><span class="hljs-string">'a'</span></span>; const z: number = x + y; //    : <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> <span class="hljs-string"><span class="hljs-string">'"a"'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> assignable <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-string"><span class="hljs-string">'number'</span></span>. const y:number</code> </pre> <br>  Esto ayuda a evitar errores de tipo de datos. <br><br>  Otra ventaja de un enfoque sistem√°tico para escribir es que simplifica la refactorizaci√≥n y reduce la probabilidad de errores durante este proceso. <br><br>  Considere un ejemplo: <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> ngOnInit (): <span class="hljs-type"><span class="hljs-type">void</span></span> {   let myFlashObject = {       <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'My cool name'</span></span>,       age: <span class="hljs-string"><span class="hljs-string">'My cool age'</span></span>,       loc: <span class="hljs-string"><span class="hljs-string">'My cool location'</span></span>   }   this.processObject(myFlashObject); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> processObject(myObject: <span class="hljs-keyword"><span class="hljs-keyword">any</span></span>): <span class="hljs-type"><span class="hljs-type">void</span></span> {   console.log(`<span class="hljs-type"><span class="hljs-type">Name</span></span>: ${myObject.name}`);   console.log(`Age: ${myObject.age}`);   console.log(`<span class="hljs-keyword"><span class="hljs-keyword">Location</span></span>: ${myObject.loc}`); } //  <span class="hljs-type"><span class="hljs-type">Name</span></span>: My cool <span class="hljs-type"><span class="hljs-type">name</span></span> Age: My cool age <span class="hljs-keyword"><span class="hljs-keyword">Location</span></span>: My cool <span class="hljs-keyword"><span class="hljs-keyword">location</span></span></code> </pre> <br>  Supongamos que queremos cambiar, en <code>myFlashObject</code> , el nombre de la propiedad <code>loc</code> a la <code>location</code> y cometimos un error <code>myFlashObject</code> editar el c√≥digo: <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> ngOnInit (): <span class="hljs-type"><span class="hljs-type">void</span></span> {   let myFlashObject = {       <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'My cool name'</span></span>,       age: <span class="hljs-string"><span class="hljs-string">'My cool age'</span></span>,       <span class="hljs-keyword"><span class="hljs-keyword">location</span></span>: <span class="hljs-string"><span class="hljs-string">'My cool location'</span></span>   }   this.processObject(myFlashObject); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> processObject(myObject: <span class="hljs-keyword"><span class="hljs-keyword">any</span></span>): <span class="hljs-type"><span class="hljs-type">void</span></span> {   console.log(`<span class="hljs-type"><span class="hljs-type">Name</span></span>: ${myObject.name}`);   console.log(`Age: ${myObject.age}`);   console.log(`<span class="hljs-keyword"><span class="hljs-keyword">Location</span></span>: ${myObject.loc}`); } //  <span class="hljs-type"><span class="hljs-type">Name</span></span>: My cool <span class="hljs-type"><span class="hljs-type">name</span></span> Age: My cool age <span class="hljs-keyword"><span class="hljs-keyword">Location</span></span>: undefined</code> </pre> <br>  Si no se utiliza la <code>myFlashObject</code> al crear el objeto <code>myFlashObject</code> , en nuestro caso, el sistema supone que el valor de la propiedad <code>loc</code> de <code>myFlashObject</code> <code>undefined</code> est√° <code>undefined</code> .  Ella no cree que <code>loc</code> pueda ser un nombre de propiedad no v√°lido. <br><br>  Si se usa la escritura al describir el objeto <code>myFlashObject</code> , en una situaci√≥n similar veremos, al compilar el c√≥digo, un maravilloso mensaje de error: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> FlashObject = {   <span class="hljs-type"><span class="hljs-type">name</span></span>: string,   age: string,   <span class="hljs-keyword"><span class="hljs-keyword">location</span></span>: string } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> ngOnInit (): <span class="hljs-type"><span class="hljs-type">void</span></span> {   let myFlashObject: FlashObject = {       <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'My cool name'</span></span>,       age: <span class="hljs-string"><span class="hljs-string">'My cool age'</span></span>,       //         <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> <span class="hljs-string"><span class="hljs-string">'{ name: string; age: string; loc: string; }'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> assignable <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-string"><span class="hljs-string">'FlashObjectType'</span></span>.       <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span> literal may <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> specify known properties, <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-string"><span class="hljs-string">'loc'</span></span> does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> exist <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-string"><span class="hljs-string">'FlashObjectType'</span></span>.       loc: <span class="hljs-string"><span class="hljs-string">'My cool location'</span></span>   }   this.processObject(myFlashObject); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> processObject(myObject: FlashObject): <span class="hljs-type"><span class="hljs-type">void</span></span> {   console.log(`<span class="hljs-type"><span class="hljs-type">Name</span></span>: ${myObject.name}`);   console.log(`Age: ${myObject.age}`)   //     Property <span class="hljs-string"><span class="hljs-string">'loc'</span></span> does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> exist <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-string"><span class="hljs-string">'FlashObjectType'</span></span>.   console.log(`<span class="hljs-keyword"><span class="hljs-keyword">Location</span></span>: ${myObject.loc}`); }</code> </pre> <br>  Si est√° comenzando a trabajar en un nuevo proyecto, ser√° √∫til establecer, en el archivo <code>tsconfig.json</code> , la opci√≥n <code>strict:true</code> para habilitar la verificaci√≥n estricta de tipos. <br><br><h2>  <font color="#3AC1EF">11. Sobre el uso de linter</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tslint</a> tiene varias reglas est√°ndar como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">no-any</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">no-magic-numbers</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">no-console</a> .  El linter se puede personalizar editando el archivo <code>tslint.json</code> para organizar la verificaci√≥n del c√≥digo de acuerdo con ciertas reglas. <br><br><h3>  <font color="#3AC1EF">‚ñç Explicaciones</font> </h3><br>  Usar un linter para verificar el c√≥digo significa que si algo aparece en el c√≥digo que est√° prohibido por las reglas, recibir√° un mensaje de error.  Esto contribuye a la uniformidad del c√≥digo del proyecto, mejora su legibilidad.  Vea otras reglas de tslint aqu√≠. <br><br>  Cabe se√±alar que algunas reglas incluyen medios para corregir lo que se considera inadmisible de acuerdo con ellas.  Si es necesario, puede crear sus propias reglas.  Si est√° interesado, eche un vistazo a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> material, que analiza la creaci√≥n de reglas personalizadas para el linter utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TSQuery</a> . <br><br><h3>  <font color="#3AC1EF">‚ñçTo</font> </h3><br><pre> <code class="hljs javascript">public ngOnInit (): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'I am a naughty console log message'</span></span>);   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.warn(<span class="hljs-string"><span class="hljs-string">'I am a naughty console warning message'</span></span>);   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">'I am a naughty console error message'</span></span>); } <span class="hljs-comment"><span class="hljs-comment">// .    ,    : I am a naughty console message I am a naughty console warning message I am a naughty console error message</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçDespu√©s</font> </h3><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> tslint.json {   <span class="hljs-string"><span class="hljs-string">"rules"</span></span>: {       .......       <span class="hljs-string"><span class="hljs-string">"no-console"</span></span>: [            <span class="hljs-literal"><span class="hljs-literal">true</span></span>,            <span class="hljs-string"><span class="hljs-string">"log"</span></span>, <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log             <span class="hljs-string"><span class="hljs-string">"warn"</span></span> <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>  <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.warn        ]  } } <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ..component.ts public ngOnInit (): void {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'I am a naughty console log message'</span></span>);   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.warn(<span class="hljs-string"><span class="hljs-string">'I am a naughty console warning message'</span></span>);   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">'I am a naughty console error message'</span></span>); } <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> .      <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.warn        <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error,         Calls to <span class="hljs-string"><span class="hljs-string">'console.log'</span></span> are <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> allowed. Calls to <span class="hljs-string"><span class="hljs-string">'console.warn'</span></span> are <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> allowed.</code> </pre> <br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  Hoy revisamos 11 recomendaciones que esperamos sean √∫tiles para los desarrolladores de Angular.  La pr√≥xima vez, espera 11 consejos m√°s. <br><br>  <b>Estimados lectores!</b>  ¬øUtiliza el marco angular para desarrollar proyectos web? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es425661/">https://habr.com/ru/post/es425661/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es425647/index.html">Prueba de IU: comprobaci√≥n del sistema a diferentes resoluciones</a></li>
<li><a href="../es425649/index.html">BDSM, Gore y la b√∫squeda del desarrollador de Drupal</a></li>
<li><a href="../es425653/index.html">Construyendo una arquitectura de microservicios en Golang y gRPC, Parte 1</a></li>
<li><a href="../es425657/index.html">La inevitabilidad del castigo, la efectividad de los controles repentinos</a></li>
<li><a href="../es425659/index.html">El dise√±o interactivo no tiene que ser complicado.</a></li>
<li><a href="../es425663/index.html">22 consejos para un desarrollador angular. Parte 2</a></li>
<li><a href="../es425665/index.html">Git: arreglando errores y arreglando commits</a></li>
<li><a href="../es425667/index.html">Gu√≠a de Node.js, Parte 10: M√≥dulos est√°ndar, flujos, bases de datos, NODE_ENV</a></li>
<li><a href="../es425669/index.html">Gu√≠a de dise√±o web para no dise√±adores</a></li>
<li><a href="../es425671/index.html">MBLT DEV 2018: Informe de robot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>