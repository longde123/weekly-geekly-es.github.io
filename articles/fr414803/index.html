<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëêüèª üì© üíáüèæ Comment nous avons vu les paiements IoT lors d'un hackathon √† Hong Kong üî§ üîé üçú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le 10 juin √©tait le troisi√®me jour de notre acclimatation √† Hong Kong. Et les 26 derni√®res heures, nous avons pass√© presque sans dormir, √† d√©velopper ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous avons vu les paiements IoT lors d'un hackathon √† Hong Kong</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mixbytes/blog/414803/"><p><img src="https://habrastorage.org/webt/fs/nm/lj/fsnmljsf_fjfqn0eqomgc9yyswi.jpeg"></p><br><p>  Le 10 juin √©tait le troisi√®me jour de notre acclimatation √† Hong Kong.  Et les 26 derni√®res heures, nous avons pass√© presque sans dormir, √† d√©velopper un projet prototype sous le nom de SensorPay √† la premi√®re √©tape du hackathon EOS Global avec une cagnotte totale d'un million et demi de dollars.  Le moment de d√©monstration du projet devant les juges approchait. </p><br><p>  Si vous avez h√¢te de savoir comment cette histoire s'est termin√©e, jetez un coup d'≈ìil √† la derni√®re partie.  Dans l'intervalle, nous commencerons √† parler syst√©matiquement des technologies EOS et de la mani√®re dont nous sommes arriv√©s √† l'id√©e de lier les paiements pour l'IoT √† EOS.  Juste apr√®s cela, il y aura une description d√©taill√©e du bourrage technique du projet. </p><a name="habracut"></a><br><h1 id="0-predystoriya">  0. Contexte </h1><br><p>  EOS est une blockchain de nouvelle g√©n√©ration, certains le consid√®rent m√™me comme un tueur d'Ethereum.  Si soudain vous ne savez pas ce qu'est une blockchain ou Ethereum, Google vous aidera.  Et nous, il est arriv√©, avons commenc√© √† d√©terrer EOS il y a environ un an, notamment en √©tudiant les produits pr√©c√©dents de ses auteurs BitShares et Steem. </p><br><p>  Les avantages d'EOS par rapport √† Ethereum: le d√©bit des transactions est sup√©rieur de trois ordres de grandeur;  d√©velopp√© un syst√®me d'autorisation pour les contrats intelligents;  la possibilit√© de restaurer l'acc√®s perdu et de corriger les erreurs dans la blockchain;  gestion du r√©seau onchain.  Faiblesses: probl√®mes de centralisation, consensus DPoS potentiellement plus vuln√©rable, code brut et courbe d'apprentissage plus abrupte pour les d√©veloppeurs. </p><br><p>  Puisque nous aimons cette technologie depuis longtemps et la consid√©rons comme prometteuse, nous ne pouvons pas ignorer la s√©rie des hackathons, soutenue par les auteurs d'EOS.  Nous voulions juste √™tre l√†, r√©aliser nos id√©es dans cet environnement inspirant et les partager avec un large public.  Bien s√ªr, l'opportunit√© de gagner beaucoup d'argent est √©galement devenue une motivation suppl√©mentaire. </p><br><p>  Ainsi, EOS est la seule solution de travail pour la blockchain publique que nous savons o√π vous pouvez effectuer de nombreuses transactions.  O√π est-il n√©cessaire?  Bien s√ªr dans l'IoT!  En effet, si chaque grille-pain devient micropaiements, il paiera pour chaque morceau de pain au r√©frig√©rateur (et c'est cool par d√©faut, comme vous le comprenez), il y aura beaucoup de transactions.  Sans oublier toutes sortes d'autres applications en m√©decine, industrie et vie quotidienne. </p><br><p>  Quelques semaines avant le hackathon, des id√©es alternatives surgissaient p√©riodiquement et de petits brainstormings avaient lieu.  Nous avons compar√© des id√©es sur la base de crit√®res d'arbitrage bien connus: l'utilisation des capacit√©s EOS, la cr√©ativit√©, l'impact public et l'√©volutivit√©.  En cons√©quence, nous avons opt√© pour l'IoT + EOS - une solution qui prendrait les donn√©es des capteurs et enverrait de nombreuses transactions de paiement √† EOS. </p><br><p>  Soit dit en passant, nous voulions vraiment dire ici √©galement comment nous avons √©lev√© notre producteur de blocs pour EOS;  comment ils pr√©voyaient de vider pour lui le constructeur de jetons de type ERC721 et le support de fonctions constantes;  comment ont-ils d√©pos√© le protocole ACL Merkle Root.  Mais tout cela ne rentre pas dans l'article, nous allons donc revenir √† notre projet principal. </p><br><p><img src="https://habrastorage.org/webt/9j/mu/uk/9jmuukvwx1e6cav3h59txeywaw0.jpeg"></p><br><h1 id="1-podgotovka">  1. Pr√©paration </h1><br><h2 id="11-iot">  1.1.  IoT </h2><br><p>  Pr√©parer la partie IoT du projet, c'est choisir le bon mat√©riel.  Dans le r√¥le du lecteur RFID, le RC522 fonctionnant sur le bus SPI a √©t√© choisi: il est populaire et facile √† utiliser. </p><br><p><img src="https://habrastorage.org/webt/tq/xf/qh/tqxfqh4x5vzlaywel57eqszznpu.jpeg"></p><br><p>  Lors de la recherche d'un compteur, nous nous sommes concentr√©s sur la pr√©sence d'une sortie impulsionnelle, car cela vous permet de lire les donn√©es tr√®s simplement: une impulsion est X kW‚ãÖh (o√π X d√©pend du mod√®le), en cons√©quence, nous nous sommes arr√™t√©s au compteur Mercury 201.5. </p><br><p><img src="https://habrastorage.org/webt/z-/63/sc/z-63scf4m94nnbw30prkmy_nfxa.jpeg"></p><br><p>  La chose la plus difficile a √©t√© de d√©cider du contr√¥leur, qui devrait collecter les donn√©es des capteurs, former une transaction, la signer avec votre cl√© priv√©e et l'envoyer au r√©seau.  En cons√©quence, nous avions besoin d'un appareil avec un module r√©seau qui pourrait signer une transaction en utilisant ECDSA (dans ce cas, sur la courbe elliptique secp256k1, car il est utilis√© dans EOS pour la signature). </p><br><p>  Dans un premier temps, le choix s'est port√© sur le microcontr√¥leur ESP8266, il dispose d'un module Wi-Fi et de toutes les interfaces n√©cessaires pour connecter nos capteurs.  En m√™me temps, il est tr√®s compact.  Mais aucun micrologiciel n'a une impl√©mentation native de primitives elliptiques.  Il est possible d'√©crire votre propre impl√©mentation, mais ce n'est pas une t√¢che pour le hackathon.  En cons√©quence, Raspberry Pi 3 B a √©t√© choisi pour le prototype et la biblioth√®que eosjs a √©t√© utilis√©e pour g√©n√©rer et signer des transactions. </p><br><p><img src="https://habrastorage.org/webt/ww/jo/dg/wwjodgbxktjubpruvb-srqz_9dq.jpeg"></p><br><h2 id="12-infrastruktura">  1.2.  L'infrastructure </h2><br><p>  Quelques jours avant le hackathon, nous avons pr√©par√© localement et sur le serveur eos-hackathon.smartz.io un assemblage EOS ( <a href="">source</a> ).  L'installation, l'assemblage et les tests de d√©pendances se sont √©tonnamment bien d√©roul√©s pour un projet aussi jeune (en utilisant la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> ).  Il n'y avait pas assez de temps pour la pr√©paration d'autres infrastructures, et j'ai d√ª y faire face pendant le hackathon. </p><br><h2 id="13-arhitektura">  1.3.  L'architecture </h2><br><p>  √Ä la veille du hackathon, nous avons discut√© de l'architecture et clarifi√© les d√©tails du produit.  Nous allions mettre en ≈ìuvre les principaux cas suivants: les paiements pour l'√©lectricit√© et le paiement pour les achats marqu√©s d'√©tiquettes RFID.  Ils ont √©galement pr√©vu de rendre le produit facilement extensible et de l'utiliser dans d'autres domaines. </p><br><p><img src="https://habrastorage.org/webt/yh/rh/tm/yhrhtm0ildam8hgnnjnpkf4_l7w.jpeg"></p><br><p>  L'id√©e de l'architecture est que le fournisseur de services (producteur) cr√©e un contrat - le point central d'interaction entre le fournisseur et les consommateurs.  Chaque consommateur a son propre solde, qui peut √™tre reconstitu√©, les fonds en sont d√©bit√©s en fonction des signaux des capteurs.  Toutes les donn√©es - utilisateurs, capteurs, statistiques - sont stock√©es dans le contrat du fournisseur. </p><br><p> Les pr√©f√©rences utilisateur sont associ√©es au consommateur, ou indicateurs (par exemple, une cat√©gorie d'utilisateur pr√©f√©rentielle) - <code>user_meta</code> .  Plusieurs capteurs peuvent √™tre connect√©s avec le consommateur, pour chacun d'eux un contrat et des param√®tres de facturation ( <code>billing_meta</code> ) sont indiqu√©s.  Vous pouvez donc obtenir un contrat de facturation apatride immuable, utilis√© pour un grand nombre de consommateurs;  les donn√©es n√©cessaires appara√Ætront lors de l'appel de la m√©thode de <code>bill(payload, user_meta, billing_meta)</code> .  En outre, la possibilit√© d'une logique de facturation diff√©rente, c'est-√†-dire de contrats diff√©rents, est pos√©e: par exemple, l'un consid√®re l'√©lectricit√©, l'autre - les biens.  Chaque capteur dispose d'un ¬´pointeur¬ª sur son contrat de facturation. </p><br><p>  On suppose que le consommateur fait confiance au fabricant du capteur, mais ne fait pas n√©cessairement confiance au fournisseur de services.  L'interface d'interaction avec le capteur est extr√™mement simple: il s'agit d'un appel √† la m√©thode du contrat fournisseur avec un param√®tre num√©rique, qui sera transf√©r√© √† la facturation.  Le fournisseur de services d√©marre les consommateurs, les capteurs, les contrats de facturation et leurs relations dans leur contrat, en utilisant des transactions de contr√¥le - des setters primitifs.  Lorsqu'une transaction est re√ßue du capteur, les donn√©es sont v√©rifi√©es, les donn√©es de facturation sont g√©n√©r√©es, la facturation est appel√©e, le paiement est enregistr√© et les statistiques sont enregistr√©es. </p><br><p>  Peut-√™tre avons-nous surtout discut√© des questions suivantes qui sont importantes pour l'applicabilit√© du produit dans le monde r√©el: </p><br><ul><li>  Acomptes ou post-paiement?  Recharger votre compte et l'utiliser (comme une connexion cellulaire) - ou l'utiliser, puis payer (comme AWS)?  Il n'y a pas de bonne ou de mauvaise r√©ponse ici: diff√©rentes entreprises pr√©f√®rent des mod√®les diff√©rents.  Par souci de simplicit√©, nous avons d√©cid√© de prendre des acomptes. </li><li>  L'utilisateur doit-il tenir un compte distinct pour chaque fournisseur, ou tous les frais proviennent-ils d'un seul compte?  Encore une fois - il n'y a pas de bonne et de mauvaise d√©cision;  en outre, la r√©ponse est √©troitement li√©e √† la r√©ponse √† la question pr√©c√©dente.  Les avances sont de bons amis avec les comptes de consommateurs individuels - elles ont √©t√© prises. </li><li>  Facturer des frais en EOS, un jeton de fournisseur de services ou une pi√®ce stable (li√©e √† la monnaie fiduciaire)?  Les options autres que la pi√®ce stable, bien s√ªr, ne sont pas pratiques pour le consommateur en raison de la volatilit√©, et la pi√®ce stable dans le cadre d'EOS n'existe pas encore.  A cette √©poque, m√™me le r√©seau EOS principal n'√©tait pas l√†!  Par souci de simplicit√©, ils ont pris un jeton conditionnel. </li></ul><br><h1 id="2-koding">  2. Codage </h1><br><p>  Tout d'abord, ils ont pr√©cis√© l'API et le cadre du contrat du fournisseur afin de commencer simultan√©ment le d√©veloppement du frontend, du code d'appareil, de la facturation et du contrat principal ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">source</a> ). </p><br><h2 id="21-iot">  2.1.  IoT </h2><br><p>  Le premier √† impl√©menter un <a href="">code</a> de lecture d'impulsions depuis un compteur.  Pour travailler avec GPIO (broches √† usage g√©n√©ral), la biblioth√®que onoff JS a √©t√© utilis√©e.  Plus tard, deux LED ont √©t√© ajout√©es au circuit pour plus de clart√©: la premi√®re a clignot√© lorsqu'un signal a √©t√© re√ßu du compteur et la seconde lorsqu'une r√©ponse concernant une transaction r√©ussie est venue du n≈ìud EOS.  De m√™me, nous avons d√©velopp√© un sch√©ma et un code pour lire les √©tiquettes RFID, avec la seule diff√©rence: la lecture a eu lieu sur le bus SPI en utilisant la biblioth√®que MFRC522-python.  Il s'est av√©r√© que le param√®tre SPI du Raspberry Pi 3 est diff√©rent de celui des mod√®les de carte pr√©c√©dents;  Cette <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">instruction</a> nous a aid√©s √† comprendre. </p><br><p>  Les appareils √©taient aliment√©s par la banque d'alimentation, qui a √©t√© pr√©sent√©e avec succ√®s √† tous les participants au hackathon, et ils devaient partager eux-m√™mes Internet avec l'iPhone 5, car le Wi-Fi du hackathon fonctionnait exclusivement √† 5 GHz, cela ne fonctionnait pas pour le Raspberry Pi. </p><br><h2 id="22-infrastruktura-i-utility">  2.2.  Infrastructure et services publics </h2><br><p>  Les organisateurs ont conseill√© de prendre l'image docker d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eos-dev</a> , mais nous √©tions confus par le manque de description et de documentation de l'image.  Sur le serveur, ils ont continu√© √† travailler avec l'assemblage pr√©par√© et, localement, pour √©viter d'installer EOS syst√©matiquement, ils ont utilis√© eos-dev. </p><br><p>  Il fallait de toute urgence la capacit√© de construire et de tester rapidement.  Id√©al: cr√©er et ex√©cuter un fichier ex√©cutable localement.  Cependant, il √©tait impossible d'ignorer le fait qu'apr√®s l'assemblage, la sortie n√©cessitait WebAssembly et, dans l'environnement EOS, avec le boost correspondant, les biblioth√®ques, les contrats syst√®me.  Les options de compilation n√©cessaires pourraient √™tre espionn√©es dans <a href="">eosiocpp.in</a> , cependant, nous avons d√©cid√© de ne pas jouer √† ce jeu.  Le r√©sultat pr√©vu, quoique un peu plus lent, est plus important qu'une solution rapide avec un r√¢teau potentiel.  Par cons√©quent, pour l'assemblage, nous avons pris eoscpp, qui se trouve dans le conteneur eos-dev. </p><br><p>  Cela s'est av√©r√© plus difficile avec le lancement, j'ai d√ª augmenter la blockchain EOS locale, et encore une fois, il n'y avait pas de solution toute faite.  Seul logiciel.  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premi√®re version de</a> l'infrastructure de lancement est donc apparue.  L'id√©e est de masquer les nuances de montage et de configuration et d'obtenir un ensemble auto-coh√©rent de quatre √† cinq ¬´boutons¬ª pour des actions typiques.  Moins de contr√¥le, mais moins de risques d'erreur, plus un gain de temps. </p><br><p>  Les principaux composants d'EOS comprennent les n≈ìuds nodos, les d√©mons keosd, l'utilitaire de console cleos et le compilateur eoscpp: </p><br><ul><li>  nodeos - N≈ìud EOS, d√©mon - participant au r√©seau, donne acc√®s √† la blockchain et produit √©ventuellement de nouveaux blocs; </li><li>  keosd - un d√©mon pour g√©rer les portefeuilles locaux qui stockent des paires de cl√©s; </li><li>  cleos fournit des commandes permettant d'obtenir des informations sur les transactions et de travailler avec des cl√©s; il est impl√©ment√© sur la base d'appels dans nodeos et keosd via l'API HTTP; </li><li>  eoscpp compile les contrats dans WebAssembly et vous permet √©galement d'obtenir l'interface binaire d'application bas√©e sur le code source. </li></ul><br><p>  Il est imm√©diatement devenu clair que les commandes cleos li√©es aux appels keosd ne fonctionnaient pas.  Comme une erreur a √©t√© √©mise indiquant l'inaccessibilit√© du r√©seau keosd, nous avons pass√© du temps √† diagnostiquer les probl√®mes de r√©seau dans le r√©seau docker.  Cependant, strace a montr√© que ce n'√©tait pas le r√©seau: cleos acc√©dait √† la mauvaise adresse, toujours √† localhost (et dans le cas de notre infrastructure, diff√©rents d√©mons ont des adresses r√©seau diff√©rentes dans un r√©seau docker distinct).  Un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bug a</a> √©t√© diagnostiqu√© dans cleos: la v√©rification de la disponibilit√© de keosd, qui est effectu√©e avant toute commande relative aux portefeuilles, prend en compte le port pass√© dans les arguments, mais ne tient pas compte de l'adresse.  Dans le cadre du hackathon, nous sommes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pass√©s</a> au r√©seau h√¥te dans docker comme solution de contournement. </p><br><p>  L'√©tape suivante a √©t√© l'utilitaire de compilation de contrat utilisant le compilateur dans le conteneur ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">commit</a> ).  Les r√©pertoires d'entr√©e et de sortie ont √©t√© mont√©s.  Et enfin, la possibilit√© de t√©l√©charger un contrat dans la blockchain et d'envoyer des transactions ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">commit</a> ).  Encore une fois - des utilitaires dans un style coh√©rent, de simples ¬´boutons¬ª.  Cela a mis fin √† l'infrastructure de base, mais les surprises ont continu√©: nous sommes tomb√©s sur le probl√®me des fonctions C pour travailler avec la m√©moire (plus en d√©tail ci-dessous). </p><br><p>  En conclusion, ils ont commenc√© √† configurer des comptes dans un fichier (chaque contrat et chaque participant n√©cessitent des comptes s√©par√©s) ainsi que des paires de cl√©s qui sont cr√©√©es automatiquement au d√©marrage de la blockchain, afin qu'une √©quipe puisse augmenter l'environnement de test.  Une copie de cet environnement a √©t√© d√©ploy√©e sur eos-hackathon.smartz.io. </p><br><h2 id="23-smart-kontrakty">  2.3.  Contrats intelligents </h2><br><h3 id="231-kontrakt-postavschika-i-billing-elektrichestva">  2.3.1.  Contrat fournisseur et facturation √©lectricit√© </h3><br><p>  Apr√®s le d√©but du hackathon, nous avons commenc√© √† √©tablir la structure des contrats selon le sch√©ma ci-dessus.  Le syst√®me comprenait les contrats suivants: </p><br><ul><li>  <code>supplier</code> - contrat <code>supplier</code> ; </li><li>  <code>billing_electricity</code> - un contrat pour calculer le paiement de l'√©lectricit√© pour chaque tick du compteur. </li></ul><br><p>  Dans le contrat <code>supplier</code> , la plupart des travaux sont effectu√©s par des op√©rations CRUD ordinaires: ajout d'utilisateurs, tarifs, compteurs, augmentation ou diminution du solde de l'utilisateur.  Des m√©thodes plus complexes √©taient charg√©es de recevoir les donn√©es du compteur, d'appeler un contrat pour calculer un paiement (facturation), de d√©biter le compte personnel d'un utilisateur apr√®s un rappel d'un contrat de facturation.  Le contrat de facturation n√©cessaire a √©t√© d√©termin√© en fonction du tarif de l'utilisateur. </p><br><p>  Apr√®s l'appel dans le contrat de facturation, le paiement a √©t√© calcul√© et la m√©thode a √©t√© appel√©e pour d√©biter le paiement du compte personnel de l'utilisateur.  Ayant jet√© la logique principale, nous avons m√™me pens√© si nous faisions des contrats trop simples.  Un peu plus tard, apr√®s le d√©ploiement des contrats dans le n≈ìud et leurs tests, il est devenu clair que les contrats peuvent √™tre simples, mais il y a des nuances.  :) </p><br><p>  Apr√®s le d√©ploiement, il s'est av√©r√© que les appels de contrat attendus les uns des autres n'ont pas fonctionn√©.  Pas assez de droits.  Contrairement aux contrats intelligents dans Ethereum, o√π un contrat est appel√© √† partir d'un contrat au nom du contrat appelant, dans EOS, toute la cha√Æne commence par l'initiateur de la transaction.  Lorsqu'un contrat est appel√© √† partir d'un contrat, il est v√©rifi√© si l'initiateur a autoris√© le contrat √† le faire. </p><br><p>  Les mentors ont imm√©diatement sugg√©r√© comment agir dans un cas simple.  Les droits sont ajout√©s comme suit (en appelant le contrat intelligent du syst√®me eosio): </p><br><pre> <code class="hljs swift">./cleos push action eosio updateauth '{<span class="hljs-string"><span class="hljs-string">"account"</span></span>:<span class="hljs-string"><span class="hljs-string">"electricity"</span></span>,<span class="hljs-string"><span class="hljs-string">"permission"</span></span>:<span class="hljs-string"><span class="hljs-string">"active"</span></span>,<span class="hljs-string"><span class="hljs-string">"parent"</span></span>:<span class="hljs-string"><span class="hljs-string">"owner"</span></span>,<span class="hljs-string"><span class="hljs-string">"auth"</span></span>:{<span class="hljs-string"><span class="hljs-string">"keys"</span></span>:[{<span class="hljs-string"><span class="hljs-string">"key"</span></span>:<span class="hljs-string"><span class="hljs-string">"EOS7oPdzdvbHcJ4k9iZaDuG4Foh9YsjQffTGniLP28FC8fbpCDgr5"</span></span>,<span class="hljs-string"><span class="hljs-string">"weight"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>}],<span class="hljs-string"><span class="hljs-string">"threshold"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-string"><span class="hljs-string">"accounts"</span></span>:[{<span class="hljs-string"><span class="hljs-string">"permission"</span></span>:{<span class="hljs-string"><span class="hljs-string">"actor"</span></span>:<span class="hljs-string"><span class="hljs-string">"supplier"</span></span>,<span class="hljs-string"><span class="hljs-string">"permission"</span></span>:<span class="hljs-string"><span class="hljs-string">"eosio.code"</span></span>},<span class="hljs-string"><span class="hljs-string">"weight"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>}],<span class="hljs-string"><span class="hljs-string">"waits"</span></span>:[]}}' -p electricity</code> </pre> <br><p>  Dans ce cas, le compte d' <code>electricity</code> permet au contrat <code>supplier</code> d'appeler d'autres contrats en son nom.  Vous pouvez en savoir plus sur les droits dans <a href="">Technical WP EOS</a> .  Dans notre pays, le contrat <code>supplier</code> provoqu√© le contrat de <code>billing</code> , et qui, √† son tour, a de nouveau appel√© le <code>supplier</code> .  L'ajout par analogie des droits sous cette forme n'a pas fonctionn√©: </p><br><pre> <code class="hljs swift">./cleos push action eosio updateauth '{<span class="hljs-string"><span class="hljs-string">"account"</span></span>:<span class="hljs-string"><span class="hljs-string">"electricity"</span></span>,<span class="hljs-string"><span class="hljs-string">"permission"</span></span>:<span class="hljs-string"><span class="hljs-string">"active"</span></span>,<span class="hljs-string"><span class="hljs-string">"parent"</span></span>:<span class="hljs-string"><span class="hljs-string">"owner"</span></span>,<span class="hljs-string"><span class="hljs-string">"auth"</span></span>:{<span class="hljs-string"><span class="hljs-string">"keys"</span></span>:[{<span class="hljs-string"><span class="hljs-string">"key"</span></span>:<span class="hljs-string"><span class="hljs-string">"EOS7oPdzdvbHcJ4k9iZaDuG4Foh9YsjQffTGniLP28FC8fbpCDgr5"</span></span>,<span class="hljs-string"><span class="hljs-string">"weight"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>}],<span class="hljs-string"><span class="hljs-string">"threshold"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-string"><span class="hljs-string">"accounts"</span></span>:[{<span class="hljs-string"><span class="hljs-string">"permission"</span></span>:{<span class="hljs-string"><span class="hljs-string">"actor"</span></span>:<span class="hljs-string"><span class="hljs-string">"supplier"</span></span>,<span class="hljs-string"><span class="hljs-string">"permission"</span></span>:<span class="hljs-string"><span class="hljs-string">"eosio.code"</span></span>},<span class="hljs-string"><span class="hljs-string">"weight"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>},{<span class="hljs-string"><span class="hljs-string">"permission"</span></span>:{<span class="hljs-string"><span class="hljs-string">"actor"</span></span>:<span class="hljs-string"><span class="hljs-string">"billelectro"</span></span>,<span class="hljs-string"><span class="hljs-string">"permission"</span></span>:<span class="hljs-string"><span class="hljs-string">"eosio.code"</span></span>},<span class="hljs-string"><span class="hljs-string">"weight"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>}],<span class="hljs-string"><span class="hljs-string">"waits"</span></span>:[]}}' -p electricity</code> </pre> <br><p>  Une erreur a √©t√© √©mise: autorit√© non valide.  Ici, les mentors ne pouvaient plus nous aider: ils ont dit qu'ils ne l'avaient pas fait eux-m√™mes.  Et qui l'a fait?  Peut-√™tre seulement Dan Larimer.  Nous n'avons pas pu trouver rapidement la cause de l'erreur dans le code EOS et avons d√©j√† commenc√© √† envisager des options alternatives, sans cha√Æne d'appels.  Cela a emp√™ch√© admirablement que le m√©canisme d'appel d'autres contrats dans EOS soit √©galement diff√©rent de l'√©ther.  Lorsqu'un autre contrat est appel√©, cet appel est mis en file d'attente et ne sera termin√© qu'une fois l'appel en cours termin√©.  Il ne fonctionnera pas pour appeler le contrat et apr√®s l'appel pour lire les donn√©es enregistr√©es par ce contrat. </p><br><p>  Plus tard, apr√®s tout, ils ont trouv√© dans le code EOS la raison de l'erreur lors de la d√©finition des droits pour deux contrats.  Il s'av√®re que les comptes dans la liste des droits doivent √™tre tri√©s par compte: <em>s'assure que toutes les cl√©s sont uniques et tri√©es et que toutes les autorisations de compte sont uniques et tri√©es</em> ( <a href="">Authority.hpp</a> ).  Apr√®s avoir chang√© l'ordre des comptes, la mise √† jour des droits a fonctionn√© - et notre syst√®me de contrats a commenc√© √† fonctionner. </p><br><h3 id="232-problema-c-funkciy-raboty-s-pamyatyu">  2.3.2.  Le probl√®me des fonctions C avec la m√©moire </h3><br><p>  C'est ridicule √† dire, mais au final nous n'avons pas pu utiliser les fonctions pr√™tes √† l'emploi pour l'analyse des nombres (!) Pour lire la configuration de facturation.  Apr√®s <code>std::istringstream</code> fonction <code>std::istringstream</code> √©t√© extraite, ce qui est plut√¥t √©trange.  Et lors de l'utilisation de <code>atof</code> et similaires, ainsi que de <code>sscanf</code> - <code>env.realloc</code> resserr√©.  Pour une raison quelconque, les fonctions mentionn√©es de travailler avec la m√©moire de la biblioth√®que C standard n'ont pas √©t√© trouv√©es lors du chargement de code dans nodeos.  Les fonctions C ++ fonctionnant avec la m√©moire ont fonctionn√©. </p><br><p>  Bien s√ªr, lors de l'ex√©cution du contrat WebAssembly, pas un allocateur de m√©moire standard n'est utilis√©, mais son propre sandbox, qui est fourni √† chaque transaction sous certaines conditions.  De plus, la prise en charge des fonctions C de travail avec la m√©moire au-dessus de ce bac √† sable a √©t√© impl√©ment√©e depuis longtemps, leur impl√©mentation est dans <a href="">les contrats EOS standard</a> .  Quelque chose s'est probablement mal pass√© au stade de la liaison. </p><br><p>  Apr√®s avoir pass√© environ une heure √† chercher une issue, y compris avec l'aide de l'un des mentors, nous avons d√©cid√© de ne pas continuer et de contourner le probl√®me: √©crire notre propre code qui r√©sout le probl√®me de l'analyse des nombres.  Le m√©canisme de flux de donn√©es EOS ne nous convenait pas: il n√©cessitait la possibilit√© de sauvegarder des paquets de donn√©es de diff√©rentes structures dans un champ et de les former √† la main (les configurations de facturation m√™me). </p><br><h3 id="233-billing-pokupok">  2.3.3.  Facturation des achats </h3><br><p>  Dans le second vent, qui a √©t√© ouvert soit par les ing√©nieurs en √©lectricit√©, soit par le petit d√©jeuner matinal, ils ont √©crit la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">facturation</a> des achats dans le magasin.  Le sch√©ma g√©n√©ral de travail est le suivant: </p><br><ol><li>  Le fournisseur cr√©e un contrat de facturation et le prescrit dans son contrat g√©n√©ral. </li><li>  √Ä la sortie du magasin, le fournisseur √©tablit des cadres qui peuvent lire la RFID, interagir avec EOS et avoir leurs propres comptes prescrits dans le contrat de facturation. </li><li>  Chaque produit du magasin est √©quip√© d'une √©tiquette RFID, toutes les √©tiquettes sont enregistr√©es dans le contrat de facturation. </li><li>  L'acheteur paie les marchandises en scannant sa RFID, et les marchandises sont retir√©es du contrat de facturation. </li><li>  √Ä la sortie du magasin, les cadres lisent en outre les achats RFID.  Si les marchandises sont toujours dans le magasin, la transaction ne passe pas et le cadre doit sonner l'alarme (oui, en fait, vous ne pouvez m√™me pas envoyer la transaction, mais il suffit de lire le tableau). </li></ol><br><p>  Cela n'a aucun sens de s'attarder sur le code du contrat lui-m√™me: il s'agit du standard C ++ 14 avec certaines constructions et biblioth√®ques sp√©cifiques √† EOS.  Mieux dit dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">wiki</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">EOSIO</a> et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">portail des d√©veloppeurs EOSIO</a> . </p><br><h3 id="234-frontend">  2.3.4.  Frontend </h3><br><p>  La partie frontend du projet a √©t√© impl√©ment√©e √† l'aide de React.  Au lieu de l'habituel, de nombreux Redux ont d√©cid√© d'utiliser MobX, ce qui acc√©l√®re consid√©rablement le d√©veloppement et vous permet de g√©rer l'√©tat global sans mal √† la t√™te. </p><br><p>  La phase d'int√©gration de la blockchain avant ne s'est pas d√©roul√©e aussi bien que pr√©vu.  Le package <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eosjs</a> est en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cours de</a> finalisation tr√®s activement, suivi du portefeuille EOS pour le navigateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Scatter</a> .  Dans ce groupe, cela pose souvent des probl√®mes.  Et pas le fait que le code qui a fonctionn√© hier fonctionnera tr√®s bien aujourd'hui.  Nous avons march√© sur ce r√¢teau (et pas la premi√®re fois).  Une heure d'essais et de d√©bogage dans un √©tat de somnolence - le probl√®me est r√©solu. </p><br><p>  Consid√©rons un diagramme simplifi√© de l'interaction du c√¥t√© client de l'application avec eos.  Pour ce faire, vous avez besoin de la biblioth√®que eosjs et de l'extension du navigateur Scatter. </p><br><p>  Nous vous le rappelons!  Scatter est activement mis √† jour apr√®s eosjs, n'oubliez pas de mettre √† jour la biblioth√®que. </p><br><p>  Ensuite, un bref aper√ßu de la lecture et de l'√©criture.  Il existe deux fa√ßons de communiquer avec les contrats intelligents dans EOS: l'envoi de transactions (il entra√Æne la modification de la cha√Æne de blocs, sans valeur de retour fournie) et la lecture de tables (action en lecture seule). </p><br><p>  Consid√©rez le code d'envoi de la transaction: </p><br><pre> <code class="hljs markdown"> sendTransaction(funcName, data) { return this.scatter .suggestNetwork(this.network) .then(() =&gt; this.scatter.getIdentity({ accounts: [<span class="hljs-string"><span class="hljs-string">this.network</span></span>] })) .then((identity) =&gt; { let accountName = this.getAccountName(identity); // wrap eos instance const eos = this.scatter.eos(this.network, Eos, this.configEosInstance); return eos.transaction(accountName, (contract) =&gt; { contract[<span class="hljs-string"><span class="hljs-string">funcName</span></span>](<span class="hljs-link"><span class="hljs-link">data, { authorization: accountName }</span></span>); }); }); }</code> </pre> <br><p>  Arguments d'entr√©e: nom et objet de la fonction, ses valeurs sont des arguments de cette fonction.  Troisi√®me ligne: nous confirmons le r√©seau par lequel nous interagissons avec EOS.  Quatri√®me ligne: on obtient l' <code>identity</code> , le param√®tre est un objet avec le champ des <code>accounts</code> (pour ce r√©seau).  La fonction <code>getAccountName</code> renvoie le premier compte de la liste de comptes re√ßue (dans l'objet d' <code>identity</code> ). </p><br><p>  Dans cet exemple, Scatter est utilis√© pour signer une transaction.  Scatter est un wrapper sur une instance de la classe <code>Eos</code> .  √Ä la ligne 9, nous appelons la m√©thode <code>eos</code> , ses param√®tres: </p><br><ol><li>  <code>this.network</code> - un objet avec des param√®tres de r√©seau. </li><li>  <code>Eos</code> est une instance d'eosjs. </li><li>  <code>this.configEosInstance</code> - un objet avec des param√®tres pour une instance Eos (voir dock eosjs). </li></ol><br><p>  La derni√®re m√©thode de <code>transaction</code> accepte <code>accountName</code> et <code>callback</code> en entr√©e, l'argument <code>callback</code> est un contrat situ√© dans le compte <code>accountName</code> .  Dans <code>callback</code> 'e, nous appelons la m√©thode du contrat re√ßu avec l'objet, ses cl√©s sont les arguments de la m√©thode appel√©e. </p><br><p>  Consid√©rez la m√©thode de lecture des tableaux: </p><br><pre> <code class="hljs kotlin"> readTable(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.eos = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scatter.eos(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.network, Eos, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.configEosInstance); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.eos.getTableRows({ json: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, limit: <span class="hljs-number"><span class="hljs-number">1</span></span>, ...<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>, }); }</code> </pre> <br><p>  Ici, pour la lecture, nous n'avons besoin que d'une instance <code>eos</code> . </p><br><p>  Pour concevoir l'interface, nous avons abandonn√© Materialise, Semantic et Ant, nous avons concoct√© des styles.  Dans les derni√®res heures du hackathon, une id√©e est apparue pour relancer l'interface utilisateur, ajouter une visualisation du processus.  A mis en √©vidence les nouvelles lignes du tableau pendant deux secondes en vert et a obtenu un effet cool √† la cote des actions.  L'am√©lioration a consid√©rablement accru l'attractivit√© du projet et est devenue la derni√®re √©tape de la construction de l'interface utilisateur. </p><br><h1 id="3-sborka">  3. Assemblage </h1><br><p>  Trois heures avant la fin du temps, nous avions un Raspberry Pi avec le compteur d'√©lectricit√© Mercury et un lecteur RFID connect√©s, ainsi qu'une indication lumineuse.  Toute l'√©lectricit√© de la table passait par le Mercure.  Pour chaque 0,3125 Wh / h d√©pens√©, ainsi que pour chaque ¬´achat¬ª, le Raspberry Pi a envoy√© des transactions √† notre blockchain, et le fournisseur de services pouvait g√©rer les utilisateurs, les capteurs, la facturation et voir les statistiques de consommation. </p><br><p><img src="https://habrastorage.org/webt/y6/uq/mz/y6uqmz1upvprppiimceoecejewg.jpeg"></p><br><p>  Pendant encore une heure, nous nous sommes engag√©s calmement dans les v√©rifications et avons ajout√© la touche finale.  Deux heures avant la fin des temps, nous avons re√ßu un produit complet avec deux bo√Ætiers impl√©ment√©s, illustrant pleinement le concept, et m√™me aucun engagement dans les derni√®res minutes! </p><br><h1 id="4-demonstraciya">  4. D√©monstration </h1><br><p>  Les d√©monstrations de projets (alias emplacements) se sont d√©roul√©es en deux √©tapes.  Lors de la premi√®re √©tape, 69 √©quipes participantes ont √©t√© r√©parties en quatre groupes, chacun d'eux √©tant nourri s√©par√©ment devant deux juges et sans spectateurs.  Les juges ont donn√© des notes (quatre crit√®res de 5 points chacun), et sur la base de ces notes, les 10 meilleures √©quipes ont √©t√© s√©lectionn√©es pour la deuxi√®me √©tape.  Ces √©quipes ont eu la possibilit√© de monter un projet sur une grande sc√®ne devant le public et les huit juges. </p><br><p>  Nous nous sommes retrouv√©s dans le premier groupe, nos juges √©taient le PDG et le pr√©sident (je me demande en quoi ces positions diff√®rent) d'Everipedia.  Trois minutes ont √©t√© allou√©es pour la repr√©sentation, elles ont √©t√© strictement surveill√©es par minuterie.  Nous avons termin√© notre incoh√©rence, mais avons appel√© √† impressionner le discours 30 secondes avant la date pr√©vue.  Les juges ont demand√© quelque chose superficiellement et assez rapidement, et la manifestation √©tait termin√©e. </p><br><p>  Nous, na√Øfs, avons √©t√© surpris de ne pas pr√™ter attention √† la capacit√© de travail r√©elle du produit, et plus encore au code du juge.  Les probl√®mes de mise en ≈ìuvre technique ne les int√©ressaient m√™me pas du tout.  On pourrait tout aussi bien montrer les ampoules clignotantes du Raspberry Pi et l'image en fa√ßade. </p><br><p>  Nous avons eu le sentiment qu'avec la pr√©sentation du projet, nous avons √©chou√©, car nous nous attendions √† impressionner par une solution r√©elle, un prototype, et pas seulement une description color√©e d'un projet socialement ambitieux et ambitieux.  Tout se jouait comme par des notes: nous d√©crivions le probl√®me, la douleur, notre solution, montrions comment cela fonctionne et d√©crivions les plans de d√©veloppement du projet.  Connaissant √† l'avance les m√©thodes de jugement, nous aurions fait beaucoup diff√©remment. </p><br><p>  Les juges des quatre volets du premier tour ont r√©duit leurs scores et √©chang√© leurs points de vue 15 minutes apr√®s la fin des terrains.  Apr√®s l'annonce des gagnants a commenc√©.  Une ambiance nerveuse r√©gnait dans la salle: fatigu√©s apr√®s les 26 heures du marathon, les gens voulaient gagner, il y avait beaucoup d'√©quipes fortes, et ils savaient qu'ils pouvaient revendiquer la victoire.  Et nous le savions - et attendions les r√©sultats. </p><br><p>  Pour emp√™cher les t√©l√©spectateurs de se d√©tendre, les r√©sultats ont √©t√© annonc√©s en trois parties.  Les quatre premiers finalistes, puis trois de plus, puis trois autres.  Entre les annonces et √† la fin - performances.  Nous ne sommes pas entr√©s dans le top 10 et n'avons pas eu l'opportunit√© d'entrer dans la grande sc√®ne.  Deux √©quipes russophones se sont class√©es parmi les dix premi√®res, dont l'une est finalement devenue la troisi√®me.  F√©licitations aux gagnants, ils m√©ritent leurs prix. </p><br><h1 id="5-zaklyuchenie-i-plany">  5. Conclusion et plans </h1><br><p>    AngelHack    .     ,   .     ‚Äî  ,  ,      . ,     ,       ,      ‚Äî   . </p><br><p>  26         IoT-   EOS.         ,   . </p><br><p>    ‚Äî      UI (  ‚Äî  -- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Smartz</a> ),     .  - ,     blockchain-ready  ,   , ‚Äî    .  :) </p><br><p><img src="https://habrastorage.org/webt/1i/9q/nq/1i9qnqngvpnjizwpepz4n_b4gkc.gif"></p><br><p>   ,    ,         ¬´¬ª, ¬´¬ª  . .  5           .   ,         100    ,          .            SensorPay   ! </p><br><p>     : </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Yuvasee</a>  (entrepreneur) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">algs</a>  (hardware &amp; backend developer) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">therealal</a>  (architect, backend developer, devops) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">bolbu</a>  (frontend developer) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">quantum</a>  (blockchain &amp; backend developer) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr414803/">https://habr.com/ru/post/fr414803/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr414789/index.html">Tesla Model S est de nouveau sous tension et un sabotage intentionnel [selon Elon Mask] est r√©v√©l√© dans l'atelier de montage de Model 3</a></li>
<li><a href="../fr414793/index.html">Comment fonctionnent les canaux de paiement et le r√©seau Lightning dans Bitcoin?</a></li>
<li><a href="../fr414797/index.html">Comment nous avons cr√©√© Open Lines chez Bitrix24</a></li>
<li><a href="../fr414799/index.html">LLTR Partie 0: D√©tection automatique de la topologie du r√©seau et commutateurs non g√©r√©s. Mission impossible?</a></li>
<li><a href="../fr414801/index.html">Moscou Vue.js Meetup # 2 chez Mail.Ru Group</a></li>
<li><a href="../fr414805/index.html">Webinaire ouvert "M√©thodes alternatives de recrutement"</a></li>
<li><a href="../fr414809/index.html">Swift 4.1: pourquoi Apple a renomm√© flatMap en compactMap</a></li>
<li><a href="../fr414811/index.html">Int√©grez Telegram et Avaya</a></li>
<li><a href="../fr414813/index.html">Cr√©ation de mod√®les dans l'IDE Jetbrains</a></li>
<li><a href="../fr414817/index.html">Cyber ‚Äã‚Äãgrand-m√®re, ou comment nous avons pirat√© une journ√©e</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>