<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíáüèæ üåµ üõê Treinamento Cisco 200-125 CCNA v3.0. Dia 44. Introdu√ß√£o ao OSPF ‚ô†Ô∏è üë®‚Äçüë®‚Äçüë¶‚Äçüë¶ ‚≠êÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje come√ßaremos a estudar o roteamento OSPF. Este t√≥pico, bem como a considera√ß√£o do protocolo EIGRP, √© o mais importante em todo o curso do CCNA. Co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Treinamento Cisco 200-125 CCNA v3.0. Dia 44. Introdu√ß√£o ao OSPF</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466449/"> Hoje come√ßaremos a estudar o roteamento OSPF.  Este t√≥pico, bem como a considera√ß√£o do protocolo EIGRP, √© o mais importante em todo o curso do CCNA.  Como voc√™ pode ver, a Se√ß√£o 2.4 √© chamada de ‚ÄúConfigurando, Verificando e Problemas com uma Zona √önica e Multizone OSPFv2 para IPv4 (Exceto para Autentica√ß√£o, Filtragem, Soma Manual de Rotas, Redistribui√ß√£o, √Årea Sem Sa√≠da, Rede Virtual e LSA)‚Äù. <br><br><img src="https://habrastorage.org/webt/eh/eg/ly/eheglytkouujf35vnfqie-es6my.jpeg"><br><br>  O t√≥pico OSPF √© bastante extenso, portanto, ser√£o necess√°rios 2, possivelmente 3 tutoriais em v√≠deo.  A li√ß√£o de hoje ser√° dedicada ao lado te√≥rico da quest√£o. Vou lhe dizer o que √© esse protocolo em termos gerais e como ele funciona.  No pr√≥ximo v√≠deo, mudaremos para o modo de configura√ß√£o OSPF usando o Packet Tracer. <a name="habracut"></a><br><br>  Portanto, nesta li√ß√£o, examinaremos tr√™s coisas: o que √© OSPF, como ele funciona e o que s√£o zonas OSPF.  Na li√ß√£o anterior, dissemos que o OSPF √© um protocolo de roteamento do tipo Link State que examina os canais de comunica√ß√£o entre os roteadores e toma decis√µes com base na velocidade desses canais.  Um canal longo com uma velocidade mais alta, ou seja, com uma largura de banda maior, ser√° uma prioridade em compara√ß√£o com um canal curto com uma largura de banda menor. <br><br>  O protocolo RIP, sendo um vetor de dist√¢ncia, escolher√° um caminho em um salto, mesmo se esse canal tiver uma velocidade baixa, e o OSPF escolher√° uma rota longa com v√°rias esperan√ßas se a velocidade total nessa rota for maior que a velocidade do tr√°fego em uma rota curta. <br><br><img src="https://habrastorage.org/webt/si/vu/ov/sivuovzoo80jcpepru30511r2lk.jpeg"><br><br>  Mais tarde, veremos o algoritmo de tomada de decis√£o, pois agora voc√™ deve se lembrar de que o OSPF √© o protocolo de estado do link Link State.  Esse padr√£o aberto foi criado em 1988, para que todo fabricante de equipamentos de rede e qualquer provedor de rede pudessem us√°-lo.  Portanto, o OSPF √© muito mais popular que o EIGRP. <br><br>  O OSPF vers√£o 2 suporta apenas IPv4 e, um ano depois, em 1989, os desenvolvedores anunciaram o lan√ßamento da vers√£o 3, que suporta IPv6.  No entanto, a terceira vers√£o totalmente funcional do OSPF para IPv6 apareceu apenas em 2008.  Por que voc√™ escolheu o OSPF?  Na √∫ltima li√ß√£o, aprendemos que esse protocolo de gateway interno realiza converg√™ncia de rota muito mais r√°pido que o RIP.  Este √© um protocolo sem classe. <br><br>  Se voc√™ se lembrar, o RIP √© um protocolo de classe, ou seja, ele n√£o envia informa√ß√µes sobre a m√°scara de sub-rede e, se encontrar um endere√ßo IP da classe A / 24, n√£o o aceitar√°.  Por exemplo, se voc√™ apresentar um endere√ßo IP no formato 10.1.1.0/24, ele o perceber√° como uma rede 10.0.0.0, porque ele n√£o entende quando uma rede √© dividida em sub-redes usando mais de uma m√°scara de sub-rede. <br>  OSPF √© um protocolo seguro.  Por exemplo, se dois roteadores trocarem informa√ß√µes OSPF, voc√™ poder√° configurar a autentica√ß√£o para poder compartilhar informa√ß√µes com um roteador vizinho somente depois de inserir a senha.  Como dissemos, esse √© um padr√£o aberto, e √© por isso que o OSPF √© usado por muitos fabricantes de equipamentos de rede. <br><br>  Em um sentido global, o OSPF √© o mecanismo de troca de an√∫ncios do estado do link, LSA, estado publicit√°rio.  As mensagens LSA s√£o geradas pelo roteador e cont√™m muitas informa√ß√µes: um identificador exclusivo para a identifica√ß√£o do roteador, dados em redes conhecidas pelo roteador, dados sobre seus custos e assim por diante.  O roteador precisa de todas essas informa√ß√µes para tomar uma decis√£o sobre o roteamento. <br><br><img src="https://habrastorage.org/webt/aj/nx/5-/ajnx5-u3bzlcoc3kjj0holdm9po.jpeg"><br><br>  O roteador R3 envia suas informa√ß√µes de LSA ao roteador R5, e o roteador R5 compartilha suas informa√ß√µes de LSA com o R3.  Esses LSAs s√£o uma estrutura de dados que forma um banco de dados Link State Data Base, ou LSDB, de estados de link.  O roteador coleta todos os LSAs recebidos e os coloca em seu LSDB.  Depois que os dois roteadores criam seus pr√≥prios bancos de dados, eles trocam mensagens Hello, que s√£o usadas para descobrir vizinhos e iniciam o procedimento de compara√ß√£o de seus LSDBs. <br><br>  O roteador R3 envia uma mensagem DBD, ou "descri√ß√£o do banco de dados", para R5, e R5 envia seu DBD para R3.  Essas mensagens cont√™m os √≠ndices LSA encontrados nas bases de cada roteador.  Depois de receber um DBD, o R3 envia uma solicita√ß√£o de status da rede LSR para o R5, que diz: ‚ÄúEu j√° tenho as mensagens 3.4 e 9, ent√£o envie-me apenas 5 e 7‚Äù. <br><br>  O R5 faz exatamente o mesmo, dizendo ao terceiro roteador: "Eu tenho informa√ß√µes 3,4 e 9, ent√£o me envie 1 e 2".  Ao receber solicita√ß√µes de LSR, os roteadores enviam de volta os pacotes de atualiza√ß√£o de status da rede LSU, ou seja, em resposta ao LSR, o terceiro roteador recebe a LSU do roteador R5.  Depois que os roteadores atualizam seus bancos de dados, todos eles, mesmo se voc√™ tiver 100 roteadores, ter√£o o mesmo LSDB.  Assim que os bancos de dados LSDB forem criados nos roteadores, cada um deles conhecer√° toda a rede como um todo.  O protocolo OSPF usa o algoritmo Shortest Path First para criar uma tabela de roteamento; portanto, a condi√ß√£o mais importante para o seu correto funcionamento √© a sincroniza√ß√£o do LSDB de todos os dispositivos na rede. <br><br><img src="https://habrastorage.org/webt/ci/dg/fs/cidgfs7bbtoycybdlbkuzet-uqe.jpeg"><br><br>  O diagrama acima cont√©m 9 roteadores, cada um dos quais troca mensagens LSR, LSU e assim por diante com os vizinhos.  Todos eles s√£o conectados entre si, como p2p, ou interfaces ponto a ponto que suportam o protocolo OSPF e interagem entre si para criar o mesmo LSDB. <br><br><img src="https://habrastorage.org/webt/z0/am/wv/z0amwvsbzhhwo3quwhqf9vypyk4.jpeg"><br><br>  Assim que os bancos de dados s√£o sincronizados, cada roteador, usando o algoritmo de caminho mais curto, forma sua pr√≥pria tabela de roteamento.  Roteadores diferentes ter√£o tabelas diferentes.  Ou seja, todos os roteadores usam o mesmo LSDB, mas criam tabelas de roteamento com base em suas pr√≥prias considera√ß√µes sobre as rotas mais curtas.  Para usar esse algoritmo, o OSPF precisa de atualiza√ß√µes regulares no banco de dados LSDB. <br><br>  Portanto, para seu pr√≥prio funcionamento, o OSPF deve primeiro fornecer tr√™s condi√ß√µes: encontre vizinhos, crie e atualize o LSDB e crie uma tabela de roteamento.  Para cumprir a primeira condi√ß√£o, o administrador da rede pode precisar configurar manualmente a ID do roteador, hor√°rios ou m√°scara curinga.  No pr√≥ximo v√≠deo, consideraremos como configurar o dispositivo para funcionar com OSPF, at√© agora voc√™ deve saber que este protocolo usa uma m√°scara reversa e, se n√£o corresponder, se suas sub-redes n√£o corresponderem ou se a autentica√ß√£o n√£o corresponder, a vizinhan√ßa dos roteadores n√£o ser√° formada.  Portanto, ao solucionar problemas do OSPF, voc√™ deve descobrir por que essa vizinhan√ßa n√£o se forma, ou seja, verifique se os par√¢metros acima correspondem. <br><br>  Como administrador de rede, voc√™ n√£o est√° envolvido no processo de cria√ß√£o de um LSDB.  Os bancos de dados s√£o atualizados automaticamente ap√≥s a cria√ß√£o de uma vizinhan√ßa de roteadores e a cria√ß√£o de tabelas de roteamento.  Tudo isso √© feito pelo pr√≥prio dispositivo, configurado para funcionar com o protocolo OSPF. <br>  Vejamos um exemplo.  Temos dois roteadores, para os quais atribu√≠mos identificadores RID 1.1.1.1 e 2.2.2.2 por simplicidade.  Assim que os conectarmos, o canal de link entrar√° imediatamente no estado ativo, porque primeiro configurei esses roteadores para funcionarem com o OSPF.  Assim que o canal de comunica√ß√£o for formado, o roteador A enviar√° imediatamente o segundo pacote Hello.  Este pacote conter√° informa√ß√µes que este roteador n√£o "viu" ningu√©m neste canal, porque envia o Hello pela primeira vez, bem como seu pr√≥prio identificador, dados sobre a rede conectada a ele e outras informa√ß√µes que podem ser compartilhadas com um vizinho. <br><br><img src="https://habrastorage.org/webt/8y/h3/ee/8yh3eeidlszlok6i5nc6mk_pwu8.jpeg"><br><br>  Depois de receber esse pacote, o roteador B dir√°: ‚ÄúVejo que neste canal de comunica√ß√£o h√° um candidato em potencial para a vizinhan√ßa OSPF‚Äù e passar√° para o estado inicial Init state.  O pacote Hello n√£o √© uma mensagem de difus√£o ponto a ponto ou de difus√£o, √© um pacote multicast enviado para o endere√ßo IP de multicast OSPF 224.0.0.5.  Algumas pessoas perguntam o que √© uma m√°scara de sub-rede para um multicast.  O fato √© que um multicast n√£o possui uma m√°scara de sub-rede, √© distribu√≠do como um sinal de r√°dio que √© ouvido por todos os dispositivos sintonizados em sua frequ√™ncia.  Por exemplo, se voc√™ deseja ouvir uma transmiss√£o de r√°dio FM na frequ√™ncia 91.0, sintonize o r√°dio nessa frequ√™ncia. <br><br>  Da mesma maneira, o roteador B est√° configurado para receber mensagens para o endere√ßo multicast 224.0.0.5.  Ao ouvir esse canal, ele recebe o pacote Hello enviado pelo roteador A e responde com sua mensagem. <br><br><img src="https://habrastorage.org/webt/jz/3v/65/jz3v65x0bhyt3l7aulusvjqv_ns.jpeg"><br><br>  Al√©m disso, a vizinhan√ßa pode ser estabelecida apenas se a resposta B satisfizer um conjunto de crit√©rios.  O primeiro crit√©rio - a frequ√™ncia do envio de mensagens Hello e o intervalo de espera por uma resposta a essa mensagem Dead Interval devem coincidir para os dois roteadores.  O intervalo normalmente inoperante √© igual a v√°rios valores do temporizador Hello.  Assim, se o Hello Timer do roteador A for 10 s e o roteador B enviar uma mensagem ap√≥s 30 s com intervalo morto igual a 20 s, a vizinhan√ßa n√£o ocorrer√°. <br><br>  O segundo crit√©rio √© que os dois roteadores devem usar o mesmo tipo de autentica√ß√£o.  Portanto, as senhas de autentica√ß√£o tamb√©m devem corresponder. <br><br>  O terceiro crit√©rio √© a coincid√™ncia dos identificadores da zona Arial ID, o quarto √© a coincid√™ncia do comprimento do prefixo da rede.  Se o roteador A relatar o prefixo / 24, o roteador B tamb√©m dever√° ter um prefixo de rede / 24.  No pr√≥ximo v√≠deo, consideraremos isso com mais detalhes. Por agora, notarei que essa n√£o √© uma m√°scara de sub-rede, aqui os roteadores usam a m√°scara curinga reversa.  E, √© claro, os sinalizadores da zona de stub da √°rea de stub tamb√©m devem corresponder se os roteadores estiverem nessa zona. <br><br>  Depois de verificar esses crit√©rios, se eles corresponderem, o roteador B envia seu pacote Hello para o roteador A.  Diferentemente da mensagem A, o roteador B relata que viu o roteador A e se apresenta. <br><br><img src="https://habrastorage.org/webt/6r/kn/vy/6rknvyrb_4jh5nhlv4qwio46zay.jpeg"><br><br>  Em resposta a esta mensagem, o roteador A envia novamente Hello para o roteador B, no qual confirma que tamb√©m viu o roteador B, o canal de comunica√ß√£o entre eles consiste nos dispositivos 1.1.1.1 e 2.2.2.2, e ele pr√≥prio √© o dispositivo 1.1.1.1.  Esta √© uma etapa muito importante para estabelecer um bairro.  Nesse caso, √© usada uma conex√£o bidirecional bidirecional, mas o que acontece se tivermos um switch com uma rede distribu√≠da de 4 roteadores?  Nesse ambiente "compartilhado", um dos roteadores deve desempenhar o papel de um roteador dedicado DR designado de roteador e o segundo - um roteador dedicado de backup Roteador designado de backup, BDR <br><br><img src="https://habrastorage.org/webt/ly/gi/on/lygionmgdtv62_x7hibp9lc48xm.jpeg"><br><br>  Cada um desses dispositivos formar√° uma conex√£o completa, ou um estado de adjac√™ncia total; posteriormente, consideraremos o que √©, no entanto, uma conex√£o desse tipo ser√° estabelecida apenas com DR e BDR, os dois roteadores inferiores D e B ainda se comunicar√£o de acordo com o esquema de conex√£o bidirecional Ponto a ponto. <br><br>  Ou seja, com DR e BDR, todos os roteadores estabelecem um relacionamento completo de proximidade e conex√£o ponto a ponto entre si.  Isso √© muito importante, porque, ao conectar os dispositivos adjacentes de maneira bidirecional, todos os par√¢metros do pacote Hello devem corresponder.  No nosso caso, tudo coincide, ent√£o os dispositivos formam um bairro sem problemas. <br><br>  Assim que a comunica√ß√£o bidirecional √© estabelecida, o roteador A envia ao roteador B o pacote Descri√ß√£o do banco de dados, ou a ‚Äúdescri√ß√£o do banco de dados‚Äù, e alterna para o estado ExStart - o in√≠cio da troca ou aguardando o download.  O Descritor do Banco de Dados √© uma informa√ß√£o semelhante ao √≠ndice do livro - √© uma enumera√ß√£o de tudo o que est√° dispon√≠vel no banco de dados de roteamento.  Em resposta, o roteador B envia sua descri√ß√£o do banco de dados ao roteador A e entra no estado de troca de dados nos canais do Exchange.  Se, no estado Exchange, o roteador detectar que h√° alguma informa√ß√£o em seu banco de dados, ele entrar√° no estado de inicializa√ß√£o LOADING e come√ßar√° a trocar mensagens LSR, LSU e LSA com o vizinho. <br><br><img src="https://habrastorage.org/webt/c2/0h/ix/c20hixd7ecp-7n0m1cjiwhsfzmm.jpeg"><br><br>  Portanto, o roteador A envia um LSR para um vizinho, ele responde com um pacote LSU, ao qual o roteador A responde ao roteador B com uma mensagem LSA.  Essa troca ocorrer√° tantas vezes quanto o n√∫mero de vezes que o dispositivo desejar trocar mensagens LSA.  Um estado LOADING significa que uma atualiza√ß√£o completa do banco de dados LSA ainda n√£o ocorreu.  Ap√≥s o download de todos os dados, os dois dispositivos entrar√£o no estado de adjac√™ncia COMPLETO. <br><br>  Observo que, com uma conex√£o bidirecional, o dispositivo est√° simplesmente no estado de proximidade, e o estado de adjac√™ncia total √© poss√≠vel apenas entre roteadores, DR e BDR.Isso significa que cada roteador informa o DR sobre altera√ß√µes na rede e todos os roteadores aprendem sobre essas altera√ß√µes no DR <br><br>  A escolha de DR e BDR √© uma quest√£o importante.  Considere como a sele√ß√£o de DR em um ambiente comum.  Suponha que em nosso circuito haja tr√™s roteadores e um switch.  Primeiro, os dispositivos OSPF comparam a prioridade nas mensagens Hello e, em seguida, o ID do roteador. <br><br>  O dispositivo com a prioridade mais alta se torna DR. Se as prioridades dos dois dispositivos corresponderem, ent√£o, dos dois dispositivos, o dispositivo com o ID do roteador mais alto ser√° selecionado, que se tornar√° DR <br><br>  Um dispositivo com a segunda maior prioridade ou o segundo mais importante ID do roteador se torna o roteador BDR de backup dedicado.Se o DR falhar, ele ser√° substitu√≠do imediatamente pelo BDR.Ele come√ßar√° a desempenhar o papel de DR e o sistema escolher√° outro BDR. <br><br><img src="https://habrastorage.org/webt/na/i3/ss/nai3ssrsisjj-sdy7hc0hxnp6cg.jpeg"><br><br>  Espero que voc√™ tenha descoberto a escolha de DR e BDR, caso contr√°rio, voltarei a esta quest√£o em um dos v√≠deos a seguir e explicarei esse processo. <br><br>  Ent√£o, vimos o que √© Hello, uma descri√ß√£o do descritor de banco de dados e as mensagens LSR, LSU e LSA.  Antes de passar para o pr√≥ximo t√≥pico, vamos falar um pouco sobre o custo do OSPF. <br><br><img src="https://habrastorage.org/webt/ts/ma/ct/tsmact54hpjwyrgvpdot7xop_cu.jpeg"><br><br>  Na Cisco, o custo de uma rota √© calculado usando a f√≥rmula da propor√ß√£o da largura de banda Largura de banda de refer√™ncia, que por padr√£o √© definida como 100 Mbps, para o custo do canal.  Por exemplo, ao conectar dispositivos atrav√©s de uma porta serial, a velocidade √© de 1,544 Mb / s e o custo √© 64. Ao usar uma conex√£o Ethernet com uma velocidade de 10 Mb / s, o custo √© 10 e o custo de uma conex√£o FastEthernet com uma velocidade de 100 Mb / s ser√° 1. <br><br>  Ao usar a Gigabit Ethernet, temos uma velocidade de 1000 Mbps, mas, neste caso, a velocidade √© sempre assumida como 1. Portanto, se voc√™ tiver Gigabit Ethernet na sua rede, dever√° alterar o valor padr√£o Ref.  BW por 1000. Nesse caso, o custo ser√° 1 e a tabela inteira ser√° recalculada com um aumento no valor de 10 vezes.  Depois de formarmos a vizinhan√ßa e construirmos o banco de dados LSDB, prosseguimos para a constru√ß√£o da tabela de roteamento. <br><br><img src="https://habrastorage.org/webt/bh/_p/rt/bh_prtlzefjqlznmehubb6_ndnw.jpeg"><br><br>  Ap√≥s receber o LSDB, cada um dos roteadores continua independentemente para formar uma lista de rotas usando o algoritmo SPF.  Em nosso esquema, o roteador A criar√° uma tabela para si mesmo.  Por exemplo, ele calcula o custo da rota A-R1 e determina igual a 10. Para simplificar o entendimento do esquema, suponha que o roteador A determine a rota ideal para o roteador B. O custo da conex√£o A-R1 √© 10, a conex√£o A-R2 √© 100 e o custo da rota A-R3 √© 11, isto √©, a soma da rota A-R1 (10) e R1-R3 (1). <br><br>  Se o roteador A quiser acessar o roteador R4, ele poder√° fazer isso na rota A-R1-R4 ou na rota A-R2-R4 e, em ambos os casos, o custo das rotas ser√° o mesmo: 10 + 100 = 100 + 10 = 110.  A rota A-R6 custar√° 100 + 1 = 101, o que j√° √© melhor.  A seguir, consideramos o caminho para o roteador R5 ao longo da rota A-R1-R3-R5, cujo custo ser√° 10 + 1 + 100 = 111. <br><br>  O caminho para o roteador R7 pode ser estabelecido ao longo de duas rotas: A-R1-R4-R7 ou A-R2-R6-R7.  O custo do primeiro ser√° 210, o segundo - 201, ent√£o voc√™ deve escolher 201. Portanto, para acessar o roteador B, o roteador A pode usar 4 rotas. <br><br><img src="https://habrastorage.org/webt/1r/uf/3p/1ruf3pxrl5k0fwwd6zdd2sm6b9w.jpeg"><br><br>  O custo da rota A-R1-R3-R5-B ser√° 121. A rota A-R1-R4-R7-B custar√° 220. A rota A-R2-R4-R7-B custa 210 e A-R2-R6-R7- B tem um custo de 211. Com base nisso, o roteador A seleciona a rota com o menor custo igual a 121 e a coloca na tabela de roteamento.  Este √© um diagrama muito simplificado de como o algoritmo SPF funciona.  De fato, a tabela n√£o cont√©m apenas as designa√ß√µes dos roteadores pelos quais a rota ideal √© executada, mas tamb√©m as designa√ß√µes das portas que os conectam e todas as outras informa√ß√µes necess√°rias. <br><br>  Considere outro t√≥pico que diz respeito √†s zonas de roteamento.  Geralmente, ao configurar dispositivos OSPF de uma empresa, eles est√£o todos em uma zona comum. <br><br><img src="https://habrastorage.org/webt/d3/5z/rq/d35zrq0teeueeyun9lmth9efqic.jpeg"><br><br>  O que acontece se um dispositivo conectado ao roteador R3 falhar repentinamente?  O roteador R3 come√ßar√° imediatamente a enviar uma mensagem para os roteadores R5 e R1 de que o canal com este dispositivo n√£o est√° mais funcionando e todos os roteadores come√ßar√£o a trocar atualiza√ß√µes sobre esse evento. <br><br><img src="https://habrastorage.org/webt/of/qn/ce/ofqnceag0vtmjmpd-dddu3vja_o.jpeg"><br><br>  Se voc√™ tiver 100 roteadores, todos eles atualizar√£o as informa√ß√µes sobre o status dos canais, porque est√£o na mesma zona comum.  O mesmo acontecer√° se um dos roteadores vizinhos falhar - todos os dispositivos na zona trocar√£o atualiza√ß√µes do LSA.  Depois de trocar essas mensagens, a pr√≥pria topologia de rede ser√° alterada.  Quando isso acontece, o SPF recalcula as tabelas de roteamento de acordo com as condi√ß√µes alteradas.  Este √© um processo muito demorado, e se voc√™ tiver mil dispositivos em uma zona, precisar√° controlar o tamanho da mem√≥ria dos roteadores para que seja suficiente armazenar todos os LSAs e um enorme banco de dados do status do canal LSDB.  Assim que as altera√ß√µes ocorrem em uma parte da zona, o algoritmo SPF recalcula imediatamente as rotas.  Por padr√£o, o LSA √© atualizado a cada 30 minutos.  Esse processo n√£o ocorre simultaneamente em todos os dispositivos; no entanto, em qualquer caso, as atualiza√ß√µes s√£o realizadas por cada roteador com uma frequ√™ncia de 30 minutos.  Mais dispositivos de rede.  Quanto mais mem√≥ria e tempo s√£o necess√°rios para atualizar o LSDB. <br><br>  Voc√™ pode resolver esse problema se dividir uma zona comum em v√°rias zonas separadas, ou seja, use o multi-zoneamento.  Para fazer isso, voc√™ deve ter um plano ou diagrama de toda a rede que voc√™ gerencia.  Zona zero A √ÅREA 0 √© sua zona principal.  √â o local em que voc√™ se conecta a uma rede externa, por exemplo, acesso √† Internet.  Ao criar novas zonas, voc√™ deve ser guiado pela regra: cada zona deve ter um ABR, roteador de borda de √°rea.  O roteador de borda tem uma interface em uma zona e uma segunda interface em outra zona.  Por exemplo, o roteador R5 possui interfaces na zona 1 e na zona 0. Como eu disse, cada uma das zonas deve estar conectada √† zona zero, ou seja, ter um roteador de borda, uma das interfaces conectadas √† √ÅREA 0. <br><br><img src="https://habrastorage.org/webt/so/lw/yu/solwyugzi0kcniowromdhqrf4em.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suponha que a conex√£o R6-R7 esteja com defeito. </font><font style="vertical-align: inherit;">Nesse caso, a atualiza√ß√£o do LSA ser√° distribu√≠da apenas na zona da √ÅREA 1 e se referir√° apenas a esta zona. </font><font style="vertical-align: inherit;">Os dispositivos na zona 2 e na zona 0 nem saber√£o disso. </font><font style="vertical-align: inherit;">O roteador de borda R5 resume informa√ß√µes sobre o que est√° acontecendo em sua zona e envia para a zona principal AREA 0 a informa√ß√£o total sobre o estado da rede. </font><font style="vertical-align: inherit;">Os dispositivos em uma zona n√£o precisam estar cientes de todas as altera√ß√µes do LSA em outras zonas, porque o roteador ABR encaminhar√° informa√ß√µes resumidas sobre rotas de uma zona para outra. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ n√£o estiver totalmente claro sobre o conceito de zonas, poder√° descobrir mais na pr√≥xima li√ß√£o quando vamos configurar o roteamento OSPF e considerar alguns exemplos.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BDSrDuTRo0Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usu√°rios da Habr em um an√°logo exclusivo de servidores b√°sicos que inventamos para voc√™:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de US $ 20 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV a partir de US $ 199</a> na Holanda!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - a partir de US $ 99!</b></b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466449/">https://habr.com/ru/post/pt466449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466439/index.html">Verifique voc√™ mesmo: quantas perguntas voc√™ pode responder √† ChGK?</a></li>
<li><a href="../pt466441/index.html">C√≥digo de bugs Python: 10 erros mais comuns que os desenvolvedores cometem</a></li>
<li><a href="../pt466443/index.html">ShIoTiny e o mundo: sensores anal√≥gicos ou ADCs para os menores</a></li>
<li><a href="../pt466445/index.html">Ataques entre rela√ß√µes de confian√ßa entre dom√≠nios</a></li>
<li><a href="../pt466447/index.html">Para que devemos construir uma CDN?</a></li>
<li><a href="../pt466451/index.html">Read_You'n n√£o pode jogar</a></li>
<li><a href="../pt466453/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 45. Configurando o OSPF</a></li>
<li><a href="../pt466455/index.html">Servi√ßos, microsservi√ßos e programa√ß√£o orientada a lotes</a></li>
<li><a href="../pt466457/index.html">Agricultura e pain√©is solares - estrat√©gia ganha-ganha para engenheiros e agricultores</a></li>
<li><a href="../pt466459/index.html">Testes de integra√ß√£o paralela do Postgresql no aplicativo GO</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>