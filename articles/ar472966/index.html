<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’¾ ğŸ‘¨ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ‘¨ğŸ½â€ğŸ’¼ ÙƒÙŠÙ ÙŠØ¨Ø¯Ùˆ Ø£Ø±Ø´ÙŠÙ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ ÙˆÙ…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙ…ÙƒÙ†Ù†Ø§ ÙØ¹Ù„Ù‡ Ø¨Ù‡. Ø§Ù„Ø¬Ø²Ø¡ 2 - ÙˆØ§ØµÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¶ØºØ·Ù‡Ø§ ğŸ’‡ğŸ¼ ğŸï¸ ğŸŒï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ù…Ù‚Ø§Ù„ ÙƒÙŠÙ ÙŠØ¨Ø¯Ùˆ Ø£Ø±Ø´ÙŠÙ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ ÙˆÙ…Ø§Ø°Ø§ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†ÙØ¹Ù„ Ø¨Ù‡ . 
 Ù…Ù‚Ø¯Ù…Ø© 


 ÙŠÙˆÙ… Ø¬ÙŠØ¯. 
 ÙˆÙ…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§Ø¡ Ù„Ø¯ÙŠÙ†Ø§ Ø¨Ø±Ø§Ù…Ø¬ ØºÙŠØ± ØªÙ‚Ù„ÙŠØ¯ÙŠØ© ÙÙŠ PHP. 


 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ÙƒÙŠÙ ÙŠØ¨Ø¯Ùˆ Ø£Ø±Ø´ÙŠÙ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ ÙˆÙ…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙ…ÙƒÙ†Ù†Ø§ ÙØ¹Ù„Ù‡ Ø¨Ù‡. Ø§Ù„Ø¬Ø²Ø¡ 2 - ÙˆØ§ØµÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¶ØºØ·Ù‡Ø§</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472966/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <i>Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ù…Ù‚Ø§Ù„ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙƒÙŠÙ ÙŠØ¨Ø¯Ùˆ Ø£Ø±Ø´ÙŠÙ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ ÙˆÙ…Ø§Ø°Ø§ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†ÙØ¹Ù„ Ø¨Ù‡</a> .</i> </p><br><h3 style=";text-align:right;direction:rtl">  Ù…Ù‚Ø¯Ù…Ø© </h3><br><p style=";text-align:right;direction:rtl"> ÙŠÙˆÙ… Ø¬ÙŠØ¯. <br>  ÙˆÙ…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§Ø¡ Ù„Ø¯ÙŠÙ†Ø§ Ø¨Ø±Ø§Ù…Ø¬ ØºÙŠØ± ØªÙ‚Ù„ÙŠØ¯ÙŠØ© ÙÙŠ PHP. </p><br><p style=";text-align:right;direction:rtl">  ÙÙŠ Ù…Ù‚Ø§Ù„ Ø³Ø§Ø¨Ù‚ ØŒ ÙƒØ§Ù† Ø§Ù„Ù‚Ø±Ø§Ø¡ Ø§Ù„Ù…Ø­ØªØ±Ù…ÙˆÙ† Ù…Ù‡ØªÙ…ÙŠÙ† Ø¨Ø§Ù„Ø¶ØºØ· ÙˆØ§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ.  Ø§Ù„ÙŠÙˆÙ… Ø³Ù†Ø­Ø§ÙˆÙ„ ÙØªØ­ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ù‚Ù„ÙŠÙ„Ø§Ù‹. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  Ø¯Ø¹Ù†Ø§ Ù†Ù„Ù‚ÙŠ Ù†Ø¸Ø±Ø© Ø¹Ù„Ù‰ <br><br></p><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø±Ù…Ø² Ù…Ù† Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//        (1.txt  2.txt)   : $entries = [ '1.txt' =&gt; 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc id ante ultrices, fermentum nibh eleifend, ullamcorper nunc. Sed dignissim ut odio et imperdiet. Nunc id felis et ligula viverra blandit a sit amet magna. Vestibulum facilisis venenatis enim sed bibendum. Duis maximus felis in suscipit bibendum. Mauris suscipit turpis eleifend nibh commodo imperdiet. Donec tincidunt porta interdum. Aenean interdum condimentum ligula, vitae ornare lorem auctor in. Suspendisse metus ipsum, porttitor et sapien id, fringilla aliquam nibh. Curabitur sem lacus, ultrices quis felis sed, blandit commodo metus. Duis tincidunt vel mauris at accumsan. Integer et ipsum fermentum leo viverra blandit.', '2.txt' =&gt; 'Mauris in purus sit amet ante tempor finibus nec sed justo. Integer ac nibh tempus, mollis sem vel, consequat diam. Pellentesque ut condimentum ex. Praesent finibus volutpat gravida. Vivamus eleifend neque sit amet diam scelerisque lacinia. Nunc imperdiet augue in suscipit lacinia. Curabitur orci diam, iaculis non ligula vitae, porta pellentesque est. Duis dolor erat, placerat a lacus eu, scelerisque egestas massa. Aliquam molestie pulvinar faucibus. Quisque consequat, dolor mattis lacinia pretium, eros eros tempor neque, volutpat consectetur elit elit non diam. In faucibus nulla justo, non dignissim erat maximus consectetur. Sed porttitor turpis nisl, elementum aliquam dui tincidunt nec. Nunc eu enim at nibh molestie porta ut ac erat. Sed tortor sem, mollis eget sodales vel, faucibus in dolor.', ]; //      Lorem.zip,      cwd (      ) $destination = 'Lorem.zip'; $handle = fopen($destination, 'w'); //      ,    ,     ,   "" Central Directory File Header $written = 0; $dictionary = []; foreach ($entries as $filename =&gt; $content) { //         Local File Header,     //        ,      . $fileInfo = [ //     'versionToExtract' =&gt; 10, //   0,        - 'generalPurposeBitFlag' =&gt; 0, //      ,    0 'compressionMethod' =&gt; 0, // -    mtime ,    ,      ? 'modificationTime' =&gt; 28021, //   , ? 'modificationDate' =&gt; 20072, //      .     ,       ,   ? 'crc32' =&gt; hexdec(hash('crc32b', $content)), //     .        . //       :) 'compressedSize' =&gt; $size = strlen($content), 'uncompressedSize' =&gt; $size, //    'filenameLength' =&gt; strlen($filename), //  .    ,   0. 'extraFieldLength' =&gt; 0, ]; //      . $LFH = pack('LSSSSSLLLSSa*', ...array_values([ 'signature' =&gt; 0x04034b50, //  Local File Header ] + $fileInfo + ['filename' =&gt; $filename])); //       ,       Central Directory File Header $dictionary[$filename] = [ 'signature' =&gt; 0x02014b50, //  Central Directory File Header 'versionMadeBy' =&gt; 798, //  .    ,  -  . ] + $fileInfo + [ 'fileCommentLength' =&gt; 0, //    . No comments 'diskNumber' =&gt; 0, //     0,        'internalFileAttributes' =&gt; 0, //    'externalFileAttributes' =&gt; 2176057344, //    'localFileHeaderOffset' =&gt; $written, //      Local File Header 'filename' =&gt; $filename, //  . ]; //      $written += fwrite($handle, $LFH); //    $written += fwrite($handle, $content); } // ,     ,    . //          End of central directory record (EOCD) $EOCD = [ //  EOCD 'signature' =&gt; 0x06054b50, //  .    ,   0 'diskNumber' =&gt; 0, //      -  0 'startDiskNumber' =&gt; 0, //       . 'numberCentralDirectoryRecord' =&gt; $records = count($dictionary), //    .    ,     'totalCentralDirectoryRecord' =&gt; $records, //   Central Directory Record. //      ,      'sizeOfCentralDirectory' =&gt; 0, // ,    Central Directory Records 'centralDirectoryOffset' =&gt; $written, //     'commentLength' =&gt; 0 ]; //     !   foreach ($dictionary as $entryInfo) { $CDFH = pack('LSSSSSSLLLSSSSSLLa*', ...array_values($entryInfo)); $written += fwrite($handle, $CDFH); } // ,   .  ,    $EOCD['sizeOfCentralDirectory'] = $written - $EOCD['centralDirectoryOffset']; //     End of central directory record $EOCD = pack('LSSSSLLS', ...array_values($EOCD)); $written += fwrite($handle, $EOCD); //  . fclose($handle); echo '  : ' . $written . ' ' . PHP_EOL; echo '     `unzip -tq ' . $destination . '`' . PHP_EOL; echo PHP_EOL;</span></span></code> </pre> <br></div></div><br><p style=";text-align:right;direction:rtl">  Ù…Ø§ Ù‡ÙŠ Ù…Ø´ÙƒÙ„ØªÙ‡ØŸ  Ø­Ø³Ù†Ù‹Ø§ ØŒ ÙÙŠ Ø§Ù„Ø¥Ù†ØµØ§Ù ØŒ ØªØ¬Ø¯Ø± Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø£Ù† Ù…ÙŠØ²ØªÙ‡ Ø§Ù„ÙˆØ­ÙŠØ¯Ø© Ù‡ÙŠ Ø£Ù†Ù‡ ÙŠØ¹Ù…Ù„ ØŒ ÙˆÙ‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ Ù‡Ù†Ø§Ùƒ ØŒ ÙˆÙ„ÙƒÙ† Ù„Ø§ ÙŠØ²Ø§Ù„. <br><br>  ÙÙŠ Ø±Ø£ÙŠÙŠ ØŒ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù‡ÙŠ Ø£Ù†Ù‡ ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙ†Ø§ Ø£ÙˆÙ„Ø§Ù‹ ÙƒØªØ§Ø¨Ø© <b>"Ø±Ø£Ø³ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø­Ù„ÙŠ" (LFH)</b> Ù…Ø¹ <b>crc32</b> ÙˆØ·ÙˆÙ„ Ø§Ù„Ù…Ù„Ù ØŒ Ø«Ù… Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ù„Ù Ù†ÙØ³Ù‡. <br>  Ù…Ø§Ø°Ø§ ÙŠÙ‡Ø¯Ø¯ Ù‡Ø°Ø§ØŸ  Ø£Ùˆ Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø¨Ø£ÙƒÙ…Ù„Ù‡ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© ØŒ ÙˆØ§Ù„Ù†Ø¸Ø± ÙÙŠ crc32 Ù„Ø°Ù„Ùƒ ØŒ ÙˆÙƒØªØ§Ø¨Ø© <b>LFH</b> ØŒ Ø«Ù… ØªÙƒÙˆÙ† Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© Ù…Ù† ÙˆØ¬Ù‡Ø© Ù†Ø¸Ø± I / O ØŒ Ù„ÙƒÙ†Ù‡Ø§ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„Ø© Ù…Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©.  Ø£Ùˆ Ù†Ù‚Ø±Ø£ Ø§Ù„Ù…Ù„Ù Ù…Ø±ØªÙŠÙ† - Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ø¹Ø«Ø±Ø© ØŒ Ø«Ù… Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø±Ø´ÙŠÙ - Ø§Ù‚ØªØµØ§Ø¯ÙŠÙ‹Ø§ Ù…Ù† ÙˆØ¬Ù‡Ø© Ù†Ø¸Ø± RAM ØŒ ÙˆÙ„ÙƒÙ† ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ ÙŠØ¶Ø§Ø¹Ù Ø§Ù„Ø­Ù…Ù„ Ø¹Ù„Ù‰ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø£Ù‚Ø±Ø§Øµ ØŒ ÙˆÙ‡Ùˆ Ù„ÙŠØ³ Ø¨Ø§Ù„Ø¶Ø±ÙˆØ±Ø© SSD. <br><br>  ÙˆØ¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ù„Ù ÙŠÙ‚Ø¹ Ø¹Ù† Ø¨Ø¹Ø¯ ÙˆØ­Ø¬Ù…Ù‡ ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ 1.5GBØŸ  Ø­Ø³Ù†Ù‹Ø§ ØŒ ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø¥Ù…Ø§ ØªØ­Ù…ÙŠÙ„ ÙƒÙ„ 1.5 Ø¬ÙŠØ¬Ø§ Ø¨Ø§ÙŠØª ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© ØŒ Ø£Ùˆ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø­ØªÙ‰ ÙŠØªÙ… ØªÙ†Ø²ÙŠÙ„ ÙƒÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ø³Ø¹Ø© 1.5 Ø¬ÙŠØ¬Ø§ Ø¨Ø§ÙŠØª ÙˆØ³Ù†Ù‚ÙˆÙ… Ø¨Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ¬Ø²Ø¦Ø© ØŒ Ø«Ù… Ù†Ù†Ø²Ø¹Ù‡Ø§ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª.  Ø¥Ø°Ø§ ÙƒÙ†Ø§ Ù†Ø±ÙŠØ¯ Ø£Ù† Ù†Ù‚Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§ÙŠØ± ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ±ÙŠØº ØŒ ÙˆØ§Ù„ØªÙŠ ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ù†Ù‚Ø±Ø£Ù‡Ø§ Ù…Ù† stdout ØŒ ÙØ¥Ù† Ù‡Ø°Ø§ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„ Ø¹Ù…ÙˆÙ…Ù‹Ø§ - Ù„Ù‚Ø¯ ØªØºÙŠØ±Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØŒ ÙˆØ³ØªØªØºÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙØ±ÙŠØº ØŒ ÙˆØ³ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ ØªØ¬Ø²Ø¦Ø© Ù…Ø®ØªÙ„ÙØ© ØªÙ…Ø§Ù…Ù‹Ø§ ÙˆØ³Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø£Ø±Ø´ÙŠÙ ØºÙŠØ± ØµØ§Ù„Ø­.  Ù†Ø¹Ù… ØŒ Ø§Ù„Ø£Ù…ÙˆØ± Ø³ÙŠØ¦Ø© ØŒ Ø¨Ø§Ù„Ø·Ø¨Ø¹. </p><br><h3 style=";text-align:right;direction:rtl">  Ù‡ÙŠÙƒÙ„ ÙˆØ§ØµÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªØ¯ÙÙ‚ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø£Ø±Ø´ÙŠÙ </h3><br><p style=";text-align:right;direction:rtl">  Ù„ÙƒÙ† Ù„Ø§ ÙŠØªÙ… Ø¥Ø­Ø¨Ø§Ø·Ùƒ ØŒ ÙØ¥Ù† Ù…ÙˆØ§ØµÙØ§Øª ZIP ØªØ³Ù…Ø­ Ù„Ù†Ø§ Ø¨ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹ ØŒ Ø«Ù… Ø§Ù„ØªÙ…Ø³Ùƒ Ø¨Ø¨Ù†ÙŠØ© <b>ÙˆØ§ØµÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (DD)</b> Ø¨Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØŒ Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¨Ø§Ù„ÙØ¹Ù„ Ø¹Ù„Ù‰ crc32 ÙˆØ·ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø²ÙˆÙ…Ø© ÙˆØ·ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¯ÙˆÙ† Ø¶ØºØ·.  Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ Ù†Ø­ØªØ§Ø¬ <strike>ÙÙ‚Ø· 3 Ù…Ø±Ø§Øª ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø¹Ù„Ù‰ Ù…Ø¹Ø¯Ø© ÙØ§Ø±ØºØ©</strike> ÙÙŠ <b>LFH</b> Ø­Ø¯Ø¯ <b>generalPurposeBitFlag</b> ØªØ³Ø§ÙˆÙŠ <b>0x0008</b> ØŒ ÙˆØ­Ø¯Ø¯ <b>crc32</b> Ùˆ <b>compressedSize</b> Ùˆ <b>uncompressedSize</b> <b>0</b> .  Ø¨Ø¹Ø¯ Ø°Ù„Ùƒ ØŒ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØŒ Ù†ÙƒØªØ¨ Ø¨Ù†ÙŠØ© <b>DD</b> ØŒ ÙˆØ§Ù„ØªÙŠ Ø³ØªØ¨Ø¯Ùˆ ÙƒÙ…Ø§ ÙŠÙ„ÙŠ: </p><br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">pack(<span class="hljs-string"><span class="hljs-string">'LLLL'</span></span>, ...array_values([ <span class="hljs-string"><span class="hljs-string">'signature'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0x08074b50</span></span>, <span class="hljs-comment"><span class="hljs-comment">//  Data Descriptor 'crc32' =&gt; $crc32, //  crc32    'compressedSize' =&gt; $compressedSize, //    'uncompressedSize' =&gt; $uncompressedSize, //    . ]));</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙˆÙÙŠ <b>Ø±Ø£Ø³ Ù…Ù„Ù Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ (CDFH)</b> ÙÙ‚Ø· <b>generalPurposeBitFlag</b> ØŒ ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ©.  Ù„ÙƒÙ† Ù‡Ø°Ù‡ Ù„ÙŠØ³Øª Ù…Ø´ÙƒÙ„Ø© ØŒ Ø­ÙŠØ« Ù†ÙƒØªØ¨ <b>CDFH</b> Ø¨Ø¹Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØŒ ÙˆØ§Ù„ØªØ¬Ø²Ø¦Ø© Ù…Ø¹ Ø£Ø·ÙˆØ§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹Ø±ÙˆÙØ© ÙÙŠ Ø£ÙŠ Ø­Ø§Ù„. </p><br><p style=";text-align:right;direction:rtl">  Ù‡Ø°Ø§ ÙƒÙ„ Ø´ÙŠØ¡ ØŒ Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØŒ Ø¬ÙŠØ¯.  ÙŠØ¨Ù‚Ù‰ ÙÙ‚Ø· Ù„Ù„ØªÙ†ÙÙŠØ° ÙÙŠ PHP. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙˆØ³ØªØ³Ø§Ø¹Ø¯Ù†Ø§</a> Ù…ÙƒØªØ¨Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù‡Ø§Ø´</a> Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©.  ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ§Ù‚ ØªØ¬Ø²Ø¦Ø© Ø³ÙŠÙƒÙˆÙ† ÙÙŠÙ‡ ÙƒØ§ÙÙŠØ§Ù‹ Ù„ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù‚Ø·Ø¹ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØŒ ÙˆÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ¬Ø²Ø¦Ø©.  Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØŒ Ø³ÙŠÙƒÙˆÙ† Ù‡Ø°Ø§ Ø§Ù„Ø­Ù„ Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ù‹Ø§ Ø¥Ù„Ù‰ Ø­Ø¯ Ù…Ø§ Ù…Ù† <i>Ø§Ù„ØªØ¬Ø²Ø¦Ø© ('crc32b' ØŒ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ $)</i> ØŒ ÙˆÙ„ÙƒÙ†Ù‡ Ø³ÙŠÙˆÙØ± Ù„Ù†Ø§ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ ÙˆØ§Ù„ÙˆÙ‚Øª Ù„Ø§ ÙŠÙ…ÙƒÙ† <i>ØªØ®ÙŠÙ„Ù‡Ù…Ø§</i> . <br><br>  ÙŠØ¨Ø¯Ùˆ Ø´ÙŠØ¡ Ù…Ø«Ù„ Ù‡Ø°Ø§: <br><br></p><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$hashCtx = hash_init(<span class="hljs-string"><span class="hljs-string">'crc32b'</span></span>); $handle = fopen($source, <span class="hljs-string"><span class="hljs-string">'r'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!feof($handle)) { $chunk = fread($handle, <span class="hljs-number"><span class="hljs-number">8</span></span> * <span class="hljs-number"><span class="hljs-number">1024</span></span>); hash_update($hashCtx, $chunk); $chunk = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } $hash = hash_final($hashCtx);</code> </pre> <br>  Ø¥Ø°Ø§ ØªÙ… ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ØŒ ÙÙ„Ù† ØªØ®ØªÙ„Ù Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ Ø¹Ù† <i>hash_file ('crc32b' ØŒ</i> Ø£Ùˆ <i>$ source)</i> Ø£Ùˆ <i>hash ('crc32b' ØŒ file_get_content ($ source))</i> . <br><br><p style=";text-align:right;direction:rtl">  Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø­Ø§ÙˆÙ„ Ø£Ù† Ù†Ù„Ù ÙƒÙ„ Ù‡Ø°Ø§ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø£Ùˆ Ø¨Ø£Ø®Ø±Ù‰ ÙÙŠ ÙˆØ¸ÙŠÙØ© ÙˆØ§Ø­Ø¯Ø© ØŒ Ø­ØªÙ‰ Ù†ØªÙ…ÙƒÙ† Ù…Ù† Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù†Ø§ ØŒ ÙˆÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ¬Ø²Ø¦Ø© ÙˆØ§Ù„Ø·ÙˆÙ„.  ÙˆØ³ÙˆÙ ØªØ³Ø§Ø¹Ø¯Ù†Ø§ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø§Øª ÙÙŠ Ù‡Ø°Ø§: <br><br></p><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $path)</span></span></span><span class="hljs-function">: \</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generator</span></span></span><span class="hljs-function"> </span></span>{ $length = <span class="hljs-number"><span class="hljs-number">0</span></span>; $handle = fopen($path, <span class="hljs-string"><span class="hljs-string">'r'</span></span>); $hashCtx = hash_init(<span class="hljs-string"><span class="hljs-string">'crc32b'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!feof($handle)) { $chunk = fread($handle, <span class="hljs-number"><span class="hljs-number">8</span></span> * <span class="hljs-number"><span class="hljs-number">1024</span></span>); $length += strlen($chunk); hash_update($hashCtx, $chunk); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $chunk; $chunk = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } fclose($handle); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-string"><span class="hljs-string">'length'</span></span> =&gt; $length, <span class="hljs-string"><span class="hljs-string">'crc32'</span></span> =&gt; hexdec(hash_final($hashCtx))]; }</code> </pre> <br>  ÙˆØ§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ù†Ø§ ÙÙ‚Ø· <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$reader = read(<span class="hljs-string"><span class="hljs-string">'https://speed.hetzner.de/1GB.bin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($reader <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $chunk) { <span class="hljs-comment"><span class="hljs-comment">// -   . } //      . ['length' =&gt; $length, 'crc32' =&gt; $crc32] = $reader-&gt;getReturn(); echo round(memory_get_peak_usage(true) / 1024 / 1024, 2) . 'MB - Memory Peak Usage' . PHP_EOL;</span></span></code> </pre> <br>  ÙÙŠ Ø±Ø£ÙŠÙŠ ØŒ Ø§Ù„Ø£Ù…Ø± Ø¨Ø³ÙŠØ· ÙˆÙ…Ø±ÙŠØ­ Ù„Ù„ØºØ§ÙŠØ©.  Ù…Ø¹ Ù…Ù„Ù 1 ØºÙŠØºØ§Ø¨Ø§ÙŠØª ØŒ ÙƒØ§Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø°Ø§ÙƒØ±Ø© 2 Ù…ÙŠØºØ§Ø¨Ø§ÙŠØª. <br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø­Ø§ÙˆÙ„ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´ÙØ±Ø© Ù…Ù† Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø­ØªÙ‰ Ù†ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¸ÙŠÙØ©. <br><br></p><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ù†ØµÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $path)</span></span></span><span class="hljs-function">: \</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generator</span></span></span><span class="hljs-function"> </span></span>{ $length = <span class="hljs-number"><span class="hljs-number">0</span></span>; $handle = fopen($path, <span class="hljs-string"><span class="hljs-string">'r'</span></span>); $hashCtx = hash_init(<span class="hljs-string"><span class="hljs-string">'crc32b'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!feof($handle)) { $chunk = fread($handle, <span class="hljs-number"><span class="hljs-number">8</span></span> * <span class="hljs-number"><span class="hljs-number">1024</span></span>); $length += strlen($chunk); hash_update($hashCtx, $chunk); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $chunk; $chunk = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } fclose($handle); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-string"><span class="hljs-string">'length'</span></span> =&gt; $length, <span class="hljs-string"><span class="hljs-string">'crc32'</span></span> =&gt; hexdec(hash_final($hashCtx))]; } $entries = [<span class="hljs-string"><span class="hljs-string">'https://speed.hetzner.de/100MB.bin'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">__FILE__</span></span>]; $destination = <span class="hljs-string"><span class="hljs-string">'test.zip'</span></span>; $handle = fopen($destination, <span class="hljs-string"><span class="hljs-string">'w'</span></span>); $written = <span class="hljs-number"><span class="hljs-number">0</span></span>; $dictionary = []; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($entries <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $entry) { $filename = basename($entry); $fileInfo = [ <span class="hljs-string"><span class="hljs-string">'versionToExtract'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-comment"><span class="hljs-comment">//       Data Descriptor,     00008, //   00000    . 'generalPurposeBitFlag' =&gt; 0x0008, 'compressionMethod' =&gt; 0, 'modificationTime' =&gt; 28021, 'modificationDate' =&gt; 20072, 'crc32' =&gt; 0, 'compressedSize' =&gt; 0, 'uncompressedSize' =&gt; 0, 'filenameLength' =&gt; strlen($filename), 'extraFieldLength' =&gt; 0, ]; $LFH = pack('LSSSSSLLLSSa*', ...array_values([ 'signature' =&gt; 0x04034b50, ] + $fileInfo + ['filename' =&gt; $filename])); $fileOffset = $written; $written += fwrite($handle, $LFH); //     $reader = read($entry); foreach ($reader as $chunk) { //      $written += fwrite($handle, $chunk); $chunk = null; } //       ['length' =&gt; $length, 'crc32' =&gt; $crc32] = $reader-&gt;getReturn(); //    fileInfo,     CDFH $fileInfo['crc32'] = $crc32; $fileInfo['compressedSize'] = $length; $fileInfo['uncompressedSize'] = $length; //  Data Descriptor $DD = pack('LLLL', ...array_values([ 'signature' =&gt; 0x08074b50, 'crc32' =&gt; $fileInfo['crc32'], 'compressedSize' =&gt; $fileInfo['compressedSize'], 'uncompressedSize' =&gt; $fileInfo['uncompressedSize'], ])); $written += fwrite($handle, $DD); $dictionary[$filename] = [ 'signature' =&gt; 0x02014b50, 'versionMadeBy' =&gt; 798, ] + $fileInfo + [ 'fileCommentLength' =&gt; 0, 'diskNumber' =&gt; 0, 'internalFileAttributes' =&gt; 0, 'externalFileAttributes' =&gt; 2176057344, 'localFileHeaderOffset' =&gt; $fileOffset, 'filename' =&gt; $filename, ]; } $EOCD = [ 'signature' =&gt; 0x06054b50, 'diskNumber' =&gt; 0, 'startDiskNumber' =&gt; 0, 'numberCentralDirectoryRecord' =&gt; $records = count($dictionary), 'totalCentralDirectoryRecord' =&gt; $records, 'sizeOfCentralDirectory' =&gt; 0, 'centralDirectoryOffset' =&gt; $written, 'commentLength' =&gt; 0 ]; foreach ($dictionary as $entryInfo) { $CDFH = pack('LSSSSSSLLLSSSSSLLa*', ...array_values($entryInfo)); $written += fwrite($handle, $CDFH); } $EOCD['sizeOfCentralDirectory'] = $written - $EOCD['centralDirectoryOffset']; $EOCD = pack('LSSSSLLS', ...array_values($EOCD)); $written += fwrite($handle, $EOCD); fclose($handle); echo '  : ' . memory_get_peak_usage(true) . ' ' . PHP_EOL; echo '  : ' . $written . ' ' . PHP_EOL; echo '   `unzip -tq ' . $destination . '`: ' . PHP_EOL; echo '&gt; ' . exec('unzip -tq ' . $destination) . PHP_EOL; echo PHP_EOL;</span></span></code> </pre> <br></div></div><br>  ÙÙŠ Ø§Ù„Ø®Ø±Ø¬ ØŒ ÙŠØ¬Ø¨ Ø£Ù† Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø£Ø±Ø´ÙŠÙ Ù…Ø¶ØºÙˆØ· Ø¨Ø§Ø³Ù… test.zip ØŒ Ø³ÙŠÙƒÙˆÙ† ÙÙŠÙ‡ Ù…Ù„Ù Ø¨Ù‡ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ø£Ø¹Ù„Ø§Ù‡ Ùˆ 100 MB.bin ØŒ Ø¨Ø­Ø¬Ù… Ø­ÙˆØ§Ù„ÙŠ 100 Ù…ÙŠØºØ§Ø¨Ø§ÙŠØª. <br><br><h3 style=";text-align:right;direction:rtl">  Ø¶ØºØ· ÙÙŠ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª </h3><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† Ù„Ø¯ÙŠÙ†Ø§ ÙƒÙ„ Ø´ÙŠØ¡ ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§ Ù„Ø¶ØºØ· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ Ø£ÙŠØ¶Ù‹Ø§ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø·ÙŠØ±Ø§Ù†. <br>  ØªÙ…Ø§Ù…Ù‹Ø§ ÙƒÙ…Ø§ Ø­ØµÙ„Ù†Ø§ Ø¹Ù„Ù‰ Ø¹Ù„Ø§Ù…Ø© ØªØ¬Ø²Ø¦Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¥Ø¹Ø·Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ØµØºÙŠØ±Ø© Ù„Ù„ÙˆØ¸Ø§Ø¦Ù ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£ÙŠØ¶Ù‹Ø§ Ø¶ØºØ· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙØ¶Ù„ Ù…ÙƒØªØ¨Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Zlib</a> Ø§Ù„Ø±Ø§Ø¦Ø¹Ø© <i>ÙˆÙˆØ¸Ø§Ø¦Ù deflate_init</i> Ùˆ <i>deflate_add Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡Ø§</i> . </p><br><p style=";text-align:right;direction:rtl">  ÙŠØ¨Ø¯Ùˆ Ø´ÙŠØ¡ Ù…Ø«Ù„ Ù‡Ø°Ø§: <br><br></p><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$deflateCtx = deflate_init(ZLIB_ENCODING_RAW, [<span class="hljs-string"><span class="hljs-string">'level'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>]); $handle = fopen($source, <span class="hljs-string"><span class="hljs-string">'r'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!feof($handle)) { $chunk = fread($handle, <span class="hljs-number"><span class="hljs-number">8</span></span> * <span class="hljs-number"><span class="hljs-number">1024</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> deflate_add($deflateCtx, $chunk, feof($handle) ? ZLIB_FINISH : ZLIB_SYNC_FLUSH); $chunk = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }</code> </pre> <br>  <i>Ù„Ù‚Ø¯ Ù‚Ø§Ø¨Ù„Øª Ø®ÙŠØ§Ø±Ù‹Ø§ ÙƒÙ‡Ø°Ø§ ØŒ Ù…Ù‚Ø§Ø±Ù†Ø©Ù‹ Ø¨Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚ ØŒ Ø³ÙŠØ¶ÙŠÙ Ø¨Ø¹Ø¶ Ø§Ù„Ø£ØµÙØ§Ø± ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©.</i> <div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ù…ÙØ³Ø¯ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!feof($handle)) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> deflate_add($deflateCtx, $chunk, ZLIB_SYNC_FLUSH); } <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> deflate_add($deflateCtx, <span class="hljs-string"><span class="hljs-string">''</span></span>, ZLIB_FINISH);</code> </pre> <br></div></div>  <i>ÙˆÙ„ÙƒÙ† Ø¨ÙÙƒ Ø£Ù‚Ø³Ù… ØŒ Ù„Ø°Ù„Ùƒ Ø§Ø¶Ø·Ø±Ø±Øª Ù„Ù„ØªØ®Ù„Øµ Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„ØªØ¨Ø³ÙŠØ·.</i> <br><br><p style=";text-align:right;direction:rtl">  Ø¯Ø¹Ù†Ø§ Ù†ØµÙ„Ø­ <i>Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø§Ù„Ø®Ø§Øµ</i> Ø¨Ù†Ø§ Ø­ØªÙ‰ ÙŠÙ‚ÙˆÙ… Ø¨Ø¶ØºØ· Ø¨ÙŠØ§Ù†Ø§ØªÙ†Ø§ Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ± ØŒ ÙˆÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ÙŠØ¹ÙŠØ¯Ù†Ø§ Ø§Ù„ØªØ¬Ø²Ø¦Ø© ØŒ ÙˆØ·ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¯ÙˆÙ† Ø¶ØºØ· ÙˆØ·ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø§Ù„Ø¶ØºØ·: <br><br></p><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $path)</span></span></span><span class="hljs-function">: \</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generator</span></span></span><span class="hljs-function"> </span></span>{ $uncompressedSize = <span class="hljs-number"><span class="hljs-number">0</span></span>; $compressedSize = <span class="hljs-number"><span class="hljs-number">0</span></span>; $hashCtx = hash_init(<span class="hljs-string"><span class="hljs-string">'crc32b'</span></span>); $deflateCtx = deflate_init(ZLIB_ENCODING_RAW, [<span class="hljs-string"><span class="hljs-string">'level'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>]); $handle = fopen($path, <span class="hljs-string"><span class="hljs-string">'r'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!feof($handle)) { $chunk = fread($handle, <span class="hljs-number"><span class="hljs-number">8</span></span> * <span class="hljs-number"><span class="hljs-number">1024</span></span>); hash_update($hashCtx, $chunk); $compressedChunk = deflate_add($deflateCtx, $chunk, feof($handle) ? ZLIB_FINISH : ZLIB_SYNC_FLUSH); $uncompressedSize += strlen($chunk); $compressedSize += strlen($compressedChunk); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $compressedChunk; $chunk = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; $compressedChunk = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } fclose($handle); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'uncompressedSize'</span></span> =&gt; $uncompressedSize, <span class="hljs-string"><span class="hljs-string">'compressedSize'</span></span> =&gt; $compressedSize, <span class="hljs-string"><span class="hljs-string">'crc32'</span></span> =&gt; hexdec(hash_final($hashCtx)) ]; }</code> </pre> <br>  ÙˆØ­Ø§ÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù 100 Ù…ÙŠØºØ§Ø¨Ø§ÙŠØª: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$reader = read(<span class="hljs-string"><span class="hljs-string">'https://speed.hetzner.de/100MB.bin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($reader <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $chunk) { <span class="hljs-comment"><span class="hljs-comment">// -   . } ['uncompressedSize' =&gt; $uncompressedSize, 'compressedSize' =&gt; $compressedSize, 'crc32' =&gt; $crc32] = $reader-&gt;getReturn(); echo 'Uncompressed size: ' . $uncompressedSize . PHP_EOL; echo 'Compressed size: ' . $compressedSize . PHP_EOL; echo round(memory_get_peak_usage(true) / 1024 / 1024, 2) . 'MB - Memory Peak Usage' . PHP_EOL;</span></span></code> </pre> <br>  Ù„Ø§ ÙŠØ²Ø§Ù„ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø°Ø§ÙƒØ±Ø© ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø£Ù†Ù†Ø§ Ù„Ù… Ù†Ù‚Ù… Ø¨ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø¨Ø£ÙƒÙ…Ù„Ù‡ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©. <br><br><p style=";text-align:right;direction:rtl">  Ø¯Ø¹Ù†Ø§ Ù†Ø¬Ù…Ø¹ ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ø¹Ù‹Ø§ ÙˆØ£Ø®ÙŠØ±Ø§Ù‹ Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø£Ø±Ø´ÙŠÙ Ù†Øµ Ø­Ù‚ÙŠÙ‚ÙŠ Ø¨Ø§Ù„ÙØ¹Ù„. <br>  Ø¹Ù„Ù‰ Ø¹ÙƒØ³ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚ ØŒ <b>Ø³ÙŠØªØºÙŠØ± generalPurposeBitFlag</b> - Ø§Ù„Ø¢Ù† ØªØ¨Ù„Øº Ù‚ÙŠÙ…ØªÙ‡ <b>0x0018</b> ØŒ ÙˆÙƒØ°Ù„Ùƒ <b>compressionMethod</b> - <b>8</b> (Ù…Ù…Ø§ ÙŠØ¹Ù†ÙŠ <b>Deflate</b> ). <br><br></p><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ù†ØµÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $path)</span></span></span><span class="hljs-function">: \</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generator</span></span></span><span class="hljs-function"> </span></span>{ $uncompressedSize = <span class="hljs-number"><span class="hljs-number">0</span></span>; $compressedSize = <span class="hljs-number"><span class="hljs-number">0</span></span>; $hashCtx = hash_init(<span class="hljs-string"><span class="hljs-string">'crc32b'</span></span>); $deflateCtx = deflate_init(ZLIB_ENCODING_RAW, [<span class="hljs-string"><span class="hljs-string">'level'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>]); $handle = fopen($path, <span class="hljs-string"><span class="hljs-string">'r'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!feof($handle)) { $chunk = fread($handle, <span class="hljs-number"><span class="hljs-number">8</span></span> * <span class="hljs-number"><span class="hljs-number">1024</span></span>); hash_update($hashCtx, $chunk); $compressedChunk = deflate_add($deflateCtx, $chunk, feof($handle) ? ZLIB_FINISH : ZLIB_SYNC_FLUSH); $uncompressedSize += strlen($chunk); $compressedSize += strlen($compressedChunk); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $compressedChunk; $chunk = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; $compressedChunk = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } fclose($handle); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'uncompressedSize'</span></span> =&gt; $uncompressedSize, <span class="hljs-string"><span class="hljs-string">'compressedSize'</span></span> =&gt; $compressedSize, <span class="hljs-string"><span class="hljs-string">'crc32'</span></span> =&gt; hexdec(hash_final($hashCtx)) ]; } $entries = [<span class="hljs-string"><span class="hljs-string">'https://speed.hetzner.de/100MB.bin'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">__FILE__</span></span>]; $destination = <span class="hljs-string"><span class="hljs-string">'test.zip'</span></span>; $handle = fopen($destination, <span class="hljs-string"><span class="hljs-string">'w'</span></span>); $written = <span class="hljs-number"><span class="hljs-number">0</span></span>; $dictionary = []; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($entries <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $entry) { $filename = basename($entry); $fileInfo = [ <span class="hljs-string"><span class="hljs-string">'versionToExtract'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-comment"><span class="hljs-comment">//   ,        0x0018  0x0008 'generalPurposeBitFlag' =&gt; 0x0018, 'compressionMethod' =&gt; 8, //      : 8 - Deflate 'modificationTime' =&gt; 28021, 'modificationDate' =&gt; 20072, 'crc32' =&gt; 0, 'compressedSize' =&gt; 0, 'uncompressedSize' =&gt; 0, 'filenameLength' =&gt; strlen($filename), 'extraFieldLength' =&gt; 0, ]; $LFH = pack('LSSSSSLLLSSa*', ...array_values([ 'signature' =&gt; 0x04034b50, ] + $fileInfo + ['filename' =&gt; $filename])); $fileOffset = $written; $written += fwrite($handle, $LFH); $reader = read($entry); foreach ($reader as $chunk) { $written += fwrite($handle, $chunk); $chunk = null; } [ 'uncompressedSize' =&gt; $uncompressedSize, 'compressedSize' =&gt; $compressedSize, 'crc32' =&gt; $crc32 ] = $reader-&gt;getReturn(); $fileInfo['crc32'] = $crc32; $fileInfo['compressedSize'] = $compressedSize; $fileInfo['uncompressedSize'] = $uncompressedSize; $DD = pack('LLLL', ...array_values([ 'signature' =&gt; 0x08074b50, 'crc32' =&gt; $fileInfo['crc32'], 'compressedSize' =&gt; $fileInfo['compressedSize'], 'uncompressedSize' =&gt; $fileInfo['uncompressedSize'], ])); $written += fwrite($handle, $DD); $dictionary[$filename] = [ 'signature' =&gt; 0x02014b50, 'versionMadeBy' =&gt; 798, ] + $fileInfo + [ 'fileCommentLength' =&gt; 0, 'diskNumber' =&gt; 0, 'internalFileAttributes' =&gt; 0, 'externalFileAttributes' =&gt; 2176057344, 'localFileHeaderOffset' =&gt; $fileOffset, 'filename' =&gt; $filename, ]; } $EOCD = [ 'signature' =&gt; 0x06054b50, 'diskNumber' =&gt; 0, 'startDiskNumber' =&gt; 0, 'numberCentralDirectoryRecord' =&gt; $records = count($dictionary), 'totalCentralDirectoryRecord' =&gt; $records, 'sizeOfCentralDirectory' =&gt; 0, 'centralDirectoryOffset' =&gt; $written, 'commentLength' =&gt; 0 ]; foreach ($dictionary as $entryInfo) { $CDFH = pack('LSSSSSSLLLSSSSSLLa*', ...array_values($entryInfo)); $written += fwrite($handle, $CDFH); } $EOCD['sizeOfCentralDirectory'] = $written - $EOCD['centralDirectoryOffset']; $EOCD = pack('LSSSSLLS', ...array_values($EOCD)); $written += fwrite($handle, $EOCD); fclose($handle); echo '  : ' . memory_get_peak_usage(true) . ' ' . PHP_EOL; echo '  : ' . $written . ' ' . PHP_EOL; echo '   `unzip -tq ' . $destination . '`: ' . PHP_EOL; echo '&gt; ' . exec('unzip -tq ' . $destination) . PHP_EOL; echo PHP_EOL;</span></span></code> </pre> </div></div><br>  Ù†ØªÙŠØ¬Ø©Ù‹ Ù„Ø°Ù„Ùƒ ØŒ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø£Ø±Ø´ÙŠÙ Ø¨Ø­Ø¬Ù… 360183 Ø¨Ø§ÙŠØª (ØªÙ… Ø¶ØºØ· Ù…Ù„ÙÙ†Ø§ Ø§Ù„Ø¨Ø§Ù„Øº 100 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª Ø¨Ø´ÙƒÙ„ Ø¬ÙŠØ¯ Ù„Ù„ØºØ§ÙŠØ© ØŒ ÙˆØ§Ù„Ø°ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¬Ø­ Ù…Ø¬Ø±Ø¯ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø¨Ø§ÙŠØª Ø§Ù„Ù…ØªØ·Ø§Ø¨Ù‚Ø©) ØŒ ÙˆØ£Ø¸Ù‡Ø± <i>unzip</i> Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ø£Ø±Ø´ÙŠÙ. <br><br><h3 style=";text-align:right;direction:rtl">  Ø§Ø³ØªÙ†ØªØ§Ø¬ </h3><br><p style=";text-align:right;direction:rtl">  Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠ Ù…Ø§ ÙŠÙƒÙÙŠ Ù…Ù† Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„ÙˆÙ‚Øª Ù„Ù…Ù‚Ø§Ù„ Ø¢Ø®Ø± ØŒ ÙØ³Ø£Ø­Ø§ÙˆÙ„ ØªÙˆØ¶ÙŠØ­ ÙƒÙŠÙ ØŒ ÙˆØ§Ù„Ø£Ù‡Ù… Ù…Ù† Ø°Ù„Ùƒ ØŒ Ù„Ù…Ø§Ø°Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„ Ù‡Ø°Ø§. <br><br>  Ø¥Ø°Ø§ ÙƒÙ†Øª Ù…Ù‡ØªÙ…Ù‹Ø§ Ø¨Ø£ÙŠ Ø´ÙŠØ¡ Ø¢Ø®Ø± Ø­ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ - Ø§Ù‚ØªØ±Ø­ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª ØŒ Ø³Ø£Ø­Ø§ÙˆÙ„ Ø¥Ø¹Ø·Ø§Ø¡ Ø¥Ø¬Ø§Ø¨Ø© Ù„Ø³Ø¤Ø§Ù„Ùƒ.  Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¬Ø­ Ù„Ù† Ù†ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªØ´ÙÙŠØ± ØŒ Ù„Ø£Ù† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ù‚Ø¯ Ù†Ù…Ø§ Ø¨Ø§Ù„ÙØ¹Ù„ ØŒ ÙˆÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ ØŒ Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª ÙÙŠ ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø­ÙŠØ§Ù†. </p><br><br><p style=";text-align:right;direction:rtl">  Ø´ÙƒØ±Ø§ Ù„Ø§Ù‡ØªÙ…Ø§Ù…ÙƒÙ… ÙˆØªØ¹Ù„ÙŠÙ‚Ø§ØªÙƒÙ…. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar472966/">https://habr.com/ru/post/ar472966/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar472956/index.html">ØªØ§Ø±ÙŠØ® Ø¨Ù†Ø§Ø¡ Ø±ÙˆØ¨ÙˆØª ÙƒØ§ØªØ±Ø¨ÙŠÙ„Ø±</a></li>
<li><a href="../ar472958/index.html">ÙƒÙŠÙÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø±Ø§Ù…Ø¬ ÙˆÙŠÙ†Ø¯ÙˆØ² ÙÙŠ Ø§Ø±Ø¯ÙˆÙŠÙ†Ùˆ</a></li>
<li><a href="../ar472960/index.html">Ø£ÙØ¶Ù„ Ø³Ø¹Ø± Ø¹Ø¯Ø³Ø© / Ø¬ÙˆØ¯Ø© Ø³ÙˆÙ†ÙŠ</a></li>
<li><a href="../ar472962/index.html">Ù†Ø´Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ: Ø§Ù„ØªØ¬Ø§Ø±Ø¨ ÙƒØ´ÙƒÙ„ Ù…Ù† Ø£Ø´ÙƒØ§Ù„ Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ø¹Ù„Ù…ÙŠ</a></li>
<li><a href="../ar472964/index.html">Ø§Ù„Ù…ÙˆÙ‚Ù: Ø§Ù„Ù…Ø²ÙŠØ¯ ÙˆØ§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø´Ø±ÙƒØ§Øª Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø± ØªÙ‚ÙˆÙ… Ø¨ØªØºÙŠÙŠØ± Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ - Ù†Ù†Ø§Ù‚Ø´ Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø®Ø¨Ø±Ø§Ø¡</a></li>
<li><a href="../ar472970/index.html">Ù†Ù‚Ø¯ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Telegram ÙˆØ§Ù„Ù…Ù†Ø§Ù‡Ø¬ Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ©. Ø§Ù„Ø¬Ø²Ø¡ 1 ØŒ Ø§Ù„ØªÙ‚Ù†ÙŠØ©: ØªØ¬Ø±Ø¨Ø© ÙƒØªØ§Ø¨Ø© Ø¹Ù…ÙŠÙ„ Ù…Ù† Ø§Ù„ØµÙØ± - TL ØŒ MT</a></li>
<li><a href="../ar472972/index.html">Ù†Ø­Ù† Ù†Ø¹Ù…Ù„ Ù…Ø¹ Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· ÙƒØµÙ Ø¬Ø§ÙØ§ Ø³ÙƒØ±ÙŠØ¨Øª</a></li>
<li><a href="../ar472978/index.html">ØªØ£Ù„ÙŠÙ Ø§Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ø¨Ø§Ù„Ø·Ø¨Ø¹ Ù„Ø§Ø¨Ù†Ù‡</a></li>
<li><a href="../ar472980/index.html">Ø§Ù„Ø³Ø±Ø§ÙˆÙŠÙ„ Belokamentseva</a></li>
<li><a href="../ar472982/index.html">"Ø§Ø³ØªÙ…Ø¹ Ù„Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù†Ù‡ÙŠØ§Ø±": Ù†Ø´Ø± Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© Ù„Ù„Ø¢Ù„Ø§Øª Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© Ø§Ù„ÙØ§Ø´Ù„Ø©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>