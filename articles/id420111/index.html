<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍⚕️ 🔴 🐖 Dari nol hingga pahlawan “Tindakan di Google”: kode Anda 🕺🏼 👩🏽‍🚀 🤦🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada bagian pertama, kami menemukan prinsip-prinsip dasar merancang dan mengembangkan aplikasi untuk Asisten Google. Sekarang saatnya menulis asisten ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dari nol hingga pahlawan “Tindakan di Google”: kode Anda</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redmadrobot/blog/420111/"><p><img src="https://habrastorage.org/webt/-0/xz/lf/-0xzlfmqyiu5chgzodt9fyumhry.png" alt="gambar"></p><br><p>  Pada bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pertama,</a> kami menemukan prinsip-prinsip dasar merancang dan mengembangkan aplikasi untuk Asisten Google.  Sekarang saatnya menulis asisten Anda sendiri sehingga pengguna akhirnya dapat memilih film untuk malam itu.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Desainer Shipa_o</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">raenardev,</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">ComradeGuest</a> terus berbicara. </p><a name="habracut"></a><br><h5 id="pishem-svoy-kod">  Tulis kode Anda </h5><br><p>  Mari kita coba menulis sesuatu yang lebih rumit. <br>  Katakanlah agen kami merekomendasikan film berdasarkan genre. <br>  Kami memintanya untuk "Tunjukkan horor", dan agen akan mengurai genre, mencari film dalam koleksi berdasarkan genre dan menampilkannya di layar. </p><br><div class="spoiler">  <b class="spoiler_title">Pertama, kami akan menyimpan koleksi film dalam sebuah variabel:</b> <div class="spoiler_text"><pre><code class="plaintext hljs">var json = { "filmsList": [ { "id": "1", "title": " :  ", "description": "   ", "genres": ["", "", ""], "imageUrl": "http://t3.gstatic.com/images?q=tbn:ANd9GcQEA5a7K9k9ajHIu4Z5AqZr7Y8P7Fgvd4txmQpDrlQY2047coRk", "trailer": "https://www.youtube.com/watch?v=RNksw9VU2BQ" }, { "id": "2", "title": " :  2 –  ", "description": "   ", "genres": ["", "", "", ""], "imageUrl": "http://t3.gstatic.com/images?q=tbn:ANd9GcTPPAiysdP0Sra8XcIhska4MOq86IaDS_MnEmm6H7vQCaSRwahQ", "trailer": "https://www.youtube.com/watch?v=vX_2QRHEl34" }, { "id": "3", "title": "", "description": "  ", "genres": ["", "", ""], "imageUrl": "https://www.kinopoisk.ru/images/film_big/386.jpg", "trailer": "https://www.youtube.com/watch?v=xIe98nyo3xI" } ] };</code> </pre> <br><pre> <code class="plaintext hljs">exports.dialogflowFirebaseFulfillment = functions.https.onRequest((request, response) =&gt; { const agent = new WebhookClient({ request, response }); let result = request.body.queryResult; let parameters = result.parameters; let outputContexts = result.outputContexts; let intentMap = new Map(); //    agent  parameters,       intentMap.set('search-by-genre', searchByGenre.bind(this, agent, parameters)); agent.handleRequest(intentMap); }); function searchByGenre(agent, parameters) { let filmsList = json.filmsList; //     let filteredFilms = filmsList.filter((film) =&gt; { // ,             return film.genres.some((genre) =&gt; genre == parameters.genre); }); //       let firstFlim = filteredFilms[0]; //    agent.add(firstFlim.title); //       agent.add(new Card({ title: firstFlim.title, imageUrl: firstFlim.imageUrl, text: firstFlim.description, buttonText: ' ', buttonUrl: firstFlim.trailer })); //      agent.add([ "    ?", new Suggestion("  ?"), new Suggestion(""), new Suggestion("") ]); }</code> </pre> </div></div><br><p>  Sekarang jawabannya menjadi lebih informatif. <br>  Kami menampilkan teks, kartu dengan informasi dan tips: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/09f/252/1f4/09f2521f417e7ba30a04ad77704243a4.png" width="50%" height="50%" alt="Tampilkan informasi film"><br><br><p>  Fitur yang baik dari Dialogflow adalah bahwa ia berada di luar kotak yang diadaptasi untuk perangkat yang berbeda. <br>  Jika perangkat memiliki speaker, maka semua frasa yang kami kirim ke metode add akan disuarakan, dan jika tidak ada layar, objek <code>Card</code> dan <code>Suggestion</code> tidak akan ditampilkan. </p><br><h5 id="podklyuchaem-bazu-dannyh">  Kami menghubungkan database </h5><br><p>  Mari menyulitkan tugas dan menambahkan memperoleh data dari database (DB). <br>  Cara termudah adalah dengan menggunakan basis data realtime firebase. <br>  Misalnya, kami akan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">API Database Admin.</a> </p><br><p>  Pertama, Anda perlu membuat database dan mengisinya. <br>  Anda dapat melakukan ini di proyek yang sama yang dibuat untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Fungsi Cloud</a> : </p><br><img src="https://habrastorage.org/getpro/habr/post_images/4d1/d64/faf/4d1d64fafe7ea8a6b6d4ff36c2e7abfc.png" width="50%" height="50%" alt="Database realtime firebase yang terisi"><br><br><div class="spoiler">  <b class="spoiler_title">Setelah database penuh, sambungkan ke pemenuhan:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">//   firebase-admin const firebaseAdmin = require('firebase-admin'); //  firebaseAdmin firebaseAdmin.initializeApp({ credential: firebaseAdmin.credential.applicationDefault(), databaseURL: 'https://&lt;ID-&gt;.firebaseio.com' }); //  ,      function getFilmsList() { return firebaseAdmin .database() .ref() .child('filmsList') .once('value') .then(snapshot =&gt; { const filmsList = snapshot.val(); console.log('filmsList: ' + JSON.stringify(filmsList)); return filmsList; }) .catch(error =&gt; { console.log('getFilmsList error: ' + error); return error; }); }</code> </pre> </div></div><br><p>  Mengakses database membutuhkan multithreading.  API basis data firebase dirancang untuk menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Janji</a> .  Metode <code>.once('value')</code> mengembalikan kita Janji.  Lalu kami mendapatkan data kami di blok <code>then()</code> dan mengembalikan Promise dengan mereka sebagai hasil dari eksekusi fungsi. <br>  Penting untuk mengembalikan Janji ini ke metode <code>handleRequest()</code> , jika tidak, agen akan keluar dengan callback kami tanpa menunggu respons dan memproses hasilnya. </p><br><div class="spoiler">  <b class="spoiler_title">Film versi pencarian berdasarkan genre menggunakan database:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">'use strict'; const functions = require('firebase-functions'); const firebaseAdmin = require('firebase-admin'); const { WebhookClient } = require('dialogflow-fulfillment'); const { Card, Suggestion } = require('dialogflow-fulfillment'); firebaseAdmin.initializeApp({ credential: firebaseAdmin.credential.applicationDefault(), databaseURL: 'https://&lt;ID-&gt;.firebaseio.com' }); exports.dialogflowFirebaseFulfillment = functions.https.onRequest((request, response) =&gt; { const agent = new WebhookClient({ request, response }); let result = request.body.queryResult; let parameters = result.parameters; let outputContexts = result.outputContexts; let intentMap = new Map(); intentMap.set('search-by-genre', searchByGenre.bind(this, agent, parameters)); agent.handleRequest(intentMap); }); function getFilmsList() { return firebaseAdmin .database() .ref() .child('filmsList') .once('value') .then(snapshot =&gt; { const filmsList = snapshot.val(); console.log('filmsList: ' + JSON.stringify(filmsList)); return filmsList; }) .catch(error =&gt; { console.log('getFilmsList error: ' + error); return error; }); } function searchByGenre(agent, parameters) { return getFilmsList() .then(filmsList =&gt; { let filteredFilms = filmsList.filter((film) =&gt; { return film.genres.some((genre) =&gt; genre == parameters.genre); }); let firstFlim = filteredFilms[0]; agent.add(firstFlim.title); agent.add(new Card({ title: firstFlim.title, imageUrl: firstFlim.imageUrl, text: firstFlim.description, buttonText: ' ', buttonUrl: firstFlim.trailer })); agent.add([ "    ?", new Suggestion("  ?"), new Suggestion(""), new Suggestion("") ]); }) .catch(error =&gt; { console.log('getFilmsList error' + error); }); }</code> </pre> </div></div><br><h5 id="dobavlyaem-nepredskazuemosti">  Tambahkan ketidakpastian </h5><br><p>  Keahlian kami akan menghasilkan film dalam satu urutan setiap kali.  Jawaban yang sama akan mengganggu pengguna pada awalnya, dan kemudian dia akan berhenti berbicara dengan robot kami. </p><br><p>  Perbaiki ini dengan perpustakaan pencampuran <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">array shuffle-array.</a> </p><br><p>  Tambahkan dependensi ke file <code>package.json</code> : </p><br><pre> <code class="plaintext hljs">"dependencies": { // ... "shuffle-array": "^1.0.1" // ... }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Tambahkan pencampuran array:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">//   const shuffle = require('shuffle-array'); function searchByGenre(agent, parameters) { return getFilmsList() .then(filmsList =&gt; { let filteredFilms = filmsList.filter((film) =&gt; { return film.genres.some((genre) =&gt; genre == parameters.genre); }); //    shuffle(filteredFilms); let firstFlim = filteredFilms[0]; agent.add(firstFlim.title); agent.add(new Card({ title: firstFlim.title, imageUrl: firstFlim.imageUrl, text: firstFlim.description, buttonText: ' ', buttonUrl: firstFlim.trailer })); agent.add([ "    ?", new Suggestion("  ?"), new Suggestion(""), new Suggestion("") ]); }) .catch(error =&gt; { console.log('getFilmsList error' + error); }); }</code> </pre> </div></div><br><p>  Sekarang setiap kali film baru akan dikeluarkan. <br>  Dengan cara yang sama, Anda dapat menambahkan output dari frasa yang berbeda: membuat array dengan frasa, mencampurnya dan mengambil yang pertama dari array. </p><br><h5 id="rabotaem-s-kontekstom">  Bekerja dengan konteks </h5><br><p>  Kami bertanya kepada agen: </p><br><blockquote>  Perlihatkan fantasi </blockquote><p>  Agen itu memperlihatkan kepada kita film "Lord of the Rings." <br>  Lalu kami bertanya: </p><br><blockquote>  Apa yang dia bicarakan? </blockquote><p>  Orang tidak mengatakan: "Apakah film" Lord of the Rings "" itu tidak wajar.  Karena itu, kita perlu menyimpan informasi tentang film yang ditampilkan.  Ini dapat dilakukan dalam konteks: </p><br><pre> <code class="plaintext hljs">//    ,       agent.setContext({ name: 'current-film', lifespan: 5, parameters: { id: firstFlim.id } });</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Maka kita dapat membaca informasi tentang film seperti ini:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">function genreSearchDescription(agent) { //   current-film const context = agent.getContext('current-film'); console.log('context current-film: ' + JSON.stringify(context)); //  id    const currentFilmId = context.parameters.id; //    return getFilmsList() .then(filmsList =&gt; { //    id const currentFilm = filmsList.filter(film =&gt; film.id === currentFilmId); agent.add(currentFilm[0].description); agent.add([ ' ?', new Suggestion(''), new Suggestion(' ') ]); }) .catch(error =&gt; { console.log('getFilmsList error:' + error); }); }</code> </pre> </div></div><br><p>  Dengan cara yang sama, kita dapat memfilter daftar film yang sudah ditampilkan. </p><br><h4 id="integraciya-s-telegram">  Integrasi Telegram </h4><br><p>  Dokumentasi dan tautan bermanfaat: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pembuatan bot</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pesan Fungsional</a> </li></ul><br><p>  Untuk berintegrasi dengan Telegram, hampir tidak ada yang diperlukan, tetapi ada beberapa fitur yang perlu dipertimbangkan. </p><br><p>  1) Jika dalam pemenuhan untuk menampilkan Kartu atau Saran, maka di Telegram mereka juga akan berfungsi. <br>  Tetapi ada satu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bug</a> : untuk balasan cepat, Anda harus menentukan judul, jika tidak, "Pilih item" akan ditampilkan di Telegram. <br>  Sejauh ini kami belum berhasil memecahkan masalah menunjukkan judul dalam pemenuhan. </p><br><p>  2) Jika niat menggunakan Chips Saran untuk asisten google </p><br><img src="https://habrastorage.org/getpro/habr/post_images/579/4c7/b5d/5794c7b5dd0950f9c432f878ef60ff04.png" width="50%" height="50%" alt="Contoh"><br><p>  maka fungsi yang sama untuk Telegram dapat diimplementasikan dalam dua cara: </p><br><p>  <strong>Balasan cepat</strong> </p><br><img src="https://habrastorage.org/getpro/habr/post_images/d07/70a/8c7/d0770a8c77d8af525a5cf78d5dd2d346.png" width="50%" height="50%" alt="Menyiapkan balasan cepat"><br><p>  <strong>Muatan kustom</strong> <br>  Di sini Anda dapat menerapkan jawaban cepat menggunakan keyboard utama: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/691/f00/66e/691f0066e60f61d2355fd21b4f4788d3.jpg" width="50%" height="50%" alt="Tangkapan layar keyboard"><br><br><pre> <code class="plaintext hljs"> { "telegram": { "text": "      :", "reply_markup": { "keyboard": [ [ "", "", "", "", "" ] ], "one_time_keyboard": true, "resize_keyboard": true } } }</code> </pre> <br><p>  dan keyboard bawaan: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/9eb/02e/210/9eb02e21054637153b042d4e7e5247a8.jpg" width="50%" height="50%" alt="Tangkapan layar keyboard bawaan"><br><br><pre> <code class="plaintext hljs"> { "telegram": { "text": "      :", "reply_markup": { "inline_keyboard": [ [{ "text": "", "callback_data": "" }], [{ "text": "", "callback_data": "" }], [{ "text": "", "callback_data": "" }], [{ "text": "", "callback_data": "" }], [{ "text": "", "callback_data": "" }] ] } } }</code> </pre> <br><p>  Keyboard utama akan mengirim pesan yang akan disimpan dalam riwayat, sedangkan keyboard bawaan tidak. </p><br><p>  Penting untuk diingat bahwa keyboard utama tidak hilang seiring waktu.  Ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">permintaan khusus</a> untuk ini di API Telegram.  Karena itu, Anda perlu memastikan bahwa pengguna selalu memiliki kiat yang relevan. </p><br><p>  3) Jika Anda memerlukan logika berbeda untuk Telegram dan Google Assistant, Anda dapat melakukan ini seperti ini: </p><br><pre> <code class="plaintext hljs">let intentRequest = request.body.originalDetectIntentRequest; if(intentRequest.source == 'google'){ let conv = agent.conv(); conv.ask('    ?'); agent.add(conv); } else { agent.add('    ?'); }</code> </pre> <br><p>  4) Mengirim file audio dapat diimplementasikan sebagai berikut: </p><br><pre> <code class="plaintext hljs">{ "telegram": { "text": "https://s0.vocaroo.com/media/download_temp/Vocaroo_s0bXjLT1pSXK.mp3" } }</code> </pre> <br><p>  5) Konteks dalam Dialogflow akan disimpan selama 20 menit.  Anda perlu mempertimbangkan ini saat merancang bot Telegram.  Jika pengguna terganggu selama 20 menit, maka ia tidak akan dapat melanjutkan dari tempat yang sama. </p><br><h4 id="primery">  Contohnya </h4><br><p>  Kami akan segera mempublikasikan kode sumber keterampilan.  Segera setelah dirilis. </p><br><h4 id="ps-chto-bylo-na-hakatone">  PS.  Apa yang terjadi di hackathon. </h4><br><p><img src="https://habrastorage.org/webt/0v/nc/cm/0vnccmdqsa1sjuwvpi6iusl9bhk.jpeg" alt="gambar"></p><br><p>  Itu adalah 2 hari yang sibuk. <br>  Pada awalnya ada kuliah pendidikan, dan pada sore hari kami mulai menerapkan proyek kami. <br>  Hari berikutnya secara aktif merevisi proyek dan menyiapkan presentasi. </p><br><p>  Orang-orang dari Google selama ini membantu kami dan menjawab banyak pertanyaan yang pasti muncul dalam pekerjaan.  Itu adalah kesempatan bagus untuk belajar banyak dan meninggalkan umpan balik sementara setrika masih panas. </p><br><p>  Terima kasih kepada semua peserta, penyelenggara Google dan para pakar yang memberikan ceramah dan membantu kami sepanjang hackathon! </p><br><p>  Ngomong-ngomong, kami menempati posisi kedua. </p><br><p>  Jika Anda memiliki pertanyaan, Anda dapat menulis: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">shipa_o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">raenardev</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">comradeguest</a> </p><br><p>  Dan juga ada obrolan Telegram yang didedikasikan untuk diskusi antarmuka suara, buka: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://t.me/conversational_interfaces_ru</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id420111/">https://habr.com/ru/post/id420111/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id420101/index.html">9 tahun pengembangan terenkapsulasi - bagaimana tim proyek bekerja dalam sebuah perusahaan yang terdiri dari 2500 orang</a></li>
<li><a href="../id420103/index.html">Penutur bahasa Inggris terbaik dengan HighLoad ++ 2017</a></li>
<li><a href="../id420105/index.html">Adaptasi maksimum dengan jumlah minimum pertanyaan media, atau metode adaptasi balik</a></li>
<li><a href="../id420107/index.html">Typegram - Platform Blog Zen</a></li>
<li><a href="../id420109/index.html">Elon Musk mengatakan perusahaan itu dapat dijual kepada investor swasta. Mereka ternyata adalah dana Saudi</a></li>
<li><a href="../id420113/index.html">Legenda Kerangka Kekuasaan</a></li>
<li><a href="../id420115/index.html">UE4 | Peralatan untuk Multiplayer # 4 | Membuat dan menghubungkan wadah</a></li>
<li><a href="../id420117/index.html">Panduan Antrian Sederhana di Mikrotik</a></li>
<li><a href="../id420119/index.html">10 kerangka kerja web Python layak untuk digunakan pada tahun 2018</a></li>
<li><a href="../id420121/index.html">Uji Kekuatan: Rayap LT450, LXI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>