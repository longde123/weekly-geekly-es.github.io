<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⛓️ 🖕🏻 👩‍💼 Spring Boot 2：有什么新功能？ 🕶️ 🥪 🧕🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="译者的话：尽管已经过去了一年，但有关第二次启动的新功能的问题并没有就此结束。 从头开始编写此类内容并不是最明智的想法。 因此，我们决定翻译这篇文章，这对我们来说似乎最简洁，同时也很完整。 


 Spring Boot 2的发布于2018年初，每个人都渴望尽快将其投入使用。 此版本是17个月工作的高...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Spring Boot 2：有什么新功能？</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/438980/"><p>  <em>译者的话：尽管已经过去了一年，但有关第二次启动的新功能的问题并没有就此结束。</em>  <em>从头开始编写此类内容并不是最明智的想法。</em>  <em>因此，我们决定翻译这篇文章，这对我们来说似乎最简洁，同时也很完整。</em> </p><br><p>  Spring Boot 2的发布于2018年初，每个人都渴望尽快将其投入使用。 此版本是17个月工作的高潮，来自215个不同人员的6,800多个提交。 有很多很酷的功能值得讨论，所以让我们谈谈Spring Boot 2的新功能。 </p><br><p> 在本文中，我们将考虑： </p><br><ul><li> 春靴的故事 </li><li>  Spring Boot的新功能 </li><li>  Spring Boot 2升级指南 </li></ul><a name="habracut"></a><br><h2 id="istoriya-spring-boot"> 春季靴的历史 </h2><br><p> 在研究创新之前，我想借此机会介绍一下Spring Boot的历史。 在2013年8月发布的帖子中， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Phil Webb</a>在他的博客上<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">宣布了一个名为Spring Boot的项目的第一个里程碑版本</a> 。 </p><br><p>  <em>创建Spring Boot的目的是简化在Spring上创建即用型应用程序和服务的过程，而无需付出过多努力。</em>  <em>Spring Boot是对Spring平台的主观观察，它使Spring的初学者和经验丰富的用户都可以找到他们需要的一切。</em>  <em>使用Boot，您可以创建独立的应用程序，以“ java-jar”运行或以更传统的WAR格式分发。</em> </p><br><p> 大约9个月后，2014年4月，发布了Spring Boot 1.0。 从那时起，出现了许多次要版本和新的有用功能。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Boot 1.1（2014年6月）</a> </p><br><ul><li> 春季启动启动器测试 </li><li> 指标和健康指标 </li><li> 弹性搜索，Apache Solr，Spring Social和Spring Integration自动配置 </li><li> 模板支持（Freemaker，Groovy和Velocity） </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Boot 1.2（2015年3月）</a> </p><br><ul><li>  Servlet 3.1，Tomcat 8和Jetty 9 </li><li> 春天4.1 </li><li>  @SpringBootApplication批注 </li><li> 电子邮件支持 </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Boot 1.3（2016年12月）</a> </p><br><ul><li> 将Spring Framework升级到4.2版 </li><li> 将Spring Security升级到版本4.0 </li><li> 开发人员工具 </li><li> 缓存自动配置 </li><li> 完全可执行的JAR和服务支持 </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Boot 1.4（2017年1月）</a> </p><br><ul><li> 春季4.3 </li><li> 休眠5 </li><li> 测试增强 </li><li> 整合入门 </li><li> 支持Couchbase和Neo4J </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Boot 1.5（2017年2月）</a> </p><br><ul><li> 记录器端点 </li><li>  Apache Kafka支持 </li><li>  Cloud Foundry的高级机制 </li><li>  LDAP支持 </li><li> 测试更新 </li></ul><br><h2 id="chto-novogo-v-spring"> 春季新消息 </h2><br><p> 那么Spring Boot 2有什么新功能？ 如果我们谈论最大的创新，那么这是Spring框架到第5版的更新。 自从2017年9月发布Spring Framework 5以来，大多数开发人员（像我一样）一直在等待Spring Boot 2的发布。SpringFramework 5具有相当多的新功能列表，但是我只想谈一谈一些最重要的功能。 </p><br><h3 id="chto-novogo-v-spring-framework-5">  Spring Framework 5的新增功能 </h3><br><h4 id="podderzhka-versiy-java-8">  Java 8+版本支持 </h4><br><p> 如果您仍然想在Spring Framework上构建应用程序，则需要使用Java 8+版本。 您可能认为这对我们所有人来说都是非常重要的变化，但对于Spring团队而言，这甚至更为重要。 这允许将其所有新功能（例如lambda表达式或流）更新为Java 8的源代码库。 这不仅使代码更具可读性，而且提高了平台核心的性能。 </p><br><h4 id="podderzhka-java-9">  Java 9支持 </h4><br><p> 如果您想使用Java 9，则需要升级到Spring Framework 5以及Spring Boot2。我知道许多人仍然没有在生产中使用最新版本的Java，这是尝试新的炫酷“玩具”的绝佳机会。 使用标准类路径时，一切都应该正常工作，但是我读到了一些切换到Java 9模块时遇到的困难。 </p><br><h4 id="spring-mvc"> 春季MVC </h4><br><p> 尽管Spring MVC并不是本文的重点，但值得一提的是，这里有一些不错的升级。 我不会再赘述；有关详细信息，请参见<a href="">Spring Framework 5</a>的<a href="">文档</a> 。 </p><br><h4 id="spring-webflux"> 春季webflux </h4><br><p> 异步数据流是Spring Framework 5故事的核心。这是一种完全不同的思维方式，但是幸运的是，对于我们来说，无需重新学习如何以全新的方式编写应用程序。  Spring WebFlux是一个绝对异步且无阻塞的框架，从头开始构建，可让您应对大量的并行连接。 尽管这是范式的革命，但开始并非难事。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/77f/704/951/77f704951fdd78f0cf3d4e6a4836ed17.png" alt="Webflux"></p><br><h4 id="podderzhka-kotlin">  Kotlin支持 </h4><br><p> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://start.spring.io</a>中添加了对Kotlin的支持，但是Spring Framework 5对这种语言提供了专门的支持，带来了有用的功能，您可以<a href="">在这里</a>阅读有关它们的<a href="">信息</a> 。 </p><br><h4 id="uluchsheniya-v-mehanizmah-testirovaniya"> 测试增强 </h4><br><p> 测试系统的最大变化是完全支持<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JUnit</a> 5 Jupiter。 稍后我将详细讨论，但是当您在Spring Boot 2上启动新应用程序时，默认情况下仍会使用JUnit 4，但是，切换到JUnit 5是一项艰巨的任务。 </p><br><h3 id="chto-novogo-v-spring-boot-2">  Spring Boot 2的新功能 </h3><br><h4 id="obnovleniya-storonnih-bibliotek"> 第三方图书馆更新 </h4><br><p> 在每个新版本的Spring Boot中，Spring团队都有机会更新各种依赖关系。 </p><br><ul><li> 胸腺3 * </li><li> 码头9.4 </li><li> 的Tomcat 8.5 </li><li> 休眠5.2 </li><li> 飞路5 </li><li> 摇篮4 </li></ul><br><p>  * <em>Thymeleaf启动器现在具有内置的thymeleaf-extras-java8time。</em> </p><br><h4 id="bezopasnost-i-reactive-spring-data"> 安全性和反应性Spring数据 </h4><br><p> 随着转向Spring WebFlux，Spring Data添加了对具有异步数据流的应用程序的支持。  Cassandra，MongoDB，Couchbase和Redis当前具有异步API支持。  Spring Boot为所有这些启动器提供了POM启动器，使其易于入门。 </p><br><p> 在我们的响应式应用程序中还有机会使用Spring Security 5.0。 </p><br><h4 id="actuator"> 执行器 </h4><br><p>  Spring Boot Actuator并不是什么新鲜事物，但是它是从头开始重写的。 如果您还不熟悉Actuator，请执行以下操作：它自动显示端点以获取有关应用程序状态的信息。  Spring Boot 1.x中的Actuator是在servlet之上编写的，通过新的响应式方法，Spring团队需要一个既支持旧方法又支持响应式方法的解决方案。 此外，对执行器进行了以下更改： </p><br><ul><li> 重新设计以支持servlet和反应性 </li><li> 状态和详细的健康检查分开 </li><li> 简化的安全模型 </li><li> 切换到千分尺（就像SLF4J，仅用于度量标准） </li><li> 改进的JSON数据结构 </li><li> 创建自定义端点的简化过程。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">终点</a> </li><li>  @WebEndpoint </li><li>  @JmxEndpoint </li></ul><br><p>由于安全模型的更改，升级中可能会遇到困难，我们将在后面讨论。 默认情况下，所有Web端点都可以通过<code>/actuator</code>路径访问，格式为<code>/actuator/{id}</code> 。  / <code>actuator</code>路径可以在<code>management.endpoints.web.base-path</code>设置中更改。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Boot Actuator Web API端点</a>有一个单独的详细<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文档块，</a>值得开始介绍此工具。 </p><br><h4 id="plagin-gradle">  Gradle插件 </h4><br><p> 我一直很喜欢Gradle，我很高兴团队决定重写Gradle的插件。 <br>  Spring Boot Gradle插件可让您在Gradle中实现Spring Boot支持，并允许您打包可执行jar或war归档文件，在Spring Boot上运行应用程序以及通过spring-boot-dependencies管理依赖关系。  Spring Boot中的Gradle插件需要Gradle 4.0及更高版本。 </p><br><p>  <strong>开始使用</strong> </p><br><p> 要开始使用插件，您需要将其上传到项目。 </p><br><pre> <code class="plaintext hljs">buildscript { repositories { maven { url 'https://repo.spring.io/libs-milestone' } } dependencies { classpath 'org.springframework.boot:spring-boot-gradle-plugin:2.0.0.RC1' } } apply plugin: 'org.springframework.boot'</code> </pre> <br><p>  <strong>创建可执行的jar和war档案</strong> </p><br><p>  bootRepackage任务已由bootJar和bootWar代替，分别创建jar和war文件。 与标准Gradle类似命令相比，这两项任务均具有更多功能，从而可以访问所有设置和逻辑。 </p><br><p>  <strong>依赖管理</strong> </p><br><p>  Spring Boot Gradle插件不再自动拉出依赖性管理插件。 相反，Gradle Spring Boot插件会看到依赖项管理插件已连接，并导入了正确版本的BOM。 这使您可以更好地控制在何处以及如何配置依赖项管理。 对于大多数应用程序，添加一个依赖管理插件就足够了： </p><br><pre> <code class="plaintext hljs">apply plugin: 'io.spring.dependency-management'</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Gradle插件有自己的文档</a> ，其中包含非常有用的信息。 我建议任何想开始使用Gradle的人都点击此链接。 </p><br><h4 id="uproschennaya-sistema-bezopasnosti"> 简化的安全性 </h4><br><p>  Spring Boot 2.x的主要目标之一是简化安全配置并使其易于添加自定义安全设置。 默认情况下，所有数据都受到保护，包括静态资源和Actuator端点。 如果Spring Security在类路径中，则Spring Boot将添加<code>@EnableWebSecurity</code>批注，将使用哪种特定的身份验证机制将确定Spring Security的内容协商机制。 </p><br><p> 当用户配置其安全规则时，标准的Spring Boot安全配置将停止运行。 此时，用户将需要尽可能准确地阐明所有安全规则。 这意味着所有安全设置都集中在一个地方，并且使用现有<code>WebSecurityConfigurerAdapters</code>处理命令的顺序没有问题。 </p><br><p> 各个安全设置的示例： </p><br><pre> <code class="plaintext hljs">http .authorizeRequests() // 1 .requestMatchers(EndpointRequest.to("status", "info")) .permitAll() // 2 .requestMatchers(EndpointRequest.toAnyEndpoint()) .hasRole("ACTUATOR") // 3 .requestMatchers(StaticResourceRequest.toCommonLocations()) .permitAll() // 4 .antMatchers("/**") .hasRole("USER") .and() ... // additional configuration</code> </pre> <br><ol><li>  <code>/status</code>和<code>/info</code>不需要授权。 </li><li> 所有其他执行器均使用<code>ACTUATOR</code>角色受到保护。 </li><li> 共享静态资源的位置向所有人开放。 </li><li> 所有其他应用程序端点均受<code>USER</code>角色保护。 </li></ol><br><h4 id="actuator-security"> 执行器安全 </h4><br><p> 考虑到执行器端点是固定的，因此必须根据需要启用或排除端点。 这是控制此设置的设置，自1.x版以来已更改。 </p><br><pre> <code class="plaintext hljs"># ENDPOINTS WEB CONFIGURATION (WebEndpointProperties) management.endpoints.web.exposure.include=info,health # Endpoint IDs that should be included or '*' for all. management.endpoints.web.exposure.exclude= # Endpoint IDs that should be excluded. management.endpoints.web.base-path=/actuator # Base path for Web endpoints. Relative to server.servlet.context path or management.server.servlet.context-path if management.server.port is configured. management.endpoints.web.path-mapping= # Mapping between endpoint IDs and the path that should expose them.</code> </pre> <br><p> 如果不确定如何配置这些设置，请在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文档中为常规应用程序设置添加</a>书签。 </p><br><h4 id="podderzhka-http2">  HTTP / 2支持 </h4><br><p> 令人难以置信的是，HTTP 1.1规范的发布已经在1996年。 我想您不必提醒您，现代网络在所有方面都有所不同。 如果要在Spring MVC或WebFlux上的应用程序中实现HTTP / 2支持，请使用以下参数。 </p><br><pre> <code class="plaintext hljs">server.http2.enabled=true</code> </pre> <br><p>  HTTP / 2支持取决于所选的Web服务器和应用程序环境，因为开箱即用的JDK8不支持此协议。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/howto-embedded-web-servers.html&amp;usg=ALkJrhhf0zaT3nFcnoO9Uo_Q_qAulFUY9Q#howto-configure-">在文档中</a>阅读有关此内容的更多信息。 </p><br><h4 id="konfiguracionnye-parametry"> 配置选项 </h4><br><p> 在Spring Boot 1.x中，支持所谓的轻松绑定，换句话说，您可以通过多种方式（驼峰式，下划线，连字符）确定参数名称，最后，将值分配给相同的属性。 </p><br><p> 宽松的绑定以相同的方式工作，并且您在代码中读取变量的方式已更改： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c96/e1b/0bc/c96e1b0bc18fb75d2192f855682d766a.png" alt="读取数据"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">24.外部化配置</a> </p><br><p>  Spring Boot使您可以外部化配置，以便可以在不同的环境中使用相同的应用程序代码... docs.spring.io </p><br><h4 id="metrika"> 公制 </h4><br><p> 定制的Spring Boot指标已被测微仪取代。 它是由Pivotal团队开发的，可以迅速适应Pivotal项目。 </p><br><p>  Spring Boot Actuator为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Micrometer</a>提供了自动配置， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Micrometer</a>是一种支持多种监视类型的应用程序度量接口，包括： </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">阿特拉斯</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">数据狗</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">神经节</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">石墨</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">涌入</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">杰姆克斯</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">新遗物</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">普罗米修斯</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">信号交换</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">简单（内存中）</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">统计</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">波前</a> </li></ul><br><p><img src="https://habrastorage.org/getpro/habr/post_images/80f/d29/c55/80fd29c553f5e2747119d4345a660111.png" alt="千分尺"></p><br><p> 有关千分尺的更多信息， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">请</a>访问<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://micrometer.io/</a> 。 </p><br><p> 因此，进行升级可能会使记录大量自定义指标的用户感到痛苦。 </p><br><h4 id="quartz-scheduler"> 石英调度器 </h4><br><p>  Spring Boot 2支持Quartz计划任务执行库，可以使用spring-boot-starter-quartz启动程序轻松添加。 在RAM和JDBC上受支持的工作。 </p><br><pre> <code class="plaintext hljs">&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt; &lt;/dependency&gt;</code> </pre> <br><h4 id="hikaricp-connection-pool">  HikariCP连接池 </h4><br><p> 标准连接池已从Tomcat更改为HikariCP。 如果您使用spring.datasource.type来使Hikari在Tomcat应用程序中工作，则可以将其删除。 同样，如果要继续使用Tomcat池，只需将以下内容添加到配置中： </p><br><pre> <code class="plaintext hljs">spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource</code> </pre> <br><h4 id="instrumenty-razrabotchika"> 开发人员工具 </h4><br><p> 默认情况下，每次重新启动应用程序时，都会记录有关配置差异的报告。 换句话说，该报告显示了在进行诸如删除/添加bean和设置配置参数之类的更改时应用程序的自动配置发生的更改。 </p><br><p> 要禁用此报告的记录，请配置以下参数： </p><br><pre> <code class="plaintext hljs">spring.devtools.restart.log-condition-evaluation-delta=false</code> </pre> <br><h4 id="podderzhka-kotlin-1">  Kotlin支持 </h4><br><p> 本文前面提到了Kotlin的官方支持。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Kotlin</a>也有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">专门的文档块</a> 。 </p><br><h4 id="junit-5">  Junit 5 </h4><br><p> 如上所述，Spring Boot应用程序仍然默认使用JUnit 4，如果要升级到JUnit 5，则需要从spring-boot-starter-test中排除JUnit 4并添加必要的依赖项。 您还将需要以下列表中的插件。 </p><br><pre> <code class="plaintext hljs">&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt; &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt; &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.junit.platform&lt;/groupId&gt; &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt; &lt;version&gt;${junit-platform.version}&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;</code> </pre> <br><h4 id="rukovodstvo-po-perehodu-na-spring-boot-2">  Spring Boot 2升级指南 </h4><br><p> 我认为您不能谈论如此明显的事实，即发行如此之大的版本，仅更改生产版本号并不是升级的最佳方法。 首先，我建议阅读<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Boot 2.0 Migration Guide</a> 。 我个人发现，通过简化的安全模型和参数更改可以解决大多数问题。 本指南提供了一些有关迁移参数文件的重要技巧。 </p><br><p>  <em>在Spring Boot 2.0中，许多配置参数被重命名/删除，开发人员需要更新<code>application.yml</code>以反映这些更改。</em>  <em>为了完成此任务，Spring Boot提供了一个新的<code>spring-boot-properties-migrator</code>模块。</em>  <em>作为依赖项添加到项目中后，它不仅可以分析应用程序环境并在启动时显示诊断结果，还可以在运行时临时迁移参数。</em>  <em>这是迁移应用程序时的必要步骤：</em> </p><br><pre> <code class="plaintext hljs">&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt; &lt;/dependency&gt;</code> </pre> <br><p> 我不知道您对此有何想法，但我一定会开始使用Spring Boot 2并开始将代码迁移到该版本，但是通常在任何主要版本中，我都等待下一个次要版本的发布。 这不仅适用于Spring，而且适用于从Apple到Pivotal甚至Angry Birds的其他品牌！ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN438980/">https://habr.com/ru/post/zh-CN438980/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN438970/index.html">据说Haskell是一种天才和学者的语言。 对不对</a></li>
<li><a href="../zh-CN438972/index.html">从内部大脑（通过人工神经网络模型可视化模式的通过）</a></li>
<li><a href="../zh-CN438974/index.html">虚拟现实有助于应对精神疾病</a></li>
<li><a href="../zh-CN438976/index.html">《春天。 所有设计模式»</a></li>
<li><a href="../zh-CN438978/index.html">随时随地学习！ 面向开发人员的英语播客</a></li>
<li><a href="../zh-CN438982/index.html">Kubernetes指南，第1部分：应用程序，微服务和容器</a></li>
<li><a href="../zh-CN438984/index.html">Kubernetes指南，第2部分：创建和使用集群</a></li>
<li><a href="../zh-CN438986/index.html">React教程第14部分：关于基于类的组件，组件状态的研讨会</a></li>
<li><a href="../zh-CN438988/index.html">React教程第15部分：组件状态研讨会</a></li>
<li><a href="../zh-CN438992/index.html">开发者日记或错误决定</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>