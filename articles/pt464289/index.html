<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì∂ ‚è´ üîÇ Como escrever pacotes Go ü§õüèº üéÄ ü•¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Um pacote Go consiste em arquivos Go localizados no mesmo diret√≥rio, no in√≠cio dos quais existe a mesma express√£o de package . Pacotes que se conectam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como escrever pacotes Go</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/464289/"> Um pacote Go consiste em arquivos Go localizados no mesmo diret√≥rio, no in√≠cio dos quais existe a mesma express√£o de <code>package</code> .  Pacotes que se conectam a programas permitem expandir seus recursos.  Alguns pacotes fazem parte da biblioteca Go padr√£o.  Isso significa que, se voc√™ usar o Go, eles j√° estar√£o instalados.  Outros pacotes s√£o instalados usando o comando <code>go get</code> .  Voc√™ tamb√©m pode escrever seus pr√≥prios pacotes Go, criando arquivos em diret√≥rios especiais e aderindo √†s regras de design de pacotes. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/ht/dv/4c/htdv4cfnn8nmki3yphorht5eiki.jpeg"></a> <br><br>  O material, cuja tradu√ß√£o publicamos hoje, √© um guia para o desenvolvimento de pacotes Go que podem ser conectados a outros arquivos. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Pr√©-requisitos</font> </h2><br><ul><li>  Configure o seu ambiente de software Go (saiba como fazer isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ).  Crie uma √°rea de trabalho Ir (o quinto ponto do material acima √© dedicado a isso).  Na pr√≥xima se√ß√£o deste material, voc√™ encontrar√° exemplos que s√£o recomendados para serem reproduzidos em casa.  Ent√£o voc√™ pode lidar melhor com eles. </li><li>  Para aprofundar o seu conhecimento da <code>GOPATH</code> - d√™ uma olhada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">neste</a> material. </li></ul><br><h2>  <font color="#3AC1EF">Escrevendo e importando pacotes</font> </h2><br>  Escrever c√≥digo de pacote √© o mesmo que escrever c√≥digo Go normal.  Os pacotes podem conter declara√ß√µes de fun√ß√µes, tipos e vari√°veis, que podem ser usados ‚Äã‚Äãem outros programas Go. <br><br>  Antes de come√ßarmos a criar um novo pacote, precisamos ir para o espa√ßo de trabalho Ir.  Est√° localizado no caminho especificado pela vari√°vel <code>GOPATH</code> .  Por exemplo, deixe nossa organiza√ß√£o ser chamada de <code>gopherguides</code> .  Ao mesmo tempo, n√≥s, como reposit√≥rio, usamos o <code>GitHub</code> .  Isso leva ao fato de que, ao longo do caminho especificado por <code>GOPATH</code> , temos a seguinte estrutura de pastas: <br><br><pre> <code class="go hljs">‚îî‚îÄ‚îÄ $GOPATH    ‚îî‚îÄ‚îÄ src        ‚îî‚îÄ‚îÄ github.com            ‚îî‚îÄ‚îÄ gopherguides</code> </pre> <br>  Vamos nomear o pacote que iremos desenvolver neste guia, <code>greet</code> .  Para fazer isso, crie o diret√≥rio <code>greet</code> no diret√≥rio <code>gopherguides</code> .  Como resultado, a estrutura de pastas existente assumir√° o seguinte formato: <br><br><pre> <code class="go hljs">‚îî‚îÄ‚îÄ $GOPATH    ‚îî‚îÄ‚îÄ src        ‚îî‚îÄ‚îÄ github.com            ‚îî‚îÄ‚îÄ gopherguides                ‚îî‚îÄ‚îÄ greet</code> </pre> <br>  Agora estamos prontos para adicionar o primeiro arquivo ao diret√≥rio <code>greet</code> .  Normalmente, um arquivo que √© o ponto de entrada de um pacote √© chamado da mesma maneira que o diret√≥rio do pacote.  Nesse caso, isso significa que n√≥s, no diret√≥rio <code>greet</code> , criamos o arquivo <code>greet.go</code> : <br><br><pre> <code class="go hljs">‚îî‚îÄ‚îÄ $GOPATH    ‚îî‚îÄ‚îÄ src        ‚îî‚îÄ‚îÄ github.com            ‚îî‚îÄ‚îÄ gopherguides                ‚îî‚îÄ‚îÄ greet                    ‚îî‚îÄ‚îÄ greet.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Nesse arquivo, podemos escrever o c√≥digo que queremos reutilizar em nossos projetos.  Nesse caso, criaremos a fun√ß√£o <code>Hello</code> , que exibe o texto <code>Hello, World!</code>  . <br><br>  Abra o arquivo <code>greet.go</code> em um editor de texto e adicione o seguinte c√≥digo: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Vamos analisar o conte√∫do deste arquivo.  A primeira linha de cada arquivo deve conter o nome do pacote em que trabalhamos.  Como estamos no <code>package</code> <code>greet</code> , a palavra-chave <code>package</code> √© usada aqui, seguida pelo nome do pacote: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet</code> </pre> <br>  Isso diz ao compilador para aceitar tudo no arquivo como parte do pacote <code>greet</code> . <br><br>  Em seguida, os pacotes necess√°rios s√£o importados usando a instru√ß√£o de <code>import</code> .  Nesse caso, precisamos apenas de um pacote - <code>fmt</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span></code> </pre> <br>  E, finalmente, criamos a fun√ß√£o <code>Hello</code> .  Ela usar√° os recursos do pacote <code>fmt</code> para exibir a sequ√™ncia <code>Hello, World!</code>  : <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Agora, ap√≥s a cria√ß√£o do pacote <code>greet</code> , voc√™ pode us√°-lo em qualquer outro pacote.  Vamos criar um novo pacote no qual usaremos o pacote <code>greet</code> . <br><br>  Nomeadamente, criaremos um pacote de <code>example</code> .  Para fazer isso, procederemos das mesmas suposi√ß√µes das quais procedemos, criando o pacote <code>greet</code> .  Primeiro, crie a pasta de <code>example</code> na pasta <code>gopherguides</code> : <br><br><pre> <code class="go hljs">‚îî‚îÄ‚îÄ $GOPATH    ‚îî‚îÄ‚îÄ src        ‚îî‚îÄ‚îÄ github.com            ‚îî‚îÄ‚îÄ gopherguides                    ‚îî‚îÄ‚îÄ example</code> </pre> <br>  Agora crie um arquivo que √© o ponto de entrada do pacote.  Consideramos esse pacote como um programa execut√°vel, e n√£o como um pacote cujo c√≥digo est√° planejado para ser usado em outros pacotes.  Os arquivos que s√£o os pontos de entrada dos programas geralmente s√£o chamados <code>main.go</code> : <br><br><pre> <code class="go hljs">‚îî‚îÄ‚îÄ $GOPATH    ‚îî‚îÄ‚îÄ src        ‚îî‚îÄ‚îÄ github.com            ‚îî‚îÄ‚îÄ gopherguides                ‚îî‚îÄ‚îÄ example                    ‚îî‚îÄ‚îÄ main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Abra o arquivo <code>main.go</code> no editor e <code>main.go</code> c√≥digo <code>main.go</code> seguir, o que permite tirar proveito do pacote <code>greet</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello() }</code> </pre> <br>  N√≥s importamos o pacote <code>greet</code> no arquivo <code>main.go</code> , o que significa que, para chamar a fun√ß√£o declarada neste pacote, precisamos usar a nota√ß√£o de ponto.  Uma nota√ß√£o de ponto √© uma constru√ß√£o na qual um ponto √© colocado entre o nome do pacote e o nome do recurso deste pacote a ser usado.  Por exemplo, no pacote <code>greet</code> , a fun√ß√£o <code>Hello</code> desempenha o papel de um recurso.  Se voc√™ precisar chamar essa fun√ß√£o, a nota√ß√£o de ponto ser√° usada <code>: greet.Hello()</code> . <br><br>  Agora voc√™ pode abrir o terminal e executar o programa: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Depois de fazer isso, o terminal exibir√° o seguinte: <br><br><pre> <code class="go hljs">Hello, World!</code> </pre> <br>  Agora vamos falar sobre como usar vari√°veis ‚Äã‚Äãdeclaradas em pacotes.  Para fazer isso, adicione a declara√ß√£o da vari√°vel ao arquivo <code>greet.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Abra o arquivo <code>main.go</code> e adicione uma linha onde a fun√ß√£o <code>fmt.Println()</code> √© usada para exibir o valor da vari√°vel <code>Shark</code> declarada no pacote <code>greet.go</code> .  Ou seja, traga <code>main.go</code> para o seguinte formato: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark) }</code> </pre> <br>  Execute o programa novamente: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Agora ela exibir√° o seguinte: <br><br><pre> <code class="go hljs">Hello, World! Sammy</code> </pre> <br>  Agora vamos falar sobre como declarar tipos em pacotes.  Crie um tipo de <code>Octopus</code> com os campos <code>Name</code> e <code>Color</code> e crie um m√©todo de tipo.  Este m√©todo, quando chamado, retornar√° o conte√∫do especialmente processado dos campos <code>Octopus</code> .  Vamos <code>greet.go</code> para o seguinte formul√°rio: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Octopus <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {    Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>    Color <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"The octopus's name is %q and is the color %s."</span></span>, o.Name, o.Color) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Agora abra o <code>main.go</code> , crie uma inst√¢ncia da estrutura do novo tipo e consulte o m√©todo <code>String()</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark)    oct := greet.Octopus{        Name: <span class="hljs-string"><span class="hljs-string">"Jesse"</span></span>,        Color: <span class="hljs-string"><span class="hljs-string">"orange"</span></span>,    }    fmt.Println(oct.String()) }</code> </pre> <br>  Depois de criar uma inst√¢ncia do <code>Octopus</code> usando uma constru√ß√£o parecida com <code>oct := greet.Octopus</code> , voc√™ pode acessar os m√©todos e propriedades do tipo no <code>main.go</code> para <code>main.go</code> arquivo <code>main.go</code>  Isso, em particular, permite que voc√™ use o comando <code>oct.String()</code> localizado no final do arquivo <code>main.go</code> sem recorrer ao <code>greet</code> .  Al√©m disso, podemos, por exemplo, consultar o campo da estrutura <code>Color</code> usando a constru√ß√£o <code>oct.Color</code> .  Ao mesmo tempo, n√≥s, como quando chamamos o m√©todo, n√£o acessamos <code>greet</code> . <br><br>  O m√©todo <code>String</code> do tipo <code>Octopus</code> usa a fun√ß√£o <code>fmt.Sprintf</code> para formar a senten√ßa e retorna, usando <code>return</code> , o resultado, a string, para a chamada do m√©todo (nesse caso, este local est√° em <code>main.go</code> ). <br><br>  Execute o programa novamente: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Ele produzir√° o seguinte para o console: <br><br><pre> <code class="go hljs">Hello, World! Sammy The octopus<span class="hljs-string"><span class="hljs-string">'s name is "Jesse" and is the color orange.</span></span></code> </pre> <br>  Agora que equipamos o Octopus com o m√©todo <code>String</code> , temos um mecanismo de sa√≠da de informa√ß√µes de tipo adequado para reutiliza√ß√£o.  Se, no futuro, voc√™ precisar alterar o comportamento desse m√©todo, que pode ser usado em muitos projetos, ser√° suficiente editar seu c√≥digo em <code>greet.go</code> . <br><br><h2>  <font color="#3AC1EF">Exporta√ß√£o de Entidades</font> </h2><br>  Voc√™ deve ter notado que tudo com que trabalhamos ao acessar o pacote <code>greet</code> tem nomes que come√ßam com uma letra mai√∫scula.  O Go n√£o possui modificadores de acesso, como <code>public</code> , <code>private</code> ou <code>protected</code> , que est√£o em outros idiomas.  A visibilidade das entidades para mecanismos externos √© controlada pelo fato de com que letra, com uma letra pequena ou grande, come√ßam seus nomes.  Como resultado, tipos, vari√°veis, fun√ß√µes cujos nomes come√ßam com uma letra mai√∫scula est√£o dispon√≠veis fora do pacote atual.  O c√≥digo vis√≠vel fora do pacote √© chamado de exportado. <br><br>  Se voc√™ equipar o tipo <code>Octopus</code> com um novo m√©todo chamado <code>reset</code> , esse m√©todo poder√° ser chamado no pacote <code>greet</code> , mas n√£o no arquivo <code>main.go</code> , que est√° fora do pacote <code>greet</code> .  Aqui est√° uma vers√£o atualizada do <code>greet.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Octopus <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {    Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>    Color <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"The octopus's name is %q and is the color %s."</span></span>, o.Name, o.Color) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    o.Name = <span class="hljs-string"><span class="hljs-string">""</span></span>    o.Color = <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Vamos tentar chamar <code>reset</code> do arquivo <code>main.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark)    oct := greet.Octopus{        Name: <span class="hljs-string"><span class="hljs-string">"Jesse"</span></span>,        Color: <span class="hljs-string"><span class="hljs-string">"orange"</span></span>,    }    fmt.Println(oct.String())    oct.reset() }</code> </pre> <br>  Isso resultar√° no seguinte erro de compila√ß√£o: <br><br><pre> <code class="go hljs">oct.reset undefined (cannot refer to unexported field or method greet.Octopus.reset)</code> </pre> <br>  Para exportar o m√©todo de <code>reset</code> tipo <code>Octopus</code> , √© necess√°rio renome√°-lo, substituindo a primeira letra min√∫scula <code>r</code> por mai√∫scula <code>R</code>  Fazemos isso editando <code>greet.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Octopus <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {    Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>    Color <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"The octopus's name is %q and is the color %s."</span></span>, o.Name, o.Color) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    o.Name = <span class="hljs-string"><span class="hljs-string">""</span></span>    o.Color = <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Isso levar√° ao fato de que poderemos chamar <code>Reset</code> de outros pacotes e sem encontrar mensagens de erro: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark)    oct := greet.Octopus{        Name: <span class="hljs-string"><span class="hljs-string">"Jesse"</span></span>,        Color: <span class="hljs-string"><span class="hljs-string">"orange"</span></span>,    }    fmt.Println(oct.String())    oct.Reset()    fmt.Println(oct.String()) }</code> </pre> <br>  Execute o programa: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Aqui est√° o que chega ao console: <br><br><pre> <code class="go hljs">Hello, World! Sammy The octopus<span class="hljs-string"><span class="hljs-string">'s name is "Jesse" and is the color orange The octopus'</span></span>s name is <span class="hljs-string"><span class="hljs-string">""</span></span> and is the color .</code> </pre> <br>  Ao chamar o m√©todo <code>Reset</code> , limpamos os campos <code>Name</code> e <code>Color</code> da nossa inst√¢ncia <code>Octopus</code> .  Como resultado, ao chamar <code>String</code> , onde o conte√∫do dos campos <code>Name</code> e <code>Color</code> foram exibidos anteriormente, agora nada √© exibido. <br><br><h2>  <font color="#3AC1EF">Sum√°rio</font> </h2><br>  Escrever pacotes Go n√£o √© diferente de escrever c√≥digo Go normal.  No entanto, colocar o c√≥digo do pacote em seus pr√≥prios diret√≥rios permite isolar o c√≥digo, que pode ser usado em qualquer outro projeto Go.  Aqui conversamos sobre como declarar fun√ß√µes, vari√°veis ‚Äã‚Äãe tipos em pacotes, examinamos como usar essas entidades fora dos pacotes e descobrimos onde armazenar pacotes projetados para reutiliza√ß√£o. <br><br>  <b>Caros leitores!</b>  Quais programas voc√™ costuma escrever no Go?  Voc√™ usa pacotes propriet√°rios neles? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/it/t5/3p/itt53pns2iucwylb3bwn1fmmtnu.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt464289/">https://habr.com/ru/post/pt464289/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt464277/index.html">Superf√≠cies aleat√≥rias ocultam ordem complexa</a></li>
<li><a href="../pt464279/index.html">Laser de vapor de cloreto de cobre caseiro</a></li>
<li><a href="../pt464283/index.html">Aplicativos para e-books no sistema operacional Android. Parte 3. Dicion√°rios e notas</a></li>
<li><a href="../pt464285/index.html">Atualizar automaticamente a foto do perfil do Vkontakte</a></li>
<li><a href="../pt464287/index.html">A passagem da m√°quina de laborat√≥rio para o penteado "Hackthebox - Friendzone"</a></li>
<li><a href="../pt464291/index.html">As 10 linguagens de programa√ß√£o mais influentes dos √∫ltimos 50 anos e seus criadores</a></li>
<li><a href="../pt464293/index.html">Os ganchos s√£o substitu√≠dos no React Redux?</a></li>
<li><a href="../pt464295/index.html">Exemplos de uso de alguns novos recursos JavaScript</a></li>
<li><a href="../pt464299/index.html">0, 0, 1, 0, 2, 0, 2, 2, 1, 6, 0, 5, 0, 2, 6, 5, 4, 0, 5, 3, 0, 3, 2, 9, 0, 4, 9, 3, 6, 14, 0, 6, 3, 5, 15, 0, 5, 3, 5 ...</a></li>
<li><a href="../pt464303/index.html">Dados de s√©ries temporais em um DBMS relacional. Extens√µes TimescaleDB e PipelineDB for PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>