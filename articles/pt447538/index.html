<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∂üèæ ü¶å üë®üèø CUBA 7: o que h√° de novo? üçó ü§∂ üë∂üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="H√° tr√™s anos, anunciamos o lan√ßamento do CUBA 6 . Essa vers√£o se tornou revolucion√°ria: em vez de uma licen√ßa propriet√°ria fechada, come√ßamos a distri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>CUBA 7: o que h√° de novo?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/447538/"><p><img src="https://habrastorage.org/webt/f8/-f/_k/f8-f_kslug-6yzi1yx-ui1e51gy.png"></p><br><p>  H√° tr√™s anos, anunciamos o lan√ßamento do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CUBA 6</a> .  Essa vers√£o se tornou revolucion√°ria: em vez de uma licen√ßa propriet√°ria fechada, come√ßamos a distribuir a estrutura livremente, sob a licen√ßa Apache 2.0.  Naquele momento, n√£o pod√≠amos nem ter uma id√©ia pr√≥xima de como isso afetaria o desenvolvimento da estrutura a longo prazo.  A comunidade CUBA come√ßou a crescer exponencialmente e encontramos todas as maneiras poss√≠veis (e √†s vezes imposs√≠veis) de usar a estrutura.  Agora estamos apresentando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CUBA 7</a> .  Esperamos que esta vers√£o torne o desenvolvimento ainda mais f√°cil e agrad√°vel para todos os membros da comunidade: desde iniciantes que se familiarizaram com CUBA e Java at√© desenvolvedores experientes que t√™m mais de um projeto conclu√≠do no n√≠vel de uma grande empresa. </p><a name="habracut"></a><br><h2 id="instrumenty-razrabotki">  Ferramentas de desenvolvimento </h2><br><p>  Uma parte significativa do sucesso do CUBA, devemos ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CUBA Studio</a> .  Esse ambiente de desenvolvimento simplificou bastante a implementa√ß√£o de tarefas t√≠picas que s√£o feitas em todos os projetos Java, reduzindo-as a criar configura√ß√µes simples em designers visuais.  Voc√™ n√£o precisa conhecer todos os atributos de anota√ß√£o da API de persist√™ncia, a sintaxe Gradle ou as sutilezas da configura√ß√£o do Spring para desenvolver um aplicativo CRUD completo e rico em recursos - o CUBA Studio cuida da cria√ß√£o do c√≥digo t√≠pico. </p><br><p><img src="https://habrastorage.org/webt/lr/5f/8g/lr5f8gtzh5ls_zvskmqccmrccpc.png"></p><br><p>  O Studio era um aplicativo Web separado, que causou v√°rias limita√ß√µes significativas: </p><br><ul><li>  Primeiro, o Studio n√£o era um IDE completo; portanto, os desenvolvedores tiveram que alternar entre o Studio e o IntelliJ IDEA ou Eclipse para desenvolver a l√≥gica de neg√≥cios e, ao mesmo tempo, usar navega√ß√£o conveniente, conclus√£o de c√≥digo e outras coisas necess√°rias, o que era um pouco irritante. </li><li>  Em segundo lugar, toda essa simplicidade m√°gica foi constru√≠da em uma enorme quantidade de trabalho que gastamos na cria√ß√£o de algoritmos para analisar e gerar c√≥digo-fonte.  A implementa√ß√£o de funcionalidades ainda mais avan√ßadas significaria avan√ßar para o desenvolvimento de um IDE completo - um empreendimento muito ambicioso para n√≥s. </li></ul><br><p>  Decidimos confiar em outro gigante para superar essas limita√ß√µes e constru√≠mos o Studio com base no IntelliJ IDEA.  Agora voc√™ pode instalar o Studio como um aplicativo independente (IntelliJ IDEA Bundle) e como um plug-in para o IDEA. </p><br><p><img src="https://habrastorage.org/webt/bh/qk/kg/bhqkkgmeebyr6fjyecadq1ln_cm.png"></p><br><p>  E isso nos d√° novas oportunidades: </p><br><ul><li>  Suporte para outros idiomas da JVM (e, acima de tudo, Kotlin) </li><li>  Implanta√ß√£o a quente superior </li><li>  Navega√ß√£o intuitiva em todo o projeto </li><li>  Dicas mais inteligentes e geradores de c√≥digo </li></ul><br><p>  Atualmente, estamos desenvolvendo ativamente uma nova vers√£o do Studio - transferimos funcionalidades da vers√£o antiga e adicionamos novas coisas usando a funcionalidade da plataforma IntelliJ.  Em um futuro pr√≥ximo - a tradu√ß√£o de editores espec√≠ficos do CUBA para componentes do IntelliJ e melhorar a navega√ß√£o pelo c√≥digo do projeto. </p><br><h2 id="obnovlenie-tehnologicheskogo-steka">  Atualiza√ß√£o da pilha de tecnologia </h2><br><p>  Por tradi√ß√£o, a pilha de tecnologia no n√∫cleo do CUBA foi atualizada para novas vers√µes: Java 8/11, Vaadin 8, Spring 5. </p><br><p>  Por padr√£o, novos projetos usam Java 8, mas voc√™ pode especificar a vers√£o do Java adicionando o seguinte c√≥digo ao arquivo build.gradle: </p><br><pre><code class="plaintext hljs">subprojects { sourceCompatibility = JavaVersion.VERSION_11 targetCompatibility = JavaVersion.VERSION_11 }</code> </pre> <br><p>  Um problema especialmente grande foi a atualiza√ß√£o para o Vaadin 8, na qual a API de liga√ß√£o de dados mudou muito.  Felizmente, o CUBA protege os desenvolvedores dos componentes internos do Vaadin, envolvendo-os em sua pr√≥pria API.  A equipe do CUBA fez um √≥timo trabalho de atualiza√ß√£o dos componentes internos sem alterar a API do CUBA.  Isso significa que a compatibilidade √© totalmente preservada e voc√™ pode aproveitar todos os novos recursos do Vaadin 8 imediatamente ap√≥s a migra√ß√£o do projeto para o CUBA 7, sem fazer nenhuma refatora√ß√£o. </p><br><p>  Uma lista completa de depend√™ncias atualizadas est√° dispon√≠vel na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lista de altera√ß√µes</a> . </p><br><h2 id="novyy-api-ekranov">  API de novas telas </h2><br><p>  Esta se√ß√£o pode ser chamada de "API da primeira tela", pois o CUBA nunca teve uma API de tela anunciada oficialmente no m√≥dulo de cliente da web.  Isso aconteceu historicamente, inclusive devido a algumas suposi√ß√µes que surgiram no est√°gio inicial: </p><br><ul><li>  Uma abordagem orientada a declarativamente - tudo o que poderia ser descrito declarativamente tinha que ser declarado no descritor de tela, e n√£o no c√≥digo do controlador. </li><li>  As telas padr√£o (navegador e editor) forneciam uma certa funcionalidade geral e n√£o havia necessidade de alter√°-la. </li></ul><br><p><img src="https://habrastorage.org/webt/vd/ym/le/vdymlejgwnh3eco6adm3ly5smmi.png"></p><br><p>  Quando os primeiros mil membros ingressaram em nossa comunidade, percebemos quantos requisitos diferentes s√£o colocados nas telas CRUD ‚Äúpadr√£o‚Äù.  E todos esses requisitos estavam muito al√©m da funcionalidade inicial.  No entanto, por um longo tempo, poder√≠amos atender a solicita√ß√µes de implementa√ß√£o de comportamento at√≠pico da tela sem alterar a API - gra√ßas a outro princ√≠pio arquitetural estabelecido no est√°gio inicial: heran√ßa aberta.  De fato, a heran√ßa aberta significa que voc√™ pode reescrever qualquer m√©todo p√∫blico ou protegido da classe principal para personalizar seu comportamento de acordo com suas necessidades.  Isso pode parecer uma panac√©ia milagrosa, mas na verdade voc√™ n√£o pode confiar nela nem no curto prazo.  E se um m√©todo substitu√≠do for renomeado, exclu√≠do ou simplesmente nunca usado em vers√µes futuras da estrutura? </p><br><p>  Ent√£o, em resposta √† crescente demanda da comunidade, decidimos introduzir uma nova API de tela.  Essa API fornece pontos de extens√£o claros (sem m√°gica oculta), flex√≠veis e f√°ceis de usar que garantem que n√£o sejam alterados por muito tempo. </p><br><h3 id="deklaraciya-ekranov">  Declara√ß√£o de tela </h3><br><p>  No CUBA 7, declarar telas √© extremamente simples: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@UiController</span></span>(<span class="hljs-string"><span class="hljs-string">"new-screen"</span></span>) <span class="hljs-comment"><span class="hljs-comment">// screen id public class NewScreen extends Screen { }</span></span></code> </pre> <br><p>  O exemplo acima mostra que o identificador de tela √© definido explicitamente diretamente acima da declara√ß√£o da classe do controlador.  Em outras palavras, o ID da tela e a classe do controlador agora se combinam de uma maneira √∫nica.  Portanto, temos boas not√≠cias: agora voc√™ pode acessar as telas com seguran√ßa diretamente pelo tipo de controlador: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ScreenBuilders screenBuilders; <span class="hljs-meta"><span class="hljs-meta">@Subscribe</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBeforeClose</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BeforeCloseEvent event)</span></span></span><span class="hljs-function"> </span></span>{ screenBuilders.screen(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) .withScreenClass(SomeConfirmationScreen.class) .build() .show(); }</code> </pre> <br><p>  O descritor de tela se torna uma parte opcional da tela.  Uma interface do usu√°rio pode ser criada programaticamente ou declarada como um descritor de tela xml, definido pela anota√ß√£o <code>@UiDescriptor</code> sobre a classe do controlador.  Isso torna os controladores e as marca√ß√µes muito mais f√°ceis de ler e entender - essa abordagem √© muito semelhante √† usada no desenvolvimento do Android. </p><br><p>  Anteriormente, tamb√©m era necess√°rio registrar um identificador de tela no arquivo web-screens.xml e atribuir um identificador a ele.  No CUBA 7, esse arquivo foi salvo para fins de compatibilidade, mas a nova maneira de criar telas n√£o exige esse registro. </p><br><h3 id="zhiznennyy-cikl-ekrana">  Ciclo de vida da tela </h3><br><p>  A nova API apresenta eventos simples e auto-explicativos do ciclo de vida da tela: </p><br><ul><li>  Init </li><li>  Afterinit </li><li>  Beforeshow </li><li>  P√≥s-show </li><li>  Antes de fechar </li><li>  Afterclose </li></ul><br><p>  Voc√™ pode se inscrever em todos os eventos do CUBA 7 da seguinte maneira: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@UiController</span></span>(<span class="hljs-string"><span class="hljs-string">"new-screen"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Screen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Subscribe</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onInit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(InitEvent event)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Subscribe</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBeforeShow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BeforeShowEvent event)</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br><p>  Comparada com a abordagem antiga, a nova API mostra que n√£o se sobrep√µem m√©todos de gancho que s√£o implicitamente chamados na inicializa√ß√£o, mas definem explicitamente a l√≥gica para processar um evento espec√≠fico e espec√≠fico do ciclo de vida da tela. </p><br><h3 id="obrabotka-sobytiy-i-funkcionalnye-delegaty">  Manipula√ß√£o de Eventos e Delegados Funcionais </h3><br><p>  Na se√ß√£o anterior, aprendemos como se inscrever em eventos do ciclo de vida, mas e os outros componentes?  Ainda √© necess√°rio despejar todos os ouvintes necess√°rios no mesmo heap ao inicializar a tela, no m√©todo init (), como era nas vers√µes 6.x?  A nova API √© bastante consistente, para que voc√™ possa se inscrever em outros eventos da mesma maneira que nos eventos de vida da tela. </p><br><p>  Considere um exemplo simples com dois elementos da interface do usu√°rio: um bot√£o e um campo para exibir a quantidade de dinheiro em uma determinada moeda;  O descritor XML ficar√° assim: </p><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">window</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.haulmont.com/cuba/screen/window.xsd"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">caption</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"msg://caption"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">messagesPack</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.company.demo.web"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbox</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">spacing</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">currencyField</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"currencyField"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">currency</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">currencyLabelPosition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LEFT"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"calcPriceBtn"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">caption</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Calculate Price"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbox</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">window</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Quando voc√™ clica no bot√£o, chamamos o servi√ßo pelo back-end, que retorna um n√∫mero, e o escrevemos no campo de valor.  Este campo deve alterar o estilo, dependendo do valor do pre√ßo. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@UiController</span></span>(<span class="hljs-string"><span class="hljs-string">"demo_MyFirstScreen"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@UiDescriptor</span></span>(<span class="hljs-string"><span class="hljs-string">"my-first-screen.xml"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyFirstScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Screen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> PricingService pricingService; <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CurrencyField&lt;BigDecimal&gt; currencyField; <span class="hljs-meta"><span class="hljs-meta">@Subscribe</span></span>(<span class="hljs-string"><span class="hljs-string">"calcPriceBtn"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCalcPriceBtnClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Button.ClickEvent event)</span></span></span><span class="hljs-function"> </span></span>{ currencyField.setValue(pricingService.calculatePrice()); } <span class="hljs-meta"><span class="hljs-meta">@Subscribe</span></span>(<span class="hljs-string"><span class="hljs-string">"currencyField"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPriceChange</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(HasValue.ValueChangeEvent&lt;BigDecimal&gt; event)</span></span></span><span class="hljs-function"> </span></span>{ currencyField.setStyleName(getStyleNameByPrice(event.getValue())); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStyleNameByPrice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BigDecimal price)</span></span></span><span class="hljs-function"> </span></span>{ ... } }</code> </pre> <br><p>  No exemplo acima, vemos dois manipuladores de eventos: um √© chamado quando o bot√£o √© pressionado e o outro √© iniciado quando o campo da moeda altera seu valor - tudo √© simples. </p><br><p>  Agora imagine que precisamos verificar o pre√ßo e garantir que seu valor seja positivo.  Isso pode ser feito na "testa" - adicione um validador durante a inicializa√ß√£o da tela: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@UiController</span></span>(<span class="hljs-string"><span class="hljs-string">"demo_MyFirstScreen"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@UiDescriptor</span></span>(<span class="hljs-string"><span class="hljs-string">"my-first-screen.xml"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyFirstScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Screen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CurrencyField&lt;BigDecimal&gt; currencyField; <span class="hljs-meta"><span class="hljs-meta">@Subscribe</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onInit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(InitEvent event)</span></span></span><span class="hljs-function"> </span></span>{ currencyField.addValidator(value -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value.compareTo(BigDecimal.ZERO) &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ValidationException(<span class="hljs-string"><span class="hljs-string">"Price should be greater than zero"</span></span>); }); } }</code> </pre> <br><p>  Em aplica√ß√µes reais, ap√≥s algum tempo, o m√©todo de inicializa√ß√£o ser√° uma bagun√ßa de inicializadores, validadores, ouvintes, etc.  Para resolver esse problema, o CUBA possui uma anota√ß√£o √∫til <code>@Install</code> .  Vamos ver como isso pode ajudar no nosso caso: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@UiController</span></span>(<span class="hljs-string"><span class="hljs-string">"demo_MyFirstScreen"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@UiDescriptor</span></span>(<span class="hljs-string"><span class="hljs-string">"my-first-screen.xml"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyFirstScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Screen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CurrencyField&lt;BigDecimal&gt; currencyField; <span class="hljs-meta"><span class="hljs-meta">@Install</span></span>(to = <span class="hljs-string"><span class="hljs-string">"currencyField"</span></span>, subject = <span class="hljs-string"><span class="hljs-string">"validator"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currencyFieldValidator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BigDecimal value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value.compareTo(BigDecimal.ZERO) &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ValidationException(<span class="hljs-string"><span class="hljs-string">"Price should be greater than zero"</span></span>); } }</code> </pre> <br><p>  De fato, delegamos a l√≥gica de valida√ß√£o do campo de moeda ao m√©todo currencyFieldValidator na tela.  Isso pode parecer um pouco complicado √† primeira vista, mas os desenvolvedores surpreendentemente se acostumaram rapidamente a esse m√©todo de adicionar funcionalidade e imediatamente come√ßaram a us√°-lo. </p><br><h3 id="postroiteli-ekranov-notifikacii-dialogi">  Construtores de tela, notifica√ß√µes, caixas de di√°logo </h3><br><p><img src="https://habrastorage.org/webt/mo/ni/n-/monin-pixoctyntukkkflsdgvc4.png"></p><br><p>  O CUBA 7 possui um conjunto de componentes √∫teis com uma API conveniente: </p><br><ul><li>  <strong>O ScreenBuilders</strong> combina f√°bricas fluentes para criar telas padr√£o para exibi√ß√£o e edi√ß√£o de entidades, bem como telas personalizadas.  O exemplo abaixo mostra como voc√™ pode abrir uma tela da outra.  Observe que o m√©todo build () retorna imediatamente a tela do tipo desejado sem a necessidade de uma convers√£o: <br><pre> <code class="java hljs">CurrencyConversions currencyConversions = screenBuilders.screen(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) .withScreenClass(CurrencyConversions.class) .withLaunchMode(OpenMode.DIALOG) .build(); currencyConversions.setBaseCurrency(Currency.EUR); currencyConversions.show();</code> </pre> </li><li>  O componente <strong>Telas</strong> fornece um n√≠vel mais baixo de abstra√ß√£o para criar e exibir telas, ao contr√°rio da <em>API ScreenBuilders</em> .  Ele tamb√©m fornece acesso a informa√ß√µes sobre todas as telas abertas no aplicativo CUBA ( <em>Screens # getOpenedScreens</em> ), se voc√™ precisar repentinamente repassar todas elas em um ciclo. </li><li>  Os <strong>componentes de</strong> <strong>Notifica√ß√µes</strong> e <strong>caixas de di√°logo</strong> fornecem uma API conveniente e literalmente auto-documentada.  A seguir, √© apresentado um exemplo de cria√ß√£o e exibi√ß√£o de uma caixa de di√°logo e notifica√ß√£o: <br><pre> <code class="java hljs">dialogs.createOptionDialog() .withCaption(<span class="hljs-string"><span class="hljs-string">"My first dialog"</span></span>) .withMessage(<span class="hljs-string"><span class="hljs-string">"Would you like to thank CUBA team?"</span></span>) .withActions( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DialogAction(DialogAction.Type.YES).withHandler(e -&gt; notifications.create() .withCaption(<span class="hljs-string"><span class="hljs-string">"Thank you!"</span></span>) .withDescription(<span class="hljs-string"><span class="hljs-string">"We appreciate all community members"</span></span>) .withPosition(Notifications.Position.MIDDLE_CENTER) .withHideDelayMs(<span class="hljs-number"><span class="hljs-number">3000</span></span>) .show()), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DialogAction(DialogAction.Type.CANCEL) ) .show();</code> </pre> </li></ul><br><h3 id="privyazka-dannyh">  Liga√ß√£o de dados </h3><br><p>  O CUBA fornece um desenvolvimento extremamente r√°pido da interface do usu√°rio para o back office, n√£o apenas com ferramentas avan√ßadas de desenvolvimento visual e um poderoso sistema de gera√ß√£o de c√≥digo, mas tamb√©m com seu rico conjunto de componentes dispon√≠veis imediatamente.  Esses componentes precisam apenas saber com quais dados eles est√£o trabalhando e o restante ser√° feito automaticamente.  Por exemplo, listas suspensas, calend√°rios, tabelas com opera√ß√µes CRUD internas e assim por diante. </p><br><p>  Antes da vers√£o 7, a liga√ß√£o de dados era realizada por meio da chamada fonte de dados - objetos que envolvem uma ou mais entidades para a liga√ß√£o reativa aos componentes.  Essa abordagem funcionou muito bem, mas em termos de implementa√ß√£o, era um mon√≥lito.  A arquitetura monol√≠tica √© geralmente problem√°tica de configurar, portanto, no CUBA 7, esse enorme paralelep√≠pedo foi dividido em tr√™s componentes para trabalhar com dados: </p><br><ul><li>  O carregador de dados √© um provedor de dados para cont√™ineres de dados.  O carregador n√£o armazena dados, simplesmente passa todos os par√¢metros de consulta necess√°rios para o data warehouse e coloca os dados resultantes em cont√™ineres. </li><li>  O cont√™iner de dados salva os dados baixados (uma ou mais entidades) e os fornece aos componentes de dados: todas as altera√ß√µes nessas entidades s√£o transferidas para os componentes correspondentes e vice-versa, todas as altera√ß√µes nos componentes levar√£o a altera√ß√µes correspondentes nas entidades que est√£o no cont√™iner de dados. </li><li>  Datacontext (contexto de dados) √© uma classe que rastreia altera√ß√µes e armazena todas as entidades alteradas.  As entidades monitoradas s√£o marcadas como sujas sempre que seus atributos mudam, e o DataContext salva inst√¢ncias sujas no Middleware quando seu m√©todo commit () √© chamado. </li></ul><br><p>  Assim, h√° flexibilidade no trabalho com dados.  Um exemplo artificial: o carregador pode selecionar dados na interface do usu√°rio a partir de um RDBMS e o contexto pode salvar altera√ß√µes no servi√ßo REST. </p><br><p>  No CUBA 6.x, voc√™ precisar√° escrever sua pr√≥pria fonte de dados para isso, que pode funcionar com RDBMS e REST.  No CUBA 7, voc√™ pode usar um carregador padr√£o que pode trabalhar com o banco de dados e gravar apenas sua implementa√ß√£o de contexto para trabalhar com o REST. </p><br><p>  Os componentes para trabalhar com dados podem ser declarados nos descritores de tela ou criados programaticamente usando uma f√°brica especializada - DataComponents. </p><br><h3 id="prochee">  Outros </h3><br><p>  Uff ... As partes mais significativas da nova API na tela s√£o descritas; portanto, listemos brevemente outras fun√ß√µes importantes no n√≠vel do cliente da Web: </p><br><ul><li>  <strong>Hist√≥rico e navega√ß√£o de URL</strong> .  Essa fun√ß√£o resolve um problema muito comum do SPA - o comportamento do bot√£o voltar no navegador nem sempre √© correto.  Agora, ele fornece uma maneira f√°cil de atribuir rotas √†s telas de aplicativos e permite que a API exiba o estado atual da tela em um URL. </li><li>  <strong>Formul√°rio em vez de FieldGroup</strong> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O FieldGroup</a> √© um componente para exibir e alterar campos de uma entidade.  Ele exibe a interface do usu√°rio para o campo em tempo de execu√ß√£o.  Em outras palavras, se a entidade tiver um campo Data, ela ser√° exibida como um Campo de Data.  No entanto, se voc√™ deseja trabalhar com esse campo programaticamente, precisar√° inseri-lo no controlador de tela e convert√™-lo manualmente para o tipo correto ( <em>DateField em nosso exemplo</em> ).  Se mais tarde alterarmos o tipo do campo para outro, nosso aplicativo falhar√° no tempo de execu√ß√£o.  O formul√°rio resolve esse problema declarando explicitamente o tipo de campo.  Mais informa√ß√µes sobre o componente podem ser encontradas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </li><li>  <strong>A integra√ß√£o de componentes JavaScript de terceiros √©</strong> bastante simplificada; leia a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o</a> sobre a incorpora√ß√£o de componentes JavaScript personalizados em um aplicativo CUBA. </li><li>  Agora, os atributos <strong>HTML / CSS</strong> podem ser facilmente definidos diretamente no descritor de tela xml ou definidos programaticamente.  Mais informa√ß√µes podem ser encontradas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </li></ul><br><h2 id="novye-vozmozhnosti-bekend-modulya">  Novos recursos do m√≥dulo back-end </h2><br><p>  A se√ß√£o anterior sobre a nova API na tela acabou sendo mais do que eu esperava, portanto, nesta se√ß√£o, seremos breves. </p><br><h3 id="sobytie-entity-changed">  Evento alterado da entidade </h3><br><p>  O evento Entity Changed √© um evento em um aplicativo Spring que √© acionado quando uma entidade entra em um reposit√≥rio de dados, √© colocado fisicamente e est√° a um passo da confirma√ß√£o.  Ao processar esse evento, voc√™ pode configurar verifica√ß√µes adicionais (por exemplo, verificar a disponibilidade de mercadorias no armaz√©m antes de confirmar o pedido) e alterar os dados (por exemplo, recalcular os totais) antes de ficarem vis√≠veis para outras transa√ß√µes (√© claro, se voc√™ tiver um n√≠vel leia isolamento comprometido).  Esse evento tamb√©m pode ser a √∫ltima oportunidade de abortar a transa√ß√£o, lan√ßando uma exce√ß√£o, que pode ser √∫til em alguns casos complicados. </p><br><p>  Tamb√©m existe uma maneira de lidar com o evento Mudan√ßa de Entidade imediatamente ap√≥s uma confirma√ß√£o. </p><br><p>  Voc√™ pode ver um exemplo neste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cap√≠tulo da documenta√ß√£o</a> . </p><br><h3 id="tranzakcionnyy-menedzher-dannyh">  Gerenciador de dados transacionais </h3><br><p>  Ao desenvolver um aplicativo, geralmente trabalhamos com entidades desanexadas - aquelas que n√£o est√£o no contexto de nenhuma transa√ß√£o.  No entanto, nem sempre √© poss√≠vel trabalhar com entidades desanexadas, especialmente quando voc√™ precisa cumprir totalmente os requisitos do ACID - este √© o caso quando voc√™ pode usar um gerenciador de dados transacionais.  Ele √© muito parecido com um gerente regular, mas difere nos seguintes aspectos: </p><br><ul><li>  Ele pode ingressar em uma transa√ß√£o existente (sendo chamada no contexto dessa transa√ß√£o) ou criar sua pr√≥pria transa√ß√£o. </li><li>  Ele n√£o possui um m√©todo de confirma√ß√£o, mas existe um m√©todo de salvamento que n√£o confirma imediatamente, mas aguarda a transa√ß√£o atual ser confirmada. </li></ul><br><p>  Aqui est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um exemplo de</a> seu uso. </p><br><h3 id="obratnye-vyzovy-jpa">  Retornos de chamada JPA </h3><br><p>  Finalmente, o CUBA 7 suporta retornos de chamada JPA.  Para n√£o repetir os materiais conhecidos para os quais esses retornos de chamada podem ser usados, basta deixar um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link</a> aqui.  Neste material, o t√≥pico de retornos de chamada √© totalmente divulgado. </p><br><h2 id="kak-naschet-sovmestimosti">  Que tal compatibilidade? </h2><br><p><img src="https://habrastorage.org/webt/tk/fu/lb/tkfulbguaccnmhsisnhgsgepteg.png"></p><br><p>  Uma pergunta justa para qualquer vers√£o importante, especialmente quando h√° tantas mudan√ßas cr√≠ticas!  Desenvolvemos todos esses novos recursos e APIs com compatibilidade com vers√µes anteriores: </p><br><ul><li>  A API antiga √© suportada no CUBA 7 e √© implementada atrav√©s da nova por baixo :) </li><li>  Tamb√©m fornecemos adaptadores para liga√ß√£o de dados por meio da API antiga.  Esses adaptadores funcionar√£o perfeitamente para telas criadas de acordo com o esquema antigo. </li></ul><br><p>  A boa not√≠cia √© que o processo de migra√ß√£o da vers√£o 6 para 7 deve ser bastante simples. </p><br><h2 id="zaklyuchenie">  Conclus√£o </h2><br><p>  Concluindo a revis√£o t√©cnica, quero observar que existem outras inova√ß√µes importantes, especialmente no campo do licenciamento: </p><br><ul><li>  O limite de 10 entidades para o Studio agora foi removido </li><li>  Os complementos para relat√≥rios, BPM, gr√°ficos e mapas e pesquisa de texto completo agora s√£o gratuitos e de c√≥digo aberto. </li><li>  A vers√£o comercial do Studio contribui para o desenvolvimento da conveni√™ncia, com a ajuda de designers visuais de entidades, telas, menus e outros elementos da plataforma, e a vers√£o gratuita √© focada no trabalho com c√≥digo. </li><li>  Observe que, para as vers√µes 6.xe vers√µes anteriores, as condi√ß√µes de licenciamento do Platform e Studio permanecem as mesmas! </li></ul><br><p>  Por fim, gostaria de agradecer mais uma vez √† comunidade pelo apoio e feedback.  Espero que voc√™ ame a vers√£o 7!  Tradicionalmente, informa√ß√µes completas est√£o dispon√≠veis no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">changelog</a> oficial. <br></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt447538/">https://habr.com/ru/post/pt447538/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt447528/index.html">Quem √© respons√°vel pela qualidade?</a></li>
<li><a href="../pt447530/index.html">OceanLotus: atualiza√ß√£o de Malvari para macOS</a></li>
<li><a href="../pt447532/index.html">Splunk Universal Forwarder no Docker como um coletor de logs do sistema</a></li>
<li><a href="../pt447534/index.html">O cosmonauta Aleksandr Laveykin sobre o melhor filme espacial, for√ßa G de 20g e pouso suave</a></li>
<li><a href="../pt447536/index.html">Implemente o IdM. Prepara√ß√£o para implementa√ß√£o pelo cliente</a></li>
<li><a href="../pt447540/index.html">Workshop RHEL 8 Beta: Criando aplicativos da Web ao vivo</a></li>
<li><a href="../pt447542/index.html">Estimativa do VaR e ConVaR para o pre√ßo das a√ß√µes da empresa cazaque</a></li>
<li><a href="../pt447546/index.html">Bowers & Wilkins PX. Revis√£o Neo tardia</a></li>
<li><a href="../pt447548/index.html">Qu√£o justificada √© a introdu√ß√£o de VDI em pequenas e m√©dias empresas?</a></li>
<li><a href="../pt447552/index.html">Como otimizar se√ß√µes de cat√°logo em uma loja online: instru√ß√µes passo a passo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>