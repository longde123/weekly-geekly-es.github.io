<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äç‚öïÔ∏è üòö üë®üèø‚ÄçüöÄ Dagaz: √©pisodes (partie 1) üëÜüèΩ üë©‚Äçüé§ üßü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous avons secou√© vos filtres mentaux et le r√©sultat a √©t√© une r√©ponse. La m√©thode a fonctionn√©, elle sera toujours efficace. Il suffit de se d√©barras...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dagaz: √©pisodes (partie 1)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459456/"><img align="left" src="https://habrastorage.org/webt/4i/sc/k4/4isck4toxbws20hsk3nrqghdkoy.png">  <b><i>Nous avons secou√© vos filtres mentaux et le r√©sultat a √©t√© une r√©ponse.</i></b>  <b><i>La m√©thode a fonctionn√©, elle sera toujours efficace.</i></b>  <b><i>Il suffit de se d√©barrasser du fardeau suppl√©mentaire des pr√©jug√©s ...</i></b> <b><i><br><br></i></b>  <b><i>Raymond Jones " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Niveau de bruit</a> "</i></b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dagaz</a> n'est pas apparu de toutes pi√®ces.  J'ai toujours aim√© les jeux de soci√©t√© et les puzzles, et je fais de la programmation autant que je me souvienne, mais l'id√©e d'un certain moteur ¬´universel¬ª n'aurait tout simplement pas pu me traverser l'esprit.  J'√©tais sceptique quant √† cette id√©e.  Jusqu'√† ce que je voie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Zillions</a> .  Malheureusement, le produit, √† cette √©poque, ne se d√©veloppait plus, le code source n'√©tait pas disponible et, en effet, le programme ne fonctionnait que sous Windows.  Apr√®s un certain temps, j'ai d√©cid√© de me lancer dans un projet ouvert. <br><a name="habracut"></a><br>  Comme je l'ai d√©j√† dit, je n'avais pas de code source, mais j'ai un peu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">touch√©</a> Zillions et j'ai pris son id√©e principale - la r√©utilisation maximale du code d'application, qui permet d'utiliser les m√™mes constructions dans diff√©rentes, qui sembleraient compl√®tement diff√©rentes les unes des autres cas.  Il s'agissait du bon cas d'utilisation.  Et j'ai fait un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plan</a> . <br><br><h2>  Dames </h2><br>  Cette famille de jeux importante mais extr√™mement sous-estim√©e a pos√© la premi√®re pierre du projet.  Tous les jeux de "dames" sont similaires les uns aux autres et ne diff√®rent que par les d√©tails.  En termes de conception de jeux, ils sont tous unis par trois id√©es principales: <br><br><ul><li>  Par ch√®que </li><li>  Prise prioritaire </li><li>  Mouvement compos√© </li></ul><br>  Le premier paragraphe ne soul√®ve pas de questions particuli√®res, mais si le d√©veloppement est ax√© sur les parties d'√©checs, cela peut surprendre.  Pas dans tous les jeux, la capture a lieu sur le m√™me terrain o√π la pi√®ce compl√®te le mouvement.  Avec les mouvements prioritaires, les choses sont un peu plus int√©ressantes.  Dans les dames, cette r√®gle vous permet de construire un jeu combinatoire complexe, attirant l'ennemi dans des pi√®ges fonctionnant sur le principe de ¬´donner moins - ramasser plus¬ª. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zMpxcNG2UDQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Bien s√ªr, le m√©canisme des mouvements prioritaires a √©t√© impl√©ment√© dans Zillions (et a migr√© de l√† vers Dagaz).  Sans cela, presque tous les jeux de dames (certainement inclus dans le "gentleman's set" de jeux de soci√©t√© obligatoires pour la mise en ≈ìuvre) ne pourraient tout simplement pas fonctionner correctement.  Tout est dans les d√©tails.  Voyons comment ce m√©canisme a √©t√© impl√©ment√©: <br><br><div class="spoiler">  <b class="spoiler_title">En zillions</b> <div class="spoiler_text"><pre><code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">move-priorities</span></span> jump-type normal-type) ... (<span class="hljs-name"><span class="hljs-name">define</span></span> checker-shift ( $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> empty?) <span class="hljs-comment"><span class="hljs-comment">;        add ;   )) (define checker-jump ( $1 (verify enemy?) ;         capture ;   ( capture  -   ) $1 (verify empty?) ;           add ;   )) ... (piece (name Man) (image White "images/stapeldammen/white.bmp" Red "images/stapeldammen/red.bmp") (moves (move-type jump-type) (checker-jump nw) (checker-jump ne) (checker-jump sw) (checker-jump se) (move-type normal-type) (checker-shift nw) (checker-shift ne) ) )</span></span></code> </pre> </div></div><br>  Ceci est une description presque compl√®te du jeu de v√©rification le plus simple.  Le concept de modes de d√©placement ( <b>type de d√©placement</b> ) est introduit dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ZRF</a> , et la <b>construction des priorit√©s de d√©placement nous</b> permet de dire que s'il y a des d√©placements de priorit√© plus √©lev√©e (prises), moins de priorit√© (mouvements silencieux) ne devrait pas √™tre consid√©r√©e.  Les niveaux de priorit√© peuvent √™tre d√©finis et plus de deux, √† cet √©gard, la conception est assez universelle, mais en travaillant sur les jeux dans Dagaz, je suis tomb√© sur certaines limites de ce m√©canisme. <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/y6/6-/7r/y66-7rt1ejot9yb-ppoq-wmk98u.png"></a> </div><br>  Dans ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jeu</a> , invent√© par Solomon Golomb, en plus des dames, il y a aussi des pi√®ces d'√©checs.  La difficult√© r√©side dans le fait que la prise, tout en restant une priorit√© pour les pions, n'est pas telle pour les pi√®ces d'√©checs (sinon il serait trop facile de les pi√©ger et de les manger).  Une priorisation na√Øve utilisant le mot <b>-</b> cl√© <b>move-priorit√©s</b> ne fonctionnera pas dans ce jeu. <br><br>  En fait, si les pi√®ces d'√©checs ne sont pas incluses dans les coups prioritaires, s'il y a la possibilit√© de prendre √† la fois une pi√®ce de damier et une pi√®ce d'√©checs, nous ne pourrons pas jouer une pi√®ce d'√©checs, car une capture de ch√®que est une priorit√©.  Si les mouvements d'√©checs sont consid√©r√©s comme tout aussi prioritaires, nous serons oblig√©s de prendre des pi√®ces d'√©checs chaque fois que l'occasion se pr√©sentera.  Les deux contredisent les r√®gles du jeu. <br><br>  Dans Zillions, ce probl√®me n'est pratiquement pas r√©solu.  Et c'est la principale raison pour laquelle j'ai pens√© √† introduire un m√©canisme d'extension JavaScript dans Dagaz.  L'id√©e, en soi, est assez simple: comme certaines m√©caniques de jeu sont assez difficiles √† exprimer en ZRF, pourquoi ne pas introduire la phase de post-traitement des mouvements?  Le module d'extension, dans ce cas, analyse l'int√©gralit√© de la liste des mouvements g√©n√©r√©s et peut prendre des d√©cisions sur le rejet de certains mouvements.  Voici √† quoi cela <a href="">ressemble</a> pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shashmat</a> : <br><br><div class="spoiler">  <b class="spoiler_title">Code simple et compact</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> CheckInvariants = Dagaz.Model.CheckInvariants; Dagaz.Model.CheckInvariants = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">board</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> design = Dagaz.Model.design; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> types = []; types.push(design.getPieceType(<span class="hljs-string"><span class="hljs-string">"Bishop"</span></span>)); types.push(design.getPieceType(<span class="hljs-string"><span class="hljs-string">"Camel"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isPriority = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; _.each(board.moves, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">move</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isCapturing(board, move)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_.indexOf(types, getType(board, move)) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) isPriority = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isPriority) { _.each(board.moves, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">move</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isCapturing(board, move)) { move.failed = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }); } CheckInvariants(board); }</code> </pre></div></div><br>  √Ä l'avenir, l'id√©e d'extensions s'est d√©velopp√©e et s'est √©panouie avec une couleur magnifique.  J'ai obtenu un m√©canisme pratique et puissant pour coder de nombreux jeux dont la mise en ≈ìuvre sur du ZRF pur serait extr√™mement probl√©matique, mais cela signifie-t-il que la priorisation dans le style ZRF est obsol√®te?  Bien s√ªr que non!  Tout d'abord, √©crire une ligne en ZRF est plus facile que cinquante en JavaScript, mais plus important encore, les priorit√©s de style ZRF ¬´dures¬ª fonctionnent de telle mani√®re que les mouvements de faible priorit√© ne sont m√™me pas g√©n√©r√©s!  C'est important en termes de performances.  G√©n√©rer des d√©m√©nagements √† Dagaz est une op√©ration tr√®s co√ªteuse. <br><br><div class="spoiler">  <b class="spoiler_title">Un autre jeu avec des priorit√©s difficiles</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/_w/zj/lj/_wzjljuhqpa3qmnfnousdrlkxhq.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dablot</a> est un jeu quelque peu similaire aux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">brouillons italiens</a> , mais plus ancien.  En plus des personnages ordinaires, il y a des ¬´princes¬ª et des ¬´rois¬ª, et les plus jeunes n'ont pas le droit de battre les anciens.  Mais ce n'est pas la difficult√©.  Pour les rois (et dans certaines vari√©t√©s du jeu pour les princes aussi), la capture est facultative!  Ici, le m√™me probl√®me se pose qu'avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shashmat</a> .  Si nous d√©clarons que le roi est une priorit√©, nous violons gravement les r√®gles du jeu, sinon, nous ne pourrons pas battre le roi avec la possibilit√© d'une bataille alternative avec une simple figure.  Seul le moteur d'extension Dagaz r√©sout ce probl√®me. <br><br>  Au fait, avec "Italian Drafts", tout n'est pas si simple.  Dans de nombreuses vari√©t√©s de brouillons, une r√®gle stipule que le joueur est oblig√© de prendre le maximum de pi√®ces.  Autrement dit, il ne peut pas simplement interrompre la cha√Æne de captures, mais doit choisir le chemin sur lequel il prendra plus de pi√®ces!  Pour des raisons que j'examinerai ci-dessous, cette r√®gle n'a pas pu √™tre impl√©ment√©e dans Zillions sous une forme universelle et les d√©veloppeurs ont √©t√© oblig√©s de la coder en dur.  Dans les brouillons italiens, la "r√®gle de la majorit√©" semble encore plus compliqu√©e: "vous devez battre le plus grand nombre possible de brouillons de l'adversaire, et avec des options de combat √©gales, vous devez battre le nombre maximal de dames". <br></div></div><br>  Les mouvements compos√©s sont le deuxi√®me √©l√©ment important des jeux de dames.  Tellement important que le <a href="">test</a> pour la capture correcte dans les " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Brouillons turcs</a> " que je lance p√©riodiquement jusqu'√† pr√©sent.  √Ä quelques reprises, lorsque j'ai cass√© le mod√®le avec les changements suivants, cela a vraiment aid√©. <br><br><div class="spoiler">  <b class="spoiler_title">D√©m√©nagements - composite et partiel</b> <div class="spoiler_text"><div class="spoiler">  <b class="spoiler_title">Voyons comment les mouvements composites sont impl√©ment√©s dans ZRF</b> <div class="spoiler_text"><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> checker-shift ( $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> empty?) (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">in-zone</span></span>? promotion) (<span class="hljs-name"><span class="hljs-name">add</span></span> King) else add ) )) (<span class="hljs-name"><span class="hljs-name">define</span></span> checker-jump ( $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> enemy?) capture $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> empty?) (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">in-zone</span></span>? promotion) (<span class="hljs-name"><span class="hljs-name">add</span></span> King) else (<span class="hljs-name"><span class="hljs-name">add-partial</span></span> jump-type) ) )) (<span class="hljs-name"><span class="hljs-name">define</span></span> king-shift ( $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> empty?) add )) (<span class="hljs-name"><span class="hljs-name">define</span></span> king-jump ( $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> enemy?) capture $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> empty?) (<span class="hljs-name"><span class="hljs-name">add-partial</span></span> jump-type) ))</code> </pre></div></div><br>  C'est aussi simple que cela.  La commande <b>add-partial</b> indique que le mouvement peut √™tre poursuivi (avec la m√™me pi√®ce, c'est important) s'il y a encore des mouvements avec le mode sp√©cifi√©.  En d'autres termes: "le chiffre doit continuer √† prendre, alors qu'il existe une telle opportunit√©".  Tout semble aller bien, mais il y a une mise en garde.  Zillions voit chacune de ces prises comme un mouvement ¬´partiel¬ª distinct.  Voyons √† quoi cela peut conduire. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pr/ff/mu/prffmuzpuk9wv7gks7do1h6djuq.png"></div><br>  Dans ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jeu</a> , le nombre de "pas" effectu√©s par une pi√®ce est d√©termin√© par l'ic√¥ne sur laquelle elle se trouve.  Maintenant, le mouvement de White et Damyo marche (un morceau marqu√© d'une perle rouge).  Dans Zillions, apr√®s avoir effectu√© deux mouvements partiels, elle peut facilement aller dans le coin sup√©rieur gauche, d'o√π elle ne peut plus effectuer le dernier mouvement restant (vous ne pouvez pas revenir en arri√®re).  Il est √©galement interdit de prendre la pi√®ce adverse dans le deuxi√®me coup partiel.  Dans Zillions, il n'y a aucun moyen d'interdire la s√©quence de mouvements menant √† une impasse. <br><br>  Chez Dagaz, c'est diff√©rent!  Une s√©quence de mouvements partiels est <b>toujours</b> assembl√©e en un mouvement composite complet.  Un mouvement qui ne peut pas √™tre accompli ne se produira tout simplement pas!  Il s'agit d'une approche plus gourmande en ressources et, par cons√©quent, g√©n√©rer une liste de d√©placements dans Dagaz est une op√©ration tr√®s co√ªteuse.  Mais ses avantages sont importants.  Par exemple, le bot re√ßoit le mouvement compos√© entier dans son int√©gralit√© et ne doit pas regarder vers l'avant, effectuant les mouvements partiels restants. <br><br>  Plus important encore, cette approche offre la possibilit√© de consid√©rer la liste compl√®te des mouvements conditionnellement acceptables, d'effectuer des v√©rifications plus complexes et d'interdire certains mouvements en fonction de la pr√©sence d'autres.  Par exemple, la ¬´r√®gle de la majorit√©¬ª, que j'ai mentionn√©e ci-dessus, dans Dagaz est mise en ≈ìuvre tout <a href="">simplement</a> .  De plus, pour les "Italian Checkers" aussi.  Les d√©veloppeurs de Zillions ont "r√©solu" le probl√®me qu'ils connaissaient pour les jeux de dames en codant en dur l'option " <b>captures maximales</b> ", mais il existe un grand nombre de jeux avec d'autres v√©rifications complexes, qu'ils n'avaient √† l'√©poque aucune id√©e! <br></div></div><br>  Dans le processus de travail sur de nouveaux jeux, le concept d'un mouvement compos√© a √©galement √©t√© d√©velopp√©.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fanorona</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pasang ont</a> sugg√©r√© une m√©canique de jeu int√©ressante, dans laquelle un groupe de pi√®ces retir√©es du plateau devrait √™tre s√©lectionn√© par le joueur effectuant le mouvement: <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/w2/zr/xf/w2zrxfku5fs-aklwv3983gcfk4w.gif"></a> </div><br>  De plus, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fanorona</a> est l'un de ces rares jeux dans lesquels un joueur a le droit d'interrompre la cha√Æne de captures.  La premi√®re capture est obligatoire, la suivante, dans le m√™me mouvement - √† la discr√©tion du joueur.  Dans Dagaz, cette option ( <b>passe-partielle</b> ) est impl√©ment√©e en d√©pla√ßant la figure en place.  Missclick peut √™tre ici, et cela n'est apparemment pas tr√®s pratique, mais avec l'introduction du <a href="">gestionnaire de session</a> , les mouvements erron√©s peuvent maintenant √™tre annul√©s. <br><br>  Un autre d√©veloppement du sujet a √©t√© les mouvements de "tir".  Je les ai d'abord faites √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Hanga Roa</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ko Shogi</a> , mais comme il s'est av√©r√© plus tard, je me suis tromp√©!  L'impl√©mentation erron√©e n'a pas fonctionn√© sous le contr√¥le des bots (et comme je n'ai toujours pas de bots pour ces deux jeux, il n'est pas surprenant que je n'ai rien remarqu√©).  Beaucoup plus tard, quand j'ai fait des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazones</a> , j'ai r√©ussi √† localiser le probl√®me et √† le r√©soudre.  Cette id√©e a atteint son apog√©e dans un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jeu</a> invent√© par l'un de nos compatriotes en 1957. <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/7z/nv/k8/7znvk8vjkevscqukwkvl7qepw88.png"></a> </div><br>  Il existe un autre probl√®me li√© √† l'impl√©mentation de mouvements composites √† Dagaz.  Le fait est que la liste des mouvements autoris√©s, √† partir d'un √©tat de jeu sp√©cifique, est form√©e imm√©diatement - le tout.  Dans Zillions, avec ses mouvements partiels, ce n'est pas tr√®s critique, mais √† Dagaz, si la pi√®ce a la possibilit√© de ¬´tourner en place¬ª, la phase de g√©n√©ration du mouvement ne sera jamais termin√©e (il est √©vident qu'il est impossible de r√©soudre ce probl√®me avec les extensions, car il est facile de les g√©rer n'atteint pas).  Voici l'un des jeux pour lesquels cela est important: <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/jl/sl/n6/jlsln6ekdv4c_y8g4w2cdxtfjzm.png"></a> </div><br>  Ici, les pi√®ces ne sont pas retir√©es du plateau et la m√™me pi√®ce peut √™tre saut√©e plusieurs fois de suite.  La solution √©vidente est d'interdire de visiter le m√™me champ deux fois par tour, mais j'ai d√ª p√©n√©trer √† fond dans le noyau pour impl√©menter une telle v√©rification.  Cela ressemblait un peu √† la mise en ≈ìuvre de l'option de ¬´ <a href="">capture diff√©r√©e</a> ¬ª, mais comme j'ai fait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des brouillons russes</a> beaucoup plus t√¥t, cela posait beaucoup moins de probl√®mes. <br><br><div class="spoiler">  <b class="spoiler_title">Malheureusement, il existe des jeux dans lesquels m√™me de tels ch√®ques ne sont pas enregistr√©s</b> <div class="spoiler_text">  Les r√®gles du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Stapeldammen</a> (il s'agit d'une sorte de ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">piliers</a> ¬ª stipule explicitement que la m√™me pi√®ce peut √™tre touch√©e plusieurs fois par tour. La pi√®ce effectuant le mouvement revient plusieurs fois √† la m√™me position et continue la bataille, tandis qu'en ennemi il y a des chiffres dans les colonnes. Les mouvements compos√©s de Dagaz ne peuvent pas faire face √† ce probl√®me. La logique de la bataille des p√¥les est trop compliqu√©e pour le noyau, et elle n'atteindra pas les extensions, car la g√©n√©ration de la boucle est boucl√©e. Bien s√ªr, il existe une issue: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wq/dw/r0/wqdwr0nl6vz3bentua8vpdiml18.png"></div><br>  Il n'y a pas de mouvements partiels dans Dagaz, mais nous pouvons les √©muler en sautant le prochain mouvement de l'adversaire (la m√™me approche est utilis√©e dans les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©calcomanies</a> ).  Et juste cette logique est facilement impl√©ment√©e par l' <a href="">extension</a> .  Nous interdisons simplement tous les mouvements sous certaines conditions, et l'option <b>pass-turn = forc√©</b> g√©n√®re automatiquement un mouvement vide.  Voici un autre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jeu</a> avec une √©mulation similaire. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/l3/qg/ze/l3qgzeou6mpibm80fzejdzk5qp8.png"></div><br>  Diviser artificiellement les mouvements composites en mouvements partiels n'est pas tr√®s bon pour les robots IA, mais parfois, il n'y a tout simplement pas d'autre issue. <br></div></div><br>  En g√©n√©ral, le concept de compos√© fait bouger des vies et se d√©veloppe.  Plus r√©cemment, j'ai d√ª faire une autre nouvelle option ( <b>compl√®te-partielle</b> ) pour un ancien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jeu</a> √©gyptien. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ceBXdXL-aXE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  En plus de compl√©ter automatiquement le mouvement des figures le long des fl√®ches, il a √©galement d'autres solutions techniques int√©ressantes.  Mais √† ce sujet une autre fois. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459456/">https://habr.com/ru/post/fr459456/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459444/index.html">Modifications r√©centes de la pile Linux IO du point de vue DBA</a></li>
<li><a href="../fr459446/index.html">Cinq tendances effrayantes du design moderne</a></li>
<li><a href="../fr459450/index.html">La vuln√©rabilit√© du logiciel de t√©l√©conf√©rence Zoom permet √† n'importe quel site Web d'espionner les utilisateurs via webcam</a></li>
<li><a href="../fr459452/index.html">Un agro-robot avec l'IA a appris √† ramasser soigneusement uniquement la salade m√ªrie du jardin</a></li>
<li><a href="../fr459454/index.html">Comment s'est pass√© le premier hackathon √† The Standoff</a></li>
<li><a href="../fr459458/index.html">ok.tech: Explication des donn√©es # 2</a></li>
<li><a href="../fr459460/index.html">Les difficult√©s de travailler avec Redux et leur solution</a></li>
<li><a href="../fr459462/index.html">SEO pour Yandex. Recherchez tout?</a></li>
<li><a href="../fr459464/index.html">Lua √† Moscou 2019: entretien avec Roberto J√©rusalem</a></li>
<li><a href="../fr459466/index.html">Lua √† Moscou 2019: entretien avec Roberto Ierusalimschy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>