<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚴 🤸🏾 🚣🏽 Le support technique de 3CX répond - 5 règles de sécurité IP PBX 🐵 🙋🏽 🆚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les hacks des centraux téléphoniques automatiques 3CX, qui entraînent de graves conséquences, sont assez rares. Cependant, nos clients sont parfois vi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le support technique de 3CX répond - 5 règles de sécurité IP PBX</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/3cx/blog/443186/">  Les hacks des centraux téléphoniques automatiques 3CX, qui entraînent de graves conséquences, sont assez rares.  Cependant, nos clients sont parfois victimes d'escroqueries.  Comme la pratique l'a montré, cela est principalement dû à des paramètres système incorrects ou à l'utilisation de la version obsolète de 3CX.  Dans cet article, nous examinerons les erreurs les plus courantes pouvant entraîner le piratage de votre PBX et expliquerons comment les éviter. <a name="habracut"></a><br><br><h3>  Comment fonctionnent les fraudeurs par téléphone? </h3><br>  La fraude par téléphonie est assez courante - des étrangers ou un plongeur robot font des appels via votre PBX à vos frais.  Cela se produit généralement tard dans la nuit ou les jours non ouvrables.  Les appels durent le plus longtemps possible, à haute fréquence et vers les destinations internationales les plus chères.  Et à la fin du mois, vous recevez une facture de l'opérateur télécom d'un montant énorme, que vous devez payer, ou contester en justice. <br><br>  Les appels vers les destinations internationales les plus chères étaient le principal objectif des pirates informatiques au tout début du développement des échanges de logiciels.  Vous pourriez penser que ce type de fraude appartient au passé, surtout compte tenu du coût des négociations internationales.  Cependant, cela est actuellement réalisé par des groupes internationaux bien organisés qui pillent les clients et les opérateurs à l'échelle industrielle. <br><br>  Désormais, les PBX sont piratés afin de passer des milliers d'appels vers les numéros «chers» de divers services automatiques payants contrôlés par les mêmes escrocs.  Dans ce cas, l'attaquant réalise un bénéfice sous la forme d'une commission de l'opérateur pour chaque minute d'un appel payé.  Cette fraude est également appelée fraude au partage des revenus internationaux (IRSF). <br><br>  Une autre façon de gagner de l'argent illégal consiste à vendre des informations d'identification de client SIP volées sur des échanges en ligne «clandestins».  En outre, cet accès est utilisé de différentes manières - soit pour la concurrence avec les opérateurs de télécommunications légaux, grâce à laquelle il est possible de vendre des minutes beaucoup moins cher que le prix du marché, ou pour certains besoins personnels de l'acheteur. <br><br>  3CX possède plusieurs niveaux de sécurité dont les paramètres par défaut empêchent la plupart des types d'attaque connus.  Cependant, certains administrateurs système modifient ou désactivent ces paramètres sans même en réaliser les conséquences. <br><br>  Examinons les paramètres de sécurité les plus courants définis par les administrateurs 3CX. <br><br><h3>  Identifiants utilisateur faibles </h3><br>  La première erreur est les informations d'identification de compte «faibles» utilisées par les applications 3CX, les téléphones IP et les utilisateurs. <br><br>  Lorsque vous créez un utilisateur (extension) dans 3CX, des informations d'identification sécurisées sont automatiquement générées pour lui à tous les niveaux d'accès.  Il s'agit d'un mot de passe SIP complexe et d'un mot de passe de connexion de client Web, des mots de passe générés aléatoirement pour accéder à l'interface Web des téléphones IP, des codes PIN de messagerie vocale aléatoires, etc. deviner les mots de passe (également appelés attaques par force brute). <br><br>  À partir de 3CX v15.5, le système ne vous permettra pas de définir le mot de passe d'extension plus faible que requis par les règles de sécurité modernes.  Cependant, les mots de passe de compte souvent faibles sont hérités des sauvegardes des versions précédentes de 3CX.  Par conséquent, maintenant 3CX avertit l'administrateur si des numéros de poste avec des mots de passe faibles sont présents dans le système - un avertissement apparaît près de ces numéros.  Si vous passez la souris dessus, des informations supplémentaires s'affichent. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a45/d60/7c1/a45d607c16ba76b93ef3fcbd317ad14c.png"><br><br>  Soit dit en passant, nous vous déconseillons fortement de définir des mots de passe faibles à des fins de test.  En règle générale, les gens oublient de les changer et quittent le PBX «plein de trous». <br><br><h3>  Accès à distance SIP activé à l'extension </h3><br>  La deuxième erreur consiste à désactiver l'option «Refuser la connexion du réseau public» et à ne pas la réactiver lorsque l'utilisateur n'en a plus besoin. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/85b/6aa/c5d/85b6aac5d6519d065624dd17afdadf40.png"><br><br>  Cette option est incluse dans 3CX par défaut et empêche l'enregistrement de tout utilisateur en dehors de votre réseau local.  Veuillez noter que vous pouvez utiliser des applications ou le client Web 3CX sans activer l'accès à distance, car ils utilisent la technologie de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tunnel</a> pour se connecter au PBX.  Cette option ne doit être désactivée que si quelqu'un a besoin d'une connexion SIP directe pour un téléphone IP matériel. <br><br>  <b>Essayez d'éviter les connexions SIP directes à votre PBX ou autorisez-les uniquement à partir de certaines adresses IP spécifiées dans le pare-feu.</b> <br><br><h3>  Beaucoup d'appels autorisés </h3><br>  Lors de l'installation de 3CX, l'assistant de configuration initiale vous demande dans quels pays vous souhaitez autoriser les appels sortants.  La même liste de pays peut être vue (et modifiée) dans la section Paramètres - Sécurité - Codes de pays internationaux autorisés.  Seuls les pays (préfixes) où vos utilisateurs appellent réellement doivent être autorisés.  Par défaut, 3CX n'autorise que les appels vers le pays spécifié comme lieu d'échange. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3a/575/676/c3a575676fa7db66ab7d4c679b38be15.png"><br><br>  Une pratique très dangereuse est de permettre à tous les pays d'installer des centraux téléphoniques automatiques et de les limiter ultérieurement.  Habituellement, ils oublient cela, permettant à l'attaquant d'appeler dans toutes les directions dès qu'il a reçu les informations d'identification de l'utilisateur du PBX. <br><br><h3>  Règles sortantes trop lâches </h3><br>  Une autre mauvaise pratique consiste à utiliser des règles sortantes trop générales qui permettent à n'importe quel utilisateur (groupe organisationnel par défaut 3CX) d'appeler dans n'importe quelle direction autorisée.  Certains administrateurs, pour ne pas compliquer leur vie, créent pour cela une règle universelle. <br><br>  En fait, vous devez créer des règles sortantes avec les autorisations minimales nécessaires, selon le même principe selon lequel elles sont créées, par exemple, dans un pare-feu.  Répertoriez spécifiquement les préfixes, spécifiez la longueur minimale et maximale du numéro, indiquez clairement les groupes de numéros de postes autorisés à appeler dans ce sens. <br><br><h3>  Paramètres de traitement non valides E164 </h3><br>  Dans la section Paramètres - Numéros E164, le traitement des numéros est défini, dans lequel le symbole "+" au début du numéro est remplacé par l'indicatif international.  Des règles de substitution sont définies pour le pays indiqué comme lieu d'installation du central téléphonique.  Dans la plupart des pays, «+» est remplacé par 00 et pour l'Amérique par 011. La substitution est conforme aux normes de l'UIT. <br><br>  Les paramètres E164 sont importants car ils sont utilisés pour déterminer les directions interdites (préfixes) dont nous avons discuté ci-dessus.  Par exemple, si un pays bloqué est l'Albanie, 3CX analysera et bloquera les numéros commençant par 00355xxx et + 355xxx. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cef/2da/7f0/cef2da7f0b06aeaa7be3778a055d451b.png"><br><br>  Si vous avez entré de manière incorrecte le code de numérotation international pour votre pays, cela entraînera non seulement la substitution erronée "+", mais également le fonctionnement incorrect de la fonction de blocage du pays. <br><br><h3>  Nouvelles fonctionnalités de sécurité dans 3CX v16 </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3CX v16</a> ajoute deux fonctionnalités de sécurité intéressantes. <br><br>  La première consiste à restreindre l'accès par adresse IP à l'interface de gestion 3CX.  Il est configuré dans la section Paramètres - Sécurité - Restreindre l'accès à l'interface.  Par défaut, toutes les adresses IP sont autorisées, mais si la protection IP est activée, l'accès ne sera autorisé qu'à partir du réseau local et des adresses IP externes explicitement spécifiées.  Veuillez noter que cette restriction n'affecte pas le fonctionnement d'autres services Web 3CX, tels que les téléphones à réglage automatique, le client Web, etc. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/142/3b5/8ec/1423b58ec839a8952e04cb8879f8a33a.png"><br><br>  La deuxième caractéristique de sécurité est la liste noire IP globale à auto-apprentissage maintenue par 3CX.  Il est inclus dans la section Paramètres - Paramètres de sécurité - Antihacking.  Si cette option est activée, le PBX transmettra automatiquement des informations sur les activités suspectes, y compris l'adresse IP source, à notre serveur central.  Après avoir analysé l'événement, les informations sur cette adresse IP seront automatiquement transmises à tous les systèmes 3CX dans le monde qui ont également cette fonctionnalité activée.  Ainsi, le trafic suspect sera bloqué en raison de «l'intelligence collective».  Aujourd'hui, notre liste mondiale contient déjà plus de 1000 adresses IP IPv4 à partir desquelles les tentatives de scan ou de crack ont ​​été répétées de manière cohérente.  Nous vous recommandons vivement d'activer cette fonctionnalité sur votre PBX! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b67/5b3/aa0/b675b3aa03b05d6b1535af94728921a3.png"><br><br><h3>  Conclusion </h3><br>  Nous avons remarqué que le piratage du système est immédiatement précédé de plusieurs erreurs prises ensemble.  Nous n'avons pratiquement pas observé de situations où des conséquences graves ne sont survenues qu'en raison d'une erreur. <br><br>  Eh bien, si vous avez été piraté, pas de panique!  Il est très important de collecter les journaux du serveur avant de prendre des mesures radicales.  Par la suite, cela aidera à mener une enquête de qualité sur l'incident.  Pour collecter les journaux, accédez à la section Support - Créer un fichier pour le support technique.  Une archive zip sera générée, un lien vers lequel vous sera envoyé par e-mail.  Joignez ce fichier et la description de l'incident au support technique 3CX. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/149/17c/cf8/14917ccf821caade2629806edf87b1f2.png"><br><br>  Vous devez contacter le support technique si vous avez des questions raisonnables sur la sécurité 3CX ou si vous souhaitez signaler un piratage qui a déjà eu lieu.  Pour comprendre la situation et obtenir les recommandations nécessaires, ouvrez un appel dans la catégorie Sécurité - Fraude.  Ces demandes sont considérées avec la plus haute priorité.  Vous pouvez également obtenir des conseils de sécurité 3CX sur notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">forum d'utilisateurs</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443186/">https://habr.com/ru/post/fr443186/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443176/index.html">7 extensions Chrome pour apprendre l'anglais</a></li>
<li><a href="../fr443178/index.html">Crystal Blockchain Analytics: enquête sur les cas de piratage et de vol</a></li>
<li><a href="../fr443180/index.html">Crew Dragon atterrissage et capture vidéo d'un astéroïde</a></li>
<li><a href="../fr443182/index.html">Tirez YPbPr de Commodore 64</a></li>
<li><a href="../fr443184/index.html">De l'amour au contrôle d'un pas</a></li>
<li><a href="../fr443188/index.html">Trois yeux pendent sur un pilier, ou l'histoire que cinq jambes d'ATtiny13 suffisent</a></li>
<li><a href="../fr443190/index.html">Introduction aux stratégies de réseau Kubernetes pour les professionnels de la sécurité</a></li>
<li><a href="../fr443192/index.html">Méthodes privées sans traits de soulignement et interfaces en Python</a></li>
<li><a href="../fr443194/index.html">Les ingénieurs de WFIRM ont inventé une bioprinter qui imprime la peau directement sur une plaie</a></li>
<li><a href="../fr443196/index.html">Pas une minute hors ligne - Choisir un routeur LTE industriel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>