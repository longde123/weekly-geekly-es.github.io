<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯдШЁЯП╜ ЁЯЦХЁЯП┐ ЁЯСЦ рдорд╛рдБ рд░рд╛рдд рдореЗрдВ рд╢рд╛рдВрддрд┐ рд╕реЗ рд╕реЛрддреА рд╣реИ - рд╣рдо рд░рд╛рд╕реНрдкрдмрд┐рдпрди рдХреЗ рд▓рд┐рдП рдУрдкрдирд╕реАрд╡реА рдЗрдХрдЯреНрдард╛ рдХрд░рддреЗ рд╣реИрдВ ЁЯд░ ЁЯТЮ ЁЯСВЁЯП╗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд┐рдЫрд▓реЗ рдХреБрдЫ рд╣рдлрд╝реНрддреЗ рд╣рдорд╛рд░реА рдЯреАрдо рдХреЗ рд▓рд┐рдП рдореБрд╢реНрдХрд┐рд▓ рд░рд╣реЗред OpenCV 4 рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ , рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде, рдЙрдиреНрд╣реЛрдВрдиреЗ Intel рдХреЗ OpenVINO рдЯреВрд▓рдХрд┐рдЯ R4 рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░реА рдХреА , рдЬрд┐рд╕рдореЗрдВ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдорд╛рдБ рд░рд╛рдд рдореЗрдВ рд╢рд╛рдВрддрд┐ рд╕реЗ рд╕реЛрддреА рд╣реИ - рд╣рдо рд░рд╛рд╕реНрдкрдмрд┐рдпрди рдХреЗ рд▓рд┐рдП рдУрдкрдирд╕реАрд╡реА рдЗрдХрдЯреНрдард╛ рдХрд░рддреЗ рд╣реИрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430906/"><p> рдкрд┐рдЫрд▓реЗ рдХреБрдЫ рд╣рдлрд╝реНрддреЗ рд╣рдорд╛рд░реА рдЯреАрдо рдХреЗ рд▓рд┐рдП рдореБрд╢реНрдХрд┐рд▓ рд░рд╣реЗред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">OpenCV 4 рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛</a> , рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде, рдЙрдиреНрд╣реЛрдВрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Intel рдХреЗ OpenVINO рдЯреВрд▓рдХрд┐рдЯ</a> R4 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЗ</a> рд▓рд┐рдП рддреИрдпрд╛рд░реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреА</a> , рдЬрд┐рд╕рдореЗрдВ OpenCV рд╢рд╛рдорд┐рд▓ рд╣реИред  рдЖрдк рд╕реЛрдЪрддреЗ рд╣реИрдВ, рдореИрдВ рдХреБрдЫ рд╕рдордп рдХреЗ рд▓рд┐рдП рд╡рд┐рдЪрд▓рд┐рдд рд╣реЛ рдЧрдпрд╛ рд╣реВрдБ, рдореИрдВ рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣ OpenCV рдлрд╝реЛрд░рдо рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рджреЗрдЦреВрдБрдЧрд╛, рдФрд░ рдпрд╣рд╛рдБ рдпрд╣ рдХрд╣рдирд╛ рдЖрдкрдХреЗ рд▓рд┐рдП рдлреИрд╢рдиреЗрдмрд▓ рд╣реЛ рдЧрдпрд╛ рд╣реИ рдХрд┐ OpenCV IoT рдирд╣реАрдВ рд╣реИ, рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдХреЗ рддрд╣рдд рдЗрд╕реЗ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ - <code>make -j2</code> рдбрд╛рд▓рдиреЗ рдХреЗ <code>make -j2</code> рдкрд░реНрдпрд╛рдкреНрдд рдорд┐рд▓рд╛рдк рдирд╣реАрдВ рд╣реИ - рдпрджрд┐ рдЖрдк рднрд╛рдЧреНрдпрд╢рд╛рд▓реА рд╣реИрдВ рддреЛ рд╕реБрдмрд╣ рдореЗрдВ рдпрд╣ рддреИрдпрд╛рд░ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  рдЗрд╕рд▓рд┐рдП, рдореИрдВ рдПрдХ рд╕рд╛рде рд╣рд╛рде рдорд┐рд▓рд╛рдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рджреЗрдЦрддрд╛ рд╣реВрдВ рдХрд┐ рдЖрдк рдПрдХ рдПрдЖрд░рдПрдо рдкреНрд░реЛрд╕реЗрд╕рд░ рдкрд░ рдЪрд▓ рд░рд╣реЗ 32-рдмрд┐рдЯ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рдУрдкрдирд╕реАрд╡реА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рдХреИрд╕реЗ рдЗрдХрдЯреНрдард╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ 64-рдмрд┐рдЯ рдУрдПрд╕ рд╡рд╛рд▓реА рдорд╢реАрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрддреНрдХреГрд╖реНрдЯ рд╕реАрдкреАрдпреВ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <del>  рдЬрд╛рджреВ рдЯреЛрдирд╛ </del>  рдХреНрд░реЙрд╕ рд╕рдВрдХрд▓рди, рдЕрдиреНрдпрдерд╛ рдирд╣реАрдВ! </p><a name="habracut"></a><br><h2 id="postanovka-zadachi">  рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдмрдпрд╛рди </h2><br><p>  рд╕реАрдзреЗ рдмреЛрд░реНрдб рдкрд░ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдирд╛, рдЬрд┐рд╕реЗ рдЖрдорддреМрд░ рдкрд░ рджреЗрд╢реА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╢реНрд░рдорд╕рд╛рдзреНрдп рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣рдо рдПрдХ рдРрд╕реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдПрдХ рддрд░реАрдХреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗ рдЬреЛ рдЕрдкрдиреЗ рдЫреЛрдЯреЗ рд░рд┐рд╢реНрддреЗрджрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдмрд╛рдпрдиреЗрд░рд┐рдЬрд╝ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрдд рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдбрд┐рд╡рд╛рдЗрд╕ (рдЙрдиреНрд╣реЗрдВ рдореЗрдЬрдмрд╛рди рдХрд╣рддреЗ рд╣реИрдВ) рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рджреЛрдиреЛрдВ рдорд╢реАрдиреЛрдВ рдореЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕реАрдкреАрдпреВ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рдХреНрд░реЙрд╕-рд╕рдВрдХрд▓рди рд╣реИред </p><br><p>  рддреЛ, OpenCV рдХреЗ рд╕рд╛рде рднрд░рд╡рд╛рдВ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЪрд╛рд╣рд┐рдП: </p><br><ul><li>  рдЙрдмрдВрдЯреВ 16.04 рдЗрдореЗрдЬ рдбреЛрдХрд░ рд╢рд╡ </li><li>  рд╣реЛрд╕реНрдЯ рдорд╢реАрди рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╣реИ (рдЕрдиреНрдпрдерд╛, рдХреНрдпрд╛ рдмрд╛рдд рд╣реИ, рдпрд╣ рдирд╣реАрдВ рд╣реИ?) </li><li>  ARMhf рдХреЗ рд▓рд┐рдП рдХреНрд░реЙрд╕-рдХрдВрдкрд╛рдЗрд▓рд░, рд╕рд╛рде рд╣реА рд╕рдВрдмрдВрдзрд┐рдд рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рдкреБрд╕реНрддрдХрд╛рд▓рдп </li></ul><br><p>  рдУрдкрдирд╕реАрд╡реА рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреА рдкреВрд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдЬрдмрд╛рди рдорд╢реАрди рдкрд░ рд╣реЛрдЧреАред  рдореИрдВ рдШрд░ рдкрд░ рдЙрдмрдВрдЯреВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред  рд▓рд┐рдирдХреНрд╕ рдХреЗ рдПрдХ рдФрд░ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде, рдкреНрд▓реЗрдмреИрдХ рд╕рдорд╕реНрдпрд╛рдПрдВ рдирд╣реАрдВ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рд╡рд┐рдВрдбреЛрдЬ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП - рдореЗрд░реА рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ рд╣рд╛рд░ рдирд╣реАрдВ рдорд╛рдирдиреЗ рдФрд░ рдЗрд╕реЗ рдЕрдкрдиреЗ рд▓рд┐рдП рд╕рдордЭрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдирд╛ рд╣реИред </p><br><h2 id="ustanovka-docker">  рдбреЙрдХрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ </h2><br><p>  рдореИрдВрдиреЗ рд▓рдЧрднрдЧ рдПрдХ рд╕рдкреНрддрд╛рд╣ рдкрд╣рд▓реЗ рдбреЙрдХрдЯрд░ рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ рдкрд░рд┐рдЪрд┐рдд рдХреА рд╢реБрд░реБрдЖрдд рдХреА рдереА, рдЗрд╕рд▓рд┐рдП рд╕реНрд╡рд╛рдж рдХреЗ рд▓рд┐рдП рд▓реМрдХреА рдирдордХ рдФрд░ рд╕рд┐рдВрдЯреИрдХреНрдЯрд┐рдХ рдЪреАрдиреА рдорд┐рд▓рд╛рдПрдВред  рдЖрдкрдХреЗ рдФрд░ рдореЗрд░реЗ рд▓рд┐рдП рддреАрди рд╕рд╛рдордЧреНрд░рд┐рдпрд╛рдВ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИрдВ - рдбреЙрдХрд░реАрдлрд╛рдЗрд▓, рдЫрд╡рд┐ рдФрд░ рдХрдВрдЯреЗрдирд░ рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ред </p><br><p>  рдбреЙрдХрд░ рд╕реНрд╡рдпрдВ рдШрдЯрдХреЛрдВ рдХреЗ рдЖрд╡рд╢реНрдпрдХ рд╕реЗрдЯ рдХреЗ рд╕рд╛рде рдХрд┐рд╕реА рднреА рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдмрдирд╛рдиреЗ рдФрд░ рдкреБрди: рдкреЗрд╢ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЙрдкрдХрд░рдг рд╣реИред  Dockerfile рд╢реЗрд▓ рдХрдорд╛рдВрдб рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдЖрдорддреМрд░ рдкрд░ рд╣реЛрд╕реНрдЯ рдорд╢реАрди рдкрд░ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡реЗ рд╕рднреА рддрдерд╛рдХрдерд┐рдд <code>docker</code> рдЫрд╡рд┐ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддреЗ рд╣реИрдВред </p><br><p>  рдбреЙрдХрдЯрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рдмрд╕реЗ рд╕рд░рд▓ рддрд░реАрдХреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: <code>apt-get</code> delivery рд╕реЗрд╡рд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рдкреИрдХреЗрдЬ рдХрд╛ рдЖрджреЗрд╢ рджреЗрдВ: </p><br><pre> <code class="bash hljs">sudo apt-get install -y docker.io</code> </pre> <br><p>  рд╣рдо рдбреЙрдХрдЯрд░ рдбреЗрдорди рдХреЛ рд╡рд╣ рд╕рдм рдХреБрдЫ рджреЗрдВрдЧреЗ рдЬреЛ рд╡рд╣ рдкреВрдЫрддрд╛ рд╣реИ рдФрд░ рд╣рдо рд╕рд┐рд╕реНрдЯрдо рд╕реЗ рд▓реЙрдЧрдЖрдЙрдЯ рдХрд░реЗрдВрдЧреЗ (рдиреЛрдЯрд┐рд╕ рддрджрдиреБрд╕рд╛рд░ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВ)ред </p><br><pre> <code class="bash hljs">sudo usermod -a -G docker <span class="hljs-variable"><span class="hljs-variable">$USER</span></span></code> </pre> <br><h2 id="podgotavlivaem-rabochee-prostranstvo">  рдХрд╛рд░реНрдпрдХреНрд╖реЗрддреНрд░ рддреИрдпрд╛рд░ рдХрд░рдирд╛ </h2><br><p>  рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ (рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрд░рдкреАрдЖрдИ 2 рдореЙрдбрд▓ рдмреА) рд╕рдмрд╕реЗ рдЖрдо рддреИрдпрд╛рд░реА рдореЗрдВ рдПрдХ рд░рд╛рд╕реНрдкрд┐рдпрди (рдбреЗрдмрд┐рдпрди рдЖрдзрд╛рд░рд┐рдд) рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рде рдПрдХ рдПрдЖрд░рдПрдорд╡реА 7 рд╕реАрдкреАрдпреВ рд╣реИред  рд╣рдо рдЙрдмрдВрдЯреВ 16.04 рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдПрдХ <code>docker</code> рдЫрд╡рд┐ рдмрдирд╛рдПрдВрдЧреЗ, рдЬрд┐рд╕рдореЗрдВ рд╣рдо рдХреНрд░реЙрд╕-рдХрдВрдкрд╛рдЗрд▓рд░, рд╕реЗрдирд╛ рдХреЗ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВрдЧреЗ рдФрд░ рдУрдкрдирд╕реАрд╡реА рдХреЛ рдЙрд╕реА рд╕реНрдерд╛рди рдкрд░ рдПрдХрддреНрд░ рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдПрдХ рдбреИрдбреА рдмрдирд╛рдПрдБ рдЬрд╣рд╛рдБ рд╣рдорд╛рд░рд╛ <code>Dockerfile</code> рдЭреВрда рд╣реЛрдЧрд╛: </p><br><pre> <code class="bash hljs">mkdir ubuntu16_armhf_opencv &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ubuntu16_armhf_opencv touch Dockerfile</code> </pre> <br><p>  <code>armhf</code> <code>apt-get</code> package рдЗрдВрд╕реНрдЯреЙрд▓рд░ рдХреЗ рд▓рд┐рдП рдЖрдзрд╛рд░ OS рдФрд░ <code>armhf</code> рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдЬреЛрдбрд╝реЗрдВ: </p><br><pre> <code class="plaintext hljs">FROM ubuntu:16.04 USER root RUN dpkg --add-architecture armhf RUN apt-get update</code> </pre> <br><p>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ <code>FROM ...</code> , <code>RUN ...</code> рдЬреИрд╕реЗ рдХрдорд╛рдВрдб <code>Dockerfile</code> рд╕рд┐рдВрдЯреИрдХреНрд╕ рд╣реИрдВ рдФрд░ рдпреЗ <code>Dockerfile</code> рдЯреЗрд╕реНрдЯ рдлрд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рд╣реИрдВред </p><br><p>  рдЖрдЗрдП рдореВрд▓ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ <code>ubuntu16_armhf_opencv</code> рд╡рд╛рдкрд╕ <code>ubuntu16_armhf_opencv</code> рдФрд░ рд╣рдорд╛рд░реА <code>ubuntu16_armhf_opencv</code> рдЫрд╡рд┐ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ: </p><br><pre> <code class="bash hljs">docker image build ubuntu16_armhf_opencv</code> </pre> <br><p>  <code>apt-get update</code> рдХрдорд╛рдВрдб рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рджреМрд░рд╛рди, рдЖрдкрдХреЛ рдирд┐рдореНрди рдкреНрд░рдХрд╛рд░ рдХреА рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдиреЗрддреГрддреНрд╡ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: <code>Err:[] [url] xenial[-] armhf Packages</code> </p><br><pre> <code class="bash hljs">Ign:30 http://archive.ubuntu.com/ubuntu xenial-backports/main armhf Packages Ign:32 http://archive.ubuntu.com/ubuntu xenial-backports/universe armhf Packages Err:7 http://archive.ubuntu.com/ubuntu xenial/main armhf Packages 404 Not Found Ign:9 http://archive.ubuntu.com/ubuntu xenial/restricted armhf Packages Ign:18 http://archive.ubuntu.com/ubuntu xenial/universe armhf Packages Ign:20 http://archive.ubuntu.com/ubuntu xenial/multiverse armhf Packages Err:22 http://archive.ubuntu.com/ubuntu xenial-updates/main armhf Packages 404 Not Found Ign:24 http://archive.ubuntu.com/ubuntu xenial-updates/restricted armhf Packages Ign:26 http://archive.ubuntu.com/ubuntu xenial-updates/universe armhf Packages Ign:28 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse armhf Packages Err:30 http://archive.ubuntu.com/ubuntu xenial-backports/main armhf Packages 404 Not Found Ign:32 http://archive.ubuntu.com/ubuntu xenial-backports/universe armhf Packages</code> </pre> <br><p>  рдпрджрд┐ рдЖрдк рдлрд╝рд╛рдЗрд▓ <code>/etc/apt/sources.list</code> рддреЛ рдРрд╕реА рдкреНрд░рддреНрдпреЗрдХ рддреНрд░реБрдЯрд┐ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХреБрдЫ рдкрдВрдХреНрддрд┐ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ: </p><br><p>  <strong>рддреНрд░реБрдЯрд┐</strong> </p><br><pre> <code class="plaintext hljs">Err:22 http://archive.ubuntu.com/ubuntu xenial-updates/main armhf Packages 404 Not Found</code> </pre> <br><p>  <strong>/Etc/apt/source.list рдореЗрдВ рдкрдВрдХреНрддрд┐</strong> : </p><br><pre> <code class="plaintext hljs">deb http://archive.ubuntu.com/ubuntu/ xenial-updates main restricted</code> </pre> <br><p>  <strong>рд╕рдорд╛рдзрд╛рди</strong> : <br>  рджреЛ рдореЗрдВ рддреЛрдбрд╝: </p><br><pre> <code class="plaintext hljs">deb [arch=amd64] http://archive.ubuntu.com/ubuntu/ xenial-updates main restricted deb [arch=armhf] http://ports.ubuntu.com/ubuntu-ports/ xenial-updates main restricted</code> </pre> <br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЖрдкрдХреЛ рдХрдИ рдкреИрдХреЗрдЬ рд╕реНрд░реЛрддреЛрдВ рдХреЛ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред  рд╣рдорд╛рд░реЗ рдбреЙрдХрдЯрд░ рдореЗрдВ, рд╣рдо рдЙрди рд╕рднреА рдХреЛ рдПрдХ рдХрдорд╛рдВрдб рд╕реЗ рдмрджрд▓реЗрдВрдЧреЗ: </p><br><pre> <code class="plaintext hljs">RUN sed -i -E 's|^deb ([^ ]+) (.*)$|deb [arch=amd64] \1 \2\ndeb [arch=armhf] http://ports.ubuntu.com/ubuntu-ports/ \2|' /etc/apt/sources.list</code> </pre> <br><p>  рдЕрдм <code>apt-get update</code> рдмрд┐рдирд╛ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><h2 id="stavim-neobhodimye-pakety">  рд╣рдо рдЖрд╡рд╢реНрдпрдХ рдкреИрдХреЗрдЬ рдбрд╛рд▓рддреЗ рд╣реИрдВ </h2><br><p>  рд╣рдореЗрдВ <code>git</code> , <code>python-pip</code> , <code>cmake</code> рдФрд░ <code>pkg-config</code> , рд╕рд╛рде рд╣реА <code>crossbuild-essential-armhf</code> рдЬреИрд╕реЗ рд╣реЛрд╕реНрдЯ рдкреИрдХреЗрдЬреЛрдВ рдХреА рдЖрдкреВрд░реНрддрд┐ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬреЛ gcc / g ++ рдХреНрд░реЙрд╕-рдХрдВрдкрд╛рдЗрд▓рд░ ( <code>arm-linux-gnueabihf-gcc</code> рдФрд░ <code>arm-linux-gnueabihf-g++</code> рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реИ <code>arm-linux-gnueabihf-g++</code> ) рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд╕рд┐рд╕реНрдЯрдо рд▓рд╛рдЗрдмреНрд░реЗрд░реА: </p><br><pre> <code class="plaintext hljs">RUN apt-get install -y git python-pip cmake pkg-config crossbuild-essential-armhf</code> </pre> <br><p>  рдЕрд╕рд╛рдорд╛рдиреНрдп рд╕реЗ - рд╣рдо GTK (рд╣рд╛рдИрдЧреБрдИ рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рдЦрд┐рдбрд╝рдХрд┐рдпрд╛рдВ рдЦреАрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рднреА), GStreamer рдФрд░ рдкрд╛рдпрдерди рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдПрдХ рд╡рд┐рджреЗрд╢реА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рд╕реНрдкрд╖реНрдЯ рд╕рдВрдХреЗрдд рдХреЗ рд╕рд╛рде: </p><br><pre> <code class="plaintext hljs">RUN apt-get install -y --no-install-recommends \ libgtk2.0-dev:armhf \ libpython-dev:armhf \ libgstreamer1.0-dev:armhf \ libgstreamer-plugins-base1.0-dev:armhf \ libgstreamer-plugins-good1.0-dev:armhf \ libgstreamer-plugins-bad1.0-dev:armhf</code> </pre> <br><p>  рдФрд░ рдлрд┐рд░ рд╣рдо рдХреНрд▓реЛрди рдФрд░ рдЗрдХрдЯреНрдард╛ рдХрд░рддреЗ рд╣реИрдВ, рдЖрд╡рд╢реНрдпрдХ рдЭрдВрдбреЗ рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">RUN git clone https://github.com/opencv/opencv --depth 1 RUN mkdir opencv/build &amp;&amp; cd opencv/build &amp;&amp; \ export PKG_CONFIG_PATH=/usr/lib/arm-linux-gnueabihf/pkgconfig &amp;&amp; \ cmake -DCMAKE_BUILD_TYPE=Release \ -DOPENCV_CONFIG_INSTALL_PATH="cmake" \ -DCMAKE_TOOLCHAIN_FILE="../opencv/platforms/linux/arm-gnueabi.toolchain.cmake" \ -DWITH_IPP=OFF \ -DBUILD_TESTS=OFF \ -DBUILD_PERF_TESTS=OFF \ -DOPENCV_ENABLE_PKG_CONFIG=ON \ -DPYTHON2_INCLUDE_PATH="/usr/include/python2.7" \ -DPYTHON2_NUMPY_INCLUDE_DIRS="/usr/local/lib/python2.7/dist-packages/numpy/core/include" \ -DENABLE_NEON=ON \ -DCPU_BASELINE="NEON" ..</code> </pre> <br><p>  рдЬрд╣рд╛рдБ </p><br><ul><li><p>  <code>CMAKE_TOOLCHAIN_FILE</code> - рдХреНрд░реЙрд╕-рд╕рдВрдХрд▓рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реА cmake рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдкрде (рд╡рд╛рдВрдЫрд┐рдд рд╕рдВрдХрд▓рдХ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ, рдореЗрдЬрдмрд╛рди рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рддрд╛ рд╣реИред </p><br></li><li><p>  <code>WITH_IPP=OFF</code> , - рднрд╛рд░реА рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░реЗрдВред </p><br></li><li><p>  <code>BUILD_TESTS=OFF</code> , <code>BUILD_PERF_TESTS=OFF</code> , рдЯреЗрд╕реНрдЯ рдмрд┐рд▓реНрдб рдХреЛ рдЕрдХреНрд╖рдо рдХрд░реЗрдВред </p><br></li><li><p>  <code>OPENCV_ENABLE_PKG_CONFIG=ON</code> - рддрд╛рдХрд┐ pkg-config GTK рдЬреИрд╕реА рдирд┐рд░реНрднрд░рддрд╛ рдкрд╛ рд╕рдХреЗред  <code>PKG_CONFIG_PATH</code> рд╕рд╣реА рд░рд╛рд╕реНрддрд╛ рд╣реИ рдЬрд╣рд╛рдБ <code>pkg-config</code> рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рд▓рд┐рдП рджрд┐рдЦреЗрдЧрд╛ред </p><br></li><li><p>  <code>PYTHON2_INCLUDE_PATH</code> , <code>PYTHON2_NUMPY_INCLUDE_DIRS</code> - <code>PYTHON2_NUMPY_INCLUDE_DIRS</code> рд▓рд┐рдП рдХреНрд░реЙрд╕-рд╕рдВрдХрд▓рди рдЖрд╡рд░рдг рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдкрдеред </p><br></li><li><p>  <code>ENABLE_NEON=ON</code> , <code>CPU_BASELINE="NEON"</code> - NEON рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рд╕рдХреНрд╖рдо рдХрд░реЗрдВред </p><br></li><li><p>  <code>OPENCV_CONFIG_INSTALL_PATH</code> - <code>install</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕реНрдерд╛рди рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рддрд╛ рд╣реИред </p><br></li></ul><br><p>  <code>cmake</code> рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рдмрд╛рдж рдЖрдкрдХреЛ рдореБрдЦреНрдп рдмрд╛рдд рдкрд░ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдореЙрдбреНрдпреВрд▓ рдЗрдХрдЯреНрдареЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <code>cmake</code> ): </p><br><pre> <code class="plaintext hljs">-- OpenCV modules: -- To be built: calib3d core dnn features2d flann gapi highgui imgcodecs imgproc java_bindings_generator ml objdetect photo python2 python_bindings_generator stitching ts video videoio -- Disabled: world -- Disabled by dependency: - -- Unavailable: java js python3 -- Applications: tests perf_tests apps -- Documentation: NO -- Non-free algorithms: NO</code> </pre> <br><p>  рдФрд░ рдЖрд╡рд╢реНрдпрдХ рдирд┐рд░реНрднрд░рддрд╛рдПрдВ, рдЬреИрд╕реЗ рдЬреАрдЯреАрдХреЗ, рдкрд╛рдИ рдЧрдИрдВ: </p><br><pre> <code class="plaintext hljs">-- GUI: -- GTK+: YES (ver 2.24.30) -- GThread : YES (ver 2.48.2) -- GtkGlExt: NO -- -- Video I/O: -- GStreamer: -- base: YES (ver 1.8.3) -- video: YES (ver 1.8.3) -- app: YES (ver 1.8.3) -- riff: YES (ver 1.8.3) -- pbutils: YES (ver 1.8.3) -- v4l/v4l2: linux/videodev2.h</code> </pre> <br><p>  рдЬреЛ рдХреБрдЫ рднреА рд╢реЗрд╖ рд╣реИ рдЙрд╕реЗ рдХреЙрд▓ <code>make</code> , <code>make install</code> рдХрд░рдирд╛ рдФрд░ рдмрд┐рд▓реНрдб рдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдирд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">Successfully built 4dae6b1a7d32</code> </pre> <br><p>  рдХрдВрдЯреЗрдирд░ рдХреЛ рдЯреИрдЧ рдХрд░рдиреЗ рдФрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдЫрд╡рд┐ <code>id</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">docker tag 4dae6b1a7d32 ubuntu16_armhf_opencv:latest docker run ubuntu16_armhf_opencv</code> </pre> <br><p>  рдФрд░ рд╣рдореЗрдВ рдмрд╕ рдХрдВрдЯреЗрдирд░ рдХреЗ рдмрд╛рд╣рд░ рдЗрдХрдЯреНрдареЗ рдУрдкрдирд╕реАрд╡реА рдХреЛ рдкрдВрдк рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдЗрдП рдмрдирд╛рдП рдЧрдП рдХрдВрдЯреЗрдирд░ рдХреЗ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдХреЛ рджреЗрдЦреЗрдВ: </p><br><pre> <code class="plaintext hljs">$ docker container ls --all CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e94667fe60d2 ubuntu16_armhf_opencv "/bin/bash" 6 seconds ago Exited (0) 5 seconds ago clever_yalow</code> </pre> <br><p>  рдФрд░ OpenCV рд╕реНрдерд╛рдкрд┐рдд рдХреЗ рд╕рд╛рде рд╕реНрдерд╛рдкрд┐рдд рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдПрдБ: </p><br><pre> <code class="plaintext hljs">docker cp e94667fe60d2:/opencv/build/install/ ./ mv install ocv_install</code> </pre> <br><h2 id="nakryvaem-na-stol">  рдЯреЗрдмрд▓ рд╕реЗрдЯ рдХрд░реЗрдВ </h2><br><p>  рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдХреЛ <code>ocv_install</code> рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдПрдБ, рдкрде рд╕реЗрдЯ рдХрд░реЗрдВ рдФрд░ рдЕрдЬрдЧрд░ рд╕реЗ OpenCV рдЪрд▓рд╛рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред </p><br><pre> <code class="plaintext hljs">export LD_LIBRARY_PATH=/path/to/ocv_install/lib/:$LD_LIBRARY_PATH export PYTHONPATH=/path/to/ocv_install/python/:$PYTHONPATH</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Https://github.com/chuanqi305/MobileNet-SSD</a> : рд╕реЗ MobileNet-SSD рдиреНрдпреВрд░рд▓ рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдЪрд▓рд╛рдПрдБ: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> cv <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> cv.__file__ classes = [<span class="hljs-string"><span class="hljs-string">'backgroud'</span></span>, <span class="hljs-string"><span class="hljs-string">'aeroplane'</span></span>, <span class="hljs-string"><span class="hljs-string">'bicycle'</span></span>, <span class="hljs-string"><span class="hljs-string">'bird'</span></span>, <span class="hljs-string"><span class="hljs-string">'boat'</span></span>, <span class="hljs-string"><span class="hljs-string">'bottle'</span></span>, <span class="hljs-string"><span class="hljs-string">'bus'</span></span>, <span class="hljs-string"><span class="hljs-string">'car'</span></span>, <span class="hljs-string"><span class="hljs-string">'cat'</span></span>, <span class="hljs-string"><span class="hljs-string">'chair'</span></span>, <span class="hljs-string"><span class="hljs-string">'cow'</span></span>, <span class="hljs-string"><span class="hljs-string">'diningtable'</span></span>, <span class="hljs-string"><span class="hljs-string">'dog'</span></span>, <span class="hljs-string"><span class="hljs-string">'horse'</span></span>, <span class="hljs-string"><span class="hljs-string">'motorbike'</span></span>, <span class="hljs-string"><span class="hljs-string">'person'</span></span>, <span class="hljs-string"><span class="hljs-string">'pottedplant'</span></span>, <span class="hljs-string"><span class="hljs-string">'sheep'</span></span>, <span class="hljs-string"><span class="hljs-string">'sofa'</span></span>, <span class="hljs-string"><span class="hljs-string">'train'</span></span>, <span class="hljs-string"><span class="hljs-string">'tvmonitor'</span></span>] cap = cv.VideoCapture(<span class="hljs-number"><span class="hljs-number">0</span></span>) net = cv.dnn.readNet(<span class="hljs-string"><span class="hljs-string">'MobileNetSSD_deploy.caffemodel'</span></span>, <span class="hljs-string"><span class="hljs-string">'MobileNetSSD_deploy.prototxt'</span></span>) cv.namedWindow(<span class="hljs-string"><span class="hljs-string">'Object detection'</span></span>, cv.WINDOW_NORMAL) <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> cv.waitKey(<span class="hljs-number"><span class="hljs-number">1</span></span>) != <span class="hljs-number"><span class="hljs-number">27</span></span>: hasFrame, frame = cap.read() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> hasFrame: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> frame_height, frame_width = frame.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>], frame.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>] blob = cv.dnn.blobFromImage(frame, scalefactor=<span class="hljs-number"><span class="hljs-number">0.007843</span></span>, size=(<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">300</span></span>), mean=(<span class="hljs-number"><span class="hljs-number">127.5</span></span>, <span class="hljs-number"><span class="hljs-number">127.5</span></span>, <span class="hljs-number"><span class="hljs-number">127.5</span></span>)) net.setInput(blob) out = net.forward() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> detection <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> out.reshape(<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>): classId = int(detection[<span class="hljs-number"><span class="hljs-number">1</span></span>]) confidence = float(detection[<span class="hljs-number"><span class="hljs-number">2</span></span>]) xmin = int(detection[<span class="hljs-number"><span class="hljs-number">3</span></span>] * frame_width) ymin = int(detection[<span class="hljs-number"><span class="hljs-number">4</span></span>] * frame_height) xmax = int(detection[<span class="hljs-number"><span class="hljs-number">5</span></span>] * frame_width) ymax = int(detection[<span class="hljs-number"><span class="hljs-number">6</span></span>] * frame_height) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> confidence &gt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>: cv.rectangle(frame, (xmin, ymin), (xmax, ymax), color=(<span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>), thickness=<span class="hljs-number"><span class="hljs-number">3</span></span>) label = <span class="hljs-string"><span class="hljs-string">'%s: %.2f'</span></span> % (classes[classId], confidence) labelSize, baseLine = cv.getTextSize(label, cv.FONT_HERSHEY_SIMPLEX, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) ymin = max(ymin, labelSize[<span class="hljs-number"><span class="hljs-number">1</span></span>]) cv.rectangle(frame, (xmin, ymin - labelSize[<span class="hljs-number"><span class="hljs-number">1</span></span>]), (xmin + labelSize[<span class="hljs-number"><span class="hljs-number">0</span></span>], ymin + baseLine), (<span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>), cv.FILLED) cv.putText(frame, label, (xmin, ymin), cv.FONT_HERSHEY_SIMPLEX, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)) cv.imshow(<span class="hljs-string"><span class="hljs-string">'Object detection'</span></span>, frame)</code> </pre> <br><p><img src="https://habrastorage.org/webt/1h/sd/0m/1hsd0mmmse6gslxx169tw4lc2wu.png"></p><br><p>  рдпрд╣ рд╕рдм, рдПрдХ рдкреВрд░реНрдг рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдореЗрдВ 20 рдорд┐рдирдЯ рд╕реЗ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд▓рдЧрддрд╛ рд╣реИред  рдореИрдВ рдиреАрдЪреЗ <code>Dockerfile</code> рдХреЗ рдЕрдВрддрд┐рдо рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╕рдВрд▓рдЧреНрди рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рдЗрд╕ рдЕрд╡рд╕рд░ рдХреЛ рд▓реЗрддреЗ рд╣реБрдП, рдореИрдВ <code>Dockerfile</code> рдЯреАрдо рд╕реЗ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рдШреБ рд╕рд░реНрд╡реЗрдХреНрд╖рдг рд▓реЗрдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рдХрд░рддрд╛ рд╣реВрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рдПрдХ рдмрд╛рд░ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд╕рд╛рде рдЕрдиреБрднрд╡ рдерд╛: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://opencv.org/survey-2018.html</a> ред </p><br><p>  рдФрд░ рд╣рд╛рдБ, OpenCV 4 рдХреЛ рдмрдзрд╛рдИ!  рдпрд╣ рд╕рд┐рд░реНрдл рдПрдХ рдЕрд▓рдЧ рдЯреАрдо рдХрд╛ рдХрд╛рдо рдирд╣реАрдВ рд╣реИ, рдпрд╣ рдкреВрд░реЗ рд╕рдореБрджрд╛рдп рдХрд╛ рдХрд╛рдо рд╣реИ - OpenCV 4 рдЖрдкред </p><br><pre> <code class="plaintext hljs">FROM ubuntu:16.04 USER root RUN dpkg --add-architecture armhf RUN sed -i -E 's|^deb ([^ ]+) (.*)$|deb [arch=amd64] \1 \2\ndeb [arch=armhf] http://ports.ubuntu.com/ubuntu-ports/ \2|' /etc/apt/sources.list RUN apt-get update &amp;&amp; \ apt-get install -y --no-install-recommends \ cmake \ pkg-config \ crossbuild-essential-armhf \ git \ python-pip \ libgtk2.0-dev:armhf \ libpython-dev:armhf \ libgstreamer1.0-dev:armhf \ libgstreamer-plugins-base1.0-dev:armhf \ libgstreamer-plugins-good1.0-dev:armhf \ libgstreamer-plugins-bad1.0-dev:armhf RUN pip install numpy==1.12.1 RUN git clone https://github.com/opencv/opencv --depth 1 RUN mkdir opencv/build &amp;&amp; cd opencv/build &amp;&amp; \ export PKG_CONFIG_PATH=/usr/lib/arm-linux-gnueabihf/pkgconfig &amp;&amp; \ cmake -DCMAKE_BUILD_TYPE=Release \ -DOPENCV_CONFIG_INSTALL_PATH="cmake" \ -DCMAKE_TOOLCHAIN_FILE="../opencv/platforms/linux/arm-gnueabi.toolchain.cmake" \ -DWITH_IPP=OFF \ -DBUILD_TESTS=OFF \ -DBUILD_PERF_TESTS=OFF \ -DOPENCV_ENABLE_PKG_CONFIG=ON \ -DPYTHON2_INCLUDE_PATH="/usr/include/python2.7" \ -DPYTHON2_NUMPY_INCLUDE_DIRS="/usr/local/lib/python2.7/dist-packages/numpy/core/include" \ -DENABLE_NEON=ON \ -DCPU_BASELINE="NEON" .. &amp;&amp; make -j4 &amp;&amp; make install</code> </pre> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi430906/">https://habr.com/ru/post/hi430906/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi430892/index.html">рдореЛрдмрд╛рдЗрд▓ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдореЗрдВ рдХреНрд░реЙрд╕-рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдФрд░ рджреЗрд╢реА рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рд╕рдВрдпреЛрдЬрди</a></li>
<li><a href="../hi430894/index.html">рд╕реНрдерд┐рддрд┐: рдмреНрд░рд╛рдВрдб рдкреЙрдбрдХрд╛рд╕реНрдЯ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрди рдкрд░ рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рдкреИрд╕рд╛ рдЦрд░реНрдЪ рдХрд░ рд░рд╣реЗ рд╣реИрдВ - рд╣рдо рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпреЛрдВ</a></li>
<li><a href="../hi430896/index.html">рд▓рд┐рдирдХреНрд╕ рдлрд╛рдЙрдВрдбреЗрд╢рди рдиреЗ рдЧреНрд░рд╛рдлрдХреЙрд▓ рдФрд░ рд╕реЗрдл рдХреЗ рд▓рд┐рдП рдзрди рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреА рд╣реИ - рдЙрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ рдФрд░ рдЙрдирд╕реЗ рдХреНрдпрд╛ рдЙрдореНрдореАрдж рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП</a></li>
<li><a href="../hi430900/index.html">рдЗрддрд┐рд╣рд╛рд╕ рдореЗрдВ рдкрд╣рд▓рд╛ рд▓реЗрдЬрд░: рдпрд╣ рдХреНрдпрд╛ рдерд╛</a></li>
<li><a href="../hi430902/index.html">рд╕реНрдореГрддрд┐ рдореЗрдВ рдХрд▓реНрдкрд┐рддред рд▓рд┐рдирдХреНрд╕ рд░реИрдо рдореЗрдВ рдИрдПрд▓рдПрдл рдЪрд▓рд╛рдирд╛</a></li>
<li><a href="../hi430908/index.html">рдкрд╛рд╡рд░ рдХрдиреНрд╡рд░реНрдЯрд░ рдХрдВрдЯреНрд░реЛрд▓ рдореЙрдбреНрдпреВрд▓: рд╡рд┐рдХрд╛рд╕ рдФрд░ рд╕рдВрдпреЛрдЬрди</a></li>
<li><a href="../hi430910/index.html">рдлреБрд▓рдмреНрд░рд╛рдЗрдЯ рдЫрд╛рддреНрд░рд╡реГрддреНрддрд┐: рдХреИрд╕реЗ рдФрд░ рдХреНрдпреЛрдВ?</a></li>
<li><a href="../hi430912/index.html">рд╣рдо рд╕рд╛рдл рдкрд╛рдиреА рдХреЗ рд▓рд┐рдП рдЭреВрда рд▓рд╛рддреЗ рд╣реИрдВ: рдПрдХ рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░ рдПрдХ рд░реЛрдЬрдЧрд╛рд░ рд╕рдВрдмрдВрдз рдирд╣реАрдВ рд╣реИред рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ</a></li>
<li><a href="../hi430914/index.html">рд╡реНрдпрдХреНрддрд┐рдЧрдд рдбреЗрдЯрд╛ рдФрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рддреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рд▓реЗ рдмрд╛рдЬрд╛рд░ рдХреА рдХреАрдорддреЛрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi430916/index.html">рдХрд╛рд░реНрдмрди рдбрд╛рдЗрдСрдХреНрд╕рд╛рдЗрдб рдбрд┐рдЯреЗрдХреНрдЯрд░ MT8057Sред рдЧреИрд░-рдПрдореНрдпреВрд▓реЗрдЯрд░ рдХреА рднрд╛рдЧреАрджрд╛рд░реА рдХреЗ рд╕рд╛рде рдЧреИрд░-рд╕рдореАрдХреНрд╖рд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>