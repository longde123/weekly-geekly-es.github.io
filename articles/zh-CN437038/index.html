<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â™‚ï¸ ğŸ‘½ ğŸšŸ æœ¬æ°æ˜Â·æ¸©ç‰¹è´æ ¼Stream APIæŒ‡å—ç¿»è¯‘ ğŸ‘¨ğŸ¾â€ğŸ”§ ğŸ‘¨ğŸ¿â€ğŸ¨ ğŸ§‘ğŸ¾â€ğŸ¤â€ğŸ§‘ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼ æˆ‘å‘æ‚¨æä¾›æ–‡ç« â€œ Java 8 Stream Tutorial â€çš„ç¿»è¯‘ã€‚ 

 æœ¬æ•™ç¨‹åŸºäºä»£ç ç¤ºä¾‹ï¼Œå¯¹Java 8ä¸­çš„æµè¿›è¡Œäº†å…¨é¢çš„æ¦‚è¿°ã€‚å½“æˆ‘é¦–æ¬¡å¼•å…¥Stream APIæ—¶ï¼Œæˆ‘å¯¹è¿™ä¸ªåç§°æ„Ÿåˆ°å›°æƒ‘ï¼Œå› ä¸ºå®ƒä¸java.ioåŒ…ä¸­çš„InputStreamå’ŒOutputStreaméå¸¸ä¸€è‡´ã€‚ ä½†æ˜¯...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æœ¬æ°æ˜Â·æ¸©ç‰¹è´æ ¼Stream APIæŒ‡å—ç¿»è¯‘</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437038/"> å“ˆHaï¼ æˆ‘å‘æ‚¨æä¾›æ–‡ç« â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Java 8 Stream Tutorial</a> â€çš„ç¿»è¯‘ã€‚ <br><br> æœ¬æ•™ç¨‹åŸºäºä»£ç ç¤ºä¾‹ï¼Œå¯¹Java 8ä¸­çš„æµè¿›è¡Œäº†å…¨é¢çš„æ¦‚è¿°ã€‚å½“æˆ‘é¦–æ¬¡å¼•å…¥Stream APIæ—¶ï¼Œæˆ‘å¯¹è¿™ä¸ªåç§°æ„Ÿåˆ°å›°æƒ‘ï¼Œå› ä¸ºå®ƒä¸java.ioåŒ…ä¸­çš„InputStreamå’ŒOutputStreaméå¸¸ä¸€è‡´ã€‚ ä½†æ˜¯ï¼ŒJava 8ä¸­çš„çº¿ç¨‹å®Œå…¨ä¸åŒã€‚ <a name="habracut"></a> çº¿ç¨‹æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">monad</a> ï¼Œå®ƒä»¬åœ¨Javaå‡½æ•°ç¼–ç¨‹çš„å¼€å‘ä¸­èµ·ç€é‡è¦ä½œç”¨ã€‚ <br><blockquote> åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œmonadæ˜¯ä¸€ç§ç»“æ„ï¼Œä»¥ä¸€ç³»åˆ—è¿ç»­æ­¥éª¤çš„å½¢å¼è¡¨ç¤ºè®¡ç®—ã€‚  monadçš„ç±»å‹å’Œç»“æ„å†³å®šäº†æ“ä½œé“¾ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ˜¯å…·æœ‰ç»™å®šç±»å‹çš„å†…ç½®å‡½æ•°çš„æ–¹æ³•åºåˆ—ã€‚ </blockquote> æœ¬æ•™ç¨‹å°†æ•™æ‚¨å¦‚ä½•ä½¿ç”¨æµï¼Œå¹¶å±•ç¤ºå¦‚ä½•å¤„ç†Stream APIä¸­å¯ç”¨çš„å„ç§æ–¹æ³•ã€‚ æˆ‘ä»¬å°†åˆ†ææ“ä½œé¡ºåºï¼Œå¹¶æŸ¥çœ‹é“¾ä¸­æ–¹æ³•çš„é¡ºåºå¦‚ä½•å½±å“æ€§èƒ½ã€‚  <code>flatMap</code>å¼ºå¤§çš„Stream APIæ–¹æ³•ï¼Œä¾‹å¦‚<code>reduce</code> ï¼Œ <code>collect</code>å’Œ<code>flatMap</code> ã€‚ åœ¨æœ¬æ‰‹å†Œçš„æœ€åï¼Œæˆ‘ä»¬å°†æ³¨æ„æµçš„å¹¶è¡Œå·¥ä½œã€‚ <br><br> å¦‚æœæ‚¨ä¸æ„¿æ„éšæ„ä½¿ç”¨lambdaè¡¨è¾¾å¼ï¼Œå‡½æ•°æ¥å£å’Œå¼•ç”¨æ–¹æ³•ï¼Œé‚£ä¹ˆç†Ÿæ‚‰<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æˆ‘çš„Java 8åˆ›æ–°æŒ‡å—</a> ï¼ˆHabrÃ©çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¿»è¯‘</a> ï¼‰å¯¹æ‚¨å¾ˆæœ‰ç”¨ï¼Œç„¶åå†å›åˆ°ç ”ç©¶æµç¨‹ä¸­ã€‚ <br><br><h3> çº¿ç¨‹å¦‚ä½•å·¥ä½œ </h3><br> æµä»£è¡¨ä¸€ç³»åˆ—å…ƒç´ ï¼Œå¹¶æä¾›äº†ç”¨äºå¯¹è¿™äº›å…ƒç´ æ‰§è¡Œè®¡ç®—çš„å„ç§æ–¹æ³•ï¼š <br><br><pre> <code class="java hljs">List&lt;String&gt; myList = Arrays.asList(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"c2"</span></span>, <span class="hljs-string"><span class="hljs-string">"c1"</span></span>); myList .stream() .filter(s -&gt; s.startsWith(<span class="hljs-string"><span class="hljs-string">"c"</span></span>)) .map(String::toUpperCase) .sorted() .forEach(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// C1 // C2</span></span></code> </pre> <br> æµçš„æ–¹æ³•æ˜¯<i>ä¸­é—´</i> ï¼ˆä¸­é—´ï¼‰å’Œ<i>ç»ˆç«¯</i> ï¼ˆç»ˆç«¯ï¼‰ã€‚ ä¸­é—´æ–¹æ³•è¿”å›ä¸€ä¸ªæµï¼Œè¯¥æµå…è®¸é¡ºåºè°ƒç”¨è¿™äº›æ–¹æ³•ä¸­çš„è®¸å¤šæ–¹æ³•ã€‚ ç»ˆç«¯æ–¹æ³•è¦ä¹ˆä¸è¿”å›å€¼ï¼ˆæ— æ•ˆï¼‰ï¼Œè¦ä¹ˆä¸è¿”å›æµä»¥å¤–çš„ç±»å‹çš„ç»“æœã€‚ åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ <code>filter</code> ï¼Œ <code>map</code>å’Œ<code>sorted</code>æ˜¯ä¸­é—´<code>sorted</code> ï¼Œ <code>forEach</code>æ˜¯ç»ˆç«¯æ–¹æ³•ã€‚ æœ‰å…³å¯ç”¨æµç¨‹æ–¹æ³•çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚è§<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡æ¡£</a> ã€‚ è¿™æ ·çš„æµæ“ä½œé“¾ä¹Ÿç§°ä¸ºæ“ä½œæµæ°´çº¿ã€‚ <br><br>  Stream APIä¸­çš„å¤§å¤šæ•°æ–¹æ³•éƒ½å°†lambdaè¡¨è¾¾å¼ä½œä¸ºå‚æ•°æ¥å—ï¼Œlambdaè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæè¿°è¯¥æ–¹æ³•ç‰¹å®šè¡Œä¸ºçš„åŠŸèƒ½æ¥å£ã€‚ å®ƒä»¬ä¸­çš„å¤§å¤šæ•°å¿…é¡»åŒæ—¶æ˜¯æ— å¹²æ‰°çš„å’Œæ— çŠ¶æ€çš„ã€‚ è¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ <br><br> å¦‚æœæ–¹æ³•ä¸ä¿®æ”¹æµåŸºç¡€çš„åŸºç¡€æ•°æ®ï¼Œåˆ™è¯¥æ–¹æ³•æ˜¯æ— å¹²æ‰°çš„ã€‚ ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæ²¡æœ‰lambdaè¡¨è¾¾å¼ä¿®æ”¹åˆ—è¡¨æ•°ç»„myListã€‚ <br><br> å¦‚æœæŒ‡å®šäº†æ‰§è¡Œæ“ä½œçš„é¡ºåºï¼Œåˆ™è¯¥æ–¹æ³•æ˜¯æ— çŠ¶æ€çš„ã€‚ ä¾‹å¦‚ï¼Œç¤ºä¾‹ä¸­æ²¡æœ‰ä¸€ä¸ªlambdaè¡¨è¾¾å¼ä¾èµ–äºå¯å˜å˜é‡æˆ–å¯èƒ½åœ¨è¿è¡Œæ—¶å‘ç”Ÿå˜åŒ–çš„å¤–éƒ¨ç©ºé—´çŠ¶æ€ã€‚ <br><br><h3> ä¸åŒç§ç±»çš„çº¿ </h3><br> å¯ä»¥ä»å„ç§æºæ•°æ®ï¼ˆä¸»è¦æ˜¯é›†åˆï¼‰åˆ›å»ºæµã€‚ åˆ—è¡¨å’Œé›†åˆæ”¯æŒæ–°çš„<code>stream()</code>å’Œ<code>parllelStream()</code>æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºé¡ºåºæµå’Œå¹¶è¡Œæµã€‚ å¹¶è¡Œçº¿ç¨‹èƒ½å¤Ÿåœ¨å¤šçº¿ç¨‹æ¨¡å¼ä¸‹å·¥ä½œï¼ˆåœ¨å¤šä¸ªçº¿ç¨‹ä¸Šï¼‰ï¼Œå°†åœ¨æœ¬æ‰‹å†Œçš„æœ€åè¿›è¡Œè®¨è®ºã€‚ åŒæ—¶ï¼Œè¯·è€ƒè™‘é¡ºåºçº¿ç¨‹ï¼š <br><br><pre> <code class="java hljs">Arrays.asList(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a3"</span></span>) .stream() .findFirst() .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// a1</span></span></code> </pre><br> åœ¨è¿™é‡Œï¼Œåœ¨åˆ—è¡¨ä¸Šè°ƒç”¨<code>stream()</code>æ–¹æ³•å°†è¿”å›ä¸€ä¸ªæ™®é€šçš„æµå¯¹è±¡ã€‚ <br> ä½†æ˜¯ï¼Œè¦ä½¿ç”¨æµï¼Œæ ¹æœ¬ä¸éœ€è¦åˆ›å»ºé›†åˆï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a3"</span></span>) .findFirst() .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// a1</span></span></code> </pre><br> åªéœ€ä½¿ç”¨<code>Stream.of()</code>ä»å¤šä¸ªå¯¹è±¡å¼•ç”¨åˆ›å»ºæµã€‚ <br><br> é™¤äº†å¸¸è§„å¯¹è±¡æµä¹‹å¤–ï¼ŒJava 8è¿˜å…·æœ‰ç‰¹æ®Šç±»å‹çš„æµï¼Œç”¨äºå¤„ç†åŸºæœ¬ç±»å‹ï¼šintï¼Œlongï¼Œdoubleã€‚ æ‚¨å¯èƒ½ä¼šçŒœåˆ°ï¼Œè¿™æ˜¯<code>IntStream</code> ï¼Œ <code>LongStream</code> ï¼Œ <code>DoubleStream</code> ã€‚ <br><br>  IntStreamæµå¯ä»¥ä½¿ç”¨<code>IntStream.range()</code>æ›¿æ¢å¸¸è§„çš„ï¼ˆ;;ï¼‰ <code>IntStream.range()</code> ï¼š <br><br><pre> <code class="java hljs">IntStream.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) .forEach(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// 1 // 2 // 3</span></span></code> </pre><br> æ‰€æœ‰ä¸åŸå§‹ç±»å‹ä¸€èµ·ä½¿ç”¨çš„æµéƒ½ä¸å¸¸è§„çš„å¯¹è±¡æµä¸€æ ·å·¥ä½œï¼Œé™¤äº†ä»¥ä¸‹å„é¡¹ï¼š <br><br><ul><li> åŸºæœ¬æµä½¿ç”¨ç‰¹æ®Šçš„lambdaè¡¨è¾¾å¼ã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨IntFunctionä»£æ›¿Functionæˆ–IntPredicateä»£æ›¿Predicateã€‚ </li><li> åŸºæœ¬æµæ”¯æŒå…¶ä»–ç»ˆç«¯æ–¹æ³•ï¼š <code>sum()</code>å’Œ<code>average()</code> <br><br><pre> <code class="java hljs">Arrays.stream(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] {<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>}) .map(n -&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> * n + <span class="hljs-number"><span class="hljs-number">1</span></span>) .average() .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// 5.0</span></span></code> </pre><br></li></ul><br> æœ‰æ—¶å°†å¯¹è±¡æµè½¬æ¢ä¸ºå›¾å…ƒæµï¼Œåä¹‹äº¦ç„¶ã€‚ ä¸ºæ­¤ï¼Œå¯¹è±¡æµæ”¯æŒç‰¹æ®Šæ–¹æ³•ï¼š <code>mapToInt()</code> ï¼Œ <code>mapToLong()</code> ï¼Œ <code>mapToDouble()</code> ï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a3"</span></span>) .map(s -&gt; s.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>)) .mapToInt(Integer::parseInt) .max() .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// 3</span></span></code> </pre><br> å¯ä»¥é€šè¿‡è°ƒç”¨<code>mapToObj()</code>è¯­æµè½¬æ¢ä¸ºå¯¹è±¡æµï¼š <br><br><pre> <code class="java hljs">IntStream.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) .mapToObj(i -&gt; <span class="hljs-string"><span class="hljs-string">"a"</span></span> + i) .forEach(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// a1 // a2 // a3</span></span></code> </pre><br> åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œå°†æµ®ç‚¹æ•°æµæ˜ å°„åˆ°æ•´æ•°æµï¼Œç„¶åå†æ˜ å°„åˆ°å¯¹è±¡æµï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span>, <span class="hljs-number"><span class="hljs-number">3.0</span></span>) .mapToInt(Double::intValue) .mapToObj(i -&gt; <span class="hljs-string"><span class="hljs-string">"a"</span></span> + i) .forEach(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// a1 // a2 // a3</span></span></code> </pre><br><h3> æ‰§è¡Œé¡ºåº </h3><br> ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¦‚ä½•åˆ›å»ºå„ç§æµä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Œæˆ‘ä»¬å°†æ›´æ·±å…¥åœ°ç ”ç©¶æµå¼æ“ä½œçš„å¤–è§‚ã€‚ <br><br> ä¸­é—´æ–¹æ³•çš„ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯å®ƒä»¬çš„<i>æƒ°æ€§</i> ã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ²¡æœ‰ç»ˆç«¯æ–¹æ³•ï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; });</code> </pre><br> å½“æ‰§è¡Œè¿™æ®µä»£ç æ—¶ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šè¾“å‡ºåˆ°æ§åˆ¶å°ã€‚ æ‰€æœ‰è¿™äº›éƒ½æ˜¯å› ä¸ºåªæœ‰åœ¨æœ‰ç»ˆç«¯æ–¹æ³•çš„æƒ…å†µä¸‹æ‰æ‰§è¡Œä¸­é—´æ–¹æ³•ã€‚ è®©æˆ‘ä»¬é€šè¿‡æ·»åŠ <code>forEach</code>ç»ˆç«¯æ–¹æ³•æ¥æ‰©å±•ç¤ºä¾‹ï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s));</code> </pre><br> è¯¥ä»£ç æ®µçš„æ‰§è¡Œå°†å¯¼è‡´ä»¥ä¸‹ç»“æœè¾“å‡ºåˆ°æ§åˆ¶å°ï¼š <br><br><pre> <code class="java hljs">filter: d2 forEach: d2 filter: a2 forEach: a2 filter: b1 forEach: b1 filter: b3 forEach: b3 filter: c forEach: c</code> </pre><br> ç»“æœçš„æ’åˆ—é¡ºåºå¯èƒ½ä¼šä»¤äººæƒŠè®¶ã€‚ å¯ä»¥å¤©çœŸåœ°å¸Œæœ›è¿™äº›æ–¹æ³•å°†â€œæ°´å¹³â€æ‰§è¡Œï¼šå¯¹äºæµçš„æ‰€æœ‰å…ƒç´ ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ‰§è¡Œã€‚ ä½†æ˜¯ï¼Œç›¸åï¼Œå…ƒç´ â€œå‚ç›´â€æ²¿ç€é“¾ç§»åŠ¨ã€‚ é¦–å…ˆï¼Œâ€œ d2â€çš„ç¬¬ä¸€è¡Œé€šè¿‡<code>filter</code>æ–¹æ³•ï¼Œç„¶åé€šè¿‡<code>forEach</code>ç„¶ååªæœ‰åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ é€šè¿‡æ•´ä¸ªæ–¹æ³•é“¾ä¹‹åï¼Œæ‰å¼€å§‹å¤„ç†ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ <br><br> é‰´äºæ­¤è¡Œä¸ºï¼Œæ‚¨å¯ä»¥å‡å°‘å®é™…çš„æ“ä½œæ•°ï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .anyMatch(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"anyMatch: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"A"</span></span>); }); <span class="hljs-comment"><span class="hljs-comment">// map: d2 // anyMatch: D2 // map: a2 // anyMatch: A2</span></span></code> </pre><br> ä¸€æ—¦å°†è°“è¯åº”ç”¨äºä¼ å…¥å…ƒç´ ï¼Œ <code>anyMatch</code>æ–¹æ³•å°†è¿”å›<i>true</i> ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™æ˜¯åºåˆ—çš„ç¬¬äºŒä¸ªå…ƒç´ -â€œ A2â€ã€‚ å› æ­¤ï¼Œç”±äºçº¿ç¨‹é“¾çš„â€œå‚ç›´â€æ‰§è¡Œï¼Œ <code>map</code>å°†ä»…è¢«è°ƒç”¨ä¸¤æ¬¡ã€‚ å› æ­¤ï¼Œå°†ä¸æ˜¾ç¤ºæµçš„æ‰€æœ‰å…ƒç´ ï¼Œè€Œæ˜¯å°½å¯èƒ½å°‘åœ°è°ƒç”¨<code>map</code> ã€‚ <br><br><h3> ä¸ºä»€ä¹ˆé¡ºåºå¾ˆé‡è¦ </h3><br> ä¸‹é¢çš„ç¤ºä¾‹åŒ…å«ä¸¤ä¸ªä¸­é—´æ–¹æ³•<code>map</code>å’Œ<code>filter</code>å’Œä¸€ä¸ªterminalEachæ–¹æ³•ã€‚ è€ƒè™‘å¦‚ä½•æ‰§è¡Œè¿™äº›æ–¹æ³•ï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"A"</span></span>); }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s)); <span class="hljs-comment"><span class="hljs-comment">// map: d2 // filter: D2 // map: a2 // filter: A2 // forEach: A2 // map: b1 // filter: B1 // map: b3 // filter: B3 // map: c // filter: C</span></span></code> </pre> <br> ä¸éš¾çŒœæµ‹ï¼Œ <code>map</code>å’Œ<code>filter</code>æ–¹æ³•åœ¨è¿è¡Œæ—¶éƒ½è¢«è°ƒç”¨äº†5æ¬¡-å¯¹äºæºé›†åˆçš„æ¯ä¸ªå…ƒç´ ä¸€æ¬¡ï¼Œè€Œ<code>forEach</code>ä»…è¢«è°ƒç”¨ä¸€æ¬¡-å¯¹äºé€šè¿‡ç­›é€‰å™¨çš„å…ƒç´ ã€‚ <br><br> é€šè¿‡å°†<code>filter</code>æ”¾åœ¨é¦–ä½ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹æ–¹æ³•è°ƒç”¨çš„é¡ºåºæ¥æ˜¾ç€å‡å°‘æ“ä½œæ•°ï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); }) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s)); <span class="hljs-comment"><span class="hljs-comment">// filter: d2 // filter: a2 // map: a2 // forEach: A2 // filter: b1 // filter: b3 // filter: c</span></span></code> </pre><br> ç°åœ¨åœ°å›¾ä»…è¢«è°ƒç”¨ä¸€æ¬¡ã€‚ ä½¿ç”¨å¤§é‡è¾“å…¥å…ƒç´ ï¼Œæˆ‘ä»¬å°†è§‚å¯Ÿåˆ°ç”Ÿäº§ç‡çš„æ˜¾ç€æé«˜ã€‚ ç»„æˆå¤æ‚çš„æ–¹æ³•é“¾æ—¶ï¼Œè¯·è®°ä½è¿™ä¸€ç‚¹ã€‚ <br><br> æˆ‘ä»¬é€šè¿‡æ·»åŠ å…¶ä»–æ’åºæ“ä½œ-sortedæ–¹æ³•æ¥æ‰©å±•ä¸Šè¿°ç¤ºä¾‹ï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .sorted((s1, s2) -&gt; { System.out.printf(<span class="hljs-string"><span class="hljs-string">"sort: %s; %s\n"</span></span>, s1, s2); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s1.compareTo(s2); }) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); }) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s));</code> </pre><br> æ’åºæ˜¯ä¸€ç§ç‰¹æ®Šçš„ä¸­é—´æ“ä½œã€‚ è¿™å°±æ˜¯æ‰€è°“çš„æœ‰çŠ¶æ€æ“ä½œï¼Œå› ä¸ºå¯¹é›†åˆè¿›è¡Œæ’åºæ—¶ï¼Œåœ¨æ•´ä¸ªæ“ä½œè¿‡ç¨‹ä¸­éƒ½å¿…é¡»è€ƒè™‘å…¶çŠ¶æ€ã€‚ <br><br> ä½œä¸ºæ‰§è¡Œæ­¤ä»£ç çš„ç»“æœï¼Œæˆ‘ä»¬å°†ä»¥ä¸‹è¾“å‡ºè¾“å‡ºåˆ°æ§åˆ¶å°ï¼š <br><br><pre> <code class="java hljs">sort: a2; d2 sort: b1; a2 sort: b1; d2 sort: b1; a2 sort: b3; b1 sort: b3; d2 sort: c; b3 sort: c; d2 filter: a2 map: a2 forEach: A2 filter: b1 filter: b3 filter: c filter: d2</code> </pre><br> é¦–å…ˆï¼Œå¯¹æ•´ä¸ªé›†åˆè¿›è¡Œæ’åºã€‚ æ¢å¥è¯è¯´ï¼Œ <code>sorted</code>æ–¹æ³•æ˜¯æ°´å¹³è¿è¡Œçš„ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹äºä¼ å…¥é›†åˆä¸­å…ƒç´ çš„å‡ ç§ç»„åˆï¼Œ <code>sorted</code>è¢«è°ƒç”¨8æ¬¡ã€‚ <br><br> å†æ¬¡ï¼Œæˆ‘ä»¬é€šè¿‡æ›´æ”¹é“¾ä¸­æ–¹æ³•è°ƒç”¨çš„é¡ºåºæ¥ä¼˜åŒ–æ­¤ä»£ç çš„æ‰§è¡Œï¼š <br><br><pre> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); }) .sorted((s1, s2) -&gt; { System.out.printf(<span class="hljs-string"><span class="hljs-string">"sort: %s; %s\n"</span></span>, s1, s2); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s1.compareTo(s2); }) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s)); <span class="hljs-comment"><span class="hljs-comment">// filter: d2 // filter: a2 // filter: b1 // filter: b3 // filter: c // map: a2 // forEach: A2</span></span></code> </pre><br> åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ ¹æœ¬ä¸è°ƒç”¨<code>sorted</code> ã€‚  <code>filter</code>å°†è¾“å…¥é›†åˆå‡å°‘ä¸ºä¸€ä¸ªå…ƒç´ ã€‚ å¯¹äºå¤§é‡è¾“å…¥æ•°æ®ï¼Œæ€§èƒ½å°†å¤§ä¸ºå—ç›Šã€‚ <br><br><h3> é‡ç”¨æµ </h3><br> åœ¨Java 8ä¸­ï¼Œæ— æ³•é‡ç”¨çº¿ç¨‹ã€‚ è°ƒç”¨ä»»ä½•ç»ˆç«¯æ–¹æ³•åï¼Œçº¿ç¨‹ç»ˆæ­¢ï¼š <br><br><pre> <code class="java hljs">Stream&lt;String&gt; stream = Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>)); stream.anyMatch(s -&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ok stream.noneMatch(s -&gt; true); // exception</span></span></code> </pre><br> åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­çš„<code>noneMatch</code>ä¹‹åè°ƒç”¨<code>noneMatch</code>å¯¼è‡´ä»¥ä¸‹å¼‚å¸¸ï¼š <br><br><pre> <code class="java hljs">java.lang.IllegalStateException: stream has already been operated upon or closed at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:<span class="hljs-number"><span class="hljs-number">229</span></span>) at java.util.stream.ReferencePipeline.noneMatch(ReferencePipeline.java:<span class="hljs-number"><span class="hljs-number">459</span></span>) at com.winterbe.java8.Streams5.test7(Streams5.java:<span class="hljs-number"><span class="hljs-number">38</span></span>) at com.winterbe.java8.Streams5.main(Streams5.java:<span class="hljs-number"><span class="hljs-number">28</span></span>)</code> </pre><br> ä¸ºäº†å…‹æœæ­¤é™åˆ¶ï¼Œåº”ä¸ºæ¯ä¸ªç»ˆç«¯æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ã€‚ <br><br> ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä¸ºæ–°çš„çº¿ç¨‹æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ª<i>ä¾›åº”å•†</i> ï¼Œå…¶ä¸­å°†å®‰è£…æ‰€æœ‰ä¸­é—´æ–¹æ³•ï¼š <br><br><pre> <code class="java hljs">Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>)); streamSupplier.get().anyMatch(s -&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ok streamSupplier.get().noneMatch(s -&gt; true); // ok</span></span></code> </pre><br> æ¯æ¬¡è°ƒç”¨<code>get</code>æ–¹æ³•éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­å®‰å…¨åœ°è°ƒç”¨æ‰€éœ€çš„ç»ˆç«¯æ–¹æ³•ã€‚ <br><br><h3> è¿›é˜¶æ–¹æ³• </h3><br> çº¿ç¨‹æ”¯æŒå¤§é‡ä¸åŒçš„æ–¹æ³•ã€‚ æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰äº†æœ€é‡è¦çš„æ–¹æ³•ã€‚ è¦ä½¿è‡ªå·±ç†Ÿæ‚‰å…¶ä»–å†…å®¹ï¼Œè¯·å‚é˜…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡æ¡£</a> ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ›´æ·±å…¥åœ°ç ”ç©¶æ›´å¤æ‚çš„æ–¹æ³•ï¼š <code>collect</code> ï¼Œ <code>flatMap</code>å’Œ<code>reduce</code> ã€‚ <br><br> æœ¬èŠ‚ä¸­çš„å¤§å¤šæ•°ä»£ç ç¤ºä¾‹éƒ½å‚è€ƒä»¥ä¸‹ä»£ç ç‰‡æ®µæ¥æ¼”ç¤ºæ“ä½œï¼š <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span></span>{ String name; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> age; Person(String name, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> age) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.age = age; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name; } } List&lt;Person&gt; persons = Arrays.asList( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Max"</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Peter"</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Pamela"</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"David"</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>));</code> </pre><br><h4> æ”¶é›† </h4><br>  <code>Collect</code>éå¸¸æœ‰ç”¨çš„ç»ˆç«¯æ–¹æ³•ï¼Œç”¨äºå°†æµå…ƒç´ è½¬æ¢ä¸ºå…¶ä»–ç±»å‹çš„ç»“æœï¼Œä¾‹å¦‚åˆ—è¡¨ï¼Œé›†åˆæˆ–æ˜ å°„ã€‚ <br><br>  <code>Collect</code>æ¥å—åŒ…å«å››ä¸ªä¸åŒæ–¹æ³•çš„<code>Collector</code> ï¼šä¾›åº”å•†ã€‚ ç´¯åŠ å™¨ï¼Œç»„åˆå™¨ï¼Œè£…è®¢å™¨ã€‚ ä¹ä¸€çœ‹ï¼Œè¿™çœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä½†æ˜¯Java 8é€šè¿‡<code>Collectors</code>ç±»æ”¯æŒå„ç§å†…ç½®çš„æ”¶é›†<code>Collectors</code> ï¼Œåœ¨å…¶ä¸­å®ç°äº†æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚ <br><br> çƒ­é—¨æ¡ˆä¾‹ï¼š <br><br><pre> <code class="java hljs">List&lt;Person&gt; filtered = persons .stream() .filter(p -&gt; p.name.startsWith(<span class="hljs-string"><span class="hljs-string">"P"</span></span>)) .collect(Collectors.toList()); System.out.println(filtered); <span class="hljs-comment"><span class="hljs-comment">// [Peter, Pamela]</span></span></code> </pre> <br> å¦‚æ‚¨æ‰€è§ï¼Œä»æµé¡¹ç›®åˆ›å»ºåˆ—è¡¨éå¸¸ç®€å•ã€‚ ä¸éœ€è¦åˆ—è¡¨ï¼Œä½†å¾ˆå¤šå—ï¼Ÿ ä½¿ç”¨<code>Collectors.toSet()</code> ã€‚ <br><br> åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼ŒæŒ‰å¹´é¾„åˆ†ç»„äººå‘˜ï¼š <br><br><pre> <code class="java hljs">Map&lt;Integer, List&lt;Person&gt;&gt; personsByAge = persons .stream() .collect(Collectors.groupingBy(p -&gt; p.age)); personsByAge .forEach((age, p) -&gt; System.out.format(<span class="hljs-string"><span class="hljs-string">"age %s: %s\n"</span></span>, age, p)); <span class="hljs-comment"><span class="hljs-comment">// age 18: [Max] // age 23: [Peter, Pamela] // age 12: [David]</span></span></code> </pre><br> æ”¶è—å®¶çš„å¤šæ ·æ€§å¼‚å¸¸ä¸°å¯Œã€‚ æ‚¨è¿˜å¯ä»¥æ±‡æ€»é›†åˆçš„å…ƒç´ ï¼Œä¾‹å¦‚ï¼Œç¡®å®šå¹³å‡å¹´é¾„ï¼š <br><br><pre> <code class="java hljs">Double averageAge = persons .stream() .collect(Collectors.averagingInt(p -&gt; p.age)); System.out.println(averageAge); <span class="hljs-comment"><span class="hljs-comment">// 19.0</span></span></code> </pre><br> ä¸ºäº†è·å¾—æ›´å…¨é¢çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ±‡æ€»æ”¶é›†å™¨ï¼Œè¯¥æ”¶é›†å™¨è¿”å›ä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å…·æœ‰ä»¥ä¸‹ä¿¡æ¯ï¼šæœ€å°å€¼ï¼Œæœ€å¤§å€¼å’Œå¹³å‡å€¼ï¼Œå€¼çš„æ€»å’Œå’Œå…ƒç´ æ•°ï¼š <br><br><pre> <code class="java hljs">IntSummaryStatistics ageSummary = persons .stream() .collect(Collectors.summarizingInt(p -&gt; p.age)); System.out.println(ageSummary); <span class="hljs-comment"><span class="hljs-comment">// IntSummaryStatistics{count=4, sum=76, min=12, average=19.000000, max=23}</span></span></code> </pre><br> ä»¥ä¸‹ç¤ºä¾‹å°†æ‰€æœ‰åç§°åˆå¹¶åœ¨ä¸€è¡Œä¸­ï¼š <br><br><pre> <code class="java hljs">String phrase = persons .stream() .filter(p -&gt; p.age &gt;= <span class="hljs-number"><span class="hljs-number">18</span></span>) .map(p -&gt; p.name) .collect(Collectors.joining(<span class="hljs-string"><span class="hljs-string">" and "</span></span>, <span class="hljs-string"><span class="hljs-string">"In Germany "</span></span>, <span class="hljs-string"><span class="hljs-string">" are of legal age."</span></span>)); System.out.println(phrase); <span class="hljs-comment"><span class="hljs-comment">// In Germany Max and Peter and Pamela are of legal age.</span></span></code> </pre><br> è¿æ¥æ”¶é›†å™¨æ¥å—åˆ†éš”ç¬¦ä»¥åŠå¯é€‰çš„å‰ç¼€å’Œåç¼€ã€‚ <br><br> è¦å°†æµçš„å…ƒç´ è½¬æ¢ä¸ºæ˜¾ç¤ºï¼Œå¿…é¡»ç¡®å®šé”®å’Œå€¼çš„æ˜¾ç¤ºæ–¹å¼ã€‚ è¯·è®°ä½ï¼Œæ˜ å°„ä¸­çš„é”®å¿…é¡»å”¯ä¸€ã€‚ å¦åˆ™ï¼Œæˆ‘ä»¬å°†æ”¶åˆ°ä¸€ä¸ª<code>IllegalStateException</code> ã€‚ æ‚¨å¯ä»¥é€‰æ‹©æ·»åŠ åˆå¹¶åŠŸèƒ½æ¥ç»•è¿‡å¼‚å¸¸ï¼š <br><br><pre> <code class="java hljs">Map&lt;Integer, String&gt; map = persons .stream() .collect(Collectors.toMap( p -&gt; p.age, p -&gt; p.name, (name1, name2) -&gt; name1 + <span class="hljs-string"><span class="hljs-string">";"</span></span> + name2)); System.out.println(map); <span class="hljs-comment"><span class="hljs-comment">// {18=Max, 23=Peter;Pamela, 12=David}</span></span></code> </pre><br> å› æ­¤ï¼Œæˆ‘ä»¬ç†Ÿæ‚‰äº†ä¸€äº›æœ€å¼ºå¤§çš„å†…ç½®æ”¶é›†å™¨ã€‚ è®©æˆ‘ä»¬å°è¯•å»ºç«‹è‡ªå·±çš„ã€‚ æˆ‘ä»¬å¸Œæœ›å°†æµçš„æ‰€æœ‰å…ƒç´ è½¬æ¢ä¸ºå•è¡Œï¼Œè¯¥è¡Œç”±ç”¨ç«–çº¿|åˆ†éš”çš„å¤§å†™åç§°ç»„æˆã€‚ ä¸ºæ­¤ï¼Œè¯·ä½¿ç”¨<code>Collector.of()</code>åˆ›å»ºä¸€ä¸ªæ–°çš„æ”¶é›†<code>Collector.of()</code> ã€‚ æˆ‘ä»¬éœ€è¦æ”¶é›†å™¨çš„å››ä¸ªç»„ä»¶ï¼šä¾›åº”å•†ï¼Œç”µæ± ï¼Œè¿æ¥å™¨ï¼Œæ•´ç†å™¨ã€‚ <br><br><pre> <code class="java hljs">Collector&lt;Person, StringJoiner, String&gt; personNameCollector = Collector.of( () -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringJoiner(<span class="hljs-string"><span class="hljs-string">" | "</span></span>), <span class="hljs-comment"><span class="hljs-comment">// supplier (j, p) -&gt; j.add(p.name.toUpperCase()), // accumulator (j1, j2) -&gt; j1.merge(j2), // combiner StringJoiner::toString); // finisher String names = persons .stream() .collect(personNameCollector); System.out.println(names); // MAX | PETER | PAMELA | DAVID</span></span></code> </pre> <br> ç”±äºJavaä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç±»ä¼¼äº<code>StringJoiner</code>çš„å¸®åŠ©ç¨‹åºç±»ï¼Œ <code>StringJoiner</code>å…è®¸æ”¶é›†å™¨ä¸ºæˆ‘ä»¬æ„å»ºå­—ç¬¦ä¸²ã€‚ ç¬¬ä¸€æ­¥ï¼Œæä¾›ç¨‹åºæ„é€ ä¸€ä¸ªå¸¦æœ‰åˆ†é…çš„åˆ†éš”ç¬¦çš„<code>StringJoiner</code> ã€‚  Batteryç”¨äºå°†æ¯ä¸ªåç§°æ·»åŠ åˆ°<code>StringJoiner</code> ã€‚ <br><br> è¿æ¥å™¨çŸ¥é“å¦‚ä½•å°†ä¸¤ä¸ª<code>StringJoiner</code>è¿æ¥åˆ°ä¸€ä¸ªã€‚ æœ€åï¼Œæ•´ç†å™¨ä»<code>StringJoiner</code>æ„é€ æ‰€éœ€çš„å­—ç¬¦ä¸²ã€‚ <br><br><h4> å¹³é¢å›¾ </h4><br> å› æ­¤ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨<code>map</code>æ–¹æ³•å°†æµå¯¹è±¡è½¬æ¢ä¸ºå…¶ä»–ç±»å‹çš„å¯¹è±¡ã€‚  <code>Map</code>æ˜¯ä¸€ç§å—é™åˆ¶çš„æ–¹æ³•ï¼Œå› ä¸ºæ¯ä¸ªå¯¹è±¡åªèƒ½æ˜ å°„åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨è¦å°†ä¸€ä¸ªå¯¹è±¡æ˜ å°„åˆ°è®¸å¤šå…¶ä»–å¯¹è±¡ï¼Œæˆ–è€…æ ¹æœ¬ä¸æ˜¾ç¤ºå®ƒï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ è¿™æ˜¯<code>flatMap</code>æ–¹æ³•æä¾›å¸®åŠ©çš„åœ°æ–¹ã€‚  <code>FlatMap</code>å°†æ¯ä¸ªæµå¯¹è±¡è½¬æ¢ä¸ºå…¶ä»–å¯¹è±¡æµã€‚ ç„¶åï¼Œå°†è¿™äº›çº¿ç¨‹çš„å†…å®¹æ‰“åŒ…åˆ°<code>flatMap</code>æ–¹æ³•çš„è¿”å›æµä¸­ã€‚ <br><br> ä¸ºäº†æŸ¥çœ‹å®é™…ä½¿ç”¨çš„<code>flatMap</code> ï¼Œè®©æˆ‘ä»¬ä¸ºç¤ºä¾‹æ„å»ºä¸€ä¸ªåˆé€‚çš„ç±»å‹å±‚æ¬¡ç»“æ„ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ String name; List&lt;Bar&gt; bars = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); Foo(String name) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bar</span></span></span><span class="hljs-class"> </span></span>{ String name; Bar(String name) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } }</code> </pre><br> è®©æˆ‘ä»¬åˆ›å»ºä¸€äº›å¯¹è±¡ï¼š <br><br><pre> <code class="java hljs">List&lt;Foo&gt; foos = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-comment"><span class="hljs-comment">// create foos IntStream .range(1, 4) .forEach(i -&gt; foos.add(new Foo("Foo" + i))); // create bars foos.forEach(f -&gt; IntStream .range(1, 4) .forEach(i -&gt; f.bars.add(new Bar("Bar" + i + " &lt;- " + f.name))));</span></span></code> </pre><br> ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸‰ä¸ª<i>foo</i>çš„åˆ—è¡¨ï¼Œæ¯ä¸ªåˆ—è¡¨åŒ…å«ä¸‰ä¸ª<i>bar</i> ã€‚ <br><br>  <code>FlatMap</code>æ¥å—åº”è¿”å›å¯¹è±¡æµçš„å‡½æ•°ã€‚ å› æ­¤ï¼Œä¸ºäº†è®¿é—®æ¯ä¸ª<i>foo</i>çš„<i>bar</i>å¯¹è±¡ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°é€‚å½“çš„å‡½æ•°ï¼š <br><br><pre> <code class="java hljs">foos.stream() .flatMap(f -&gt; f.bars.stream()) .forEach(b -&gt; System.out.println(b.name)); <span class="hljs-comment"><span class="hljs-comment">// Bar1 &lt;- Foo1 // Bar2 &lt;- Foo1 // Bar3 &lt;- Foo1 // Bar1 &lt;- Foo2 // Bar2 &lt;- Foo2 // Bar3 &lt;- Foo2 // Bar1 &lt;- Foo3 // Bar2 &lt;- Foo3 // Bar3 &lt;- Foo3</span></span></code> </pre><br> å› æ­¤ï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸåœ°å°†ä¸‰ä¸ª<i>foo</i>å¯¹è±¡çš„<i>æµå˜</i>æˆäº†9ä¸ª<i>bar</i>å¯¹è±¡çš„æµã€‚ <br><br> æœ€åï¼Œä¸Šè¿°æ‰€æœ‰ä»£ç éƒ½å¯ä»¥ç®€åŒ–ä¸ºç®€å•çš„æ“ä½œæµç¨‹ï¼š <br><br><pre> <code class="java hljs">IntStream.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) .mapToObj(i -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Foo(<span class="hljs-string"><span class="hljs-string">"Foo"</span></span> + i)) .peek(f -&gt; IntStream.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) .mapToObj(i -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Bar(<span class="hljs-string"><span class="hljs-string">"Bar"</span></span> + i + <span class="hljs-string"><span class="hljs-string">" &lt;- "</span></span> f.name)) .forEach(f.bars::add)) .flatMap(f -&gt; f.bars.stream()) .forEach(b -&gt; System.out.println(b.name));</code> </pre><br>  Java 8ä¸­å¼•å…¥çš„<code>Optional</code>ç±»ä¸­ä¹Ÿæä¾›<code>FlatMap</code>ç±»ä¸­çš„<code>FlatMap</code>è¿”å›å¦ä¸€ä¸ªç±»çš„å¯é€‰å¯¹è±¡ã€‚ è¿™å¯ä»¥ç”¨æ¥é¿å…ä¸€å †<code>null</code>æ£€æŸ¥ã€‚ <br><br> æƒ³è±¡è¿™æ ·ä¸€ä¸ªå±‚æ¬¡ç»“æ„ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Outer</span></span></span><span class="hljs-class"> </span></span>{ Nested nested; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Nested</span></span></span><span class="hljs-class"> </span></span>{ Inner inner; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Inner</span></span></span><span class="hljs-class"> </span></span>{ String foo; }</code> </pre><br> è¦ä»å¤–éƒ¨å¯¹è±¡è·å–åµŒå¥—çš„å­—ç¬¦ä¸²<i>foo</i> ï¼Œæ‚¨éœ€è¦æ·»åŠ å¤šä¸ª<code>null</code>æ£€æŸ¥ä»¥é¿å…<code>NullPointException</code> ï¼š <br><br><pre> <code class="java hljs">Outer outer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Outer(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (outer != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; outer.nested != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; outer.nested.inner != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { System.out.println(outer.nested.inner.foo); }</code> </pre><br> ä½¿ç”¨Optionalç±»çš„flatMapå¯ä»¥å®ç°ç›¸åŒçš„ç›®çš„ï¼š <br><br><pre> <code class="java hljs">Optional.of(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Outer()) .flatMap(o -&gt; Optional.ofNullable(o.nested)) .flatMap(n -&gt; Optional.ofNullable(n.inner)) .flatMap(i -&gt; Optional.ofNullable(i.foo)) .ifPresent(System.out::println);</code> </pre><br> æ¯æ¬¡å¯¹<code>flatMap</code>è°ƒç”¨éƒ½ä¼šä¸ºæ‰€éœ€å¯¹è±¡ï¼ˆå¦‚æœå­˜åœ¨ï¼‰è¿”å›ä¸€ä¸ª<code>Optional</code>åŒ…è£…å™¨ï¼›å¦‚æœç¼ºå°‘è¯¥å¯¹è±¡ï¼Œåˆ™è¿”å›<code>null</code> ã€‚ <br><br><h4> å‡å°‘ </h4><br> ç®€åŒ–æ“ä½œå°†æµçš„æ‰€æœ‰å…ƒç´ ç»„åˆä¸ºå•ä¸ªç»“æœã€‚  Java 8æ”¯æŒä¸‰ç§ä¸åŒç±»å‹çš„reduceæ–¹æ³•ã€‚ <br><br> ç¬¬ä¸€ç§å°†å…ƒä»¶çš„æµé‡å‡å°‘åˆ°å•ä¸ªæµé‡å…ƒä»¶ã€‚ æˆ‘ä»¬ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥ç¡®å®šå¹´é¾„æœ€å¤§çš„å…ƒç´ ï¼š <br><br><pre> <code class="java hljs">persons .stream() .reduce((p1, p2) -&gt; p1.age &gt; p2.age ? p1 : p2) .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// Pamela</span></span></code> </pre> <br>  <code>reduce</code>æ–¹æ³•é‡‡ç”¨å¸¦<i>äºŒè¿›åˆ¶è¿ç®—ç¬¦</i> ï¼ˆBinaryOperatorï¼‰çš„ç´¯åŠ å‡½æ•°ã€‚ è¿™é‡Œçš„<code>reduce</code>æ˜¯ä¸€ä¸ª<i>åŒåŠŸèƒ½</i> ï¼ˆBiFunctionï¼‰ï¼Œå…¶ä¸­ä¸¤ä¸ªå‚æ•°éƒ½å±äºåŒä¸€ç±»å‹ã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œé”®å…¥<i>Person</i> ã€‚ åŒå‡½æ•°ä¸å‡½æ•°å‡ ä¹ç›¸åŒï¼Œä½†æ˜¯å®ƒå¸¦æœ‰2ä¸ªå‚æ•°ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œè¯¥å‡½æ•°æ¯”è¾ƒä¸¤ä¸ªäººçš„å¹´é¾„å¹¶è¿”å›å¹´é¾„æ›´å¤§çš„å…ƒç´ ã€‚ <br><br>  <code>reduce</code>æ–¹æ³•çš„ä¸‹ä¸€ç§å½¢å¼åŒæ—¶ä½¿ç”¨åˆå§‹å€¼å’Œå¸¦æœ‰äºŒè¿›åˆ¶è¿ç®—ç¬¦çš„ç”µæ± ã€‚ æ­¤æ–¹æ³•å¯ç”¨äºåˆ›å»ºæ–°é¡¹ç›®ã€‚ æˆ‘ä»¬æ‹¥æœ‰-å…·æœ‰å§“åå’Œå¹´é¾„çš„äººï¼ŒåŒ…æ‹¬æ‰€æœ‰å§“åçš„åŠ ä¸Šå’Œå±…ä½å¹´é™çš„æ€»å’Œï¼š <br><br><pre> <code class="java hljs">Person result = persons .stream() .reduce(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), (p1, p2) -&gt; { p1.age += p2.age; p1.name += p2.name; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> p1; }); System.out.format(<span class="hljs-string"><span class="hljs-string">"name=%s; age=%s"</span></span>, result.name, result.age); <span class="hljs-comment"><span class="hljs-comment">// name=MaxPeterPamelaDavid; age=76</span></span></code> </pre><br> ç¬¬ä¸‰ç§<code>reduce</code>æ–¹æ³•é‡‡ç”¨ä¸‰ä¸ªå‚æ•°ï¼šåˆå§‹å€¼ï¼Œå…·æœ‰åŒåŠŸèƒ½çš„ç´¯åŠ å™¨å’Œç»„åˆåŠŸèƒ½ï¼ˆä¾‹å¦‚äºŒè¿›åˆ¶è¿ç®—ç¬¦ï¼‰ã€‚ ç”±äºç±»å‹çš„åˆå§‹å€¼ä¸é™äºç±»å‹Personï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨å‡å°‘æ¥ç¡®å®šæ¯ä¸ªäººçš„æ€»ç”Ÿå­˜å¹´é™ï¼š <br><br><pre> <code class="java hljs">Integer ageSum = persons .stream() .reduce(<span class="hljs-number"><span class="hljs-number">0</span></span>, (sum, p) -&gt; sum += p.age, (sum1, sum2) -&gt; sum1 + sum2); System.out.println(ageSum); <span class="hljs-comment"><span class="hljs-comment">// 76</span></span></code> </pre><br> å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ç»“æœ76ï¼Œä½†å®é™…ä¸Šå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ <br><br> æˆ‘ä»¬ä½¿ç”¨è°ƒè¯•æ–‡æœ¬çš„è¾“å‡ºæ‰©å±•ä»¥ä¸Šä»£ç ç‰‡æ®µï¼š <br><br><pre> <code class="java hljs">Integer ageSum = persons .stream() .reduce(<span class="hljs-number"><span class="hljs-number">0</span></span>, (sum, p) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"accumulator: sum=%s; person=%s\n"</span></span>, sum, p); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum += p.age; }, (sum1, sum2) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"combiner: sum1=%s; sum2=%s\n"</span></span>, sum1, sum2); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum1 + sum2; }); <span class="hljs-comment"><span class="hljs-comment">// accumulator: sum=0; person=Max // accumulator: sum=18; person=Peter // accumulator: sum=41; person=Pamela // accumulator: sum=64; person=David</span></span></code> </pre><br> å¦‚æ‚¨æ‰€è§ï¼Œç´¯åŠ åŠŸèƒ½æ‰§è¡Œæ‰€æœ‰å·¥ä½œã€‚ é¦–å…ˆä½¿ç”¨åˆå§‹å€¼0å’Œç¬¬ä¸€äººç§°Maxè¿›è¡Œè°ƒç”¨ã€‚ åœ¨æ¥ä¸‹æ¥çš„ä¸‰ä¸ªæ­¥éª¤ä¸­ï¼Œä»æœ€åä¸€ä¸ªæ­¥éª¤ç›´åˆ°ä»–çš„æ€»å¹´é¾„è¾¾åˆ°76å²ï¼Œæ€»å’Œä¼šéšç€å¹´é¾„çš„å¢é•¿è€Œä¸æ–­å¢åŠ ã€‚ <br><br> é‚£æ¥ä¸‹æ¥å‘¢ï¼Ÿ ä»æœªè°ƒç”¨è¿‡åˆå¹¶å™¨å—ï¼Ÿ è€ƒè™‘æ­¤çº¿ç¨‹çš„å¹¶è¡Œæ‰§è¡Œï¼š <br><br><pre> <code class="java hljs">Integer ageSum = persons .parallelStream() .reduce(<span class="hljs-number"><span class="hljs-number">0</span></span>, (sum, p) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"accumulator: sum=%s; person=%s\n"</span></span>, sum, p); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum += p.age; }, (sum1, sum2) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"combiner: sum1=%s; sum2=%s\n"</span></span>, sum1, sum2); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum1 + sum2; }); <span class="hljs-comment"><span class="hljs-comment">// accumulator: sum=0; person=Pamela // accumulator: sum=0; person=David // accumulator: sum=0; person=Max // accumulator: sum=0; person=Peter // combiner: sum1=18; sum2=23 // combiner: sum1=23; sum2=12 // combiner: sum1=41; sum2=35</span></span></code> </pre><br> é€šè¿‡å¹¶è¡Œæ‰§è¡Œï¼Œæˆ‘ä»¬è·å¾—äº†å®Œå…¨ä¸åŒçš„æ§åˆ¶å°è¾“å‡ºã€‚ ç°åœ¨ï¼Œç»„åˆå™¨å®é™…ä¸Šå·²è¢«è°ƒç”¨ã€‚<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”±äºç”µæ± æ˜¯å¹¶è”çš„ï¼Œå› æ­¤ç»„åˆå™¨å¿…é¡»æ±‡æ€»å•ç‹¬å­˜å‚¨çš„å€¼ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ›´è¯¦ç»†åœ°ç ”ç©¶çº¿ç¨‹çš„å¹¶è¡Œæ‰§è¡Œã€‚</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å¹³è¡Œèºçº¹ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤„ç†å¤§é‡ä¼ å…¥å…ƒç´ æ—¶ï¼Œçº¿ç¨‹å¯ä»¥å¹¶è¡Œè¿è¡Œä»¥æé«˜æ€§èƒ½ã€‚</font><font style="vertical-align: inherit;">å¹¶è¡Œçº¿ç¨‹</font></font><code>ForkJoinPool</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šè¿‡è°ƒç”¨staticæ–¹æ³•</font><font style="vertical-align: inherit;">ä½¿ç”¨é€šå¸¸</font><font style="vertical-align: inherit;">å¯ç”¨çš„æ–¹æ³•</font></font><code>ForkJoinPool.commonPool()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¸»çº¿ç¨‹æ± çš„å¤§å°å¯ä»¥è¾¾åˆ°5ä¸ªæ‰§è¡Œçº¿ç¨‹-ç¡®åˆ‡çš„æ•°é‡å–å†³äºå¯ç”¨ç‰©ç†å¤„ç†å™¨å†…æ ¸çš„æ•°é‡ã€‚</font></font><br><br><pre> <code class="java hljs">ForkJoinPool commonPool = ForkJoinPool.commonPool(); System.out.println(commonPool.getParallelism()); <span class="hljs-comment"><span class="hljs-comment">// 3</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æˆ‘çš„è®¡ç®—æœºä¸Šï¼Œé»˜è®¤æƒ…å†µä¸‹å°†å¸¸è§„çº¿ç¨‹æ± åˆå§‹åŒ–ä¸ºå¹¶è¡ŒåŒ–ä¸º3ä¸ªçº¿ç¨‹ã€‚</font><font style="vertical-align: inherit;">å¯ä»¥é€šè¿‡è®¾ç½®ä»¥ä¸‹JVMå‚æ•°æ¥å¢åŠ æˆ–å‡å°‘è¯¥å€¼ï¼š</font></font><br><br><pre> <code class="bash hljs">-Djava.util.concurrent.ForkJoinPool.common.parallelism=5</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é›†åˆæ”¯æŒ</font></font><code>parallelStream()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºå¹¶è¡Œæ•°æ®æµçš„æ–¹æ³•ã€‚</font><font style="vertical-align: inherit;">æ‚¨ä¹Ÿå¯ä»¥è°ƒç”¨ä¸­é—´æ–¹æ³•ï¼Œ</font></font><code>parallel()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥å°†ä¸²è¡Œæµè½¬æ¢ä¸ºå¹¶è¡Œæµã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºäº†äº†è§£å¹¶è¡Œæ‰§è¡Œä¸­çº¿ç¨‹çš„è¡Œä¸ºï¼Œä»¥ä¸‹ç¤ºä¾‹å°†æœ‰å…³æ¯ä¸ªå½“å‰çº¿ç¨‹ï¼ˆçº¿ç¨‹ï¼‰çš„ä¿¡æ¯æ‰“å°åˆ°</font></font><code>System.out</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br><br><pre> <code class="java hljs">Arrays.asList(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"c2"</span></span>, <span class="hljs-string"><span class="hljs-string">"c1"</span></span>) .parallelStream() .filter(s -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"filter: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }) .map(s -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"map: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .forEach(s -&gt; System.out.format(<span class="hljs-string"><span class="hljs-string">"forEach: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()));</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> è€ƒè™‘è°ƒè¯•æ¡ç›®çš„ç»“è®ºï¼Œä»¥æ›´å¥½åœ°äº†è§£å“ªä¸ªçº¿ç¨‹ç”¨äºæ‰§è¡Œç‰¹å®šçš„æµæ–¹æ³•ï¼š </font></font><br><br><pre> <code class="java hljs">filter: b1 [main] filter: a2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] map: a2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] filter: c2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] map: c2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] filter: c1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] map: c1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] forEach: C2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] forEach: A2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] map: b1 [main] forEach: B1 [main] filter: a1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] map: a1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] forEach: A1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] forEach: C1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æ‚¨æ‰€è§ï¼Œåœ¨å¹¶è¡Œæ‰§è¡Œæ•°æ®æµæ—¶ï¼Œå°†ä½¿ç”¨å½“å‰çº¿ç¨‹çš„æ‰€æœ‰å¯ç”¨çº¿ç¨‹</font></font><code>ForkJoinPool</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¾“å‡ºé¡ºåºå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œå› ä¸ºæœªå®šä¹‰æ¯ä¸ªç‰¹å®šçº¿ç¨‹çš„æ‰§è¡Œé¡ºåºã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®©æˆ‘ä»¬é€šè¿‡æ·»åŠ æ–¹æ³•æ¥æ‰©å±•ç¤ºä¾‹</font></font><code>sort</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br><br><pre> <code class="java hljs">Arrays.asList(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"c2"</span></span>, <span class="hljs-string"><span class="hljs-string">"c1"</span></span>) .parallelStream() .filter(s -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"filter: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }) .map(s -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"map: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .sorted((s1, s2) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"sort: %s &lt;&gt; %s [%s]\n"</span></span>, s1, s2, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s1.compareTo(s2); }) .forEach(s -&gt; System.out.format(<span class="hljs-string"><span class="hljs-string">"forEach: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()));</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ä¹ä¸€çœ‹ï¼Œç»“æœå¯èƒ½çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼š </font></font><br><br><pre> <code class="java hljs">filter: c2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] filter: c1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] map: c1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] filter: a2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] map: a2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] filter: b1 [main] map: b1 [main] filter: a1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] map: a1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] map: c2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] sort: A2 &lt;&gt; A1 [main] sort: B1 &lt;&gt; A2 [main] sort: C2 &lt;&gt; B1 [main] sort: C1 &lt;&gt; C2 [main] sort: C1 &lt;&gt; B1 [main] sort: C1 &lt;&gt; C2 [main] forEach: A1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] forEach: C2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] forEach: B1 [main] forEach: A2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] forEach: C1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ƒä¼¼ä¹æ˜¯</font></font><code>sort</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¡ºåºæ‰§è¡Œçš„ï¼Œå¹¶ä¸”ä»…åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸»</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çº¿ç¨‹ä¸­æ‰§è¡Œ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å®é™…ä¸Šï¼Œå½“åœ¨</font></font><code>sort</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stream API </font><font style="vertical-align: inherit;">çš„æ–¹æ³•ä¹‹ä¸‹å¹¶è¡Œæ‰§è¡Œæµæ—¶</font></font><code>Arrays</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå°†</font><font style="vertical-align: inherit;">éšè—</font><font style="vertical-align: inherit;">Java 8ä¸­æ·»åŠ çš„</font><font style="vertical-align: inherit;">ç±»æ’åºæ–¹æ³•</font></font><code>Arrays.parallelSort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å¦‚æ–‡æ¡£ä¸­æ‰€è¿°ï¼Œæ­¤æ–¹æ³•æ ¹æ®ä¼ å…¥é›†åˆçš„é•¿åº¦ç¡®å®šå¦‚ä½•å¹¶è¡Œæˆ–é¡ºåºåœ°å¯¹å…¶è¿›è¡Œæ’åºï¼š</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å¦‚æœç‰¹å®šæ•°ç»„çš„é•¿åº¦å°äºæœ€å°â€œç²’åº¦â€ï¼Œåˆ™é€šè¿‡æ‰§è¡ŒArrays.sortæ–¹æ³•æ‰§è¡Œæ’åºã€‚ </font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®©æˆ‘ä»¬ä½¿ç”¨</font></font><code>reduce</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šä¸€ç« ä¸­</font><font style="vertical-align: inherit;">çš„æ–¹æ³•è¿”å›ç¤ºä¾‹</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å·²ç»å‘ç°åªæœ‰åœ¨å¹¶è¡Œå¤„ç†çº¿ç¨‹æ—¶æ‰è°ƒç”¨ç»Ÿä¸€å‡½æ•°ã€‚</font><font style="vertical-align: inherit;">è€ƒè™‘æ¶‰åŠå“ªäº›çº¿ç¨‹ï¼š</font></font><br><br><pre> <code class="java hljs">List&lt;Person&gt; persons = Arrays.asList( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Max"</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Peter"</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Pamela"</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"David"</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>)); persons .parallelStream() .reduce(<span class="hljs-number"><span class="hljs-number">0</span></span>, (sum, p) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"accumulator: sum=%s; person=%s [%s]\n"</span></span>, sum, p, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum += p.age; }, (sum1, sum2) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"combiner: sum1=%s; sum2=%s [%s]\n"</span></span>, sum1, sum2, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum1 + sum2; });</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æ§åˆ¶å°è¾“å‡ºæ˜¾ç¤ºï¼Œä½¿ç”¨æ‰€æœ‰å¯èƒ½çš„æµç¨‹å¹¶è¡Œæ‰§è¡Œä¸¤ä¸ªåŠŸèƒ½ï¼šç´¯åŠ å’Œåˆå¹¶ï¼š </font></font><br><br><pre> <code class="java hljs">accumulator: sum=<span class="hljs-number"><span class="hljs-number">0</span></span>; person=Pamela; [main] accumulator: sum=<span class="hljs-number"><span class="hljs-number">0</span></span>; person=Max; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] accumulator: sum=<span class="hljs-number"><span class="hljs-number">0</span></span>; person=David; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] accumulator: sum=<span class="hljs-number"><span class="hljs-number">0</span></span>; person=Peter; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] combiner: sum1=<span class="hljs-number"><span class="hljs-number">18</span></span>; sum2=<span class="hljs-number"><span class="hljs-number">23</span></span>; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] combiner: sum1=<span class="hljs-number"><span class="hljs-number">23</span></span>; sum2=<span class="hljs-number"><span class="hljs-number">12</span></span>; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] combiner: sum1=<span class="hljs-number"><span class="hljs-number">41</span></span>; sum2=<span class="hljs-number"><span class="hljs-number">35</span></span>; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯ä»¥è¯´ï¼Œåœ¨å¤„ç†å¤§é‡ä¼ å…¥å…ƒç´ æ—¶ï¼Œå¹¶è¡Œæ‰§è¡Œæµç¨‹æœ‰åŠ©äºæ˜¾ç€æé«˜æ•ˆç‡ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œåº”è®°ä½ï¼Œå¹¶è¡Œæ‰§è¡Œçš„æŸäº›æ–¹æ³•éœ€è¦é¢å¤–çš„è®¡ç®—ï¼ˆç»„åˆæ“ä½œï¼‰ï¼Œè€Œé¡ºåºæ‰§è¡Œåˆ™ä¸éœ€è¦ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦å¤–ï¼Œå¯¹äºçº¿ç¨‹çš„å¹¶è¡Œæ‰§è¡Œï¼Œ</font></font><code>ForkJoinPool</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨äº†åœ¨JVMä¸­å¹¿æ³›ä½¿ç”¨</font><font style="vertical-align: inherit;">çš„åŒä¸€çº¿ç¨‹</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œç”±äºé˜»å¡äº†ç”¨äºå…¶ä»–ä»»åŠ¡ä¸­å¤„ç†çš„çº¿ç¨‹ï¼Œå› æ­¤ä½¿ç”¨æ…¢é€Ÿæµé˜»å¡æ–¹æ³•å¯èƒ½ä¼šå¯¹æ•´ä¸ªç¨‹åºçš„æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ã€‚</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å°±è¿™æ · </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘æœ‰å…³åœ¨Java 8ä¸­ä½¿ç”¨çº¿ç¨‹çš„æ•™ç¨‹å·²ç»“æŸã€‚æœ‰å…³ä½¿ç”¨æµçš„æ›´è¯¦ç»†çš„ç ”ç©¶ï¼Œè¯·å‚è€ƒ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚å¦‚æœæ‚¨æƒ³æ›´æ·±å…¥åœ°äº†è§£çº¿ç¨‹åŸºç¡€çš„æœºåˆ¶ï¼Œæ‚¨å¯èƒ½ä¼šå¯¹é˜…è¯»Martin Fowlerçš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Collection Pipelines</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ç« æ„Ÿå…´è¶£</font><font style="vertical-align: inherit;">ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæ‚¨ä¹Ÿå¯¹JavaScriptæ„Ÿå…´è¶£ï¼Œåˆ™å¯èƒ½éœ€è¦çœ‹ä¸€ä¸‹</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stream.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Java 8 Streams APIçš„JavaScriptå®ç°ã€‚æ‚¨å¯èƒ½è¿˜æƒ³é˜…è¯»æœ‰å…³</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 8 Tutorial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿„è¯­ç¿»è¯‘</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºHabrÃ©ï¼‰å’Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 8 Nashorn Tutorialçš„æ–‡ç« </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br><br> ,        ,      .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  GitHub</a> .   ,    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN437038/">https://habr.com/ru/post/zh-CN437038/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN437026/index.html">Googleå› æ»¥ç”¨ä¸ªäººæ•°æ®è€Œå¯¹GDPRå¤„ä»¥5000ä¸‡æ¬§å…ƒçš„ç½šæ¬¾</a></li>
<li><a href="../zh-CN437030/index.html">ä¸€ä¸ªè±ªååŠå…¬å®¤çš„åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ–ï¼šå¤–è§‚</a></li>
<li><a href="../zh-CN437032/index.html">NGINX ModSecurityå®‰è£…è¯´æ˜</a></li>
<li><a href="../zh-CN437034/index.html">é€šç”¨å“¨å­ï¼šSnom A230å’ŒA210 USBåŠ å¯†ç‹—è¯„è®º</a></li>
<li><a href="../zh-CN437036/index.html">ç”¨äºå‡äººçš„SAPUI5ç¬¬2éƒ¨åˆ†ï¼šå®Œæ•´çš„åˆ†æ­¥ç»ƒä¹ </a></li>
<li><a href="../zh-CN437040/index.html">åœ¨ä¿„ç½—æ–¯ï¼Œå¼€å§‹æµ‹è¯•å®¶ç”¨ç¥ç»æ¥å£â€œ Neurochatâ€</a></li>
<li><a href="../zh-CN437044/index.html">å¦‚ä½•æ‰“è´¥å·¨é¾™ï¼šåœ¨Golangä¸Šé‡å†™ç¨‹åº</a></li>
<li><a href="../zh-CN437050/index.html">è¯¥ä¹¦â€œ Pythonã€‚ å¿«é€Ÿè¯¾ç¨‹ã€‚ ç¬¬ä¸‰ç‰ˆã€‚</a></li>
<li><a href="../zh-CN437052/index.html">ä¸è¦é”™è¿‡å­¦ä¹ ï¼šå¤§å­¦çš„ITä¸“å®¶éœ€è¦å—</a></li>
<li><a href="../zh-CN437054/index.html">æ–°å‹è‹±ç‰¹å°”ç¬¬9ä»£å¤„ç†å™¨ï¼šæ ¸å¿ƒå‡å»GPU</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>