<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úîÔ∏è üë®‚Äçüé§ üë®‚Äçüë¶ Fun√ß√µes Lambda no SQL ... vamos pensar „äóÔ∏è üë®üèª‚Äçüíº üôèüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sobre o que ser√° o artigo e, portanto, o nome implica. 

 Al√©m disso, o autor explicar√° por que isso √© necess√°rio do ponto de vista dele, al√©m de dize...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fun√ß√µes Lambda no SQL ... vamos pensar</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435120/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/sl/ch/fp/slchfpm_a-deoh62fqiazjgdc5k.png" alt="imagem"></div><br>  Sobre o que ser√° o artigo e, portanto, o nome implica. <br><br>  Al√©m disso, o autor explicar√° por que isso √© necess√°rio do ponto de vista dele, al√©m de dizer que o SUBJ n√£o √© apenas uma tecnologia da moda, mas tamb√©m "um neg√≥cio duplamente necess√°rio - agrad√°vel e √∫til". <br><a name="habracut"></a><br>  √â sempre interessante ver como v√°rias pessoas talentosas fazem algo (uma linguagem de programa√ß√£o, por que n√£o), sabendo exatamente que problema est√£o resolvendo e que tarefas definem para si mesmas.  E tamb√©m testar sua cria√ß√£o em si mesmos.  N√£o pode ser comparado com as cria√ß√µes monumentais de comit√™s gigantes, que colocam a manuten√ß√£o da harmonia do universo em primeiro plano e quem a entende. <br><br>  Compare, por exemplo, o destino de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FORTRAN</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PL / 1</a> .  Quem agora se lembrar√° deste PL / 1. <br><br>  Deste ponto de vista, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AWK</a> , por exemplo, √© muito bem-sucedido.  Vale a pena dizer que em seu nome A √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Alfred Aho</a> , um dos autores de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dragon Book</a> , W √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Peter Weinberger</a> , que participou do Fortran-77, K √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Brian Kernigan</a> , onde estaria sem ele.  O idioma √© destinado ao processamento de fluxos de texto din√¢micos em pipes entre processos. <br><br>  A linguagem n√£o tem tipo ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">isso n√£o √© totalmente verdade</a> ), sua sintaxe √© muito semelhante a C, possui recursos de filtragem, matrizes associativas, eventos de in√≠cio / fim de fluxo, evento de nova linha ... <br><br>  O autor sempre ficou impressionado com essa linguagem tamb√©m pelo fato de que seu int√©rprete n√£o precisa ser instalado; em sistemas semelhantes ao UNIX, ele est√° sempre l√°; no Windows, basta copiar o arquivo execut√°vel e tudo funciona.  No entanto, este n√£o √© o caso. <br><br>  No processo, o autor precisa usar o pacote SQL + AWK com bastante frequ√™ncia, e √© por isso.  O SQL ainda √© uma linguagem inicialmente declarativa projetada para controlar os fluxos de dados.  Ele oferece oportunidades muito limitadas para trabalhar com o contexto de execu√ß√£o de consultas na forma de fun√ß√µes agregadas. <br><br>  Como, por exemplo, criar um histograma bidimensional usando SQL? <br><br><pre><code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--   100 x 100 SELECT count(), round(x, -2) AS cx, round(y, -2) AS cy FROM samples GROUP BY cx, xy</span></span></code> </pre> <br>  Mas, digamos, usar GROUP BY implica classifica√ß√£o e n√£o √© um prazer barato se voc√™ tiver centenas de milh√µes (ou mais) de linhas. <br><div class="spoiler">  <b class="spoiler_title">UPD: nos coment√°rios, eles me corrigiram que isso n√£o √© inteiramente verdade (ou n√£o √© verdade)</b> <div class="spoiler_text">  O processador SQL tem a capacidade de executar fun√ß√µes agregadas no processo de constru√ß√£o de um hash de acordo com o crit√©rio de agrupamento.  Para isso, √© necess√°rio que ele possua a quantidade de mem√≥ria livre suficiente para colocar o mapa de hash na mem√≥ria. <br><br>  Em seguida, os contextos dos grupos ser√£o atualizados √† medida que a tabela for lida e, no final desta leitura, j√° teremos o resultado calculado. <br>  A mesma t√©cnica pode ser estendida √†s fun√ß√µes da janela (abaixo), apenas o contexto ser√° "mais espesso". <br><br>  No caso em que o n√∫mero de grupos √© desconhecido antecipadamente ou muito grande, o processador SQL √© for√ßado a criar um √≠ndice tempor√°rio e execut√°-lo em uma segunda passagem. <br><br>  Em casos simples, por exemplo, como aqui - uma COUNT simples, uma op√ß√£o universal √© poss√≠vel - um √≠ndice tempor√°rio (cx, cy, count) e, em seguida, com um pequeno n√∫mero de grupos, todos estar√£o na mem√≥ria em p√°ginas em cache.  Em casos complexos, fun√ß√µes de janela, o estado do grupo torna-se n√£o trivial e constantemente (des) serializa n√£o √© o que o m√©dico ordenou. <br></div></div>  Resumo: O processador SQL recorre √† classifica√ß√£o quando n√£o pode estimar o n√∫mero de grupos ap√≥s GROUP BY.  No entanto, o agrupamento por valores calculados √© (geralmente) exatamente o caso. <br><br>  Portanto, voc√™ precisa fazer algo como: <br><br><pre> <code class="bash hljs">psql -t -q -c <span class="hljs-string"><span class="hljs-string">'select x, y from samples'</span></span> | gawk -f mk_hist2d.awk</code> </pre> <br>  onde mk_hist2d.awk acumula estat√≠sticas na matriz associativa e as exibe ap√≥s a conclus√£o do trabalho <br><br><pre> <code class="cpp hljs"># mk_hist2d.awk { bucket[<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>($<span class="hljs-number"><span class="hljs-number">2</span></span>*<span class="hljs-number"><span class="hljs-number">0.01</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>($<span class="hljs-number"><span class="hljs-number">3</span></span>*<span class="hljs-number"><span class="hljs-number">0.01</span></span>)]+=$<span class="hljs-number"><span class="hljs-number">1</span></span>; } END { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">500</span></span>; i++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (j=<span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; <span class="hljs-number"><span class="hljs-number">500</span></span>; j++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((i, j) in bucket) print i*<span class="hljs-number"><span class="hljs-number">100.</span></span><span class="hljs-string"><span class="hljs-string">" "</span></span>j*<span class="hljs-number"><span class="hljs-number">100.</span></span><span class="hljs-string"><span class="hljs-string">" "</span></span>bucket[i, j]; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> print i*<span class="hljs-number"><span class="hljs-number">100.</span></span><span class="hljs-string"><span class="hljs-string">" "</span></span>j*<span class="hljs-number"><span class="hljs-number">100.</span></span><span class="hljs-string"><span class="hljs-string">" 0"</span></span>; } }</code> </pre><br>  H√° um MAS - o fluxo de dados completo deve ser enviado do servidor para a m√°quina em funcionamento, e isso n√£o √© t√£o barato. <br><br>  √â poss√≠vel combinar de alguma forma o agrad√°vel com o √∫til - acumular estat√≠sticas durante a execu√ß√£o da consulta SQL, mas sem recorrer √† classifica√ß√£o?  Sim, por exemplo, usando fun√ß√µes agregadas personalizadas. <br><br><h4>  Fun√ß√µes agregadas personalizadas </h4><br>  Subj est√° presente em diferentes sistemas, em todos os lugares √© feito um pouco √† sua maneira. <br><br><ol><li>  <b>PostgreSQL</b>  A documenta√ß√£o est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Mais detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br>  √â aqui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">que o</a> saldo m√°ximo da conta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√©</a> calculado. <br>  E este √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um exemplo</a> que calcula o que h√° mais na coluna booleana - verdadeiro ou falso. <br><br>  Parece assim - <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AGGREGATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">mode</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">boolean</span></span>) ( SFUNC = mode_bool_state, STYPE = <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span>[], FINALFUNC = mode_bool_final, INITCOND = <span class="hljs-string"><span class="hljs-string">'{0,0}'</span></span> );</code> </pre><br>  Aqui <b>SFUNC</b> √© uma fun√ß√£o que √© chamada para todas as linhas no fluxo, <br>  o primeiro argumento √© do tipo <b>STYPE</b> . <br><br>  <b>FINALFUNC</b> √© usado para finalizar os c√°lculos e retorna o valor do agregado. <br>  <b>INITCOND</b> - inicializa√ß√£o do valor inicial do estado interno ( <b>STYPE</b> ), passado como o primeiro argumento. <br>  Dado que as fun√ß√µes podem ser escritas em C (o que significa que, para o estado interno, voc√™ pode usar a mem√≥ria que √© liberada automaticamente quando voc√™ fecha a solicita√ß√£o), essa √© uma ferramenta muito poderosa.  Fora do escopo de seu uso, ainda √© preciso poder ir. </li><li>  <b>MS SQL</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Anteriormente</a> (2000), antes da solicita√ß√£o, era necess√°rio criar um objeto ActiveX, para agregar usando esse objeto. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Agora</a> (2016+) isso √© feito no ambiente CLR.  Voc√™ precisar√° criar uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fun√ß√£o</a> personalizada, criar e registrar uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">montagem</a> .  Ent√£o voc√™ pode criar um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">agregado</a> . <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Um exemplo de</a> c√°lculo da m√©dia geom√©trica e da mesclagem de strings: com par√¢metros adicionais e um tipo definido pelo usu√°rio para armazenar um estado intermedi√°rio. </li><li>  <b>Oracle</b> <br>  No Oracle, isso √© feito usando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cartucho de dados</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">agregado ODCIA</a> (interface). <br>  Para criar seu pr√≥prio agregado, voc√™ precisa escrever um tipo personalizado que implemente 4 m√©todos <br>  - initialization (ODCIAggregateInitialize), static, deve criar uma inst√¢ncia do tipo desejado e retornar atrav√©s do par√¢metro <br>  - itera√ß√µes (ODCIAggregateIterate), chamadas em cada linha de dados <br>  - mesclar (ODCIAggregateMerge), usado para mesclar agregados executados em paralelo <br>  - terminar (ODCIAggregateTerminate) - sa√≠da do resultado <br>  Exemplos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">3</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">4</a> . </li><li>  <b>DB2</b> <br>  N√£o h√° maneira expl√≠cita de usar agregados customizados no DB2. <br>  Mas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">voc√™ pode</a> inserir uma fun√ß√£o padr√£o (embora MAX) em um tipo definido pelo usu√°rio (em Java) e fazer com que o sistema execute consultas no formato <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> Complex <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">real</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DOUBLE</span></span>, i <span class="hljs-keyword"><span class="hljs-keyword">DOUBLE</span></span> ) ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> complexNumbers ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> Complex ) ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> sum..real, sum..i <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> GetAggrResult(<span class="hljs-keyword"><span class="hljs-keyword">MAX</span></span>(BuildComplexSum(<span class="hljs-built_in"><span class="hljs-built_in">number</span></span>))) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> complexNumbers ) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> t(<span class="hljs-keyword"><span class="hljs-keyword">sum</span></span>)</code> </pre></li></ol><br>  O que √© digno de nota em todos esses sistemas? <br><br><ul><li>  De uma forma ou de outra, voc√™ precisar√° criar alguns objetos no banco de dados.  Seja AGREGADO ou TIPO.  No m√≠nimo, s√£o necess√°rios direitos apropriados.  <i>E s√≥ quero adicionar alguns n√∫meros no joelho.</i> <br></li><li>  Pode ser necess√°rio escrever algo em outra linguagem, seja C, C # ou Java. <br>  Para integrar o que est√° escrito no sistema, novamente, s√£o necess√°rios direitos.  <i>Mas tudo o que eu quero ...</i> <br></li><li>  Dificuldade em inicializar.  Suponha que voc√™ queira ler histogramas com diferentes tamanhos de cesto.  Parece que √© mais f√°cil - indicaremos o INITCOND desejado ao declarar o agregado (PostgreSQL) e todo o neg√≥cio.  Por√©m, para cada tamanho da cesta, voc√™ precisar√° de seu pr√≥prio agregado, e para isso novamente os direitos s√£o necess√°rios. <br><br>  Aqui voc√™ pode recorrer a um truque sujo e retirar o processador de uni√£o da linha de inicializa√ß√£o (encaminhamento) e dos dados, construir o contexto n√£o no construtor, mas quando a primeira linha for recebida. <br></li><li>  No entanto, mesmo com as limita√ß√µes descritas, agregados personalizados permitem calcular qualquer coisa. <br></li><li>  √â importante que os <u>agregados possam ser paralelizados</u> , pelo menos o PostgreSQL, e o Oracle (Enterprise Edition) pode fazer isso.  Para isso, a verdade ter√° que aprender a serializar / desserializar estados intermedi√°rios e tamb√©m congel√°-los recebidos de diferentes fluxos. </li></ul><br><h4>  Fun√ß√µes da janela </h4><br>  As fun√ß√µes da janela apareceram no padr√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SQL: 2003</a> .  No momento, eles s√£o suportados por todos os sistemas acima.  Em ess√™ncia, as fun√ß√µes da janela s√£o uma extens√£o do trabalho com unidades.  E, √© claro, fun√ß√µes agregadas personalizadas tamb√©m funcionam em um contexto de janela. <br><br>  A extens√£o √© essa.  E antes do SQL: 2003, as fun√ß√µes agregadas funcionavam em uma determinada janela, que era o conjunto de resultados inteiro ou sua parte, correspondendo √† combina√ß√£o de valores de campo da express√£o GROUP BY.  O usu√°rio agora tem alguma liberdade para manipular essa janela. <br><br>  A diferen√ßa √© que os valores calculados usando as janelas s√£o adicionados √† sa√≠da em uma coluna separada e n√£o exigem que todo o fluxo seja recolhido usando fun√ß√µes agregadas.  Portanto, em uma solicita√ß√£o, voc√™ pode usar v√°rios agregados de janela, cada um em seu pr√≥prio contexto (janela).  Antes, havia v√°rias fun√ß√µes agregadas, mas todas funcionavam em uma janela. <br><br>  Tra√ßos grandes <br><br><ul><li>  <b>Mais ()</b> <br>  a janela √© todo o conjunto de resultados.  Digamos que a consulta ' <i>select count (1) from Samples</i> ' retorne 169. Nesse caso, executando ' <i>select count (1) over () from Samples</i> ', obtemos uma coluna que √© escrita 169 vezes 169 vezes. </li><li>  <b>OVER (PARTI√á√ÉO POR)</b> <br>  √© um an√°logo de GROUP BY, para cada combina√ß√£o de valores √© criada uma janela na qual as fun√ß√µes agregadas s√£o executadas.  Digamos que na tabela Samples uma coluna inteira seja val, os dados s√£o n√∫meros de 1 a 169. <br>  Em seguida, a consulta ' <i>selecione count (1) over (parti√ß√£o por (12 + val) / 13) de Samples</i> ' retornar√° uma coluna na qual o valor 13 √© gravado 169 vezes. <br></li><li>  <b>OVER (PEDIDO POR)</b> <br>  pode ser combinado com PARTITION BY, permite alterar dinamicamente o tamanho da janela durante o cursor; nesse caso, a janela se estende do in√≠cio do grupo √† posi√ß√£o atual do cursor.  Como resultado, para o grupo, o resultado n√£o √© o mesmo na coluna agregada, mas o pr√≥prio.  Conveniente para calcular montantes acumulados.  Resultado da consulta <br>  <i>'select sum (val) over (order by val) from Samples</i> ' ser√° uma coluna na qual o en√©simo elemento conter√° a soma dos n√∫meros naturais de 1 a n. </li><li>  <b>SOBRE (ROWS)</b> <br>  permite definir os quadros da janela, come√ßando na posi√ß√£o do cursor ou no in√≠cio / final do intervalo ORDER BY. <br><br>  Por exemplo, ' <i>... AS LINHAS 1 PRECEDEM ...</i> ' significa que a janela consiste na linha atual e 1 antes dela.  A ' <i>... LINHAS ENTRE 1 SEGUINTE E 2 SEGUINTE ...</i> ' - a janela consiste em duas linhas imediatamente ap√≥s o cursor. <br><br>  A CORRENTE ATUAL neste modo indica a posi√ß√£o atual do cursor.  Por exemplo, ' <i>LINHAS ENTRE LINHA ATUAL E SEGUINTE N√ÉO LIMITADA</i> ' significa da linha atual at√© o final do intervalo. </li><li>  <b>OVER (GAMA)</b> <br>  difere de ROWS em que CURRENT ROW aqui significa como o in√≠cio da janela, o in√≠cio do intervalo de ORDER BY e como o final da janela - a √∫ltima linha do intervalo ORDER BY. </li></ul><br>  A sintaxe para usar as fun√ß√µes da janela em diferentes sistemas √© um pouco diferente. <br><br>  Para resumir o exposto, permanece um sentimento um pouco doloroso de que os desenvolvedores, depois de analisarem a constru√ß√£o de v√°rios relat√≥rios em SQL, tenham destacado os casos mais comuns e os concretizado na sintaxe. <br><br><h4>  Fun√ß√µes de retorno de registro </h4><br>  Na sa√≠da das fun√ß√µes agregadas / janela, cada linha resultante corresponde a um determinado intervalo de linhas do fluxo de dados recebido.  Na vida, essa correspond√™ncia nem sempre existe. <br><br>  Por exemplo, √© necess√°rio construir uma matriz de covari√¢ncia 10X10 (para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">isso,</a> levaria 672X672).  Isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pode ser</a> feito de uma s√≥ vez, para isso executamos a fun√ß√£o agregada escrita por n√≥s com 10 par√¢metros num√©ricos.  O resultado de seu trabalho √© um conjunto de registros de 10 linhas de 10 valores, cada elemento da matriz refere-se a todas as linhas do fluxo de entrada (n√£o importa quantas existam). <br><br>  Podemos dizer - ent√£o o que, no PostgreSQl, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">voc√™ pode</a> retornar um array bidimensional de uma fun√ß√£o (Ex: 'ARRAY [[1,2], [3,4]').  Ou apenas serialize a matriz em uma linha. <br><br>  √â bom, mas nem sempre √© poss√≠vel manter o tamanho do resultado dentro da estrutura aceit√°vel para essa abordagem. <br><br><div class="spoiler">  <b class="spoiler_title">Digress√£o l√≠rica</b> <div class="spoiler_text">  Por exemplo, nossa tarefa √© generalizar a geometria. <br><br>  O tamanho das geometrias √© desconhecido para n√≥s; tamb√©m pode ser o litoral da Eur√°sia a partir de dezenas de milh√µes de pontos.  Ou vice-versa, existe uma geometria muito aproximada, √© necess√°rio suaviz√°-la com splines.  Gostaria de passar os par√¢metros para o agregado e obter o fluxo de dados em vez de um vetor ou uma string. <br><br>  √â claro que voc√™ pode dizer que o problema √© exagerado, que ningu√©m faz isso, as geometrias no DBMS s√£o armazenadas de uma maneira especial, existem programas especiais para o processamento de geometrias, ... <br><br>  De fato, √© bastante conveniente armazenar geometrias em tabelas regulares em sentido hor√°rio, apenas porque, movendo um ponto, n√£o h√° necessidade de reescrever o blob inteiro.  Antes que os dados espaciais vazassem em todo o DBMS, era, por exemplo, no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ArcSDE</a> . <br><br>  Assim que o tamanho m√©dio do blob de geometria exceder o tamanho da p√°gina, torna-se mais rent√°vel trabalhar diretamente com pontos.  Se houvesse uma oportunidade f√≠sica de operar com fluxo de pontos, talvez a roda da hist√≥ria voltasse novamente. <br></div></div><br>  A matriz de covari√¢ncia ainda n√£o √© um exemplo muito bom da dessincroniza√ß√£o entre os fluxos de entrada e sa√≠da, pois todo o resultado √© obtido simultaneamente no final.  Suponha que voc√™ queira processar / compactar um fluxo de dados de origem.  Ao mesmo tempo <br><br><ul><li>  existem muitos dados, eles est√£o no ‚Äúheap‚Äù sem √≠ndices, na verdade eles foram simplesmente 'rapidamente' gravados no disco </li><li>  voc√™ precisa classific√°-los em diferentes categorias, que s√£o relativamente poucas </li><li>  dentro das categorias, intervalos m√©dios ao longo do tempo, armazenar apenas m√©dia, n√∫mero de medi√ß√µes e varia√ß√£o </li><li>  tudo isso precisa ser feito rapidamente </li></ul><br>  Quais s√£o as op√ß√µes? <br><br><ol><li>  No SQL, a classifica√ß√£o por intervalo de tempo / categoria √© necess√°ria, o que contradiz o √∫ltimo ponto. </li><li>  Se os dados j√° estiverem classificados por tempo (o que, de fato, n√£o √© garantido), e ser√° poss√≠vel transmitir esse fato ao processador SQL, voc√™ pode fazer isso com as fun√ß√µes da janela e uma passagem. </li><li>  Escreva um aplicativo separado que far√° tudo isso.  Em PL / SQL ou, mais provavelmente, dado que h√° muitos dados, em C / C ++. </li><li>  Fun√ß√µes que retornam registros.  Talvez eles possam nos ajudar. </li></ol><br>  Mais detalhes sobre A.4.  Existem dois mecanismos para isso - tabelas tempor√°rias e fun√ß√µes de pipeline. <br><br><ol><li>  Fun√ß√µes do transportador. <br>  Esse mecanismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apareceu</a> no Oracle (a partir de 9i, 2001) e permite que a fun√ß√£o que retornou o conjunto de registros n√£o acumule dados, mas calcule-os conforme necess√°rio (por analogia com a sincroniza√ß√£o de stdout e stdin de dois processos conectados via canal). <br>  I.e.  Os resultados das fun√ß√µes em pipeline podem come√ßar a ser processados ‚Äã‚Äãantes de sair dessa fun√ß√£o.  Para isso, basta dizer na fun√ß√£o <br><br><pre> <code class="sql hljs"> FUNCTION f_trans(p refcur_t) RETURN outrecset PIPELINED IS ‚Ä¶</code> </pre> <br>  e registrar linhas de resultado no corpo <br><br><pre> <code class="sql hljs">LOOP ‚Ä¶ out_rec.var_char1 := in_rec.email; out_rec.var_char2 := in_rec.phone_number; PIPE ROW(out_rec); ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOOP</span></span>;</code> </pre> <br>  Como resultado, temos <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span>( refcur_pkg.f_trans( <span class="hljs-keyword"><span class="hljs-keyword">CURSOR</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> department_id = <span class="hljs-number"><span class="hljs-number">60</span></span>)));</code> </pre><br>  Agregados personalizados simplesmente n√£o s√£o necess√°rios quando existem fun√ß√µes de pipeline. <br><br>  Bravo, Oracle! <br><br>  H√° n√£o muito tempo (2014), as fun√ß√µes de pipeline tamb√©m <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apareciam</a> no DB2 (IBM i 7.1 TR9, i 7.2 TR1). </li><li>  Tabelas tempor√°rias. <br>  Para come√ßar, parece que nem o MS SQL nem o PostgreSQL podem retornar um cursor a partir de uma fun√ß√£o agregada. <br><br>  Bem, vamos, por analogia com as fun√ß√µes do pipeline, pegar o cursor como par√¢metro, process√°-lo, adicion√°-lo a uma tabela tempor√°ria e retornar o cursor a ele. <br><br>  No entanto, no MS SQL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">, n√£o √© poss√≠vel</a> passar o cursor para um procedimento armazenado por um par√¢metro, apenas √© poss√≠vel criar um cursor no procedimento e retornar o par√¢metro atrav√©s da sa√≠da.  O mesmo pode ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dito para o</a> PostgreSQL. <br><br>  Bem, tudo bem, basta abrir o cursor, subtra√≠-lo, processar os valores, calcular o resultado, adicion√°-lo √† tabela tempor√°ria e renderizar o cursor. <br><br>  Ou, ainda mais simples, adicionamos os resultados da consulta a uma tabela tempor√°ria, processamos e retornamos os resultados atrav√©s do cursor para outra tabela tempor√°ria. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que</a> posso dizer?  Primeiro, e mais importante, a leitura de dados atrav√©s do cursor √© mais lenta que o processamento no fluxo.  Em segundo lugar, por que voc√™ precisa de um processador SQL, vamos ler tabelas com cursores, criar tabelas tempor√°rias com nossas m√£os, escrever l√≥gica de jun√ß√£o em loops ... √â como inser√ß√µes de assembler em C / C ++, √†s vezes voc√™ pode se tratar, mas √© melhor n√£o abusar dele. </li></ol><br>  Portanto, tendo considerado uma pergunta com fun√ß√µes retornando conjunto de registros, chegamos a conclus√µes: <br><br><ul><li>  Agregados personalizados realmente n√£o nos ajudar√£o aqui. </li><li>  De qualquer forma, voc√™ precisar√° criar alguns objetos no banco de dados.  Seja fun√ß√µes ou tabelas tempor√°rias.  No m√≠nimo, s√£o necess√°rios direitos apropriados.  <i>E s√≥ quero processar alguns n√∫meros.</i> <br></li><li>  No entanto, mesmo com as limita√ß√µes descritas, √†s vezes n√£o √© muito elegante, mas com esse m√©todo voc√™ pode resolver o problema. </li></ul><br><h4>  O que mais </h4><br>  De fato, se j√° temos a oportunidade de resolver problemas, o que mais o autor precisa? <br>  Na verdade, a m√°quina de Turing tamb√©m pode calcular qualquer coisa, apenas n√£o muito r√°pido nem muito conveniente. <br><br>  Formulamos os requisitos da seguinte forma: <br><br><ol><li>  deve ser um operador relacional que possa ser usado em p√© de igualdade com o restante (sele√ß√£o, proje√ß√£o, ...) </li><li>  deve ser um operador que transforma um fluxo de dados em outro </li><li>  n√£o h√° sincroniza√ß√£o entre os fluxos de entrada e sa√≠da </li><li>  declara√ß√£o de operador define a estrutura do fluxo de sa√≠da </li><li>  o operador tem a capacidade de inicializar dinamicamente (na forma de uma fun√ß√£o, mais precisamente seu corpo, especificado diretamente na defini√ß√£o do operador) </li><li>  bem como um destruidor na forma de uma fun√ß√£o (...) </li><li>  bem como uma fun√ß√£o (...) chamada toda vez que uma nova linha √© recebida do fluxo de entrada </li><li>  o operador possui um contexto de execu√ß√£o - um conjunto definido pelo usu√°rio de vari√°veis ‚Äã‚Äãe / ou cole√ß√µes necess√°rias para o trabalho </li><li>  para executar esse operador, voc√™ n√£o precisa criar objetos de banco de dados, n√£o precisa de direitos adicionais </li><li>  tudo o que √© necess√°rio para o trabalho √© definido em um s√≥ lugar, em um idioma </li></ol><br>  Era uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vez, o</a> autor criou um operador que estende o processador de fabrica√ß√£o pr√≥pria do subconjunto implementado do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TTM / Tutorial D.</a>  Agora, a mesma id√©ia est√° sendo proposta para SQL. <br><br>  Vale a pena avisar, aqui o SQL termina e a improvisa√ß√£o come√ßa.  A sintaxe √© deixada como estava no original; no final, o a√ß√∫car sint√°tico pode ser qualquer coisa, n√£o muda a ess√™ncia. <br><br>  Portanto, o operador de <b>mastiga√ß√£o</b> consiste em <br><br><ol><li>  Um cabe√ßalho que cont√©m uma lista de campos de sa√≠da e seus tipos. <br>  Cada campo de sa√≠da (e entrada) √© uma vari√°vel local. <br>  Ex: <i>"mastigar {" var1 "float," var2 "n√∫mero inteiro}"</i> significa que haver√° duas colunas no fluxo de sa√≠da - um ponto flutuante e um n√∫mero inteiro </li><li>  Corpos - uma lista de retornos de chamada para eventos, no momento - o in√≠cio do fluxo, o fim do fluxo, a linha.  Por sintaxe, as fun√ß√µes s√£o pr√≥ximas ao PL / SQL.  A fun√ß√£o predefinida <i>__interrupt</i> () √© um an√°logo do PIPE, pega valores das vari√°veis ‚Äã‚Äãcorrespondentes √†s colunas de sa√≠da e os coloca no fluxo de sa√≠da.  Se o buffer do fluxo de sa√≠da exceder, o trabalho do manipulador ser√° pausado e o trabalho do lado receptor do fluxo come√ßar√°. <br>  Ex: "gancho" init "{var1: = 0;  var2: = -1;  } " </li></ol><br>  A maneira mais f√°cil de mostrar exemplos. <br><br><ul><li>  Um an√°logo da fun√ß√£o agregada SUM. <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--  'select sum(val) from samples' -- select * from samples chew {‚Äúsum(val)‚Äù float} --    hook ‚Äúinit‚Äù { ‚Äúsum(val)‚Äù := 0; --      } hook ‚Äúrow‚Äù { if (not isnull("val")) then "sum(val)" := "sum(val)" + "val"; end if; } hook ‚Äúfinit‚Äù { call __interrupt(); --  PIPE }</span></span></code> </pre><br>  Parece volumoso, mas √© apenas um exemplo, <br>  n√£o √© necess√°rio escrever um programa em C para adicionar alguns n√∫meros. </li><li>  SUM + AVG <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--  'select sum(val), avg(val) from samples' -- select * from samples chew { ‚Äúsum(val)‚Äù float, ‚Äúavg(val)‚Äù float --       } hook ‚Äúinit‚Äù { ‚Äúsum(val)‚Äù := 0; ‚Äúavg(val)‚Äù := 0; var num integer; num := 0; --    ,       } hook ‚Äúrow‚Äù { if (not isnull("val")) then "sum(val)" := "sum(val)" + "val"; num := num + 1; end if; } hook ‚Äúfinit‚Äù { if (num &gt; 0) then ‚Äúavg(val)‚Äù := ‚Äúsum(val)‚Äù / num; end if; call __interrupt(); }</span></span></code> </pre><br>  Aqui chamamos aten√ß√£o para o fato de que a soma ocorre apenas uma vez. </li><li>  SUM + GRUPO POR <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--  'select sum(val) from samples group by type' -- select * from --     ( samples val, type from samples order by type ) chew { ‚Äúsum(val)‚Äù float } hook ‚Äúinit‚Äù { ‚Äúsum(val)‚Äù := 0; var gtype integer; gtype := NULL; var num integer; --   num := 0; } hook ‚Äúrow‚Äù { if (gtype &lt;&gt; ‚Äútype‚Äù) then __interrupt(); ‚Äúgtype‚Äù := type; "sum(val)" := 0; num := 0; end if; if (not isnull("val")) then "sum(val)" := "sum(val)" + "val"; num := num + 1; end if; } hook ‚Äúfinit‚Äù { if (num &gt; 0) then call __interrupt(); end if; }</span></span></code> </pre></li><li>  ROW_NUMBER () OVER () <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">-- select row_number() over() as num, * from samples -- select * from samples chew { ‚Äúnum‚Äù integer, * --        --   '* except val1, ...valX',   TTM } hook ‚Äúinit‚Äù { num := 0; } hook ‚Äúrow‚Äù { num := num + 1; call __interrupt(); }</span></span></code> </pre></li></ul><br>  √â poss√≠vel oferecer um exemplo no qual essa abordagem produz resultados que s√£o fundamentalmente inating√≠veis da maneira usual?  N√≥s os temos. <br><br>  √Äs vezes acontece que os dados est√£o quase classificados.  Eles podem at√© ser completamente classificados, mas n√£o se sabe ao certo. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suponha que no exemplo acima (compacta√ß√£o do fluxo de dados) os dados sejam provenientes de fontes diferentes e, por v√°rios motivos, possam ser ligeiramente misturados.</font></font> I.e.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma linha de uma fonte com um carimbo de data / hora T1 pode estar no banco de dados ap√≥s uma linha de outra fonte com o hor√°rio T2, enquanto T1 &lt;T2. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesmo se garantirmos que a diferen√ßa entre T1 e T2 nunca exceder√° uma certa constante (escassa), n√£o podemos prescindir da classifica√ß√£o aqui (da maneira tradicional). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No entanto, usando a abordagem proposta, √© poss√≠vel armazenar em buffer o fluxo de entrada e processar os dados do intervalo de tempo atual somente ap√≥s a entrada ter recebido linhas com um registro de data e hora que excede pelo menos uma constante determinada pelo limite direito do intervalo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° um ponto muito importante aqui. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√≥ sabemos que os dados est√£o quase classificados. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Somente n√≥s sabemos o valor dessa constante.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essa constante √© caracter√≠stica apenas para esse problema e talvez apenas para esse experimento. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E usamos esse truque por nossa pr√≥pria responsabilidade para evitar a classifica√ß√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nosso conhecimento padr√£o da tarefa n√£o existe de maneira padr√£o para informar o processador SQL, e √© dif√≠cil de imaginar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E o uso de fun√ß√µes lambda fornece uma maneira universal de for√ßar o processador SQL a fazer exatamente o que precisamos, exatamente onde precisamos.</font></font><br><br><h4>  Conclus√£o </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O design proposto n√£o parece muito dif√≠cil de implementar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De qualquer forma, com PL / SQL v√°lido. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A ideia em si √© simples e intuitiva e n√£o adiciona novas entidades ao idioma. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta √© uma unidade √∫nica que, se necess√°rio, substitui as fun√ß√µes agregadas e de janela, GROUP BY. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um mecanismo que permite fazer sem classifica√ß√µes, onde n√£o h√° como um processador SQL tradicional. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas o mais importante, √© um mecanismo que lhe d√° a liberdade de fazer o que quiser da maneira mais imperativa poss√≠vel com os dados. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> agradecimentos a Dorofei Proleskovsky por participar da prepara√ß√£o do artigo.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt435120/">https://habr.com/ru/post/pt435120/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt435106/index.html">Mais uma vez sobre o passport.js</a></li>
<li><a href="../pt435108/index.html">Usando o Prolog</a></li>
<li><a href="../pt435112/index.html">Entrevista corporativa</a></li>
<li><a href="../pt435114/index.html">Jpa de dados do Spring</a></li>
<li><a href="../pt435118/index.html">Save File Me - um servi√ßo de backup gratuito com criptografia do lado do cliente</a></li>
<li><a href="../pt435122/index.html">Como a chama foi implementada em Doom no Playstation</a></li>
<li><a href="../pt435124/index.html">Obras-primas da constru√ß√£o mundial de colunas: monitor-transformador de est√∫dio com um n√∫mero vari√°vel de bandas</a></li>
<li><a href="../pt435126/index.html">Experi√™ncia na organiza√ß√£o e realiza√ß√£o de confer√™ncias corporativas para analistas</a></li>
<li><a href="../pt435128/index.html">Pi-Sonos: um hobby fora de controle</a></li>
<li><a href="../pt435132/index.html">Nomad: problemas e solu√ß√µes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>