<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍✈️ 🌮 👨🏽‍🤝‍👨🏼 ¿Qué tan seguro es usar paquetes R para trabajar con la API de sistemas de publicidad? 👨🏻‍🚀 🍉 👼🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, con bastante frecuencia comenzaron a hacerme una pregunta sobre qué tan seguro es usar varias extensiones listas para usar, es decir, p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¿Qué tan seguro es usar paquetes R para trabajar con la API de sistemas de publicidad?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430888/"><p> Recientemente, con bastante frecuencia comenzaron a hacerme una pregunta sobre qué tan seguro es usar varias extensiones listas para usar, es decir,  paquetes escritos para el lenguaje R, ¿existe la posibilidad de que la cuenta publicitaria caiga en las manos equivocadas? </p><br><p>  En este artículo, hablaré en detalle sobre cómo funciona el mecanismo de autorización dentro de la mayoría de los paquetes y las API de servicios de publicidad, y cómo usar los paquetes descritos en el artículo de la manera más segura posible. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bca/7b8/9dc/bca7b89dc9efcb6238b8ab3f6f0a1116.jpg" alt="imagen"></div><a name="habracut"></a><br>  La información en este artículo no es técnicamente la más fácil, por lo tanto, para que el texto no sea tan seco y técnico como la ayuda habitual, me atrevo a probar el papel de guía y lo guiaré a través de los materiales de este artículo para su percepción más simple. <br><p>  Nuestro autobús turístico ya ha llegado, tome asiento y consulte nuestro itinerario actual. </p><br><h2 id="soderzhanie">  Contenido </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cómo funciona el proceso de autorización en la mayoría de los servicios de publicidad modernos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¿De dónde vino la pregunta de seguridad?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lo que te amenaza con una intercepción simbólica</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Qué hacer si alguien ha tomado posesión de tu token</a> </li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cómo usar los paquetes R de manera más segura para trabajar con los sistemas de publicidad API</a> </p><br><p>  5.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjE3zvIWpWORuHdxyVg3njPpK-TVA#ryandexdirecthttpsgithubcomselesnowryandexdirect-i-rym">ryandexdirect y rym: paquetes para trabajar con las API Yandex.Direct y Yandex.Metrica</a> <br>  5.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjE3zvIWpWORuHdxyVg3njPpK-TVA#rfacebookstat">rfacebookstat- Paquetes para trabajar con la cuenta de publicidad de Facebook</a> <br>  5.3.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjE3zvIWpWORuHdxyVg3njPpK-TVA#rvkstat">rvkstat: paquetes para trabajar con la cuenta VK</a> <br>  5.4.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjE3zvIWpWORuHdxyVg3njPpK-TVA#rmytarget">rmytarget - Paquetes de paneles de MyTarget</a> </p><br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conclusión</a> </li></ol><br><h2 id="kak-ustroen-process-avtorizacii-v-bolshinstve-sovremennyh-reklamnyh-servisov">  Cómo funciona el proceso de autorización en la mayoría de los servicios de publicidad modernos </h2><br><p>  El lugar de encuentro de nuestro grupo de excursiones es el protocolo OAuth. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2f8/fe9/b7a/2f8fe9b7a06b8ee4007f04aedd3bbbca.jpg"></p><br><p>  Casi todos los servicios con los que API tuve que trabajar llevan a cabo la autorización utilizando el protocolo OAuth 2.0, ya han escrito con más detalles al respecto en el centro, que están interesados ​​en dar un paseo en su naturaleza, por favor, tienen esa oportunidad, pueden hacerlo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> . </p><br><p>  Si explica su significado en pocas palabras, entonces OAuth permite que la aplicación (en nuestro caso, el paquete R será dicha aplicación), a la que ha otorgado permiso, realice algunas acciones en su nombre, sin la necesidad de transferir su nombre de usuario y contraseña de la cuenta publicitaria a esta aplicación, nuevamente por razones de seguridad. </p><br><p>  En lugar de un nombre de usuario y contraseña, el protocolo OAuth usa un token, esta es una cadena generada que consiste en un conjunto de letras y números, que almacena información en forma cifrada: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7ad/5e4/eed/7ad5e4eed98381e9d537fdcbd9e59fcd.png"></p><br><ul><li>  En nombre de qué usuario la aplicación ejecuta la solicitud </li><li>  ¿El usuario realmente permitió el acceso de esta aplicación a sus datos? </li><li>  ¿Tiene el usuario los permisos necesarios para trabajar con los materiales publicitarios a los que se refiere </li></ul><br><p>  Para el proceso de autorización y trabajar con la API, generalmente necesita registrar la aplicación en la API.  Además, esta aplicación debería recibir la confirmación del equipo de soporte de API de un sistema de publicidad en particular, es decir,  Inicialmente, el autor describe en detalle cómo y por qué usará la API, todo esto se verifica, modera, y solo si el soporte del lado de la plataforma publicitaria no tiene preguntas de seguridad, el autor del paquete tendrá acceso a la API, y con la ayuda de su aplicación registrada usted paquete, puede autenticarse utilizando la ID y el secreto emitido para esta aplicación. </p><br><h2 id="otkuda-voznik-vopros-bezopasnosti">  ¿De dónde vino la pregunta de seguridad? </h2><br><p>  Estamos avanzando, intentemos averiguar dónde surgió la pregunta de seguridad al usar paquetes. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/936/2cc/0c6/9362cc0c6ecf870b58c9b45d32e9299f.jpg"></p><br><p>  En general, el tema de la seguridad del acceso a los paneles publicitarios está más que justificado, ya que las oficinas de publicidad tienen dinero, y a menudo no lo suficientemente pequeño, por lo que la seguridad de las cuentas publicitarias es un problema mucho más grave que la seguridad del acceso, por ejemplo, a un perfil de usuario regular en las redes sociales. </p><br><p>  El hecho es que, en la mayoría de los casos, al autorizar, R redirige a los usuarios de los paquetes al navegador, inicialmente para confirmar el acceso a la cuenta, en esta etapa está en la página de servicio con la API con la que va a trabajar.  Después de la confirmación, el usuario es redirigido a la página donde se generará el token, o al código de confirmación de autorización, que posteriormente debe ingresarse en la consola R. </p><br><p>  Por lo tanto, la mayoría de los usuarios están preocupados porque los sitios donde se genera el token en sí o el código de confirmación de autorización son de terceros y no tienen nada que ver con el servicio de publicidad en sí, por supuesto, tienen un contador de Google Analytics o un contador Yandex.Metrica, y el propietario del sitio, que, en la mayoría de los casos, también es el autor del paquete, según muchos, a través de este sitio puede tomar posesión de sus tokens y obtener acceso para administrar sus materiales publicitarios a través de ellos. </p><br><h2 id="chem-vam-grozit-perehvat-tokena">  Lo que te amenaza con una intercepción simbólica </h2><br><p>  Hablemos de lo que generalmente le permite hacer una ficha si cae en manos de un atacante. </p><br><p>  El token debe almacenarse de la misma manera que todos los demás datos necesarios para acceder a la cuenta, es decir,  Si el token cae en cualquiera de las manos, el que lo haya tomado podrá administrar sus materiales publicitarios: eliminarlos, cambiar, por ejemplo, será posible cambiar el texto del anuncio y el enlace al que lleva. </p><br><p>  La buena noticia es que, como escribí anteriormente, el protocolo OAuth le permite dar la oportunidad de administrar sus materiales publicitarios sin proporcionar un nombre de usuario y contraseña de su cuenta, es decir.  incluso si alguien ha tomado posesión de tu token, no podrá robar tu cuenta con su ayuda.  Ni una sola API le permite solicitar, y aún más, cambiar su contraseña, para que no se le quite su cuenta, pero anunciar su sitio a través de su cuenta es fácil. </p><br><h2 id="chto-delat-esli-kto-to-zavladel-vashim-tokenom">  Qué hacer si alguien ha tomado posesión de tu token </h2><br><p>  Si sucedió que transfirió accidentalmente su ficha, no se asuste.  De hecho, este no es el fin del mundo, en la mayoría de los casos hay una serie de acciones que restablecen los tokens emitidos anteriormente, por ejemplo, en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta sección de la referencia de la API Yandex.Direct, el</a> proceso de recuperación de tokens emitidos anteriormente se describe en detalle. </p><br><p>  En la mayoría de los casos, independientemente de la API de sistema de publicidad con la que esté trabajando, será suficiente con cambiar la contraseña de su cuenta. </p><br><h2 id="kak-naibolee-bezopasno-ispolzovat-r-pakety-dlya-raboty-s-api-reklamnyh-sistem">  Cómo usar los paquetes R de manera más segura para trabajar con los sistemas de publicidad API </h2><br><p>  Y ahora hemos llegado a la parte más interesante de nuestro recorrido, luego hablaré sobre cómo es más seguro usar los paquetes que desarrollé, ya que estoy bien familiarizado con las API de los sistemas con los que trabajan. </p><br><p>  Quiero señalar que todos los tokens emitidos se almacenan en el lateral de la plataforma de publicidad, y no en la aplicación a través de la cual funciona el paquete R, por lo que incluso el usuario de la aplicación registrada para trabajar con la API de la plataforma de publicidad no tiene acceso al token en sí. </p><br><h3 id="ryandexdirecthttpsgithubcomselesnowryandexdirect-i-rymhttpsgithubcomselesnowrym---pakety-dlya-raboty-s-api-yandeksdirekt-i-yandeksmetriki">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ryandexdirect</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rym</a> : paquetes para trabajar con las API Yandex.Direct y Yandex.Metrica </h3><br><p>  Ambos paquetes usan el servicio Yandex OAuth; para más detalles, vea este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace</a> . </p><br><p>  Hay 2 funciones en el paquete ryandexdirect para la autorización: </p><br><ul><li> <code>yadirAuth</code> - autorización en dos pasos </li><li>  <code>yadirGetToken</code> - solicitud de un token de autorización </li></ul><br><p>  Cuando se usa la función yadirAuth, es decir, recomiendo usarla cuando se trabaja con ryandexdirect, el proceso de autorización continúa de acuerdo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">con el</a> esquema descrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> , la única vulnerabilidad en este caso es el período desde el momento en que se genera el código de confirmación hasta que se ingresa en la consola R. </p><br><p>  Explicaré por qué, así es como Google Analytics muestra datos sobre visitas a <strong>la</strong> página de generación del <strong>código de verificación</strong> . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/61e/43a/5bc/61e43a5bcd179c4a8008feb36245f9e1.png"></p><br><p>  Es decir  el código viene después del signo '?' y se considera un parámetro GET que captura el contador de Google Analytics, pero la vida útil de dicho código de verificación termina inmediatamente después de usarlo, es decir,  justo después de ingresarlo en la consola R. La vida útil máxima de dicho código es de 10 minutos. </p><br><p>  La segunda función, <code>yadirGetToken</code> , realiza la autorización de acuerdo con el otro esquema descrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> .  Y cuando se usa, no se genera ningún código de confirmación, es decir  después de otorgar permiso al paquete para acceder a los datos, accede a la página de generación de tokens.  El token en la URL en sí se devuelve después del signo '#', esto no es un parámetro get, sino un ancla, o como esta parte de la URL también se llama hash.  El navegador no transmite estos datos; en consecuencia, no se transfiere más a los informes de Google Analytics, es decir,  Las visitas a esta página en los informes se muestran así: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/633/040/b06/633040b066ca52c3ffba4d6d464dee02.png"></p><br><p>  En este segundo caso, no existen riesgos, pero la desventaja de usar la función yadirGetToken es que no guarda las credenciales en un archivo en su PC y, por lo tanto, no puede usar estos datos entre diferentes sesiones de R, lo cual no es muy conveniente.  Almacenará el token obtenido con su ayuda, y lo usará en los scripts como una cadena de texto, la vida útil de dicho token es de 1 año, después de lo cual el paquete no podrá reemplazarlo automáticamente, como sucede cuando se usa la función yadirGetAuth. </p><br><p>  Hay una función rym_auth en el paquete rym para autorización, que es un análogo completo de la función yadirAuth, cuyo esquema de operación ya he descrito en detalle. </p><br><h3 id="rfacebookstathttpsgithubcomselesnowrfacebookstat---pakety-dlya-raboty-s-reklamnym-kabinetom-facebook">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rfacebookstat</a> : paquetes para trabajar con la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cuenta de</a> publicidad de Facebook </h3><br><p>  El proceso de autenticación en la API de Facebook Marketing se describe en detalle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> . </p><br><p>  Para aprobar la autorización, el paquete rfacebookstat tiene la función <code>fbGetToken</code> , funciona igual que la función yadirGetToken del paquete ryandexdirect descrito anteriormente, es decir.  todo se implementa a través de la autenticación en un solo paso.  No hay peligro de que su token sea interceptado a través de los informes de Google Analytics, hay una pantalla de cómo se ve una visita a la página de generación de tokens en Google Analytics. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2c5/c13/5e7/2c5c135e71c0fdf1270aed25d59d4cef.png"></p><br><h3 id="rvkstathttpsgithubcomselesnowrvkstat---pakety-dlya-raboty-s-reklamnym-kabinetom-vkontakte">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rvkstat</a> : paquetes para trabajar con la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cuenta VK</a> </h3><br><p>  El proceso de autenticación de Vkontakte se describe en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ayuda de</a> la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">API</a> . <br>  En rvkstat, puede usar una de dos funciones para la autorización: </p><br><ul><li>  <code>vkAuth</code> : esquema de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">autorización Flujo de código de autorización</a> , es decir  Autorización en dos pasos. </li><li>  <code>vkGetToken</code> : autorización de acuerdo con el esquema de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">flujo implícito</a> , autorización de un solo paso, con el token vinculado al dispositivo. </li></ul><br><p>  <code>vkAuth</code> proporciona autenticación en dos pasos, esencialmente un análogo de la función <code>yadirAuth</code> descrita al comienzo de este bloque, pero solo para autorización en la API de Vkontakte, y no Yandex. </p><br><p>  La peculiaridad de trabajar con Vkontakte API en este caso es que registrar su aplicación y acceder a la API es bastante simple allí, no necesita completar formularios en los que debe describir en detalle cómo y por qué utilizará la API.  Entonces, dado que usa su aplicación cuando trabaja con rvkstat, incluso interceptar el código de confirmación no funciona, porque  está vinculado a su aplicación, y para interceptar un token con él, necesita conocer la <em>identificación</em> y el <em>secreto de</em> su aplicación, el código en sí no le permitirá obtener un token para usted. </p><br><p>  La función <code>vkGetToken</code> permite obtener el token de la manera más rápida, además, el token recibido está vinculado al dispositivo desde el que se solicitó, es decir.  incluso si alguien lo obtiene, puede usarlo solo desde la misma PC desde la que se le solicitó.  Al mismo tiempo, el token en la URL cuando se genera es después del signo '#' y, como dije antes, no entra en los informes de Google Analytics. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3d7/f57/b52/3d7f57b52c9f662007c801a4f8c214fc.png"></p><br><h3 id="rmytargethttpsgithubcomselesnowrmytarget---pakety-dlya-raboty-s-reklamnym-kabinetom-mytarget">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rmytarget</a> - Paquetes de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">paneles de MyTarget</a> </h3><br><p>  Por el momento, hay 3 esquemas de autorización en la API MyTarget, para obtener detalles sobre cada uno, consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentación</a> . </p><br><p>  La función myTarAuth está destinada a la autorización en la API MyTarget en rmytarget, de manera predeterminada utiliza el esquema de autorización de <em>concesión de código de</em> autorización, que le permite trabajar con la API MyTarget sin tener que acceder personalmente a ella.  Es decir  Ya registré la aplicación, fue aprobada por el soporte de la API MyTarget y usted le da acceso para trabajar con la cuenta en su nombre. </p><br><p>  <em>El Código de autorización Grant</em> es un esquema de autorización de dos etapas, es decir, similar al implementado por la función <code>yadirAuth</code> en el paquete ryandexdirect. </p><br><p>  Funciona de la siguiente manera: </p><br><ul><li>  Inicia la función, después de lo cual se abre el navegador. </li><li>  En la página del servicio MyTarget, otorga permiso para acceder a su cuenta. </li><li>  Será redirigido a la página del paquete donde se genera el código de confirmación.  La vida útil máxima de este código es de 1 hora, pero finaliza inmediatamente después de recibir un token con él. </li><li>  Ingrese el código de confirmación copiado en la consola R y obtenga un token para trabajar con la API. </li></ul><br><p>  En este caso, el código de confirmación es un parámetro de obtención y se registra en los informes de Google Analytics. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f08/183/573/f08183573b76c823fd84e754382fe9bf.png"></p><br><p>  Pero, si observa detenidamente, además del código <em>(obtener el código del parámetro)</em> , la URL contiene un parámetro más: el <em>estado</em> .  Esta es una cadena, también un token que genera el paquete rmytarget y se envía al navegador inmediatamente después de que se inicia la función, este parámetro es único y se le adjunta el código de confirmación de autorización.  Incluso si intercepta tanto el código de confirmación como el token de estado, aún no puede usar esta combinación porque  En primer lugar, no hay ningún lugar para ingresar el token de estado, y como ya escribí es único, e incluso si hubiera un lugar para ingresarlo, no se puede volver a enviar.  Por lo tanto, este esquema de autorización es completamente seguro. </p><br><p>  Pero si es lo mismo, esta opción aún le parece sospechosa, entonces rmytarget y la función <code>myTarAuth</code> permiten usar los dos esquemas de autorización restantes: </p><br><ul><li>  <em>Concesión de credenciales de cliente</em> , solía trabajar con datos de cuentas personales a través de API </li><li>  <em>Grant de credenciales de cliente de agencia</em> , solía trabajar con los datos de sus propios clientes de agencias / gerentes. </li></ul><br><p>  En este caso, debe acceder de forma independiente a la API MyTarget, en este momento solo las entidades legales pueden obtenerla, y se emite manualmente, para solicitar acceso necesita usar el formulario de comentarios, puede encontrar todos los detalles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> . </p><br><p>  Entonces, si aún logró registrar su aplicación para trabajar con la API MyTarget, puede autenticarse con bastante facilidad usando uno de los dos esquemas enumerados anteriormente usando la función <code>myTarAuth</code> , para esto, pase el valor FALSE al argumento <em>code_grant</em> y use los siguientes argumentos: </p><br><ul><li>  <em>grant_type</em> : el tipo de su cuenta, en este caso una cuenta de cliente normal, toma los valores "client_credentials" o "agency_client_credentials". </li><li>  <em>agency_client_name</em> : inicio de sesión del cliente desde la cuenta del agente, solo se usa si grant_type = "agency_client_credentials". </li><li>  <em>client_id</em> : se le emite un ID al confirmar el acceso a la API MyTarget. </li><li>  <em>client_secret</em> : emitido cuando confirma el acceso a la API MyTarget junto con el ID de cliente. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Código de muestra de autorización de concesión de credenciales del cliente</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">myTargetAuth &lt;- myTarAuth(code_grant = FALSE, grant_type = "client_credentials", client_id = "XXXXXXXXXX", client_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Código de muestra para el esquema de autorización Agencia Cliente Credenciales Subvención</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">myTargetAuth &lt;- myTarAuth(code_grant = FALSE, grant_type = "agency_client_credentials", client_id = "XXXXXXXXXX", client_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", agency_client_name = "xxxxxxxxx@agency_client")</code> </pre> </div></div><br><p>  En el caso de utilizar este enfoque, la autenticación pasará sin ninguna interacción con el sitio del paquete rmytarget. </p><br><h2 id="zaklyuchenie">  Conclusión </h2><br><p>  Aquí es donde termina nuestro recorrido, ya que hoy se publican más de 10,000 paquetes en los repositorios principales: CRAN y más de 80,000 en GitHub, en conclusión, quiero decir algunas palabras más sobre la seguridad de su uso. </p><br><p>  En primer lugar, preste atención a si hay un paquete que necesita en CRAN, ya que este es el repositorio oficial para el lenguaje R, los paquetes están sujetos a una moderación bastante estricta por parte de un equipo de especialistas de este repositorio antes de ser publicados allí.  Y el paquete no se publicará allí hasta que cumpla <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">con la política de CRAN</a> .  Por lo tanto, si el paquete está presente en CRAN, puede estar seguro de que su uso es seguro para usted. </p><br><p>  Además, quiero señalar que el código de todos los paquetes para el lenguaje R está abierto, siempre puede ver el código de cualquiera de sus funciones antes de iniciarlo. </p><br><p>  También trate de encontrar artículos sobre la aplicación de este paquete, los usuarios de R están bastante dispuestos a compartir información, y probablemente encontrará casos de uso de paquetes más o menos populares.  Si escriben sobre un paquete, significa que lo están usando, y aparentemente nadie tuvo problemas con él. </p><br><p>  También mire quién es el autor del paquete, hay dos formas de hacerlo: </p><br><ol><li>  Después de instalar el paquete, ejecute el <code>utils::packageDescription("_")$Author</code> </li><li>  Ver el archivo <em>DESCRIPTION</em> en la fuente del paquete. </li></ol><br><p>  Intente encontrar alguna información sobre el autor en la World Wide Web, si una persona es pública en lo más mínimo, es poco probable que arriesgue su reputación para obtener un token de acceso a su cuenta publicitaria y sus materiales publicitarios.  A menudo, una reputación es más cara que el dinero recibido de manera dudosa. </p><br><p>  Si instala un paquete desde GitHub, instálelo desde el repositorio del autor, y no desde cualquier rama, por regla general, hay muchas de esas ramas en repositorios populares: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a0b/805/0cf/a0b8050cfecfc935ff10f0af4c9bc339.png" alt="Ryandexdirect sucursales"></p><br><p>  El hecho es que el autor del paquete no actualiza las ramas, lo que significa que no recibirá su versión más reciente.  Y además, el usuario de GitHub que creó la sucursal puede realizar cambios en su propio código, independientemente de si decide confiar en dichos cambios. </p><br><p>  Puede ver desde qué repositorio se creó su rama en su página en GitHub. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0e5/d1f/797/0e5d1f797cdb3a225a4f43ebc5b4f174.png"></p><br><p>  No transfiera sus tokens a nadie bajo ninguna circunstancia, almacénelos de la misma manera que almacena las contraseñas de las cuentas, incluso si necesita mostrar un ejemplo de código, hágalo sin especificar tokens. </p><br><p>  Recuerde, en la gran mayoría de los casos, usar paquetes R es completamente seguro para usted, espero que este artículo me haya ayudado a convencerlo y hable sobre cómo funciona el proceso de autorización en la API de las plataformas publicitarias más populares. </p><br><p>  Buena suerte, ten cuidado pero no cedas ante la paranoia. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430888/">https://habr.com/ru/post/es430888/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430878/index.html">Disponible PhpStorm 2018.3</a></li>
<li><a href="../es430880/index.html">Otra implementación de procesamiento de datos</a></li>
<li><a href="../es430882/index.html">Xiaomi Aqara Switch rehace de ZigBee a Z-Wave</a></li>
<li><a href="../es430884/index.html">Fábrica de impresión: por qué "LANIT-Integration" abrió su propia "imprenta"</a></li>
<li><a href="../es430886/index.html">Actualizar la biblioteca y el enemigo de SPPermission</a></li>
<li><a href="../es430890/index.html">Donde ágil es terrible, especialmente scrum</a></li>
<li><a href="../es430892/index.html">La combinación del enfoque multiplataforma y nativo en el desarrollo de aplicaciones móviles.</a></li>
<li><a href="../es430894/index.html">Situación: las marcas gastan cada vez más dinero en publicidad en podcasts: entendemos por qué</a></li>
<li><a href="../es430896/index.html">Linux Foundation ha establecido fondos para GraphQL y Ceph: por qué son necesarios y qué esperar de ellos</a></li>
<li><a href="../es430900/index.html">El primer láser de la historia: qué fue</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>