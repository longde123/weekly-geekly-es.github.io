<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äç‚úàÔ∏è üåÆ üë®üèΩ‚Äçü§ù‚Äçüë®üèº ¬øQu√© tan seguro es usar paquetes R para trabajar con la API de sistemas de publicidad? üë®üèª‚ÄçüöÄ üçâ üëºüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, con bastante frecuencia comenzaron a hacerme una pregunta sobre qu√© tan seguro es usar varias extensiones listas para usar, es decir, p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øQu√© tan seguro es usar paquetes R para trabajar con la API de sistemas de publicidad?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430888/"><p> Recientemente, con bastante frecuencia comenzaron a hacerme una pregunta sobre qu√© tan seguro es usar varias extensiones listas para usar, es decir,  paquetes escritos para el lenguaje R, ¬øexiste la posibilidad de que la cuenta publicitaria caiga en las manos equivocadas? </p><br><p>  En este art√≠culo, hablar√© en detalle sobre c√≥mo funciona el mecanismo de autorizaci√≥n dentro de la mayor√≠a de los paquetes y las API de servicios de publicidad, y c√≥mo usar los paquetes descritos en el art√≠culo de la manera m√°s segura posible. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bca/7b8/9dc/bca7b89dc9efcb6238b8ab3f6f0a1116.jpg" alt="imagen"></div><a name="habracut"></a><br>  La informaci√≥n en este art√≠culo no es t√©cnicamente la m√°s f√°cil, por lo tanto, para que el texto no sea tan seco y t√©cnico como la ayuda habitual, me atrevo a probar el papel de gu√≠a y lo guiar√© a trav√©s de los materiales de este art√≠culo para su percepci√≥n m√°s simple. <br><p>  Nuestro autob√∫s tur√≠stico ya ha llegado, tome asiento y consulte nuestro itinerario actual. </p><br><h2 id="soderzhanie">  Contenido </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo funciona el proceso de autorizaci√≥n en la mayor√≠a de los servicios de publicidad modernos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¬øDe d√≥nde vino la pregunta de seguridad?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lo que te amenaza con una intercepci√≥n simb√≥lica</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Qu√© hacer si alguien ha tomado posesi√≥n de tu token</a> </li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo usar los paquetes R de manera m√°s segura para trabajar con los sistemas de publicidad API</a> </p><br><p>  5.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjE3zvIWpWORuHdxyVg3njPpK-TVA#ryandexdirecthttpsgithubcomselesnowryandexdirect-i-rym">ryandexdirect y rym: paquetes para trabajar con las API Yandex.Direct y Yandex.Metrica</a> <br>  5.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjE3zvIWpWORuHdxyVg3njPpK-TVA#rfacebookstat">rfacebookstat- Paquetes para trabajar con la cuenta de publicidad de Facebook</a> <br>  5.3.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjE3zvIWpWORuHdxyVg3njPpK-TVA#rvkstat">rvkstat: paquetes para trabajar con la cuenta VK</a> <br>  5.4.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjE3zvIWpWORuHdxyVg3njPpK-TVA#rmytarget">rmytarget - Paquetes de paneles de MyTarget</a> </p><br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conclusi√≥n</a> </li></ol><br><h2 id="kak-ustroen-process-avtorizacii-v-bolshinstve-sovremennyh-reklamnyh-servisov">  C√≥mo funciona el proceso de autorizaci√≥n en la mayor√≠a de los servicios de publicidad modernos </h2><br><p>  El lugar de encuentro de nuestro grupo de excursiones es el protocolo OAuth. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2f8/fe9/b7a/2f8fe9b7a06b8ee4007f04aedd3bbbca.jpg"></p><br><p>  Casi todos los servicios con los que API tuve que trabajar llevan a cabo la autorizaci√≥n utilizando el protocolo OAuth 2.0, ya han escrito con m√°s detalles al respecto en el centro, que est√°n interesados ‚Äã‚Äãen dar un paseo en su naturaleza, por favor, tienen esa oportunidad, pueden hacerlo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Si explica su significado en pocas palabras, entonces OAuth permite que la aplicaci√≥n (en nuestro caso, el paquete R ser√° dicha aplicaci√≥n), a la que ha otorgado permiso, realice algunas acciones en su nombre, sin la necesidad de transferir su nombre de usuario y contrase√±a de la cuenta publicitaria a esta aplicaci√≥n, nuevamente por razones de seguridad. </p><br><p>  En lugar de un nombre de usuario y contrase√±a, el protocolo OAuth usa un token, esta es una cadena generada que consiste en un conjunto de letras y n√∫meros, que almacena informaci√≥n en forma cifrada: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7ad/5e4/eed/7ad5e4eed98381e9d537fdcbd9e59fcd.png"></p><br><ul><li>  En nombre de qu√© usuario la aplicaci√≥n ejecuta la solicitud </li><li>  ¬øEl usuario realmente permiti√≥ el acceso de esta aplicaci√≥n a sus datos? </li><li>  ¬øTiene el usuario los permisos necesarios para trabajar con los materiales publicitarios a los que se refiere </li></ul><br><p>  Para el proceso de autorizaci√≥n y trabajar con la API, generalmente necesita registrar la aplicaci√≥n en la API.  Adem√°s, esta aplicaci√≥n deber√≠a recibir la confirmaci√≥n del equipo de soporte de API de un sistema de publicidad en particular, es decir,  Inicialmente, el autor describe en detalle c√≥mo y por qu√© usar√° la API, todo esto se verifica, modera, y solo si el soporte del lado de la plataforma publicitaria no tiene preguntas de seguridad, el autor del paquete tendr√° acceso a la API, y con la ayuda de su aplicaci√≥n registrada usted paquete, puede autenticarse utilizando la ID y el secreto emitido para esta aplicaci√≥n. </p><br><h2 id="otkuda-voznik-vopros-bezopasnosti">  ¬øDe d√≥nde vino la pregunta de seguridad? </h2><br><p>  Estamos avanzando, intentemos averiguar d√≥nde surgi√≥ la pregunta de seguridad al usar paquetes. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/936/2cc/0c6/9362cc0c6ecf870b58c9b45d32e9299f.jpg"></p><br><p>  En general, el tema de la seguridad del acceso a los paneles publicitarios est√° m√°s que justificado, ya que las oficinas de publicidad tienen dinero, y a menudo no lo suficientemente peque√±o, por lo que la seguridad de las cuentas publicitarias es un problema mucho m√°s grave que la seguridad del acceso, por ejemplo, a un perfil de usuario regular en las redes sociales. </p><br><p>  El hecho es que, en la mayor√≠a de los casos, al autorizar, R redirige a los usuarios de los paquetes al navegador, inicialmente para confirmar el acceso a la cuenta, en esta etapa est√° en la p√°gina de servicio con la API con la que va a trabajar.  Despu√©s de la confirmaci√≥n, el usuario es redirigido a la p√°gina donde se generar√° el token, o al c√≥digo de confirmaci√≥n de autorizaci√≥n, que posteriormente debe ingresarse en la consola R. </p><br><p>  Por lo tanto, la mayor√≠a de los usuarios est√°n preocupados porque los sitios donde se genera el token en s√≠ o el c√≥digo de confirmaci√≥n de autorizaci√≥n son de terceros y no tienen nada que ver con el servicio de publicidad en s√≠, por supuesto, tienen un contador de Google Analytics o un contador Yandex.Metrica, y el propietario del sitio, que, en la mayor√≠a de los casos, tambi√©n es el autor del paquete, seg√∫n muchos, a trav√©s de este sitio puede tomar posesi√≥n de sus tokens y obtener acceso para administrar sus materiales publicitarios a trav√©s de ellos. </p><br><h2 id="chem-vam-grozit-perehvat-tokena">  Lo que te amenaza con una intercepci√≥n simb√≥lica </h2><br><p>  Hablemos de lo que generalmente le permite hacer una ficha si cae en manos de un atacante. </p><br><p>  El token debe almacenarse de la misma manera que todos los dem√°s datos necesarios para acceder a la cuenta, es decir,  Si el token cae en cualquiera de las manos, el que lo haya tomado podr√° administrar sus materiales publicitarios: eliminarlos, cambiar, por ejemplo, ser√° posible cambiar el texto del anuncio y el enlace al que lleva. </p><br><p>  La buena noticia es que, como escrib√≠ anteriormente, el protocolo OAuth le permite dar la oportunidad de administrar sus materiales publicitarios sin proporcionar un nombre de usuario y contrase√±a de su cuenta, es decir.  incluso si alguien ha tomado posesi√≥n de tu token, no podr√° robar tu cuenta con su ayuda.  Ni una sola API le permite solicitar, y a√∫n m√°s, cambiar su contrase√±a, para que no se le quite su cuenta, pero anunciar su sitio a trav√©s de su cuenta es f√°cil. </p><br><h2 id="chto-delat-esli-kto-to-zavladel-vashim-tokenom">  Qu√© hacer si alguien ha tomado posesi√≥n de tu token </h2><br><p>  Si sucedi√≥ que transfiri√≥ accidentalmente su ficha, no se asuste.  De hecho, este no es el fin del mundo, en la mayor√≠a de los casos hay una serie de acciones que restablecen los tokens emitidos anteriormente, por ejemplo, en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta secci√≥n de la referencia de la API Yandex.Direct, el</a> proceso de recuperaci√≥n de tokens emitidos anteriormente se describe en detalle. </p><br><p>  En la mayor√≠a de los casos, independientemente de la API de sistema de publicidad con la que est√© trabajando, ser√° suficiente con cambiar la contrase√±a de su cuenta. </p><br><h2 id="kak-naibolee-bezopasno-ispolzovat-r-pakety-dlya-raboty-s-api-reklamnyh-sistem">  C√≥mo usar los paquetes R de manera m√°s segura para trabajar con los sistemas de publicidad API </h2><br><p>  Y ahora hemos llegado a la parte m√°s interesante de nuestro recorrido, luego hablar√© sobre c√≥mo es m√°s seguro usar los paquetes que desarroll√©, ya que estoy bien familiarizado con las API de los sistemas con los que trabajan. </p><br><p>  Quiero se√±alar que todos los tokens emitidos se almacenan en el lateral de la plataforma de publicidad, y no en la aplicaci√≥n a trav√©s de la cual funciona el paquete R, por lo que incluso el usuario de la aplicaci√≥n registrada para trabajar con la API de la plataforma de publicidad no tiene acceso al token en s√≠. </p><br><h3 id="ryandexdirecthttpsgithubcomselesnowryandexdirect-i-rymhttpsgithubcomselesnowrym---pakety-dlya-raboty-s-api-yandeksdirekt-i-yandeksmetriki">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ryandexdirect</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rym</a> : paquetes para trabajar con las API Yandex.Direct y Yandex.Metrica </h3><br><p>  Ambos paquetes usan el servicio Yandex OAuth; para m√°s detalles, vea este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace</a> . </p><br><p>  Hay 2 funciones en el paquete ryandexdirect para la autorizaci√≥n: </p><br><ul><li> <code>yadirAuth</code> - autorizaci√≥n en dos pasos </li><li>  <code>yadirGetToken</code> - solicitud de un token de autorizaci√≥n </li></ul><br><p>  Cuando se usa la funci√≥n yadirAuth, es decir, recomiendo usarla cuando se trabaja con ryandexdirect, el proceso de autorizaci√≥n contin√∫a de acuerdo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">con el</a> esquema descrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> , la √∫nica vulnerabilidad en este caso es el per√≠odo desde el momento en que se genera el c√≥digo de confirmaci√≥n hasta que se ingresa en la consola R. </p><br><p>  Explicar√© por qu√©, as√≠ es como Google Analytics muestra datos sobre visitas a <strong>la</strong> p√°gina de generaci√≥n del <strong>c√≥digo de verificaci√≥n</strong> . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/61e/43a/5bc/61e43a5bcd179c4a8008feb36245f9e1.png"></p><br><p>  Es decir  el c√≥digo viene despu√©s del signo '?' y se considera un par√°metro GET que captura el contador de Google Analytics, pero la vida √∫til de dicho c√≥digo de verificaci√≥n termina inmediatamente despu√©s de usarlo, es decir,  justo despu√©s de ingresarlo en la consola R. La vida √∫til m√°xima de dicho c√≥digo es de 10 minutos. </p><br><p>  La segunda funci√≥n, <code>yadirGetToken</code> , realiza la autorizaci√≥n de acuerdo con el otro esquema descrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Y cuando se usa, no se genera ning√∫n c√≥digo de confirmaci√≥n, es decir  despu√©s de otorgar permiso al paquete para acceder a los datos, accede a la p√°gina de generaci√≥n de tokens.  El token en la URL en s√≠ se devuelve despu√©s del signo '#', esto no es un par√°metro get, sino un ancla, o como esta parte de la URL tambi√©n se llama hash.  El navegador no transmite estos datos; en consecuencia, no se transfiere m√°s a los informes de Google Analytics, es decir,  Las visitas a esta p√°gina en los informes se muestran as√≠: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/633/040/b06/633040b066ca52c3ffba4d6d464dee02.png"></p><br><p>  En este segundo caso, no existen riesgos, pero la desventaja de usar la funci√≥n yadirGetToken es que no guarda las credenciales en un archivo en su PC y, por lo tanto, no puede usar estos datos entre diferentes sesiones de R, lo cual no es muy conveniente.  Almacenar√° el token obtenido con su ayuda, y lo usar√° en los scripts como una cadena de texto, la vida √∫til de dicho token es de 1 a√±o, despu√©s de lo cual el paquete no podr√° reemplazarlo autom√°ticamente, como sucede cuando se usa la funci√≥n yadirGetAuth. </p><br><p>  Hay una funci√≥n rym_auth en el paquete rym para autorizaci√≥n, que es un an√°logo completo de la funci√≥n yadirAuth, cuyo esquema de operaci√≥n ya he descrito en detalle. </p><br><h3 id="rfacebookstathttpsgithubcomselesnowrfacebookstat---pakety-dlya-raboty-s-reklamnym-kabinetom-facebook">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rfacebookstat</a> : paquetes para trabajar con la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cuenta de</a> publicidad de Facebook </h3><br><p>  El proceso de autenticaci√≥n en la API de Facebook Marketing se describe en detalle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Para aprobar la autorizaci√≥n, el paquete rfacebookstat tiene la funci√≥n <code>fbGetToken</code> , funciona igual que la funci√≥n yadirGetToken del paquete ryandexdirect descrito anteriormente, es decir.  todo se implementa a trav√©s de la autenticaci√≥n en un solo paso.  No hay peligro de que su token sea interceptado a trav√©s de los informes de Google Analytics, hay una pantalla de c√≥mo se ve una visita a la p√°gina de generaci√≥n de tokens en Google Analytics. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2c5/c13/5e7/2c5c135e71c0fdf1270aed25d59d4cef.png"></p><br><h3 id="rvkstathttpsgithubcomselesnowrvkstat---pakety-dlya-raboty-s-reklamnym-kabinetom-vkontakte">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rvkstat</a> : paquetes para trabajar con la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cuenta VK</a> </h3><br><p>  El proceso de autenticaci√≥n de Vkontakte se describe en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ayuda de</a> la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">API</a> . <br>  En rvkstat, puede usar una de dos funciones para la autorizaci√≥n: </p><br><ul><li>  <code>vkAuth</code> : esquema de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">autorizaci√≥n Flujo de c√≥digo de autorizaci√≥n</a> , es decir  Autorizaci√≥n en dos pasos. </li><li>  <code>vkGetToken</code> : autorizaci√≥n de acuerdo con el esquema de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">flujo impl√≠cito</a> , autorizaci√≥n de un solo paso, con el token vinculado al dispositivo. </li></ul><br><p>  <code>vkAuth</code> proporciona autenticaci√≥n en dos pasos, esencialmente un an√°logo de la funci√≥n <code>yadirAuth</code> descrita al comienzo de este bloque, pero solo para autorizaci√≥n en la API de Vkontakte, y no Yandex. </p><br><p>  La peculiaridad de trabajar con Vkontakte API en este caso es que registrar su aplicaci√≥n y acceder a la API es bastante simple all√≠, no necesita completar formularios en los que debe describir en detalle c√≥mo y por qu√© utilizar√° la API.  Entonces, dado que usa su aplicaci√≥n cuando trabaja con rvkstat, incluso interceptar el c√≥digo de confirmaci√≥n no funciona, porque  est√° vinculado a su aplicaci√≥n, y para interceptar un token con √©l, necesita conocer la <em>identificaci√≥n</em> y el <em>secreto de</em> su aplicaci√≥n, el c√≥digo en s√≠ no le permitir√° obtener un token para usted. </p><br><p>  La funci√≥n <code>vkGetToken</code> permite obtener el token de la manera m√°s r√°pida, adem√°s, el token recibido est√° vinculado al dispositivo desde el que se solicit√≥, es decir.  incluso si alguien lo obtiene, puede usarlo solo desde la misma PC desde la que se le solicit√≥.  Al mismo tiempo, el token en la URL cuando se genera es despu√©s del signo '#' y, como dije antes, no entra en los informes de Google Analytics. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3d7/f57/b52/3d7f57b52c9f662007c801a4f8c214fc.png"></p><br><h3 id="rmytargethttpsgithubcomselesnowrmytarget---pakety-dlya-raboty-s-reklamnym-kabinetom-mytarget">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rmytarget</a> - Paquetes de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">paneles de MyTarget</a> </h3><br><p>  Por el momento, hay 3 esquemas de autorizaci√≥n en la API MyTarget, para obtener detalles sobre cada uno, consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> . </p><br><p>  La funci√≥n myTarAuth est√° destinada a la autorizaci√≥n en la API MyTarget en rmytarget, de manera predeterminada utiliza el esquema de autorizaci√≥n de <em>concesi√≥n de c√≥digo de</em> autorizaci√≥n, que le permite trabajar con la API MyTarget sin tener que acceder personalmente a ella.  Es decir  Ya registr√© la aplicaci√≥n, fue aprobada por el soporte de la API MyTarget y usted le da acceso para trabajar con la cuenta en su nombre. </p><br><p>  <em>El C√≥digo de autorizaci√≥n Grant</em> es un esquema de autorizaci√≥n de dos etapas, es decir, similar al implementado por la funci√≥n <code>yadirAuth</code> en el paquete ryandexdirect. </p><br><p>  Funciona de la siguiente manera: </p><br><ul><li>  Inicia la funci√≥n, despu√©s de lo cual se abre el navegador. </li><li>  En la p√°gina del servicio MyTarget, otorga permiso para acceder a su cuenta. </li><li>  Ser√° redirigido a la p√°gina del paquete donde se genera el c√≥digo de confirmaci√≥n.  La vida √∫til m√°xima de este c√≥digo es de 1 hora, pero finaliza inmediatamente despu√©s de recibir un token con √©l. </li><li>  Ingrese el c√≥digo de confirmaci√≥n copiado en la consola R y obtenga un token para trabajar con la API. </li></ul><br><p>  En este caso, el c√≥digo de confirmaci√≥n es un par√°metro de obtenci√≥n y se registra en los informes de Google Analytics. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f08/183/573/f08183573b76c823fd84e754382fe9bf.png"></p><br><p>  Pero, si observa detenidamente, adem√°s del c√≥digo <em>(obtener el c√≥digo del par√°metro)</em> , la URL contiene un par√°metro m√°s: el <em>estado</em> .  Esta es una cadena, tambi√©n un token que genera el paquete rmytarget y se env√≠a al navegador inmediatamente despu√©s de que se inicia la funci√≥n, este par√°metro es √∫nico y se le adjunta el c√≥digo de confirmaci√≥n de autorizaci√≥n.  Incluso si intercepta tanto el c√≥digo de confirmaci√≥n como el token de estado, a√∫n no puede usar esta combinaci√≥n porque  En primer lugar, no hay ning√∫n lugar para ingresar el token de estado, y como ya escrib√≠ es √∫nico, e incluso si hubiera un lugar para ingresarlo, no se puede volver a enviar.  Por lo tanto, este esquema de autorizaci√≥n es completamente seguro. </p><br><p>  Pero si es lo mismo, esta opci√≥n a√∫n le parece sospechosa, entonces rmytarget y la funci√≥n <code>myTarAuth</code> permiten usar los dos esquemas de autorizaci√≥n restantes: </p><br><ul><li>  <em>Concesi√≥n de credenciales de cliente</em> , sol√≠a trabajar con datos de cuentas personales a trav√©s de API </li><li>  <em>Grant de credenciales de cliente de agencia</em> , sol√≠a trabajar con los datos de sus propios clientes de agencias / gerentes. </li></ul><br><p>  En este caso, debe acceder de forma independiente a la API MyTarget, en este momento solo las entidades legales pueden obtenerla, y se emite manualmente, para solicitar acceso necesita usar el formulario de comentarios, puede encontrar todos los detalles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Entonces, si a√∫n logr√≥ registrar su aplicaci√≥n para trabajar con la API MyTarget, puede autenticarse con bastante facilidad usando uno de los dos esquemas enumerados anteriormente usando la funci√≥n <code>myTarAuth</code> , para esto, pase el valor FALSE al argumento <em>code_grant</em> y use los siguientes argumentos: </p><br><ul><li>  <em>grant_type</em> : el tipo de su cuenta, en este caso una cuenta de cliente normal, toma los valores "client_credentials" o "agency_client_credentials". </li><li>  <em>agency_client_name</em> : inicio de sesi√≥n del cliente desde la cuenta del agente, solo se usa si grant_type = "agency_client_credentials". </li><li>  <em>client_id</em> : se le emite un ID al confirmar el acceso a la API MyTarget. </li><li>  <em>client_secret</em> : emitido cuando confirma el acceso a la API MyTarget junto con el ID de cliente. </li></ul><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de muestra de autorizaci√≥n de concesi√≥n de credenciales del cliente</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">myTargetAuth &lt;- myTarAuth(code_grant = FALSE, grant_type = "client_credentials", client_id = "XXXXXXXXXX", client_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de muestra para el esquema de autorizaci√≥n Agencia Cliente Credenciales Subvenci√≥n</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">myTargetAuth &lt;- myTarAuth(code_grant = FALSE, grant_type = "agency_client_credentials", client_id = "XXXXXXXXXX", client_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", agency_client_name = "xxxxxxxxx@agency_client")</code> </pre> </div></div><br><p>  En el caso de utilizar este enfoque, la autenticaci√≥n pasar√° sin ninguna interacci√≥n con el sitio del paquete rmytarget. </p><br><h2 id="zaklyuchenie">  Conclusi√≥n </h2><br><p>  Aqu√≠ es donde termina nuestro recorrido, ya que hoy se publican m√°s de 10,000 paquetes en los repositorios principales: CRAN y m√°s de 80,000 en GitHub, en conclusi√≥n, quiero decir algunas palabras m√°s sobre la seguridad de su uso. </p><br><p>  En primer lugar, preste atenci√≥n a si hay un paquete que necesita en CRAN, ya que este es el repositorio oficial para el lenguaje R, los paquetes est√°n sujetos a una moderaci√≥n bastante estricta por parte de un equipo de especialistas de este repositorio antes de ser publicados all√≠.  Y el paquete no se publicar√° all√≠ hasta que cumpla <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">con la pol√≠tica de CRAN</a> .  Por lo tanto, si el paquete est√° presente en CRAN, puede estar seguro de que su uso es seguro para usted. </p><br><p>  Adem√°s, quiero se√±alar que el c√≥digo de todos los paquetes para el lenguaje R est√° abierto, siempre puede ver el c√≥digo de cualquiera de sus funciones antes de iniciarlo. </p><br><p>  Tambi√©n trate de encontrar art√≠culos sobre la aplicaci√≥n de este paquete, los usuarios de R est√°n bastante dispuestos a compartir informaci√≥n, y probablemente encontrar√° casos de uso de paquetes m√°s o menos populares.  Si escriben sobre un paquete, significa que lo est√°n usando, y aparentemente nadie tuvo problemas con √©l. </p><br><p>  Tambi√©n mire qui√©n es el autor del paquete, hay dos formas de hacerlo: </p><br><ol><li>  Despu√©s de instalar el paquete, ejecute el <code>utils::packageDescription("_")$Author</code> </li><li>  Ver el archivo <em>DESCRIPTION</em> en la fuente del paquete. </li></ol><br><p>  Intente encontrar alguna informaci√≥n sobre el autor en la World Wide Web, si una persona es p√∫blica en lo m√°s m√≠nimo, es poco probable que arriesgue su reputaci√≥n para obtener un token de acceso a su cuenta publicitaria y sus materiales publicitarios.  A menudo, una reputaci√≥n es m√°s cara que el dinero recibido de manera dudosa. </p><br><p>  Si instala un paquete desde GitHub, inst√°lelo desde el repositorio del autor, y no desde cualquier rama, por regla general, hay muchas de esas ramas en repositorios populares: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a0b/805/0cf/a0b8050cfecfc935ff10f0af4c9bc339.png" alt="Ryandexdirect sucursales"></p><br><p>  El hecho es que el autor del paquete no actualiza las ramas, lo que significa que no recibir√° su versi√≥n m√°s reciente.  Y adem√°s, el usuario de GitHub que cre√≥ la sucursal puede realizar cambios en su propio c√≥digo, independientemente de si decide confiar en dichos cambios. </p><br><p>  Puede ver desde qu√© repositorio se cre√≥ su rama en su p√°gina en GitHub. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0e5/d1f/797/0e5d1f797cdb3a225a4f43ebc5b4f174.png"></p><br><p>  No transfiera sus tokens a nadie bajo ninguna circunstancia, almac√©nelos de la misma manera que almacena las contrase√±as de las cuentas, incluso si necesita mostrar un ejemplo de c√≥digo, h√°galo sin especificar tokens. </p><br><p>  Recuerde, en la gran mayor√≠a de los casos, usar paquetes R es completamente seguro para usted, espero que este art√≠culo me haya ayudado a convencerlo y hable sobre c√≥mo funciona el proceso de autorizaci√≥n en la API de las plataformas publicitarias m√°s populares. </p><br><p>  Buena suerte, ten cuidado pero no cedas ante la paranoia. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430888/">https://habr.com/ru/post/es430888/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430878/index.html">Disponible PhpStorm 2018.3</a></li>
<li><a href="../es430880/index.html">Otra implementaci√≥n de procesamiento de datos</a></li>
<li><a href="../es430882/index.html">Xiaomi Aqara Switch rehace de ZigBee a Z-Wave</a></li>
<li><a href="../es430884/index.html">F√°brica de impresi√≥n: por qu√© "LANIT-Integration" abri√≥ su propia "imprenta"</a></li>
<li><a href="../es430886/index.html">Actualizar la biblioteca y el enemigo de SPPermission</a></li>
<li><a href="../es430890/index.html">Donde √°gil es terrible, especialmente scrum</a></li>
<li><a href="../es430892/index.html">La combinaci√≥n del enfoque multiplataforma y nativo en el desarrollo de aplicaciones m√≥viles.</a></li>
<li><a href="../es430894/index.html">Situaci√≥n: las marcas gastan cada vez m√°s dinero en publicidad en podcasts: entendemos por qu√©</a></li>
<li><a href="../es430896/index.html">Linux Foundation ha establecido fondos para GraphQL y Ceph: por qu√© son necesarios y qu√© esperar de ellos</a></li>
<li><a href="../es430900/index.html">El primer l√°ser de la historia: qu√© fue</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>