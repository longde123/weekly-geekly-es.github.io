<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙇🏿 👩🏻‍🚀 👩🏽‍🎓 Beschleunigung der Datenexploration mithilfe der Pandas-Profiling-Bibliothek 🧡 👊 😫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn Sie mit einem neuen Datensatz beginnen möchten, müssen Sie ihn zunächst verstehen. Dazu ist es beispielsweise erforderlich, die von den Variablen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Beschleunigung der Datenexploration mithilfe der Pandas-Profiling-Bibliothek</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/451478/">  Wenn Sie mit einem neuen Datensatz beginnen möchten, müssen Sie ihn zunächst verstehen.  Dazu ist es beispielsweise erforderlich, die von den Variablen akzeptierten Wertebereiche und deren Typen herauszufinden und die Anzahl der fehlenden Werte zu ermitteln. <br><br>  Die Pandas-Bibliothek bietet uns viele nützliche Tools für die Durchführung von Exploratory Data Analysis (EDA).  Bevor Sie sie jedoch verwenden können, müssen Sie normalerweise mit allgemeineren Funktionen wie df.describe () beginnen.  Es ist anzumerken, dass die Möglichkeiten, die solche Funktionen bieten, begrenzt sind und die Anfangsphasen der Arbeit mit Datensätzen während der EDA sehr oft sehr ähnlich sind. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/5w/2h/8c/5w2h8ckcwdq5ukaw61r5xhdvch4.jpeg"></a> <br><br>  Der Autor des Materials, das wir heute veröffentlichen, sagt, dass er kein Fan von sich wiederholenden Aktionen ist.  Auf der Suche nach Tools zur schnellen und effizienten Durchführung explorativer Datenanalysen fand er die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pandas-Profiling-</a> Bibliothek.  Die Ergebnisse ihrer Arbeit werden nicht in Form bestimmter Einzelindikatoren ausgedrückt, sondern in Form eines ziemlich detaillierten HTML-Berichts, der die meisten Informationen zu den zu analysierenden Daten enthält, die Sie möglicherweise kennen müssen, bevor Sie enger mit ihnen zusammenarbeiten können. <br><a name="habracut"></a><br>  Hier werden die Funktionen der Verwendung der Pandas-Profiling-Bibliothek am Beispiel des Titanic-Datensatzes betrachtet. <br><br><h2>  <font color="#3AC1EF">Pandas Explorationsdatenanalyse</font> </h2><br>  Ich habe mich entschlossen, mit Pandas-Profiling für den Titanic-Datensatz zu experimentieren, da er Daten verschiedener Typen enthält und weil darin Werte fehlen.  Ich glaube, dass die Pandas-Profiling-Bibliothek besonders in Fällen interessant ist, in denen die Daten noch nicht gelöscht wurden und abhängig von ihren Funktionen eine weitere Verarbeitung erfordern.  Um eine solche Verarbeitung erfolgreich durchführen zu können, müssen Sie wissen, wo Sie beginnen und wonach Sie suchen müssen.  Hier bieten sich Funktionen zur Erstellung von Pandas-Profilen an. <br><br>  Zu Beginn importieren wir die Daten und verwenden Pandas, um Indikatoren für deskriptive Statistiken zu erhalten: <br><br><pre><code class="plaintext hljs">#    import pandas as pd import pandas_profiling import numpy as np #   df = pd.read_csv('/Users/lukas/Downloads/titanic/train.csv') #     df.describe()</code> </pre> <br>  Nachdem Sie diesen Code ausgeführt haben, erhalten Sie das, was in der folgenden Abbildung gezeigt wird. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f2/aa7/199/7f2aa71998447a1618eb8d307594ad16.png"></div><br>  <i><font color="#999999">Beschreibende Statistikmetriken mit Standard-Pandas-Tools</font></i> <br><br>  Obwohl es viele nützliche Informationen enthält, gibt es nicht alles, was interessant wäre, um mehr über die untersuchten Daten zu erfahren.  Beispielsweise können wir davon ausgehen, dass im <code>DataFrame</code> in der <code>DataFrame</code> Struktur 891 <code>DataFrame</code> vorhanden sind.  Wenn Sie dies überprüfen müssen, benötigen Sie eine weitere Codezeile, die die Größe des Frames bestimmt.  Obwohl diese Berechnungen nicht besonders ressourcenintensiv sind, führt ihre ständige Wiederholung zwangsläufig zu Zeitverlust, der wahrscheinlich besser für die Datenbereinigung aufgewendet wird. <br><br><h2>  <font color="#3AC1EF">Explorative Datenanalyse mit Pandas-Profiling</font> </h2><br>  Machen Sie jetzt dasselbe mit Pandas-Profiling: <br><br><pre> <code class="plaintext hljs">pandas_profiling.ProfileReport(df)</code> </pre> <br>  Durch die Implementierung der obigen Codezeile können Sie einen Bericht mit Indikatoren für die explorative Datenanalyse erstellen.  Der oben gezeigte Code führt zum Abschluss der gefundenen Dateninformationen, kann jedoch so ausgeführt werden, dass das Ergebnis eine HTML-Datei ist, die beispielsweise jemandem angezeigt werden kann. <br><br>  Der erste Teil des Berichts enthält den Abschnitt Übersicht, der grundlegende Informationen zu den Daten enthält (Anzahl der Beobachtungen, Anzahl der Variablen usw.).  Darüber hinaus enthält es eine Liste von Warnungen, die den Analysten darüber informieren, worauf Sie besonders achten sollten.  Diese Warnungen können ein Hinweis darauf sein, wo Sie Ihre Bemühungen bei der Bereinigung Ihrer Daten konzentrieren können. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/174/84c/728/17484c7286399fc9776298fff4f1e812.png"></div><br>  <i><font color="#999999">Übersicht über den Berichtsabschnitt</font></i> <br><br><h2>  <font color="#3AC1EF">Explorative Variablenanalyse</font> </h2><br>  Hinter dem Abschnitt Übersicht des Berichts finden Sie nützliche Informationen zu jeder Variablen.  Dazu gehören unter anderem kleine Diagramme, die die Verteilung jeder Variablen beschreiben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/323/c12/003/323c12003055c61e634d0575e564842b.png"></div><br>  <i><font color="#999999">Informationen zu numerischen Altersvariablen</font></i> <br><br>  Wie Sie dem vorherigen Beispiel entnehmen können, liefert uns die Pandas-Profilerstellung einige nützliche Indikatoren, wie z. B. den Prozentsatz und die Anzahl fehlender Werte sowie Indikatoren für beschreibende Statistiken, die wir bereits gesehen haben.  Da das <code>Age</code> eine numerische Variable ist, können wir durch die Visualisierung ihrer Verteilung in Form eines Histogramms den Schluss ziehen, dass wir eine rechtwinklige Verteilung haben. <br><br>  Bei der Betrachtung einer kategorialen Variablen unterscheiden sich die angezeigten Indikatoren geringfügig von denen für die numerische Variable. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fdf/f91/5c4/fdff915c4b0fce210387ffcfeb775b9d.png"></div><br>  <i><font color="#999999">Informationen zu kategorialen Geschlechtsvariablen</font></i> <br><br>  Anstatt den Durchschnitt, das Minimum und das Maximum zu ermitteln, hat die Pandas-Profiling-Bibliothek die Anzahl der Klassen ermittelt.  Da <code>Sex</code> eine binäre Variable ist, werden ihre Werte durch zwei Klassen dargestellt. <br><br>  Wenn Sie wie ich den Code recherchieren möchten, könnte Sie interessieren, wie genau die Pandas-Profiling-Bibliothek diese Indikatoren berechnet.  Dies zu wissen, da der Bibliothekscode offen und auf GitHub verfügbar ist, ist nicht so schwierig.  Da ich kein großer Fan von „Black Boxes“ in meinen Projekten bin, habe ich mir den Quellcode der Bibliothek angesehen.  Hier ist zum Beispiel der Mechanismus zum Verarbeiten von numerischen Variablen, die durch die Funktion description_numeric_1d dargestellt werden: <br><br><pre> <code class="plaintext hljs">def describe_numeric_1d(series, **kwargs):   """Compute summary statistics of a numerical (`TYPE_NUM`) variable (a Series).   Also create histograms (mini an full) of its distribution.   Parameters   ----------   series : Series       The variable to describe.   Returns   -------   Series       The description of the variable as a Series with index being stats keys.   """   # Format a number as a percentage. For example 0.25 will be turned to 25%.   _percentile_format = "{:.0%}"   stats = dict()   stats['type'] = base.TYPE_NUM   stats['mean'] = series.mean()   stats['std'] = series.std()   stats['variance'] = series.var()   stats['min'] = series.min()   stats['max'] = series.max()   stats['range'] = stats['max'] - stats['min']   # To avoid to compute it several times   _series_no_na = series.dropna()   for percentile in np.array([0.05, 0.25, 0.5, 0.75, 0.95]):       # The dropna() is a workaround for https://github.com/pydata/pandas/issues/13098       stats[_percentile_format.format(percentile)] = _series_no_na.quantile(percentile)   stats['iqr'] = stats['75%'] - stats['25%']   stats['kurtosis'] = series.kurt()   stats['skewness'] = series.skew()   stats['sum'] = series.sum()   stats['mad'] = series.mad()   stats['cv'] = stats['std'] / stats['mean'] if stats['mean'] else np.NaN   stats['n_zeros'] = (len(series) - np.count_nonzero(series))   stats['p_zeros'] = stats['n_zeros'] * 1.0 / len(series)   # Histograms   stats['histogram'] = histogram(series, **kwargs)   stats['mini_histogram'] = mini_histogram(series, **kwargs)   return pd.Series(stats, name=series.name)</code> </pre> <br>  Obwohl dieser Code ziemlich groß und komplex erscheint, ist es in der Tat sehr einfach, ihn zu verstehen.  Der Punkt ist, dass es im Quellcode der Bibliothek eine Funktion gibt, die die Arten von Variablen bestimmt.  Wenn sich herausstellt, dass die Bibliothek eine numerische Variable erfüllt, findet die obige Funktion die Indikatoren, die wir berücksichtigt haben.  Diese Funktion verwendet Standard-Pandas-Operationen für die Arbeit mit Objekten vom Typ " <code>Series</code> " wie " <code>series.mean()</code> .  Die Berechnungsergebnisse werden im <code>stats</code> gespeichert.  Histogramme werden mit einer angepassten Version der Funktion <code>matplotlib.pyplot.hist</code> .  Die Anpassung soll es der Funktion ermöglichen, mit verschiedenen Arten von Datensätzen zu arbeiten. <br><br><h2>  <font color="#3AC1EF">Korrelationsindikatoren und Stichprobe der untersuchten Daten</font> </h2><br>  Nach den Ergebnissen der Variablenanalyse zeigt das Pandas-Profiling im Abschnitt Korrelationen die Pearson- und Spearman-Korrelationsmatrizen an. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d95/56f/a49/d9556fa495d7c0f0fd337cae18e512a2.png"></div><br>  <i><font color="#999999">Pearson-Korrelationsmatrix</font></i> <br><br>  Bei Bedarf können in der Codezeile, mit der die Berichterstellung beginnt, die für die Berechnung der Korrelation verwendeten Schwellenwerte festgelegt werden.  Auf diese Weise können Sie angeben, welche Korrelationsstärke für Ihre Analyse als wichtig angesehen wird. <br><br>  Schließlich zeigt der Pandas-Profiling-Bericht im Abschnitt Beispiel als Beispiel ein Datenelement an, das vom Anfang des Datensatzes stammt.  Dieser Ansatz kann zu unangenehmen Überraschungen führen, da die ersten Beobachtungen eine Stichprobe sein können, die nicht die Merkmale des gesamten Datensatzes widerspiegelt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d26/9e9/d5c/d269e9d5c6d5f6cf18041a154034fcbc.png"></div><br>  <i><font color="#999999">Abschnitt mit Beispieldaten</font></i> <br><br>  Aus diesem Grund empfehle ich nicht, diesen letzten Abschnitt zu beachten.  Verwenden Sie stattdessen besser den <code>df.sample(5)</code> , mit dem zufällig 5 Fälle aus dem Datensatz ausgewählt werden. <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Zusammenfassend lässt sich feststellen, dass die Pandas-Profiling-Bibliothek dem Analysten einige nützliche Funktionen bietet, die in den Fällen nützlich sind, in denen Sie sich schnell einen Überblick über die Daten verschaffen oder jemandem einen Bericht über die Analyse von Nachrichtendaten senden müssen.  Gleichzeitig wird die eigentliche Arbeit mit Daten unter Berücksichtigung ihrer Merkmale wie ohne Verwendung von Pandas-Profiling manuell durchgeführt. <br><br>  Wenn Sie einen Blick darauf werfen möchten, wie die gesamte Intelligenzanalyse von Daten in einem Jupyter-Notizbuch aussieht, schauen Sie sich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses</a> mit nbviewer erstellte Projekt an.  Und in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem</a> GitHub-Repository finden Sie den entsprechenden Code. <br><br>  <b>Liebe Leser!</b>  Wie fangen Sie an, neue Datensätze zu analysieren? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de451478/">https://habr.com/ru/post/de451478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de451462/index.html">Schreiben Sie weniger doppelten Code mit Bindemitteln in Laravel</a></li>
<li><a href="../de451464/index.html">Frontend Weekly Digest (6. - 12. Mai 2019)</a></li>
<li><a href="../de451466/index.html">graphql - Fallstricke</a></li>
<li><a href="../de451468/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 364 (6. - 12. Mai 2019)</a></li>
<li><a href="../de451476/index.html">LLVM in Bezug auf Go</a></li>
<li><a href="../de451480/index.html">Warum verbietet das Ministerium für Industrie und Handel die Speicherung von Daten über ausländische Geräte?</a></li>
<li><a href="../de451482/index.html">Kompetenzen eines modernen Programmierers aus einem anderen Blickwinkel</a></li>
<li><a href="../de451488/index.html">Berechnung der Kannibalisierung basierend auf dem klassischen A / B-Test und der Bootstrap-Methode</a></li>
<li><a href="../de451492/index.html">Sieben unerwartete Bash-Variablen</a></li>
<li><a href="../de451496/index.html">Mitap Netologii „Karriere in der Datenwissenschaft für Anfänger“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>