<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•˜ ğŸŒ¬ï¸ ğŸ¤šğŸ¾ Pengalaman dalam mengembangkan aset Persatuan untuk menemukan jalur di ruang 3D ğŸŒ¦ï¸ ğŸ‘©â€ğŸ”¬ ğŸ‘©ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat datang di Tim Algoritma Graceful! 

 Sebagai percobaan, kami memutuskan untuk menyimpan "buku harian" pengembang tempat kami akan berbagi peng...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pengalaman dalam mengembangkan aset Persatuan untuk menemukan jalur di ruang 3D</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450854/">  Selamat datang di Tim Algoritma Graceful! <br><br>  Sebagai percobaan, kami memutuskan untuk menyimpan "buku harian" pengembang tempat kami akan berbagi pengalaman dan menyoroti beberapa hasil menarik dari eksperimen kami.  Ini adalah artikel debut kami di proyek "Pathfinder 3D" - aset untuk mesin game Unity, yang memungkinkan Anda untuk mencari jalur dalam ruang tiga dimensi.  Di dalamnya, kita akan berbicara tentang jalan dari asal usul ide ke produk lengkap dan tentang beberapa masalah yang kita temui.  Materi ini akan berguna bagi orang yang ingin memulai proyek mereka dan mendukungnya di masa depan, serta bagi mereka yang ingin menerapkan pencarian untuk jalur di luar angkasa. <br><a name="habracut"></a><br>  Sebuah tim yang terdiri dari dua orang mulai mengerjakan aset tersebut.  Yang pertama memiliki beberapa perkembangan yang memungkinkan untuk mempercepat proses menemukan jalur terpendek pada grafik kompleks yang cukup untuk bekerja secara real time, dan keinginan untuk menemukan aplikasi praktis untuk mereka, yang kedua memiliki pengalaman bekerja dengan Unity dan sedang mencari ide untuk memulai.  Karena mereka sering berkomunikasi satu sama lain, tidak mengherankan bahwa pada titik tertentu muncul ide tentang kemungkinan menciptakan aset untuk mencari jalan di ruang tiga dimensi. <br><br>  Ketika mempelajari katalog aset Unity, banyak solusi ditemukan untuk menemukan jalan dalam ruang dua dimensi, tetapi tidak satu dalam tiga dimensi.  Menjadi jelas bahwa ini adalah peluang besar untuk memasuki pasar perangkat lunak Unity, terutama mengingat visibilitas dan hiburan dari hasil yang diharapkan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sl/g0/mm/slg0mmebuga20hyrv4hiic-j2ho.jpeg"></div><br>  Tujuannya adalah untuk mengimplementasikan secara langsung pencarian jalur di ruang tiga dimensi dan kemampuan khas solusi yang ada untuk menemukan jalur di ruang dua dimensi.  Kami mulai bekerja: yang dikembangkan secara langsung mekanisme pencarian jalur, kelas kedua dan metode untuk mengelola proses pencarian jalur, antarmuka konfigurasi, adegan pengujian, dokumentasi, lokasi proyek, dan juga terlibat dalam mendaftar dan menyiapkan akun layanan yang diperlukan untuk menjual aset. <br><br>  Segera setelah dimulainya pekerjaan, menjadi jelas bahwa beberapa jenis sumber daya bersama diperlukan bagi tim untuk membuat catatan: daftar tugas dan masalah yang perlu diselesaikan, informasi tentang keputusan yang diambil, ide-ide menarik dan hasil penelitian di masa depan.  Setelah menganalisis solusi yang ada, kami berhenti di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Trello</a> , karena fungsionalitasnya, kesederhanaannya, kenyamanan dan penampilannya yang menyenangkan.  Seperti yang telah ditunjukkan oleh latihan, layanan ini sangat nyaman untuk tim kecil.  Jika tim memiliki lebih dari 5 orang, kami akan merekomendasikan menggunakan sistem manajemen proyek yang lengkap. <br><br>  Selanjutnya, kami menggambarkan keputusan yang dibuat selama pengembangan versi pertama dari aset, dan logika yang kami ikuti saat membuat mereka.  Orang-orang yang memiliki pengalaman dengan Unity dan terbiasa dengan algoritma pencarian jalur akan segera memahami di mana masalah akan muncul di masa depan.  Di tempat-tempat ini, kami menggunakan solusi sederhana untuk mengurangi waktu pengembangan hingga versi pertama dari aset diterima, agar tidak macet, karena antusiasme terbatas dan tidak konstan.  Dengan demikian, kami berurusan dengan salah satu alasan paling umum untuk menutup startup seperti itu, karena itu banyak proyek mati tanpa dilahirkan.  Semua bidang masalah diperbaiki setelah publikasi aset. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jk/ri/sp/jkrisph5ng_tz1slmdzfttxdoie.gif"></div><br>  Untuk menemukan lintasan, algoritma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">A * (A star)</a> dipilih karena kecepatan operasinya yang tinggi di ruang terbuka yang luas.  Sebagian besar algoritma pencarian jalur bekerja pada grafik yang diwakili oleh matriks diskrit.  Dimungkinkan untuk membuat matriks ini sebelumnya, tetapi proses konstruksi satu kali dalam ruang tiga dimensi dengan hambatan memandang waktu itu sebagai tugas yang agak sulit.  Selain itu, tidak jelas bagaimana melakukan ini tanpa mengorbankan kinerja, karena pada saat awal bekerja pada aset tidak ada pengalaman dengan proses latar belakang dan multithreading di Unity, serta dengan multithreading secara umum.  Grafik dibentuk secara real time dengan memeriksa ruang dengan sinar fisik (Physics.BoxCast) ke arah pencarian.  Lintasan yang ditemukan dikurangi menjadi rusak dengan titik tengah lebih sedikit, dan kemudian dihaluskan oleh splines. <br><br>  Kesulitan utama adalah ketidakmungkinan menggunakan metode fisik mesin secara serempak, karena mereka dapat bekerja secara eksklusif di utas utama.  Pada adegan yang tidak terlalu rumit, menggunakan fungsi pencarian pada saat yang sama oleh tidak lebih dari dua puluh agen tidak secara signifikan mempengaruhi laju bingkai.  Untuk menghilangkan drawdowns FPS yang langka dan kuat, beban komputasi ditempatkan dalam waktu menggunakan coroutine.  Ini memperlambat pencarian, tetapi tidak signifikan. <br><br>  Sebelum mengirimkan aset untuk moderasi, Anda perlu memasukkan kode dan menyusun dokumentasi terperinci, sesuai dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">persyaratan</a> , mendaftar, dan mengonfigurasi surat dukungan.  Juga disarankan untuk membuat situs web proyek di mana berita dan demo pengembangan akan ditampilkan dengan nyaman.  Ini akan menjadi nilai tambah yang besar baik selama moderasi, dan saat mempelajari aset Anda oleh pengguna sebelum membeli.  Layanan hosting dan surat dipesan oleh kami dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">BeGet</a> , karena pada saat itu menawarkan penawaran yang paling menguntungkan, dan biaya kami 1000r / tahun. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7u/h4/7q/7uh47qdtjz_vkhribjsh19_xcc8.png"></div><br>  Moderasi aset berlangsung selama 22 hari dan berlalu untuk pertama kalinya, karena kami dengan sangat hati-hati mendekati dokumentasi dan desain halaman aset di Unity store.  Setelah publikasi, aset langsung jatuh ke tempat pertama dalam kategori Scripting / AI.  Sejak saat itu, surat-surat mulai datang ke surat dukungan yang meminta bantuan dalam memecahkan masalah-masalah tertentu.  Kadang beberapa per hari, kadang tidak sebulan.  Jika Anda rata-rata, maka selama sebulan 2 orang mengajukan pertanyaan, korespondensi dengan yang memakan waktu total 2-3 jam.  Tidak terlalu banyak, tetapi harus diingat bahwa terlepas dari beban kerja Anda saat ini, Anda harus merespons dengan sangat cepat sehingga pengguna yang marah tidak menulis ulasan buruk tentang produk, tetapi, sebaliknya, antusias tentang dukungan kualitas, meninggalkan yang positif.  Juga, cukup banyak pertanyaan datang ke surat seperti "apakah aset Anda akan berfungsi jika ...".  Surat-surat semacam itu juga tidak boleh diabaikan, karena ini adalah pembeli potensial yang dapat pergi. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x8/3b/kd/x83bkdcsm3bxsxmeor0yhe8xij0.jpeg"></div><br>  Ketika keluhan dari pembeli pertama diterima, menjadi jelas bahwa banyak pengguna menggunakan aset pada adegan kompleks yang memiliki konfigurasi labirin atau rongga terhubung lainnya.  Dalam proyek semacam itu, skema pencarian jalur kami, berdasarkan pemeriksaan tabrakan, dan bahkan di arus utama, tidak cukup efektif.  Oleh karena itu, kami mulai menerapkan konstruksi awal grafik sehingga akan mungkin untuk mencari jalur di aliran samping tanpa menggunakan fisika dan mengakses objek pemandangan. <br><br>  Diskretisasi ruang tiga dimensi memecahnya menjadi kubus.  Menyimpan informasi tentang semua kubus partisi adalah mubazir dan sangat intensif memori.  Oleh karena itu, logis untuk menyimpan hanya koordinat sel yang tidak dapat dilewati, yang telah dilakukan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2k/kl/5p/2kkl5pn7lgswpe_7bwixkioulpw.jpeg"></div><br>  Hambatan permainan adalah angka poligonal dan terdiri dari segitiga.  Untuk memperhitungkan hambatan dalam grafik pencarian, Anda harus menemukan semua kubus partisi yang memotong segitiga apa pun dari hambatan apa pun.  Sudah pada tahap ini, kemungkinan untuk secara dinamis menghapus dan menambahkan hambatan ke panggung telah diletakkan, dan tidak hanya koordinat kubus yang diduduki diselamatkan, tetapi juga pengidentifikasi kendala yang ada di dalamnya.  Sekarang dimungkinkan untuk membuat grafik navigasi sebelum dimulainya proses permainan dan, karena dihilangkannya sejumlah besar perhitungan kompleks selama pencarian jalur, lebih dari dua ratus agen bisa membuatnya secara bersamaan tanpa mengorbankan kinerja. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6o/yn/bd/6oynbdbckmzfhtzu289blvzhqcu.jpeg"></div><br>  Masalah lain yang kami ketahui juga terasa: algoritma A * dan modifikasinya bekerja sangat buruk di ruang terbatas pada grafik daya tinggi.  Karena algoritma mereka lebih memilih arah rute menuju mendekati titik target, setiap jalan buntu yang mengarah ke target sangat memperlambat pencarian jalan, karena sebelum memilih arah yang berbeda dari "perkecambahan", algoritma pertama "mengisi" seluruh ruang di dalam jalan buntu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ff/ph/is/ffphis2un_0wdpsehrnwra1fiha.gif"></div><br>  Dalam situasi seperti itu, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">algoritma pencarian gelombang (Lee Algoritma)</a> terbukti sangat efektif karena <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">jumlah operasi yang lebih kecil</a> diperlukan untuk "mengisi" ruang.  Oleh karena itu, ditambahkan ke aset sebagai alternatif.  Saat menguji pada tahap yang merupakan labirin, waktu pencarian untuk jalur berkurang lebih dari 30 kali. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eq/lt/nd/eqltndonsivsvukp1t6lhn_awmo.jpeg"></div><br>  Untuk mempercepat pemrosesan awal adegan dan menemukan jalur ke aset, kemungkinan eksekusi paralel proses ditambahkan, tetapi efisiensi paralelisme sangat rendah, karena kenyataan bahwa ketika bekerja dengan wadah yang menyimpan koordinat sel yang ditempati, perlu untuk menyinkronkan aliran, yang dilakukan dengan menyinkronkan aliran, yang dilakukan dengan menggunakan mutex, karena koleksi kompetitif dan banyak alat lain untuk memastikan sinkronisasi yang efisien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">diimplementasikan</a> hanya dalam standar .NET Framework 4.5, dan di Unity, versi .NE digunakan hingga rilis 2018.  T Framework 3.5.  Kami mencoba untuk memecahkan masalah ini menggunakan alat yang tersedia, tetapi mereka memiliki kinerja yang sangat biasa-biasa saja, dan kami hanya mendapatkan hasil yang diinginkan setelah beralih ke rilis Unity 2018.  Penggunaan koleksi kompetitif juga membuka kemungkinan untuk menyadari perubahan dinamis dari rintangan di tempat kejadian. <br><br>  Pada tahap tertentu, ketidaksepakatan mulai timbul dalam tim mengenai distribusi keuntungan, dan orang ketiga bergabung dengan tim, yang memperkenalkan sistem untuk menilai waktu investasi dari masing-masing anggota tim, dan juga mulai terlibat dalam inspeksi dan pengujian kode, yang secara signifikan meningkatkan kualitas produk. <br><br>  Sistem untuk memperkirakan biaya waktu saat ini dibuat dalam bentuk tabel Excel dan merupakan sistem otomatis di mana sebulan sekali perlu memasukkan informasi tentang penjualan dan tugas yang diselesaikan selama sebulan terakhir.  Anggota tim perlu mengevaluasi berapa banyak waktu yang mereka perlukan untuk menyelesaikan masalah tertentu.  Dengan demikian, ketika menilai kompleksitas waktu tugas, kecepatan setiap peserta diperhitungkan.  Penaksiran berlebihan atau pernyataan yang tidak wajar oleh salah satu peserta segera menjadi jelas dari akumulasi statistik penilaian sebelumnya.  Dan, dengan tidak adanya penjelasan yang memuaskan, masalah ini diputuskan oleh seluruh tim.  Pendekatan ini terbukti baik untuk digunakan selama enam bulan dan diizinkan untuk mengumpulkan statistik yang menarik.  Kami tidak menemukan solusi gratis siap pakai yang akan menyediakan fitur yang dijelaskan.  Oleh karena itu, saat ini, untuk tim kecil, implementasi dalam bentuk tabel Excel tampaknya optimal bagi kami.  Untuk tim yang relatif besar, kemungkinan besar Anda harus merancang basis data, mengembangkan bagian server dan klien, atau menerapkan ekstensi untuk salah satu sistem manajemen proyek yang ada. <br><br>  <strong>Untuk meringkas.</strong>  Setahun telah berlalu sejak awal pengembangan ke versi pertama dengan fungsionalitas minimum yang diperlukan dan kinerja yang cukup untuk digunakan dalam proyek nyata.  Enam bulan lagi dihabiskan untuk meningkatkan kinerja dan mengimplementasikan pekerjaan multi-utas aset.  Saat ini, kami memperkirakan biaya waktu untuk proyek ini pada 1065 jam kerja (ini adalah perkiraan yang agak optimis), dan laba rata-rata untuk bulan tersebut adalah 9,5t.  Sangat mudah untuk menghitung bahwa biaya rata-rata satu jam kerja saat ini adalah sekitar 160 rubel, yang tidak terlalu banyak.  Namun, hal utama dalam acara ini adalah pengalaman yang didapat oleh masing-masing peserta.  Termasuk pengalaman kerja tim dan pengalaman dukungan produk perangkat lunak.  Proyek ini dapat dianggap berhasil. <br><br>  Sekarang tim kami telah mulai menerapkan fungsi tambahan yang berguna: verifikasi jangkauan algoritmik;  kemampuan untuk menetapkan objek game ke portal;  dukungan hambatan dinamis;  Navigasi lokal antara agen untuk mencegah tabrakan dan merencanakan rute lokal. <br><br>  Kami berharap materi ini membantu seseorang membawa proyek mereka ke garis finish. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id450854/">https://habr.com/ru/post/id450854/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id450840/index.html">Senter terakhir sudah lelah atau Akankah flicker menyelamatkan Belarus (upd. Spinner?)</a></li>
<li><a href="../id450844/index.html">Pengantar Pemetaan Contoh</a></li>
<li><a href="../id450846/index.html">Keajaiban kemasan dari Microsoft: kernel Linux di Windows 10 dan mesin IE di dalam Chromium Edge</a></li>
<li><a href="../id450848/index.html">Tentang fosfor kuning dan sifat panik manusia</a></li>
<li><a href="../id450850/index.html">Menuju masa depan yang lebih cerah untuk kompiler pintar</a></li>
<li><a href="../id450858/index.html">Pertemuan Open Source Networking - sekarang di Yandex.Cloud # 3.2019</a></li>
<li><a href="../id450860/index.html">Smart socket REDMOND SkyPort 100S</a></li>
<li><a href="../id450862/index.html">@Pythonetc April 2019</a></li>
<li><a href="../id450864/index.html">Kiat dan trik dari saluran Telegram saya @pythonetc, April 2019</a></li>
<li><a href="../id450868/index.html">Laporan video dari pertemuan otomasi FunTech QA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>