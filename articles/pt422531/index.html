<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèæ ü•ñ üí¢ Otimiza√ß√£o da Web: a mais importante üåè üçß üï¥Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Autor do livro eletr√¥nico - Eddie Osmani, Gerente de desenvolvimento do Google Chrome 

 tl; dr 
 A compacta√ß√£o de imagem sempre deve ser automatizada...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Otimiza√ß√£o da Web: a mais importante</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422531/">  <font color="gray">Autor do livro eletr√¥nico - Eddie Osmani, Gerente de desenvolvimento do Google Chrome</font> <br><br><h1>  tl; dr </h1><br><h4>  A compacta√ß√£o de imagem sempre deve ser automatizada. </h4><br>  A otimiza√ß√£o gr√°fica deve ser automatizada.  √â f√°cil esquec√™-lo, as recomenda√ß√µes mudam e o pr√≥prio conte√∫do pode facilmente passar pela linha de montagem.  Para automatizar a compila√ß√£o, use <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">imagemin</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">libvips</a> .  Existem muitos outros. <br><br>  A maioria das CDNs (como a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Akamai</a> ) e solu√ß√µes de terceiros como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cloudinary</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">imgix</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fastly</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Image Optimizer</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Instart Logic</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SmartVision</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ImageOptim API</a> oferecem solu√ß√µes automatizadas abrangentes para otimiza√ß√£o de imagens. <br><br>  Voc√™ gastar√° tempo lendo artigos e configurando-os, o que √© mais caro do que pagar por seus servi√ßos (o Cloudinary tem uma tarifa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gratuita</a> ).  Mas se voc√™ ainda n√£o deseja terceirizar seu trabalho por raz√µes de custo ou por causa de lat√™ncia adicional, escolha as op√ß√µes de c√≥digo aberto acima.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Os</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">projetos</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Imageflow</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Thumbor</a> oferecem uma alternativa em sua pr√≥pria hospedagem. <br><a name="habracut"></a><br><h4>  Todo mundo precisa compactar imagens com efici√™ncia </h4><br>  No m√≠nimo, use o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ImageOptim</a> .  Reduz significativamente o tamanho, mantendo a qualidade visual.  Existem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vers√µes</a> para Windows e Linux. <br><br>  Uma abordagem mais completa: execute arquivos JPEG no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MozJPEG</a> (para qualidade de conte√∫do da web <code>q=80</code> ou inferior √© aceit√°vel) e considere o suporte ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JPEG progressivo</a> .  Passe arquivos PNG pelo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pngquant</a> e SVG pelo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SVGO</a> .  Especifique explicitamente a limpeza de metadados (- <code>--strip</code> para pngquant) para evitar o incha√ßo do arquivo.  Em vez de GIFs gigantes e loucos, d√™ aos usu√°rios v√≠deos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">H.264</a> (ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WebM</a> para Chrome, Firefox e Opera)!  Se voc√™ n√£o puder pagar, pelo menos use <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Giflossy</a> .  Quando for poss√≠vel gastar alguns ciclos de CPU, e voc√™ precisar de uma imagem de melhor qualidade e estiver pronto para aguentar um longo tempo de codifica√ß√£o, tente o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guetzli</a> . <br><br>  Alguns navegadores anunciam suporte para formatos de imagem atrav√©s do cabe√ßalho Aceitar.  Isso pode ser usado ao escolher um formato para emiss√£o: por exemplo, o formato <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WebP</a> para navegadores baseados em Blink, como o Chrome, e a op√ß√£o JPEG / PNG para outros navegadores. <br><br>  A compacta√ß√£o sempre pode ser melhorada.  Existem ferramentas para gerar e emitir <code>srcset</code> .  Nos navegadores baseados em Blink, a sele√ß√£o de recursos √© automatizada usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dicas do cliente</a> - e voc√™ economizar√° tr√°fego nos usu√°rios que especificaram a op√ß√£o "salvar dados" no navegador atrav√©s da dica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Salvar dados</a> . <br><br>  Quanto menor o tamanho das imagens, mais conveniente √© para os usu√°rios - especialmente com telefones celulares.  Neste artigo, examinaremos maneiras de compactar gr√°ficos usando m√©todos modernos com impacto m√≠nimo na qualidade. <br><br><h1>  Conte√∫do </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1. Introdu√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como sei se as imagens precisam ser otimizadas?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como escolher um formato?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JPEG modesto</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modos de compacta√ß√£o JPEG</a> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Benef√≠cios JPEG progressivos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quem usa JPEG progressivo na produ√ß√£o?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Desvantagens progressivas do JPEG</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como codificar arquivos JPEG progressivos?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Redu√ß√£o de escala de cores</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JPEG superior</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Otimizadores de JPEG</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que √© o MozJPEG?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que √© Guetzli?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Compara√ß√£o de MozJPEG com Guetzli?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Butteraugli</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que √© o WebP?</a> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como funciona o webp?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quem usa o WebP na produ√ß√£o?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">como funciona a codifica√ß√£o webp?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Suporte ao navegador WebP</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como converter imagens em WebP?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como visualizar imagens da WebP no meu sistema operacional?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como dar WebP?</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Otimiza√ß√£o SVG</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Evite apertar gr√°ficos com perda de qualidade</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Reduza os custos desnecess√°rios de decodifica√ß√£o e redimensionamento</a> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Entregue imagens HiDPI usando srcset</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Transforma√ß√£o art√≠stica</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gerenciamento de cores</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sprites</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Carregamento lento de imagens n√£o cr√≠ticas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como evitar a exibi√ß√£o: nenhuma armadilha</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Faz sentido usar o CDN para processamento de imagem?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cache de imagem</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pr√©-carregar recursos importantes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Or√ßamentos de desempenho da Web para imagens</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Recomenda√ß√µes finais</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pequenas coisas</a> </li></ul><br><a name="01"></a><h1>  1. Introdu√ß√£o </h1><br><h4>  Os gr√°ficos continuam sendo a principal causa das p√°ginas da web sobre obesidade </h4><br>  As imagens comp√µem uma grande parte do tr√°fego da Internet.  De acordo com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=http://">arquivo HTTP</a> , 60% das p√°ginas da Web s√£o gr√°ficos JPEG, PNG e GIF.  Em julho de 2017, as imagens tinham 1,7 MB em uma p√°gina da web m√©dia de 3,0 MB. <br><br>  O experimento de Tammy Everts <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">provou</a> que adicionar imagens a uma p√°gina ou ampliar imagens existentes aumenta a taxa de convers√£o (porcentagem de visitantes que se tornam clientes - aprox. Por.).  Portanto, as fotos n√£o v√£o a lugar algum - √© por isso que √© importante investir em uma estrat√©gia eficaz para compact√°-las. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a3/3b0/2b6/4a33b02b6a5429884129920cb5795047.jpg"><br>  <i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Um</a> estudo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2016 da Soasta / Google</a> mostrou que as ilustra√ß√µes s√£o o segundo preditor de convers√£o e as p√°ginas efetivas t√™m 38% menos imagens.</font></i> <br><br>  A otimiza√ß√£o da imagem envolve v√°rias medidas.  A escolha depende de qual perda de qualidade √© considerada aceit√°vel. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/717/0e8/588/7170e85883225b9e08b09ea84cc3ae72.jpg"><br>  <i><font color="gray">Otimiza√ß√£o: escolha o formato correto, comprima suavemente e priorize o carregamento de imagens diferentes</font></i> <br><br>  As otimiza√ß√µes t√≠picas incluem compacta√ß√£o, renderiza√ß√£o inteligente de imagens com base no tamanho usando as <code>&lt;picture&gt;/&lt;img srcset&gt;</code> e redimensionamento. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ba/36c/69c/8ba36c69c745b99a1bb0b25d803ae15c.jpg"><br>  <i><font color="gray">De acordo com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HTTP Archive</a> , no percentil 95 (na fun√ß√£o de distribui√ß√£o cumulativa), cada imagem pode ser reduzida em 30 KB!</font></i> <br><br>  Ainda temos muitas imagens que podem ser otimizadas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/640/bb3/f22/640bb3f22116b34da321bc72f5ffd360.jpg"><br>  <i><font color="gray">O freeware ImageOptim reduz o tamanho dos gr√°ficos com m√©todos modernos de compacta√ß√£o e remove metadados desnecess√°rios EXIF</font></i> <br><br>  Se voc√™ √© um designer, tamb√©m existe o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plug-in ImageOptim para Sketch</a> , que otimiza os recursos ao exportar.  Eu descobri que economiza uma tonelada de tempo. <br><br><a name="02"></a><h1>  Como sei se as imagens precisam ser otimizadas? </h1><br>  Audite seu site usando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WebPageTest.org</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bd7/5ed/eb7/bd75edeb7a6ded48fcb74b79acc9b01f.jpg"><br>  <i><font color="gray">A se√ß√£o Compactar imagens do relat√≥rio WebPageTest lista imagens que podem ser compactadas com mais efici√™ncia, enquanto avalia poss√≠veis ganhos no tamanho do arquivo</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c45/d66/afa/c45d66afa348cb8c00124c6d3c95bb99.jpg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Lighthouse</a> tamb√©m realiza auditorias de desempenho, incluindo a verifica√ß√£o da otimiza√ß√£o da imagem.  Ele mostra imagens que podem ser compactadas com mais for√ßa e que podem ser colocadas em carregamento lento. <br><br>  A partir do Chrome 60, esse servi√ßo funciona no painel de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">auditoria do</a> Chrome DevTools: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f98/cbe/eb0/f98cbeeb0a10a2faf610981cecf07400.jpg"><br>  <i><font color="gray">A Lighthouse realiza uma auditoria visando a produtividade, pr√°ticas recomendadas ou recursos avan√ßados de aplicativos da Web (opcional)</font></i> <br><br>  Voc√™ pode conhecer outras ferramentas de auditoria, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PageSpeed ‚Äã‚ÄãInsights</a> e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Teste de velocidade</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site</a> da Cloudinary, que inclui auditoria detalhada de imagens. <br><br><a name="03"></a><h1>  Como escolher um formato? </h1><br>  Como Ilya Grigorik observou em seu excelente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">guia para otimiza√ß√£o de imagens</a> , o "formato correto" combina o resultado visual desejado e os requisitos funcionais.  Voc√™ tem gr√°ficos de varredura ou vetoriais? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/69b/fc1/e44/69bfc1e44304fbf9877fe53a86ff80b2.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Os gr√°ficos de varredura</a> codificam os valores de cada pixel em uma grade retangular de pixels.  Eles s√£o independentes da resolu√ß√£o ou escala.  WebP ou formatos amplamente suportados, como JPEG ou PNG, podem fazer esse tipo de gr√°fico.  Os gr√°ficos de varredura s√£o usados ‚Äã‚Äãonde o fotorrealismo √© necess√°rio.  Guetzli, MozJPEG e outras ferramentas mencionadas s√£o adequadas para gr√°ficos raster. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Os gr√°ficos vetoriais</a> usam pontos, linhas e pol√≠gonos para representar imagens com formas geom√©tricas simples (como logotipos).  Oferece alta resolu√ß√£o e zoom.  Para esta op√ß√£o, formatos como SVG s√£o mais adequados. <br><br>  Escolher o formato errado custar√° muito.  Mude o formato com cuidado, realizando experimentos com poss√≠veis economias em diferentes formatos. <br><br>  Jeremy Wagner em sua palestra <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">destacou as vantagens e desvantagens</a> que devem ser consideradas ao avaliar diferentes formatos no processo de otimiza√ß√£o. <br><br><a name="04"></a><h1>  JPEG modesto </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JPEG</a> √© provavelmente o formato gr√°fico mais popular do mundo.  Conforme observado anteriormente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=http://">45% das imagens</a> nos sites no arquivo HTTP s√£o imagens JPEG.  Seu telefone, c√¢mera digital, webcam antiga - todos eles geralmente suportam esse codec.  √â muito antigo, √© utilizado desde 1992.  Durante esse per√≠odo, uma grande quantidade de pesquisas foi feita sobre como melhorar a compacta√ß√£o JPEG. <br><br>  JPEG √© um algoritmo de compacta√ß√£o com perdas que descarta informa√ß√µes "extras" para economizar espa√ßo.  O desafio √© maximizar a precis√£o visual enquanto minimiza o tamanho dos arquivos. <br><br><h4>  Que qualidade de imagem √© aceit√°vel no seu caso? </h4><br>  Formatos como JPEG s√£o mais adequados para fotos ou imagens com muita cor.  A maioria das ferramentas de otimiza√ß√£o permite escolher um n√≠vel de compacta√ß√£o aceit√°vel: uma compacta√ß√£o mais forte reduz o tamanho dos arquivos, mas pode trazer artefatos: halo ou bloqueio. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef8/c24/b8e/ef8c24b8ea845d7f5ba216762c72f60c.jpg"><br>  <i><font color="gray">Os artefatos vis√≠veis de compacta√ß√£o JPEG aumentam √† medida que voc√™ passa do melhor para o pior.</font></i>  <i><font color="gray">Observe que a qualidade da imagem em diferentes ferramentas pode variar bastante.</font></i> <br><br>  Ao escolher um n√≠vel de compacta√ß√£o, considere a qualidade necess√°ria para as imagens: <br><br><ul><li>  <b>O melhor</b> : quando a qualidade √© mais importante que o tamanho do arquivo.  Isso pode ser devido ao fato de a imagem ocupar um lugar de destaque no design ou ser exibida em resolu√ß√£o total. </li><li>  <b>Bom</b> : quando voc√™ pensa em economizar tr√°fego, mas n√£o quer afetar muito a qualidade da imagem.  Ainda assim, a qualidade das ilustra√ß√µes √© importante para os usu√°rios. </li><li>  <b>Baixa</b> : quando voc√™ se preocupa com o tr√°fego m√≠nimo e suporta a degrada√ß√£o da imagem.  Esse perfil √© adequado para redes com pouca cobertura e canais finos. </li><li>  <b>Menor</b> : economizar largura de banda √© da maior import√¢ncia.  Os usu√°rios concordam com uma qualidade muito baixa para carregamento mais r√°pido da p√°gina. </li></ul><br>  Em seguida, vamos falar sobre os modos de compacta√ß√£o JPEG que afetam bastante o resultado. <br><br><blockquote>  <b>Nota:</b> √†s vezes podemos superestimar a qualidade da imagem que os usu√°rios precisam.  A qualidade pode ser considerada como um desvio da fonte ideal.  Este √© um indicador subjetivo. </blockquote><br><a name="05"></a><h1>  Modos de compacta√ß√£o JPEG </h1><br>  O formato JPEG possui v√°rios modos de compacta√ß√£o diferentes.  Tr√™s populares: compress√£o b√°sica (sequencial), JPEG progressiva (PJPEG) e sem perdas. <br><br><h4>  Qual √© a diferen√ßa entre JPEG b√°sico (ou seq√ºencial) e progressivo? </h4><br>  O JPEG b√°sico (o modo padr√£o na maioria dos editores e otimizadores) codifica e decodifica de maneira relativamente simples: de cima para baixo.  Quando um JPEG b√°sico √© carregado em uma conex√£o lenta ou inst√°vel, o usu√°rio primeiro v√™ a parte superior da imagem.  O modo de compacta√ß√£o JPEG sem perdas √© semelhante ao b√°sico, apenas com uma taxa de compacta√ß√£o mais baixa. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d23/6db/cbe/d236dbcbedb51e84a7ab3531543008f9.jpg"><br>  <i><font color="gray">O JPEG b√°sico (JPEG de linha de base) √© carregado de cima para baixo e o JPEG progressivo √© baixado de emba√ßado para n√≠tido</font></i> <br><br>  O JPEG progressivo divide a imagem em uma s√©rie de passes.  A primeira passagem mostra a imagem na forma emba√ßada e de baixa qualidade, e as passagens subsequentes melhoram gradualmente a qualidade.  Cada passe aumenta o n√≠vel de detalhe.  No final, uma imagem completa √© criada. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/576/cd4/82c/576cd482ced17692a2dd98fc68cf7eb7.jpg"><br>  <i><font color="gray">O JPEG b√°sico carrega a imagem de cima para baixo.</font></i>  <i><font color="gray">O PJPEG primeiro mostra uma imagem borrada e depois aumenta a resolu√ß√£o.</font></i>  <i><font color="gray">Pat Minan desenvolveu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=http://www.patrickmeenan.com/progressive/view.php%3Fimg%3D">uma ferramenta interativa</a> para testar e estudar arquivos JPEG progressivos</font></i> <br><br>  A otimiza√ß√£o do JPEG sem perdas √© obtida <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">removendo os cabe√ßalhos EXIF</a> das c√¢meras e editores digitais, otimizando as <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tabelas Huffman</a> e digitalizando novamente a imagem.  Ferramentas como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jpegtran</a> fornecem compacta√ß√£o sem perdas, reconstruindo dados compactados sem comprometer a qualidade da imagem.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jpegrescan</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jpegoptim</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mozjpeg</a> (que veremos em breve) tamb√©m suportam compacta√ß√£o JPEG sem perdas. <br><br><a name="06"></a><h2>  Benef√≠cios JPEG progressivos </h2><br>  A capacidade do PJPEG de exibir visualiza√ß√µes no momento da inicializa√ß√£o melhora o desempenho - parece aos usu√°rios que a imagem carrega mais rapidamente do que os gr√°ficos padr√£o. <br><br>  Em conex√µes 3G lentas, isso permite que voc√™ veja a imagem aproximadamente quando apenas parte do arquivo √© recebida - e decide se deve esperar o download completo ou n√£o.  Isso pode ser mais conveniente do que carregar a imagem de cima para baixo, como no JPEG b√°sico. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f54/39b/acc/f5439bacc4fb55239d2895ac9817b492.png"><br>  <i><font color="gray">Em 2015, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Facebook mudou para o PJPEG (para seu aplicativo iOS)</a> e o tr√°fego diminuiu 10%.</font></i>  <i><font color="gray">Eles foram capazes de exibir uma imagem de boa qualidade 15% mais r√°pida do que antes, otimizando o tempo de carregamento percebido, como mostrado na figura acima</font></i> <br><br>  O PJPEG pode reduzir o tamanho do arquivo em 2 a 10% em compara√ß√£o com o JPEG b√°sico / simples para imagens com mais de 10 KB.  Uma taxa de compacta√ß√£o mais alta √© alcan√ßada devido ao fato de que a cada passo uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tabela Huffman</a> separada pode ser compilada.  Os codificadores JPEG modernos (por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">libjpeg-turbo</a> , MozJPEG, etc.) usam a flexibilidade do PJPEG para uma melhor compacta√ß√£o de dados. <br><br><blockquote>  <b>Nota:</b> por que o PJPEG comprime melhor?  Como os blocos JPEG b√°sicos s√£o codificados um de cada vez, e no PJPEG, os coeficientes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">discretos de transforma√ß√£o de cosseno</a> de v√°rios blocos podem ser codificados juntos, o que leva a uma melhor compacta√ß√£o. </blockquote><br><a name="07"></a><h2>  Quem usa JPEG progressivo na produ√ß√£o? </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Twitter.com produz JPEGs progressivos</a> com um n√≠vel b√°sico de qualidade de 85%.  Eles mediram o atraso subjetivo percebido pelo usu√°rio (tempo at√© a primeira passagem e o tempo total de download) e decidiram que o PJPEG geralmente era adequado com base na qualidade da velocidade de compacta√ß√£o, codifica√ß√£o e decodifica√ß√£o. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Facebook produz JPEGs progressivos no aplicativo iOS</a> .  Isso reduziu o tr√°fego em 10% e acelerou a emiss√£o de imagens de "boa qualidade" em 15%. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Yelp mudou para JPEG progressivo</a> .  Essa √© uma das medidas que reduziu o tamanho da imagem em cerca de 4,5%.  Ele caiu 13,8% devido ao MozJPEG. </li></ul><br>  Muitos outros sites com um grande n√∫mero de arquivos de imagem, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pinterest</a> , tamb√©m usam JPEG progressivo na produ√ß√£o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/106/3da/c22/1063dac226ca94466d408d5eb660ebce.png"><br>  <i><font color="gray">No Pinterest, as imagens s√£o codificadas apenas em JPEG progressivo.</font></i>  <i><font color="gray">√â mais conveniente para os usu√°rios quando a imagem aparece gradualmente</font></i> <br><br><a name="08"></a><h2>  Desvantagens progressivas do JPEG </h2><br>  A decodifica√ß√£o PJPEG √© mais lenta que o JPEG b√°sico - √†s vezes tr√™s vezes mais lenta.  Em m√°quinas de mesa com processadores poderosos, isso n√£o √© t√£o importante quanto em dispositivos m√≥veis com recursos limitados.  A exibi√ß√£o de camadas incompletas requer trabalho, pois voc√™ decodifica a imagem v√°rias vezes.  Essas passagens m√∫ltiplas consomem ciclos de CPU. <br><br>  Al√©m disso, as imagens JPEG progressivas <i>nem sempre</i> s√£o menores.  A codifica√ß√£o progressiva de imagens muito pequenas (como miniaturas para visualiza√ß√µes) pode aumentar seu tamanho.  E, para tais imagens, a renderiza√ß√£o em v√°rias passagens geralmente faz pouco sentido. <br><br>  Portanto, antes de escolher o PJPEG, √© recomend√°vel experimentar e encontrar o equil√≠brio certo entre o tamanho do arquivo, a lat√™ncia da rede e o uso da CPU. <br><br><blockquote>  <b>Nota: A</b> decodifica√ß√£o de hardware PJPEG (e todo JPEG) pode ser suportada em dispositivos m√≥veis.  Isso n√£o reduz o consumo de mem√≥ria, mas reduz a carga no processador.  Nem todos os smartphones Android t√™m acelera√ß√£o de hardware, mas em dispositivos de ponta e dispositivos iOS, √©. </blockquote><br>  Alguns usu√°rios podem considerar os downloads progressivos uma desvantagem, pois dificulta a compreens√£o quando o download da imagem √© conclu√≠do.  Tente avaliar como seu p√∫blico se relaciona com isso. <br><br><a name="09"></a><h2>  Como codificar arquivos JPEG progressivos? </h2><br>  Ferramentas e bibliotecas como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ImageMagick</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">libjpeg</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jpegtran</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jpeg-recompress</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">imagemin</a> suportam JPEG progressivo.  Se voc√™ j√° configurou um pipeline de otimiza√ß√£o, √© prov√°vel que alterar o m√©todo de codifica√ß√£o JPEG n√£o seja um problema: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'images'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'images/*.jpg'</span></span>) .pipe(imagemin({ <span class="hljs-attr"><span class="hljs-attr">progressive</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> })) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)); });</code> </pre> <br>  A maioria dos editores, por padr√£o, salva no JPEG base. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1fe/8fe/189/1fe8fe189888206150a2c92ad28b590f.jpg"><br>  <i><font color="gray">A maioria dos editores, por padr√£o, salva no JPEG b√°sico, mas isso pode ser alterado nas configura√ß√µes.</font></i>  <i><font color="gray">No Photoshop, voc√™ precisa selecionar o comando "Arquivo" ‚Üí "Exportar" ‚Üí "Salvar para a Web" e indicar o formato JPEG progressivo.</font></i>  <i><font color="gray">O Sketch tamb√©m suporta a exporta√ß√£o de Progressive JPEG, marcando uma caixa de sele√ß√£o no menu de exporta√ß√£o JPG</font></i> <br><br><a name="10"></a><h2>  Redu√ß√£o de escala de cores </h2><br>  Nossos olhos percebem menos perda de cor que brilho.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Subamostragem de cores</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">subamostra de</a> croma) - um tipo de compacta√ß√£o que reduz a precis√£o das cores devido ao brilho (luma).  Isso reduz o tamanho do arquivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para 15 a 17%</a> , sem afetar significativamente a qualidade da imagem.  A superamostragem tamb√©m reduz o uso de mem√≥ria. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41b/040/dd9/41b040dd91221b76f82d9f207646ef4a.jpg"><br><br>  O contraste √© respons√°vel pela nitidez da imagem; portanto, o luma √© muito importante.  As fotografias em preto e branco n√£o t√™m cor, mas devido ao seu brilho, parecem t√£o detalhadas quanto as cores.  O croma afeta menos a percep√ß√£o visual. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1d7/518/d2e/1d7518d2e4020bf3c7b4f58500d2b4e5.jpg"><br>  <i><font color="gray">O JPEG suporta v√°rios tipos de subamostragem: sem subamostragem, horizontal, horizontal + vertical.</font></i>  <i><font color="gray">Aqui est√° uma ilustra√ß√£o do artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"JPEG for Crabs", de</a> Frederick Kaiser</font></i> <br><br>  Ao discutir subamostras, v√°rios exemplos comuns s√£o geralmente citados: 4: 4: 4, 4: 2: 2 e 4: 2: 0.  O que eles s√£o?  Suponha que a subamostra esteja no formato A: B: C.  Aqui A √© o n√∫mero de pixels em uma linha, para JPEG geralmente √© 4, B √© o n√∫mero de cores na primeira linha e C √© o n√∫mero de cores na segunda. <br><br><ul><li>  Em <code>4:4:4</code> n√£o h√° compress√£o, a cor e o brilho s√£o totalmente transmitidos. </li><li>  Em <code>4:2:2</code> meia amostragem horizontal e verticalmente. </li><li>  Em <code>4:2:0</code> , s√£o usadas cores da metade dos pixels da primeira linha. </li></ul><br><blockquote>  <b>Nota:</b> jpegtran e cjpeg suportam uma configura√ß√£o separada de brilho e cor atrav√©s do sinalizador <code>-sample</code> (por exemplo, <code>-sample 2x1</code> ).  Algumas regras gerais: reduzir a amostragem ( <code>-sample 2x2</code> ) √© excelente para fotos.  √â melhor desativ√°-lo (exemplo <code>-sample 1x1</code> ) para capturas de tela, banners e bot√µes.  Finalmente, <code>2x1</code> , caso voc√™ n√£o tenha certeza de qual op√ß√£o usar. </blockquote><br>  Ao reduzir o n√∫mero de pixels, voc√™ pode reduzir significativamente o tamanho dos componentes de cores, reduzindo finalmente o tamanho do arquivo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d5/cbd/8d3/6d5cbd8d354285776369025a20c3390c.jpg"><br>  <i><font color="gray">80 op√ß√µes de subamostragem de cores para qualidade JPEG 80</font></i> <br><br>  A redu√ß√£o da amostragem de cores √© √∫til para a maioria das imagens, embora haja exce√ß√µes √≥bvias: √© melhor n√£o us√°-la onde os detalhes das cores s√£o t√£o importantes quanto o brilho (por exemplo, imagens m√©dicas). <br><br>  Imagens com fontes tamb√©m sofrer√£o.  As arestas n√≠tidas s√£o mais dif√≠ceis de compactar com o JPEG, pois ele foi projetado para lidar melhor com cenas fotogr√°ficas com transi√ß√µes mais suaves. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/792/434/e28/792434e286dd698afecc7de662c8ab18.jpg"><br>  <i><font color="gray">Ao trabalhar com texto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">, o</a> tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aprendendo JPEG</a> recomenda a ader√™ncia √† subamostragem 4: 4: 4 (1 √ó 1)</font></i> <br><br>  A prop√≥sito: nas especifica√ß√µes JPEG, o m√©todo exato de subamostragem de cores n√£o √© indicado; portanto, diferentes codificadores / decodificadores agem de maneira diferente.  MozJPEG e libjpeg-turbo usam o mesmo m√©todo, e vers√µes mais antigas do libjpeg usam o outro, o que adiciona artefatos. <br><br><blockquote>  <b>Nota: O</b> Photoshop seleciona automaticamente a subamostragem de cores ao salvar na Web.  Se a qualidade estiver definida no intervalo de 51 a 100, a subamostragem n√£o ser√° usada (4: 4: 4).  Quando a qualidade √© mais baixa, 4: 2: 0 √© definido.  Esse √© um dos motivos pelos quais o tamanho do arquivo diminui drasticamente ao mudar a qualidade de 51 para 50. </blockquote><br><blockquote>  <b>Nota: O</b> termo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">YCbCr</a> √© frequentemente referido em uma discuss√£o de subamostragem.  Este √© um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modelo de</a> espa√ßo de cores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RGB de</a> corre√ß√£o de gama.  Y √© o brilho corrigido por gama, Cb √© o componente croma do azul e Cr √© vermelho.  Se voc√™ olhar para ExifData, ver√° YCbCr ao lado dos n√≠veis de amostra. </blockquote><br>  Para obter mais informa√ß√µes, consulte o artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Por que voc√™ n√£o est√° usando subamostragem de cores?"</a> <br><br><a name="11"></a><h2>  JPEG superior </h2><br><h4>  Qual √© o status atual dos JPEGs na Internet? </h4><br> <i>tl;dr:     .    ,        .</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3e2/26c/f29/3e226cf294bca6151e7ab29b3cc8e05d.jpg"><br> <i><font color="gray">   ( )        26 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SSIM</a> ( )  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Butteraugli</a> ,      .</font></i> <br><br><ul><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JPEG 2000</a> (2000)</b> ‚Äî          . <b>  :  Safari  iOS</b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JPEG XR</a> (2009)</b> ‚Äî  JPEG  JPEG 2000,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HDR</a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> .    ,  JPEG,      /. <b>  : Edge, IE</b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WebP</a> (2010)</b> ‚Äî       Google       .   ,  JPEG,   ,  PNG.        .   ,   JPEG. <b>  : Chrome, Opera.    Safari  Firefox</b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FLIF</a> (2015)</b> ‚Äî    ,  PNG, WebP  , BPG    JPEG 2000     . <b>  : ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JS-</a></b> . </li><li> <b>HEIF  BPG</b> .      ,     : </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BPG</a> (2015)</b> ‚Äî  JPEG      HEVC ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">High Efficiency Video Coding</a> ). ,        MozJPEG  WebP.      -   . <b>  : ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JS-</a></b> . </li><li> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HEIF</a> (2015)</b> ‚Äî      ,  HEVC   . Apple   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WWDC</a> ,     c JPEG  HEIF    iOS,        . <b>  :     .     Safari  iOS 11</b> . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ gosta de receber as informa√ß√µes de forma gr√°fica, voc√™ pode apreciar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">essas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ferramentas de compara√ß√£o visual a alguns dos formatos acima. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assim, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o suporte ao navegador √© muito diferente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Para usar qualquer um dos formatos acima, voc√™ provavelmente precisar√° fornecer c√≥pias diferentes para cada um dos navegadores de destino. No Google, vemos certos clientes em potencial da WebP e, em breve, analisaremos mais de perto esse formato. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ tamb√©m pode produzir formatos diferentes (por exemplo, WebP, JPEG 2000) com a mesma extens√£o .jpg (ou qualquer outra), pois o navegador pode escolher o tipo de conte√∫do para renderiza√ß√£o, independentemente da extens√£o. Isso permite que voc√™ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especifique o tipo de conte√∫do</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no lado do servidor, sem alterar o documento HTML. </font><font style="vertical-align: inherit;">Servi√ßos como o Instart Logic adotam essa abordagem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, falaremos sobre situa√ß√µes em que √© imposs√≠vel gerar imagens em diferentes formatos: os </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">otimizadores de JPEG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ajudar√£o aqui </font><font style="vertical-align: inherit;">.</font></font><br><br><a name="12"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Otimizadores de JPEG </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os codecs JPEG modernos est√£o tentando reduzir o tamanho dos arquivos JPEG, preservando a qualidade e a compatibilidade com os navegadores e aplicativos existentes. </font><font style="vertical-align: inherit;">Eles eliminam a necessidade de usar novos formatos de imagem e fazer altera√ß√µes no ecossistema. </font><font style="vertical-align: inherit;">Dois desses codificadores s√£o MozJPEG e Guetzli. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tl; dr: Qual codec JPEG otimizado para usar?</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A maioria dos arquivos: MozJPEG </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se a qualidade √© importante e voc√™ concorda com a codifica√ß√£o cont√≠nua: Guetzli </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se voc√™ precisar de configura√ß√£o: </font></font></li></ul><br><a name="13"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que √© o MozJPEG? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Mozilla oferece um codificador JPEG atualizado - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Segundo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desenvolvedores, reduz o tamanho dos arquivos JPEG em 10%. Os arquivos compactados MozJPEG s√£o abertos em todos os navegadores, e entre as fun√ß√µes suportadas est√£o a varredura progressiva, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quantiza√ß√£o de treli√ßa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (exclus√£o de detalhes com pior compacta√ß√£o) e v√°rios </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avan√ßados de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">tabela de quantiza√ß√£o</font></a><font style="vertical-align: inherit;"> que ajudam a criar imagens mais suaves de alta DPI (embora isso seja poss√≠vel com o ImageMagick, se voc√™ estiver pronto para percorrer a selva da configura√ß√£o XML). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O MozJPEG √© suportado no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageOptim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e existe um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugin de imagem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personaliz√°vel relativamente confi√°vel </font><font style="vertical-align: inherit;">. Aqui est√° um exemplo de implementa√ß√£o usando o Gulp:</font></font><br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> gulp = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminMozjpeg = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-mozjpeg'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'mozjpeg'</span></span>, () =&gt; gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(imagemin([imageminMozjpeg({ quality: <span class="hljs-number"><span class="hljs-number">85</span></span> })])) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/4f4/7fe/93a/4f47fe93a97da4bb6e0d1fb491f99d32.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c90/265/8a2/c902658a2ad04db50cf3a5e76d8cffb5.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MozJPEG: comparando tamanhos de arquivo e classifica√ß√µes de similaridade visual com qualidade diferente.Para</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> calcular as classifica√ß√µes do SSIM (similaridade estrutural com a imagem original), usei o</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jpeg-compress</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do projeto</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jpeg-archive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na minha experi√™ncia, o MozJPEG √© uma boa op√ß√£o para compactar imagens na Internet com alta qualidade e reduzir o tamanho do arquivo. Para imagens de tamanho pequeno e m√©dio, o MozJPEG (com qualidade de 80 a 85) reduz os arquivos em 30 a 40%, mantendo o SSIM aceit√°vel e melhorando em 5 a 6% com o jpeg-turbo. Ele codifica</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mais lentamente que o JPEG b√°sico</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas a diferen√ßa n√£o √© cr√≠tica.</font></font><br><br><blockquote> <b>:</b>    ,  MozJPEG          ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jpeg-recompress</a> .   ¬´-  ¬ª        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . </blockquote><br><a name="14"></a><h2>   Guetzli? </h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um codec JPEG perceptivo, promissor, mas muito lento, do Google. Ele est√° tentando encontrar o menor JPEG, perceptivelmente indistingu√≠vel do original. O codec realiza uma s√©rie de experimentos, oferecendo op√ß√µes para compara√ß√£o, e leva em considera√ß√£o o erro psico-visual de cada op√ß√£o. A op√ß√£o com a classifica√ß√£o mais alta √© selecionada como resultado final. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli usa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Butteraugli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um modelo baseado na percep√ß√£o humana (discutido abaixo), </font><font style="vertical-align: inherit;">para medir as diferen√ßas entre as imagens </font><font style="vertical-align: inherit;">. Guetzli leva em considera√ß√£o algumas propriedades da vis√£o humana que n√£o s√£o levadas em considera√ß√£o por outros codecs JPEG. Por exemplo, existe uma rela√ß√£o entre a quantidade de luz verde vis√≠vel e a sensibilidade ao azul, para que as mudan√ßas de azul ao redor do verde possam ser codificadas com menos precis√£o.</font></font><br><br><blockquote> <b>:</b>   <b></b>     <b> </b> ,    .         JPEG ,  √≥ ,    .       .      ,      . </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alega</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uma diferen√ßa de tamanho de arquivo de 20 a 30% sem reduzir a pontua√ß√£o de Butteraugli em compara√ß√£o com outros compressores. A grande falha de Guetzli √© sua extrema lentid√£o, portanto, atualmente √© apenas adequado para conte√∫do est√°tico. README indica uma grande quantidade de mem√≥ria consumida: a codifica√ß√£o leva cerca de 1 minuto e 200 MB de RAM por megapixel. H√° um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bom t√≥pico</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no GitHub </font><font style="vertical-align: inherit;">com uma discuss√£o da experi√™ncia real com Guetzli. O codec √© ideal para otimizar imagens ao criar um site est√°tico, mas √© menos adequado para iniciar sob demanda. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferramentas como o ImageOptim suportam a otimiza√ß√£o do Guetzli (nas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vers√µes recentes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> gulp = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminGuetzli = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-guetzli'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'guetzli'</span></span>, () =&gt; gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(imagemin([ imageminGuetzli({ quality: <span class="hljs-number"><span class="hljs-number">85</span></span> }) ])) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/734/9a0/698/7349a069854fef62982512c8e3a08f1a.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A codifica√ß√£o de imagens Guetzli de 3000 √ó 3000 pixels com n√≠veis diferentes levou quase sete minutos. </font><font style="vertical-align: inherit;">Isso faz sentido para arquivar fotos de alta resolu√ß√£o. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b2b/6a4/1a8/b2b6a41a8799620ebc175fb9c63c1bb0.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli: comparando tamanhos de arquivo e avaliando similaridades visuais com qualidade diferente</font></font></font></i> <br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: √â</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recomend√°vel executar o Guetzli em imagens de alta qualidade (por exemplo, imagens de origem n√£o compactadas, PNG ou JPEG com cerca de 100% de qualidade). </font><font style="vertical-align: inherit;">Embora o efeito tamb√©m ocorra em outras imagens (por exemplo, qualidade JPEG 84 ou inferior), os resultados s√£o piores.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guetzli gasta muito (muito) muito tempo e far√° o cooler da CPU girar completamente, mas vale a pena. </font><font style="vertical-align: inherit;">Vi v√°rios exemplos em que o tamanho do arquivo foi reduzido em 40%, mantendo a precis√£o visual. </font><font style="vertical-align: inherit;">Isso a torna a escolha ideal para arquivar fotos. </font><font style="vertical-align: inherit;">Nas imagens de tamanho pequeno e m√©dio, h√° tamb√©m algumas economias (na faixa de 10 a 15 KB), mas n√£o t√£o significativas. </font><font style="vertical-align: inherit;">Ao compactar imagens muito pequenas, Guetzli pode introduzir distor√ß√µes do tipo fluido. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para v√°rios </font><font style="vertical-align: inherit;">casos </font><font style="vertical-align: inherit;">de uso, voc√™ pode estar interessado em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparar o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli com a compacta√ß√£o autom√°tica do Cloudinary no estudo de Eric Portis.</font></font><br><br><a name="15"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compara√ß√£o entre MozJPEG e Guetzli </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â dif√≠cil comparar diferentes codecs JPEG: voc√™ precisa avaliar a qualidade e a precis√£o da imagem compactada, n√£o apenas o tamanho. </font><font style="vertical-align: inherit;">Como Cornel Lesinsky, especialista em compacta√ß√£o de imagem, aponta, apenas um, e n√£o ambos, benchmark pode levar a </font><font style="vertical-align: inherit;">conclus√µes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incorretas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como s√£o Guetzli e MozJPEG em compara√ß√£o? </font><font style="vertical-align: inherit;">Abordagem de Cornell:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O guetzli √© adequado para imagens de alta qualidade (a classifica√ß√£o ideal √© considerada butteraugli para q = 90 + e para MozJPEG - cerca de q = 75) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guetzli √© muito mais lento (ambos produzem JPEGs padr√£o, portanto, a decodifica√ß√£o √© igualmente r√°pida, como de costume) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O MozJPEG n√£o seleciona automaticamente uma configura√ß√£o de qualidade, mas voc√™ pode encontrar a melhor qualidade usando uma ferramenta externa, por exemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jpeg-archive</font></font></a> </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem v√°rios m√©todos para determinar a semelhan√ßa visual ou perceptiva das imagens compactadas com a fonte. </font><font style="vertical-align: inherit;">Os estudos costumam usar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSIM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (semelhan√ßa estrutural). </font><font style="vertical-align: inherit;">No entanto, Guetzli √© otimizado para Butteraugli.</font></font><br><br><a name="16"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Butteraugli </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O sistema Butteraugli determina o momento em que uma pessoa come√ßa a notar a diferen√ßa (semelhan√ßa psico-visual) entre as duas imagens. Butteraugli n√£o apenas fornece uma estimativa, mas tamb√©m elabora um mapa espacial do n√≠vel de diferen√ßas. Enquanto o SSIM resume todos os erros, Butteraugli procura o m√°ximo. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/798/5b0/df8/7985b0df81227135fd3b432abf490a1b.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neste exemplo, Butteraugli procura um limite m√≠nimo para a qualidade JPEG, para que o usu√°rio n√£o perceba a diferen√ßa visual entre as imagens. Isso nos permitiu reduzir o tamanho do arquivo em 65%</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Na pr√°tica, voc√™ determina o n√≠vel de qualidade visual e executa v√°rias estrat√©gias de otimiza√ß√£o de imagem, observando as estimativas de Butteraugli, antes de escolher um resultado que corresponda ao equil√≠brio ideal entre tamanho do arquivo e n√≠vel de compacta√ß√£o.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/bf8/9e1/b18/bf89e1b182b3c5e8b89ffab674e1488d.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demorei cerca de 30 minutos para configurar o Butteraugli localmente depois de instalar o Bazel e criar as fontes C ++ para compilar corretamente no Mac. </font><font style="vertical-align: inherit;">Seu uso √© relativamente simples: especifique duas imagens para compara√ß√£o (fonte e vers√£o compactada) - e obtenha uma estimativa</font></font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qual a diferen√ßa entre Butteraugli e outros m√©todos de avalia√ß√£o da similaridade visual? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um dos desenvolvedores de Guetzli </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que Guetzli √© melhor em Butteraugli, pior no SSIM, e o MozJPEG √© igualmente bom nas duas m√©tricas. </font><font style="vertical-align: inherit;">Essa √© a estrat√©gia que eu uso para otimizar imagens. </font><font style="vertical-align: inherit;">Estou executando o Butteraugli e um m√≥dulo Node como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">img-ssim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para comparar as classifica√ß√µes do SSIM antes / depois do Guetzli e do MozJPEG.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Associa√ß√£o de codificadores? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como a pr√°tica demonstrou, a combina√ß√£o de Guetzli e MozJPEG </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sem perdas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (jpegtran, n√£o cjpeg, para n√£o descartar o trabalho realizado por Guetzli) pode reduzir ainda mais o tamanho do arquivo em 10-15% (55% no geral), com uma diminui√ß√£o muito pequena na pontua√ß√£o do SSIM. </font><font style="vertical-align: inherit;">Isso requer verifica√ß√£o e an√°lise, mas outros especialistas como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aria Khidayat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tentaram e obtiveram o mesmo resultado promissor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O MozJPEG √© um codec conveniente para iniciantes, que comprime arquivos para a Web de forma relativamente r√°pida e fornece boa qualidade de imagem. </font><font style="vertical-align: inherit;">Ao mesmo tempo, Guetzli consome muitos recursos e funciona melhor em imagens grandes e de alta qualidade: eu recomendaria essa op√ß√£o a usu√°rios avan√ßados e profissionais.</font></font><br><br><a name="17"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que √© o WebP? </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP √© o mais recente formato gr√°fico do Google, que visa reduzir o tamanho dos arquivos com compacta√ß√£o sem perdas e com perdas, proporcionando qualidade visual aceit√°vel. </font><font style="vertical-align: inherit;">Suporta canal alfa (transpar√™ncia) e anima√ß√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O WebP est√° melhorando: no ano passado, adicionou alguns por cento na compacta√ß√£o sem perdas e com perdas, na velocidade de codifica√ß√£o tornou-se duas vezes mais r√°pida e a velocidade de decodifica√ß√£o aumentou 10%. </font><font style="vertical-align: inherit;">O WebP n√£o √© uma ferramenta universal, mas sua popularidade est√° crescendo. </font><font style="vertical-align: inherit;">Vamos ver o porqu√™. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f9a/25d/5ca/f9a25d5cafa3418ab89008985e8784d4.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP: comparando tamanhos de arquivo e avaliando similaridade visual em diferentes n√≠veis de qualidade</font></font></font></i> <br><br><a name="18"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como funciona o webp? </font></font></h2><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compress√£o por perda </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os desenvolvedores dizem que, com a compacta√ß√£o com perdas usando o codec VP8 ou VP9, ‚Äã‚Äãos arquivos s√£o reduzidos em uma m√©dia de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 a 34% em</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> compara√ß√£o com o JPEG. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na faixa de baixa qualidade (de 0 a 50), o WebP tem uma grande vantagem sobre o JPEG, pois erode artefatos de bloqueio feios. </font><font style="vertical-align: inherit;">Configura√ß√£o de qualidade m√©dia (-m 4 -q 75) - o equil√≠brio padr√£o de velocidade e tamanho do arquivo. </font><font style="vertical-align: inherit;">Na faixa de alta qualidade (80‚Äì99), os benef√≠cios do WebP s√£o m√≠nimos. </font><font style="vertical-align: inherit;">O WebP √© recomendado onde a velocidade √© mais importante que a qualidade.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compress√£o sem perdas </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os arquivos WebP com compacta√ß√£o sem perdas s√£o 26% menores que os arquivos PNG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O tempo de download comparado ao PNG √© reduzido em 3%. </font><font style="vertical-align: inherit;">No entanto, na Internet, a compacta√ß√£o sem perdas n√£o √© comumente usada. </font><font style="vertical-align: inherit;">Esta op√ß√£o √© mais adequada para armazenamento de arquivo.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transpar√™ncia </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O WebP possui um canal de transpar√™ncia de 8 bits com compacta√ß√£o sem perdas de apenas 22% a mais de bytes que o PNG. </font><font style="vertical-align: inherit;">Ele tamb√©m suporta transpar√™ncia RGB com perdas, um recurso exclusivo do WebP.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Metadados </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O formato WebP suporta metadados fotogr√°ficos EXIF ‚Äã‚Äãe documentos digitais XMP e tamb√©m cont√©m o perfil de cores ICC. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O WebP oferece melhor compacta√ß√£o devido a mais utiliza√ß√£o da CPU. </font><font style="vertical-align: inherit;">Em 2013, a compacta√ß√£o WebP era cerca de 10 vezes mais lenta que o JPEG, mas agora a diferen√ßa n√£o √© t√£o significativa (algumas imagens podem ser compactadas duas vezes mais devagar). </font><font style="vertical-align: inherit;">Para imagens est√°ticas processadas durante o processo de montagem, isso n√£o deve ser um grande problema. </font><font style="vertical-align: inherit;">As imagens geradas dinamicamente provavelmente causar√£o uma utiliza√ß√£o percept√≠vel da CPU que deve ser considerada.</font></font><br><br><blockquote> <b>:</b>   WebP      JPEG. , JPEG   70%      WebP   70%,   WebP    ,   . </blockquote><br><a name="19"></a><h2>   WebP  ? </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muitas grandes empresas usam o WebP na produ√ß√£o para reduzir custos e aumentar a velocidade de carregamento da p√°gina. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Google relatou economias de 30 a 35% no WebP em compara√ß√£o com outros esquemas de compacta√ß√£o com perdas. O Google produz 43 bilh√µes de imagens por dia, 26% das quais s√£o compactadas sem perdas. S√£o muitas solicita√ß√µes e economias significativas. Sem d√∫vida, aumentar√° quando os navegadores melhorarem o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suporte ao WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O Google usa esse formato no Google Play, YouTube e outros sites. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netflix, Amazon, Quora, Yahoo, Walmart, Ebay, The Guardian, Fortune e USA Today compactam e produzem imagens WebP para navegadores compat√≠veis. O editor da VoxMedia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduziu </font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></i><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">tempo de carregamento da p√°gina </font></a><i><font style="vertical-align: inherit;">Verge </font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">em 1-3 segundos ao</font></a><font style="vertical-align: inherit;"> mudar para os usu√°rios do WebP for Chrome. Site</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500px</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> registrou uma redu√ß√£o no tamanho do arquivo em uma m√©dia de 25% com a mesma ou melhor qualidade. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m do acima, o WebP √© usado por outras empresas. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9f/2a1/51f/c9f2a151ff30b5a3dd8b20178a78e64b.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando WebP no Google: 43 bilh√µes de imagens WebP s√£o exibidas todos os dias no YouTube, Google Play, Chrome Data Saver e G +</font></font></font></i> <br><br><a name="20"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como funciona a codifica√ß√£o WebP? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para imagens est√°ticas, o WebP √© uma alternativa ao JPEG. Na codifica√ß√£o com perdas, h√° tr√™s etapas principais: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bloqueio de macro</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - divis√£o de uma imagem em blocos (macro) de 16 √ó 16 pixels de brilho e blocos de 8 √ó 8 pixels de cor. √â semelhante √† maneira como o JPEG transforma o espa√ßo de cores, dividindo-o em blocos e diminuindo o n√∫mero de pixels nos canais de cores. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/65f/45b/705/65f45b70532300058c0e9a00fe08b6de.png"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Previs√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - para cada sub-bloco 4 √ó 4, √© compilado um modelo de previs√£o que efetivamente realiza a filtragem. √â definido por dois conjuntos de pixels ao redor do bloco: A (linha imediatamente acima) e L (coluna √† esquerda). Usando esses dois conjuntos, o codificador preenche um bloco de teste 4 √ó 4 com pixels e determina quais valores est√£o mais pr√≥ximos do bloco original. Colt Macanlis fala mais sobre isso em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como o WebP funciona no modo de compacta√ß√£o com perdas. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd2/863/50a/cd286350a67629c8fa14233af6973893.png"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A transforma√ß√£o discreta de cosseno (DCT) √© aplicada em v√°rios est√°gios, como no JPEG. </font><font style="vertical-align: inherit;">A principal diferen√ßa √© o uso de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compacta√ß√£o aritm√©tica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em vez do algoritmo de Huffman, como no JPEG. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para mais informa√ß√µes, recomendo o artigo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"M√©todos de compacta√ß√£o da WebP"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do Google Developer.</font></font><br><br><a name="21"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte ao navegador WebP </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nem todos os navegadores oferecem suporte ao WebP, mas, de acordo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com o CanIUse.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o suporte global √© de cerca de 74%. </font><font style="vertical-align: inherit;">Chrome e Opera suportam o formato. </font><font style="vertical-align: inherit;">O Safari, Edge e Firefox est√£o experimentando, mas ainda n√£o implementaram o suporte nas vers√µes oficiais. </font><font style="vertical-align: inherit;">Por esse motivo, a emiss√£o do WebP geralmente depende do desenvolvedor da web. </font><font style="vertical-align: inherit;">Mais sobre isso mais tarde. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqui est√£o os principais navegadores e informa√ß√µes de suporte para cada um deles:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chrome: suporte completo desde a vers√£o 23 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chrome para Android: come√ßando com o Chrome 50 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Android: desde 4.2 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Opera: de 12,1 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Opera Mini: todas as vers√µes </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Firefox: algum suporte beta </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Edge: algum suporte beta </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Internet Explorer: N√£o </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Safari: algum suporte beta </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP n√£o est√° isento de falhas. </font><font style="vertical-align: inherit;">Falta op√ß√µes de espa√ßo em cores de resolu√ß√£o total e n√£o suporta decodifica√ß√£o progressiva. </font><font style="vertical-align: inherit;">No entanto, um kit de ferramentas decente foi criado para o WebP e o suporte ao navegador √© suficiente para considerar a emiss√£o do WebP como uma das op√ß√µes.</font></font><br><br><a name="22"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como converter imagens em WebP? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V√°rios editores comerciais e gratuitos oferecem suporte ao WebP. </font><font style="vertical-align: inherit;">Uma das aplica√ß√µes mais √∫teis √© o XnConvert: √© um conversor de lote gratuito para v√°rias plataformas.</font></font><br><br><blockquote> <b>:</b>      WebP  JPEG    .   ,      WebP    JPEG.    WebP,      , <i>  JPEG</i> ,      .      ,  . </blockquote><br><h4> XnConvert </h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O XnConvert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> produz processamento de imagens em lote em mais de 500 formatos. </font><font style="vertical-align: inherit;">Voc√™ pode combinar em mais de 80 a√ß√µes separadas para converter ou editar imagens. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/507/572/44f/50757244ffc4338222e3960f09485c31.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O XnConvert suporta a otimiza√ß√£o de imagens em lote, realizando a convers√£o direta de arquivos de origem para WebP e outros formatos. </font><font style="vertical-align: inherit;">Al√©m da compacta√ß√£o, o XnConvert pode excluir metadados, cortar imagens, ajustar a profundidade de cores e realizar outras transforma√ß√µes.Alguns</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dos par√¢metros listados no site do xnview s√£o:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Metadados: Edi√ß√£o </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transforma: girar, cortar, redimensionar </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ajustes: brilho, contraste, satura√ß√£o </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Filtros: Blur, Bump, Nitidez </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Efeitos: m√°scaras, marcas d'√°gua, vinhetas (escurecimento parcial) </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os resultados das opera√ß√µes podem ser exportados para aproximadamente 70 formatos de arquivo diferentes, incluindo WebP. </font><font style="vertical-align: inherit;">XnConvert √© um programa gratuito para Linux, Mac e Windows. </font><font style="vertical-align: inherit;">Essa √© uma √≥tima op√ß√£o, especialmente para pequenas empresas.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M√≥dulos de n√≥s </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Imagemin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um m√≥dulo popular de compacta√ß√£o de imagens que possui uma extens√£o para a convers√£o para WebP ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagemin-webp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">A compress√£o sem perdas e sem perdas √© suportada. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para instalar imagemin e imagemin-webp, execute: </font></font><br><br> <code>&gt; npm install --save imagemin imagemin-webp</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, podemos escrever require () nos dois m√≥dulos e execut√°-los em qualquer imagem (por exemplo, JPEG) no diret√≥rio do projeto. </font><font style="vertical-align: inherit;">Abaixo, usamos codifica√ß√£o com perdas com qualidade de codificador WebP 60:</font></font><br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminWebp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-webp'</span></span>); imagemin([<span class="hljs-string"><span class="hljs-string">'images/*.{jpg}'</span></span>], <span class="hljs-string"><span class="hljs-string">'images'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ imageminWebp({<span class="hljs-attr"><span class="hljs-attr">quality</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>}) ] }).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Images optimized'</span></span>); });</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como no JPEG, voc√™ pode ver artefatos de compacta√ß√£o na imagem final. </font><font style="vertical-align: inherit;">Veja voc√™ mesmo qual n√≠vel de compacta√ß√£o √© adequado para seus arquivos. </font><font style="vertical-align: inherit;">O Imagemin-webp tamb√©m pode ser usado para codificar imagens WebP sem perda de qualidade (com suporte para cores de 24 bits e transpar√™ncia total) especificando o par√¢metro </font></font><code>lossless: true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imagemin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> imageminWebp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'imagemin-webp'</span></span>); imagemin([<span class="hljs-string"><span class="hljs-string">'images/*.{jpg,png}'</span></span>], <span class="hljs-string"><span class="hljs-string">'build/images'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ imageminWebp({<span class="hljs-attr"><span class="hljs-attr">lossless</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}) ] }).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Images optimized'</span></span>); });</code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O plugin WebP para Gulp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da S√≠ndrome de Sorhus √© feito com base em imagemin-webp, tamb√©m existe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um carregador de WebP para o WebPack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O plugin Gulp compreende todas as op√ß√µes de extens√£o imagemin:</font></font><br><br><pre> <code class="hljs coffeescript">const gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); const webp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-webp'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'webp'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(webp({ quality: <span class="hljs-number"><span class="hljs-number">80</span></span>, preset: <span class="hljs-string"><span class="hljs-string">'photo'</span></span>, method: <span class="hljs-number"><span class="hljs-number">6</span></span> })) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ou compress√£o sem perdas: </font></font><br><br><pre> <code class="hljs coffeescript">const gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>); const webp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-webp'</span></span>); gulp.task(<span class="hljs-string"><span class="hljs-string">'webp-lossless'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> gulp.src(<span class="hljs-string"><span class="hljs-string">'src/*.jpg'</span></span>) .pipe(webp({ lossless: <span class="hljs-literal"><span class="hljs-literal">true</span></span> })) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'dist'</span></span>)) );</code> </pre> <br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Otimiza√ß√£o de imagem em lote com Bash </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O XNConvert suporta compacta√ß√£o em lote, mas voc√™ pode fazer tudo na linha de comando. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lote converter imagens para WebP usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cwebp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="bash hljs">find ./ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.jpg'</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> cwebp -q 70 {} -o {}.webp \;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otimiza√ß√£o pelo codec MozJPEG usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jpeg-recompress</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="bash hljs">find ./ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.jpg'</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> jpeg-recompress {} {} \;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e corte de SVG usando o programa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">svgo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (que discutiremos mais adiante):</font></font><br><br><pre> <code class="bash hljs">find ./ -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.svg'</span></span> -<span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> svgo {} \;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeremy Wagner escreveu um artigo mais completo sobre como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">otimizar imagens no Bash</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e outro sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paralelizar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> essa tarefa.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Outros aplicativos de processamento e edi√ß√£o de WebP </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Leptonica √© um site inteiro de aplicativos gratuitos de processamento e an√°lise de imagens. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O Sketch suporta salvar no WebP. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O GIMP √© uma alternativa gratuita e de c√≥digo aberto ao Photoshop. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageMagick - cria√ß√£o, layout, transforma√ß√£o e edi√ß√£o de gr√°ficos raster. </font><font style="vertical-align: inherit;">Livre, funciona a partir da linha de comando.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pixelmator √© um editor de imagens comercial para Mac. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Photoshop WebP Plugin √© um plugin gratuito do Google. </font><font style="vertical-align: inherit;">Importe e exporte imagens no Photoshop.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para o Android, voc√™ pode converter BMP, JPG, PNG e GIF est√°tico existentes no formato WebP usando o Android Studio. </font><font style="vertical-align: inherit;">Para obter mais informa√ß√µes, consulte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Criando imagens da WebP usando o Android Studio"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="23"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como visualizar imagens da WebP no meu sistema operacional? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embora as imagens WebP sempre sejam abertas em um navegador usando o mecanismo Blink (Chrome, Opera, Brave), elas podem ser visualizadas diretamente do sistema operacional usando o suplemento para Mac ou Windows. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alguns anos atr√°s, o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facebook experimentou o WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e percebeu um problema: alguns usu√°rios salvaram imagens em disco e, em seguida, n√£o puderam abri-las. </font><font style="vertical-align: inherit;">Existem tr√™s quest√µes principais aqui:</font></font><br><br><ul><li>       WebP .    Chrome,       .webp. </li><li>        ,    Chrome. Facebook  ,    ¬´¬ª,    JPEG. </li><li>  URL         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> content-type</a> . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seus usu√°rios podem n√£o ter esses problemas, mas esta √© uma nota marginal interessante. </font><font style="vertical-align: inherit;">Felizmente, hoje existem utilit√°rios para visualizar o WebP em diferentes sistemas operacionais. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No Mac, tente o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plug-in Quick Look para WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (qlImageSize). </font><font style="vertical-align: inherit;">Funciona muito bem: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/31f/440/5f5/31f4405f5b2c5e9fe146d00c77566621.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no Windows, voc√™ pode baixar </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o pacote de codec WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que adiciona a op√ß√£o de exibir o WebP no File Explorer e no Windows Photo Viewer.</font></font><br><br><a name="24"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como dar WebP? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navegadores sem suporte √† WebP n√£o mostrar√£o nenhuma imagem. </font><font style="vertical-align: inherit;">Para evitar isso, existem v√°rias estrat√©gias. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/921/075/af2/921075af2ee07862f7dc586ee402793d.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O painel Chrome DevTools Network com a sele√ß√£o de arquivos WebP que s√£o fornecidos aos navegadores no mecanismo Blink A </font></font></font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a88/8c9/56d/a888c956d80db06c0b4a170be510135e.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Play Store fornece navegadores WebP para Blink e JPEG para outros, como o Firefox</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aqui est√£o algumas op√ß√µes para entrega de imagens WebP aos usu√°rios:</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Use .htaccess para emitir c√≥pias da WebP </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veja como usar .htaccess para emitir arquivos WebP em navegadores suportados, se o servidor tiver uma vers√£o webp do arquivo JPEG / PNG. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vincent Orbach recomendou esta abordagem: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os navegadores podem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sinalizar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> explicitamente o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">suporte √† WebP</font></a><font style="vertical-align: inherit;"> atrav√©s do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cabe√ßalho Accept</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nesse caso, voc√™ pode enviar a vers√£o WebP da imagem do servidor. </font><font style="vertical-align: inherit;">Mas isso nem sempre √© poss√≠vel (por exemplo, para hosts est√°ticos, como p√°ginas GitHub ou S3), portanto, verifique antes de considerar esta op√ß√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir, √© apresentado um exemplo de arquivo .htaccess para o servidor da web Apache:</font></font><br><br><pre> <code class="hljs pgsql">&lt;IfModule mod_rewrite.c&gt; RewriteEngine <span class="hljs-keyword"><span class="hljs-keyword">On</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">Check</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> browser support WebP images RewriteCond %{HTTP_ACCEPT} image/webp # <span class="hljs-keyword"><span class="hljs-keyword">Check</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> WebP replacement image <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> RewriteCond %{DOCUMENT_ROOT}/<span class="hljs-meta"><span class="hljs-meta">$1</span></span>.webp -f # Serve WebP image <span class="hljs-keyword"><span class="hljs-keyword">instead</span></span> RewriteRule (.+)\.(jpe?g|png)$ <span class="hljs-meta"><span class="hljs-meta">$1</span></span>.webp [T=image/webp,E=accept:<span class="hljs-number"><span class="hljs-number">1</span></span>] &lt;/IfModule&gt; &lt;IfModule mod_headers.c&gt; <span class="hljs-keyword"><span class="hljs-keyword">Header</span></span> append Vary Accept env=REDIRECT_accept &lt;/IfModule&gt; AddType image/webp .webp</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ tiver problemas para exibir gr√°ficos WebP, verifique se o tipo MIME image / webp est√° ativado no servidor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No Apache, adicione o seguinte c√≥digo ao seu arquivo .htaccess:</font></font><br><br><pre> <code class="hljs mel">AddType <span class="hljs-keyword"><span class="hljs-keyword">image</span></span>/webp .webp</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No Nginx, adicione o seguinte c√≥digo ao arquivo mime.types: </font></font><br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">image</span></span>/webp webp;</code> </pre> <br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vincent Orback fornece uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">amostra de htaccess</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para WebP, e Ilya Grigorik mant√©m uma cole√ß√£o de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scripts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">configura√ß√£o para WebP</font></a><font style="vertical-align: inherit;"> que podem ser √∫teis.</font></font></blockquote><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Usando a tag &lt;picture&gt; </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O pr√≥prio navegador pode selecionar o formato da imagem usando a tag &lt;picture&gt;. </font><font style="vertical-align: inherit;">Dentro da &lt;imagem&gt;, existem muitos elementos &lt;source&gt;, com uma tag &lt;img&gt; para cada um que realmente cont√©m a imagem. </font><font style="vertical-align: inherit;">O navegador varre o &lt;source&gt; e solicita o primeiro adequado. </font><font style="vertical-align: inherit;">Se a tag &lt;picture&gt; n√£o for suportada, o &lt;div&gt; ser√° renderizado usando a tag &lt;img&gt;.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tenha cuidado com a ordem dos elementos &lt;source&gt;. </font><font style="vertical-align: inherit;">N√£o coloque fontes de imagem / webp ap√≥s formatos obsoletos, mas coloque-as na frente delas. </font><font style="vertical-align: inherit;">Voc√™ tamb√©m pode colocar imagens em ordem crescente do tamanho do arquivo se elas tiverem o mesmo tamanho em pixels (quando o atributo n√£o for usado </font></font><code>media</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Geralmente, a mesma ordem √© obtida na especifica√ß√£o de formatos mais recentes primeiro.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aqui est√£o alguns exemplos de HTML: </font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/path/to/image.webp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/path/to/image.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.jxr'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'image/vnd.ms-photo'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.jp2'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'image/jp2'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.webp'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'image/webp'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul_irish.jpg'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'paul'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.jxr"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/vnd.ms-photo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.jp2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/jp2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.webp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"My beautiful face"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Convers√£o autom√°tica para WebP no lado da CDN </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algumas CDNs suportam convers√£o autom√°tica e emiss√£o de WebP mediante solicita√ß√£o do cliente, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quando poss√≠vel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Verifique seu CDN para suporte. </font><font style="vertical-align: inherit;">Talvez o problema seja facilmente resolvido.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte WordPress </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetpack</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : O popular plugin do WordPress, inclui um servi√ßo de imagem CDN chamado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com suporte para WebP. Est√° inclu√≠do na vers√£o gratuita do Jetpack, o que √© muito pr√°tico e √∫til. A desvantagem √© que o Photon redimensiona automaticamente a imagem, coloca a string de consulta no URL e uma consulta DNS adicional √© realizada para cada imagem. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enabler e Optimizer de cache</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : se voc√™ estiver usando o WordPress, h√° pelo menos uma op√ß√£o de c√≥digo aberto. No menu do plug-in do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cache Enabler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">existe um sinalizador para armazenar em cache e emitir imagens WebP, se o navegador do usu√°rio as suportar. </font><font style="vertical-align: inherit;">Isso simplifica o trabalho com o WebP. </font><font style="vertical-align: inherit;">H√° tamb√©m uma desvantagem: o Cache Enabler requer o uso do programa irm√£o Optimizer, pelo qual eles cobram uma taxa anual. </font><font style="vertical-align: inherit;">Isso n√£o √© muito comum em solu√ß√µes de c√≥digo aberto. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pixel curto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : outra op√ß√£o otimizadora do Cache Enabler, tamb√©m paga. </font><font style="vertical-align: inherit;">Em termos de funcionalidade, o Short Pixel √© muito semelhante ao Optimizer mencionado. </font><font style="vertical-align: inherit;">Permite otimiza√ß√£o gratuita de at√© 100 fotos por m√™s.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compacta√ß√£o GIF e por que &lt;video&gt; √© melhor </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GIFs animados ainda s√£o amplamente utilizados, apesar de sua estreita especializa√ß√£o. Embora tudo, desde redes sociais a sites de m√≠dia populares, fa√ßa uso intenso de anima√ß√µes GIF, esse formato </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nunca</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> foi destinado a v√≠deo ou anima√ß√£o. De fato, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a especifica√ß√£o GIF89a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> afirma explicitamente que "o GIF n√£o se destina a servir como plataforma de anima√ß√£o". </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O n√∫mero de cores, o n√∫mero de quadros e a propor√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - tudo isso afeta o tamanho do GIF animado. Substituir o formato de v√≠deo proporciona economia m√°xima. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/56b/bda/eb7/56bbdaeb754a883674dc575a36542d8e.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compara√ß√£o de tamanhos de anima√ß√£o GIF e v√≠deo com qualidade equivalente A</font></font></font></i> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> produ√ß√£o do mesmo v√≠deo no formato MP4 reduz o tamanho do arquivo em 80% ou mais.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m do fato de os arquivos GIF desperdi√ßarem tr√°fego, eles levam mais tempo para carregar, cont√™m menos cores e geralmente n√£o parecem muito agrad√°veis. Voc√™ deve ter notado que os GIFs animados do Twitter funcionam melhor l√° do que em outros sites. Isso ocorre porque os </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GIFs animados no Twitter n√£o s√£o realmente GIFs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Para melhorar a qualidade e reduzir o tr√°fego, o Twitter os converte automaticamente em v√≠deo. Da mesma forma, o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgur converte GIF em MP4 ap√≥s o carregamento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que os GIFs s√£o muitas vezes maiores em tamanho? </font><font style="vertical-align: inherit;">Porque eles armazenam todos os quadros como uma imagem GIF sem perdas - sim, sem perdas. </font><font style="vertical-align: inherit;">A baixa qualidade do GIF √© causada n√£o pela compacta√ß√£o, mas por uma paleta de 256 cores. </font><font style="vertical-align: inherit;">O formato n√£o analisa os quadros adjacentes quanto √† compacta√ß√£o, ao contr√°rio dos codecs de v√≠deo como o H.264. </font><font style="vertical-align: inherit;">O v√≠deo MP4 armazena cada quadro-chave como JPEG com perdas, descartando alguns dos dados originais para obter uma melhor compacta√ß√£o.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se voc√™ pode mudar para o v√≠deo </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para converter GIFs animados (ou arquivos de origem) para o formato MP4 (H.264). </font><font style="vertical-align: inherit;">Eu corro uma linha do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rigor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br> <code>ffmpeg -i animated.gif -movflags faststart -pix_fmt yuv420p -vf "scale=trunc(iw/2)2:trunc(ih/2)2" video.mp4</code> </li> <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A API ImageOptim tamb√©m suporta a convers√£o de GIFs animados em WebM / H.264 e remove GIFs com suaviza√ß√£o de serrilhado, aumentando ainda mais a compacta√ß√£o </font></font></li></ul><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se voc√™ precisar usar GIFs animados </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ferramentas como o Gifsicle removem metadados, cores de paleta n√£o utilizadas e minimizam as altera√ß√µes entre os quadros. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Considere a codifica√ß√£o GIF com perdas. </font><font style="vertical-align: inherit;">Giflossy √© um garfo de Gifsicle que suporta a bandeira </font></font><code>-lossy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e comprime a anima√ß√£o em 60 a 65%. </font><font style="vertical-align: inherit;">Com base nisso, √© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">feita</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uma boa ferramenta </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Gifify</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Converta GIFs n√£o animados para o formato PNG ou WebP.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veja </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o livro GIF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da Rigor </font><font style="vertical-align: inherit;">para obter mais informa√ß√µes </font><font style="vertical-align: inherit;">.</font></font><br><br><a name="25"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Otimiza√ß√£o SVG </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minimizar arquivos SVG significa remover todos os desnecess√°rios. </font><font style="vertical-align: inherit;">Como regra, o SVG do editor cont√©m muitas informa√ß√µes redundantes (metadados, coment√°rios, camadas ocultas etc.). </font><font style="vertical-align: inherit;">Muitas vezes, pode ser removido ou minimizado com seguran√ßa sem afetar o resultado visual. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/cb6/e7e/747/cb6e7e747134071886e39623f818a8b1.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No servi√ßo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Archibald </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">SVGOMG</font></a><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">voc√™ pode escolher diferentes m√©todos de otimiza√ß√£o com visualiza√ß√£o instant√¢nea do resultado</font></font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Algumas regras gerais de otimiza√ß√£o SVG (SVGO) </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minimize os arquivos SVG e comprima no gzip, porque os SVGs s√£o apenas recursos de texto XML, como CSS, HTML e JavaScript. </font><font style="vertical-align: inherit;">Para aumentar a produtividade, eles devem ser minimizados e compactados.</font></font></li><li>      SVG,   <code>&lt;rect&gt;</code> , <code>&lt;circle&gt;</code> , <code>&lt;ellipse&gt;</code> , <code>&lt;line&gt;</code>  <code>&lt;polygon&gt;</code> .              . </li><li>    ,   .      ,  .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">simplify</a>  Illustrator        ,  . </li><li>  .   ,   . </li><li>   . </li><li>   Photoshop  Illustrator.       . </li><li>      ,     SVG. </li><li>     SVG,   - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SVGOMG</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SVGO</a> .   Sketch,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> Sketch  SVGO</a>     . </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/d9f/f9c/4d9/d9ff9c4d9f37684e7997d4a4fc3fcfee.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A efic√°cia do SVGO em alta precis√£o (-29% do tamanho do arquivo original) e baixa precis√£o (-38%)</font></font></font></i> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SVGO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© uma ferramenta de otimiza√ß√£o SVG no Node. </font><font style="vertical-align: inherit;">Reduz o tamanho do arquivo, diminuindo a precis√£o dos n√∫meros nas defini√ß√µes. </font><font style="vertical-align: inherit;">Cada d√≠gito ap√≥s o ponto √© um byte extra, portanto, alterar a precis√£o (n√∫mero de d√≠gitos) afeta muito o tamanho do arquivo. </font><font style="vertical-align: inherit;">Mas tenha muito cuidado, porque a precis√£o reduzida pode afetar visualmente as formas da imagem. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/928/573/607/9285736076b2d09166f936d1595ffe81.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â importante observar: embora o SVGO tenha tido sucesso no exemplo anterior sem simplificar excessivamente os caminhos e as formas, isso geralmente acontece de maneira diferente. </font><font style="vertical-align: inherit;">Veja como uma explos√£o em um foguete √© distorcida com precis√£o decrescente</font></font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SVGO na linha de comando: </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O SVGO pode ser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instalado como uma CLI,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se voc√™ preferir a linha de comando: </font></font><br><br> <code>npm i -g svgo</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otimiza√ß√£o do arquivo SVG: </font></font><br><br> <code>svgo input.svg -o output.svg</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos os par√¢metros poss√≠veis s√£o suportados, incluindo configura√ß√µes de precis√£o de ponto flutuante: </font></font><br><br> <code>svgo input.svg --precision=1 -o output.svg</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consulte o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leia-me</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para obter uma lista completa dos par√¢metros suportados.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N√£o se esque√ßa de comprimir SVG! </font></font></h4><br><img src="https://habrastorage.org/getpro/habr/post_images/ea1/243/9dc/ea12439dcd3c53d5e99931e019593306.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso, certifique-se de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compactar os arquivos SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou de os emitir usando o protocolo Brotli. </font><font style="vertical-align: inherit;">O formato do texto ser√° compactado muito bem (~ 50% da fonte). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando o Google lan√ßou o novo logotipo, anunciamos que sua </font><font style="vertical-align: inherit;">vers√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√≠nima</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© de apenas 305 bytes. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/817/219/f48/817219f4818aab93aa611df402f5db60.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muitos truques avan√ßados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para reduzir ainda mais o arquivo (at√© 146 bytes)!</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sprites SVG </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O SVG √© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√≥timo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para √≠cones, oferecendo visualiza√ß√£o de sprite sem as solu√ß√µes alternativas necess√°rias para as fontes. Possui melhor controle de estilo CSS do que em fontes (propriedades de tra√ßado SVG), melhor controle de posicionamento (n√£o h√° necessidade de se preocupar com pseudo-elementos e </font></font><code>display</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) e o SVG √© muito melhor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suportado em navegadores</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferramentas como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">svg-sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IcoMoon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> automatizam a integra√ß√£o de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">SVGs</font></a><font style="vertical-align: inherit;"> em sprites que podem ser usados ‚Äã‚Äãno </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS Sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Symbol Sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stacked Sprite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Dicas pr√°ticas</font></a><font style="vertical-align: inherit;"> para aprender</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do Una Kravets, como usar o gulp-svg-sprite em um fluxo de trabalho. </font><font style="vertical-align: inherit;">Sarah Sudein em seu blog descreve a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transi√ß√£o de fontes de √≠cone para SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Materiais adicionais </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os conselhos de Sarah Sowaydan sobre como otimizar a emiss√£o de SVG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o Livro Pr√°tico de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chris Coyier </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">sobre SVG</font></a><font style="vertical-align: inherit;"> s√£o excelentes. </font><font style="vertical-align: inherit;">Encontrei artigos muito √∫teis de Andreas Larsen sobre otimiza√ß√£o de SVG ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parte 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parte 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Tamb√©m posso recomendar o artigo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúPreparando e exportando √≠cones SVG no Sketch‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="26"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Evite apertar gr√°ficos com perda de qualidade </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A compacta√ß√£o de uma imagem √© sempre recomendada a partir da fonte. A fixa√ß√£o repetida √© repleta de consequ√™ncias desagrad√°veis. Suponha que voc√™ pegue um JPEG que j√° esteja compactado com a qualidade 60. Se voc√™ o recomprimir com perda, ele parecer√° pior. Cada rodada adicional de compacta√ß√£o levar√° a uma perda adicional de qualidade - as informa√ß√µes s√£o exclu√≠das e os artefatos s√£o acumulados. Mesmo se voc√™ apertar com configura√ß√µes de alta qualidade. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para evitar essa armadilha, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defina imediatamente a qualidade m√≠nima aceit√°vel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e obtenha economia m√°xima desde o in√≠cio. Voc√™ n√£o precisar√° re-compactar, porque qualquer compacta√ß√£o com perda de arquivo ficar√° ruim, embora reduza o tamanho do arquivo. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa9/6dc/866/fa96dc866135f21f0a9bfe022ab8211f.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um exemplo de um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√≥timo v√≠deo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo de capa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John Sneijers mostra o impacto da fixa√ß√£o em v√°rios formatos. Esse problema pode ser encontrado se voc√™ salvar imagens (j√° compactadas) de redes sociais e carreg√°-las novamente (com nova compacta√ß√£o). A perda de qualidade est√° aumentando. O</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MozJPEG (possivelmente por acidente) √© mais resistente a essa degrada√ß√£o devido √† quantiza√ß√£o da treli√ßa. Em vez de compactar todos os valores DCT como est√£o, ele procura valores pr√≥ximos no intervalo + 1 / -1 para compact√°-los em menos bits. O FLIF com perda de qualidade usa um hack semelhante ao PNG com perda de qualidade, onde antes (re) da compress√£o o codec analisa os dados e decide o que lan√ßar.</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Armazene arquivos de origem em formato sem perdas, como PNG ou TIFF, para manter a qualidade m√°xima</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Em seguida, as ferramentas ou compressores de montagem preparam uma vers√£o compactada que voc√™ oferece aos usu√°rios com perda m√≠nima de qualidade.</font></font><br><br><a name="27"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Reduza os custos desnecess√°rios de decodifica√ß√£o e redimensionamento </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos n√≥s fornecemos aos usu√°rios imagens grandes com uma resolu√ß√£o muito alta. Voc√™ tem que pagar por isso. Decodifica√ß√£o e redimensionamento s√£o opera√ß√µes que exigem muitos recursos de um navegador em um telefone celular comum. Se voc√™ renderizar imagens grandes, dimensionando-as usando atributos CSS ou largura / altura, ver√° como isso afetar√° o desempenho. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/750/7de/e00/7507dee00658db123ac3a0519cbacd86.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando o navegador recebe a imagem, ele deve decodific√°-la do formato de origem original (por exemplo, JPEG) em uma imagem de bitmap na mem√≥ria. Geralmente, uma imagem requer redimensionamento (por exemplo, a largura √© definida como uma porcentagem). Decodificar e redimensionar imagens s√£o opera√ß√µes que consomem muitos recursos que diminuem a renderiza√ß√£o</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idealmente, voc√™ deve fornecer imagens que o navegador exibe sem redimensionar. Portanto, forne√ßa as imagens em tamanho m√≠nimo para as telas e resolu√ß√µes correspondentes, usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>srcset/sizes</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- em um futuro pr√≥ximo, consideraremos </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ignorando atributos </font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tamb√©m pode afetar negativamente o desempenho. Sem eles, o navegador atribui a menor √°rea de espa√ßo reservado √† imagem at√© receber bytes suficientes para determinar o tamanho correto. Nesse ponto, a marca√ß√£o do documento deve ser atualizada usando a opera√ß√£o de refluxo intensivo em recursos. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebb/33b/9ab/ebb33b9abfffafce7253dffa0c637175.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os navegadores precisam executar v√°rias etapas para desenhar uma imagem na tela. Depois de receber a imagem, ela deve ser decodificada e muitas vezes redimensionada. Esses eventos podem ser rastreados na </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">linha</font></a><font style="vertical-align: inherit;"> do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tempo.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome DevTools</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Imagens grandes tamb√©m ocupam mem√≥ria: cerca de 4 bytes por pixel ap√≥s a decodifica√ß√£o. Se voc√™ n√£o tomar muito cuidado, pode literalmente travar o navegador; em dispositivos de baixo or√ßamento, n√£o √© t√£o dif√≠cil mudar a situa√ß√£o. Portanto, acompanhe os custos de decodifica√ß√£o, redimensionamento e consumo de mem√≥ria.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/97b/2cb/a04/97b2cba04d8de16112c91508bfe387f1.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A decodifica√ß√£o de imagem pode consumir muito recursos em telefones celulares de m√©dio e baixo n√≠vel. Em alguns casos, √© 5 ou mais vezes mais lento do que na √°rea de trabalho.No</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desenvolvimento de uma nova</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vers√£o m√≥vel, o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Twitter aumentou bastante a velocidade de decodifica√ß√£o de imagem, definindo os tamanhos corretos. Para muitas imagens, o tempo de decodifica√ß√£o diminuiu de ~ 400 ms para ~ 19 ms!</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/695/cfe/d7c/695cfed7c10f6fde08830c7783c874a5.jpg"><br> <i><font color="gray"> Timeline/Performance  Chrome DevTools      Twitter Lite    </font></i> <br><br><a name="28"></a><h2>   HiDPI   <code>srcset</code> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os usu√°rios podem acessar o site atrav√©s de v√°rios dispositivos m√≥veis e de desktop com telas de alta resolu√ß√£o. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A propor√ß√£o de pixels do dispositivo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (DPR) (tamb√©m chamada de ‚Äúpropor√ß√£o de pixels em CSS‚Äù) determina como o CSS deve interpretar a resolu√ß√£o da tela. O padr√£o DPR foi criado pelos fabricantes de telefones para aumentar a resolu√ß√£o e a nitidez das telas m√≥veis sem reduzir os elementos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para obter a m√°xima qualidade, voc√™ deve fornecer imagens com a resolu√ß√£o mais adequada. Imagens de alta defini√ß√£o (com DPR 2 √ó, 3 √ó) s√£o fornecidas para dispositivos com telas de alta resolu√ß√£o e imagens comuns s√£o fornecidas para telas padr√£o, pois as imagens com DPR 2 √ó e 3 √ó s√£o muito mais pesadas. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d00/ca2/7b1/d00ca27b1325ed096734db4e125cdf31.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Propor√ß√£o de pixels do dispositivo: muitos sites rastreiam o DPR de dispositivos populares por meio do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">material.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mydevice.io</font></font></a></font></i> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> srcset</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permite que o navegador selecione a imagem ideal para cada dispositivo. </font><font style="vertical-align: inherit;">Por exemplo, tire uma foto 2 √ó para um monitor m√≥vel com 2 √ó DPR. </font><font style="vertical-align: inherit;">Navegadores sem suporte</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">podem usar o padr√£o</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especificado na tag</font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"paul-irish-320w.jpg, paul-irish-640w.jpg 2x, paul-irish-960w.jpg 3x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"paul-irish-960w.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Paul Irish cameo"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CDN para imagens como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DPR suporte de distribui√ß√£o de imagens com a melhor resolu√ß√£o de uma √∫nica fonte.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: Voc√™ pode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aprender mais sobre as propor√ß√µes de pixel do dispositivo e imagens responsivas neste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curso gratuito do Udacity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">guia de imagens</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em Fundamentos da Web.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lembro que as </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dicas do Cliente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamb√©m s√£o uma alternativa adequada para especificar todos os DPR e formatos poss√≠veis na marca√ß√£o responsiva. </font><font style="vertical-align: inherit;">Em vez disso, as informa√ß√µes relevantes s√£o adicionadas √† solicita√ß√£o HTTP para que o servidor da Web selecione a op√ß√£o mais adequada para uma tela espec√≠fica.</font></font><br><br><a name="29"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transforma√ß√£o art√≠stica </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embora a escolha da resolu√ß√£o correta seja importante, alguns sites ainda pensam em beleza. </font><font style="vertical-align: inherit;">Se o usu√°rio tiver uma tela pequena, voc√™ poder√° cortar ou aumentar o zoom - e exibir o objeto de maneira diferente, fazendo o melhor uso do espa√ßo dispon√≠vel. </font><font style="vertical-align: inherit;">Embora a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transforma√ß√£o art√≠stica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dire√ß√£o de arte) al√©m do escopo deste artigo, alguns servi√ßos como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fornecer API-interfaces para automatizar tarefas. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/812/9d1/081/8129d10818e6ffb6cae71fca47a071fb.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eric Portis mostrou um √≥timo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemplo de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como usar criativamente imagens responsivas. </font><font style="vertical-align: inherit;">Neste exemplo, as caracter√≠sticas do objeto principal na ilustra√ß√£o s√£o modificadas para fazer o melhor uso do espa√ßo dispon√≠vel.</font></font></font></i> <br><br><a name="30"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gerenciamento de cores </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As cores podem ser vistas de pelo menos tr√™s perspectivas: biologia, f√≠sica e impress√£o. </font><font style="vertical-align: inherit;">Na biologia, a cor √© um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fen√¥meno de percep√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Os objetos refletem a luz em v√°rias combina√ß√µes de comprimentos de onda. </font><font style="vertical-align: inherit;">Os receptores de luz nos olhos traduzem essas ondas em um sentido de cor. </font><font style="vertical-align: inherit;">Na f√≠sica, as frequ√™ncias das ondas e a energia (brilho) s√£o importantes. </font><font style="vertical-align: inherit;">A impress√£o √© mais sobre gama de cores, cores e modelos de arte. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idealmente, todas as telas e navegadores da web no mundo devem exibir exatamente a mesma cor. </font><font style="vertical-align: inherit;">Infelizmente, isso n√£o √© verdade. </font><font style="vertical-align: inherit;">O gerenciamento de cores compromete a exibi√ß√£o de cores usando modelos, espa√ßos e perfis de cores.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modelos a cores </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os modelos de cores</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√£o um sistema para criar todo o espectro de um conjunto menor de cores prim√°rias. Existem v√°rios tipos de espa√ßos de cores com diferentes op√ß√µes para gerenciar cores. Em alguns espa√ßos, h√° menos par√¢metros de controle do que em outros - por exemplo, para todos os tons de cinza, um par√¢metro de brilho entre preto e branco √© suficiente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dois tipos comuns de modelos de cores s√£o aditivos e subtrativos. Os modelos de cores aditivas do tipo RGB exibem cores com luminesc√™ncia e cores do tipo CMYK subtrativas com reflex√£o (subtra√ß√£o). </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/831/b9c/52c/831b9c52cc2059f46e5c63ba3c6d5624.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em RGB, as luzes vermelha, verde e azul s√£o adicionadas em v√°rias combina√ß√µes para produzir uma ampla gama de cores. CMYK (ciano, magenta, amarelo e preto) tintas de diferentes cores funciona por tirar uma parte do espectro do papel branco</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> artigo</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúO conceito de modelos e sistemas de cores‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> descreve bem outros modelos e modos de cores, como HSL, HSV e LAB.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Espa√ßos de cor </font></font></h1><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os espa√ßos de cores</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√£o um intervalo espec√≠fico de cores que pode ser exibido para uma determinada imagem. Por exemplo, na imagem at√© 16,7 milh√µes de cores e v√°rios espa√ßos de cores permitem restringir ou expandir esse intervalo. Alguns desenvolvedores acreditam que os modelos de cores e os espa√ßos de cores s√£o a mesma coisa. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O sRGB foi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desenvolvido com base no RGB como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">padr√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para a Internet. Esse √© um pequeno espa√ßo de cores, geralmente considerado o denominador menos comum e a op√ß√£o mais segura para gerenciamento de cores nos navegadores. Outros espa√ßos de cores (como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adobe RGB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProPhoto RGB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(usado no Photoshop e no Lightroom) cont√™m cores mais diversas, mas como o sRGB √© comum em navegadores, jogos e monitores, eles geralmente o usam. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/6dd/0bf/4f0/6dd0bf4f0a627d651a95f94ba30a4d26.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualiza√ß√£o da gama - a gama de cores no espa√ßo de</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cores.Tr√™s canais s√£o usados </font><i><font color="gray"><font style="vertical-align: inherit;">em espa√ßos de cores</font></font></i><font style="vertical-align: inherit;"> (vermelho, verde e azul), cada um com 255 cores no modo de 8 bits, o que fornece 16,7 milh√µes de cores. As imagens de 16 bits podem exibir trilh√µes de cores. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a55/90d/d1b/a5590dd1bf6c059ec89e984d0108f878.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compara√ß√£o de sRGB, Adobe RGB e ProPhoto RGB em uma imagem com </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yardstick</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . √â incrivelmente dif√≠cil ilustrar esse conceito se sua tela mostrar apenas cores sRGB. Ao comparar uma foto comum em sRGB e uma ampla gama, tudo ser√° o mesmo, exceto pelas cores "ricas" mais saturadas</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os espa√ßos de cores s√£o diferenciados por sua gama (a variedade de cores que eles podem reproduzir com tons), espectro e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curva gama</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O sRGB √© cerca de 20% menor que o Adobe RGB, o ProPhoto RGB √© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cerca de 50% mais amplo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que o Adobe RGB. As fotos acima s√£o tiradas do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clipping Path</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ampla</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gama √© um termo que significa espa√ßos de cores maiores que o sRGB. Esses tipos de telas est√£o se tornando mais comuns. No entanto, muitos monitores digitais ainda simplesmente n√£o s√£o capazes de exibir perfis de cores significativamente melhores que o sRGB. Ao salvar na Web no Photoshop, use a op√ß√£o de convers√£o para sRGB, a menos que voc√™ esteja contando com displays com uma ampla gama de cores.</font></font><br><br><blockquote> <b>:</b>        sRGB     .  ,           .        (, ProPhoto RGB),    sRGB     . </blockquote><br><h4>   ,       -? </h4><br>  Sim<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se a imagem contiver uma cor muito saturada / rica / brilhante - e voc√™ desejar exibi-la em telas compat√≠veis. </font><font style="vertical-align: inherit;">No entanto, em fotografias reais isso raramente acontece. </font><font style="vertical-align: inherit;">Geralmente, voc√™ pode ajustar facilmente as configura√ß√µes para que a cor pare√ßa brilhante sem ir al√©m da gama de sRGB. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A raz√£o √© que a percep√ß√£o humana da cor n√£o √© absoluta. </font><font style="vertical-align: inherit;">A percep√ß√£o funciona em rela√ß√£o ao meio ambiente - e √© f√°cil enganar. </font><font style="vertical-align: inherit;">Mas se a imagem mostra um tra√ßo de um marcador fluorescente, √© claro, √© mais f√°cil mostr√°-lo em uma ampla variedade.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Corre√ß√£o e compacta√ß√£o gama </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A corre√ß√£o gama</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou apenas gama) controla o brilho geral da imagem. Alterar a gama tamb√©m pode alterar a propor√ß√£o de vermelho para verde. Imagens sem corre√ß√£o de gama geralmente parecem desbotadas ou escuras. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nos gr√°ficos de v√≠deo e computador, a gama √© usada para compacta√ß√£o, semelhante √† compacta√ß√£o de dados. Isso nos permite comprimir n√≠veis √∫teis de brilho em menos bits (8, n√£o 12 ou 16). A percep√ß√£o humana do brilho n√£o √© linearmente proporcional √† quantidade f√≠sica de luz. Representar flores em sua verdadeira forma f√≠sica seria um desperd√≠cio ao codificar para o olho humano. A compress√£o gama √© usada para codificar o brilho em uma escala mais pr√≥xima da percep√ß√£o humana.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Com a compress√£o gama, uma escala de brilho √∫til cabe em 8 bits de precis√£o (0‚Äì255 na maioria das cores RGB), porque as unidades de lumin√¢ncia s√£o codificadas de maneira n√£o linear. Imagine que voc√™ est√° em um quarto escuro com uma vela. Acenda o segundo - e observe um aumento significativo no brilho. Adicione uma terceira vela e a sala ficar√° ainda mais brilhante. Agora imagine-se em uma sala com cem velas. Acenda as velas 101 e 102 - e voc√™ n√£o notar√° nenhuma altera√ß√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nos dois casos, a mesma quantidade de luz foi adicionada fisicamente. Mas como os olhos s√£o menos sens√≠veis √† luz brilhante, a compress√£o gama "comprime" os valores brilhantes; portanto, menos precis√£o √© codificada nas unidades f√≠sicas, mas a pr√≥pria escala √© ajustada para as pessoas - e do ponto de vista humano, todos os valores s√£o igualmente precisos.</font></font><br><br><blockquote> <b>:</b> -      -  ¬´¬ª,  -     . </blockquote><br><h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um perfil de cores √© uma informa√ß√£o que descreve o espa√ßo de cores de um dispositivo. √â usado para converter entre diferentes espa√ßos de cores. A tarefa dos perfis √© tornar as imagens o mais semelhante poss√≠vel em todos os tipos de telas e m√≠dias. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As imagens podem ter um perfil de cores integrado de acordo com o padr√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">International Color Consortium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ICC) para identificar cores. Os perfis s√£o suportados em v√°rios formatos, incluindo JPEG, PNG, SVG e WebP, e a maioria dos principais navegadores tamb√©m suporta perfis ICC integrados. Se a imagem abrir no programa e o perfil do monitor for conhecido, as cores ser√£o ajustadas de acordo.</font></font><br><br><blockquote> <b>:</b>      sRGB,           .         .     . </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os perfis de cores internos tamb√©m aumentam significativamente o tamanho das imagens (√†s vezes em 100 KB ou mais), portanto, tenha cuidado. </font><font style="vertical-align: inherit;">Ferramentas como o ImageOptim excluem automaticamente todos os perfis de cores encontrados. </font><font style="vertical-align: inherit;">Se o perfil ICC for exclu√≠do, o navegador come√ßar√° a exibir a imagem no espa√ßo de cores do seu monitor, o que pode levar a uma altera√ß√£o na satura√ß√£o e no contraste. </font><font style="vertical-align: inherit;">Portanto, faz sentido buscar um compromisso para cada caso espec√≠fico. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nove graus abaixo de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> excelente selec√ß√£o de recursos para gerenciamento de perfil de cor ICC, se precisar de mais informa√ß√µes.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perfis de cores e navegadores </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nas vers√µes anteriores do Chrome, n√£o havia muito suporte para gerenciamento de cores, mas a situa√ß√£o foi corrigida em 2017 com a introdu√ß√£o da fun√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderiza√ß√£o correta de cores</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Se o perfil de exibi√ß√£o for diferente de sRGB (os mais recentes profissionais do MacBook), ele converter√° as cores de sRGB no perfil de exibi√ß√£o. </font><font style="vertical-align: inherit;">Isso significa que as cores se tornar√£o mais semelhantes em diferentes sistemas e navegadores. </font><font style="vertical-align: inherit;">Os navegadores Safari, Edge e Firefox tamb√©m levam em considera√ß√£o os perfis ICC, de modo que as imagens com perfis diferentes agora s√£o exibidas corretamente, independentemente de voc√™ ter uma ampla gama de cores ou n√£o.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: Um</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> excelente guia para as v√°rias maneiras de usar cores na Web √© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o Guia para</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nerd de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Cores de</font></a><font style="vertical-align: inherit;"> Sarah Drazner </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">na Internet</font></a><font style="vertical-align: inherit;"> .</font></font></blockquote><br><a name="31"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sprites </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sprites imagem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou CSS-sprite) tem uma longa hist√≥ria, eles s√£o suportados por todos os navegadores e tem sido uma maneira popular para reduzir o n√∫mero de imagens enviadas por combin√°-los em uma imagem maior, que √© cortado em peda√ßos. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc1/d7c/68f/dc1d7c68f3fdeef1c56234d17122d7bc.jpg"><br> <font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os sprites de imagem ainda s√£o amplamente utilizados em grandes sites de produ√ß√£o, incluindo a p√°gina inicial do Google.</font></font></font> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> De acordo com o padr√£o HTTP / 1.x, alguns utilizavam sprites para reduzir o n√∫mero de solicita√ß√µes de HTTP. Isso tinha v√°rias vantagens, mas exigia precis√£o devido a um problema com a invalida√ß√£o do cache - altera√ß√µes em qualquer pequena parte do sprite invalidariam a imagem inteira no cache. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spriting agora contradiz </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://hpbn.co/"><font style="vertical-align: inherit;">as</font></a><font style="vertical-align: inherit;"> diretrizes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://hpbn.co/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Como tornou poss√≠vel enviar muitos pedidos em uma conex√£o, √© melhor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://deliciousbrains.com/performance-best-practices-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fazer upload de fotos individualmente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Avalie as op√ß√µes para sua situa√ß√£o.</font></font><br><br><a name="32"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Carregamento lento de imagens n√£o cr√≠ticas </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O carregamento lento (atrasado) √© uma pr√°tica de aumentar a produtividade quando o download de imagens no navegador √© atrasado at√© que o usu√°rio realmente precise. </font><font style="vertical-align: inherit;">Por exemplo, as imagens s√£o carregadas de forma ass√≠ncrona ao rolar pela p√°gina. </font><font style="vertical-align: inherit;">Isso pode economizar tr√°fego, al√©m da compacta√ß√£o de imagem. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d04/326/c74/d04326c7499058e1cff821d707cb53dd.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As imagens que atingem a tela s√£o baixadas imediatamente. </font><font style="vertical-align: inherit;">Mas o resto neste momento ainda n√£o √© vis√≠vel. </font><font style="vertical-align: inherit;">Eles n√£o devem ser baixados imediatamente, mas depois - este √© um carregamento lento. </font><font style="vertical-align: inherit;">Isso s√≥ acontece se e quando o usu√°rio rola a p√°gina para baixo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O carregamento lento ainda n√£o √© suportado pelos pr√≥prios navegadores (embora </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isso tenha sido discutido</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no passado </font><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Em vez disso, o JavaScript √© usado.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por que o carregamento atrasado √© √∫til? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tem muitas vantagens: </font></font><br><br><ul><li> <b> </b> .     .   ,       . </li><li> <b>  </b> .     ‚Äî   . </li><li> <b>  </b> .                . ,       ,       . </li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No entanto, como em outras ferramentas, grande responsabilidade vem com grande for√ßa. </font></font></b> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Evite o atraso no carregamento de imagens no escopo.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Use-o para listas longas (por exemplo, produtos ou avatares personalizados). N√£o use-o para a imagem principal na p√°gina. O carregamento lento no escopo pode retardar o carregamento tanto tecnicamente quanto para a percep√ß√£o humana. Ele mata pr√©-carregamento e carregamento progressivo, e o JavaScript gera trabalho extra para o navegador. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tenha muito cuidado com o carregamento lento de imagens ao rolar.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ esperar diretamente pelo evento de rolagem, o usu√°rio poder√° ver espa√ßos reservados em vez de imagens ou obter fotos antes de rolar para eles. </font><font style="vertical-align: inherit;">Uma das recomenda√ß√µes √© come√ßar a carregar pregui√ßosamente as seguintes imagens imediatamente ap√≥s a exibi√ß√£o anterior na tela, independentemente da intera√ß√£o do usu√°rio.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quem usa carregamento atrasado? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O carregamento lento √© usado pela maioria dos sites grandes com um grande n√∫mero de imagens. Por exemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©dio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pinterest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd8/c9d/134/fd8c9d134f3bf1b461cd66b8edddc29d.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um exemplo de uma visualiza√ß√£o com desfoque gaussiano de ilustra√ß√µes no Medium</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Em alguns sites (por exemplo, Medium), uma pequena imagem borrada (cerca de 100 bytes) √© exibida para visualiza√ß√£o, que, ap√≥s um download atrasado, se transforma em uma ilustra√ß√£o de qualidade normal. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jose M. Perez falou sobre como implementar o efeito M√©dio usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtros CSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ele experimentou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diferentes formatos gr√°ficos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O Facebook tamb√©m descreveu sua famosa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abordagem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com espa√ßos reservados de 200 bytes para fotos de cabe√ßalho. Se voc√™ usa o Webpack, ent√£o</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O carregador LQIP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ajudar√° a automatizar alguns desses procedimentos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para ver um carregamento lento, basta abrir o seu cat√°logo favorito de fotos de alta qualidade e, em seguida, role a p√°gina. Voc√™ quase sempre ver√° que o site apenas carrega algumas imagens em resolu√ß√£o m√°xima e o restante s√£o espa√ßos reservados. √Ä medida que voc√™ rola, os espa√ßos reservados s√£o substitu√≠dos por imagens em resolu√ß√£o total. Este √© um carregamento lento. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recentemente, uma nova t√©cnica de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vetor em</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vez de espa√ßos reservados de varredura </font><font style="vertical-align: inherit;">ganhou popularidade </font><font style="vertical-align: inherit;">. Foi proposto por Tobias Baldauf em sua ferramenta </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQIP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L√°, o utilit√°rio </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primitive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gera visualiza√ß√µes SVG de v√°rias formas simples, aproximando-se coincidindo com os principais recursos da imagem. Ent√£o o SVG √© otimizado usando</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVGO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - e um filtro de desfoque gaussiano √© aplicado. </font><font style="vertical-align: inherit;">O resultado √© um espa√ßo reservado SVG de apenas 800-1000 bytes de tamanho, que parece n√≠tido em qualquer tela e oferece uma vis√£o significativa do que est√° na imagem real. </font><font style="vertical-align: inherit;">Obviamente, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voc√™ pode combinar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> carregamento lento e visualiza√ß√£o de imagens em baixa qualidade.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como aplicar o carregamento atrasado? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem v√°rios m√©todos e plug-ins para carregamento diferido. </font><font style="vertical-align: inherit;">Eu recomendo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazyizing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alexander Farkas por causa de seu desempenho decente, funcionalidade, integra√ß√£o adicional com o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intersection Observer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e suporte a plugins.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que o Lazysizes pode fazer? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazysizes √© uma biblioteca JavaScript; n√£o requer personaliza√ß√£o. </font><font style="vertical-align: inherit;">Basta baixar o arquivo js minificado e inclu√≠-lo na p√°gina da web. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abaixo est√° um c√≥digo de amostra de um arquivo README: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicione a classe 'lazyload' a imagens / quadros em combina√ß√£o com o atributo data-src e / ou data-srcset. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso, voc√™ pode adicionar o atributo src com uma imagem de baixa qualidade:</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- non-responsive: --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lazyload"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- responsive example with automatic sizes calculation: --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-sizes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image2.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image1.jpg 300w, image2.jpg 600w, image3.jpg 900w"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lazyload"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- iframe example --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">frameborder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lazyload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">allowfullscreen</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//www.youtube.com/embed/ZfV-aYdU4uE"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para a vers√£o web deste livro, associei o Lazysizes ao Cloudinary (embora voc√™ possa usar qualquer alternativa). </font><font style="vertical-align: inherit;">Isso permite que voc√™ experimente livremente e com o m√≠nimo de esfor√ßo com diferentes escalas, qualidade, formatos e independentemente da necessidade de download progressivo:</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/377/f20/d09/377f20d09d2e11b1037a62777ad25e3e.jpg"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Caracter√≠sticas Lazysizes: </font></font></h4><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Detecta automaticamente altera√ß√µes na visibilidade dos elementos atuais e futuros do carregamento lento </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suporte para imagens responsivas padr√£o (imagem e srcset) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C√°lculo autom√°tico de tamanhos e aliases para consultas de m√≠dia </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Funciona com centenas de imagens / quadros CSS, em p√°ginas ricas em scripts e aplicativos da web </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extensibilidade: suporta plugins </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Solu√ß√£o f√°cil, mas madura </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Melhoria de SEO: n√£o oculta imagens / ativos de rastreadores </font></font></li></ul><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Outros m√©todos de carregamento lento </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazysizes n√£o √© a √∫nica op√ß√£o. </font><font style="vertical-align: inherit;">Existem outras bibliotecas:</font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lazy Load XT</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLazy.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou [Seja] pregui√ßoso)</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Revelar</font></font></a> </li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yall.js (outro carregador pregui√ßoso) com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aproximadamente 1 kilobyte de tamanho, ele usa o Intersection Observer sempre que poss√≠vel.</font></font></li></ul><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quais s√£o as desvantagens do carregamento lento? </font></font></h4><br><ul><li>    ,        JavaScript   ,    JavaScript.        &lt;noscript&gt;. </li><li>         .      (redraw),             .     ‚Äî Intersection Observer,     lazysizes. </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O carregamento atrasado √© uma maneira comum de economizar tr√°fego, reduzir custos e melhorar a experi√™ncia do usu√°rio. </font><font style="vertical-align: inherit;">Avalie como √© √∫til no seu caso. </font><font style="vertical-align: inherit;">Para obter mais informa√ß√µes, consulte os artigos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Carregamento lento de imagens"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Implementando o carregamento progressivo no m√©dio"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="33"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como evitar a exibi√ß√£o: nenhuma armadilha </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As solu√ß√µes de imagem responsiva mais antigas manipularam solicita√ß√µes de imagem erroneamente ao definir a propriedade CSS </font></font><code>display</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Isso pode levar a um aumento significativo no n√∫mero de solicita√ß√µes, o que √© outro motivo pelo qual √© prefer√≠vel usar &lt;picture&gt; e &lt;img srcset&gt;. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ j√° escreveu uma consulta de m√≠dia que, sob certas condi√ß√µes, oculta uma imagem </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> @</span><span class="hljs-keyword"><span class="css"><span class="hljs-keyword">media</span></span></span><span class="css"> (max-width: </span><span class="hljs-number"><span class="css"><span class="hljs-number">640px</span></span></span><span class="css">) { </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">img</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">: none; } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ou oculta imagens com uma classe </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.hidden</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">display</span></span></span><span class="css">: none; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äúimg-hidden.jpg</span></span></span><span class="hljs-tag">" </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hidden"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma verifica√ß√£o r√°pida no painel de rede do Chrome DevTools mostra que essas imagens "ocultas" ainda est√£o sendo carregadas. </font><font style="vertical-align: inherit;">Este √© realmente o comportamento correto do navegador, de acordo com a especifica√ß√£o de recursos incorporados.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a67/471/222/a67471222582a069b511993bab0c0b51.jpg"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O display: none ajuda a evitar a solicita√ß√£o src? </font></font></h4><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  N√£o.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A imagem especificada ainda ser√° solicitada. </font><font style="vertical-align: inherit;">Aqui, a biblioteca n√£o pode contar com display: none, porque a solicita√ß√£o √© enviada antes que o JavaScript mude src.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Display: none ajuda a evitar a consulta background: url ()? </font></font></h4><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display:none"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"background: url(img.jpg)"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resposta afirmativa. </font><font style="vertical-align: inherit;">O plano de fundo CSS n√£o √© extra√≠do ao analisar um elemento. </font><font style="vertical-align: inherit;">C√°lculo de estilos CSS para crian√ßas com </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menos √∫til porque elas n√£o afetam a renderiza√ß√£o do documento. </font><font style="vertical-align: inherit;">As imagens de plano de fundo das crian√ßas n√£o s√£o calculadas ou carregadas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jake Archibald tem uma excelente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">miss√£o de question√°rio de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> armadilhas </font></font><code>display:none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Em caso de d√∫vida sobre como um navegador espec√≠fico lida com solicita√ß√µes de imagem, abra o DevTools e veja voc√™ mesmo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Novamente, sempre que poss√≠vel, use &lt;picture&gt; e &lt;img srcset&gt; em vez de confiar em &lt;display: none&gt;.</font></font><br><br><a name="34"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Faz sentido usar o CDN para processamento de imagem? </font></font></h1><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O tempo gasto na leitura de artigos para configurar seu pipeline de processamento de imagens e, em seguida, refinar, geralmente √© muito mais caro do que pagar por esse servi√ßo. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oferece um servi√ßo gratuito, o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oferece um teste gratuito, existe uma alternativa gratuita ao </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thumbor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , portanto h√° muitas op√ß√µes. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para o carregamento mais r√°pido da p√°gina, voc√™ precisa otimizar o carregamento de imagens, incluindo a sa√≠da de imagens responsivas com compacta√ß√£o no servidor, sele√ß√£o autom√°tica do formato e redimensionamento ideais. </font><font style="vertical-align: inherit;">√â importante enviar a imagem do tamanho certo para o dispositivo certo na resolu√ß√£o correta - e o mais r√°pido poss√≠vel. </font><font style="vertical-align: inherit;">Isso n√£o √© t√£o f√°cil quanto parece.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Seu servidor ou CDN? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manipula√ß√£o de imagem √© um t√≥pico espec√≠fico. </font><font style="vertical-align: inherit;">Tudo est√° mudando constantemente aqui, ent√£o vamos come√ßar com uma cita√ß√£o de um especialista experiente e continuar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúSe o seu produto n√£o estiver associado ao processamento de imagens, n√£o fa√ßa voc√™ mesmo. </font><font style="vertical-align: inherit;">Servi√ßos como Cloudinary [ou Imgix, aprox. </font><font style="vertical-align: inherit;">ed.] lidar√° com muito melhor e com mais efici√™ncia. </font><font style="vertical-align: inherit;">E se voc√™ estiver preocupado com o pre√ßo, pense em quanto custar√° o desenvolvimento e a manuten√ß√£o, al√©m de hospedagem, armazenamento e entrega ‚Äù- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chris Gmyr</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No momento, estamos inclinados a concordar que √© melhor usar o CDN para o processamento de imagens. </font><font style="vertical-align: inherit;">Considere dois desses servi√ßos - como eles correspondem √† lista de tarefas mencionadas.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cloudinary e Imgix </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - conhecido CDN para processamento de imagens. Eles s√£o usados ‚Äã‚Äãpor centenas de milhares de desenvolvedores e empresas em todo o mundo, incluindo Netflix e Red Bull.</font></font><br><br><h4>  Principal </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A primeira grande vantagem da CDN sobre sua pr√≥pria solu√ß√£o √© que eles usam um sistema de rede global distribu√≠do para manter as imagens mais pr√≥ximas dos usu√°rios. E com a CDN, √© muito mais f√°cil garantir a relev√¢ncia do servi√ßo com futuras altera√ß√µes tecnol√≥gicas, pois nem todos poder√£o monitorar tend√™ncias de forma independente, fazer altera√ß√µes - isso requer manuten√ß√£o, rastreamento de suporte para novos formatos por navegadores e imers√£o na vida da comunidade de compacta√ß√£o de imagem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segundo: cada servi√ßo possui um plano tarif√°rio de v√°rios n√≠veis: o Cloudinary possui uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tarifa gratuita</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o Imgix possui um plano inicial barato. A Imgix oferece um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">teste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gratuito </font><font style="vertical-align: inherit;">, √© quase o mesmo que uma tarifa gratuita.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terceiro: ambos os servi√ßos t√™m uma API. </font><font style="vertical-align: inherit;">Os desenvolvedores podem se conectar programaticamente a uma CDN e automatizar o processo. </font><font style="vertical-align: inherit;">Bibliotecas cliente, plug-ins para estruturas e documenta√ß√£o da API est√£o dispon√≠veis, embora algumas op√ß√µes estejam dispon√≠veis apenas a taxas caras.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vamos para o processamento de imagens. </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limite a discuss√£o a imagens est√°ticas. </font><font style="vertical-align: inherit;">Cloudinary e Imgix oferecem uma ampla gama de t√©cnicas de processamento de imagem. </font><font style="vertical-align: inherit;">Em tarifas padr√£o e gratuitas, ambas suportam fun√ß√µes b√°sicas: compress√£o, redimensionamento, corte, gera√ß√£o de c√≥pias pequenas. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e27/b9f/e79/e27b9fe792a444abd15ed71fa10387ae.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Biblioteca de m√≠dia Cloudinary: Por padr√£o, o Cloudinary produz </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JPEGs regulares em vez de progressivos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para ativar esta op√ß√£o, coloque o √≠cone correspondente nas "Op√ß√µes avan√ßadas" ou use o sinalizador fl_progressive Cloudinary</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> names </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sete categorias amplas de convers√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um total de 48 subcategorias. </font><font style="vertical-align: inherit;">O Imgix possui mais de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100 opera√ß√µes de processamento de imagem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que acontece por padr√£o? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O Cloudinary realiza as seguintes otimiza√ß√µes por padr√£o: </font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codifica√ß√£o JPEG usando MozJPEG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (selecionado em vez de Guetzli por padr√£o).</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limpar metadados (a imagem original permanece intacta). </font><font style="vertical-align: inherit;">Para alterar esse comportamento e renderizar imagens com metadados, adicione o sinalizador keep_iptc.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capacidade de gerar WebP, GIF, JPEG e JPEG-XR com qualidade autom√°tica. </font><font style="vertical-align: inherit;">Para alterar as configura√ß√µes padr√£o, defina o par√¢metro de qualidade manualmente.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Otimiza√ß√£o do tamanho do arquivo com impacto m√≠nimo na qualidade ao gerar PNG, JPEG ou GIF. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Imgix n√£o inicia otimiza√ß√µes como o Cloudinary por padr√£o, mas permite definir a qualidade padr√£o. </font><font style="vertical-align: inherit;">No Imgix, as configura√ß√µes autom√°ticas ajudam a automatizar o n√≠vel b√°sico de otimiza√ß√£o no cat√°logo de imagens. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atualmente, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quatro m√©todos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√£o usados </font><font style="vertical-align: inherit;">:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compress√£o </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Melhoria visual </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Convers√£o de formato de arquivo </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Remo√ß√£o de olhos vermelhos </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Imgix suporta os seguintes formatos de imagem: JPEG, JPEG2000, PNG, GIF, GIF animado, TIFF, BMP, ICNS, ICO, PDF, PCT, PSD, AI. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Cloudinary suporta os seguintes formatos: JPEG, JPEG 2000, JPEG XR, PNG, GIF, GIF animado, WebP, WebP animado, BMP, TIFF, ICO, PDF, EPS, PSD, SVG, AI, DjVu, FLIF, TARGA.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E o desempenho? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O desempenho da CDN depende principalmente da </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lat√™ncia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e velocidade. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O atraso √© sempre um pouco mais longo para imagens totalmente sem cache. </font><font style="vertical-align: inherit;">Por√©m, assim que a imagem chega ao cache e diverge pelos servidores da rede, a CDN global encontra a rota mais pr√≥xima do usu√°rio. </font><font style="vertical-align: inherit;">Juntamente com a economia no tamanho do arquivo, isso quase sempre elimina problemas de lat√™ncia quando comparado a imagens n√£o otimizadas ou servidores √∫nicos que tentam atender o planeta inteiro. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ambas as CDNs t√™m ampla cobertura e servidores r√°pidos, o que reduz a lat√™ncia e aumenta a velocidade de download. </font><font style="vertical-align: inherit;">A velocidade afeta o tempo de carregamento da p√°gina e essa √© uma das m√©tricas mais importantes para usu√°rios e convers√£o.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qual √© melhor? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Cloudinary possui cerca de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">160.000 clientes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , incluindo Netflix, eBay e Dropbox. O Imgix n√£o informa o n√∫mero de usu√°rios, mas √© menor que o Cloudinary. No entanto, a base Imgix inclui pesos pesados, como Kickstarter, Exposi√ß√£o, remo√ß√£o de manchas e Eventbrite. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No processamento de imagens, muitos par√¢metros n√£o podem ser avaliados objetivamente, o que dificulta a compara√ß√£o do desempenho dos dois servi√ßos. Depende muito de como voc√™ deseja processar a imagem (levar√° um tempo diferente), de qual tamanho e resolu√ß√£o voc√™ precisar√° no final. No final, o fator mais importante para voc√™ pode ser o custo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CDNs custam dinheiro. </font><font style="vertical-align: inherit;">Um site pesado com muito tr√°fego pode pagar centenas de d√≥lares por m√™s em uma CDN. </font><font style="vertical-align: inherit;">√â necess√°rio um certo n√≠vel de conhecimento e habilidades de programa√ß√£o para obter o m√°ximo proveito desses servi√ßos. </font><font style="vertical-align: inherit;">Mas se voc√™ n√£o fizer nada incomum, n√£o haver√° problemas especiais.</font></font><br><br><h4>  Conclus√£o </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se voc√™ est√° carregando atualmente imagens de seu pr√≥prio servidor ou planeja faz√™-lo, conv√©m pensar em uma CDN. </font></font><br><br><a name="35"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cache de imagem </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os recursos podem definir regras de cache atrav√©s de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cabe√ßalhos de cache HTTP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Em particular, </font></font><code>Cache-Control</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">determina quem deve armazenar em cache as respostas por quanto tempo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A maioria das imagens s√£o recursos est√°ticos que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ser√£o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">alterados</font></a><font style="vertical-align: inherit;"> no futuro. A melhor estrat√©gia para eles √© o cache agressivo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao configurar cabe√ßalhos de cache HTTP, configure o Cache-Control por um per√≠odo de </font></font><code>max-age</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um ano (por exemplo, </font></font><code>Cache-Control:public; max-age=31536000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Esse cache agressivo funciona bem para a maioria das imagens, especialmente para as de longa dura√ß√£o, como avatares e imagens nos cabe√ßalhos das p√°ginas.</font></font><br><br><blockquote> <b>:</b>       PHP,    -   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">session_cache_limiter</a> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>   <code>session_cache_limiter('public')</code> ,  <code>public</code>  <code>max-age=</code> .  ,        . </blockquote><br><a name="36"></a><h1>     </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursos cr√≠ticos podem ser pr√©-carregados usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;link rel = preload&gt;</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <code>&lt;link rel=preload&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Este √© um download declarativo que for√ßa o navegador a enviar uma solicita√ß√£o de recurso sem bloquear o evento </font></font><code>onload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do documento. </font><font style="vertical-align: inherit;">Isso aumenta a prioridade das solicita√ß√µes de recursos que, de outra forma, seriam detectadas apenas mais tarde durante a an√°lise. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para pr√©-carregar imagens, o valor √© </font></font><code>as</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicado como </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="hljs swift">&lt;link rel=<span class="hljs-string"><span class="hljs-string">"preload"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>=<span class="hljs-string"><span class="hljs-string">"image"</span></span> href=<span class="hljs-string"><span class="hljs-string">"logo.jpg"</span></span>/&gt;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desta forma, otimizada a utiliza√ß√£o de recursos para </font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>&lt;picture&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e SVG.</font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: Ele √© </font></font></b> <code>&lt;link rel=preload&gt;</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suportado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nos navegadores Chrome e Blink, como Opera e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Safari Tech Preview</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , e tamb√©m √© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no Firefox.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sites como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Philips</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flipkart</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xerox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usam </font></font><code>&lt;link rel=preload&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para pr√©-carregar seus logotipos (geralmente usados ‚Äã‚Äãno in√≠cio do documento). </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O caiaque</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamb√©m aplica o pr√©-carregamento, para que a imagem principal no cabe√ßalho seja carregada o mais r√°pido poss√≠vel.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/492/932/3d3/4929323d36c4089f7c5ab7d94ced76c0.jpg"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que √© o cabe√ßalho de pr√©-carregamento do Link? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O pr√©-carregamento do link √© definido pela tag HTML ou no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cabe√ßalho HTTP Link Header</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">De qualquer forma, o link informa ao navegador para come√ßar a carregar o recurso no cache de mem√≥ria, porque √© altamente prov√°vel que a p√°gina esteja aguardando por esse recurso e voc√™ n√£o pode esperar pelo scanner ou analisador de pr√©-carregamento para detect√°-lo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A legenda para as imagens ficar√° assim:</font></font><br><br><pre> <code class="hljs objectivec">Link: &lt;https:<span class="hljs-comment"><span class="hljs-comment">//example.com/logo-hires.jpg&gt;; rel=preload; as=image</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando o Financial Times introduziu essa manchete em seu site, os usu√°rios come√ßaram a abrir o conte√∫do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 segundo mais r√°pido</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e6/1f8/9ad/5e61f89ad2148c7ed6ab04d1a226c986.jpg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte inferior: com &lt;link rel = preload&gt;, parte superior: sem. </font><font style="vertical-align: inherit;">Compara√ß√£o do Moto G4 no canal 3G de acordo com o teste do WebPageTest </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">antes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">depois da</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> otimiza√ß√£o</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Da mesma forma, a Wikipedia acelerou o download "para o logotipo", conforme descrito em seu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estudo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quais s√£o as armadilhas dessa otimiza√ß√£o? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ precisa ter certeza de que o pr√©-carregamento desse recurso espec√≠fico √© absolutamente necess√°rio, porque ele move o restante do conte√∫do para o final da fila. </font><font style="vertical-align: inherit;">Talvez voc√™ deva se concentrar em outro conte√∫do? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â importante evitar o </font></font><code>rel=preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©-carregamento de imagens sem suporte amplo nos navegadores (por exemplo, WebP) e evitar o uso de imagens responsivas definidas no srcset, em que a origem da imagem depende do tipo de dispositivo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para obter mais informa√ß√µes, consulte os artigos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pr√©-carregamento e prioridades no Chrome"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pr√©-carregamento: por que serve para qu√™?"</font></font></a> <br><br><a name="37"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Or√ßamentos de desempenho da Web para imagens </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O or√ßamento de desempenho √© o limite m√°ximo que os desenvolvedores tentam n√£o exceder. Por exemplo, "n√£o mais que 200 KB de imagens em uma p√°gina" ou "a interface do usu√°rio deve carregar mais r√°pido que 3 segundos". Quando o or√ßamento n√£o for cumprido - saiba por que isso acontece e como corrigir a situa√ß√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os or√ßamentos ajudam a discutir os resultados do trabalho. Quando uma decis√£o de design ou de neg√≥cios afeta a produtividade, verifique seu or√ßamento. Se a mudan√ßa n√£o se encaixar no or√ßamento, essa √© a base para adi√°-la ou revis√°-la. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descobri que um or√ßamento de desempenho funciona melhor se o monitoramento for automatizado. Em vez de estudar as agendas da rede, um servi√ßo √© iniciado manualmente, o que sinaliza automaticamente que o or√ßamento foi excedido. Dois desses servi√ßos √∫teis s√£o</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calibre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpeedCurve</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assim que um or√ßamento para o tamanho da imagem √© determinado, o SpeedCurve inicia o monitoramento e alerta sobre excedentes: o </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b7/ecb/206/7b7ecb2062b83d9a3af42d0c8f1a2b4d.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calibre oferece uma configura√ß√£o de or√ßamento para cada classe de dispositivos. </font><font style="vertical-align: inherit;">Isso √© √∫til porque o or√ßamento para o tamanho das fotos de um PC de mesa via Wi-Fi pode ser muito diferente do or√ßamento para telefones celulares.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac9/a20/dfd/ac9a20dfdeb3a76f937b298c83994feb.jpg"><br><br><a name="38"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Recomenda√ß√µes finais </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por fim, a escolha da estrat√©gia de otimiza√ß√£o de imagem se resume aos tipos de imagens que voc√™ distribui aos usu√°rios e a um conjunto razo√°vel de crit√©rios de avalia√ß√£o de sele√ß√£o. </font><font style="vertical-align: inherit;">Pode ser SSIM ou Butteraugli e, em um pequeno conjunto de ilustra√ß√µes, voc√™ pode confiar em seus pr√≥prios olhos: o que parece melhor e o que √© pior.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aqui est√£o minhas recomenda√ß√µes finais: </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o pode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fornecer imagens em diferentes formatos, dependendo do suporte no navegador:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O Guetzli + jpegtran do MozJPEG est√° bem otimizado para JPEGs acima de 90. </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para a web, a qualidade √© </font></font><code>q=90</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muito dispendiosa. </font><font style="vertical-align: inherit;">√â o suficiente para fotos comuns </font></font><code>q=80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e at√© 2 √ó para DPR </font></font><code>q=50</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Como o Guetzli n√£o atinge um n√≠vel t√£o baixo, voc√™ pode usar o MozJPEG para a web.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cornel Lesinsky melhorou recentemente a equipe cjpeg no mozjpeg, adicionando um pequeno perfil sRGB para ajudar o Chrome a exibir cores naturais em displays de ampla gama de cores. </font></font></li></ul></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PNG pngquant + advpng fornece uma boa taxa de velocidade / compacta√ß√£o. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> renderizar imagens em diferentes formatos, dependendo do suporte do navegador usando &lt;picture&gt;, o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">cabe√ßalho </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accept</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Picturefill</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√™ o WebP aos navegadores que o suportam </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie WebP a partir de imagens originais de 100% de qualidade. </font><font style="vertical-align: inherit;">Caso contr√°rio, voc√™ enviar√° ao seu navegador imagens de menor qualidade e maior volume com </font><font style="vertical-align: inherit;">distor√ß√£o </font><font style="vertical-align: inherit;">JPEG </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> distor√ß√£o WebP! </font><font style="vertical-align: inherit;">Se voc√™ compactar a imagem de origem com o codec WebP, a distor√ß√£o ser√° menos percept√≠vel e o n√≠vel de compacta√ß√£o ser√° mais alto.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As configura√ß√µes padr√£o do WebP </font></font><code>-m 4 -q 75</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s√£o boas para a maioria dos casos, como a propor√ß√£o ideal de velocidade e taxa de compacta√ß√£o.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O WebP possui um modo de compacta√ß√£o sem perdas especial ( </font></font><code>-m 6 -q 100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), que reduz os arquivos examinando todas as combina√ß√µes de par√¢metros. </font><font style="vertical-align: inherit;">Esta √© uma ordem de magnitude mais lenta, mas vale a pena para recursos est√°ticos.</font></font></li></ul></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O fallback √© Guetzli / MozJPEG para navegadores que n√£o oferecem suporte ao WebP. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Boa compress√£o! </font></font><br><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para obter dicas mais pr√°ticas de otimiza√ß√£o de imagem, recomendo </font><font style="vertical-align: inherit;">o </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web Performance in Action de</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jeremy Wagner. </font><font style="vertical-align: inherit;">O livro </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">High Performance Images</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamb√©m possui muitas √≥timas dicas e nuances.</font></font></blockquote><br><a name="39"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pequenas coisas </font></font></h1><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JPEG XT</a>    JPEG 1992 .           1992 ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">libjpeg-turbo</a>      (  ). </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PIK</a> ‚Äî    ,    .    JPEG,         Guetzli.    33%  JPEG,      54%   ,  libjpeg.    Guetzli  . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>     ,  PIK   .  ,      ,      (    2017 ). </li><li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ImageMagick</a> .   ,         ,     .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">libvips</a> ,            .  ImageMagick   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>   ,    . </li><li> Blink (   Chrome)     .             .     .               ,          . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">img.decode()</a> API    . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt422531/">https://habr.com/ru/post/pt422531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt422519/index.html">Distribui√ß√£o gratuita: Threads sem frenagem em Java. Tear do projeto</a></li>
<li><a href="../pt422521/index.html">Pressentimento do inevit√°vel</a></li>
<li><a href="../pt422525/index.html">"A matriz da amizade." O gr√°fico social mais antigo para os menores</a></li>
<li><a href="../pt422527/index.html">Resumo de not√≠cias do PostgreSQL. Edi√ß√£o 10</a></li>
<li><a href="../pt422529/index.html">Curso Especial do Grupo IB: ‚ÄúSeguran√ßa de Aplicativos M√≥veis‚Äù</a></li>
<li><a href="../pt422535/index.html">Veja o invis√≠vel. Polariza√ß√£o por infravermelho distante (8-12Œºm)</a></li>
<li><a href="../pt422537/index.html">BEM n√£o deveria existir</a></li>
<li><a href="../pt422539/index.html">Sobre a economia digital, inc√™ndios e Internet</a></li>
<li><a href="../pt422541/index.html">O drama dos buracos na Uni√£o se transformou em uma fantasmagoria</a></li>
<li><a href="../pt422543/index.html">Pense como um programador. Tutorial de solu√ß√£o de problemas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>