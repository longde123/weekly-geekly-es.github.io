<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨 👨🏿‍🤝‍👨🏽 🙇🏿 Algorithmes pour optimiser un robot de trading: un moyen efficace de trader un million rétroactivement ◀️ 🈂️ 🤵🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'ai lu un livre faisant autorité sur les stratégies de trading et j'ai écrit mon robot de trading. À ma grande surprise, le robot n'apporte pas des m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Algorithmes pour optimiser un robot de trading: un moyen efficace de trader un million rétroactivement</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430134/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/0v/vh/ii/0vvhii4smuivfp0aktpuibdzmwc.png" alt="teaser"></a> <br><br>  J'ai lu un livre faisant autorité sur les stratégies de trading et j'ai écrit mon robot de trading.  À ma grande surprise, le robot n'apporte pas des millions, même des échanges virtuels.  La raison en est évidente: un robot, comme une voiture de course, doit être «réglé», pour sélectionner des paramètres adaptés à un marché spécifique, une période de temps spécifique. <br><br>  Étant donné que le robot a suffisamment de paramètres, itère sur toutes leurs combinaisons possibles à la recherche de la meilleure tâche, trop longue.  À un moment donné, résolvant le problème d'optimisation, je n'ai pas trouvé un choix raisonnable de l'algorithme de recherche pour le vecteur quasi-optimal des paramètres du robot de trading.  J'ai donc décidé de comparer indépendamment plusieurs algorithmes ... <br><a name="habracut"></a><br><h1>  Bref énoncé du problème d'optimisation </h1><br>  Nous avons un algorithme de trading.  Données d'entrée - historique des prix de l'intervalle horaire pour 1 an d'observation.  Données de sortie - P - profit ou perte, valeur scalaire. <br><br>  L'algorithme de trading a 4 paramètres configurables: <br><br><ol><li>  Mf est la période de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">moyenne mobile</a> "rapide", </li><li>  Période de la moyenne mobile «lente» </li><li>  T - TakeProfit, le niveau de profit cible pour chaque transaction individuelle, </li><li>  S - StopLoss, le niveau de perte cible pour chaque transaction individuelle. </li></ol><br>  Nous attribuons une plage et une étape de changement fixe à chacun des paramètres, un total de <b>20</b> valeurs pour chacun des paramètres. <br><br>  Ainsi, nous pouvons rechercher le profit maximum (P) pour un paramètre sur un tableau de données d'entrée: <br><br><ol><li>  faire varier un paramètre, par exemple P = f (Ms), produisant jusqu'à 20 <abbr title="incrémentation du temps du modèle, test du trading de robots sur l'historique d'observation des prix">backtests</abbr> , </li><li>  faire varier deux paramètres, par exemple P = f (Ms, T), produisant jusqu'à 20 * 20 = 400 backtests, </li><li>  faire varier trois paramètres, par exemple P = f (Mf, Ms, T), produisant jusqu'à 20 * 20 * 20 = 8 000 backtests, </li><li>  faisant varier chacun des paramètres, P = f (Mf, Ms, T, S) et produisant jusqu'à 20 ^ 4 = 160 000 backtests. </li></ol><br>  Pour la plupart des algorithmes de trading, cependant, il faut plusieurs ordres de grandeur de plus pour effectuer un seul test.  Ce qui nous amène à la tâche de trouver un vecteur de paramètres quasi-optimal sans avoir à itérer sur l'ensemble des combinaisons possibles. <br><br><div class="spoiler">  <b class="spoiler_title">détails sur le commerce et les robots commerciaux</b> <div class="spoiler_text">  Négociation en bourse, paris au Forex trading center, paris fous sur les «options binaires», spéculation sur les crypto-monnaies - une sorte de «diagnostic», avec plusieurs options possibles pour le développement de la «maladie».  Un scénario très courant est lorsqu'un joueur, après avoir joué à «l'intuition», arrive au trading automatique.  Ne vous méprenez pas, je ne veux pas mettre l’accent de telle manière que les robots de trading rigoureux «technologiquement et mathématiquement» sont opposés au trading «manuel» naïf et impuissant.  Par exemple, je suis moi-même convaincu que toutes mes tentatives pour tirer profit d'un marché efficace (lu sur n'importe quel marché transparent et liquide) par la spéculation, qu'elle soit discrétionnaire ou entièrement automatisée, sont a priori vouées à l'échec.  Si, peut-être, pour ne pas permettre le facteur de chance aléatoire. <br><br>  Cependant, le commerce, et en particulier le commerce algo (rythmique), est un passe-temps populaire pour beaucoup.  Certains programment indépendamment des robots de trading, d'autres vont encore plus loin et créent leurs propres plateformes d'écriture, de débogage et de backtesting des stratégies de trading, tandis que d'autres téléchargent / achètent un «expert» électronique prêt à l'emploi.  Mais même ceux qui n’écrivent pas eux-mêmes des algorithmes de trading devraient avoir une idée de la manière de gérer cette «boîte noire» afin d’en tirer profit conformément à l’idée de l’auteur.  Afin de ne pas être infondé, je donne mes observations supplémentaires en utilisant un exemple d'une stratégie de trading simple: <br><br><h2>  Robot de trading simple </h2><br>  Un robot de trading analyse la dynamique de la valeur de l'or, en dollars par once troy, et décide «d'acheter» ou de «vendre» une certaine quantité d'or.  Pour simplifier, nous supposons que le robot échange toujours une once troy. <br><br>  Par exemple, au moment de l'achat, le coût d'une once d'or troy était de 1075,00 <abbr title="Dollars américains">USD</abbr> .  Au moment de la vente ultérieure (clôture de la transaction), le prix a augmenté à 1079,00 USD.  Le bénéfice de cette transaction s'est élevé à 4 USD. <br><br>  Si le robot «vend» de l'or à 1075,00 USD, puis termine (clôture) la transaction en «rachetant» de l'or au prix de 1079 USD, le bénéfice de la transaction sera négatif - moins 4 USD.  En fait, peu importe pour nous comment le robot vend de l'or, ce qu'il n'a pas, afin de le «racheter» plus tard.  Un courtier / centre de négociation permet à un trader «d'acheter» et de «vendre» un actif d'une manière ou d'une autre, gagnant (ou, plus souvent, perdant), sur la différence de taux. <br><br>  Nous avons décidé <b>des données d'entrée</b> pour le robot - il s'agit en fait de la série chronologique des prix (cotations) de l'or.  Si vous dites que mon exemple est trop simple, pas vital - je peux vous l'assurer: la plupart des robots qui circulent sur le marché (et aussi les commerçants) dans leurs échanges ne sont guidés que par les statistiques de prix des biens qu'ils échangent.  Dans tous les cas, dans le problème de l'optimisation paramétrique d'une stratégie de trading, il n'y a pas de différence fondamentale entre un robot qui négocie sur la base du vecteur de prix et un robot accédant à un tableau de téraoctets d'analyses de marché multi-triées.  L'essentiel est que ces deux robots puissent (devraient pouvoir) être testés sur des données historiques.  Les algorithmes doivent être déterminés: c'est-à-dire, sur les mêmes données d'entrée (heure du modèle, si nécessaire, nous pouvons également les prendre comme paramètre), le robot de trading devrait afficher le même résultat. </div></div><br>  Plus de détails sur le robot de trading peuvent être trouvés dans le spoiler suivant: <br><br><div class="spoiler">  <b class="spoiler_title">algorithme de trading de robots</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/cj/xq/jj/cjxqjjp24rzbsigtgl6qquhfzow.png"><br><br>  La courbe noire (épaisse) sur le graphique est la mesure horaire <abbr title="once troy d'or par dollar américain">du</abbr> prix <abbr title="once troy d'or par dollar américain">XAUUSD</abbr> .  Deux fines lignes brisées, rouge et bleu - valeurs moyennes des prix avec des périodes moyennes de 5 et 10, respectivement.  En d'autres termes, moyenne mobile (MA) avec des périodes de 5, 10. Par exemple, afin de calculer l'ordonnée du dernier point (à droite) de la courbe rouge, j'ai pris la moyenne des 5 dernières valeurs de prix.  Ainsi, chaque moyenne mobile est non seulement «lissée» par rapport à la courbe des prix, mais aussi en retard de moitié par rapport à elle. <br><br><h3>  Règle d'ouverture de transaction </h3><br>  Le robot a une règle simple pour prendre une décision d'achat / vente: <br>  - dès qu'une moyenne mobile à courte période ( <abbr title="Moyenne mobile">MA</abbr> «rapide») croise une moyenne mobile à longue période (MA «lente») de bas en haut, le robot achète un actif (or). <br><br>  Dès que le MA «rapide» traverse le MA «lent» de haut en bas, le robot vend l'actif.  Dans la figure ci-dessus, le robot effectuera 5 transactions: 3 ventes aux horodatages 7, 31 et 50 et deux achats (marques 16 et 36). <br><br>  Le robot est autorisé à ouvrir un nombre illimité de transactions.  Par exemple, à un moment donné, le robot peut avoir plusieurs achats et ventes en attente en même temps. <br><br><h3>  Règle de clôture des transactions </h3><br>  Le robot conclut l'accord dès que: <br><br><ul><li>  le bénéfice de la transaction dépasse le seuil spécifié en pourcentage - TakeProfit, </li><li>  ou la perte sur la transaction, en pourcentage, dépasse la valeur correspondante - StopLoss. </li></ul><br>  Supposons que StopLoss est de 0,2%. <br>  L'accord est une «vente» d'or au prix de 1061,50. <br>  Dès que le prix de l'or monte à 1061,50 + 1061,50 * 0,2% / 100% = 1063,12%, la perte sur la transaction sera évidemment de 0,2% et le robot clôturera la transaction automatiquement. <br><br>  Le robot prend toutes les décisions concernant l'ouverture / la clôture d'une transaction à des moments discrets - à la fin de chaque heure, après la publication du prochain devis XAUUSD. <br><br>  Oui, le robot est extrêmement simple.  En même temps, il répond à 100% aux exigences: <br><br><ol><li>  l'algorithme est déterministe: à chaque fois, en simulant le travail du robot sur les mêmes données de prix, on obtiendra le même résultat, </li><li>  a un nombre suffisant de paramètres ajustables, à savoir: la période de «rapide» et la période de moyenne mobile «lente» (nombres naturels), TakeProfit et StopLoss - nombres réels positifs, </li><li>  une modification de chacun des 4 paramètres, dans le cas général, a un effet non linéaire sur les caractéristiques de trading du robot, notamment sur sa rentabilité, </li><li>  la rentabilité d'un robot sur l'historique des prix est considérée comme un code de programme élémentaire, et le calcul lui-même prend une fraction de seconde pour un vecteur de milliers de devis, </li><li>  enfin, ce qui n'est pourtant pas pertinent, le robot, avec toute sa simplicité, ne s'avérera en réalité pas pire (quoique probablement pas meilleur) que le Graal vendu par l'auteur sur Internet pour un montant impudique. </li></ol><br><h3>  Recherche rapide d'un ensemble quasi optimal de paramètres d'entrée </h3><br>  En utilisant l'exemple de notre robot simple, on peut voir qu'une énumération complète de tous les vecteurs possibles des paramètres du robot est trop coûteuse même pour 4 paramètres variables.  Une alternative évidente à la recherche exhaustive est le choix de vecteurs de paramètres pour une stratégie spécifique.  Nous ne considérons qu'une partie de toutes les combinaisons possibles à la recherche de la meilleure, dans laquelle le <abbr title="fonction objective (profit)">CF</abbr> approche le plus haut (ou le plus petit, selon le CF que nous choisissons et le résultat que nous obtenons). <br></div></div><br>  Nous considérerons trois algorithmes de recherche pour la valeur quasi <abbr title="fonction objective (profit)">optimale</abbr> du <abbr title="fonction objective (profit)">filtre numérique</abbr> .  Pour chaque algorithme, nous avons fixé une limite de 40 tests (sur 400 combinaisons possibles). <br><br><h1>  Méthode Monte Carlo </h1><br>  ou une sélection aléatoire de M vecteurs non corrélés parmi le nombre possible d'ensembles égal à N. La méthode est probablement la plus simple possible.  Nous l'utiliserons comme point de départ pour une comparaison ultérieure avec d'autres méthodes d'optimisation. <br><br><h2>  <font color="#3030cc">Exemple 1</font> </h2><br>  le graphique montre la dépendance du bénéfice (P) de notre robot de trading trading <abbr title="Euro en dollars américains">EURUSD</abbr> , obtenu sur le segment annuel de l'historique des mesures de prix horaires, sur la valeur du paramètre - la période de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">moyenne mobile</a> «lente» (M).  Tous les autres paramètres sont fixes et ne sont pas optimisés. <br><br><img src="https://habrastorage.org/webt/s4/_p/ea/s4_pea0s9vubgihpcivklt629lq.png"><br><br>  CF (profit) atteint un maximum de 0,27 au point M = 12. Afin de garantir la valeur maximale du profit, nous devons effectuer 20 itérations de tests.  Une alternative consiste à effectuer un plus petit nombre de tests d'un robot de trading avec une valeur choisie au hasard du paramètre M sur l'intervalle [9, 20].  Par exemple, après 5 itérations (20% du nombre total de tests, nous avons trouvé un vecteur quasi optimal (vecteur, évidemment, unidimensionnel) de paramètres: M = 18 avec une valeur de CF (M) égale à 0,18: <br><br><img src="https://habrastorage.org/webt/9d/ay/hs/9dayhsjljr41s0axuw6_lr3x1k0.png"><br><br>  Les valeurs restantes sur le graphique de notre algorithme d'optimisation ont été cachées par le «brouillard de guerre». <br><br>  L'optimisation de l'un des quatre paramètres de notre robot de trading, avec des valeurs fixes des paramètres restants, ne nous permet pas de voir l'ensemble du tableau.  Peut-être qu'un maximum de 0,27 CF n'est pas la meilleure valeur de l'indicateur, si vous faites varier la valeur d'autres paramètres? <br><br><img src="https://habrastorage.org/webt/iv/ki/nc/ivkinclgs2od7vhbohy2m5rirjm.gif"><br><br>  C'est ainsi que la dépendance du profit sur la période moyenne mobile change pour différentes valeurs du paramètre TakeProfit sur l'intervalle [0,2 ... 0,8]. <br><br><h2>  <font color="#3030cc">Méthode Monte Carlo: optimisation de deux paramètres</font> </h2><br>  La dépendance du profit d'un robot de trading sur deux paramètres peut être représentée graphiquement comme une surface: <br><br><img src="https://habrastorage.org/webt/kc/q8/uv/kcq8uv20cxk-e4dlqcum6el0w94.png"><br><br>  Les deux axes sont les valeurs des paramètres T (TakeProfit) et M (période de la moyenne mobile), le troisième axe est la valeur de profit. <br><br>  Pour notre robot de trading, après avoir effectué 400 tests sur un intervalle de données d'un an (~ 6000 cotations horaires de l'euro contre le dollar américain), nous obtenons une surface du formulaire: <br><br><img src="https://habrastorage.org/webt/uq/rv/w9/uqrvw9pl0y_7b1ranw7_qhf68es.png"><br><br>  ou, dans le plan où les valeurs des actifs financiers (profit, P) sont représentées par la couleur: <br><br><img src="https://habrastorage.org/webt/i_/qi/nq/i_qinq5rmv_xdaxltjvnmolrtvm.png"><br><br>  En choisissant des points arbitraires sur le plan, dans cet exemple, l'algorithme n'a pas trouvé la valeur optimale, mais s'en est approché assez près: <br><br><img src="https://habrastorage.org/webt/sf/so/zm/sfsozmqylxio59s8jc6pfsiiu-g.gif"><br><br>  Quelle est l'efficacité de la méthode de Monte Carlo pour trouver le <abbr title="fonction objective">CF</abbr> maximum?  Après avoir effectué 1000 itérations de recherche du maximum de CF sur les données source de l'exemple ci-dessus, j'ai obtenu les statistiques suivantes: <br><br><ul><li>  la valeur moyenne du maximum du DF trouvé lors de 1000 itérations d'optimisation (40 vecteurs aléatoires de paramètres [M, T] sur 400 combinaisons possibles) était de 0,231 ou <abbr title="(P '- Pmax) / (Pmax - Pmin) * 100%"><b>95,7%</b></abbr> du maximum global du DF (0,279). </li></ul><br>  Évidemment, en comparant les méthodes d'optimisation paramétrique des robots de trading, un échantillon n'est pas un indicateur.  Mais pour l'instant, cette évaluation est suffisante.  Nous passons à la méthode suivante - la méthode de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">descente en gradient</a> . <br><br><h1>  Méthode de descente en gradient </h1><br>  Formellement, comme son nom l'indique, la méthode est utilisée pour rechercher le minimum de DF. <br>  Selon la méthode, nous sélectionnons le point de départ avec les coordonnées [x0, y0, z0, ...].  Sur l'exemple d'optimisation d'un paramètre, il peut s'agir d'un point choisi au hasard: <br><br><img src="https://habrastorage.org/webt/2p/m_/gc/2pm_gckzmtakdjqszg-saifww_s.png"><br><br>  avec les coordonnées [5] et une valeur DF de 148. Voici trois étapes simples: <br><br><ol><li>  vérifier les valeurs CF au voisinage de la position actuelle (149 et 144) </li><li>  passer au point avec la plus petite valeur CF </li><li>  s'il est absent, un extremum local est trouvé, l'algorithme est terminé </li></ol><br><img src="https://habrastorage.org/webt/rb/ha/ar/rbhaar1igcqeqw2a0hcrpjpr9me.gif"><br><br>  Pour optimiser le DF en fonction de deux paramètres, nous utilisons le même algorithme.  Si plus tôt nous avons calculé le CF à deux points voisins <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mo" id="MJXp-Span-2" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-3"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-5" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">i</span><span class="MJXp-mo" id="MJXp-Span-7">−</span><span class="MJXp-mn" id="MJXp-Span-8">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-9" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-10" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-11" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-12"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-14" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">i</span><span class="MJXp-mo" id="MJXp-Span-16">+</span><span class="MJXp-mn" id="MJXp-Span-17">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-18" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.081ex" height="2.66ex" viewBox="0 -832 5201.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2212" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5D" x="2099" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="2378" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5B" x="2823" y="0"></use><g transform="translate(3101,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5D" x="4923" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> [x_ {i-1}], [x_ {i + 1}] </script>  , maintenant nous vérifions 4 points: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-19"><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-21"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-23" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">i</span><span class="MJXp-mo" id="MJXp-Span-25">−</span><span class="MJXp-mn" id="MJXp-Span-26">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-27" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-31" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-34"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-36" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">i</span><span class="MJXp-mo" id="MJXp-Span-38">+</span><span class="MJXp-mn" id="MJXp-Span-39">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-40" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-41"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-43" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-44" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-47"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-49" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-50" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-51"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52" style="margin-right: 0.05em;">y</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-53" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">i</span><span class="MJXp-mo" id="MJXp-Span-55">−</span><span class="MJXp-mn" id="MJXp-Span-56">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-57" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-58" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-59" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-60"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-62" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-63" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-64"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65" style="margin-right: 0.05em;">y</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-66" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">i</span><span class="MJXp-mo" id="MJXp-Span-68">+</span><span class="MJXp-mn" id="MJXp-Span-69">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-70" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-71" style="margin-left: 0em; margin-right: 0.222em;">.</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="37.734ex" height="2.66ex" viewBox="0 -832 16246.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2212" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="2099" y="0"></use><g transform="translate(2544,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5D" x="3379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="3658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5B" x="4103" y="0"></use><g transform="translate(4381,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="6203" y="0"></use><g transform="translate(6648,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5D" x="7483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="7761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5B" x="8206" y="0"></use><g transform="translate(8485,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="9401" y="0"></use><g transform="translate(9847,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2212" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5D" x="11586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="11864" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5B" x="12310" y="0"></use><g transform="translate(12588,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="13505" y="0"></use><g transform="translate(13950,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-5D" x="15689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2E" x="15968" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> [x_ {i-1}, y_i], [x_ {i + 1}, y_i], [x_i, y_ {i-1}], [x_i, y_ {i + 1}]. </script></p><br><img src="https://habrastorage.org/webt/iw/6f/el/iw6felpdmzxesd_-dni-lrbnjh0.gif"><br><br>  La méthode est définitivement bonne quand il n'y a qu'un seul extremum dans un DF dans un espace de test.  S'il y a plusieurs extrema, la recherche devra être répétée plusieurs fois pour augmenter la probabilité de trouver un extremum global: <br><br><img src="https://habrastorage.org/webt/bb/qs/nn/bbqsnn45pckbhbkbnfeal_irrrc.png"><br><br>  Dans notre exemple, nous recherchons le DF <b>maximum</b> .  Pour rester dans la définition de l'algorithme, nous pouvons supposer que nous recherchons un minimum de «moins DF».  Toujours le même exemple, le profit d'un robot de trading en fonction de la période de la moyenne mobile et de la valeur TakeProfit, une itération: <br><br><img src="https://habrastorage.org/webt/6f/eb/rc/6febrcyqjc-j-ag2l8z49jbbsx8.gif"><br><br>  Dans ce cas, un extremum local a été trouvé qui est loin du maximum global des FC.  Exemple de plusieurs itérations de la recherche de l'extrémum du FS par la méthode de descente en gradient, la valeur du FS est calculée 40 fois (40 points sur 400 possibles): <br><br><img src="https://habrastorage.org/webt/cm/ig/gw/cmiggwypd0lrdn5wlti_7lyv_q0.png"><br><br>  Maintenant, nous comparons l'efficacité de la recherche du maximum global du CF (profit) sur nos données initiales en utilisant des algorithmes de Monte Carlo et de descente de gradient.  Dans chaque cas, 40 tests sont effectués (calculs CF).  1000 itérations d'optimisation ont été réalisées par chacune des méthodes: <br><table><tbody><tr><th></th><th>  Monte Carlo </th><th>  descente de gradient </th></tr><tr><td>  la moyenne de la valeur quasi-optimale obtenue de CF </td><td>  <abbr title="le maximum global est de 0,279">0,231</abbr> </td><td>  0,200 </td></tr><tr><td>  la valeur obtenue du maximum du CF </td><td>  95,7% </td><td>  92,1% </td></tr></tbody></table><br>  Comme vous pouvez le voir dans le tableau, dans cet exemple, la méthode de descente en gradient est moins performante pour sa tâche - rechercher l'extremum global de l'actif numérique - le profit maximum.  Mais nous ne sommes pas pressés de le rejeter. <br><br><h2>  <font color="3030cc">Stabilité paramétrique de l'algorithme de trading</font> </h2><br>  Trouver les coordonnées du maximum / minimum global d'un filtre numérique n'est souvent pas un objectif d'optimisation.  Supposons, sur le graphique, qu'il y ait un pic «net» - un maximum global, dont la valeur de CF au voisinage est bien inférieure à la valeur de pic: <br><br><img src="https://habrastorage.org/webt/w-/bs/pr/w-bsprebdya-b9gd3ldfpx5tak8.png"><br><br>  Supposons que nous ayons sélectionné les paramètres du robot de trading qui correspondent au maximum trouvé de l'actif numérique.  Si nous modifions légèrement la valeur d'au moins un des paramètres - la période de la moyenne mobile et / ou TakeProfit - la rentabilité du robot baissera fortement (deviendra négative).  En ce qui concerne le trading réel, on peut au moins s'attendre à ce que le marché sur lequel notre robot doit trader soit sensiblement différent de la période de l'histoire dans laquelle nous avons optimisé l'algorithme de trading. <br><br>  Par conséquent, lors du choix des paramètres «optimaux» d'un robot de trading, il est utile de se faire une idée de la sensibilité du robot aux changements de paramètres au voisinage du point d'extrémité trouvé du DF. <br><br>  De toute évidence, la méthode de descente en gradient, en règle générale, nous donne les valeurs de TF au voisinage de l'extremum.  La méthode de Monte-Carlo est plus susceptible de toucher des carrés. <br><br>  Dans plusieurs instructions pour tester des stratégies de trading automatisées, une fois l'optimisation terminée, il est recommandé de vérifier les indicateurs cibles du robot à proximité du vecteur de paramètres trouvé.  Mais ce sont des tests supplémentaires.  De plus, que se passe-t-il si la rentabilité de la stratégie baisse avec un léger changement de paramètres?  De toute évidence, vous devez répéter le processus de test. <br><br>  Un algorithme nous serait utile qui, en même temps que la recherche de l'extremum des CF, nous permettrait d'évaluer la stabilité de la stratégie de trading pour changer les paramètres dans une fourchette étroite par rapport aux pics trouvés.  Par exemple, ne recherchez pas directement le CF maximum <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-72"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">P</span><span class="MJXp-mo" id="MJXp-Span-74" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">f</span><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-77"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78" style="margin-right: 0.05em;">m</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-79" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-80" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-81"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82" style="margin-right: 0.05em;">t</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-83" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-84" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.092ex" height="2.66ex" viewBox="0 -832 6067.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-66" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-28" x="2636" y="0"></use><g transform="translate(3025,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="4248" y="0"></use><g transform="translate(4693,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMATHI-69" x="511" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-29" x="5399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430134/&amp;usg=ALkJrhgocZJF-tZAJ4U3XPSoV2wIazirFw#MJMAIN-2C" x="5788" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> P = f (m_i, t_i), </script></p><br>  et la valeur moyenne pondérée qui prend en compte les valeurs voisines de la fonction objectif, où le poids est inversement proportionnel à la distance à la valeur voisine (pour optimiser deux paramètres x, y et la fonction objectif P): <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-86"><span class="MJXp-msup" id="MJXp-Span-87"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88" style="margin-right: 0.05em;">P</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-89" style="vertical-align: 0.5em;">′</span></span><span class="MJXp-mo" id="MJXp-Span-90" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-91"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-93" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-94" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-95"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-97" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-98" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-100">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">c</span><span class="MJXp-mrow" id="MJXp-Span-105"><span class="MJXp-msubsup" id="MJXp-Span-106"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-108" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-109">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">P</span><span class="MJXp-mo" id="MJXp-Span-115" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-116"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-118" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-119" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-120"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-122" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-124" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-125"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-127" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mtext" id="MJXp-Span-128">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">P</span><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-135"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-137" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-138" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-139"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-141" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-142" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-144"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-146" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mtext" id="MJXp-Span-147">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">P</span><span class="MJXp-mo" id="MJXp-Span-153" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-154"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-156" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-157" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-158"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-160" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-161" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-162" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-164" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-165" style="margin-left: 0em; margin-right: 0.222em;">.</span></span><span class="MJXp-mrow" id="MJXp-Span-166"><span class="MJXp-msubsup" id="MJXp-Span-167"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-169" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-170" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-173" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-175"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-177" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-178" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-179" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-180" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-181" style="margin-left: 0em; margin-right: 0.222em;">.</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> P '(x_i, y_i) = \ frac {w_i \ fois P (x_i, y_i) + w_j \ fois P (x_j, y_j) + w_k \ fois P (x_k, y_k) + ...} {w_i + w_j + w_k + ...} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-182"><span class="MJXp-msubsup" id="MJXp-Span-183"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-185" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-186" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-187">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">t</span><span class="MJXp-mrow" id="MJXp-Span-192"><span class="MJXp-mo" id="MJXp-Span-193" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-194"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-196" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-197" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-198"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-200" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-201"><span class="MJXp-mo" id="MJXp-Span-202" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-203" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-204" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-205" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-206"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-208" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-209" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-210"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-212" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-213"><span class="MJXp-mo" id="MJXp-Span-214" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-215" style="vertical-align: 0.5em;">2</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> w_j = \ sqrt {(x_j-x_i) ^ 2 + (y_j-y_i) ^ 2} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-216"><span class="MJXp-msubsup" id="MJXp-Span-217"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-219" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-221"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-223" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-224" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-225"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-227" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-228" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-229" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-230" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-231" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-232" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-233">1</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> w_i + w_j + w_k + ... = 1 </script></p><br>  En d'autres termes, lors du choix d'un vecteur de paramètres quasi optimal, l'algorithme évaluera la fonction objectif «lissée»: <br><br>  <b>était</b> <br><br><img src="https://habrastorage.org/webt/w-/bs/pr/w-bsprebdya-b9gd3ldfpx5tak8.png"><br><br>  <b>est devenu</b> <br><br><img src="https://habrastorage.org/webt/cf/cm/lh/cfcmlhsedhc6wjszqdv8f0rcwse.png"><br><br><h1>  La méthode de la «bataille navale» </h1><br>  En essayant de combiner les avantages des deux méthodes (Monte Carlo et la méthode de descente en gradient), j'ai essayé un algorithme similaire à l'algorithme du jeu dans la «bataille navale»: <br><br><ul><li>  d'abord, je frappe quelques "coups" sur toute la zone </li><li>  puis, dans les lieux de «coups», j'ouvre un feu massif. </li></ul><br>  En d'autres termes, les N premiers tests sont effectués sur des vecteurs aléatoires non corrélés de paramètres d'entrée.  Parmi ceux-ci, les M meilleurs résultats sont sélectionnés.  Au voisinage de ces tests (plus - minutes 0..L pour chacune des coordonnées) un autre K tests est effectué. <br><br>  Pour notre exemple (400 points, 40 essais au total) nous avons: <br><br><img src="https://habrastorage.org/webt/fp/vk/5_/fpvk5_vst_76cmpuw53eskoyod0.png"><br><br>  Et encore une fois, nous comparons l'efficacité de maintenant 3 algorithmes d'optimisation: <br><table><tbody><tr><th></th><th>  Monte Carlo </th><th>  descente de gradient </th><th>  «Bataille maritime» </th></tr><tr><td>  La valeur moyenne de l'extremum trouvé des FC en pourcentage de la valeur globale. <br>  40 tests, 1 000 itérations d'optimisation <br></td><td>  95,7% </td><td>  92,1% </td><td>  97,0% </td></tr></tbody></table><br><br>  Le résultat est encourageant.  Bien entendu, la comparaison a été effectuée sur un échantillon de données spécifique: un algorithme de négociation sur une série chronologique de la valeur de l'euro par rapport au dollar américain.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais, avant de comparer les algorithmes sur un plus grand nombre d'échantillons de données source, je vais parler d'un autre algorithme populaire pour optimiser les stratégies de trading, de manière inattendue (injustifiable?) - l'optimisation de l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algorithme génétique</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (GA). </font><font style="vertical-align: inherit;">Cependant, l'article est sorti trop volumineux et l'AG devra être </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reportée à la prochaine publication</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430134/">https://habr.com/ru/post/fr430134/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430120/index.html">Apprivoisez la bête. Ce à quoi nous avons été confrontés lors du développement d'une application d'agenda personnel sur React Native</a></li>
<li><a href="../fr430122/index.html">Le workaholism est une condition douloureuse dont il n'est pas habituel de parler.</a></li>
<li><a href="../fr430126/index.html">Une autre liste de projets à pratiquer</a></li>
<li><a href="../fr430128/index.html">Développement par le test: améliorer les compétences</a></li>
<li><a href="../fr430132/index.html">Ce que nous avons appris sur la sécurité Intel ME ces dernières années: 7 faits sur le mystérieux sous-système</a></li>
<li><a href="../fr430136/index.html">Comment ils vont lancer Starlink - Internet par satellite à partir de Ilona Mask</a></li>
<li><a href="../fr430138/index.html">Optimiser un robot de trading: un algorithme génétique</a></li>
<li><a href="../fr430140/index.html">Cinq raisons de l'échec du référencement. Analyse de l'expérience de promotion infructueuse avec des exemples</a></li>
<li><a href="../fr430142/index.html">Votre Windows est-il si vieux?</a></li>
<li><a href="../fr430144/index.html">Nous simulons une rivière réaliste dans Houdini et Unreal Engine 4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>