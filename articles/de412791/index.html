<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè§ üì± üêÜ Verbesserung der Leistung des Video√ºberwachungssystems und Verhinderung von Abst√ºrzen üî¶ üöá ‚õµÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Offensichtlich ist es besser, die Krankheit zu verhindern, als sie sp√§ter zu behandeln. 

 Beim Aufbau von Videosystemen ist alles genau gleich. Ansta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verbesserung der Leistung des Video√ºberwachungssystems und Verhinderung von Abst√ºrzen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/macroscop/blog/412791/"> Offensichtlich ist es besser, die Krankheit zu verhindern, als sie sp√§ter zu behandeln. <br><br>  Beim Aufbau von Videosystemen ist alles genau gleich.  Anstatt nach Gr√ºnden zu suchen und Probleme mit der Anzeige / Aufzeichnung / Archivierung w√§hrend des Gebrauchs zu l√∂sen, ist es besser, in der Entwurfsphase etwas l√§nger und sorgf√§ltig zu √ºberlegen, um zuk√ºnftige Probleme zu vermeiden. <br><br>  Unser technischer Support ist aktiv, sehr aktiv.  Sie ber√§t, hilft beim Einrichten und l√∂st nat√ºrlich Probleme in Videosystemen.  Oft sind diese Probleme in der Softwareumgebung sichtbar, h√§ngen jedoch nicht mit Macroscop zusammen.  Das Videosystem ist mehrkomponentig. Wenn etwas kaputt geht oder einfach nicht richtig funktioniert, sieht der Benutzer nicht, dass sich ein Teil verschlechtert hat.  Er wird sehen, dass Idioten in Echtzeitvideos und ‚ÄûL√∂cher‚Äú im Archiv erschienen.  Bedeutet dies, dass das Problem in der Software liegt?  Oft ist der Grund v√∂llig anders. <br><br><img src="https://habrastorage.org/webt/4p/2l/d-/4p2ld-taaiydceuzg-kdpov88bm.jpeg"><br><a name="habracut"></a><br>  Aufgrund der Tatsache, dass Anrufe beim technischen Support von Macroscop (wie sp√§ter erl√§utert wird) in 40% der F√§lle nicht mit der Leistung der Software zusammenh√§ngen, haben wir beschlossen, ein kleines Schulungsprogramm zum Planen und Erstellen von Videosystemen durchzuf√ºhren.  Und um zu sagen, warum es wichtig ist, in diesen Phasen nicht an Zeit und Geld zu sparen, und was passiert, wenn Sie dies nicht tun.  Wir werden auch √ºber das Offensichtliche sprechen.  Die Erfahrung zeigt jedoch, dass <b>Verstehen und Handeln zwei verschiedene Dinge sind</b> . <br><br>  Beginnen wir damit, wie das Problem aussehen k√∂nnte.  Visuell kann ein Signal sein, dass im System etwas schief geht: <br><br><ol><li>  Keine Verbindung zur Kamera.  Sie sehen das Video von der Kamera einfach nicht in Echtzeit und erhalten kein Archiv davon. </li><li>  Reibungslose Videoanzeige (Ruckeln / Beschleunigen / Verz√∂gern). </li><li>  Leere Stellen ("L√∂cher") im Archiv.  Die Aufnahme schien zu laufen, aber es gibt kein Video im Archiv. </li><li>  Artefakte.  Auf dem Video erscheint, was eigentlich nicht war (vorausgesetzt, jenseitige Kr√§fte haben nicht dazu beigetragen). </li></ol><br><img src="https://habrastorage.org/webt/-k/ho/n_/-khon_enrwhilupsa4ctfsjrqyo.jpeg"><br><br>  Was kann zu Verst√∂√üen f√ºhren? <br><br><h2>  <i>Netzwerk</i> </h2><br>  Wenn das Video nicht von der Kamera zum Server kam, vom Server nicht zum Client oder zum Speicher, ist meistens der Kommunikationskanal schuld.  Es ist m√∂glicherweise nicht breit genug, nicht stabil genug, nicht lesbar (es wei√ü nicht, wie es richtig priorisiert werden soll, wenn es viele verschiedene Informationen enth√§lt). <br><br>  Daher ist das erste, worauf Sie zu Beginn achten m√ºssen, die Breite des zuk√ºnftigen Kommunikationskanals.  <b>Es wird</b> einfach <b>berechnet</b> - wir nehmen alle Kameras des zuk√ºnftigen Systems, bestimmen, wie viele Mbit an Informationen jede von ihnen pro Sekunde sendet (dazu m√ºssen wir verstehen, welche Aufnahmequalit√§t erforderlich ist - Aufl√∂sung, Frequenz, Format), wir ber√ºcksichtigen, ob das Video angezeigt wird (von wie vielen Kameras und Wie viele Monitore) erh√∂hen wir den technischen Datenverkehr um 10-15% und wissen, wo und welche Bandbreite ben√∂tigt wird. <br><br>  Am besten <b>zeichnen Sie ein Diagramm des</b> zuk√ºnftigen Systems.  Dies kann unter anderem mit Hilfe spezieller Programme (z. B. Graphical Network Simulator 3) erfolgen, die bei der Berechnung und Identifizierung von ‚ÄûEngp√§ssen‚Äú helfen, die besondere Aufmerksamkeit erfordern.  Dies ist ein einfaches und offensichtliches Werkzeug, aber in der Praxis verwenden es nur wenige Menschen.  Besonders bei Einsteigern. <br><br>  <b>Trennen Sie</b> das Video√ºberwachungsnetzwerk vom Telefonnetz, dem Internet und anderen Systemen.  Damit das Videosystem, das die Straftat beseitigt, im Kampf um den Verkehr mit YouTube, den 10 Mitarbeiter Ihres Unternehmens in diesem Moment sehen wollten, nicht verloren geht, m√ºssen Sie einen separaten Kanal daf√ºr zuweisen. <br><br>  Netzwerke k√∂nnen physisch und logisch unterteilt werden.  Im ersten Fall installieren Sie separate Ger√§te und verlegen separate Kabel. Im zweiten Fall w√§hlen Sie Switches mit VLAN-Unterst√ºtzung aus.  In der Praxis ist es aus Sicht der Einstellungen einfacher, physisch zu trennen, wenn die M√∂glichkeit besteht, zus√§tzliche Kosten zu verursachen. <br><br>  <b>Bei der Auswahl der Netzwerkger√§te</b> ist es wichtig, die <b>Leistung</b> zu berechnen.  Ein Hersteller kann eine gr√∂√üere Bandbreite der Switch-Ports beanspruchen, dies garantiert jedoch nicht, dass der Prozessor des Netzwerkger√§ts diesem gesamten Datenvolumen standh√§lt. <br><br>  Das Netzwerk muss nicht nur richtig durchdacht, sondern auch <b>effizient aufgebaut werden</b> .  Es kommt auf das Banale an: Der Benutzer hat ein schlecht komprimiertes Patchkabel, was zu einem Verbindungsverlust oder zu Unterbrechungen im Archiv f√ºhrt.  Es ist nicht m√∂glich, ein solches Problem nicht so schnell zu finden, da in der Regel als letztes die Leistung von Kleinigkeiten wie Patchkabeln oder Router-Buchsen √ºberpr√ºft werden muss. <br><br><h2>  <i>Datenspeichersysteme</i> </h2><br>  Es ist wichtig, nicht zu vergessen, die erforderliche <b>Kanalbreite</b> zwischen dem Server und dem an das Netzwerk angeschlossenen Speicher zu berechnen.  Es wird oft √ºbersehen. <br><br>  Damit Speichersysteme die Aufzeichnung der eingehenden Informationsmenge aus dem Videosystem bew√§ltigen k√∂nnen, muss die erforderliche <b>Speichermenge</b> berechnet und <b>IOPS</b> ausgewertet werden (ein Parameter, der f√ºr die Anzahl der von Speichersystemen pro Sekunde ausgef√ºhrten Eingabe-Ausgabe-Operationen verantwortlich ist).  Dies kann mit speziellen Programmen (Iometer, IOzone, FIO, CrystalDiskMark) erfolgen. <br><br>  Wenn das System aus mehreren Servern besteht, empfehlen wir, anstelle eines gr√∂√üeren Speichers ein etwas kleineres Volume zu w√§hlen, um eine √ºberm√§√üige Auslastung zu vermeiden. <br><br><h2>  <i>Antivirus und Firewall</i> </h2><br>  In der Regel wirken sich Firewall- und Antivirensoftware auf den Betrieb des Videosystems aus, da sie den Netzwerkverkehr st√∂ren.  Dies kann auch Windows Defender, Windows-Firewall, Hardware-Firewall usw. sein. <br><br>  Sie k√∂nnen Antivirensoftware deaktivieren, aber eine Firewall einfach ausschlie√üen, ohne die allgemeine Konfiguration des Systems zu √§ndern, wenn es bereits erstellt wurde (insbesondere bei einem gro√üen und komplexen System).  Wir m√ºssen das gesamte Netzwerk neu aufbauen.  Es ist daher im Voraus darauf zu achten, dass alle Software und Ger√§te, die den Empfang oder die √úbertragung von Daten einschr√§nken k√∂nnen, <b>deaktiviert oder</b> vom Video√ºberwachungssystem ausgeschlossen werden.  Selbst das Einrichten von ‚ÄûAusnahmen‚Äú schr√§nkt den Zugriff solcher L√∂sungen auf den Videoverkehr h√§ufig nicht vollst√§ndig ein. <br><br><h2>  <i>Ausr√ºstung</i> </h2><br>  Neben dem Offensichtlichen (Kameras, Server, Speicher sollten funktionieren) gibt es einige Punkte in den Hardwareeinstellungen, die ebenfalls ber√ºcksichtigt werden sollten.  Stellen Sie sicher, dass Ihre Computer <b>nicht in den Energiesparmodus wechseln</b> .  Andernfalls funktioniert das System, aber das Netzwerk hat eine niedrige Priorit√§t, sodass einige Daten von den Kameras m√∂glicherweise einfach nicht eingehen.  Dar√ºber hinaus wird es sehr schwierig sein, die Ursache zu finden, denn sobald Sie anfangen zu suchen, wird alles auf wundersame Weise funktionieren. <br><br>  Achten Sie bei der Auswahl von IP-Kameras in einem Projekt darauf, mit welchem ‚Äã‚ÄãDaten√ºbertragungsprotokoll sie arbeiten.  Um Verluste zu minimieren, w√§hlen Sie eine <b>TCP-</b> Verbindung (gut, sie ist viel h√§ufiger als andere).  Im Falle von Netzwerkfehlern tritt dann eine wiederholte Anforderung von Informationen von der Kamera auf, und mit hoher Wahrscheinlichkeit wird sie mit einer geringf√ºgigen Verz√∂gerung abgerufen, die f√ºr den Benutzer nicht erkennbar ist. <br><br>  Manchmal treten Probleme auf, weil der Benutzer <b>mehrere Streams gleichzeitig</b> von der Kamera anfordert und die Kamera damit nicht fertig wird.  Hersteller geben selten ihre Empfehlungen bez√ºglich der Anzahl der Fl√ºsse ab, daher m√ºssen Sie diese hier empirisch √ºberpr√ºfen. <br>  Die installierte Kamera selbst funktioniert m√∂glicherweise nicht richtig und sendet Videos mit Artefakten an den Server.  Um zu √ºberpr√ºfen, ob das Problem in der Kamera und nicht in der Videosystemsoftware liegt, k√∂nnen Sie beispielsweise einen VLC-Player verwenden: Wenn im Player Artefakte festgestellt werden, muss der Grund in der Kamera selbst gesucht werden.  Erst m√ºssen Sie sicherstellen, dass das Videosystem und der Videoplayer mit demselben Protokoll √ºbertragen werden. <br><br>  Wenn Sie keinen ausreichend breiten Kommunikationskanal bereitstellen k√∂nnen, k√∂nnen Sie <b>die Bitrate</b> der Kameras <b>verringern</b> .  Verwenden Sie dazu in den Einstellungen die Bildrate oder die Aufnahmequalit√§t, verwenden Sie Kameras mit modernen Komprimierungsformaten (h.264 +, h.265 +) und Zipstream-Technologie.  Au√üerdem hat die √ºberwiegende Mehrheit die M√∂glichkeit, eine variable Bitrate zu verwenden: Wenn sich keine Bewegung im Rahmen befindet, werden weniger Informationen √ºbertragen, wenn die Bewegung beginnt, erh√∂hen sich die Aufnahmequalit√§t und die Datenmenge. <br><br><h2>  <i>Wie finde ich ein Problem?</i> </h2><br>  Wenn dennoch ein Problem aufgetreten ist, k√∂nnen die folgenden Schritte eine Priorit√§t f√ºr die Diagnose der Ursache sein: <br><br><ol><li>  Gehen Sie zum Task-Manager und √ºberpr√ºfen Sie die Gesamtsystemlast. </li><li>  √úberpr√ºfen Sie den physischen Zustand des Ger√§ts (wenn das Ger√§t ausgeschaltet ist, wenn jemand das Kabel gebrochen hat, wenn die Kameras funktionieren usw.). </li><li>  √úberpr√ºfen Sie, ob das Antivirenprogramm deaktiviert ist. </li><li>  Nutzen Sie die <b>Selbstdiagnosefunktionen</b> von Macroscop.  Die Eigendiagnose zeigt Fehlermeldungen an und gibt Empfehlungen, wie Sie diese selbst beheben k√∂nnen. </li></ol><br>  All dies kann vom Systemadministrator ohne Einbeziehung externer Spezialisten durchgef√ºhrt werden. <br><br>  Wenn der Grund nicht gefunden wird und Sie das Problem nicht selbst l√∂sen k√∂nnen, m√ºssen Sie sich an den technischen Support wenden.  Das erste, was wir √ºberpr√ºfen, wenn wir uns mit dem Problem von Verz√∂gerungen, Artefakten oder Verbindungsverlust befassen, ist das Netzwerk zwischen der Kamera und dem Server.  Dazu verwenden wir spezielle Programme (Iperf) sowie einen Ping-Test.  Wir pingen nur ein gro√ües Datenpaket, da Video 99% mehr ist als das maximal zul√§ssige Datenvolumen eines Standardpakets (MTU). <br><br>  <i>Beispiel</i> : ping -l 5000 -t (unendlicher Ping mit einem Paket von 5000 Bytes). <br><br>  Wir senden ein Datenpaket, holen es zur√ºck und sch√§tzen den Verlust.  Und sie sind im Allgemeinen inakzeptabel.  Selbst 1% der verlorenen Bilder f√ºhrt zu verschiedenen negativen Effekten - von Artefakten, Archivverlusten, Echtzeit-Ruckeln bis hin zu einer vollst√§ndigen Trennung von der Kamera. <br>  Ebenso kann ein Kommunikationskanalproblem zwischen dem Server und den Clientcomputern diagnostiziert werden. <br><br>  Macroscop protokolliert auch den Betrieb des Systems, und die Protokolle helfen sehr dabei, den Problem-Suchbereich f√ºr unsere Spezialisten einzugrenzen.  Dank der Diagnosefunktionen erkennt die Software Probleme mit der Verletzung der von der Kamera an den Server gesendeten Paketfolge, dem Zugriff auf den Server, dem Decodierungssubsystem, der Autorisierung, dem Starten von Diensten und der Aufzeichnung. <br><br>  Dies sind nur einige Optionen, um den Status zu √ºberpr√ºfen und die Ursachen des Problems zu finden. In den meisten F√§llen reichen diese Tools jedoch aus, um die Ursache zu diagnostizieren.  Ansonsten beginnt eine Einzelstudie und eine sorgf√§ltige Pr√ºfung. <br><br><h2>  <i>Denken Sie im Voraus</i> </h2><br>  Wie bei vielen anderen kann im Fall eines Videosystems eine Reihe von Problemen vermieden werden, indem einfach in der Entwurfsphase sicher ist.  Berechnen Sie die Netzwerkparameter im Voraus, w√§hlen Sie Ger√§te aus, die etwas produktiver sind als f√ºr die Berechnungen erforderlich, kaufen Sie hochwertige Verbrauchsmaterialien und achten Sie auf deren Installation, h√∂ren Sie sich die Empfehlungen der von Ihnen ausgew√§hlten Ger√§tehersteller und Softwareentwickler an, wenden Sie sich an den technischen Support oder an Vorverkaufsingenieure Fragen oder Zweifel. <br><br>  Je mehr Aufmerksamkeit Sie dem Videosystem zu Beginn widmen, desto weniger wird es im Allgemeinen f√ºr viele Jahre ben√∂tigt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de412791/">https://habr.com/ru/post/de412791/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar486174/index.html">ŸÑÿØŸä ÿµŸÅÿ± ÿØŸàÿ±ÿßŸÜ</a></li>
<li><a href="../de412783/index.html">Installieren des MTProto Telegram-Proxys von der Quelle auf Centos 7</a></li>
<li><a href="../de412785/index.html">Master of Management und Freiberufler. Die Geschichte in drei Teilen</a></li>
<li><a href="../de412787/index.html">Einbetten von Git in ein Unternehmensentwicklungssystem</a></li>
<li><a href="../de412789/index.html">‚ÄûHilfe bei der Arbeit‚Äú: So machen Sie Chat-Bots intelligenter</a></li>
<li><a href="../de412793/index.html">MassTransit, Saga und RabbitMQ zur Implementierung eines Prozessmanagers</a></li>
<li><a href="../de412795/index.html">Und lassen Sie uns Schlussfolgerungen aus der Diskussion des Artikels "Was ist los mit der R√ºckkehr von Geektimes nach Habr?"</a></li>
<li><a href="../de412797/index.html">√úber die Gefahren von CDN, Diensten und Schriftarten von Google</a></li>
<li><a href="../de412799/index.html">Immer in Kontakt: Mango Talker - Messenger und Softphone</a></li>
<li><a href="../de412801/index.html">Studie: Hacker stehlen Millionen von Dollar aufgrund der geringen Sicherheit des Kryptow√§hrungsaustauschs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>