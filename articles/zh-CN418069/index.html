<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🌾 🏕️ 👴🏾 以光速解决日本彩色填字游戏 🚋 ♈️ 🛥️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="日语填字游戏（也包括非图字游戏）是对像素图像进行加密的逻辑难题。 您需要使用位于行左侧和列上方的数字来解决填字游戏。 


 填字游戏的大小可以达到150x150。 播放器使用特殊的逻辑来计算每个单元的颜色。 对于初学者来说，该解决方案在填字游戏上可能需要花费几分钟，而在复杂的拼图上则需要数十小时。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>以光速解决日本彩色填字游戏</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418069/"><p> 日语填字游戏（也包括非图字游戏）是对像素图像进行加密的逻辑难题。 您需要使用位于行左侧和列上方的数字来解决填字游戏。 </p><br><p> 填字游戏的大小可以达到150x150。 播放器使用特殊的逻辑来计算每个单元的颜色。 对于初学者来说，该解决方案在填字游戏上可能需要花费几分钟，而在复杂的拼图上则需要数十小时。 </p><br><p> 好的算法可以更快地解决问题。 文本描述了如何编写一种使用最合适的算法（通常会导致一个解决方案）几乎立即生效的解决方案，以及它们的优化和C ++功能的使用（这将运行时间减少了数十倍）。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w1/tw/-c/w1tw-caq1d9vswcrqfapdufcbfk.gif"></div><a name="habracut"></a><br><p>  <em>在Habr的移动版本中，可能不会显示文本中的公式（并非在所有移动浏览器中都显示）-如果您发现公式存在问题，请使用完整版本或其他移动浏览器</em> </p><br><h2 id="pravila-igry"> 游戏规则 </h2><br><p> 最初，填字游戏画布是白色的。 对于香草黑白填字游戏，您需要恢复黑色单元格的位置。 </p><br><p> 在黑白填字游戏中，每行（画布左侧）或每列（画布顶部）的数字数量显示相应行或列中有多少个黑色单元格组，数字本身显示这些组中每个单元包含多少个合并单元格。 一组数字 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mo" id="MJXp-Span-2" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-3">3</span><span class="MJXp-mrow" id="MJXp-Span-4"><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mn" id="MJXp-Span-6">2</span><span class="MJXp-mrow" id="MJXp-Span-7"><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mn" id="MJXp-Span-9">5</span><span class="MJXp-mo" id="MJXp-Span-10" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.636ex" height="2.66ex" viewBox="0 -832 3718.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-33" x="278" y="0"></use><g transform="translate(779,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-32" x="1608" y="0"></use><g transform="translate(2109,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-35" x="2939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-5D" x="3439" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> [3，2，5] </script> 表示在某一行中有三个连续的组 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-11"><span class="MJXp-mn" id="MJXp-Span-12">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-33" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> 3 </script>  ， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mn" id="MJXp-Span-14">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-32" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> 2 </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mn" id="MJXp-Span-16">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-35" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> 5 </script> 黑色单元格连续。 可以将组随机排列成一行，而不会违反相对顺序（数字指定了它们的长度，必须猜测位置），但是它们必须至少由一个白格分隔。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bl/w9/zt/blw9ztswh2gvpy0lfqr76ei_xcq.png"></div><br><p>  <em>正确的例子</em> </p><br><p> 在彩色填字游戏中，每个组仍然具有自己的颜色-除白色外，任何其他颜色都是背景色。 可以将<em>不同</em>颜色的相邻组并排放置，但是对于<em>相同</em>颜色的相邻组，仍然需要至少一个白细胞分开。 </p><br><h2 id="chto-ne-yavlyaetsya-yaponskim-krossvordom"> 什么不是日语填字游戏 </h2><br><p> 每个像素图像都可以作为填字游戏进行加密。 但是，可能无法将其还原回来-产生的难题可能具有多个解决方案，或者具有一个解决方案，但不能从逻辑上解决。 然后必须使用<s>量子计算机的</s>萨满技术猜测游戏中剩余的细胞。 </p><br><p> 这样的填字游戏不是填字游戏，而是拼写狂。 我们相信正确的填字游戏是使您能够以合理的方式得出独特的解决方案。 </p><br><p>  “逻辑路径”是一种能力，可以分别考虑行/列或它们的交集来逐个还原每个单元格。 如果这不可能，那么考虑的答案选项的数量可能会非常多，远远超出一个人自己能计算出的数量。 </p><br><img src="https://habrastorage.org/webt/qs/nu/2m/qsnu2mmr0lutke0xzprtow8jv-i.png"><br><p>  <em>错误的非方格图是唯一的解决方案，但无法正常解决。</em>  <em>橙色标记为“无法解决”的单元格。</em>  <em>取自维基百科。</em> </p><br><p> 对此限制的解释如下-在最一般的情况下，日语填字游戏是NP完全问题。 但是，如果有一种算法可以在每个时间点明确指示要进一步打开哪些单元格，那么猜测就不会成为完成NP的任务。 人类使用的所有填字游戏（方法除外） <del> 蒙特卡洛 </del> 反复试验）基于此。 </p><br><p> 在大多数Orthodox填字游戏中，宽度和高度除以5，就没有可以立即计数的行（有色单元阻塞所有位置，或者根本不存在的行），并且互补色的数量受到限制。 这些要求不是必需的。 </p><br><p> 最简单的错误填字​​游戏： </p><br><pre><code class="bash hljs">|1 1| --+---+ 1| | 1| | --+---+</code> </pre> <br><p> 通常，使用“棋盘”图案模拟渐变的编码像素图不会向后解析。 最好了解一下是否在搜索中输入“ pixelart梯度”。 渐变就像这个2x2 fayl填字游戏。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oz/mm/sj/ozmmsj7dzmqdn0dwgmspwymmohy.gif"></div><br><h2 id="vozmozhnye-varianty-resheniy"> 可能的解决方案 </h2><br><p> 我们有填字游戏的大小，颜色以及所有行和列的描述。 我如何从中组装图片： </p><br><h4 id="polnyy-perebor"> 全搜索 </h4><br><p> 对于每个单元格，我们对所有可能的状态进行排序并检查是否令人满意。 黑白填字游戏的这种解决方案的复杂性 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-17"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">O</span><span class="MJXp-mrow" id="MJXp-Span-19"><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">N</span><span class="MJXp-mo" id="MJXp-Span-22" style="margin-left: 0.267em; margin-right: 0.267em;">∗</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">M</span><span class="MJXp-mo" id="MJXp-Span-24" style="margin-left: 0.267em; margin-right: 0.267em;">∗</span><span class="MJXp-msubsup" id="MJXp-Span-25"><span class="MJXp-mrow" id="MJXp-Span-26" style="margin-right: 0.05em;"><span class="MJXp-mn" id="MJXp-Span-27">2</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-28" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">N</span><span class="MJXp-mo" id="MJXp-Span-30">∗</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">M</span></span></span><span class="MJXp-mrow" id="MJXp-Span-32"><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.927ex" height="2.66ex" viewBox="0 -935.7 8579.6 1145.2" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="1593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2217" x="2704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4D" x="3426" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2217" x="4700" y="0"></use><g transform="translate(5423,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2217" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4D" x="1389" y="0"></use></g></g><g transform="translate(7749,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-5"> O（N * M * {2} ^ {N * M}）</script>  ，用于颜色 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-34"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">O</span><span class="MJXp-mrow" id="MJXp-Span-36"><span class="MJXp-mo" id="MJXp-Span-37" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">N</span><span class="MJXp-mo" id="MJXp-Span-39" style="margin-left: 0.267em; margin-right: 0.267em;">∗</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">M</span><span class="MJXp-mo" id="MJXp-Span-41" style="margin-left: 0.267em; margin-right: 0.267em;">∗</span><span class="MJXp-msubsup" id="MJXp-Span-42"><span class="MJXp-mrow" id="MJXp-Span-43" style="margin-right: 0.05em;"><span class="MJXp-mrow" id="MJXp-Span-44"><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0.278em; margin-right: 0.278em;">颜</span></span><span class="MJXp-mrow" id="MJXp-Span-46"><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0.278em; margin-right: 0.278em;">色</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-48" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">N</span><span class="MJXp-mo" id="MJXp-Span-50">∗</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">M</span></span></span><span class="MJXp-mrow" id="MJXp-Span-52"><span class="MJXp-mo" id="MJXp-Span-53" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.62ex" height="2.901ex" viewBox="0 -1039.5 9739 1249" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="1593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2217" x="2704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4D" x="3426" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2217" x="4700" y="0"></use><g transform="translate(5423,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">颜</text><g transform="translate(829,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">色</text></g><g transform="translate(1659,453)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2217" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4D" x="1389" y="0"></use></g></g><g transform="translate(8909,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-6"> O（N * M * {颜色} ^ {N * M}）</script>  。 与<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">小丑分类</a>类似<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">，</a>该解决方案也可以称为小丑。 适用于5x5尺寸。 </p><br><h4 id="backtracking"> 回溯 </h4><br><p> 整理了排列单元格水平组的所有可能方法。 我们将一组单元格放在一行中，检查它是否不破坏列组的描述。 如果破裂，我们再放1个单元格，然后再次检查。 设置-转到下一组。 如果您无法以任何方式放置一个组，我们将回退两个组，重新排列上一个组，依此类推，直到成功放置最后一个组。 </p><br><h4 id="otdelno-dlya-kazhdogo-ryada"> 每行分别 </h4><br><p> 这个决定要好得多，这是真的。 我们可以分别分析每一行和每一列。 每行将尝试显示最大信息。 </p><br><p> 该行中每个单元的算法都可以学习更多信息-可能结果是无法以某种颜色对单元进行着色，组将不会收敛。 您无法立即完全扩展行，但是收到的信息将“帮助”更好地打开几列，并且当我们开始分析它们时，它们将再次“帮助”行，依此类推，直到所有单元格都具有一种可能的颜色。 </p><br><h2 id="istinno-vernoe-reshenie"> 真正真实的决定 </h2><br><h4 id="odna-stroka-dva-cveta"> 一行，两种颜色 </h4><br><p> 对某些单元格已经猜到的黑白“单线”进行有效猜测是一项非常艰巨的任务。 她在以下地方遇见： </p><br><ul><li>  <em>在ACM ICPC 2006的八分之一决赛中，</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">您可以尝试自己解决问题</a> 。 时间限制是1秒，组数限制是400，序列的长度也是400。与其他任务相比，它具有很高的复杂性。 </li><li>  <em>2016</em>年<em>国际信息奥林匹克</em> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">条件</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">通过任务</a> 。 时间限制是2秒，组数限制是100，行的长度是200'000。 这样的限制是过大的，但是解决ACM限制的问题可获得80/100分。 这里的水平也不令人失望，来自世界各地的残酷智商水平的学童已经接受了数年的培训以解决不同的技巧，然后他们去了奥林匹克竞赛（来自该国的只有4个人必须通过），他们决定进行2轮5小时的比赛 <del> 如果是史诗般的胜利（铜牌在不同年份中以138-240分获得青铜），则进入牛津大学，然后由清算公司提供给搜索部门，dakimakura拥有漫长而幸福的生活。 </del></li></ul><br><p> 单色单行也可以用不同的方法解决，并且 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-54"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">O</span><span class="MJXp-mrow" id="MJXp-Span-56"><span class="MJXp-mo" id="MJXp-Span-57" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">N</span><span class="MJXp-mo" id="MJXp-Span-59" style="margin-left: 0.267em; margin-right: 0.267em;">∗</span><span class="MJXp-msubsup" id="MJXp-Span-60"><span class="MJXp-mn" id="MJXp-Span-61" style="margin-right: 0.05em;">2</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-62" style="vertical-align: 0.5em;">N</span></span><span class="MJXp-mrow" id="MJXp-Span-63"><span class="MJXp-mo" id="MJXp-Span-64" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.741ex" height="2.66ex" viewBox="0 -935.7 5485.7 1145.2" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="1593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2217" x="2704" y="0"></use><g transform="translate(3426,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="707" y="557"></use></g><g transform="translate(4655,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-7"> O（N * 2 ^ N）</script>  （枚举所有选项，检查是否正确，选择所有选项中颜色相同的单元格），以及在某种程度上不那么愚蠢。 </p><br><p> 主要思想是使用回溯的类似物，但无需进行不必要的计算。 如果我们以某种方式建立了多个组，并且现在处于某种类型的单元中，那么我们需要找出是否有可能从当前单元开始放置其余的组。 </p><br><div class="spoiler">  <b class="spoiler_title">伪代码</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EpicWin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(group, cell)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cell &gt;= last_cell: <span class="hljs-comment"><span class="hljs-comment">#   return group == group_size win = False #        if group &lt; group_size #    and CanInsertBlack(cell, len[group]) #    and CanInsertWhite(cell + len[group], 1) #    and EpicWin(group + 1, cell + len[group] + 1): #    win = True can_place_black[cell .. (cell + len[group] - 1)] = True can_place_white[cell + len[group]] = True; #         if CanInsertWhite(cell, 1) and EpicWin(group, cell + 1): win = True can_place_white[cell] = True return win EpicWin(0, 0)</span></span></code> </pre> </div></div><br><p> 这种方法称为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">动态编程</a> 。 伪代码得到简化，甚至计算出的值也不存储在此处。 </p><br><p> 需要使用<code>CanInsertBlack/CanInsertWhite</code>来检查理论上是否可以在正确的位置放置正确大小的组。 他们所需要做的就是确认在指定的单元格范围内没有“ 100％白色”单元格（用于第一个功能）或“ 100％黑色”单元格（对于第二个功能）。 他们可以为 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">O</span><span class="MJXp-mrow" id="MJXp-Span-67"><span class="MJXp-mo" id="MJXp-Span-68" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-69">1</span><span class="MJXp-mrow" id="MJXp-Span-70"><span class="MJXp-mo" id="MJXp-Span-71" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.791ex" height="2.298ex" viewBox="0 -780.1 2924 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="1593" y="0"></use><g transform="translate(2093,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-8"> O（1）</script>  ，这可以使用部分金额来完成： </p><br><div class="spoiler">  <b class="spoiler_title">可以插入黑色</b> <div class="spoiler_text"><pre> <code class="python hljs">white_counter = [ <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, ..., <span class="hljs-number"><span class="hljs-number">0</span></span> ] <span class="hljs-comment"><span class="hljs-comment">#   n def PrecalcWhite(): for i in range(0, (n-1)): if is_anyway_white[i]: # 1,  i-  100%  white_counter[i]++ if i &gt; 0: white_counter[i] += white_counter[i - 1] def CanInsertBlack(cell, len): #     [cell, cell + len - 1] ans = white_counter[cell + len - 1] if cell &gt; 0: ans -= white_counter[cell - 1] #  ans -     cell  (cell + len - 1) return ans == 0</span></span></code> </pre> </div></div><br><p> 具有部分和的相同巫术等待形式的行 </p><br><pre> <code class="python hljs">can_place_black[cell .. (cell + len[group] - <span class="hljs-number"><span class="hljs-number">1</span></span>)] = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p> 在这里，我们可以代替<code>= True</code>将数字增加1。并且，如果我们需要在某个数组中的某个段上进行大量添加 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-72"><span class="MJXp-mrow" id="MJXp-Span-73"><span class="MJXp-mo" id="MJXp-Span-74" style="margin-left: 0.278em; margin-right: 0.278em;">数</span></span><span class="MJXp-mrow" id="MJXp-Span-75"><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0.278em; margin-right: 0.278em;">组</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.855ex" height="2.298ex" viewBox="0 -780.1 1660 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">数</text><g transform="translate(829,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">组</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-9">数组</script>  ，此外，我们在使用其他数组之前不会使用此数组（他们说此任务是“离线解决”的），而不是循环： </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#     for i in range(L, R + 1): array[i]++</span></span></code> </pre> <br><p> 您可以这样做： </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#     array[L]++ array[R + 1]-- #    for i in range(1, n): array[i] += array[i - 1]</span></span></code> </pre> <br><p> 因此，整个算法适用于 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-77"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">O</span><span class="MJXp-mrow" id="MJXp-Span-79"><span class="MJXp-mo" id="MJXp-Span-80" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">k</span><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0.267em; margin-right: 0.267em;">∗</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">n</span><span class="MJXp-mrow" id="MJXp-Span-84"><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.429ex" height="2.298ex" viewBox="0 -780.1 4490.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6B" x="1593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2217" x="2337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6E" x="3059" y="0"></use><g transform="translate(3660,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-10"> O（k * n）</script> 在哪里 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-86"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6B" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> k </script>  -黑电池的组数， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> n </script> 是字符串的长度。 然后我们去了ACM ICPC的半决赛，或者获得了实习者的铜牌。  <a href="">ACM解决方案（Java）</a> 。  <a href="">IOI解决方案（C ++）</a> 。 </p><br><h4 id="odna-stroka-mnogo-cvetov"> 一行多色 </h4><br><p> 当我们仍然不清楚如何解决时，当我们切换到多色非图时，我们学到了一个可怕的事实-事实证明，每一列都受到所有列的神奇影响！ 通过一个示例可以更清楚地看到： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6m/ve/_d/6mve_d8spu5wyqai1osmtppdgr8.png"></div><br><p>  <em>资料来源- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">解决日语填字游戏的方法</a></em> </p><br><p> 虽然双色非图通常没有它，但它们不需要回顾正交朋友。 <br> 如图所示，在左边的示例中，三个最右端的单元格为空，因为如果您为这些单元格上色，则配置会中断 <del> 用来画自己的那些颜色 </del> 非白色。 </p><br><p> 但是这个笑话在数学上是可以确定的-每个单元格必须给一个数字，其中 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-90"><span class="MJXp-mrow" id="MJXp-Span-91"><span class="MJXp-mo" id="MJXp-Span-92" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg></span><script type="math/tex" id="MathJax-Element-13">我</script> 第ith位将表示是否可以给该单元格 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-93"><span class="MJXp-mrow" id="MJXp-Span-94"><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg></span><script type="math/tex" id="MathJax-Element-14">我</script> 颜色。 最初，所有单元格都有一个值 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-96"><span class="MJXp-msubsup" id="MJXp-Span-97"><span class="MJXp-mn" id="MJXp-Span-98" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-99" style="vertical-align: 0.5em;"><span class="MJXp-mrow" id="MJXp-Span-100"><span class="MJXp-mo" id="MJXp-Span-101">颜</span></span><span class="MJXp-mrow" id="MJXp-Span-102"><span class="MJXp-mo" id="MJXp-Span-103">色</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-104" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-105">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.124ex" height="2.66ex" viewBox="0 -987.6 3497.7 1145.2" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">颜</text><g transform="translate(586,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">色</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2212" x="1996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="2997" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> 2 ^ {颜色}-1 </script>  。 动态的决定不会有太大变化。 </p><br><p> 您可以观察到以下效果：在相同的左示例中，根据行的版本，最右边的单元格可以具有蓝色或白色。 <br> 根据列的版本，此单元格具有绿色或白色。 <br> 根据常识版本，此单元将只有白色。 然后我们继续计算答案。 </p><br><p> 如果我们认为零位是“白色”，第一个是“蓝色”，第二个是“绿色”，则该行计算了最后一个单元的状态 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-106"><span class="MJXp-mn" id="MJXp-Span-107">011</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.487ex" height="1.937ex" viewBox="0 -728.2 1501.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="1001" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-16"> 011 </script> 和列 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-108"><span class="MJXp-mn" id="MJXp-Span-109">101</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.487ex" height="1.937ex" viewBox="0 -728.2 1501.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="1001" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-17"> 101 </script>  。 这意味着该单元的状态是真实的 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-110"><span class="MJXp-mn" id="MJXp-Span-111">011</span><span class="MJXp-mtext" id="MJXp-Span-112" style="color: red;">\＆</span><span class="MJXp-mn" id="MJXp-Span-113">101</span><span class="MJXp-mo" id="MJXp-Span-114" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-115">001</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.651ex" height="2.66ex" viewBox="0 -832 7169 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="1001" y="0"></use><g fill="red" stroke="red" transform="translate(1501,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">＆</text></g></g><g transform="translate(2831,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-3D" x="4611" y="0"></use><g transform="translate(5667,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-18"> 011 \＆101 = 001 </script></p><br><div class="spoiler">  <b class="spoiler_title">伪代码</b> <div class="spoiler_text"><pre> <code class="python hljs">source = [...] <span class="hljs-comment"><span class="hljs-comment">#   result = [0, 0, ..., 0] #   len = [...] #    clrs = [...] #    def CanInsertColor(color, cell, len): for i in range(cell, cell + len): if (source[i] &amp; (1 &lt;&lt; color)) == 0: #     color    return False; return True def PlaceColor(color, cell, len): for i in range(cell, cell + len): result[i] |= (1 &lt;&lt; color) #   color  OR def EpicWinExtended(group, cell): if cell &gt;= last_cell: #   return group == group_size win = False #        if group &lt; group_size #    and CanInsertColor(clrs[group], cell, len[group]) #    and SequenceCheck() #       ,  #         and EpicWin(group + 1, cell + len[group]): #    win = True PlaceColor(clrs[group], cell, len[group]) PlaceColor(0, cell + len[group], 1) #   -    #         #   -  0 if CanInsertWhite(0, cell, 1) and EpicWinExtended(group, cell + 1): win = True PlaceColor(0, cell, 1) return win</span></span></code> </pre> </div></div><br><h4 id="mnogo-strok-mnogo-cvetov"> 多行多色 </h4><br><p> 不断更新所有行和列的状态（如上一段所述），直到没有一个单元具有一位以上。 在每次迭代中，在更新所有行和列之后，我们通过相互AND来更新其中所有单元格的状态。 </p><br><h2 id="pervye-rezultaty"> 初步结果 </h2><br><p> 假设我们没有像啄木鸟那样编写代码，也就是说，我们不会错误地复制对象而不是通过引用传递对象，我们不会在任何地方发明自行车，我们也不会发明自行车，因为我们使用<code>__builtin_popcount</code>和<code>__builtin_ctz</code> （ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">gcc功能</a> ）进行位操作，所以一切都干净整洁。 </p><br><p> 让我们看一下程序的时间，该程序从文件中读取难题并完全解决。 值得评估编写和测试所有这些东西的机器的优势： </p><br><div class="spoiler">  <b class="spoiler_title">我的1932年哈雷戴维森B型经典摩托车的发动机规格</b> <div class="spoiler_text"><pre> <code class="bash hljs">RAM - 4GB  - AMD E1-2500,  1400MHz  L1 - 128KiB, 1GHz  L2 - 1MiB, 1GHz  - 2,  - 2   « SoC   »   2013    28 </code> </pre> </div></div><br><p> 显然，之所以选择这样的超级计算机，是因为对它的优化比对飞行的shaitan机器的影响更大。 </p><br><p> 因此，在最复杂的填字游戏上运行我们的算法（根据nonograms.ru）之后，我们得到的结果不是很好-从<strong>47</strong>到<strong>60</strong>秒（包括从文件和解决方案中读取）。 应该注意的是，网站上的“复杂性”是经过精心计算的-在该程序的所有版本中，相同的填字游戏也是最难的，而档案馆认为其他最复杂的填字游戏都处于最佳状态。 </p><br><div class="spoiler">  <b class="spoiler_title">颜色填字游戏编号9596，最大难度</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ar/7n/rx/ar7nrxtbzch1wk8bsihz0puldt8.png"></div></div></div><br><p> 为了进行快速测试，对基准进行了功能测试。 为了获得他的数据，我使用特殊脚本使用nonograms.ru（这是Internet上最大的非图形档案之一）sparsil <strong>4683</strong>彩色填字游戏（来自<strong>10906</strong> ）和<strong>1406</strong>黑白（来自<strong>8293</strong> ），使用特殊脚本并将其保存为程序可以理解的格式。 我们可以假设这些填字游戏是随机样本，因此基准测试将显示足够的平均值。 另外，在脚本中记录了几十个最“复杂”的填字游戏（也是最大的大小和颜色数量）的数量，以供笔装载。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ox/xt/nd/oxxtnd1jdlth72q0zqnj3ic1kew.png"></div><br><h2 id="optimizaciya"> 最佳化 </h2><br><p> 在这里，您可以看到可能的优化技术，这些技术（1）是在编写整个算法时进行的；（2）将工作时间从半分钟缩短到了几分之一秒；（3）这些优化可能会进一步有用。 </p><br><h4 id="vo-vremya-napisaniya-algoritma"> 在编写算法时 </h4><br><ul><li> 位操作的特殊功能，在我们的例子中， <code>__builtin_popcount</code>用于计数数字的二进制表示形式，而<code>__builtin_ctz</code>用于计算第一个最小单位之前的零个数。 这些功能可能不会在某些编译器中出现。 对于Windows，此类类似物适用： </li></ul><br><div class="spoiler">  <b class="spoiler_title">Windows Popcount</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> _MSC_VER # </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;intrin.h&gt; # define __builtin_popcount __popcnt #endif</span></span></span></span></code> </pre> </div></div><br><ul><li> 阵列组织-较小的尺寸排在首位。 例如，最好使用数组[2] [3] [500] [1024]，而不要使用[1024] [500] [3] [2]。 </li><li> 最重要的是代码的一般性以及避免不必要的计算麻烦。 </li></ul><br><h4 id="chto-umenshaet-vremya-raboty"> 什么减少了工作时间 </h4><br><ul><li> 编译时的-O2标志。 </li><li> 为了不将完全解析的行/列再次投入算法，您可以在单独的std :: vector / array中为每行设置标志，用完整的解决方案标记它们，如果没有其他要解决的问题，不要放开。 </li><li> 一个动态问题的多次重复解决方案的细节表明，每次创建新的解决方案时，应重置一个特殊的数组，该数组包含标记问题的“已计算”部分的标志。 在我们的例子中，这是一个二维数组/向量，其中第一个维是组数，第二个是当前单元格（请参阅上面的EpicWin伪代码，该数组不是，但思路很明确）。 您可以执行此操作，而不是清零-让我们拥有一个“计时器”变量，该数组由数字组成，这些数字显示了该片最后一次被重新计数时的最后一个“时间”。 开始新任务时，“计时器”增加1。而不是检查布尔标志，应检查数组元素和“计时器”的相等性。 这在算法未涵盖所有可能状态的情况下尤其有效（这意味着将数组“归零”已经花了健康的时间）归零。 </li><li> 用STL中的类似物或更合适的东西替换相同类型的简单操作（带有赋值的循环等）。 有时它比自行车快。 </li><li>  C ++中的<code>std::vector&lt;bool&gt;</code>将所有布尔值压缩为数字中的单个位，这比访问该地址上的常规值时慢一点。 如果程序非常非常频繁地使用这些值，则用整数类型替换布尔值会对性能产生良好的影响。 </li><li> 其他弱点可以通过探查器进行查找和编辑。 我本人使用Valgrind，它的性能分析很方便通过kCachegrind查看。 探查器内置在许多IDE中。 </li></ul><br><p> 这些编辑结果足以在基准上获取此类数据： </p><br><div class="spoiler">  <b class="spoiler_title">彩色非图</b> <div class="spoiler_text"><pre> <code class="bash hljs">izaron@izaron:~/nonograms/build$ ./nonograms_solver -x ../../nonogram/source2/ -e [2018-08-04 22:57:40.432] [Nonograms] [info] Starting a benchmark... [2018-08-04 22:58:03.820] [Nonograms] [info] Average time: 0.00497556, Median time: 0.00302781, Max time: 0.215925 [2018-08-04 22:58:03.820] [Nonograms] [info] Top 10 heaviest nonograms: [2018-08-04 22:58:03.820] [Nonograms] [info] 0.215925 seconds, file 9596 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.164579 seconds, file 4462 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.105828 seconds, file 15831 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.08827 seconds, file 18353 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0874717 seconds, file 10590 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0831248 seconds, file 4649 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0782811 seconds, file 11922 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0734325 seconds, file 4655 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.071352 seconds, file 10828 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0708263 seconds, file 11824</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">黑白非图</b> <div class="spoiler_text"><pre> <code class="bash hljs">izaron@izaron:~/nonograms/build$ ./nonograms_solver -x ../../nonogram/<span class="hljs-built_in"><span class="hljs-built_in">source</span></span>/ -e -b [2018-08-04 22:59:56.308] [Nonograms] [info] Starting a benchmark... [2018-08-04 23:00:09.781] [Nonograms] [info] Average time: 0.0095679, Median time: 0.00239274, Max time: 0.607341 [2018-08-04 23:00:09.781] [Nonograms] [info] Top 10 heaviest nonograms: [2018-08-04 23:00:09.781] [Nonograms] [info] 0.607341 seconds, file 5126 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.458932 seconds, file 19510 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.452245 seconds, file 5114 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.19975 seconds, file 18627 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.163028 seconds, file 5876 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.161675 seconds, file 17403 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.153693 seconds, file 12771 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.146731 seconds, file 5178 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.142732 seconds, file 18244 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.136131 seconds, file 19385</code> </pre> </div></div><br><p> 您可能会注意到，平均而言，黑白填字游戏比彩色填字游戏“难”。 这证实了游戏爱好者的观察，他们也认为“色彩”的平均解决起来比较容易。 </p><br><p> 因此，无需进行根本性的更改（例如用fastcall重写C或汇编程序插入中的所有代码并降低帧指针），就可以在一台非常普通的计算机上实现高性能。  Pareto原则可能适用于优化-事实证明，次要优化会产生很大影响，因为这段代码很关键，而且经常被调用。 </p><br><h4 id="dalneyshaya-optimizaciya"> 进一步优化 </h4><br><p> 以下方法可以大大提高程序性能。 其中有些功能并非在所有情况下都可以使用，但是在某些条件下不能使用。 </p><br><ul><li> 用C风格和其他1972年重写代码。 我们将ifstream替换为模拟副本，将vector替换为数组，了解所有编译器选项，并为每个处理器时钟周期而战。 </li><li> 并行化。 例如，在代码中，有一段代码是行被顺序更新，然后是列： </li></ul><br><div class="spoiler">  <b class="spoiler_title">布尔益智:: UpdateState（...）</b> <div class="spoiler_text"><pre> <code class="cpp hljs"> ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!UpdateGroupsState(solver, dead_rows, row_groups, row_masks)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!UpdateGroupsState(solver, dead_cols, col_groups, col_masks)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> </div></div><br><p> 这些函数彼此独立，除了变量求解器（OneLineSolver类型）外，它们没有共享内存，因此您可以创建两个求解器对象（这里显然只有一个是求解器），并在同一函数中启动两个线程。 效果是这样的：在颜色填字游戏中，“最难”的解决速度是原来的两倍，而在黑白中，解决速度最快的是三分之一，并且由于创建线程的成本相对较高，平均时间也有所增加。 </p><br><p> 但是总的来说，我不建议在当前程序中正确地使用它，而要冷静地使用它-首先，创建线程是一项昂贵的操作，您不应该经常为微秒任务创建线程，其次，通过程序参数的某种组合，线程可以引用哪个外部存储器，例如，在创建解决方案图片时-应该考虑并保护它。 </p><br><p> 如果任务很艰苦，并且我将拥有大量数据和多核计算机，那么我会走得更远-您可以创建几个恒定线程，每个线程都有自己的OneLineSolver对象，以及另一个控制工作分配和按需分配的线程安全结构它提供了对解决方案的下一行/列的引用。 解决了另一个问题之后的线程再次转向该结构以解决其他问题。 原则上，非图问题可以在不完成前一个问题的情况下开始，例如，当该结构参与所有单元的相互“与”运算时，一些流是自由的，什么也不做。 可以通过CUDA在GPU上完成更多的并行化-有很多选择。 </p><br><ul><li> 使用经典数据结构。 请注意-当我显示颜色非图的解决方案的伪代码时，CanInsertColor和PlaceColor函数根本不起作用 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-116"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">O</span><span class="MJXp-mrow" id="MJXp-Span-118"><span class="MJXp-mo" id="MJXp-Span-119" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-120">1</span><span class="MJXp-mrow" id="MJXp-Span-121"><span class="MJXp-mo" id="MJXp-Span-122" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.791ex" height="2.298ex" viewBox="0 -780.1 2924 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="1593" y="0"></use><g transform="translate(2093,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-19"> O（1）</script>  ，不像黑白非图。 在程序中看起来像这样： </li></ul><br><div class="spoiler">  <b class="spoiler_title">CanPlaceColor和SetPlaceColor</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> OneLineSolver::CanPlaceColor(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&amp; cells, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> color, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lbound, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> rbound) { <span class="hljs-comment"><span class="hljs-comment">// Went out of the border if (rbound &gt;= cells.size()) { return false; } // We can paint a block of cells with a certain color if and only if it is // possible for all cells to have this color (that means, if every cell // from the block has color-th bit set to 1) int mask = 1 &lt;&lt; color; for (int i = lbound; i &lt;= rbound; ++i) { if (!(cells[i] &amp; mask)) { return false; } } return true; } void OneLineSolver::SetPlaceColor(int color, int lbound, int rbound) { // Every cell from the block now can have this color for (int i = lbound; i &lt;= rbound; ++i) { result_cells_[i] |= (1 &lt;&lt; color); } }</span></span></code> </pre> </div></div><br><p> 也就是说，它适用于生产线， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-123"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">O</span><span class="MJXp-mrow" id="MJXp-Span-125"><span class="MJXp-mo" id="MJXp-Span-126" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">N</span><span class="MJXp-mrow" id="MJXp-Span-128"><span class="MJXp-mo" id="MJXp-Span-129" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.692ex" height="2.298ex" viewBox="0 -780.1 3312 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="1593" y="0"></use><g transform="translate(2481,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-20"> O（N）</script>  （稍后将解释这种代码的含义）。 </p><br><p> 让我们看看如何获​​得最佳的复杂性。 以<code>CanPlaceColor</code> 。 此函数检查段中向量的所有数字中的 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-130"><span class="MJXp-mo" id="MJXp-Span-131" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">d</span><span class="MJXp-mrow" id="MJXp-Span-138"><span class="MJXp-mo" id="MJXp-Span-139" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">d</span><span class="MJXp-mo" id="MJXp-Span-146" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.094ex" height="2.66ex" viewBox="0 -832 7360 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6C" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-62" x="577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6F" x="1006" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-75" x="1492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6E" x="2064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-64" x="2665" y="0"></use><g transform="translate(3188,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-72" x="4018" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-62" x="4469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6F" x="4899" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-75" x="5384" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6E" x="5957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-64" x="6557" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-5D" x="7081" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-21"> [lbound，rbound] </script> 位数 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-147"><span class="MJXp-mrow" id="MJXp-Span-148"><span class="MJXp-mo" id="MJXp-Span-149" style="margin-left: 0.278em; margin-right: 0.278em;">颜</span></span><span class="MJXp-mrow" id="MJXp-Span-150"><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0.278em; margin-right: 0.278em;">色</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.855ex" height="2.298ex" viewBox="0 -780.1 1660 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">颜</text><g transform="translate(829,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">色</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-22">颜色</script> 设置为1。等效于此，您可以 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-152"><span class="MJXp-mrow" id="MJXp-Span-153"><span class="MJXp-mo" id="MJXp-Span-154" style="margin-left: 0.278em; margin-right: 0.278em;">和</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">和</text></g></svg></span><script type="math/tex" id="MathJax-Element-23">和</script> 该段的<strong>所有</strong>编号并检查位数 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-155"><span class="MJXp-mrow" id="MJXp-Span-156"><span class="MJXp-mo" id="MJXp-Span-157" style="margin-left: 0.278em; margin-right: 0.278em;">颜</span></span><span class="MJXp-mrow" id="MJXp-Span-158"><span class="MJXp-mo" id="MJXp-Span-159" style="margin-left: 0.278em; margin-right: 0.278em;">色</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.855ex" height="2.298ex" viewBox="0 -780.1 1660 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">颜</text><g transform="translate(829,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">色</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-24">颜色</script>  。 使用事实，即操作 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-160"><span class="MJXp-mrow" id="MJXp-Span-161"><span class="MJXp-mo" id="MJXp-Span-162" style="margin-left: 0.278em; margin-right: 0.278em;">和</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">和</text></g></svg></span><script type="math/tex" id="MathJax-Element-25">和</script>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">可交换的</a> ，以及求和，最小值/最大值，乘积或运算 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-163"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">X</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.156ex" height="2.057ex" viewBox="0 -780.1 1789.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-58" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-6F" x="852" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-72" x="1338" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-26"> Xor </script>  ，用于快速计数 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-167"><span class="MJXp-mrow" id="MJXp-Span-168"><span class="MJXp-mo" id="MJXp-Span-169" style="margin-left: 0.278em; margin-right: 0.278em;">和</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">和</text></g></svg></span><script type="math/tex" id="MathJax-Element-27">和</script>        ,      . : </p><br><ol><li> SQRT-.  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-170"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">O</span><span class="MJXp-mo" id="MJXp-Span-172" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msqrt" id="MJXp-Span-173"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;">√</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">N</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-175" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.582ex" height="3.021ex" viewBox="0 -987.6 3264.5 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><g transform="translate(1153,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-221A" x="0" y="62"></use><rect stroke="none" width="888" height="60" x="833" y="803"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="833" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="2875" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-28">O(\sqrt{N})</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-176"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">O</span><span class="MJXp-mo" id="MJXp-Span-178" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msqrt" id="MJXp-Span-179"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;">√</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">N</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-181" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.582ex" height="3.021ex" viewBox="0 -987.6 3264.5 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><g transform="translate(1153,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-221A" x="0" y="62"></use><rect stroke="none" width="888" height="60" x="833" y="803"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="833" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="2875" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-29">O(\sqrt{N})</script>  。 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  </a> . </li><li>  .  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-182"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">O</span><span class="MJXp-mo" id="MJXp-Span-184" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">N</span><span class="MJXp-mi" id="MJXp-Span-186">log</span><span class="MJXp-mo" id="MJXp-Span-187" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-188"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">N</span></span><span class="MJXp-mo" id="MJXp-Span-190" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.456ex" height="2.66ex" viewBox="0 -832 4932.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="1153" y="0"></use><g transform="translate(2208,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-67" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="3654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="4542" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-30">O(N\log{N})</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-191"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192">O</span><span class="MJXp-mo" id="MJXp-Span-193" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-194">log</span><span class="MJXp-mo" id="MJXp-Span-195" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-196"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">N</span></span><span class="MJXp-mo" id="MJXp-Span-198" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.005ex" height="2.66ex" viewBox="0 -832 3877.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><g transform="translate(1153,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-67" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="2599" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="3487" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-31">O(\log{N})</script>  。    . </li><li>   (Sparse Table).  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-199"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">O</span><span class="MJXp-mo" id="MJXp-Span-201" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">N</span><span class="MJXp-mi" id="MJXp-Span-203">log</span><span class="MJXp-mo" id="MJXp-Span-204" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-205"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">N</span></span><span class="MJXp-mo" id="MJXp-Span-207" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.456ex" height="2.66ex" viewBox="0 -832 4932.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="1153" y="0"></use><g transform="translate(2208,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-67" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="3654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="4542" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-32">O(N\log{N})</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-208"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">O</span><span class="MJXp-mo" id="MJXp-Span-210" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-211">1</span><span class="MJXp-mo" id="MJXp-Span-212" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.745ex" height="2.66ex" viewBox="0 -832 2043 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="1653" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-33">O(1)</script>  。 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . </li></ol><br><p>  ,      -   ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-213"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">O</span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">N</span><span class="MJXp-mo" id="MJXp-Span-217" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.646ex" height="2.66ex" viewBox="0 -832 2431 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="2041" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-34">O(N)</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-218"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">O</span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-221">1</span><span class="MJXp-mo" id="MJXp-Span-222" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.745ex" height="2.66ex" viewBox="0 -832 2043 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="1653" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-35">O(1)</script> )  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ,  ,       <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-223"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">φ</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.52ex" height="1.937ex" viewBox="0 -520.7 654.5 834" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-3C6" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-36">\varphi</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-225"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">φ</span><span class="MJXp-mo" id="MJXp-Span-227" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">α</span><span class="MJXp-mo" id="MJXp-Span-229" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">β</span><span class="MJXp-mo" id="MJXp-Span-231" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-232" style="margin-left: 0.333em; margin-right: 0.333em;">∈</span><span class="MJXp-mo" id="MJXp-Span-233" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">α</span><span class="MJXp-mo" id="MJXp-Span-235" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">β</span><span class="MJXp-mo" id="MJXp-Span-237" style="margin-left: 0em; margin-right: 0em;">}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.202ex" height="2.66ex" viewBox="0 -832 6975.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-3C6" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-3B1" x="1044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2C" x="1684" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-3B2" x="2129" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="2703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2208" x="3370" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-7B" x="4315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-3B1" x="4816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-2C" x="5456" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-3B2" x="5901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-7D" x="6475" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-37">\varphi(\alpha, \beta) \in \{\alpha, \beta\}</script> ,      —    (,   ...) </p><br><p>   <code>SetPlaceColor</code> .       .      SQRT-       (  " ").         - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">    </a>      . </p><br><p>       -  —     . </p><br><p> ,   — <em></em>        ,    ?     : </p><br><ol><li>        .   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-238"><span class="MJXp-mi" id="MJXp-Span-239">log</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.972ex" height="2.419ex" viewBox="0 -780.1 1279.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-67" x="779" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-38">\log</script>    ,  ,    —         (   magic number  ,     ). ,   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">N</span><span class="MJXp-mo" id="MJXp-Span-242" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-243"><span class="MJXp-mn" id="MJXp-Span-244" style="margin-right: 0.05em;">10</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-245" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-246">5</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.541ex" height="2.419ex" viewBox="0 -935.7 3677.5 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-3D" x="1166" y="0"></use><g transform="translate(2222,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-35" x="1415" y="557"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-39">N=10^{5}</script> ,     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-247"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">O</span><span class="MJXp-mo" id="MJXp-Span-249" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251" style="margin-right: 0.05em;">N</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-252" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-253" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.76ex" height="2.901ex" viewBox="0 -935.7 2910.5 1249" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><g transform="translate(1153,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-32" x="1292" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="2520" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-40">O(N^2)</script>    10 ,    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">O</span><span class="MJXp-mo" id="MJXp-Span-256" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">N</span><span class="MJXp-mi" id="MJXp-Span-258">log</span><span class="MJXp-mo" id="MJXp-Span-259" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-260"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">N</span></span><span class="MJXp-mo" id="MJXp-Span-262" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.456ex" height="2.66ex" viewBox="0 -832 4932.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="1153" y="0"></use><g transform="translate(2208,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-67" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMATHI-4E" x="3654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhg-mJ6uhvcbLC0B5ILPl9B3r9Jssg#MJMAIN-29" x="4542" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-41">O(N\log{N})</script>   0.150 ,        <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-263"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> N </script> ,     .  ,            ( ): <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-265"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">O</span><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">N</span><span class="MJXp-msqrt" id="MJXp-Span-269"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;">√</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">N</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-271" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43">O(N\sqrt{N})</script> versus <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-272"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">O</span><span class="MJXp-mo" id="MJXp-Span-274" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">N</span><span class="MJXp-msubsup" id="MJXp-Span-276"><span class="MJXp-mi" id="MJXp-Span-277" style="margin-right: 0.05em;">log</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-278" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-279" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-280"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">N</span></span><span class="MJXp-mo" id="MJXp-Span-282" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44">O(N\log^2{N})</script>  。    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-283"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> N </script> ( )   —    15-30. </li><li>     ,         . </li></ol><br><p>     —                  ,      -   —   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-285"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> N </script>      ,    .     ,        ~25%  ~11%  ,          .     -      ,  ,        ,          . </p><br><p>        —      ,        .     . </p><br><ul><li>  .   ,            ,   - .       :   ,        ,        ""  ? ,      ,    !       .      ,       . </li><li>    (,     1337    1000x1000)   .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">std::bitset</a> ,   —    ,   . </li></ul><br><p>  ,    . ""          .      ,         C++ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">rope</a> ,       ), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> hashtable</a> ,   3-6    /   4-10   /,  unordered_map.         ,   boost. </p><br><h2 id="rofl-omitting-format-language"> ROFL Omitting Format Language </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rc/vp/jm/rcvpjmbinhow4aakwya-xgt3rm4.png"></div><br><p>         ,           ,       ,       -. </p><br><p> ROFL —  ,   "GNU's Not Unix". ,    ,       ,  ,   ,    .    Omitting   —          (, ,     :          —   ). </p><br><p> ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Matroska</a> —    4  [52][4F][46][4C],         ,   ,  ,   3 ,      — ,    . </p><br><p>  ,  MIT,    —   ,  . </p><br><h2 id="ishodniki">  </h2><br><p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHub</a> .      ,    ,     (,         ).    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Magick++</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">args</a> . </p><br><p>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ,    (    ).    nonograms.ru      ,    ,             . </p><br><p>      nonograms.ru  .. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">KyberPrizrak</a> ,   ,          ,       !         nonograms.ru,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/es/zg/il/eszgil8btd-jjgaszlinfz2oodm.png"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN418069/">https://habr.com/ru/post/zh-CN418069/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN418057/index.html">“再次学习，再学习”：今年秋季针对移动开发人员的顶级会议</a></li>
<li><a href="../zh-CN418059/index.html">开源APM精确定位</a></li>
<li><a href="../zh-CN418063/index.html">英特尔酷睿i7-8086K（第4部分）</a></li>
<li><a href="../zh-CN418065/index.html">2018 MBLT DEV会议新闻：Android Track</a></li>
<li><a href="../zh-CN418067/index.html">如何使用CSS网格和CSS变量快速对应用程序进行原型制作</a></li>
<li><a href="../zh-CN418071/index.html">为人们服务的IT行业：圣彼得堡的TechTrain音乐节</a></li>
<li><a href="../zh-CN418075/index.html">可以在3D打印机上打印的5件事[视频]</a></li>
<li><a href="../zh-CN418077/index.html">“不注意”事故：24/7技术支持操作模式的统计依据</a></li>
<li><a href="../zh-CN418079/index.html">最受欢迎的编程语言-2018</a></li>
<li><a href="../zh-CN418081/index.html">在生产中组织安全测试。 第一部分</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>