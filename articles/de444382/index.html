<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç≠ üßëüèΩ üíÖüèª So besuchen Sie die Korea University mit dem Network File System üöÖ üìï üö≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vorwort 


 Es war einmal in den fr√ºhen 2000er Jahren, als viele von ihnen die Tatsache unterhielten, dass sie regelm√§√üig die Netzwerke ihres Anbieter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So besuchen Sie die Korea University mit dem Network File System</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444382/"><p><img src="https://habrastorage.org/webt/yv/yo/g3/yvyog3c-gz4kkanb5hdlhenybg8.png"></p><br><h2 id="predislovie">  Vorwort </h2><br><p>  Es war einmal in den fr√ºhen 2000er Jahren, als viele von ihnen die Tatsache unterhielten, dass sie regelm√§√üig die Netzwerke ihres Anbieters und manchmal sogar noch weiter entfernte Ziele ‚Äûscannten‚Äú, um Windows-Computer und -Ressourcen (SMB) zu erkennen, die zum Lesen (Schreiben) verf√ºgbar sind.  Der Suchprozess war primitiv: Ein Bereich von IP-Adressen oder eine Netzwerkmaske wurde festgelegt, und √ºber verschiedene Tools - LANguard-Netzwerkscanner, xIntruder und dergleichen - wurden Adressen gescannt und Server gefunden.  Oft stellte sich heraus, dass die erkannten Maschinen zum Lesen und seltener zum Schreiben verschiedener Netzwerkressourcen (Festplatten, Drucker, Verzeichnisse) verf√ºgbar waren.  Durch eine anonyme Sitzung, √ºber IPC $ und den Benutzer "Gast" war es m√∂glich, Ressourcen auf dem Computer zu √ºbertragen, manchmal gab es Mitglieder der "Administratoren" ohne Kennw√∂rter, und manchmal war es nach einem "aktiveren" Einfluss auf die erkannten Computer m√∂glich, Server unter Windows NT 4.0 oder Windows zu finden 2000 Server.  Wenn das Gl√ºck darauf abzielte, Computer mit dem damals weit verbreiteten Windows 98 zu finden, wurde es einfacher - in jenen Tagen enthielt das angegebene Betriebssystem viele verschiedene Sicherheitsl√ºcken, einschlie√ülich der Implementierung der Arbeit mit SMB. Bruteforce f√ºr den Zugriff auf die Ressource wurde sogar bei Einwahl in wenigen Minuten ausgef√ºhrt Verbindungen.  F√ºr diejenigen, die in die alten Zeiten eintauchen m√∂chten, wird ausf√ºhrlich √ºber den "Zugriff" auf Windows 9x - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hacking Exposed: Network Security Secrets &amp; Solutions geschrieben.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kapitel 4: Hacken von Windows 95/98 und mir</a> .  Aber der Rest des Artikels handelt nicht davon. </p><a name="habracut"></a><br><p>  Ich h√§tte nie gedacht, dass 2019 eine solche "Unterhaltung" m√∂glich ist.  Die √Ñhnlichkeit liegt in der Leichtigkeit, die verf√ºgbaren Ressourcen anderer Leute f√ºr alle Neugierigen zu finden.  Dar√ºber hinaus werden wir uns nicht auf einen Trend konzentrieren, der in den letzten zwei Jahren popul√§r war - die Suche nach MongoDB- oder Elasticsearch-Datenbanken, die f√ºr den Zugriff ge√∂ffnet sind -, sondern auf einen etwas bodenst√§ndigeren Service. </p><br><p>  <em>Ferner schlage ich vor, das gesamte Verfahren und ihre ethische Norm nicht zu bewerten. Ich stelle fest, dass dieser Beitrag kein Aufruf zum Handeln ist, der einigen Artikeln des Strafgesetzbuchs der Russischen F√∂deration oder √§hnlichen Normen aus den Gesetzen anderer Staaten zugeschrieben werden kann.</em> </p><br><h2 id="network-file-system-nfs">  Netzwerkdateisystem (NFS) </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Wikipedia">Network File System (NFS)</a> - Ein Protokoll f√ºr den Netzwerkzugriff auf Dateisysteme, mit dem Sie Remote-Dateisysteme √ºber ein Netzwerk verbinden (bereitstellen) k√∂nnen, Benutzern Zugriff auf Dateien gew√§hren und mit diesen Dateien auf die gleiche Weise wie mit lokalen Dateien arbeiten k√∂nnen. </p><br><p>  Die meisten auf dem Markt verf√ºgbaren Network-Attached Storage (NAS) unterst√ºtzen nat√ºrlich NFS und bieten Zugriff auf lokale Ressourcen sowie auf jeden Server mit einem Betriebssystem, auf dem der NFS-Dienst bereitgestellt werden kann. </p><br><p>  Die Einstellungen f√ºr den Zugriff auf Serverressourcen von jedem Ubuntu-Betriebssystem und jeder IP-Adresse 192.168.1.1 sind in der Datei / etc / export enthalten und haben folgende Eintr√§ge: </p><br><ul><li>  / data / place1 192.168.1.0/255.255.255.0(rw,no_subtree_check,nohide,async) 192.168.101.0/255.255.255.0(rw,no_subtree_check,nohide,async) </li><li>  data / place2 192.168.1.0/255.255.255.0(rw,no_subtree_check,nohide,async) 192.168.101.0/255.255.255.0(rw,no_subtree_check,nohide,async) </li></ul><br><p>  In diesem Fall ist der NFS-Zugriff auf den Server und seine Ressource / Daten / Ort1 f√ºr Clients mit IP-Adressen aus den Netzwerken 192.168.1.0/255.255.255.0, 192.168.101.0/255.255.255.0 m√∂glich. </p><br><p> H√§ngen Sie die Remote-Ressource in ein lokales Verzeichnis ein, z. B. / home / user / example. Wenn sich der Client in einem zul√§ssigen Subnetz befindet und der Client f√ºr NFS installiert ist, ist dies √ºber den Befehl (Ubuntu) m√∂glich: <br> <code>mount -t nfs 192.168.1.1:/data/place1 /home/user/example</code> </p> <br><p>  Wenn anstelle von IP-Adressen * oder (jeder) angegeben wird, kann h√§ufig jeder Client eine Remote-Ressource in sein System einbinden. </p><br><p>  Der Benutzer (z. B. unter Ubuntu) muss nur das Terminal eingeben: showmount -e ip-target und Informationen zu verf√ºgbaren Ressourcen auf dem Server abrufen (Exportliste des Servers). </p><br><p>  Zum Beispiel: <br> <code>showmount -e 81.24..</code> <br> <code>Export list for 81.24..:</code> <br> <code>/home/admin 192.168.52.1/24</code> </p> <br><p>  Somit wird das folgende Szenario gebildet: Um Server zu erkennen, auf denen NFS ausgef√ºhrt wird, die verf√ºgbaren Ressourcen auf den Servern zu ermitteln, das Ergebnis in einem einzigen Ausgabeformular zu konsolidieren und dann je nach Situation fortzufahren. </p><br><p>  Was kann auf den Ressourcen sein - offensichtlich alles: </p><br><ul><li>  pers√∂nliche Dateien von Internetnutzern, beispielsweise bei "offenen" NAS-Ger√§ten; </li><li>  Verzeichnisse mit Dateien ganzer Unternehmen, Datenbanken, Datenbankarchive; </li><li>  oft Verzeichnisse mit Adressen / home / * (manchmal mit Schl√ºsseln in .ssh und beschreibbar); </li><li>  Verzeichnisse mit Dateien von Video√ºberwachungssystemen; </li><li>  andere ... </li></ul><br><h2 id="poluchenie-ip-adresov">  IP-Adressen abrufen </h2><br><p>  In Bezug auf die Erkennung von Servern mit NFS im globalen Internet gibt es zwei M√∂glichkeiten: unabh√§ngig voneinander mithilfe verschiedener Tools und vorgefertigte Scanergebnisse, Datenbanken und Dienste von Drittanbietern.  Tats√§chlich kommt es darauf an, eine Liste der IP-Adressen zu erhalten.  Im lokalen Netzwerk halte ich die Option f√ºr offensichtlich - handeln Sie unabh√§ngig. </p><br><p>  Die offenen TCP-Ports 111, 2049 k√∂nnen als Beweis f√ºr die Funktionsweise des NFS-Dienstes dienen. <br>  Um unabh√§ngig eine Liste der Server-IP-Adressen zu erhalten, reicht es aus, den Adressbereich oder das gesamte Subnetz auf das Vorhandensein der angegebenen offenen Ports zu √ºberpr√ºfen.  Jedes Werkzeug ist daf√ºr geeignet: nmap, masscan und so weiter. </p><br><p>  Mit dem Befehl <code>masscan -p111,2049 200.26.1XX.0/24 ‚Äîrate=10000</code> Netzwerk 200.26.1XX.0 / 24 beispielsweise einige Sekunden lang nach offenen Ports 111, 2049 durchsucht: <br> <code>Scanning 256 hosts [2 ports/host]</code> <br> <code>Discovered open port 2049/tcp on 200.26.1XX.28</code> <br> <code>Discovered open port 111/tcp on 200.26.1XX.15</code> <br> <code>Discovered open port 111/tcp on 200.26.1XX.20</code> <br> <code>Discovered open port 111/tcp on 200.26.1XX.28</code> <br>  Neben jeder der erkannten IP-Adressen kann der folgende Befehl angewendet werden: <br> <code>showmount --no-headers -e 200.26.1XX.28</code> <br>  Ergebnis: <br> <code>/usr/common *</code> <br>  Nat√ºrlich ist es m√∂glich, Millionen von IP-Adressen des Internetraums selbst zu scannen, aber dies ist nicht der schnellste Weg, und dann kann der wunderbare <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Shodan-</a> Dienst die L√∂sung f√ºr die Unteraufgabe sein, es gibt nat√ºrlich andere, aber diese mit sehr praktischer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Syntax</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">API</a> .  Sich mit der Beschreibung der Funktionen des Dienstes zu befassen, ist nicht das Ziel des Artikels.  Kurz gesagt - der Dienst bietet eine erweiterte Suche nach Ger√§ten, die mit dem Internet verbunden sind.  Suchkriterien k√∂nnen Netzwerkkennungen und andere Metadaten sein: Seriennummern von Zertifikaten und dergleichen.  Shodan hat viele Funktionen f√ºr die gezielte Suche, aber ich habe keine separate Suche in NFS gefunden, da es beispielsweise ein Produktkriterium mit einem Produktnamen gibt: Mongodb, Elastic oder Apache.  Daher k√∂nnen Sie √ºber Web NFS nach folgenden Abfragen suchen: nfs, tcp 2049, tcp 111, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Portmap: 2049</a> usw., wie Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">m√∂chten</a> . </p><br><p><img src="https://habrastorage.org/webt/am/n2/hq/amn2hqii1_gsemlxivnffoawgek.png"></p><br><p>  Oder installieren Sie den Shodan-Client (CLI), initialisieren Sie Ihre KEY-API f√ºr den Dienst und rufen Sie eine Suche √ºber die Befehlszeile auf, zum Beispiel: </p><br><ol><li>  shodan search --fields ip_str, port Portmap: 2049 </li><li>  shodan search --fields ip_str, port --separator, nfs <br>  Ergebnis: <br>  139.196.154.23,111, <br>  198.27.116.37,111, <br>  95.211.192.96,111, <br>  80.23.66.122,111, <br>  210.116.82.97,111, <br>  192.198.82.3,111, <br>  165.227.67.242.111, <br>  116.12.48.9.111, <br>  85.34.250.102.111, <br>  182,75,249,197,111, <br>  192.151.212.175,111, <br>  119.216.107.127,111, <br>  217,59,68,2,111, <br>  178,159,12,97,111, <br>  ... </li></ol><br><p>  Es ist also verst√§ndlich, wie die IP-Adresslisten von Ger√§ten mit einem g√ºltigen NFS-Dienst abgerufen werden. </p><br><h2 id="poluchenie-informacii-o-dostupnyh-resursah-sluzhby-nfs-na-konkretnyh-serverah">  Rufen Sie Informationen zu verf√ºgbaren NFS-Ressourcen auf bestimmten Servern ab. </h2><br><p>  Es gibt viele M√∂glichkeiten, dieses Problem massenhaft zu l√∂sen: Bash-Skripte schreiben, eine knifflige Pipeline aus einer Befehlskette mit einem Aufruf von showmount organisieren und andere Optionen - wer mag was? </p><br><p>  In meiner Forschung habe ich dieses Problem in Python auf zwei verschiedene Arten gel√∂st.  Der erste besteht darin, √ºber ssh mit einem NFS-Client eine Verbindung zu Ihrem pers√∂nlichen Ubuntu-Server herzustellen und dann den Befehl showmount mit dem gew√ºnschten Pool von IP-Adressen aufzurufen.  Die zweite L√∂sung ist in reinem Python. </p><br><p>  Ich nehme an, dass sich eine Frage stellen k√∂nnte: Warum ist es so schwierig, warum in Python? </p><br><p>  Denn wie in meinem vorherigen Artikel √ºber Habr werde ich das Lampyre-Tool verwenden, f√ºr das am 26. Februar eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">API ver√∂ffentlicht wurde</a> , mit der Sie Ihre Module in Python auf die Plattform schreiben k√∂nnen. </p><br><div class="spoiler">  <b class="spoiler_title">Lampyre</b> <div class="spoiler_text"><p>  <em>Kurz √ºber Lampyre - eine Softwareplattform f√ºr OSINT und Datenanalyse mit einem "dicken" Client f√ºr Windows, ein Analogon des bekannten und beliebten Tools f√ºr denselben Zweck - Maltego.</em>  <em>Wie in Maltego bietet Lampyre "out of the box" eine Reihe von Anfragen f√ºr verschiedene Dienste.</em>  <em>Abfragen entsprechen konzeptionell Transformationen von einem bekannteren Produkt.</em>  <em>Wenn etwas fehlt, k√∂nnen Sie jetzt Ihre eigenen Anfragen schreiben.</em>  <em>Mit Lampyre gelieferte Anforderungen werden auf der Plattforminfrastruktur ausgef√ºhrt und unabh√§ngig geschrieben - auf der Maschine.</em>  <em>Das hei√üt, der Benutzer muss Python installiert und alle erforderlichen Bibliotheken im Code verwendet haben.</em> </p></div></div><br><p>  Ich habe beschlossen, die Funktionen der API zu testen.  Der entscheidende Punkt ist, dass Lampyre bereits mehrere "Anfragen" an Shodan hat, zumal der Benutzer keine eigene KEY-API vom Dienst ben√∂tigen muss.  Auf diese Weise k√∂nnen Sie mit einer Anforderung Listen mit IP-Adressen abrufen, w√§hrend der NFS-Dienst ausgel√∂st wird. Mit der zweiten Anforderung √ºberpr√ºft das von mir geschriebene Modul die verf√ºgbaren Ressourcen und visualisiert das Ergebnis mit den Eigenschaften der Ressourcen in demselben Diagramm. </p><br><h2 id="prichem-tut-koreya">  Und hier Korea </h2><br><p>  W√§hrend der Suche von Shodan und dem Testen des Moduls wurde es interessant, die Situation mit der Qualit√§t und Quantit√§t der Scanergebnisse des Shodan-Dienstes in asiatischen L√§ndern zu sehen, wie die Dinge mit unsicheren Ressourcen sind.  Die Wahl fiel auf die Republik Korea. Ich glaube, man muss nicht sagen, dass S√ºdkorea ein sehr technologisch fortgeschrittenes Land ist, und ich schlug vor, dass Sie in seinen Netzwerken etwas Interessantes finden k√∂nnen. </p><br><p>  Suche nach Shodan, in Abfrage: <strong>nfs</strong> , in Land: Republik Korea Code, <strong>kr</strong> </p><br><p><img src="https://habrastorage.org/webt/o0/e8/fy/o0e8fya-deqqydh5uaetrbgsvqe.png"></p><br><p>  Das Ergebnis lie√ü nicht lange auf sich warten (im Bild unten nur ein Teil des allgemeinen Schemas). </p><br><p><img src="https://habrastorage.org/webt/z1/-4/ir/z1-4ir1uwvo7buc3ie46qfcuuo0.png"></p><br><p>  Hostliste: </p><br><ul><li>  psi.kaist.ac.kr </li><li>  hulk.kaist.ac.kr </li><li>  messi.kaist.ac.kr </li><li>  Marvel.kaist.ac.kr </li><li>  kaist.ac.kr </li><li>  ai1.kaist.ac.kr </li><li>  jarvis3.kaist.ac.kr </li><li>  baraddur.kaist.ac.kr </li><li>  rho.kaist.ac.kr </li><li>  jarvis.kaist.ac.kr </li></ul><br><p>  Alle sind, wie sowohl in der Grafik als auch in den Namen zu sehen ist, als AS1781 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Kaist">Korea Advanced Institute of Science and Technology aufgef√ºhrt</a> </p><br><p><img src="https://habrastorage.org/webt/ci/ez/nd/ciezndaw7a3brrrrxmcbe1wppak.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Wikipedia">Korea Advanced Technology Institute</a> - S√ºdkoreas f√ºhrende akademische und Forschungsuniversit√§t in Daejeon steht in der zweiten Zeile des nationalen Rankings in S√ºdkorea.  Die Universit√§t ist durchweg in 5% der besten Bildungseinrichtungen in S√ºdkorea vertreten. </p><br><p>  Wir verwenden die angegebenen IP-Adressen als Eingabeargumente f√ºr das geschriebene Modul "Explore: NFS (SSH)" und als Ergebnis: </p><br><p><img src="https://habrastorage.org/webt/u2/dm/ur/u2dmurykafqs9yqdor1s06hg0wc.png"></p><br><p>  Ich habe schnell ein solches Schema f√ºr die Anzeige der Ergebnisse einer Tabelle in einem Diagramm erstellt (√ºber Schemata und Prinzipien f√ºr die Erstellung von Diagrammen sp√§ter in diesem Artikel). </p><br><p><img src="https://habrastorage.org/webt/ev/v4/44/evv444hbsakygnttrnhxuinlmq0.png"></p><br><p>  Das Ergebnis der Kombination mit einem Shodan-Schema </p><br><p><img src="https://habrastorage.org/webt/ys/pk/ij/yspkijyrvwhazpwjrzvfr5daabs.png"></p><br><p>  Bei der Analyse der Scheitelpunkte und Beziehungen des Diagramms wird deutlich, an welchen Adressen die / home-Ressource verf√ºgbar und f√ºr alle zug√§nglich ist (*). </p><br><p>  √Ñndern Sie zur besseren visuellen Wahrnehmung die Eigenschaften von Diagrammobjekten und andere Einstellungen des Diagramms: </p><br><p><img src="https://habrastorage.org/webt/nl/j5/9z/nlj59zv9p321nvnavqgin6krc1q.png"></p><br><p>  Nat√ºrlich habe ich abwechselnd einen Teil der Ressourcen auf einem meiner Server bereitgestellt und angefangen zu studieren.  Es stellte sich fast √ºberall gleich heraus - Benutzerverzeichnisse: asm, hoo, hyshin, jay, jiwon, jkhee110, jokangjin, kmh603, ksm782, lee, linus yoosj, ysha, zinnia7. </p><br><p>  Fast alle Verzeichnisse mit Dateien wurden gelesen und geschrieben.  Einige Benutzer in .ssh hatten autorisierte_Schl√ºssel-Dateien mit Schreibzugriff auf sie. </p><br><p>  Ich habe meinen Schl√ºssel generiert, ihn auf die autorisierten Schl√ºssel eines der Benutzer kopiert und √ºber ssh an Port 2222 mit dem Server verbunden. Ich habe die Portnummer aus den Daten von Shodan erhalten. </p><br><p>  <em>Benutzer, Netzwerkeinstellungen:</em> </p><br><p><img src="https://habrastorage.org/webt/i4/gr/i5/i4gri5enls82hjdxe6hwtq-xqpq.png"></p><br><p>  <em>Hosts im Netzwerk:</em> </p><br><p><img src="https://habrastorage.org/webt/bz/sg/y3/bzsgy3oti0hescz1uxmcud7krpa.png"></p><br><p>  <em>Die Datei / etc / exportiert und f√§hrt:</em> </p><br><p><img src="https://habrastorage.org/webt/1v/sk/7e/1vsk7eluqu93suzw5gxo65kbzg8.png"></p><br><p>  <em>Datei / etc / fstab und Betriebssystem:</em> </p><br><p><img src="https://habrastorage.org/webt/uh/iv/cp/uhivcpdgcfzx1pezrbi_aguvgz4.png"></p><br><p>  Ich glaube, dass dies ein Netzwerk einer Abteilung f√ºr Doktoranden oder Studenten ist, und sie f√ºhren eine Art von Berechnungen auf den Servern durch, da es viele verschiedene Python-Quellen gibt, die mit der GPU und der Anaconda-Distribution zusammenh√§ngen, und so weiter.  Ich habe nicht alles studiert und angefangen zu √ºberlegen, was ich mit all dem anfangen soll. Nat√ºrlich konnte ich gr√∂√ütenteils ‚Äûlaufen‚Äú <em>(vielleicht konnte ich mir etwas Exotischeres vorstellen)</em> , aber es hat mich nicht sonderlich interessiert.  Und ich habe mir Folgendes ausgedacht: Da das Institut wissenschaftlich und fortgeschritten ist, sollte es Bereiche der Informationssicherheit geben.  In der Tat sogar ein ganzes Labor: das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="softsec.kaist.ac.kr">Software Security Lab</a> und sein Leiter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sang Kil Cha</a> <br>  Ich habe beschlossen, ihm einen Brief zu schreiben, und so hei√üt es, dass es sehr gef√§hrlich ist, allen im Internet zu erlauben, NFS-Ressourcen mit Lese- und Schreibberechtigungen zu verbinden. Anscheinend m√ºssen Sie etwas reparieren, Screenshots anh√§ngen und senden. </p><br><div class="spoiler">  <b class="spoiler_title">Buchstabe 1</b> <div class="spoiler_text"><blockquote>  <strong><em>Lieber Sang Kil Cha,</em></strong> <strong><em><br></em></strong>  <strong><em>Ich schreibe Ihnen, da Sie auf der Website kaist.ac.kr als f√ºhrendes SoftSec-Labor bei KAIST bezeichnet werden, und ich glaube, dass die folgende Angelegenheit Ihr Anliegen ist.</em></strong> <strong><em><br></em></strong>  <strong><em>W√§hrend unserer Forschung auf dem Gebiet der Informationssicherheit wurden unbeabsichtigt und zuf√§llig folgende Server entdeckt:</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.131 - psi.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.4 - jarvis3.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.169</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.223</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.235</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.251 - Marvel.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.239 - jarvis.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.194 - hulk.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.2.23</em></strong> <strong><em><br></em></strong>  <strong><em>Auf all diesen Servern ist der NFS-Dienst (Network File System) betriebsbereit.</em></strong> <strong><em><br></em></strong>  <strong><em>Die Sicherheitsstufe f√ºr den Zugriff auf diese Server ist unglaublich niedrig.</em></strong> <strong><em><br></em></strong>  <strong><em>Auf die Home-Verzeichnisse dieser Server mit all ihren Inhalten kann jeder √ºber das Internet zugreifen.</em></strong> <strong><em><br></em></strong>  <strong><em>Beispiel: Einstellungen nfs - / etc / exportiert 143.248.247.251 -&gt; / home <em>oder f√ºr 143.248.247.239</em></em></strong> <strong><em><em><br></em></em></strong>  <strong><em><em>showmount -e 143.248.247.239</em></em></strong> <strong><em><em><br></em></em></strong>  <strong><em><em>Exportliste f√ºr 143.248.247.239:</em></em></strong> <strong><em><em><br></em></em></strong>  <strong><em><em>/ Daten</em></em></strong> <strong><em><br></em></strong>  <strong><em>/ home <em>/ appl</em></em></strong> <strong><em><br></em></strong>  <strong><em>Benutzerverzeichnisse der meisten Server k√∂nnen gelesen und geschrieben werden, einschlie√ülich ihrer Unterverzeichnisse, die √∂ffentliche und private SSH-Zugriffsschl√ºssel enthalten.</em></strong> <strong><em><br></em></strong>  <strong><em>Durch das Bearbeiten von Dateien k√∂nnen neue Zugriffsschl√ºssel hinzugef√ºgt und Remote-SSH-Zugriff auf die Server und anschlie√üend auf einige innere KAIST-Subnetze gew√§hrt werden.</em></strong> <strong><em><br></em></strong>  <strong><em>Nur zum Testen eines solchen flachen Zugriffs wurden keine √Ñnderungen vorgenommen, keine Daten bearbeitet, kopiert oder gel√∂scht, die Infrastruktur wurde nicht besch√§digt.</em></strong> <strong><em><br></em></strong>  <strong><em>In den angeh√§ngten Dateien finden Sie eine Best√§tigung und einen Beweis.</em></strong> <strong><em><br></em></strong>  <strong><em>Ich habe keine Anforderungen oder Anspr√ºche, empfehle jedoch, die Netzwerksicherheitsstufe erheblich zu verbessern.</em></strong> </blockquote></div></div><br><p>  Bald antworteten sie mir, kostenlose √úbersetzung: Danke, wir werden an jeden weiterleiten. </p><br><div class="spoiler">  <b class="spoiler_title">Antwort 1</b> <div class="spoiler_text"><blockquote>  <strong><em>Danke, dass du mich informiert hast!</em></strong>  <strong><em>Ich werde diese E-Mail an jemanden weiterleiten, der f√ºr unser Netzwerk und unsere Sicherheit verantwortlich ist.</em></strong>  <strong><em>Am besten Sang Kil</em></strong> </blockquote></div></div><br><p>  Bevor ich diesen Artikel ver√∂ffentlichte, habe ich mich entschlossen zu √ºberpr√ºfen, was sich ge√§ndert hat: </p><br><p><img src="https://habrastorage.org/webt/ia/w5/tv/iaw5tvajx2s5sw8l5rmed42cs2m.png"></p><br><p>  Der Zugriff auf Ressourcen war zwar nur von Computern im internen Netzwerk aus zul√§ssig, aber was ist mit dem Server 143.248.247.251?  Gem√§√ü den Eintr√§gen in der Tabelle bleiben die Hostressourcen in den NFS-Einstellungen *.  Ich habe eine andere Version der ‚ÄûZuordnung‚Äú der Tabelle in ein Diagramm skizziert: </p><br><p><img src="https://habrastorage.org/webt/p0/fy/xu/p0fyxuck0k1mza0y-ebciyk9tik.png"></p><br><p>  Was sind die √Ñnderungen in "Mapping": NFS-Objekte "kleben" jetzt mit zwei identischen Attributen zusammen - IP- und NFS-Pfad.  Das Statusobjekt wird nur erstellt, wenn das Wertattribut, das den Inhalt der Rohdatensatzspalte enth√§lt, den Wert " <strong>*</strong> " enth√§lt. <br>  Und die Grafik in der Tabelle erscheint in einer neuen Form: </p><br><p><img src="https://habrastorage.org/webt/zb/ht/k0/zbhtk0swvgaxzkogph-tlqn88_g.png"></p><br><p>  Jetzt ist √ºbrigens die Adressierung des internen Netzwerks deutlich sichtbar geworden, und auf dem Server 143.248.247.251 ist es auch m√∂glich, den Inhalt von Benutzerverzeichnissen und Dateien zu bearbeiten.  Grunds√§tzlich blieben die M√∂glichkeiten unver√§ndert. </p><br><p>  Und so schreibe ich einen zweiten Brief an Herrn Sang Kil Cha mit einem √§hnlichen ersten Inhalt und stelle fest, dass einige der Ereignisse in einem Artikel √ºber die beliebte habr.com-Ressource vorgestellt werden: </p><br><div class="spoiler">  <b class="spoiler_title">Buchstabe 2</b> <div class="spoiler_text"><blockquote>  <strong><em>Lieber Sang Kil Cha, guten Tag.</em></strong> <strong><em><br></em></strong>  <strong><em>Ich habe mich entschlossen, nachzuschauen, ob sich nach meiner E-Mail an Sie etwas ge√§ndert hat, und tats√§chlich wurden die Zugriffseinstellungen ge√§ndert.</em></strong>  <strong><em>Aber anscheinend haben die Sicherheitsingenieure die IP-Adresse 143.248.247.251 ausgelassen und ihre Einstellungen sind gleich geblieben.</em></strong>  <strong><em>Bitte sichern Sie auch diese IP, damit keine Fremden darauf zugreifen k√∂nnen.</em></strong> <strong><em><br></em></strong>  <strong><em>Ich schreibe einen Artikel zum Thema Informationssicherheit und werde ihn unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://habr.com ver√∂ffentlichen</a> .</em></strong>  <strong><em>Dies ist eine sehr beliebte Website in Russland.</em></strong>  <strong><em>Der Artikel enth√§lt einige Passagen zur Frage der geringen Qualit√§t der NFS-Zugriffseinstellungen sowie einige Beispiele f√ºr den Fall mit Ihren Servern.</em></strong>  <strong><em>Ich werde Ihnen den Link zu meinem Artikel senden, wenn er ver√∂ffentlicht wird.</em></strong> </blockquote></div></div><br><h2 id="kak-ispolzovat-api-lampyre-i-napisat-svoy-modul">  So verwenden Sie die Lampyre-API und schreiben Ihr Modul </h2><br><p>  Das Modul muss eine Liste von IP-Adressen oder eine Liste von Subnetzen in Form von 192.168.0 / 24 als Eingabe akzeptieren. In diesem Stadium m√ºssen die Eingabedaten f√ºr die Beteiligung von Zeichenfolgen an IP-Adressen im Fall eines Subnetzes unabh√§ngig im Code validiert werden. In IP-Liste konvertieren. </p><br><p>  Im n√§chsten Schritt wird √ºber die Python- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Paramiko-</a> Bibliothek auf den pers√∂nlichen SSH-Server zugegriffen und der Befehl wird sequentiell aufgerufen (es wird versucht, im Modulkonzeptcode eine Asynchronisierung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">durchzuf√ºhren</a> ): <br> <code>timeout {timeouts} showmount --no-headers -e {ip}</code> <br>  Die Ausgabe des Ergebnisses wird √ºber Python-Code in die Ausgabestruktur Tabelle analysiert: eine Liste der W√∂rterb√ºcher in Python. <br>  Schl√ºssel im W√∂rterbuch: </p><br><ul><li>  current_day - Datum der Benutzeranforderung </li><li>  host_query - IP, f√ºr die Informationen empfangen werden </li><li>  shared_path - NFS-Ressource </li><li>  status_ip - Informationen zum Zugriff auf die Ressource. Wenn IP-Adressen √ºber "," aufgelistet sind, wird die W√∂rterbuchzeichenfolge in der Liste dupliziert. </li></ul><br><p>  Ferner wird gem√§√ü dem Konzept des Konzepts ein primitiver Versuch unternommen, den Wert des status_ip-Schl√ºssels in den Betreff zu analysieren: IP-Adresse, Host-Datensatz, die Werte "*" oder "Jeder" </p><br><p>  Gem√§√ü der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">API-</a> Dokumentation und den Erl√§uterungen von Support Lampyre.io sollte jedes Modul Daten an die Tabelle zur√ºckgeben, eine oder mehrere, aber die Tabelle sollte als Teil der API beschrieben werden (Task-Header, Tabellen-Header).  In der Tat ist dies das Hauptergebnis des Moduls. <br>  Das Endergebnis unter Ber√ºcksichtigung der W√∂rterbuchschl√ºssel ist also eine Tabelle: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NFSHeader</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(metaclass=Header)</span></span></span><span class="hljs-class">:</span></span> display_name = <span class="hljs-string"><span class="hljs-string">'Search data from NFS services'</span></span> current_day = Field(<span class="hljs-string"><span class="hljs-string">'Date'</span></span>, ValueType.Datetime) host_query = Field(<span class="hljs-string"><span class="hljs-string">'Search ip'</span></span>, ValueType.String) shared_path = Field(<span class="hljs-string"><span class="hljs-string">'NFS path'</span></span>, ValueType.String) ip = Field(<span class="hljs-string"><span class="hljs-string">'ip address'</span></span>, ValueType.String) network = Field(<span class="hljs-string"><span class="hljs-string">'network address'</span></span>, ValueType.String) host = Field(<span class="hljs-string"><span class="hljs-string">'host'</span></span>, ValueType.String) status = Field(<span class="hljs-string"><span class="hljs-string">'raw record'</span></span>, ValueType.String)</code> </pre> <br><p>  Werte (leicht ge√§ndert) aus der Analyse des Ergebnisses des Befehls showmount auf dem Server werden in die Tabelle geschrieben.  Die Namen der Felder in der Klasse sprechen f√ºr sich selbst. In der Rohdatensatzspalte werden Informationen √ºber den Zugriff auf die Ressource gespeichert.  In gewissem Sinne kann diese Analyse von Daten zu NFS-Ressourcen auch als OSINT betrachtet werden. Informationen √ºber den m√∂glichen Zugriff von verschiedenen IP-Adressen geben einen Eindruck von den Eigent√ºmern der Ressource oder der Adressierung innerhalb des Ressourcennetzwerks.  Beispielsweise befindet sich die IP-Adresse des Servers mit NFS in der Ukraine und die f√ºr den Zugriff zugelassene IP-Adresse in Deutschland: </p><br><p><img src="https://habrastorage.org/webt/hp/mf/mr/hpmfmro1juiiepv15asjt1-wjuo.png"></p><br><p>  Wenn Sie die Studie dieses Beispiels erweitern, wird sofort die Verbindung der Server nicht nur √ºber NFS, sondern auch √ºber ein Zertifikat unter den Adressen 77.120.103.9, 138.201.202.135 und der Domain * .aniart.com.ua best√§tigt. </p><br><p><img src="https://habrastorage.org/webt/1u/vv/cx/1uvvcxp71ezvhzbvjplr57agbtm.png"></p><br><p>  So √ºbertragen Sie Daten in ein Modul und schreiben in eine Tabelle: <br>  Erstellen Sie Ihre eigene SearchDataNFS-Klasse aus der Task-Klasse: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchDataNFS</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Task)</span></span></span></span></code> </pre> <br><p>  In der Methode <code>get_id</code> eine eindeutige zuf√§llige UUID zur√ºck: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_id</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'bf51fd57-3fec-4416-9d07-905935a484b4'</span></span></code> </pre> <br><p>  <code>get_display_name</code> Methode <code>get_display_name</code> wie die Aufgabe aufgerufen werden soll, und in der Methode <code>get_description</code> entsprechend dem Namen die Beschreibung der Aufgabe: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_display_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Explore: NFS(SSH)'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_description</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Explore NFS resourses'</span></span></code> </pre> <br><p>  <code>get_headers</code> Methode <code>get_headers</code> welche Tabellen verwendet werden sollen: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_headers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NFSHeader</code> </pre> <br><p>  Die Methode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">get_enter_params</a> bestimmt das Erscheinungsbild des Eingabefensters.  Aus dem Code geht hervor, dass der Eingabe eine Liste von Zeichenfolgen bereitgestellt wird, die sp√§ter unabh√§ngig in IP-Adressen konvertiert werden: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_enter_params</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> ep_coll = EnterParamCollection() ep_coll.add_enter_param(<span class="hljs-string"><span class="hljs-string">'ips'</span></span>, <span class="hljs-string"><span class="hljs-string">'IP'</span></span>, ValueType.String, is_array=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, value_sources=[Attributes.System.IPAddress], description=<span class="hljs-string"><span class="hljs-string">'IPs, networks'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ep_coll</code> </pre> <br><p>  In der Methode execute findet die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ausf√ºhrung</a> der Hauptaufgabe statt: </p><br><pre> <code class="python hljs">ips = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> input_ip <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> set(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> z: z.strip(), enter_params.ips)): ips.extend(reparse_ip_hosts(input_ip))</code> </pre> <br><p>  Auf Eingabeparameter wird √ºber enter_params.ips zugegriffen.  In der Methode <code>reparse_ip_hosts</code> erfolgt eine selbst implementierte Validierung von Zeichenfolgen in IP-Adressen. </p><br><pre> <code class="python hljs">targets = ((ip, port) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ip <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ips <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> port <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ports) lines = thread_async_nfs_one_client(targets) info = reparse_result_rows(lines) fields_table = NFSHeader.get_fields() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> data_id <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> info: tmp = NFSHeader.create_empty() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> field <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> fields_table: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> field <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data_id: tmp[fields_table[field]] = data_id[field] result_writer.write_line(tmp, header_class=NFSHeader)</code> </pre> <br><p>  In der Funktion <code>thread_async_nfs_one_client</code> wird eine Verbindung zum Server mit ssh hergestellt (IP-Adresse, Benutzername und Passwort werden durch Hardcode festgelegt) und showmount wird ausgef√ºhrt, wie zuvor angegeben, das Ergebnis wird analysiert und anschlie√üend in der Funktion <code>reparse_result_rows</code> erneut <code>reparse_result_rows</code> .  Es ist wichtig zu beachten, dass info eine Liste ist, die aus W√∂rterb√ºchern besteht. In jedem W√∂rterbuch werden die Schl√ºssel als Felder der NFSHeader-Klasse benannt.  Das hei√üt, das W√∂rterbuch sieht folgenderma√üen aus: </p><br><pre> <code class="python hljs">{ <span class="hljs-string"><span class="hljs-string">'current_day'</span></span>: datetime.datetime(<span class="hljs-number"><span class="hljs-number">2019</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>), <span class="hljs-string"><span class="hljs-string">'host_query'</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'shared_path'</span></span>: <span class="hljs-string"><span class="hljs-string">'/volume1/workspace'</span></span>, <span class="hljs-string"><span class="hljs-string">'ip'</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.10.10'</span></span>, <span class="hljs-string"><span class="hljs-string">'network'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'host'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'status'</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.10.10'</span></span> }</code> </pre> <br><p>  Es ist wichtig, die Datentypen im W√∂rterbuch zu beachten. Sie m√ºssen mit denen in der Beschreibung der Tabelle √ºbereinstimmen. <br>  Weiter in der Schleife wird durch die Listenelemente iteriert und √ºber die API-Methode ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">result_writer.write_line</a> ) in eine bestimmte NFSHeader-Tabelle geschrieben. <br>  F√ºr eine detailliertere Beschreibung sollten Sie die Dokumentation lesen. <br>  Grunds√§tzlich kann das Modul zu Lampyre hinzugef√ºgt werden. </p><br><h2 id="ispolzovanie-svoego-modulya-v-lampyre">  Verwenden Sie Ihr Modul in Lampyre </h2><br><p>  Aufgrund der Tatsache, dass ssh verwendet wird und der Befehl showmount ausgef√ºhrt wird, m√ºssen Sie nat√ºrlich √ºber ssh Zugriff auf Ihren Server haben.  F√ºr meine Tests wurde diese Rolle von der virtuellen Maschine in Virtualbox mit Ubuntu und dem darauf installierten NFS-Client gespielt. </p><br><p>  Um mit nativen Modulen auf dem Computer eines Benutzers arbeiten zu k√∂nnen, ist Python 3.6 erforderlich. Der Pfad zum Interpreter muss in Systemvariablen angegeben sein, oder der Pfad dazu muss in der <code>Lampyre\config\appSettings.config</code> .  Standardm√§√üig ist der pythonPath-Schl√ºssel in den Einstellungen auskommentiert. </p><br><p>  Das Laden eines Moduls in Lampyre erfolgt in folgenden Schritten: </p><br><ol><li>  Laden Sie im Fenster "Skripte" die Datei Lampyre \ user_tasks \ ontology.py (wird mit der Anwendung geliefert). </li><li>  Laden Sie im selben Fenster Ihr Modul, in diesem Fall nfs_via_ssh.py.  Wenn etwas schief gelaufen ist, sollte die Schaltfl√§che <em>Details</em> helfen </li><li>  Nach dem Laden wird im Fenster <em>Liste der Anforderungen</em> auf der Registerkarte <em>Aufgaben der</em> Abschnitt <em>Lokale Aufgaben</em> angezeigt (im Code des Moduls k√∂nnen Sie ihn auch anders nennen). Er hat den Namen <em>Explore: NFS (SSH)</em> : <br><br><img src="https://habrastorage.org/webt/5j/q2/6w/5jq26wc0brfodioawferz1_mu-8.png"><br>  Aktualisiertes Fenster Liste der Anfragen: <br><br><img src="https://habrastorage.org/webt/gv/gs/tb/gvgstbglshazcckwnl6wevpjlla.png"></li><li>  Die IP-Adressen von Servern mit NFS werden, wie bereits erw√§hnt, am besten ermittelt, indem zuerst eine <em>Shodan-</em> Suchabfrage mit den Parametern <em>Query: tcp 2049 ausgef√ºhrt</em> wird (Sie k√∂nnen einfach <em>nfs</em> angeben).  Der Parameter <em>Seite oder Bereich</em> , der standardm√§√üig auf 1 festgelegt ist, bedeutet, dass 1 Seite mit Antworten vom Shodan-Dienst zur√ºckgegeben wird. Auf einer Seite gibt es normalerweise 100 Ergebnisse (Zeilen). <br>  Das Ergebnis der Hinrichtung von Shodan: <br><br><img src="https://habrastorage.org/webt/zb/ui/uw/zbuiuww94uf18wbzhh9pm2aomoe.png"></li><li>  Kopieren Sie die IP-Adressen aus der Tabelle oder aus dem Diagramm in die Zwischenablage und f√ºgen Sie sie in das Modulfenster IP Explore: NFS (SSH) ein.  F√ºhren Sie das Ergebnis aus und erwarten Sie es: <br><br><img src="https://habrastorage.org/webt/t8/2h/vz/t82hvzwegvfjmbjcfch662vx7nk.png"></li></ol><br><p>  Nat√ºrlich m√ºssen Sie die Bandbreite Ihrer eigenen und fremden Server sowie das Timeout ber√ºcksichtigen, die im Modulcode festgelegt sind. </p><br><p>  Das Ergebnis wird in Form einer Tabelle erhalten. Sie k√∂nnen jedoch fortfahren und das Ergebnis der Tabelle mit dem Diagramm der Ergebnisse aus der Ausf√ºhrung der Shodan-Suche kombinieren.  Es wird zun√§chst etwas schwierig zu erkennen sein. </p><br><h2 id="vizualizaciya-tablicy-s-rezultatom">  Visualisierung der Tabelle mit dem Ergebnis </h2><br><p>  Fangen wir an.  Es gibt eine Tabelle mit einer Reihe von Spalten mit Werten aus der Ausf√ºhrung des Benutzermoduls.  Wenn Sie jedoch auf die Schaltfl√§che Schema im Fenster Anforderungen achten, ist diese inaktiv.  Da die Zuordnung der Tabelle zum Diagramm nicht festgelegt ist und festgelegt werden muss. </p><br><p>  <em><strong>Schema 1 (nicht das beste)</strong></em> <br>  Bei ge√∂ffneter Tabelle befindet sich aus dem Modulergebnis in der unteren rechten Ecke ein Schnittstellenelement "Erstellungsvorlage hinzuf√ºgen". Klicken Sie dazu auf das Fenster "Erstellungsvorlage".  Hier k√∂nnen Sie die Zuordnung von Tabellenzeilen zu Diagrammobjekten festlegen. Ich werde den Prozess im Artikel nicht im Detail beschreiben. Der Link auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Lampyre Tutorial - Finanzanalyse">dem Plattformkanal</a> in Youtube zeigt, wie das geht. Innerhalb des Artikels beschr√§nke ich mich auf Bilder dessen, was passieren soll: </p><br><p><img src="https://habrastorage.org/webt/qj/vd/ju/qjvdjurktmgvg17ymyrv_flbohu.png"></p><br><p>  Vorlage f√ºr Grafik: </p><br><p><img src="https://habrastorage.org/webt/am/n_/od/amn_odxussgaxfxuw_yzwwyu5ee.png"></p><br><p>  Es ist wichtig zu beachten, dass sich IP- und Dom√§nenobjekte in Lampyre befinden und ich NFS- und Netzwerkobjekte erstellt habe.     ,    ¬´¬ª  . ,      ,    ‚Äî     ¬´¬ª   ‚Äî ,  ‚Äî    - ,          . ,   NFS ‚Äì  2 , NFS path  Status,   ‚Äî NFS path.      ‚Äî     .   ¬´¬ª        ‚Äî    <em>Schema</em>  . <br>  : </p><br><p><img src="https://habrastorage.org/webt/vy/al/oj/vyaloj8xba0pbjl7iiobalahaqy.png"></p><br><p>      : </p><br><p><img src="https://habrastorage.org/webt/ix/3u/jr/ix3ujruec1bbtfbbbi3i6ru_3mu.png"></p><br><p>      ¬´¬ª               ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">i2 (IBM i2 Analyst's Notebook)</a> : </p><br><p><img src="https://habrastorage.org/webt/w7/sr/dn/w7srdn9y0ko8jwqi2viop0uj4l8.png"></p><br><p>      ¬´¬ª  ,     :   IP-   IP-  ,    ,    NFS  ,          IP.     (      ). </p><br><p> <em><strong> 2</strong></em> </p><br><p><img src="https://habrastorage.org/webt/iy/y7/wt/iyy7wtjyjeb4onmq0vcjjxb50gu.png"></p><br><p>  .      ‚Äî     ,    IP-    : </p><br><p><img src="https://habrastorage.org/webt/n5/zw/sb/n5zwsbgrorkn2-vucszn1hulsgk.png"></p><br><p>           ,         ,       (csv)  .   ,     ¬´¬ª      .    ¬´¬ª         ,         . </p><br><p>       Shodan  NFS    Shodan search,   add to active tab          ‚Äî  : </p><br><p><img src="https://habrastorage.org/webt/qq/e-/3p/qqe-3p5p8bdbogvruzlqs8pypze.png"></p><br><p>  : </p><br><p><img src="https://habrastorage.org/webt/8w/uj/az/8wujazcvenzdsalorp1nh5mfas8.png"></p><br><p>    Lampyre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> ,          ssh. </p><br><p>   ‚Äî ,      NFS   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de444382/">https://habr.com/ru/post/de444382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de444370/index.html">Was kann das Mini PCI-e-Format?</a></li>
<li><a href="../de444372/index.html">Maschinenorientierung √ºber gro√üe Entfernungen durch verst√§rktes Lernen</a></li>
<li><a href="../de444374/index.html">Hipster-Effekt: Warum Nonkonformisten oft gleich aussehen</a></li>
<li><a href="../de444376/index.html">Die Wirtschaft der Aufmerksamkeit ist fast tot</a></li>
<li><a href="../de444378/index.html">USPACE - Single Space f√ºr bemannte und unbemannte Flugzeuge</a></li>
<li><a href="../de444384/index.html">Buch "Angewandte Textdatenanalyse in Python"</a></li>
<li><a href="../de444386/index.html">Mondmission "Bereshit" - das vierte Man√∂ver wurde erfolgreich abgeschlossen, die Vorbereitungen f√ºr den Eintritt in die Mondumlaufbahn laufen</a></li>
<li><a href="../de444388/index.html">Legend√§re Modems der Vergangenheit: die besten Verbindungsinhaber unter den Bedingungen der inl√§ndischen B√∂rsen</a></li>
<li><a href="../de444390/index.html">DeviceLock 8.3 DLP-System: Ein Jahr ist vergangen, Billy, aber Sie haben sich √ºberhaupt nicht ge√§ndert</a></li>
<li><a href="../de444392/index.html">Strahlung: Risiken, Sicherheit, Schutz</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>