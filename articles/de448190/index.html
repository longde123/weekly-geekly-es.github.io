<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚒 👨🏼‍🎨 💐 Visual Logic Editor für Unity3d. Teil 1 🎞️ ☀️ 🔕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einführung 
 Hallo liebe Leser, im heutigen Artikel möchte ich auf ein solches Phänomen bei der Entwicklung von Anwendungen auf Unity3d als visuelle E...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Visual Logic Editor für Unity3d. Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448190/"><h2>  Einführung </h2><br>  Hallo liebe Leser, im heutigen Artikel möchte ich auf ein solches Phänomen bei der Entwicklung von Anwendungen auf <b>Unity3d</b> als visuelle Entwicklung oder genauer Entwicklung unter Verwendung der visuellen Darstellung von Code und Logik <b>eingehen</b> .  Und bevor ich fortfahre, möchte ich gleich klarstellen, dass es nicht um visuelle Programmierung geht. Vom Wort "absolut" gibt es keine <b>Blueprint-</b> Variationen in der Unity-Welt und keine C # -Code-Generationen.  Was versteht man dann unter einem visuellen Logikeditor?  Wenn Sie an der Antwort auf diese Frage interessiert sind, begrüßen Sie unter Katze. <br><br>  Artikel in der Reihe: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Visual Logic Editor Teil 2</a> <br><a name="habracut"></a><br><h2>  Was ist ein visueller Logikeditor? </h2><br>  Sehr oft und einige argumentieren, dass Programmierer während der Entwicklung immer viel unterschiedlichen Code schreiben, der viele verschiedene Dinge tut, vom System bis zur Spielmechanik.  Wenn der Programmierer "real" ist, wird dieser Code normalerweise vereinheitlicht und isoliert, damit er wiederverwendet werden kann (innerhalb von Unity handelt es sich bei diesem Code um Komponenten, sie sind auch Erben von <b>MonoBehavior</b> ).  Es ist nicht schwer vorstellbar, dass es viele solcher Codes geben kann, insbesondere wenn dies nicht das erste Projekt ist.  Stellen Sie sich nun vor, wir starten ein neues Projekt und müssen viele schnelle und unterschiedliche Prototypen erstellen. Das Team der Programmierer ist begrenzt und das Ganze ist mit dem Hauptprojekt oder den Hauptprojekten beschäftigt.  Spieledesigner sind empört, sie müssen testen, überprüfen, Produzenten laufen um Manager herum und versuchen, einen Programmierer für sich selbst herauszuholen, Geld ist begrenzt, Zeit läuft ab usw. <br><br>  Auf der anderen Seite der Medaille haben wir (Programmierer) viel Code in Form von Komponenten geschrieben, sie hängen in einer großen Liste an verschiedenen Objekten in der Szene.  Und so erweitern wir das Team, stellen einen neuen Programmierer ein, er öffnet die Bühne, um das Problem zu lösen, und ertrinkt in einem Durcheinander von Fragen: Wer verursacht wen, in welcher Reihenfolge, welche Komponente ist mit welcher verbunden und wie usw. Sie sagen vernünftigerweise: „Und Dokumentation? "  Es gibt eine Dokumentation (obwohl überhaupt keine Tatsache), aber hier geht es darum, dass die Schwelle für neue Mitarbeiter so niedrig wie möglich und die Zeit für diesen Prozess so kurz wie möglich ist. <br><br>  Wie können die oben beschriebenen Situationen gelöst werden?  Die Antwort im Titel des Artikels lautet Visual Logic Editor.  Was ist das  Dies ist eine Umgebung, in der Sie verschiedene Komponenten der Logik visuell bearbeiten und ihre Beziehungen (in der „weichen“ Version) konfigurieren sowie Objekte der Szene indirekt von der Szene aus bearbeiten können.  Wenn Sie es in einer sagenhaft einfachen Form beschreiben, dann ist es wie in der Kindheit, verschiedene Designs aus Würfeln zusammenzusetzen (nur in unserem Fall sind die Würfel nicht fest miteinander verbunden, entfernen den Boden, unser Design fällt nicht). <br><br>  Also haben wir die Definition herausgefunden, aber was gibt uns das am Ende? <br><br><ul><li>  Sie können universelle Designs zusammenstellen, die in Projekten wiederverwendet werden können, wodurch die nachfolgende Routine reduziert wird.  Stellen Sie sich eine Art reines Feld vor, das unser Projekt ist. Wir nehmen einfach die zusammengebaute Konstruktion aus einem anderen Spiel, legen sie auf das Feld und fertig. </li><li>  Sie können eine Datenbank mit isolierten „Cubes“ (Mechanik, Logik, Funktion) erstellen, aus denen Personen, die keine Programmierer sind, selbst Konstrukte erstellen können. </li><li>  Es ist möglich, Designs im laufenden Betrieb durch andere zu ersetzen und dadurch das Verhalten der Logik zu ändern. </li><li>  Sie können Konstruktionen im verzögerten Modus verwenden. Wenn der NPC beispielsweise derzeit nicht auf der Welt vorhanden ist, ist auf unserem „Feld“ keine damit verbundene Logik vorhanden. </li><li>  Da unsere Würfel nicht durch starre Beziehungen verbunden sind, können wir sie nach Belieben ein- und ausschalten und beliebig komplexe bedingte und bedingungslose Verzweigungen implementieren. </li></ul><br>  Klingt das ziemlich gut?  Aber was in Wirklichkeit?  Wenn Sie den <b>Asset Store</b> öffnen und den Abschnitt <b>Visual Scripting anzeigen</b> , sehen Sie im Prinzip eine große Anzahl verschiedener Plugins.  Die meisten davon sind Variationen des Blueprint-Themas der Unreal Engine, d. H. Im Wesentlichen der Codegenerierung.  Es gibt praktisch keine Systeme, die den Konzepten eines visuellen Logikeditors entsprechen.  Die nächsten Bedeutungen sind: <br><br><ol><li>  <b>Spielmacher</b>  Ja, es ist ein FSM-Plugin, aber Sie können trotzdem Ihre eigenen Aktionen schreiben.  Es ist aus Sicht der Benutzeroberfläche nicht so bequem, aber für bestimmte Dinge ist es sehr gut.  Blizzard wurde in Hearthstone nicht umsonst verwendet. </li><li>  <b>Verhaltensdesigner / MoonBehavior</b> usw.  State Tree Plugins.  Es ist näher an dem, was oben beschrieben wurde, aber es gibt viele Einschränkungen, schließlich ist der Statusbaum keine vollwertige Logik für die Komponenten. </li><li>  <b>ICode</b>  Dies ist ein Analogon des Spielmachers, das heißt auch eine Zustandsmaschine. </li></ol><br>  Gibt es einen Ausweg, liebe Leser?  Ich habe nur eines gefunden, schreibe mein System, was ich getan habe, aber der Weg dorthin war ziemlich lang und dornig. <br><br><h2>  Der Weg </h2><br>  Die Idee, ein Plugin für den Visual Logic Editor für <b>Unity3D zu entwickeln, ist</b> schon lange entstanden.  Anfangs waren es nur Gedanken, dass es cool wäre, wenn ja.  Diese Gedanken tauchten bei der Arbeit an einem Projekt auf, in dem es viele ähnliche Spiele gab, mehr als 20 Teile, die sehr, sehr schnell erledigt werden mussten.  Die erste Implementierung war in Bezug auf die Benutzeroberfläche schrecklich, obwohl es uns natürlich ermöglichte, die gesamte Reihe von Spielen mit einer bestimmten Geschwindigkeit erfolgreich zu entwickeln. <br><br>  Für das nächste Projekt wurde beschlossen, einen vollwertigen visuellen Editor zu erstellen. Aufgrund der geringen Erfahrung war die Implementierung jedoch erfolglos, alles war sehr langsam, die Anzahl der Verbindungen usw. Die Dinge gingen aus dem Rahmen, so dass es unmöglich war, herauszufinden, was und wo (siehe Screenshot und keine Angst). <br><br><img src="https://habrastorage.org/webt/kj/gm/bk/kjgmbkaf2uoytuksxl1x2cevbmc.png" alt="Bild"><br><br>  Danach wurde die Idee für einige Zeit verschoben.  Die folgenden Projekte habe ich bereits mit reinem Code gemacht, aber die Idee schwebte immer noch in meinem Kopf.  Nach und nach wurden unter Berücksichtigung früherer Fehler die endgültige (wie mir schien) Vision und Liste der Anforderungen erstellt.  Und 2017, nach Abschluss des nächsten freiberuflichen Projekts, habe ich beschlossen, dass ich es mir leisten kann, 6-7 Monate an diesem Plugin zu arbeiten und es in den <b>Asset Store zu stellen</b> (es liegt immer noch und heißt <b>Panthea VS</b> ).  Aus der Sicht der Erfahrung bei der Arbeit an einem so komplexen Projekt war alles sehr cool, die finanzielle Seite ist leider traurig, immer noch programmieren und verkaufen zu können, sind zwei verschiedene Dinge.  Es war November 2017, nach dem ich meine Motivation ein wenig verlor, mich scheiden ließ, meine Stadt veränderte, mein Leben komplett veränderte und um nicht in Samojedismus zu verfallen, beschloss ich, das Thema des visuellen Logik-Editors aus einem anderen Blickwinkel zu betrachten.  Das Ergebnis war <b>uViLEd</b> , das ich kostenlos veröffentlichen wollte.  Da ich einen Vollzeitvertrag unterschrieben hatte, musste ich an Wochenenden und Feiertagen daran arbeiten und es dauerte das ganze Jahr 2018 und Anfang 2019.  <b>uViLEd</b> ist ein großes Umdenken von <b>Panthea VS</b> , einer vollständigen Überarbeitung des Codes für den Roslyn-Compiler (C # 7+), sodass alles nur ab der Unity3d 2018.3-Version funktioniert. <br><br>  <b>Hinweis</b> : <b>Panthea VS</b> hat mehrere Projekte gestartet (Android und iOS, insbesondere Levs Truck und Autos). Im Prinzip war die Erfahrung mit der Verwendung erfolgreich, aber in dem Moment, in dem sich herausstellte, dass es eine Sache ist, einen Editor zu schreiben, ist eine andere Sache, zu lernen, wie man ihn richtig benutzt (egal wie seltsam er sich anhört). ) <br><br><h2>  uViLEd und wie man es benutzt </h2><br><h3>  Einführung </h3><br>  Also, was am Ende passiert ist, schauen wir uns zuerst das Bild an und fahren dann fort (es wird mehr Bilder geben). <br><br><img src="https://habrastorage.org/webt/ll/sk/g2/llskg2i3-e2niclqltvvh4csms4.png" alt="Bild"><br><br>  Worauf basiert der visuelle Logikeditor? <br><br><img src="https://habrastorage.org/webt/p0/pn/wn/p0pnwnewe_s-_vpu704ucuzaiso.png" alt="Bild"><br><br>  Hier: <br><br><ul><li>  <b>Komponenten</b> - Dies ist unser Code, der die eine oder andere Funktion implementiert, in der Tat ein Analogon von <b>MonoBehaviour</b> . Nur in unserem Fall werden alle Komponenten von der <b>LogicComponent-</b> Klasse geerbt, die wiederum ein <b>ScriptableObject ist</b> . </li><li>  <b>Variablen</b> sind spezielle <b>ScriptableObjects</b> , in denen Daten gespeichert werden dürfen (alle, einschließlich benutzerdefinierter Strukturen und Klassen, Verweise auf Szenenobjekte, Fertighäuser und Assets).  Variablen werden benötigt, wenn Daten zwischen Komponenten gemeinsam genutzt werden müssen, dh jede Komponente kann auf eine Variable des gewünschten Typs verweisen, und es wird eine sein. </li><li>  <b>Beziehungen</b> sind eine visuelle Beschreibung, welche Komponenten, wie und in welcher Reihenfolge sich gegenseitig aufrufen.  Die Beziehungen zwischen Komponenten werden unter Verwendung von zwei speziellen Feldern der Typen <b>INPUT_POINT</b> und <b>OUTPUT_POINT bestimmt</b> .  Eine Verknüpfung wird immer als Ausgabepunkt einer Komponente zum Eingabepunkt einer anderen Komponente gebildet.  Diese Verbindungen sind nicht starr, das heißt, sie sind für den Programmierer nicht sichtbar und sie sind auch nicht im Code enthalten.  Sie sind nur im Editor vorhanden, und wenn die Szene beginnt, versteht die Logiksteuerung selbst den Code.  Wie dies geschieht, werden wir in einem separaten Artikel besprechen. </li></ul><br>  Alles im Fach - Komponenten, Variablen und Beziehungen - bilden die <b>Logik</b> .  Im Allgemeinen ist der Programmierer nicht sehr kompliziert. Er schreibt den Code der Komponenten und Variablen, und der Spieledesigner oder ein anderer (oder derselbe) Programmierer / Scripter bildet die Logik, indem er diese Komponenten in den Editor legt und die Verbindungen und Parameter einrichtet. <br><br><h3>  Hauptmerkmale von uViLEd </h3><br><ul><li>  Ausführen von Logik (eine Reihe von Komponenten, Variablen und Beziehungen) im verzögerten Modus, einschließlich Starten von einer externen Quelle (Festplatte oder Server) </li><li>  Einrichten von Verbindungen zwischen Komponenten (Anrufreihenfolge, Aktivierung und Deaktivierung) </li><li>  Einfache Integration von Komponenten und anderem Code, einschließlich MonoBehavior-Nachkommen </li><li>  Überschreiben des Erscheinungsbilds von Komponenten im Editor (analog zu CustomPropertyDrawer) </li><li>  Konfigurieren der Komponenteneinstellungen über den Unity3d-Inspektor </li><li>  Fügen Sie der Logik ganz einfach Komponenten über die Drag &amp; Drop-Skriptdatei oder über ein Verzeichnis hinzu </li><li>  Gruppieren von Komponenten im Logikeditor </li><li>  Einstellen der Anzeige von Komponenten im Editor (Inversion, Minimierung, Aktivierung und Deaktivierung) </li><li>  Öffnen des Komponentencode-Editors direkt aus dem Logikeditor </li><li>  Zeigen Sie Debugging-Daten beim Start im Editor direkt im Logikeditor an </li><li>  Skalieren des visuellen Logik-Editors </li><li>  Wenn plötzlich eine große Anzahl von Komponenten in der Logik enthalten ist, besteht die Möglichkeit, diese bei der Auswahl mit Fokus zu suchen (dies gilt für Variablen). <br></li><li>  Schrittweises Debuggen im Szenenstartmodus im Unity3d-Editor mit Verfolgung aller übertragenen Daten zwischen Komponenten und Variablenwerten </li><li>  Unterstützung für MonoBehaviour-Methoden und Festlegen der Reihenfolge ihres Aufrufs.  <b>Hinweis</b> : Hier meinen wir, dass es in SO standardmäßig keine Methoden wie Start, Update usw. gibt.  Daher wurde ihre Unterstützung den Komponenten selbst hinzugefügt.  Gleichzeitig können Sie mithilfe des ExecuteOrder-Attributs die Reihenfolge konfigurieren, in der Start, Update usw. aufgerufen werden. </li><li>  Unterstützung für Coroutine, async / await und alle Unity3d-Attribute für den Inspektor sowie Unterstützung für CustomPropertyDrawer </li></ul><br><h3>  Arbeite mit dem Editor </h3><br>  Um mit dem Editor arbeiten zu können, müssen Sie die Szene öffnen und dann den Editor selbst starten. <br><br><img src="https://habrastorage.org/webt/17/w5/s3/17w5s38ymve2zxwovfycnluasjw.png" alt="Bild"><br><br>  Nach dem Starten des Editors initialisieren wir die Szene (die Schaltfläche zum Aktualisieren im Editor). Danach können Sie vorhandene Logik erstellen oder zur Szene hinzufügen. <br>  Nachdem Sie die Logik erstellt haben (eine Datei, die die Komponenten, ihre Parameter, Beziehungen zwischen Komponenten, Variablen und ihren Werten beschreibt), können Sie sie mit Bedeutung füllen.  Um eine Komponente oder Variable hinzuzufügen, ziehen Sie einfach das entsprechende Skript in den Bereich des Logikeditors.  Eine alternative Option ist die Verwendung eines Verzeichnisses, das automatisch mit dem <b>ComponentDefinition-</b> Attribut generiert wird. <br><br><img src="https://habrastorage.org/webt/ip/bh/oo/ipbhooqxvj2dkl7fu3ni7bgzhl0.png" alt="Bild"><br><br>  Nachdem wir der Logik mehrere Komponenten hinzugefügt haben, können diese verschoben werden, auch in Gruppen, oder zu einer visuellen Gruppe zusammengefasst werden. <br><br><img src="https://habrastorage.org/webt/8w/ph/h4/8wphh4i-jnvymggo5hrfqlc562g.png" alt="Bild"><br><br>  Lassen Sie uns genauer betrachten, was wir die Komponente selbst in einem visuellen Editor darstellen. <br><br><img src="https://habrastorage.org/webt/fo/nd/gd/fondgdse7kf9r_71dlpjmm8in0u.png" alt="Bild"><br><br>  Hier: <br><br><ul><li>  Die Menüschaltfläche der Komponente öffnet ein Dropdown-Menü, mit dem Sie: <br><ul><li>  Aktivieren oder deaktivieren Sie eine Komponente </li><li>  Minimieren Sie die Komponente (dies kann auch durch Doppelklicken auf die Kopfzeile erfolgen) </li><li>  Komponente invertieren (Eingangs- und Ausgangspunkte tauschen) </li><li>  Bereich für Komponentenoptionen ein- oder ausblenden </li><li>  Öffnen Sie den Code-Editor für die Komponente </li></ul></li><li>  Der Bereich der Komponentenparameter ist der Ort, an dem die Werte der Schlüsselparameter der Komponente angezeigt werden, deren Zusammensetzung vom Programmierer abhängt </li></ul><br>  Um Parameter (öffentliche Felder oder Felder mit dem SerializeField-Attribut) zu konfigurieren, müssen Sie die Komponente im Logikeditor auswählen und den Unity3d-Inspektor öffnen. <br><br><img src="https://habrastorage.org/webt/iz/fx/ep/izfxeppsnvrwpakv2xocjgueo-m.png" alt="Bild"><br><br>  Hier: <br><br><ul><li>  In der oberen rechten Ecke befindet sich eine Schaltfläche, mit der Sie die Farbe der Kopfzeile ändern können, die im Logikeditor angezeigt wird </li><li>  <b>Name</b> - Feld zum Festlegen des Namens der Komponenteninstanz </li><li>  <b>Kommentar</b> - Ein Feld zum Festlegen eines Kommentars für die Komponenteninstanz. Es wird im Logikeditor angezeigt, wenn Sie den Mauszeiger über die Komponente bewegen </li><li>  <b>Komponentenparameter</b> - Der Bereich, in dem die Komponentenparameter angezeigt werden (öffentliche Felder und mit SerializeField gekennzeichnete Felder). </li><li>  <b>Variablenverknüpfungen</b> - Ein Bereich zum Festlegen von Verweisen auf Variablen (weitere Informationen hierzu finden Sie im Abschnitt zum Arbeiten mit Variablen). </li></ul><br>  Um Objekte visuell zu gruppieren, müssen Sie sie auswählen, dann die rechte Taste drücken und das entsprechende Element im Menü auswählen.  Gruppen können umbenannt und ihr Farbschema geändert werden. <br><br><img src="https://habrastorage.org/webt/qk/z8/yx/qkz8yxb7mo5rq7zgfanosvd_lak.png" alt="Bild"><br><br>  Um die visuelle Darstellung der Komponenten mit dem Mausrad zu skalieren, ist alles ganz einfach. <br><br>  Und das Letzte, worauf ich achten möchte, ist die Arbeit mit den Verbindungen zwischen den Komponenten. <br>  Um eine Verbindung herzustellen, muss der Ausgangspunkt einer Komponente mit dem Eingangspunkt einer anderen Komponente verbunden werden. <br><br><img src="https://habrastorage.org/webt/oj/xa/po/ojxapozb2kopugx2k-hq8r7aosk.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/kc/jg/r5/kcjgr55qxhg8mgt87c8v8yqli8a.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/nw/7b/sf/nw7bsf7vc7paqif6jhgx6fkxnr8.png" alt="Bild"><br><br>  Beziehungen werden basierend auf der Typanpassungsregel hergestellt, die ein Punkt sendet und empfängt.  Ausnahmen werden an einem Eingabepunkt gemacht, der keine Daten empfängt, und jeder Ausgabepunkt kann mit diesem verbunden werden.  Wenn eine Verbindung hergestellt wird, überprüft das System automatisch die Typübereinstimmung und zeigt an, ob diese Verbindung hergestellt werden kann oder nicht.  Eingabe- und Ausgabepunkte werden im Komponentencode mithilfe der folgenden Klassen festgelegt: <br><br><pre><code class="cs hljs">INPUT_POINT OUTPUT_POINT INPUT_POINT&lt;T&gt; OUTPUT_POINT&lt;T&gt;</code> </pre> <br>  Die ersten beiden Klassen werden für Eingabe- und Ausgabepunkte verwendet, die keine Parameter akzeptieren, die zweite umgekehrt.  T kann ein beliebiger Typ sein. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> INPUT_POINT &lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt; InputFloatValue = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> INPUT_POINT&lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> OUTPUT_POINT &lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt; OutputFloatValue = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OUTPUT_POINT&lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;();</code> </pre><br>  Um eine Verknüpfungskette aufzurufen, müssen Sie die Funktion Ausführen verwenden. <br><br><pre> <code class="cs hljs">OutputFloatValue.Execute(<span class="hljs-number"><span class="hljs-number">5f</span></span>);</code> </pre> <br>  Um einen solchen Aufruf zu verarbeiten, muss ein Handler für den Eingabepunkt im Komponentencode festgelegt werden (darüber, wo genau wir etwas später sprechen werden). <br><br><pre> <code class="cs hljs">InputFloatValue.Handler = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> =&gt; Debug.Log(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>);</code> </pre> <br>  Und schließlich möchte ich einen wichtigen Punkt über Verbindungen erwähnen.  Wenn es mehrere Links von einem Punkt gibt, ist es im Editor möglich, die Reihenfolge ihres Anrufs anzupassen. <br><br><h3>  Arbeiten Sie mit Variablen </h3><br>  Wie bereits erwähnt, sind Variablen spezielle Objekte, mit denen Sie Daten zwischen Komponenten über Links zu diesen austauschen können.  Variablen werden wie Komponenten von Programmierern erstellt. <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">ComponentDefinition(Name = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Float"</span></span></span><span class="hljs-meta">, Path = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"uViLEd Components/Base/Variable/Base"</span></span></span><span class="hljs-meta">, Tooltip = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Variable for a floating-point number"</span></span></span><span class="hljs-meta">, Color = VLEColor.Cyan)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">VariableFloat</span></span> : <span class="hljs-title"><span class="hljs-title">Variable</span></span>&lt;<span class="hljs-title"><span class="hljs-title">float</span></span>&gt; { }</code> </pre><br>  Wie Sie sehen können, ist die Basisklasse für Variablen die generische Klasse Variable, wobei T der Datentyp ist, der in der Variablen enthalten ist. T kann ein beliebiger Typ sein, der serialisiert werden kann. <br><br>  Im Editor werden die Variablen wie folgt angezeigt: <br><br><img src="https://habrastorage.org/webt/gu/nr/7u/gunr7u-e2ilyib-1whqiepzokpm.png" alt="Bild"><br><br>  Um die Anzeige von Variablenwerten zu ändern, definieren Sie einfach die ToString-Methode in Typ T neu. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> CustomData { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Value01; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Value02; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CustomData</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value01, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value02</span></span></span><span class="hljs-function">)</span></span> { Value01= value01; Value02= value02; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stringBuilder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); stringBuilder.AppendLine(<span class="hljs-string"><span class="hljs-string">"Value01 = {0}"</span></span>.Fmt(Value01)); stringBuilder.Append(<span class="hljs-string"><span class="hljs-string">"Value02 = {0}"</span></span>.Fmt(Value02)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> stringBuilder.ToString(); } }</code> </pre><br>  Eine Variable dieses Typs sieht also folgendermaßen aus: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">VariableCustomData</span></span> : <span class="hljs-title"><span class="hljs-title">Variable</span></span>&lt;<span class="hljs-title"><span class="hljs-title">CustomData</span></span>&gt; { }</code> </pre> <br>  Um einen Verweis auf eine Variable in einer Komponente hinzuzufügen, müssen Sie eine spezielle Klasse verwenden. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> VARIABLE_LINK&lt;CustomData&gt; CustomVariableLink = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VARIABLE_LINK&lt;CustomData&gt;();</code> </pre> <br>  Danach kann der Link im Inspektor festgelegt werden, und im Dropdown-Menü werden nur Variablen vom Typ <b>CustomData</b> angezeigt, was die Arbeit mit ihnen erheblich vereinfacht. <br><br>  Um die Arbeit mit Variablen zu vereinfachen, gibt es spezielle Methoden, mit denen Sie feststellen können, wann eine Variable ihren Wert geändert hat oder wann Daten darauf festgelegt wurden. <br><br><pre> <code class="cs hljs">CustomVariableLink.AddSetEventHandler(CustomDataSet); CustomVariableLink.AddChangedEventHandler(CustomDataChanged);</code> </pre><br>  Es sollte berücksichtigt werden, dass geänderte Arbeiten durch die <b>Gleichheitsbedingung</b> funktionieren. Wenn daher Strukturen und Klassen verwendet werden, muss diese Methode neu definiert werden, um einen korrekten Betrieb sicherzustellen. <br><br><h3>  Arbeiten mit Unity-Objekten </h3><br>  Aufgrund der Natur des uViLEd-Systems können keine direkten Verknüpfungen zu Unity-Objekten verwendet werden, da sie beim Laden der Logik nicht wiederhergestellt werden können.  Um dieses Problem zu lösen, wurde eine spezielle <b>VLObject-</b> Shell erstellt, mit der Sie solche Links erstellen sowie speichern und laden können.  Diese Shell verfügt unter anderem über einen speziellen Eigenschafteneditor, mit dem Sie Komponenten von jedem Objekt in der Szene abrufen können (siehe Abbildung unten), wenn Sie darauf zugreifen möchten.  Mit <b>VLObject können</b> Sie Links nicht nur zu <b>Szenenobjekten</b> und ihren Komponenten speichern, sondern auch zu Fertighäusern und Ressourcendateien wie Texturen, Sounds usw. <br><br><img src="https://habrastorage.org/webt/3i/wl/d4/3iwld4qttgr3fjboody9ruyeeyi.png" alt="Bild"><br><br>  <b>Hinweis</b> : Wenn die vorhandene Logik in einer anderen Szene verwendet wird, gehen Verweise auf Objekte verloren, einschließlich Verweise auf Fertighäuser, da die Szene als Speicher fungiert.  Dies sollte auch berücksichtigt werden, wenn Sie Logik als Vorlage verwenden möchten. In diesem Fall besteht die beste Option darin, die erforderlichen Links von außen darauf zu übertragen (z. B. von der an die Szene angehängten Logik). <br><br>  Es ist auch möglich, den Typ des Unity-Objekts einzuschränken, das in <b>VLObject</b> installiert <b>wird</b> .  Dies betrifft nur den Unity-Inspektor und wird für die bequeme Arbeit mit ihnen verwendet. <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] [TypeConstraint(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Button))] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> VLObject _button;</code> </pre> <br><h3>  Erstellen einer Logikkomponente </h3><br>  Um eine Logikkomponente zu erstellen, muss ein Programmierer dem Projekt lediglich eine einfache C # -Skriptdatei hinzufügen (Sie können eine Komponente oder eine Variable auch sofort über ein spezielles Menü auf der Registerkarte Projekt erstellen) und den darin enthaltenen Code wie folgt ändern: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">ComponentDefinition(Name = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"MyComponent"</span></span></span><span class="hljs-meta">, Path = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"MyFolder/MySubfolder"</span></span></span><span class="hljs-meta">, Tooltip = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"this my logic component"</span></span></span><span class="hljs-meta">, Color = VSEColor.Green)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyLogicComponent</span></span> : <span class="hljs-title"><span class="hljs-title">LogicComponent</span></span> { }</code> </pre><br>  Wie bereits erwähnt, ist <b>ComponentDefinition</b> ein Attribut, mit dem Sie automatisch einen Katalog von Komponenten erstellen können. Hierbei ist zu beachten, dass Color (die Farbe des Headers) in der Zeichenfolge als HEX-Format festgelegt ist. <br><br>  <b>LogicComponent</b> ist die Basisklasse aller Komponenten, die wiederum ein Nachkomme von <b>ScripatableObject ist</b> . <br><br>  Das Folgende ist ein einfaches Beispiel für eine Komponente, die nach einem eingehenden Wert vom Typ bool verzweigt: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">IfBool</span></span> : <span class="hljs-title"><span class="hljs-title">LogicComponent</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> INPUT_POINT&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; ValueToBeChecked = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> INPUT_POINT&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> OUTPUT_POINT True = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OUTPUT_POINT(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> OUTPUT_POINT False = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OUTPUT_POINT(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Constructor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ValueToBeChecked.Handler = ValueToBeCheckedHandler; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ValueToBeCheckedHandler</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) { True.Execute(); }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { False.Execute(); } } }</code> </pre><br>  Wie Sie dem Code entnehmen können, haben wir den Eingabepunkt der Komponente erstellt, der einen Wert vom Typ bool und zwei Ausgabepunkte annimmt, die je nach dem erhaltenen Wert aufgerufen werden. <br><br>  Vielleicht haben Sie jetzt eine Frage, was für ein <b>Konstruktor ist</b> das?  Ich erkläre.  Standardmäßig unterstützt <b>ScriptableObject</b> keine Methoden wie <b>Start</b> , <b>Update</b> usw., aber auch die Methoden <b>Awake</b> , <b>OnEnable</b> , <b>OnDisable</b> und <b>OnDestroy</b> .  Hier ist also <b>Awake</b> (wie <b>OnEnable</b> ), falls <b>ScriptableObject</b> über die <b>CreateInstance-</b> Methode erstellt wird, wird es immer aufgerufen, und dies ist tatsächlich das Problem.  Aufgrund der Tatsache, dass das Objekt im Editor für die Serialisierung im Editor-Modus erstellt wurde, musste der Komponentencode zu diesem Zeitpunkt von der Arbeit ausgeschlossen werden. Daher wurde das <b>Awake-</b> Analogon als <b>Konstruktormethode</b> hinzugefügt. <b>Dies</b> gilt auch für die Methoden <b>OnDisable</b> und <b>OnDestroy</b> , wenn ein Objekt im Editor gelöscht wird.  Wenn Sie das Entfernen einer Komponente korrekt verarbeiten müssen (z. B. beim Entladen einer Szene), müssen Sie die <b>IDisposable-</b> Schnittstelle verwenden. <br><br>  Wie Sie sehen, ist das Erstellen von Komponenten im Allgemeinen nicht schwierig.  Dies ist eine reguläre Klasse, in der es beliebigen Code geben kann.  In dem speziellen Fall enthalten die Komponenten möglicherweise überhaupt keine Eingabe- und Ausgabepunkte, sondern kommunizieren über globale Nachrichten.  Übrigens gibt es in <b>uViLEd</b> eine <b>GlobalEvent-</b> Klasse - es handelt sich um ein Nachrichtensystem, das auf Datentypen basiert (mehr dazu in meinem Artikel). <br><br>  Das Letzte, was ich erwähnen möchte, ist die Möglichkeit, die Eingabe- und Ausgabepunkte der Komponente in Abhängigkeit von den Parametern der Komponente zu konfigurieren. <br><br><img src="https://habrastorage.org/webt/om/xi/0e/omxi0ebaaiuixhln-gpqmkdqz5g.png" alt="Bild"><br><br>  Zu diesem <b>Zweck</b> reicht es aus, im Komponentencode eine oder beide der <b>Schnittstellen</b> <b>IInputPointParse</b> und <b>IOutputPointParse zu implementieren</b> .  Im Folgenden finden Sie ein Beispiel für einen abstrakten generischen Klassencode für <b>Switch-</b> Verzweigungskomponenten. Hier werden abhängig vom Parameter <b>SwitchValues</b> automatisch Ausgabepunkte erstellt. <br><br><div class="spoiler">  <b class="spoiler_title">SwitchAbstract-Klassencode</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SwitchAbstract</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; : <span class="hljs-title"><span class="hljs-title">LogicComponent</span></span>, <span class="hljs-title"><span class="hljs-title">IOutputPointParse</span></span> { [Tooltip(<span class="hljs-string"><span class="hljs-string">"input point for transmitting value, which should be checked"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> INPUT_POINT&lt;T&gt; ValueToBeChecked = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> INPUT_POINT&lt;T&gt;(); [Tooltip(<span class="hljs-string"><span class="hljs-string">"set of values for branching"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;T&gt; SwitchValues = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;T&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt; outputPoints = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Constructor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ValueToBeChecked.Handler = ValueToBeCheckedHandler; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CompareEqual</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">T first, T second</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> first.Equals(second); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetValueString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">T </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> outputPontName = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.ToString(); <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> UNITY_EDITOR </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (!UnityEditor.EditorApplication.isPlaying) { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (outputPoints.ContainsKey(outputPontName)) { outputPontName += " ({0})".Fmt(outputPoints.Count); } } #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> return outputPontName; } private void ValueToBeCheckedHandler(T checkedValue) { foreach (var value in SwitchValues) { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (CompareEqual(checkedValue, value)) { ((OUTPUT_POINT)outputPoints[GetValueString(value)]).Execute(); return; } } } public IDictionary&lt;string, object&gt; GetOutputPoints() { #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> UNITY_EDITOR </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (!UnityEditor.EditorApplication.isPlayingOrWillChangePlaymode) { outputPoints.Clear(); } #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (outputPoints.Count == 0) { foreach (var value in SwitchValues) { outputPoints.Add(GetValueString(value), new OUTPUT_POINT()); } } return outputPoints; } }</span></span></code> </pre> <br></div></div><br><h3>  Logik-Debugging </h3><br>  UViLEd bietet verschiedene Mechanismen zum Debuggen von Logik: <br><br><ol><li>  Die Möglichkeit, interne Variablen und ihre Werte im Logikeditor im Szenenstartmodus anzuzeigen.  Verwenden Sie dazu das <b>ViewInDebugMode-</b> Attribut </li><li>  Möglichkeit, Werte von Logikvariablen im Szenenstartmodus anzuzeigen </li><li>  Möglichkeit des schrittweisen Debuggens von Aufrufen zwischen Komponenten und Anzeigen von Daten, die zwischen ihnen übertragen werden </li></ol><br>  UViLEd verfügt über einen speziellen Modus für das letzte Element, der beim Starten der Szene aktiviert wird. <br><br><img src="https://habrastorage.org/webt/vg/i2/rs/vgi2rsffppoc1zwyq4px7ojgmk0.png" alt="Bild"><br><br>  Dieser Modus weist leider bestimmte Einschränkungen auf, die mit dem Übergang zwischen Szenen verbunden sind.  In diesem Fall gehen die Debugging-Daten aus der vorherigen Szene und Logik verloren, und in der neuen Szene werden sie erst ab dem Moment angezeigt, in dem die Logik im Editor aktiviert wird. <br><br><h2>  Fazit </h2><br>  In diesem Artikel habe ich versucht, Ihnen kurz den Entwicklungsansatz vorzustellen, den ich in meinen aktuellen Projekten verwende.  Trotz der anfänglichen Skepsis (einschließlich meiner) zeigt die Praxis deutlich die Bequemlichkeit ihrer Verwendung, insbesondere beim Prototyping.  Unter anderem wurde die Arbeit der Spieleentwickler stark vereinfacht, sie gehen nicht in die Szene, stoßen keine Objekte an, um den Spielprozess zu konfigurieren, es wird eine separate Logik für sie mit einer Reihe von Daten von Variablen und Komponenten erstellt, in denen sie einfach alles konfigurieren können.  Ein großer Vorteil ist auch die Tatsache, dass in meinen Projekten der Inhalt oft von außen heruntergeladen wird.  Mit dem visuellen Logik-Editor kann ich das Gleichgewicht des Spielprozesses aktualisieren, ohne die Hauptanwendung zu aktualisieren. In einigen Fällen kann die Logik selbst geändert werden. <br><br>  Für mich selbst habe ich entschieden, dass ein solcher Entwicklungsansatz durchaus der richtige Ort ist. Natürlich ist er nicht auf große Projekte anwendbar, aber er kann dort für einige Gameplay-Skripte verwendet werden, um die Welt, das Level-Design usw. wiederzubeleben Laufende Projekte (Kindersegment), bisher zeigt er großartige Ergebnisse. <br><br>  Was kommt als nächstes? <br><br>  Dies war der erste Teil einer Reihe von Artikeln über den visuellen Editor von Logik uViLEd, dann wird es Teile geben über: <br><br><ol><li>  <b>Der Kern des Systems</b> : wie die Logik geladen wird, warum das ScriptableObject ausgewählt wird, wie die API angeordnet ist, was Sie tun können usw., welche Schwierigkeiten aufgetreten sind und wie alles gelöst wurde. </li><li>  <b>Redaktion</b> : Wie es entwickelt wurde, wie es gebaut wurde, welche Probleme und welche Lösungen usw. Dinge, die ich jetzt neu gestalten würde. </li></ol><br>  Schreiben Sie in die Kommentare, wenn Sie spezielle Fragen haben, die ich in den folgenden Artikeln behandeln soll. <br><br>  <b>PS</b> : Ich habe versucht, über die wichtigsten Punkte von <b>uViLEd</b> zu sprechen. Wenn Sie <b>möchten</b> , können Sie sich mit dem Plugin aus dem Asset Store vertraut machen. Es gibt eine vollständige Dokumentation (allerdings in englischer Sprache): ein Benutzerhandbuch, eine Anleitung für Programmierer und APIs. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Visual Logic Editor Teil 2</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">UViLEd Visual Logic Editor</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Global Messaging Artikel</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de448190/">https://habr.com/ru/post/de448190/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de448180/index.html">Werkzeuge für gutes WiFi. Ekahau Pro und andere</a></li>
<li><a href="../de448182/index.html">Erfahrung in der Rekrutierung von Softwareentwicklern. Teil 1</a></li>
<li><a href="../de448184/index.html">Sicherheitswoche 16: Diebstahl digitaler Identität</a></li>
<li><a href="../de448186/index.html">Von der Prozessmodellierung bis zum Entwurf eines automatisierten Systems (Teil 2)</a></li>
<li><a href="../de448188/index.html">Zeitkapsel: HP iPaq h1940 "out of the box". Wofür ist ein PDA aus den 2000er Jahren?</a></li>
<li><a href="../de448192/index.html">Warum brauchen wir bei der Produktion von AR und VR</a></li>
<li><a href="../de448194/index.html">Erfahrung in der Rekrutierung von Softwareentwicklern. Teil 2</a></li>
<li><a href="../de448196/index.html">Die Zukunft (oder geheime Gegenwart) von Plasmamotoren oder wie man einen maximalen Schwung von 27 in der Atmosphäre erreicht</a></li>
<li><a href="../de448198/index.html">Sichere Datenübertragung zwischen zwei Anwendungen</a></li>
<li><a href="../de448202/index.html">Wir steuern den Generator oder den Kampf gegen den ADC im STM32F030</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>