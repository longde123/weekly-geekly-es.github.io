<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèîÔ∏è üïü ‚ö†Ô∏è Microservices oder Monolith: Suche nach einer L√∂sung üõÄüèø üë∂üèª ‚ö´Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Welchen Entwicklungspfad sollte ich w√§hlen, wenn ein gro√ües Produkt konzipiert wird oder eine kleine Software zu einem Leviathan heranw√§chst? Sollte i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Microservices oder Monolith: Suche nach einer L√∂sung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459810/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/gi/vt/lo/givtlo-w7p1lc0eqbh8td8-9k_o.png" alt="Bild"></div><br>  Welchen Entwicklungspfad sollte ich w√§hlen, wenn ein gro√ües Produkt konzipiert wird oder eine kleine Software zu einem Leviathan heranw√§chst?  Sollte ich alles von Grund auf neu schreiben oder die ‚Äûhistorisch etablierten‚Äú Traditionen fortsetzen?  Wie auch immer, lohnt es sich, das Konzept der Architektur zu √ºberarbeiten? <br><br>  Hallo Khabrovites!  Mein Name ist Konstantin und ich bin der Hauptentwickler eines ziemlich gro√üen Systems, das einmal als Experiment begann.  Eine kleine PHP-Site, die buchst√§blich "am Knie" erstellt wurde, und nat√ºrlich ein Monolith.  Im Laufe der Zeit wuchs die Website und stie√ü auf eine Reihe von Problemen, deren L√∂sung die Frage "und dann wie?" War. <br><a name="habracut"></a><br>  Monolith oder Microservices?  Was soll ich w√§hlen?  Der grundlegende Unterschied zwischen den Ans√§tzen besteht meiner Meinung nach darin, dass ein Monolith einen zentralisierten Zyklus f√ºr die Verarbeitung der Anforderung eines Benutzers und Mikrodienste - einen dezentralisierten - impliziert.  Die gemeinsamen Vor- und Nachteile beider Ans√§tze sind allgemein bekannt und werden mehrmals aufgef√ºhrt (z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ).  Es gibt jedoch nicht so offensichtliche und offensichtliche Faktoren, die die Wahl der Architektur beeinflussen. <br><br><ol><li>  <b>Vollzeitbesch√§ftigte laden</b> .  Mit der rasanten Entwicklung des Produkts sammelt sich ein Pool von Aufgaben an, die nicht in einem akzeptablen Zeitrahmen gel√∂st werden k√∂nnen - jeder ist besch√§ftigt.  Und wenn eine solche ‚ÄûBlockade‚Äú einfach ist, macht es keinen Sinn, das Personal der Entwickler zu erweitern.  Die naheliegende L√∂sung sind externe Auftragnehmer (Unternehmen oder Freiberufler).  Aber wie kann man ihnen ein St√ºck des Produkts zum Arbeiten geben, ohne das Risiko einzugehen, es grob gesagt in eine OpenSource zu verwandeln?  Bei Verwendung von Microservices ist diese Aufgabe viel einfacher zu l√∂sen. </li><li>  <b>Die Schwierigkeit des Tauchens</b> .  Je gr√∂√üer das Produkt, desto l√§nger braucht ein neuer Mitarbeiter, um sich darin vertraut zu machen.  Vor allem, wenn der Code viele verschiedene Standardeinstellungen enth√§lt (ja, eine gute Dokumentation erleichtert den Vorgang erheblich, aber wenn nicht?) Und Anpassungen f√ºr einzelne Sonderf√§lle.  Unter diesem Gesichtspunkt ist es viel einfacher, mit einem kleinen unabh√§ngigen Teil umzugehen, als mit dem gesamten Produkt sofort. </li><li>  <b>Ressourcen bei Spitzenlasten</b> .  In meiner Praxis gab es einen Fall, in dem die Auslastung der Server manchmal auf nicht akzeptable Werte anstieg (und wenn insbesondere der Arbeitsspeicher ersch√∂pft war, ein Austausch aktiviert wurde und der Server f√ºr eine Weile zu einem Gem√ºse wurde), w√§hrend der freien Arbeit den Rest der Zeit (die Auslastung betrug nicht mehr als 30% des Arbeitsspeichers )  Und solche Spitzen ereigneten sich unregelm√§√üig und mit langen Pausen.  Im Fall eines Monolithen (wir glauben, dass es keinen Ort gibt, an dem der Code optimiert werden kann) wird nur die Verbindung neuer Server mit einer Kopie des gesamten Systems f√ºr den Lastausgleich gespeichert.  Und im Fall von Microservices k√∂nnen Sie eine Verarbeitungswarteschlange organisieren (dies gilt nat√ºrlich nur f√ºr zeitkritische Vorg√§nge, die schnell sind und nicht erwartet werden, z. B. das Entladen einer Excel-Tabelle). </li><li>  <b>Aufgaben im Hintergrund ausf√ºhren</b> .  Welche Art und Weise dieser Faktor das Boot ‚Äûsch√ºttelt‚Äú, h√§ngt von seiner Gr√∂√üe und Komplexit√§t ab.  In der Regel reichen ein Monolith und ein Timer (Cron) aus.  Wenn sich jedoch Aufgaben in gro√üen Gruppen ansammeln, treten auch Probleme auf.  Es ist notwendig, Cron-Aufgaben bereits auszugleichen.  Microservices erleichtern diese Situation erheblich. </li><li>  <b>Die Komplexit√§t der Verfolgung</b> .  Bei Microservices werden die Anforderungen an die Wartung von Eisen erh√∂ht - wo, was und wie sollte konfiguriert werden.  Monolith - grob gesagt, einige Einstellungen f√ºr alle Knoten, Microservices - Einstellungen h√§ngen von den Anforderungen bestimmter Microservices ab, die auf dem Knoten ausgef√ºhrt werden. </li><li>  <b>Qualifikationsanforderungen</b> .  Je mehr Technologien der Zoo hat (und normalerweise w√§chst er, wenn das System ein Mikroservice ist), desto h√∂her sind die Anforderungen an die F√§higkeiten und das Wissen der regul√§ren Mitarbeiter.  Wenn es Verbesserungen oder Probleme gibt, m√ºssen sie diese bew√§ltigen.  Oder es werden mehr Fachkr√§fte ben√∂tigt, um den gesamten Stapel abzudecken. </li></ol><br>  M√ºssen Sie w√§hlen?  Ist das Spiel die Kerze wert?  Ich denke auf jeden Fall wert.  Aber man muss sich dem Problem mit einem kalten Kopf n√§hern.  Andernfalls werden einige Probleme einfach durch andere ersetzt. <br><br>  In meinem Fall kam ein Wendepunkt, als die Site nicht mehr in die Ressourcen eines Servers "passte".  Dann wurde beschlossen, das System gem√§√ü der meiner Meinung nach besten Option - einem Hybrid - neu zu schreiben.  Im "Hybridfall" gibt es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">allgemeine Empfehlungen</a> f√ºr die Produktentwicklung.  Aber ich m√∂chte es mit ein paar Empfehlungen erg√§nzen. <br><br>  Bei der Entwicklung eines Startermonolithen sollten die M√∂glichkeiten f√ºr eine weitere Verbindung externer Dienste sofort festgelegt werden.  Erstellen Sie sofort eine Kommunikation zwischen Komponenten, als ob diese Komponenten bereits (oder fast bereits) ‚Äûexterne Dienste‚Äú w√§ren.  Besonders wenn sie ressourcenintensiv sind. <br><br>  √úberlegen Sie sich sofort eine Richtlinie f√ºr die Arbeit mit Caches und Datenspeichern (Datenbanken und Dateien).  Teilen Sie beispielsweise die Sitzung eines Benutzers. <br><br>  Und das Wichtigste ist, nicht bis zum √Ñu√üersten zu eilen.  F√ºr mich selbst habe ich die folgende Formel f√ºr ein gutes Projekt abgeleitet: "Ein effektives System ist ein ausgewogenes System."  Dies dr√ºckt sich insbesondere darin aus, dass ich in Microservices nur gro√üe, logisch isolierte Fragmente des Kernels herausnehme.  Und dann nur, wenn mindestens eine der Bedingungen erf√ºllt ist: <br><br><ol><li>  Lastbegrenzung und Prognose sind erforderlich, Zeitverz√∂gerungen aufgrund der Ausf√ºhrung von Aufgaben sind wiederum nicht kritisch </li><li>  Durch die Isolierung wird die Produktivit√§t erheblich gesteigert. </li></ol><br>  Als Ergebnis dieses Ansatzes haben wir ein System erhalten, 95% der Funktionen befinden sich im Kernel und 5% in Microservices.  Gleichzeitig macht der Kern nur 60% der Gesamtlast aus.  Gleichzeitig k√∂nnen Sie sicherstellen, dass die Auslastung einzelner Server kritische Werte nicht √ºberschreitet. <br><br>  Microservices sind also (ab einer bestimmten Gr√∂√üe des Produkts) gut, wenn Sie sie nur verwenden, wenn dies unbedingt erforderlich ist, und nicht wegen der Mode oder "weil es cool ist".  Es gibt gro√üe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Produkte</a> , die erfolgreich als Monolith leben.  Aber manchmal kann ein Monolith das Problem nicht l√∂sen ... <br><br>  Vielen Dank! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459810/">https://habr.com/ru/post/de459810/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459798/index.html">Snom D335 - Multifunktionales IP-Telefon mit Breitbild-TFT-Farbdisplay</a></li>
<li><a href="../de459800/index.html">Fototour: ITMO University Optics Museum</a></li>
<li><a href="../de459802/index.html">Habr Weekly # 9 / Burnout in der Jugend, japanische Schnittstellen, neuronales Battle.net-Netzwerk, Spiele und Grausamkeit</a></li>
<li><a href="../de459804/index.html">Erstellen Sie Crowdsourcing-Hilfekarten in WordPress + shMapper</a></li>
<li><a href="../de459806/index.html">Wie wir die Katze Lapuna behandelt haben</a></li>
<li><a href="../de459814/index.html">Was bist du, Rendering Engine? Oder wie das Browser-Anzeigemodul funktioniert</a></li>
<li><a href="../de459816/index.html">Neuronale Netze und tiefes Lernen, Kapitel 3, Teil 2: Warum tr√§gt Regularisierung dazu bei, die Umschulung zu reduzieren?</a></li>
<li><a href="../de459820/index.html">Wischen Sie einfach √ºber die Karte: Wie OS / 2 in der New Yorker U-Bahn verwendet wird</a></li>
<li><a href="../de459822/index.html">Ein Beispiel f√ºr ein einfaches neuronales Netzwerk zeigt daher, was was ist</a></li>
<li><a href="../de459824/index.html">Checkliste zum Schreiben gro√üartiger Visual Studio-Erweiterungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>