<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèΩ ü•§ üëçüèª C√≥mo hacer correos electr√≥nicos y no desordenar: consejos pr√°cticos üíÜ üç∫ üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El desarrollador, que se encontr√≥ por primera vez con la generaci√≥n de correos electr√≥nicos, no tiene pr√°cticamente ninguna posibilidad de escribir un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo hacer correos electr√≥nicos y no desordenar: consejos pr√°cticos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/419591/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/le/ph/rs/lephrsp-4zc6zhbbo-fgmhcceec.jpeg" height="500"></div><br>  El desarrollador, que se encontr√≥ por primera vez con la generaci√≥n de correos electr√≥nicos, no tiene pr√°cticamente ninguna posibilidad de escribir una aplicaci√≥n que lo haga correctamente.  Alrededor del 40% de los correos electr√≥nicos generados por las aplicaciones corporativas tienen alg√∫n tipo de violaci√≥n de los est√°ndares y, como resultado, problemas de entrega y visualizaci√≥n.  Hay razones para esto: el correo electr√≥nico es t√©cnicamente mucho m√°s complicado que la web, el correo est√° regulado por varios cientos de est√°ndares y un n√∫mero incontable de pr√°cticas generalmente aceptadas (y no tan), y los clientes de correo electr√≥nico son diversos e impredecibles.  Las pruebas pueden mejorar significativamente la situaci√≥n, pero pr√°cticamente no hay materiales dedicados a probar el correo. <br><br>  El correo Mail.Ru interact√∫a regularmente con sus usuarios a trav√©s de correos electr√≥nicos.  En nuestro proyecto, todos los componentes que son responsables de generar correos electr√≥nicos, e incluso correos √∫nicos, se someten a pruebas obligatorias.  En este art√≠culo compartiremos nuestra experiencia (y llena de golpes). <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¬øQu√© son los correos electr√≥nicos?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¬øQui√©n participa en el proceso de prueba y control?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Correo y transporte postal</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La interfaz de la infraestructura de correo y los l√≠mites de la aplicaci√≥n bajo prueba.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Definici√≥n de par√°metros probados</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Estructura t√≠pica de una aplicaci√≥n generadora.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Qu√© y cu√°ndo probar</a> <br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Infraestructura de entrega</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aplicaci√≥n de generaci√≥n</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Plantillas de cartas estructurales y de dise√±o</a> </li></ol></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Requisitos b√°sicos para verificar la infraestructura</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Requerimientos de Autorizaci√≥n</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Verificaci√≥n de la aplicaci√≥n generadora</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Requisitos de direcci√≥n postal</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Requisitos de encabezado de correo electr√≥nico</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Requisitos para la estructura de la carta.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Requisitos de URI</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Requisitos de dise√±o</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Realizar pruebas divididas</a> </li></ul><br><a name="habracut"></a><br><a name="1"></a><h2>  ¬øQu√© son los correos electr√≥nicos? </h2><br>  La aplicaci√≥n puede generar varios tipos de letras.  Se pueden clasificar en varias categor√≠as.  Por el m√©todo de selecci√≥n de destinatarios: disparador - selectivo - grupo.  Con cita previa: transaccional - comercializaci√≥n - servicio.  Los diferentes tipos de letras pueden tener diferentes requisitos y aplicar diferentes scripts de prueba. <br><br>  Los correos electr√≥nicos de activaci√≥n se generan en respuesta a cualquier evento, por ejemplo, acciones del usuario o cambios en el estado de cualquier objeto del sistema.  Son generados por la aplicaci√≥n y, por lo tanto, son los m√°s interesantes en t√©rminos de pruebas.  Los correos electr√≥nicos de activaci√≥n pueden ser tanto transaccionales como de marketing. <br><br>  Se env√≠an cartas personalizadas a una selecci√≥n din√°mica de usuarios que coinciden con cualquier criterio. <br><br>  Los mensajes de grupo se env√≠an a un grupo conocido de destinatarios, por ejemplo, a todos los usuarios o socios.  Las cartas selectivas y grupales suelen ser marketing, el env√≠o de dichas cartas se inicia manualmente o de acuerdo con un cronograma. <br><br>  Las letras transaccionales se generan cuando un usuario realiza una acci√≥n.  Dichas cartas incluyen, por ejemplo, facturas, tickets o notificaciones de estado de entrega, cartas con un c√≥digo de recuperaci√≥n de acceso, etc.  Los correos electr√≥nicos transaccionales siempre son desencadenantes.  La m√°xima compatibilidad es importante para ellos, lo que significa que deben ser lo m√°s simples posible y deben probarse en una gran cantidad de clientes. <br><br>  Las cartas de marketing alientan al usuario a tomar cualquier medida, por ejemplo, puede ser una oferta de descuentos individuales basados ‚Äã‚Äãen compras anteriores.  En estas cartas, se pueden usar datos transaccionales, que pueden ser tanto desencadenantes como masivos, peri√≥dicos o √∫nicos.  Para estas letras, la eficiencia es m√°s importante, generalmente est√° determinada por los resultados de una prueba dividida.  Algunos aspectos de compatibilidad pueden ser sacrificados por la eficiencia. <br><br>  Las cartas de marketing grupales, por ejemplo, mensajes sobre ofertas de temporada, promociones y ventas, a menudo se env√≠an "manualmente" y no son parte de su solicitud, pero puede (y debe) aplicarles principios de prueba generales. <br><br>  Adem√°s, puede haber cartas de servicio generadas por los empleados para sistemas de CRM, diario, auditor√≠a o DWH automatizados o automatizados.  Dichas letras son desencadenantes, lo que significa que tambi√©n forman parte de la aplicaci√≥n y deben probarse. <br><br><a name="2"></a><h2>  ¬øQui√©n participa en el proceso de prueba y control? </h2><br><ol><li>  Ingeniero de control de calidad: participa en todas las etapas del proceso. </li><li>  Ingeniero de redes: responsable de configurar la red y la infraestructura de mensajer√≠a.  Un ingeniero de redes debe participar en la planificaci√≥n de las pruebas de infraestructura. </li><li>  Un especialista en entregabilidad es una persona que supervisa la entrega de cartas, que tambi√©n participa en la supervisi√≥n de los par√°metros t√©cnicos y administrativos de todos los mensajes enviados y supervisa el progreso del proceso de env√≠o.  Es responsable de garantizar que las cartas enviadas lleguen al m√°ximo porcentaje posible de usuarios y no caigan en el correo no deseado, y para ello el especialista debe tener ciertos conocimientos y contactos.  Si surgen problemas con la entrega de cartas, es √©l quien debe comprender la causa probable y eliminarla: ya sea eliminando obst√°culos t√©cnicos;  o cambiar algo en el contenido de las letras;  o resolver el problema con el servicio de soporte del proveedor de correo, al que no llegan las cartas.  Dicho especialista (si lo hay) tambi√©n debe participar en la preparaci√≥n de una lista de verificaci√≥n y pruebas de la infraestructura que genera aplicaciones y cartas.  Sin embargo, el proceso de prueba en s√≠ debe estar bajo el control del servicio de control de calidad. </li><li>  Email marketing: determina la efectividad de las campa√±as de marketing.  Bajo su control, se realizan las pruebas divididas para la audiencia necesarias para los correos de marketing.  El vendedor del correo electr√≥nico tambi√©n controla la segmentaci√≥n de la base de usuarios, la composici√≥n y frecuencia de los correos electr√≥nicos enviados, y la "presentaci√≥n" visual del correo electr√≥nico al usuario. </li></ol><br>  Todos estos roles no los desempe√±a necesariamente un empleado separado: uno de los gerentes de producto puede desempe√±ar el papel de un comercializador y, por ejemplo, un empleado de soporte o un ingeniero de redes puede desempe√±ar el papel de un especialista en entrega.  Y en las startups con un alto grado de probabilidad, todo esto tendr√° que hacerlo una sola persona, y pueden llegar a ser un especialista de calidad. <br><br><a name="3"></a><h2>  Correo y transporte postal </h2><br>  La estructura del correo es similar a un enorme iceberg, y tiene dos niveles.  Existen m√°s de cien est√°ndares diferentes que rigen el correo, pero casi todos pertenecen a uno de estos dos niveles: <br><br>  <b>La parte submarina del iceberg</b> es un servicio de red cuyo protocolo b√°sico es el protocolo de aplicaci√≥n SMTP, definido por RFC 5321. Es responsable de la entrega de cartas.  Para entregar la carta, se forma un llamado sobre SMTP, que incluye las direcciones del remitente y el receptor del nivel SMTP.  Otros servicios de red como DNS tambi√©n son responsables de entregar la carta.  El componente principal de la infraestructura de red es el Agente de transferencia de correo, o la abreviatura MTA se usa con m√°s frecuencia.  MTA es responsable de manejar la cola de entrega de mensajes y el proceso de entrega a los servidores receptores.  Ejemplos de MTA son Postfix, Sendmail, Exim, servicio SMTP de Microsoft. <br><br>  A esta parte submarina del iceberg, que incluye el MTA, los par√°metros de DNS y otros par√°metros de red, llamaremos infraestructura de correo o infraestructura de entrega de mensajes. <br><br>  <b>La superficie del iceberg</b> es la letra misma.  La estructura b√°sica de la carta se define en RFC 5322. La carta consta de encabezados de servicio y una o m√°s partes con datos.  Los datos pueden contener texto en texto plano y / o HTML, im√°genes en l√≠nea o archivos adjuntos de casi cualquier tipo. <br><br><a name="4"></a><h2>  La interfaz de la infraestructura de correo y los l√≠mites de la aplicaci√≥n bajo prueba. </h2><br>  La infraestructura de correo, por regla general, tiene una o m√°s interfaces con las que se env√≠a una carta (entra en la cola de entrega del MTA).  Por ejemplo, el servicio de env√≠o SMTP, la funci√≥n <code>mail()</code> en PHP, la transferencia de datos a un correo externo o una aplicaci√≥n sendmail, la API de servicios internos o externos (por ejemplo, GetResponse, SendPulse o Amazon SES).  Consideraremos estas interfaces como parte de la infraestructura.  Muy a menudo hay una situaci√≥n en la que la aplicaci√≥n A prepara datos para una carta y una lista de destinatarios, y luego los transfiere a la aplicaci√≥n B a trav√©s de su API (para el marketing de env√≠o masivo, esto se puede hacer manualmente a trav√©s de la interfaz de usuario - UI), y la aplicaci√≥n B ya genera un mensaje de correo en Formato RFC 5322 y de alguna manera lo pone en cola para la entrega de MTA.  Desde el punto de vista de la aplicaci√≥n A (y al probarla), la aplicaci√≥n B ser√° parte de la infraestructura de correo.  La API o UI de la aplicaci√≥n B ser√° la interfaz de infraestructura de correo para la aplicaci√≥n A.  Aunque desde el punto de vista de la aplicaci√≥n B, la situaci√≥n ser√° diferente, y la infraestructura de correo para ella ser√° aplicaciones o protocolos de red de nivel inferior. <br><br><a name="5"></a><h2>  Definici√≥n de par√°metros probados </h2><br>  Al probar cada aplicaci√≥n, es importante resaltar todas las infraestructuras de correo utilizadas (puede haber varias) y, para cada infraestructura, seleccionar las interfaces utilizadas (tambi√©n puede haber varias para cada infraestructura).  Para cada interfaz, la composici√≥n y el formato de los datos que se le transfieren se determinan con la mayor precisi√≥n posible, por ejemplo: texto del mensaje en TEXTO / HTML, texto del mensaje en TEXTO / PLANO, asunto del mensaje, nombre del destinatario, direcci√≥n del destinatario, nombre del remitente, direcci√≥n del remitente de la carta (RFC5321.De ), la direcci√≥n del remitente del conductor SMTP (RFC5322.mailfrom).  A continuaci√≥n, se desarrolla un conjunto de requisitos para cada par√°metro (representaciones, codificaciones, valores l√≠mite, etc.), se determinan los m√©todos de control para cada uno de los par√°metros (de qu√© manera se puede comparar el resultado real con el esperado). <br><br><a name="6"></a><h2>  Estructura t√≠pica de una aplicaci√≥n generadora. </h2><br>  Como regla general, el producto que estamos probando es responsable de generar la carta y los datos que contiene.  Esta suele ser una aplicaci√≥n de servidor (pero a veces cliente).  Define la estructura de la letra, parte de los encabezados del servicio, formatos para la encapsulaci√≥n de datos, presentaci√≥n de cadenas y codificaci√≥n de texto.  Un ejemplo simple de tal aplicaci√≥n es un script que forma una carta y llama a la funci√≥n <code>mail()</code> . <br><br>  Los principales elementos de la aplicaci√≥n que deben controlarse: <br><br><ul><li>  c√≥digo responsable de generar encabezados y / o estructura de letras si la estructura de letras se genera din√°micamente y / o una plantilla de letras est√°tica que describe su estructura; </li><li>  dise√±o de la parte HTML de la carta (idealmente, esta es una entidad separada o parte de la plantilla / dise√±o de la carta, pero se puede coser en el c√≥digo de la aplicaci√≥n); </li><li>  Sustituci√≥n de los datos de la aplicaci√≥n en una carta (o en una plantilla de carta); </li><li>  integraci√≥n de la aplicaci√≥n con la infraestructura de entrega de cartas, la correcci√≥n de los par√°metros transferidos a la interfaz de la infraestructura. </li></ul><br><a name="7"></a><h2>  Qu√© y cu√°ndo probar </h2><br>  Nos guste o no, todo el iceberg debe ser probado.  Hay varios componentes principales que requieren pruebas: <br><br><a name="8"></a><h4>  1. Infraestructura de entrega </h4><br>  El √©nfasis en las pruebas debe colocarse en: entregabilidad de letras;  la exactitud de los registros DNS, incluidos los registros PTR / FCrDNS, MX y A;  Configuraci√≥n del protocolo SMTP (HELO, usando TLS);  autorizaci√≥n de carta (SPF / DKIM / DMARC);  Direcciones de sobres SMTP (si la aplicaci√≥n no las administra);  procesamiento correcto de los par√°metros de entrada de la interfaz de infraestructura;  seguimiento, contabilidad y procesamiento de cartas no entregadas. <br><br>  Es necesario probar la infraestructura durante la implementaci√≥n inicial y cada vez que se realizan cambios en la infraestructura misma (la configuraci√≥n del MTA, DNS o cambios de red) o la interfaz para enviar cartas;  Usar un nuevo dominio, red o API  Cambie significativamente las caracter√≠sticas de los correos electr√≥nicos enviados, como su idioma, tama√±o o cantidad.  Seg√∫n la experiencia, la infraestructura tiende a cambiar sin declarar la guerra, por lo que las pruebas b√°sicas deben llevarse a cabo peri√≥dicamente, incluso si no hay informaci√≥n sobre los cambios. <br><br>  Un ingeniero de redes y un especialista en capacidad de entrega pueden y deben participar en la preparaci√≥n del plan y las listas de verificaci√≥n de las pruebas de infraestructura. <br><br><a name="9"></a><h4>  2. La aplicaci√≥n generadora </h4><br>  Debe controlar las direcciones del sobre SMTP (si est√°n controladas por la aplicaci√≥n, es decir, transferidas a la interfaz: desde-sobre, sobre-hasta), los valores de los encabezados de los mensajes de servicio (Fecha, ID de mensaje, Suscripci√≥n de lista, Env√≠o autom√°tico, etc.) p.), autorizaci√≥n de letras (DKIM / DMARC), codificaciones MIME (base64, entre comillas), la correcci√≥n general del formato de letras, por ejemplo, la ausencia de caracteres no ASCII en los encabezados, la composici√≥n de los datos sustituidos, la activaci√≥n correcta de los desencadenantes, mecanismos de cancelaci√≥n de suscripci√≥n, mecanismos de seguimiento colecci√≥n de cartas y estad√≠sticas (encabezados de postmaster, por ejemplo, Feedback-ID o X-Mailru-Msgtype, as√≠ como p√≠xeles de seguimiento)  . <br><br>  Debe probar la aplicaci√≥n durante su desarrollo, al cambiar todos sus componentes relacionados responsables de generar y almacenar datos, con cambios significativos en las plantillas de letras, al cambiar la infraestructura utilizada o su interfaz, as√≠ como en el marco de regresiones generales. <br><br><a name="10"></a><h4>  3. Plantillas de cartas estructurales y de dise√±o (pueden ser parte de una aplicaci√≥n generadora o se desarrollan por separado) </h4><br>  La estructura de la letra (Tipo de contenido, Disposici√≥n de contenido, anidamiento de las partes multiparte de la letra, codificaci√≥n de texto, par√°metros de cadena), el valor del objetivo y los encabezados mostrados (De, Para, Responder a, Asunto), la visualizaci√≥n de la letra en la lista de letras y cuando la lectura est√° marcada en varias interfaces, microformatos (por ejemplo, que un evento de calendario se reconoce como un evento de calendario, o un boleto a√©reo como boleto a√©reo), marca. <br><br>  Las plantillas de correo electr√≥nico deben probarse cada vez que realice al menos los cambios m√°s peque√±os, y tambi√©n por separado, por ejemplo, en una situaci√≥n en la que las cartas ingresan a la aplicaci√≥n antes de que la parte del servidor est√© lista. <br><br>  Se recomienda que utilice un especialista en marketing por correo electr√≥nico y capacidad de entrega para escribir una lista de verificaci√≥n para probar una plantilla de carta. <br><br><a name="11"></a><h2>  Requisitos b√°sicos para verificar la infraestructura </h2><br>  La direcci√≥n IP seleccionada para el servidor de correo debe ser lo m√°s similar posible a la direcci√≥n IP del servidor de correo.  Se recomienda verificarlo utilizando la utilidad whois.  En particular, la direcci√≥n del remitente no debe pertenecer a una red que pueda percibirse como din√°mica;  La red seleccionada debe tener contactos v√°lidos a los que puede enviar quejas;  se debe usar la red (tener estado ASIGNADO en RIPE).  La direcci√≥n IP debe tener un registro PTR configurado correctamente.  Se puede configurar de forma independiente a trav√©s del panel de control de hosting o mediante el servicio de soporte del proveedor.  El registro PTR debe apuntar al nombre real del host y, al mismo tiempo, ser significativo, resolver de nuevo a la misma direcci√≥n IP (la llamada verificaci√≥n FCrDNS), no recordar el nombre del host din√°mico y no incluir un gran grupo de n√∫meros o caracteres.  Un buen ejemplo es mailserver.example.com. <br><br>  Cada dominio utilizado en direcciones de sobres o encabezados de mensajes debe tener un registro MX v√°lido que apunte a un registro A del host, que, como m√≠nimo, puede procesar mensajes sobre fallas en la entrega.  Para MX, no est√° permitido referirse directamente a una direcci√≥n IP. <br><br>  Controla el paso de SPF, DKIM, DMARC.  SPF permite al propietario del dominio especificar en el registro TXT una lista de servidores que tienen derecho a enviar mensajes de correo electr√≥nico con direcciones de retorno en este dominio.  Est√° configurado para la direcci√≥n utilizada en el sobre desde (sobre SMTP) en la secci√≥n de gesti√≥n de zona DNS del dominio.  DKIM proporciona la verificaci√≥n de la autor√≠a de un mensaje o la pertenencia de su remitente a un dominio espec√≠fico utilizando tecnolog√≠as de firma digital, que se agregan al mensaje en s√≠ (en su encabezado DKIM-Signature).  Normalmente, una firma DKIM se configura en el nivel MTA (infraestructura).  DMARC establece la pol√≠tica de verificar el correo entrante en un dominio espec√≠fico y acciones en cartas que no pasan la autenticaci√≥n SPF o DKIM.  Cuando intenta violar esta pol√≠tica, llega un informe estructurado con informaci√≥n sobre dicho intento.  DMARC, as√≠ como SPF, se publica como un registro TXT en la zona de dominio. <br><br>  Verifique la entrega de cartas a los principales servicios postales: para Rusia, Mail.Ru, Yandex, GMail, Microsoft (Hotmail / Outlook.com / Office365), Rambler, nic.ru.  En las cartas, debe verificar la correcci√≥n de HELO;  disponibilidad y aprobaci√≥n de cheques PTR / FCrDNS, SPF, DKIM y DMARC;  la validez de los encabezados y los datos en ellos, en particular, el sincronismo de las horas en las fechas y la correcci√≥n de las zonas horarias. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2dc/8b4/9bc/2dc8b49bc147ae9369cbc232bd4dfdb3.png"><br><br>  La formaci√≥n de ciertos par√°metros, por ejemplo, autorizaci√≥n, entregabilidad y env√≠o de correo no deseado, est√° influenciada integralmente por todos los componentes, sin embargo, generalmente hay herramientas operativas separadas para controlarlos: informes DMARC y FBL, API de servicio postmaster, herramientas de seguimiento de correo electr√≥nico y estad√≠sticas de entrega.  Las pruebas deben tener en cuenta el nivel de implementaci√≥n de las herramientas de supervisi√≥n operativa en la empresa; por ejemplo, en ausencia de la supervisi√≥n operativa de los informes DMARC, debe comprobar peri√≥dicamente la autorizaci√≥n por correo, en ausencia de la supervisi√≥n operativa de la capacidad de entrega: compruebe regularmente c√≥mo y d√≥nde se obtienen las cartas, incluso si no hay desarrollo relacionado con el env√≠o de cartas No realizado. <br><br>  Para verificar la infraestructura, puede utilizar servicios especializados, por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mail-tester.com</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mxtoolbox.com</a> .  Los requisitos detallados de infraestructura se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en este art√≠culo</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ee/d3f/4d3/3eed3f4d3e9ad8df1edb1a90d115e318.png"><br><br><a name="12"></a><h2>  Requerimientos de Autorizaci√≥n </h2><br>  Por lo general, es posible verificar el paso de SPF, DKIM, DMARC utilizando el encabezado Authentication-Results en el servidor del destinatario. <br><br>  Verifique la validez del registro SPF para la sintaxis, el l√≠mite para consultas DNS (por ejemplo, usando mxtoolbox.com).  Al formar un SPF, se deben tener en cuenta todas las fuentes de correo (no olvide los sistemas CRM, todas las infraestructuras de entrega utilizadas, incluidas aquellas a trav√©s de las cuales se realizan campa√±as de marketing √∫nicas).  Se recomienda configurar los servidores permitidos para el dominio a trav√©s de la lista de redes ('ip4' / 'ip6').  SPF se verifica para la direcci√≥n del remitente desde el sobre SMTP.  Verifique que el dominio del sobre SMTP (sobre-de) coincida con el dominio del encabezado De.  Los errores comunes de SPF se enumeran <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en este art√≠culo</a> . <br><br>  Verifique el registro DNS de DKIM, la validez y la composici√≥n de la firma DKIM.  Verifique que est√° utilizando una clave DKIM de al menos 1024 bits.  Modo hash recomendado de la firma DKIM: relajado / relajado.  Aseg√∫rese de que todos los encabezados importantes est√©n firmados (De, Para, Asunto, Fecha, ID de mensaje, Versi√≥n MIME, Tipo de contenido), que los encabezados de seguimiento (Recibido, Entregado a, Ruta de retorno) no est√©n firmados y que DKIM est√© validado para Servicios postales b√°sicos.  Configure el reenv√≠o a uno de los servicios de correo a otro; DKIM no debe "vencer" en las cartas reenviadas.  Verifique que el dominio de firma DKIM coincida con el dominio del remitente del encabezado De. <br><br>  Verifique DMARC para servicios b√°sicos de correo.  Verifique los informes DMARC, identifique y solucione problemas de SPF y DKIM para todas las direcciones IP de su infraestructura. <br><br>  Verifique que los mensajes se entreguen a servidores externos mediante cifrado (TLS).  A veces puede verificar TLS mediante el encabezado Recibido en el servidor del destinatario: por ejemplo, especificando el protocolo ESMTPS o la presencia de par√°metros del formulario <i>(versi√≥n = TLS1_2 cifrado = ECDHE-RSA-AES128-GCM-SHA256 bits = 128/128);</i>  indica la presencia de TLS. <br><br><a name="13"></a><h2>  Verificaci√≥n de la aplicaci√≥n generadora </h2><br><a name="14"></a><h4>  Requisitos de direcci√≥n postal </h4><br>  <b>Direcciones de sobres</b> <br>  Comenzamos la verificaci√≥n de la aplicaci√≥n generadora con las direcciones en el sobre SMTP. <br><br>  Las direcciones de sobre son direcciones del nivel de infraestructura de correo.  No son visibles para el usuario, pero son importantes para la entrega, porque en qu√© buz√≥n se recibe la carta, est√° determinada precisamente por la direcci√≥n del sobre. <br><br>  La direcci√≥n del destinatario en un sobre (sobre-a, tambi√©n conocido como RCPT TO :) es la direcci√≥n a la que se entregar√° la carta. <br><br><ul><li>  para todas las cartas, excepto para el registro, la direcci√≥n debe estar legalmente firmada y validada para su env√≠o de acuerdo con los requisitos administrativos. </li><li>  para los boletines, la direcci√≥n debe ser "en vivo", las direcciones a las que no se pueden entregar cartas regularmente deben marcarse como inactivas, no se deben enviar correos a ellas.  Pero algunas categor√≠as de letras (por ejemplo, recuperaci√≥n de acceso) tambi√©n pueden necesitar ser enviadas a direcciones previamente marcadas como inactivas. </li></ul><br>  Direcci√≥n del remitente en un sobre SMTP (generalmente llamado sobre-desde, smtp.mailfrom o Return-Path): se enviar√°n mensajes a esta direcci√≥n sobre la imposibilidad de entregar una carta y respuestas autom√°ticas.  Esta direcci√≥n no es visible para el usuario.  Esta direcci√≥n tambi√©n se utiliza para la autorizaci√≥n SPF.  Verificamos que: <br><br><ul><li>  la direcci√≥n est√° disponible; </li><li>  No es la direcci√≥n del empleado y no se le redirige a √©l para excluir respuestas autom√°ticas, mensajes sobre inaccesibilidad, etc .; </li><li>  Es procesado por un script que marcar√° las direcciones de usuarios inaccesibles como inactivas; </li><li>  la direcci√≥n se puede generar autom√°ticamente, es decir  exclusivo de cada letra; </li><li>  Una carta a esta direcci√≥n no debe generar una carta de respuesta, por ejemplo, un mensaje sobre un desbordamiento de cuadro. </li></ul><br>  <b>Direcciones de encabezado de correo electr√≥nico</b> <br><br>  Estas direcciones son directamente visibles para el usuario o se usan al responder una carta. <br><br>  La direcci√≥n del remitente (del encabezado :) es la direcci√≥n y el nombre del remitente que se muestran en la lista de letras y al leer una carta.  Verificamos que: <br><br><ul><li>  Esta es una direcci√≥n amigable "legible para humanos" que identifica a la empresa. </li><li>  Contiene no solo correo electr√≥nico, sino tambi√©n el nombre del remitente. </li><li>  noreply @ es posible, pero solo si queremos enfatizar que no esperamos recibir una respuesta a la carta y que no ser√° le√≠da.  Es mejor duplicar esta idea en el texto de la carta. </li><li>  En presencia de caracteres no ASCII (por ejemplo, cir√≠lico), el nombre del remitente debe codificarse de acuerdo con MIME, el dominio en presencia de caracteres no ASCII debe codificarse en Punycode. </li><li>  Las letras de la misma categor√≠a deben tener la misma direcci√≥n; no se permite el uso de direcciones generadas autom√°ticamente.  Esto se debe al hecho de que From: se usa con mayor frecuencia por las personas para ordenar letras en carpetas mediante filtros. </li><li>  La direcci√≥n debe ser diferente (preferiblemente en diferentes subdominios) para cartas transaccionales, de marketing y urgentes (como cartas del servicio de soporte).  Esto tambi√©n se debe al hecho de que el usuario puede marcar los correos electr√≥nicos de marketing como spam o filtrarlos en una carpeta ilegible. </li><li>  La direcci√≥n De y la direcci√≥n del sobre SMTP deben estar en el mismo dominio o en subdominios del mismo dominio organizacional para poder pasar el SPF dentro del DMARC. </li><li>  La direcci√≥n debe ser del dominio de la organizaci√≥n.  Es inaceptable utilizar servicios de correo gratuitos y otros dominios de correo p√∫blico en From, ya que dichos correos no pasar√°n la autenticaci√≥n SPF y DKIM en el marco de DMARC. </li></ul><br>  Direcci√≥n de respuesta: las respuestas "manuales" se enviar√°n a esta direcci√≥n cuando el usuario responda a la carta.  Es opcional: si est√° ausente, la direcci√≥n de From se usa para la respuesta.  Verifique que Responder a: <br><br><ul><li>  Se puede generar autom√°ticamente, es decir  exclusivo de la letra (le permite averiguar a qu√© letra lleg√≥ la respuesta). </li><li>  No debe caer en la casilla del empleado para evitar contestar llamadas, pero idealmente debe estar "envuelto" en CRM. </li><li>  Puede generar una respuesta autom√°tica CRM est√°ndar, pero no debe generar nada superfluo, por ejemplo, mensajes sobre un desbordamiento de cuadro.  Cuando se generan respuestas autom√°ticas, se deben tomar medidas para evitar bucles, se enumeran en RFC 3834. </li><li>  Puede ser de cualquier dominio que no necesariamente coincida con From, pero a veces esto asusta a los usuarios cuando responden. </li><li>  Puede estar ausente, entonces la direcci√≥n De realiza sus funciones. </li><li>  Adem√°s de la direcci√≥n, se indica el nombre del remitente. </li></ul><br>  Para abordar: <br><br><ul><li>  Debe contener el correo electr√≥nico del destinatario (de lo contrario, asusta al destinatario del mensaje y protege el correo no deseado). </li><li>  Idealmente, debe contener el nombre del destinatario.  Pero si el nombre es desconocido o dudoso (por ejemplo, la direcci√≥n a√∫n no ha sido confirmada), es mejor no indicarlo (alguien puede ingresar la direcci√≥n de otra persona con un nombre incorrecto, y usted puede ofender al destinatario). </li></ul><br><a name="15"></a><h4>  Requisitos de encabezado de correo electr√≥nico </h4><br>  La codificaci√≥n real del texto debe coincidir con la indicada en el encabezado.  Es recomendable utilizar una codificaci√≥n en todos los encabezados y partes de la letra.  Se recomienda que use UTF-8 como uno ampliamente compatible.  La codificaci√≥n se indica en los encabezados de tipo de contenido y en la etiqueta &lt;META&gt; de la parte HTML. <br><br>  Los encabezados From:, Message-ID: y Date: deben formarse directamente en el script para enviar la carta (y seg√∫n los est√°ndares, junto con el texto de la carta) y siempre en el formato correcto.  Si est√°n ausentes o se formaron incorrectamente, uno de los servidores de tr√°nsito puede agregar estos encabezados, lo que lleva a una violaci√≥n de la integridad de la firma DKIM. <br><br>  Los caracteres de 8 bits en los encabezados, incluida la l√≠nea de asunto (Asunto) y los nombres de los archivos adjuntos (Tipo de contenido y Disposici√≥n de contenido), deben estar ausentes;  Todos los caracteres no ASCII, incluidos los cir√≠licos, deben codificarse en comillas imprimibles o en base64. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/910/ab6/456/910ab6456ccd1ed4ef29f1725dab4bdd.png"><br><br><a name="16"></a><h4>  Requisitos para la estructura de la carta. </h4><br>  Para la parte HTML de la carta, es deseable formar una parte alternativa: texto (sin formato).  Tambi√©n es necesario verificar la conformidad y la legibilidad de la parte de texto simple de la carta (si la hay) y la estructura general de la carta. <br><br>  De acuerdo con RFC 5322, la longitud de la l√≠nea en una letra no debe exceder los 998 caracteres de 8 bits.  Tenga en cuenta que en UTF-8, un personaje puede ocupar varios octetos.  El terminador de las l√≠neas en el correo electr√≥nico es un par de CRLF (&lt;cr&gt; ascii 13, lf&gt; ascii 10), que ocupa 2 octetos.  Debe verificar la exactitud del terminador de cadena, ya que las letras a menudo se env√≠an utilizando un script Unix, y en Unix, el terminador de l√≠nea es un solo car√°cter lf; este es un error para el correo electr√≥nico.  Tambi√©n debe verificar si los terminadores de cadena rompen caracteres codificados UTF-8: no puede permitir la presencia de un terminador de cadena entre dos octetos del mismo car√°cter, por ejemplo, cir√≠lico.          ,     base64. <br><br>        ‚Äî      ¬´Content-Disposition: inline¬ª,   ,   ,  ¬´Content-Disposition: attachment¬ª,     . <br>  ,  ,    :  ,      multipart-   (mixed, alternative, related),  multipart/mixed       , multipart/related ‚Äî    , multipart/alternative ‚Äî   plain text-  HTML-.     ,       -,    : <br><br> multipart/alternative <br> ‚Äî text/plain <br> ‚Äî text/html <br><br>   , text/plain    text/html  multipart/related.    ,     HTML-,       -   ‚Äî  plain-. <br><br>     -      : <br><br> multipart/alternative <br> ‚Äî text/plain <br> ‚Äî multipart/related <br> ‚Äî‚Äî text/html <br> ‚Äî‚Äî image/‚Ä¶ (-) <br> ‚Äî‚Äî image/‚Ä¶ (-) <br><br> -   Content-Disposition: inline     multipart/related-. <br><br>    ,     ,   ,    : <br><br> multipart/mixed <br> ‚Äî multipart/alternative <br> ‚Äî‚Äî text/plain <br> ‚Äî‚Äî multipart/related <br> ‚Äî‚Äî‚Äî text/html <br> ‚Äî‚Äî‚Äî image/png <br> ‚Äî‚Äî‚Äî image/png <br>  ... <br> ‚Äî application/octet-string (content-disposition: attachment) <br> ‚Äî application/octet-string (content-disposition: attachment) <br>  ... <br><br> (multipart/related-  multipart/alternative-     ,     multipart/mixed-) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b63/896/ef4/b63896ef4964a08327693deae2192641.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ab/123/d6d/7ab123d6d0398601b7c62bd1ae57d59a.png"><br><br><a name="17"></a><h4>   URI </h4><br>  URI (  src, href,   ..)       ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://example.com/somepath</a> ).       (/somepath)    (//example.com/somepath),    , ..        file://. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c55/852/64f/c5585264ffa6e6f15246000cd26f9d00.png"><br><br><ul><li>    ASCII- ( , )  URI       percent encoding. </li><li> ,    (..    URL,     ),        &lt;&gt;,         .  -    ,      .  href  A        ,  -          .         ¬´¬ª,     . </li><li>     htt://, htts://  milto:. </li><li>           http://   htts://. </li><li>      (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">example.com</a> :8080/somepath), ..     . </li><li>     HTML-     -    (, ,    ..)      , ..   -      ,    ;           ,        ,     ,     ( -         GET-,       POST  PUT). </li><li>      List-Unsubscribe, ,      -  , ..          . </li><li>     ,            ,    ,     (,   ).           .  ,    ,   ,    ,   ,     . </li><li>  Porque  URI   ,       URI  data:.            URI. </li><li>     ,      . ,        ,          . </li><li>       -     . </li></ul><br><a name="18"></a><h4>     </h4><br>     ? <br><br><blockquote>            .         ‚Äî   (XSS, Crossite scripting),   (interface spoofing), DOM clobbering,   /   (, IP-      )  ..,                 .  ,       .     : <br><br><ul><li>   , </li><li>   / , </li><li>    , </li><li>        (    ), </li><li>       (..      )       , </li><li>  HTML-     ( Microsoft Exchange / Outlook  RTF, -       Outlook      ), </li><li>          . </li></ul><br>      ,   -  URI cid://,     . , Mozilla Thunderbird   cid://   . </blockquote><br>      -     -       . <br><br>          . ,          URI, -    , -   ,       .        :          ,     (  ,               ). <br><br>      : <br><br><ul><li>      , ,  , ,    . </li><li>          . </li><li>   , , ,          .      (      ).      .     ,        . </li><li>       ,   . </li><li>  ,    ,  ..   -,    - ,  c,   , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">      </a> ( ,   , ,  ,  -       ). ,             ,    . </li><li>       . </li><li>    , ,  , .        (, -  ),   , ,  ,     . </li><li>               . </li><li>   : <br><ul><li>    :  ¬´ ¬ª Mail.Ru, Yandex, Gmail,   Rambler  Outlook.com; </li><li>      ; </li><li>   ,    IMAP,     ,    iPhone, Pixel (  Android), Samsung (   Android), MIUI (    Android-); </li><li>   : Chrome, Firefox, Edge, Internet Explorer, Opera  .; </li><li>   ( ),  Thunderbird, Outlook  Apple Mail,  The Bat!  Opera Mail; </li><li>     - (Exchange,  Roundcube, Communigate, Zimbra, SquirrelMail) ‚Äî  B2B-; </li><li>       Retina-,        . </li></ul></li><li>          : <br><ul><li>   , SPF/DKIM/DMARC. </li><li>   :    ,  . </li><li>     : ,    ,     ,      (,       ¬´¬ª). </li><li>    :    ,       ..,         . </li><li>        . </li><li>     . </li><li>  . </li><li>   ,  . ,        ,    - ,       ,             . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dfd/d33/a08/dfdd33a0855e3f55c1ac96534b66a716.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e6a/964/e13/e6a964e1366a217ecd60bdb41f584e2f.png"></li></ul></li><li>      (  )  ,      .        ,      . </li><li>  ,     ,   , ..       ,  , , ¬´¬ª   . </li><li>       . ,    DKIM-   -    (  DNS   DKIM-,   ), -    (   ,    ,      From, Date  Message-ID)  -   (  ,   ,   ).   ¬´¬ª    ,        . </li></ul><br><a name="19"></a><h2>  - </h2><br>       ,      ,     . <br><br>   ,     ,    (   ).       .       ,     ,        . <br><br>      CTR   ‚Äî         .  postmaster.mail.ru      .        (),     . CTR &lt; 10% ‚Äî    ,    .    CTR &gt; 30%.        CTR          (¬´¬ª)   .      (   ).          ,   ‚Äî   .  ,       ,  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://help.mail.ru/developers/mailing_rules/technical</a> . <br><br>   -       .           CTR        .          (      ).             ¬´¬ª ‚Äî    10 000 ,       . <br><br>  :      , ,      .       ¬´ ¬ª    . ,         . <br><br> <i>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">z3apa3a</a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">s4ever</a> .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">EdT</a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">4Alexander</a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es419591/">https://habr.com/ru/post/es419591/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es419581/index.html">¬øQu√© proyectos sin fines de lucro son interesantes para Y Combinator?</a></li>
<li><a href="../es419583/index.html">C√≥mo Rusia se perdi√≥ el apogeo del DVD, pero alcanz√≥ a Occidente con la llegada de Internet de banda ancha</a></li>
<li><a href="../es419585/index.html">PWA es f√°cil. Hola habr</a></li>
<li><a href="../es419587/index.html">Competiciones que cambian el mundo. 1567-2035</a></li>
<li><a href="../es419589/index.html">Usamos AMP como una biblioteca de uso general para crear sitios din√°micos r√°pidos</a></li>
<li><a href="../es419593/index.html">Gafas dalt√≥nicas: c√≥mo funciona y cu√°les son las dificultades de selecci√≥n</a></li>
<li><a href="../es419599/index.html">Java REST en la Escuela de Programadores HeadHunter</a></li>
<li><a href="../es419603/index.html">Antecedentes: empresas que producen robomobiles</a></li>
<li><a href="../es419613/index.html">Aprovechar al m√°ximo el depurador de Android Studio</a></li>
<li><a href="../es419615/index.html">DJI Osmo Mobile 2 - estabilizador electr√≥nico para el tel√©fono</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>