<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛁 👨🏽‍🤝‍👨🏼 💃🏼 Três sinais seguros de que é hora de cortar sua estrutura 🧜🏻 💂 📙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Na vida de quase qualquer equipe de desenvolvimento, chega um momento em que a criação de nossa própria estrutura passa do status de "Que diabos devem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Três sinais seguros de que é hora de cortar sua estrutura</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/psb/blog/418363/">  Na vida de quase qualquer equipe de desenvolvimento, chega um momento em que a criação de nossa própria estrutura passa do status de "Que diabos devemos perder tempo?"  para o status "Idéia legal!".  Tivemos esse momento há cerca de dois meses, quando começamos a estragar o controle de voz das transferências usando o Siri no aplicativo móvel cliente do PSB Mobile, o PSB Mobile.  Analisamos nossa experiência e, com base nisso, mostraremos como entender que chegou a hora das estruturas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82a/e98/687/82ae98687a4bf0234b6fdd16a1dc4221.png"><br><a name="habracut"></a><br><h2>  "De que estrutura, do que você está falando?" </h2><br>  Anteriormente, o cliente iOS do banco para indivíduos era desenvolvido em terceirização.  Decidiu-se reescrever tudo do zero.  Criamos um processo SCRUM com sprints de duas semanas, o trabalho começou a ferver - estávamos procurando e adicionando novos recursos, chips.  Nesse estágio de pesquisas ativas, era difícil prever o que criaria raízes, o que não criaria.  Planejar tudo 40 passos à frente não faz sentido.  Ninguém pensou nos detalhes como a universalidade - crie sua própria estrutura, aloque partes do código em bibliotecas separadas para reutilização.  A probabilidade de que isso não faria sentido era muito alta. <br><br><h2>  WWDC nos conectou </h2><br>  Por que o SCRUM é bom - geralmente entramos em contato com a empresa como cliente.  Ao mesmo tempo, mudanças importantes começaram a ocorrer.  Começamos a entender melhor o produto, tarefas de negócios, processos de negócios do banco em que o aplicativo está envolvido.  E o mais importante, os negócios, por sua vez, começaram a considerar o desenvolvimento do aplicativo como um processo, começaram a entender melhor como trabalhamos, começaram a concordar conosco que existem tarefas importantes, cuja solução não produz um efeito momentâneo perceptível. <br><br>  Ajudou-nos a conviver com os negócios ... da conferência da WWDC  De alguma forma, nossos clientes comerciais assistiram aos anúncios de novas oportunidades da Apple e subiram no Apple Developer com curiosidade.  Surpreendentemente, tudo ficou muito mais claro do que o esperado.  Desde então, não apenas estamos envolvidos em tarefas de negócios, mas os negócios não têm mais medo da tecnologia: eles tentam ler as especificações em si, obtêm informações sobre os problemas, ajudam na análise e nos problemas de desenvolvimento.  Eles começaram a perceber que era inútil esperar um aumento claro do produto a cada duas semanas - afinal, existem sprints de serviço, dos quais não há crescimento concreto.  O entendimento mútuo chegou ao ponto em que concordamos em refatorar 20% do tempo de sprint. <br><br><h2>  A evolução das bicicletas </h2><br>  Com o crescimento do departamento de desenvolvimento, o preenchimento do aplicativo com novos recursos, o surgimento de várias equipes trabalhando simultaneamente em diferentes tarefas, novas nuances começaram a aparecer.  Algumas das subtarefas das equipes poderiam ser semelhantes e imediatamente houve o desejo de não reinventar a roda, mas antes de tudo esclarecer se alguém tinha um código pronto. <br><br>  Geralmente, não há reclamações sobre o código de nossos desenvolvedores, portanto ele pode ser usado repetidamente - e não apenas dentro da estrutura da metodologia usual de reutilização de código.  Provavelmente, já nesta fase de nossas cabeças surgiu a idéia de separar algumas coisas em bibliotecas separadas para o bem comum.  Porém, dentro da estrutura das tarefas existentes, não foi possível encontrar tempo para esses processos.  Precisava de algum motivo, e logo os negócios o lançaram para nós. <br><br><h2>  Extensão de gatilho </h2><br>  Havia uma tarefa de dar suporte à interface de voz - para que você possa efetuar pagamentos a outros clientes do banco via Siri via número de telefone.  Ele diz: "Transfere muito dinheiro para essa pessoa".  E se essa pessoa é cliente do Promsvyazbank, o cartão da pessoa aparece na tela, o valor da transferência, a pergunta "enviar dinheiro?"  e botão enviar.  Uma função semelhante já existe em alguns aplicativos bancários, mas queríamos fazê-lo para que, por um lado, fosse seguro e, por outro, o cliente não precisasse entrar no aplicativo bancário. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/909/38c/679/90938c67917f06470381723c8a07b86f.png"><br><br>  Trabalhar com o Siri envolve escrever uma extensão separada e, quando começamos a planejar, percebemos que era hora de desenvolver nossas próprias estruturas.  Em nosso projeto de aplicativo, uma camada de rede foi implementada e surgiu uma opção (na verdade não): escreva essa camada novamente ou coloque-a em um contêiner separado, disponível no aplicativo principal e em uma extensão separada. <br><br>  No processo, surgiu uma subtarefa de arquitetura para remover parte do código em estruturas separadas.  Havia quatro no total: <br><br><ul><li>  Camada de rede (meio) - aqui está todo o trabalho com a rede, classes de modelo, serviços de API.  Essa camada é gerada automaticamente. <br></li><li>  Entrar <br></li><li>  Utilitários - Utilitários e Ajudantes <br></li><li>  Armazenamento - Armazenamento Seguro <br></li></ul><br>  É claro que este não é o nosso know-how.  Portanto, é costume fazer em tais situações, essa é a melhor prática de todos os desenvolvedores que se prezam.  Mas é importante como chegamos a isso.  Foi nesse momento que <b>três sinais principais</b> se uniram para criar a estrutura: <br><br><ul><li>  Desenvolvemos uma base de código suficiente </li><li>  Os negócios começaram a entender nossas (ou seja, suas) necessidades arquitetônicas. </li><li>  Surgiu uma tarefa adequada </li></ul><br><br><h2>  Novos horizontes </h2><br>  Depois de perceber que tudo acabou sendo simples.  Na próxima reunião de desenvolvedores, discutimos os detalhes, escolhemos a <s>vítima da</s> pessoa responsável que estará envolvida na refatoração principal, alocamos tempo a ele - tempo integral para esta tarefa.  O resto dos desenvolvedores quase não afetou.  Mas quando começamos a colocar a camada de rede na estrutura, surgiram imediatamente idéias de que outras partes do código usadas com freqüência deveriam ser colocadas na biblioteca.  Nossas possibilidades arquitetônicas se expandiram subitamente.  Começamos a vida com um grau adicional de liberdade. <br><br>  Mas nós o usamos sem fanatismo.  Para decidir se codificará o código em um módulo separado ou não, examinamos os registros em atraso e determinamos se esse módulo será reutilizado em vários locais.  Caso contrário, não se preocupe. <br><br>  Vemos os benefícios de usar nossas estruturas?  Definitivamente sim.  Agora, vemos quais partes do código necessárias como parte da nova tarefa já estão no repositório.  O desenvolvimento de novos serviços é mais rápido, menos erros de programação, a qualidade dos serviços finais é maior. <br><br>  Se você precisar de novas extensões para iOS, já temos as estruturas necessárias, você pode experimentar imediatamente.  Quanto ao serviço já implementado com o Siri, ele está disponível para usuários bancários há mais de um mês - agora estamos coletando análises, inclusive para entender como e para o que mais usar a interface de voz. <br><br><h2>  Um pouco de futurologia </h2><br>  A história com a Siri nos fez pensar não apenas em estruturas, mas em interfaces em geral.  A humanidade ainda não aprendeu a medir a concentração da atenção, apenas de alguma maneira indiretamente.  Por exemplo, quanto pior o UX e a interface do usuário, maior o desperdício de atenção, mais o funil de conversão diminui a cada etapa.  Uma transferência de dinheiro regular por meio de um aplicativo bancário requer várias ações do usuário: abra o aplicativo, faça login, pesquise em uma lista e, na segunda, insira o destinatário.  Com o Siri, este é um desbloqueio mais um comando de voz.  A autorização ocorre em primeiro plano através do Face ID.  E em alguns cenários, você nem precisa trazer o telefone para você.  Por exemplo, quando você está dirigindo e o telefone está montado próximo, a câmera pode reconhecê-lo facilmente. <br><br>  Olhe ao seu redor: os assistentes de voz estão começando a conquistar ativamente o espaço circundante.  O hype em torno do alto-falante inteligente Yandex, as máquinas de lavar roupa que falam e entendem os pedidos, os controles remotos de TV que reconhecem a voz.  Quanto mais os usuários estiverem cercados por interfaces de voz, mais estarão prontos para se comunicar com os aplicativos bancários. <br><br>  As interfaces gráficas nessa situação perderão seu monopólio, dos principais meios de comunicação, elas simplesmente se transformarão em uma confirmação visual da ação, em uma maneira de sinalizar que o computador o entendeu corretamente. <br><br>  Para o desenvolvedor, essa mudança, em princípio, não é assustadora.  Com a arquitetura certa, o aplicativo pode ter qualquer número de interfaces: visual, voz, neuro.  O principal é usar abordagens que correspondam ao nível atual de maturidade da equipe. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt418363/">https://habr.com/ru/post/pt418363/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418353/index.html">Mapa mental em vez de um caso de teste ou Como a visualização permite testar o aplicativo mais rapidamente</a></li>
<li><a href="../pt418355/index.html">Classificando ... por uma tabela de hash (também por uma contagem de árvores e um HashMap)</a></li>
<li><a href="../pt418357/index.html">DEFCON 23. "Confissões de um cyberstalker profissional". Ken Westin</a></li>
<li><a href="../pt418359/index.html">Resumo da Fintech: identificação de cidadãos do supermercado financeiro, ex-funcionário da QIWI extraiu 2,4% de bitcoins, BRICS e blockchain</a></li>
<li><a href="../pt418361/index.html">Por que E na abreviação EHD é sobre processos de negócios</a></li>
<li><a href="../pt418365/index.html">Lento, mas verdadeiro: oceanos e oceanos ameaçam a infraestrutura global da Internet</a></li>
<li><a href="../pt418369/index.html">angular-ngrx-data - gerenciamento de estado e CRUD em cinco minutos</a></li>
<li><a href="../pt418371/index.html">Microtask para programadores e um método de pagamento alternativo para criptomoedas</a></li>
<li><a href="../pt418375/index.html">Visão geral da impressora fotográfica Uniz Slash + 3D</a></li>
<li><a href="../pt418377/index.html">Kotlin: duas colheres de alcatrão em um barril de mel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>