<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí£ üë®üèº‚Äçüî¨ üèóÔ∏è Approches de gestion des modules dans Angular (et pas seulement) ‚úãüèæ ü§≥ ü§¶üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comprendre l'organisation des entit√©s avec lesquelles vous travaillez n'est pas quelque chose qui est imm√©diatement obtenu par un d√©veloppeur √©crivant...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Approches de gestion des modules dans Angular (et pas seulement)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/467525/"><p>  Comprendre l'organisation des entit√©s avec lesquelles vous travaillez n'est pas quelque chose qui est imm√©diatement obtenu par un d√©veloppeur √©crivant ses premiers projets en Angular. </p><br><p>  Et l'un des probl√®mes que vous pouvez rencontrer est l'utilisation inefficace des modules Angular, en particulier le module d'application surcharg√©: ils ont cr√©√© un nouveau composant, l'ont jet√© dedans et le service y est all√© aussi.  Et tout semble √™tre super, tout fonctionne.  Cependant, avec le temps, un tel projet deviendra difficile √† maintenir et √† optimiser. </p><br><p>  Heureusement, Angular offre aux d√©veloppeurs la possibilit√© de cr√©er leurs propres modules, et les appelle √©galement modules de fonctionnalit√©s. </p><br><p><img src="https://habrastorage.org/webt/jx/0p/wy/jx0pwyxrs_--6c3ggmlpm_tjspo.png"><br></p><a name="habracut"></a><br><h3>  Modules de fonctionnalit√© de domaine </h3><br><p>  Le module d'application surcharg√© doit √™tre divis√©.  Par cons√©quent, la premi√®re chose √† faire est de s√©lectionner de gros morceaux dans l'application et de les placer dans des modules s√©par√©s. </p><br><p>  Une approche populaire consiste √† diviser l'application en modules de fonctionnalit√©s de domaine.  Ils sont con√ßus pour diviser l'interface en fonction d'une t√¢che cl√© (domaine) ex√©cut√©e par chaque partie.  Des exemples de modules de fonctionnalit√© de domaine incluent une page de modification de profil, une page de produit, etc.  Autrement dit, tout cela pourrait √™tre sous l'√©l√©ment de menu. </p><br><img src="https://habrastorage.org/webt/m9/ps/yr/m9psyrtvuncs-sjzlddw4ftrvoa.png" alt="image"><br><p>  <i>Toutes les annonces dans les cadres bleus, ainsi que le contenu des autres √©l√©ments de menu, m√©ritent leurs propres modules de fonctionnalit√© de domaine.</i> </p><br><p>  Les modules de fonctionnalit√© de domaine peuvent utiliser un nombre illimit√© de d√©clarables (composants, directives, canaux), mais ils exportent uniquement le composant qui repr√©sente l'interface utilisateur de ce module.  Les modules de fonctionnalit√© de domaine sont import√©s, g√©n√©ralement dans un module plus grand. </p><br><p>  Les modules de fonctionnalit√© de domaine ne d√©clarent g√©n√©ralement pas de services en eux-m√™mes.  Cependant, s'ils annoncent, la dur√©e de vie de ces services devrait √™tre limit√©e √† la dur√©e de vie du module.  Ceci peut √™tre r√©alis√© en utilisant des services de chargement paresseux ou de publicit√© dans le composant externe du module.  Ces m√©thodes seront discut√©es plus loin dans l'article. </p><br><h3>  Chargement paresseux </h3><br><p>  La division de l'application en modules de fonctionnalit√© de domaine vous permet d'utiliser le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chargement paresseux</a> .  Ainsi, vous pouvez supprimer du bundle d'origine ce dont l'utilisateur n'a pas besoin lors de la premi√®re ouverture de l'application: profil utilisateur, page produit, page photo, etc.  Tout cela peut √™tre charg√© √† la demande. </p><br><h2>  Services et injecteurs </h2><br><p>  L'application est divis√©e en gros morceaux - modules, et certains de ces modules sont charg√©s √† la demande.  Question: o√π les services mondiaux devraient-ils √™tre annonc√©s?  Et si nous voulions limiter la port√©e du service? </p><br><h3>  Injecteurs de modules charg√©s paresseusement </h3><br><p>  Contrairement aux √©l√©ments d√©clarables, dont l'existence doit √™tre d√©clar√©e dans chaque module o√π ils sont utilis√©s, les monotones de services d√©clar√©s une fois dans l'un des modules deviennent disponibles dans l'application. </p><br><p>  Il s'av√®re que les services peuvent √™tre d√©clar√©s dans n'importe quel module et ne vous inqui√©tez pas?  Pas vraiment comme √ßa. </p><br><p> Ce qui pr√©c√®de est vrai si l'application utilise uniquement un injecteur global, mais souvent tout est un peu plus int√©ressant.  Les modules charg√©s paresseusement ont leur propre injecteur (composants aussi, mais plus √† ce sujet plus tard).  Pourquoi les modules charg√©s paresseusement cr√©ent-ils m√™me leur propre injecteur?  La raison r√©side dans le fonctionnement de l'injection de d√©pendance dans Angular. </p><br><p>  L'injecteur peut √™tre r√©approvisionn√© avec de nouveaux fournisseurs jusqu'√† ce qu'il commence √† √™tre utilis√©.  D√®s que l'injecteur cr√©e le premier service, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il se ferme</a> pour ajouter de nouveaux fournisseurs. </p><br><p>  Lorsque l'application d√©marre, Angular configure d'abord l'injecteur racine, y fixant les fournisseurs qui ont √©t√© d√©clar√©s dans le module App et dans les modules import√©s dans celui-ci.  Cela va m√™me avant de cr√©er les premiers composants et avant de leur fournir des d√©pendances. </p><br><p>  Dans une situation o√π le module est charg√© paresseusement, l'injecteur global est configur√© depuis longtemps et est entr√© en service.  Le module charg√© n'a d'autre choix que de cr√©er son propre injecteur.  Cet injecteur sera un enfant de l'injecteur utilis√© dans le module qui a initi√© la charge.  Cela conduit √† un comportement familier aux d√©veloppeurs javascript dans la cha√Æne de prototype: si le service n'a pas √©t√© trouv√© dans l'injecteur d'un module charg√© paresseusement, le framework DI ira le chercher dans l'injecteur parent, etc. </p><br><p>  Ainsi, les modules charg√©s paresseusement vous permettent de d√©clarer des services qui ne seront disponibles que dans le cadre de ce module.  Les fournisseurs peuvent √©galement √™tre red√©finis, comme dans les prototypes javascript. </p><br><p>  En revenant aux modules de fonctionnalit√© de domaine, le comportement d√©crit est un moyen de limiter la dur√©e de vie des fournisseurs qui y sont annonc√©s. </p><br><h3>  Module de base </h3><br><p>  Alors, o√π les services mondiaux devraient-ils √™tre annonc√©s, tels que les services d'autorisation, les services API, les services aux utilisateurs, etc.?  La r√©ponse simple est dans le module App.  Cependant, afin de r√©tablir l'ordre dans le module App (c'est ce que nous faisons), vous devez d√©clarer les services globaux dans un module distinct, appel√© module Core, et l'importer UNIQUEMENT dans le module App.  Le r√©sultat sera le m√™me que si les services √©taient d√©clar√©s directement dans le module App. </p><br><p>  √Ä partir de la version 6, dans l'angulaire, il √©tait possible de d√©clarer des services globaux sans les importer n'importe o√π.  Tout ce que vous devez faire est d'ajouter l'option <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">providedIn</a> √† Injectable et de sp√©cifier la valeur 'root' dedans.  Les services ainsi d√©clar√©s deviennent disponibles pour l'ensemble de l'application, il n'est donc pas n√©cessaire de les d√©clarer dans le module. </p><br><p>  En plus du fait que cette approche se penche sur l'avenir brillant de l'angulaire sans modules, elle aide √©galement √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tronquer le</a> code inutile. </p><br><h3>  Test de singleton </h3><br><p>  Mais que faire si quelqu'un dans le projet souhaite importer le module Core ailleurs?  Est-il possible de s'en prot√©ger?  Tu peux. </p><br><p>  Ajoutez un constructeur au module Core qui vous demande d'y injecter le module Core (c'est vrai, vous-m√™me) et marquez cette annonce avec des d√©corateurs Facultatif et SkipSelf.  Si l'injecteur met une d√©pendance dans une variable, alors quelqu'un essaie de re-d√©clarer le module Core. </p><br><img src="https://habrastorage.org/webt/qi/km/vx/qikmvxtppfo3seu9znxegv65u-m.png" alt="Utilisation de l'approche dans BrowserModule"><br><p>  <i>Utilisation de l'approche d√©crite dans <a href="">BrowserModule</a> .</i> </p><br><p>  Cette approche peut √™tre utilis√©e avec des modules et des services. </p><br><h3>  Annonce de service dans le composant </h3><br><p>  Nous avons d√©j√† envisag√© un moyen de limiter la port√©e des fournisseurs utilisant le chargement diff√©r√©, mais en voici un autre. </p><br><p>  Chaque instance de composant a son propre injecteur, et pour le configurer, tout comme le d√©corateur NgModule, le d√©corateur de composant a la propri√©t√© provider.  Et aussi - une propri√©t√© suppl√©mentaire de viewProviders.  Les deux servent √† configurer les composants de l'injecteur, cependant, les fournisseurs d√©clar√©s dans chacune des m√©thodes ont des √©tendues diff√©rentes. </p><br><p>  Pour comprendre la diff√©rence, vous avez besoin d'un bref historique. </p><br><p>  Un composant se compose de la vue et du contenu. </p><br><img src="https://habrastorage.org/webt/zx/vk/ej/zxvkejffaddyote4fk8zcap0vhs.png" alt="Je tord des composants"><br><p>  <i>Afficher les composants</i> </p><br><img src="https://habrastorage.org/webt/ow/l5/yb/owl5ybbvwywc_rugpdfdqfvngzu.png" alt="I composants de contenu"><br><p>  <i>Composants de contenu</i> </p><br><p>  Tout ce qui se trouve dans le fichier html du composant est sa vue, tandis que ce qui est pass√© entre les balises d'ouverture et de fermeture du composant est son contenu. </p><br><p>  Le r√©sultat obtenu: </p><br><img src="https://habrastorage.org/webt/9r/qr/g6/9rqrg6dcgxxd85pzmjkqdrrqf98.png" alt="Le r√©sultat"><br><p>  <i>Le r√©sultat</i> </p><br><p>  Ainsi, les fournisseurs ajout√©s aux fournisseurs sont disponibles √† la fois dans la vue du composant dans lequel ils sont d√©clar√©s et pour le contenu qui est transmis au composant.  Alors que viewProviders, comme son nom l'indique, rend les services visibles uniquement pour les visualiser et les ferme au contenu. </p><br><p>  Malgr√© le fait qu'il est recommand√© de d√©clarer des services dans l'injecteur racine, il existe des sc√©narios lorsque l'utilisation du composant injecteur est √† port√©e de main: </p><br><p>  La premi√®re est lorsque chaque nouvelle instance de composant doit avoir sa propre instance de service.  Par exemple, un service qui stocke des donn√©es sp√©cifiques √† chaque nouvelle instance d'un composant. </p><br><p>  Pour un autre sc√©nario, nous devons nous rappeler que, bien que les modules de fonctionnalit√© de domaine puissent d√©clarer certains fournisseurs dont ils ont besoin uniquement, il est souhaitable que ces fournisseurs meurent avec ces modules.  Dans ce cas, nous d√©clarerons le fournisseur dans le composant le plus externe, celui qui est export√© depuis le module. </p><br><p>  Par exemple, le module de fonctionnalit√© de domaine qui est responsable du profil utilisateur.  Nous d√©clarerons le service n√©cessaire uniquement pour cette partie de l'application chez les fournisseurs du composant le plus externe, UserProfileComponent.  D√©sormais, tous les d√©clarables d√©clar√©s dans le balisage de ce composant, ainsi que pass√©s dans le contenu, recevront la m√™me instance de service. </p><br><h2>  Composants r√©utilisables </h2><br><p>  Que faire des composants que nous voulons r√©utiliser?  Il n'y a pas non plus de r√©ponse d√©finitive √† cette question, mais il existe des approches √©prouv√©es. </p><br><h3>  Module partag√© </h3><br><p>  Tous les composants utilis√©s dans le projet peuvent √™tre stock√©s dans un module, en les exportant et en les important dans les modules du projet o√π ces composants peuvent √™tre n√©cessaires. </p><br><p>  Dans un tel module, vous pouvez mettre les composants d'un bouton, une liste d√©roulante, un bloc de texte stylis√©, etc., ainsi que des directives et des tuyaux personnalis√©s. </p><br><p>  Un tel module est g√©n√©ralement appel√© SharedModule. </p><br><p>  Il est important de noter que SharedModule ne doit pas d√©clarer de services.  Ou d√©clarez utiliser l'approche forRoot.  Nous parlerons de lui un peu plus tard. </p><br><p>  Bien que l'approche SharedModules fonctionne, il y a quelques points: </p><br><ol><li>  Nous n'avons pas rendu la structure de l'application plus propre, nous avons simplement d√©plac√© le g√¢chis d'un endroit √† un autre; </li><li>  Cette approche ne se penche pas sur le brillant avenir d'Angular, dans lequel il n'y aura pas de modules. </li></ol><br><p>  Une approche qui est d√©pourvue de ces lacunes est et implique la cr√©ation d'un module pour chaque composant. </p><br><h3>  Module per Component ou SCAM (module angulaire √† un seul composant) </h3><br><p>  Lors de la cr√©ation d'un nouveau composant, vous devez le placer dans votre propre module.  Vous devez importer les d√©pendances de composants dans le m√™me module. </p><br><br><img src="https://habrastorage.org/webt/nb/zo/hu/nbzohudlhtmvlgdqjhlwknbwzhq.png" alt="image" align="right" width="300"><p>  Chaque fois qu'un certain composant est n√©cessaire √† n'importe quel endroit de l'application, il suffit d'importer le module de ce composant. </p><br><p>  En anglais, cette approche est appel√©e module par composant ou SCAM - module angulaire √† un seul composant.  Bien que le nom contienne le mot composant, cette approche s'applique √©galement aux canaux et directives (SPAM, SDAM). </p><br><p>  L'avantage le plus important de cette approche est probablement la facilitation des tests de composants.  √âtant donn√© que le module cr√©√© pour le composant l'exporte et contient d√©j√† toutes les d√©pendances dont il a besoin, pour configurer TestBed, placez simplement ce module dans les importations. </p><br><p>  Cette approche contribue √† l'ordre et √† la structure du code de projet, et nous pr√©pare √©galement √† l'avenir sans modules, o√π pour utiliser un composant dans la disposition d'un autre, il suffit de d√©clarer les d√©pendances dans la directive Component.  Vous pouvez regarder l'avenir un peu √† travers <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> . </p><br><h3>  ModuleWithProviders Interface </h3><br><p>  Si un projet contenant une d√©claration de services XYZ est d√©marr√© dans un projet, et il se trouve qu'au fil du temps ce module a commenc√© √† √™tre utilis√© partout, chaque importation de ce module tentera d'ajouter des services XYZ √† l'injecteur correspondant, ce qui entra√Ænera in√©vitablement des collisions.  Angular a un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ensemble de r√®gles</a> pour ce cas, qui peuvent ne pas correspondre √† ce que le d√©veloppeur attend.  Cela est particuli√®rement vrai pour le module charg√© paresseusement de l'injecteur. </p><br><p>  Pour √©viter les probl√®mes de collision, Angular fournit l'interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ModuleWithProviders</a> , qui vous permet d'attacher des fournisseurs au module, tout en laissant les fournisseurs du module lui-m√™me intacts.  Et c'est exactement ce qui est n√©cessaire dans le cas d√©crit ci-dessus. </p><br><h3>  Strat√©gies forRoot (), forChild () </h3><br><p>  Pour que les services soient fix√©s avec pr√©cision dans l'injecteur global, le module avec les fournisseurs n'est import√© que dans l'AppModule.  Du c√¥t√© du module import√©, il vous suffit de cr√©er une m√©thode statique qui renvoie ModuleWithProviders, qui a historiquement re√ßu le nom forRoot. </p><br><p><img src="https://habrastorage.org/webt/l7/zx/au/l7zxau0npn6irepv7eowgojmjvi.png" alt="image" width="300"><br></p><br><p>  Les m√©thodes qui renvoient ModuleWithProviders peuvent √™tre n'importe quel nombre et elles peuvent √™tre nomm√©es comme vous le souhaitez.  forRoot est une convention plus pratique qu'une exigence. </p><br><p>  Par exemple, RouterModule a une m√©thode <a href="">forChild</a> statique, qui est utilis√©e pour configurer le routage dans des modules charg√©s paresseusement. </p><br><h2>  Conclusion: </h2><br><ol><li>  S√©parez l'interface utilisateur par les t√¢ches cl√©s et cr√©ez votre propre module pour chaque partie s√©lectionn√©e: en plus d'une compr√©hension plus pratique de la structure du code du projet, obtenez l'opportunit√© de charger paresseusement des parties de l'interface </li><li>  Utilisez des injecteurs de modules et de composants charg√©s paresseusement si l'architecture de l'application l'exige </li><li>  Publiez des annonces de service globales dans un module distinct, le module Core, et importez-le uniquement dans le module d'application.  Cela vous aidera √† nettoyer le module d'application. </li><li>  Mieux, utilisez l'option providedIn avec la valeur racine du d√©corateur injectable. </li><li>  Utilisez le piratage avec les d√©corateurs facultatifs et SkipSelf pour emp√™cher la r√©importation de modules et de services </li><li>  Stockez les composants, les directives et les tuyaux r√©utilisables dans le module partag√© </li><li>  Cependant, la meilleure approche, qui regarde √©galement vers l'avenir et facilite les tests, est de cr√©er un module pour chaque composant (directives et tuyaux aussi) </li><li>  Utilisez l'interface ModuleWithProviders si vous souhaitez √©viter les conflits de fournisseur.  Une approche populaire consiste √† impl√©menter la m√©thode forRoot pour ajouter des fournisseurs au module racine </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr467525/">https://habr.com/ru/post/fr467525/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr467501/index.html">Impl√©mentation dans l'architecture des calculatrices programmables sovi√©tiques "Electronics MK-52"</a></li>
<li><a href="../fr467503/index.html">Nous acc√©l√©rons Google PageSpeed ‚Äã‚Äã√† 100 et plus</a></li>
<li><a href="../fr467511/index.html">AudioSwitcher - automatisation de ce qui ne semble pas n√©cessaire d'automatiser</a></li>
<li><a href="../fr467517/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 315 (du 9 au 15 septembre)</a></li>
<li><a href="../fr467523/index.html">Comment nous avons impl√©ment√© l'architecture RIBs. Signaler Yandex.Taxi</a></li>
<li><a href="../fr467529/index.html">CQM est un regard diff√©rent dans l'apprentissage en profondeur pour optimiser les recherches en langage naturel</a></li>
<li><a href="../fr467531/index.html">Machine √† √©tats r√©actifs</a></li>
<li><a href="../fr467533/index.html">√âcouter du bruit informationnel: de la musique et des vid√©os que personne n'aurait d√ª trouver</a></li>
<li><a href="../fr467539/index.html">Forum CA / B vot√© contre le raccourcissement des certificats SSL √† 397 jours</a></li>
<li><a href="../fr467543/index.html">Ssh-chat, partie 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>