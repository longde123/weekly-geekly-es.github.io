<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏗️ 🤾🏼 👨🏻‍🎓 Masalah Privasi Data Direktori Aktif 👩🏾‍🤝‍👨🏿 🙆🏼 👨🏻‍🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya melakukan pengujian penetrasi menggunakan PowerView dan menggunakannya untuk mengambil informasi pengguna dari Active Directory (selanjutnya dise...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Masalah Privasi Data Direktori Aktif</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/varonis/blog/479814/"><img src="https://habrastorage.org/webt/v0/e8/hf/v0e8hfhhlkc-riyxghgiqbcsk2o.jpeg"><br><br>  Saya melakukan pengujian penetrasi menggunakan <a href="https://www.varonis.com/blog/powerview-for-penetration-testing/">PowerView</a> dan menggunakannya untuk mengambil informasi pengguna dari Active Directory (selanjutnya disebut sebagai AD).  Pada waktu itu, saya fokus mengumpulkan informasi tentang keanggotaan dalam grup keamanan, dan kemudian menggunakan informasi ini untuk menavigasi jaringan.  Dalam kasus apa pun, AD berisi data rahasia tentang karyawan, beberapa di antaranya benar-benar tidak boleh diakses oleh semua orang di organisasi.  Bahkan, pada sistem file Windows ada <a href="https://www.varonis.com/blog/3-deadly-file-permissions-mistakes/">masalah Semua orang yang</a> setara, yang juga dapat dieksploitasi oleh penyerang internal dan eksternal. <br><br>  Tetapi sebelum kita berbicara tentang masalah privasi dan cara memperbaikinya, mari kita lihat data yang disimpan dalam AD. <br><a name="habracut"></a><br><h2>  <font color="#D21927">Direktori Aktif adalah Facebook Perusahaan</font> </h2><br>  Tetapi dalam hal ini, Anda sudah berteman dengan semua orang!  Anda mungkin tidak mencari tahu tentang film, buku, dan restoran favorit rekan kerja Anda, tetapi AD berisi kontak sensitif <br>  data dan bidang lain yang dapat digunakan oleh peretas dan bahkan orang dalam tanpa keterampilan teknis khusus. <br><br>  Administrator sistem, tentu saja, terbiasa dengan tangkapan layar di bawah ini.  Ini adalah antarmuka Pengguna dan Komputer Direktori Aktif (ADUC), di mana mereka menginstal dan mengedit informasi pengguna dan menetapkan pengguna ke grup yang sesuai. <br><br><img src="https://habrastorage.org/webt/tk/sk/8g/tksk8gyjhubwdglxgagnnawa0_0.jpeg"><br><br>  AD berisi bidang dengan nama karyawan, alamat dan nomor telepon, sehingga terlihat seperti direktori telepon.  Tetapi ada banyak lagi!  Tab lain juga memiliki alamat email dan alamat web, atasan langsung, dan catatan. <br><br>  Haruskah setiap orang di organisasi melihat informasi ini, terutama di era <a href="https://www.varonis.com/blog/we-know-about-your-companys-data-osint-lessons-for-c-levels/">OSINT</a> , ketika setiap bagian baru membuat mencari informasi tambahan lebih mudah? <br><br>  Tentu tidak!  Masalahnya diperburuk ketika data dari manajemen senior tersedia untuk semua karyawan. <br><br><h2>  <font color="#D21927">PowerView untuk semua orang</font> </h2><br>  Di sinilah PowerView berperan.  Ini menyediakan antarmuka PowerShell yang sangat nyaman untuk fungsi Win32 yang mendasarinya (dan membingungkan) yang mengakses AD.  Singkatnya: <br>  ini membuat mendapatkan bidang AD semudah memasukkan cmdlet yang sangat singkat. <br><br>  Mari kita ambil contoh pengumpulan informasi tentang karyawan Cruella Deville, yang merupakan salah satu pemimpin perusahaan.  Untuk melakukan ini, gunakan cmdlet PowerView get-NetUser: <br><br><img src="https://habrastorage.org/webt/q2/aa/4v/q2aa4vxypirpcl_qfkqnbmvz1o4.jpeg"><br><br>  Menginstal PowerView bukan masalah serius - lihat sendiri di halaman <a href="https://github.com/PowerShellMafia/PowerSploit/tree/master/Recon">github</a> .  Dan yang lebih penting, Anda tidak perlu hak tinggi untuk menjalankan banyak perintah PowerView, seperti get-NetUser.  Dengan demikian, karyawan yang termotivasi, tetapi tidak terlalu teknis dapat mulai mencari-cari di AD tanpa banyak usaha. <br><br>  Dari tangkapan layar di atas, dapat dilihat bahwa orang dalam dapat dengan cepat belajar banyak tentang Cruella.  Apakah Anda juga memperhatikan bahwa bidang "info" menampilkan informasi tentang kebiasaan dan kata sandi pribadi pengguna? <br><br>  Ini bukan probabilitas teoretis.  Dari <a href="https://info.varonis.com/recorded-webinar/basic-pen-testing-techniques-en">dialog dengan pentester lain,</a> saya mengetahui bahwa mereka memindai AD untuk mencari kata sandi dalam bentuk yang tidak dienkripsi, dan seringkali upaya ini, sayangnya, berhasil.  Mereka tahu bahwa perusahaan ceroboh tentang informasi dalam AD, dan biasanya mereka tidak tahu tentang topik berikutnya - izin dalam AD. <br><br><h2>  <font color="#D21927">Active Directory memiliki ACL sendiri</font> </h2><br>  Antarmuka Pengguna dan Komputer AD memungkinkan Anda untuk mengatur izin untuk objek AD.  Ada ACL dalam AD, dan administrator dapat menetapkan atau menolak akses melalui mereka.  Anda perlu mengklik "Advanced" di menu ADUC View, dan kemudian ketika Anda membuka pengguna, Anda akan melihat tab "Security" di mana Anda mengatur ACL. <br><br>  Dalam skrip Cruella saya, saya tidak ingin semua Pengguna yang Diotentikasi dapat melihat informasi pribadinya, jadi saya menolak mereka membaca akses: <br><br><img src="https://habrastorage.org/webt/oa/he/06/oahe06ch770xrz7u53d29ynru7m.jpeg"><br><br>  Dan sekarang pengguna biasa akan melihat ini jika mereka mencoba Get-NetUser di PowerView: <br><br><img src="https://habrastorage.org/webt/gi/qj/fq/giqjfq5cxwd5414qeqguygz2kma.jpeg"><br><br>  Saya berhasil menyembunyikan informasi yang berguna secara sadar dari mata yang mengintip.  Agar tetap dapat diakses oleh pengguna yang relevan, saya membuat ACL lain untuk memungkinkan anggota VIP (Cruella dan kolega tingkat tinggi lainnya) mengakses data sensitif ini.  Dengan kata lain, saya menerapkan izin AD berdasarkan model peran, yang membuat data sensitif tidak dapat diakses oleh sebagian besar karyawan, termasuk orang dalam. <br><br>  Namun, Anda dapat membuat keanggotaan grup tidak terlihat oleh pengguna dengan mengatur ACL yang sesuai untuk objek grup dalam AD.  Ini akan membantu dalam hal privasi dan keamanan. <br><br>  Dalam <a href="https://www.varonis.com/blog/powerview-for-penetration-testing/">seri pentest epik</a> saya <a href="https://www.varonis.com/blog/powerview-for-penetration-testing/">,</a> saya menunjukkan bagaimana Anda dapat menavigasi sistem dengan menjelajahi keanggotaan grup menggunakan PowerViews Get-NetGroupMember.  Dalam skenario saya, saya membatasi akses baca ke keanggotaan dalam grup tertentu.  Anda melihat hasil dari perintah sebelum dan sesudah perubahan: <br><br><img src="https://habrastorage.org/webt/13/wi/mq/13wimqvqgqq2gval5k-kq998bwa.jpeg"><br><br>  Saya berhasil menyembunyikan keanggotaan Cruella dan Monty Burns di grup VIP, yang mempersulit eksplorasi infrastruktur oleh peretas dan orang dalam. <br><br>  Posting ini dimaksudkan untuk memotivasi Anda untuk mempelajari bidang ini lebih dekat. <br>  AD dan izin terkait.  AD adalah sumber yang bagus, tetapi pikirkan bagaimana Anda melakukannya <br>  ingin berbagi informasi rahasia dan data pribadi, terutama <br>  ketika datang ke orang pertama dari organisasi Anda. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id479814/">https://habr.com/ru/post/id479814/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id479794/index.html">Kami menggabungkan mikrokontroler "anak-anak" dan permainan papan</a></li>
<li><a href="../id479796/index.html">Ancaman Tingkat Thanos Kingston</a></li>
<li><a href="../id479800/index.html">Saya menulis dalam C # sehingga front-end lebih mudah</a></li>
<li><a href="../id479802/index.html">C ++ vtables. Bagian 1 (dasar-dasar + beberapa Inheritance)</a></li>
<li><a href="../id479810/index.html">Bagaimana saya menerbitkan artikel sains di Nature</a></li>
<li><a href="../id479816/index.html">Combinatorics dengan Python</a></li>
<li><a href="../id479818/index.html">Cara menilai kecakapan berbahasa Inggris</a></li>
<li><a href="../id479820/index.html">Apa yang harus diletakkan di bawah pohon IT? Jam biner</a></li>
<li><a href="../id479822/index.html">Kucing dalam kotak, atau Struktur data ringkas</a></li>
<li><a href="../id479824/index.html">Atribut dan menangani protokol dengan Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>