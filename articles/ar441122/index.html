<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤴🏼 🧦 👨🏻‍💼 Magento 2 EAV: نظرة عامة على هياكل البيانات 👀 🧔 📠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="في هذا المنشور ، سأراجع هياكل بيانات Magento 2 التي تدعم مفهومًا مثل EAV . يحتاج المطورون في بعض الأحيان إلى الخروج من مجموعة التعليمات البرمجية ومحاو...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Magento 2 EAV: نظرة عامة على هياكل البيانات</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441122/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  في هذا المنشور ، سأراجع <em>هياكل بيانات</em> Magento 2 التي تدعم مفهومًا مثل <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">EAV</a> .  يحتاج المطورون في بعض الأحيان إلى الخروج من مجموعة التعليمات البرمجية ومحاولة مسح أماكن حياتهم من ذروة رحلة النسر - وهذا يتيح لك التركيز على أشياء مهمة حقًا أو كبيرة جدًا.  لذلك خرجت. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/9o/sf/oy/9osfoyepjgbk83twv5u4ral7f3u.jpeg" alt="الصورة"></p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl"> يتم الكشف عن اختصار EAV على أنه <em>كيان</em> - <em>سمة</em> - <em>قيمة</em> (هذا بالنسبة لأولئك الذين لم يتبعوا الرابط أعلاه).  تتمثل " <em>الميزة</em> " الرئيسية لـ EAV في الاستخدام الفعال لمساحة قاعدة البيانات في الحالات التي يكون فيها عدد الخصائص المختلفة (الخصائص ، المعلمات) التي يمكن استخدامها لوصف الأشياء (الكيانات) واسعًا للغاية ، ولكن عدد السمات ، الذي يشير فعليًا إلى كائن فردي صغير نسبيا.  مثال جيد على مثل هذه الحالة في التجارة الإلكترونية هو مفهوم "المنتج" - تختلف السمات المهمة للمنتجات " <em>TV</em> " (حجم الشاشة) عن السمات المهمة لمنتجات " <em>حقيبة النوم</em> " (درجة الحرارة المريحة الدنيا). </p><br><p style=";text-align:right;direction:rtl">  إذن ما الذي تقدمه Magento 2 لتخزين البيانات بتنسيق EAV؟ </p><br><h1 id="eav_-namespace" style=";text-align:right;direction:rtl">  مساحة الاسم "eav_" </h1><br><p style=";text-align:right;direction:rtl"> في قاعدة بيانات Magento 2.3 <code>eav_</code> ، هناك 21 جدولًا يحتوي على البادئة <code>eav_</code> .  يمكن تقسيمهم جميعًا إلى ثلاث مجموعات: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>eav_attribute</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_entity</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_form</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  أسهل طريقة هي استخدام <code>eav_form</code> - تتعلق هذه الجداول بعرض بعض بيانات EAV على واجهة المستخدم ولا تتعلق مباشرة بوضع بيانات EAV في قاعدة البيانات (أعتبر فقط بنيات البيانات وفقط من وجهة نظر تخزين المعلومات ، وليس عرضها).  للتجربة ، قمت بحذف <code>eav_form</code> الفضائية <code>eav_form</code> من قاعدة البيانات وهذا لم يمنعني من وضع طلب في المتجر.  لذلك لا تزال بحاجة إلى البحث عن مكان استخدام البيانات من مساحة الجدول هذه والمقدار المطلوب لتشغيل Magento. </p><br><p style=";text-align:right;direction:rtl">  من المجموعتين المتبقيتين ، تشير مجموعة <code>eav_attribute</code> إلى الحرف <em><strong>A</strong> (ttribute)</em> ، ومجموعة <code>eav_entity</code> إلى الحرف <em><strong>E</strong> (ntity)</em> .  أين هو الحرف <em><strong>الخامس</strong> (alue)</em> ؟ </p><br><p style=";text-align:right;direction:rtl">  يجب البحث عن قيم سمات الكيان في لاحقات اسم الجدول: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>_datetime</code> </li> <li style=";text-align:right;direction:rtl"> <code>_decimal</code> </li> <li style=";text-align:right;direction:rtl"> <code>_int</code> </li> <li style=";text-align:right;direction:rtl"> <code>_text</code> </li> <li style=";text-align:right;direction:rtl"> <code>_ varchar</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  يمكنك أن ترى تلك الجداول التي تبدأ بـ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>catalog_category_entity_</code> </li> <li style=";text-align:right;direction:rtl"> <code>catalog_product_entity_</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_address_entity_</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_entity_</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_entity_</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  الضرب البسيط لعدد اللواحق (5) بعدد البادئات (5) يعطينا إجمالي عدد الجداول (25) التي من المفترض تخزين بيانات <em>القيم</em> فيها. </p><br><h1 id="eav_entity_type-reestr-tipov-suschnostey" style=";text-align:right;direction:rtl">  'eav_entity_type': سجل نوع الكيان </h1><br><p style=";text-align:right;direction:rtl">  يجب العثور على بداية EAV في Magento في جدول <code>eav_entity_type</code> .  وهنا يحدد أنواع قيم سمات الكيانات التي سيتم تخزينها في بنية EAV.  لذلك ، في البداية يقدم Magento 2.3 هذا الخيار للكيانات الثمانية التالية: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>customer</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_address</code> </li> <li style=";text-align:right;direction:rtl"> <code>catalog_category</code> </li> <li style=";text-align:right;direction:rtl"> <code>catalog_product</code> </li> <li style=";text-align:right;direction:rtl"> <code>order</code> </li> <li style=";text-align:right;direction:rtl"> <code>invoice</code> </li> <li style=";text-align:right;direction:rtl"> <code>creditmemo</code> </li> <li style=";text-align:right;direction:rtl"> <code>shipment</code> </li> </ul><br><h1 id="eav_attribute-reestr-atributov" style=";text-align:right;direction:rtl">  'eav_attribute': سجل السمات </h1><br><p style=";text-align:right;direction:rtl">  والخطوة التالية هي معرفة السمات التي يمكن لهذه الأنواع من الكيانات وصفها.  هذه المعلومات موجودة في جدول <code>eav_attribute</code> .  يحتوي سجل السمات على إغلاق لسجل أنواع الكيانات حسب <em>المفتاح الخارجي</em> .  في سجل السمات ، في البداية 135 إدخالات تنتمي إلى 4 أنواع من الكيانات: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>customer</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_address</code> </li> <li style=";text-align:right;direction:rtl"> <code>catalog_category</code> </li> <li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> <code>catalog_product</code> </p> <br><p style=";text-align:right;direction:rtl">  عن ماذا يتحدث هذا؟  حسنًا ، على الأقل تلك الأنواع الأخرى من الكيانات: </p><br></li><li style=";text-align:right;direction:rtl"> <code>order</code> </li> <li style=";text-align:right;direction:rtl"> <code>invoice</code> </li> <li style=";text-align:right;direction:rtl"> <code>creditmemo</code> </li> <li style=";text-align:right;direction:rtl"> <code>shipment</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  لا تستخدم بنية EAV لتخزين البيانات.  هذا هو ، في مرحلة ما ، كان الحماس موجودًا وتم التخطيط لاستخدام EAV لثمانية أنواع من الكيانات ، لكنها في الواقع توقفت عند 4. </p><br><h1 id="eav_entity_-prostranstvo-prizrak" style=";text-align:right;direction:rtl">  'eav_entity_': مساحة الأشباح </h1><br><p style=";text-align:right;direction:rtl">  تشبه <code>eav_entity</code> الجدول <code>eav_entity</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مدن الأشباح</a> الصينية - من بين 9 طاولات فضائية ، يوجد في جدولين فقط بيانات: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>eav_entity_type</code> : هذا سجل لأنواع الكيانات التي ذكرتها أعلاه ؛ </li><li style=";text-align:right;direction:rtl">  <code>eav_entity_attribute</code> : يستخدم لتنظيم السمات في مجموعات (أقرب إلى عرض البيانات من تخزينها) ؛  تتعلق هذه المعلومات بشكل مباشر بالسمات نفسها أكثر من الكيانات (أي من الواضح أنها ليست من هذه الرعية - لها مكان في مساحة <code>eav_attribute_</code> ) ؛ </li></ul><br><p style=";text-align:right;direction:rtl">  الجداول 7 المتبقية فارغة: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>eav_entity</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_entity_datetime</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_entity_decimal</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_entity_int</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_entity_store</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_entity_text</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_entity_varchar</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  إنه مشابه جدًا لمحاولة توحيد طريقة تخزين القيم لسمات الكيان في مجموعة واحدة من الجداول ( <code>datetime</code> ، <code>decimal</code> ، <code>int</code> ، <code>text</code> ، <code>varchar</code> ) بدلاً من احتواء 5 جداول مع اللواحق المقابلة لكل نوع من الكيانات.  في محاولة فاشلة؟  أم هو مستقبل EAV في Magento؟ </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zm/vn/v_/zmvnv_wqjc3knpzxqmob8bv9p1m.jpeg" alt="الصورة"></p><br><p style=";text-align:right;direction:rtl">  على أي حال <del>  كانت الأرض عديمة الشكل وفارغة ، وكان الظلام فوق الهاوية ، وروح الله </del>  لا يتم استخدام هذه الجداول في البداية. </p><br><h1 id="tipy-znacheniy-atributov" style=";text-align:right;direction:rtl">  أنواع قيمة السمة </h1><br><p style=";text-align:right;direction:rtl">  يتم تعيين أنواع <code>eav_entity_type</code> في جدول <code>eav_attribute</code> ، <code>eav_attribute</code> تعيين السمات نفسها <code>eav_attribute</code> لأنواع الكيانات المقابلة في جدول <code>eav_attribute</code> .  وكيف يمكن تحديد مكان البحث عن قيمة هذه السمة لمثل هذا الكيان؟ </p><br><p style=";text-align:right;direction:rtl">  <code>eav_attribute.backend_type</code> الحقل <code>eav_attribute.backend_type</code> .  يوضح مكان تخزين قيم السمات: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>ثابت</em> : في الجدول الذي يحتوي على بيانات حول الكيان نفسه (على سبيل المثال ، قيم السمة رقم 9 - <code>customer.email</code> ، تحتاج إلى البحث في جدول customer_entity في عمود <code>email</code> ) ؛ </li></ul><br><p style=";text-align:right;direction:rtl">  بالنسبة للأنواع المتبقية ، يتم تخزين القيم في جداول منفصلة ، حيث تتوافق البادئة مع نوع الكيان ( <code>customer_</code> ، ...) واللاحقة لاحد أنواع البيانات: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>datetime</code> </li> <li style=";text-align:right;direction:rtl"> <code>decimal</code> </li> <li style=";text-align:right;direction:rtl"> <code>int</code> </li> <li style=";text-align:right;direction:rtl"> <code>text</code> </li> <li style=";text-align:right;direction:rtl"> <code>varchar</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  بمعنى ، يتم تخزين قيم السمة # 79 <code>catalog_product.special_from_date</code> نوع <code>datetime</code> في الجدول <code>catalog_product_entity_datetime</code> .  قيم السمة # 77 <code>catalog_product.price</code> موجودة في الجدول <code>catalog_product_entity_decimal</code> . </p><br><p style=";text-align:right;direction:rtl">  ما هو المثير للاهتمام في جدول <code>eav_attribute</code> فيما يتعلق بأنواع القيمة؟  كما أشرت أعلاه ، يصف هذا الجدول السمات الخاصة بـ 4 فقط من أنواع الكيانات الـ 8 المسجلة في <code>eav_entity_type</code> .  في الوقت نفسه ، بالنسبة إلى كيانات مثل <code>customer</code> و <code>customer_address</code> جميع السمات التي تم تعريفها في البداية هي من نوع القيمة <code>static</code> - أي أنها أعمدة عادية في الجدول ولا تستفيد من نهج EAV.  الجداول: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>customer_entity_datetime</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_entity_decimal</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_entity_int</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_entity_text</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_entity_varchar</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_address_entity_datetime</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_address_entity_decimal</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_address_entity_int</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_address_entity_text</code> </li> <li style=";text-align:right;direction:rtl"> <code>customer_address_entity_varchar</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  تكون فارغة في البداية ولا يمكن استخدامها إلا برمجيًا (على سبيل المثال ، من خلال لوحة المشرف ، بدون ملحقات الطرف الثالث ، لا توجد وسيلة لكتابة أي شيء على هذه الجداول). </p><br><h1 id="eav-dlya-kategoriy" style=";text-align:right;direction:rtl">  EAV للفئات </h1><br><p style=";text-align:right;direction:rtl">  فئات الكتالوج - هذا هو الكيان الأول الذي يستخدم أكثر أو أقل منهج EAV في Magento.  نوع الكيان هو <code>catalog_category</code> ، إجمالي السمات الأولية هو 30 ، منها غير ثابت - 26. أي ، يتم تخزين قيم 4 سمات فقط ( <code>children_count</code> ، <code>level</code> ، <code>path</code> ، <code>position</code> ) في الجدول <code>catalog_category_entity</code> ، يتم تخزين الباقي في <code>catalog_category_entity_</code> [ <code>datetime</code> |  <code>decimal</code> |  <code>int</code> |  <code>text</code> |  <code>varchar</code> ]. </p><br><p style=";text-align:right;direction:rtl">  بنية الجداول من هذه المجموعة متشابهة جدًا مع بعضها البعض وجداول مشابهة لأنواع أخرى من الكيانات (العملاء ، عناوينهم ، إلخ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`catalog_category_entity_datetime`</span></span> ( <span class="hljs-string"><span class="hljs-string">`value_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT, <span class="hljs-string"><span class="hljs-string">`attribute_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">smallint</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">`store_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">smallint</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">`entity_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">`value`</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`value_id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">UNIQUE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`...`</span></span> (<span class="hljs-string"><span class="hljs-string">`entity_id`</span></span>,<span class="hljs-string"><span class="hljs-string">`attribute_id`</span></span>,<span class="hljs-string"><span class="hljs-string">`store_id`</span></span>), ... ) ...</code> </pre> <br><p style=";text-align:right;direction:rtl">  بالنسبة لأنواع مختلفة من القيم المخزنة ( <code>datetime</code> ، <code>decimal</code> ، <code>int</code> ، <code>text</code> ، <code>varchar</code> ) ، يتغير نوع عمود <code>value</code> .  تتيح لك هذه البنية حفظ قيمة ( <code>value</code> ) منفصلة لسمة منفصلة ( <code>attribute_id</code> ) لكيان منفصل ( <code>entity_id</code> ) لواجهة <code>store_id</code> منفصلة ( <code>store_id</code> ). </p><br><p style=";text-align:right;direction:rtl">  فيما يتعلق بالسمات المعمارية لـ Magento ، تتم إضافة اتصال إضافي <code>store_id</code> - <code>store_id</code> .  وبالتالي ، فمن الممكن توطين قيم نفس السمة لنفس الكيان لواجهات المتاجر المختلفة.  فئات الكتالوج هي الكيانات الأولى في Magento التي يمكنك من خلالها استخدام نظام EAV الفرعي مباشرة من خارج الصندوق.  يمكنك تعيين قيم لسمات الدليل من خلال لوحة المسؤول. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/vb/p9/td/vbp9tdvffnhyi6go4orkfu2qn3k.png" alt="الصورة"></p><br><p style=";text-align:right;direction:rtl">  لا يمكنك فقط إعطاء قيم مختلفة لسمات النص ، والترجمة إلى لغة واجهة المتجر المقابلة ، ولكن يمكنك أيضًا ترجمة سمات الأنواع الأخرى.  على سبيل المثال ، تحسبًا لقضاء عطلة عيد الميلاد على واجهة متجر <em>ru</em> للحصول على السمة <code>catalog_category.custom_design_from</code> يمكنك تعيين القيم في 7 يناير من العام المقبل ، وعلى واجهة المتجر في 24 ديسمبر من هذا. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ff/qk/cy/ffqkcyk65dmr962wladmce96whu.jpeg" alt="الصورة"></p><br><h1 id="eav-dlya-produktov" style=";text-align:right;direction:rtl">  EAV للمنتجات </h1><br><p style=";text-align:right;direction:rtl">  بشكل عام ، هذا هو نفس نوع الكيان الذي تم إطلاق EAV له في Magento.  نوع الكيان هو <code>catalog_product</code> ، من إجمالي السمات الأولية - 63 ، منها غير ثابتة - 56. يشبه هيكل الجداول التي تدعم EAV للمنتجات هيكل بنية الجداول للكتالوجات.  ولكن هناك فرق كبير واحد.  بالنسبة للمنتجات ، يمكنك إنشاء سمات جديدة من خلال لوحة المسؤول - هذه هي وظيفة Magento الافتراضية خارج الصندوق.  إذا كانت Magento لا توفر سوى هياكل بيانات EAV للكيانات الأخرى بناءً على ملء البرامج الخاصة بها ، فبالنسبة للمنتجات ، يتم تنفيذ واجهة تتيح لك القيام بذلك على مستوى المستخدم (مدير المتجر) - <em>المتاجر / السمات / المنتج</em> . </p><br><p style=";text-align:right;direction:rtl">  بالنسبة للمنتجات ، هناك جدولان آخران يتعلقان بـ EAV: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>eav_attribute_set</code> </li> <li style=";text-align:right;direction:rtl"> <code>eav_attribute_group</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  بشكل عام ، من المرجح أن يعرضوا المعلومات بدلاً من تخزينها.  يتم دمج سمات المنتج في <code>set</code> ، وعند إنشاء منتج ، يتم تعيين مجموعة من السمات لها ، والتي تسمح بملء بطاقة المنتج ، على سبيل المثال ، للتلفزيون ، واختيار مجموعة من السمات المتعلقة بالأجهزة المنزلية (أو حتى بمجموعة من المنتجات تسمى "TVs").  يحدث دمج السمات في مجموعات في مجموعة <em>المتاجر / السمات / المنتج / مجموعة السمات</em> : </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lu/hb/tk/luhbtkj3c57oxnjulg9xy7d3foy.png" alt="الصورة"></p><br><h1 id="itogo" style=";text-align:right;direction:rtl">  المجموع </h1><br><p style=";text-align:right;direction:rtl">  IMHO ، Magento هو مثال جيد على حقيقة أن ملاءمة استخدام EAV ضيقة للغاية.  عند وضع إشارة مرجعية على استخدام EAV لـ 8 كيانات ( <code>eav_entity_type</code> ) ، يتم استخدام تدوين EAV فقط لـ 4 كيانات ( <code>eav_attribute</code> ) ، منها كيانان فقط لهما سمات EAV حقيقية - <code>catalog_category</code> و <code>catalog_product</code> .  علاوة على ذلك ، بالنسبة إلى <code>catalog_category</code> ، لا تُستخدم سمات EAV للغرض المقصود منها ( <em>عدد كبير من السمات المختلفة لوصف كيان مع عدد صغير من السمات المتعلقة بمثيل واحد</em> ) ، ولكن من أجل "توطين عرض" قيم السمات ( <em>نفس مجموعة من السمات لكيان "فئة الكتالوج" مع إمكانية وجود سمة مثيل لها معان مختلفة لواجهات متاجر مختلفة</em> ). </p><br><p style=";text-align:right;direction:rtl">  يستخدم الاستخدام الكامل لـ EAV فقط من أجل <code>catalog_product</code> (على الرغم من أن هناك أيضًا مزيج من "توطين واجهة المتجر" ، ولكن هذا امتداد لنموذج EAV ، وليس تدنيسًا ، كما هو الحال مع الفئات).  ولكن مع منتجات Magento تكشف EAV بالكامل - يمكن استخدام Magento للتطبيق بأمان لإظهار مبادئ EAV بوضوح. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar441122/">https://habr.com/ru/post/ar441122/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar441108/index.html">بالفعل ليس مفهوما: قدمت سامسونج هاتف Galaxy Fold القابل للطي بسعر 1980 دولار</a></li>
<li><a href="../ar441112/index.html">نحن ربط إذن LDAP ل Kubernetes</a></li>
<li><a href="../ar441114/index.html">البرمجة العلائقية: الألم والفائدة والألم مرة أخرى</a></li>
<li><a href="../ar441116/index.html">KubeSail ومجموعة Kubernetes المجانية للمطورين</a></li>
<li><a href="../ar441118/index.html">نتائج التجربة مع أسبوع عمل لمدة أربعة أيام للعاملين في المكاتب في نيوزيلندا</a></li>
<li><a href="../ar441124/index.html">ايجابيات كاذبة في PVS-Studio: كيف عمق حفرة الأرنب يذهب</a></li>
<li><a href="../ar441126/index.html">ايجابيات كاذبة في PVS-Studio: كيف عمق حفرة الأرنب</a></li>
<li><a href="../ar441128/index.html">الخيار الصحيح: دراسة عملية للقدرات الإدراكية للقرود الأنثروبويدية</a></li>
<li><a href="../ar441130/index.html">أداء موقع متوازن. الجزء 1: الاستراتيجية</a></li>
<li><a href="../ar441132/index.html">حتى أن Roskomnadzor لا يأتي فجأة</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>