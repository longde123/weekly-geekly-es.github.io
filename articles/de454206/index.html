<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🏫 🤹🏼 🗒️ PHDays 9: AI CTF-Analyse 🚼 ⚗️ 👨🏾‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das Thema Sicherheit beim maschinellen Lernen war in letzter Zeit ein ziemlicher Hype, und ich wollte seine praktische Seite ansprechen. Und dann ist ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PHDays 9: AI CTF-Analyse</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/454206/">  Das Thema Sicherheit beim maschinellen Lernen war in letzter Zeit ein ziemlicher Hype, und ich wollte seine praktische Seite ansprechen.  Und dann ist der coole Grund <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PHDays</a> , wo sich eine Vielzahl von Experten aus der Welt der Informationssicherheit versammeln und die Möglichkeit besteht, auf dieses Thema aufmerksam zu machen. <br><br>  Im Allgemeinen haben wir eine aufgabenbasierte CTF durchgeführt, deren Aufgaben einen Teil der Sicherheitsrisiken bei der Verwendung von Techniken des maschinellen Lernens betreffen. <br><br><img src="https://habrastorage.org/webt/fr/8j/4d/fr8j4diu3gmmkvnxf5qqxwosewo.png"><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Was ist CTF ???</b> <div class="spoiler_text"> Capture The Flag (CTF) ist ein sehr beliebter Wettbewerb für Computersicherheit (beliebt als Kaggle-Wettbewerb für Rechenzentren).  Es gibt zwei Formate: Aufgabe (Jeorpady) und Dienst (Angriffsabwehr).  Wir haben Aufgabe gemacht. <br><br>  Klassische Aufgabenwettbewerbe ähneln dem Format „Ihr Spiel“.  Wenn es eine Reihe von Aufgaben verschiedener Kategorien gibt, die unterschiedliche Kosten haben. <br><br>  Die traditionellen Kategorien in CTF sind: Web-Web-Schwachstellen, Reverse-Reverse-Engineering, Krypto-Kryptographie, Stegano-Steganographie, pwn-binäre Ausnutzung. <br><br>  Teams (von 1 bis n Personen) lösen Aufgaben und wer Aufgaben für eine größere Anzahl von Punkten löst, ist ein guter Kerl. <br></div></div><br>  Unser Wettbewerb dauerte etwas mehr als einen Tag.  Es wurde verstanden, dass es individuell ist - Teams von einer Person.  Ich wollte, dass die Leute an der Konferenz teilnehmen, um sich persönlich kennenzulernen.  Daher müssen die Aufgaben in ein paar Stunden gelöst werden, erfordern nicht viel Rechenressourcen, müssen aber auch schwierige Aufgaben sein - nicht alle müssen gewinnen: D. <br><br>  Als Ergebnis hatten wir 6 Aufgaben (die siebte hat einfach Spaß gemacht), es scheint, dass für eine Person ein Tag genug ist.  Die Aufgaben selbst sind leider nicht mehr verfügbar.  Aber vielleicht möchten Sie nach dem Lesen der Analyse das nächste Mal teilnehmen? <br><br><img src="https://habrastorage.org/webt/fi/gd/y3/figdy3kqntpoz2mhxnpv3xfgxa0.png"><br><br>  Ich möchte den Jungs, ohne die diese CTF nicht <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">stattgefunden</a> hätte, meinen tiefen Dank <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aussprechen</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@groke</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@mostobriv</a> .  Die coolsten Ideen, technischen Lösungen und eine Bereitstellungsparty in der Nacht vor dem Start - was könnte schöner sein, wenn es sich in einem großartigen Unternehmen befindet ?!  :) :) <br><br><h1>  Stegano: Aww - 100 </h1><br><img src="https://habrastorage.org/webt/pd/ui/j3/pduij3j0i_tkfnjculfbufynurk.png" width="400"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">tiny.cc/6fj06y</a> <br><br>  Dan Datensatz aus 3 391 Bildern von Katzen und Hunden. <br><br><img src="https://habrastorage.org/webt/as/5j/gb/as5jgbejjo1mql9qreqwppc9jze.png"><br><br>  Die Quest wurde als "Stegano" markiert.  Bei gesteppten Jobs werden einige Informationen ausgeblendet.  Es schien leicht zu erraten, dass Katzen und Hunde etwas Binäres sind.  Nach einigem Nachdenken können wir annehmen, dass diese Abfolge von Katzen und Hunden eine Art binäre Nachricht sein kann.  Angenommen, die Siegel sind 1 und die Hunde - 0. Wenn es plötzlich nicht mehr funktioniert, können Sie sie einfach austauschen.  Als nächstes finden wir ein trainiertes Modell, das Katzen und Hunde klassifiziert.  Es gibt viele Beispiele für Lektionen zur Klassifizierung von Katzen und Hunden sowie trainierte Modelle nach ihnen - Sie können trainierte Modelle auf dem Github finden.  Wir nehmen ein geschultes Modell, in extremen Fällen trainieren wir uns.  Wir sagen jedes Bild als 0 oder 1 voraus. Und diese Folge von „Bytes“ wird in eine Zeichenfolge übersetzt. <br><br><div class="spoiler">  <b class="spoiler_title">Die Lösung des Autors finden Sie hier</b> <div class="spoiler_text"><div class="oembed"><script type="text/javascript" src="https://gist.github.com/b9b825352be2cbc8baedcf6fb1365b89.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-13f839f7454b3a5b3bfbfd6d1e34ec9d.css"><div id="gist96437864" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-aww_solver-py" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-aww_solver-py-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-aww_solver-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">time</span> </td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-aww_solver-py-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">sys</span></td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-aww_solver-py-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">os</span></td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-aww_solver-py-LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-aww_solver-py-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s1">numpy</span> <span class="pl-k">as</span> <span class="pl-s1">np</span></td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-aww_solver-py-LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-aww_solver-py-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">keras</span>.<span class="pl-s1">models</span> <span class="pl-k">import</span> <span class="pl-s1">load_model</span></td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-aww_solver-py-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-k">from</span> <span class="pl-s1">keras</span>.<span class="pl-s1">preprocessing</span> <span class="pl-k">import</span> <span class="pl-s1">image</span></td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-aww_solver-py-LC9" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-aww_solver-py-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">data_path</span> <span class="pl-c1">=</span> <span class="pl-s">"../data/"</span></td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-aww_solver-py-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">picture_path</span> <span class="pl-c1">=</span> <span class="pl-s1">data_path</span> <span class="pl-c1">+</span> <span class="pl-s">"{}.jpg"</span></td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-aww_solver-py-LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-aww_solver-py-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-v">CLASSES</span> <span class="pl-c1">=</span> [<span class="pl-c1">1</span>, <span class="pl-c1">0</span>]</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-aww_solver-py-LC14" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-aww_solver-py-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-k">def</span> <span class="pl-en">run</span>(<span class="pl-s1">model_path</span>):</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-aww_solver-py-LC16" class="blob-code blob-code-inner js-file-line">	<span class="pl-s1">pictures_names</span> <span class="pl-c1">=</span> <span class="pl-s1">os</span>.<span class="pl-en">listdir</span>(<span class="pl-s1">data_path</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-aww_solver-py-LC17" class="blob-code blob-code-inner js-file-line">	<span class="pl-s1">pic_num</span> <span class="pl-c1">=</span> <span class="pl-en">len</span>(<span class="pl-s1">pictures_names</span>)	</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-aww_solver-py-LC18" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-aww_solver-py-LC19" class="blob-code blob-code-inner js-file-line">	<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-en">load_model</span>(<span class="pl-s1">model_path</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-aww_solver-py-LC20" class="blob-code blob-code-inner js-file-line">		</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-aww_solver-py-LC21" class="blob-code blob-code-inner js-file-line">	<span class="pl-s1">res</span> <span class="pl-c1">=</span> []</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-aww_solver-py-LC22" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span> <span class="pl-s1">pic</span> <span class="pl-c1">in</span> <span class="pl-en">range</span>(<span class="pl-s1">pic_num</span>):</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-aww_solver-py-LC23" class="blob-code blob-code-inner js-file-line">		<span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-s1">image</span>.<span class="pl-en">load_img</span>(<span class="pl-s1">picture_path</span>.<span class="pl-en">format</span>(<span class="pl-s1">pic</span>), <span class="pl-s1">target_size</span><span class="pl-c1">=</span>(<span class="pl-c1">224</span>,<span class="pl-c1">224</span>))</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-aww_solver-py-LC24" class="blob-code blob-code-inner js-file-line">		<span class="pl-s1">x</span> <span class="pl-c1">=</span> <span class="pl-s1">image</span>.<span class="pl-en">img_to_array</span>(<span class="pl-s1">img</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-aww_solver-py-LC25" class="blob-code blob-code-inner js-file-line">		<span class="pl-s1">x</span> <span class="pl-c1">=</span> <span class="pl-s1">np</span>.<span class="pl-en">expand_dims</span>(<span class="pl-s1">x</span>, <span class="pl-s1">axis</span><span class="pl-c1">=</span><span class="pl-c1">0</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-aww_solver-py-LC26" class="blob-code blob-code-inner js-file-line">		<span class="pl-s1">preds</span> <span class="pl-c1">=</span> <span class="pl-s1">model</span>.<span class="pl-en">predict</span>(<span class="pl-s1">x</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-aww_solver-py-LC27" class="blob-code blob-code-inner js-file-line">		</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-aww_solver-py-LC28" class="blob-code blob-code-inner js-file-line">		<span class="pl-s1">y_classes</span> <span class="pl-c1">=</span> <span class="pl-s1">preds</span>.<span class="pl-en">argmax</span>(<span class="pl-s1">axis</span><span class="pl-c1">=</span><span class="pl-c1">-</span><span class="pl-c1">1</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-aww_solver-py-LC29" class="blob-code blob-code-inner js-file-line">		<span class="pl-s1">res</span>.<span class="pl-en">append</span>(<span class="pl-v">CLASSES</span>[<span class="pl-s1">y_classes</span>[<span class="pl-c1">0</span>]])</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-aww_solver-py-LC30" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-aww_solver-py-LC31" class="blob-code blob-code-inner js-file-line">	<span class="pl-s1">res</span> <span class="pl-c1">=</span> <span class="pl-s">''</span>.<span class="pl-en">join</span>(<span class="pl-en">map</span>(<span class="pl-s1">str</span>, <span class="pl-s1">res</span>))</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-aww_solver-py-LC32" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-aww_solver-py-LC33" class="blob-code blob-code-inner js-file-line">	<span class="pl-s1">n</span> <span class="pl-c1">=</span> <span class="pl-en">int</span>(<span class="pl-s">"0b"</span> <span class="pl-c1">+</span> <span class="pl-s1">res</span>, <span class="pl-c1">2</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-aww_solver-py-LC34" class="blob-code blob-code-inner js-file-line">	<span class="pl-s1">text</span> <span class="pl-c1">=</span> <span class="pl-s1">n</span>.<span class="pl-en">to_bytes</span>((<span class="pl-s1">n</span>.<span class="pl-en">bit_length</span>() <span class="pl-c1">+</span> <span class="pl-c1">7</span>) <span class="pl-c1">//</span> <span class="pl-c1">8</span>, <span class="pl-s">'big'</span>).<span class="pl-en">decode</span>()</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-aww_solver-py-LC35" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-aww_solver-py-LC36" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">print</span>(<span class="pl-s1">text</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-aww_solver-py-LC37" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-aww_solver-py-LC38" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-aww_solver-py-LC39" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span> <span class="pl-s1">__name__</span> <span class="pl-c1">==</span> <span class="pl-s">'__main__'</span>:</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-aww_solver-py-LC40" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span> <span class="pl-en">len</span>(<span class="pl-s1">sys</span>.<span class="pl-s1">argv</span>) <span class="pl-c1">&lt;</span> <span class="pl-c1">2</span>:</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-aww_solver-py-LC41" class="blob-code blob-code-inner js-file-line">		<span class="pl-en">print</span>(<span class="pl-s">"path to the model expected"</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-aww_solver-py-LC42" class="blob-code blob-code-inner js-file-line">		<span class="pl-en">exit</span>(<span class="pl-c1">1</span>)</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-aww_solver-py-LC43" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-aww_solver-py-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-aww_solver-py-LC44" class="blob-code blob-code-inner js-file-line">	<span class="pl-en">run</span>(<span class="pl-s1">sys</span>.<span class="pl-s1">argv</span>[<span class="pl-c1">1</span>]) </td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">aww_solver.py</a>
        hosted with ❤ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br></div></div><br>  Wir erhalten den Text, der das Flag "AICTF {533m5_y0u_und3r574nd_4n1m4l5}" enthält. <br><br>  Aus irgendeinem Grund versuchten jedoch mehrere Teilnehmer zu unterschiedlichen Zeiten, eine seltsame Flagge mit dem Wort „Adoptiert“ zu übergeben.  Wir wissen nicht, woher sie es haben, wenn die Teilnehmer plötzlich erklären, wird es cool: D. <br><br><h1>  Anmerkungen </h1><br><img src="https://habrastorage.org/webt/ah/kw/ag/ahkwag86u5v5cqk6rxc_v8xblfw.png" width="400"><br><br>  Der Dienst war eine Art „Blog“, in dem jeder Benutzer öffentliche und private Einträge hinterlassen konnte.  Da die Funktionalität klein war, war es nicht schwer zu erraten, dass Sie irgendwie eine private Aufzeichnung benötigen. <br><br>  Es gab tatsächlich nur ein Eingabefeld - die Datensatz-ID. <br>  Was zu tun ist? <br><br>  Das erste, was einem Sicherheitsbeamten in den Sinn kommt, ist, SQL-Injektionen auszuprobieren.  Es wird jedoch gesagt, dass der Dienst durch KI geschützt ist.  Und ich konnte keine einfache SQL-Injektion senden.  Der Dienst reagierte auf einen solchen Angriff mit "Hacking-Versuch!"  Viele versuchten es wie eine Flagge zu passieren, dachten aber wirklich, dass alles so einfach ist? <br><br>  Unter der Haube des Tests befand sich ein LSTM-Netzwerk, das die ID auf SQL-Injektion analysierte.  Die Eingabe in das LSTM muss jedoch eine feste Länge haben.  Der Einfachheit halber haben wir es auf 20 Zeichen begrenzt.  Das heißt, die Logik war folgende: Wir nehmen die Anfrage an, wenn sie mehr als 20 Zeichen umfasst - wir schneiden sie ab und überprüfen den Rest, wenn weniger, dann addieren wir 0. <br><br>  Daher funktionierte eine einfache SQL-Injektion daher nicht sofort. <br>  Es bestand jedoch die Möglichkeit, einen Vektor zu finden, den das Netzwerk nicht sehen und für eine gute Anfrage verwenden würde. <br><br><h1>  Neuer Edge QR Reader </h1><br><img src="https://habrastorage.org/webt/q2/th/um/q2thumpfbquscedzdlpk1cf5ptk.png" width="400"><br><br>  Es war notwendig, den QR-Code zu erkennen: <br><br><img src="https://habrastorage.org/webt/lo/wx/gq/lowxgqpsyes69_u_m_szxbuc0aq.png" width="300"><br><br>  Dateien zur Aufgabe finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> <br><br>  Es wurden mehrere verschlüsselte Dateien angegeben.  Unter ihnen befand sich eine Pyc-Datei. Durch Umkehren war es offensichtlich, dass es eine Funktion gab, anhand deren Code verstanden werden konnte, dass alle erforderlichen Dateien auf dem Schlüssel AES-verschlüsselt waren, der vom Bytecode dieser Funktion und einer anderen darin empfangen wurde. <br><br>  Es gab zwei mögliche Lösungen: Analysieren Sie die pyc-Datei und holen Sie sich die Implementierung der Funktionen, oder erstellen Sie Ihr eigenes Hashlib-Proxy-Modul, das sein Argument ausgibt und ausführt. Sie könnten einen Schlüssel erhalten, dann die Dateien entschlüsseln und den QR-Reader ausführen, der das vorgeschlagene Bild als Flag erkennt. <br><br><div class="spoiler">  <b class="spoiler_title">Eine detaillierte Entscheidung des Teilnehmers, der den 3. Platz belegt hat, finden Sie hier:</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/thubusercontent.com/view/ipynb?commit=457381fcdb8c20ae9fdd7f3f7bdb2f68ebd23db4&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f676973742f6b6f6e6f6479756b2f63363034383436653864636538383733393731333136373036333239636539352f7261772f343537333831666364623863323061653966646437663366376264623266363865626432336462342f41494354465f4e65775f456467655f51525f5265616465722e6970796e62&amp;nwo=konodyuk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br><h1>  Vorhersage Herausforderung </h1><br><img src="https://habrastorage.org/webt/tz/e6/ts/tze6tseaccvcsl5vejw7ydaf1uq.png" width="400"><br><br>  Der Service war eine Art Wettbewerb wie bei Kaggle.  Es war möglich, Modelle zu registrieren, herunterzuladen und Modelle hochzuladen, sie wurden an privaten Daten getestet und das Ergebnis wurde auf einem Scorboard aufgezeichnet. <br><br>  Und das Ziel scheint offensichtlich - eine Genauigkeit von 1,0 zu erreichen. <br><br>  War es schwierig  Unmöglich: D. <br><br>  Die Daten wurden zufällig generiert und es wurde natürlich impliziert, dass diese Genauigkeit auf andere Weise erreicht werden musste.  Der Dienst akzeptierte Modelle im .pickle-Format.  Und es scheint, dass jeder es bereits weiß, aber es stellt sich heraus, dass nicht jeder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RCE</a> durch Gurke bekommen kann, aber was könnte schlimmer sein? <br><br><div class="spoiler">  <b class="spoiler_title">Nikitas Entscheidung (konodyuk)</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/thubusercontent.com/view/ipynb?commit=3a19022c94a2e5119219c752e360405240260e04&amp;enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f676973742f6b6f6e6f6479756b2f32323663626263636166386666613165353362346630353832323162656136302f7261772f336131393032326339346132653531313932313963373532653336303430353234303236306530342f41494354465f50726564696374696f6e5f4368616c6c656e67652e6970796e62&amp;nwo=konodyuk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  Eigentlich musste das gemacht werden!  Nach dem Fernzugriff auf den Server war es möglich, die Daten, auf denen die Lösung getestet wurde, herunterzuladen, das Modell neu zu trainieren und die Genauigkeit 1.0 und damit das Flag zu erhalten. <br><br><h1>  Fotogramm </h1><br><img src="https://habrastorage.org/webt/xo/pz/os/xopzosoyjcpwvl4eopndieyd--u.png" width="400"><br><br>  Wie der Name schon sagt, macht der Dienst etwas mit Bildern. <br>  Eine beeindruckende Anwendungsoberfläche schlug vor, ein Foto hochzuladen. <br><br><img src="https://habrastorage.org/webt/li/ey/gx/lieygxshmr1ecyldaceexqg8ty0.jpeg"><br><br>  Als Antwort wurde Ihnen ein Bild mit einem geänderten Stil und einem Wettbewerbslogo gesendet. <br><br><img src="https://habrastorage.org/webt/-p/ui/sg/-puisg2vdp89dkyujlk4jwr1dko.png"><br><br>  Wo ist die Flagge hier? <br><br>  Es scheint durchaus üblich zu sein, bei CTF auf alltägliche Schwachstellen zu stoßen - diesmal war es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Image Tragick</a> .  Allerdings haben nur wenige erraten oder nicht jeder, der es versucht hat, wurde ausgenutzt. <br><br><h1>  New Age Antivirus </h1><br>  Diese Aufgabe erwies sich als eine Kirsche auf dem Kuchen und ein ungelöstes Problem.  Obwohl sich nach einem Gespräch mit den Teilnehmern herausstellte, dass sie der Antwort sehr nahe waren. <br><br><img src="https://habrastorage.org/webt/ym/mn/b4/ymmnb4-hqjzawewcod6exshjje4.png" width="400"><br><br>  Dateien für Aufgaben können hier angezeigt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werden</a> <br><br>  Das System empfängt Python-Bytecode und wird zu Hause ausgeführt.  Aber natürlich tut sie es nicht nur, weil es eine "KI" gibt.  Er überprüft die Version von Python und lässt das "Falsche" nicht zu.  Wenn der Code den Test bestanden hat, wurde er auf dem Server gestartet. Dies bedeutet, dass Sie viele Informationen erhalten können. <br><br>  Der vom Interpreter angegebene Bytecode könnte in Bits verwässert werden, und das überprüfte neuronale Netzwerk würde fehlen (es war auch LSTM), oder Sie könnten am Ende eine Menge Müll hinzufügen. <br><br>  Wenn Sie wissen, wie Python-Code ausgeführt wird, war es außerdem möglich, die Binärdatei "flag_reader" auf dem Server zu erkennen, die vom Stamm aus gestartet wurde.  Die Binärdatei hatte eine Sicherheitsanfälligkeit bezüglich Formatzeichenfolgen, durch die das Flag gelesen werden konnte. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Lösung von Nikita (konodyuk) finden Sie auch hier.</a> <br><br><h1>  Zusammenfassung </h1><br>  Am Ende des Wettbewerbs waren 130 registriert, 14 haben mindestens eine Flagge bestanden und 5 von 6 Aufgaben wurden gelöst - das heißt, wir haben es geschafft, die komplexen und einfachen Aufgaben in Einklang zu bringen. <br>  In Anbetracht der Tatsache, dass wir die Informationen nicht wie zum ersten Mal sehr verbreitet haben und nicht für eine schwere Last bereit wären, halten wir den überaus erfolgreichen Wettbewerb dennoch für erfolgreich. <br><br>  <b>Gewonnene Preise:</b> <br><br><ul><li>  1. Platz - still </li><li>  2. Platz - Kurmur </li><li>  3. Platz - konodyuk </li></ul><br>  Die Gewinner wurden am Ende des zweiten Tages der PHDays mit Ehrungen und coolen Preisen ausgezeichnet: AWS DeepLens, Coral Dev Board und ein Rucksack mit einem Konferenzlogo. <br><br>  Die Jungs, die normalerweise klassisches CTF spielen und jetzt gerne maschinell lernen, haben unseren Wettbewerb bewertet. Wir hoffen, dass beim nächsten Mal Rechenzentren hinzukommen, die sich für Sicherheit interessieren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de454206/">https://habr.com/ru/post/de454206/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de454188/index.html">Alternative Rekrutierungskanäle</a></li>
<li><a href="../de454190/index.html">Was Sie nicht tun müssen, wenn Ihr Telefon gestohlen wird</a></li>
<li><a href="../de454196/index.html">3D-Druck von Elektronik am Beispiel einer Drohne: Drähte und Platinen werden nicht mehr benötigt</a></li>
<li><a href="../de454198/index.html">Erstellen eines Gradle SpringBoot + Angular-Projekts mit mehreren Modulen in IDEA</a></li>
<li><a href="../de454204/index.html">Verhaltens-Crawlen ist kein Allheilmittel?</a></li>
<li><a href="../de454208/index.html">RISC-V von Grund auf neu</a></li>
<li><a href="../de454210/index.html">Vergessene Verzauberungen + neues 1C-Bitrix = Spiel zur Kundenmotivation</a></li>
<li><a href="../de454214/index.html">Ich hasse fast alle Software</a></li>
<li><a href="../de454216/index.html">Es wurden Beweise dafür gefunden, dass alle Änderungen eine Mischung aus Ordnung und Zufall sind</a></li>
<li><a href="../de454220/index.html">Zweistelliges Thermometer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>