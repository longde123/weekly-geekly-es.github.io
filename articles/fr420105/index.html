<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🎓 🕓 🔹 Adaptabilité maximale avec un nombre minimum de requêtes multimédias ou méthode d'adaptabilité inverse 🐜 🌍 ☣️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="" Chaque problème a toujours une solution - simple, pratique et bien sûr erroné ." - Henry Louis Mencken. 
 L'essence du problème 
 À première vue, la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Adaptabilité maximale avec un nombre minimum de requêtes multimédias ou méthode d'adaptabilité inverse</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420105/"><blockquote>  " <i>Chaque problème a toujours une solution - simple, pratique et bien sûr erroné</i> ."  - Henry Louis Mencken. </blockquote><br><h2>  L'essence du problème </h2><br>  À première vue, la mise en œuvre de la mise en page adaptative peut sembler une «quête linéaire» avec un champ de manœuvre assez restreint. <br><br>  Nous attribuons les classes nécessaires, modifions les tailles, la position ou l'ordre des éléments selon les besoins, et le problème semble être réglé. <br><br>  Mais de temps en temps, en analysant la mise en page dans des projets entièrement terminés, vous vous surprenez involontairement à penser qu'en théorie, tout semble beaucoup mieux que dans la pratique.  Au début, css semble aussi soigné et logique que possible, mais plus il l'est, plus il démarre souvent, en particulier après plusieurs modifications avec de grands intervalles de temps. <br><br>  Face à des solutions de conception inhabituelles, les requêtes multimédias deviennent «plus épaisses», des points d'arrêt non standard apparaissent, et lors de la modification des détails de conception, apporter des modifications à la mise en page devient un travail assez difficile. <br><br>  Toute correction du client ou du concepteur, et le code CSS doivent être modifiés dans toutes les requêtes multimédias (surtout si c'est le CSS de quelqu'un d'autre et qu'ils sont dispersés dans le code à différents endroits avec une séquence illogique). <br><br>  Ce qui conduit souvent à une situation où vous ne maîtrisez pas tout à fait la situation et où vous êtes tentés de recourir à des méthodes "dures", telles que la directive! Important ou l'imbrication.  Le code devient encore moins personnalisable et quelque part sur des milliers de lignes apparaissent des lignes qui ne sont plus nécessaires et ne ralentissent que (quoique légèrement) le navigateur. <br><a name="habracut"></a><br><h2>  Solution </h2><br><h3>  Partie 1. Relativité absolue </h3><br>  L'idée principale et la plus importante de cet article est que moins nous écrivons de code CSS, plus il est facile de le contrôler. <br><br>  L'essence de la méthode de l'adaptabilité inverse est de rendre chaque élément aussi adaptatif que possible, puis de réduire progressivement sa capacité à s'adapter à la taille de l'écran. <br><br>  Donc, la principale étape vers cela est l'utilisation d'unités de mesure absolues: px, em, rem uniquement dans les requêtes média (à de rares exceptions près). <br><br>  En dehors des requêtes multimédias, nous ferons mieux d'utiliser uniquement les unités de mesure de la fenêtre relative: vw, vh, vmax et pourcentage%. <br><br>  Nous mesurerons les balises racine des blocs et du texte dans les unités de la fenêtre, tandis que pour les enfants, il est plus pratique de considérer la taille en pourcentage du parent. <br><br>  Cela semble logique - permet aux éléments de s'adapter indépendamment à la taille de l'écran, sans écraser les paramètres de chaque point d'arrêt. <br><br>  Chaque fois, le travail doit commencer par la préparation, quelle que soit la taille du projet. <br>  La première chose que nous ferons est de mesurer notre disposition d'échantillon et de noter toutes les dimensions dont nous avons besoin. <br><br><img src="https://habrastorage.org/webt/eu/9x/ms/eu9xmserputeowpkl50dt3hxdtc.jpeg" alt="image"><br><br>  1920 est la largeur principale de notre aménagement, toutes les autres dimensions horizontales en dépendent. <br>  930 est la hauteur principale de notre mise en page (la hauteur estimée de la zone de page visible en même temps sur l'écran), toutes les tailles verticales en dépendent. <br>  1400 est la largeur du conteneur dans lequel le contenu entier de la page sera emballé. <br>  Ensuite, nous créons les classes principales pour le conteneur et le texte, comme suit: <br>  (Largeur / largeur calculée de la mise en page) * 100, c'est-à-dire  dans notre cas <br>  (1400/1920) * 100 = 72,9 <br>  Le résultat, comme prévu ci-dessus, est écrit en unités de fenêtre, à savoir, largeur de vue: <br><br><pre><code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.container</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">72.91vw</span></span>; }</code> </pre> <br>  Nous ferons de même pour le texte, à l'exception qu'au lieu de vw, nous utilisons vmax - pour utiliser la taille d'écran maximale et non la largeur. <br>  (55/1920) * 100 = 2,86 <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.page__title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">2.86vmax</span></span>; }</code> </pre> <br>  De plus, pour les éléments qui ont la même hauteur et la même largeur (éléments carrés et ronds), vous devez également utiliser des unités vmax pour conserver les proportions.  Ensuite, vous pouvez commencer à composer et à esquisser la grille. <br><br>  Pour les blocs qui doivent être définis en hauteur, nous utilisons la même formule de recalcul dans la fenêtre, mais maintenant au lieu de la largeur, nous serons basés sur la hauteur de l'écran et ajouterons vh (hauteur de vue) au résultat.  De plus, nous appliquerons vh aux retraits supérieurs et inférieurs. <br>  (300/1920) * 100 = 15,62; <br>  (60/1920) * 100 = 3,12; <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">15.62vmax</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">15.62vmax</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">3.12vh</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-right</span></span>: <span class="hljs-number"><span class="hljs-number">3.12vw</span></span>; }</code> </pre> <br>  Et la largeur des blocs imbriqués, comme je l'ai dit plus tôt, nous calculerons en pourcentage en utilisant flex-based. <br><br><img src="https://habrastorage.org/webt/xq/cl/l-/xqcll-dt4815w0zd34o4vz0_hbu.jpeg" alt="image"><br><br>  (970/1920) * 100 = 50,52; <br>  (16/1920) * 100 = 0,83; <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">50.52vw</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.main-menu__item</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">flex-basis</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">calc</span></span>(100% / 4 - 0.83vw); }</code> </pre> <br><h3>  Partie 2. Adaptabilité inverse </h3><br>  Les blocs se comportent de manière aussi adaptative que possible, mais ils sont trop adaptatifs: <br>  le texte devient illisible sur les petits écrans et les blocs sont prêts à s'effiler à l'infini, sur n'importe quel écran. <br><br>  Il est maintenant temps d'adapter en arrière. <br><br>  À l'aide de requêtes multimédias, nous remplaçons les unités relatives par des unités absolues. <br>  Em pour la taille de la police; <br>  Px pour la hauteur du bloc; <br><br>  Pour la largeur du conteneur et de certains blocs, nous continuerons à utiliser des unités relatives, mais changez-les en%: <br><br><pre> <code class="hljs css">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (max-width: <span class="hljs-number"><span class="hljs-number">767px</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.page__title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">4em</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.main__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.some__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; } .... }</code> </pre> <br>  Ainsi, avec une seule demande de média, nous avons changé les unités de port de vue en absolu, arrêtant ainsi partiellement le processus d'adaptation. <br>  Un avantage important - maintenant, en raison des unités de mesure relatives, la disposition sera la même sur l'écran du portable et sur l'écran d'un immense écran plasma. <br><br><h3>  Partie 3. Commodité et une pincée de programmation </h3><br>  Malgré la polyvalence de cette méthode, nous continuons à faire beaucoup de travail «en coulisses», à savoir utiliser la calculatrice à l'infini pour traduire les pixels dans les unités de la fenêtre «manuellement».  Pour automatiser ce processus, nous devons suivre quelques étapes simples à l'aide de Scss: <br><br>  1. Écrivez les dimensions principales dans les variables <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$full</span></span><span class="hljs-literal"><span class="hljs-literal">-width</span></span>: <span class="hljs-number"><span class="hljs-number">1920</span></span>; <span class="hljs-variable"><span class="hljs-variable">$work</span></span><span class="hljs-literal"><span class="hljs-literal">-width</span></span>: <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-variable"><span class="hljs-variable">$screen</span></span><span class="hljs-literal"><span class="hljs-literal">-height</span></span>: <span class="hljs-number"><span class="hljs-number">720</span></span>;</code> </pre> <br>  2. Écrivez une fonction pour recalculer automatiquement les pixels dans la fenêtre <br><br><pre> <code class="hljs powershell">@<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vmax</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$pixels</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$context:</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$full</span></span></span></span><span class="hljs-function"><span class="hljs-params">-width)</span></span></span></span> { @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-comment"><span class="hljs-comment">#{($pixels/$context)* 100}vmax }</span></span></code> </pre> <br>  et deux similaires pour vw et vh. <br><br>  Maintenant, nous pouvons écrire en toute sécurité toutes les tailles sous la forme dans laquelle elles sont indiquées dans l'exemple de mise en page et ne pas considérer cela «manuellement»: <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vmax</span></span>(300); <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vmax</span></span>(300); <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vh</span></span>(60); <span class="hljs-attribute"><span class="hljs-attribute">margin-right</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vw</span></span>(60); }</code> </pre> <br>  Ainsi, nous économisons du temps et des efforts. <br><br>  Ci-dessus dans les requêtes multimédias, nous avons utilisé des unités em pour indiquer les tailles de police, <br>  il serait donc bien d'écrire une fonction pour eux aussi, pour observer la clarté et l'ordre: <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$browser</span></span><span class="hljs-literal"><span class="hljs-literal">-context</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>; @<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">em</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$pixels</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$context:</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$browser</span></span></span></span><span class="hljs-function"><span class="hljs-params">-context)</span></span></span></span> { @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-comment"><span class="hljs-comment">#{$pixels/$context}em }</span></span></code> </pre> <br>  Je pense qu'il est tout à fait évident que ces fonctions seront écrites une seule fois et qu'elles pourront alors "passer" d'un projet à un autre, avec les variables créées, ainsi que certaines classes en fonction. <br><br>  La seule chose que vous aurez à faire lorsque vous commencerez à travailler sur un nouveau projet est à nouveau de "prendre la mesure" de la mise en page et de remplacer les valeurs de ces variables. <br><br><h3>  Conclusion </h3><br><ul><li>  Nous obtenons un minimum de code inutile dispersé à différentes extrémités et fichiers. </li><li>  Nous augmentons notre contrôle sur elle. </li><li>  Nous accélérons le processus d'écriture et d'édition du code. </li><li>  Simplifiez-vous la vie, comme le montre la pratique - moins de code = moins de problèmes. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr420105/">https://habr.com/ru/post/fr420105/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr420095/index.html">Cryptographie asymétrique avec une clé secrète à usage unique: description de l'idée et application possible</a></li>
<li><a href="../fr420097/index.html">Semaine de la sécurité 30: cinq paragraphes sur Black Hat</a></li>
<li><a href="../fr420099/index.html">Création d'un client léger basé sur des PC à carte unique bon marché</a></li>
<li><a href="../fr420101/index.html">9 ans de développement encapsulé - comment l'équipe de projet travaille dans une entreprise de 2500 personnes</a></li>
<li><a href="../fr420103/index.html">Les meilleurs anglophones avec HighLoad ++ 2017</a></li>
<li><a href="../fr420107/index.html">Typegram - Zen Blog Platform</a></li>
<li><a href="../fr420109/index.html">Elon Musk a déclaré que la société pourrait être vendue à des investisseurs privés. Ils se sont avérés être un fonds saoudien</a></li>
<li><a href="../fr420111/index.html">De zéro à héros «Actions sur Google»: votre code</a></li>
<li><a href="../fr420113/index.html">La légende du cadre du pouvoir</a></li>
<li><a href="../fr420115/index.html">UE4 | Équipement pour multijoueur # 4 | Création et connexion d'un conteneur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>