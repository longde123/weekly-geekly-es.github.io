<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ½â€ğŸ“ ğŸ•“ ğŸ”¹ AdaptabilitÃ© maximale avec un nombre minimum de requÃªtes multimÃ©dias ou mÃ©thode d'adaptabilitÃ© inverse ğŸœ ğŸŒ â˜£ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="" Chaque problÃ¨me a toujours une solution - simple, pratique et bien sÃ»r erronÃ© ." - Henry Louis Mencken. 
 L'essence du problÃ¨me 
 Ã€ premiÃ¨re vue, la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AdaptabilitÃ© maximale avec un nombre minimum de requÃªtes multimÃ©dias ou mÃ©thode d'adaptabilitÃ© inverse</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420105/"><blockquote>  " <i>Chaque problÃ¨me a toujours une solution - simple, pratique et bien sÃ»r erronÃ©</i> ."  - Henry Louis Mencken. </blockquote><br><h2>  L'essence du problÃ¨me </h2><br>  Ã€ premiÃ¨re vue, la mise en Å“uvre de la mise en page adaptative peut sembler une Â«quÃªte linÃ©aireÂ» avec un champ de manÅ“uvre assez restreint. <br><br>  Nous attribuons les classes nÃ©cessaires, modifions les tailles, la position ou l'ordre des Ã©lÃ©ments selon les besoins, et le problÃ¨me semble Ãªtre rÃ©glÃ©. <br><br>  Mais de temps en temps, en analysant la mise en page dans des projets entiÃ¨rement terminÃ©s, vous vous surprenez involontairement Ã  penser qu'en thÃ©orie, tout semble beaucoup mieux que dans la pratique.  Au dÃ©but, css semble aussi soignÃ© et logique que possible, mais plus il l'est, plus il dÃ©marre souvent, en particulier aprÃ¨s plusieurs modifications avec de grands intervalles de temps. <br><br>  Face Ã  des solutions de conception inhabituelles, les requÃªtes multimÃ©dias deviennent Â«plus Ã©paissesÂ», des points d'arrÃªt non standard apparaissent, et lors de la modification des dÃ©tails de conception, apporter des modifications Ã  la mise en page devient un travail assez difficile. <br><br>  Toute correction du client ou du concepteur, et le code CSS doivent Ãªtre modifiÃ©s dans toutes les requÃªtes multimÃ©dias (surtout si c'est le CSS de quelqu'un d'autre et qu'ils sont dispersÃ©s dans le code Ã  diffÃ©rents endroits avec une sÃ©quence illogique). <br><br>  Ce qui conduit souvent Ã  une situation oÃ¹ vous ne maÃ®trisez pas tout Ã  fait la situation et oÃ¹ vous Ãªtes tentÃ©s de recourir Ã  des mÃ©thodes "dures", telles que la directive! Important ou l'imbrication.  Le code devient encore moins personnalisable et quelque part sur des milliers de lignes apparaissent des lignes qui ne sont plus nÃ©cessaires et ne ralentissent que (quoique lÃ©gÃ¨rement) le navigateur. <br><a name="habracut"></a><br><h2>  Solution </h2><br><h3>  Partie 1. RelativitÃ© absolue </h3><br>  L'idÃ©e principale et la plus importante de cet article est que moins nous Ã©crivons de code CSS, plus il est facile de le contrÃ´ler. <br><br>  L'essence de la mÃ©thode de l'adaptabilitÃ© inverse est de rendre chaque Ã©lÃ©ment aussi adaptatif que possible, puis de rÃ©duire progressivement sa capacitÃ© Ã  s'adapter Ã  la taille de l'Ã©cran. <br><br>  Donc, la principale Ã©tape vers cela est l'utilisation d'unitÃ©s de mesure absolues: px, em, rem uniquement dans les requÃªtes mÃ©dia (Ã  de rares exceptions prÃ¨s). <br><br>  En dehors des requÃªtes multimÃ©dias, nous ferons mieux d'utiliser uniquement les unitÃ©s de mesure de la fenÃªtre relative: vw, vh, vmax et pourcentage%. <br><br>  Nous mesurerons les balises racine des blocs et du texte dans les unitÃ©s de la fenÃªtre, tandis que pour les enfants, il est plus pratique de considÃ©rer la taille en pourcentage du parent. <br><br>  Cela semble logique - permet aux Ã©lÃ©ments de s'adapter indÃ©pendamment Ã  la taille de l'Ã©cran, sans Ã©craser les paramÃ¨tres de chaque point d'arrÃªt. <br><br>  Chaque fois, le travail doit commencer par la prÃ©paration, quelle que soit la taille du projet. <br>  La premiÃ¨re chose que nous ferons est de mesurer notre disposition d'Ã©chantillon et de noter toutes les dimensions dont nous avons besoin. <br><br><img src="https://habrastorage.org/webt/eu/9x/ms/eu9xmserputeowpkl50dt3hxdtc.jpeg" alt="image"><br><br>  1920 est la largeur principale de notre amÃ©nagement, toutes les autres dimensions horizontales en dÃ©pendent. <br>  930 est la hauteur principale de notre mise en page (la hauteur estimÃ©e de la zone de page visible en mÃªme temps sur l'Ã©cran), toutes les tailles verticales en dÃ©pendent. <br>  1400 est la largeur du conteneur dans lequel le contenu entier de la page sera emballÃ©. <br>  Ensuite, nous crÃ©ons les classes principales pour le conteneur et le texte, comme suit: <br>  (Largeur / largeur calculÃ©e de la mise en page) * 100, c'est-Ã -dire  dans notre cas <br>  (1400/1920) * 100 = 72,9 <br>  Le rÃ©sultat, comme prÃ©vu ci-dessus, est Ã©crit en unitÃ©s de fenÃªtre, Ã  savoir, largeur de vue: <br><br><pre><code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.container</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">72.91vw</span></span>; }</code> </pre> <br>  Nous ferons de mÃªme pour le texte, Ã  l'exception qu'au lieu de vw, nous utilisons vmax - pour utiliser la taille d'Ã©cran maximale et non la largeur. <br>  (55/1920) * 100 = 2,86 <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.page__title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">2.86vmax</span></span>; }</code> </pre> <br>  De plus, pour les Ã©lÃ©ments qui ont la mÃªme hauteur et la mÃªme largeur (Ã©lÃ©ments carrÃ©s et ronds), vous devez Ã©galement utiliser des unitÃ©s vmax pour conserver les proportions.  Ensuite, vous pouvez commencer Ã  composer et Ã  esquisser la grille. <br><br>  Pour les blocs qui doivent Ãªtre dÃ©finis en hauteur, nous utilisons la mÃªme formule de recalcul dans la fenÃªtre, mais maintenant au lieu de la largeur, nous serons basÃ©s sur la hauteur de l'Ã©cran et ajouterons vh (hauteur de vue) au rÃ©sultat.  De plus, nous appliquerons vh aux retraits supÃ©rieurs et infÃ©rieurs. <br>  (300/1920) * 100 = 15,62; <br>  (60/1920) * 100 = 3,12; <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">15.62vmax</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">15.62vmax</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">3.12vh</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-right</span></span>: <span class="hljs-number"><span class="hljs-number">3.12vw</span></span>; }</code> </pre> <br>  Et la largeur des blocs imbriquÃ©s, comme je l'ai dit plus tÃ´t, nous calculerons en pourcentage en utilisant flex-based. <br><br><img src="https://habrastorage.org/webt/xq/cl/l-/xqcll-dt4815w0zd34o4vz0_hbu.jpeg" alt="image"><br><br>  (970/1920) * 100 = 50,52; <br>  (16/1920) * 100 = 0,83; <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">50.52vw</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.main-menu__item</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">flex-basis</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">calc</span></span>(100% / 4 - 0.83vw); }</code> </pre> <br><h3>  Partie 2. AdaptabilitÃ© inverse </h3><br>  Les blocs se comportent de maniÃ¨re aussi adaptative que possible, mais ils sont trop adaptatifs: <br>  le texte devient illisible sur les petits Ã©crans et les blocs sont prÃªts Ã  s'effiler Ã  l'infini, sur n'importe quel Ã©cran. <br><br>  Il est maintenant temps d'adapter en arriÃ¨re. <br><br>  Ã€ l'aide de requÃªtes multimÃ©dias, nous remplaÃ§ons les unitÃ©s relatives par des unitÃ©s absolues. <br>  Em pour la taille de la police; <br>  Px pour la hauteur du bloc; <br><br>  Pour la largeur du conteneur et de certains blocs, nous continuerons Ã  utiliser des unitÃ©s relatives, mais changez-les en%: <br><br><pre> <code class="hljs css">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (max-width: <span class="hljs-number"><span class="hljs-number">767px</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.page__title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">4em</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.main__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.some__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; } .... }</code> </pre> <br>  Ainsi, avec une seule demande de mÃ©dia, nous avons changÃ© les unitÃ©s de port de vue en absolu, arrÃªtant ainsi partiellement le processus d'adaptation. <br>  Un avantage important - maintenant, en raison des unitÃ©s de mesure relatives, la disposition sera la mÃªme sur l'Ã©cran du portable et sur l'Ã©cran d'un immense Ã©cran plasma. <br><br><h3>  Partie 3. CommoditÃ© et une pincÃ©e de programmation </h3><br>  MalgrÃ© la polyvalence de cette mÃ©thode, nous continuons Ã  faire beaucoup de travail Â«en coulissesÂ», Ã  savoir utiliser la calculatrice Ã  l'infini pour traduire les pixels dans les unitÃ©s de la fenÃªtre Â«manuellementÂ».  Pour automatiser ce processus, nous devons suivre quelques Ã©tapes simples Ã  l'aide de Scss: <br><br>  1. Ã‰crivez les dimensions principales dans les variables <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$full</span></span><span class="hljs-literal"><span class="hljs-literal">-width</span></span>: <span class="hljs-number"><span class="hljs-number">1920</span></span>; <span class="hljs-variable"><span class="hljs-variable">$work</span></span><span class="hljs-literal"><span class="hljs-literal">-width</span></span>: <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-variable"><span class="hljs-variable">$screen</span></span><span class="hljs-literal"><span class="hljs-literal">-height</span></span>: <span class="hljs-number"><span class="hljs-number">720</span></span>;</code> </pre> <br>  2. Ã‰crivez une fonction pour recalculer automatiquement les pixels dans la fenÃªtre <br><br><pre> <code class="hljs powershell">@<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vmax</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$pixels</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$context:</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$full</span></span></span></span><span class="hljs-function"><span class="hljs-params">-width)</span></span></span></span> { @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-comment"><span class="hljs-comment">#{($pixels/$context)* 100}vmax }</span></span></code> </pre> <br>  et deux similaires pour vw et vh. <br><br>  Maintenant, nous pouvons Ã©crire en toute sÃ©curitÃ© toutes les tailles sous la forme dans laquelle elles sont indiquÃ©es dans l'exemple de mise en page et ne pas considÃ©rer cela Â«manuellementÂ»: <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vmax</span></span>(300); <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vmax</span></span>(300); <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vh</span></span>(60); <span class="hljs-attribute"><span class="hljs-attribute">margin-right</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vw</span></span>(60); }</code> </pre> <br>  Ainsi, nous Ã©conomisons du temps et des efforts. <br><br>  Ci-dessus dans les requÃªtes multimÃ©dias, nous avons utilisÃ© des unitÃ©s em pour indiquer les tailles de police, <br>  il serait donc bien d'Ã©crire une fonction pour eux aussi, pour observer la clartÃ© et l'ordre: <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$browser</span></span><span class="hljs-literal"><span class="hljs-literal">-context</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>; @<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">em</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$pixels</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$context:</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$browser</span></span></span></span><span class="hljs-function"><span class="hljs-params">-context)</span></span></span></span> { @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-comment"><span class="hljs-comment">#{$pixels/$context}em }</span></span></code> </pre> <br>  Je pense qu'il est tout Ã  fait Ã©vident que ces fonctions seront Ã©crites une seule fois et qu'elles pourront alors "passer" d'un projet Ã  un autre, avec les variables crÃ©Ã©es, ainsi que certaines classes en fonction. <br><br>  La seule chose que vous aurez Ã  faire lorsque vous commencerez Ã  travailler sur un nouveau projet est Ã  nouveau de "prendre la mesure" de la mise en page et de remplacer les valeurs de ces variables. <br><br><h3>  Conclusion </h3><br><ul><li>  Nous obtenons un minimum de code inutile dispersÃ© Ã  diffÃ©rentes extrÃ©mitÃ©s et fichiers. </li><li>  Nous augmentons notre contrÃ´le sur elle. </li><li>  Nous accÃ©lÃ©rons le processus d'Ã©criture et d'Ã©dition du code. </li><li>  Simplifiez-vous la vie, comme le montre la pratique - moins de code = moins de problÃ¨mes. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr420105/">https://habr.com/ru/post/fr420105/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr420095/index.html">Cryptographie asymÃ©trique avec une clÃ© secrÃ¨te Ã  usage unique: description de l'idÃ©e et application possible</a></li>
<li><a href="../fr420097/index.html">Semaine de la sÃ©curitÃ© 30: cinq paragraphes sur Black Hat</a></li>
<li><a href="../fr420099/index.html">CrÃ©ation d'un client lÃ©ger basÃ© sur des PC Ã  carte unique bon marchÃ©</a></li>
<li><a href="../fr420101/index.html">9 ans de dÃ©veloppement encapsulÃ© - comment l'Ã©quipe de projet travaille dans une entreprise de 2500 personnes</a></li>
<li><a href="../fr420103/index.html">Les meilleurs anglophones avec HighLoad ++ 2017</a></li>
<li><a href="../fr420107/index.html">Typegram - Zen Blog Platform</a></li>
<li><a href="../fr420109/index.html">Elon Musk a dÃ©clarÃ© que la sociÃ©tÃ© pourrait Ãªtre vendue Ã  des investisseurs privÃ©s. Ils se sont avÃ©rÃ©s Ãªtre un fonds saoudien</a></li>
<li><a href="../fr420111/index.html">De zÃ©ro Ã  hÃ©ros Â«Actions sur GoogleÂ»: votre code</a></li>
<li><a href="../fr420113/index.html">La lÃ©gende du cadre du pouvoir</a></li>
<li><a href="../fr420115/index.html">UE4 | Ã‰quipement pour multijoueur # 4 | CrÃ©ation et connexion d'un conteneur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>