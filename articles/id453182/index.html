<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧙🏽 🏕️ 🎙️ Seluruh dunia di saku Anda atau cara membuat kartu seluler dalam beberapa hari 👩🏿‍🎤 🚣🏼 👨🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam artikel sebelumnya, saya berbicara tentang cara cepat membuat dialer-web. Tetapi bagaimana jika Anda menetapkan tugas yang lebih ambisius - untu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Seluruh dunia di saku Anda atau cara membuat kartu seluler dalam beberapa hari</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/453182/"><img src="https://habrastorage.org/webt/a7/rk/wq/a7rkwqzwhfuc8lhtdpm1egxuwmm.jpeg"><br><p><br>  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel sebelumnya,</a> saya berbicara tentang cara cepat membuat dialer-web.  Tetapi bagaimana jika Anda menetapkan tugas yang lebih ambisius - untuk merakit aplikasi Anda sendiri dengan kartu, tanpa iklan dan dengan blackjack?  Dan jika hanya dalam beberapa hari? </p><br><p>  Ayo lakukan!  Saya minta kucing. </p><a name="habracut"></a><br><p>  Pertama, mari kita cari tahu apa yang harus kita lakukan.  Pada output, kami ingin mendapatkan aplikasi dengan data referensi dan peta.  Dan untuk bekerja secara offline.  Sebagai pengembang, saya hanya tertarik pada peta saja, karena kami sudah tahu cara menunjukkan data referensi.  Dan offline adalah batasan yang cukup kuat dalam hal ini, karena tidak banyak perpustakaan yang baik dengan dukungan offline.  Oleh karena itu, dalam artikel ini kita akan berkonsentrasi pada peta, tetapi mari kita bicara tentang panduan ini secara sepintas. </p><br><h2 id="vybiraem-dvizhok-karty">  Pilih mesin peta </h2><br><p>  Hal pertama yang harus dilakukan adalah mendapatkan data untuk aplikasi tersebut.  Ada banyak sumber di pasaran, gratis dan tidak terlalu.  Sebagai permulaan, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OpenStreetMap</a> sangat cocok untuk kita sebagai sumber terbuka data peta.  Di sana Anda dapat mengambil sejumlah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">POI</a> untuk direktori kami. </p><br><p>  Langkah selanjutnya adalah memilih mesin kartu.  Di Internet, ada beberapa dari mereka, bahkan lebih sedikit yang gratis, dan dengan dukungan offline umumnya hanya ada beberapa.  Saya sarankan menggunakan opsi yang cukup keren - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mapsforge / vtm</a> .  Ini adalah mesin OpenGL vektor, sangat cepat, mendukung offline, Android, iOS, berbagai sumber data, gaya khusus, overlay, spidol, model objek 3D bahkan 3D!  Sangat, sangat keren. </p><br><p>  Repositori memiliki banyak contoh untuk mulai cepat, ada kartu siap pakai, ada plug-in yang memungkinkan Anda untuk merakit kartu Anda sendiri dari data dalam format OSM.  Jadi, mari kita mulai! </p><br><pre><code class="java hljs">MapView mapView = findViewById(R.id.map_view); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map = mapView.map(); File baseMapFile = getMapFile(<span class="hljs-string"><span class="hljs-string">"cyprus.map"</span></span>); MapFileTileSource tileSource = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MapFileTileSource(); tileSource.setMapFile(baseMapFile.getAbsolutePath()); VectorTileLayer layer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.setBaseMap(tileSource); MapInfo info = tileSource.getMapInfo(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (info != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { MapPosition pos = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MapPosition(); pos.setByBoundingBox(info.boundingBox, Tile.SIZE * <span class="hljs-number"><span class="hljs-number">4</span></span>, Tile.SIZE * <span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.setMapPosition(pos); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.setTheme(VtmThemes.DEFAULT); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.layers().add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BuildingLayer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map, layer)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.layers().add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LabelLayer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map, layer));</code> </pre> <br><p>  Buat sumber data MapFileTileSource, tentukan lokasi file peta.  Selain itu, kami menempatkan diri di tengah kotak pembatas yang menarik minat kami, agar tidak berada di suatu tempat di luar lokasi yang dipilih saat aplikasi dimulai.  Instal tema default.  Tambahkan lapisan rumah dan lapisan tanda tangan.  Itu saja.  Kami meluncurkan - keajaiban! </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/id/lw/c5/idlwc5xexfimjwcgh6lvug6ncna.png" width="375" height="667"></div><br><p>  Tampaknya lebih cepat dan lebih mudah dan tidak mungkin. </p><br><h2 id="delaem-geokoding">  Kami melakukan geocoding </h2><br><p>  Langkah penting berikutnya adalah menerapkan geocoding.  Kartu itu sendiri sudah bagus, tetapi interaktivitas diperlukan.  Kami ingin memasuki peta dan melihat informasi tentang objek yang kami tekan.  Dan ada beberapa kesulitan.  Secara umum, tidak ada geocoding lengkap di perpustakaan kami.  Ini mungkin minus terbesarnya.  Jika tidak ada yang ditemukan, maka kita dapat memanfaatkan fungsionalitas yang ada. </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//          float touchRadius = TOUCH_RADIUS * CanvasAdapter.getScale(); long mapSize = MercatorProjection.getMapSize((byte) mMap.getMapPosition().getZoomLevel()); double pixelX = MercatorProjection.longitudeToPixelX(p.getLongitude(), mapSize); double pixelY = MercatorProjection.latitudeToPixelY(p.getLatitude(), mapSize); int tileXMin = MercatorProjection.pixelXToTileX(pixelX - touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); int tileXMax = MercatorProjection.pixelXToTileX(pixelX + touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); int tileYMin = MercatorProjection.pixelYToTileY(pixelY - touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); int tileYMax = MercatorProjection.pixelYToTileY(pixelY + touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); Tile upperLeft = new Tile(tileXMin, tileYMin, (byte) mMap.getMapPosition().getZoomLevel()); Tile lowerRight = new Tile(tileXMax, tileYMax, (byte) mMap.getMapPosition().getZoomLevel()); //   ,        MapDatabase mapDatabase = ((MapDatabase) ((OverzoomTileDataSource) tileSource.getDataSource()).getDataSource()); MapReadResult mapReadResult = mapDatabase.readLabels(upperLeft, lowerRight); StringBuilder sb = new StringBuilder(); //   POI     sb.append("*** POI ***"); for (PointOfInterest pointOfInterest : mapReadResult.pointOfInterests) { Point layerXY = new Point(); mMap.viewport().toScreenPoint(pointOfInterest.position, false, layerXY); Point tapXY = new Point(e.getX(), e.getY()); if (layerXY.distance(tapXY) &gt; touchRadius) { continue; } sb.append("\n"); List&lt;Tag&gt; tags = pointOfInterest.tags; for (Tag tag : tags) { sb.append("\n").append(tag.key).append("=").append(tag.value); } } //  ,     sb.append("\n\n").append("*** WAYS ***"); for (Way way : mapReadResult.ways) { if (way.geometryType != GeometryBuffer.GeometryType.POLY || !GeoPointUtils.contains(way.geoPoints[0], p)) { continue; } sb.append("\n"); List&lt;Tag&gt; tags = way.tags; for (Tag tag : tags) { sb.append("\n").append(tag.key).append("=").append(tag.value); } }</span></span></code> </pre> <br><p>  Ternyata relatif bertele-tele.  Anda perlu menemukan ubin, mendapatkan cara (dalam terminologi OSM, ini adalah objek linier), dan Anda dapat mengekstrak beberapa atribut dari mereka.  Selain cara-cara, dimungkinkan untuk mendapatkan POI, tetapi hanya itu.  Anda harus memutar sendiri sisa logikanya: pilih "benar" dari seluruh set objek yang klik klik, saring berdasarkan level zoom.  Dan satu hal lagi.  Faktanya, kami kehilangan informasi tentang geometri asli dan mendapat tanggapan atas pencarian hanya satu set garis.  Jika Anda juga ingin membuat geo-editor, maka ini jelas tidak akan cukup. </p><br><p>  Tetapi untuk menunjukkan pendekatannya, semuanya cocok untuk kita. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/p9/9t/m_/p99tm_xdj7tdnnjewpzovvsmqjm.png" width="375" height="667"></div><br><p><br></p><br><h2 id="prodvinutyy-geokoding">  Geocoding Lanjut </h2><br><p>  Secara umum, ada opsi yang lebih maju.  Untuk ini kita membutuhkan basis kita sendiri.  Secara khusus, Anda dapat menggunakan SQLite.  Benar, SQLite standar tidak akan cukup bagi kami, dan kami harus membangunnya sendiri dengan menghubungkan plugin RTree untuk pencarian geografis ke sana.  Cara melakukan ini, saya sudah memberi tahu di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> , bagian "Lakukan pencarian yang baik." <br>  Dalam hal ini, kami mendapatkan kontrol penuh atas data, kami dapat menyimpan semua yang diperlukan, dan dalam format yang tepat.  Kami juga dapat mempercepat Pencarian Teks Lengkap dan mencari objek geo kami dan perusahaan berdasarkan nama, alamat dan atribut lainnya. </p><br><p>  Arahnya adalah: </p><br><ol><li>  Kami membuat tabel: <br><ul><li>  objek geo (id, tipe, geometri, atribut) </li><li>  perusahaan (id, atribut, geo_id) dengan referensi ke geometri bangunan tempat ia berada </li><li>  rtree <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">geoindex</a> menyukai ini: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VIRTUAL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> geo_index <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> rtree( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-comment"><span class="hljs-comment">-- Integer primary key minX, maxX, -- Minimum and maximum X coordinate minY, maxY -- Minimum and maximum Y coordinate );</span></span></code> </pre> </li></ul></li><li>  Kami mengisi semuanya dengan data. </li><li>  Saat Anda mengetuk peta, kami mendapatkan GeoPoint dan menjalankan permintaan: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> geo_index <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> minX&gt;=<span class="hljs-number"><span class="hljs-number">-81.08</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> maxX&lt;=<span class="hljs-number"><span class="hljs-number">-80.58</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> minY&gt;=<span class="hljs-number"><span class="hljs-number">35.00</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> maxY&lt;=<span class="hljs-number"><span class="hljs-number">35.44</span></span></code> </pre> </li><li>  Langkah terakhir: filter dan pilih objek yang sesuai. </li></ol><br><p>  Salah satu opsi implementasi dapat dilihat di <a href="">repositori</a> . </p><br><p>  Akibatnya, kami sudah tahu cara menampilkan peta dan menangani klik.  Tidak buruk. </p><br><h2 id="dobavlyaem-vazhnye-melochi">  Tambahkan hal-hal kecil yang penting. </h2><br><p>  Mari kita tambahkan beberapa fitur penting. </p><br><p>  Mari kita mulai dengan lokasi saat ini.  Di mapsforge / vtm hanya ada yang khusus untuk ini.  Lapisan LocationLayer.  Penggunaannya sangat sederhana. </p><br><pre> <code class="java hljs">LocationLayer locationLayer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LocationLayer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map); locationLayer.setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">//       , ,     GPS GeoPoint initialGeoPoint = this.map.getMapPosition().getGeoPoint(); locationLayer.setPosition(initialGeoPoint.getLatitude(), initialGeoPoint.getLongitude(), 1); this.map.layers().add(locationLayer);</span></span></code> </pre> <br><p>  Hanya ada satu kelemahan - itu adalah riak konstan "titik biru" di perbatasan layar ketika lokasi saat ini berada di luar peta.  Kemungkinan besar, dalam proses penggunaan, Anda jarang akan menemukan diri Anda dalam situasi seperti itu, tetapi ini menyebabkan rendering ulang yang konstan, karenanya, memuat prosesor sedikit.  Untuk menghilangkan ini sedikit lebih sulit, Anda harus masuk ke shader dan memperbaikinya.  Tapi ini sudah untuk perfeksionis.  Bagaimana melakukannya - Anda bisa lihat di <a href="">sini</a> . </p><br><p>  Jadi posisinya.  Saatnya menambahkan tombol navigasi ke posisi saat ini, seperti pada semua aplikasi pemetaan yang menghargai diri sendiri. </p><br><pre> <code class="java hljs">View vLocation = findViewById(R.id.am_location); vLocation.setOnClickListener(v -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateTo(initialGeoPoint));</code> </pre> <br><p>  Kami juga membutuhkan tombol zoom. </p><br><pre> <code class="javascript hljs">View vZoomIn = findViewById(R.id.am_zoom_in); vZoomIn.setOnClickListener(v -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateZoom(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); View vZoomOut = findViewById(R.id.am_zoom_out); vZoomOut.setOnClickListener(v -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateZoom(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>));</code> </pre><br><p>  Dan ceri pada kue adalah kompas. </p><br><pre> <code class="javascript hljs">View vCompass = findViewById(R.id.am_compass); vCompass.setVisibility(View.GONE); vCompass.setOnClickListener(v -&gt; { MapPosition mapPosition = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.getMapPosition(); mapPosition.setBearing(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateTo(<span class="hljs-number"><span class="hljs-number">500</span></span>, mapPosition); vCompass.animate().setListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Animator.AnimatorListener() { @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationStart(Animator animation) { } @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationEnd(Animator animation) { vCompass.setVisibility(View.GONE); } @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationCancel(Animator animation) { } @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationRepeat(Animator animation) { } }).setDuration(<span class="hljs-number"><span class="hljs-number">500</span></span>).rotation(<span class="hljs-number"><span class="hljs-number">0</span></span>).start(); }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.events.bind((e, mapPosition) -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e == <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>.ROTATE_EVENT) { vCompass.setRotation(mapPosition.getBearing()); vCompass.setVisibility(View.VISIBLE); } });</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lw/hp/cq/lwhpcqipt5bo-nirjiiz676gpo8.png" width="375" height="667"></div><br><p><br></p><br><h2 id="zahvatyvaem-mir">  Menangkap dunia </h2><br><p>  Teman, kita ada di garis finish.  Tetap menambahkan sentuhan akhir.  Kami berencana untuk menangkap dunia, yang berarti bahwa kita perlu menjejalkannya ke dalam aplikasi kita. </p><br><p>  Dan hal-hal sedemikian rupa sehingga dengan mesin kami jauh lebih mudah daripada yang terdengar. <br>  Kami perlu sedikit memodifikasi metode pemuatan peta dengan menambahkan MultyMapTileSource ke dalamnya.  Ini pada dasarnya adalah pembungkus untuk sumber ubin lain, yang memungkinkan Anda untuk menampilkan semua yang ditambahkan ke dalamnya pada peta sekaligus.  Hanya fitur pembunuh.  Akibatnya, kami harus menyiapkan peta dunia dengan detail minimal, menambahkannya lebih dulu ke pembungkus kami, dan menggambar sisanya di atas.  Selain itu, kami dapat segera menambahkan semua kartu yang kami miliki di katalog dengan peta aplikasi!  Cantik, hanya cantik.  Dan jangan lupa itu offline :) </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  - MultiMapFileTileSource mmtilesource = new MultiMapFileTileSource(); File baseMapFile = getMapFile("cyprus.map"); MapFileTileSource tileSource = new MapFileTileSource(); tileSource.setMapFile(baseMapFile.getAbsolutePath()); mmtilesource.add(tileSource); //     MultiMapFileTileSource MapFileTileSource worldTileSource = new MapFileTileSource(); File worldMapFile = getMapFile("world.map"); worldTileSource.setMapFile(worldMapFile.getAbsolutePath()); mmtilesource.add(worldTileSource); //      - VectorTileLayer layer = this.map.setBaseMap(mmtilesource);</span></span></code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/9pdshe1mg7Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Mungkin kita siap untuk dibebaskan.  Kami mengumpulkan bangunan, menaruhnya di pasar, dan mendapatkan bintang yang memang layak diterima :) </p><br><h2 id="para-lozhek-dyogtya-v-ogromnoy-bochke-myoda">  Beberapa sendok tar dalam satu tong besar madu </h2><br><p>  Mesin open source sedang aktif berkembang, tetapi timnya, sejujurnya, agak sederhana.  Pada umumnya, ini adalah satu orang dengan nama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">devemux86</a> .  Dan beberapa pria lagi dari waktu ke waktu. </p><br><p>  Terkadang ada artefak dalam rendering, beberapa berkedip dan berkedut.  Tetapi saya tidak pernah mengalami masalah kritis dan semakin banyak crash, yang tidak bisa lain kecuali bersukacita. </p><br><p>  Ada satu lagi nuansa yang mungkin tidak menyenangkan.  Ini adalah gambar fillet dan lingkaran.  Contoh tampilannya di tangkapan layar: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qc/37/lo/qc37lomxbxd2ln7r_2zngp6repo.png" width="375" height="667"></div><br><p><br></p><br><p>  Jika dalam geometri awal ada banyak titik (pembulatannya halus), maka pada peta Anda dapat melihat lingkaran yang agak "bersudut" dengan banyak tonjolan kecil dan cekung.  Jelas, ini dilakukan demi kinerja dan ukuran file peta, tetapi itu tidak terlihat sangat bagus. </p><br><p>  Mungkin ini semua kontra untuk hari ini.  Anda memutuskan apakah Anda bisa tinggal bersama mereka atau tidak.  Sementara itu, kami telah menggunakan perpustakaan ini selama lebih dari 1,5 tahun, penerbangannya sangat baik, setidaknya di Android. </p><br><h2 id="itogi">  Ringkasan </h2><br><p>  Dalam artikel ini, saya telah menunjukkan bahwa masalah yang tidak sepele sekalipun dapat diselesaikan dengan relatif cepat.  Anda memiliki kerangka siap pakai, yang dengannya Anda dapat membuat prototipe proyek apa pun yang melibatkan penggunaan peta offline, untuk waktu minimum. </p><br><p>  Jika ada minat, pada artikel selanjutnya saya akan menunjukkan cara membuat lantai ala 2GIS.  Dan ini sebenarnya jauh lebih sederhana daripada yang terlihat :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id453182/">https://habr.com/ru/post/id453182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id453168/index.html">Penelitian: membuat layanan proxy pemblokiran menggunakan teori permainan</a></li>
<li><a href="../id453170/index.html">Brainstorm: cara melihat tugas dari sudut yang berbeda</a></li>
<li><a href="../id453174/index.html">Delapan alasan untuk beralih ke Yandex. Cashier API baru</a></li>
<li><a href="../id453178/index.html">Keahlian utama pengembang yang akan membuat kode Anda lebih baik</a></li>
<li><a href="../id453180/index.html">Bagaimana melakukan perencanaan triwulanan Paperless Terdistribusi dan tidak mengacaukannya?</a></li>
<li><a href="../id453188/index.html">Bagaimana menjelaskan kepada manajer non-IT prinsip-prinsip membangun infrastruktur TI yang toleran terhadap kesalahan</a></li>
<li><a href="../id453190/index.html">ANPR menggunakan RoR & React Native</a></li>
<li><a href="../id453192/index.html">Sinkronisasi dan asinkron proses</a></li>
<li><a href="../id453194/index.html">Kami memecahkan masalah Reverser Terbaik dengan PHDays 9</a></li>
<li><a href="../id453196/index.html">Forrester Research: Perbandingan Sepuluh Vendor Analisis Komposisi Perangkat Lunak Teratas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>