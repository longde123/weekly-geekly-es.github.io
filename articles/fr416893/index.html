<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø üåñ üèÖ Vaadin Flow - un √©trange cerf ü•° ‚ö∞Ô∏è ‚ú®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Chaque changement, m√™me un changement pour le mieux, 
 toujours g√™nant 

 Richard Hooker 
 
 Comme vous le savez peut-√™tre, Vaadin est l'un des framew...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vaadin Flow - un √©trange cerf</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/416893/">  <i>Chaque changement, m√™me un changement pour le mieux,</i> <i><br></i>  <i>toujours g√™nant</i> <i><br><br></i>  <i>Richard Hooker</i> <i><br></i> <br>  Comme vous le savez peut-√™tre, Vaadin est l'un des frameworks Web Java les plus populaires: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Index des cadres Web Java: f√©vrier 2017</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">10 meilleurs cadres Web Java √† utiliser en 2018</a> </li></ul><br>  Plus r√©cemment, une nouvelle version de ce cadre pour le d√©veloppement d'une interface utilisateur Web, Vaadin 10, a √©t√© publi√©e. Il existe peu de publications en russe sur Vaadin 10 et Vaadin Flow, et cet article est destin√© √† combler cette lacune. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/td/86/hk/td86hkhcruqgdewpgjjkk4oi4_8.png" height="450"></div><br>  Les cr√©ateurs positionnent Vaadin Flow comme un nouveau framework web Java pour le d√©veloppement d'applications web et de sites web modernes (ici je ne les crois pas tout √† fait).  Cela fait partie de la plateforme Vaadin, qui remplace un autre produit - le framework Vaadin, il vous permet de d√©velopper des applications Web (ou, pour √™tre pr√©cis, l'interface utilisateur Web) en utilisant la norme Java Web Components. <br><br>  Ici, dans l'esprit du lecteur, tout √©tait probablement d√©j√† m√©lang√©, tous ces Vaadin Bla Bla, le cadre, la plate-forme, etc.  Que se passe-t-il? <br><br>  Nous utilisons Vaadin dans le cadre de notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plate-forme CUBA</a> pour les syst√®mes de back-office de l'interface utilisateur depuis 7 ans et pendant cette p√©riode, nous avons accumul√© beaucoup d'exp√©rience en travaillant avec lui, nous ne pouvons donc que nous inqui√©ter de son sort.  Sous la coupe, vous trouverez mes sp√©cifications sur Vaadin 10. <br><a name="habracut"></a><br><h2>  Cadre Vaadin </h2><br>  Vaadin est une entreprise finlandaise qui d√©veloppe des outils et des biblioth√®ques pour d√©velopper l'interface utilisateur.  Ils font le framework du m√™me nom pour le d√©veloppement web en Java. <br><br>  Vaadin Framework est un cadre d'interface utilisateur avec un mod√®le de programmation c√¥t√© serveur dans lequel toute la logique d'interface utilisateur et son √©tat sont situ√©s sur le serveur, et seul le code d'interface utilisateur des composants est ex√©cut√© dans le navigateur.  En fait, il s'agit d'une technologie de client l√©ger o√π le navigateur n'affiche que ce que le serveur dit et tous les √©v√©nements sont envoy√©s au serveur. <br><br>  L'approche c√¥t√© serveur vous permet d'oublier le fait que le d√©veloppement s'effectue sous le web, et de d√©velopper l'interface utilisateur comme une application Java de bureau avec un acc√®s direct aux donn√©es et services sur le serveur.  Dans le m√™me temps, Vaadin se chargera d'afficher l'interface utilisateur dans le navigateur et l'interaction AJAX entre le navigateur et le serveur.  Le moteur Vaadin rend l'interface utilisateur de l'application c√¥t√© serveur dans le navigateur et impl√©mente tous les d√©tails de l'√©change client et serveur. <br><br><img src="https://habrastorage.org/webt/3t/ga/gq/3tgagqq-c9pfrt-7cfhxz-lb11s.png"><br><br>  Cette approche pr√©sente de nombreux avantages: <br><br><ul><li>  Le code Java est plus facile √† √©crire et √† d√©boguer </li><li>  Vous pouvez utiliser les biblioth√®ques et outils Java existants (IDE, compilateurs, tests) </li><li>  Aucun d√©veloppement de service Web requis </li><li>  La s√©curit√© est meilleure </li></ul><br>  Et les inconv√©nients: <br><br><ul><li>  Besoin de beaucoup de m√©moire sur le serveur pour la vue de l'interface utilisateur </li><li>  Solution difficile √† mettre √† l'√©chelle </li><li> Lors du d√©veloppement de widgets, vous devez d√©velopper une API Java </li></ul><br>  Sur la base de ces inconv√©nients et avantages, Vaadin FW s'est install√© pr√©cis√©ment dans le d√©veloppement d'entreprise, o√π les charges sont pr√©visibles, et la vitesse et la facilit√© de d√©veloppement sont beaucoup plus importantes que le co√ªt du fer et de la m√©moire. <br><br><h2>  Qu'est-il arriv√© √† Google Web Toolkit </h2><br>  Pendant tout le temps que Vaadin est familier au grand public, la partie client de Vaadin FW √©tait inextricablement li√©e √† un autre produit bien connu - Google Web Toolkit (GWT).  Ce tandem a permis d'√©crire les composants d'interface utilisateur eux-m√™mes et l'API serveur pour eux dans un seul langage - Java, ce qui √©tait assez pratique. <br><br>  Ces derni√®res ann√©es, Google Web Toolkit ne s'est pas d√©velopp√© et, depuis 2015, nous attendons tous l'apparition de GWT 3.0 / J2CL, annonc√©e lors de GWT. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Construire une application GWT 3.0 avec Java 8</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Arr√™tez de l'appeler GWT 3.0</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'insaisissable j2cl</a> </li></ul><br>  Un √©v√©nement important s'est produit dans cette p√©riode stagnante (2015-2017): la sp√©cification Web Components et un autre framework Google, Polymer, sont apparus.  Apparemment, c'√©tait le d√©but de la fin du GWT. <br><br>  Il convient de noter que GWT 3 est en cours de d√©veloppement en tant que cadre interne de Google et que son d√©veloppement est effectu√© en interne.  Ainsi, la communaut√© ne peut en aucune fa√ßon influencer le processus, ou du moins ne pas voir que le processus est en cours. <br><br>  Dans ce contexte de stagnation, l'√©quipe Vaadin a pris la d√©cision difficile d'abandonner compl√®tement le d√©veloppement sur GWT et de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©√©crire la partie client de son framework</a> .  Ces changements ne pouvaient pas passer inaper√ßus et effrayer tous ceux qui se d√©veloppaient d√©j√† sur Vaadin. <br><br><h2>  Composants Web </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les composants Web</a> sont un ensemble de normes.  Il a √©t√© propos√© et activement promu par les gars de Google, mais l'initiative a d√©j√† √©t√© prise en charge dans Mozilla.  Il s'agit essentiellement de technologies permettant de cr√©er des composants d'interface utilisateur pour le Web, afin de prendre en charge l'encapsulation du comportement et de la pr√©sentation.  Et le principal avantage est la possibilit√© de r√©utilisation. <br><br>  Concepts cl√©s: <br><br><ul><li>  √âl√©ments personnalis√©s - API pour cr√©er vos √©l√©ments HTML </li><li>  Shadow DOM est un outil pour encapsuler les composants HTML et isoler leur pr√©sentation visuelle des r√®gles CSS globales.  En bref, vous pouvez faire un composant, par exemple, un bon de commande, et ne pas avoir peur que ses styles se cassent sur certaines pages du site en raison des r√®gles CSS de cette page. </li><li>  Mod√®les HTML - la possibilit√© de placer des blocs passifs contenant des √©l√©ments vides DOM dans un document HTML.  Ces blocs sont analys√©s par le navigateur, mais ils ne sont pas rendus ou ex√©cutent leur code.  Il est sugg√©r√© de les utiliser comme mod√®les pour le rendu des donn√©es. </li><li>  Importations HTML - la possibilit√© d'importer un document HTML en tant que module avec toute sa mise en page, ses styles et JS </li></ul><br>  Par exemple, si vous regardez maintenant l'arborescence DOM YouTube, vous trouverez l'utilisation des √©l√©ments personnalis√©s et du DOM fant√¥me: <br><br><img src="https://habrastorage.org/webt/mz/ay/ky/mzaykywnytaqq5h0ormmbskvxio.png"><br><br>  Toutes ces choses vous permettent d'√©crire de nouveaux composants d'interface utilisateur √† la mode pour le Web. <br><br>  Il convient d'admettre que la prise en charge du navigateur est loin d'√™tre parfaite et que les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">polyfills sont</a> toujours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n√©cessaires</a> , par exemple, pour Edge. <br><br><h2>  Polym√®re </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Polymer</a> est une petite biblioth√®que au-dessus des normes des composants Web con√ßue pour simplifier leur utilisation.  Un exemple: <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    import '@polymer/paper-checkbox/paper-checkbox.js'; import {PolymerElement, html} from '@polymer/polymer'; //    class LikeableElement extends PolymerElement { //      static get properties() { return { liked: Boolean }} //    DOM  , CSS      static get template() { return html` &lt;style&gt; .response { margin-top: 10px; } &lt;/style&gt; &lt;paper-checkbox checked="{{liked}}"&gt;I like web components.&lt;/paper-checkbox&gt; &lt;div hidden$="[[!liked]]" class="response"&gt;Web components like you, too.&lt;/div&gt; `; } } //     customElements.define('likeable-element', LikeableElement);</span></span></code> </pre> <br>  En fait, Polymer fait tout ce que GWT faisait auparavant, mais en m√™me temps, il est compatible avec tous les composants JS et autres frameworks, par exemple, React et Angular. <br><br><h2>  Composants Vaadin </h2><br>  Retour √† Vaadin.  Vaadin cr√©e depuis longtemps un produit appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vaadin Components</a> - composants d'interface utilisateur pour les d√©veloppeurs frontaux qui peuvent √™tre int√©gr√©s dans n'importe quelle application JS. <br><br><img src="https://habrastorage.org/webt/i2/ld/8c/i2ld8cn0bvmkeckh6uxonraleh0.png"><br><br>  Ces composants sont bas√©s sur des composants Web et Polymer! <br><br>  Comme nous le voyons maintenant, c'√©tait un a√©rodrome de sauvegarde pour le framework Vaadin, qui nous a permis de quitter Google Web Toolkit et de d√©velopper un nouveau framework pour lequel les composants n'existaient pas encore.  Le probl√®me du poulet et des ≈ìufs a √©t√© r√©solu et les composants de Vaadin sont devenus le front-end du prochain Vaadin 10. <br><br><h2>  Flux Vaadin </h2><br>  Vaadin 8 comprenait un m√©canisme de synchronisation d'√©tat de l'interface utilisateur et la prise en charge d'un protocole RPC bidirectionnel (appel de proc√©dure √† distance).  Cela a √©t√© possible gr√¢ce √† GWT, car les interfaces et classes communes du serveur et du client ont √©t√© √©crites en Java. <br><br>  Parall√®lement √† l'abandon de GWT, il √©tait n√©cessaire de mettre en ≈ìuvre un nouveau m√©canisme qui permettrait une int√©gration transparente avec le frontend JS et le backend Java.  Ce m√©canisme √©tait Vaadin Flow (et ce nom est √©galement utilis√© depuis longtemps pour d√©signer l'ensemble du Vaadin 10). <br><br>  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> Flow a ce sch√©ma: <br><br><img src="https://habrastorage.org/webt/gk/ls/u_/gklsu_tqc6qzanrwitz3v8mqkca.png"><br><br>  Sa signification principale est la suivante: <br><br><ul><li>  La synchronisation de l'√©tat de l'interface utilisateur du serveur au client est prise en charge </li><li>  la partie serveur peut s'abonner aux √©v√©nements des composants UI, et une requ√™te AJAX sera ex√©cut√©e </li><li>  la logique m√©tier est ex√©cut√©e sur le serveur, seules les donn√©es affich√©es dans l'interface utilisateur sont charg√©es dans le navigateur Web </li><li>  le c√¥t√© serveur utilise Java </li><li>  le client peut utiliser des mod√®les HTML, CSS, JS et Polymer </li></ul><br>  Pour moi, cela signifie que Vaadin aura plus de technologies frontales, et maintenant Java seul n'est clairement pas suffisant (pour Vaadin 8, Java serait suffisant pour vous et HTML / CSS ne serait pas n√©cessaire).  D'autre part, une int√©gration facile du code JS est d√©sormais possible. <br><br><h2>  Plateforme Vaadin </h2><br>  Chaque composant de Vaadin 10 est d√©velopp√© s√©par√©ment et dans les meilleures traditions du monde JS - de minuscules modules aussi ind√©pendants que possible les uns des autres.  Dans le m√™me temps, la partie client des composants est conditionn√©e dans un JAR au format WebJARs: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.webjars.org</a> <br><br>  C'est un peu effrayant, surtout si vous regardez la conception minimale: <br><br><img src="https://habrastorage.org/webt/fu/6d/-b/fu6d-bycxab2yomlvwguormpkbk.png"><br><br>  Afin de contr√¥ler ce chaos, un projet de nomenclature appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vaadin Platform est apparu</a> . <br><br>  Il ne s'agit pas d'un produit ind√©pendant, mais simplement d'une liste de versions compatibles de composants et d'outils con√ßus au format <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Maven BOM</a> . <br><br>  Il se connecte √† Maven <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comme suit</a> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencyManagement</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.vaadin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>vaadin-bom<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>${vaadin.platform.version}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span>pom<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>import<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencyManagement</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h2>  Caract√©ristiques de Vaadin 10 </h2><br>  Au total, l'ensemble du cadre se compose de 3 volets: <br><br><ol><li>  Composants Vaadin - frontend </li><li>  Vaadin Flow - transport </li><li>  API de composants de serveur - API Java pour les composants d'interface utilisateur </li></ol><br>  Cela vaut la peine de commencer le d√©veloppement avec le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">didacticiel officiel</a> . <br><br>  Aussi, je recommande un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nouveau webinaire</a> . <br><br><h3>  Entr√©es </h3><br>  Vous pouvez vous familiariser avec le cadre √† partir de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page</a> .  Vous y trouverez des exemples de projets, y compris la pile compl√®te bas√©e sur Spring Boot. <br><br>  Les fans ardents de Spring Boot peuvent passer directement √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">start.spring.io</a> et s√©lectionner Vaadin parmi les frameworks Web l√†-bas. <br><br>  Un projet minimal peut √™tre d√©marr√© avec une classe Java, par exemple: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  URL   @Route("") public class MainView extends VerticalLayout { public MainView() { //  UI   Button button = new Button("Click me"); //    button.addClickListener(event -&gt; { new Notification("Hello!").open(); }); add(button); } }</span></span></code> </pre><br>  En g√©n√©ral, vous pouvez √©crire sur Vaadin 10, comme sur Vaadin 8, MAIS!  Vous devriez certainement regarder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la page de correspondance des composants</a> . <br><br><h3>  API Element </h3><br>  Fonction Killer Vaadin 10 - contr√¥lez les √©l√©ments DOM directement √† partir du code Java c√¥t√© serveur. <br><br><pre> <code class="java hljs">Element nameField = ElementFactory.createInput(); nameField.setAttribute(<span class="hljs-string"><span class="hljs-string">"id"</span></span>, <span class="hljs-string"><span class="hljs-string">"nameField"</span></span>); nameField.setAttribute(<span class="hljs-string"><span class="hljs-string">"placeholder"</span></span>, <span class="hljs-string"><span class="hljs-string">"John Doe"</span></span>); nameField.setAttribute(<span class="hljs-string"><span class="hljs-string">"autofocus"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>);</code> </pre><br>  Vous pouvez √©galement g√©rer des attributs d√©j√† appos√©s: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// "John Doe" String placeholder = nameField.getAttribute("placeholder"); // true nameField.hasAttribute("autofocus"); nameField.removeAttribute("autofocus"); // ["id", "placeholder"] nameField.getAttributeNames().toArray();</span></span></code> </pre><br>  Bien s√ªr, ce n'est pas un remplacement pour les composants d'interface utilisateur, mais une bonne API pour des changements de disposition simples lors du d√©veloppement de composants d'interface utilisateur n'est pas requise. <br><br><h3>  Liaison de donn√©es </h3><br>  Pour travailler avec des composants qui impl√©mentent l'interface HasValue (get / set value et ValueChangeListener), il existe une classe Binder pratique: <br><br><pre> <code class="java hljs">Binder&lt;Person&gt; binder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Binder&lt;&gt;(); TextField titleField = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextField(); binder.forField(titleField) .bind( Person::getTitle, Person::setTitle);</code> </pre><br>  Comme vous pouvez le voir dans l'exemple, la liaison de type statique bas√©e sur des expressions lambda est prise en charge. <br><br>  De plus, les classeurs peuvent installer des convertisseurs de valeur et des validateurs: <br><br><pre> <code class="java hljs">binder.forField(yearOfBirthField) <span class="hljs-comment"><span class="hljs-comment">// Validator will be run with the String value of the field .withValidator(text -&gt; text.length() == 4, "Doesn't look like a year") // Converter will only be run for strings with 4 characters .withConverter( new StringToIntegerConverter("Must enter a number")) // Validator will be run with the converted value .withValidator(year -&gt; year &gt;= 1900 &amp;&amp; year &lt; 2000, "Person must be born in the 20th century") .bind(Person::getYearOfBirth, Person::setYearOfBirth);</span></span></code> </pre><br><h3>  Mod√®les </h3><br>  Les mod√®les HTML sont en cours de composition: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"import"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../bower_components/polymer/polymer-element.html"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"import"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../bower_components/paper-input/paper-input.html"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dom-module</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hello-world"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">paper-input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"inputId"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{userInput}}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">paper-input</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"helloButton"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sayHello"</span></span></span><span class="hljs-tag">&gt;</span></span>Say hello<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"greeting"</span></span></span><span class="hljs-tag">&gt;</span></span>[[greeting]]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-class"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span><span class="actionscript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-class"><span class="hljs-title">HelloWorld</span></span></span></span><span class="actionscript"><span class="hljs-class"> </span></span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span></span><span class="actionscript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-class"><span class="hljs-title">Polymer</span></span></span></span><span class="actionscript"><span class="hljs-class">.</span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-class"><span class="hljs-title">Element</span></span></span></span><span class="actionscript"><span class="hljs-class"> </span></span></span><span class="actionscript">{ </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">static</span></span></span><span class="actionscript"> </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">get</span></span></span><span class="actionscript"> </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">is</span></span></span><span class="actionscript">() { </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">return</span></span></span><span class="actionscript"> </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'hello-world'</span></span></span><span class="actionscript"> } } customElements.define(HelloWorld.is, HelloWorld); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dom-module</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Les mod√®les prennent en charge la liaison de donn√©es d√©clarative et vous pouvez √©crire du JavaScript natif qui sera ex√©cut√© dans le navigateur en l'√©tat.  Cela vous permet d'impl√©menter une partie de la logique d'interface utilisateur la plus simple sans envoyer de requ√™tes au serveur. <br><br><h3>  Les √©v√©nements </h3><br>  La gestion des √©v√©nements des composants <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est tr√®s simple</a> : <br><br><pre> <code class="java hljs">TextField textField = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextField(); textField.addChangeListener(e -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Event fired"</span></span>));</code> </pre><br>  Ici, vous ne remarquerez pas la diff√©rence avec le Vaadin 8. <br><br><h3>  Acheminement </h3><br>  La navigation et le routage dans l'application <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sont devenus ce qu'ils devraient √™tre</a> : <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"some/path"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomePathComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Div</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SomePathComponent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ setText(<span class="hljs-string"><span class="hljs-string">"Hello @Route!"</span></span>); } }</code> </pre><br>  Les vues peuvent d√©terminer l'URL qu'elles traitent, les param√®tres dont elles ont besoin pour l'adresse, et bien plus encore. <br><br><h3>  D√©veloppement de composants </h3><br>  Pour Vaadin 10, vous pouvez d√©velopper des composants de la mani√®re suivante: <br><br><ul><li>  Int√©gration d'un composant Web existant: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vaadin.com/docs/v10/flow/web-components/integrating-a-web-component.html</a> </li><li>  Connexion du code JS directement au mod√®le: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vaadin.com/docs/v10/flow/importing-dependencies/tutorial-importing.html</a> </li><li>  D√©veloppement de composants composites √† partir d'existant: </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vaadin.com/docs/v10/flow/creating-components/tutorial-component-composite.html</a> </li></ul><br>  Une telle approche simple du d√©veloppement de composants personnalis√©s est peut-√™tre le plus grand pas en avant.  Il n'est plus n√©cessaire d'√©crire des wrappers pour JS sur GWT, puis d'√©crire c√¥t√© serveur sur Vaadin. <br><br><h3>  Th√®me Lumo </h3><br>  Au lieu de SASS, les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">variables CSS</a> sont d√©sormais utilis√©es pour les th√®mes visuels, c'est-√†-dire  plus besoin de compiler CSS lors de la construction du projet: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">custom-style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">html</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">--lumo-font-family</span></span></span><span class="css">: </span><span class="hljs-string"><span class="css"><span class="hljs-string">"Open Sans"</span></span></span><span class="css">, sans-serif; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">custom-style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Et le th√®me Valo est remplac√© par un nouveau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">th√®me Lumo personnalis√©</a> . <br><br><img src="https://habrastorage.org/webt/xp/jx/kg/xpjxkgrpp0cialgd3hyrvh-eoay.png"><br><br><h2>  Migration avec Vaadin FW 8 </h2><br>  Les options de migration depuis Vaadin 8 sont d√©crites dans le document: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vaadin.com/docs/v10/flow/migration/1-migrating-v8-v10.html</a> <br><br>  Ici, j'ai de mauvaises nouvelles pour vous: si vous avez √©crit un √©norme projet sur Vaadin 8, vous devrez le r√©√©crire compl√®tement lors du passage √† Vaadin 10. Il n'y a pas de chemin de migration, du mot du tout! <br><br>  Vaadin 10 et Vaadin 8 sont similaires √† plusieurs √©gards: <br><br><ul><li>  Approche c√¥t√© serveur </li><li>  Java pour d√©velopper la logique de l'interface utilisateur </li><li>  M√™me approche pour la liaison de donn√©es </li></ul><br>  <b>Conclusion</b> : <b>Vaadin 10 est un nouveau framework √©crit √† partir de z√©ro</b> . <br><br>  Comme les d√©veloppeurs le promettent, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vaadin 8 sera pris en charge jusqu'en 2022</a> et des approches de migration peuvent appara√Ætre. <br><br><h2>  Conclusion </h2><br>  Je consid√®re qu'il est important que le nouveau site Web de Vaadin soit √©crit en Vaadin Flow, qui devient la norme de facto pour les technologies frontales, car la maturit√© d'un langage de programmation a √©t√© d√©termin√©e par le fait que son compilateur ait √©t√© √©crit dans le m√™me langage ou non. <br><br>  J'esp√®re que maintenant vous pouvez vous faire votre opinion sur Vaadin 10. En g√©n√©ral, c'est un bon cadre et une √©norme r√©serve pour l'avenir.  Pour moi, c'est un excellent terrain de formation exp√©rimental pour de nouvelles id√©es et approches pour la construction d'une interface utilisateur. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr416893/">https://habr.com/ru/post/fr416893/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr416883/index.html">Comment j'ai √©crit mon Postcrossing</a></li>
<li><a href="../fr416885/index.html">Le service de remise en forme a de nouveau ¬´rendu toutes les apparences¬ª des gouvernements, des services militaires et sp√©ciaux</a></li>
<li><a href="../fr416887/index.html">Comment √©crire des commentaires sur les commits</a></li>
<li><a href="../fr416889/index.html">Tout ce que vous devez savoir sur l'IA en quelques minutes</a></li>
<li><a href="../fr416891/index.html">Aux √âtats-Unis, ils √©taient toujours autoris√©s √† distribuer des mod√®les 3D et des dessins num√©riques pour les armes de bricolage.</a></li>
<li><a href="../fr416897/index.html">Comment faire un syst√®me de paiement √† faire soi-m√™me</a></li>
<li><a href="../fr416899/index.html">Nous indiquons au maire o√π aller (√† l'aide de l'Open Street Map)</a></li>
<li><a href="../fr416901/index.html">Comment les professionnels de l'informatique et de la s√©curit√© se prot√®gent: cas r√©els avec Cisco Connect, BlackHat, RSAC et MWC</a></li>
<li><a href="../fr416903/index.html">Contribuez √† Go avec l'analyseur-critique</a></li>
<li><a href="../fr416905/index.html">Pr√©sentation de Boston Dynamics SpotMini</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>