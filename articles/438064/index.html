<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äçüé§ üöª üë®‚Äçüé§ Lista de verificaci√≥n: lo que hab√≠a que hacer antes de iniciar microservicios en prod üë©üèª‚Äçüç≥ üåø üëÉüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo contiene un breve extracto de mi propia experiencia y la experiencia de mis colegas, con quienes pas√© d√≠as y noches rastrillando inciden...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lista de verificaci√≥n: lo que hab√≠a que hacer antes de iniciar microservicios en prod</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438064/"><p><img src="https://habrastorage.org/webt/y7/-a/th/y7-ath7wga1jfx9issm1rhog2lg.jpeg" width="45%" align="right">  Este art√≠culo contiene un breve extracto de mi propia experiencia y la experiencia de mis colegas, con quienes pas√© d√≠as y noches rastrillando incidentes.  Y muchos incidentes nunca habr√≠an ocurrido si todos amaran que sus microservicios se escribieran al menos con un poco m√°s de precisi√≥n. </p><br><p>  Desafortunadamente, algunos programadores de <s>bajo</s> nivel creen seriamente que un Dockerfile con alg√∫n tipo de comando dentro es en s√≠ mismo un microservicio y puede implementarse incluso ahora.  Los estibadores giran, el banco est√° embarrado.  Este enfoque est√° plagado de problemas que van desde una ca√≠da en el rendimiento, la incapacidad para depurar y la denegaci√≥n de servicio hasta una pesadilla llamada inconsistencia de datos. </p><br><p>  Si cree que ha llegado el momento de lanzar otra aplicaci√≥n en Kubernetes / ECS / lo que sea, entonces tengo algo a lo que objetar. </p><br><p> <strong>La versi√≥n en ingl√©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tambi√©n est√° disponible</a></strong> . </p><a name="habracut"></a><br><p>  Form√© para m√≠ un cierto conjunto de criterios para evaluar la preparaci√≥n de las aplicaciones para su lanzamiento en producci√≥n.  Algunos puntos de esta lista de verificaci√≥n no se pueden aplicar a todas las aplicaciones, sino solo a las especiales.  Otros generalmente se aplican a todo.  Estoy seguro de que puede agregar sus opciones en los comentarios o disputar algunos de estos puntos. </p><br><p>  Si su microservicio no cumple al menos uno de los criterios, no permitir√© que est√© en mi cl√∫ster ideal, construido en un b√∫nker a 2000 metros bajo tierra con calefacci√≥n por suelo radiante y un sistema cerrado de suministro de Internet aut√≥nomo. </p><br><p>  Vamos ... </p><br><p>  <i>Nota: el orden de los art√≠culos no importa.</i>  <i>De todos modos, para mi.</i> </p><br><h2 id="korotkoe-opisanie-v-readme">  L√©ame Descripci√≥n breve </h2><br><blockquote>  Contiene una breve descripci√≥n de s√≠ mismo al comienzo de Readme.md en su repositorio. </blockquote><p>  Dios, parece tan simple.  Pero con qu√© frecuencia me di cuenta de que el repositorio no contiene la m√°s m√≠nima explicaci√≥n de por qu√© es necesario, qu√© tareas resuelve, etc.  No es necesario hablar de algo m√°s complicado, como las opciones de configuraci√≥n. </p><br><h2 id="integraciya-s-sistemoy-monitoringa">  Integraci√≥n con un sistema de monitoreo. </h2><br><blockquote>  Env√≠a m√©tricas a DataDog, NewRelic, Prometheus, etc. </blockquote><p>  An√°lisis del consumo de recursos, fugas de memoria, stacktraces, interdependencia del servicio, tasa de error: sin comprender todo esto (y no solo) es extremadamente dif√≠cil controlar lo que sucede en una aplicaci√≥n distribuida de gran tama√±o. </p><br><h2 id="opovescheniya-nastroeny">  Alertas configuradas </h2><br><blockquote>  El servicio incluye alertas que cubren todas las situaciones est√°ndar m√°s situaciones √∫nicas conocidas. </blockquote><p>  Las m√©tricas son buenas, pero nadie las seguir√°.  Por lo tanto, recibimos autom√°ticamente llamadas / push / sms si: </p><br><ul><li>  El consumo de CPU / memoria ha aumentado dram√°ticamente. </li><li>  El tr√°fico aument√≥ / cay√≥ bruscamente. </li><li>  El n√∫mero de transacciones procesadas por segundo ha cambiado dr√°sticamente en cualquier direcci√≥n. </li><li>  El tama√±o del artefacto despu√©s del ensamblaje ha cambiado dr√°sticamente (exe, aplicaci√≥n, jar, ...). </li><li>  El porcentaje de errores o su frecuencia excedi√≥ el umbral permitido. </li><li>  El servicio ha dejado de enviar m√©tricas (situaci√≥n que a menudo se pasa por alto). </li><li>  Se viola la regularidad de ciertos eventos esperados (el trabajo cron no funciona, no se procesan todos los eventos, etc.) </li><li>  ... </li></ul><br><h2 id="runbooks-sozdany">  Runbooks creados </h2><br><blockquote>  Se ha creado un documento para el servicio que describe contingencias conocidas o esperadas. </blockquote><br><ul><li>  c√≥mo asegurarse de que el error es interno y no depende de terceros; </li><li>  si depende de d√≥nde, a qui√©n y qu√© escribir; </li><li>  c√≥mo reiniciarlo de manera segura; </li><li>  c√≥mo restaurar desde una copia de seguridad y d√≥nde se encuentran las copias de seguridad; </li><li>  Qu√© paneles / consultas especiales se crean para monitorear este servicio; </li><li>  ¬øEl servicio tiene su propio panel de administraci√≥n y c√≥mo llegar all√≠? </li><li>  ¬øhay una API / CLI y c√≥mo usarla para solucionar problemas conocidos? </li><li>  Y as√≠ sucesivamente. </li></ul><br><p>  La lista puede variar mucho entre organizaciones, pero al menos las cosas b√°sicas deber√≠an estar ah√≠. </p><br><h2 id="vse-logi-pishutsya-v-stdoutstderr">  Todos los registros est√°n escritos en STDOUT / STDERR </h2><br><blockquote>  El servicio no crea ning√∫n archivo de registro en modo de producci√≥n, no los env√≠a a ning√∫n servicio externo, no contiene abstracciones redundantes para la rotaci√≥n de registros, etc. </blockquote><p>  Cuando una aplicaci√≥n crea archivos de registro, estos registros son in√∫tiles.  No entrar√° en 5 contenedores que se ejecutan en paralelo, con la esperanza de detectar el error que necesita (y aqu√≠ est√°, <em>llorando</em> ...).  Reiniciar el contenedor dar√° como resultado una p√©rdida completa de estos registros. </p><br><p>  Si una aplicaci√≥n escribe sus propios registros en un sistema de terceros, por ejemplo, en Logstash, esto crea redundancia in√∫til.  El servicio vecino no sabe c√≥mo hacer esto, porque  ¬øTiene un marco diferente?  Tienes un zool√≥gico. </p><br><p>  La aplicaci√≥n escribe parte de los registros en archivos y parte en stdout porque es conveniente para el desarrollador ver INFO en la consola y DEPURAR en los archivos.  Esta es generalmente la peor opci√≥n.  Nadie necesita complejidad y c√≥digos y configuraciones completamente redundantes que necesita conocer y mantener. </p><br><h2 id="logi---eto-json">  Los registros son Json </h2><br><blockquote>  Cada l√≠nea de registro est√° escrita en formato Json y contiene un conjunto consistente de campos. </blockquote><p>  Hasta ahora, casi todos escriben registros en texto sin formato.  Este es un verdadero desastre.  Me alegrar√≠a no saber nunca sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Grok Patterns</a> .  Sue√±o con ellos a veces y me congelo, tratando de no moverme, para no atraer su atenci√≥n.  Simplemente intente analizar las excepciones Java en los registros una vez. </p><br><p>  Json es bueno, es fuego dado del cielo.  Solo agregue all√≠: </p><br><ul><li>  marca de tiempo de <strong>milisegundos</strong> seg√∫n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RFC 3339</a> ; </li><li>  nivel: informaci√≥n, advertencia, error, depuraci√≥n </li><li>  user_id; </li><li>  nombre_aplicaci√≥n </li><li>  y otros campos </li></ul><br><p>  Descargue a cualquier sistema adecuado (ElasticSearch configurado correctamente, por ejemplo) y disfrute.  Conecte los registros de muchos microservicios y vuelva a sentir <em>lo que</em> eran buenas aplicaciones monol√≠ticas. </p><br><p>  <em>(Y puede agregar Request-Id y obtener seguimiento ...)</em> </p><br><h2 id="logi-s-urovnyami-verbosity">  Registros con niveles de verbosidad </h2><br><blockquote>  La aplicaci√≥n debe admitir una variable de entorno, por ejemplo LOG_LEVEL, con al menos dos modos de funcionamiento: ERRORES y DEPURACI√ìN. </blockquote><p>  Es deseable que todos los servicios en el mismo ecosistema admitan la misma variable de entorno.  No es una opci√≥n de configuraci√≥n, no es una opci√≥n en la l√≠nea de comando (aunque esto es reversible, por supuesto), pero de forma predeterminada desde el entorno.  Deber√≠a poder obtener tantos registros como sea posible si algo sale mal y tan pocos registros como sea posible, si todo est√° bien. </p><br><h2 id="fiksirovannye-versii-zavisimostey">  Versiones de dependencia fija </h2><br><blockquote>  Las dependencias para los administradores de paquetes son fijas, incluidas las versiones menores (por ejemplo, cool_framework = 2.5.3). </blockquote><p>  Esto ya se ha discutido mucho, por supuesto.  Algunas reparaciones dependen de las versiones principales, con la esperanza de que solo las correcciones de errores menores y las correcciones de seguridad est√©n en versiones menores.  Esto esta mal. <br>  Cada cambio en cada dependencia debe reflejarse en una <em>confirmaci√≥n por separado</em> .  Para que pueda cancelarse en caso de problemas.  ¬øEs dif√≠cil de controlar con las manos?  Hay robots √∫tiles, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">como este</a> , que realizar√°n un seguimiento de las actualizaciones y crear√°n solicitudes de extracci√≥n para cada uno de ustedes. </p><br><h2 id="dockerized">  Dockerized </h2><br><blockquote>  El repositorio contiene Dockerfile y docker-compose.yml listos para producci√≥n. </blockquote><p>  Docker ha sido durante mucho tiempo el est√°ndar para muchas empresas.  Hay excepciones, pero incluso si no tiene Docker en producci√≥n, cualquier ingeniero deber√≠a ser capaz de componer Docker y no pensar en otra cosa para obtener un ensamblaje de desarrollo para la verificaci√≥n local.  Y el administrador del sistema debe tener el ensamblado ya verificado por los desarrolladores con las versiones necesarias de bibliotecas, utilidades, etc., en las que la aplicaci√≥n <em>al menos de alguna manera funciona</em> para adaptarla a la producci√≥n. </p><br><h2 id="konfiguraciya-cherez-okruzhenie">  Configuraci√≥n del entorno </h2><br><blockquote>  Todas las opciones de configuraci√≥n importantes se leen desde el entorno y el entorno tiene una prioridad superior a los archivos de configuraci√≥n (pero inferior a los argumentos de la l√≠nea de comandos al inicio). </blockquote><p>  Nadie querr√° leer sus archivos de configuraci√≥n y estudiar su formato.  Solo ac√©ptalo. </p><br><p>  M√°s detalles aqu√≠: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://12factor.net/config</a> </p><br><h2 id="readiness-and-liveness-probes">  Sondas de preparaci√≥n y vitalidad. </h2><br><blockquote>  Contiene puntos finales apropiados o comandos cli para evaluar la disponibilidad para atender solicitudes durante el inicio y el tiempo de actividad durante toda la vida. </blockquote><p>  Si la aplicaci√≥n atiende solicitudes HTTP, deber√≠a tener dos interfaces por defecto: </p><br><ol><li><p>  Para verificar que la aplicaci√≥n est√© activa y no se congele, se utiliza una prueba de Liveness.  Si la aplicaci√≥n no responde, los orquestadores como Kubernetes pueden detenerla autom√°ticamente, " <em>pero esto no es exacto</em> ".  De hecho, matar una aplicaci√≥n congelada puede causar un efecto domin√≥ y poner permanentemente su servicio.  Pero este no es un problema de desarrollador, solo haz este punto final. </p><br></li><li><p>  Para verificar que la aplicaci√≥n no acaba de iniciarse, sino que est√° lista para aceptar solicitudes, se realiza una prueba de preparaci√≥n.  Si la aplicaci√≥n ha establecido una conexi√≥n con la base de datos, el sistema de colas, etc., deber√≠a responder con un estado de 200 a 400 (para Kubernetes). </p><br></li></ol><br><h2 id="ogranicheniya-resursov">  L√≠mites de recursos </h2><br><blockquote>  Contiene l√≠mites en el consumo de memoria, CPU, espacio en disco y cualquier otro recurso disponible en un formato consistente. </blockquote><p>  La implementaci√≥n espec√≠fica de este elemento ser√° muy diferente en diferentes organizaciones y para diferentes orquestadores.  Sin embargo, estos l√≠mites deben establecerse en un solo formato para todos los servicios, ser diferentes para diferentes entornos (prod, dev, test, ...) y estar <em>fuera del repositorio con el c√≥digo de la aplicaci√≥n</em> . </p><br><h2 id="sborka-i-dostavka-avtomatizirovana">  El montaje y la entrega est√°n automatizados. </h2><br><blockquote>  El sistema CI / CD utilizado en su organizaci√≥n o proyecto est√° configurado y puede entregar la aplicaci√≥n al entorno deseado de acuerdo con el flujo de trabajo aceptado. </blockquote><p>  <em>Nunca se entrega nada a la producci√≥n manualmente.</em> </p><br><p>  No importa cu√°n dif√≠cil sea automatizar el ensamblaje y la entrega de su proyecto, esto debe hacerse antes de que este proyecto entre en producci√≥n.  Este elemento incluye crear y ejecutar Ansible / Chef cookbooks / Salt / ..., crear aplicaciones para dispositivos m√≥viles, crear una bifurcaci√≥n del sistema operativo, crear im√°genes de m√°quinas virtuales, lo que sea. <br>  No se puede automatizar?  As√≠ que no puedes llevar esto al mundo.  Despu√©s de ti, nadie lo recoger√°. </p><br><h2 id="graceful-shutdown--korrektnoe-vyklyuchenie">  Apagado elegante - apagado correcto </h2><br><blockquote>  La aplicaci√≥n puede procesar SIGTERM y otras se√±ales e interrumpir sistem√°ticamente su trabajo despu√©s del final del procesamiento de la tarea actual. </blockquote><p>  Este es un punto extremadamente importante.  Los procesos de Docker quedan hu√©rfanos y funcionan durante meses en segundo plano donde nadie los ve.  Las operaciones no transaccionales se rompen en el medio de la ejecuci√≥n, creando inconsistencia de datos entre servicios y bases de datos.  Esto conduce a errores que no se pueden prever y pueden ser muy, muy caros. </p><br><p>  Si no controla ninguna dependencia y no puede garantizar que su c√≥digo procesar√° SIGTERM correctamente, use algo como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dumb-init</a> . </p><br><p>  M√°s informaci√≥n aqu√≠: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://12factor.net/disposability</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://kubernetes.io/docs/concepts/workloads/pods/pod/#termination-of-pods</a> </li></ul><br><h2 id="soedinenie-s-bazoy-dannyh-regulyarno-proveryaetsya">  Conexi√≥n de base de datos verificada regularmente </h2><br><blockquote>  La aplicaci√≥n hace ping constantemente a la base de datos y responde autom√°ticamente a la excepci√≥n de "p√©rdida de conexi√≥n" para cualquier solicitud, tratando de restaurarla por s√≠ sola o finaliza su trabajo correctamente </blockquote><p>  Vi muchos casos (esto no es solo un cambio de discurso) cuando los servicios creados para procesar colas o eventos perdieron su conexi√≥n por tiempo de espera y comenzaron a verter errores sin fin en los registros, devolviendo mensajes a las colas, envi√°ndolos a Dead Letter Queue o simplemente no haciendo su trabajo. </p><br><h2 id="masshtabiruetsya-gorizontalno">  Escalado horizontalmente </h2><br><blockquote>  Con una carga creciente, es suficiente ejecutar m√°s instancias de aplicaci√≥n para garantizar que se procesen todas las solicitudes o tareas. </blockquote><p>  No todas las aplicaciones pueden escalar horizontalmente.  Un ejemplo sorprendente son los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">consumidores de Kafka</a> .  Esto no es necesariamente malo, pero si una aplicaci√≥n en particular no se puede iniciar dos veces, todas las partes interesadas deben saberlo con anticipaci√≥n.  Esta informaci√≥n debe ser una monstruosidad, colgar en el archivo L√©ame y siempre que sea posible.  Algunas aplicaciones en general no pueden iniciarse en paralelo bajo ninguna circunstancia, lo que crea serias dificultades en su soporte. </p><br><p>  Es mucho mejor si la aplicaci√≥n en s√≠ misma controla estas situaciones o si se escribe un contenedor que monitorea efectivamente a los "competidores" y simplemente no permite que el proceso comience o comience a trabajar hasta que otro proceso complete su trabajo o hasta que alguna configuraci√≥n externa permita que N procesos trabajen simult√°neamente. </p><br><h2 id="dead-letter-queues-i-ustoychivost-k-plohim-soobscheniyam">  Colas de mensajes no entregados y resistencia a mensajes malos </h2><br><blockquote>  Si el servicio escucha colas o responde a eventos, cambiar el formato o el contenido de los mensajes no conduce a su ca√≠da.  Los intentos fallidos de procesar la tarea se repiten N veces, despu√©s de lo cual el mensaje se env√≠a a Dead Letter Queue. </blockquote><p>  Muchas veces he visto reiniciar sin cesar consumidores y l√≠neas que se han inflado a tal tama√±o que su procesamiento posterior tom√≥ muchos d√≠as.  Cualquier oyente de cola debe estar preparado para cambiar el formato, a errores aleatorios en el mensaje en s√≠ (escribiendo datos en json, por ejemplo), o cuando se procesa por c√≥digo hijo.  Incluso me encontr√© con una situaci√≥n en la que la biblioteca est√°ndar para trabajar con RabbitMQ para un marco extremadamente popular no admit√≠a reintentos, intentos de contadores, etc. </p><br><p>  Peor a√∫n, cuando un mensaje simplemente se destruye en caso de falla. </p><br><h2 id="ogranichenie-na-kolichestvo-obrabatyvaemyh-soobscheniy-i-zadach-odnim-processom">  Limitaci√≥n en la cantidad de mensajes procesados ‚Äã‚Äãy tareas por proceso </h2><br><blockquote>  Admite una variable de entorno, que se puede obligar a limitar el n√∫mero m√°ximo de tareas procesadas, despu√©s de lo cual el servicio se cerrar√° correctamente. </blockquote><p>  Todo fluye, todo cambia, especialmente la memoria.  El gr√°fico de crecimiento continuo del consumo de memoria y OOM Killed al final es la norma en las mentes kuberneticas modernas.  La implementaci√≥n de una prueba primitiva que simplemente le ahorrar√≠a incluso la necesidad de examinar todas estas p√©rdidas de memoria facilitar√≠a la vida.  A menudo he visto a personas dedicar mucho tiempo y esfuerzo (y dinero) para detener esta rotaci√≥n, pero no hay garant√≠as de que el pr√≥ximo compromiso de su colega no empeore.  Si la aplicaci√≥n puede sobrevivir una semana, este es un gran indicador.  Deje que se termine y se reinicie.  Esto es mejor que SIGKILL (sobre SIGTERM, ver arriba) o la excepci√≥n "sin memoria".  Durante un par de d√©cadas, este enchufe es suficiente para ti. </p><br><h2 id="ne-ispolzuet-third-party-integracii-s-filtraciey-po-ip-adresam">  No utiliza integraci√≥n de terceros con filtrado por direcciones IP </h2><br><blockquote>  Si la aplicaci√≥n realiza solicitudes a un servicio de terceros que permite el acceso desde direcciones IP limitadas, el servicio realiza estas llamadas indirectamente a trav√©s de un proxy inverso. </blockquote><p>  Este es un caso raro, pero extremadamente desagradable.  Es muy inconveniente cuando un peque√±o servicio bloquea la posibilidad de cambiar el cl√∫ster o mover toda la infraestructura a otra regi√≥n.  Si necesita comunicarse con alguien que no sabe c√≥mo usar oAuth o VPN, configure <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el proxy inverso</a> de antemano.  No implemente en su programa la adici√≥n / eliminaci√≥n din√°mica de tales integraciones externas, ya que al hacerlo se clava en el √∫nico tiempo de ejecuci√≥n disponible.  Es mejor automatizar inmediatamente estos procesos para administrar las configuraciones de Nginx y, en su aplicaci√≥n, contactarlo. </p><br><h2 id="ochevidnyy-http-user-agent">  Agente de usuario HTTP obvio </h2><br><blockquote>  El servicio reemplaza el encabezado User-agent con uno personalizado para todas las solicitudes a cualquier API, y este encabezado contiene suficiente informaci√≥n sobre el servicio en s√≠ y su versi√≥n. </blockquote><p>  Cuando tiene 100 aplicaciones diferentes que se comunican entre s√≠, puede volverse loco al ver en los registros algo as√≠ como "Go-http-client / 1.1" y la direcci√≥n IP din√°mica del contenedor de Kubernetes.  Identifique siempre su aplicaci√≥n y su versi√≥n expl√≠citamente. </p><br><h2 id="ne-narushaet-licenzii">  No viola la licencia </h2><br><blockquote>  No contiene dependencias que limiten excesivamente la aplicaci√≥n, no es una copia del c√≥digo de otra persona, etc. </blockquote><p>  Este es un caso evidente, pero result√≥ que incluso el abogado que escribi√≥ la NDA ahora tiene hipo. </p><br><h2 id="ne-ispolzuet-nepodderzhivaemye-zavisimosti">  No usa dependencias no compatibles </h2><br><blockquote>  Cuando inicia el servicio por primera vez, no incluye dependencias que ya est√°n desactualizadas. </blockquote><p>  Si la biblioteca que ingres√≥ al proyecto ya no es compatible con nadie, busque otra forma de lograr el objetivo o desarrollar la biblioteca en s√≠. </p><br><h2 id="zaklyuchenie">  Conclusi√≥n </h2><br><p>  Hay algunas comprobaciones muy espec√≠ficas en mi lista para tecnolog√≠as o situaciones espec√≠ficas, pero me olvid√© de agregar algo.  Estoy seguro de que tambi√©n encontrar√° algo para recordar. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/438064/">https://habr.com/ru/post/438064/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../438036/index.html">3blue1brown y MIT en ruso</a></li>
<li><a href="../438038/index.html">Carrera de esteroides. Historias reales</a></li>
<li><a href="../438058/index.html">"An√°lisis de datos en Python" en dos partes</a></li>
<li><a href="../438060/index.html">Estimaci√≥n de la orientaci√≥n espacial, o C√≥mo no temer a los filtros de Mahoney y Majwik</a></li>
<li><a href="../438062/index.html">Mi direcci√≥n no es una casa o calle, mi direcci√≥n es la Uni√≥n Sovi√©tica.</a></li>
<li><a href="../438066/index.html">10 canales educativos de YouTube en ingl√©s de los que nunca has o√≠do hablar</a></li>
<li><a href="../438070/index.html">¬øC√≥mo se convirti√≥ la generaci√≥n Y en una generaci√≥n quemada?</a></li>
<li><a href="../438074/index.html">[Anuncio para Ekaterimburgo, Novosibirsk, San Petersburgo] Sesi√≥n de prueba de automatizaci√≥n: Cubriremos todo, desde Neva hasta Ob con pruebas</a></li>
<li><a href="../438078/index.html">Facebook paga $ 20 por mes por configurar su pseudo-VPN</a></li>
<li><a href="../438080/index.html">Electr√≥nica alimentada por se√±al wifi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>