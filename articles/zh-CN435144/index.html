<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>âœŒğŸ¼ ğŸ™‹ğŸ¾ ğŸŒ… Spring Bootç®€ä»‹ï¼šç”¨Javaåˆ›å»ºç®€å•çš„REST API ğŸ” â™¨ï¸ ğŸ¤¸ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ç”±äºç¹ççš„ä¾èµ–å…³ç³»é…ç½®ï¼Œä¸ºä¼ä¸šåº”ç”¨ç¨‹åºé…ç½®Springå˜å¾—éå¸¸ç¹çä¸”å®¹æ˜“å‡ºé”™ã€‚ å¯¹äºè¿˜ä½¿ç”¨å¤šä¸ªç¬¬ä¸‰æ–¹åº“çš„åº”ç”¨ç¨‹åºå°¤å…¶å¦‚æ­¤ã€‚ 


 æ¯æ¬¡åˆ›å»ºå¦ä¸€ä¸ªåŸºäºSpringçš„ä¼ä¸šJavaåº”ç”¨ç¨‹åºæ—¶ï¼Œéƒ½éœ€è¦é‡å¤ç›¸åŒçš„ä¾‹ç¨‹æ­¥éª¤æ¥é…ç½®å®ƒï¼š 


- æ ¹æ®æ‰€åˆ›å»ºçš„åº”ç”¨ç¨‹åºç±»å‹ï¼ˆSpring MVCï¼ŒSpring JD...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Spring Bootç®€ä»‹ï¼šç”¨Javaåˆ›å»ºç®€å•çš„REST API</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435144/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/_3/cs/fl/_3csflkwq-p0lhu6dmamcplniqa.png"></div><br><p> ç”±äºç¹ççš„ä¾èµ–å…³ç³»é…ç½®ï¼Œä¸ºä¼ä¸šåº”ç”¨ç¨‹åºé…ç½®Springå˜å¾—éå¸¸ç¹çä¸”å®¹æ˜“å‡ºé”™ã€‚ å¯¹äºè¿˜ä½¿ç”¨å¤šä¸ªç¬¬ä¸‰æ–¹åº“çš„åº”ç”¨ç¨‹åºå°¤å…¶å¦‚æ­¤ã€‚ </p><br><p> æ¯æ¬¡åˆ›å»ºå¦ä¸€ä¸ªåŸºäºSpringçš„ä¼ä¸šJavaåº”ç”¨ç¨‹åºæ—¶ï¼Œéƒ½éœ€è¦é‡å¤ç›¸åŒçš„ä¾‹ç¨‹æ­¥éª¤æ¥é…ç½®å®ƒï¼š </p><br><ul><li> æ ¹æ®æ‰€åˆ›å»ºçš„åº”ç”¨ç¨‹åºç±»å‹ï¼ˆSpring MVCï¼ŒSpring JDBCï¼ŒSpring ORMç­‰ï¼‰ï¼Œå¯¼å…¥å¿…è¦çš„Springæ¨¡å— </li><li> å¯¼å…¥Webå®¹å™¨åº“ï¼ˆç”¨äºWebåº”ç”¨ç¨‹åºï¼‰ </li><li> å¯¼å…¥å¿…è¦çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆä¾‹å¦‚ï¼ŒHibernateï¼ŒJacksonï¼‰ï¼ŒåŒæ—¶åº”æŸ¥æ‰¾ä¸æŒ‡å®šçš„Springç‰ˆæœ¬å…¼å®¹çš„ç‰ˆæœ¬ </li><li> é…ç½®DAOç»„ä»¶ï¼Œä¾‹å¦‚ï¼šæ•°æ®æºï¼Œäº‹åŠ¡ç®¡ç†ç­‰ã€‚ </li><li>é…ç½®Webå±‚ç»„ä»¶ï¼Œä¾‹å¦‚ï¼šèµ„æºç®¡ç†å™¨ï¼Œè§†å›¾è§£æå™¨ </li><li> å®šä¹‰ä¸€ä¸ªå°†åŠ è½½æ‰€æœ‰å¿…è¦é…ç½®çš„ç±»ã€‚ </li></ul><a name="habracut"></a><br><h2 id="1-predstavlyaem-spring-boot">  1.ä»‹ç»Spring Boot </h2><br><p>  Springçš„ä½œè€…å†³å®šä¸ºå¼€å‘äººå‘˜æä¾›ä¸€äº›å®ç”¨ç¨‹åºï¼Œè¿™äº›å®ç”¨ç¨‹åºå¯ä»¥è‡ªåŠ¨æ‰§è¡Œé…ç½®è¿‡ç¨‹å¹¶åŠ å¿«åˆ›å»ºå’Œéƒ¨ç½²Springåº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ï¼Œç»Ÿç§°ä¸º<strong>Spring Bootã€‚</strong> </p><br><p>  <strong>Spring Boot</strong>æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„é¡¹ç›®ï¼Œå…¶ç›®æ ‡æ˜¯ç®€åŒ–åŸºäºSpringçš„åº”ç”¨ç¨‹åºçš„åˆ›å»ºã€‚ å®ƒå…è®¸æ‚¨ä»¥æœ€ç®€å•çš„æ–¹å¼åˆ›å»ºWebåº”ç”¨ç¨‹åºï¼Œè€Œå¼€å‘äººå‘˜åªéœ€èŠ±è´¹å¾ˆå°‘çš„ç²¾åŠ›å³å¯é…ç½®å’Œç¼–å†™ä»£ç ã€‚ </p><br><h2 id="2-osobennosti-spring-boot">  2. Spring Bootçš„åŠŸèƒ½ </h2><br><p>  <strong>Spring Boot</strong>å…·æœ‰å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†æœ€é‡è¦çš„åŠŸèƒ½æ˜¯ï¼šä¾èµ–å…³ç³»ç®¡ç†ï¼Œè‡ªåŠ¨é…ç½®å’Œå†…ç½®çš„servletå®¹å™¨ </p><br><h3 id="21-prostota-upravleniya-zavisimostyami">  2.1ã€‚ è½»æ¾çš„ä¾èµ–ç®¡ç† </h3><br><p> ä¸ºäº†åŠ å¿«ä¾èµ–å…³ç³»ç®¡ç†è¿‡ç¨‹ï¼ŒSpring Bootéšå¼åŒ…è£…äº†æ¯ç§åŸºäºSpringçš„åº”ç”¨ç¨‹åºæ‰€éœ€çš„ç¬¬ä¸‰æ–¹ä¾èµ–å…³ç³»ï¼Œå¹¶é€šè¿‡æ‰€è°“çš„<strong>å…¥é—¨</strong>åŒ…ï¼ˆspring-boot-starter-webï¼Œspring-boot-starter-data-jpaç­‰ï¼‰å°†å…¶æä¾›ç»™å¼€å‘äººå‘˜ã€‚ .dã€‚ï¼‰ </p><br><p>  <strong>å…¥é—¨</strong>åŒ…æ˜¯å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­åŒ…å«çš„ä¸€ç»„ä¾¿æ·çš„ä¾èµ–é¡¹æè¿°ç¬¦ã€‚ è¿™å°†ä¸ºæ‰€æœ‰ä¸Springç›¸å…³çš„æŠ€æœ¯æä¾›ä¸€ä¸ªé€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œä»è€Œé¿å…ç¨‹åºå‘˜ä¸å¿…è¦åœ°æœç´¢ä»£ç ç¤ºä¾‹å¹¶ä»ä¸­åŠ è½½æ‰€éœ€çš„ä¾èµ–é¡¹æè¿°ç¬¦ï¼ˆæ­¤ç±»æè¿°ç¬¦å’Œå…¥é—¨åŒ…çš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼‰ </p><br><p> ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³å¼€å§‹ä½¿ç”¨Spring Data JPAè®¿é—®æ•°æ®åº“ï¼Œåªéœ€åœ¨é¡¹ç›®ä¸­åŒ…å«<strong>spring-boot-starter-data-jpa</strong>ä¾èµ–é¡¹å°±å¯ä»¥äº†ï¼ˆæ‚¨ä¸å¿…å¯»æ‰¾å…¼å®¹çš„æ•°æ®åº“é©±åŠ¨ç¨‹åºå’ŒHibernateåº“ï¼‰ </p><br><p> å¦‚æœè¦åˆ›å»ºSpring Webåº”ç”¨ç¨‹åºï¼Œåªéœ€æ·»åŠ <strong>spring-boot-starter-web</strong>ä¾èµ–é¡¹ï¼Œå³å¯å°†å¼€å‘Spring MVCåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰åº“ï¼ˆä¾‹å¦‚<strong>spring-webmvc</strong> ï¼Œ <strong>jackson-json</strong> ï¼Œ <strong>validation-api</strong>å’Œ<strong>Tomcatï¼‰</strong>å¼•å…¥é¡¹ç›®ä¸­ã€‚ </p><br><p> æ¢å¥è¯è¯´ï¼Œ <strong>Spring Boot</strong>æ”¶é›†äº†æ‰€æœ‰å¸¸è§çš„ä¾èµ–å…³ç³»å¹¶åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰äº†å®ƒä»¬ï¼Œè¿™ä½¿å¼€å‘äººå‘˜å¯ä»¥ç®€å•åœ°ä½¿ç”¨å®ƒä»¬ï¼Œè€Œä¸å¿…åœ¨æ¯æ¬¡åˆ›å»ºæ–°åº”ç”¨ç¨‹åºæ—¶éƒ½æµªè´¹æ—¶é—´ </p><br><p> å› æ­¤ï¼Œå½“ä½¿ç”¨<strong>Spring Bootæ—¶</strong> ï¼Œ <strong>pom.xml</strong>æ–‡ä»¶åŒ…å«çš„è¡Œæ¯”åœ¨Springåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„è¡Œå°‘ </p><br><p> è¯·å‚é˜…æ‰€æœ‰<strong>Spring Bootå…¥é—¨åŒ…</strong>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡æ¡£</a> <strong>ã€‚</strong> </p><br><h3 id="22-avtomaticheskaya-konfiguraciya">  2.2ã€‚ è‡ªåŠ¨é…ç½® </h3><br><p> ç¬¬äºŒä¸ªå‡ºè‰²çš„<strong>Spring Boot</strong>åŠŸèƒ½æ˜¯è‡ªåŠ¨åº”ç”¨ç¨‹åºé…ç½® </p><br><p> é€‰æ‹©åˆé€‚çš„<strong>å…¥é—¨</strong>åŒ…ä¹‹åï¼Œ <strong>Spring Boot</strong>å°†å°è¯•æ ¹æ®æ‚¨æ·»åŠ çš„<strong>jar</strong>ä¾èµ–é¡¹è‡ªåŠ¨é…ç½®Springåº”ç”¨ç¨‹åº </p><br><p> ä¾‹å¦‚ï¼Œå¦‚æœæ·»åŠ <strong>Spring-boot-starter-web</strong> ï¼ŒSpring Bootå°†è‡ªåŠ¨é…ç½®æ³¨å†Œçš„beanï¼Œä¾‹å¦‚<strong>DispatcherServlet</strong> ï¼Œ <strong>ResourceHandlers</strong> ï¼Œ <strong>MessageSource</strong> </p><br><p> å¦‚æœä½¿ç”¨<strong>spring-boot-starter-jdbc</strong> ï¼Œ <strong>Spring Bootä¼š</strong>è‡ªåŠ¨æ³¨å†Œ<strong>DataSource</strong> ï¼Œ <strong>EntityManagerFactory</strong>å’Œ<strong>TransactionManager Beanï¼Œ</strong>å¹¶ä»<strong>application.properties</strong>æ–‡ä»¶è¯»å–ç”¨äºè¿æ¥æ•°æ®åº“çš„ä¿¡æ¯ã€‚ </p><br><p> å¦‚æœæ‚¨ä¸æ‰“ç®—ä½¿ç”¨æ•°æ®åº“ï¼Œå¹¶ä¸”ä¸æä¾›æœ‰å…³æ‰‹åŠ¨æ¨¡å¼ä¸‹è¿æ¥çš„ä»»ä½•è¯¦ç»†ä¿¡æ¯ï¼ŒSpring Bootå°†è‡ªåŠ¨åœ¨å†…å­˜ä¸­é…ç½®æ•°æ®åº“ï¼Œè€Œæ— éœ€æ‚¨è¿›è¡Œä»»ä½•å…¶ä»–é…ç½®ï¼ˆå¦‚æœæœ‰H2æˆ–HSQLåº“ï¼‰ </p><br><p> å¯ä»¥éšæ—¶é€šè¿‡ç”¨æˆ·è®¾ç½®å®Œå…¨é‡æ–°å®šä¹‰è‡ªåŠ¨é…ç½® </p><br><h3 id="23-vstroennaya-podderzhka-servera-prilozheniy--konteynera-servletov">  2.3ã€‚ å¯¹åº”ç”¨ç¨‹åºæœåŠ¡å™¨çš„æœ¬æœºæ”¯æŒ-Servletå®¹å™¨ </h3><br><p> æ¯ä¸ªSpring Boot Webåº”ç”¨ç¨‹åºéƒ½åŒ…å«ä¸€ä¸ªåµŒå…¥å¼WebæœåŠ¡å™¨ã€‚ çœ‹ä¸€ä¸‹å¼€ç®±å³ç”¨æ”¯æŒ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„</a> servletå®¹å™¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åˆ—è¡¨</a> ã€‚ </p><br><p> å¼€å‘äººå‘˜ä¸å†éœ€è¦æ‹…å¿ƒé…ç½®servletå®¹å™¨å¹¶åœ¨å…¶ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚ ç°åœ¨ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨å†…ç½®æœåŠ¡å™¨ä½œä¸ºå¯æ‰§è¡Œçš„jaræ–‡ä»¶è‡ªè¡Œå¯åŠ¨ </p><br><p> å¦‚æœéœ€è¦ä½¿ç”¨å•ç‹¬çš„HTTPæœåŠ¡å™¨ï¼Œåˆ™åªéœ€ä¸ºæ­¤æ’é™¤é»˜è®¤ä¾èµ–é¡¹å³å¯ã€‚  Spring Bootä¸ºä¸åŒçš„HTTPæœåŠ¡å™¨æä¾›äº†å•ç‹¬çš„å…¥é—¨åŒ… </p><br><p> ç”¨åµŒå…¥å¼æœåŠ¡å™¨åˆ›å»ºç‹¬ç«‹çš„Webåº”ç”¨ç¨‹åºä¸ä»…æ–¹ä¾¿å¼€å‘ï¼Œè€Œä¸”æ˜¯ä¼ä¸šçº§åº”ç”¨ç¨‹åºå¯æ¥å—çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”åœ¨å¾®æœåŠ¡é¢†åŸŸä¸­å˜å¾—è¶Šæ¥è¶Šæœ‰ç”¨ã€‚ åœ¨ç‹¬ç«‹ä¸”å¯å®Œå…¨éƒ¨ç½²çš„å·¥ä»¶ä¸­å¿«é€Ÿæ‰“åŒ…æ•´ä¸ªæœåŠ¡ï¼ˆä¾‹å¦‚ç”¨æˆ·èº«ä»½éªŒè¯ï¼‰çš„èƒ½åŠ›è¿˜æä¾›äº†APIï¼Œè¿™ä½¿å¾—åº”ç”¨ç¨‹åºçš„å®‰è£…å’Œéƒ¨ç½²æ›´åŠ å®¹æ˜“ </p><br><h2 id="3-trebovaniya-k-ustanovke-spring-boot">  3. Spring Bootå®‰è£…è¦æ±‚ </h2><br><p> è¦é…ç½®å’Œè¿è¡ŒSpring Bootåº”ç”¨ç¨‹åºï¼Œéœ€è¦ä»¥ä¸‹å†…å®¹ï¼š </p><br><ul><li>  Java 8+ </li><li>  Apache Maven 3.x </li></ul><br><h2 id="4-sozdanie-spring-boot-prilozheniya">  4.åˆ›å»ºä¸€ä¸ªSpring Bootåº”ç”¨ç¨‹åº </h2><br><p> ç°åœ¨è®©æˆ‘ä»¬ç»ƒä¹ å¹¶å®ç°ä¸€ä¸ªéå¸¸ç®€å•çš„REST APIï¼Œä»¥ä½¿ç”¨Spring Bootçš„åŠŸèƒ½æ¥æ¥å—ä»˜æ¬¾ </p><br><h3 id="41-sozdanie-web-proekta-s-ispolzovaniem-maven">  4.1ã€‚ ä½¿ç”¨Mavenåˆ›å»ºä¸€ä¸ªWebé¡¹ç›® </h3><br><p> åœ¨æ‚¨ä½¿ç”¨çš„IDEä¸­åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®ï¼Œå°†å…¶ç§°ä¸ºSpringBootRestService </p><br><p> ç¡®ä¿ä½¿ç”¨Java 8+ç‰ˆæœ¬ï¼Œå› ä¸ºSpring Bootä¸é€‚ç”¨äºæ—©æœŸç‰ˆæœ¬ </p><br><h3 id="42-konfiguraciya-pomxml">  4.2ã€‚  Pom.xmlé…ç½® </h3><br><p> ç¬¬äºŒæ­¥æ˜¯åœ¨<strong>pom.xml</strong>æ–‡ä»¶ä¸­é…ç½®Spring Boot </p><br><p> æ‰€æœ‰Spring Bootåº”ç”¨ç¨‹åºéƒ½æ˜¯ä»<strong>spring-boot-starter-parenté…ç½®çš„</strong> ï¼Œå› æ­¤åœ¨è¿›ä¸€æ­¥å®šä¹‰ä¾èµ–é¡¹ä¹‹å‰ï¼Œè¯·æŒ‰å¦‚ä¸‹æ‰€ç¤ºæ·»åŠ <strong>starter-parent</strong> ï¼š </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-parent<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>2.1.1.RELEASE<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> å› ä¸º ç”±äºæˆ‘ä»¬æ­£åœ¨åˆ›å»ºREST APIï¼Œå› æ­¤æœ‰å¿…è¦ä½¿ç”¨<strong>spring-boot-starter-web</strong>ä½œä¸ºä¾èµ–é¡¹ï¼Œå®ƒéšå¼å®šä¹‰äº†æ‰€æœ‰å…¶ä»–ä¾èµ–é¡¹ï¼Œä¾‹å¦‚<strong>spring-core</strong> ï¼Œ <strong>spring-web</strong> ï¼Œ <strong>spring-webmvc</strong> ï¼Œ <strong>servlet api</strong>å’Œ<strong>jackson-databind</strong>åº“ï¼Œå› æ­¤åªéœ€å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°pom.xmlä¸­ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-web<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> ç°åœ¨ï¼Œä»¥ä¸‹jaråº“å°†è‡ªåŠ¨å¯¼å…¥åˆ°æ‚¨çš„é¡¹ç›®ä¸­ï¼š </p><br><p><img src="https://habrastorage.org/webt/9m/6q/cv/9m6qcvujtbpuc9cj-e6jqmzbukw.png" alt="å›¾ç‰‡"></p><br><p> ä¸‹ä¸€æ­¥æ˜¯æ·»åŠ Spring Bootæ’ä»¶ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-maven-plugin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> æœ€åä¸€æ­¥æ˜¯ä½¿Mavenåœ¨ç»„è£…è¿‡ç¨‹ä¸­ç”Ÿæˆå¯æ‰§è¡Œçš„jaræ–‡ä»¶ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span>jar<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> ä»¥ä¸‹æ˜¯å®Œæ•´çš„pom.xmlæ–‡ä»¶ï¼š </p><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span>4.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>springboot.topjava.ru<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>SpringBootRestService<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span>jar<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">properties</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maven.compiler.source</span></span></span><span class="hljs-tag">&gt;</span></span>1.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maven.compiler.source</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maven.compiler.target</span></span></span><span class="hljs-tag">&gt;</span></span>1.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maven.compiler.target</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">properties</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-parent<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>2.1.1.RELEASE<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">parent</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-web<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-maven-plugin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> å¦‚æ‚¨æ‰€è§ï¼Œä½¿ç”¨ä¸€ä¸ªä¾èµ–é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºåŠŸèƒ½é½å…¨çš„Webåº”ç”¨ç¨‹åº </p><br><h3 id="43-sozdanie-resursov-rest">  4.3ã€‚ åˆ›å»ºRESTèµ„æº </h3><br><p> ç°åœ¨ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªä»˜æ¬¾æ§åˆ¶å™¨ä»¥åŠPOJOç±»ï¼Œç”¨äºè¯·æ±‚å’Œå“åº” </p><br><p> è®©æˆ‘ä»¬ç¼–å†™ä»˜æ¬¾è¯·æ±‚çš„ç±»åˆ«ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> springboot.topjava.ru; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PaymentRequest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> userId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String itemId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> discount; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getItemId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> itemId; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setItemId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String itemId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.itemId = itemId; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDiscount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> discount; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDiscount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> discount)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.discount = discount; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userId; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUserId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId = userId; } }</code> </pre> <br><p> è¿˜æœ‰ä¸€ä¸ªå¤„ç†æˆ‘ä»¬çš„æœåŠ¡è¿”å›çš„åŸºæœ¬å“åº”çš„ç±»ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> springboot.topjava.ru; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseResponse</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String status; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Integer code; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BaseResponse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String status, Integer code)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status = status; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.code = code; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> status; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> code; } }</code> </pre> <br><p> ç°åœ¨åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> springboot.topjava.ru; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.*; <span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/payment"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PaymentController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String sharedKey = <span class="hljs-string"><span class="hljs-string">"SHARED_KEY"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String SUCCESS_STATUS = <span class="hljs-string"><span class="hljs-string">"success"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String ERROR_STATUS = <span class="hljs-string"><span class="hljs-string">"error"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> CODE_SUCCESS = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> AUTH_FAILURE = <span class="hljs-number"><span class="hljs-number">102</span></span>; <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> BaseResponse </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">showStatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BaseResponse(SUCCESS_STATUS, <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@PostMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/pay"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> BaseResponse </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pay</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@RequestParam(value = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"key"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> String key, @RequestBody PaymentRequest request) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> BaseResponse response; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sharedKey.equalsIgnoreCase(key)) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> userId = request.getUserId(); String itemId = request.getItemId(); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> discount = request.getDiscount(); <span class="hljs-comment"><span class="hljs-comment">// Process the request // .... // Return success response to the client. response = new BaseResponse(SUCCESS_STATUS, CODE_SUCCESS); } else { response = new BaseResponse(ERROR_STATUS, AUTH_FAILURE); } return response; } }</span></span></code> </pre> <br><h3 id="44-sozdanie-osnovnogo-klassa-prilozheniya">  4.4ã€‚ åˆ›å»ºä¸»åº”ç”¨ç¨‹åºç±» </h3><br><p> æœ€åä¸€æ­¥æ˜¯åˆ›å»ºé…ç½®ç±»å¹¶å¯åŠ¨åº”ç”¨ç¨‹åºã€‚  Spring Bootæ”¯æŒæ–°çš„<strong>@SpringBootApplication</strong>æ‰¹æ³¨ï¼Œç­‰æ•ˆäºä½¿ç”¨<strong>@</strong> <strong>Configuration</strong> ï¼Œ <strong>@</strong> <strong>EnableAutoConfiguration</strong>å’Œ<strong>@ComponentScan</strong>åŠå…¶é»˜è®¤å±æ€§ </p><br><p> å› æ­¤ï¼Œæ‚¨åªéœ€è¦åˆ›å»ºä¸€ä¸ªå¸¦æœ‰<strong>@SpringBootApplication</strong>æ³¨é‡Šçš„ç±»ï¼ŒSpring Bootå°†å¯ç”¨è‡ªåŠ¨é…ç½®å¹¶æ‰«æå½“å‰åŒ…ä¸­çš„èµ„æºï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> springboot.topjava.ru; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.SpringApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.autoconfigure.SpringBootApplication; <span class="hljs-meta"><span class="hljs-meta">@SpringBootApplication</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ SpringApplication.run(Application.class, args); } }</code> </pre> <br><h2 id="5-razvertyvanie-prilozheniya-spring-boot">  5.éƒ¨ç½²Spring Bootåº”ç”¨ç¨‹åº </h2><br><p> ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ©ç”¨Spring Bootçš„ç¬¬ä¸‰å¤§åŠŸèƒ½-å®ƒæ˜¯åµŒå…¥å¼æœåŠ¡å™¨ã€‚ æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯ä½¿ç”¨Mavenåˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œçš„jaræ–‡ä»¶ï¼Œå¹¶åƒæ™®é€šçš„ç‹¬ç«‹åº”ç”¨ç¨‹åºä¸€æ ·è¿è¡Œå®ƒï¼š </p><br><ul><li> è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼ˆcmdå‘½ä»¤ï¼‰ï¼Œè½¬åˆ°å¸¦æœ‰<strong>pom.xml</strong>çš„æ–‡ä»¶å¤¹ï¼Œç„¶åè¾“å…¥<strong>mvn clean package</strong>å‘½ä»¤ </li><li>  Mavenå°†ç”Ÿæˆä¸€ä¸ªåä¸º<strong>SpringBootRestService-1.0.jar</strong>çš„å¯æ‰§è¡Œjaræ–‡ä»¶ã€‚ </li><li> è½¬åˆ°<strong>cdç›®æ ‡</strong>æ–‡ä»¶å¤¹ </li><li> ç„¶åè¿è¡Œjaræ–‡ä»¶ï¼š <strong>java -jar SpringBootRestService-1.0.jar</strong> </li><li> è½¬åˆ°æµè§ˆå™¨ï¼Œä½äº<strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">httpï¼š//æœ¬åœ°ä¸»æœºï¼š8080 /ä»˜æ¬¾</a></strong> </li></ul><br><p> æˆ‘ä»¬çš„REST APIæ­£åœ¨è¿è¡Œï¼Œå¹¶å‡†å¤‡é€šè¿‡ç«¯å£8080ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰å¤„ç†è¯·æ±‚ </p><br><p> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶äº†Spring Bootçš„åŠŸèƒ½ï¼Œå¹¶ä½¿ç”¨åµŒå…¥å¼æœåŠ¡å™¨åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ã€‚ </p><br><p> èµ„æ–™æ¥æºï¼š <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://dzone.com/articles/introducing-spring-boot</a> </p><br><h4 id="v-perevode-obnovili-informaciyu"> åœ¨ç¿»è¯‘ä¸­ï¼Œä¿¡æ¯å·²æ›´æ–°ï¼š </h4><br><ul><li>  Spring-boot-starter-parentå°†ç‰ˆæœ¬ä»1.5.8.RELEASEæ›´æ”¹ä¸º2.1.1.RELEASEï¼Œå› æ­¤Mavenæå–çš„åº“åˆ—è¡¨å·²æ›´æ–° </li><li> åˆ é™¤äº†Springå­˜å‚¨åº“å£°æ˜ï¼Œä»ä¸­å¤®å­˜å‚¨åº“ä¸­æå–äº†ä¾èµ–é¡¹ </li><li> åœ¨BaseResponseç±»ä¸­ï¼Œå­—æ®µè®¾ç½®ä¸ºfinalï¼Œæ·»åŠ äº†æ„é€ å‡½æ•°ï¼Œå¹¶åˆ é™¤äº†setter </li><li> åœ¨PaymentControllerä¸­ï¼Œæˆ‘ä»¬é€šè¿‡@GetMappingå¼•å…¥äº†showStatusï¼ˆï¼‰æ–¹æ³•ï¼Œä»¥åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•åº”ç”¨ç¨‹åº </li><li> ç”¨@ GetMapping / @ PostMappingæ›¿æ¢æ–¹æ³•ä¸­çš„@RequestMapping </li><li> è¿˜è¿›è¡Œäº†æ›´æ”¹ä»¥ä»å‘½ä»¤è¡Œéƒ¨ç½²åº”ç”¨ç¨‹åº </li></ul><br><h3 id="update"> æ›´æ–°ï¼š </h3><br><p> æ­£å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Lure_of_Chaos</a>æŒ‡å‡ºçš„é‚£æ ·ï¼Œç°åœ¨å¯ä»¥é€šè¿‡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SPRING INITIALIZR</a>è‡ªåŠ¨å®Œæˆæ‰€æœ‰æ“ä½œã€‚ å¹¶ä¸”<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ— éœ€ç¦»å¼€æ‚¨æœ€å–œæ¬¢çš„JetBrains IntelliJ IDEA</a> ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN435144/">https://habr.com/ru/post/zh-CN435144/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN435132/index.html">æ¸¸ç‰§æ°‘æ—ï¼šé—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="../zh-CN435134/index.html">ä½¿ç”¨QSqlRelationalTableModelç®€åŒ–åœ¨Qtä¸­ä½¿ç”¨æ•°æ®åº“çš„å·¥ä½œ</a></li>
<li><a href="../zh-CN435136/index.html">è°¢å°”ç›–å’Œç§‘å­¦æ–¹æ³•</a></li>
<li><a href="../zh-CN435138/index.html">å¦‚ä½•æ§åˆ¶æ‚¨çš„ç½‘ç»œåŸºç¡€æ¶æ„ã€‚ ç¬¬ä¸‰ç«  ç½‘ç»œå®‰å…¨ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN435142/index.html">ä½¿ç”¨eBPFå­¦ä¹ è·Ÿè¸ªï¼šæŒ‡å—å’Œç¤ºä¾‹</a></li>
<li><a href="../zh-CN435148/index.html">ä½¿ç”¨bashçš„æœ¬æœºDHCPæœåŠ¡å™¨</a></li>
<li><a href="../zh-CN435150/index.html">é—¨å‰çš„ä¸´åºŠè¯•éªŒ-Aubrey de Grayè®¿è°ˆ</a></li>
<li><a href="../zh-CN435152/index.html">è‹¹æœä¸é«˜é€šä¹‹é—´çš„ä¸“åˆ©çº çº·å¯¼è‡´iPhone 7å’Œ8åœ¨å¾·å›½åœæ­¢é”€å”®</a></li>
<li><a href="../zh-CN435154/index.html">è¶…äººæœºå™¨äººçš„å›å¿†å½•ï¼Œç¬¬9-12ç« </a></li>
<li><a href="../zh-CN435156/index.html">éœ€è¦æ›´å¤šç›¸æœºï¼šè¯ºåŸºäºš9é©¬ä¸Šæœ‰5ä¸ªç›¸æœº</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>