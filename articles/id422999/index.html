<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¼â€ğŸ³ ğŸ© ğŸ¤³ğŸ» Buat dataset alien Anda sendiri ğŸ•™ ğŸ•‘ ğŸ™†ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Segmentasi orang yang menggunakan jaringan saraf tidak akan mengejutkan siapa pun. Ada banyak aplikasi, seperti Sticky Ai , Teleport Live , Instagram ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Buat dataset alien Anda sendiri</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422999/"><p><img src="https://habrastorage.org/webt/0n/pb/2v/0npb2v4d-tgt7iquaqtlct4feoe.jpeg"></p><br><p>  Segmentasi orang yang menggunakan jaringan saraf tidak akan mengejutkan siapa pun.  Ada banyak aplikasi, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sticky Ai</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Teleport Live</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Instagram</a> , yang memungkinkan Anda untuk melakukan tugas yang sulit pada ponsel secara real time. </p><br><p>  Jadi, misalkan planet Bumi menghadapi peradaban luar angkasa.  Dan dari alien dari sistem bintang Alpha Centauri, permintaan diterima untuk mengembangkan produk baru.  Mereka sangat menyukai aplikasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sticky Ai</a> , yang memungkinkan Anda untuk memotong orang dan membuat stiker, sehingga mereka ingin mem-port aplikasi tersebut ke pasar intergalaksi mereka. </p><a name="habracut"></a><br><p>  Sayangnya, jaringan saraf kami, yang digunakan dalam aplikasi segmentasi, hanya dilatih pada gambar ras manusia, oleh karena itu, ia bekerja dengan buruk pada alien.  Ada kebutuhan mendesak untuk memperluas set data kami oleh alien. </p><br><p>  Setelah meminta beberapa ribu gambar mereka kepada alien, kami melanjutkan ke markup. </p><br><p>  <strong>Tantangan:</strong> <br>  Ada gambar alien, untuk setiap gambar Anda perlu membuat topeng hitam dan putih di mana alien akan disorot dalam warna putih dan latar belakang dalam warna hitam. </p><br><p><img src="https://habrastorage.org/webt/my/8m/ef/my8mefxpcgtvx1jjnugzas_yk7o.png"></p><br><p>  <strong>Solusi:</strong> <br>  Pertama-tama, Anda perlu membuat ToR untuk freelancer yang akan menata gambar.  Karena kami membutuhkan kualitas yang sangat tinggi, kami akan menandai gambar dalam Photoshop. </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p>  Jika kita tidak membutuhkan kualitas yang sangat baik, atau objek yang dipilih sangat sederhana, maka markup seperti itu dapat dilakukan dengan menggunakan garis putus-putus (simpul poligon).  Jenis markup ini tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Amazon Mechanical Turk</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Yandex.Toloke</a> , di mana tenaga kerja sangat murah. </p></div></div><br><p>  Dimungkinkan untuk membuat TOR dalam bentuk dokumen PDF 10 halaman, tetapi: </p><br><ol><li>  Pekerja lepas biasanya tidak membaca TK, tetapi menelusuri. </li><li>  Dalam dokumen tersebut, sulit untuk menjelaskan secara terperinci algoritma cara menandai dengan benar dan cepat. </li><li>  Dibutuhkan banyak waktu untuk menyusun dokumen itu sendiri. </li></ol><br><p>  Karenanya, sekarang kami telah sepenuhnya meninggalkan TK dalam bentuk dokumen PDF, dan kami memberikan tugas di <br>  jenis video pelatihan.  Setelah inovasi seperti itu: </p><br><ul><li>  Produktivitas freelancer meningkat dua kali lipat (karena video menunjukkan cara tercepat dan paling optimal untuk markup). </li><li>  Pertanyaan yang diajukan oleh freelancer berkurang sebanyak 3 kali (karena video menunjukkan setiap langkah). </li><li>  Ternyata mengurangi biaya markup sebanyak 2 kali (karena harga satu jam kerja tidak berubah, tetapi freelancer menandai dua kali lebih cepat). </li></ul><br><p>  Perhatian khusus harus diberikan pada metode markup di Photoshop.  Photoshop adalah program yang sangat fleksibel di mana markup dapat dilakukan dengan berbagai cara.  Oleh karena itu, disarankan untuk menentukan terlebih dahulu kualitas markup apa yang Anda butuhkan, mempelajari alat seleksi yang berbeda, membandingkannya satu sama lain dan memilih salah satu yang paling cepat memproses gambar. </p><br><p>  <strong>Contoh:</strong> <br>  Ada dua cara untuk menyorot: <br>  Metode A membutuhkan 5 menit per gambar. <br>  Metode B membutuhkan 10 menit per gambar. </p><br><p>  Dengan metode A, freelancer menandai 12 gambar per jam, sehingga harga per gambar akan menjadi 150/12 = 12,5 rubel. <br>  Dengan metode B, freelancer menandai 6 gambar per jam, sehingga harga per gambar akan menjadi 150/6 = 25 rubel. </p><br><p>  Jadi, kami menemukan cara terbaik untuk menyorot dan merekam instruksi video, selanjutnya apa? </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/nsIFPPU4iuo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Masih mencari freelancer.  Ada banyak pertukaran freelancer seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Fl.ru</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Weblancer</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Freelans.ru</a> . <br>  Namun baru-baru ini, kami telah menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">layanan</a> freelance <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WORK-ZILLA</a> karena: </p><br><ol><li>  Ada tenaga kerja yang cukup murah. </li><li>  Banyak pemain. </li><li>  Antarmuka yang mudah digunakan untuk membuat tugas. </li></ol><br><p>  Untuk membuat tugas: <br>  Kami mendaftar, mengisi saldo, klik "Kirim tugas", pilih "Desain" -&gt; "Pemrosesan Foto". </p><br><p><img src="https://habrastorage.org/webt/bq/m9/6j/bqm96j-rxrnltjrnt4-mwarxdzk.png"></p><br><p>  Isi judul dan deskripsi, tentukan waktu untuk menyelesaikan tugas.  Setelah memproses beberapa alien, saya perhatikan bahwa rata-rata dibutuhkan 4 menit per gambar.  Yaitu  15 gambar keluar per jam, jadi kami menetapkan harga untuk satu gambar 150/15 = 10 rubel. </p><br><p><img src="https://habrastorage.org/webt/dd/oa/ry/ddoarygio8jwduibrzuu9fgtiv0.png"></p><br><p>  Segera setelah publikasi tugas, para pelaku mulai menawarkan layanan mereka. </p><br><p><img src="https://habrastorage.org/webt/dy/c8/nx/dyc8nxhrme-znqb3r1el0y-tzwa.png"></p><br><p>  Kami memilih yang paling <strike>indah dengan gambar profil yang</strike> dialami oleh ulasan dan menegaskan sebagai pemain, mengeluarkan gambar.  Seperti yang Anda lihat, kami membutuhkan waktu kurang dari 15 menit untuk menemukan seorang freelancer. </p><br><p><img src="https://habrastorage.org/webt/fc/bm/d8/fcbmd8kovltedt_u20zhoelv5hc.png"></p><br><p>  Pagi berikutnya, pemain itu mengirim pekerjaan. </p><br><p><img src="https://habrastorage.org/webt/9q/xs/ad/9qxsadyhhf4li5nnumigwd5qb_q.png"><br><img src="https://habrastorage.org/webt/s_/dh/ji/s_dhjiggthjfgvwlfygpf914l-q.png"></p><br><p>  Bagaimana cara memeriksanya sekarang? </p><br><p>  Tentu saja, Anda dapat membuka setiap gambar di Photoshop dan melihat seberapa baik semuanya disorot, tetapi bagaimana jika 20 orang bekerja untuk Anda pada saat yang sama dan semua orang mengirim 40 gambar sehari? </p><br><p>  Otomatis!  Untuk memudahkan verifikasi, saya menerapkan skrip berikut di python: </p><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> shutil <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> __future__ <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> print_function <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> tqdm <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tqdm_notebook <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tqdm <span class="hljs-comment"><span class="hljs-comment">#,       def generate_checkerboard(shape, size): res = np.ones(shape, dtype=np.float32) for i in range(0, shape[0] // size + 1): for j in range(0, shape[1] // size + 1): if (i + j) % 2 == 0: res[i * size:i * size + size, j * size:j * size + size] = 0.7 return np.stack([res] * 3, axis=2) path = '01_ Ì†_13' files_im = filter(lambda x: x[-4:] == '.jpg', os.listdir(path + '/images')) files_masks = filter(lambda x: x[-4:] == '.png', os.listdir(path + '/masks')) print('- : %s' % len(files_im)) print('- : %s' % len(files_masks)) if len(files_im) != len(files_masks): print('-     ') raise Exception('bad count') #  res,      os.makedirs(path + '/res') for idd in tqdm(map(lambda x: x[:-4], files_im)): print(idd) mask = cv2.imread(path + '/masks/' + idd + ".png") / 255. im = cv2.imread(path + '/images/' + idd + ".jpg") checkerboard = generate_checkerboard(im.shape[:2], 40) * 255 cv2.imwrite(path + '/res/' + idd + ".jpg", np.concatenate([im, im * (1 - mask), im * mask + (1 - mask) * checkerboard],axis=1))</span></span></code> </pre> <br><p>  Script mengambil gambar asli, topeng, dan membuat kolase dari mereka, yang terdiri dari gambar asli, memotong latar belakang dan memotong alien. </p><br><div class="spoiler">  <b class="spoiler_title">Jalankan skrip dan dapatkan kolase seperti itu:</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/wz/yf/us/wzyfusy_3yvq5sxupzowiezyrew.jpeg"><br><img src="https://habrastorage.org/webt/ax/lw/3a/axlw3ann0onq1jp4hchd6zp2lqw.jpeg"><br><img src="https://habrastorage.org/webt/_j/ot/jb/_jotjb1ivkuxj0lxepgf33_vomq.jpeg"><br><img src="https://habrastorage.org/webt/5e/lz/wm/5elzwmgmfyaivftoyhtr0d-juja.jpeg"><br><img src="https://habrastorage.org/webt/x5/fu/-5/x5fu-588bxi8s4nfthft942myds.jpeg"><br><img src="https://habrastorage.org/webt/lp/gr/zn/lpgrznuxuxy-3hvmkealu9f_-fc.jpeg"><br><img src="https://habrastorage.org/webt/b_/1l/8q/b_1l8qgivhkg6zyvc-hunudth-8.jpeg"><br><img src="https://habrastorage.org/webt/r3/wb/ln/r3wblnbv1qzb7y53xtcizah8yjk.jpeg"><br><img src="https://habrastorage.org/webt/0n/pb/2v/0npb2v4d-tgt7iquaqtlct4feoe.jpeg"><br><img src="https://habrastorage.org/webt/5p/2s/wg/5p2swga8lwpqpu6etmpfudhnjs0.jpeg"></p></div></div><br><p>  Setelah meninjau gambar, kami melihat bahwa artis tidak memilih satu gambar dengan sangat baik. </p><br><p><img src="https://habrastorage.org/webt/5e/lz/wm/5elzwmgmfyaivftoyhtr0d-juja.jpeg"></p><br><p>  Harap perbaiki gambar. </p><br><p><img src="https://habrastorage.org/webt/cv/fq/5b/cvfq5bpts9fnfdpiruwetvmemn8.png"></p><br><p>  Setelah freelancer memperbaiki semua komentar kami, kami mengonfirmasi pekerjaan dan memberikan umpan balik yang berterima kepada freelancer. </p><br><p><img src="https://habrastorage.org/webt/mn/jj/ir/mnjjirvnybsybybs2dwi_ors2ly.png"></p><br><p>  <strong>Hasilnya:</strong> <br>  Misalkan Anda membutuhkan 2.000 gambar alien untuk melatih jaringan saraf. <br>  Kemudian, untuk mengumpulkan dataset seperti itu, Anda hanya perlu menghabiskan 2.000 x 10 = 20.000 rubel, dan jika Anda memperhitungkan bahwa rata-rata satu freelancer memproses 40 gambar sehari dan 10 orang bekerja di markup, maka membuat dataset akan membutuhkan 2000 / (10 x 40) = 5 hari. </p><br><p>  <strong>PS</strong> <br>  Tentu saja, kami belum menemukan alien, tidak ada tim Prisma AI yang akan melakukan segmentasi alien, tetapi dengan contoh ini saya ingin menunjukkan kepada Anda seberapa sederhana dan hemat biaya Anda dapat membuat set data Anda sendiri untuk tugas apa pun, baik itu deteksi pejalan kaki untuk kendaraan tak berawak atau penentuan hutan dalam citra satelit. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id422999/">https://habr.com/ru/post/id422999/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id422987/index.html">Dan lagi, hari ke-256 tahun ini</a></li>
<li><a href="../id422989/index.html">Database bukan hanya gudang data</a></li>
<li><a href="../id422993/index.html">Membakar TV OLED dalam tes nyata</a></li>
<li><a href="../id422995/index.html">QA mitap di Redmadrobot</a></li>
<li><a href="../id422997/index.html">Buku "PHP Modern"</a></li>
<li><a href="../id423005/index.html">Bagaimana Yandex.Zen, Plugin Caching WordPress dan Hosting Meningkatkan Tekanan Saya</a></li>
<li><a href="../id423007/index.html">"Malyavki, tapi bagus": bagaimana kami membawa siswa untuk berlatih</a></li>
<li><a href="../id423009/index.html">SENS Diagnostics. Biomarker glikasi protein</a></li>
<li><a href="../id423011/index.html">Manajemen Layanan Mikro dengan Kubernetes dan Istio</a></li>
<li><a href="../id423013/index.html">Bagaimana mengatur dependensi Anda dalam aplikasi Vue</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>