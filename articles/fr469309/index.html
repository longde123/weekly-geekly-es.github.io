<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚤 🎄 👩🏽‍✈️ Nous installons un service simple pour surveiller le mouvement des objets vers le serveur 🤶🏻 👨🏻‍🚀 👩🏿‍🤝‍👩🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, je veux aborder le sujet de l'installation d'un système de surveillance de véhicules sur un serveur pour les besoins d'une petite organis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous installons un service simple pour surveiller le mouvement des objets vers le serveur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469309/">  Aujourd'hui, je veux aborder le sujet de l'installation d'un système de surveillance de véhicules sur un serveur pour les besoins d'une petite organisation ou d'un usage privé sans frais inutiles et danser avec un tambourin.  En tant que service, nous utiliserons la version gratuite de P.O "Autoradar" et une passerelle logicielle pour les trackers de la famille tk102-103. <br><a name="habracut"></a><br>  Pour commencer, pour mettre en œuvre une telle tâche, vous pouvez utiliser à la fois un serveur virtuel et un ordinateur ou un serveur avec un serveur Linux ou Windows. <br><br>  Considérez l'option d'installation dans Docker en utilisant le système d'exploitation Ubuntu 18.4 comme exemple.  La première chose que vous devez installer sur la machine serveur est Docker lui-même.  Pour ce faire, accédez à la console <br><br><pre><code class="plaintext hljs">$ sudo apt-get update $ sudo apt-get install wget $ wget -qO- https://get.docker.com/ | sh</code> </pre> <br>  L'étape suivante consiste à installer docker-compose, entrez <code>$ pip install docker-compose</code> , si pip n'est pas installé, vous devez l'installer.  Si python 3 est installé sur le système, alors docker-compose peut être installé avec la commande <code>$ pip3 install docker-compose</code> . <br><br>  Après avoir installé docker-compose, nous passons à la partie principale - il s'agit de l'installation et de la configuration du service de surveillance. <br><br>  Créez un répertoire avec n'importe quel nom avec la commande $ mkdir mydirectory, allez-y $ cd mydirectory. <br><br>  Téléchargez l'archive <code>$ wget https://github.com/gadson/Autoradar-docker-installer/releases/download/Autoradar/Autoradar.zip</code> . <br><br>  Décompressez-le avec la commande <code>$ unzip Autoradar.zip</code> , si unzip n'est pas installé, définissez <code>$ apt-get install unzip</code> . <br><br>  De plus, si vous ne voulez rien changer dans les paramètres, vous pouvez ignorer l'étape suivante et procéder à l'installation. <br><br>  1. Configuration: <br><br>  Pour simplifier le processus de configuration, installez le gestionnaire de fichiers mc, cela se fait avec la commande suivante <code>$ sudo apt-get install mc</code> <br><br>  Exécutez mc avec la commande <code>$ mc</code> <br><br>  Accédez au répertoire / Autoradar / GeoServer / et modifiez le fichier settings.py (dans mc, sélectionnez le fichier souhaité et appuyez sur F4) <br><br>  1.1.  Modifiez les paramètres d'accès à la base de données.  Pour ce faire, recherchez la ligne «BASES DE DONNÉES», dans laquelle vous pouvez modifier le nom de la base de données - «NOM», la connexion pour accéder à la base de données - «UTILISATEUR», le mot de passe - «MOT DE PASSE», le port - «PORT». <br><br>  1.2.  Ensuite, nous passons à la fin du fichier et trouvons: <br><br>  #Email envoyer les paramètres du compte <br>  EMAIL_HOST = smtp.yandex.ru '- spécifiez le serveur smtp pour l'envoi des messages <br>  EMAIL_HOST_USER = 'info@*****.ru' - connexion pour le serveur smtp <br>  EMAIL_HOST_PASSWORD = '' - mot de passe pour le serveur smtp <br>  EMAIL_PORT = 587 - port du serveur smtp <br>  EMAIL_USE_TLS = True - TLS <br>  FROM_EMAIL = '' - email de l'expéditeur <br><br>  Spécifiez le domaine principal du serveur (le cas échéant) <br><br><pre> <code class="plaintext hljs">MAIN_DOMAIN ='http://*******.com'</code> </pre> <br>  Configuration de l'envoi des notifications PUSH du début du véhicule aux clients mobiles <br><br><pre> <code class="plaintext hljs">#Google GCM PUSH service API key</code> </pre> <br>  GOOGLE_API_KEY = "" La clé pour envoyer PUSH via le serveur GCM <br>  Configurer l'envoi de notifications et de messages de service au serveur RC <br>  Paramètres du serveur #RocketChat pour les messages de journal <br>  RC_USERNAME = 'Robot_Vasia' - connexion <br>  RC_PASSWORD = '' - mot de passe <br>  RC_DOMAIN = 'http: // *******: 3000' - adresse du serveur sur le réseau et le port <br><br>  1.3.  Enregistrez les modifications. <br><br>  1.4.  Important!  Si vous avez modifié les paramètres d'accès à la base de données dans settings.py, vous devez alors corriger le fichier situé dans la racine «mon répertoire» <code>docker-compose.yml</code> <br><br>  Dans ce document, vous devez modifier les lignes suivantes: <br><br><ul><li>  POSTGRES_PORT = 5432 - spécifiez le port comme dans settings.py </li><li>  POSTGRES_NAME = postgres - spécifiez le nom de la base de données </li><li>  POSTGRES_USER = postgres - connexion d'accès à la base de données </li><li>  POSTGRES_PASSWORD = postgres - mot de passe d'accès à la base de données </li></ul><br>  1.5.  Enregistrez les modifications dans le fichier. <br><br>  2. Installation: <br><br>  Important!  Vérifiez que les ports 5432 (si vous n'avez pas modifié le port de la base de données), 8888 et 8001 étaient libres et non occupés par d'autres applications ou services. <br><br>  À partir de la console, tapez $ ./instsall.sh Si le script ne démarre pas, tapez $ sudo chmod u + x ./install.sh et répétez la commande précédente. <br><br>  Au cours du processus d'installation, l'installateur proposera d'enregistrer l'administrateur, d'entrer deux fois la connexion administrateur, l'e-mail et le mot de passe. Le mot de passe doit contenir à la fois des chiffres et des lettres en majuscules et minuscules (mise en page). <br><br>  Ceci termine l'installation.  Le service Web fonctionne sur le port 8001, la base de données sur le port 5432 (si vous n'avez pas modifié les paramètres) et la passerelle de connexion des trackers GPS / GSM fonctionne sur le port 8888. Vous pouvez connecter plusieurs passerelles, mais c'est un sujet pour un autre article.  Les trackers Android fonctionnent sans passerelle, par API. <br><br>  Le client moniteur pour Windows, Android et iPhone peut être téléchargé via les liens de votre compte dans le service. <br><br>  En outre, cette version de "Autoradar" prend en charge les logiciels de suivi GPS pour Android. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tracker Link pour Android</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr469309/">https://habr.com/ru/post/fr469309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr469297/index.html">Conférences de fer. SOM i.MX6, Aliceduino, Keras + STM32Cube.AI</a></li>
<li><a href="../fr469299/index.html">Vue instantanée, instantanée et inaccessible</a></li>
<li><a href="../fr469301/index.html">Agilean: Lean + Agile</a></li>
<li><a href="../fr469303/index.html">Andrei Belyaev sur la réflexion à Java lors de la réunion jug.msk.ru</a></li>
<li><a href="../fr469307/index.html">Noix de Google</a></li>
<li><a href="../fr469315/index.html">Outils de développement Node.js. Protocole Mqtt pour travailler avec des sockets Web</a></li>
<li><a href="../fr469317/index.html">Finances pour PMa en prévente: comment calculer rapidement le budget et les flux de trésorerie dans MS Project</a></li>
<li><a href="../fr469319/index.html">Expérience sur le campus F2P</a></li>
<li><a href="../fr469321/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 51. Dépannage EIGRP</a></li>
<li><a href="../fr469323/index.html">Getters / setters et problème d'encapsulation dans les projets symfony</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>