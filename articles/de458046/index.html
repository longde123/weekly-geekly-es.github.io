<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêº üöΩ üèá Gradle Spickzettel ‚òÆÔ∏è üôãüèø üñºÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es scheint mir, dass die meisten Leute erst dann mit Gradle zu tun haben, wenn etwas zum Projekt hinzugef√ºgt werden muss oder pl√∂tzlich etwas kaputt g...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gradle Spickzettel</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458046/"><p> Es scheint mir, dass die meisten Leute erst dann mit Gradle zu tun haben, wenn etwas zum Projekt hinzugef√ºgt werden muss oder pl√∂tzlich etwas kaputt geht - und nachdem das Problem "durch √úberarbeitung erworben" gel√∂st wurde, ist die Erfahrung sicher vergessen.  Dar√ºber hinaus √§hneln viele Beispiele im Internet hochspezialisierten Zauberspr√ºchen, die kein Verst√§ndnis f√ºr das Geschehen vermitteln: </p><br><pre><code class="java hljs">android { compileSdkVersion <span class="hljs-number"><span class="hljs-number">28</span></span> defaultConfig { applicationId <span class="hljs-string"><span class="hljs-string">"com.habr.hello"</span></span> minSdkVersion <span class="hljs-number"><span class="hljs-number">20</span></span> targetSdkVersion <span class="hljs-number"><span class="hljs-number">28</span></span> } buildTypes { release { minifyEnabled <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> } } }</code> </pre> <br><p>  Ich werde nicht im Detail beschreiben, wof√ºr jede Zeile oben ist - dies sind private Details der Implementierung des Android-Plugins.  Es gibt etwas Wertvolleres - ein Verst√§ndnis daf√ºr, wie alles organisiert ist.  Die Informationen sind auf verschiedenen Websites / offiziellen Dokumentationen / Quellen des Hagels und Plugins daf√ºr verteilt - im Allgemeinen ist dies ein etwas universelleres Wissen, das ich nicht vergessen m√∂chte. </p><br><p>  Der weitere Text kann als Spickzettel f√ºr diejenigen betrachtet werden, die gerade den Gradle beherrschen oder bereits vergessen haben. </p><a name="habracut"></a><br><h2 id="poleznye-ssylki">  N√ºtzliche Links </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die offizielle Dokumentation ist</a> ziemlich umfangreich, aber an einigen Stellen fehlen m√∂glicherweise Details. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quellcodes auf Github</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Javadoc</a> - Aufgrund der dynamischen Typisierung in Groovy ist die Entwicklungsumgebung weit davon entfernt, immer eine Liste der verf√ºgbaren Felder / Methoden zu liefern, und anhand von Kurznamen von Methoden und Argumenttypen (Closure Closure) ist es nicht immer m√∂glich zu verstehen, warum sie ben√∂tigt werden. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ein Artikel √ºber einen Hub mit einer Reihe von Beispielen</a> ist eine √úbersetzung des zweiten Kapitels des Buches "Bauen und Testen mit Gradle".  Das Buch kann auch gelesen werden, es ist frei verf√ºgbar. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">noch ein Artikel - √ºber buildSrc</a> </li></ul><br><h1 id="konsol">  Konsole </h1><br><p>  Android Studio / IDEA verbirgt sorgf√§ltig Gradle-Befehle vor dem Entwickler, und selbst wenn die build.gradle-Dateien ge√§ndert werden, wird das Projekt dumm oder neu gestartet. </p><br><p>  In solchen F√§llen ist das Aufrufen von gradle √ºber die Konsole viel einfacher und schneller.  Der Grapper-Wrapper geh√∂rt normalerweise zum Projekt und funktioniert unter Linux / MacOS / Windows einwandfrei, es sei denn, Sie m√ºssen in letzterem die Bat-Datei anstelle des Wrappers aufrufen. </p><br><h2 id="vyzov-zadach">  Aufgaben herausfordern </h2><br><pre> <code class="plaintext hljs">./gradlew tasks</code> </pre> <br><p>  schreibt verf√ºgbare Aufgaben. </p><br><pre> <code class="plaintext hljs">./gradlew subprojectName:tasks --all</code> </pre> <br><p>  Sie k√∂nnen die Aufgaben eines separaten Teilprojekts anzeigen, und selbst mit der Option <code>--all</code> werden alle Aufgaben, einschlie√ülich der sekund√§ren, angezeigt. </p><br><p>  Sie k√∂nnen jede Aufgabe aufrufen, und alle Aufgaben, von denen es abh√§ngt, werden aufgerufen. </p><br><pre> <code class="plaintext hljs">./gradlew app:assembleDevelopDebug</code> </pre> <br><p>  Wenn Sie zu faul sind, um den ganzen Namen zu schreiben, k√∂nnen Sie kleine Buchstaben wegwerfen: </p><br><pre> <code class="plaintext hljs">./gradlew app:assembleDD</code> </pre> <br><p>  Wenn der Hagel nicht klar erraten kann, welche Aufgabe er vorhatte, wird eine Liste geeigneter Optionen angezeigt. </p><br><h2 id="logging">  Protokollierung </h2><br><p>  Die Menge an Informationen, die beim Starten einer Aufgabe in der Konsole angezeigt werden, h√§ngt stark von der Protokollierungsstufe ab. <br>  Zus√§tzlich zur Standardeinstellung gibt es <code>-q, -w, -i, -d</code> , well oder <code>--quiet, --warn, --info, --debug</code> in zunehmender Informationsmenge.  Bei komplexen Projekten kann die Ausgabe mit -d mehr als ein Megabyte in Anspruch nehmen. Daher ist es besser, sie sofort in einer Datei zu speichern und dort bereits nach Schl√ºsselw√∂rtern zu suchen: </p><br><pre> <code class="bash hljs">./gradlew app:build -d &gt; myLog.txt</code> </pre> <br><p>  Wenn irgendwo eine Ausnahme ausgel√∂st wird, wird die Option <code>-s</code> f√ºr die Stapelverfolgung verwendet. </p><br><p>  Sie k√∂nnen selbst in das Protokoll schreiben: </p><br><pre> <code class="java hljs">logger.warn(<span class="hljs-string"><span class="hljs-string">'A warning log message.'</span></span>)</code> </pre> <br><p>  Der Logger ist eine Implementierung von SLF4J. </p><br><h2 id="groovy">  Groovy </h2><br><p>  Was in <code>build.gradle</code> Dateien passiert, ist nur grooviger Code. </p><br><p>  Aus irgendeinem Grund ist Groovy als Programmiersprache nicht sehr beliebt, obwohl es, wie es mir scheint, an sich zumindest ein wenig Studium wert ist.  Die Sprache wurde 2003 geboren und entwickelte sich langsam.  Interessante Features: </p><br><ul><li>  Fast jeder Java-Code ist ein g√ºltiger Groovy-Code.  Es hilft sehr, intuitiv Arbeitscode zu schreiben. </li><li>  Gleichzeitig mit der statischen, dynamischen Typisierung wird in der Rille unterst√ºtzt. Anstelle von <code>String a = "a"</code> Sie sicher <code>def a = "a"</code> oder sogar <code>def map = ['one':1, 'two':2, 'list' = [1,false]]</code> schreiben. <code>def map = ['one':1, 'two':2, 'list' = [1,false]]</code> </li><li>  Es gibt Abschl√ºsse, f√ºr die Sie den Ausf√ºhrungskontext dynamisch bestimmen k√∂nnen.  Dieselben <code>android {...}</code> -Bl√∂cke schlie√üen und f√ºhren sie dann f√ºr ein Objekt aus. </li><li>  Es gibt eine Interpolation der Zeichenfolgen <code>"$a, ${b}"</code> , der mehrzeiligen Zeichenfolgen <code>"""yep, ${c}"""</code> und gew√∂hnlicher Java-Zeichenfolgen werden in einfache Anf√ºhrungszeichen gesetzt: <code>'text'</code> </li><li>  Es gibt einen Anschein von Erweiterungsmethoden.  Die Standard-Sprachsammlung enth√§lt bereits Methoden wie any, every, each, findAll.  F√ºr mich pers√∂nlich scheinen die Namen der Methoden ungew√∂hnlich, aber die Hauptsache ist, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sie es sind</a> . </li><li>  K√∂stlicher syntaktischer Zucker, der Code ist viel k√ºrzer und einfacher.  Sie m√ºssen keine Klammern um die Argumente der Funktion schreiben. F√ºr die Deklaration von Listen und Hash- <code>[a,b,c], [key1: value1, key2: value2]</code> lautet <code>[a,b,c], [key1: value1, key2: value2]</code> nette Syntax: <code>[a,b,c], [key1: value1, key2: value2]</code> </li></ul><br><p>  Im Allgemeinen ist es mir ein R√§tsel, warum Sprachen wie Python / Javascript in die H√∂he geschossen sind und Groovy nicht.  F√ºr seine Zeit, als es in Java nicht einmal Lambdas gab und Alternativen wie Kotlin / Scala nur auftauchten oder noch nicht existierten, musste Groovy wie eine wirklich interessante Sprache aussehen. </p><br><p>  Es war die Flexibilit√§t der groovigen Syntax und der dynamischen Typisierung, die es uns erm√∂glichte, pr√§gnante DSLs in Gradle zu erstellen. </p><br><p>  In der offiziellen Gradle-Dokumentation sind Beispiele f√ºr Kotlin dupliziert, und es scheint geplant zu sein, darauf umzusteigen, aber der Code sieht nicht mehr so ‚Äã‚Äãeinfach aus und √§hnelt eher normalem Code: </p><br><pre> <code class="java hljs">task hello { doLast { println <span class="hljs-string"><span class="hljs-string">"hello"</span></span> } }</code> </pre> <br><p>  vs. </p><br><pre> <code class="kotlin hljs">tasks.register(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>) { doLast { println(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>) } }</code> </pre> <br><p>  Eine Umbenennung in Kradle ist jedoch noch nicht geplant. </p><br><h2 id="stadii-sborki">  Montagestufen </h2><br><p>  Sie sind in Initialisierung, Konfiguration und Ausf√ºhrung unterteilt. </p><br><p>  Die Idee ist, dass gradle einen azyklischen Abh√§ngigkeitsgraphen sammelt und nur das erforderliche Minimum davon aufruft.  Wenn ich das richtig verstehe, erfolgt die Initialisierungsphase in dem Moment, in dem der Code von build.gradle ausgef√ºhrt wird. </p><br><p>  Zum Beispiel: </p><br><pre> <code class="java hljs">copy { from source to dest }</code> </pre> <br><p>  Oder so: </p><br><pre> <code class="java hljs">task epicFail { copy{ from source to dest } }</code> </pre> <br><p>  Vielleicht ist dies nicht offensichtlich, aber das Obige verlangsamt die Initialisierung.  Um nicht bei jeder Initialisierung Dateien kopieren zu m√ºssen, m√ºssen Sie den <code>doLast{...}</code> oder <code>doFirst{...}</code> in der Aufgabe verwenden. Anschlie√üend wird der Code in einen Abschluss eingeschlossen und nach Abschluss der Aufgabe aufgerufen. </p><br><pre> <code class="java hljs">task properCopy { doLast { copy { from dest to source } } }</code> </pre> <br><p>  oder so </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">properCopy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(type: Copy)</span></span></span><span class="hljs-function"> </span></span>{ from dest to source }</code> </pre> <br><p>  In den alten Beispielen sehen <code>doLast</code> den Operator <code>&lt;&lt;</code> anstelle von <code>doLast</code> , der jedoch sp√§ter aufgrund des nicht offensichtlichen Verhaltens abgebrochen wurde. </p><br><pre> <code class="java hljs">task properCopy &lt;&lt; { println(<span class="hljs-string"><span class="hljs-string">"files copied"</span></span>) }</code> </pre> <br><h2 id="tasksall">  aufgaben.all </h2><br><p>  Was lustig ist, mit <code>doLast</code> und <code>doFirst</code> Sie jede Art von Aktion an jede Aufgabe h√§ngen: </p><br><pre> <code class="kotlin hljs">tasks.all { doFirst { println(<span class="hljs-string"><span class="hljs-string">"task </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string"> started"</span></span>) } }</code> </pre> <br><p>  Die IDE schl√§gt vor, dass <code>tasks</code> eine <code>whenTaskAdded(Closure ...)</code> Methode <code>whenTaskAdded(Closure ...)</code> , aber die <code>all(Closure ...)</code> Methode <code>all(Closure ...)</code> funktioniert viel interessanter - Closure wird f√ºr alle vorhandenen Aufgaben sowie f√ºr neue Aufgaben aufgerufen, wenn sie hinzugef√ºgt werden. </p><br><p>  Erstellen Sie eine Aufgabe, die die Abh√§ngigkeiten aller Aufgaben druckt: </p><br><pre> <code class="kotlin hljs">task printDependencies { doLast { tasks.all { println(<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string"> dependsOn </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dependsOn</span></span></span><span class="hljs-string">"</span></span>) } } }</code> </pre> <br><p>  oder so: </p><br><pre> <code class="kotlin hljs">task printDependencies { doLast { tasks.all { Task task -&gt; println(<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${task.name}</span></span></span><span class="hljs-string"> dependsOn </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${task.dependsOn}</span></span></span><span class="hljs-string">"</span></span>) } } }</code> </pre> <br><p>  Wenn <code>tasks.all{}</code> zur Laufzeit (im <code>doLast</code> Block) <code>doLast</code> wird, werden alle Aufgaben und Abh√§ngigkeiten <code>doLast</code> . <br>  Wenn Sie dasselbe ohne <code>doLast</code> (d. H. W√§hrend der Initialisierung), fehlen den gedruckten Aufgaben m√∂glicherweise Abh√§ngigkeiten, da sie noch nicht hinzugef√ºgt wurden. </p><br><p>  Oh ja, Sucht!  Wenn eine andere Aufgabe von den Ergebnissen unserer Implementierung abh√§ngen soll, lohnt es sich, eine Abh√§ngigkeit hinzuzuf√ºgen: </p><br><pre> <code class="java hljs">anotherTask.dependsOn properCopy</code> </pre> <br><p>  Oder sogar so: </p><br><pre> <code class="kotlin hljs">tasks.all{ task -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (task.name.toLowerCase().contains(<span class="hljs-string"><span class="hljs-string">"debug"</span></span>)) { task.dependsOn properCopy } }</code> </pre> <br><h2 id="inputs-outputs-i-inkrementalnaya-sborka">  Ein-, Ausg√§nge und inkrementelle Montage </h2><br><p>  Eine gemeinsame Aufgabe wird jedes Mal aufgerufen.  Wenn Sie angeben, dass eine auf Datei A basierende Aufgabe Datei B generiert, √ºberspringt gradle die Aufgabe, wenn sich diese Dateien nicht ge√§ndert haben.  Und gradle √ºberpr√ºft nicht das √Ñnderungsdatum der Datei, sondern deren Inhalt. </p><br><pre> <code class="kotlin hljs">task generateCode(type: Exec) { commandLine <span class="hljs-string"><span class="hljs-string">"generateCode.sh"</span></span>, <span class="hljs-string"><span class="hljs-string">"input.txt"</span></span>, <span class="hljs-string"><span class="hljs-string">"output.java"</span></span> inputs.file <span class="hljs-string"><span class="hljs-string">"input.txt"</span></span> output.file <span class="hljs-string"><span class="hljs-string">"output.java"</span></span> }</code> </pre> <br><p>  Ebenso k√∂nnen Sie Ordner sowie einige Werte <code>inputs.property(name, value)</code> : <code>inputs.property(name, value)</code> . </p><br><h2 id="task-description">  Aufgabenbeschreibung </h2><br><p>  Beim Aufrufen von <code>./gradlew tasks --all</code> Standardaufgaben eine sch√∂ne Beschreibung und sind irgendwie gruppiert.  F√ºr Ihre Aufgaben wird dies ganz einfach hinzugef√ºgt: </p><br><pre> <code class="kotlin hljs">task hello { group <span class="hljs-string"><span class="hljs-string">"MyCustomGroup"</span></span> description <span class="hljs-string"><span class="hljs-string">"Prints 'hello'"</span></span> doLast{ print <span class="hljs-string"><span class="hljs-string">'hello'</span></span> } }</code> </pre> <br><h3 id="taskenabled">  task.enabled </h3><br><p>  Sie k√∂nnen die Aufgabe "ausschalten" - dann werden ihre Abh√§ngigkeiten weiterhin aufgerufen, selbst jedoch nicht. </p><br><pre> <code class="java hljs">taskName.enabled <span class="hljs-keyword"><span class="hljs-keyword">false</span></span></code> </pre> <br><h2 id="neskolko-proektov-moduley">  mehrere Projekte (Module) </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multiprojekt-Builds in der Dokumentation</a> </p><br><p>  Im Hauptprojekt k√∂nnen Sie mehrere weitere Module platzieren.  Dies wird beispielsweise in Android-Projekten verwendet - das Root-Projekt enth√§lt fast nichts, das Android-Plugin ist im Teilprojekt enthalten.  Wenn Sie ein neues Modul hinzuf√ºgen m√∂chten, k√∂nnen Sie ein weiteres hinzuf√ºgen. Dort k√∂nnen Sie beispielsweise auch das Android-Plugin anschlie√üen, aber andere Einstellungen daf√ºr verwenden. </p><br><p>  Ein weiteres Beispiel: Wenn Sie ein Projekt mit jitpack ver√∂ffentlichen, beschreibt das Stammprojekt, mit welchen Einstellungen ein untergeordnetes Modul ver√∂ffentlicht werden soll, das die Ver√∂ffentlichung m√∂glicherweise nicht einmal vermutet. </p><br><p>  Untergeordnete Module werden in settings.gradle angegeben: </p><br><pre> <code class="java hljs">include <span class="hljs-string"><span class="hljs-string">'name'</span></span></code> </pre> <br><p>  Weitere Informationen zu Abh√§ngigkeiten zwischen Projekten finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier.</a> </p><br><h2 id="buildsrc">  buildSrc </h2><br><p>  Wenn in <code>build.gradle</code> viel Code <code>build.gradle</code> oder dieser dupliziert wird, kann er in ein separates Modul verschoben werden.  Wir brauchen einen Ordner mit dem magischen Namen <code>buildSrc</code> , in dem Sie den Code in groovy oder java platzieren k√∂nnen.  ( <code>buildSrc/src/main/java/com/smth/</code> , oder besser gesagt, in <code>buildSrc/src/main/java/com/smth/</code> code k√∂nnen Tests zu <code>buildSrc/src/test</code> hinzugef√ºgt werden.)  Wenn Sie beispielsweise etwas anderes m√∂chten, schreiben Sie Ihre Aufgabe auf Scala oder verwenden Sie einige Abh√§ngigkeiten. Dann <code>buildSrc</code> Sie direkt in <code>buildSrc</code> erstellen und die erforderlichen Abh√§ngigkeiten darin angeben / Plugins aktivieren. </p><br><p>  Leider kann bei einem Projekt in <code>buildSrc</code> IDE mit Hinweisen dumm sein, dort m√ºssen Sie Importe schreiben und Klassen / Aufgaben von dort m√ºssen <code>build.gradle</code> es auch in das √ºbliche <code>build.gradle</code> .  <code>import com.smth.Taskname</code> ist nicht schwierig. Sie m√ºssen sich nur daran erinnern und nicht dar√ºber <code>buildSrc</code> warum die Aufgabe von <code>buildSrc</code> nicht gefunden wurde. </p><br><p>  Aus diesem Grund ist es praktisch, zuerst etwas zu schreiben, das direkt in <code>build.gradle</code> , und erst dann den Code an <code>buildSrc</code> zu <code>buildSrc</code> . </p><br><h2 id="svoy-tip-zadachi">  Eigener Aufgabentyp </h2><br><p>  Die Aufgabe erbt von <code>DefaultTask</code> , in dem es viele, viele Felder, Methoden und andere Dinge gibt.  <a href="">Von DefaultTask geerbter AbstractTask-Code.</a> </p><br><p>  N√ºtzliche Punkte: </p><br><ul><li>  Anstatt <code>inputs</code> und <code>outputs</code> manuell hinzuzuf√ºgen <code>outputs</code> Sie ihnen Felder und Anmerkungen verwenden: <code>@Input, @OutputFile</code> usw. </li><li>  Methode, die ausgef√ºhrt wird, wenn die Aufgabe ausgef√ºhrt wird: <code>@TaskAction</code> . </li><li>  Praktische Methoden wie <code>copy{from ... , into... }</code> k√∂nnen weiterhin aufgerufen werden, m√ºssen jedoch f√ºr das Projekt explizit aufgerufen werden: <code>project.copy{...}</code> </li></ul><br><p>  Wenn jemand in <code>build.gradle</code> f√ºr unsere Aufgabe schreibt </p><br><pre> <code class="java hljs">taskName { ... <span class="hljs-comment"><span class="hljs-comment">//some code }</span></span></code> </pre> <br><p>  Die Methode <code>configure(Closure)</code> wird f√ºr die Task aufgerufen. </p><br><p>  Ich bin mir nicht sicher, ob dies der richtige Ansatz ist, aber wenn eine Aufgabe mehrere Felder hat, deren gegenseitiger Zustand mit Getter-Setzern schwer zu kontrollieren ist, erscheint es recht praktisch, die Methode wie folgt neu zu definieren: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">override def </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Closure closure)</span></span></span></span>{ def result = <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>().configure(closure) <span class="hljs-comment"><span class="hljs-comment">//    / - return result; }</span></span></code> </pre> <br><p>  Und selbst wenn du schreibst </p><br><pre> <code class="java hljs">taskName.fieldName value</code> </pre> <br><p>  dann wird die <code>configure</code> Methode weiterhin aufgerufen. </p><br><h2 id="svoy-plagin">  Eigenes Plugin </h2><br><p>  Wie bei einer Aufgabe k√∂nnen Sie Ihr eigenes Plugin schreiben, das etwas konfiguriert oder Aufgaben erstellt.  Zum Beispiel ist das, was in <code>android{...}</code> passiert, ein Verdienst <del>  dunkle Magie </del>  Android-Plug-In, das zus√§tzlich eine ganze Reihe von Aufgaben wie die App erstellt: assembleDevelopDebug f√ºr alle m√∂glichen Kombinationen von Flavour / Build-Typ / Dimension.  Das Schreiben Ihres Plugins ist nicht kompliziert. Zum besseren Verst√§ndnis k√∂nnen Sie den Code anderer Plugins sehen. </p><br><p>  Es gibt einen dritten Schritt: Sie k√∂nnen den Code nicht in <code>buildSrc</code> , sondern zu einem separaten Projekt machen.  Ver√∂ffentlichen Sie dann mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://jitpack.io</a> oder etwas anderem das Plugin und verbinden Sie es √§hnlich mit den anderen. </p><br><h2 id="the-end">  Das Ende </h2><br><p>  Die obigen Beispiele k√∂nnen Tippfehler und Ungenauigkeiten enthalten.  Schreiben Sie eine pers√∂nliche Notiz oder markieren Sie sie mit <code>ctrl+enter</code> - ich werde sie korrigieren.  Spezifische Beispiele werden am besten aus der Dokumentation entnommen. In diesem Artikel finden Sie eine kleine Liste mit Anleitungen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de458046/">https://habr.com/ru/post/de458046/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de458026/index.html">Vergleich der Serialisierungsformate</a></li>
<li><a href="../de458030/index.html">Funktionales JavaScript: F√ºnf M√∂glichkeiten, um das arithmetische Mittel von Array-Elementen und die .reduce () -Methode zu ermitteln</a></li>
<li><a href="../de458040/index.html">Von Moskau nach Tomsk. Die Geschichte eines Zuges</a></li>
<li><a href="../de458042/index.html">Wie ich das maschinelle Lernen an der NSU organisiert habe</a></li>
<li><a href="../de458044/index.html">Informationssicherheit in der Provinz - Stagnation oder Entwicklung?</a></li>
<li><a href="../de458048/index.html">Delegation als Manager-Tool</a></li>
<li><a href="../de458050/index.html">Wie war der Mobius 2019 Piter (und ein bisschen √ºber den n√§chsten Mobius)</a></li>
<li><a href="../de458052/index.html">AMA mit Habr. 10. Letzte * Ausgabe</a></li>
<li><a href="../de458056/index.html">Das gro√üe Interview mit Martin Kleppmann: ‚ÄûDie Zukunft verteilter Datensysteme herausfinden‚Äú</a></li>
<li><a href="../de458060/index.html">Erstellen eines Grasshaders in der Unity-Engine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>