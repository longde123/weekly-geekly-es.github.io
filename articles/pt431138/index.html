<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òÄÔ∏è üßúüèæ ‚úãüèø Biometria com a chave Rostelecom: como o FSB lan√ßou a criptografia russa pela primeira vez em lojas de aplicativos ü§≤üèª üÉè üíÉüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste ver√£o na R√∫ssia, foi lan√ßado o Sistema Biom√©trico Unificado para verifica√ß√£o juridicamente significativa e ao mesmo tempo simples da identidade ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Biometria com a chave Rostelecom: como o FSB lan√ßou a criptografia russa pela primeira vez em lojas de aplicativos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rostelecom/blog/431138/">  Neste ver√£o na R√∫ssia, foi lan√ßado o Sistema Biom√©trico Unificado para verifica√ß√£o juridicamente significativa e ao mesmo tempo simples da identidade do usu√°rio.  Sobre como est√° organizado, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">escrevemos</a> em um post recente. <br><br>  Para tornar o sistema conveniente de usar, voc√™ precisa de um aplicativo.  A cria√ß√£o desta aplica√ß√£o - ‚ÄúRostelecom Key‚Äù - abriu para n√≥s todo um n√≠vel de b√¥nus com novas tarefas, novos desafios.  Quais, como voc√™ pode imaginar, visam melhorar a seguran√ßa dos usu√°rios. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/96f/d5c/ff4/96fd5cff49a4a2a3d8bde12d661756f1.png"><br><a name="habracut"></a><br>  Brevemente sobre o produto principal.  Um √∫nico sistema biom√©trico permite o uso de uma combina√ß√£o de dados biom√©tricos para realizar a identifica√ß√£o remota legalmente significativa de uma pessoa sem sua presen√ßa pessoal.  Assim, voc√™ pode obter um empr√©stimo banc√°rio mesmo a partir de uma "profundidade de min√©rio siberiano".  Com a Internet, √© claro. <br><br><h2>  Como o aplicativo funciona </h2><br>  Um usu√°rio comum come√ßa a trabalhar com o sistema com uma visita ao banco, onde envia dados biom√©tricos para o Sistema Biom√©trico Unificado e os associa √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ESIA</a> .  Depois disso, novas oportunidades se abrem para ele.  Esquema do aplicativo de aplica√ß√£o "Key Rostelecom": <br><br><ol><li>  O usu√°rio baixa o aplicativo "Key Rostelecom" <br></li><li>  O usu√°rio abre o aplicativo do banco de interesse e seleciona o servi√ßo. <br></li><li>  O aplicativo do banco envia o usu√°rio ao aplicativo Rostelecom Key instalado, enquanto transmite o identificador da sess√£o atrav√©s do canal de comunica√ß√£o seguro para o banco. <br></li><li>  No aplicativo ‚ÄúRostelecom Key‚Äù, o usu√°rio efetua login na ESIA (em outras palavras, nos servi√ßos do Estado) e recebe um token de autoriza√ß√£o - ESIA-ID; <br></li><li>  No aplicativo "Rostelecom Key" com o ESIA-ID recebido, o usu√°rio est√° entrando em contato com o Sistema Biom√©trico Unificado.  Se o ESIA-ID estiver registrado l√°, o aplicativo coleta biometria - grava um v√≠deo com o som de uma voz e uma imagem de rosto.  Esses dados no canal seguro v√£o para o Sistema Biom√©trico Unificado. <br></li><li>  O sistema compara os dados obtidos com a amostra existente, determina a probabilidade de coincid√™ncia.  Se o n√≠vel estabelecido pela ordem do Minist√©rio das Comunica√ß√µes for excedido (99,99%), a probabilidade ser√° transferida para o banco. <br></li><li>  O banco recebe uma resposta e, se necess√°rio, solicita informa√ß√µes adicionais sobre o usu√°rio da ESIA via ESIA-ID.  Ao mesmo tempo, os dados s√£o transferidos diretamente entre a ESIA e os sistemas banc√°rios. <br></li></ol><br><h2>  Como tudo est√° protegido </h2><br>  A quest√£o principal √©, obviamente, a seguran√ßa dos dados.  Todos os canais de comunica√ß√£o entre os tr√™s sistemas em intera√ß√£o - ESIA, o Sistema Biom√©trico Unificado e o banco - s√£o protegidos usando gateways TLS usando criptografia russa. <br><br>  No aplicativo, o usu√°rio pode comparar os par√¢metros de certificado no sistema com os par√¢metros de certificado publicados no site do Sistema Biom√©trico Unificado.  Assim, voc√™ pode ter certeza de que a conex√£o √© realmente com o Sistema Biom√©trico Unificado.  O FSB recomenda uma compara√ß√£o para descartar ataques intermedi√°rios quando todas as solicita√ß√µes de usu√°rios s√£o interceptadas atrav√©s do gateway TLS de um invasor. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe8/948/629/fe89486298132e0bda56f7b126a0cc72.png"><br><br>  Al√©m disso, as somas de verifica√ß√£o do aplicativo e o m√≥dulo de prote√ß√£o criptogr√°fica s√£o implementados.  Isso acontece automaticamente quando voc√™ inicia o aplicativo, bem como manualmente a qualquer momento no menu Configura√ß√µes e seguran√ßa.  Se as somas de verifica√ß√£o n√£o corresponderem, o aplicativo ser√° desativado e funcionar√° offline at√© que o problema seja resolvido. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c99/8ef/ea2/c998efea219427b74acd59f0d85fe8bb.png"><br><br>  Como resultado, os mecanismos de seguran√ßa do Rostelecom Key n√£o dependem do sistema operacional - suas pr√≥prias ferramentas de criptografia e controle de integridade est√£o vinculados ao aplicativo.  No est√°gio de verifica√ß√£o, a substitui√ß√£o da biometria de outra pessoa falha - o sistema determinar√° a falsifica√ß√£o.  Por√©m, devido a viola√ß√µes de seguran√ßa no lado do sistema operacional, em princ√≠pio, voc√™ pode alternar entre o usu√°rio e o aplicativo e interceptar os dados transmitidos para autoriza√ß√£o.  Infelizmente, isso √© poss√≠vel, especialmente em dispositivos enraizados com cavalos de Tr√≥ia.  N√£o podemos assumir responsabilidade pelo ambiente operacional.  O aplicativo simplesmente determina a presen√ßa da raiz e n√£o inicia se estiver. <br><br>  Inicialmente, em termos de UX, tudo era muito complicado.  O caminho do usu√°rio no Rostelecom Key inclu√≠a <i>20 telas</i> , 13 das quais relacionadas √† seguran√ßa.  Mas, depois de avaliar tudo isso do ponto de vista do UX, reduzimos essa parte para <i>3-4 telas</i> .  Esse progresso exigiu mais de uma discuss√£o em diferentes n√≠veis. <br><br><h2>  Gravidade da lei </h2><br>  O armazenamento e a transfer√™ncia de dados biom√©tricos na R√∫ssia s√£o regulados por v√°rios atos: <br><br><ul><li>  Seguran√ßa de dados pessoais biom√©tricos - Portaria do Banco da R√∫ssia n¬∫ 4859-U de 9 de julho de 2018 <br></li><li>  Esta instru√ß√£o refere-se √† Ordem do Servi√ßo Federal de Seguran√ßa da R√∫ssia n¬∫ 378, de 10 de julho de 2014, que estabelece a necessidade de usar a prote√ß√£o KC1, o que significa que requer o uso de criptografia russa para proteger o canal de comunica√ß√£o entre o Sistema Biom√©trico Unificado e o dispositivo do usu√°rio. <br></li><li>  Ao usar a criptografia russa para certifica√ß√£o de decis√µes, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fornecimento da PKZ 2005 do</a> FSB da Federa√ß√£o Russa exige que o FSB realize os chamados estudos de caso das solu√ß√µes que est√£o sendo criadas. <br></li></ul><br>  Para passar na certifica√ß√£o, √© necess√°rio fornecer ao FSB informa√ß√µes completas sobre quais mecanismos de prote√ß√£o s√£o usados ‚Äã‚Äãno aplicativo, o que √© assinado por quais fun√ß√µes e tamb√©m os c√≥digos-fonte n√£o apenas do aplicativo em si, mas tamb√©m de outros pontos de intera√ß√£o.  Este procedimento n√£o √© regulamentado a tempo e resulta em enormes custos financeiros.  Qualquer altera√ß√£o no c√≥digo do aplicativo banc√°rio requer uma repeti√ß√£o do procedimento, o que √© imposs√≠vel com as libera√ß√µes uma vez por trimestre e, mais ainda, uma vez por m√™s.  Em geral, imagine quantas aplica√ß√µes banc√°rias existem na R√∫ssia.  Parece um beco sem sa√≠da. <br><br>  Mas encontramos uma sa√≠da para esse impasse.  Ao trabalhar com o Rostelecom Key, os aplicativos banc√°rios n√£o interagem com a biometria, mas apenas recebem o identificador da sess√£o do usu√°rio.  Assim, os pedidos banc√°rios n√£o se enquadram no escopo da Diretiva Banco da R√∫ssia. <br><br>  Outro problema foi a contabilidade de inst√¢ncia obrigat√≥ria de aplicativos usando criptografia russa.  Esse problema tamb√©m foi resolvido - mediante autentica√ß√£o bem-sucedida, o identificador do dispositivo e o ID do usu√°rio ESIA s√£o transmitidos ao sistema, o que permite ao servidor de registro identificar completamente o usu√°rio e o dispositivo. <br><br><h2>  A primeira criptografia russa no Google Play e na App Store </h2><br>  Essa aventura n√£o terminou a√≠.  Do ponto de vista do FSB, o Google Play e a AppStore n√£o s√£o fontes confi√°veis, e os aplicativos Rostelecom Key n√£o podem ser distribu√≠dos usando-os.  Se voc√™ carregar o m√≥dulo SKZI (ferramenta de prote√ß√£o de informa√ß√µes criptogr√°ficas) ‚ÄúRostelecom Key‚Äù no aplicativo Rostelecom habitual de uma fonte confi√°vel, os armazenamentos de aplicativos estar√£o contra ele.  Porque esses esquemas s√£o padr√£o para a distribui√ß√£o de trojans ou spyware.  E se o Google Play fosse nos encontrar, a AppStore recusaria categoricamente. <br><br>  Teoricamente, existe outra abordagem - instalar o aplicativo a partir do servidor da Rostelecom.  Mas ent√£o chegamos ao paradoxo: para instalar uma solu√ß√£o segura, os usu√°rios precisam reduzir a seguran√ßa do ambiente, permitindo a instala√ß√£o de aplicativos de qualquer fonte. <br><br>  Passamos mais de uma semana discutindo com os √≥rg√£os reguladores como resolver o problema.  E, no final, conseguimos concordar, obter permiss√£o para distribuir atrav√©s do Google Play e dos aplicativos da App Store com criptografia russa incorporada ao processo de trabalho. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aa2/f33/29b/aa2f3329b74ea00b4113ff2e24f09791.png"><br><br><h2>  Da an√°lise fatorial √† an√°lise comportamental </h2><br>  Embora isso n√£o se refira diretamente ao aplicativo Rostelecom Key, queremos falar um pouco mais sobre como os dados s√£o verificados no Sistema Biom√©trico Unificado. <br><br>  Cada fator biom√©trico individualmente - voz, rosto - pode ser falsificado.  Portanto, adotamos uma abordagem "comportamental" mais complexa e confi√°vel - analisamos os fatores juntos.  Os usu√°rios primeiro sorriem, depois viram a cabe√ßa e finalmente pronunciam uma senha.  Uma sequ√™ncia relativamente complexa de a√ß√µes que podem variar de acordo com o sistema.  Quanto mais suspeitas ela tiver, mais complicado ser√° o algoritmo.  Um n√≠vel adicional de prote√ß√£o √© a necessidade de inserir um nome de usu√°rio e senha para servi√ßos p√∫blicos. <br><br>  Ao analisar amostras biom√©tricas, diferentes processadores biom√©tricos com algoritmos fundamentalmente diferentes para gerar e verificar modelos de verifica√ß√£o s√£o usados ‚Äã‚Äãsimultaneamente.  Se pelo menos um deles suspeitar de uma substitui√ß√£o, consideramos isso uma tentativa de hackear e enviar os dados para an√°lise.  Portanto, conhecer em detalhes os algoritmos de um ou mesmo de um par de processadores n√£o ser√° suficiente.  No momento, infelizmente, isso pode levar a erros de verifica√ß√£o.  Por exemplo, se uma pessoa mudou de voz, h√° pouca luz ou muito barulho ao seu redor.  No entanto, √© melhor estar seguro de qualquer maneira: quando surgir a menor suspeita de fraude, informamos o banco sobre isso. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/248/9d4/a73/2489d4a73ac13e2f17ee2cba92c1d0af.png"><br><br>  Paralelamente, aplicamos abordagens de seguran√ßa bastante padr√£o - por exemplo, uma restri√ß√£o no n√∫mero de tentativas de login.  Se o usu√°rio sempre entrava no aplicativo a partir de Moscou e, de repente, uma solicita√ß√£o vinha primeiro do Bangladesh e depois de Hong Kong.  Tudo isso √© uma ocasi√£o para considerar o perfil comprometido. <br><br>  Em princ√≠pio, o sistema permite identificar esquemas de fraude mais complexos, com a participa√ß√£o de funcion√°rios do banco que coletaram dados biom√©tricos.  Se tais situa√ß√µes forem detectadas, bloqueamos o infrator por todos os bancos e outras organiza√ß√µes que usam o sistema.  Em casos dif√≠ceis, voc√™ pode bloquear todas as biometrias coletadas pelo banco. <br><br><h2>  Quem est√° seguindo quem? </h2><br>  De acordo com as leis da Federa√ß√£o Russa, os dados biom√©tricos (como qualquer outra informa√ß√£o do usu√°rio) s√£o transmitidos √†s autoridades investigadoras somente mediante solicita√ß√£o oficial e por decis√£o judicial.  Regras padr√£o se aplicam aqui. <br><br>  Por padr√£o, o acesso ao Sistema Biom√©trico Unificado est√° dispon√≠vel apenas para seu operador - Rostelecom.  Os bancos e quaisquer outras organiza√ß√µes com as quais o usu√°rio coopera n√£o s√£o fornecidos com dados biom√©tricos - as organiza√ß√µes recebem apenas uma avalia√ß√£o dos resultados da compara√ß√£o, a probabilidade de a pessoa que est√° acessando seus aplicativos m√≥veis corresponder √† pessoa registrada no Sistema Biom√©trico Unificado. <br><br>  Nem todos os bancos ainda est√£o integrados ao Rostelecom Key.  Um sistema de autentica√ß√£o biom√©trica n√£o pode ser simplesmente implementado em vez de uma apar√™ncia pessoal.  Refazer os processos nas costas dos bancos, levando em considera√ß√£o os cheques de pontua√ß√£o, n√£o √© uma tarefa trivial.  √â necess√°rio organizar o processo para que o cliente possa escolher os servi√ßos dos bancos de interesse antes mesmo de verificar a identidade. <br><br>  Se voc√™ estiver interessado na funcionalidade do aplicativo, poder√° avali√°-lo usando o modo de demonstra√ß√£o.  O Rostelecom Key j√° est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dispon√≠vel</a> no Google Play e em breve aparecer√° na App Store. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt431138/">https://habr.com/ru/post/pt431138/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt431128/index.html">Hacking DDR3 SPD</a></li>
<li><a href="../pt431130/index.html">Semana 48 de seguran√ßa: Hackear sexta-feira negra</a></li>
<li><a href="../pt431132/index.html">Reuters: R√∫ssia aumentar√° multas para empresas de Internet para 1% da receita anual</a></li>
<li><a href="../pt431134/index.html">Telefone SIP no STM32F7-Discovery</a></li>
<li><a href="../pt431136/index.html">Terabytes sem peso no bolso - o futuro est√° aqui? Explorando os recursos do HyperX SAVAGE EXO</a></li>
<li><a href="../pt431140/index.html">Relat√≥rio da metapa Go in Production: v√≠deo, fotos, apresenta√ß√µes</a></li>
<li><a href="../pt431142/index.html">Como executar o SQL Profiler Trace √† noite, em um hor√°rio espec√≠fico?</a></li>
<li><a href="../pt431144/index.html">Microfone Far Fields (matriz de microfone) - her√≥i impercept√≠vel em uma coluna inteligente</a></li>
<li><a href="../pt431146/index.html">1. An√°lise do log do Check Point: o aplicativo oficial do Check Point para Splunk</a></li>
<li><a href="../pt431148/index.html">A nova empresa m√≥vel iOS. Parte # 1: Gera√ß√£o de c√≥digo para recursos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>