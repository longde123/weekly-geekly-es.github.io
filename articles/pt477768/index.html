<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úãüèø üåßÔ∏è üîÜ Hist√≥ria do Vim e um guia para seu uso efetivo üç∞ üë©üèæ‚Äçü§ù‚Äçüë®üèª ‚ò∏Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nota do tradutor: esta √© a primeira parte do artigo monumental (na verdade monumental) sobre o Vim e suas capacidades do desenvolvedor de Minneapolis ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hist√≥ria do Vim e um guia para seu uso efetivo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dcmiran/blog/477768/">  <i>Nota do tradutor: esta √© a primeira parte do artigo monumental (na verdade monumental) sobre o Vim e suas capacidades do desenvolvedor de Minneapolis e do autor do projeto <a href="http://postgrest.org/en/v6.0/">PostgREST,</a> Joe <a href="https://github.com/begriffs">begriffs</a> Nelson.</i> <i><br><br></i>  <i>A primeira parte do artigo √© dedicada ao conhecimento da hist√≥ria do Vim como editor, e o autor fala sobre v√°rios fatos interessantes sobre os recursos do Vim.</i>  <i>Na segunda parte da tradu√ß√£o, todos os chips e hackers que Joe decidiu compartilhar com o p√∫blico estar√£o concentrados. A narrativa, como tal, desaparece e resta apenas um conjunto de diretrizes para a a√ß√£o.</i>  <i>Como o texto original tem dimens√µes completamente inaceit√°veis, dividimos essa hist√≥ria em dois artigos de aproximadamente o mesmo tamanho.</i>  <i>Hoje √© a primeira de duas publica√ß√µes.</i>  <i>Boa leitura.</i> <br><br><hr><br>  Este artigo √© baseado na pesquisa da hist√≥ria do Vim e na leitura do manual do usu√°rio, capa a capa.  Espero que essas notas o ajudem a descobrir (ou redescobrir?) As funcionalidades b√°sicas deste editor para voc√™, al√©m de permitir que voc√™ abandone o uso de arquivos vimrc avisados ‚Äã‚Äãe use plugins com mais aten√ß√£o. <br><br><img src="https://habrastorage.org/webt/hn/0g/5q/hn0g5qskcbqwtg_kauayaurqcak.png"><br><br><h3>  Refer√™ncias </h3><br>  Para ir al√©m dos t√≥picos usuais, eu recomendaria obter uma c√≥pia em papel deste manual e uma ampla refer√™ncia de bolso.  Como n√£o consegui encontrar uma c√≥pia impressa do guia do usu√°rio do Vim, acabei imprimindo o <a href="https://begriffs.com/pdf/vim-user-manual.pdf">arquivo PDF</a> que acompanha o editor usando o printme1.com.  <code>$VIMRUNTIME/doc/usr_??</code> vem com software em <code>$VIMRUNTIME/doc/usr_??</code>  .  Como uma lista conveniente de comandos, posso aconselhar o livro de refer√™ncia <a href="https://www.goodreads.com/book/show/9787030-vi-and-vim-editors-pocket-reference">‚ÄúVi and Vim Editors Pocket‚Äù</a> . <br><br>  <b>Conte√∫do</b> <br><br><ul><li>  A hist√≥ria </li><li>  Hierarquia de configura√ß√£o </li><li>  Plugins de terceiros </li><li>  Backups e propinas </li><li>  Incluir e caminho </li><li>  Editando e compilando um loop </li><li>  Diffs and Patches </li><li>  Buffer de entrada / sa√≠da </li><li>  Tipos de arquivo </li><li>  N√£o esque√ßa o mouse </li><li>  Diversos </li></ul><br><h2>  A hist√≥ria </h2><br><h3>  Nascimento vi </h3><br>  Os comandos e fun√ß√µes do Vi existem h√° mais de cinquenta anos, come√ßando com o editor QED.  Aqui est√° sua linha do tempo: <br><a name="habracut"></a><br><ul><li>  1966: QED (Quick Editor) no Berkeley Timesharing System </li><li>  Julho de 1969: com sua ajuda, eles pousaram na lua (bem, para refer√™ncia) </li><li>  Agosto de 1969: QED ‚Üí ed na AT&amp;T </li><li>  1976 fev: ed ‚Üí em ("Editor de mortais") no Queen Mary's College </li><li>  1976: em ‚Üí ex ("estendido") na Universidade da Calif√≥rnia, Berkeley </li><li>  1977 Out: ex recebe o modo visual, vi - terminal de texto </li></ul><br>  Se voc√™ ler o manual <a href="https://begriffs.com/pdf/qed-editor.pdf">QED</a> e <a href="https://begriffs.com/pdf/ex-manual.pdf">ex</a> , poder√° encontrar algumas semelhan√ßas entre eles.  Ambos os editores usam gram√°tica semelhante para indicar e trabalhar com intervalos de linhas. <br><br>  Editores como QED ed e em foram projetados para terminais de impress√£o, que em sua maioria eram m√°quinas de escrever el√©tricas comuns com um modem conectado a eles.  Esses terminais de "copiadora completa" exibiam comandos no papel e, obviamente, ap√≥s a entrada, era imposs√≠vel fazer corre√ß√µes.  Portanto, o processo de edi√ß√£o consistiu em editar manualmente os comandos do usu√°rio no papel e depois inseri-los novamente. <br><br>  Em 1976, os terminais de v√≠deo, por exemplo, ADM-3A, apareceram.  Um "modo aberto" foi adicionado ao editor Ex, o que permitiu a edi√ß√£o atrav√©s de um terminal de v√≠deo em uma √∫nica p√°gina.  Um modo visual foi adicionado para orientar nas linhas do terminal usando o cursor.  O modo visual foi ativado pelo comando ‚Äúvi‚Äù e atualizou constantemente o arquivo exibido na tela, mantendo o posicionamento da linha de comando na parte inferior da tela.  Fato interessante: as setas foram colocadas nas teclas h, j, k, l no ADM-3A, o que nos permitiu mover o cursor para vi. <br><br>  Voc√™ pode aprender mais sobre essa transi√ß√£o de ed para ex / vi em <a href="https://begriffs.com/pdf/unix-review-bill-joy.pdf">uma entrevista com Bill Joy</a> .  Nele, ele fala sobre como ele criou o ex / vi e sobre algumas coisas que acabaram por desapont√°-lo. <br><br>  O vi cl√°ssico √© apenas uma altera√ß√£o √© ex.  Ambos s√£o representados pelo mesmo arquivo bin√°rio, que pode ser executado nos modos ex e vi, dependendo do nome do arquivo execut√°vel.  O legado de toda essa hist√≥ria √© que o ex / vi ‚Äúse desdobra‚Äù quando usado, quase n√£o requer recursos do sistema e pode funcionar em condi√ß√µes de largura de banda limitada.  Tamb√©m est√° dispon√≠vel na maioria dos sistemas existentes e √© <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/vi.html">totalmente descrito</a> no POSIX. <br><br><h3>  Vi para vim </h3><br>  Derivado de ed, o ex-editor era a propriedade intelectual da AT&amp;T.  Para usar o vi em plataformas diferentes do Unix, as pessoas precisavam escrever clones com uma base de c√≥digo fonte diferente. <br><br>  Aqui est√£o alguns deles: <br><br><ul><li>  nvi - 1980 para 4BSD </li><li>  calvin - 1987 para DOS </li><li>  vil - 1990 para DOS </li><li>  stevie - 1987 para Atari ST </li><li>  elvis - 1990 para Minix e 386BSD </li><li>  vim - 1991 para Amiga </li><li>  viper - 1995 para o Emacs </li><li>  elwin - 1995 para Windows </li><li>  lemmy - 2002 para Windows </li></ul><br>  Vamos nos concentrar no clone do centro da lista - Vim.  Bram Mulenaar queria usar o vi no Amiga e come√ßou a trabalhar com a Atari e a desenvolver o stevie do clone do vi.  E ele nomeou sua vers√£o do porto "Vi Imitation".  Se voc√™ quiser aprender sobre esse processo em primeira m√£o, assista √† entrevista dele na Free Software Magazine. <br><br>  Na vers√£o 1.22, o Vim foi renomeado como "Vi IMproved", que indica a superioridade da c√≥pia sobre o original.  Aqui est√° um gr√°fico das seguintes vers√µes principais, com descri√ß√µes de alguns recursos: <br><br><img src="https://habrastorage.org/webt/n-/gw/lu/n-gwlulgvi4i6rrmjqfzvmvpwbi.png"><br><br>  Para obter mais informa√ß√µes sobre cada vers√£o, deve-se usar ajuda, por exemplo, para o vim8.  Para ver as atualiza√ß√µes planejadas, bem como uma lista de erros conhecidos, voc√™ deve acessar todo.txt. <br><br>  Por exemplo, a oitava vers√£o inclu√≠a algum suporte para trabalhos ass√≠ncronos devido √† press√£o no projeto do NeoVim.  Os desenvolvedores deste √∫ltimo <a href="https://groups.google.com/forum/">queriam</a> executar a depura√ß√£o e o REPL para scripts da web dentro do editor. <br><br>  Geralmente o Vim √© superport√°vel.  Adaptando toda a hist√≥ria de sua exist√™ncia para trabalhar em plataformas completamente diferentes, este editor foi for√ßado a permanecer dentro da estrutura da cultura "f√°cil" de codifica√ß√£o.  O Vim √© executado no OS / 390, Amiga, BeOS e BeBox, Macintosh Classic, Atari MiNT, MS-DOS, OS / 2, QNX, RISC-OS, BSD, Linux, OS X, VMS e MS-Windows.  Voc√™ pode confiar no Vim em qualquer lugar e n√£o se importa com o equipamento que usa. <br><br>  No final do caminho original do vi, em 2002, o c√≥digo fonte ex / vi ainda era publicado sob a licen√ßa do software livre BSD.  Feiticeiros est√£o dispon√≠veis em <a href="http://ex-vi.sourceforge.net/">ex-vi.sourceforge.net</a> . <br><br>  Mas vamos ao que interessa.  Antes de come√ßar a analisar o Vim, √© √∫til saber como ele organiza e l√™ seus arquivos de configura√ß√£o. <br><br><h2>  Hierarquia de configura√ß√£o </h2><br>  Anteriormente, eu acreditava erroneamente que o Vim obt√©m todas as suas configura√ß√µes e scripts apenas do arquivo .vimrc.  Visualizar reposit√≥rios de ‚Äúarquivos de ponto‚Äù aleat√≥rios s√≥ pode refor√ßar essa opini√£o.  Muitas vezes, as pessoas enviam monstruosamente arquivos .vimrc √∫nicos cuja tarefa √© controlar todos os aspectos do editor.  Essas configura√ß√µes enormes tamb√©m s√£o chamadas de ‚Äúvim distros‚Äù. <br><br>  De fato, o Vim possui uma estrutura elegante na qual .vimrc √© apenas um dos muitos "pontos de entrada".  De fato, voc√™ mesmo pode perguntar ao Vim quais scripts ele carrega.  Para fazer isso, edite algum c√≥digo-fonte para um projeto aleat√≥rio em sua m√°quina, fa√ßa o download e execute o comando <br><br><pre> <code class="xml hljs">:scriptnames</code> </pre> <br>  Vale a pena ler esta lista.  Tente adivinhar o que esses scripts fazem e anote os diret√≥rios em que est√£o localizados. <br><br>  A lista foi mais longa do que voc√™ esperava?  Se voc√™ instalou muitos plugins, o editor tem muito o que fazer.  Verifique se ele fica mais lento na inicializa√ß√£o executando o seguinte comando de cria√ß√£o start.log: <br><br><pre> <code class="xml hljs">vim --startuptime start.log name-of-your-file</code> </pre> <br>  Basta comparar a rapidez com que o Vim come√ßa a partir da caixa: <br><br><pre> <code class="xml hljs">vim --clean --startuptime clean.log name-of-your-file</code> </pre> <br>  Para determinar quais scripts devem ser carregados na inicializa√ß√£o ou durante o carregamento do buffer, √© necess√°rio verificar o caminho do tempo de execu√ß√£o do Vim.  Esse caminho √© representado por uma lista de diret√≥rios separados por v√≠rgula, cada um dos quais cont√©m uma estrutura comum.  O Vim verifica essas estruturas em cada diret√≥rio para encontrar seus scripts de inicializa√ß√£o.  Os diret√≥rios s√£o processados ‚Äã‚Äãestritamente na ordem em que est√£o localizados na lista. <br><br>  Verifique o caminho de execu√ß√£o no seu sistema atrav√©s deste comando: <br><br><pre> <code class="xml hljs">:set runtimepath</code> </pre> <br>  Meu sistema cont√©m os seguintes diret√≥rios especificados por padr√£o para verifica√ß√£o do caminho de execu√ß√£o.  Nem todos eles existem, mas o Vim ainda tentar√° acess√°-los e verificar√° o conte√∫do se eles ainda estiverem no local: <br><br> <code>~/.vim</code> <br>  Diret√≥rio inicial, projetado para perfis criados. <br><br> <code>/usr/local/share/vim/vimfiles</code> <br>  Diret√≥rio Vim em todo o sistema, para perfis com privil√©gios de administrador do sistema. <br><br> <code>/usr/local/share/vim/vim81</code> <br>  Aka $ VIMRUNTIME, para arquivos distribu√≠dos com o Vim. <br><br> <code>/usr/local/share/vim/vimfiles/after</code> <br>  No diret√≥rio Vim em todo o sistema, tamb√©m existe o diret√≥rio after.  Pretende-se adicionar as configura√ß√µes pessoais do administrador do sistema "padr√£o". <br><br> <code>~/.vim/after</code> <br>  O diret√≥rio "depois" no diret√≥rio inicial.  Isso √© necess√°rio para que as configura√ß√µes pessoais n√£o cancelem ou se sobreponham √†s configura√ß√µes de todo o sistema ou "padr√£o". <br><br>  Em geral, os diret√≥rios s√£o processados ‚Äã‚Äãna mesma ordem em que s√£o gravados no start.log, uma exce√ß√£o √© feita apenas para "after".  Este est√° sempre no final da lista e √© processado por √∫ltimo. <br><br>  Ao processar cada diret√≥rio, o Vim procura subpastas neles com nomes espec√≠ficos.  Para saber mais sobre isso, consulte a ajuda runtimepath.  Aqui est√° uma breve descri√ß√£o daqueles que consideraremos mais adiante no texto: <br><br> <code>plugin /</code> <br>  Aqui est√£o os arquivos de script do Vim que s√£o carregados automaticamente ao editar qualquer tipo de arquivo.  Eles tamb√©m s√£o chamados de "global". <br><br> <code>autoload /</code> <br>  (N√£o deve ser confundido com "plugin").  Esses scripts de inicializa√ß√£o cont√™m fun√ß√µes que s√£o refor√ßadas apenas a pedido de outros scripts. <br><br> <code>ftdetect /</code> <br>  Scripts para determinar os tipos de arquivo.  Em seu trabalho, eles contam com a extens√£o, local ou conte√∫do interno do arquivo. <br><br> <code>ftplugin /</code> <br>  Scripts que s√£o executados ao editar arquivos de um tipo conhecido. <br><br> <code>compiler /</code> <br>  Determina como executar v√°rios compiladores ou verifica√ß√µes de fiapos e como analisar sua sa√≠da.  Pode ser dividido entre v√°rios plug-ins de uma vez.  O compilador n√£o √© executado automaticamente e deve ser chamado por um comando. <br><br> <code>pack /</code> <br>  Um cont√™iner para pacotes nativos do Vim 8, o sucessor do gerenciamento de pacotes no estilo Pathogen.  Possui sistema de empacotamento pr√≥prio, n√£o requer c√≥digo de terceiros para funcionar. <br><br>  E finalmente, <code>~ / .vimrc</code> √© uma armadilha para as configura√ß√µes gerais do editor.  Usado para definir as configura√ß√µes padr√£o, que podem ser atribu√≠das a um tipo espec√≠fico de arquivo.  Para visualizar a lista inteira, voc√™ pode selecionar .vimrc e executar o comando options. <br><br><h2>  Plugins de terceiros </h2><br>  Os plug-ins s√£o apenas scripts do Vim, para os quais basta coloc√°-los nos lugares corretos no caminho de execu√ß√£o.  Em geral, o processo de instala√ß√£o √© extremamente simples: basta fazer o upload do (s) arquivo (s).  O problema √© que alguns plugins s√£o bastante dif√≠ceis de atualizar ou remover, porque est√£o espalhados em subdiret√≥rios diferentes e obstruem os caminhos de execu√ß√£o com seus scripts.  Ou seja, no final, √© dif√≠cil determinar qual arquivo pertence a qual plugin. <br><br>  Para resolver esse problema, os "gerenciadores de plugins" come√ßaram a se desenvolver.  No vim.org, havia um registro de plugins pelo menos at√© 2003, inclusive (se o arquivo n√£o estiver mentindo).  No entanto, os "gerenciadores de plug-ins" como entidade entraram em moda somente em 2008. <br><br>  Essas ferramentas adicionam diret√≥rios especiais para plug-ins para rastrear caminhos de execu√ß√£o e organizar tags pelas quais os plug-ins podem ser rastreados.  A maioria dos gerentes tamb√©m obt√©m atualiza√ß√µes de plugins da rede. <br><br>  Abaixo, constru√≠ gerenciadores de plugins de acordo com a cronologia de sua ocorr√™ncia.  Com base nos intervalos de datas de lan√ßamento da primeira e da √∫ltima vers√£o.  Se n√£o havia lan√ßamentos oficiais, tomei como base as primeiras datas de lan√ßamento e a √∫ltima atualiza√ß√£o. <br><br><ul><li>  Mar. 2006 - Jul. 2014: Vimball </li><li>  Out 2008 - dez 2015: Pathogen </li><li>  Ago 2009 - Dez 2009: Vimana </li><li>  Dez 2009 - Dez 2014: VAM </li><li>  Ago 2010 - Nov 2010: Jolt </li><li>  Oct. 2010 - Nov. 2012: tplugin </li><li>  Outubro de 2010 - fevereiro de 2014: Vundle </li><li>  Mar 2012 - Mar 2018: vim-flavor </li><li>  Abril de 2012 - mar√ßo de 2016: NeoBundle </li><li>  Janeiro de 2013 - agosto de 2017: infectar </li><li>  Feb. 2013 - Aug. 2016: vimogen </li><li>  Out 2013 - Jan 2015: vim-unbundle </li><li>  Dec 2013 - Jul 2015: Vizardry </li><li>  Feb. 2014 - Oct. 2018: vim-plug </li><li>  Janeiro de 2015 - outubro de 2015: facilitador </li><li>  Aug. 2015 - Apr. 2016: Vizardry 2 </li><li>  Janeiro de 2016 - junho de 2018: dein.vim </li><li>  Setembro de 2016 - o momento: nativo no Vim 8 </li><li>  Feb. 2017 - Sep. 2018: minpac </li><li>  Mar 2018 - Mar 2018: autopac </li><li>  Fev 2017 - Jun 2018: pack </li><li>  Mar 2017 - Sep 2017: vim-pck </li><li>  Sep. 2017 - Sep. 2017: vim8-pack </li><li>  Sep. 2017 - maio de 2019: volt </li><li>  Sep. 2018 - Feb. 2019: vim-packager </li><li>  Fevereiro de 2019 - fevereiro de 2019: plugpac.vim </li></ul><br>  A primeira coisa que voc√™ precisa prestar aten√ß√£o na lista acima √© a enorme variedade.  A segunda - cada uma das ferramentas apresentadas est√° ‚Äúviva‚Äù h√° cerca de quatro anos e, muito provavelmente, sai de moda. <br><br>  O caminho de menor resist√™ncia no gerenciamento de plug-ins √© simplesmente usar a funcionalidade interna do Vim 8, que n√£o exige a obten√ß√£o de nenhum c√≥digo de terceiros.  Vamos ver como fazer isso. <br><br>  Para come√ßar, crie dois diret√≥rios dentro do seu runtimepath: opt e start. <br><br><pre> <code class="xml hljs">mkdir -p ~/.vim/pack/foobar/{opt,start}</code> </pre> <br>  Preste aten√ß√£o ao espa√ßo reservado "foobar" (o nome pode ser alterado).  Classifica completamente todos os pacotes que entram.  A maioria dos usu√°rios simplesmente despeja todos os seus plugins em qualquer categoria e, em geral, isso √© normal.  Escolha qualquer nome que voc√™ quiser;  Vou continuar usando foobar.  Em teoria, voc√™ tamb√©m pode criar v√°rias categorias, por exemplo <code>~/.vim/pack/navigation</code> e <code>~/.vim/pack/linting</code> .  Observe que o Vim n√£o reconhece duplica√ß√£o entre categorias e baixa duplicatas duas vezes, se existirem. <br><br>  Pacotes em "start" s√£o carregados automaticamente, enquanto pacotes em "opt" n√£o s√£o carregados at√© que sejam do Vim usando o comando <code>:packadd</code> .  Essa op√ß√£o √© boa para pacotes raramente usados ‚Äã‚Äãe √© suportada pelo Vim imediatamente, sem a necessidade de executar scripts.  Observe que <code>:packadd</code> n√£o <code>:packadd</code> contrapartida para descarregar pacotes. <br><br>  Para revisar este exemplo, adicionaremos o plug-in de pesquisa difusa ctrlp para optar.  Baixe e descompacte sua vers√£o mais recente em: <br><br><pre> <code class="xml hljs">curl -L https://github.com/kien/ctrlp.vim/archive/1.79.tar.gz \ | tar zx -C ~/.vim/pack/foobar/opt</code> </pre> <br>  Este comando criar√° a <code>~ / .vim / pack / foobar / opt / ctrlp.vim-1.79</code> pacote pronto para uso.  Volte ao vim e crie os ponteiros da tag de ajuda (√≠ndice de helptags) para o novo pacote: <br><br><pre> <code class="xml hljs">:helptags ~/.vim/pack/foobar/opt/ctrlp.vim-1.79/doc</code> </pre> <br>  Este comando criar√° um arquivo chamado "tags" na pasta com os tipos de pacote, que disponibilizam temas para visualiza√ß√£o no sistema interno do Vim.  Forma alternativa: execute helptags ALL depois de baixar o pacote, e o comando cuidar√° de todos os arquivos e seus caminhos de execu√ß√£o. <br>  Quando quiser usar um pacote, fa√ßa o download e lembre-se de que, nesse caso, a termina√ß√£o funciona usando guias, para que voc√™ n√£o precise digitar o nome completo: <br><br><pre> <code class="xml hljs">:packadd ctrlp.vim-1.79</code> </pre> <br>  O diret√≥rio base do Packadd est√° no runtimepath, que permite usar scripts de seu plug-in e ftdetect.  Ap√≥s carregar o ctrlp, voc√™ pode usar o comando CTRL-P para abrir a pesquisa de arquivos por correspond√™ncia parcial. <br><br>  Algumas pessoas controlam seu diret√≥rio ~ / .vim e usam o git para controlar a vers√£o de cada pacote.  Da minha parte, apenas descompacte os pacotes dos arquivos tar e os rastreio manualmente atrav√©s do reposit√≥rio.  Se voc√™ usar pacotes suficientemente maduros que n√£o exijam atualiza√ß√µes frequentes, bem como scripts, eles ser√£o bem pequenos e n√£o far√£o bagun√ßa no hist√≥rico do git. <br><br><h2>  Backups e revers√µes de vers√µes </h2><br>  Dependendo das prefer√™ncias do usu√°rio, o Vim pode proteg√™-lo de quatro causas poss√≠veis de perda de dados: <br><br><ol><li>  Falha ao editar (entre salvamentos).  O Vim pode se proteger contra isso salvando periodicamente as altera√ß√µes no arquivo de pagina√ß√£o. </li><li>  Prote√ß√£o contra a edi√ß√£o do mesmo arquivo com duas inst√¢ncias do Vim, prote√ß√£o contra a substitui√ß√£o de altera√ß√µes feitas por uma ou mais inst√¢ncias.  Isso tamb√©m √© feito atrav√©s do arquivo de troca. </li><li>  Falha durante o pr√≥prio processo de salvamento ap√≥s alterar o arquivo final, mas at√© que o novo conte√∫do seja completamente gravado.  O Vim pode proteg√™-lo disso com a fun√ß√£o writebackup.  Para fazer isso, ele cria no processo de salvar um novo arquivo, que posteriormente substitui o original, se tudo correu bem.  O m√©todo de substitui√ß√£o √© determinado pela configura√ß√£o de c√≥pia de seguran√ßa. </li><li>  Salvando o novo conte√∫do do arquivo, desde que o original seja restaurado.  O Vim permite salvar uma c√≥pia de backup de um arquivo ap√≥s fazer altera√ß√µes. </li></ol><br>  Mas antes de come√ßar a explorar essas configura√ß√µes inteligentes, que tal algumas piadas?  Aqui est√£o alguns coment√°rios de amostra dos arquivos vimrc no GitHub: <br><br>  ‚ÄúN√£o crie um arquivo de pagina√ß√£o.  Gerencie tudo atrav√©s do controle de vers√£o. ‚Äù <br>  ‚ÄúBackups para exilados.  Use o controle de vers√£o. ‚Äù <br>  "Somente controle de vers√£o!"  Apenas hardcore! <br>  "Vivemos em um mundo de controle de vers√£o, portanto, as trocas e os backups est√£o no lixo". <br>  "Por que voc√™ precisa de arquivos de backup se o controle de vers√£o √© suficiente." <br>  "Eu nunca usei arquivos de backup do Vim ... Use o controle de vers√£o." <br>  "A maioria das coisas pode ser encontrada atrav√©s do controle de vers√£o". <br>  "Desative backups de arquivos, porque voc√™ ainda usa o sistema de controle de vers√£o;)". <br>  "E o controle de vers√£o veio, e o Git nos salvou." <br>  ‚ÄúDesative arquivos de troca e sistema de backup.  Sempre use o controle de vers√£o!  SEMPRE! ‚Äù <br>  "N√£o preciso de backup, porque trabalho com controle de vers√£o". <br><br>  A ironia √© que os coment√°rios acima refletem apenas uma compreens√£o do quarto e, em parte, do terceiro tipo de falha.  Se voc√™ recusar o arquivo de troca e o backup, perder√° a prote√ß√£o no caso descrito nos par√°grafos 1 e 2. <br><br>  Aqui est√° um exemplo de configura√ß√£o que eu recomendo para uma opera√ß√£o segura: <br><br><pre> <code class="xml hljs">" Protect changes between writes. Default values of " updatecount (200 keystrokes) and updatetime " (4 seconds) are fine set swapfile set directory^=~/.vim/swap// " protect against crash-during-write set writebackup " but do not persist backup after successful write set nobackup " use rename-and-write-new method whenever safe set backupcopy=auto " patch required to honor double slash at end if has("patch-8.1.0251") " consolidate the writebackups -- not a big " deal either way, since they usually get deleted set backupdir^=~/.vim/backup// end " persist the undo tree for each file set undofile set undodir^=~/.vim/undo//</code> </pre> <br>  Essas configura√ß√µes incluem backups para grava√ß√µes incompletas, mas n√£o salvam arquivos ap√≥s a conclus√£o da opera√ß√£o, porque temos controle de vers√£o, o melhor controle de vers√£o, bl√° bl√° bl√°, etc.  etc.  Observe que voc√™ pode precisar de mkdir ~ / .vim / {swap, undodir, backup}; caso contr√°rio, o Vim acessar√° a pr√≥xima pasta leg√≠vel.  Voc√™ provavelmente tamb√©m precisar√° executar o comando chmod nas pastas de destino para que seu conte√∫do seja privado, pois os arquivos de troca e o hist√≥rico de backup podem conter informa√ß√µes confidenciais. <br><br>  Vale ressaltar que o recurso de nossos caminhos de configura√ß√£o √© que eles sempre fecham com uma barra.  Essa ortografia permite que a fun√ß√£o elimine a poss√≠vel ambiguidade nos caminhos dos arquivos de pagina√ß√£o e backup para arquivos com os mesmos nomes, que est√£o em diret√≥rios diferentes.  Por exemplo, o arquivo de troca para / foo / bar ser√° salvo em ~ / .vim / swap /% foo% bar.swp (escapei de barras com sinais de porcentagem).  Houve um bug no patch recente do Vim que impediu que a barra fosse levada em considera√ß√£o para o backupdir, portanto, a prote√ß√£o contra ela √© mostrada acima. <br><br>  Nosso Vim tamb√©m salva o hist√≥rico de revers√£o para cada arquivo, para que voc√™ possa restaurar a vers√£o correta mesmo ap√≥s sair do modo de edi√ß√£o.  Embora essa fun√ß√£o possa parecer redundante no fundo do arquivo de troca que j√° temos, o hist√≥rico de revers√£o √© uma linha de defesa adicional durante a grava√ß√£o do arquivo. <br><br>  Quando falamos de revers√µes, vale lembrar que o Vim suporta uma √°rvore completa do hist√≥rico de edi√ß√£o de arquivos.  Isso significa que voc√™ pode fazer uma altera√ß√£o, reverter e repetir as mesmas altera√ß√µes novamente, e tudo isso ser√£o tr√™s pontos de recupera√ß√£o diferentes.  O tempo e a extens√£o das altera√ß√µes feitas podem ser verificados usando o comando undolist, mas √© problem√°tico remover a √°rvore.                 :     5 ,      .     ,        ‚Äî  ,  undotree ‚Äî  . <br><br>              .                .   :        .       ,    . <br><br>     :      ,      ,vim         .       nowritebackup,        ,      .     ,   Vim      ,     .    backupskip        . <br><br>  ¬´patchmode¬ª Vim      .      ,     . ,     tar-,        ,     git.  set patchmod = .orig   foo-      foo.orig. <br><br><h2> Include  path </h2><br>      (include)      . Vim     path, include, suffixesadd,  includeexpr.    (. help include-search) ‚Äî       ctags   . <br><br>         .    ,       .           ,     <code>help include</code> . <br><br>    ,    <code>[i</code>  ,    ,    <code>[d</code>    .    <code>gf</code>    Vim     .       :find,      <code>**/*</code>         ,    .       , ..   ,       . <br><br>        ,      .     (      )         CTRL-D.    . <br><br><pre> <code class="xml hljs">" fuzzy-find lite nmap <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Leader</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">space</span></span></span><span class="hljs-tag">&gt;</span></span> :e ./**/</code> </pre> <br>   :  path     (headers) .     ,   : checkpath,  ,   .     C   checkpath.     ,     ,       .   ,  checkpath      ,   . <br><br>      <code>¬´., / Usr / include ,,¬ª</code> .  ,     ‚Äî  /usr/include,        .       ,     <code>:help file-searching</code> . <br><br>   ftplugin   (  )      ,    . : ./src/include  ./include. <br><br><pre> <code class="xml hljs">setlocal path=.,,*/include/**3,./*/include/**3 setlocal path+=/usr/include</code> </pre> <br>   <code>¬´**3¬ª</code> ‚Äî      .    ,    .  ,      . <br><br>     ,        ,  :checkpath ,      . , ,       . <br><br>   : <code>:he [, :he gf, :he :find</code> . <br><br><hr><br> <i>  .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt477768/">https://habr.com/ru/post/pt477768/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt477752/index.html">Backend United # 5: Shawarma - Microsservi√ßos, Sistemas Distribu√≠dos e Kafka</a></li>
<li><a href="../pt477756/index.html">Como nos casamos com dois sistemas banc√°rios de CRM</a></li>
<li><a href="../pt477758/index.html">‚ÄúDoutor, retire isso da conta‚Äù: como procuramos servi√ßos ilegais na VHI</a></li>
<li><a href="../pt477760/index.html">SberX RamblerFront & Meet Up: como foi</a></li>
<li><a href="../pt477766/index.html">Aplica√ß√£o do modo de criptografia das placas SL3 MIfare no exemplo de uma empresa</a></li>
<li><a href="../pt477770/index.html">Acenda a luz pelo poder do pensamento, bem, quase</a></li>
<li><a href="../pt477774/index.html">Reuni√£o de design no escrit√≥rio de Wrike em S√£o Petersburgo, 5 de dezembro</a></li>
<li><a href="../pt477778/index.html">Hist√≥ria do processador de v√≠deo, parte 2: 3Dfx Voodoo</a></li>
<li><a href="../pt477780/index.html">Escrevendo sua pr√≥pria CLI para React</a></li>
<li><a href="../pt477782/index.html">DJI Mavic Mini e a lei</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>