<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌋 🤚🏻 🚶🏼 Différences entre Fluent et gettext 👩‍🍳 👩🏽‍🚀 〽️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Poursuivant la discussion sur les avantages de Fluent par rapport au gettext habituel, je publie la position officielle des créateurs de Fluent en tra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Différences entre Fluent et gettext</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450786/"><img src="https://habrastorage.org/webt/4o/if/p_/4oifp_jnmeupdb_wivlp4agoyfk.png"><br><blockquote>  Poursuivant la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">discussion</a> sur les avantages de Fluent par rapport au gettext habituel, je publie la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">position officielle des</a> créateurs de Fluent en traduction. </blockquote><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gettext</a> est un système de localisation profondément enraciné dans le projet GNU et ses solutions architecturales associées.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le projet Fluent</a> considère gettext comme un bon exemple d'écosystème complet de bibliothèques et d'outils indépendants de la plate-forme de bas niveau pour gérer le cycle de sortie complet du produit avec des fichiers de localisation dans un format lisible.  Dans le même temps, le paradigme Fluent nous amène à d'autres solutions architecturales dans des aspects de localisation importants, qui, à leur tour, conduisent à des API et des cycles de vie complètement différents. <a name="habracut"></a><br><br>  En d'autres termes, gettext est un grand projet, mais nous ne partageons pas son point de vue sur l'approche de la localisation. <br><br>  Voici les principales différences entre gettext et Fluent: <br><div class="scrollable-table"><table><tbody><tr><th></th><th>  gettext </th><th>  Courant </th></tr></tbody><tbody><tr><td>  Identifiant du message </td><td>  chaîne source </td><td>  fourni par le développeur </td></tr><tr><td>  Liaison d'arguments </td><td>  positionnel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">*</a> </td><td>  basé sur les clés </td></tr><tr><td>  Annulation d'un transfert </td><td>  correspondances floues </td><td>  Changement d'ID </td></tr><tr><td>  Stockage de données </td><td>  format lisible par l'homme (.po) ou format compilé (.mo) </td><td>  format lisible par l'homme (.ftl) </td></tr><tr><td>  Arguments externes </td><td>  non </td><td>  support riche </td></tr><tr><td>  Support pluriel </td><td>  boîtier spécial </td><td>  partie de la syntaxe générale des options du sélecteur </td></tr><tr><td>  Plural Support Latitude </td><td>  À la discrétion du développeur, affecte toutes les traductions </td><td>  À la discrétion du localisateur, affecte uniquement un environnement local spécifique </td></tr><tr><td>  Conçu pour </td><td>  Langues de la famille C <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">*</a> </td><td>  Web, langues clientes modernes </td></tr><tr><td>  Liens de publication </td><td>  déterminé par le développeur </td><td>  défini par le localisateur </td></tr><tr><td>  Modèles de message </td><td>  nécessaire (.pot) </td><td>  non </td></tr><tr><td>  Commentaires du localisateur </td><td>  non <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">*</a> </td><td>  support complet </td></tr><tr><td>  Récupération d'erreur </td><td>  fragile </td><td>  forte logique de récupération </td></tr><tr><td>  Messages composés </td><td>  non </td><td>  valeur + attribut par message </td></tr><tr><td>  Textes bidirectionnels </td><td>  non </td><td>  isolation bidirectionnelle </td></tr><tr><td>  Formatage international </td><td>  non </td><td>  explicite et implicite </td></tr></tbody></table></div><br><h2>  Arrangement </h2><br>  La différence la plus importante entre gettext et Fluent est l'identifiant du message.  Gettext a décidé d'utiliser la chaîne source (généralement en anglais) comme identifiant.  Ce choix semble simple, mais impose par la suite de nombreuses restrictions. <br><br>  Tout d'abord, avec cette approche, tout changement dans la ligne d'origine invalide toutes les traductions qui lui sont associées.  Cela augmente considérablement la charge des développeurs, les forçant à ne jamais modifier les messages d'origine, car cela nécessitera la mise à jour de toutes les traductions. <br><br>  Deuxièmement, cela complique l'introduction de plusieurs messages avec le même texte dans la langue source, qui doivent être traduits de différentes manières.  Par exemple, le texte du bouton «Ouvrir» et de la marque «Ouvrir» peut être traduit de différentes manières, car le premier texte est une commande et le second une description.  Gettext a une ligne de contexte <em>msgctxt</em> facultative pour distinguer les lignes avec le même segment source.  Cette approche place la responsabilité de la reconnaissance de telles situations sur les développeurs, ce qui contredit le principe de séparation des intérêts. <br><br>  Fluent ne recommande pas de réutiliser des textes précisément pour cette raison.  La séparation du texte source des autres traductions est également importante pour notre capacité à saisir des messages composés (qui contiennent plusieurs lignes pour une unité de traduction, attachées à un widget d'interface utilisateur) et pour les liens basés sur l'identifiant vers les messages. <br><br>  Fluent établit un «accord» entre les développeurs et les localisateurs.  Le développeur saisit un identifiant unique et un ensemble de variables (nombre de messages non lus, nom d'utilisateur, etc.), et le localisateur, à l'aide de la syntaxe Fluent, décide comment construire le texte du message pour cet identifiant. <br><br>  Le développeur ne doit pas se soucier de la mise en œuvre détaillée des traductions de ces messages.  Tout ce dont un développeur a besoin est d'obtenir une seule ligne de texte adaptée à un endroit spécifique de l'interface utilisateur pour demander une chaîne par un identifiant spécifique. <br><br><h2>  Options de message </h2><br>  Gettext prend en charge un petit ensemble de fonctions pour l'internationalisation, en particulier pour les pluriels.  Mais cette syntaxe plurielle est un cas spécial, en plus de la syntaxe gettext standard, et il est difficile de la mettre à l'échelle pour d'autres cas nécessitant une variabilité. <br><br>  Fluent prend en charge le concept de base de la variation de chaîne, qui peut être utilisé avec des sélecteurs.  Habituellement, la règle du pluriel sera un tel sélecteur, mais selon les caractéristiques grammaticales de la langue, il peut y en avoir d'autres, comme le sexe, la déclinaison ou même l'environnement - par exemple, l'heure du jour ou le système d'exploitation.  La syntaxe Fluent permet aux localisateurs de prendre en compte toutes ces fonctionnalités et de créer un texte qui correspond exactement à la situation. <br><br><h2>  Arguments externes </h2><br>  Gettext ne prend pas en charge les arguments externes.  En d'autres termes, vous ne pouvez pas spécifier la mise en forme des paramètres - nombres, dates.  Pour formater les paramètres dans gettext, il est recommandé de renvoyer une chaîne, qui sera passée à <em>printf</em> ou exécutera <em>String.prototype.replace</em> sur la chaîne résultante. <br><br>  Dans Fluent, la prise en charge des arguments externes est au cœur même de la syntaxe.  Les arguments externes sont non seulement interpolés, mais également utilisés comme paramètres pour le sélecteur, et peuvent également être transférés aux fonctions intégrées.  Cela permet aux localisateurs de créer des textes beaucoup plus précis pour des cas spécifiques.  En plus de cela, Fluent place des marqueurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>FSI / PDI</em></a> autour des objets pour protéger l'isolement de la directivité dans le texte bidirectionnel et interdit toute manipulation des chaînes de feuilles, réduisant ainsi la charge des développeurs. <br><br><h2>  Isolement de responsabilité </h2><br>  De plus, la façon dont gettext gère les règles plurielles nécessite que le concepteur du système choisisse si le message sera un message à plusieurs variables ou une seule ligne.  Du point de vue de Fluent, le développeur ne devrait pas traiter de tels problèmes.  Dans de nombreux cas, lorsqu'une option est suffisante en anglais, dans d'autres langues, vous devez ajouter des variantes avec des pluriels. <br><br>  Fluent suppose que le développeur ne devrait pas avoir de connaissances linguistiques similaires lors du développement de logiciels avec de nombreux paramètres régionaux et que chaque langue devrait avoir une certaine liberté d'action pendant la localisation. <br><br>  Par conséquent, Fluent stocke chaque traduction séparément, sans «divulguer» les exigences d'une langue à d'autres, et garde toutes les traductions «opaques» pour un développeur qui n'a pas à se soucier des fonctions dont les localisateurs peuvent avoir besoin pour une ligne donnée. <br><br><h2>  Annulation d'un transfert </h2><br>  Dans le cycle de développement, il y a trois situations où la traduction est «annulée» (devient invalide) par rapport à l'original: <br><br><ul><li>  Changement mineur: n'affecte pas la traduction (ponctuation correcte, fautes de frappe). </li><li>  Changement moyen: affecte la conception du message, mais n'annule pas l'exactitude de la traduction associée (par exemple, <em>Afficher tous les signets</em> -&gt; <em>Afficher le gestionnaire de signets</em> ). </li><li>  Changement significatif: le nouveau sens de la phrase ( <em>Cliquez pour enregistrer</em> -&gt; <em>Cliquez pour ouvrir</em> ). </li></ul><br>  Pour des raisons architecturales, gettext combine les trois niveaux en un seul état appelé <em>flou</em> .  Tout changement dans la ligne source (au moins complet, au moins insignifiant) entraîne l'annulation des traductions. <br><br>  Dans Fluent, l'utilisation d'identifiants uniques vous permet de garder deux de ces niveaux séparés du troisième: lorsque vous apportez de <em>petites</em> modifications au texte source d'une ligne et lorsque vous enregistrez l'identifiant, les traductions restent valides.  En revanche, si le développeur change l'identifiant, toutes les traductions sont annulées et devront être mises à jour. <br><br>  Nous pensons qu'une telle solution architecturale est plus avantageuse pour la plupart des cycles de publication, bien que nous reconnaissions que pour les changements de niveau <em>intermédiaire</em> , le développeur devra choisir entre enregistrer ou modifier l'identifiant (c'est-à-dire entre un changement <em>mineur</em> et un changement <em>significatif</em> ). <br><br>  Nous envisageons également l'idée de la <em>gestion des versions</em> des messages afin que le développeur puisse marquer le message comme <em>mis</em> à <em>jour</em> sans invalider complètement son contenu.  Cet état vous permettra de conserver la traduction valide sur la base du fait que l'ancienne version de la traduction est toujours meilleure que la chaîne non traduite, et permettra en même temps aux outils d'informer le localisateur de la nécessité de mettre à jour la traduction. <br><br><h2>  Format des données </h2><br>  Gettext utilise trois formats de fichiers - * .po, * .pot et * .mo.  Cela affecte l'implémentation de gettext dans le cycle de production en ajoutant des étapes telles que l'extraction et la compilation de messages. <br><br>  Fluent utilise un seul format de fichier * .ftl, ce qui simplifie la mise en œuvre et ne nécessite pas d'étapes supplémentaires pouvant entraîner des écarts de données. <br><br><h2>  Prise en charge Unicode </h2><br>  Gettext peut être encodé en UTF-8.  En général, c'est là que prend fin le support Unicode.  Il utilise son propre ensemble de données pour les pluriels, ne sait pas formater les dates et les nombres, n'aide pas à travailler avec des textes bidirectionnels. <br><br>  Fluent utilise largement les bibliothèques standardisées et les algorithmes CLDR, ICU et ECMA402, combinant parfaitement localisation et internationalisation. <br><br><h2>  Conclusion </h2><br>  Nous pensons que l'API Fluent et sa syntaxe représentent une amélioration significative par rapport à gettext, et nous vous recommandons de les utiliser pour des logiciels internationaux. <br><br><h3>  En savoir plus sur Fluent </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Site officiel de Project Fluent</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Présentation de Fluent</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide de syntaxe</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Où Fluent serait-il utile?</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr450786/">https://habr.com/ru/post/fr450786/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr450774/index.html">Méthodes de compression / stockage des supports dans WAVE et JPEG, partie 1</a></li>
<li><a href="../fr450776/index.html">Bonne journée radio et communication! Carte postale courte sur</a></li>
<li><a href="../fr450780/index.html">Simplicité aveugle</a></li>
<li><a href="../fr450782/index.html">Le pseudo-aléatoire nous aidera: une sélection d'outils pour générer des actifs pour le jeu</a></li>
<li><a href="../fr450784/index.html">Comment Netflix gère-t-il si bien ses téléspectateurs?</a></li>
<li><a href="../fr450788/index.html">Injection de dépendance avec DITranquillity</a></li>
<li><a href="../fr450790/index.html">Hydrogel, myrtilles et une pincée de curcuma: système vasculaire artificiel</a></li>
<li><a href="../fr450794/index.html">Le choix est mauvais</a></li>
<li><a href="../fr450796/index.html">Comment Tesla enseigne le pilote automatique</a></li>
<li><a href="../fr450798/index.html">L'apprentissage automatique dans le développement mobile: perspectives et décentralisation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>