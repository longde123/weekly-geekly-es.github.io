<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåã ü§öüèª üö∂üèº Diff√©rences entre Fluent et gettext üë©‚Äçüç≥ üë©üèΩ‚ÄçüöÄ „ÄΩÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Poursuivant la discussion sur les avantages de Fluent par rapport au gettext habituel, je publie la position officielle des cr√©ateurs de Fluent en tra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Diff√©rences entre Fluent et gettext</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450786/"><img src="https://habrastorage.org/webt/4o/if/p_/4oifp_jnmeupdb_wivlp4agoyfk.png"><br><blockquote>  Poursuivant la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">discussion</a> sur les avantages de Fluent par rapport au gettext habituel, je publie la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">position officielle des</a> cr√©ateurs de Fluent en traduction. </blockquote><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gettext</a> est un syst√®me de localisation profond√©ment enracin√© dans le projet GNU et ses solutions architecturales associ√©es.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le projet Fluent</a> consid√®re gettext comme un bon exemple d'√©cosyst√®me complet de biblioth√®ques et d'outils ind√©pendants de la plate-forme de bas niveau pour g√©rer le cycle de sortie complet du produit avec des fichiers de localisation dans un format lisible.  Dans le m√™me temps, le paradigme Fluent nous am√®ne √† d'autres solutions architecturales dans des aspects de localisation importants, qui, √† leur tour, conduisent √† des API et des cycles de vie compl√®tement diff√©rents. <a name="habracut"></a><br><br>  En d'autres termes, gettext est un grand projet, mais nous ne partageons pas son point de vue sur l'approche de la localisation. <br><br>  Voici les principales diff√©rences entre gettext et Fluent: <br><div class="scrollable-table"><table><tbody><tr><th></th><th>  gettext </th><th>  Courant </th></tr></tbody><tbody><tr><td>  Identifiant du message </td><td>  cha√Æne source </td><td>  fourni par le d√©veloppeur </td></tr><tr><td>  Liaison d'arguments </td><td>  positionnel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">*</a> </td><td>  bas√© sur les cl√©s </td></tr><tr><td>  Annulation d'un transfert </td><td>  correspondances floues </td><td>  Changement d'ID </td></tr><tr><td>  Stockage de donn√©es </td><td>  format lisible par l'homme (.po) ou format compil√© (.mo) </td><td>  format lisible par l'homme (.ftl) </td></tr><tr><td>  Arguments externes </td><td>  non </td><td>  support riche </td></tr><tr><td>  Support pluriel </td><td>  bo√Ætier sp√©cial </td><td>  partie de la syntaxe g√©n√©rale des options du s√©lecteur </td></tr><tr><td>  Plural Support Latitude </td><td>  √Ä la discr√©tion du d√©veloppeur, affecte toutes les traductions </td><td>  √Ä la discr√©tion du localisateur, affecte uniquement un environnement local sp√©cifique </td></tr><tr><td>  Con√ßu pour </td><td>  Langues de la famille C <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">*</a> </td><td>  Web, langues clientes modernes </td></tr><tr><td>  Liens de publication </td><td>  d√©termin√© par le d√©veloppeur </td><td>  d√©fini par le localisateur </td></tr><tr><td>  Mod√®les de message </td><td>  n√©cessaire (.pot) </td><td>  non </td></tr><tr><td>  Commentaires du localisateur </td><td>  non <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">*</a> </td><td>  support complet </td></tr><tr><td>  R√©cup√©ration d'erreur </td><td>  fragile </td><td>  forte logique de r√©cup√©ration </td></tr><tr><td>  Messages compos√©s </td><td>  non </td><td>  valeur + attribut par message </td></tr><tr><td>  Textes bidirectionnels </td><td>  non </td><td>  isolation bidirectionnelle </td></tr><tr><td>  Formatage international </td><td>  non </td><td>  explicite et implicite </td></tr></tbody></table></div><br><h2>  Arrangement </h2><br>  La diff√©rence la plus importante entre gettext et Fluent est l'identifiant du message.  Gettext a d√©cid√© d'utiliser la cha√Æne source (g√©n√©ralement en anglais) comme identifiant.  Ce choix semble simple, mais impose par la suite de nombreuses restrictions. <br><br>  Tout d'abord, avec cette approche, tout changement dans la ligne d'origine invalide toutes les traductions qui lui sont associ√©es.  Cela augmente consid√©rablement la charge des d√©veloppeurs, les for√ßant √† ne jamais modifier les messages d'origine, car cela n√©cessitera la mise √† jour de toutes les traductions. <br><br>  Deuxi√®mement, cela complique l'introduction de plusieurs messages avec le m√™me texte dans la langue source, qui doivent √™tre traduits de diff√©rentes mani√®res.  Par exemple, le texte du bouton ¬´Ouvrir¬ª et de la marque ¬´Ouvrir¬ª peut √™tre traduit de diff√©rentes mani√®res, car le premier texte est une commande et le second une description.  Gettext a une ligne de contexte <em>msgctxt</em> facultative pour distinguer les lignes avec le m√™me segment source.  Cette approche place la responsabilit√© de la reconnaissance de telles situations sur les d√©veloppeurs, ce qui contredit le principe de s√©paration des int√©r√™ts. <br><br>  Fluent ne recommande pas de r√©utiliser des textes pr√©cis√©ment pour cette raison.  La s√©paration du texte source des autres traductions est √©galement importante pour notre capacit√© √† saisir des messages compos√©s (qui contiennent plusieurs lignes pour une unit√© de traduction, attach√©es √† un widget d'interface utilisateur) et pour les liens bas√©s sur l'identifiant vers les messages. <br><br>  Fluent √©tablit un ¬´accord¬ª entre les d√©veloppeurs et les localisateurs.  Le d√©veloppeur saisit un identifiant unique et un ensemble de variables (nombre de messages non lus, nom d'utilisateur, etc.), et le localisateur, √† l'aide de la syntaxe Fluent, d√©cide comment construire le texte du message pour cet identifiant. <br><br>  Le d√©veloppeur ne doit pas se soucier de la mise en ≈ìuvre d√©taill√©e des traductions de ces messages.  Tout ce dont un d√©veloppeur a besoin est d'obtenir une seule ligne de texte adapt√©e √† un endroit sp√©cifique de l'interface utilisateur pour demander une cha√Æne par un identifiant sp√©cifique. <br><br><h2>  Options de message </h2><br>  Gettext prend en charge un petit ensemble de fonctions pour l'internationalisation, en particulier pour les pluriels.  Mais cette syntaxe plurielle est un cas sp√©cial, en plus de la syntaxe gettext standard, et il est difficile de la mettre √† l'√©chelle pour d'autres cas n√©cessitant une variabilit√©. <br><br>  Fluent prend en charge le concept de base de la variation de cha√Æne, qui peut √™tre utilis√© avec des s√©lecteurs.  Habituellement, la r√®gle du pluriel sera un tel s√©lecteur, mais selon les caract√©ristiques grammaticales de la langue, il peut y en avoir d'autres, comme le sexe, la d√©clinaison ou m√™me l'environnement - par exemple, l'heure du jour ou le syst√®me d'exploitation.  La syntaxe Fluent permet aux localisateurs de prendre en compte toutes ces fonctionnalit√©s et de cr√©er un texte qui correspond exactement √† la situation. <br><br><h2>  Arguments externes </h2><br>  Gettext ne prend pas en charge les arguments externes.  En d'autres termes, vous ne pouvez pas sp√©cifier la mise en forme des param√®tres - nombres, dates.  Pour formater les param√®tres dans gettext, il est recommand√© de renvoyer une cha√Æne, qui sera pass√©e √† <em>printf</em> ou ex√©cutera <em>String.prototype.replace</em> sur la cha√Æne r√©sultante. <br><br>  Dans Fluent, la prise en charge des arguments externes est au c≈ìur m√™me de la syntaxe.  Les arguments externes sont non seulement interpol√©s, mais √©galement utilis√©s comme param√®tres pour le s√©lecteur, et peuvent √©galement √™tre transf√©r√©s aux fonctions int√©gr√©es.  Cela permet aux localisateurs de cr√©er des textes beaucoup plus pr√©cis pour des cas sp√©cifiques.  En plus de cela, Fluent place des marqueurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>FSI / PDI</em></a> autour des objets pour prot√©ger l'isolement de la directivit√© dans le texte bidirectionnel et interdit toute manipulation des cha√Ænes de feuilles, r√©duisant ainsi la charge des d√©veloppeurs. <br><br><h2>  Isolement de responsabilit√© </h2><br>  De plus, la fa√ßon dont gettext g√®re les r√®gles plurielles n√©cessite que le concepteur du syst√®me choisisse si le message sera un message √† plusieurs variables ou une seule ligne.  Du point de vue de Fluent, le d√©veloppeur ne devrait pas traiter de tels probl√®mes.  Dans de nombreux cas, lorsqu'une option est suffisante en anglais, dans d'autres langues, vous devez ajouter des variantes avec des pluriels. <br><br>  Fluent suppose que le d√©veloppeur ne devrait pas avoir de connaissances linguistiques similaires lors du d√©veloppement de logiciels avec de nombreux param√®tres r√©gionaux et que chaque langue devrait avoir une certaine libert√© d'action pendant la localisation. <br><br>  Par cons√©quent, Fluent stocke chaque traduction s√©par√©ment, sans ¬´divulguer¬ª les exigences d'une langue √† d'autres, et garde toutes les traductions ¬´opaques¬ª pour un d√©veloppeur qui n'a pas √† se soucier des fonctions dont les localisateurs peuvent avoir besoin pour une ligne donn√©e. <br><br><h2>  Annulation d'un transfert </h2><br>  Dans le cycle de d√©veloppement, il y a trois situations o√π la traduction est ¬´annul√©e¬ª (devient invalide) par rapport √† l'original: <br><br><ul><li>  Changement mineur: n'affecte pas la traduction (ponctuation correcte, fautes de frappe). </li><li>  Changement moyen: affecte la conception du message, mais n'annule pas l'exactitude de la traduction associ√©e (par exemple, <em>Afficher tous les signets</em> -&gt; <em>Afficher le gestionnaire de signets</em> ). </li><li>  Changement significatif: le nouveau sens de la phrase ( <em>Cliquez pour enregistrer</em> -&gt; <em>Cliquez pour ouvrir</em> ). </li></ul><br>  Pour des raisons architecturales, gettext combine les trois niveaux en un seul √©tat appel√© <em>flou</em> .  Tout changement dans la ligne source (au moins complet, au moins insignifiant) entra√Æne l'annulation des traductions. <br><br>  Dans Fluent, l'utilisation d'identifiants uniques vous permet de garder deux de ces niveaux s√©par√©s du troisi√®me: lorsque vous apportez de <em>petites</em> modifications au texte source d'une ligne et lorsque vous enregistrez l'identifiant, les traductions restent valides.  En revanche, si le d√©veloppeur change l'identifiant, toutes les traductions sont annul√©es et devront √™tre mises √† jour. <br><br>  Nous pensons qu'une telle solution architecturale est plus avantageuse pour la plupart des cycles de publication, bien que nous reconnaissions que pour les changements de niveau <em>interm√©diaire</em> , le d√©veloppeur devra choisir entre enregistrer ou modifier l'identifiant (c'est-√†-dire entre un changement <em>mineur</em> et un changement <em>significatif</em> ). <br><br>  Nous envisageons √©galement l'id√©e de la <em>gestion des versions</em> des messages afin que le d√©veloppeur puisse marquer le message comme <em>mis</em> √† <em>jour</em> sans invalider compl√®tement son contenu.  Cet √©tat vous permettra de conserver la traduction valide sur la base du fait que l'ancienne version de la traduction est toujours meilleure que la cha√Æne non traduite, et permettra en m√™me temps aux outils d'informer le localisateur de la n√©cessit√© de mettre √† jour la traduction. <br><br><h2>  Format des donn√©es </h2><br>  Gettext utilise trois formats de fichiers - * .po, * .pot et * .mo.  Cela affecte l'impl√©mentation de gettext dans le cycle de production en ajoutant des √©tapes telles que l'extraction et la compilation de messages. <br><br>  Fluent utilise un seul format de fichier * .ftl, ce qui simplifie la mise en ≈ìuvre et ne n√©cessite pas d'√©tapes suppl√©mentaires pouvant entra√Æner des √©carts de donn√©es. <br><br><h2>  Prise en charge Unicode </h2><br>  Gettext peut √™tre encod√© en UTF-8.  En g√©n√©ral, c'est l√† que prend fin le support Unicode.  Il utilise son propre ensemble de donn√©es pour les pluriels, ne sait pas formater les dates et les nombres, n'aide pas √† travailler avec des textes bidirectionnels. <br><br>  Fluent utilise largement les biblioth√®ques standardis√©es et les algorithmes CLDR, ICU et ECMA402, combinant parfaitement localisation et internationalisation. <br><br><h2>  Conclusion </h2><br>  Nous pensons que l'API Fluent et sa syntaxe repr√©sentent une am√©lioration significative par rapport √† gettext, et nous vous recommandons de les utiliser pour des logiciels internationaux. <br><br><h3>  En savoir plus sur Fluent </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Site officiel de Project Fluent</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pr√©sentation de Fluent</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide de syntaxe</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">O√π Fluent serait-il utile?</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr450786/">https://habr.com/ru/post/fr450786/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr450774/index.html">M√©thodes de compression / stockage des supports dans WAVE et JPEG, partie 1</a></li>
<li><a href="../fr450776/index.html">Bonne journ√©e radio et communication! Carte postale courte sur</a></li>
<li><a href="../fr450780/index.html">Simplicit√© aveugle</a></li>
<li><a href="../fr450782/index.html">Le pseudo-al√©atoire nous aidera: une s√©lection d'outils pour g√©n√©rer des actifs pour le jeu</a></li>
<li><a href="../fr450784/index.html">Comment Netflix g√®re-t-il si bien ses t√©l√©spectateurs?</a></li>
<li><a href="../fr450788/index.html">Injection de d√©pendance avec DITranquillity</a></li>
<li><a href="../fr450790/index.html">Hydrogel, myrtilles et une pinc√©e de curcuma: syst√®me vasculaire artificiel</a></li>
<li><a href="../fr450794/index.html">Le choix est mauvais</a></li>
<li><a href="../fr450796/index.html">Comment Tesla enseigne le pilote automatique</a></li>
<li><a href="../fr450798/index.html">L'apprentissage automatique dans le d√©veloppement mobile: perspectives et d√©centralisation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>