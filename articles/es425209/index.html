<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôíÔ∏è üï∑Ô∏è ü§∑üèª Sunrise Manually # 2: seg√∫n el hardcore para el IDE, Cmake y mi decepci√≥n por los animales üè¥ ‚óÄÔ∏è üë©üèΩ‚Äçüî¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En un art√≠culo anterior, tuve la osad√≠a de usar CLion como IDE. Y luego vino un hombre corriendo con una pregunta: oh, una embarcaci√≥n patentada, agot...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sunrise Manually # 2: seg√∫n el hardcore para el IDE, Cmake y mi decepci√≥n por los animales</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425209/"><p> En un art√≠culo anterior, tuve la osad√≠a de usar CLion como IDE.  Y luego vino un hombre corriendo con una pregunta: oh, una embarcaci√≥n patentada, agotada, ri√©ndose, etc.  Para ser justos, solo hubo un comentario sobre Habr√©, pero en realidad hay miles de ellos.  Por ejemplo, la √∫ltima cuenta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LOR</a> activa, me he registrado desde 2010, y en casi todas las discusiones que involucran alg√∫n software propietario, comienza este infierno.  Est√° claro que no le demostrar√© nada a nadie, pero puede ayudar a pases extra√±os. </p><br><p>  El art√≠culo se divide condicionalmente en dos partes: socialmente motivador y t√©cnico (c√≥mo construir CMake en Windows bajo varios IDE). </p><br><p><img src="https://habrastorage.org/webt/9g/45/pb/9g45pbrivllf4bxi6-yxx3ejxno.png"><br></p><a name="habracut"></a><br><h1 id="otkuda-vsyo-poshlo">  ¬øA d√≥nde fue todo? </h1><br><p>  Este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">comentario del √∫ltimo art√≠culo fue la</a> base <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">del art√≠culo</a> : "Si el podcast es para principiantes y no profesionales, ¬øpor qu√© no tuvo en cuenta la licencia IDE :(" y en adelante? </p><br><p>  El art√≠culo se basa en los resultados de una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">transmisi√≥n de Twitch</a> y sus comentarios al respecto.  El registro est√° en YouTube.  Este art√≠culo no es una transcripci√≥n de un podcast, sino un producto de comprenderlo. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/y8U8iTrV9PU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h1 id="ishodnyy-posyl">  Mensaje fuente </h1><br><p>  Primero, verifiquemos la validez de la suposici√≥n original: el software es costoso.  Si va al sitio, resulta que CLion cuesta 8.90 d√≥lares al mes.  580 rublos.  Est√° claro que para una persona que no hace la programaci√≥n para ganarse la vida, esto a veces puede mostrar una cantidad decente que se puede gastar en algo m√°s √∫til.  Compre una comida, por ejemplo. </p><br><p>  Para un profesional, todo es completamente diferente, pero dejemos este tema.  Un periodista se diferencia de un empleado en el departamento de marketing de un fabricante de software o juegos en que no promueve la pol√≠tica del Partido, no toma medidas para promocionar el producto.  √âl habla como es.  C√≥mo es todo esto realmente, c√≥mo ve realmente un periodista una pregunta.  Lo mismo ocurre con los verdaderos evangelistas. </p><br><blockquote>  La esencia de los fen√≥menos, y la cadena de a√±os, <br>  Rostros de amigos y m√°scaras de enemigos, <br>  Claramente visible y no se puede ocultar <br>  De los ojos del poeta, el due√±o de siglos. <br><br>  La luz de estrellas distantes y el comienzo del amanecer. <br>  Los secretos de la vida y los secretos del amor. <br>  En un momento de inspiraci√≥n, calentado por el sol ... <br>  Todo se refleja en las almas del poeta. <br>  En el espejo del mundo ... <br><br>  (c) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Konstantin Nikolsky, Espejo del mundo</a> <br></blockquote><p>  Si es realmente interesante c√≥mo CLion aumenta sus ingresos, encontrar√° a alguien a quien contactar y aqu√≠ estamos hablando de otra cosa. </p><br><h1 id="tipologiya">  Tipologia </h1><br><p>  En cambio, considere grupos de personas que son bombardeadas tanto como sea posible por software cerrado. </p><br><p>  Como ya entendiste, no soy un soci√≥logo nifiga, y solo tengo la tipolog√≠a que se desarroll√≥ en el fragor de los enfrentamientos del foro.  Solo tiene la ventaja de que es posible atribuir a una persona a un determinado grupo pr√°cticamente sin incluir el cerebro al mirar los dos primeros comentarios. </p><br><p>  Entonces, las personas son: </p><br><ul><li>  Freedom Fighters y Open Source </li><li>  Sinceramente equivocado </li><li>  Animales </li></ul><br><p>  Sugiero no considerar la incorrecci√≥n del autor.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Soy un asunto diferente</a> . </p><br><h1 id="borcy-za-svobodu-i-opensorc">  Freedom Fighters y Open Source </h1><br><p>  Los m√°s puros y brillantes son los luchadores para el openor.  Yo mismo soy uno de los que, habiendo escuchado la palabra "Linux", corrige constantemente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"no Linux, sino GNU / Linux"</a> .  El problema es que el mundo real nunca es blanco y negro.  Tenemos una cierta cantidad de libertad, y este es un recurso que se puede utilizar si es necesario.  Como alguien de la gerencia de Mozilla brome√≥ (o no), "¬øpor qu√© necesitamos un cr√©dito de confianza si no lo gastamos?". </p><br><p>  Ejemplo: hab√≠a una persona as√≠, Miguel de Icaza.  Hizo Gnome y particip√≥ en la construcci√≥n de un GNU / Linux desproporcionado tal como lo conocemos.  Y luego fue expulsado de la comunidad, y Stallman lo llam√≥ un "traidor a la libertad": </p><br><blockquote>  ‚ÄúMiguel de Icaza es esencialmente un traidor a la comunidad del Software Libre.  &lt;...&gt; El proyecto tiene como objetivo organizar el funcionamiento de los programas supuestamente de "c√≥digo abierto" en la plataforma Windows;  as√≠, el tiempo inestimable de los desarrolladores se gasta en plataformas gratuitas " <br></blockquote><p>  ¬øY d√≥nde est√° Miguel ahora?  √âl y su equipo trabajan codo a codo con uno de los mejores proyectos de los √∫ltimos a√±os: portar .NET a GNU / Linux bajo licencias permisivas.  Realmente pas√≥ su tiempo. </p><br><p>  En la transmisi√≥n, mat√© al menos veinte minutos para tropezar con CMake bajo Visual Studio Code.  No funcion√≥.  Y en el Visual Studio gratuito, pero no gratuito, result√≥ la primera vez.  Esto es exactamente lo que a menudo obtenemos cuando tratamos de usar software libre: en el c√≥digo abierto, por razones obvias, no hay tiempo para pensar en scripts de extremo a extremo y cuidar todo el producto.  Gracias a los desarrolladores por haber hecho al menos algo.  Pero para nosotros, como usuarios, todav√≠a tenemos una opci√≥n moral y √©tica: elegir la libertad y pasar mucho tiempo pateando software libre, o, por el contrario, gastar nuestra libertad en comprar tiempo, que luego puede gastarse en algunas buenas acciones. </p><br><p>  Dado que este problema est√° m√°s all√° del alcance de los problemas t√©cnicos, terminaremos aqu√≠.  Una persona verdaderamente ideol√≥gica es fiel a su idea. </p><br><h1 id="zhivotnye">  Animales </h1><br><p>  Oh, pero esta categor√≠a me est√° bombardeando. </p><br><blockquote>  "Las caracter√≠sticas espec√≠ficas de una persona que lo distinguen de otros animales son la postura erguida, un cerebro altamente desarrollado, el pensamiento y el habla articulada. Una persona estudia y cambia a s√≠ mismo y al mundo que lo rodea, crea una cultura y su propia historia".  (c) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Wikipedia</a> . </blockquote><p>  Desafortunadamente, en una conversaci√≥n sobre el IDE a menudo resulta que el interlocutor no es capaz de pensar de forma independiente, en lugar de articular el habla, murmura "y yo ya tengo normas" y come lo que dan.  Debido a la postura erguida, es f√°cil confundirlo con una persona, pero no se equivoque. </p><br><p>  Estas criaturas montan todo para cualquiera.  En los juegos, venden cajas de bot√≠n y DLC con m√∫sica nost√°lgica.  En los editores, se ponen en varias cosas analmente ocupadas, con el objetivo de vincular al paciente a un entorno espec√≠fico, ecosistema y tanto que no se necesita <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fenazepam</a> .  Comer√°n de todo.  <em>"Y tambi√©n lo son las normas para m√≠".</em> </p><br><p>  Es importante agregar que no solo los especialistas en marketing manejan en sus o√≠dos, sino tambi√©n los trolls o esquiz√°ticos cl√≠nicos naturales.  Hay muchos esquizos, no vas a creer cu√°nto. </p><br><p>  Por ejemplo, recuerde el manifiesto que Nikitonsky public√≥ recientemente (m√°s precisamente, su traducci√≥n al Habr): ¬ø <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mi decepci√≥n en el software</a> ?  C√≥mo me bombardean de √©l.  Espero sinceramente que Nikitonsky haya escrito todo esto para tocarlo a sabiendas, y no realmente. </p><br><p>  Mira qu√© tesis hay: </p><br><ul><li>  Todo es insoportablemente lento: un tel√©fono moderno es m√°s poderoso que las computadoras que enviaron personas a la luna; </li><li>  Todo es ENORME: Android pesa 6 gigabytes; </li><li>  Todo se pudre: los dispositivos viejos no funcionan o funcionan mal; </li><li>  En el caos de programaci√≥n, mire los gr√°ficos de dependencia en npm y left-pad. </li></ul><br><p>  Trolling es trolling, pero puede que a alguien no le resulte familiar que el tama√±o del c√≥digo fuente es "lo que trajo a la persona a la luna", es decir, Apolo 11, de modo que el autor dif√≠cilmente querr√≠a leerlos. </p><br><p><img src="https://habrastorage.org/webt/rc/uc/fb/rcucfbhz3eka-xvpqmer_ofdnow.jpeg"><br></p><br><p>  Que los sistemas operativos modernos definen cualquier equipo y tienen todo para cada ocasi√≥n.  Que la desaceleraci√≥n de los dispositivos condujo a una situaci√≥n maravillosa cuando los capitalistas de Merissa se agacharon y desarrollaron hierro a un nivel moderno, gracias a lo cual tenemos en nuestro bolsillo un megadispositivo para todas las ocasiones.  Incluso las toallas no son necesarias, est√° en Google Play.  El npm mencionado permite a una persona com√∫n y corriente escribir cosas de una complejidad inimaginable que tomar√≠a a√±os antes. </p><br><p>  Y luego a todos estos camaradas que est√°n "comiendo lo que dan", de repente, las mega ideas de la lista anterior comienzan a volar en mi cabeza.  Extendamos al IDE: </p><br><ul><li>  Para aplicaciones en Electron (Visual Studio Code, Atom), las letras aparecen en la pantalla muy lentamente, ya sea vim o emacs; </li><li>  Eclipse IDE se ralentiza; </li><li>  En general, Java se ralentiza, junto con todo lo que est√° escrito en √©l, incluidos NetBeans, IDEA y Clion; </li><li>  Cualquier IDE ralentiza comer por ciento as√≠ como as√≠; </li><li>  La propiedad es malvada; </li><li>  La lista contin√∫a. </li></ul><br><p>  Esta lista ya es suficiente para revisar el techo.  No le creas a la basura.  Si vim es mejor que Eclipse (o viceversa) en algunos casos, definitivamente esto no se debe a que los vecinos irradian vimers con un microondas y los extraterrestres secuestran eclipsers por la noche. </p><br><p>  Desafortunadamente, como resultado de largas guerras de guerras en red, se estableci√≥ con precisi√≥n: aqu√≠ no puede haber di√°logo.  Al hombre - humano, y al animal - animal.  As√≠ es como se arregla la vida.  La probabilidad de que alguien lea este art√≠culo y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cambie de opini√≥n</a> es extremadamente peque√±a, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mejorada</a> . </p><br><h1 id="chestno-zabluzhdayuschiesya">  Sinceramente equivocado </h1><br><p>  Ahora hemos terminado con los extremos: particularmente inteligentes de la secta Stallman en un lado del espectro, y animales no muy inteligentes en el otro, hablemos de la gente com√∫n. </p><br><p>  La primera idea err√≥nea es que de alguna manera estamos atrapados en el IDE.  Pas√≥ desde el momento en que la gente usaba alg√∫n tipo de Delphi 7 y versiones antiguas de Microsoft Visual Studio.  Dicen que en el nuevo Vizhualka todo estaba bien con los archivos del proyecto.  Hola, ahora es el a√±o 2018, no hay m√°s esclavitud. </p><br><p>  Para deshacernos de la esclavitud, hemos recibido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CMake</a> desde arriba: una herramienta de utilidad de c√≥digo abierto multiplataforma que le permite crear, probar y empaquetar aplicaciones. </p><br><p> Todav√≠a no dice nada al novato y sus brazos alcanzan el IDE.  Todo esto por miedo y malentendido de lo que est√° sucediendo.  Yo mismo vengo de Java y, por lo tanto, s√© bien c√≥mo los ojos de una persona que vio por primera vez <code>pom.xml</code> expanden por primera vez. </p><br><p>  Veamos en qu√© consiste el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">proyecto creado la √∫ltima vez</a> y c√≥mo construirlo en todo tipo de IDE diferentes. </p><br><p>  Composici√≥n de archivo: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CMakeLists.txt</a> </li><li>  <a href="">main.cpp</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">shaders.shader</a> </li></ul><br><p>  El sombreador se compila directamente en tiempo de ejecuci√≥n, <a href="">con la funci√≥n D3DCompile</a> .  El D3DCompiler del DirectX SDK (que ahora es el SDK de Windows) funciona.  No se necesita IDE para construirlo. </p><br><p>  <code>main.cpp</code> es el √∫nico archivo para construir.  Y se recopila utilizando informaci√≥n que est√° completamente en <code>CMakeLists.txt</code> . </p><br><p>  En la direcci√≥n opuesta: hay <code>CMakeLists.txt</code> , que nos dice exactamente qu√© vamos a compilar.  El ensamblado <code>main.cpp</code> registrado en √©l.  Esto es suficiente para compilar el proyecto.  Despu√©s de la compilaci√≥n, se obtiene un archivo exe, que, despu√©s del lanzamiento, recoge el sombreador y lo muestra en la pantalla.  Todo es extremadamente simple, el IDE no est√° involucrado en esta cadena y puede ser cualquier cosa. </p><br><p>  IDE es opcional.  En general  ¬øQu√© es incomprensible aqu√≠? </p><br><h1 id="sborka">  Asamblea </h1><br><h2 id="podgotovitelnye-momenty">  Momentos preparatorios </h2><br><p>  Como siempre, la preparaci√≥n ocupa la mayor parte del proceso.  Hay algunas cosas que deben aclararse. </p><br><p>  Se supone que todo se hace sobre la base de Msys2, que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">instalamos la √∫ltima vez</a> .  Si este no es el caso, tendr√° que desenredarse :) </p><br><h3 id="kak-ustanovit-cmake-i-ninja">  C√≥mo instalar CMake y Ninja </h3><br><p>  Para poder recopilar algo, debe instalar CMake, si a√∫n no lo ha hecho. </p><br><ul><li>  Descargar desde el sitio: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://cmake.org/download</a> .  Tengo cmake-3.12.2-win64-x64; </li><li>  Desempaquete y agregue la ruta al lugar donde se encuentra cmake.exe en la variable de entorno de Windows RUTA; </li><li>  Descargue del sitio el generador ninja de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la √∫ltima versi√≥n</a> ; </li><li>  Desempaquete y tambi√©n coloque en alg√∫n lugar de la RUTA. </li></ul><br><h3 id="kak-redaktirovat-path-chtoby-ne-poehat-kukuhoy">  C√≥mo editar PATH para no viajar como un cuco </h3><br><p>  La primera forma es conocida por todos: win + pausa -&gt; Configuraci√≥n avanzada del sistema -&gt; Avanzado -&gt; Variables de entorno.  Desafortunadamente, incluso en Windows 10, en el que se agreg√≥ el editor de variables PATH, esto todav√≠a no es muy conveniente. </p><br><p>  Si a menudo juegas con PATH, usar la ventana de edici√≥n est√°ndar es muy molesto.  Le aconsejo que use el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Editor de entorno r√°pido</a> : es gratuito y ahorra mucho nervios. </p><br><h3 id="kak-podklyuchat-dll-iz-mingw-v-rezhime-razrabotki">  C√≥mo conectar DLL desde MinGW en modo de desarrollo </h3><br><p>  Para iniciar la aplicaci√≥n, necesita archivos dll de al menos <code>mingw64\bin</code> . </p><br><p>  Desafortunadamente, no pude encontrar una soluci√≥n realmente conveniente para lanzar bibliotecas de MinGW a PATH.  Si alg√∫n sabio puede decir en los comentarios, estar√© muy agradecido. </p><br><p>  Ahora, la forma m√°s f√°cil es adjuntar el directorio bin MinGW directamente al primer lugar en PATH.  (En el caso de Visual Studio, simplemente puede colocar bibliotecas en el directorio de ensamblaje). Desafortunadamente, este m√©todo tiene un gran inconveniente: parte del software en Windows comienza a caerse inmediatamente despu√©s de la modificaci√≥n de la RUTA.  Por ejemplo, Overwatch dej√≥ de funcionar para m√≠, y esto es algo completamente fatal. </p><br><p>  Si usted, como yo, vive en una computadora y no solo la enciende durante el horario comercial, se propone el siguiente esquema: agregue MinGW a PATH antes de programar y luego qu√≠telo.  Para facilitar el proceso, debe crear dos archivos por lotes que se pueden iniciar haciendo doble clic: </p><br><p>  before.bat: </p><br><pre> <code class="hljs tex">setx path "Z:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">msys</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mingw</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bin</span></span></span></span>;<span class="hljs-comment"><span class="hljs-comment">%path%"</span></span></code> </pre> <br><p>  after.bat: </p><br><pre> <code class="hljs pgsql">setx <span class="hljs-type"><span class="hljs-type">PATH</span></span> "%PATH:Z:\msys64\mingw64\bin;=%"</code> </pre><br><h3 id="kak-podklyuchat-dll-v-rezhime-testovogo-reliza">  C√≥mo conectar DLL en modo de lanzamiento de prueba </h3><br><p>  Est√° claro que el m√©todo anterior solo funciona mientras <code>mingw64\bin</code> est√° en PATH, es decir, solo en la computadora del desarrollador.  E incluso all√≠, no siempre quieres mutilar la RUTA.  Si comienza una persona com√∫n (o nosotros mismos despu√©s de after.bat), entonces algo como: </p><br><img width="400" src="https://habrastorage.org/webt/d2/ka/-b/d2ka-bup2zcih2chipoohkcj6u8.png"><br><p><img width="400" src="https://habrastorage.org/webt/tf/ia/zh/tfiazhyj4f-f_-omq2tojpkykmk.png"><br></p><br><p>  La forma m√°s f√°cil de resolver este problema es colocar la dll necesaria al lado del archivo ejecutable.  ¬°Pero para esto necesitas saber qu√© dlls se usan! </p><br><p>  Ya tenemos algunas utilidades hechas por Microsoft para esto. </p><br><ul><li>  Se puede ver una lista completa de una aplicaci√≥n en ejecuci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">usando ListDLL</a> , pero no muestra lo que a√∫n no se ha cargado. </li><li>  Si <code>dumpbin /dependents "Z:\game\build\Mingw64-Debug\src.exe"</code> Herramientas -&gt; S√≠mbolo del sistema de Visual Studio, <code>dumpbin /dependents "Z:\game\build\Mingw64-Debug\src.exe"</code> , mostrar√° solo el dll de primer nivel.  En otras palabras, si termina solo lo que dumpbin le dice, despu√©s del lanzamiento seguir√° habiendo errores, simplemente ser√°n sobre otras DLL. </li></ul><br><p>  Para ejecutar las dependencias en profundidad, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">existe un script de este tipo</a> que se puede ejecutar directamente desde la l√≠nea de comandos (msys2, cygwin, etc., suficiente para tener python2 / 3 y objdump instalado en el interior). </p><br><ul><li>  Descargue el script mingw-bundledlls, </li><li>  Poner al lado del archivo, </li><li>  En un editor de texto, en la <code>blacklist = [</code> matriz <code>blacklist = [</code> agregue nuestras piezas de DirectX: <code>d3d10.dll, d3d11.dll, d3dcompiler_43.dll</code> , </li><li>  <code>chmod 755 ./mingw-bundledlls</code> , </li><li>  Para ver los <code>./mingw-bundledlls ./src.exe</code> utilizados: <code>./mingw-bundledlls ./src.exe</code> (bueno, cualquier ejecutable que le interese m√°s), </li><li>  Para copiar autom√°ticamente y poner a continuaci√≥n: <code>./mingw-bundledlls --copy ./src.exe</code> </li><li>  BENEFICIO: el ejecutable se inicia as√≠, haciendo doble clic en el archivo exe y desde Visual Studio. </li></ul><br><p>  Todav√≠a hay varias formas dif√≠ciles de contratar CMake para copiar el dll, pero si comienza a profundizar en los problemas de distribuci√≥n, nunca podr√° terminar este art√≠culo. </p><br><h1 id="sborka-vruchnuyu">  Montaje manual </h1><br><ul><li>  before.bat </li><li>  Inicio -&gt; Ejecutar -&gt; cmd.exe </li><li> <code>cd /dz://game/src</code> </li> <li> <code>cmake -G "Ninja" -D EXECUTABLE_OUTPUT_PATH="bin" -D CMAKE_CXX_COMPILER="Z:/msys64/mingw64/bin/g++.exe" -D CMAKE_C_COMPILER="Z:/msys64/mingw64/bin/gcc.exe" .</code> </li> <li>  ninja </li><li>  Ejecute el archivo generado en bin inmediatamente, o adjunte el dll de acuerdo con las instrucciones anteriores y ejecute after.bat </li></ul><br><p>  Hemos demostrado que no estamos vinculados al IDE en absoluto. </p><br><h1 id="sborka-v-visual-studio">  Construir en Visual Studio </h1><br><p>  Pero a√∫n as√≠, desarrollar sin un IDE no es la cosa.  La √∫ltima vez, ya armamos una aplicaci√≥n de prueba usando CLion.  Pero esto es propiedad de pago y zashkvar, ¬øverdad?  Olv√≠dalo.  Ahora solo gratis. </p><br><p>  En Visual Studio, la secuencia de acciones necesarias es s√∫per simple. </p><br><ul><li>  before.bat </li><li>  Lanzar Visual Studio; </li><li>  Archivo -&gt; Abrir -&gt; CMake; </li><li>  Seleccione CMakeLists.txt; </li><li>  El visualizador piensa y muestra el proyecto por un tiempo; </li><li>  Men√∫ principal -&gt; Cach√© -&gt; Generar -&gt; nombre del proyecto; </li><li>  Observamos Output y corregimos los errores (por ejemplo, jur√© la versi√≥n CMake, tuve que bajarla a 3.11 en lugar de 3.12); </li><li>  Men√∫ principal -&gt; CMake -&gt; Cambiar configuraci√≥n de CMake (seleccione MinGW64-Debug); </li><li>  Un archivo CMakeSettings.json se genera autom√°ticamente en el proyecto.  Indicamos la ruta a MinGW all√≠ (lo ten√≠a en el video anterior "Z: \ msys64 \ mingw64"), guarde el archivo; </li><li>  Men√∫ principal -&gt; Cach√© -&gt; Generar -&gt; CMakeLists.txt; </li><li>  Men√∫ principal -&gt; Cach√© -&gt; Generar -&gt; nombre del proyecto; </li><li>  Si todo se hace correctamente, aparecer√° un elemento con el nombre del proyecto en el men√∫ Seleccionar un elemento de inicio v√°lido (junto a la flecha verde para iniciar la aplicaci√≥n); </li><li>  Empezamos </li></ul><br><p>  Como en el caso de la consola, puede iniciarla correctamente (recordando que MinGW est√° en PATH) o ejecutar after.bat y colocar las DLL necesarias de acuerdo con las instrucciones.  DLL debe colocarse directamente en el directorio donde va la aplicaci√≥n.  Se puede especificar en el par√°metro buildRoot en el archivo CMakeSettings.json. </p><br><p>  Entonces, se√±ores, lo m√°s importante: desde Visual Studio, todo se compila y se ejecuta perfectamente.  Hemos demostrado que no estamos vinculados a un IDE comercial. </p><br><h1 id="sborka-v-visual-studio-code">  Construir en Visual Studio Code </h1><br><p>  Desafortunadamente, Visual Studio todav√≠a no es un software de c√≥digo cerrado patentado.  Necesitamos pasar a algo m√°s gratuito, y esto es Visual Studio Code. </p><br><p>  Primero gracioso mindfak.  Si ejecuta VSCode en un monitor con gran escala (por ejemplo, estoy sentado en casa mirando televisi√≥n), entonces la interfaz VSCode se convertir√° en un desastre.  Para evitar que esto suceda, debe ejecutarlo con la clave <code>--force-device-scale-factor</code> (haga un acceso directo al escritorio, o algo as√≠). </p><br><p>  Desafortunadamente, no he dominado la administraci√≥n de PATH para VSCode, por lo que la √∫nica forma de iniciarlo es modificar PATH con before.bat y otro hack, que describir√© a continuaci√≥n. </p><br><p>  A continuaci√≥n, debe configurar VSCode. </p><br><ul><li>  Instale CMake Tools: Ver -&gt; Extensiones -&gt; en la b√∫squeda, ingrese "CMake Tools", haga clic en instalar frente al paquete que hizo el autor del vector de bool. </li><li>  Ver -&gt; Explorador -&gt; Abrir carpeta (seleccione el directorio con nuestro proyecto); </li><li>  Paleta de comandos (CP, acceso directo Ctrl + P) -&gt; "&gt; CMake: Escanear en busca de kits"; </li><li>  Elija nuestro "GCC 8.2.0", al que conduce al lugar correcto donde est√° instalado msys2 o lo que usa all√≠; </li><li>  Archivo&gt; Preferencias&gt; Configuraci√≥n; </li><li>  Vaya a la pesta√±a Configuraci√≥n de usuario; </li><li>  Haga clic en los tres puntos en la esquina superior derecha del panel y seleccione "Abrir configuraci√≥n.json" en el men√∫; </li><li>  Agregue las siguientes opciones: </li></ul><br><pre> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"cmake.configureOnOpen"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shell.windows"</span></span>: <span class="hljs-string"><span class="hljs-string">"D:/msys64/usr/bin/bash.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shellArgs.windows"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"-i"</span></span> ], <span class="hljs-string"><span class="hljs-string">"terminal.integrated.env.windows"</span></span>: { <span class="hljs-string"><span class="hljs-string">"PATH"</span></span>: <span class="hljs-string"><span class="hljs-string">"/mingw64/bin;/usr/local/bin;/usr/bin;/bin;Z:/msys64/bin/;Z:/msys64/usr/local/bin;Z:/msys64/usr/bin;Z:/msys64/bin;Z:/msys64/mingw64/bin/;%PATH%"</span></span> }, <span class="hljs-string"><span class="hljs-string">"cmake.buildDirectory"</span></span>: <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">{workspaceRoot}/build/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">{buildType}"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.clearOutputBeforeBuild"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"cmake.generator"</span></span>: <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.cmakePath"</span></span>: <span class="hljs-string"><span class="hljs-string">"C:\\my\\opt\\cmake-3.12.2-win64-x64\\cmake-3.12.2-win64-x64\\bin\\cmake.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.mingwSearchDirs"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Z:/msys64/mingw64"</span></span>, ], <span class="hljs-string"><span class="hljs-string">"cmake.preferredGenerators"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span> ], <span class="hljs-string"><span class="hljs-string">"cmake.loggingLevel"</span></span>: <span class="hljs-string"><span class="hljs-string">"debug"</span></span></code> </pre> <br><ul><li>  La compilaci√≥n deber√≠a ocurrir autom√°ticamente, y la compilaci√≥n se plegar√° en el directorio de <code>build</code> .  Si esto no sucede, debe hacer clic en el bot√≥n <code>Build</code> con el engranaje en la l√≠nea de estado con el mouse. </li></ul><br><p>  Est√° claro que all√≠ debe especificar directamente la ruta a mingw y cmake.  "¬°Pero tengo RUTA!"  Solo indique, por favor, que esto resolver√° una amplia gama de problemas. </p><br><p>  Sin embargo, hay una forma exclusiva de no tirar basura a PATH. </p><br><ul><li> <code>"cmake.generator": "MSYS Makefiles"</code> </li> <li> <code>"cmake.preferredGenerators": [ "MSYS Makefiles"]</code> </li> <li>  Verifique que MinGW no est√© en PATH (after.bat); </li><li>  Verifique que haya eliminado el directorio de compilaci√≥n en el proyecto. </li><li>  Inicie la consola Msys2; </li><li>  <code>export PATH=/z/msys64/mingw64/bin;$PATH</code> (luego puede ingresarlo en alg√∫n tipo de <code>"~/.bashrc"</code> ) </li><li>  Ejecute VSCode desde √©l, por ejemplo, as√≠: <code>"C:\Users\olegchir\AppData\Local\Programs\Microsoft VS Code\Code.exe"</code> </li><li>  Y luego todo es como antes.  El archivo debe generarse normalmente. </li><li>  Cuando intentas iniciarlo inmediatamente desde el Explorador con un doble clic, instant√°neamente conduce a errores de b√∫squeda de DLL; esto significa que todo est√° correcto, realmente usamos una RUTA especial dentro de VSCode, pero no fuera. </li></ul><br><p>  Por lo tanto, hemos demostrado que en un IDE gratuito tambi√©n podemos vivir para nosotros mismos. </p><br><h1 id="itogi">  Resumen </h1><br><p>  Resumiendo, si eres una persona normal, entonces puedes usar CMake, MinGW y no soplar en el bigote.  Todo es libremente port√°til entre el IDE, todo simplemente funciona.  Podemos usar cualquier IDE pagado, cerrado y no gratuito en cualquier momento, y no seremos nada para ello.  Pero todos los dem√°s sufrir√°n, y con raz√≥n. </p><br><p>  Los futuros art√≠culos tendr√°n en cuenta su opini√≥n.  Puedes hacer preguntas y ofrecer sugerencias en los comentarios directamente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">durante la transmisi√≥n de Twitch</a> .  Si estos art√≠culos ser√°n en absoluto depende de cu√°n violentamente mueva la flecha debajo de este comentario. </p><br><pre> <code class="hljs">                </code> </pre> <br><p>  ¬© Alexander Raevsky </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es425209/">https://habr.com/ru/post/es425209/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es425199/index.html">Lo que protege a los compradores del fraude de pagos sin contacto</a></li>
<li><a href="../es425201/index.html">"He estado luchando contra el s√≠ndrome del impostor durante tres a√±os" - 10 preguntas para un programador, n√∫mero 7</a></li>
<li><a href="../es425203/index.html">Antigua vulnerabilidad UPnP de una nueva manera</a></li>
<li><a href="../es425205/index.html">Soft Skills en gesti√≥n de proyectos: concepto, objetivos y consejos para un uso comercial exitoso</a></li>
<li><a href="../es425207/index.html">Pruebas de dise√±o: las 10 mejores conversaciones de Piter Heisenbug 2018</a></li>
<li><a href="../es425211/index.html">286 y red</a></li>
<li><a href="../es425213/index.html">Planes para la pr√≥xima versi√≥n de Vue.js</a></li>
<li><a href="../es425215/index.html">4 consejos para optimizar tu aplicaci√≥n webpack</a></li>
<li><a href="../es425217/index.html">Tolerancia a errores de aplicaci√≥n al actualizar el cl√∫ster de Kubernetes</a></li>
<li><a href="../es425219/index.html">Qu√© es la salud mental: una perspectiva desde la psicolog√≠a / psicoterapia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>