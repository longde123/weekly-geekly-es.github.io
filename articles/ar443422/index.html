<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ด๐ฟ ๐ฏ๏ธ โ๏ธ ุชุฎุฒูู ูุฑู ููุจูุงูุงุช ูู MySQL (JSON) ๐ฉโ๐ฉโ๐ฆ ๐ ๐ก</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุนูู ุฃููุณุงูุฏุฑ ุฑูุจู ูู Percona ููุฏ ุฃุฌุฑู ูู HighLoad ++ ุฃูุซุฑ ูู ูุฑุฉ ุ ููู ูุฃููู ูุฏู ุงููุดุงุฑููู ูุฎุจูุฑ ูู MySQL. ูู ุงูููุทูู ุฃู ููุชุฑุถ ุฃููุง ุงูููู ุณูู ูุชุญุฏุซ ุน...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุฎุฒูู ูุฑู ููุจูุงูุงุช ูู MySQL (JSON)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/443422/" style=";text-align:right;direction:rtl">  ูุนูู ุฃููุณุงูุฏุฑ ุฑูุจู ูู Percona ููุฏ ุฃุฌุฑู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">HighLoad ++ ุฃูุซุฑ</a> ูู ูุฑุฉ ุ ููู ูุฃููู ูุฏู ุงููุดุงุฑููู ูุฎุจูุฑ ูู MySQL.  ูู ุงูููุทูู ุฃู ููุชุฑุถ ุฃููุง ุงูููู ุณูู ูุชุญุฏุซ ุนู ุดูุก ูุชุนูู MySQL.  ูุฐุง ุตุญูุญ ุ ููู ุฌุฒุฆููุง ููุท ุ ูุฃููุง ุณูุชุญุฏุซ ุฃูุถูุง ุนู <strong>ุฅูุชุฑูุช ุงูุฃุดูุงุก</strong> .  ุณุชููู ุงููุตุฉ ูุตู ูุณููุฉ ุ ุฎุงุตุฉ ุงูุฌุฒุก ุงูุฃูู ูููุง ุ ุญูุซ ููุธุฑ ุฅูู ุงูุฌูุงุฒ ุงูุฐู ุงุจุชูุฑู ุฃููุณุงูุฏุฑ ูุฌูู ุงููุดูุด.  ูุฐู ูู ุทุจูุนุฉ ุงููููุฏุณ ุงูุญูููู - ุฅุฐุง ููุช ุชุฑูุฏ ุงููุงููุฉ ุ ูุฅูู ุชุดุชุฑู ุฑุณูููุง. <br><br><img src="https://habrastorage.org/webt/71/jf/vp/71jfvpzudizjhoc1ikzgfuakds8.jpeg"><br><br><h2 style=";text-align:right;direction:rtl">  ูุจู ุงูุชุงุฑูุฎ <br></h2><br>  ุจุฏุฃ ูู ุดูุก ุจุฑุบุจุฉ ุจุณูุทุฉ ูู ุฒุฑุงุนุฉ ุดุฌุฑุฉ ููุงูู ูู ููุทูุชูุง.  ูุฏ ูุจุฏู ุงูุฃูุฑ ุจุณูุทูุง ุฌุฏูุง - ููููู ุงูุญุถูุฑ ุฅูู ุงููุชุฌุฑ ูุดุฑุงุก ุงูุดุชูุงุช.  ููู ูู ุฃูุฑููุง ุ ุงูุณุคุงู ุงูุฃูู ุงูุฐู ูุทุฑุญู ุงูุจุงุฆุนูู ูู ููุฏุงุฑ ุถูุก ุงูุดูุณ ุงูุฐู ุณุชุชููุงู ุงูุดุฌุฑุฉ.  ุจุงููุณุจุฉ ุฅูู ุฃููุณุงูุฏุฑ ุ ุงุชุถุญ ุฃู ูุฐุง ูุบุฒ ุบุงูุถ - ูู ุบูุฑ ุงููุนุฑูู ุชูุงููุง ูู ุฃุดุนุฉ ุงูุดูุณ ูู ุงููููุน. <br><br>  ููุนุฑูุฉ ุฐูู ุ ูููู ููุทุงูุจ ุงูุฎุฑูุฌ ุฅูู ุงูููุงุก ูู ููู ุ ููุนุฑูุฉ ููุฏุงุฑ ุฃุดุนุฉ ุงูุดูุณ ุ ููุชุงุจุชู ูู ุฏูุชุฑ ููุงุญุธุงุช.  ูููู ูุฐุง ููุณ ูู ุงูุญุงู - ูู ุงูุถุฑูุฑู ุชุฌููุฒ ูู ุดูุก ูุฃุชูุชุฉ. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/X5iLzmyZcto" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <em>ุฎูุงู ุงูุนุฑุถ ุงูุชูุฏููู ุ ุชู ุชุดุบูู ุงูุนุฏูุฏ ูู ุงูุฃูุซูุฉ ูุชุดุบูููุง ุนูู ุงูููุงุก ูุจุงุดุฑุฉ.</em>  <em>ุชุฑูุฏ ุตูุฑุฉ ุฃูุซุฑ ุงูุชูุงูุง ููุง ูู ุงููุต ุ ูุงูุชุญูู ุฅูู ูุดุงูุฏุฉ ุงูููุฏูู.</em> <br><br>  ูุฐูู ุ ูู ุฃุฌู ุนุฏู ุชุณุฌูู ููุงุญุธุงุช ุงูุทูุณ ูู ุฏูุชุฑ ููุงุญุธุงุช ุ ููุงู ุนุฏุฏ ูุจูุฑ ูู ุงูุฃุฌูุฒุฉ ูุฃุดูุงุก ุงูุฅูุชุฑูุช - Raspberry Pi ุ Raspberry Pi ุงูุฌุฏูุฏุฉ ุ Arduino - ุงูุขูุงู ูู ุงูููุตุงุช ุงููุฎุชููุฉ.  ููููู ุงุฎุชุฑุช ุฌูุงุฒูุง ูุณูู <b>ุงูุฌุณููุงุช ุงูููุชูู</b> ููุฐุง ุงููุดุฑูุน.  ุฅูู ุณูู ุงูุงุณุชุฎุฏุงู ููุบุงูุฉ ุ ููููู 19 ุฏููุงุฑูุง ุนูู ุงููููุน ุงูุฑุณูู. <br><br>  ุงูุดูุก ุงูุฌูุฏ ูู ุงูุฌุณููุงุช ููุชูู ูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  100 ูช ุญู ุณุญุงุจุฉ. </li><li style=";text-align:right;direction:rtl">  ุฃู ุฃุฌูุฒุฉ ุงุณุชุดุนุงุฑ ููุงุณุจุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุงุฑุฏูููู.  ูููู ุชููู ุฃูู ูู ุฏููุงุฑ. </li></ol><br>  ููุฏ ุตูุนุช ูุฐุง ุงูุฌูุงุฒ ููุถุนุชู ุนูู ุงูุนุดุจ ุนูู ุงููููุน.  ุฃูู ูุญุชูู ุนูู ุณุญุงุจุฉ ุฌูุงุฒ ุงูุฌุณููุงุช ููุญุฏุฉ ุงูุชุญูู.  ูุชุตู ูุฐุง ุงูุฌูุงุฒ ุนุจุฑ ููุทุฉ ุงุชุตุงู Wi-Fi ููุฑุณู ุงูุจูุงูุงุช: ุงูุถูุก ูุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ูุงูุฑุทูุจุฉ.  ุงุณุชูุฑ ุงูุงุฎุชุจุงุฑ ููุฏุฉ 24 ุณุงุนุฉ ุนูู ุจุทุงุฑูุฉ ุตุบูุฑุฉ ุ ููู ุฃูุฑ ุฌูุฏ ููุบุงูุฉ. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุง ุฃุญุชุงุฌ ููุท ุฅูู ููุงุณ ุงูุฅุถุงุกุฉ ููุง ุฅูู ุฐูู ูููููุง ุฅูู ุงููุงุชู (ููู ุฃูุฑ ุฌูุฏ ุญููุง - ุฃุณุชุทูุน ุฃู ุฃุฑู ูู ุงูููุช ุงููุนูู ููุน ุงูุฅุถุงุกุฉ ูุฏู) ุ ูููู ุฃูุถูุง <strong>ูุชุฎุฒูู ุงูุจูุงูุงุช</strong> .  ููุฐุง ุ ุจุทุจูุนุฉ ุงูุญุงู ุ ูุฎุจูุฑ ูุญูู ูู MySQL ุ ุงุฎุชุฑุช MySQL. <br><br><h2 style=";text-align:right;direction:rtl">  ููู ููุชุจ ุงูุจูุงูุงุช ูู MySQL <br></h2><br>  ุงุฎุชุฑุช ูุฎุทุทูุง ูุนูุฏูุง ุฅูู ุญุฏ ูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุญุตู ุนูู ุจูุงูุงุช ูู ูุญุฏุฉ ุงูุชุญูู ูู ุงูุฌุณููุงุช ุ <br></li><li style=";text-align:right;direction:rtl">  ูููููู ุงุณุชุฎุฏุงู Node.js ููุชุงุจุชูุง ุฅูู MySQL. <br></li></ul><br>  ุฃูุง ุฃุณุชุฎุฏู Particle JS API ุ ูุงูุชู ูููู ุชูุฒูููุง ูู ูููุน Particle.  ุฃููู ุจุฅูุดุงุก ุงุชุตุงู ูุน MySQL ูุฃูุชุจ ุ ุฃู ุฃููู ููุท ุจุฅุฏุฎุงู ููู INTO.  ูุฐุง ุฎุท ุฃูุงุจูุจ. <br><br>  ูุจุงูุชุงูู ุ ููุน ุงูุฌูุงุฒ ูู ุงูููุงุก ุ ููุชุตู ุนุจุฑ Wi-Fi ุจุฌูุงุฒ ุงูุชูุฌูู ุงูููุฒูู ููุณุชุฎุฏู ุจุฑูุชูููู MQTT ูููู ุงูุจูุงูุงุช ุฅูู ุงูุฌุณููุงุช.  ุซู ุงููุฎุทุท: ุงูุจุฑูุงูุฌ ุนูู Node.js ูุนูู ุนูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ุ ุงูุฐู ูุณุชูุจู ุงูุจูุงูุงุช ูู ุงูุฌุณููุงุช ูููุชุจูุง ุฅูู MySQL. <br><br>  ุจุงููุณุจุฉ ูููุจุชุฏุฆูู ุ ููุช ุจุจูุงุก ุงูุฑุณูู ุงูุจูุงููุฉ ูู ุงูุจูุงูุงุช ุงูุฃูููุฉ ูู R. ุชูุถุญ ุงูุฑุณูู ุงูุจูุงููุฉ ุฃู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ูุงูุฅุถุงุกุฉ ุชุฑุชูุน ุฃุซูุงุก ุงูููุงุฑ ุ ูุชุณูุท ูููุงู ุ ูุชุฑุชูุน ุงูุฑุทูุจุฉ - ููุฐุง ุฃูุฑ ุทุจูุนู.  ูููู ููุงู ุฃูุถูุง ุถูุถุงุก ุนูู ุงูุฑุณู ุงูุจูุงูู ุ ููู ุฃูุฑ ูููุฐุฌู ูุฃุฌูุฒุฉ Internet of Things.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏูุง ูุฒุญู ุฃุญุฏ ุงูุฃุฎุทุงุก ุฅูู ุฌูุงุฒ ููุบููู ุ ูููู ูููุณุชุดุนุฑ ููู ุจูุงูุงุช ุบูุฑ ููุงุฆูุฉ ุชูุงููุง.  ุณูููู ูุฐุง ููููุง ููุฒูุฏ ูู ุงูุฏุฑุงุณุฉ. <br><br>  ุงูุขู ุฏุนูุง ูุชุญุฏุซ ุนู MySQL ู JSON ุ ูุงูุชู ุชุบูุฑุช ูู ุงูุนูู ูุน JSON ูู MySQL 5.7 ุฅูู MySQL 8. ุซู ุณุฃุนุฑุถ ุนุฑุถูุง ุชุฌุฑูุจููุง ุฃุณุชุฎุฏู MySQL 8 ูู (ูู ููุช ุงูุชูุฑูุฑ ูู ููู ูุฐุง ุงูุฅุตุฏุงุฑ ุฌุงูุฒูุง ููุฅูุชุงุฌ ุจุงููุนู ุ ุชู ุฅุตุฏุงุฑ ุฅุตุฏุงุฑ ุซุงุจุช ุจุงููุนู). <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎููุฉ ุชุฎุฒูู ุงูุจูุงูุงุช <br></h2><br>  ุนูุฏูุง ูุญุงูู ุชุฎุฒูู ุงูุจูุงูุงุช ุงููุณุชููุฉ ูู ุฃุฌูุฒุฉ ุงูุงุณุชุดุนุงุฑ ุ ููุฑูุง ุงูุฃูู ูู <strong>ุฅูุดุงุก ุฌุฏูู ูู MySQL</strong> : <br><br><pre style=";text-align:right;direction:rtl"><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">'sensor_wide'</span></span> ( <span class="hljs-string"><span class="hljs-string">'id'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> (<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT, <span class="hljs-string"><span class="hljs-string">'light'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> (<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'temp'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'humidity'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">'id'</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span></code> </pre> <br>  ููุฌุฏ ููุง ููู ูุณุชุดุนุฑ ูููู ููุน ุจูุงูุงุช ุนููุฏ: ุงูุถูุก ุ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุ ุงูุฑุทูุจุฉ. <br><br>  ูุฐุง ููุทูู ุจูุง ููู ุงูููุงูุฉ ุ ูููู <strong>ููุงู ูุดููุฉ - ููุณุช ูุฑูุฉ</strong> .  ูููุชุฑุถ ุฃููุง ูุฑูุฏ ุฅุถุงูุฉ ูุณุชุดุนุฑ ุขุฎุฑ ูููุงุณ ุดูุก ุขุฎุฑ.  ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุจุนุถ ุงูุฃุดุฎุงุต ุจููุงุณ ุงูุจูุฑุฉ ุงููุชุจููุฉ ูู ุงูุจุฑููู.  ูุงุฐุง ุชูุนู ูู ูุฐู ุงูุญุงูุฉุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">alter table sensor_wide add water level double ...;</code> </pre><br>  ููููุฉ ุงูุงูุญุฑุงู ูู ุฃุฌู ุฅุถุงูุฉ ุดูุก ุฅูู ุงูุฌุฏููุ  ุชุญุชุงุฌ ุฅูู ุนูู ุฌุฏูู ุจุฏูู ุ ูููู ุฅุฐุง ููุช ุจุฅุฌุฑุงุก ุฌุฏูู ุจุฏูู ูู MySQL ุ ูุฃูุช ุชุนูู ูุง ุฃุชุญุฏุซ ุนูู - ูุฐุง ุฃูุฑ ุตุนุจ ุชูุงููุง.  ูุนุฏ ุชุบููุฑ ุงูุฌุฏูู ูู MySQL 8 ู MariaDB ุฃุจุณุท ุจูุซูุฑ ุ ูููู ูุฐู ูุดููุฉ ูุจูุฑุฉ ุชุงุฑูุฎูุง.  ูุฐูู ุฅุฐุง ููุง ุจุญุงุฌุฉ ุฅูู ุฅุถุงูุฉ ุนููุฏ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณู ุงูุจูุฑุฉ ุ ููู ูููู ุงูุฃูุฑ ุจูุฐู ุงูุจุณุงุทุฉ. <br><br>  ูุฑุฉ ุฃุฎุฑู ุ ุชุธูุฑ ุฃุฌูุฒุฉ ุงูุงุณุชุดุนุงุฑ ุ ุชุฎุชูู ุ ูุงุฐุง ูุฌุจ ุฃู ููุนู ูุน ุงูุจูุงูุงุช ุงููุฏููุฉุ  ุนูู ุณุจูู ุงููุซุงู ุ ูุชููู ุนู ุชููู ูุนูููุงุช ุญูู ุงูุฅุถุงุกุฉ.  ุฃู ุฃููุง ุจุตุฏุฏ ุฅูุดุงุก ุนููุฏ ุฌุฏูุฏ - ููููุฉ ุชุฎุฒูู ูุง ูู ููู ููุงู ูู ูุจูุ  ุงูููุฌ ุงูููุงุณู ูุงุบู ุ ูููู ุงูุชุญููู ูู ูููู ููุงุณุจูุง ููุบุงูุฉ ููุชุญููู. <br><br>  ุฎูุงุฑ ุขุฎุฑ ูู ูุฎุฒู ููุชุงุญ / ุงููููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  MySQL ุชุฎุฒูู ุงูุจูุงูุงุช: ููุชุงุญ / ูููุฉ <br></h3><br>  ุณูููู ูุฐุง <strong>ุฃูุซุฑ ูุฑููุฉ</strong> : ูู ุงูููุชุงุญ / ุงููููุฉ ุณูููู ููุงู ุงุณู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุ ูุจุงูุชุงูู ุ ุงูุจูุงูุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">'cloud_data'</span></span> ( <span class="hljs-string"><span class="hljs-string">'id'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> (<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT, <span class="hljs-string"><span class="hljs-string">'name'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'data'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">text</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'updated_at'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CURRENT_TIMESTAMP</span></span> PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">'id'</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span></code> </pre><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ุชุธูุฑ <strong>ูุดููุฉ ุฃุฎุฑู - ูุง ุชูุฌุฏ ุฃููุงุน</strong> .  ูุง ูุนุฑู ูุง ูููู ุจุชุฎุฒููู ูู ุญูู "ุงูุจูุงูุงุช".  ูุฌุจ ุฃู ูุนูููุง ูุญูู ูุต.  ุนูุฏูุง ุฃููู ุจุฅูุดุงุก ุฌูุงุฒ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุฎุงุต ุจู ุ ุฃุนุฑู ููุน ุงููุณุชุดุนุฑ ุงูููุฌูุฏ ุ ูุจุงูุชุงูู ุงูููุน ุ ูููู ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุฎุฒูู ุจูุงูุงุช ุดุฎุต ุขุฎุฑ ูู ููุณ ุงูุฌุฏูู ุ ููู ุฃุนุฑู ุงูุจูุงูุงุช ุงูุชู ูุชู ุฌูุนูุง. <br><br>  ููููู ุชุฎุฒูู ุงูุนุฏูุฏ ูู ุงูุฌุฏุงูู ุ ูููู ุฅูุดุงุก ุฌุฏูู ุฌุฏูุฏ ุจุงููุงูู ููู ุฌูุงุฒ ุงุณุชุดุนุงุฑ ููุณ ุฌูุฏูุง ุฌุฏูุง. <br><br>  ูุง ุงูุฐู ูููู ุนูููุ  - ุงุณุชุฎุฏู JSON. <br><br><h3 style=";text-align:right;direction:rtl">  MySQL ุชุฎุฒูู ุงูุจูุงูุงุช: JSON <br></h3><br>  ูุงูุฎุจุฑ ุงูุณุงุฑ ูู ุฃูู ูู MySQL 5.7 ุ ููููู ุชุฎุฒูู JSON ูุญูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">'cloud_data_json'</span></span> ( <span class="hljs-string"><span class="hljs-string">'id'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> (<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT, <span class="hljs-string"><span class="hljs-string">'name'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'data'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JSON</span></span>, <span class="hljs-string"><span class="hljs-string">'updated_at'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CURRENT_TIMESTAMP</span></span> PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">'id'</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span>;</code> </pre><br>  ูุจู ุธููุฑ MySQL 5.7 ุ ูุงู ุงููุงุณ ุฃูุถูุง ุจุชุฎุฒูู JSON ุ ูููู ูุญูู ูุตู.  ูุชูุญ ูู ุงูุญูู JSON ูู MySQL ุชุฎุฒูู JSON ููุณู ุจููุงุกุฉ ุฃูุจุฑ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุจูุงุกู ุนูู JSON ุ ููููู ุฅูุดุงุก ุฃุนูุฏุฉ ูููุงุฑุณ ุงูุชุฑุงุถูุฉ ุจูุงุกู ุนูููุง. <br><br>  ุงููุดููุฉ ุงูุทูููุฉ ุงููุญูุฏุฉ ูู <strong>ุฃู ุงูุฌุฏูู ุณูู ูููู ูู ุงูุญุฌู ุฃุซูุงุก ุงูุชุฎุฒูู</strong> .  ูููู ุจุนุฏ ุฐูู ูุญุตู ุนูู ุงููุซูุฑ ูู ุงููุฑููุฉ. <br><br>  ูุนุฏ ุญูู JSON ุฃูุถู ูุชุฎุฒูู JSON ูู ุญูู ุงููุต ูุฃูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููุฑ <strong>ุงูุชุญูู ุงูุชููุงุฆู ูู ุงููุณุชูุฏ</strong> .  ุฃู ุฅุฐุง ุญุงูููุง ูุชุงุจุฉ ุดูุก ุบูุฑ ุตุงูุญ ููุงู ุ ูุณูุญุฏุซ ุฎุทุฃ. <br></li><li style=";text-align:right;direction:rtl">  ูุฐุง ูู <strong>ุชูุณูู ุงูุชุฎุฒูู ุงูุฃูุซู</strong> .  ูุชู ุชุฎุฒูู JSON ูู ุชูุณูู ุซูุงุฆู ุ ููุง ูุณูุญ ูู ุจุงูุชุจุฏูู ูู ูุซููุฉ JSON ุฅูู ุฃุฎุฑู - ูุง ูุณูู ุชุฎุทู. <br></li></ul><br>  ูุชุฎุฒูู ุงูุจูุงูุงุช ูู JSON ุ ูููููุง ุจุจุณุงุทุฉ ุงุณุชุฎุฏุงู SQL: ุฅูุดุงุก INSERT ุ ููุถุน "ุงูุจูุงูุงุช" ููุงู ูุงูุญุตูู ุนูู ุงูุจูุงูุงุช ูู ุงูุฌูุงุฒ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">โฆ stream.on('event', function(data) { var query = connection.query( '<span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> cloud_data_json (client_name, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (?, ?)<span class="hljs-string"><span class="hljs-string">', ['</span></span>particle<span class="hljs-string"><span class="hljs-string">', JSON.stringify(data)] ) โฆ (demo)</span></span></code> </pre><br><h3 style=";text-align:right;direction:rtl">  ุนุฑุถ <br></h3><br>  ููุชุฏููู ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ุจุฏุงูุชู ูู ุงูููุฏูู) ุ ูุณุชุฎุฏู ุงููุซุงู ุฌูุงุฒูุง ุงูุชุฑุงุถููุง ุจู SQL. <br><br><img src="https://habrastorage.org/webt/r1/mb/po/r1mbpoyh-czzxtsbz2f_umippjc.jpeg"><br><br>  ุฃุฏูุงู ุฌุฒุก ูู ุงูุจุฑูุงูุฌ. <br><br><img src="https://habrastorage.org/webt/ap/fm/pq/apfmpqvjrdx5k8f9z6thallawri.jpeg"><br><br>  ุฃููู <code>INSERT INTO cloud_data (name, data)</code> ุ ูููููู ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ุจุงููุนู ุจุชูุณูู JSON ุ ููููููู ุฃู <code>INSERT INTO cloud_data (name, data)</code> ูุจุงุดุฑุฉ ุฅูู MySQL ููุง ูู ุ ุฏูู ุงูุชูููุฑ ูู ูุง ูู ุจุฏุงุฎููุง. <br><br>  ููุง ุงุชุถุญ ูููุง ุจุนุฏ ุ ุจุงุณุชุฎุฏุงู ูุฐู ุงูุณุญุงุจุฉ ุ ููููู ุงููุตูู ููุณ ููุท ุฅูู ุจูุงูุงุช ุฌูุงุฒู ุ ูููู ุนููููุง <strong>ูู ุงูุจูุงูุงุช</strong> ุงูุชู ุชุณุชุฎุฏููุง ูุฐู ุงูุฌุณููุงุช.  ูุจุฏู ุฃู ุงูุนูู ุญุชู ุงูุขู.  ูุฑุณู ุงูุฃุดุฎุงุต ุงูุฐูู ูุณุชุฎุฏููู Particle Photon ูู ุฌููุน ุฃูุญุงุก ุงูุนุงูู ุจุนุถ ุงูุจูุงูุงุช: ุงูุจุงุจ ููุชูุญูุง ุฃูุงู ุงููุฑุขุจ ุ ุฃู ูุง ุชุจูู ูู ุงูุฌุนุฉ ูุฐุง ููุฐุง ุ ุฃู ุฃู ุดูุก ุขุฎุฑ.  ูุง ููุนุฑู ููุงู ูุฌูุฏ ูุฐู ุงูุฃุฌูุฒุฉ ุ ูููู ูููู ุงูุญุตูู ุนูู ูุฐู ุงูุจูุงูุงุช.  ุงููุฑู ุงููุญูุฏ ูู ุฃูู ุนูุฏูุง ุฃุญุตู ุนูู ุจูุงูุงุชู ุ ุฃูุชุจ ุดูุฆูุง ูุซู: <code>deviceId: 'mine'</code> . <br><br>  ุนูุฏูุง ูููู ุจุชุดุบูู ุงูุดูุฑุฉ ุ ูุญุตู ุนูู ุฏูู ูู ุจุนุถ ุงูุจูุงูุงุช ูู ุฃุฌูุฒุฉ ุดุฎุต ุขุฎุฑ ุชููู ุจุนูู ูุง. <br><br><img src="https://habrastorage.org/webt/sw/wk/c5/swwkc5xibzuqncd-kuuo_figddg.jpeg"><br><br>  ูุง ูุนุฑู ูุทูููุง ูุง ูู ูุฐู ุงูุจูุงูุงุช: TTL ุ ุงูููุดูุฑ_ุงูุชุงูู ุ ุงูุฌููุฑ ุ ุญุงูุฉ ุงูุจุงุจ (ุงูุจุงุจ ููุชูุญ) ุ ุงูุชุฑุญูู. <br><br>  ูุฐุง ูุซุงู ุฑุงุฆุน.  ุงูุชุฑุถ ุฃููู ุฃุญุงูู ูุถุน ูุฐุง ูู MySQL ูู ุจููุฉ ุจูุงูุงุช ุนุงุฏูุฉ.  ูุฌุจ ุฃู ุฃุนุฑู ูุง ูู ุงูุจุงุจ ุ ูููุงุฐุง ููุชุญ ุ ููุง ูู ุงููุนุงููุฑ ุงูุนุงูุฉ ุงูุชู ูููู ุฃู ูุณุชุบุฑููุง.  ุฅุฐุง ูุงู ูุฏูู JSON ุ ูุฃูุชุจู ูุจุงุดุฑุฉู ุนูู MySQL ูุญูู JSON. <br><br><img src="https://habrastorage.org/webt/9o/pi/k4/9opik4nqfqiand6n4fhae0zi31u.jpeg"><br><br>  ูู ูุถูู ุ ููุฏ ุชู ุชุณุฌูู ูู ุดูุก. <br><br><img src="https://habrastorage.org/webt/wz/n0/ph/wzn0phesbal_lwsjutyiy3569jq.jpeg"><br><br><h3 style=";text-align:right;direction:rtl">  ูุฎุฒู ุงููุซุงุฆู <br></h3><br>  ูุนุฏ ูุฎุฒู ุงููุณุชูุฏุงุช ูุญุงููุฉ ูู MySQL ูุชูููุฑ ูุณุงุญุฉ ุชุฎุฒูู ูู JSON.  ุฃูุง ุญูุงู ุฃุญุจ SQL ุ ูุฃูุง ุนูู ุฏุฑุงูุฉ ุจูุง ุ ูููููู ุชูุฏูู ุฃู ุงุณุชุนูุงู SQL ุ ุฅูุฎ.  ููู ุงููุซูุฑูู ูุง ูุญุจูู SQL ูุฃุณุจุงุจ ูุชุนุฏุฏุฉ ุ ููููู ุฃู ูููู ูุชุฌุฑ ุงููุณุชูุฏุงุช ุญูุงู ููู ุ ูุฃูู ููููู ูู ุฎูุงูู ุงูุงุณุชุฎุฑุงุฌ ูู SQL ูุงูุงุชุตุงู ุจู MySQL ููุชุงุจุฉ JSON ูุจุงุดุฑุฉู ููุงู. <br><img src="https://habrastorage.org/webt/w5/9z/5y/w59z5ykdgg9nqfnuuzjdhgrfcmu.jpeg"><br><br>  ููุงู ุงุญุชูุงู ุขุฎุฑ ุธูุฑ ูู MySQL 5.7: ุงุณุชุฎุฏุงู ุจุฑูุชูููู ูุฎุชูู ุ ููููุฐ ูุฎุชูู ุ ูููุงู ุญุงุฌุฉ ุฃูุถูุง ุฅูู ุจุฑูุงูุฌ ุชุดุบูู ุขุฎุฑ.  ุจุงููุณุจุฉ ุฅูู Node.js (ูู ุงููุงูุน ุ ูุฃู ูุบุฉ ุจุฑูุฌุฉ - PHP ุฃู Java ุฃู ูุง ุฅูู ุฐูู) ุ ูุฅููุง ูุชุตู ุจู MySQL ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู ูุฎุชูู ููููููุง ููู ุงูุจูุงูุงุช ุจุชูุณูู JSON.  ูุฑุฉ ุฃุฎุฑู ุ ูุง ุฃุนุฑู ูุง ูุฏู ูู ูุฐุง JSON - ูุนูููุงุช ุญูู ุงูุฃุจูุงุจ ุฃู ุฃู ุดูุก ุขุฎุฑ ุ ุฃูุง ููุท ุฃุชุฎูุต ูู ุงูุจูุงูุงุช ูู MySQL ุ ุซู ุณููุชุดููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mysqlx = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'@mysql/xdevapi*); // MySQL Connection var mySession = mysqlx.gctSession({ host: '</span></span>localhost<span class="hljs-string"><span class="hljs-string">', port: 33060, dbUser: '</span></span>photon* }); โฆ session.getSchema(<span class="hljs-string"><span class="hljs-string">"particle"</span></span>).getCollection(<span class="hljs-string"><span class="hljs-string">"cloud_data_docstore"</span></span>) .add( data ) .execute(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">row</span></span></span><span class="hljs-function">) </span></span>{ }).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(err); }) .then( -<span class="hljs-built_in"><span class="hljs-built_in">Function</span></span> (notices) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"Wrote to MySQL"</span></span>) }); ...https:<span class="hljs-comment"><span class="hljs-comment">//dev.mysql.com/doc/dev/connector-nodejs/</span></span></code> </pre><br>  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุชุฌุฑุจุฉ ูุฐุง ุ ูููููู ุชูููู MySQL 5.7 ุจุญูุซ ูููู ููุณูุน ุนูู ุงููููุฐ ุงูููุงุณุจ Document Store ุฃู X DevAPI.  ุงุนุชุฏุช ููุตู nodejs. <br><br>  ูุฐุง ูุซุงู ุนูู ูุง ุฃูุชุจ ููุงู: ุงูุจูุฑุฉ ุ ููุง ุฅูู ุฐูู. ุจุงูุชุฃููุฏ ูุง ุฃุนุฑู ูุง ุงูุฐู ููุฌุฏ.  ูุญู ุงูุขู ููุชุจูุง ููุญูููุง ูุงุญููุง. <br><br><img src="https://habrastorage.org/webt/vo/cw/jn/vocwjnriy8x0mgrsepta-nrcpcm.jpeg"><br><br>  ุงูููุทุฉ ุงูุชุงููุฉ ูู ุจุฑูุงูุฌูุง ูู ููููุฉ ูุนุฑูุฉ ูุง ููุงูุ <br><br><h3 style=";text-align:right;direction:rtl">  ุชุฎุฒูู ุจูุงูุงุช MySQL: ููุงุฑุณ JSON + <br></h3><br>  ููุงู ููุฒุฉ ุฑุงุฆุนุฉ ูู JSON ู MySQL 5.7 ูููููุง ุณุญุจ ุงูุญููู ูู JSON.  ูุฐุง ูู ุงูุณูุฑ ุงููุญูู ูู ูุธููุฉ JSON_EXTRACT.  ุฃุนุชูุฏ ุฃู ูุฐุง ูุฑูุญ ููุบุงูุฉ. <br><br>  ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ุญุงูุชูุง ูู ุงุณู ุงูุนููุฏ ุงูุฐู ุชู ุชุฎุฒูู JSON ููู ุ ูุงูุงุณู ูู ุญูููุง.  ุงูุงุณู ูุงูุจูุงูุงุช ุงูููุดูุฑุฉ - ูุฐุง ูู ูู ูุง ูููููุง ุณุญุจู ุจูุฐู ุงูุทุฑููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.name'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> data_name, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.data'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.published_at'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> published <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;<span class="hljs-string"><span class="hljs-string">'$.published_at'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>;</code> </pre><br>  ูู ูุฐุง ุงููุซุงู ุ ุฃุฑูุฏ ุฃู ุฃุฑู ูุง ูุชุจุชู ูู ุฌุฏูู MySQL ุ ูุงูุณุฌูุงุช ุงูุนุดุฑ ุงูุฃุฎูุฑุฉ.  ุฃููู ุจุชูุฏูู ูุฐุง ุงูุทูุจ ูุฃุญุงูู ุชูููุฐู.  ูุณูุก ุงูุญุธ ุ <strong>ูุฐุง ุณูู ูุนูู ููุชุฑุฉ ุทูููุฉ ุฌุฏุง</strong> . <br><br>  ุจุทุฑููุฉ ููุทููุฉ ุ ูู ุชุณุชุฎุฏู MySQL ุฃู ููุงุฑุณ ูู ูุฐู ุงูุญุงูุฉ.  ูููู ุจุณุญุจ ุงูุจูุงูุงุช ูู JSON ููุญุงูู ุชุทุจูู ููุน ูู ุงููุฑุดุญุงุช ูุงููุฑุฒ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุญุตู ุนูู ุงุณุชุฎุฏุงู filesort. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">EXPLAIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.name'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> data_name ... <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.published_at'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> select_type: SIMPLE <span class="hljs-keyword"><span class="hljs-keyword">table</span></span>: cloud_data_json possible_keys: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> โฆ <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>: <span class="hljs-number"><span class="hljs-number">101589</span></span> filtered: <span class="hljs-number"><span class="hljs-number">100.00</span></span> Extra: <span class="hljs-keyword"><span class="hljs-keyword">Using</span></span> filesort</code> </pre><br>  ุงุณุชุฎุฏุงู filesort ูู ุณูุก ููุบุงูุฉ ุ ุจู ูู ููุน ุฎุงุฑุฌู. <br><br>  ูุงูุฎุจุฑ ุงูุณุงุฑ ูู ุฃูู ููููู ุงุชุฎุงุฐ ุฎุทูุชูู ูุชุณุฑูุน ุฐูู. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 1. ุฅูุดุงุก ุนููุฏ ุงูุธุงูุฑู <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> cloud_data_json -&gt; <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> published_at DATETIME(<span class="hljs-number"><span class="hljs-number">6</span></span>) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">GENERATED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALWAYS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">STR_TO_DATE</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.published_at'</span></span>,<span class="hljs-string"><span class="hljs-string">"%Y-%m-%dT%T.%fZ"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">VIRTUAL</span></span>; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0</code> </pre><br>  ุฃููู ุจุฅุฌุฑุงุก EXTRACT ุ ุฃู ุณุญุจ ุงูุจูุงูุงุช ูู JSON ูุจูุงุกู ุนูููุง ุฃููู ุจุฅูุดุงุก ุนููุฏ ุงูุชุฑุงุถู.  ูุง ูุชู ุชุฎุฒูู ุงูุนููุฏ ุงูุธุงูุฑู ูู MySQL 5.7 ููู MySQL 8 - ุฅูู ููุท ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ุนููุฏ ูููุตู. <br><br>  ุฃูุช ุชุณุฃู ููู ูู ุ ููุช ุฃู ALTER TABLE ูู ูุซู ูุฐู ุงูุนูููุฉ ุงูุทูููุฉ.  ููู ููุง ููุณ ุณูุฆูุง ููุบุงูุฉ.  <strong>ุฅูุดุงุก ุนููุฏ ุงูุชุฑุงุถู ุณุฑูุน</strong> .  ููุงู ููุต ุ ูููู ูู ุงููุงูุน ุ ููุฌุฏ ูู MySQL ููู ูุฌููุน ุนูููุงุช DDL.  ALTER TABLE ูู ุนูููุฉ ุณุฑูุนุฉ ุฅูู ุญุฏ ูุง ุ ููุง ุชููู ุจุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุฌุฏูู ุจุฃูููู. <br><br>  ููุฏ ุฃูุดุฃูุง ุนููุฏูุง ุงูุชุฑุงุถููุง ููุง.  ุงุถุทุฑุฑุช ุฅูู ุชุญููู ุงูุชุงุฑูุฎ ุ ูุฃูู ูู JSON ูุชู ุชุฎุฒููู ุจุชูุณูู ISO ุ ูููู ููุง ูุณุชุฎุฏู MySQL ุชูุณูููุง ูุฎุชูููุง ุชูุงููุง.  ูุฅูุดุงุก ุนููุฏ ุ ููุช ุจุชุณููุชู ุ ูุฃุนุทุชู ููุนูุง ูููุช ุฃููู ุณุฃููู ุจุงูุชุณุฌูู ููุงู. <br><br>  ูุชุญุณูู ุงูุงุณุชุนูุงู ุงูุฃุตูู ุ ุชุญุชุงุฌ ุฅูู ุณุญุจ ุงูููุดูุฑ ูุงูุงุณู.  ููุดูุฑ ููุดูุฑ ุจุงููุนู ุ ุงูุงุณู ุฃุณูู - ููุท ูู ุจุนูู ุนููุฏ ุงูุชุฑุงุถู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> cloud_data_json -&gt; <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> data_name <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">GENERATED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALWAYS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.name'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VIRTUAL</span></span>; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 2. ุฅูุดุงุก ููุฑุณ <br></h4><br>  ูู ุงูููุฏ ุฃุฏูุงู ุ ุฃููู ุจุฅูุดุงุก ููุฑุณ ุนูู ุงูููุดูุฑ _at ูุชูููุฐ ุงูุงุณุชุนูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (published_at); Query OK, 0 rows affected (0.31 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> data_name, published_at, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.data'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> published_at <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>\G <span class="hljs-keyword"><span class="hljs-keyword">table</span></span>: cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> possible_keys: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>: published_at key_len: <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> filtered: <span class="hljs-number"><span class="hljs-number">100.00</span></span> Extra: Backward <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">scan</span></span></code> </pre><br>  ููููู ุฃู ุชุฑู ุฃู MySQL ูุณุชุฎุฏู ุงูููุฑุณ ุจุงููุนู.  ูุฐุง ูู ุงูุฃูุซู ูู ูุจู ุงููุธุงู.  ูู ูุฐุง ุงููุซุงู ุ ูุง ูุชู ููุฑุณุฉ ุงูุจูุงูุงุช ูุงูุงุณู.  ูุณุชุฎุฏู MySQL ุงูุชุฑุชูุจ ุญุณุจ ุงูุจูุงูุงุช ุ ููุฃู ูุฏููุง ููุฑุณูุง ุนูู ุงูููุดูุฑ_at ุ ูุฅูู ูุณุชุฎุฏูู. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูููููู ุงุณุชุฎุฏุงู ููุณ ุงูุณูุฑ ูู ุจูุงุก ุงูุฌููุฉ <code>STR_TO_DATE(data-&gt;&gt;'$.published_at',"%Y-%m-%dT%T.%fZ")</code> ุจุฏูุงู ูู ุงูููุดูุฑ <code>STR_TO_DATE(data-&gt;&gt;'$.published_at',"%Y-%m-%dT%T.%fZ")</code> ุชุฑุชูุจ ุจุงูุชุฑุชูุจ.  ูุง ูุฒุงู MySQL ูููู ุฃู ููุงู ููุฑุณ ูู ูุฐุง ุงูุนููุฏ ูุงูุจุฏุก ูู ุงุณุชุฎุฏุงูู. <br><br>  ููุงู ุจุงููุนู ูุดููุฉ ุตุบูุฑุฉ ูุน ูุฐุง.  ูููุชุฑุถ ุฃููู ุฃุฑูุฏ ูุฑุฒ ุงูุจูุงูุงุช ููุณ ููุท ุญุณุจ ุงูููุดูุฑ ุ ูููู ุฃูุถูุง ุจุงูุงุณู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> data_name, published_at, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.data'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> published_at <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span>, data_name <span class="hljs-keyword"><span class="hljs-keyword">asc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>\G select_type: SIMPLE <span class="hljs-keyword"><span class="hljs-keyword">table</span></span>: cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">partitions</span></span>: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: ALL possible_keys: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> key_len: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ref</span></span>: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>: <span class="hljs-number"><span class="hljs-number">101589</span></span> filtered: <span class="hljs-number"><span class="hljs-number">100.00</span></span> Extra: <span class="hljs-keyword"><span class="hljs-keyword">Using</span></span> filesort</code> </pre><br>  ุฅุฐุง ูุงู ุฌูุงุฒู ูุนุงูุฌ ุนุดุฑุงุช ุงูุขูุงู ูู ุงูุฃุญุฏุงุซ ูู ุงูุซุงููุฉ ุงููุงุญุฏุฉ ุ ููู ููุฏู ุงูููุดูุฑ_at ููุนูุง ุฌูุฏูุง ุ ุญูุซ ุณุชููู ููุงู ุชูุฑุงุฑุงุช.  ูุฐูู ุ ูุถูู ูุฑุฒูุง ุขุฎุฑ ุญุณุจ ุงุณู_ุงูุจูุงูุงุช.  ูุฐุง ุงุณุชุนูุงู ูููุฐุฌู ููุณ ููุท ูุฅูุชุฑูุช ุงูุฃุดูุงุก: ุฃุนุทูู ุงูุฃุญุฏุงุซ ุงูุนุดุฑ ุงูุฃุฎูุฑุฉ ุ ูููู ุฑุชุจูุง ุญุณุจ ุงูุชุงุฑูุฎ ุ ุซู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุญุณุจ ุงูุงุณู ุงูุฃุฎูุฑ ููุดุฎุต ุจุชุฑุชูุจ ุชุตุงุนุฏู.  ููููุงู ุจุฐูู ุ ูู ุงููุซุงู ุฃุนูุงู ุ ููุฌุฏ ุญููุงู ููุชู ุชุญุฏูุฏ ููุชุงุญู ูุฑุฒ: ุชูุงุฒูู ูุชุตุงุนุฏู. <br><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูู ูุฐู ุงูุญุงูุฉ ุ ูู ูุณุชุฎุฏู MySQL ุงูููุงุฑุณ.  ูู ูุฐู ุงูุญุงูุฉ ุจุงูุฐุงุช ุ ููุฑุฑ MySQL ุฃู ุงููุญุต ุงููุงูู ููุฌุฏูู ุณูููู ุฃูุซุฑ ุฑุจุญูุฉ ูู ุงุณุชุฎุฏุงู ุงูููุฑุณ ุ ููุฑุฉ โโุฃุฎุฑู ูุชู ุงุณุชุฎุฏุงู ุนูููุฉ ุงููููุงุช ุงูุจุทูุฆุฉ ููุบุงูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฌุฏูุฏ ูู MySQL 8.0 <br></h2><br><h3 style=";text-align:right;direction:rtl">  <strong>ุชูุงุฒูู / ุชุตุงุนุฏู</strong> <br></h3><br>  ูู MySQL 5.7 ุ ูุง ูููู ุชุญุณูู ูุซู ูุฐุง ุงูุงุณุชุนูุงู ุ ุฅูุง ุฅุฐุง ูุงู ุฐูู ุนูู ุญุณุงุจ ุฃุดูุงุก ุฃุฎุฑู.  ูู MySQL 8 ุ ูุงูุช ููุงู ูุฑุตุฉ ุญููููุฉ ูุชุญุฏูุฏ ุงููุฑุฒ ููู ุญูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> published_at_data_name (published_at <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span>, data_name <span class="hljs-keyword"><span class="hljs-keyword">asc</span></span>); Query OK, 0 rows affected (0.44 sec) Records: 0 Duplicates: 0 Warnings: 0</code> </pre><br>  ุงูุดูุก ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ุฃู ุงูููุชุงุญ ุงูุชูุงุฒูู / ุงูุชุตุงุนุฏู ุจุนุฏ ุงุณู ุงูููุฑุณ ููุฐ ูุชุฑุฉ ุทูููุฉ ูู SQL.  ุญุชู ูู ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู MySQL 3.23 ุ ููููู ุชุญุฏูุฏ ุงูููุดูุฑ ุชูุงุฒูููุง ุฃู ุงูููุดูุฑ ุชุตุงุนุฏููุง.  ุชูุจู MySQL ูุฐุง ุ <strong>ููููุง ูู ุชูุนู ุดูุฆูุง</strong> ุ <strong>ุฃู</strong> ุฃูู ูุชู ูุฑุฒู ุฏุงุฆููุง ูู ุงุชุฌุงู ูุงุญุฏ. <br><br>  ูู MySQL 8 ุ ุชู ุฅุตูุงุญ ูุฐุง ูุงูุขู ููุงู ูุซู ูุฐู ุงูููุฒุฉ.  ููููู ุฅูุดุงุก ุญูู ุจุชุฑุชูุจ ุชูุงุฒูู ูุน ูุฑุฒ ุงูุชุฑุงุถู. <br><br>  ุฏุนูุง ูุนูุฏ ุซุงููุฉ ูููุธุฑ ุฅูู ุงููุซุงู ูู ุงูุฎุทูุฉ 2 ูุฑุฉ ุฃุฎุฑู. <br><br>  ููุงุฐุง ูุนูู ุ ูุฅูุง ูุฅูู ูุงุ  ูุนูู ูุฐุง ูุฃูู ูู ููุงุฑุณ MySQL ุนุจุงุฑุฉ ุนู ุดุฌุฑุฉ B ุ ููููู ูุฑุงุกุฉ ููุงุฑุณ B-tree ูู ุงูุจุฏุงูุฉ ููู ุงูููุงูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ููุฑุฃ MySQL ุงูููุฑุณ ูู ุงูููุงูุฉ ููู ุดูุก ุนูู ูุง ูุฑุงู.  ููู ุฅุฐุง ูุนููุง ุชูุงุฒูููุง ูุตุนูุฏููุง ุ ููู ุชุชููู ูู ุงููุฑุงุกุฉ.  ููููู ุงููุฑุงุกุฉ ุจููุณ ุงูุชุฑุชูุจ ุ ููู <strong>ูุง ููููู ุงูุฌูุน ุจูู ููุนูู</strong> - ุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุงูุชุฑุชูุจ. <br><br>  ูุธุฑูุง ูุฃููุง ูููู ุจุชุญุณูู ุญุงูุฉ ูุญุฏุฏุฉ ููุบุงูุฉ ุ ูููููุง ุฅูุดุงุก ููุฑุณ ููุง ูุชุญุฏูุฏ ููุน ูุนูู: ููุง publish_at ุชูุงุฒูู ุ data_name ุชุตุงุนุฏู.  ูุณุชุฎุฏู MySQL ูุฐุง ุงูููุฑุณ ุ ูุณูููู ูู ุดูุก ุฌูุฏูุง ูุณุฑูุนูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> data_name, published_at, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.data'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> published_at <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>\G select_type: SIMPLE <span class="hljs-keyword"><span class="hljs-keyword">table</span></span>: cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">partitions</span></span>: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> possible_keys: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>: published_at_data_name key_len: <span class="hljs-number"><span class="hljs-number">267</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ref</span></span>: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> filtered: <span class="hljs-number"><span class="hljs-number">100.00</span></span> Extra: <span class="hljs-literal"><span class="hljs-literal">NULL</span></span></code> </pre><br>  ูุฐู ูู ุณูุฉ ูู ุณูุงุช MySQL 8 ุ ูุงูุชู ุฃุตุจุญุช ุงูุขู ุ ููุช ุงููุดุฑ ุ ูุชุงุญุฉ ุจุงููุนู ูุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุชุงุฆุฌ ุงูุงูุชุงุฌ <br></h3><br>  ููุงู ุดูุฆุงู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ุฃุฑุบุจ ูู ุนุฑุถููุง: <br><br>  1. ุทุจุงุนุฉ ุฌูููุฉ ุ ููุฐุง ูู ุ ุฅุฎุฑุงุฌ ุฌููู ูู ุงูุจูุงูุงุช ุฅูู ุงูุดุงุดุฉ.  ุจุงุณุชุฎุฏุงู SELECT ุงูุนุงุฏู ุ ูู ูุชู ุชูุณูู JSON. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> json_pretty(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> cloud_data_json <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.data'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">'%beer%'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>\G โฆ json_pretty(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>): { <span class="hljs-string"><span class="hljs-string">"ttl"</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-string"><span class="hljs-string">"data"</span></span>: <span class="hljs-string"><span class="hljs-string">"FvGav,tagkey=beer-store spFridge=7.00,pvFridge=7.44"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"LOG_DATA_DEBUG"</span></span>, <span class="hljs-string"><span class="hljs-string">"coreid"</span></span>: <span class="hljs-string"><span class="hljs-string">"3600...."</span></span>, <span class="hljs-string"><span class="hljs-string">"published_at"</span></span>: <span class="hljs-string"><span class="hljs-string">"2017-09-28T18:21:16.517Z"</span></span> }</code> </pre><br>  2. ูููููุง ุงูููู ุฃู MySQL ุณุชูุชุฌ ุงููุชูุฌุฉ ูู ุดูู ุตููู JSON ุฃู ูุงุฆู JSON ุ ูุญุฏุฏ ุงูุญููู ุ ููู ุซู ุณูุชู ุชูุณูู ุงูุฅุฎุฑุงุฌ ูู JSON. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุจุญุซ ุนู ุงููุต ุงููุงูู ุฏุงุฎู ูุณุชูุฏุงุช JSON <br></h2><br>  ุฅุฐุง ููุง ูุณุชุฎุฏู ูุธุงู ุชุฎุฒูู ูุฑููุง ููุง ูุนุฑู ูุงุฐุง ููุฌุฏ ุฏุงุฎู JSON ุ ูุณูููู ูู ุงูููุทูู ุงุณุชุฎุฏุงู ุงูุจุญุซ ุนู ุงููุต ุงููุงูู. <br><br>  ูุณูุก ุงูุญุธ ุ <strong>ุงูุจุญุซ ุนู ุงููุต ุงููุงูู ูู ุญุฏูุฏู</strong> .  ุฃูู ูุง ุฌุฑุจุชู ูู ููุท ุฅูุดุงุก ููุชุงุญ ุงููุต ุงููุงูู.  ุญุงููุช ุฃู ุฃูุนู ูุฐุง ุงูุดูุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> cloud_data_json_indexes <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> fulltext <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>); ERROR 3152 (42000): JSON column 'data' supports indexing only via generated columns on a specified ISON path.</code> </pre><br>  ูุณูุก ุงูุญุธ ูุฐุง ูุง ูุนูู.  ุญุชู ูู MySQL 8 ุ ูุฅู ุฅูุดุงุก ููุฑุณ ูุต ูุงูู ุจุจุณุงุทุฉ ุนู ุทุฑูู ุญูู JSON ุฃูุฑ ูุณุชุญูู ููุฃุณู.  ุจุงูุทุจุน ุ ุฃูุฏ ุงูุญุตูู ุนูู ูุฐู ุงููุธููุฉ - ุณุชููู ุงููุฏุฑุฉ ุนูู ุงูุจุญุซ ุนูู ุงูุฃูู ุนู ุทุฑูู ููุงุชูุญ JSON ูููุฏุฉ ููุบุงูุฉ. <br><br>  ูููู ุฅุฐุง ูู ููู ุฐูู ูููููุง ุจุนุฏ ุ ููููู ุจุฅูุดุงุก ุนููุฏ ุงูุชุฑุงุถู.  ูู ุญุงูุชูุง ุ ููุฌุฏ ุญูู ุจูุงูุงุช ุ ูุณูููู ูู ุงููุซูุฑ ููุงูุชูุงู ุฃู ูุฑู ูุง ุจุฏุงุฎููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> cloud_data_json_indexes -&gt; <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> data_data <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">GENERATED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALWAYS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.data'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VIRTUAL</span></span>; Query OK, 0 rows affected (0.01 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> cloud_data_json_indexes <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> fulltext <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> ft_json(data_name, data_data); ERROR 3106 (HY000): 'Fulltext index on virtual generated column' is not supported for generated columns.</code> </pre><br>  ูุณูุก ุงูุญุธ ุ ูุฐุง ูุง ูุนูู ุฃูุถูุง - <strong>ูุง ููููู ุฅูุดุงุก ููุฑุณ ูุต ูุงูู ูู ุนููุฏ ุงูุชุฑุงุถู</strong> . <br><br>  ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ููููู ุจุฅูุดุงุก ุนููุฏ ูุฎุฒู.  ูุณูุญ ูู MySQL 5.7 ุจุฅุนูุงู ุนููุฏ ูุญูู ูุฎุฒู. <br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> cloud_data_json_indexes -&gt; <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> data_name <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">CHARACTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> UTF8MB4 -&gt; <span class="hljs-keyword"><span class="hljs-keyword">GENERATED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALWAYS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.name'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">STORED</span></span>; Query OK, 123518 rows affected (1.75 sec) Records: 123518 Duplicates: 0 Warnings: 0 mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> cloud_data_json_indexes <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> fulltext <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> ft_json(data_name); Query OK, 0 rows affected, 1 warning (3.78 sec) Records: 0 Duplicates: 0 Warnings: 1 mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">show</span></span> <span class="hljs-keyword"><span class="hljs-keyword">warnings</span></span>; +<span class="hljs-comment"><span class="hljs-comment">------------+--------+---------------------------------------------------+ | Level | Code | Message | +------------+--------+---------------------------------------------------+ | Warning | 124 | InnoDB rebuilding table to add column FTS_DOC_ID | +------------+--------+---------------------------------------------------+</span></span></code> </pre><br>  ูู ุงูุฃูุซูุฉ ุงูุณุงุจูุฉ ุ ุฃูุดุฃูุง ุฃุนูุฏุฉ ุงูุชุฑุงุถูุฉ ุบูุฑ ูุฎุฒูุฉ ุ ููู ุงูููุงุฑุณ ูุชู ุฅูุดุงุคูุง ูุชุฎุฒูููุง.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุงู ุนูู ุฃู ุฃุฎุจุฑ MySQL ุฃู ูุฐุง ูู ุนููุฏ STORED ุ ุฃู ุฃูู ุณูุชู ุฅูุดุงุคู ูุณูุชู ูุณุฎ ุงูุจูุงูุงุช ุฅููู.  ุจุนุฏ ุฐูู ุ ุฃูุดุฃ MySQL ููุฑุณ ูุต ูุงูู ุ ููุฐุง ูุงู ุนูููุง ุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุฌุฏูู.  ูููู ูุฐุง ุงูููุฏ ูู ูู ุงููุงูุน ุจุญุซ InnoDB ู InnoDB ุนู ุงููุต ุงููุงูู: ูุฌุจ ุนููู ุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุฌุฏูู ูุฅุถุงูุฉ ูุนุฑู ุจุญุซ ุนู ุงููุต ุงููุงูู. <br><br>  ููู ุงููุซูุฑ ููุงูุชูุงู ุ ูู MySQL 8 ุ ูุงู ููุงู <strong>ุชุดููุฑ</strong> <strong>UTF8</strong> <strong>MB4</strong> <strong>ุฌุฏูุฏ</strong> <strong>ููุฑููุฒ</strong> .  ุจุงูุทุจุน ุ ููุณ ุชูุงููุง ุจุงููุณุจุฉ ููู ุ ูููู ูุฃูู ูู UTF8MB3 ููุงู ุจุนุถ ุงููุดููุงุช ูู ุงููุบุงุช ุงูุฑูุณูุฉ ูุงูุตูููุฉ ูุงููุงุจุงููุฉ ูุบูุฑูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> cloud_data_json_indexes -&gt; <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> data_data <span class="hljs-built_in"><span class="hljs-built_in">TEXT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CHARACTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> UTF8MB4 -&gt; <span class="hljs-keyword"><span class="hljs-keyword">GENERATED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALWAYS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">CONVERT</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>-&gt;&gt;<span class="hljs-string"><span class="hljs-string">'$.data'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> UTF8MB4) ) <span class="hljs-keyword"><span class="hljs-keyword">STORED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Query</span></span> OK, <span class="hljs-number"><span class="hljs-number">123518</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> affected (<span class="hljs-number"><span class="hljs-number">3.14</span></span> sec) <span class="hljs-keyword"><span class="hljs-keyword">Records</span></span>: <span class="hljs-number"><span class="hljs-number">123518</span></span> Duplicates: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Warnings</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  ููููุง ูุฐูู ุ ูุฌุจ ุนูู MySQL 8 ุชุฎุฒูู ุจูุงูุงุช JSON ูู UTF8MB4.  ูููู ุณูุงุก ูุงู ุฐูู ุจุณุจุจ ุญูููุฉ ุฃู Node.js ูุชุตู ุจู Device Cloud ุ ูุฃู ููุงู ุดูุฆูุง ูุง ููุชูุจูุง ููุงู ุจุดูู ุบูุฑ ุตุญูุญ ุ ุฃู ุฃูู ุฎุทุฃ ูู ุงูุฅุตุฏุงุฑ ุงูุชุฌุฑูุจู ุ ูู ูุญุฏุซ ูุฐุง.  ูุฐูู ุ ูุงู ุนููู ุชุญููู ุงูุจูุงูุงุช ูุจู ูุชุงุจุชูุง ุฅูู ุนููุฏ ูุฎุฒู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">mysql&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> cloud_data_json_indexes <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> ft_json, <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> FULLTEXT <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> ft_json(data_name, data_data); Query OK, 0 rows affected (1.85 sec) Records: 0 Duplicates: 0 Warnings: 0</code> </pre><br>  ุจุนุฏ ุฐูู ุ ุชูููุช ูู ุฅูุดุงุก ุจุญุซ ูุงูู ุงููุต ูู ุญูููู: ุนูู ุงุณู JSON ูุนูู ุจูุงูุงุช JSON. <br><br><h2 style=";text-align:right;direction:rtl">  ููุณ ููุท ุฅูุชุฑูุช ุงูุฃุดูุงุก <br></h2><br>  JSON ููุณ ููุท ุฅูุชุฑูุช ุงูุฃุดูุงุก.  ูููู ุงุณุชุฎุฏุงูู ูุฃุดูุงุก ุฃุฎุฑู ูุซูุฑุฉ ููุงูุชูุงู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุญููู ุงููุฎุตุตุฉ (CMS) ุ </li><li style=";text-align:right;direction:rtl">  ุงูููุงูู ุงููุนูุฏุฉ ุ ุฅูุฎ ุ </li></ul><br>  ูููู ุชูููุฐ ุจุนุถ ุงูุฃุดูุงุก ุจุณูููุฉ ุฃูุจุฑ ุจุงุณุชุฎุฏุงู ูุธุงู ุชุฎุฒูู ุจูุงูุงุช ูุฑู.  ุชู ุชูุฏูู ูุซุงู ููุชุงุฒ ูู Oracle OpenWorld: ุญุฌูุฒุงุช ุงูุณูููุง.  ูู ุงูุตุนุจ ุฌุฏูุง ุชูููุฐ ุฐูู ูู ุงููููุฐุฌ ุงูุนูุงุฆูู - ุชุญุตู ุนูู ุงูุนุฏูุฏ ูู ุงูุฌุฏุงูู ุงูุชุงุจุนุฉ ุ ุงูุตูุงุช ุ ุฅูุฎ.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูููููุง ุชุฎุฒูู ุงูุบุฑูุฉ ุจุฃููููุง ููููู JSON ุ ุนูู ุงูุชูุงูู ุ ูุชุงุจุชูุง ุฅูู MySQL ูู ุฌุฏุงูู ุฃุฎุฑู ูุงุณุชุฎุฏุงููุง ุจุงูุทุฑููุฉ ุงููุนุชุงุฏุฉ: ุฅูุดุงุก ููุงุฑุณ ุนูู ุฃุณุงุณ JSON ุ ุฅูุฎ.  <b>ูุชู ุชุฎุฒูู ุงูููุงูู ุงููุนูุฏุฉ ุจุดูู ูุฑูุญ ูู ุชูุณูู JSON.</b> <br><br><img src="https://habrastorage.org/webt/9m/i3/th/9mi3thcaas9caominanputmpaua.jpeg"><br><br>  ูุฐู ูู ุงูุดุฌุฑุฉ ุงูุชู ุชู ุฒุฑุนูุง ุจูุฌุงุญ.  ูุณูุก ุงูุญุธ ุ ุจุนุฏ ุจุถุน ุณููุงุช ุ ุฃููุช ุงูุบุฒูุงู ุ ููู ูุฐู ูุตุฉ ูุฎุชููุฉ ุชูุงููุง. <br><br><blockquote style=";text-align:right;direction:rtl">  ูุฐุง ุงูุชูุฑูุฑ ูู ูุซุงู ููุชุงุฒ ุนูู ููููุฉ ููู ูุณู ูุงูู ูู ููุถูุน ูุงุญุฏ ูู ูุคุชูุฑ ูุจูุฑ ุ ุซู ุญุฏุซ ูููุตู ูููุตู.  ูู ุญุงูุฉ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุ ุญุตููุง ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">InoThings ++</a> - ูุคุชูุฑ ูููููููู ูู ุณูู ุฅูุชุฑูุช ุงูุฃุดูุงุก ุ ูุงูุฐู ุณูุนูุฏ ูููุฑุฉ ุงูุซุงููุฉ ูู 4 ุฃุจุฑูู. <br><br>  ูุจุฏู ุฃู ุงูุญุฏุซ ุงูุฑุฆูุณู ูููุคุชูุฑ ูู ุงุฌุชูุงุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุงุฆุฏุฉ ุงููุณุชุฏูุฑุฉ</a> "ูู ูุญู ุจุญุงุฌุฉ ุฅูู ูุนุงููุฑ ูุทููุฉ ุนูู ุฅูุชุฑูุช ุงูุฃุดูุงุกุ" ุ ูุงูุชู ุณุชูุณุชููู ุนุถููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุชูุงุฑูุฑ</a> ุชุทุจูููุฉ ุดุงููุฉ.  ุชุนุฑู ุนูู ูุง ุฅุฐุง ูุงูุช ุงูุฃูุธูุฉ ุงููุญููุฉ ุจูุซุงูุฉ ุชุชุญุฑู ุจุดูู ุตุญูุญ ุฅูู IIoT. <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar443422/">https://habr.com/ru/post/ar443422/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar443408/index.html">ุงูููุชููุงุช ุ ุงูููุงูุชุง ุ ูุญุงูุฉ ููู: ูุนุงูุฌุฉ ุนูู ูุณุชูู ุงููู ูุน ูุฑูุงู ุงูุชุฑุฏุฏ ุงููุงุณููู</a></li>
<li><a href="../ar443412/index.html">ููุงุฐุง ูุณุชูุฑ ุงููุจุฑูุฌูู ูู ุงุณุชุฎุฏุงู ุฌุงูุง ุงููุทููู ุ ุนูู ุงูุฑุบู ูู ูุฌูุฏ ุจุงูุซูู ููุฌุฒุฉ</a></li>
<li><a href="../ar443414/index.html">ุดุนุงุฑ: ุนูุฏูุง ูุง ุชููู ููุงุท ุงูุชููู ูุงููุฉ</a></li>
<li><a href="../ar443416/index.html">Winnti: ูุฌูู ุนูู ุณูุงุณู ุงูุชูุฑูุฏ - ูุทูุฑู ุงูุฃูุนุงุจ ุงูุขุณูููุฉ ูู ุทููุนุฉ</a></li>
<li><a href="../ar443418/index.html">ุทุฑู ุงุฎุชุจุงุฑ ุงูุจุฑูุฌูุงุช</a></li>
<li><a href="../ar443424/index.html">ุฅุนุงุฏุฉ ูุชุงุจุฉ ุญุงูุฉ ุงุฎุชุจุงุฑ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุฅูู TypeScript ูุฎุทุงูุงุช ุงูุชูุงุนู</a></li>
<li><a href="../ar443426/index.html">ุนูุงูุฉ ุณูุฏุงุก - ููู ูุญูู OpenShift ูู ููุงุท ุงูุถุนู ูู ุงูุญุงููุฉ ุจุงุณุชุฎุฏุงู SELinux</a></li>
<li><a href="../ar443428/index.html">ูููู ุจุงููุฑ ูุงูู ุ "ูุงูุฏ" Oculus Rift ุ ุจุชุทููุฑ ูุธุงู ูุชุงู ุงูุชุฑุงุถู ููุจูุชุงุฌูู</a></li>
<li><a href="../ar443430/index.html">ููุงุฐุง ูู ุณูุก ุนูุฏูุง ูุนุฑู ุงูุฅูุชุฑูุช ูู ุดูุก ุนููุ</a></li>
<li><a href="../ar443432/index.html">ุจููุฒูุฑ 0.9.0 ุตุฏุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>