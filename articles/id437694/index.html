<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßù üë£ üòó Analisis utilitas Files.walkFileTree (); üßóüèΩ üö¥üèø ü§üüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Karena tidak menemukan deskripsi penjelasan dalam bahasa Rusia di mana saja, apa jenis beast Files.walkFileTree () , dan setelah menguasainya dengan m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Analisis utilitas Files.walkFileTree ();</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437694/">  Karena tidak menemukan deskripsi penjelasan dalam bahasa Rusia di mana saja, apa <b>jenis</b> beast <b>Files.walkFileTree ()</b> , dan setelah menguasainya dengan mencicit, ternyata nanti, fungsionalitas yang sederhana, saya memutuskan untuk membagikan materi dengan contoh-contoh sebagai bagian dari penjepitan, yang sangat saya lewatkan. <br><br>  Metode walkFileTree () memungkinkan Anda untuk memintas pohon file dan subdirektori yang diteruskan sebagai parameter elemen Path ... <br><a name="habracut"></a><br>  <b>Dua tanda tangan metode</b> <br><br><pre><code class="java hljs">Files.walkFileTree(Path start, FileVisitor&lt;? <span class="hljs-keyword"><span class="hljs-keyword">super</span></span> Path&gt; visitor); Files.walkFileTree(Path start, Set&lt;FileVisitOption&gt; options, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> maxDepth, FileVisitor&lt;? <span class="hljs-keyword"><span class="hljs-keyword">super</span></span> Path&gt; visitor);</code> </pre> <br>  Dimana <br>  Path start - direktori yang isinya harus dilewati, <br>  Pengunjung FileVisitor - turunan dari kelas yang mengimplementasikan antarmuka FileVisitor, atau mewarisi dari SimpleFileVisitor ().  Yang terakhir, menurut pendapat saya, lebih nyaman digunakan ketika Anda tidak perlu mendefinisikan kembali semua metode FileVisitor (), yang akan dibahas sedikit kemudian (tetapi tergantung pada situasinya), <br>  Setel opsi &lt;\ FileVisitOption&gt; - serangkaian opsi yang menentukan perilaku saat merayapi, <br>  maxDepth - kedalaman lintas subdirektori. <br><br>  <b>Pertama, tentang parameter yang akan berguna cepat atau lambat.</b> <br><br>  <i>maxDepth</i> - kedalaman traversal.  Pada = 0, entri ke direktori tidak akan dilakukan, pada = MAX_VALUE direktori akan diperiksa ke kedalaman maksimum, masing-masing, dengan maxDepth = 3, bagian akan dilakukan dalam 3 subdirektori "turun". <br><br>  <i>FileVisitOption</i> - enum adalah set yang menentukan apakah program harus mengikuti tautan simbolis saat merayapi (dalam hal ini, nilai FileVisitOption.FOLLOW_LINKS ditentukan). <br><br>  <b>FileVisitor</b> - antarmuka yang memiliki 4 metode: <br><br>  <b>1)</b> <i>FileVisitResult preVisitDirectory (Direktori, BasicFileAttributes attrs) melempar IOException;</i> <br>  termasuk serangkaian metode yang harus diikuti sebelum mengunjungi subdirektori saat ini.  Misalnya, melalui attrs Anda bisa dapatkan dari data seperti: <br>  lastModifiedTime (), <br>  lastAccessTime (), <br>  creationTime (), <br>  isRegularFile () - true jika kita memiliki file di depan kita, <br>  isDirectory () - true jika kita memiliki direktori <br>  isSymbolicLink () - true jika objek adalah tautan, <br>  isOther () - true jika objek yang dimaksud bukan file, atau direktori, atau tautan, <br>  size () - mengembalikan ukuran objek dan <br>  fileKey () - mengembalikan kunci file atau null; <br><br>  Jika Anda berencana untuk menghitung jumlah direktori selama perayapan, jangan lupa bahwa direktori awal juga akan diperhitungkan dalam jumlah total. <br><br>  <b>2)</b> <i>FileVisitResult visitFile (file T, BasicFileAttributes attrs) melempar IOException;</i> <br>  seperangkat metode yang harus diikuti saat mengunjungi file saat ini (misalnya, Anda dapat menggali isinya dan mencari kemunculan string pencarian, atau lagi mencari tahu tanggal kunjungan terakhir, mengubah file, atau menambahkan ukuran semua file yang akan dijelajahi untuk mendapatkan ukuran direktori) <br><br>  <b>Contoh</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyFileVisitor</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleFileVisitor</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Path</span></span></span><span class="hljs-class">&gt; </span></span>{ String partOfName; String partOfContent; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> FileVisitResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Path file, BasicFileAttributes attrs)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> containsName = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(partOfName!=<span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; !file.getFileName().toString().contains(partOfName)) containsName = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; String content = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(Files.readAllBytes(file)); <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> containsContent = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(partOfContent!=<span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; !content.contains(partOfContent)) containsContent = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(containsName &amp;&amp; containsContent) foundFiles.add(file); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FileVisitResult.CONTINUE; }</code> </pre> <br>  Dalam contoh ini, saat melintasi hierarki file, setiap file diperiksa untuk eksekusi simultan 2 peristiwa - apakah nama file berisi entri yang diinginkan, dan apakah file tersebut berisi entri dari string yang diperlukan.  Ketika kedua kondisi terpenuhi, file ditambahkan ke lembar yang dihasilkan, setelah itu perayapan berlanjut; <br><br>  Atau <b>contoh</b> lain <b>dari</b> kelebihan metode visitFile <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> FileVisitResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Path path, BasicFileAttributes attrs)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(path.toString().endsWith(<span class="hljs-string"><span class="hljs-string">".rar"</span></span>) || path.toString().endsWith(<span class="hljs-string"><span class="hljs-string">".zip"</span></span>)) archived.add(path.toString()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FileVisitResult.CONTINUE; }</code> </pre> <br>  Program selama traversal pohon ketika mengunjungi file, jika itu adalah zip atau arsip rar, menambahkan alamatnya (path) sebagai string ke daftar file arsip; <br><br>  <b>3)</b> <i>FileVisitResult visitFileFailed (file T, IOException exc) melempar IOException;</i> <br>  Metode ini mungkin berguna ketika mengakses file tidak berhasil + itu "mampu" melempar Pengecualian.  Sisanya dapat diajarkan melalui anotasi Override.  Misalnya, hitung jumlah file yang tidak dapat diakses; <br><br>  <b>Contoh</b> <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> FileVisitResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visitFileFailed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Path path, IOException exc)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ failed.add(path.toString()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FileVisitResult.SKIP_SUBTREE; }</code> </pre> <br>  Dalam kasus upaya yang gagal untuk mengakses jalur, jalur ini ditambahkan sebagai string ke daftar gagal yang serupa, dan program terus memotong tanpa mengunjungi subdirektori nya; <br><br>  <b>4)</b> <i>FileVisitResult postVisitDirectory (T dir, IOException exc) melempar IOException;</i> <br>  segala sesuatu yang perlu dilakukan setelah mengunjungi direktori harus terdaftar sebagai bagian dari kelebihan metode ini.  Sebagai contoh, dengan pergi melalui direktori dan menghancurkan semua file di dalamnya, metode ini juga dapat menghancurkannya sendiri (kita ingat bahwa Files.delete (Path dir) menghapus direktori hanya jika itu kosong dan tidak berisi file). <br><br>  <b>Contoh</b> <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> FileVisitResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">postVisitDirectory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Path path, IOException exc)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ Files.delete(path); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FileVisitResult.CONTINUE; }</code> </pre> <br>  Semua metode yang dijelaskan di atas diselesaikan dengan mengembalikan "hasil kunjungan" (FileVisitResult) dari objek milik set enum dan dapat mengambil nilai-nilai berikut: <br><br><ol><li>  <code>CONTINUE</code> - terus melintasi pohon; </li><li>  <code>TERMINATE</code> - mengakhiri traversal pohon; </li><li>  <code>SKIP_SUBTREE</code> - terus memotong, tanpa pergi ke direktori ini; </li><li>  <code>SKIP_SIBLINGS</code> - mengecualikan dari merayapi "kerabat" dari file atau direktori ini; </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id437694/">https://habr.com/ru/post/id437694/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id437680/index.html">Koleksi DIY saya di Youtube</a></li>
<li><a href="../id437682/index.html">Menulis alat templating Kubernet lain</a></li>
<li><a href="../id437684/index.html">Algoritma Tertinggi - Kompendium Bias</a></li>
<li><a href="../id437686/index.html">Learning go: menulis messenger p2p dengan enkripsi ujung ke ujung</a></li>
<li><a href="../id437688/index.html">OpenSceneGraph: Teknik Pemrograman Dasar</a></li>
<li><a href="../id437696/index.html">Intisari materi menarik untuk pengembang seluler # 283 (pada 21 - 27 Januari)</a></li>
<li><a href="../id437698/index.html">Layanan terjemahan paten WIPO Translate - pengalaman saya</a></li>
<li><a href="../id437702/index.html">Parsing Wawancara Kerja Google: Pertanyaan Sinonim</a></li>
<li><a href="../id437704/index.html">Pengetahuan yang sangat baik tentang kurikulum sekolah sebagai indikator bukan kecerdasan tertinggi</a></li>
<li><a href="../id437706/index.html">Tahun dengan Tesla</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>