<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⛹️ 👨🏽‍🌾 👦🏼 Cube LED + serpent 👵 👨🏻‍✈️ 👩‍🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Préface
 Dans cet article, nous (puisque l'article a été écrit et réalisé par un projet de 2 personnes) vous raconterons comment nous avons insufflé l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cube LED + serpent</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/388369/"><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Préface</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, nous (puisque l'article a été écrit et réalisé par un projet de 2 personnes) vous raconterons comment nous avons insufflé la vie à l'ancien jeu, oublié par tous.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/ec4/57c/185/ec457c1850803b39dd5a099a12c17160.jpg" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La préparation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commençons par le cube. </font><font style="vertical-align: inherit;">Nous n'avons pas trouvé de «vélo» et avons décidé de chercher des solutions toutes faites. </font><font style="vertical-align: inherit;">L'article était basé sur un article d'un auteur norvégien, bien que certaines modifications aient été apportées, qui, il me semble, ont été bénéfiques.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créez votre propre cube LED</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir discuté de certains points, il a été décidé de faire un cube 8x8x8. Nous avons réussi à acheter 1000 LED en vrac à un bon prix, juste ce dont vous avez besoin, bien que ce ne soient pas vraiment des LED appropriées. Visuellement, les LED bleues avec une lentille mate seraient plus belles, la lueur n'est pas si brillante et plus uniforme. Il y a un autre problème avec les LED transparentes; la couche inférieure met en évidence les couches supérieures. Cependant, malgré tout cela, les LED doivent être suffisamment lumineuses pour rendre l'image claire. Pour plus de transparence du cube, il est préférable de prendre de petites LED, par exemple 3 mm. Un autre point lors du choix des LED est la longueur des pieds. Nous fabriquerons le cadre en cube à partir des pieds des LED, de sorte qu'ils ne devraient pas être plus petits que la taille de la cage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre point important lors de la construction d'un cube est sa taille. Nous fabriquons le cadre à l'aide des pieds de la LED, bien qu'il existe des moyens d'utiliser des tiges ou des fils métalliques. La longueur des cathodes de nos LED s'est avérée être d'environ 25 mm, nous avons donc choisi une taille de cellule de 20 mm et avons décidé d'utiliser le reste pour le soudage, afin que le cube soit plus solide. C'est juste une légère différence par rapport à la conception de l'auteur de l'article ci-dessus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'étape suivante consiste à créer une disposition pour les couches de cube à souder, cela aidera à faciliter la soudure et le cube sera plus uniforme. La disposition est très simple, j'ai pris un morceau de contreplaqué, je l'ai dessiné à la taille de mon cube et j'ai percé des trous à l'intersection des lignes de la taille des LED. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/d63/8b0/325/d638b0325a4c85cb8157d6f65c62e17f.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En soudant plusieurs couches, j'ai réalisé que cette conception ne suffisait pas aux jambes, qui servaient de longs boulons.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de commencer à souder le cube, je vous conseille de tout préparer. Par expérience personnelle, je peux dire qu'il est beaucoup plus pratique de le faire ensemble, car il n'y a vraiment pas assez de mains, une personne applique des cathodes et la seconde alimente la soudure et les soudures. Vous devez le faire rapidement, les LED sont petites et ont peur de surchauffer. Dans différents manuels, ils disent également de vérifier chaque LED avant de souder. Je ne vois pas l'intérêt, je passe beaucoup de temps sur une opération essentiellement dénuée de sens. Nous avons acheté de nouvelles LED et elles se sont toutes avérées fonctionnelles. Mais lorsque vous avez soudé la couche, cela vaut déjà la peine de bien vérifier tout, car souder la LED depuis le centre est une tâche désagréable, elle a été vérifiée par expérience personnelle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors, passons directement à la soudure. Je ne peux pas dire que c'est le moyen le plus sûr, mais nous l'avons fait de cette façon. Pour commencer, nous avons toutes les LED dans notre disposition, il est conseillé de les installer en douceur, puis il n'y aura aucun moyen de réparer quelque chose. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/f78/66d/701/f7866d7016c4d8f262b1d76c830dfb44.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/917/eca/81d/917eca81dcc0572b1b1ab76c1ed916e8.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous plions les cathodes de sorte qu'elles se chevauchent. Lorsque tout est prêt, vous pouvez commencer à souder, mais vous devez vous rappeler d'une éventuelle surchauffe, et si la soudure a échoué, vous ne devriez pas vous précipiter pour souder, il est préférable de laisser la LED refroidir. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En soudant toutes les LED, nous obtenons 8 bandes de 8 LED. Afin de transformer le tout en une seule couche, nous avons utilisé du fil d'aluminium ordinaire, qui était auparavant redressé. Nous avons décidé de n'utiliser que 2 de ces «tiges», afin de ne pas compliquer le design, d'ailleurs il s'est avéré assez solide.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'est pas nécessaire de souder la dernière couche, car vous devez alors la réinsérer. Maintenant que nous avons les 8 couches, nous devons en quelque sorte les combiner en un seul cube. Pour rendre le cube plus ou moins uniforme, j'ai dû plier les anodes comme indiqué sur la figure, maintenant il fait le tour de la LED et peut être soigneusement soudé. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/285/d86/0b4/285d860b4e713f8f13cc74151a560028.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/667/75e/626/66775e626efcf5627016d7501198597f.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous soudons le cube de la couche supérieure au fond, tout en vérifiant constamment le fonctionnement des LED, il vaut mieux ne pas être paresseux, car il sera alors plus difficile de corriger l'erreur. Il est préférable de régler la hauteur entre les couches à l'aide de certains modèles, l'auteur de l'article ci-dessus a utilisé des couronnes ordinaires. Nous n'avions rien de convenable, mais nous étions deux, nous avons donc décidé de tout configurer manuellement. Cela s'est avéré assez fluide, mais pas parfait.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir fait toutes ces actions, vous obtiendrez le cube LED que vous avez collecté et quelques doigts brûlés, mais cela dépend déjà de votre précision.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/190/88f/310/19088f310be33d7e982093c4abefe459.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/cb7/2e5/c22/cb72e5c224d9d9cfb13d452773b19499.jpg" alt="image"><br>
<br>
<h4><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conception de circuits</font></font></b></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour mettre en œuvre nos idées, nous avions besoin d'une sorte de microcontrôleur. </font><font style="vertical-align: inherit;">Nous avons décidé de rester sur le microcontrôleur Arduino Leonardo. </font><font style="vertical-align: inherit;">Nous ne voulions pas nous soucier des programmeurs et des logiciels nécessaires, mais nous n'avons pas besoin d'un processeur puissant pour nos tâches. </font><font style="vertical-align: inherit;">Ayant l'appareil fini, nous avons réalisé qu'il était possible d'utiliser Nano, mais ce n'est pas si critique. </font><font style="vertical-align: inherit;">Pour contrôler le cube, nous avons décidé d'utiliser un téléphone connecté à l'Arduino via Bluetooth, dans notre cas le HC-05 est utilisé, mais vous pouvez en utiliser un autre.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/2de/2ea/f73/2de2eaf73ee72e2d6e3d5cf1d1f31389.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais ce qui est vraiment important, c'est le nombre de broches de microcontrôleur, car nous avons 64 broches d'anode et 8 broches de cathode, mais nous parlerons de les connecter plus tard. Nous avons décidé d'étendre les ports IO à l'aide de registres à décalage, dans notre cas, ce sont les registres TI 74HC595 dans le package DIP pour souder les prises sur la carte et y insérer les microcircuits eux-mêmes. Vous pouvez en savoir plus sur ces registres dans la fiche technique, je dirai simplement que nous avons tout utilisé sauf le signal de réinitialisation du registre, nous y avons appliqué une unité, car il est inverse, et nous avons mis l'entrée d'activation de la sortie à la masse, elle est également inverse et nous avons toujours voulu recevoir des données des registres. Vous pouvez également utiliser des registres séquentiels, mais vous devrez alors mettre un décodeur pour sélectionner le registre dans lequel écrire les informations.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/f1b/832/b61/f1b832b61b7382710606c16a6e6c9915.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de fermer le circuit à la masse, en choisissant le niveau que nous voulons enflammer, nous avons besoin de commutateurs à transistors, enfin, ou simplement de transistors. </font><font style="vertical-align: inherit;">Nous avons utilisé des transistors bipolaires de faible puissance de type NPN ordinaires connectés en parallèle en 2. </font><font style="vertical-align: inherit;">Je ne sais pas si cela a du sens, mais c'est un peu comme si le courant circule mieux. </font><font style="vertical-align: inherit;">La base à travers une résistance de pull-up de 100 Ohms est connectée au microcontrôleur, qui ouvrira nos transistors. </font><font style="vertical-align: inherit;">Les couches cubiques sont connectées au collecteur et les émetteurs sont connectés à la terre.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/dd0/7dd/a01/dd07dda010be1747520658fafdf8ddff.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/a21/6c6/1f6/a216c61f6e19ffcd67958db59e7ba3cb.jpg" alt="image"><br>
<br>
<h4><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assembler le cube</font></font></b></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils ne pouvaient rien trouver de mieux pour alimenter le cube que l'alimentation électrique de la tablette, dont les paramètres sont 5 V et 2 A. Peut-être que ce n'est pas suffisant, mais le cube brille assez fort. Afin de ne pas brûler les LED, toutes les bornes d'anode sont connectées aux registres via une résistance de limitation de courant. Selon mes calculs, ils auraient dû être d'environ 40 Ohms, mais je n'en avais pas, alors j'ai utilisé 100 Ohms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons placé tout cela sur 2 petites cartes de circuits imprimés. Ils n’ont pas intentionnellement empoisonné quoi que ce soit par manque de pratique, ils ont simplement tout connecté avec des conducteurs ordinaires. Les registres avec les anodes du cube ont été connectés à l'aide des câbles que nous avons sortis de l'ancien ordinateur. Il est plus facile de naviguer dans les fils. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/749/031/912/749031912de9098c286120f65e05557c.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils ont décidé d'assembler le prototype sur le schéma utilisé pour la soudure.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/c2d/06c/442/c2d06c442f00879572e9f6c3de6b424b.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir tout débogué et corrigé les erreurs commises, nous avons fait le corps de notre stratifié; il s'est avéré être bon car il n'avait pas besoin d'être peint. </font><font style="vertical-align: inherit;">Voici le résultat final:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/3f4/559/94f/3f455994f8bad3b7f0fb8bd89275ab61.jpg" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que la lumière soit!</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a un cube, il reste à le faire briller. </font><font style="vertical-align: inherit;">Ensuite, divers modes (modes) du cube seront décrits, pour changer quel Bluetooth + Android a été utilisé. </font><font style="vertical-align: inherit;">L'application téléphonique a été écrite en utilisant Cordova. </font><font style="vertical-align: inherit;">Le code d'application ne sera pas décrit ici, mais le lien vers le référentiel est présenté dans la conclusion.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algorithme du cube</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que nous n'avons pas accès à toutes les LED à la fois, nous ne pouvons pas toutes les allumer en même temps. </font><font style="vertical-align: inherit;">Au lieu de cela, nous devons les éclairer en couches.</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'algorithme est le suivant:</font></font></h5><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La couche actuelle est 0.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enregistrer le masque pour le calque actuel</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fermez le transistor de la couche précédente. </font><font style="vertical-align: inherit;">Si la couche actuelle est nulle, la couche précédente est la 7e couche</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous cliquons les valeurs dans les registres. </font><font style="vertical-align: inherit;">Des valeurs apparaissent sur les sorties des registres</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ouvrez le transistor de la couche actuelle. </font><font style="vertical-align: inherit;">Hourra, une couche brille!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Couche actuelle ++. </font><font style="vertical-align: inherit;">goto: 2</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au total, cet algorithme se répète assez rapidement, ce qui nous donne l'illusion que toutes les LED sont allumées simultanément (mais nous savons que ce n'est pas le cas). </font><font style="vertical-align: inherit;">Les masques sont stockés dans un tableau de 64 x 8 octets.</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Écriture de mods</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces modes n'apparaissaient pas dans l'ordre dans lequel ils sont présentés ici, donc ne les punissez pas en les numérotant dans le code. </font><font style="vertical-align: inherit;">Commençons par le plus simple: allumer toutes les LED.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Allumez le cube</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mode_2_Init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
	<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte z = <span class="hljs-number"><span class="hljs-number">0</span></span>; z &lt; CUBE_EDGE_SIZE; z++) {
		<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte y = <span class="hljs-number"><span class="hljs-number">0</span></span>; y &lt; CUBE_EDGE_SIZE; y++) {
			<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x &lt; CUBE_EDGE_SIZE; x++) {<font></font>
				cube-&gt;data[z * CUBE_LEVEL_SIZE + y * CUBE_EDGE_SIZE + x] = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
			}<font></font>
		}<font></font>
	}<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le mod "sticky"</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Idée: seulement deux couches de zéro et de septième brûlure, et elles sont inverses l'une par rapport à l'autre (la LED en position X n'est allumée que sur l'une des couches). </font><font style="vertical-align: inherit;">La position est sélectionnée au hasard (pour une raison quelconque, tout le monde essaie de trouver un algorithme pour sélectionner la position), et la LED dans cette position "rampe" vers la couche supérieure si elle était allumée sur la couche inférieure, et en conséquence vers le bas si elle était allumée sur la partie supérieure.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code collant</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mode_0</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{<font></font>
	byte positionToMove = random(CUBE_LEVEL_SIZE);<font></font>
	byte fromLevel = cube-&gt;data[positionToMove] == <span class="hljs-number"><span class="hljs-number">1</span></span> ? <span class="hljs-number"><span class="hljs-number">0</span></span> : <span class="hljs-number"><span class="hljs-number">7</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> top = fromLevel == <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
	cube-&gt;ShowDataXTimes(<span class="hljs-number"><span class="hljs-number">5</span></span>);
	<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) {<font></font>
		byte toLevel = top ? fromLevel + <span class="hljs-number"><span class="hljs-number">1</span></span> : fromLevel - <span class="hljs-number"><span class="hljs-number">1</span></span>;
		<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (toLevel &gt;= CUBE_EDGE_SIZE || toLevel &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
		cube-&gt;data[fromLevel * CUBE_LEVEL_SIZE + positionToMove] = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
		cube-&gt;data[toLevel * CUBE_LEVEL_SIZE + positionToMove] = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
		cube-&gt;ShowDataXTimes(<span class="hljs-number"><span class="hljs-number">2</span></span>);<font></font>
		fromLevel = toLevel;<font></font>
	}<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mode_0_Init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{<font></font>
	cube-&gt;Clear();<font></font>
	<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; CUBE_LEVEL_SIZE; i++) {<font></font>
		byte value = random(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>);  <span class="hljs-comment"><span class="hljs-comment">// max - 1</span></span>
		cube-&gt;data[i] = value;  <span class="hljs-comment"><span class="hljs-comment">//first level</span></span>
		cube-&gt;data[i + (CUBE_EDGE_SIZE - <span class="hljs-number"><span class="hljs-number">1</span></span>) * CUBE_LEVEL_SIZE] = !value;  <span class="hljs-comment"><span class="hljs-comment">//last level</span></span><font></font>
	}<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À quoi ça ressemble dans la vie:</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/qdq86wUXbSg%3Ffeature%3Doembed&amp;usg=ALkJrhiLW3zKXzavJC3z9L0kYxWm9DRKFA" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Un autre mod collant"</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce mod est similaire au précédent, sauf que le calque ne brûle pas, mais le visage et les lumières de ce visage, un par un, se déplacent vers l'opposé, puis reviennent.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un autre code collant</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mode_3_Init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{<font></font>
	cube-&gt;Clear();<font></font>
	positions-&gt;clear();<font></font>
	new_positions-&gt;clear();<font></font>
	mode_3_direction = NORMAL;<font></font>
	<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">short</span></span> y = <span class="hljs-number"><span class="hljs-number">0</span></span>; y &lt; CUBE_LEVEL_SIZE * CUBE_EDGE_SIZE; y += CUBE_LEVEL_SIZE) {
		<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x &lt; CUBE_EDGE_SIZE; x++) {<font></font>
			cube-&gt;data[x + y] = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
			positions-&gt;push_back(x + y);<font></font>
		}		<font></font>
	}<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mode_3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
	<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (positions-&gt;size() == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
		<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> positions;<font></font>
		positions = new_positions;<font></font>
		new_positions = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimpleList&lt;<span class="hljs-keyword"><span class="hljs-keyword">short</span></span>&gt;();<font></font>
		mode_3_direction = mode_3_direction == NORMAL ? INVERSE : NORMAL;<font></font>
	}<font></font>
	byte item = random(<span class="hljs-number"><span class="hljs-number">0</span></span>, positions-&gt;size());
	<span class="hljs-keyword"><span class="hljs-keyword">short</span></span> position = *((*positions)[item]);<font></font>
	positions-&gt;erase(positions-&gt;begin() + item);<font></font>
	byte i = <span class="hljs-number"><span class="hljs-number">1</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(i++ &lt; CUBE_EDGE_SIZE ) {<font></font>
		cube-&gt;data[position] = <span class="hljs-number"><span class="hljs-number">0</span></span>;
		<span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(mode_3_direction == NORMAL) position += CUBE_EDGE_SIZE;
		<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> position -= CUBE_EDGE_SIZE;<font></font>
		cube-&gt;data[position] = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
		cube-&gt;ShowDataXTimes(<span class="hljs-number"><span class="hljs-number">1</span></span>);<font></font>
	}<font></font>
	new_positions-&gt;push_back(position);<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/MfKlVPjZhrc%3Ffeature%3Doembed&amp;usg=ALkJrhg5BJlitG5Pdn0Vvrx9jh_dV9USQA" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cube à l'intérieur d'un cube</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Idée: allumer les LED à l'intérieur du cube sous forme de faces du cube avec des tailles de 1 à 8 LED et vice versa.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cube à l'intérieur d'un cube</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mode_1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{<font></font>
	cube-&gt;Clear();<font></font>
	<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte cube_size = <span class="hljs-number"><span class="hljs-number">0</span></span>; cube_size &lt; CUBE_EDGE_SIZE; cube_size++) {
		<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte level = <span class="hljs-number"><span class="hljs-number">0</span></span>; level &lt;= cube_size; level++) {
			<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x &lt;= cube_size; x++) {
				<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte y = <span class="hljs-number"><span class="hljs-number">0</span></span>; y &lt;= cube_size; y ++) {<font></font>
					cube-&gt;data[level * CUBE_LEVEL_SIZE + y * CUBE_EDGE_SIZE + x] =<font></font>
						(y % cube_size == <span class="hljs-number"><span class="hljs-number">0</span></span> || x % cube_size == <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
						&amp;&amp; level % cube_size == <span class="hljs-number"><span class="hljs-number">0</span></span> ||<font></font>
						(y % cube_size == <span class="hljs-number"><span class="hljs-number">0</span></span>) &amp;&amp; (x % cube_size == <span class="hljs-number"><span class="hljs-number">0</span></span>) ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
				}<font></font>
			}<font></font>
		}<font></font>
		cube-&gt;ShowDataXTimes(<span class="hljs-number"><span class="hljs-number">5</span></span>);<font></font>
	}<font></font>
	<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte cube_size = CUBE_EDGE_SIZE - <span class="hljs-number"><span class="hljs-number">1</span></span>; cube_size &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; cube_size--) {
		<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte level = <span class="hljs-number"><span class="hljs-number">0</span></span>; level &lt;= cube_size; level++) {
			<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x &lt;= cube_size; x++) {
				<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (byte y = <span class="hljs-number"><span class="hljs-number">0</span></span>; y &lt;= cube_size; y++) {<font></font>
					cube-&gt;data[level * CUBE_LEVEL_SIZE + (CUBE_EDGE_SIZE - <span class="hljs-number"><span class="hljs-number">1</span></span> - y) * CUBE_EDGE_SIZE + (CUBE_EDGE_SIZE - <span class="hljs-number"><span class="hljs-number">1</span></span> - x)] =<font></font>
						(((y % (cube_size - <span class="hljs-number"><span class="hljs-number">1</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span> || x % (cube_size - <span class="hljs-number"><span class="hljs-number">1</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) &amp;&amp; (level % (cube_size - <span class="hljs-number"><span class="hljs-number">1</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>))<font></font>
						|| ((y % (cube_size - <span class="hljs-number"><span class="hljs-number">1</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) &amp;&amp; (x % (cube_size - <span class="hljs-number"><span class="hljs-number">1</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) &amp;&amp; level % cube_size != <span class="hljs-number"><span class="hljs-number">0</span></span>))<font></font>
						&amp;&amp; x &lt; (cube_size) &amp;&amp; y &lt; (cube_size) ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
				}<font></font>
			}<font></font>
		}<font></font>
		cube-&gt;ShowDataXTimes(<span class="hljs-number"><span class="hljs-number">5</span></span>);<font></font>
	}<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À quoi ça ressemble:</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/OXaEUPphEVQ%3Ffeature%3Doembed&amp;usg=ALkJrhh2DZ5-Vasl2T6hR8DXG6BoF3QD4g" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et enfin le serpent</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parmi les caractéristiques de la mise en œuvre du serpent, il convient de noter qu'il n'y a pas de restrictions sur le terrain et qu'en conséquence, en laissant le cube d'une part, vous apparaissez de l'autre. Vous ne pouvez perdre que si vous vous cognez (en vérité, vous ne pouvez pas gagner). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient également de parler séparément de la gestion: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dans le cas d'une implémentation en deux dimensions de ce jeu, il n'y a pas de problèmes de gestion: quatre boutons et tout est évident. Dans le cas d'une implémentation tridimensionnelle, plusieurs options de contrôle se présentent:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.6 boutons. Avec cette option, le bouton a sa propre direction de mouvement: pour les boutons haut et bas, tout est évident, et les boutons restants peuvent être «liés» aux points cardinaux, lorsque vous appuyez sur le bouton «gauche», le vecteur de mouvement change toujours «ouest», etc. Avec cette option, des situations surviennent lorsque le serpent se déplace «à l'est» et que nous cliquons sur «à l'ouest». Parce que le serpent ne peut pas tourner à 180 degrés; vous devez gérer ces cas séparément.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.4 boutons (haut bas gauche droite). </font><font style="vertical-align: inherit;">Les actions de ces boutons sont similaires à celles d'une implémentation bidimensionnelle, sauf que toutes les modifications sont prises par rapport à la direction actuelle du vecteur de mouvement. </font><font style="vertical-align: inherit;">Je m'explique par exemple: lorsque l'on se déplace dans le plan horizontal, en appuyant sur le bouton «Haut», on passe au plan vertical. </font><font style="vertical-align: inherit;">Lorsque vous vous déplacez dans un plan vertical en appuyant sur «Haut», nous passons à un déplacement dans un plan horizontal contre la direction de l'axe X, pour «Vers le bas» - dans la direction de l'axe X, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien entendu, les deux options ont le droit d'exister (il serait intéressant de connaître d'autres options de contrôle). </font><font style="vertical-align: inherit;">Pour notre projet, nous avons choisi le second.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code de direction</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Snake::ApplyUp() {
	<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (direction) {
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> X:
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Y:<font></font>
		direction = Z;<font></font>
		directionType = NORMAL;<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Z:<font></font>
		direction = X;<font></font>
		directionType = INVERSE;<font></font>
	}<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Snake::ApplyDown() {
	<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (direction) {
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> X:
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Y:<font></font>
		direction = Z;<font></font>
		directionType = INVERSE;<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Z:<font></font>
		direction = X;<font></font>
		directionType = NORMAL;<font></font>
	}<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Snake::ApplyLeft() {
	<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (direction) {
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> X:<font></font>
		direction = Y;<font></font>
		directionType = directionType == NORMAL ? INVERSE : NORMAL;<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Y:<font></font>
		direction = X;<font></font>
		directionType = directionType;<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
	<font></font>
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Z:<font></font>
		direction = Y;<font></font>
		directionType = NORMAL;<font></font>
	}<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Snake::ApplyRight() {
	<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (direction) {
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> X:<font></font>
		direction = Y;<font></font>
		directionType = directionType;<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Y:<font></font>
		direction = X;<font></font>
		directionType = directionType == NORMAL ? INVERSE : NORMAL;<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Z:<font></font>
		direction = Y;<font></font>
		directionType = INVERSE;<font></font>
	}<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Snake::ChangeDirection(KEY key) {
	<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(key) {
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> UP:<font></font>
		ApplyUp();<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> LEFT:<font></font>
		ApplyLeft();<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> RIGHT:<font></font>
		ApplyRight();<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">case</span></span> DOWN:<font></font>
		ApplyDown();<font></font>
		<span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
	}<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le résultat du programme:</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/TR4GM4OslUE%3Ffeature%3Doembed&amp;usg=ALkJrhjL6Phm9zvw6ZgAIZE85u2MvpykCA" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/QnATb7p0cKI%3Ffeature%3Doembed&amp;usg=ALkJrhihF4216Or7pa1wPa72QodsLtJZ7Q" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Liens vers le code source du firmware du cube et de l'application pour le téléphone: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">firmware de l' </font></a></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Résultat</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conséquence, nous avons obtenu une console primitive et une sorte de lampe, avec la possibilité d'un éclairage dynamique. </font><font style="vertical-align: inherit;">À l'avenir, nous prévoyons de développer une carte de circuit imprimé et d'améliorer le firmware. </font><font style="vertical-align: inherit;">Il est également possible d'ajouter des modules supplémentaires.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr388369/">https://habr.com/ru/post/fr388369/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr388359/index.html">IBM prévoit d'utiliser l'IoT pour contrôler la pollution de l'air à Johannesburg</a></li>
<li><a href="../fr388361/index.html">Les sismologues tentent de prédire les tremblements de terre à partir des oscillations électromagnétiques dans l'ionosphère terrestre</a></li>
<li><a href="../fr388363/index.html">Les États-Unis ont publié une liste de cibles pour une frappe nucléaire en URSS</a></li>
<li><a href="../fr388365/index.html">L'État soutient la croissance du marché américain de l'apprentissage en ligne des entreprises</a></li>
<li><a href="../fr388367/index.html">Kickstarter recueille des fonds pour une veste auto-séchante de Back to the Future 2</a></li>
<li><a href="../fr388373/index.html">DEXP Ursus NS210 Review - Une tablette peu coûteuse avec un écran de 10,1 pouces et un support 3G</a></li>
<li><a href="../fr388375/index.html">SpaceX a publié des photos de décollage et d'atterrissage du Falcon 9 haute résolution</a></li>
<li><a href="../fr388383/index.html">Fat Tax - Lutter contre l'épidémie d'obésité</a></li>
<li><a href="../fr388385/index.html">Patinoire de gymnastique: version deux, améliorée et complétée</a></li>
<li><a href="../fr388387/index.html">Roman Chernyshev: «Nous attendons un médicament d'avertissement au lieu d'un médicament réactif»</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>