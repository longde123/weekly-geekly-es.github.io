<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📣 🍲 🏆 Sekali di sebuah perusahaan HFT ... 🥡 🐢 👶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kisah perdagangan pribadi saya, semua pertandingan acak. 

 Saya memulai karir saya di HFT di cabang Australia salah satu perusahaan perdagangan AS te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sekali di sebuah perusahaan HFT ...</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414037/"><p>  <em>Kisah perdagangan pribadi saya, semua pertandingan acak.</em> <br><img src="https://habrastorage.org/getpro/habr/post_images/770/614/b93/770614b9339d8d51155029f36da7f1da.jpg" alt="gambar"><br>  Saya memulai karir saya di HFT di cabang Australia salah satu perusahaan perdagangan AS terbesar sebagai programmer C ++.  Hari pertama saya bertemu dengan kantor dengan jendela besar yang menghadap ke pelabuhan Sydney, yang salah satunya ditulis dengan pena "&lt;2ms".  Ini adalah tugas utama bagi selusin pengembang, tetapi sejauh ini, bukan untuk saya.  Jadi ... <a name="habracut"></a></p><br><h2 id="pervonachalnyy-shok">  Guncangan awal </h2><br><p>  Salah satu dari mereka mengusulkan ide opsi perdagangan di Australian Stock Exchange (ASX), atau lebih tepatnya, spread opsi dan kombinasinya dengan lindung nilai wajib.  Dia membutuhkan sesuatu yang dapat menangani banyak aturan perdagangan yang membingungkan dan diintegrasikan dengan platform perdagangan kami, yang disebut Orc.  Ini adalah awal 2000-an dan saya menulis solusi saya untuk itu pada VB6 di bawah Windows 2000. Dengan melakukan itu, saya menggunakan C ++, Boost dan Spirit parser multi-threaded untuk berintegrasi dengan Orc.  Yang terakhir menghitung pohon binomial atau trinomial untuk mengevaluasi opsi AS pada ASX sesuai permintaan.  Untuk kode penetapan harga, saya menggunakan kode orang lain di VBA, baris demi baris ditulis ulang dalam C ++. </p><br><p>  Namun, Orc tidak selalu menghitung harga berdasarkan permintaan, sering kali menggunakan caching.  Jika parameter asli tetap sama, Orc hanya mengembalikan harga dari memori, bukannya menghitungnya kembali.  Platform ini terlalu lambat untuk bersaing dengan platform Timber Hill-nya sendiri (sekarang Broker Interaktif) atau Ord Liquidator IMD, yang merupakan sistem box tercepat saat itu.  Dia tampak terlalu miskin untuk bersaing dengan orang lain dalam kinerja, tidak peduli apa pun trik yang saya lakukan dengannya.  Namun, dengan cache harga opsi multidimensi yang besar (nilai yang hilang diperoleh darinya dengan interpolasi sederhana), terus-menerus diperbarui dalam beberapa utas dengan kode yang ditulis dalam C ++, tiba-tiba kami dapat melakukan transaksi yang sebelumnya tidak tersedia. </p><br><p>  Ketika tingkat suku bunga atau kurva volatilitas berubah dalam Orc Trader, cache harga saya mulai terisi kembali.  Tentu saja, keputusan ini tidak asli.  Saya pertama kali membaca tentang harga opsi caching di artikel lama beberapa tahun sebelumnya.  Seperti pada mikroprosesor modern dengan eksekusi luar biasa, Anda dapat menebak perhitungan berikut, yang mungkin masih perlu dilakukan di masa depan.  Harga pasar berbeda.  Ingat, perhitungan tercepat adalah yang tidak perlu dilakukan.  Yang berikutnya adalah gagasan bahwa melanggar penundaan nol itu sulit, tetapi bukan tidak mungkin.  Saya membuat kesimpulan aneh tentang memprediksi masa depan dari fakta bahwa pesan tercepat adalah pesan yang tidak harus dikirim.  Menurut pendapat saya, ini bahkan lebih penting. </p><br><p>  Menurut pendapat saya, arsitektur terbaik adalah kurangnya arsitektur yang kaku.  Ini mungkin terlihat sedikit konyol, tetapi ini adalah kebenaran murni dalam kasus HFT.  Kode yang tidak terstruktur langsung berubah menjadi warisan, jika Anda tidak memperhatikan arsitektur sistem.  Karena sebenarnya optimasi prematur adalah <strong>dasar dari</strong> segalanya, itu lebih menguntungkan untuk tidak menyanggah mitos komputer terkenal dan memungkinkan pesaing Anda tersandung pada mereka. </p><br><p>  Retas saya untuk platform Orc Trader bukanlah solusi yang ideal, tetapi itu menyenangkan beberapa orang dengan kesepakatan yang sebelumnya tidak mungkin.  Mereka bahkan tampak bahagia ketika melihat transaksi ini dalam laporan mereka dengan mata kepala sendiri.  Namun, secara keseluruhan itu hanya keberhasilan kecil.  Selanjutnya, itu berubah menjadi ratusan aturan manual untuk mencari penawaran, hanya membayar biaya operator dengan perdagangannya.  Tapi setidaknya aku bersenang-senang. </p><br><h2 id="sosredotachivaemsya-na--2ms">  Berfokus pada "&lt;2ms" </h2><br><p>  Mari kita ingat kondisi "&lt;2ms" yang direkam pada panel jendela.  Saya menulis artikel yang menyarankan cara yang lebih cepat dan lebih kompleks untuk mencapai penundaan yang lebih sedikit.  Sebuah tim yang terdiri dari tiga programmer, termasuk saya, seharusnya mengimplementasikannya.  Pilihan pertama jatuh di bursa saham Korea.  Tidak perlu melakukan caching harga dalam proyek ini, karena model penentuan harga opsi Eropa tidak jauh lebih rumit daripada interpolasi sederhana, bahkan dalam beberapa dimensi. </p><br><p>  Pada saat ini, prosesor dengan frekuensi 2-3 GHz baru saja mulai muncul.  Metrik kinerja kami agak salah - kami terutama mengukur keterlambatan di dalam kode kami daripada yang ada di dalam sistem operasi (yang sebenarnya jauh lebih besar.) Ini masih berfungsi ketika data tiba pada interval milidetik, karena pada masa itu tumpukan jaringan dihabiskan untuk memproses paket dari 50 hingga 100 mikrodetik.  Hal utama yang perlu diingat di sini adalah ketika prosesor dapat menjalankan lebih dari satu <strong>miliar</strong> operasi per detik, lebih dari satu juta instruksi masuk ke dalam dua milidetik ini.  Jujur, ini adalah kode yang sangat, sangat buruk jika sejuta instruksi ini masuk ke penetapan harga sederhana.  Jika memutuskan suatu transaksi membutuhkan sejuta langkah, berhentilah segera.  Setiap <strong>nano</strong> detik penting di sini. </p><br><p>  Ternyata saya terikat pada tim yang tidak terkoordinasi dengan baik, dan sebagai karyawan baru, saya harus berhati-hati.  Hanya ada kami bertiga di departemen pengembangan.  Salah satu anggota tim (yang sebenarnya adalah programmer yang sangat baik) tampaknya lelah dan mulai menghabiskan seluruh waktunya bekerja pada permainan dan forum tentang akselerator video.  "Mr. GPU" digunakan untuk menulis perpustakaan inti perusahaan untuk multithreading, dan itu tidak buruk, meskipun mereka menderita masalah desain.  Semua sinkronisasi dilakukan melalui mutex dan operasi apa pun diperlukan kunci.  Pada akhirnya, saya kembali menggunakan C ++ Boost library.  "Mr. GPU", tampaknya, tidak menikmati proyek dan terlihat terlibat dalam beberapa jenis pemogokan.  Dia pasti terganggu oleh kebutuhan untuk mengerjakan ide saya.  Orang lain kurang mampu, tetapi masih kompeten minimal.  Biasanya dia makan banyak dan terus-menerus pergi ke ruang rapat untuk menonton film DVD lain di sana. </p><br><p>  Tetapi kami harus mengatasi entah bagaimana untuk mengatasi dua milidetik ini.  Ternyata, saya perlu menulis lebih banyak kode daripada yang diharapkan - saya harus begadang beberapa kali.  "Mr. GPU" melakukan pekerjaan integrasi, sementara "Alienated Dude" tidak melakukan apa pun.  Akibatnya, sistem baru kami menunjukkan penundaan hanya di bawah lima mikrodetik.  Bagiku itu adalah kesuksesan besar.  Namun, angka ini tidak memperhitungkan latensi jaringan akun.  Jelas, mereka sekarang jauh lebih penting daripada sebulan yang lalu. </p><br><p>  Salah satu staf lainnya memberi selamat kepada saya.  Saya belajar darinya bahwa mayoritas orang IT (termasuk dia) menganggap ini sebagai tugas yang mustahil.  Rupanya, mereka berharap saya akan gagal.  Perubahan yang saya bawa tidak bertemu dengan antusiasme yang luas, tetapi saya menerima bonus kecil tanpa kenaikan gaji yang signifikan. </p><br><p>  Dulu saya membayangkan tinggal di pekerjaan ini selama dua puluh tahun, terutama setelah dot-com bubble.  Tetapi sekarang jelas saatnya bagi saya untuk pindah. </p><br><h2 id="poisk-novoy-raboty">  Cari pekerjaan baru </h2><br><p>  Saya menghubungi beberapa perusahaan HFT dan membagikan pemikiran saya tentang apa yang bisa dilakukan.  Satu perusahaan perdagangan Belanda yang baik mendengarkan saya dengan sangat hati-hati, tetapi tidak menawarkan apa pun.  Bertahun-tahun kemudian, saya mengetahui bahwa tim mereka mulai menerapkan sesuatu seperti apa yang kami bicarakan dalam wawancara minggu berikutnya setelah itu.  Saya mendengar bahwa pendekatan itu berhasil.  Mereka menyebutnya "metode dasar tersirat," di mana itu semua datang untuk memprediksi harga teoritis suatu berjangka atau aset yang mendasarinya.  Saya suka nama mereka untuk metode saya, meskipun itu terlihat seperti pemujaan kargo.  Nah, ini adalah cara perusahaan keuangan biasanya melakukan bisnis.  Meskipun ada tipu daya di pihak mereka, saya merasa tersanjung. </p><br><p>  Kemudian saya berbicara dengan perusahaan Australia dengan tim yang terdiri dari sekitar selusin pengembang yang fokus pada perdagangan di bursa ASX.  Platform mereka sebagian besar bahkan lebih lambat daripada Orc Trader, menghabiskan banyak milidetik untuk perhitungan.  Saya meminta pertemuan dengan kepala perusahaan, yang jauh lebih sukses dan jauh lebih muda dari saya.  Dia adalah salah satu dari orang-orang dengan gaji super tinggi, yang pendapatannya harus dinyatakan sesuai dengan undang-undang Australia. </p><br><p>  Bisnis mereka tidak terlihat "benar-benar bersih", dan dia memperingatkan saya bahwa uang yang mereka hasilkan di luar negeri tidak selalu dapat dikembalikan secara hukum ke perusahaan induk. Negosiasi dengan perusahaan ini hanya buang-buang waktu - saya tidak ingin menjadi topi hitam. Menemukan celah dalam aturan adalah permainan yang menyenangkan, asalkan etis. Namun, kita tidak boleh melewati garis merah ini. Tidak ada kesenangan dalam menang dengan menipu, tetapi yang lebih penting, reputasi Anda penting. Orang selalu meremehkan kerugian dari skandal dan saya  e ingin risiko. </p><br><p>  Saya juga menyukai salah satu bank investasi, yang wakilnya saya ajak bicara.  Itu adalah cabang dari kantor Wall Street yang besar.  Saya sudah berhasil bekerja beberapa tahun di lingkungan seperti ini.  Ambang masuk tampaknya agak rendah - mereka tidak ingin menghasilkan uang, mereka hanya ingin membuat pergantian bursa tanpa biaya, sehingga departemen keuangan mereka bisa menyanyikan serenades ke cabang ini.  Bagi saya, itu pilihan yang bagus, dan saya yakin mereka tidak akan keberatan menciptakan omset, selain menolak menerima keuntungan tambahan.  Keuntungan umumnya jarang menimbulkan keluhan. </p><br><p>  Hal yang baik tentang perusahaan saya sebelumnya adalah mereka dapat memecat karyawan yang berpenghasilan sekalipun.  Seseorang melanggar aturan dengan melakukan beberapa transaksi yang tidak diotorisasi.  Mereka membawa uang perusahaan, dan saya terkesan bahwa mereka dipecat karena melanggar aturan.  Posisi manajemen yang benar seperti itu sangat jarang, terutama di bidang keuangan. </p><br><p>  Kemudian, tanpa diduga, peluang lain muncul. </p><br><p>  Saya pernah makan siang dengan seorang pria yang saya kenal dalam ilmu komputer di University of Tasmania, yang sekarang bekerja untuk ITG.  Dia mengundang saya untuk berbicara dengan ITG, karena mereka terlibat dalam perdagangan pribadi.  Ini berita baru bagi saya - saya pikir mereka hanya broker.  Saya bertemu dengan manajer umum mereka untuk wilayah Asia-Pasifik, dan dia berbicara secara rinci tentang platform arbitrase mereka, yang bekerja dengan saham yang dinominasikan dalam USD dan CAD.  Kemudian saya bertemu dengan CEO Amerika Serikat, Ray Killian, ketika dia sedang dalam perjalanan ke Australia.  Pertemuan berjalan dengan baik, dan sepertinya tidak ada lagi hambatan untuk mengembangkan perdagangan frekuensi tinggi di ITG.  CEO wilayah Asia-Pasifik plus ketua mereka, yang juga merupakan anggota dewan ITG Inc. yang terdaftar di NYSE, pada akhirnya membawa rencana bisnis dadakan dan perhitungan risiko ke AS untuk rapat dewan. </p><br><p>  Apa yang terjadi selanjutnya, saya tidak tahu - saya diberitahu tiga versi yang sangat berbeda selama beberapa tahun ke depan.  Menurut satu versi, dewan menyetujui rencana bisnis, tetapi Killian memenangkan semuanya kembali.  Menurut versi lain, beberapa anggota dewan tidak menyetujui proyek.  Menurut versi ketiga, rencana bisnis tidak mencapai anggota dewan sama sekali.  Saya tidak tahu versi mana yang salah (mungkin sekaligus), tetapi itu tidak masalah.  Orang-orang dari ITG memutuskan untuk melakukannya tanpa majikan mereka dan menginvestasikan dana pribadi.  Ini bukan pekerjaan yang saya cari, tetapi jika bisnis berjalan dengan baik, saya bisa mendapatkan sekitar seperempat saham perusahaan baru melalui opsi yang diterima selama beberapa tahun dengan vesting.  Itu seperti kemenangan. </p><br><h2 id="rozhdenie-hft-kompanii">  Kelahiran perusahaan HFT </h2><br><p>  Dengan demikian, setelah menerima investasi sebesar $ 1,5 juta dari Australia, waktunya telah tiba untuk mulai bekerja sendiri lagi dengan laptop di kantor.  Saya mengatur beberapa server dan workstation, menginstal SuSE Linux 64-bit, mempekerjakan tiga programmer - dan jam yang mengukur periode yang dibayar oleh investor mulai berdetak.  Ternyata saya bukan administrator sistem Linux yang sangat baik.  Segera saya bosan melakukan tugas-tugas admin yang buruk dan menugaskan mereka untuk freelancer.  Sekarang ada empat setengah orang.  Tetapi ternyata SuSE Linux 64-bit, terutama pada prosesor AMD dengan bus Hypertransport mereka, tidak siap untuk pemuatan waktu utama, jadi kami kembali ke perakitan RedHat / CentOS 32-bit.  Itu adalah keputusan bijak dari "Tuan Sysadmin", sedikit meneruskan kita. </p><br><p>  Empat bulan kemudian, kami melihat ke depan.  Kami harus memilih apakah akan menjalankan ASX kami atau pergi ke Korea.  Tiga bursa Korea, KSE, KOSDAQ dan KOFFEX, kemudian bergabung menjadi satu bursa Korea, KRX.  Kami memilih Korea, meskipun lingkungan bisnis dan teknis di sana lebih kompleks dan berisiko.  Namun, ada juga lebih banyak peluang di sana, ditambah matematika yang lebih sederhana dalam model penetapan harga dan sejumlah kecil alat menjanjikan basis kode yang lebih ringan. </p><br><p>  Kemudian satu hal lucu terjadi.  Saat membuat sistem baru, Anda biasanya mencoba membuat beberapa konvensi penamaan untuk membuat hidup Anda lebih mudah.  Saya memutuskan untuk menggunakan kode ISO atau bagian dari mereka untuk standardisasi.  Namun, karena penggabungan pertukaran Korea, kode ISO belum ditugaskan untuk pertukaran baru.  Saya menghubungi grup penanggung jawab ISO, yang ternyata adalah satu-satunya pria dengan meja excel yang duduk di suatu tempat di Eropa.  Dia memutuskan bahwa kode baru untuk pertukaran gabungan adalah XKOX.  Saya mengklik dan menulis kepadanya bahwa kombinasi ini tidak terdengar sangat harmonis dalam bahasa Inggris.  Mungkin ide terbaik adalah menggunakan kode KRX atau XKRX yang jelas?  Kami tertawa dan XKRX menjadi kode ISO baru.  Jadi sekarang saya dapat mengatakan bahwa sayalah yang menciptakan kode ISO untuk pertukaran Korea yang terpadu. </p><br><p>  Di masa lalu di Korea, pedagang, bahkan yang frekuensi tinggi, tidak bisa mendapatkan akses langsung ke bursa.  Anda harus melalui gateway broker dan menggunakan API khusus mereka untuk terhubung.  Tidak ada kolokasi sama sekali.  Di antara klien, ada perbedaan besar dalam penundaan yang tidak dikendalikan oleh broker, hanya karena perbedaan lokasi dan teknologi interaksi.  Futures dan opsi diperdagangkan di bursa KOFFEX.  KOFFEX sendiri terletak di Busan, sebuah kota pelabuhan dengan jarak hanya tiga ratus kilometer dari Seoul.  Kontrak derivatif untuk indeks KOSPI 200 memiliki nilai nominal yang kecil, tetapi ukuran lot yang besar.  Karena itu, mereka adalah turunan paling banyak akal di dunia dengan selisih sepuluh kali lipat dari yang lain.  Kontrak euro / dolar pada CME adalah nomor dua, dan opsi pada KOSPI 200 adalah nomor satu.  Ini ternyata terlalu banyak untuk KOFFEX, jadi perdagangan utama instrumen ini dilakukan atas nama mereka di bursa KSE di Seoul.  Karena itu, semua yang kami butuhkan dari pertukaran itu terletak di satu titik di Seoul, meskipun itu sendiri didirikan di Busan. </p><br><p>  Pada titik ini, saya sudah tahu bahwa tumpukan jaringan memperkenalkan penundaan paling signifikan yang dapat saya kelola dalam implementasi baru kami.  Saya menemukan perangkat keras Ethernet ke InfiniBand protokol konverter yang memperkenalkan penundaan 3 mikrodetik.  Itu dirancang sebagai modul yang terhubung ke switch TopSpin InfiniBand.  Bus Hypertransport (HTX) AMD, sebuah alternatif untuk PCI Express, lebih modern, memberikan latensi internal yang lebih sedikit.  Saya membeli beberapa kartu jaringan dan motherboard Pathscale HTX Infinipath dengan dukungan HTX (mereka kemudian hanya ada dalam versi alpha, misalnya, salah satu dari mereka memiliki nomor seri 0x0000045!), Merakit semua bagian berbintik-bintik dalam kasus besar dan mendapat yang mahal, tetapi tumpukan jaringan yang sangat cepat, yang sangat saya sukai.  Dia terlihat, tentu saja, agak canggung dan canggung, tetapi dia adalah salah satu yang paling kompetitif di dunia.  Selama beberapa tahun, kartu jaringan biasa tidak dapat dibandingkan dengan konfigurasi saya. </p><br><h2 id="vybor-brokera">  Memilih broker </h2><br><p>  Setelah itu, kami pergi ke Seoul untuk mencari broker dan tempat di pusat data.  Saya pergi dengan salah satu investor, seorang pria bernama Bubble, yang kemudian menjadi karyawan kami.  Pada awalnya, itu terpecah antara ITG dan HFT, tetapi kemudian sepenuhnya ada di tangan kami, karena baik CEO, ketua APR dan karyawan ITG lainnya adalah investor kami.  Dialah yang diperintahkan untuk memesan hotel di Seoul.  Ternyata ia memilih motel yang dibayar per jam, tergoda oleh deskripsi artistik yang sangat indah yang menyembunyikan gambar yang sebenarnya - kamar kumuh dan kotor dengan pendingin udara yang terkelupas, komputer yang terinfeksi virus.  Bukan awal yang bagus.  Beberapa broker memanggil kami dan menyatakan terkejut di daerah kami.  Canggung tapi lucu.  Perjalanan itu cukup produktif, kami membuat kesepakatan yang luar biasa menakjubkan. </p><br><h2 id="horoshaya-sdelka">  Kesepakatan bagus </h2><br><p>  Kantor Muppetz Securities telah menawarkan layanan DMA kepada kami.  Perusahaan besar yang saya hentikan tidak memiliki akses langsung.  Sebelum itu, saya mengamati sistem dari HP / Compaq / Tandem di pekerjaan lama, karena ini adalah salah satu cara untuk masuk ke jaringan internal broker tertentu untuk lebih dekat dengan bursa.  Harganya sekitar $ 500.000 untuk sebuah kotak kecil yang dibuat sebagai bagian dari program pengembangan aplikasi internal khusus HP.  Ini menggoda, tetapi tidak untuk bisnis yang menjalani hari-hari terakhirnya.  Layanan DMA yang ditawarkan kepada kami sekarang diimplementasikan berdasarkan protokol X.25, yang inovatif bagi saya saat itu.  Kesepakatan broker ini cukup mahal, tetapi karena akses langsung nyata tidak pernah terjadi sebelumnya, saya menandatangani kontrak beberapa hari kemudian. </p><br><p>       “ ”    RTS,     ,    .         .      RTS       ,        ,    .   ,       Orc.     Orc,          .   , RTS     API    10%   . </p><br><p>   ,         InfiniBand.     –     X.25. ,    .       Muppetz Securities  ,     ,     . </p><br><p>     ,  Muppetz    ,     . X.25      .    -   HFT-,     ,             ?  ,   . </p><br><p> ,  ""    .  ,    HFT-   ,    .  ,  . ,    Muppetz   ,   .    .,         .     ,   Muppetz ,       ,    –       ! </p><br><p>    ,    . ,     ,          KRX.   ,     ,     ,      ,         .        .            CRT-.      ,     ,   .        .        ,    ,       ?     ,  “”. </p><br><p>  Muppetz   X.25    ,         KRX,    . -      ,     ,  ,      . </p><br><h2 id="x25-i-tehnologii"> X.25   </h2><br><p>      X.25  .       T1  E1 (       )  Koscom,      KRX.       64    (kbps)    . ,  -  ,               .     ,    (  ) . </p><br><p>           X.25    .  ,  ,     . -             ,     X.25. ,     ,    ,          – BBS, FIDO, Z-modem, Y-modem,   .             ,   ,      .     .      .  ,         .   ,       ,       .           Sangoma,     . </p><br><p>          .        .       .      ,        ,      . HFT  ,   .    ,                ,       .   ,      ,     .      T1. ,   ,    .   X.25,   ,     Sangoma.   –  . </p><br><p>               X.25.        Postgresql (      ),    C++,      ..   ,    ,    -.    ,          .  ,      ,   .      ,       . </p><br><h2 id="falstart-torgovli"> ()  </h2><br><p>        .       .        .    –    85% !  ,         (         ),         .      . </p><br><p>      . </p><br><p>      ,    “”     .          ,             ,     .     ,    ,       .     ,    ,       .    ,       .      .        ,  ( , "  "),    72   .     ,         .     ,       . ,   ,     ,     .     ,         .               … ! –  .      ,    ,     . </p><br><p>     (IV)   .          IV,       ( )        .             .    ,   IV   ,    .        ,             .         R,          .       IV  .      -   ,    .        , ,     . ,  ,     (   .)      ,    . </p><br><p>       .  .       ,     .    ,    ,              .      .     ,      . </p><br><p>  ,      .      .    .        .       “”         .     -    ,   ,     .   ,             .   . </p><br><h2 id="strategiya-zero">  Zero </h2><br><p> Ketika Anda berdagang di bursa, diyakini bahwa Anda beruntung jika Anda telah menerima sebagian dari spread yang menguntungkan Anda.  Saat itu di Korea, opsi ATM dan lebih murah, memiliki ukuran centang sebesar 0,01 poin harga.  Biaya 0,01 ini sekitar satu dolar dari satu kontrak.  Ketika melakukan perdagangan robot frekuensi tinggi segera dengan serangkaian opsi, jika Anda beruntung, maka Anda keluar dari transaksi dengan rata-rata sepuluh atau dua puluh sen.  Salah satu tujuan saya di pekerjaan ini adalah untuk melampaui angka omset yang saya lihat sebelumnya.  Saya ingat bahwa catatan terakhir adalah 1,13 juta kontrak per hari.  Jika Anda dapat berdagang satu juta opsi dan mengambil 10 atau 20 sen untuk masing-masing, Anda akan sangat senang.  Secara teori, tidak ada perbedaan antara praktik dan teori.  Untuk menyadari ini ternyata cukup sulit bagi saya. </p><br><p>  Kemudian saya teringat percakapan salah seorang pedagang, Tuan B., dengan seseorang di dapur di sebuah perusahaan tua (ngomong-ngomong, ia akhirnya mengepalai perusahaan itu.) Tuan B. ditanya apakah ia membeli dengan sinyal perdagangan yang baik dan mendapat untung, mengapa Apakah dia tidak segera menutup posisi?  Dia menjawab bahwa jika semuanya begitu sederhana, dia akan mendapatkan lebih banyak uang daripada sekarang.  Kami memiliki latensi yang sangat baik dengan lokasi yang baik dan saluran X.25 langsung.  Teknologi bekerja, model penetapan harga memberikan harga yang tepat.  Mungkin kita bisa melakukan yang mustahil? </p><br><p>  Saya berbicara dengan para pemegang saham dan mengatakan kepada mereka bahwa saya membutuhkan AUD 25.000 lagi untuk bertahan hidup sebulan dan mencoba sesuatu yang baru.  Investor utama mengeluarkan pinjaman sebesar AUD 25.000.  Tn. F., salah satu karyawan asli, memberi kode apa yang kami sebut strategi Nol.  Semuanya sederhana - tidak memiliki posisi terarah, tunggu opsi muncul di kaca, yang harganya berbeda dari penilaian kami setidaknya dengan tanda centang.  Lalu pukul dia.  Tunggu  Kemudian lipat dan ambil untung.  Bisakah ini bekerja? </p><br><h2 id="my-budem-zhit">  Kami akan hidup! </h2><br><p>  Pendapatan perdagangan bulanan kami mulai diukur dalam enam digit yang sehat.  Strategi Zero berhasil.  Kami telah meningkatkan modal perdagangan sehingga Anda dapat membeli opsi ATM 500 atau 1.000, dan kemudian berbalik dan membuangnya kembali.  Tidak ada pembuatan pasar yang cerdas di sini.  Kami hanya pengambil yang agresif. </p><br><p>  Menjadi pengambil di pasar bisa lebih bermasalah daripada menjadi pembuat.  Sebagai pembuat pasar, Anda harus keluar dari jalan pasar saat itu bertentangan dengan Anda, tetapi Anda harus cukup tabah untuk tidak menjadi terlalu konyol dan tidak kehilangan tempat berharga dalam antrian.  Sebagai aturan, ambang harga Anda, setelah mengatasi yang Anda harus lari dari kaca untuk mencegah kerugian, lebih rendah dari pada penyerang yang mengambil keuntungan dari keuntungan perdagangan.  Itu tampak seperti permainan aneh di mana agresor sebenarnya memiliki handicap keterlambatan, karena dia siap untuk bergerak hanya setelah pembuatnya bergerak, semua hal lain dianggap sama.  Atau sepertinya sprint 100 meter, di mana pembuatnya memiliki keunggulan 50 meter, dan Anda harus mengejarnya.  Analogi ini menggambarkan strategi Zero.  Koneksi langsung melalui X.25 dengan kabel yang melewati jendela dan lokasi di kampus sudah cukup untuk mengatasi kenaifan strategi kami di masa-masa awal itu.  Fortune tersenyum pada kami. </p><br><p>  Itu semacam hiburan untuk menyaksikan bagaimana uang itu, seolah-olah, muncul sendiri di rekening bank setelah mendapat untung.  Itu agak nyata.  Kami memperdagangkan opsi indeks di Korea, dan dolar Australia muncul di rekening bank di Sydney. </p><br><p>  Sedikit uang dihabiskan untuk cluster rumah di kantor kami yang baru disewa di Hunter Street, 200 meter persegi, banyak komputer mini-ITX kecil di rak murah dari toko perangkat keras, kartu RAM, catu daya ATX, dan sakelar jaringan.  Simulasi volatilitas yang tersirat, pengujian historis, dan strategi itu sendiri telah meningkat dengan munculnya beberapa ratus core tambahan. </p><br><p>  Langkah selanjutnya dalam perdagangan kami adalah transisi dari strategi Nol ke strategi perdagangan penuh dengan lindung nilai.  Alih-alih mencoba melakukan lindung nilai suatu posisi melalui masa depan, kami beralih ke lindung nilai dengan opsi lain.  Kami tidak ingin memindahkan posisi sepanjang malam, tetapi senang bisa menahannya sepanjang hari.  Strategi Nol mengadakan pemaparan total beberapa detik sepanjang hari.  Strategi baru membuat kami mempertahankan posisi kami sepanjang hari.  Gagasan ini bekerja dengan sangat baik.  Sekitar dua pertiga dari pasar KRX adalah opsi delta rendah dengan harga yang cukup statis.  Sudah biasa melihat lebih dari satu juta lot pada penawaran atau bertanya dalam pilihan kecil.  Namun, beli opsi-opsi murah ini dan akan sangat sulit bagi Anda untuk meresetnya sebelum pasar tutup.  Oleh karena itu, kami hanya fokus pada opsi dengan spread yang lebih sempit dan dengan delta besar, dengan kutu ukuran 0,01 dengan harga di bawah 3,00.  Mereka menyumbang sekitar sepertiga dari ukuran pasar rata-rata.  Pada akhirnya, kami tumbuh dengan pangsa pasar khas 6-7%, dan terkadang lebih dari 10%.  Sungguh menakjubkan bahwa kami berdagang sekitar sepertiga dari volume pasar di mana kami fokus.  Sepotong kue yang normal.  Mengatasi rekor pergantian masa lalu terjadi. </p><br><h2 id="razbirayas-s-provodami">  Memilah kabel </h2><br><p>  Ide hack signifikan pertama datang setelah melihat pasangan bengkok yang diletakkan melalui jendela.  Modem untuk jalur T1 dan E1 mentransmisikan sinyal ini melalui koneksi kikuk yang mengarah ke kotak yang lebih besar, yang kemudian dihubungkan melalui konektor besar ke kartu seri.  Sebuah penelitian kecil dan rencana yang jelas telah lahir.  Saya membeli beberapa kartu Sangoma baru di mana saya menghubungkan saluran NetOptics T1 / E1 dengan twisted pair dan memasang rakitan ini di Korea.  Ketika ditanya untuk apa itu, saya menjawab bahwa itu untuk memantau kondisi garis dan mengukur penundaan.  Pernyataan ini secara teknis benar, tetapi tidak lengkap. </p><br><p>  Kartu Sangoma baru mendukung mode campuran, di mana kartu hanya menerima semua bit dari saluran.  Saya mulai menganalisis mereka dan menyadari seperti apa aliran itu.  Saluran virtual X.25 telah dikelompokkan ke dalam saluran data pasar.  Mereka cenderung pergi satu demi satu.  Ada grup saluran lain untuk opsi put, call, dan futures.  Saya harus membongkar layer HDLC sendiri, tetapi segera saya telah mendekodekan paket yang cocok dengan saluran KRX.  Bypass modem dan perangkat jaringan ini menghemat sekitar satu milidetik. </p><br><p>  Ini bukan wilayah yang asing.  Pertukaran Eurex pernah menyediakan API pribadi - dan itu diretas dan merekayasa balik protokol pertukaran.  Setelah itu, dokumen resmi tentang regulasi teknis keanggotaan di bursa disesuaikan sehingga menjadi pelanggaran aturan.  Kemudian latihan ini dihentikan, tetapi di Korea tidak ada aturan seperti itu.  Demikian juga, ketika ASX membuka titik colocation kecil pertamanya di Bondi, saya mencatat bahwa beberapa perusahaan klien memiliki server 1U dari Dell, tanpa modem apa pun.  Rekayasa balik protokol Nasdaq tidak seperti yang saya harapkan - ada banyak peretas cerdas. </p><br><h2 id="otrezat-i-vybrosit">  Potong dan buang </h2><br><p>  Di Korea, segalanya menjadi lebih baik.  Sekarang saya memiliki bitstream satu per satu (baik, atau setidaknya byte demi byte), saya bisa melihat bahwa paket-paket kehilangan banyak waktu di kabel.  Milidetik  Metode umum dalam pemantauan jaringan adalah slice, ketika Anda cukup memotong bagian pertama dari paket.  Saya menerapkan ini dengan kode bypass lapisan HDLC saya dan sekarang kami jauh di depan karena bidang tawaran dan permintaan yang kami butuhkan berada di awal paket penawaran.  Hemat 100 byte pada 128 Kbps dan Anda unggul 6,1 ms.  Ketika spesifikasi spesifikasi dan akselerasi saluran KRX tumbuh, keunggulan kami berkurang, tetapi tetap dapat diterima.  Sekarang kami mengirim pesanan kami bahkan sebelum paket data input dengan harga diterima sepenuhnya. </p><br><p>  Kadang-kadang pertukaran saluran virtual dipertukarkan, dan kami tetap dengan kabel lambat sampai saya mendekripsi nomor baru.  Infrastruktur lainnya juga perlahan membaik.  Sekarang kami memiliki kabel yang berjalan tidak melalui jendela, tetapi melalui saluran kabel dari saklar utama gedung.  Kami juga menggantung AC kecil di atas jendela, yang sangat diperlukan, karena suhu di rak terus meningkat.  Ruang kerja kami bukan pusat data nyata.  Kemudian bank kami menjual bisnis turunannya dan setelah beberapa saat pemilik baru memutuskan bahwa kami adalah pelanggan terlalu kecil dan memerintahkan kami untuk meninggalkan kantor kami.  Kemudian, saya mengetahui bahwa dia memiliki grup perdagangan AI di Tokyo, yang sangat menginginkan kamar kami untuk dirinya sendiri. </p><br><h2 id="eschyo-odna-popytka">  Sekali lagi coba </h2><br><p>  Saya harus berjuang untuk menemukan rumah baru bagi kami.  Kami fokus pada menemukan beberapa poin sekaligus sehingga bisnis akan sedikit lebih berkelanjutan.  Protokol X.25 belum terkenal, tetapi tidak lagi tidak biasa.  Seseorang bernama Dr. S. datang membantu kami dan menempatkan peralatan kami di pusat data di seberang jalan.  Pialang ini sedikit lebih pintar dan mengerti bahwa jika kita melihat seluruh aliran data fisik, maka kita berpotensi melihat pesanan klien lain.  Dia benar - secara teknis kami bisa, tetapi sejauh ini belum melakukannya.  Kami harus menyiapkan infrastruktur terpisah untuk konfigurasi aliran data pasar kami sendiri.  Pialang ini melakukan pekerjaan yang baik dan kami berterima kasih padanya untuk migrasi yang lancar.  Pengalaman dengan Muppetz adalah pengecualian.  Broker di Korea adalah orang baik. </p><br><p>  Kami menggunakan infrastruktur yang sama di lokasi baru dan terus mencari.  Kami perhatikan bahwa kecepatan data pasar di berbagai situs sangat berbeda.  Kami tidak bisa mendapatkan sinyal GPS untuk menyinkronkan jam lokal melalui jaringan, tetapi Korea menggunakan standar CDMA untuk komunikasi seluler.  Pabrikan lokal, Endrun Technologies, menjual kotak plastik kecil yang bagus, yang dengannya kami bisa mendapatkan sinyal stabil dari waktu yang tepat.  Perangkat ini menerima sinyal GPS di dalam CDMA dan mentransmisikan data NMEA melalui port serial plus (melalui kabel lain) pulsa pada interval yang sangat tepat.  Spesifikasi CDMA menjanjikan jitter untuk sinyal waktu yang akurat tidak lebih dari 10 mikrodetik, bahkan kami mendapat sekitar satu mikrodetik di Seoul.  Sebagai perbandingan, satu operator CDMA Kanada menunjukkan keakuratan sekitar 5 atau 6 mikrodetik. </p><br><p>  Kami akhirnya kolokasi di pusat data bawah tanah KRX.  Masuk ke dalam tidak mudah karena keamanan yang ketat.  Setelah melakukan perjalanan jauh di bawah tanah, saya perhatikan bahwa sinyal ponsel sedang ditangkap di dalam pusat data.  Saya meletakkan receiver CDMA kami di rak dan berhasil - kami mendapat waktu yang tepat dari sinyal seluler yang terputus sampai sesuatu di dalamnya habis.  Curiga bahwa antena yang lebih efisien perlu dipasang, sebelum perjalanan berikutnya ke Seoul, saya membeli antena putih fleksibel sepanjang satu meter dan menyolder konektor SMA ke sana.  Ketika saya pergi ke bunker bawah tanah di pusat data KRX dan meletakkan antena putih besar di rak kami, orang-orang dari Koscom menatapku dengan curiga.  Saya tidak tahu apa yang mereka pikirkan tentang diri mereka di sana, tetapi beberapa orang selama bertahun-tahun menyebutkan bahwa mereka melihat antena putih saya tergeletak di atas rak di KRX. </p><br><p>  Sekarang kami memiliki waktu yang tepat di semua titik kehadiran dan kami perlu melakukan pertukaran data di antara mereka.  Kami menemukan bahwa beberapa blok dari kampus, kami menerima penundaan 300-mikrodetik antara titik-titik kami melalui koneksi Ethernet sepuluh megabit dari penyedia kota.  Ini adalah indikator yang sangat bagus dan kami mengoordinasikan semua data pasar dan pesanan kami di jalur Internet ini.  Di Korea, Internet luar biasa dan itu sudah cukup bagi kami saat itu.  Milidetik dari manfaat mendapatkan data pasar untuk semua titik kehadiran segera meningkatkan perdagangan.  Sementara pesanan terbaik kami datang dari kampus pertukaran, data pasar tercepat datang dari titik beberapa blok jauhnya.  Ini ternyata agak tak terduga dan lokasi itu tetap menjadi tempat terbaik untuk mendapatkan data pasar selama beberapa tahun. </p><br><p>  Beberapa saat kemudian, pada titik baru dalam perluasan gedung pertukaran KRX, kami mengatur untuk mendapatkan data pasar dan penundaan di sana ternyata sangat besar.  Ini adalah pertama kalinya saya menemukan Citadel di Korea, saya dapat menentukan ini pada waktu perangko dalam paket jaringan - mereka dapat memberi tahu Anda segalanya jika Anda dapat mendengarkannya.  Kami meminta untuk memutuskan saluran ini, Koscom menghentikan transmisi dan secara fisik memutus saluran.  Setelah satu atau dua bulan, kami membayar untuk menghubungkan kembali, mereka menghidupkan jalur yang sama, tanpa mengubah apa pun, dan sekarang itu salah satu yang terbaik.  Ini adalah keanehan kehidupan di Korea.  Saya menduga bahwa semacam penyeimbang round-robin baru di suatu tempat di tengah mampu memperbaiki situasi.  Untuk keanehan lain yang diamati di sana, saya tidak dapat menemukan alasan yang jelas. </p><br><p>  Saluran virtual untuk mengirim pesanan pada X.25 masing-masing adalah 64 kbit / s - ini sangat lambat.  Saya berpikir bahwa kami dapat menggunakan retasan yang sama dengan kartu Sangoma dan mulai menulis kode yang akan mengirim paket dengan pesanan sebelum benar-benar terbentuk dalam memori, yang akan menyelamatkan kami milidetik.  Setelah mengirim pesanan, kami dapat mengubah paket menjadi tidak valid, jika tiba-tiba situasi pasar berubah dan pesanan yang dikirim tidak lagi diperlukan.  Namun, tim kecil kami sudah sangat sibuk, dan tugas ini bukan prioritas, karena kinerja perdagangan kami sudah cukup baik.  Kami belajar lebih banyak tentang pemodelan volatilitas tersirat dan strategi yang disempurnakan. </p><br><h2 id="postoyanny-tolko-izmeneniya">  Hanya perubahan yang permanen </h2><br><p>  Pertukaran tidak pernah berhenti dan KRX tidak terkecuali.  Mereka mulai meninggalkan protokol X.25 dan beralih ke Ethernet dan TCP / IP.  Pertukaran tersebut direncanakan menggunakan TCP untuk mengirim pesanan dan UDP untuk data pasar.  Kinerja perdagangan hack X.25 kami mulai memudar.  Kami menjadi terlalu gemuk dengan mesin dan strategi perdagangan kami.  Kinerja mesin perdagangan kami belum banyak membaik dibandingkan dengan tiga ratus mikrodetik awal, ia telah membengkak.  Orang-orang di beberapa titik mengulangi hackathon 72 jam saya dan mengubah mesin menjadi sesuatu yang lebih tradisional, sederhana dan cepat.  Anehnya, kita sekarang tidak terlalu khawatir tentang seratus mikrodetik di sini atau di sana, karena kita mengejar tujuan strategis dan taktis.  Dibandingkan yang lain, kami benar-benar mengalami penundaan negatif karena adaptor jaringan bekerja dalam mode promiscuous, melewati modem dan parser HDLC kami sendiri.  Pesanan kami masih berjalan sebelum data pasar sampai ke peserta pasar lainnya. </p><br><p>  Kami ingin mencoba pra-mengirim pesanan pada X.25, tetapi kami tidak memiliki orang bebas untuk menghabiskan beberapa bulan pada pemrograman, terutama mengingat bahwa penggunaan X.25 akan segera berakhir.  Semua kode X.25 akan sia-sia beberapa bulan setelah selesainya proyek ini.  Namun, idenya harus diuji, dan saya berbicara dengan pria yang menulis sebagian besar perangkat lunak di Sangoma.  Dia adalah pengembang utama dan melakukan pekerjaan utama menulis driver perangkat.  Mungkin dia bisa merekomendasikan seseorang?  Dia mengatakan akan melakukannya sendiri sebagai proyek sampingan dari rumah.  Beberapa masalah muncul karena kode driver ini sangat membingungkan dengan banyaknya pernyataan transisi goto di C, tetapi bahkan jika ini bukan gaya yang sangat baik, driver bekerja dengan stabil.  Kode ini seharusnya tidak hidup selama lebih dari beberapa bulan, jadi ini sepertinya risiko yang dapat diterima.  Pengujian memakan waktu sedikit lebih lama dari yang diperkirakan, dan pra-pengiriman berhasil, tetapi kinerjanya buruk.  Kode itu sangat jahat sehingga jalur "cepat" bekerja lebih lambat daripada jalur biasa.  Namun, kami tidak punya waktu untuk menulis ulang semua kode untuk ide ini sekali lagi. </p><br><p>  Perubahan dukungan TCP pada KRX ternyata menjadi pemetaan sederhana saluran virtual X.25 ke sesi TCP.  Anda dapat meminta beberapa sesi TCP secara bersamaan (yang mereka sebut PID) untuk mengirim pesanan.  Format transfer data pasar porting tidak berubah untuk bekerja di atas UDP.  Saya tidak ingat apakah mereka menambahkan enkripsi ke versi TCP segera saat peluncuran atau sedikit kemudian, tetapi sekarang ketika mengirim pesanan, seluruh paket data segera setelah tajuk TCP harus dienkripsi menggunakan ARIA cipher, dan ini merupakan persyaratan wajib .  ARIA adalah kode nasional Korea.  Ini sangat mirip dengan AES dengan tata letak S-Box yang sedikit berbeda.  Ini adalah sandi yang bagus. </p><br><p>  Kami melihat bahwa arsitektur berbasis TCP baru akan mengguncang pasar dan berpotensi menghancurkan sebagian besar bisnis broker besar.  X.25 tua yang baik lambat, tetapi pergantian saluran berarti bahwa Anda memiliki banyak jalur paralel untuk mengirim pesanan yang dapat dibagi di antara mereka sendiri.  Di dunia baru TCP, ada sejumlah sesi terbatas, dua atau empat sesi, dan semua klien harus mengirim pesanan mereka melalui koneksi ini secara bergantian, meskipun tampaknya ada banyak PID.  Sebagai hasil dari serialisasi ini, permintaan klien diantrikan oleh broker.  Kondisi balapan sekarang muncul tidak hanya di bursa, tetapi juga di dalam masing-masing broker.  Pialang besar dapat kehilangan pangsa pasar mereka, karena jalur komunikasi yang ada hanya dapat mendukung sejumlah kecil klien HFT.  Selain itu, kecepatan pengiriman pesanan meningkat, ukuran paket data pasar juga meningkat, dan tingkat penerimaan data pasar tidak tumbuh secara proporsional untuk mengimbangi.         ,   -   .        ,     ,      . </p><br><p>             ,   Koscom     .        622 Mbps,        ,    .        –  T1  E1.     –         -.       T1,        Cisco.          T1  ,         ,     . </p><br><p>   TCP     KRX     ,   .  ,   Samsung Securities,    ,              .  -   ,            .       ,          .  ,         ,  ,   (   .)          .      ,       ,    ,       ,        .        –        –   .    ,     . </p><br><p>     promiscuous-      ,    ,       .   TCP/IP  X.25    ,   ,      .             .       –       KRX. ,           ,   - ,      .  ,      ,    , ,          ,             .       ,       .    ,    . </p><br><h2 id="vzlom-fpga">  FPGA </h2><br><p>         -.          .  ,        .        –    “ ”           .       UNSW    NICTA.                Linux,     Itanium.  -    ,    ,        ,      .    ,    –     Sangoma,   .        FPGA-  XILINX,     Spartan 3.     flash-  FPGA    ,     .         ,        Sangoma   promiscuous-.  Sangoma      . ,    Sangoma     ,    .           . </p><br><p>        ,    FPGA . -     FPGA   Ethernet  InfiniBand  TopSpin.      ,    FPGA-   Celoxica   2004 ,     .      HFT-,   Celoxica        UDP.       ,       . Celoxica      UDP  Ethernet,                  .    ,      .        CTO    -,   ,     Celoxica       ,   .  Celoxica              .    VHDL,    Handel-C   , ,  ,         .     -     FPGA,      , Impulse-C.    ,     VHDL,       . </p><br><p>    SANGOMA    . ,           ,      ,   ,   .  ,         ,   .        Telco,     E1.       ,        E1 .         FPGA-,      ,       ,       622 /,   Koscom. </p><br><p>          ,     PCIe- .    SFP-  FPGA-  XILINX   .          T1/E1,        ,    .      -        ,          NetOptics        .  FPGA-      FPGA-,     .          NetOptics  .  ,    ,           .     ,     . </p><br><p>   ,            .     ,   ,      ,  .      STS-3/STM-1   155 Mbps   OC3       .                  ,    .      (   .) ,        64 /,     ,    ,     .   ,          “”     KRX,   FPGA- ,            . </p><br><h2 id="predvaritelnyy-order">   </h2><br><p>          KRX.      TCP,               ,        –    .  TCP-   ,      .      . -,          ,    ?  N       heartbeat,  PID  .        ,        .      ,       IP-,      Ethernet-           . </p><br><p>             –        .      .      ID ,    .          (    ),     –     ,      heartbeats-.         ,          ARIA. </p><br><p>  ,     1Gbps   FIX 4.2 (    BATS       10G),      - ,    FPGA.   25    200 .     Ethernet-    ,     . </p><br><h2 id="vzlom-shifra-aria">   ARIA </h2><br><p>      ,    ,     C-  8- 32-  .        ,             .       - ,            ,          ,       . </p><br><p>     ARIA,        .   ,    SIMD-,    .            ,       . </p><br><p>    , ,     TCP.       ,            .        ,    .  Koscom    “  ,  ”,                  ,   . </p><br><p>         ARIA       ,  . </p><br><h2 id="vstryahnut-krylyami">   </h2><br><p>       .          .  Unix               .     ,   .    ,       ,              .     ,        . </p><br><p>     ,    .     . ,            . ,         "  "  - ,     . , ,       ,    ,    ?   ,      ,    ,       . ,    ,       ,       .     . </p><br><p>         .             TCP  ,         ,  ,   ? <br>         ,            ,    ,    .        . </p><br><p>  ARIA      (CBC).  ,          .         ,    . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/aa1/4d5/b07/aa14d5b07c9dd25c007a349cb639c60f.png" alt="gambar"></p><br><p>           ,     ,         (   .)  ,             .  ,  KRX     .        .  Koscom, ,   ,  -     ,       . ,       ,      .        - ( )    -  CBC XOR    .     ,      ,        .          ,     . </p><br><p>             ,           .    TCP-,      .    90    ,  ,       ,   .         ,  ,    ,              (..    )   ,        .      . </p><br><h2 id="mashinnoe-obuchenie">   </h2><br><p> Perbaikan paling signifikan yang pernah kami buat untuk strategi itu tidak datang dari trik tingkat rendah ini.  Kami menggunakan hutan acak (RF) untuk bertindak sebagai lapisan pembelajaran mesin untuk memprediksi harga teoritis di masa depan.  Pada awalnya saya mempercayakan tugas ini kepada salah satu PhD saya di perusahaan (kami memiliki enam dari mereka.) Dia tampaknya menjadi jenius matematika dan memiliki PhD dalam fisika menggunakan semacam model kosmologis tunggal, dan dia juga teman baik saya, yang saya sewa beberapa tahun lalu dan mengajarinya C ++.  Dia kemudian mengajar C ++ di Universitas Queensland.  Saya juga merekrut salah satu mahasiswa pascasarjananya, yang ia ajari C ++ (sungguh lucu bahwa perusahaan memiliki beberapa generasi pelajar bahasa ini.) Saya menugaskannya untuk mengembangkan lapisan pembelajaran mesin menggunakan RF untuk strategi.  Dia kembali setelah beberapa bulan dan menunjukkan kepada saya semua hal yang dia coba dan yang tidak berhasil, dan kemudian menjelaskan kepada saya mengapa ini tidak akan berhasil sama sekali dan mengapa itu semua buang-buang waktu. </p><br><p>  Saya sudah menemukan metode ini di sekolah pascasarjana, jadi saya memutuskan bahwa lebih baik melakukan semuanya sendiri lagi.  Saya mengambil paket OpenDT v5.2, yang bekerja melalui MPI pada cluster kami dari papan mini-ITX.  Sekarang telah berkembang menjadi lebih dari seribu core dengan motherboard disekrup ke rak rak dari panel chipboard dan catu daya yang terletak di rak logam dengan lubang di atasnya.  Dua minggu OpenDT mengerjakan cluster ini membantu saya membuat solusi yang layak.  Saya dapat mengulangi hasil itu menggunakan kode asli dari penulis metode Random Forest, Leo Briman.  Saya melemparkan prestasi saya ke pagar ke Mr L. (orang yang mengirim seribu pesanan per detik ke bursa, yang hampir membunuh kita saat itu) untuk menggulungnya menjadi produksi.  Dia adalah seorang programmer yang layak (meskipun seorang pria introvert) dan semuanya siap dalam dua minggu.  Kami melihat peningkatan langsung laba sekitar sepertiga - itu adalah bulan yang baik. </p><br><p>  Peningkatan dan penyesuaian lebih lanjut pada lapisan ML memberi hasil besar.  Kami menjadi sangat bergantung padanya.  Menciptakan hutan acak dengan respons cepat adalah pekerjaan berat, karena mengakses sejumlah besar memori dalam urutan acak adalah kutukan latensi rendah.  Dalam proyek selanjutnya, saya melakukannya sedikit lebih baik.  Setelah sekitar satu tahun atau lebih, menjadi jelas bahwa jika kita mematikan ML, kita tidak akan menghasilkan uang sama sekali.  Namun, kami tidak pernah benar-benar mengeksplorasi pertanyaan apakah ini karena strategi kami atau jika satu penundaan rendah tidak lagi cukup untuk menang.  Saya curiga yang kedua.  Saya melihat pemain pintar seperti Jump memasang puluhan server di Korea, dan mereka jelas tidak menggunakannya saat idle.  Sejumlah ML yang cukup ada di udara. </p><br><p>  Salah satu cara matang untuk berpikir tentang ML adalah bahwa itu hanyalah metode untuk mengurangi latensi.  Dia memberi Anda waktu dengan berdagang dalam ketidakpastian.  Anda bereaksi lebih awal, tetapi Anda mungkin salah.  Namun, bahkan bot arbitrage terbaik tidak selalu menerima eksekusi pada semua pesanan mereka.  Lebih tepat untuk menganggap ML sebagai cara untuk mendapatkan poin referensi tambahan dalam ruang penundaan dan ketidakpastian. </p><br><h2 id="kanareyka">  Kenari </h2><br><p>  Peretasan lain yang mungkin harus saya sebutkan adalah teknologi kenari.  CME dikritik oleh banyak pedagang beberapa waktu lalu, karena Wall Street Journal menerbitkan sebuah penelitian yang menunjukkan bahwa beberapa pedagang menerima pesanan mereka sebelum data pasar tiba yang akan mengarah pada penempatan pesanan ini, dan peningkatan kecepatan ini memberi mereka keunggulan lebih dari peserta biasa.  Ini adalah argumen yang keliru, karena kecepatan dua proses yang berbeda tidak akan pernah sama.  Ini lebih merupakan alasan untuk memperkenalkan kode pemrosesan tambahan untuk menerima informasi secara bersamaan dari saluran lambat data pasar dan saluran cepat pemberitahuan eksekusi pesanan. </p><br><p>  Ada beberapa pertukaran di mana situasinya berbeda.  Nasdaq adalah salah satu bursa pertama yang menerima data pasar lebih cepat dari pemberitahuan pesanan.  Itu adalah jebakan bagi pemain muda yang tidak mengharapkan ini. </p><br><p>  Dalam percobaan pertama saya di KRX, seekor kenari bisa saja bekerja sedetik sebelum mendapatkan data pasar.  Biarkan saya mengingatkan Anda bahwa kenari adalah urutan batas yang sebelumnya Anda tempatkan di kedalaman gelas, dan tidak pada tingkat terbaik.  Jadi, ketika pasar tiba-tiba melonjak ke tingkat harga baru, burung kenari Anda mulai bernyanyi, memberi tahu Anda tentang pergerakannya sedetik sebelum sisa pasar.  Jika Anda tidak dapat menghasilkan uang dengan ini, tengkorak Anda harus diisi dengan batu, bukan otak.  Ya, dan saya menemukan beberapa batu di kepala saya. </p><br><p>  Itu aneh.  Kadang-kadang, perbedaan harga antara dua saluran ini begitu besar sehingga Anda bisa melihat pasar naik dan turun.  Jika naif untuk membeli pada kenaikan pertama ini, pasar dapat menciptakan masalah bagi Anda saat turun.  Alih-alih, Anda dapat mencoba menentukan terlebih dahulu waktu acara ini, sehingga Anda dapat membeli di bawah ini dan segera menjual kontrak Anda. </p><br><p>  Terlalu banyak pengetahuan adalah masalah yang menyenangkan.  Kami telah mengintegrasikan kode ini ke dalam pengolah data kami.  Salah satu dari mereka, Tuan F., menyebut acara ini "kekuatan bintang", seperti saudara-saudara Mario. </p><br><h2 id="dzhitter-protiv-zaderzhki">  Jitter vs. Delay </h2><br><p>  Anda dapat mengingat bagaimana integrasi dari tiga bursa di KRX sebenarnya tidak mempengaruhi masa depan dan opsi KOSPI, karena mereka sudah diperdagangkan di Seoul di KSE.  Pertukaran terpadu KRX menutup pusat data di Busan dan semua orang pindah ke Seoul.  Namun, pemerintah tidak mencapai tujuan politiknya dan pusat data Busan akhirnya dibuka kembali. </p><br><p>  Bank dan broker di Seoul menghabiskan banyak uang untuk transfer ini.  Kadang-kadang ternyata tidak ada peering antara dua pusat data di Busan, dan data pasar pertama-tama pergi ke Seoul, lalu kembali.  Kekacauan.  Hanya sekarang, pada tahun 2016, pertukaran KRX telah bergerak mundur sehingga semuanya terkonsentrasi di Busan.  Sebelum ini, solusi terbaik adalah mengumpulkan data pasar di Seoul, dan mengirim pesanan ke Busan mahal dan tidak efisien.  Semua perusahaan HFT (seperti kami) sedang mempertimbangkan kemungkinan membangun jalur mereka sendiri antara Seoul dan Busan, namun, Koscom melarangnya untuk melakukannya agar tidak kehilangan pendapatannya.  Anda hanya bisa membeli jalur mahal dari Koscom, yang dilakukan semua broker.  Biasanya, Anda berjuang untuk saluran yang memberi penundaan 2,9 hingga 3,1 milidetik.  Cukup lambat untuk kabel lurus 300 km atau jalan raya 400 km.  Hanya dalam beberapa tahun terakhir beberapa tautan radio gelombang mikro muncul. </p><br><p>  Pada saat yang sama, pusat data KRX telah berkembang dari platform komersial terbesar di dunia yang ditenagai oleh peralatan HP / Compaq / Tandem menjadi platform AIX yang ditenagai oleh arsitektur IBM PowerPC.  Sebelum migrasi ini, kami menerima ping 11-12 ms pulang-pergi (RTT) di jalur pengiriman pesanan dengan jitter sekitar 130 ms.  Setelah pindah ke Busan, ping menjadi lebih dari 20 ms, tetapi jitter turun menjadi 30 ms.  Meskipun rata-rata penundaan berlipat ganda, mengurangi kegugupan membuat strategi kami lebih efektif. </p><br><p>  Ini mirip dengan kasus ketika CME mengurangi jitter dengan mengganti gateway-nya dengan peralatan dari iLink berdasarkan FPGA.  Keacakan menurun dan kecepatan menjadi lebih penting.  Perbedaannya dengan Korea adalah bahwa keterlambatan sebenarnya meningkat untuk KRX, tetapi sebagai pedagang kami tidak peduli, jawaban untuk pertanyaan lain lebih penting - apakah usaha saya sepadan?  Platform baru telah meningkatkan ROI kami di Korea.  Dengan cara yang sama, saya berharap bahwa jitter yang lebih kecil, sebagai hasil dari penurunan konstan dalam pertukaran (tidak hanya pada CME, tetapi juga pada pertukaran di seluruh dunia) akan terus membagi pedagang menjadi mereka yang dapat berdagang dengan cepat dan yang tidak.  Penundaan terus menjadi masalah, bahkan jika mereka tidak kritis. </p><br><h2 id="sorevnovanie">  Persaingan </h2><br><p>  Perlu disebutkan apa yang terjadi ketika Getco datang ke Korea.  Saya tahu sedikit tentang mereka dalam arti praktis.  Hal pertama yang saya dengar adalah keluhan terus-menerus dari broker.  Getco mengelola transaksi yang cukup sulit dan, karena mereka dapat menghasilkan uang, itu juga berhasil di Korea.  Ada desas-desus tentang kesepakatan luar biasa dengan broker sendiri sehingga mereka dapat meningkatkan pangsa pasar mereka.  Mungkin ini tidak terlalu berbeda dari kesepakatan Kanada dengan CIBC?  Menurut rumor, Getco kemudian membayar harga tetap yang sangat rendah (mungkin hanya beberapa ribu dolar) untuk broker Kanada untuk mengamankan pangsa pasar untuk CIBC. </p><br><p>  Saya mulai membaca laporan tentang Getco yang menempati 5% pasar.  Seseorang mengatakan kepada saya bahwa angka ini mendekati 15%.  Banyak broker mengeluh tentang klien mereka tanpa menerima komisi yang cukup dari mereka.  Masyarakat setempat agak keras dan frustrasi tentang kedatangan Getco.  Tapi secara umum kami tidak kecewa.  Kami cukup beragam dan berdagang strategi yang tidak dimiliki orang lain, sehingga sangat sedikit orang yang bisa memahami apa yang terjadi dengan kami.  Namun, ini adalah pelajaran - Getco membawa orang baru dengan berdagang strategi yang lebih efektif.  Banyak orang kehilangan penghasilan dan mengeluh, skandal pers berputar.  Anda mulai membaca cerita tentang betapa tidak adilnya pasar.  Ini bukan - hanya gema dari jeritan para pecundang.  Ini adalah kisah sedih yang Anda dengar di pasar berulang kali ketika para pedagang berjuang untuk inefisiensi pasar dan efektivitas teknologi mereka.  Pasar membaik, tetapi keluhan semakin keras. </p><br><p>  Apa yang kami lakukan berhasil dan dapat diterima di Korea, dan itu dapat diterima di banyak negara lain.  Tapi tidak, misalnya, di Eurex.  Aturan bervariasi dari pasar ke pasar.  Jika Anda seorang manajer portofolio, sekarang Anda mengerti bahwa Anda tidak lagi ingin memainkan game ini.  Ini adalah kompetisi yang ketat, dengan ratusan pedagang pintar seperti saya terus-menerus mempersiapkan strategi baru.  Tetapi Anda tidak perlu bermain di bidang ini.  Pedagang frekuensi tinggi seperti saya fokus pada tick berikutnya.  Hanya itu yang kami pedulikan.  Kami menghabiskan banyak sumber daya untuk mendorong kolega HFT kami ke kutu berikutnya.  Saya tidak peduli dengan alpha portfolio Anda.  Itu di luar cakrawala saya, di luar kekhawatiran saya. </p><br><p>  Saya kalah banyak dan menang banyak di siang hari.  Perusahaan HFT yang dideskripsikan di sini, yang saya dirikan pada Mei 2005, saya tinggalkan pada Januari 2011. Kami hanya mengalami delapan hari yang hilang selama ini menurut strategi perdagangan utama kami.  Di empat dari mereka, kerugian berjumlah kurang dari 1000 USD dan di semua dari mereka itu kurang dari 10.000 dolar AS.  Ini tidak sebagus perusahaan Virtu yang terkenal (1 hari dari sekitar 1.200 menurut dokumen mereka untuk IPO), tetapi saya berdamai.  Namun, ingatlah bahwa ada banyak transaksi di antara mereka yang tidak dapat membanggakan hasil keuangan yang tinggi.  Kami hanya mendapatkan sebagian kecil dari spread, biasanya 10% di hari normal, 5% di hari yang buruk, dan 20% di hari yang baik.  Opsi waktu kedaluwarsa kadang-kadang memberi kami 50%, karena banyak pedagang mencoba untuk tidak berdagang pada hari Jumat setiap bulan. </p><br><p>  Hukum jumlah besar memungkinkan HFT menghasilkan uang setiap hari.  Hukum yang sama menunjukkan bahwa jika kita kehilangan keunggulan teknologi, kita tidak akan bisa berdagang sama sekali, atau kita akan kehilangan uang setiap hari.  Perusahaan HFT sering bangkrut dan berhenti.  Ini adalah industri yang sulit, terus-menerus menggali infrastruktur dan struktur mikro pasar untuk meningkatkan efisiensinya.  Dan ini akan menjadi pekerjaan yang tidak tahu berterima kasih jika orang tidak mengerti bahwa ayam jantan hari ini dapat langsung berubah menjadi bantal bulu ketika perusahaan seperti Getco datang ke kota Anda.  Saya yakin bahwa kedatangan Jump juga menyebabkan munculnya beberapa bantal berdebu. </p><br><p>  Korea adalah tempat yang menyenangkan, karena infrastruktur pertukaran KRX masih berantakan.  Ada banyak lagi ide yang dapat diimplementasikan dalam infrastruktur yang lambat, kikuk, dan terselubung.  HFT menyukai kekacauan ini karena mereka dapat menyelidiki dan menemukan manfaat untuk diri mereka sendiri.  Ini tidak begitu sulit, Anda hanya perlu lebih memperhatikan detail terkecil, karena kompleksitas terdiri dari hal-hal sederhana.  Anehnya, HFTshniki membenci kolokasi pertukaran dan latensi rendah, karena jauh lebih sulit untuk menemukan keuntungan di sana.  HFTshniki juga menyukai situs yang hanya sedikit diketahui orang ... Tidak ada yang mau disergap. </p><br><h2 id="portfelnomu-upravlyayuschemu">  Manajer Portofolio </h2><br><p>  Jangan khawatir tentang centang selanjutnya.  Mendorong struktur pasar seperti ETF yang kompetitif, adil, dan murah.  Lalu Anda bisa berdiri dan gembira menyaksikan perusahaan-perusahaan HFT ini saling membunuh, memperjuangkan penyebaran terendah.  Ini memungkinkan mereka menyediakan likuiditas agar bekerja untuk Anda, terlepas dari motif mereka.  Pada akhirnya, hanya membeli yang lebih tinggi dan menjual lebih rendah (mis. Mempersempit spread nyata) yang bekerja dalam persaingan untuk kutu berikutnya.  Ini bukan resep untuk mendapatkan uang dengan mudah di HFT. </p><br><p>  HFT takut pada manajer portofolio - mereka memiliki klub informasi besar yang membunuh HFT.  Pesanan besar memindahkan harga, yang mencegah pembuat pasar dari mendapatkan spreadnya.  Manajer aset bahkan berpikir secara berbeda.  Setiap eksekusi pesanan adalah transaksi yang diinginkan, bahkan jika pasar bertindak lebih jauh terhadap Anda dan akun memiliki drawdown, dan kerugian hanyalah sebuah pengeluaran yang selalu ada dalam model Anda.  Dalam HFT, eksekusi adalah risiko, drawdown adalah bencana, dan kerugian hanya mengangkat bahu. </p><br><p>  Manajer portofolio harus menggunakan algoritma dan keajaiban efisiensi pasar untuk meningkatkan kualitas pelaksanaan perintahnya.  Anda tidak ingin mempekerjakan dua puluh orang sekaligus hanya untuk bersaing mendapatkan posisi dalam antrian pada tik berikutnya?  Anda harus lebih takut dengan mesin mempelajari dasar-dasar kuantum yang secara otomatis mengotomatisasi alfa Anda.  Khawatir tentang pedagang HFT kecewa yang memutuskan untuk mengubah model mereka dan berinvestasi dalam jangka panjang untuk bersaing langsung dengan Anda.  Saya melihat bahwa keduanya sudah terjadi. </p><br><p>  Sangat sedikit broker yang menawarkan solusi kompetitif, tetapi pada dasarnya semuanya tampak agak basi.  Manajer portofolio portofolio besar dengan tim besar dapat memperoleh keuntungan tambahan dengan menggunakan algoritme dan platform DMA mereka sendiri sehingga pedagang mereka dapat berdagang lebih agresif dan sering, seperti halnya HFT yang kebingungan melihat cakrawala waktu mereka.  Namun waspadalah - ini adalah lereng yang licin ... </p><br><hr><br><p>  <em>Itu sebelumnya diterbitkan dengan nama samaran Thomas Anderson.</em>  <em>Teks ini tidak termasuk jenis kelamin, narkoba, atau rock and roll dari naskah asli, karena ini tidak akan menambah apa pun pada kisah perdagangan.</em>  <em>Mungkin ini akan membantu membenarkan keputusan saya untuk meninggalkan pekerjaan yang saya sukai.</em>  <em>Bagaimanapun, semua ini lebih baik dibiarkan tanpa bicara, bahkan jika beberapa sikap pribadi hilang.</em> <em><br></em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id414037/">https://habr.com/ru/post/id414037/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id414023/index.html">Tanyakan Ethan: Seberapa cepat kehidupan dapat muncul di alam semesta?</a></li>
<li><a href="../id414025/index.html">Pengusaha melacak komputer, toilet, dan sekarang emosi juga; Apakah bos Anda mengikuti Anda?</a></li>
<li><a href="../id414027/index.html">Bisakah teman saya dianggap teman sejati?</a></li>
<li><a href="../id414029/index.html">Cahaya misterius di sekitar bintang yang baru terbentuk, dan apa pendapat para astronom tentang itu</a></li>
<li><a href="../id414031/index.html">Mengikuti pertemuan "PostgreSQL 11 Fitur Baru"</a></li>
<li><a href="../id414039/index.html">Kisah-kisah tentang awan</a></li>
<li><a href="../id414041/index.html">Di musim dingin dan musim panas dalam satu warna? Cari data musiman</a></li>
<li><a href="../id414049/index.html">Permainan utama E3 2018: Fallout 76, Metro Exodus, Doom Eternal, dan lainnya</a></li>
<li><a href="../id414053/index.html">5 kesalahpahaman tentang GDPR</a></li>
<li><a href="../id414055/index.html">Trans-PRK: salah satu standar koreksi visi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>