<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üß° ‚ô•Ô∏è üë©üèΩ‚Äç‚öñÔ∏è Guia de estilos de shell do Google (em russo) üë©üèæ‚Äçüåæ üï• ‚ôäÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pref√°cio 
 Qual Shell usar 


 Bash √∫nica linguagem de script de shell que pode ser usada para arquivos execut√°veis. 


 Os scripts devem come√ßar com ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Guia de estilos de shell do Google (em russo)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413155/"><h1 id="predislovie">  Pref√°cio </h1><br><h3 id="kakoy-shell-ispolzovat">  Qual Shell usar </h3><br><p> <code>Bash</code> √∫nica linguagem de script de shell que pode ser usada para arquivos execut√°veis. </p><br><p>  Os scripts devem come√ßar com <code>#!/bin/bash</code> com um conjunto m√≠nimo de sinalizadores.  Use <code>set</code> para definir op√ß√µes de shell para que a chamada do script como <code>bash &lt;script_name&gt;</code> n√£o viole sua funcionalidade. </p><br><p>  Limitar todos os scripts de shell ao bash fornece uma linguagem consistente de shell instalada em todas as nossas m√°quinas. </p><br><p>  A √∫nica exce√ß√£o √© se voc√™ estiver limitado pelas condi√ß√µes para as quais est√° programando.  Um exemplo seria os pacotes Solaris SVR4, que requerem o uso do shell Bourne usual para qualquer script. </p><br><h3 id="kogda-ispolzovat-shell">  Quando usar o Shell </h3><br><p>  O shell deve ser usado apenas para pequenos utilit√°rios ou wrappers de script simples. </p><br><p>  Embora o script de shell n√£o seja uma linguagem de desenvolvimento, ele √© usado para escrever v√°rios utilit√°rios em todo o Google.  Este guia de estilo √© mais um reconhecimento de seu uso, em vez de uma proposta para us√°-lo em uso generalizado. </p><a name="habracut"></a><br><p>  Algumas recomenda√ß√µes: </p><br><ul><li>  Se voc√™ costuma chamar outros utilit√°rios e faz relativamente pouca manipula√ß√£o de dados, o shell √© uma op√ß√£o aceit√°vel para a tarefa. </li><li>  Se o desempenho importa, use outra coisa, mas n√£o o shell. </li><li>  Se voc√™ achar que precisa usar matrizes para mais do que atribuir <code>${PIPESTATUS}</code> , use Python. </li><li>  Se voc√™ estiver escrevendo um script com mais de 100 linhas, provavelmente dever√° escrev√™-lo em Python.  Lembre-se de que os scripts est√£o crescendo.  Reescreva seu script em outro idioma anteriormente para evitar reescri√ß√µes demoradas mais tarde. </li></ul><br><h1 id="shell-fayly-i-vyzov-interpretatora">  Arquivos de shell e chamada de int√©rprete </h1><br><h3 id="rasshireniya-faylov">  Extens√µes de arquivo </h3><br><p>  Os arquivos execut√°veis ‚Äã‚Äãn√£o devem ter a extens√£o (fortemente preferida) ou a extens√£o <code>.sh</code> .  As bibliotecas devem ter a extens√£o <code>.sh</code> e n√£o devem ser execut√°veis. </p><br><p>  N√£o √© necess√°rio saber em que idioma o programa foi escrito durante sua execu√ß√£o, e o shell n√£o requer uma extens√£o, portanto, preferimos n√£o us√°-lo para arquivos execut√°veis. </p><br><p>  No entanto, √© importante que as bibliotecas saibam em que idioma est√° escrito e, √†s vezes, √© necess√°rio ter bibliotecas semelhantes em diferentes idiomas.  Isso permite que voc√™ tenha arquivos de biblioteca com nomes id√™nticos com objetivos id√™nticos, mas escritos em idiomas diferentes devem ter o mesmo nome, exceto por um sufixo espec√≠fico do idioma. </p><br><h3 id="suidsgid">  SUID / SGID </h3><br><p>  SUID e SGID s√£o proibidos em scripts de shell. </p><br><p>  Existem muitos problemas de seguran√ßa, tornando quase imposs√≠vel fornecer prote√ß√£o SUID / SGID suficiente.  Embora o bash complique o lan√ßamento do SUID, ele ainda √© poss√≠vel em algumas plataformas, por isso proibimos explicitamente seu uso. </p><br><p>  Use o <code>sudo</code> para acesso aprimorado, se necess√°rio. </p><br><h1 id="okruzhenie">  O meio ambiente </h1><br><h3 id="stdout-vs-stderr">  STDOUT vs STDERR </h3><br><p>  Todas as mensagens de erro devem ser enviadas para <code>STDERR</code> . </p><br><p>  Isso ajuda a separar o estado normal dos problemas reais. </p><br><p>  Recomenda-se que a fun√ß√£o de exibi√ß√£o de mensagens de erro seja usada junto com outras informa√ß√µes de status. </p><br><pre> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">err</span></span></span></span>() { <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"[</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(date +'%Y-%m-%dT%H:%M:%S%z')</span></span></span><span class="hljs-string">]: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$@</span></span></span><span class="hljs-string">"</span></span> &gt;&amp;2 } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ! do_something; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> err <span class="hljs-string"><span class="hljs-string">"Unable to do_something"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${E_DID_NOTHING}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br><h1 id="kommentarii">  Coment√°rios </h1><br><h3 id="zagolovok-fayla">  Cabe√ßalho do arquivo </h3><br><p>  Inicie cada arquivo com uma descri√ß√£o do seu conte√∫do. </p><br><p>  Cada arquivo deve ter um t√≠tulo do coment√°rio, incluindo uma breve descri√ß√£o de seu conte√∫do.  Informa√ß√µes sobre direitos autorais e autor s√£o opcionais. </p><br><p>  Um exemplo: </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # # Perform hot backups of Oracle databases.</span></span></code> </pre> <br><h3 id="kommentarii-k-funkciyam">  Coment√°rios dos Recursos </h3><br><p>  Qualquer fun√ß√£o que n√£o seja √≥bvia e curta deve ser comentada.  Qualquer fun√ß√£o na biblioteca deve ser comentada, independentemente de seu comprimento ou complexidade. </p><br><p>  Voc√™ precisa garantir que algu√©m entenda como usar seu programa ou como usar a fun√ß√£o em sua biblioteca, simplesmente lendo os coment√°rios (e a necessidade de auto-aperfei√ßoamento) sem ler o c√≥digo. </p><br><p>  Todos os coment√°rios dos recursos devem incluir: </p><br><ul><li>  Descri√ß√£o da Fun√ß√£o </li><li>  Vari√°veis ‚Äã‚Äãglobais usadas e modificadas </li><li>  Argumentos recebidos </li><li>  Retorne valores diferentes dos c√≥digos de sa√≠da padr√£o no √∫ltimo comando. </li></ul><br><p>  Um exemplo: </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # # Perform hot backups of Oracle databases. export PATH='/usr/xpg4/bin:/usr/bin:/opt/csw/bin:/opt/goog/bin' ######################################## # Cleanup files from the backup dir # Globals: # BACKUP_DIR # ORACLE_SID # Arguments: # None # Returns: # None ######################################## cleanup() { ... }</span></span></code> </pre> <br><h3 id="kommentarii-po-realizacii">  Coment√°rios de implementa√ß√£o </h3><br><p>  Comente partes complexas, n√£o √≥bvias, interessantes ou importantes do seu c√≥digo. </p><br><p>  Presume-se que seja a pr√°tica usual de comentar c√≥digo no Google.  N√£o comente tudo.  Se houver um algoritmo complicado ou voc√™ estiver fazendo algo incomum, adicione um breve coment√°rio. </p><br><h3 id="todo-kommentarii">  TODO Coment√°rios </h3><br><p>  Use os coment√°rios do TODO para c√≥digos tempor√°rios, de curto prazo ou muito bons, mas n√£o perfeitos. </p><br><p>  Isso √© consistente com a conven√ß√£o no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">manual C ++</a> . </p><br><p>  Os coment√°rios do TODO devem incluir a palavra TODO em mai√∫sculas, seguida do seu nome entre par√™nteses.  Dois pontos √© opcional.  Tamb√©m √© prefer√≠vel indicar o n√∫mero do bug / ticket pr√≥ximo ao elemento TODO. </p><br><p>  Um exemplo: </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># TODO(mrmonkey): Handle the unlikely edge cases (bug ####)</span></span></code> </pre> <br><h1 id="formatirovanie">  Formata√ß√£o </h1><br><p>  Embora voc√™ deva seguir o estilo que j√° √© usado nos arquivos que voc√™ est√° editando, o seguinte √© necess√°rio para qualquer novo c√≥digo. </p><br><h3 id="otstupy">  Indenta√ß√£o </h3><br><p>  Recuar 2 espa√ßos.  Sem guias. </p><br><p>  Use linhas em branco entre os blocos para melhorar a legibilidade.  Recuo s√£o dois espa√ßos.  N√£o importa o que voc√™ fa√ßa, n√£o use guias.  Para arquivos existentes, permane√ßa fiel ao recuo atual. </p><br><h3 id="dlina-strok-i-dlina-znacheniy">  Comprimento da String e Comprimento do Valor </h3><br><p>  O comprimento m√°ximo da linha √© de 80 caracteres. </p><br><p>  Se voc√™ precisar escrever linhas com mais de 80 caracteres, isso deve ser feito usando o <code>here document</code> ou, se poss√≠vel, a <code>newline</code> .  Valores literais que podem ter mais de 80 caracteres e n√£o podem ser separados s√£o razoavelmente permitidos, mas √© altamente recomend√°vel que voc√™ encontre uma maneira de reduzi-los. </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  'here document's cat &lt;&lt;END; I am an exceptionally long string. END #  newlines   long_string="I am an exceptionally long string."</span></span></code> </pre> <br><h3 id="payplayny">  Tubula√ß√µes </h3><br><p>  Os pipelines devem ser divididos cada um em uma linha, se n√£o couberem em uma linha. </p><br><p>  Se um pipeline se encaixa em uma linha, ele deve estar em uma linha. </p><br><p>  Caso contr√°rio, ele deve ser dividido para que cada se√ß√£o esteja em uma nova linha e indentada por 2 espa√ßos para a pr√≥xima se√ß√£o.  Refere-se √† cadeia de comandos combinada usando '|'  bem como conex√µes l√≥gicas usando '||'  e '&amp;&amp;'. </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      command1 | command2 #   command1 \ | command2 \ | command3 \ | command4</span></span></code> </pre> <br><h3 id="cikly">  Ciclos </h3><br><p>  Local <code>; do</code>  <code>; do</code> e <code>; then</code>  <code>; then</code> na mesma linha que <code>while</code> , <code>for</code> ou <code>if</code> . </p><br><p>  Os ciclos no shell s√£o um pouco diferentes, mas seguimos os mesmos princ√≠pios que as chaves ao declarar fun√ß√µes.  Isto √© <code>; then</code>  <code>; then</code> e <code>; do</code>  <code>; do</code> deve estar na mesma linha que <code>if</code> / <code>for</code> / <code>while</code> .  <code>else</code> deve estar em uma linha separada e as instru√ß√µes de fechamento devem estar em sua pr√≥pria linha, alinhadas verticalmente com a instru√ß√£o de abertura. </p><br><p>  Um exemplo: </p><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> dir <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-variable"><span class="hljs-variable">${dirs_to_cleanup}</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ -d <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dir}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ORACLE_SID}</span></span></span><span class="hljs-string">"</span></span> ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> log_date <span class="hljs-string"><span class="hljs-string">"Cleaning up old files in </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dir}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ORACLE_SID}</span></span></span><span class="hljs-string">"</span></span> rm <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dir}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ORACLE_SID}</span></span></span><span class="hljs-string">/"</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-string"><span class="hljs-string">"$?"</span></span> -ne 0 ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> error_message <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> mkdir -p <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dir}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ORACLE_SID}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-string"><span class="hljs-string">"$?"</span></span> -ne 0 ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> error_message <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code> </pre> <br><h3 id="operator-case">  Declara√ß√£o de caso </h3><br><ul><li>  Op√ß√µes separadas em 2 espa√ßos. </li><li>  As op√ß√µes de linha √∫nica requerem um espa√ßo ap√≥s o colchete de fechamento do modelo e antes <code>;;</code>  . </li><li>  Op√ß√µes longas ou com v√°rios comandos devem ser divididas em v√°rias linhas com um modelo, a√ß√µes e <code>;;</code>  em linhas separadas. </li></ul><br><p>  Express√µes correspondentes retrocedem um n√≠vel de <code>case</code> e <code>esac</code> .  As a√ß√µes multilinhas tamb√©m t√™m recuos em um n√≠vel separado.  N√£o h√° necessidade de colocar express√µes entre aspas.  Os padr√µes de express√£o n√£o devem ser precedidos por par√™nteses abertos.  Evite usar o <code>&amp;;</code>  e nota√ß√£o. </p><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${expression}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a) variable=<span class="hljs-string"><span class="hljs-string">"..."</span></span> some_command <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${variable}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${other_expr}</span></span></span><span class="hljs-string">"</span></span> ... ;; absolute) actions=<span class="hljs-string"><span class="hljs-string">"relative"</span></span> another_command <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${actions}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${other_expr}</span></span></span><span class="hljs-string">"</span></span> ... ;; *) error <span class="hljs-string"><span class="hljs-string">"Unexpected expression '</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${expression}</span></span></span><span class="hljs-string">'"</span></span> ;; <span class="hljs-keyword"><span class="hljs-keyword">esac</span></span></code> </pre> <br><p>  Comandos simples podem ser colocados em uma linha com o padr√£o e <code>;;</code>  enquanto a express√£o permanece leg√≠vel.  Isso geralmente √© adequado para lidar com op√ß√µes de letra √∫nica.  Quando as a√ß√µes n√£o couberem em uma linha, deixe o modelo na sua linha; a pr√≥xima a√ß√£o ser√° <code>;;</code>  tamb√©m na pr√≥pria linha.  Quando essa √© a mesma linha das a√ß√µes, use um espa√ßo ap√≥s o colchete de fechamento do modelo e outro antes <code>;;</code>  . </p><br><pre> <code class="bash hljs">verbose=<span class="hljs-string"><span class="hljs-string">'false'</span></span> aflag=<span class="hljs-string"><span class="hljs-string">''</span></span> bflag=<span class="hljs-string"><span class="hljs-string">''</span></span> files=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">getopts</span></span> <span class="hljs-string"><span class="hljs-string">'abf:v'</span></span> flag; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${flag}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a) aflag=<span class="hljs-string"><span class="hljs-string">'true'</span></span> ;; b) bflag=<span class="hljs-string"><span class="hljs-string">'true'</span></span> ;; f) files=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${OPTARG}</span></span></span><span class="hljs-string">"</span></span> ;; v) verbose=<span class="hljs-string"><span class="hljs-string">'true'</span></span> ;; *) error <span class="hljs-string"><span class="hljs-string">"Unexpected option </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${flag}</span></span></span><span class="hljs-string">"</span></span> ;; <span class="hljs-keyword"><span class="hljs-keyword">esac</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code> </pre> <br><h3 id="rasshirenie-peremennyh">  Expans√£o vari√°vel </h3><br><p>  Em ordem de prioridade: observe o que j√° est√° em uso;  coloque vari√°veis ‚Äã‚Äãentre aspas;  prefira <code>"${var}"</code> mais que <code>"$var"</code> , mas com aten√ß√£o ao contexto de uso. </p><br><p>  Essas s√£o recomenda√ß√µes, uma vez que o t√≥pico √© bastante contradit√≥rio para a regulamenta√ß√£o obrigat√≥ria.  Eles s√£o listados em ordem de prioridade. </p><br><ol><li>  Use o mesmo estilo que voc√™ encontra no c√≥digo existente. </li><li>  Coloque vari√°veis ‚Äã‚Äãentre aspas, consulte a se√ß√£o Cota√ß√£o abaixo. </li><li><p>  N√£o coloque caracteres √∫nicos espec√≠ficos para par√¢metros de shell / posicionais entre aspas e chaves, a menos que estritamente necess√°rio e para evitar confus√£o profunda. <br>  Prefira chaves para todas as outras vari√°veis. </p><br><pre> <code class="bash hljs"> <span class="hljs-comment"><span class="hljs-comment">#    #    '' : echo "Positional: $1" "$5" "$3" echo "Specials: !=$!, -=$-, _=$_. ?=$?, #=$# *=$* @=$@ \$=$$ ..." #   : echo "many parameters: ${10}" #    : # Output is "a0b0c0" set -- abc echo "${1}0${2}0${3}0" #     : echo "PATH=${PATH}, PWD=${PWD}, mine=${some_var}" while read f; do echo "file=${f}" done &lt; &lt;(ls -l /tmp) #    #   ,    , #     ,   shell echo a=$avar "b=$bvar" "PID=${$}" "${1}" #  : #    "${1}0${2}0${3}0",   "${10}${20}${30} set -- abc echo "$10$20$30"</span></span></code> </pre> <br><h1 id="kavychki">  Cita√ß√µes </h1><br><ul><li>  Sempre use aspas para valores que cont√™m vari√°veis, substitui√ß√µes de comandos, espa√ßos ou metacaracteres de shell, at√© precisar expor com seguran√ßa valores que n√£o estejam entre aspas. </li><li>  Prefira aspas para valores que s√£o "palavras" (ao contr√°rio de par√¢metros de comando ou nomes de caminho) </li><li>  Nunca cite n√∫meros inteiros. </li><li>  Saiba como as aspas funcionam para padr√µes de correspond√™ncia em <code>[[</code> . </li><li>  Use <code>"$@"</code> se voc√™ n√£o tiver um motivo espec√≠fico para usar <code>$*</code> . </li></ul><br></li></ol><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ''  ,     . # ""  ,   /. #   # "   " flag="$(some_command and its args "$@" 'quoted separately')" # "  " echo "${flag}" # "      " value=32 # "    ",      number="$(generate_number)" # "   ",    readonly USE_INTEGER='true' # "    - shell" echo 'Hello stranger, and well met. Earn lots of $$$' echo "Process $$: Done making \$\$\$." # "    " # ( ,  $1  ) grep -li Hugo /dev/null "$1" #    # "   ,    ": ccs     git send-email --to "${reviewers}" ${ccs:+"--cc" "${ccs}"} #   : $1    #       . grep -cP '([Ss]pecial|\|?characters*)$' ${1:+"$1"} #   , # "$@"   ,  # $*    # # * $*  $@   ,   #      ; # * "$@"     ,   #       ; #     ,      #   # * "$*"    ,    #     () , #        # ( 'man bash'  nit-grits ;-) set -- 1 "2 two" "3 three tres"; echo $# ; set -- "$*"; echo "$#, $@") set -- 1 "2 two" "3 three tres"; echo $# ; set -- "$@"; echo "$#, $@")</span></span></code> </pre> <br><h1 id="osobennosti-i-oshibki">  Recursos e erros </h1><br><h3 id="podstanovka-kommand">  Substitui√ß√£o de comando </h3><br><p>  Use <code>$(command)</code> vez de backticks. </p><br><p>  Os backticks aninhados requerem o escape de aspas internas com <code>\</code> .  O formato <code>$ (command)</code> n√£o muda dependendo do aninhamento e √© mais f√°cil de ler. </p><br><p>  Um exemplo: </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  : var="$(command "$(command1)")" #  : var="`command \`command1\``"</span></span></code> </pre> <br><h3 id="proverki--i-">  Cheques, <code>[</code> e <code>[[</code> </h3><br><p>  <code>[[ ... ]]</code> mais prefer√≠vel que <code>[</code> , <code>test</code> ou <code>/usr/bin/[</code> . </p><br><p>  <code>[[ ... ]]</code> reduz a possibilidade de erro, porque n√£o h√° resolu√ß√£o de caminho ou separa√ß√£o de palavras entre <code>[[</code> e <code>]]</code> , e <code>[[ ... ]]</code> permite que voc√™ use uma express√£o regular onde <code>[ ... ]</code> n√£o <code>[ ... ]</code> . </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  ,       #  `alnum`,     . #  ,       #  .  ,  # E14   https://tiswww.case.edu/php/chet/bash/FAQ if [[ "filename" =~ ^[[:alnum:]]+name ]]; then echo "Match" fi #     "f*" (    ) if [[ "filename" == "f*" ]]; then echo "Match" fi #    "too many arguments",   f*   #     if [ "filename" == f* ]; then echo "Match" fi</span></span></code> </pre> <br><h3 id="proverka-znacheniy">  Verificar valores </h3><br><p>  Use aspas em vez de caracteres extras sempre que poss√≠vel. </p><br><p>  O Bash √© inteligente o suficiente para trabalhar com uma string vazia em um teste.  Portanto, o c√≥digo resultante √© muito mais f√°cil de ler; use verifica√ß√µes de valores vazios / n√£o vazios ou valores vazios, sem usar caracteres adicionais. </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  : if [[ "${my_var}" = "some_string" ]]; then do_something fi # -z (   ),  -n (    ): #      if [[ -z "${my_var}" ]]; then do_something fi #   ( ),   : if [[ "${my_var}" = "" ]]; then do_something fi #   : if [[ "${my_var}X" = "some_stringX" ]]; then do_something fi</span></span></code> </pre> <br><p>  Para evitar confus√£o sobre o que voc√™ est√° verificando, use explicitamente <code>-z</code> ou <code>-n</code> . </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   if [[ -n "${my_var}" ]]; then do_something fi #  ,    ,  ${my_var} #     . if [[ "${my_var}" ]]; then do_something fi</span></span></code> </pre> <br><h3 id="vyrazheniya-podstanovki-dlya-imen-faylov">  Express√µes de substitui√ß√£o para nomes de arquivo </h3><br><p>  Use o caminho expl√≠cito ao criar express√µes curinga para nomes de arquivos. </p><br><p>  Como os nomes dos arquivos podem come√ßar com o caractere <code>-</code> , √© muito mais seguro <code>./*</code> express√£o curinga como <code>./*</code> vez de <code>*</code> . </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   : # -f -r somedir somefile #        force psa@bilby$ rm -v * removed directory: `somedir' removed `somefile' #   : psa@bilby$ rm -v ./* removed `./-f' removed `./-r' rm: cannot remove `./somedir': Is a directory removed `./somefile'</span></span></code> </pre> <br><h3 id="eval">  Eval </h3><br><p>  <code>eval</code> deve ser evitada. </p><br><p>  O Eval permite expandir as vari√°veis ‚Äã‚Äãpassadas na entrada, mas tamb√©m pode definir outras vari√°veis, sem a possibilidade de verific√°-las. </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   ? #   ?   ? eval $(set_my_variables) #  ,         ? variable="$(eval some_function)"</span></span></code> </pre> <br><h3 id="paypy-v-while">  Canos em While </h3><br><p>  Use substitui√ß√£o de comando ou o loop <code>for</code> , em vez de canalizar <code>while</code> .  As vari√°veis ‚Äã‚Äãalteradas no <code>while</code> n√£o se propagam para o pai, porque os comandos do loop s√£o executados em um sub-shell. </p><br><p>  Uma subcasca impl√≠cita no canal <code>while</code> pode dificultar o rastreamento de erros. </p><br><blockquote><pre> <code class="bash hljs">last_line=<span class="hljs-string"><span class="hljs-string">'NULL'</span></span> your_command | <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> line; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> last_line=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${line}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> <span class="hljs-comment"><span class="hljs-comment">#   'NULL' echo "${last_line}"</span></span></code> </pre> </blockquote><p>  Use um loop for se tiver certeza de que a entrada n√£o conter√° espa√ßos ou caracteres especiais (geralmente isso n√£o implica na entrada do usu√°rio). </p><br><pre> <code class="bash hljs">total=0 <span class="hljs-comment"><span class="hljs-comment">#  ,       . for value in $(command); do total+="${value}" done</span></span></code> </pre> <br><p>  O uso da substitui√ß√£o de comando permite redirecionar a sa√≠da, mas executa comandos em um sub-shell expl√≠cito, diferente do sub-shell impl√≠cito, que cria o bash para o <code>while</code> . </p><br><pre> <code class="bash hljs">total=0 last_file= <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> count filename; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> total+=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${count}</span></span></span><span class="hljs-string">"</span></span> last_file=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${filename}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> &lt; &lt;(your_command | uniq -c) <span class="hljs-comment"><span class="hljs-comment">#         # . echo "Total = ${total}" echo "Last one = ${last_file}"</span></span></code> </pre> <br><p>  Use <code>while</code> loops onde n√£o h√° necessidade de passar resultados complexos para o shell pai - isso √© t√≠pico quando √© necess√°ria uma "an√°lise" mais complexa.  Lembre-se de que exemplos simples √†s vezes s√£o muito mais f√°ceis de resolver usando uma ferramenta como o awk.  Tamb√©m pode ser √∫til quando voc√™ n√£o deseja modificar especificamente as vari√°veis ‚Äã‚Äãdo ambiente pai. </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    awk: # awk '$3 == "nfs" { print $2 " maps to " $1 }' /proc/mounts cat /proc/mounts | while read src dest type opts rest; do if [[ ${type} == "nfs" ]]; then echo "NFS ${dest} maps to ${src}" fi done</span></span></code> </pre> <br><h1 id="soglashenie-o-nazvaniyah">  Conven√ß√£o de nomenclatura </h1><br><h3 id="nazvaniya-funkciy">  Nomes de Fun√ß√£o </h3><br><p>  Min√∫sculas com sublinhados para separar as palavras.  Separe as bibliotecas com <code>::</code> .  Os colchetes s√£o necess√°rios ap√≥s o nome da fun√ß√£o.  A palavra-chave function √© opcional, mas se usada, √© consistente em todo o projeto. </p><br><p>  Se voc√™ escrever fun√ß√µes separadas, use min√∫sculas e palavras separadas com sublinhados.  Se voc√™ estiver escrevendo um pacote, separe os nomes dos pacotes com <code>::</code> .  Os colchetes devem estar na mesma linha que o nome da fun√ß√£o (como em outros idiomas do Google) e n√£o devem ter espa√ßo entre o nome da fun√ß√£o e o colchete. </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   my_func() { ... } #   mypackage::my_func() { ... }</span></span></code> </pre> <br><p>  Quando "()" vem ap√≥s o nome da fun√ß√£o, a palavra-chave da fun√ß√£o parece redundante, mas melhora a identifica√ß√£o r√°pida de fun√ß√µes. </p><br><h3 id="nazvanie-peremennyh">  Nome da vari√°vel </h3><br><p>  Em rela√ß√£o aos nomes das fun√ß√µes. </p><br><p>  Os nomes de vari√°veis ‚Äã‚Äãpara loops devem ser igualmente nomeados para qualquer vari√°vel sobre a qual voc√™ itere. </p><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> zone <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-variable"><span class="hljs-variable">${zones}</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> something_with <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${zone}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code> </pre> <br><h3 id="nazvaniya-konstanty-peremennyh-okruzheniya">  Nomes de constante da vari√°vel de ambiente </h3><br><p>  Todas as letras mai√∫sculas, separadas por sublinhados, s√£o declaradas na parte superior do arquivo. </p><br><p>  As constantes e tudo o que √© exportado para o ambiente devem estar em mai√∫sculas. </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  readonly PATH_TO_FILES='/some/path' # ,   declare -xr ORACLE_SID='PROD'</span></span></code> </pre> <br><p>  Algumas coisas permanecem constantes quando s√£o instaladas pela primeira vez (por exemplo, via <code>getopts</code> ).  Portanto, √© bastante normal definir uma constante atrav√©s de <code>getopts</code> ou com base em uma condi√ß√£o, mas isso deve ser feito <code>readonly</code> ap√≥s a <code>readonly</code> .  Observe que <code>declare</code> n√£o funciona com vari√°veis ‚Äã‚Äãglobais dentro de fun√ß√µes, portanto, <code>readonly</code> ou <code>export</code> recomendada. </p><br><pre> <code class="bash hljs">VERBOSE=<span class="hljs-string"><span class="hljs-string">'false'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">getopts</span></span> <span class="hljs-string"><span class="hljs-string">'v'</span></span> flag; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${flag}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> v) VERBOSE=<span class="hljs-string"><span class="hljs-string">'true'</span></span> ;; <span class="hljs-keyword"><span class="hljs-keyword">esac</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> <span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> VERBOSE</code> </pre> <br><h3 id="nazaniya-ishodnyh-faylov">  Nomes dos arquivos de origem </h3><br><p>  Letras min√∫sculas, com sublinhado para separar palavras, se necess√°rio. </p><br><p>  Isso se aplica √† correspond√™ncia com outros estilos de c√≥digo no Google: <code>maketemplate</code> ou <code>make_template</code> , mas n√£o o <code>make-template</code> . </p><br><h3 id="peremennye-tolko-dlya-chteniya">  Vari√°veis ‚Äã‚Äãsomente leitura </h3><br><p>  Use <code>readonly</code> ou <code>declare -r</code> para garantir que sejam somente leitura. </p><br><p>      shell,       .    ,    ,   . </p><br><pre> <code class="bash hljs">zip_version=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(dpkg --status zip | grep Version: | cut -d ' ' -f 2)</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ -z <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${zip_version}</span></span></span><span class="hljs-string">"</span></span> ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> error_message <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> zip_version <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br><h3 id="ispolzovanie-lokalnyh-peremennyh">    </h3><br><p>  ,   ,  <code>local</code> .        . </p><br><p> ,           ,  <code>local</code>   .           ,      . </p><br><p>       ,      ;  <code>local</code>   exit code   . </p><br><pre> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_func2</span></span></span></span>() { <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> name=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-comment"><span class="hljs-comment">#      : local my_var my_var="$(my_func)" || return #   : $?  exit code  'local',   my_func local my_var="$(my_func)" [[ $? -eq 0 ]] || return ... }</span></span></code> </pre> <br><h3 id="raspolozhenie-funkciy">   </h3><br><p>        .      . </p><br><p>     ,        .  ,  set   ,      . </p><br><p>      .             . </p><br><h3 id="main"> main </h3><br><p> ,  <code>main</code> ,     ,       . </p><br><p>       ,      <code>main</code>    .       ,         (  ,      ).          main: </p><br><pre> <code class="bash hljs">main <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$@</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br><p> ,    ,      ,  <code>main</code> ‚Äî ,    . </p><br><h1 id="vyzov-komand">   </h1><br><h3 id="proverka-vozvraschaemyh-znacheniy">    </h3><br><p>         . </p><br><p>       <code>$?</code>      <code>if</code> ,   . </p><br><p> : </p><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ! mv <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${file_list}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dest_dir}</span></span></span><span class="hljs-string">/"</span></span> ; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Unable to move </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${file_list}</span></span></span><span class="hljs-string"> to </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dest_dir}</span></span></span><span class="hljs-string">"</span></span> &gt;&amp;2 <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${E_BAD_MOVE}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-comment"><span class="hljs-comment">#  mv "${file_list}" "${dest_dir}/" if [[ "$?" -ne 0 ]]; then echo "Unable to move ${file_list} to ${dest_dir}" &gt;&amp;2 exit "${E_BAD_MOVE}" fi Bash    `PIPESTATUS`,         .           ,   : ```bash tar -cf - ./* | ( cd "${dir}" &amp;&amp; tar -xf - ) if [[ "${PIPESTATUS[0]}" -ne 0 || "${PIPESTATUS[1]}" -ne 0 ]]; then echo "Unable to tar files to ${dir}" &gt;&amp;2 fi</span></span></code> </pre> <br><p> ,   <code>PIPESTATUS</code>  ,      -  ,            ,   <code>PIPESTATUS</code>       ( ,  <code>[</code>     <code>PIPESTATUS</code> ). </p><br><pre> <code class="bash hljs">tar -cf - ./* | ( <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${DIR}</span></span></span><span class="hljs-string">"</span></span> &amp;&amp; tar -xf - ) return_codes=(<span class="hljs-variable"><span class="hljs-variable">${PIPESTATUS[*]}</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${return_codes[0]}</span></span></span><span class="hljs-string">"</span></span> -ne 0 ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> do_something <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${return_codes[1]}</span></span></span><span class="hljs-string">"</span></span> -ne 0 ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> do_something_else <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br><h3 id="vstroennye-funkcii-ili-vneshnie-kommandy">      </h3><br><p>       shell     ,  . </p><br><p>     ,       bash,       (    ,  <code>sed</code> ). </p><br><p> : </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  : addition=$((${X} + ${Y})) substitution="${string/#foo/bar}" #  : addition="$(expr ${X} + ${Y})" substitution="$(echo "${string}" | sed -e 's/^foo/bar/')"</span></span></code> </pre> <br><h1 id="vyvod">  Conclus√£o </h1><br><p>      . </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reserve alguns minutos para ler a se√ß√£o Palavras de despedida, na parte inferior do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manual do C ++</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt413155/">https://habr.com/ru/post/pt413155/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt413143/index.html">Bobby Urban Lite: A nova mochila urbana da XD Design</a></li>
<li><a href="../pt413145/index.html">Analista ajuda empresas a ganhar dinheiro</a></li>
<li><a href="../pt413147/index.html">√â poss√≠vel usar o Tibero em vez do Oracle. E √© necess√°rio</a></li>
<li><a href="../pt413149/index.html">Data warehouse distribu√≠do no conceito Data Lake: por onde come√ßar</a></li>
<li><a href="../pt413151/index.html">A NSA prop√¥s um padr√£o de criptografia para dispositivos IoT, mas a ISO o rejeitou</a></li>
<li><a href="../pt413157/index.html">Sobre o armazenamento de senhas no banco de dados</a></li>
<li><a href="../pt413159/index.html">UI clara ou escura? Dicas para escolher um esquema de cores para sua interface</a></li>
<li><a href="../pt413161/index.html">Poema Git</a></li>
<li><a href="../pt413163/index.html">Fraquezas de HTTPS. Parte 2</a></li>
<li><a href="../pt413165/index.html">Explica√ß√£o SRTP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>