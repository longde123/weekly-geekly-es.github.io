<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ โพ๏ธ ๐ฅ๏ธ ุจูุซูู TamTam ุจูุช ุงูุชูููุฉ ๐ฆ๏ธ ๐ฉ๐ปโ๐จ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุจุฑ! ุงุณูุญูุง ูู ุฃู ุฃูุฏู ููุณู: ุงุณูู ุณูุฑุฌู ุฃุบุงูุชุณูู ุ ูุฃูุง "ูุจุฑูุฌ ูู ุงูุญูุงุฉ". ูุฐุง ูุนูู ุฃููู ููุช ููุฐ ูุชุฑุฉ ุทูููุฉ ูุฏูุฑ ุชูููููุฌูุง ุงููุนูููุงุช ุ ูููุณ ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุจูุซูู TamTam ุจูุช ุงูุชูููุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/466373/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hv/5y/zn/hv5yzn1xbdnmstacgsl-4bqqcfc.jpeg"></p><br><p style=";text-align:right;direction:rtl">  ูุฑุญุจุง ูุง ูุจุฑ!  ุงุณูุญูุง ูู ุฃู ุฃูุฏู ููุณู: ุงุณูู ุณูุฑุฌู ุฃุบุงูุชุณูู ุ ูุฃูุง "ูุจุฑูุฌ ูู ุงูุญูุงุฉ".  ูุฐุง ูุนูู ุฃููู ููุช ููุฐ ูุชุฑุฉ ุทูููุฉ ูุฏูุฑ ุชูููููุฌูุง ุงููุนูููุงุช ุ ูููุณ ูุจุฑูุฌูุง ุนูู ุงูุฅุทูุงู ุจุงููููุฉ ุ ูููู ุฃุณุชุฎุฏู ุงูุจุฑูุฌุฉ ุทูุงู ุงูููุช ุ ุณูุงุก ูู ูุดุงุทู ุงูุฑุฆูุณู ุฃู ููุงูุชู.  ููุง ูุงู ุฃุญุฏ ุฑุคุณุงุฆู ุงูุณุงุจููู ุบุงูุจูุง - "Seryoga! ููุฏ ุงูุฒููุช ูุฑุฉ ุฃุฎุฑู ุฅูู ุงูุจุฑูุฌุฉ!"  ุตุญูุญ ุ ูุง ุฃุณุชุทูุน ุฃู ุฃููู ุฃูู ุฃู ุฃู ุดุฎุต ุขุฎุฑ ูู ููู ุฑุงุถููุง ุนู ูุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุธููุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Bot</a> ุนูู ุจุฑูุงูุฌ TamTam messenger ุ ููุช ุ ููุจุฑูุฌ ุญูููู ุ ูุจุงูุชุงูู ูุณูู ุ ุจุฅูุดุงุก ููุชุจุชู Python ููุนูู ูุนูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">open Client API</a> (ุงููุดุงุฑ ุฅูููุง ูููุง ููู - OAC) - ุชู ุฅูุดุงุฆูุง ูุจุฏุฆููุง ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">OpenAPI Generator</a> ุงุณุชูุงุฏูุง ุฅูู ูุฎุทุท API ุ ุซู ุชูููููุง ูุน ูุฑุงุนุงุฉ ููุฒุงุช ุงููููุฏ ุ </li><li style=";text-align:right;direction:rtl">  shell ููุฐุง ุงูุนููู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TamTamBot</a> (ุงููุดุงุฑ ุฅููู ูููุง ููู - TTB) ุ ููุง ูุจุณุท ุงูุนูู ูุน OAC. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฐูู ูุงู ููุงู ุจุนุถ TamTam Python SDK. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ูุนูุช ุฐูู ุฃููุงู ููุจู ูู ุดูุก "ูููุณู ุ ูู ุฃุฌู ุงูุฑูุญ" ุ ููููู ุงูุชุฑุญุช ุฃูุถูุง ุฃู ูุณุชุฎุฏูู ูุฌุชูุน TamTam ุ ุฅุฐุง ุฑุบุจุช ูู ุฐูู.  ููู ุ ููุง ุชุนูููู ุ ููุณ ููุงู ุนูู ุตุงูุญ ูุงุญุฏ ููุฑ ุฏูู ุนูุงุจ - ุญูุซ ุทูุจ ูู ุงููุงุณ ูุชุงุจุฉ ููุงู ุชุฏุฑูุจู.  ูููุง ุฃูุง ูุน ูุฐุง ุงูููุงู.  ูู ุฐูู ุ ุณูู ุฃุฎุจุฑู ุนู ููููุฉ ุชุทููุฑ ุฑูุจูุช ุจุณูุท ุจุงุณุชุฎุฏุงู ูุฐู ุงูููุชุจุงุช. </p><a name="habracut"></a><br><h1 id="zadacha" style=";text-align:right;direction:rtl">  ูููุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุชุทููุฑ ุฑูุจูุช ูุตููุฉ ูุชุจุณูุท ุฅุฌุฑุงุกุงุช ูุทูุฑู ุงูุฑูุจูุช.  ูุฌุจ ุฃู ูุนูู ุงูุฑูุจูุช ูู ูุถุน ุงูุงูุชุฑุงุน ุงูุฏุงุฆู ููุฏููุฉ bot-api (ุงูุงูุชุฑุงุน ุงูุทููู).  ูู ูุฐู ุงูููุงูุฉ ุ ุณูุชู ุชุฏุฑูุจ ุงูุฑูุจูุช ุนูู ุฅุธูุงุฑ ุงูุนูุงุตุฑ ุงูุฏุงุฎููุฉ ููุฑุณุงูุฉ ุงููุฑุณูุฉ ุฅููู ุ ููุฐูู ุชููููู ููุทุงุจูุฉ ุงููุธููุฉ ุงููุทูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุนููู ุฃู ุงููุงุฑุฆ ูุงู ุจุชุซุจูุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Python 3</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">git</a> ุ ุงููุชุตู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุจูุฆุฉ</a> ุชุทููุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PyCharm</a> (ูุฏ ุชููู ุจูุฆุฉ ุงูุชุทููุฑ ูุฎุชููุฉ ุ ูููู ุงููุตุฉ ุณุชุนุชูุฏ ุนูู PyCharm).  ููู ุฃุณุงุณูุงุช OOP ุฃูุฑ ูุฑุบูุจ ููู. </p><br><h1 id="poluchenie-tokena-bota" style=";text-align:right;direction:rtl">  ุงูุญุตูู ุนูู ุฑูุฒูุฉ ุงูุฑูุจูุช </h1><br><p style=";text-align:right;direction:rtl">  ูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุญุตูู ุนูู</a> ุงูุฑูุฒ ุงููููุฒ ูู ุฎูุงู ููุงููุฉ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฑูุจูุช</a> ุงููุชุฎุตุต <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PrimeBot</a> </p><br><p style=";text-align:right;direction:rtl">  ูุฌุฏ ูุฐุง ุงูุฑูุจูุช ูู TamTam ุ ุฃุฏุฎู ุงูุฃูุฑ / create ูุงูุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ุฃุฏุฎู ุงูุงุณู ุงููุตูุฑ ุงููุฑูุฏ ููุฑูุจูุช ุจุงูุฃุญุฑู ุงููุงุชูููุฉ - ูุฐุง ูู ุงุณู ุงููุณุชุฎุฏู ููุฑูุจูุช ุงูุฐู ุณูููู ูุชุงุญูุง ุนุจุฑ @ ุฃู ุจูุงุณุทุฉ ุฑุงุจุท ุงููููุฐุฌ <code>https://tt.me/username</code> .  ูุง ุชูุฌุฏ ูููุฏ ุฎุงุตุฉ ุนูู ุงุณู ุงููุณุชุฎุฏู.  ุนูู ูุฌู ุงูุฎุตูุต ุ ูููุฉ ุจูุช ูู ุงุฎุชูุงุฑู. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงุณููุง - ูุฐุง ูู ุงุณู ุงูุนุฑุถ ุงูุฎุงุต ุจุงูุจูุช.  ููุง ููููู ุจุงููุนู ุงุณุชุฎุฏุงู ุงูุฃุจุฌุฏูุฉ ุงูุณูุฑูููุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุฅุฏุฎุงู ูู ุดูุก ุจุดูู ุตุญูุญ ุ ุณุชุชู ุฅุถุงูุฉ ุงูุฑูุจูุช ุงูุฐู ุชู ุฅูุดุงุคู ุฅูู ุฌูุงุช ุงูุงุชุตุงู ููู ุงูููุงุจู ุณูุญุตู ุนูู ุฑูุฒ ูููุฒ - ุณูุณูุฉ ูู ุงูุฃุญุฑู ูู ุงููููุฐุฌ: HDyDvomx6TfsXkgwfFCUY410fv-vbf4XVjr8JVSUu4c. </p><br><h1 id="pervichnaya-nastroyka" style=";text-align:right;direction:rtl">  ุงูุฅุนุฏุงุฏ ุงูุฃููู </h1><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนุฑุถ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุฏููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mkdir ttBotDevHelper</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุฐูุจ ุฅูููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd ttBotDevHelper/</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญู ุชููุฆุฉ ูุณุชูุฏุน ุจูุงุจุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">git init</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุจุชูุฒูู ุงูููุชุจุงุช ุงููุงุฒูุฉ ุ ูุฅุถุงูุชูุง ุจุงุนุชุจุงุฑูุง ูุญุฏุงุช ูุฑุนูุฉ ูู ุจูุงุจุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">git submodule add https://github.com/asvbkr/openapi_client.git openapi_client git submodule add https://github.com/asvbkr/TamTamBot.git TamTamBot</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุชุญ ุงูุฏููู ุงูุฐู ุชู ุฅูุดุงุคู ูู PyCharm (ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงููุณุชูุดู ุถูู ูุงุฆูุฉ ุงูุณูุงู "Open Folder as PyCharm project") ูููุดุฆ ููููุง ุณูุญุชูู ุนููู ุงูุฑูุจูุช ุงูุฎุงุต ุจูุง - File / New / Python.  ูู ูุฑุจุน ุงูุญูุงุฑ ุงูุฐู ูุธูุฑ ุ ุฃุฏุฎู ุงูุงุณู - ttBotDevHelper ุ ุซู ุฃุฌุจ ุจุดูู ุฅูุฌุงุจู ุนูู ุณุคุงู ุงูุฅุถุงูุฉ ุฅูู git. </p><br><p style=";text-align:right;direction:rtl">  ูุญู ุงูุขู ุจุญุงุฌุฉ ุฅูู ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ ููุดุฑูุนูุง. </p><br><p style=";text-align:right;direction:rtl">  ูุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ ุ ุญุฏุฏ ููู / ุฅุนุฏุงุฏุงุช ูุญุฏุฏ ุงูููุชุงุญ ุงููุฑุนู ููุชุฑุฌู ุงููุดุฑูุน ูู ุนูุงูุฉ ุชุจููุจ ุงููุดุฑูุน.  ุจุนุฏ ุฐูู ุ ุนูู ุงููููู ุ ุงููุฑ ููู ุฑูุฒ ุงูุชุฑุณ ูุญุฏุฏ ุฅุถุงูุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/dg/js/qv/dgjsqvo0ygtsp12lehregxcm8po.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุณุชูุฏู PyCharm ุฎูุงุฑ ุงูุฅูุงูุฉ ุงูุฎุงุต ุจูุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lp/gg/og/lpggogip_ekpmuoiegolvfxyk2s.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุทูู ุฃู ูุชูู ูุนู. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅูุดุงุก ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ ุ ุณูุชู ูุชุญ ุงูุดุงุดุฉ ุงูุณุงุจูุฉ ุ ููููุง ุณุชุชุถูู ุจุงููุนู ูุนูููุงุช ุญูู ุงูุจูุฆุฉ ุงูุชู ุชู ุฅูุดุงุคูุง.  ูู ูุฐู ุงูุดุงุดุฉ ุ ุชุญุชุงุฌ ุฅูู ุชุซุจูุช ุงูุญุฒู ุงููุงุฒูุฉ ูู ุฎูุงู ุงูููุฑ ุนูู ุฃููููุฉ "+" ุนูู ุงููููู ูุฅุฏุฎุงู ุฃุณูุงุก ุงูุญุฒูุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุทูุจุงุช </li><li style=";text-align:right;direction:rtl">  ุณุชุฉ </li></ul><br><p style=";text-align:right;direction:rtl">  ุซู ูุถูู ููู .gitignore ุฅูู ุงููุดุฑูุน ุ ุจุงุณุชุซูุงุก ุงููููุงุช ุบูุฑ ุงููุทููุจุฉ ูู git ุ ูุน ุงููุญุชููุงุช ุงูุชุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">venv/ .idea/ # Byte-compiled / optimized / DLL files __pycache__/ *.py[cod] *$py.class *.log *.log.* .env ttb.sqlite3</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุถู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุบูุฑ ุงูุจูุฆุฉ</a> ุงููุณูู <code>TT_BOT_API_TOKEN</code> ุ ุญูุซ ูุดูุฑ ุฅูู ูููุฉ ุงูุฑูุฒ ุงููููุฒ <code>TT_BOT_API_TOKEN</code> ุงูุฐู ุชู ุงุณุชูุงูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://tt.me/primebot</a> ูุฃุนุฏ ุชุดุบูู PyCharm. </p><br><p style=";text-align:right;direction:rtl">  <strong>(!)</strong> ุจุฏูุงู ูู ุฅุถุงูุฉ ูุชุบูุฑ ุจูุฆุฉ ูุจุงุดุฑุฉ ุฅูู ุจูุฆุฉ ูุธุงู ุงูุชุดุบูู ุ ูุณุชุฎุฏู PyCharm ุจุดูู ุฃูุซู ููู .env ุฎุงุต.  ุณูุชู ููุงูุดุชู ุงูุชูููู ุฃุฏูุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฑูู ุ ุงูุขู ููููู ุงููุชุงุจุนุฉ ุฅูู ุงูุฌุฒุก ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู - ูุชุงุจุฉ ุฑูุจูุชู. </p></div></div><br><h1 id="zapusk-prosteyshego-bota" style=";text-align:right;direction:rtl">  ุฅุทูุงู ุจูุช ุจุณูุท </h1><br><p style=";text-align:right;direction:rtl">  ุงูุชุญ ุงูููู ttBotDevHelper.py ูุงูุชุจ ุงูุฃุณุทุฑ ุงูุฃููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: UTF-8 -*- from TamTamBot.TamTamBot import TamTamBot class BotDevHelper(TamTamBot): pass</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ูููู ุจุฅูุดุงุก ูุฆุฉ ุงูุฑูุจูุช ูุฏููุง ุจูุงุกู ุนูู ูุฆุฉ TamTamBot. </p><br><p style=";text-align:right;direction:rtl">  ููุชุฑุญ PyCharm ุฃู ุชุญุชูู ูุฆุฉ BotDevHelper ุนูู ุทุฑู ูุฌุฑุฏุฉ ุชุญุชุงุฌ ุฅูู ุชูููุฐูุง.  ุงุถุบุท ุนูู ุงูููุชุงุญ Alt-Enter ูู ุงุณู ุงููุตู ุงูุฏุฑุงุณู ุ ูุญุฏุฏ "ุชุทุจูู ุงูุฃุณุงููุจ ุงููุฌุฑุฏุฉ" ุ ูุญุฏุฏ ุฌููุน ุงูุทุฑู (2 ูููุง) ุงูุชู ุงูุชุฑุญูุง PyCharm ูุงููุฑ ููู "ููุงูู".  ูุชูุฌุฉ ูุฐูู ุ ุณูุชู ุฅุถุงูุฉ ุทุฑููุชูู ุฎุงุตูุฉ ูุงุฑุบุฉ: ุงูุฑูุฒ ุงููููุฒ ูุงููุตู.  ูููู ุจุชุนุฏูู ุงูููุฏ ุงููุงุชุฌ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: UTF-8 -*- import os from TamTamBot.TamTamBot import TamTamBot from TamTamBot.utils.lng import set_use_django class BotDevHelper(TamTamBot): @property def token(self): return os.environ.get('TT_BOT_API_TOKEN') @property def description(self): return '       .\n\n' \ 'This bot is an helper in the development and management of bots.' if __name__ == '__main__': set_use_django(False) BotDevHelper().polling()</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชููู ุฎุงุตูุฉ <code>token</code> ุจุฅุฑุฌุงุน ุงูุฑูุฒ ุงููููุฒ ูุจุฑูุงูุฌ <code>TT_BOT_API_TOKEN</code> ุงูุฎุงุต ุจูุง ุ ูุงูุฐู ูุชู ุงูุญุตูู ุนูู ุงููููุฉ ูู ูุชุบูุฑ ุงูุจูุฆุฉ <code>TT_BOT_API_TOKEN</code> .  ุชููู ุฎุงุตูุฉ <code>description</code> ุจุฅุฑุฌุงุน ูุตู ููุชุฏ ูุจูุช ุ ูุงูุฐู ุณูุชู ุนุฑุถู ุนูู ุงููุณุชุฎุฏููู. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุญุงุฌุฉ ุฅูู ุฑูุฒ ูู ููุงูุฉ ุงูููู ูุชุดุบูู ุงูุฑูุจูุช ูุฏููุง ูู ูุถุน ุงูุงูุชุฑุงุน ุงูุญุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุงุญุธ ุฃู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ <code>TamTamBot</code> ุชุชุถูู ุงุณุชุฎุฏุงู ุฎุงุฏู ุงูููุจ django ููุนูู ูู ูุถุน ุฑุจุท ุงูููุจ.  ููู ุงููููุฉ ุฃุตุจุญุช ุงูุขู ุฃูุซุฑ ุจุณุงุทุฉ ุ ููุง ูุญุชุงุฌ ุฅูู django ุ ููู ูุง ูุจูุบ ุนูู ูู <code>set_use_django(False)</code> .  ููุง ุ ูุชู ุงุณุชุฏุนุงุก ุทุฑููุฉ <code>polling()</code> ูููุงุฆู ูู ุตููุง ุ ูุงูุฐู ูุถูู ุงูุชุดุบูู ูู ุงููุถุน ุงููุทููุจ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงูุญุฏ ุงูุฃุฏูู ุงูุถุฑูุฑู.  ูุฐุง ุงูุฑูุฒ ูู ุจุงููุนู ุชุนูู ุชูุงูุง.  ุชุดุบููู ูุชุดุบูู.  ููููุงู ุจุฐูู ุ ุงุถุบุท ุนูู ุชุฑููุจุฉ ุงูููุงุชูุญ Ctrl-Shift-F10. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชูู ุจุฅุถุงูุฉ ูุชุบูุฑ ุจูุฆุฉ ุณุงุจููุง ุ ูุจุงุดุฑุฉ ุฅูู ูุธุงู ุงูุชุดุบูู ุ ูุณูุญุฏุซ ุฎุทุฃ ุนูุฏ ุธููุฑ ุฑุณุงูุฉ "No access_token" ุนูุฏ ุจุฏุก ุงูุชุดุบูู.  ูุฅุตูุงุญู ุ ูู ุจุชูููู PyCharm ูุงุณุชุฎุฏุงู ููู .env. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงุธูุงุฑ ููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ููู ูุตู .env.  ูุฌุจ ุฃู ูููู ูุญุชูุงู ูู ุญุงูุชูุง ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">TT_BOT_API_TOKEN=__</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุญุชุงุฌ ุงูุขู ุฅูู ุชูุตููู ุจุชูููู ุงูุฅุทูุงู ูู PyCharm: </p><br><p style=";text-align:right;direction:rtl">  ูุฎุชุงุฑ ุชุดุบูู / ุชุญุฑูุฑ ุงูุชูููู ูุนูู ุนูุงูุฉ ุงูุชุจููุจ EnvFile ูููู ุจุชูุตูู ููู .env ูุฏููุง: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/2s/6s/ci/2s6scissf6roedcy6r26rjoi6ve.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุซู ุงููุฑ ููู ุชุทุจูู. </p></div></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุจุฏุก ุงูุฑูุจูุช ุ ููููู ุงูุฐูุงุจ ุฅูู TamTam ุ ููุชุญ ุญูุงุฑ ูุน ุงูุฑูุจูุช ูุฏููุง ูุงูููุฑ ุนูู ุฒุฑ "ุงุจุฏุฃ".  ุณููุฏู ุงูุฑูุจูุช ูุนูููุงุช ุญูู ุงูููู ุงูุนุธูู ุงููุฎููุฉ.  ูุฐุง ูุนูู ุฃู ุงูุฑูุจูุช ูุนูู.  ุจูููุง ูุนูู ุงูุฑูุจูุช ูู ุงููุถุน ุงูุชุฌุฑูุจู ุ ุชุชููุฑ ููู 4 ุฃูุงูุฑ.  ููุท ุชุญูู ูููุง. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุงูุฑุฃู ุงููุงุถุญ ููุจูุช ุญูู ุฑุจุงุทุฉ ุฌุฃุดุชู ุ ูุฅูู ูููุญ ุจุฎุฌู ุฅูู ุญูููุฉ ุฃูู ุญุชู ุงูุขู ูุง ูุณุชุทูุน ูุนู ุฃู ุดูุก.  ูููุชูุง ูู ุฃู ูุนููู ูู ูุง ูู ุถุฑูุฑู ูุบุฒู ุงูุนุงูู. </p><br><h1 id="priyom-soobscheniya-istochnika-i-otpravka-otvetnogo-soobscheniya-s-vnutrennim-predstavleniem-soobscheniya-istochnika" style=";text-align:right;direction:rtl">  ุชููู ุฑุณุงูุฉ ูุตุฏุฑ ูุฅุฑุณุงู ุฑุณุงูุฉ ุงุณุชุฌุงุจุฉ ูุน ุชูุซูู ุฏุงุฎูู ููุฑุณุงูุฉ ุงููุตุฏุฑ </h1><br><p style=";text-align:right;direction:rtl">  <code>receive_text()</code> ุทุฑููุฉ <code>receive_text()</code> ุ ูุงูุชู ูุชู ููู ุงูุณูุทุฑุฉ ุนูููุง ุนูุฏ ุฅุฑุณุงู ูุต ุฅูู ุงูุฏุฑุฏุดุฉ ูุน ุงูุฑูุจูุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">receive_text</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, update)</span></span></span><span class="hljs-function">:</span></span> res = self.msg.send_message(NewMessageBody(<span class="hljs-string"><span class="hljs-string">f' : </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{update.message}</span></span></span><span class="hljs-string">'</span></span>, link=update.link), user_id=update.user_id) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> bool(res)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญุชูู ูุงุฆู <code>update</code> ุงูุฎุงุต <code>UpdateCmn</code> ุ ูุงูุฐู ูุชู ุชูุฑูุฑู ุฅูู ูุฐู ุงูุทุฑููุฉ ุ ุนูู ุงูุนุฏูุฏ ูู ุงููุนูููุงุช ุงููููุฏุฉ ุ ูุนูู ูุฌู ุงูุฎุตูุต ุ ูู ูุง ูุญุชุงุฌ ุฅููู ุงูุขู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>update.message</code> - ูุงุฆู ูุญุชูู ุนูู ุงูุฑุณุงูุฉ ููุณูุง ุ </li><li style=";text-align:right;direction:rtl">  <code>update.link</code> - ุฑุงุจุท ุงุณุชุฌุงุจุฉ ุฌุงูุฒ ููุฐู ุงูุฑุณุงูุฉ ุ </li><li style=";text-align:right;direction:rtl">  <code>update.user_id</code> - ูุนุฑู ุงููุณุชุฎุฏู ุงูุฐู ุฃุฑุณู ุงูุฑุณุงูุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฅุฑุณุงู ุฑุณุงูุฉ ูู <code>self.msg</code> ุ <code>self.msg</code> ุงููุชุบูุฑ <code>self.msg</code> ุ ุงูุฐู ูุญุชูู ุนูู ูุงุฆู <code>MessagesApi</code> ุงูุฐู ูููุฐ ุงููุธููุฉ ุงูููุถุญุฉ ูู ูุณู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฑุณุงุฆู</a> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตู API</a> .  ูุญุชูู ูุฐุง ุงููุงุฆู ุนูู ุฃุณููุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>send_message()</code></a> ุงูุฐู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>send_message()</code></a> ุ ูุงูุฐู ูููุฑ ุฅุฑุณุงู ุงูุฑุณุงุฆู.  ูุญุฏ ุฃุฏูู ุ ูุฌุจ ุฃู ูุชู ุชูุฑูุฑ ูุฐู ุงูุทุฑููุฉ ูุงุฆู ูู ูุฆุฉ <code>NewMessageBody</code> ูุงููุฌูุฉ - ูุนุฑู ุงููุณุชุฎุฏู ุ ูู ุญุงูุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุฏูุฑู ุ ูุชู ุฅูุดุงุก ูุงุฆู ูู ูุฆุฉ <code>NewMessageBody</code> ูู ูุฐู ุงูุญุงูุฉ ุนู ุทุฑูู ุฅุฑุณุงู ุชูุซูู ูุตู ููุงุฆู ุงูุฑุณุงูุฉ ุงููุตุฏุฑ ูุฑุงุจุท ุงุณุชุฌุงุจุฉ ููุฑุณุงูุฉ ุงููุตุฏุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุจุฅุนุงุฏุฉ ุชุดุบูู ุจุฑูุงูุฌ ุงูุฑูุจูุช ุงูุฎุงุต ุจูุง ูููุญุต ุญูุงุฑูุง ูุน ุจุฑูุงูุฌ ุงูุฑูุจูุช ุงูุฐู ูููู ุงูุจุฑูุงูุฌ ุจุฅูุดุงุก ุฑุฏ ุนูู ุฃู ูู ุฑุณุงุฆููุง ุงูุชู ุชุญุชูู ุนูู ุงูุชูุซูู ุงูุฏุงุฎูู ููุงุฆู ุงูุฑุณุงูุฉ ุงููุตุฏุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุดูุฑุฉ ุงููุตุฏุฑ ููุฐู ุงูุญุงูุฉ <a href="">ููุง</a> . </p><br><h1 id="dobavlenie-novoy-komandy-bota-s-parametrom---pokaz-vnutrennego-predstavleniya-soobscheniya-po-ego-identifikatoru" style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ุฃูุฑ bot ุฌุฏูุฏ ูุน ูุนููุฉ - ููุธูุฑ ุงูุชูุซูู ุงูุฏุงุฎูู ููุฑุณุงูุฉ ุจูุนุฑููุง </h1><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุทููุฑ ุจุฑุงูุฌ ุงูุฑูุจูุช ุ ุบุงูุจูุง ูุง ููุฒู ุงููุธุฑ ุฅูู ุงูุชูุซูู ุงูุฏุงุฎูู ููุฑุณุงูุฉ ุจุงุณุชุฎุฏุงู ูุนุฑูู ูุงุญุฏ ุฃู ุฃูุซุฑ ูู ูุนุฑููุงุช ุงูุฑุณุงุฆู ุงููุนุฑููุฉ (ูุนุฑู ุงูุฑุณุงูุฉ - ููุชุตู).  ุฅุถุงูุฉ ูุฐู ุงููุธููุฉ ุฅูู ุงูุฑูุจูุช ูุฏููุง.  ููููุงู ุจุฐูู ุ ุฃููุงู ุ ูุฃุฎุฐ ุจุทุฑููุฉ ูููุตูุฉ ูุธููุฉ ุฅุฎุฑุงุฌ ุงููุนูููุงุช ุญูู ุงูุชูุซูู ุงูุฏุงุฎูู ููุฑุณุงุฆู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view_messages</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, update, list_mid, link=None)</span></span></span><span class="hljs-function">:</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> msgs = self.msg.get_messages(message_ids=list_mid) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> msgs: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> msg <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> msgs.messages: r = self.msg.send_message(NewMessageBody(<span class="hljs-string"><span class="hljs-string">f' </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{msg.body.mid}</span></span></span><span class="hljs-string">:\n`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{msg}</span></span></span><span class="hljs-string">`'</span></span>[:NewMessageBody.MAX_BODY_LENGTH], link=link), user_id=update.user_id) res = res <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุทุฑููุฉ ุ ููุฑุฑ ูุงุฆูุฉ ููุชุตู. </p><br><p style=";text-align:right;direction:rtl">  ููุญุตูู ุนูู ูุงุฆูุงุช ุงูุฑุณุงุฆู ุ ูุณุชุฎุฏู ุทุฑููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>self.msg.get_messages</code></a> ุ ูุงูุชู ุชูุฑุฌุน ูุงุฆูุฉ ุงููุงุฆูุงุช ูู ุฎุงุตูุฉ ุงูุฑุณุงุฆู. </p><br><p style=";text-align:right;direction:rtl">  ุนูุงูุฉ ุนูู ุฐูู ุ ูุชู ุฅุฑุณุงู ุชูุซูู ูุตู ููู ุฑุณุงูุฉ ูู ุงูุฑุณุงุฆู ุงููุณุชููุฉ ุฅูู ุญูุงุฑูุง ูู ุฑุณุงุฆู ูููุตูุฉ.  ูุชุฌูุจ ุงูุฃุฎุทุงุก ุ ูุชู ุงูุชุทุงุน ูุต ุงูุฑุณุงูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ ุซุงุจุช ุงูุญุฏ ุงูุฃูุตู ูุทูู ุงูุฑุณุงูุฉ - <code>NewMessageBody.MAX_BODY_LENGTH</code> . </p><br><p style=";text-align:right;direction:rtl">  ุซู ุฃุถู ุทุฑููุฉ ุชุนุงูุฌ ุงูุฃูุฑ.  <strong>ุฏุนูุง</strong> ูุณูููุง <strong>vmp</strong> .  ููููู ุชูุฑูุฑ ุงููุงุฆูุฉ ุงููุชูุณุทุฉ ุฅูู ุงูุฃูุฑ ุจูุณุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชู ุชุตููู TTB ุจุญูุซ ูุฌุจ ุฅูุดุงุก ูุนุงูุฌ ุงูุฃูุงูุฑ ูุทุฑููุฉ ุชุญูู ุงูุงุณู <code>cmd_handler_%s</code> ุ ุญูุซูช s ูู ุงุณู ุงูุฃูุฑ.  ุฃู  ุจุงููุณุจุฉ ููุฃูุฑ vmp ุ ุณูุชู ุงุณุชุฏุนุงุก ุงูุทุฑููุฉ <code>cmd_handler_vmp</code> .  ูุชู ุชูุฑูุฑ ูุงุฆู ูู ูุฆุฉ <code>UpdateCmn</code> ุฅูู ูุนุงูุฌ ุงูุฃูุงูุฑ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุจุงููุณุจุฉ ูุฃุญุฏ ุงูุฃูุงูุฑ ุ ูุฏ ูุญุชูู ุนูู ุฎุงุตูุฉ <code>cmd_args</code> ุ ูุงูุชู ุชุญุชูู ุนูู ูุงููุณ ููุฎุทูุท ูุงููููุงุช ุงูุชู ุชู ุฅุฏุฎุงููุง ูููุง ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุณูุจุฏู ุงูุฑูุฒ ูุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cmd_handler_vmp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, update)</span></span></span><span class="hljs-function">:</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> update.this_cmd_response: <span class="hljs-comment"><span class="hljs-comment">#    ,       if update.cmd_args: #        list_id = [] parts = update.cmd_args.get('c_parts') or [] if parts: for line in parts: for part in line: list_id.append(str(part)) if list_id: res = self.view_messages(update, list_id, update.link) return bool(res)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฑูุจูุช.  ุงูุขู ุ ุฅุฐุง <code>/vmp mid1 mid2</code> ุญูุงุฑ bot ูุซู: <code>/vmp mid1 mid2</code> (ููููู <code>/vmp mid1 mid2</code> ) ุ ูู ุงูููุงุจู ุ ูุญุตู ุนูู ุฑุณุงูุชูู ูุน ุชูุซูู ุฏุงุฎูู ููุงุฆูุงุช ุงูุฑุณุงูุฉ ุงููุตุฏุฑ ุ ููู ูู ููุชุตู ุงูุฅุฑุณุงู. </p><br><p style=";text-align:right;direction:rtl">  ุดูุฑุฉ ุงููุตุฏุฑ ููุฐู ุงูุญุงูุฉ <a href="">ููุง</a> . </p><br><h1 id="modifikaciya-komandy-bota-dlya-raboty-s-tekstovym-otvetom" style=";text-align:right;direction:rtl">  ุชุนุฏูู ุฃูุฑ ุจูุช ููุนูู ูุน ุงุณุชุฌุงุจุฉ ูุตูุฉ </h1><br><p style=";text-align:right;direction:rtl">  ููููู ุฃูุถูุง ูุญุงููุฉ ุฅุนุงุฏุฉ ุชูุฌูู ุงูุฑุณุงูุฉ ูู ููุงุฉ / ุฏุฑุฏุดุฉ ุฃุฎุฑู.  ูููู ูู ูุฐู ุงูุญุงูุฉ ุ ุณูุชู ุนุฑุถ ููุท ูุง ูู ููุฌูุฏ ูู ุงูุฑุณุงูุฉ ุงููุตุฏุฑ ูู ุญูุงุฑ ูุน ุงูุฑูุจูุช.  ุนูู ูุฌู ุงูุฎุตูุต ุ ุนูุฏ ุฅุฑุณุงู ุฑุณุงูุฉ ุ ูุง ูุชู ุญูุธ ูุนูููุงุช ุงูุฒุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุงุฐุง ูู ููุง ูุฑูุฏ ุฃู ูุฑู ูุนูููุงุช ุญูู ุงูุฑุณุงูุฉ ุงูุฃุตููุฉุ  ูู ูุฐู ุงูุญุงูุฉ ุ ุชุญุชุงุฌ ุฅูู ุงุชุฎุงุฐ ููุชุตู ูู ุงูุฑุณุงูุฉ ุงููุนุงุฏ ุชูุฌูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุชุทุจูู ูุฐุง ุงููุถุน ุ ูููู ุจุชุนุฏูู ุฃูุฑ <strong>vmp</strong> ุจุญูุซ ุนูุฏูุง ูุชู ุงุณุชุฏุนุงุคู ุจุฏูู ูุนููุงุช ุ ูุฅูู ูุชููุน ุฅุนุงุฏุฉ ุชูุฌูู ุงูุฑุณุงูุฉ ุ ูุจุนุฏ ุฐูู ูุณุชุบุฑู ููุชุตู ุงูุฑุณุงูุฉ ุงููุฑุณูุฉ ููุนุฑุถ ูุนูููุงุช ุนููุง. </p><br><p style=";text-align:right;direction:rtl">  <strong>(!)</strong> ููุชุดุบูู ุงูุตุญูุญ ููุฐู ุงููุธููุฉ ุ ูุฌุจ ููุญ ุงูุฑูุจูุช ุฅุฐููุง ูููุฑุงุกุฉ ูู ูุตุฏุฑ ุงูููุงุฉ / ุงูุฏุฑุฏุดุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุจุชุนุฏูู ุฑูุฒ ุงูุฃูุฑ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cmd_handler_vmp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, update)</span></span></span><span class="hljs-function">:</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> update.this_cmd_response: <span class="hljs-comment"><span class="hljs-comment">#    ,       if update.cmd_args: #        list_id = [] parts = update.cmd_args.get('c_parts') or [] if parts: for line in parts: for part in line: list_id.append(str(part)) if list_id: res = self.view_messages(update, list_id, update.link) else: #      self.msg.send_message(NewMessageBody(f' **  /    :'), user_id=update.user_id) update.required_cmd_response = True #       else: #    message = update.message link = message.link #       link #  -   . if link and link.type == MessageLinkType.FORWARD: res = self.view_messages(update, [link.message.mid], update.link) else: #         ,    . self.msg.send_message(NewMessageBody(f'.  **   /. , .'), user_id=update.user_id) return False return bool(res)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููุฐ ุฐูู ุงูุญูู  ูุน ูุฐุง ุงูููุฌ ุ ุชุฒุฏุงุฏ ุงููุฎุงุทุฑ ุจุณุจุจ ุนุฏู ุฅููุงููุฉ ุงููุตูู ุฅูู ุงูุฑุณุงุฆู ุ ุซู ูู ุทุฑููุฉ <code>view_messages()</code> ูุถูู ุงูุชุญูู ูู ุงูุงูุชุซุงู ูุนุฏุฏ ุงูุฑุณุงุฆู ุงููุทููุจุฉ / ุงููุณุชููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view_messages</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, update, list_mid, link=None)</span></span></span><span class="hljs-function">:</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> msgs = self.msg.get_messages(message_ids=list_mid) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> msgs: <span class="hljs-comment"><span class="hljs-comment">#    mid     if len(msgs.messages) &lt; len(list_mid): self.msg.send_message(NewMessageBody( f'     .    @{self.username}  /  .', link=update.link ), user_id=update.user_id) return False else: for msg in msgs.messages: r = self.msg.send_message(NewMessageBody(f' {msg.body.mid}:\n`{msg}`'[:NewMessageBody.MAX_BODY_LENGTH], link=link), user_id=update.user_id) res = res or r return res</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญู ูุนูุฏ ุชุดุบูู ุงูุฑูุจูุช ุ ููููุญ ุงูุฃูุฑ / vmp ุ ูุจุนุฏ ุนุฑุถ ุงููุทุงูุจุฉ ุจุถุฑูุฑุฉ ุฅุนุงุฏุฉ ุงูุชูุฌูู ุ ูููู ุจุฅุนุงุฏุฉ ุชูุฌูู ุงูุฑุณุงูุฉ ูู ุงูููุงุฉ / ุงูุฏุฑุฏุดุฉ.  ุฅุฐุง ูุงู ูุฏู ุงูุฑูุจูุช ุญููู ูุฑุงุกุฉ ุงูุฑุณุงุฆู ูู ูุฐู ุงูููุงุฉ / ุงูุฏุฑุฏุดุฉ ุ ูุณูุชู ุนุฑุถ ุชูุซูู ูุตู ููุงุฆู ุงูุฑุณุงูุฉ ุงููุนุงุฏ ุชูุฌูููุง.  ุฅุฐุง ูู ููู ููุงู ูุตูู ุ ูุณูููู ุงูุฑูุจูุช ุจุงูุฅุจูุงุบ ุนู ูุดููุฉ ูุญุชููุฉ ูุณููุชุธุฑ ุฅุนุงุฏุฉ ุงูุชูุฌูู ูู ุงููุตุฏุฑ ุงูุตุญูุญ. </p><br><h1 id="nastroyka-svoystv-bota" style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ ุฎุตุงุฆุต ุงูุฑูุจูุช </h1><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูุจูู ูุชุญููู ููุนุงู.  ุฏุนูุง ูุบูู ุงูุฎุงุตูุฉ <code>about</code> ุ ูุงูุชู ุชูุฑุฌุน ุงููุต ุงูุฐู ูุนุฑุถู ุงูุฑูุจูุช ุนูุฏูุง ูุจุฏุฃ ุงูุนูู ุ ููุฐูู ุงูุฃูุฑ / start. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta"> @property def about(self): return '       .'</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>get_commands()</code> ุทุฑููุฉ <code>get_commands()</code> ุ ูุงูุชู ุชุนุฑุถ ูุงุฆูุฉ ุฃูุงูุฑ ุจุฑูุงูุฌ <code>get_commands()</code> ุ ูุงูุชู ุชุธูุฑ ูู ูุฑุจุน ุงูุญูุงุฑ ูุน ุจุฑูุงูุฌ ุงูุฑูุจูุช. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_commands</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># type: () -&gt; [BotCommand] commands = [ BotCommand('start', ' '), BotCommand('menu', ' '), BotCommand('vmp', '  '), ] return commands</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูููู ุชุดุบูู ุฎุงุตูุฉ main_menu_buttons ุ ุงูุชู ุชุนุฑุถ ูุงุฆูุฉ ุงูุฃุฒุฑุงุฑ ูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ุ ูุงูุชู ูุทูู ุนูููุง ุฃูุฑ / menu. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main_menu_buttons</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># type: () -&gt; [] buttons = [ #       -  [CallbackButtonCmd(' ', 'start')], #        - .    -  [CallbackButtonCmd('  ', 'vmp', intent=Intent.POSITIVE)], ] return buttons</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฑูุจูุช ุ ุชุฃูุฏ ูู ุฃู ูู ุดูุก ูู ูุญูู.  ุชูุงูููุง ุ ุชู ุฅูุดุงุก ุฑูุจูุชู ุงูุฃูู ุ ูุนูู ุงูุฑุบู ูู ูุฌูุฏ ุจุนุถ ุงูุฃูุนุงุจ ุ ููุฏ ุชุทูุจ ูุธุงุฆูู ุชูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ุดูุฑุฉ ุงููุตุฏุฑ ููุฐู ุงูุญุงูุฉ <a href="">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  @ ุจูุช ุฏูููุจูุช ุงูุนุงูู ูููู ุฑุคูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุดูุก ุงูุขู.  ุฅุฐุง ูุงู ุงูููุถูุน ููุถุน ุงูุชูุงู ุ ูุนูุฏุฆุฐู ูู ุงูููุงูุงุช ุงูุชุงููุฉ ุ ูููููู ุงููุธุฑ ูู ูุฒูุฏ ูู ุงูุชุทููุฑ ููุจูุช.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ูุฎุตุตุฉ (ุนูู ูุฌู ุงูุฎุตูุต ุ ูุนู / ูุง) ููุนุงูุฌุชูุง ุ ูุฅุฑุณุงู ุฃููุงุน ูุฎุชููุฉ ูู ุงููุญุชูู (ูููุงุช ุ ุตูุฑ ุ ููุง ุฅูู ุฐูู) ุ ูุงูุนูู ูู ูุถุน webhook ุ ุฅูุฎ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูููุงุณุจุฉ ุ ููููู ุทุฑุญ ุงูุฃุณุฆูุฉ ุจุณุฑุนุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏุฑุฏุดุฉ ุฎุงุตุฉ</a> .  ุงูุชุฑุงุญุงุช / ุฃููุงุฑ ูุจุงุดุฑุฉ ููุงู. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar466373/">https://habr.com/ru/post/ar466373/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar466361/index.html">ููู ุชููู ุงูููุฒุงู ุดูุงุฏุฉ GICSP</a></li>
<li><a href="../ar466363/index.html">Slurm DevOps. ุงูููู ุงูุฃูู ุจูุงุจุฉ ุ CI / CD ุ IaC ูุงูุฏููุงุตูุฑ ุงูุฃุฎุถุฑ</a></li>
<li><a href="../ar466365/index.html">ุชุทููุฑ ูุธุงู ุชุดุบูู ูุชูุงุซู ูููููุณ - ุงูุดุฑูุน ูู ุงูุนูู (1)</a></li>
<li><a href="../ar466367/index.html">ูุณุชูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Android ุ ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ูุงูุฃูุงููุฉ</a></li>
<li><a href="../ar466371/index.html">ุฃุนูู 3 ุงุนุชุฑุงุถุงุช ุงููุจูุนุงุช ุงูุชู ูุฏ ุชูุงุฌููุง ุงูุนูู ูุน ุชูููุงุช ุงูุงุชุฌุงู</a></li>
<li><a href="../ar466375/index.html">ูุชุญู DataArt. KUVT2 - ุงูุฏุฑุงุณุฉ ูุงููุนุจ</a></li>
<li><a href="../ar466379/index.html">ูู ุจุชุดุบูู ุจุฑูุงูุฌ "ุณุทุญ ุงูููุชุจ" ุนูู ุงููุชุญูู ุงูุฏููู</a></li>
<li><a href="../ar466381/index.html">ููู ุชุบูุฑุช ูุตุงุจูุญ ุนุตุฑ LED ูู ุนุงู 2019</a></li>
<li><a href="../ar466383/index.html">Cryptocurrency Ocean: ูุฑุงุฌุนุฉ ูุฃูุถู 50 ูุดุฑูุนูุง ูุน CoinMarketCap</a></li>
<li><a href="../ar466385/index.html">ููู ูุณุทุงุก ุงูุฑุณุงุฆู. ุชุนูู ุขููุงุช ุงููุฑุงุณูุฉ ูู ุฎูุงู ActiveMQ ู Kafka. ุงููุตู 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>