<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üÜì üë©üèΩ‚Äçüè´ üñáÔ∏è Entfernen von Telefonleitungen mithilfe von Audiocodes VoIP-Gateways üë©üèø‚Äçüåæ üë©üèª‚Äçüîß üö∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In einem unserer vorherigen Artikel haben wir das Problem der Entfernung von Teilnehmer-Telefonleitungen mithilfe eines Paares von Grandstream-Sprachg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entfernen von Telefonleitungen mithilfe von Audiocodes VoIP-Gateways</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/arttel/blog/404399/">  In einem unserer vorherigen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel haben</a> wir das Problem der Entfernung von Teilnehmer-Telefonleitungen mithilfe eines Paares von Grandstream-Sprachgateways untersucht.  In der Zeit seit seiner Ver√∂ffentlichung stellten viele unserer Kunden fest, dass dieser Artikel f√ºr sie sehr n√ºtzlich war und ihnen half, das Problem einfach und schnell zu l√∂sen.  Gleichzeitig bat uns ein anderer Teil der Kunden, √§hnliche Artikelanweisungen f√ºr andere beliebte Gateway-Modelle zu schreiben.  Um seine Versprechen zu erf√ºllen, werden wir heute √ºberlegen, wie die Entfernung eines Teils der Nummerierungskapazit√§t mithilfe der Ausr√ºstung der ber√ºhmten israelischen Firma AudioCodes organisiert werden kann. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/db4/2dd/d52/db42ddd5240a4f7083711199aa0680bd.jpg"></div><br><a name="habracut"></a><br>  Wir erinnern uns kurz an die Problemstellung - es gibt eine Zentrale mit einer analogen Telefonzentrale und der internen Nummerierung 401, 402 usw.  Es gibt auch ein Remote-B√ºro (in einem anderen Geb√§ude, einer anderen Stadt oder einem anderen Land), in dem es unm√∂glich ist, Telefonleitungen von der Host-Telefonanlage zu verl√§ngern, aber es ist erforderlich, vier Teilnehmer mit den Nummern 601 - 604 daran anzuschlie√üen. <br><br>  In der Zentrale installieren wir ein AudioCodes VoIP-Gateway mit FXO-Ports - zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MP-114 / FXO</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MP-118 / FXO</a> .  In der Gegenstelle verwenden wir ein Gateway mit FXS-Ports - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MP-114 / FXS</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MP-118 / FXS</a> .  An der Telefonzentrale der Zentrale w√§hlen wir vier interne Ports aus, denen wir die Nummern 601 - 604 geben, und verbinden diese Ports mit den vier Ports des FXO-Gateways (der Einfachheit halber verwenden wir im Folgenden das Modell MP-114 / FXO).  Schlie√üen Sie auf der Remote-Office-Seite vorerst nur vier normale Telefone an die FXS-Ports des MP-114 / FXS-Gateways an.  Beide Gateways m√ºssen mit dem lokalen Netzwerk verbunden sein und statische IP-Adressen haben. <br><br><img src="https://habrastorage.org/web/6fd/b96/e8c/6fdb96e8c7994c88a9e41f3f1aa20d3d.jpg"><br><br>  Jetzt m√ºssen wir zwei Probleme l√∂sen: <br><br><ol><li>  Erm√∂glichen Sie Teilnehmern der Zentrale (Nr. 401, Nr. 402 usw.), Teilnehmer der Gegenstelle (Nr. 601 - 604) anzurufen. </li><li>  Erm√∂glichen Sie Remote-Office-Abonnenten, Abonnenten der Unternehmenszentrale anzurufen </li></ol><br><h3>  Aufgabe 1. Anrufe von der Zentrale zur Fernbedienung </h3><br><h4>  Stufe 1. Aktivierung der Leitungen am FXO-Gateway </h4><br>  Neben Konzepten wie einem Port oder einem Kanal arbeiten AudioCodes-Gateways auch mit dem Konzept der Sammelanschlussgruppe, dh der logischen Kombination mehrerer Kan√§le zu einer Gruppe.  Mit Hilfe des Sammelanschlusses k√∂nnen Sie in Zukunft eine recht komplexe Anrufweiterleitungslogik konfigurieren.  F√ºr uns ist diese Funktionalit√§t redundant, da das von uns verwendete Schema Punkt-zu-Punkt ist und alle Anrufe, die von der TK-Anlage an das FXO-Gateway kamen, auf keinen Fall irgendwohin gesendet werden k√∂nnen, au√üer an das FXS-Gateway in der Gegenstelle.  Um die Linien zu aktivieren, m√ºssen wir ihnen jedoch eine eindeutige Nummer geben und sie zu einem Sammelanschluss kombinieren, da sonst dieses Schema nicht funktioniert. <br><br>  Wir gehen zum Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Sammelanschluss - Endpunkt-Telefonnummer</b> und weisen den Zeilen 1 bis 4 die Zeilen 601 bis 604 zu und kombinieren alle Leitungen im Sammelanschluss mit der Nummer 1. <br><br> <a href=""><img src="https://habrastorage.org/web/a9e/78e/4c8/a9e78e4c820544c6ba4adebd47de890a.jpg"></a> <br><br><h4>  Stufe 2. Aktivieren der Routing-Tabelle auf dem FXO-Gateway </h4><br>  Jetzt ben√∂tigen wir das FXO-Gateway, um die Routing-Tabelle zum Weiterleiten von Anrufen zu verwenden, die wir im n√§chsten Schritt ausf√ºllen werden.  Wir gehen zum Abschnitt <b>Konfiguration - VoIP - SIP-Definitionen - Proxy &amp; Registrierung</b> .  Wir setzen die Optionen: <b>Fallback auf Routing-Tabelle</b> <b>aktivieren</b> auf <b>Aktivieren</b> und <b>Routing-Tabelle</b> auf <b>Ja</b> <b>bevorzugen</b> .  Klicken Sie in der unteren linken Ecke auf <b>Senden</b> , um die Einstellungen zu speichern. <br><br> <a href=""><img src="https://habrastorage.org/web/ec7/119/686/ec7119686c9d474592b968db7c5b73d4.jpg"></a> <br><br><h4>  Stufe 3. F√ºllen der Anrufweiterleitungstabelle auf dem FXO-Gateway </h4><br>  In der letzten Phase haben wir unser AudioCodes MP-114 / FXO FXO-Gateway so konfiguriert, dass es die Priorit√§t der Routing-Tabelle verwendet. Jetzt m√ºssen wir diese Tabelle ausf√ºllen.  Gehen Sie dazu zum Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Routing - Tel zu IP Routing</b> .  Wie oben erw√§hnt, sieht diese Routing-Tabelle eher primitiv aus.  Das hei√üt: Alle Anrufe von einem Sammelanschluss (und wir haben nur einen) von einer beliebigen Nummer (Port) zu einer beliebigen Nummer sollten an die IP-Adresse des im Remote-B√ºro installierten FXS-Gateways geleitet werden. <br><br> <a href=""><img src="https://habrastorage.org/web/9f7/fa8/3ea/9f7fa83ea93c4f1ba4181bd1667abe33.jpg"></a> <br><br><h4>  Schritt 4. Ersetzen Sie die Anrufernummer am FXO-Gateway </h4><br>  Im Moment haben wir sichergestellt, dass alle Anrufe, die von der TK-Anlage zum FXO-Gateway kommen, an die IP-Adresse des Remote-FXS-Gateways umgeleitet werden.  Es gibt jedoch ein kleines Problem, bei dem das FXO-Gateway standardm√§√üig die urspr√ºngliche Anrufer-ID, die von der TK-Anlage kam, durch die Nummer der Leitung ersetzt, zu der dieser Anruf kam.  Das hei√üt, alle Anrufe, die in die erste Zeile des Gateways eingingen, werden mit der CallerID 601 an das Remote-FXS-Gateway gesendet, an die zweite - von 602 usw.  Das hei√üt, anstelle der Stadtnummer oder der internen Nummer des Kollegen sieht der Teilnehmer im Remote-B√ºro immer seine eigene Nummer, was nicht gut ist. <br><br>  Um dies zu vermeiden, gehen wir zum Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Analoges Gateway - Anrufer-ID-Berechtigungen</b> .  Und an allen vier Ports <b>aktivieren Sie</b> . <br><br> <a href=""><img src="https://habrastorage.org/web/000/ed1/110/000ed11104fa4e2fb9d5ac80dea3c398.jpg"></a> <br><br><h4>  Stufe 5. Automatisches W√§hlen einer Remote-Nummer auf dem FXO-Gateway </h4><br>  Jetzt ist es an der Zeit, die folgende Frage zu stellen: Wenn alle Telefonanrufe, die das FXO-Gateway wahllos an das Remote-FXS-Gateway sendet, und sogar mit der urspr√ºnglichen CallerID, wie kann unser Remote-FXS-Gateway herausfinden, welches der Telefone damit verbunden ist oder eine andere Herausforderung? <br><br>  Um dieses Problem zu beheben, verwenden wir das Feld <b>Zieltelefonnummer, dh die Zielnummer, die im</b> Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Analoges Gateway - Automatische Wahl</b> konfiguriert ist.  Wenn der Anruf an Port Nr. 1 des Gateways eintrifft, ersetzt er 601 in diesem Feld und leitet den Anruf an das FXS-Gateway weiter.  Bei einem Anruf an Port Nr. 2 wird das Feld Zieltelefonnummer durch 602 usw. ersetzt.  Basierend auf diesem Feld verteilt das FXS-Gateway, wie wir sp√§ter sehen werden, Anrufe zwischen den daran angeschlossenen Ger√§ten. <br><br> <a href=""><img src="https://habrastorage.org/web/36c/959/8ce/36c9598ce5dc4b10b830ecc4f946a65b.jpg"></a> <br><br><h4>  Schritt 6. Aktivieren von Leitungen auf dem FXS-Gateway </h4><br>  Wir haben alle Arbeiten bez√ºglich der Unteraufgabe Nr. 1 am FXO-Gateway abgeschlossen und k√∂nnen sicher zum Remote-Zweig gehen, um das FXS-Gateway zu konfigurieren.  Hier m√ºssen wir auch damit beginnen, die Linien zu aktivieren und sie zu einem Sammelanschluss zu kombinieren.  Gehen Sie zum Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Sammelanschluss - Endpunkt-Telefonnummer</b> und f√ºllen Sie ihn mit einem vollst√§ndig analogen FXO-Gateway: Geben Sie den Zeilen 1-4 eindeutige Nummern 601-604 und kombinieren Sie sie zu einem Sammelanschluss mit Nummer 1. Es sollte jedoch beachtet werden, dass, wenn das Kombinieren aller Zahlen zu einem Sammelanschluss recht formal ist, das Zuweisen von Zahlen zu Linien eine grundlegende Einstellung ist, wie wir sp√§ter sehen werden. <br><br> <a href=""><img src="https://habrastorage.org/web/d2d/954/2fc/d2d9542fc09943a1ae468000277e2bc6.jpg"></a> <br><br><h4>  Schritt 7. Weiterleiten eingehender Anrufe am FXS-Gateway </h4><br>  Dies ist auch eine ziemlich formale Einstellung - im Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Routing - IP zu Sammelanschluss-Routing-Tabelle</b> geben wir an, dass Anrufe von beliebigen Nummern zu beliebigen Nummern von der IP-Adresse unseres FXO-Gateways an Hunt Group mit geleitet werden sollten Nummer 1. Es ist bereits eins bei uns und kombiniert alle vier Ports. <br><br> <a href=""><img src="https://habrastorage.org/web/9d4/31c/5ef/9d431c5ef89f44098b8da106a7c99f7d.jpg"></a> <br><br><h4>  Schritt 8. Konfigurieren des Sammelanschlussverhaltens auf dem FXS-Gateway </h4><br>  Im Gegenteil, diese Einstellung ist die wichtigste: Fr√ºher haben wir das FXO-Gateway so konfiguriert, dass es das Feld Zieltelefonnummer ausf√ºllt, abh√§ngig von der Leitung, zu der der Anruf kam.  Jetzt m√ºssen wir das FXS-Gateway so konfigurieren, dass es auf der Grundlage dieser Informationen Anrufe zwischen seinen Telefonen verteilt.  Wir gehen zum Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Sammelanschluss - Sammelanschlusseinstellungen</b> und legen die Regel f√ºr den Betrieb unseres einzigen Sammelanschlusses fest: Setzen Sie die Option <b>Sammelanschluss-ID in der</b> Option Kanalauswahlmodus auf 1 (dies ist die ID unserer einzigen Gruppe) W√§hlen Sie die Option <b>Nach Zieltelefonnummer, dh</b> w√§hlen Sie die Zeile nach Zielnummer aus, und w√§hlen <b>Sie</b> in der Option <b>Registrierungsmodus den Modus</b> <b>Nicht registrieren aus</b> . <br><br>  Das hei√üt, nachdem das FXS-Gateway beispielsweise einen Anruf mit der Zielnummer 603 erhalten hat, sendet es diesen Anruf an seine Leitung mit der Nummer 603. Daher ist die Zuweisung von Nummern zu den Leitungen in Schritt 6 von grundlegender Bedeutung. Diese Nummern m√ºssen mit den in Schritt 5 angegebenen Nummern √ºbereinstimmen <b>Was die</b> Option <b>Nicht registrieren</b> betrifft - hier ist alles einfach. Wir verwenden unser Gateway nicht in Verbindung mit der IP-PBX, sondern im Punkt-zu-Punkt-Modus mit einem anderen Gateway, sodass alle Arbeiten mit uns im nicht registrierten Modus ausgef√ºhrt werden. <br><br> <a href=""><img src="https://habrastorage.org/web/041/279/90b/04127990b6694bb2ba3e91a325e9bb1a.jpg"></a> <br><br><h4>  Schritt 9. √úberpr√ºfung </h4><br>  Wir nehmen jedes interne Telefon von der Zentrale und w√§hlen 601 darauf - der Anruf sollte an das Telefon gehen, das mit dem ersten Port des FXS-Gateways verbunden ist.  Beim W√§hlen von 602 - beim zweiten und so weiter.  Wenn alles richtig funktioniert, kann die Arbeit an Aufgabe Nr. 1 als erledigt betrachtet werden und zur zweiten Aufgabe √ºbergehen. <br><br><h3>  Aufgabe 2. Anrufe von der Gegenstelle zur Zentrale </h3><br><h4>  Schritt 1. Weiterleiten ausgehender Anrufe am FXS-Gateway </h4><br>  Tats√§chlich haben wir den gr√∂√üten Teil der Arbeit zur L√∂sung des zweiten Problems bereits abgeschlossen - wir haben die Linien auf den Gateways aktiviert, ihnen Nummern zugewiesen und sie im Sammelanschluss kombiniert.  Tats√§chlich m√ºssen wir jetzt die Einstellungen spiegeln, die in den vorherigen Schritten vorgenommen wurden. <br><br>  Gehen Sie zum Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Routing - Tel zu IP Routing</b> auf dem FXS-Gateway und erstellen Sie eine Regel, die besagt, dass Anrufe von einem beliebigen Sammelanschluss, von einer beliebigen zu einer beliebigen Nummer an die FXO-IP-Adresse gesendet werden sollen Gateway.  Wie Sie sehen k√∂nnen, √§hnelt das Ausf√ºllen der Routing-Tabelle auf dem FXS-Gateway vollst√§ndig der Routing-Tabelle auf dem FXO-Gateway.  Im Prinzip ist damit die Konfiguration des MP-114 / FXS-Gateways abgeschlossen, und wir k√∂nnen zum MP-114 / FXO-Gateway in der Unternehmenszentrale zur√ºckkehren. <br><br> <a href=""><img src="https://habrastorage.org/web/4ea/27b/911/4ea27b9119724d62b9ddbdfcf4233cf6.jpg"></a> <br><br><h4>  Schritt 2. Weiterleiten eingehender Anrufe am FXO-Gateway </h4><br>  Denken Sie daran, dass die Hauptentit√§t beim Weiterleiten von Anrufen auf AudioCodes-Gateways der sogenannte Sammelanschluss ist.  Daher m√ºssen wir zun√§chst das FXO-Gateway so konfigurieren, dass alle Anrufe vom FXS-Gateway zu unserem einzigen Sammelanschluss mit der Nummer 1 gehen. Gehen Sie zum Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Routing - IP zu Sammelanschluss-Routing-Tabelle</b> und erstellen Sie eine einzelne Regel.  In den Optionen <b>Dest.</b>  <b>Telefonpr√§fix</b> und <b>Quelltelefonpr√§fix</b> setzen das Zeichen "*", geben in der Option <b>Quell-IP-Adresse</b> die IP-Adresse des FXS-Gateways und in der Option Sammelanschluss- <b>ID</b> - Nummer 1 an. Alles, jetzt alle Anrufe von einer beliebigen zu einer beliebigen Nummer, die vom FXS-Gateway kommen wird von der Sammelgruppe Nr. 1 bearbeitet.  Und wie sie dort verarbeitet werden, werden wir im n√§chsten Schritt konfigurieren. <br><br> <a href=""><img src="https://habrastorage.org/web/000/17f/ced/00017fced7924ff99173ae614470f1f7.jpg"></a> <br><br><h4>  Phase 3. Konfigurieren des Sammelanschlussverhaltens auf dem FXO-Gateway </h4><br>  Daher senden wir wahllos alle Anrufe vom FXS-Gateway an die Sammelanschlussnummer 1 des FXO-Gateways.  Letzterer muss jedoch verstehen, √ºber welche seiner Leitungen er einen Anruf weiter an die TK-Anlage senden soll, da jeder der Teilnehmer im Remote-B√ºro eine bestimmte Leitung am FXO-Gateway und folglich einen Port an der TK-Anlage hat.  Dazu m√ºssen wir zum Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Sammelanschluss - Sammelanschlusseinstellungen gehen</b> und angeben, dass alle Anrufe, die an Sammelanschluss 1 eingehen, √ºber die Leitung gem√§√ü der Quellennummer an die TK-Anlage gesendet werden sollen.  Technisch geschieht dies wie folgt: Setzen Sie in der Option <b>Sammelanschluss-ID</b> den Wert auf 1 (dies ist die ID unseres Sammelanschlusses), w√§hlen Sie in der Option Kanalauswahlmodus die Option <b>Nach Telefonnummer nach Quelle</b> und in der Option <b>Registrierungsmodus die</b> Option <b>Nicht registrieren</b> . <br><br> <a href=""><img src="https://habrastorage.org/web/d12/afc/1eb/d12afc1eb95a4902a157953fd4e83241.jpg"></a> <br><br>  Um diese Logik zu verbessern, betrachten Sie den Teil der SIP-Nachricht der INVITE-Methode, den das FXO-Gateway vom FXS-Gateway empf√§ngt, wenn Sie versuchen, eine Nummer von einem Remote-Teilnehmer zu w√§hlen: <br><br><pre><code class="bash hljs">INVITE sip:401@192.168.4.21;user=phone SIP/2.0 Via: SIP/2.0/UDP 192.168.4.22:5060;branch=z9hG4bKac2108928548 Max-Forwards: 70 From: &lt;sip:601@gateway.com&gt;;tag=1c2108923745 To: &lt;sip:401@192.168.4.21;user=phone&gt;</code> </pre> <br>  Wie Sie sehen k√∂nnen, enth√§lt die SIP-Nachricht zwei <b>Von-</b> und <b>Bis-</b> Felder.  Im Feld <b>Von</b> wird die Nummer 601 angegeben. Von dieser Nummer aus wird ein Anruf von einem Remote-B√ºro aus get√§tigt. Auf der Grundlage dieses Felds leitet das FXO-Gateway diesen Anruf √ºber seine Leitung 601 an die TK-Anlage weiter.  Wenn wir zur allerersten Stufe der ersten Aufgabe zur√ºckkehren, werden wir sehen, dass die Nummer 601 dem ersten Port des FXO-Gateways entspricht.  Das Feld An bestimmt, an welche Nummer der Anruf gesendet wird - in diesem Fall ist es die Nummer 401 - die interne Nummer der Zentrale.  192.168.4.21 ist die IP-Adresse des FXO-Gateways und 192.168.4.22 ist die IP-Adresse des FXS-Gateways. <br><br><h4>  Schritt 4. Einrichten eines Anrufs in einem Schritt </h4><br>  Das Audiocodes MP-114 FXO-Gateway verf√ºgt √ºber zwei Modi zum T√§tigen von Anrufen vom IP-Netzwerk zu den analogen Leitungen: einen Anruf in zwei Aktionen (zwei Stufen) und einen Anruf in einer Aktion (eine Stufe).  Der Unterschied zwischen ihnen ist folgender: Im Zwei-Wege-Anrufmodus wird der zum Gateway kommende Anruf vom Gateway selbst beantwortet und auf den PBX-Port umgeschaltet, und der Anrufer h√∂rt den √ºblichen Piepton, als h√§tte er nur sein Telefon abgenommen. Danach m√ºssen Sie die Telefonnummer w√§hlen, die erforderlich, um anzurufen.  Im One-Call-Modus leitet das Gateway den Anruf gem√§√ü den angegebenen Einstellungen sofort an den analogen Port weiter. <br>  In unserem Beispiel ben√∂tigen wir einen Ein-Schritt-Modus (One Stage), da die Nummer des Anrufers und die Nummer des angerufenen Teilnehmers auf der FXS-Gateway-Seite gebildet werden.  <b>W√§hlen Sie dazu</b> im Abschnitt <b>Konfiguration - VoIP - GW und IP zu IP - Analoges Gateway - FXO-Einstellungen</b> den <b>Einstufenmodus</b> in der Option <b>W√§hlmodus aus</b> . <br><br> <a href=""><img src="https://habrastorage.org/web/82b/d97/d43/82bd97d432ed41b1bf3e32bcc85683f7.jpg"></a> <br><br><h4>  Schritt 5. √úberpr√ºfung und Diagnose </h4><br>  Damit ist die Einrichtung des Entfernens von Telefonleitungen im Grunde abgeschlossen. Es reicht aus, mehrere Standardpr√ºfungen durchzuf√ºhren, indem Sie beide Seiten anrufen und sicherstellen, dass alles ordnungsgem√§√ü funktioniert.  Wenn aus irgendeinem Grund etwas nicht funktioniert hat oder Sie ein anderes Problem l√∂sen, z. B. mehrere Zeilen nicht an einem Ort, sondern an mehreren herausnehmen, sollten Sie die in AudioCodes-Gateways integrierten Debugging-Tools verwenden, um Probleme zu finden und zu l√∂sen. <br><br> <a href=""><img src="https://habrastorage.org/web/325/414/c80/325414c80af540bca3d155aa956b9c6e.jpg"></a> <br><br>  Am einfachsten ist es, das Nachrichtenprotokoll direkt auf der Weboberfl√§che des Ger√§ts im Abschnitt <b>Status &amp; Diagnose - Systemstatus - Nachrichtenprotokoll anzuzeigen</b> .  Beim Schreiben des Artikels habe ich jedoch Nachrichten an den Syslog-Server gesendet, deren Einstellungen im Abschnitt <b>Konfiguration - System - Syslog-Einstellungen vorgenommen werden</b> .  Als Syslog-Server wurde rsyslog verwendet.  Um das Nachrichtenprotokoll in der Konfigurationsdatei des Rsyslog-Daemons zu erhalten, m√ºssen die folgenden Einstellungen vorhanden sein: <br><br><pre> <code class="hljs sql">module(<span class="hljs-keyword"><span class="hljs-keyword">load</span></span>=<span class="hljs-string"><span class="hljs-string">"imudp"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">input</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>=<span class="hljs-string"><span class="hljs-string">"imudp"</span></span> port=<span class="hljs-string"><span class="hljs-string">"514"</span></span>) $<span class="hljs-keyword"><span class="hljs-keyword">template</span></span> FILENAME,<span class="hljs-string"><span class="hljs-string">"/var/log/rsyslogd/%fromhost-ip%.log *.* ?FILENAME</span></span></code> </pre><br><h4>  Fazit </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AudioCodes-</a> Gateways werden von vielen Fachleuten f√ºr ihre Flexibilit√§t, Zuverl√§ssigkeit und Funktionalit√§t gesch√§tzt.  Gleichzeitig kann ihre Konfiguration f√ºr einen unerfahrenen Benutzer aufgrund des Vorhandenseins einer gro√üen Anzahl von Optionen und einer besonderen Logik der Ger√§te erhebliche Schwierigkeiten verursachen.  Wenn Sie sich jedoch ein wenig mit diesen Gateways vertraut machen, stellen Sie nach einiger Zeit fest, dass alles sehr logisch und korrekt implementiert ist.  Ich hoffe, dieser Artikel hilft Anf√§ngern, die erste Phase der Erforschung von AudioCodes so schmerzlos wie m√∂glich zu meistern. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de404399/">https://habr.com/ru/post/de404399/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de404389/index.html">Atmotube Atmosphere Tube - Tragbarer Luftqualit√§tssensor</a></li>
<li><a href="../de404391/index.html">Drucker der Stufe 80. Epson WorkForce Enterprise</a></li>
<li><a href="../de404393/index.html">Bobby Compact - eine neue Generation von Anti-Diebstahl-Rucks√§cken</a></li>
<li><a href="../de404395/index.html">Geschichten rund um den SCUMM-Motor</a></li>
<li><a href="../de404397/index.html">Wie Hitze Zellen t√∂tet</a></li>
<li><a href="../de404401/index.html">Ist Di√§t-Soda sch√§dlicher als gew√∂hnlich?</a></li>
<li><a href="../de404403/index.html">‚ÄûKunst in der Welt der Unterhaltung‚Äú: Was K√ºnstler in der Spielebranche tun</a></li>
<li><a href="../de404405/index.html">WOW kann von Kometen kommen, nicht von au√üerirdischer Intelligenz.</a></li>
<li><a href="../de404407/index.html">Polybius hat bei ICO den Betrag aufgebracht, der f√ºr die Er√∂ffnung einer europ√§ischen Bank erforderlich ist</a></li>
<li><a href="../de404411/index.html">Cloud-Mining-Ergebnisse f√ºr Mai: bis zu 379% pro Jahr</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>